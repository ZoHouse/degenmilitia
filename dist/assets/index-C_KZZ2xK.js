function gee(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const c in i)if(c!=="default"&&!(c in t)){const m=Object.getOwnPropertyDescriptor(i,c);m&&Object.defineProperty(t,c,m.get?m:{enumerable:!0,get:()=>i[c]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const m of c)if(m.type==="childList")for(const s of m.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(c){const m={};return c.integrity&&(m.integrity=c.integrity),c.referrerPolicy&&(m.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?m.credentials="include":c.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function i(c){if(c.ep)return;c.ep=!0;const m=n(c);fetch(c.href,m)}})();var tl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function La(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Rx(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function i(){var c=!1;try{c=this instanceof i}catch{}return c?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var c=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,c.get?c:{enumerable:!0,get:function(){return t[i]}})}),n}var a4={exports:{}},lv={},o4={exports:{}},Ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RR;function mee(){if(RR)return Ht;RR=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),s=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),r=Symbol.for("react.suspense"),a=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),h=Symbol.iterator;function u(G){return G===null||typeof G!="object"?null:(G=h&&G[h]||G["@@iterator"],typeof G=="function"?G:null)}var l={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},o=Object.assign,d={};function p(G,K,z){this.props=G,this.context=K,this.refs=d,this.updater=z||l}p.prototype.isReactComponent={},p.prototype.setState=function(G,K){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,K,"setState")},p.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function f(){}f.prototype=p.prototype;function y(G,K,z){this.props=G,this.context=K,this.refs=d,this.updater=z||l}var w=y.prototype=new f;w.constructor=y,o(w,p.prototype),w.isPureReactComponent=!0;var x=Array.isArray,b=Object.prototype.hasOwnProperty,E={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function T(G,K,z){var X,U={},Z=null,V=null;if(K!=null)for(X in K.ref!==void 0&&(V=K.ref),K.key!==void 0&&(Z=""+K.key),K)b.call(K,X)&&!C.hasOwnProperty(X)&&(U[X]=K[X]);var J=arguments.length-2;if(J===1)U.children=z;else if(1<J){for(var Q=Array(J),ee=0;ee<J;ee++)Q[ee]=arguments[ee+2];U.children=Q}if(G&&G.defaultProps)for(X in J=G.defaultProps,J)U[X]===void 0&&(U[X]=J[X]);return{$$typeof:t,type:G,key:Z,ref:V,props:U,_owner:E.current}}function S(G,K){return{$$typeof:t,type:G.type,key:K,ref:G.ref,props:G.props,_owner:G._owner}}function A(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function P(G){var K={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(z){return K[z]})}var R=/\/+/g;function L(G,K){return typeof G=="object"&&G!==null&&G.key!=null?P(""+G.key):K.toString(36)}function D(G,K,z,X,U){var Z=typeof G;(Z==="undefined"||Z==="boolean")&&(G=null);var V=!1;if(G===null)V=!0;else switch(Z){case"string":case"number":V=!0;break;case"object":switch(G.$$typeof){case t:case e:V=!0}}if(V)return V=G,U=U(V),G=X===""?"."+L(V,0):X,x(U)?(z="",G!=null&&(z=G.replace(R,"$&/")+"/"),D(U,K,z,"",function(ee){return ee})):U!=null&&(A(U)&&(U=S(U,z+(!U.key||V&&V.key===U.key?"":(""+U.key).replace(R,"$&/")+"/")+G)),K.push(U)),1;if(V=0,X=X===""?".":X+":",x(G))for(var J=0;J<G.length;J++){Z=G[J];var Q=X+L(Z,J);V+=D(Z,K,z,Q,U)}else if(Q=u(G),typeof Q=="function")for(G=Q.call(G),J=0;!(Z=G.next()).done;)Z=Z.value,Q=X+L(Z,J++),V+=D(Z,K,z,Q,U);else if(Z==="object")throw K=String(G),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return V}function $(G,K,z){if(G==null)return G;var X=[],U=0;return D(G,X,"","",function(Z){return K.call(z,Z,U++)}),X}function F(G){if(G._status===-1){var K=G._result;K=K(),K.then(function(z){(G._status===0||G._status===-1)&&(G._status=1,G._result=z)},function(z){(G._status===0||G._status===-1)&&(G._status=2,G._result=z)}),G._status===-1&&(G._status=0,G._result=K)}if(G._status===1)return G._result.default;throw G._result}var N={current:null},k={transition:null},j={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:k,ReactCurrentOwner:E};function W(){throw Error("act(...) is not supported in production builds of React.")}return Ht.Children={map:$,forEach:function(G,K,z){$(G,function(){K.apply(this,arguments)},z)},count:function(G){var K=0;return $(G,function(){K++}),K},toArray:function(G){return $(G,function(K){return K})||[]},only:function(G){if(!A(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},Ht.Component=p,Ht.Fragment=n,Ht.Profiler=c,Ht.PureComponent=y,Ht.StrictMode=i,Ht.Suspense=r,Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,Ht.act=W,Ht.cloneElement=function(G,K,z){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var X=o({},G.props),U=G.key,Z=G.ref,V=G._owner;if(K!=null){if(K.ref!==void 0&&(Z=K.ref,V=E.current),K.key!==void 0&&(U=""+K.key),G.type&&G.type.defaultProps)var J=G.type.defaultProps;for(Q in K)b.call(K,Q)&&!C.hasOwnProperty(Q)&&(X[Q]=K[Q]===void 0&&J!==void 0?J[Q]:K[Q])}var Q=arguments.length-2;if(Q===1)X.children=z;else if(1<Q){J=Array(Q);for(var ee=0;ee<Q;ee++)J[ee]=arguments[ee+2];X.children=J}return{$$typeof:t,type:G.type,key:U,ref:Z,props:X,_owner:V}},Ht.createContext=function(G){return G={$$typeof:s,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:m,_context:G},G.Consumer=G},Ht.createElement=T,Ht.createFactory=function(G){var K=T.bind(null,G);return K.type=G,K},Ht.createRef=function(){return{current:null}},Ht.forwardRef=function(G){return{$$typeof:g,render:G}},Ht.isValidElement=A,Ht.lazy=function(G){return{$$typeof:v,_payload:{_status:-1,_result:G},_init:F}},Ht.memo=function(G,K){return{$$typeof:a,type:G,compare:K===void 0?null:K}},Ht.startTransition=function(G){var K=k.transition;k.transition={};try{G()}finally{k.transition=K}},Ht.unstable_act=W,Ht.useCallback=function(G,K){return N.current.useCallback(G,K)},Ht.useContext=function(G){return N.current.useContext(G)},Ht.useDebugValue=function(){},Ht.useDeferredValue=function(G){return N.current.useDeferredValue(G)},Ht.useEffect=function(G,K){return N.current.useEffect(G,K)},Ht.useId=function(){return N.current.useId()},Ht.useImperativeHandle=function(G,K,z){return N.current.useImperativeHandle(G,K,z)},Ht.useInsertionEffect=function(G,K){return N.current.useInsertionEffect(G,K)},Ht.useLayoutEffect=function(G,K){return N.current.useLayoutEffect(G,K)},Ht.useMemo=function(G,K){return N.current.useMemo(G,K)},Ht.useReducer=function(G,K,z){return N.current.useReducer(G,K,z)},Ht.useRef=function(G){return N.current.useRef(G)},Ht.useState=function(G){return N.current.useState(G)},Ht.useSyncExternalStore=function(G,K,z){return N.current.useSyncExternalStore(G,K,z)},Ht.useTransition=function(){return N.current.useTransition()},Ht.version="18.3.1",Ht}var OR;function Um(){return OR||(OR=1,o4.exports=mee()),o4.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MR;function yee(){if(MR)return lv;MR=1;var t=Um(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,c=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m={key:!0,ref:!0,__self:!0,__source:!0};function s(g,r,a){var v,h={},u=null,l=null;a!==void 0&&(u=""+a),r.key!==void 0&&(u=""+r.key),r.ref!==void 0&&(l=r.ref);for(v in r)i.call(r,v)&&!m.hasOwnProperty(v)&&(h[v]=r[v]);if(g&&g.defaultProps)for(v in r=g.defaultProps,r)h[v]===void 0&&(h[v]=r[v]);return{$$typeof:e,type:g,key:u,ref:l,props:h,_owner:c.current}}return lv.Fragment=n,lv.jsx=s,lv.jsxs=s,lv}var $R;function wee(){return $R||($R=1,a4.exports=yee()),a4.exports}var M=wee(),H=Um();const Ze=La(H),R8=gee({__proto__:null,default:Ze},[H]);var Dy={},l4={exports:{}},ns={},u4={exports:{}},c4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FR;function xee(){return FR||(FR=1,(function(t){function e(k,j){var W=k.length;k.push(j);e:for(;0<W;){var G=W-1>>>1,K=k[G];if(0<c(K,j))k[G]=j,k[W]=K,W=G;else break e}}function n(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var j=k[0],W=k.pop();if(W!==j){k[0]=W;e:for(var G=0,K=k.length,z=K>>>1;G<z;){var X=2*(G+1)-1,U=k[X],Z=X+1,V=k[Z];if(0>c(U,W))Z<K&&0>c(V,U)?(k[G]=V,k[Z]=W,G=Z):(k[G]=U,k[X]=W,G=X);else if(Z<K&&0>c(V,W))k[G]=V,k[Z]=W,G=Z;else break e}}return j}function c(k,j){var W=k.sortIndex-j.sortIndex;return W!==0?W:k.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var m=performance;t.unstable_now=function(){return m.now()}}else{var s=Date,g=s.now();t.unstable_now=function(){return s.now()-g}}var r=[],a=[],v=1,h=null,u=3,l=!1,o=!1,d=!1,p=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(k){for(var j=n(a);j!==null;){if(j.callback===null)i(a);else if(j.startTime<=k)i(a),j.sortIndex=j.expirationTime,e(r,j);else break;j=n(a)}}function x(k){if(d=!1,w(k),!o)if(n(r)!==null)o=!0,F(b);else{var j=n(a);j!==null&&N(x,j.startTime-k)}}function b(k,j){o=!1,d&&(d=!1,f(T),T=-1),l=!0;var W=u;try{for(w(j),h=n(r);h!==null&&(!(h.expirationTime>j)||k&&!P());){var G=h.callback;if(typeof G=="function"){h.callback=null,u=h.priorityLevel;var K=G(h.expirationTime<=j);j=t.unstable_now(),typeof K=="function"?h.callback=K:h===n(r)&&i(r),w(j)}else i(r);h=n(r)}if(h!==null)var z=!0;else{var X=n(a);X!==null&&N(x,X.startTime-j),z=!1}return z}finally{h=null,u=W,l=!1}}var E=!1,C=null,T=-1,S=5,A=-1;function P(){return!(t.unstable_now()-A<S)}function R(){if(C!==null){var k=t.unstable_now();A=k;var j=!0;try{j=C(!0,k)}finally{j?L():(E=!1,C=null)}}else E=!1}var L;if(typeof y=="function")L=function(){y(R)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,$=D.port2;D.port1.onmessage=R,L=function(){$.postMessage(null)}}else L=function(){p(R,0)};function F(k){C=k,E||(E=!0,L())}function N(k,j){T=p(function(){k(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){o||l||(o=!0,F(b))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return u},t.unstable_getFirstCallbackNode=function(){return n(r)},t.unstable_next=function(k){switch(u){case 1:case 2:case 3:var j=3;break;default:j=u}var W=u;u=j;try{return k()}finally{u=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,j){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var W=u;u=k;try{return j()}finally{u=W}},t.unstable_scheduleCallback=function(k,j,W){var G=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?G+W:G):W=G,k){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=W+K,k={id:v++,callback:j,priorityLevel:k,startTime:W,expirationTime:K,sortIndex:-1},W>G?(k.sortIndex=W,e(a,k),n(r)===null&&k===n(a)&&(d?(f(T),T=-1):d=!0,N(x,W-G))):(k.sortIndex=K,e(r,k),o||l||(o=!0,F(b))),k},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(k){var j=u;return function(){var W=u;u=j;try{return k.apply(this,arguments)}finally{u=W}}}})(c4)),c4}var LR;function bee(){return LR||(LR=1,u4.exports=xee()),u4.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DR;function Eee(){if(DR)return ns;DR=1;var t=Um(),e=bee();function n(I){for(var O="https://reactjs.org/docs/error-decoder.html?invariant="+I,B=1;B<arguments.length;B++)O+="&args[]="+encodeURIComponent(arguments[B]);return"Minified React error #"+I+"; visit "+O+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,c={};function m(I,O){s(I,O),s(I+"Capture",O)}function s(I,O){for(c[I]=O,I=0;I<O.length;I++)i.add(O[I])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),r=Object.prototype.hasOwnProperty,a=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},h={};function u(I){return r.call(h,I)?!0:r.call(v,I)?!1:a.test(I)?h[I]=!0:(v[I]=!0,!1)}function l(I,O,B,Y){if(B!==null&&B.type===0)return!1;switch(typeof O){case"function":case"symbol":return!0;case"boolean":return Y?!1:B!==null?!B.acceptsBooleans:(I=I.toLowerCase().slice(0,5),I!=="data-"&&I!=="aria-");default:return!1}}function o(I,O,B,Y){if(O===null||typeof O>"u"||l(I,O,B,Y))return!0;if(Y)return!1;if(B!==null)switch(B.type){case 3:return!O;case 4:return O===!1;case 5:return isNaN(O);case 6:return isNaN(O)||1>O}return!1}function d(I,O,B,Y,_,q,re){this.acceptsBooleans=O===2||O===3||O===4,this.attributeName=Y,this.attributeNamespace=_,this.mustUseProperty=B,this.propertyName=I,this.type=O,this.sanitizeURL=q,this.removeEmptyString=re}var p={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(I){p[I]=new d(I,0,!1,I,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(I){var O=I[0];p[O]=new d(O,1,!1,I[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(I){p[I]=new d(I,2,!1,I.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(I){p[I]=new d(I,2,!1,I,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(I){p[I]=new d(I,3,!1,I.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(I){p[I]=new d(I,3,!0,I,null,!1,!1)}),["capture","download"].forEach(function(I){p[I]=new d(I,4,!1,I,null,!1,!1)}),["cols","rows","size","span"].forEach(function(I){p[I]=new d(I,6,!1,I,null,!1,!1)}),["rowSpan","start"].forEach(function(I){p[I]=new d(I,5,!1,I.toLowerCase(),null,!1,!1)});var f=/[\-:]([a-z])/g;function y(I){return I[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(I){var O=I.replace(f,y);p[O]=new d(O,1,!1,I,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(I){var O=I.replace(f,y);p[O]=new d(O,1,!1,I,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(I){var O=I.replace(f,y);p[O]=new d(O,1,!1,I,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(I){p[I]=new d(I,1,!1,I.toLowerCase(),null,!1,!1)}),p.xlinkHref=new d("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(I){p[I]=new d(I,1,!1,I.toLowerCase(),null,!0,!0)});function w(I,O,B,Y){var _=p.hasOwnProperty(O)?p[O]:null;(_!==null?_.type!==0:Y||!(2<O.length)||O[0]!=="o"&&O[0]!=="O"||O[1]!=="n"&&O[1]!=="N")&&(o(O,B,_,Y)&&(B=null),Y||_===null?u(O)&&(B===null?I.removeAttribute(O):I.setAttribute(O,""+B)):_.mustUseProperty?I[_.propertyName]=B===null?_.type===3?!1:"":B:(O=_.attributeName,Y=_.attributeNamespace,B===null?I.removeAttribute(O):(_=_.type,B=_===3||_===4&&B===!0?"":""+B,Y?I.setAttributeNS(Y,O,B):I.setAttribute(O,B))))}var x=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),E=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),P=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),N=Symbol.for("react.offscreen"),k=Symbol.iterator;function j(I){return I===null||typeof I!="object"?null:(I=k&&I[k]||I["@@iterator"],typeof I=="function"?I:null)}var W=Object.assign,G;function K(I){if(G===void 0)try{throw Error()}catch(B){var O=B.stack.trim().match(/\n( *(at )?)/);G=O&&O[1]||""}return`
`+G+I}var z=!1;function X(I,O){if(!I||z)return"";z=!0;var B=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(O)if(O=function(){throw Error()},Object.defineProperty(O.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(O,[])}catch($e){var Y=$e}Reflect.construct(I,[],O)}else{try{O.call()}catch($e){Y=$e}I.call(O.prototype)}else{try{throw Error()}catch($e){Y=$e}I()}}catch($e){if($e&&Y&&typeof $e.stack=="string"){for(var _=$e.stack.split(`
`),q=Y.stack.split(`
`),re=_.length-1,he=q.length-1;1<=re&&0<=he&&_[re]!==q[he];)he--;for(;1<=re&&0<=he;re--,he--)if(_[re]!==q[he]){if(re!==1||he!==1)do if(re--,he--,0>he||_[re]!==q[he]){var me=`
`+_[re].replace(" at new "," at ");return I.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",I.displayName)),me}while(1<=re&&0<=he);break}}}finally{z=!1,Error.prepareStackTrace=B}return(I=I?I.displayName||I.name:"")?K(I):""}function U(I){switch(I.tag){case 5:return K(I.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return I=X(I.type,!1),I;case 11:return I=X(I.type.render,!1),I;case 1:return I=X(I.type,!0),I;default:return""}}function Z(I){if(I==null)return null;if(typeof I=="function")return I.displayName||I.name||null;if(typeof I=="string")return I;switch(I){case C:return"Fragment";case E:return"Portal";case S:return"Profiler";case T:return"StrictMode";case L:return"Suspense";case D:return"SuspenseList"}if(typeof I=="object")switch(I.$$typeof){case P:return(I.displayName||"Context")+".Consumer";case A:return(I._context.displayName||"Context")+".Provider";case R:var O=I.render;return I=I.displayName,I||(I=O.displayName||O.name||"",I=I!==""?"ForwardRef("+I+")":"ForwardRef"),I;case $:return O=I.displayName||null,O!==null?O:Z(I.type)||"Memo";case F:O=I._payload,I=I._init;try{return Z(I(O))}catch{}}return null}function V(I){var O=I.type;switch(I.tag){case 24:return"Cache";case 9:return(O.displayName||"Context")+".Consumer";case 10:return(O._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return I=O.render,I=I.displayName||I.name||"",O.displayName||(I!==""?"ForwardRef("+I+")":"ForwardRef");case 7:return"Fragment";case 5:return O;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z(O);case 8:return O===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof O=="function")return O.displayName||O.name||null;if(typeof O=="string")return O}return null}function J(I){switch(typeof I){case"boolean":case"number":case"string":case"undefined":return I;case"object":return I;default:return""}}function Q(I){var O=I.type;return(I=I.nodeName)&&I.toLowerCase()==="input"&&(O==="checkbox"||O==="radio")}function ee(I){var O=Q(I)?"checked":"value",B=Object.getOwnPropertyDescriptor(I.constructor.prototype,O),Y=""+I[O];if(!I.hasOwnProperty(O)&&typeof B<"u"&&typeof B.get=="function"&&typeof B.set=="function"){var _=B.get,q=B.set;return Object.defineProperty(I,O,{configurable:!0,get:function(){return _.call(this)},set:function(re){Y=""+re,q.call(this,re)}}),Object.defineProperty(I,O,{enumerable:B.enumerable}),{getValue:function(){return Y},setValue:function(re){Y=""+re},stopTracking:function(){I._valueTracker=null,delete I[O]}}}}function te(I){I._valueTracker||(I._valueTracker=ee(I))}function ie(I){if(!I)return!1;var O=I._valueTracker;if(!O)return!0;var B=O.getValue(),Y="";return I&&(Y=Q(I)?I.checked?"true":"false":I.value),I=Y,I!==B?(O.setValue(I),!0):!1}function le(I){if(I=I||(typeof document<"u"?document:void 0),typeof I>"u")return null;try{return I.activeElement||I.body}catch{return I.body}}function de(I,O){var B=O.checked;return W({},O,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:B??I._wrapperState.initialChecked})}function fe(I,O){var B=O.defaultValue==null?"":O.defaultValue,Y=O.checked!=null?O.checked:O.defaultChecked;B=J(O.value!=null?O.value:B),I._wrapperState={initialChecked:Y,initialValue:B,controlled:O.type==="checkbox"||O.type==="radio"?O.checked!=null:O.value!=null}}function oe(I,O){O=O.checked,O!=null&&w(I,"checked",O,!1)}function Ee(I,O){oe(I,O);var B=J(O.value),Y=O.type;if(B!=null)Y==="number"?(B===0&&I.value===""||I.value!=B)&&(I.value=""+B):I.value!==""+B&&(I.value=""+B);else if(Y==="submit"||Y==="reset"){I.removeAttribute("value");return}O.hasOwnProperty("value")?Ce(I,O.type,B):O.hasOwnProperty("defaultValue")&&Ce(I,O.type,J(O.defaultValue)),O.checked==null&&O.defaultChecked!=null&&(I.defaultChecked=!!O.defaultChecked)}function ye(I,O,B){if(O.hasOwnProperty("value")||O.hasOwnProperty("defaultValue")){var Y=O.type;if(!(Y!=="submit"&&Y!=="reset"||O.value!==void 0&&O.value!==null))return;O=""+I._wrapperState.initialValue,B||O===I.value||(I.value=O),I.defaultValue=O}B=I.name,B!==""&&(I.name=""),I.defaultChecked=!!I._wrapperState.initialChecked,B!==""&&(I.name=B)}function Ce(I,O,B){(O!=="number"||le(I.ownerDocument)!==I)&&(B==null?I.defaultValue=""+I._wrapperState.initialValue:I.defaultValue!==""+B&&(I.defaultValue=""+B))}var Ie=Array.isArray;function je(I,O,B,Y){if(I=I.options,O){O={};for(var _=0;_<B.length;_++)O["$"+B[_]]=!0;for(B=0;B<I.length;B++)_=O.hasOwnProperty("$"+I[B].value),I[B].selected!==_&&(I[B].selected=_),_&&Y&&(I[B].defaultSelected=!0)}else{for(B=""+J(B),O=null,_=0;_<I.length;_++){if(I[_].value===B){I[_].selected=!0,Y&&(I[_].defaultSelected=!0);return}O!==null||I[_].disabled||(O=I[_])}O!==null&&(O.selected=!0)}}function Re(I,O){if(O.dangerouslySetInnerHTML!=null)throw Error(n(91));return W({},O,{value:void 0,defaultValue:void 0,children:""+I._wrapperState.initialValue})}function Fe(I,O){var B=O.value;if(B==null){if(B=O.children,O=O.defaultValue,B!=null){if(O!=null)throw Error(n(92));if(Ie(B)){if(1<B.length)throw Error(n(93));B=B[0]}O=B}O==null&&(O=""),B=O}I._wrapperState={initialValue:J(B)}}function Ae(I,O){var B=J(O.value),Y=J(O.defaultValue);B!=null&&(B=""+B,B!==I.value&&(I.value=B),O.defaultValue==null&&I.defaultValue!==B&&(I.defaultValue=B)),Y!=null&&(I.defaultValue=""+Y)}function Xe(I){var O=I.textContent;O===I._wrapperState.initialValue&&O!==""&&O!==null&&(I.value=O)}function st(I){switch(I){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vt(I,O){return I==null||I==="http://www.w3.org/1999/xhtml"?st(O):I==="http://www.w3.org/2000/svg"&&O==="foreignObject"?"http://www.w3.org/1999/xhtml":I}var Ge,nt=(function(I){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(O,B,Y,_){MSApp.execUnsafeLocalFunction(function(){return I(O,B,Y,_)})}:I})(function(I,O){if(I.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in I)I.innerHTML=O;else{for(Ge=Ge||document.createElement("div"),Ge.innerHTML="<svg>"+O.valueOf().toString()+"</svg>",O=Ge.firstChild;I.firstChild;)I.removeChild(I.firstChild);for(;O.firstChild;)I.appendChild(O.firstChild)}});function St(I,O){if(O){var B=I.firstChild;if(B&&B===I.lastChild&&B.nodeType===3){B.nodeValue=O;return}}I.textContent=O}var Je={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},He=["Webkit","ms","Moz","O"];Object.keys(Je).forEach(function(I){He.forEach(function(O){O=O+I.charAt(0).toUpperCase()+I.substring(1),Je[O]=Je[I]})});function _e(I,O,B){return O==null||typeof O=="boolean"||O===""?"":B||typeof O!="number"||O===0||Je.hasOwnProperty(I)&&Je[I]?(""+O).trim():O+"px"}function ht(I,O){I=I.style;for(var B in O)if(O.hasOwnProperty(B)){var Y=B.indexOf("--")===0,_=_e(B,O[B],Y);B==="float"&&(B="cssFloat"),Y?I.setProperty(B,_):I[B]=_}}var Dt=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ut(I,O){if(O){if(Dt[I]&&(O.children!=null||O.dangerouslySetInnerHTML!=null))throw Error(n(137,I));if(O.dangerouslySetInnerHTML!=null){if(O.children!=null)throw Error(n(60));if(typeof O.dangerouslySetInnerHTML!="object"||!("__html"in O.dangerouslySetInnerHTML))throw Error(n(61))}if(O.style!=null&&typeof O.style!="object")throw Error(n(62))}}function xt(I,O){if(I.indexOf("-")===-1)return typeof O.is=="string";switch(I){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tt=null;function fn(I){return I=I.target||I.srcElement||window,I.correspondingUseElement&&(I=I.correspondingUseElement),I.nodeType===3?I.parentNode:I}var On=null,Ot=null,pt=null;function Qn(I){if(I=X0(I)){if(typeof On!="function")throw Error(n(280));var O=I.stateNode;O&&(O=J1(O),On(I.stateNode,I.type,O))}}function Sn(I){Ot?pt?pt.push(I):pt=[I]:Ot=I}function Gr(){if(Ot){var I=Ot,O=pt;if(pt=Ot=null,Qn(I),O)for(I=0;I<O.length;I++)Qn(O[I])}}function ne(I,O){return I(O)}function se(){}var ue=!1;function pe(I,O,B){if(ue)return I(O,B);ue=!0;try{return ne(I,O,B)}finally{ue=!1,(Ot!==null||pt!==null)&&(se(),Gr())}}function be(I,O){var B=I.stateNode;if(B===null)return null;var Y=J1(B);if(Y===null)return null;B=Y[O];e:switch(O){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(Y=!Y.disabled)||(I=I.type,Y=!(I==="button"||I==="input"||I==="select"||I==="textarea")),I=!Y;break e;default:I=!1}if(I)return null;if(B&&typeof B!="function")throw Error(n(231,O,typeof B));return B}var Pe=!1;if(g)try{var De={};Object.defineProperty(De,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch{Pe=!1}function Ye(I,O,B,Y,_,q,re,he,me){var $e=Array.prototype.slice.call(arguments,3);try{O.apply(B,$e)}catch(ze){this.onError(ze)}}var jt=!1,zt=null,Jt=!1,en=null,pn={onError:function(I){jt=!0,zt=I}};function Et(I,O,B,Y,_,q,re,he,me){jt=!1,zt=null,Ye.apply(pn,arguments)}function bn(I,O,B,Y,_,q,re,he,me){if(Et.apply(this,arguments),jt){if(jt){var $e=zt;jt=!1,zt=null}else throw Error(n(198));Jt||(Jt=!0,en=$e)}}function tn(I){var O=I,B=I;if(I.alternate)for(;O.return;)O=O.return;else{I=O;do O=I,(O.flags&4098)!==0&&(B=O.return),I=O.return;while(I)}return O.tag===3?B:null}function wr(I){if(I.tag===13){var O=I.memoizedState;if(O===null&&(I=I.alternate,I!==null&&(O=I.memoizedState)),O!==null)return O.dehydrated}return null}function cr(I){if(tn(I)!==I)throw Error(n(188))}function Vr(I){var O=I.alternate;if(!O){if(O=tn(I),O===null)throw Error(n(188));return O!==I?null:I}for(var B=I,Y=O;;){var _=B.return;if(_===null)break;var q=_.alternate;if(q===null){if(Y=_.return,Y!==null){B=Y;continue}break}if(_.child===q.child){for(q=_.child;q;){if(q===B)return cr(_),I;if(q===Y)return cr(_),O;q=q.sibling}throw Error(n(188))}if(B.return!==Y.return)B=_,Y=q;else{for(var re=!1,he=_.child;he;){if(he===B){re=!0,B=_,Y=q;break}if(he===Y){re=!0,Y=_,B=q;break}he=he.sibling}if(!re){for(he=q.child;he;){if(he===B){re=!0,B=q,Y=_;break}if(he===Y){re=!0,Y=q,B=_;break}he=he.sibling}if(!re)throw Error(n(189))}}if(B.alternate!==Y)throw Error(n(190))}if(B.tag!==3)throw Error(n(188));return B.stateNode.current===B?I:O}function mn(I){return I=Vr(I),I!==null?Hr(I):null}function Hr(I){if(I.tag===5||I.tag===6)return I;for(I=I.child;I!==null;){var O=Hr(I);if(O!==null)return O;I=I.sibling}return null}var ri=e.unstable_scheduleCallback,Tl=e.unstable_cancelCallback,zc=e.unstable_shouldYield,Yt=e.unstable_requestPaint,Lt=e.unstable_now,Ut=e.unstable_getCurrentPriorityLevel,Kn=e.unstable_ImmediatePriority,Ji=e.unstable_UserBlockingPriority,Ps=e.unstable_NormalPriority,$o=e.unstable_LowPriority,Ud=e.unstable_IdlePriority,Su=null,ra=null;function Pb(I){if(ra&&typeof ra.onCommitFiberRoot=="function")try{ra.onCommitFiberRoot(Su,I,void 0,(I.current.flags&128)===128)}catch{}}var Is=Math.clz32?Math.clz32:Ob,Ib=Math.log,Rb=Math.LN2;function Ob(I){return I>>>=0,I===0?32:31-(Ib(I)/Rb|0)|0}var jd=64,zd=4194304;function Wc(I){switch(I&-I){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return I&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return I&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return I}}function Wd(I,O){var B=I.pendingLanes;if(B===0)return 0;var Y=0,_=I.suspendedLanes,q=I.pingedLanes,re=B&268435455;if(re!==0){var he=re&~_;he!==0?Y=Wc(he):(q&=re,q!==0&&(Y=Wc(q)))}else re=B&~_,re!==0?Y=Wc(re):q!==0&&(Y=Wc(q));if(Y===0)return 0;if(O!==0&&O!==Y&&(O&_)===0&&(_=Y&-Y,q=O&-O,_>=q||_===16&&(q&4194240)!==0))return O;if((Y&4)!==0&&(Y|=B&16),O=I.entangledLanes,O!==0)for(I=I.entanglements,O&=Y;0<O;)B=31-Is(O),_=1<<B,Y|=I[B],O&=~_;return Y}function Mb(I,O){switch(I){case 1:case 2:case 4:return O+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return O+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $b(I,O){for(var B=I.suspendedLanes,Y=I.pingedLanes,_=I.expirationTimes,q=I.pendingLanes;0<q;){var re=31-Is(q),he=1<<re,me=_[re];me===-1?((he&B)===0||(he&Y)!==0)&&(_[re]=Mb(he,O)):me<=O&&(I.expiredLanes|=he),q&=~he}}function R0(I){return I=I.pendingLanes&-1073741825,I!==0?I:I&1073741824?1073741824:0}function O1(){var I=jd;return jd<<=1,(jd&4194240)===0&&(jd=64),I}function O0(I){for(var O=[],B=0;31>B;B++)O.push(I);return O}function Gc(I,O,B){I.pendingLanes|=O,O!==536870912&&(I.suspendedLanes=0,I.pingedLanes=0),I=I.eventTimes,O=31-Is(O),I[O]=B}function Fb(I,O){var B=I.pendingLanes&~O;I.pendingLanes=O,I.suspendedLanes=0,I.pingedLanes=0,I.expiredLanes&=O,I.mutableReadLanes&=O,I.entangledLanes&=O,O=I.entanglements;var Y=I.eventTimes;for(I=I.expirationTimes;0<B;){var _=31-Is(B),q=1<<_;O[_]=0,Y[_]=-1,I[_]=-1,B&=~q}}function M0(I,O){var B=I.entangledLanes|=O;for(I=I.entanglements;B;){var Y=31-Is(B),_=1<<Y;_&O|I[Y]&O&&(I[Y]|=O),B&=~_}}var hn=0;function M1(I){return I&=-I,1<I?4<I?(I&268435455)!==0?16:536870912:4:1}var $1,$0,F1,L1,D1,F0=!1,Gd=[],Fo=null,Lo=null,Do=null,Vc=new Map,Hc=new Map,No=[],Lb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function N1(I,O){switch(I){case"focusin":case"focusout":Fo=null;break;case"dragenter":case"dragleave":Lo=null;break;case"mouseover":case"mouseout":Do=null;break;case"pointerover":case"pointerout":Vc.delete(O.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hc.delete(O.pointerId)}}function Yc(I,O,B,Y,_,q){return I===null||I.nativeEvent!==q?(I={blockedOn:O,domEventName:B,eventSystemFlags:Y,nativeEvent:q,targetContainers:[_]},O!==null&&(O=X0(O),O!==null&&$0(O)),I):(I.eventSystemFlags|=Y,O=I.targetContainers,_!==null&&O.indexOf(_)===-1&&O.push(_),I)}function k1(I,O,B,Y,_){switch(O){case"focusin":return Fo=Yc(Fo,I,O,B,Y,_),!0;case"dragenter":return Lo=Yc(Lo,I,O,B,Y,_),!0;case"mouseover":return Do=Yc(Do,I,O,B,Y,_),!0;case"pointerover":var q=_.pointerId;return Vc.set(q,Yc(Vc.get(q)||null,I,O,B,Y,_)),!0;case"gotpointercapture":return q=_.pointerId,Hc.set(q,Yc(Hc.get(q)||null,I,O,B,Y,_)),!0}return!1}function B1(I){var O=Xc(I.target);if(O!==null){var B=tn(O);if(B!==null){if(O=B.tag,O===13){if(O=wr(B),O!==null){I.blockedOn=O,D1(I.priority,function(){F1(B)});return}}else if(O===3&&B.stateNode.current.memoizedState.isDehydrated){I.blockedOn=B.tag===3?B.stateNode.containerInfo:null;return}}}I.blockedOn=null}function Se(I){if(I.blockedOn!==null)return!1;for(var O=I.targetContainers;0<O.length;){var B=Yd(I.domEventName,I.eventSystemFlags,O[0],I.nativeEvent);if(B===null){B=I.nativeEvent;var Y=new B.constructor(B.type,B);tt=Y,B.target.dispatchEvent(Y),tt=null}else return O=X0(B),O!==null&&$0(O),I.blockedOn=B,!1;O.shift()}return!0}function ce(I,O,B){Se(I)&&B.delete(O)}function ve(){F0=!1,Fo!==null&&Se(Fo)&&(Fo=null),Lo!==null&&Se(Lo)&&(Lo=null),Do!==null&&Se(Do)&&(Do=null),Vc.forEach(ce),Hc.forEach(ce)}function Le(I,O){I.blockedOn===O&&(I.blockedOn=null,F0||(F0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ve)))}function Be(I){function O(_){return Le(_,I)}if(0<Gd.length){Le(Gd[0],I);for(var B=1;B<Gd.length;B++){var Y=Gd[B];Y.blockedOn===I&&(Y.blockedOn=null)}}for(Fo!==null&&Le(Fo,I),Lo!==null&&Le(Lo,I),Do!==null&&Le(Do,I),Vc.forEach(O),Hc.forEach(O),B=0;B<No.length;B++)Y=No[B],Y.blockedOn===I&&(Y.blockedOn=null);for(;0<No.length&&(B=No[0],B.blockedOn===null);)B1(B),B.blockedOn===null&&No.shift()}var Nt=x.ReactCurrentBatchConfig,Nn=!0;function yi(I,O,B,Y){var _=hn,q=Nt.transition;Nt.transition=null;try{hn=1,L0(I,O,B,Y)}finally{hn=_,Nt.transition=q}}function Vd(I,O,B,Y){var _=hn,q=Nt.transition;Nt.transition=null;try{hn=4,L0(I,O,B,Y)}finally{hn=_,Nt.transition=q}}function L0(I,O,B,Y){if(Nn){var _=Yd(I,O,B,Y);if(_===null)Jb(I,O,Y,Hd,B),N1(I,Y);else if(k1(_,I,O,B,Y))Y.stopPropagation();else if(N1(I,Y),O&4&&-1<Lb.indexOf(I)){for(;_!==null;){var q=X0(_);if(q!==null&&$1(q),q=Yd(I,O,B,Y),q===null&&Jb(I,O,Y,Hd,B),q===_)break;_=q}_!==null&&Y.stopPropagation()}else Jb(I,O,Y,null,B)}}var Hd=null;function Yd(I,O,B,Y){if(Hd=null,I=fn(Y),I=Xc(I),I!==null)if(O=tn(I),O===null)I=null;else if(B=O.tag,B===13){if(I=wr(O),I!==null)return I;I=null}else if(B===3){if(O.stateNode.current.memoizedState.isDehydrated)return O.tag===3?O.stateNode.containerInfo:null;I=null}else O!==I&&(I=null);return Hd=I,null}function D0(I){switch(I){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ut()){case Kn:return 1;case Ji:return 4;case Ps:case $o:return 16;case Ud:return 536870912;default:return 16}default:return 16}}var ja=null,Xd=null,U1=null;function gP(){if(U1)return U1;var I,O=Xd,B=O.length,Y,_="value"in ja?ja.value:ja.textContent,q=_.length;for(I=0;I<B&&O[I]===_[I];I++);var re=B-I;for(Y=1;Y<=re&&O[B-Y]===_[q-Y];Y++);return U1=_.slice(I,1<Y?1-Y:void 0)}function j1(I){var O=I.keyCode;return"charCode"in I?(I=I.charCode,I===0&&O===13&&(I=13)):I=O,I===10&&(I=13),32<=I||I===13?I:0}function z1(){return!0}function mP(){return!1}function Rs(I){function O(B,Y,_,q,re){this._reactName=B,this._targetInst=_,this.type=Y,this.nativeEvent=q,this.target=re,this.currentTarget=null;for(var he in I)I.hasOwnProperty(he)&&(B=I[he],this[he]=B?B(q):q[he]);return this.isDefaultPrevented=(q.defaultPrevented!=null?q.defaultPrevented:q.returnValue===!1)?z1:mP,this.isPropagationStopped=mP,this}return W(O.prototype,{preventDefault:function(){this.defaultPrevented=!0;var B=this.nativeEvent;B&&(B.preventDefault?B.preventDefault():typeof B.returnValue!="unknown"&&(B.returnValue=!1),this.isDefaultPrevented=z1)},stopPropagation:function(){var B=this.nativeEvent;B&&(B.stopPropagation?B.stopPropagation():typeof B.cancelBubble!="unknown"&&(B.cancelBubble=!0),this.isPropagationStopped=z1)},persist:function(){},isPersistent:z1}),O}var Kd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(I){return I.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Db=Rs(Kd),N0=W({},Kd,{view:0,detail:0}),GQ=Rs(N0),Nb,kb,k0,W1=W({},N0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ub,button:0,buttons:0,relatedTarget:function(I){return I.relatedTarget===void 0?I.fromElement===I.srcElement?I.toElement:I.fromElement:I.relatedTarget},movementX:function(I){return"movementX"in I?I.movementX:(I!==k0&&(k0&&I.type==="mousemove"?(Nb=I.screenX-k0.screenX,kb=I.screenY-k0.screenY):kb=Nb=0,k0=I),Nb)},movementY:function(I){return"movementY"in I?I.movementY:kb}}),yP=Rs(W1),VQ=W({},W1,{dataTransfer:0}),HQ=Rs(VQ),YQ=W({},N0,{relatedTarget:0}),Bb=Rs(YQ),XQ=W({},Kd,{animationName:0,elapsedTime:0,pseudoElement:0}),KQ=Rs(XQ),ZQ=W({},Kd,{clipboardData:function(I){return"clipboardData"in I?I.clipboardData:window.clipboardData}}),JQ=Rs(ZQ),_Q=W({},Kd,{data:0}),wP=Rs(_Q),QQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eq={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tq(I){var O=this.nativeEvent;return O.getModifierState?O.getModifierState(I):(I=eq[I])?!!O[I]:!1}function Ub(){return tq}var nq=W({},N0,{key:function(I){if(I.key){var O=QQ[I.key]||I.key;if(O!=="Unidentified")return O}return I.type==="keypress"?(I=j1(I),I===13?"Enter":String.fromCharCode(I)):I.type==="keydown"||I.type==="keyup"?qQ[I.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ub,charCode:function(I){return I.type==="keypress"?j1(I):0},keyCode:function(I){return I.type==="keydown"||I.type==="keyup"?I.keyCode:0},which:function(I){return I.type==="keypress"?j1(I):I.type==="keydown"||I.type==="keyup"?I.keyCode:0}}),rq=Rs(nq),iq=W({},W1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xP=Rs(iq),sq=W({},N0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ub}),aq=Rs(sq),oq=W({},Kd,{propertyName:0,elapsedTime:0,pseudoElement:0}),lq=Rs(oq),uq=W({},W1,{deltaX:function(I){return"deltaX"in I?I.deltaX:"wheelDeltaX"in I?-I.wheelDeltaX:0},deltaY:function(I){return"deltaY"in I?I.deltaY:"wheelDeltaY"in I?-I.wheelDeltaY:"wheelDelta"in I?-I.wheelDelta:0},deltaZ:0,deltaMode:0}),cq=Rs(uq),hq=[9,13,27,32],jb=g&&"CompositionEvent"in window,B0=null;g&&"documentMode"in document&&(B0=document.documentMode);var dq=g&&"TextEvent"in window&&!B0,bP=g&&(!jb||B0&&8<B0&&11>=B0),EP=" ",CP=!1;function SP(I,O){switch(I){case"keyup":return hq.indexOf(O.keyCode)!==-1;case"keydown":return O.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function TP(I){return I=I.detail,typeof I=="object"&&"data"in I?I.data:null}var Zd=!1;function fq(I,O){switch(I){case"compositionend":return TP(O);case"keypress":return O.which!==32?null:(CP=!0,EP);case"textInput":return I=O.data,I===EP&&CP?null:I;default:return null}}function pq(I,O){if(Zd)return I==="compositionend"||!jb&&SP(I,O)?(I=gP(),U1=Xd=ja=null,Zd=!1,I):null;switch(I){case"paste":return null;case"keypress":if(!(O.ctrlKey||O.altKey||O.metaKey)||O.ctrlKey&&O.altKey){if(O.char&&1<O.char.length)return O.char;if(O.which)return String.fromCharCode(O.which)}return null;case"compositionend":return bP&&O.locale!=="ko"?null:O.data;default:return null}}var vq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function AP(I){var O=I&&I.nodeName&&I.nodeName.toLowerCase();return O==="input"?!!vq[I.type]:O==="textarea"}function PP(I,O,B,Y){Sn(Y),O=X1(O,"onChange"),0<O.length&&(B=new Db("onChange","change",null,B,Y),I.push({event:B,listeners:O}))}var U0=null,j0=null;function gq(I){HP(I,0)}function G1(I){var O=ef(I);if(ie(O))return I}function mq(I,O){if(I==="change")return O}var IP=!1;if(g){var zb;if(g){var Wb="oninput"in document;if(!Wb){var RP=document.createElement("div");RP.setAttribute("oninput","return;"),Wb=typeof RP.oninput=="function"}zb=Wb}else zb=!1;IP=zb&&(!document.documentMode||9<document.documentMode)}function OP(){U0&&(U0.detachEvent("onpropertychange",MP),j0=U0=null)}function MP(I){if(I.propertyName==="value"&&G1(j0)){var O=[];PP(O,j0,I,fn(I)),pe(gq,O)}}function yq(I,O,B){I==="focusin"?(OP(),U0=O,j0=B,U0.attachEvent("onpropertychange",MP)):I==="focusout"&&OP()}function wq(I){if(I==="selectionchange"||I==="keyup"||I==="keydown")return G1(j0)}function xq(I,O){if(I==="click")return G1(O)}function bq(I,O){if(I==="input"||I==="change")return G1(O)}function Eq(I,O){return I===O&&(I!==0||1/I===1/O)||I!==I&&O!==O}var za=typeof Object.is=="function"?Object.is:Eq;function z0(I,O){if(za(I,O))return!0;if(typeof I!="object"||I===null||typeof O!="object"||O===null)return!1;var B=Object.keys(I),Y=Object.keys(O);if(B.length!==Y.length)return!1;for(Y=0;Y<B.length;Y++){var _=B[Y];if(!r.call(O,_)||!za(I[_],O[_]))return!1}return!0}function $P(I){for(;I&&I.firstChild;)I=I.firstChild;return I}function FP(I,O){var B=$P(I);I=0;for(var Y;B;){if(B.nodeType===3){if(Y=I+B.textContent.length,I<=O&&Y>=O)return{node:B,offset:O-I};I=Y}e:{for(;B;){if(B.nextSibling){B=B.nextSibling;break e}B=B.parentNode}B=void 0}B=$P(B)}}function LP(I,O){return I&&O?I===O?!0:I&&I.nodeType===3?!1:O&&O.nodeType===3?LP(I,O.parentNode):"contains"in I?I.contains(O):I.compareDocumentPosition?!!(I.compareDocumentPosition(O)&16):!1:!1}function DP(){for(var I=window,O=le();O instanceof I.HTMLIFrameElement;){try{var B=typeof O.contentWindow.location.href=="string"}catch{B=!1}if(B)I=O.contentWindow;else break;O=le(I.document)}return O}function Gb(I){var O=I&&I.nodeName&&I.nodeName.toLowerCase();return O&&(O==="input"&&(I.type==="text"||I.type==="search"||I.type==="tel"||I.type==="url"||I.type==="password")||O==="textarea"||I.contentEditable==="true")}function Cq(I){var O=DP(),B=I.focusedElem,Y=I.selectionRange;if(O!==B&&B&&B.ownerDocument&&LP(B.ownerDocument.documentElement,B)){if(Y!==null&&Gb(B)){if(O=Y.start,I=Y.end,I===void 0&&(I=O),"selectionStart"in B)B.selectionStart=O,B.selectionEnd=Math.min(I,B.value.length);else if(I=(O=B.ownerDocument||document)&&O.defaultView||window,I.getSelection){I=I.getSelection();var _=B.textContent.length,q=Math.min(Y.start,_);Y=Y.end===void 0?q:Math.min(Y.end,_),!I.extend&&q>Y&&(_=Y,Y=q,q=_),_=FP(B,q);var re=FP(B,Y);_&&re&&(I.rangeCount!==1||I.anchorNode!==_.node||I.anchorOffset!==_.offset||I.focusNode!==re.node||I.focusOffset!==re.offset)&&(O=O.createRange(),O.setStart(_.node,_.offset),I.removeAllRanges(),q>Y?(I.addRange(O),I.extend(re.node,re.offset)):(O.setEnd(re.node,re.offset),I.addRange(O)))}}for(O=[],I=B;I=I.parentNode;)I.nodeType===1&&O.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<O.length;B++)I=O[B],I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}var Sq=g&&"documentMode"in document&&11>=document.documentMode,Jd=null,Vb=null,W0=null,Hb=!1;function NP(I,O,B){var Y=B.window===B?B.document:B.nodeType===9?B:B.ownerDocument;Hb||Jd==null||Jd!==le(Y)||(Y=Jd,"selectionStart"in Y&&Gb(Y)?Y={start:Y.selectionStart,end:Y.selectionEnd}:(Y=(Y.ownerDocument&&Y.ownerDocument.defaultView||window).getSelection(),Y={anchorNode:Y.anchorNode,anchorOffset:Y.anchorOffset,focusNode:Y.focusNode,focusOffset:Y.focusOffset}),W0&&z0(W0,Y)||(W0=Y,Y=X1(Vb,"onSelect"),0<Y.length&&(O=new Db("onSelect","select",null,O,B),I.push({event:O,listeners:Y}),O.target=Jd)))}function V1(I,O){var B={};return B[I.toLowerCase()]=O.toLowerCase(),B["Webkit"+I]="webkit"+O,B["Moz"+I]="moz"+O,B}var _d={animationend:V1("Animation","AnimationEnd"),animationiteration:V1("Animation","AnimationIteration"),animationstart:V1("Animation","AnimationStart"),transitionend:V1("Transition","TransitionEnd")},Yb={},kP={};g&&(kP=document.createElement("div").style,"AnimationEvent"in window||(delete _d.animationend.animation,delete _d.animationiteration.animation,delete _d.animationstart.animation),"TransitionEvent"in window||delete _d.transitionend.transition);function H1(I){if(Yb[I])return Yb[I];if(!_d[I])return I;var O=_d[I],B;for(B in O)if(O.hasOwnProperty(B)&&B in kP)return Yb[I]=O[B];return I}var BP=H1("animationend"),UP=H1("animationiteration"),jP=H1("animationstart"),zP=H1("transitionend"),WP=new Map,GP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tu(I,O){WP.set(I,O),m(O,[I])}for(var Xb=0;Xb<GP.length;Xb++){var Kb=GP[Xb],Tq=Kb.toLowerCase(),Aq=Kb[0].toUpperCase()+Kb.slice(1);Tu(Tq,"on"+Aq)}Tu(BP,"onAnimationEnd"),Tu(UP,"onAnimationIteration"),Tu(jP,"onAnimationStart"),Tu("dblclick","onDoubleClick"),Tu("focusin","onFocus"),Tu("focusout","onBlur"),Tu(zP,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),m("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),m("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),m("onBeforeInput",["compositionend","keypress","textInput","paste"]),m("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var G0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pq=new Set("cancel close invalid load scroll toggle".split(" ").concat(G0));function VP(I,O,B){var Y=I.type||"unknown-event";I.currentTarget=B,bn(Y,O,void 0,I),I.currentTarget=null}function HP(I,O){O=(O&4)!==0;for(var B=0;B<I.length;B++){var Y=I[B],_=Y.event;Y=Y.listeners;e:{var q=void 0;if(O)for(var re=Y.length-1;0<=re;re--){var he=Y[re],me=he.instance,$e=he.currentTarget;if(he=he.listener,me!==q&&_.isPropagationStopped())break e;VP(_,he,$e),q=me}else for(re=0;re<Y.length;re++){if(he=Y[re],me=he.instance,$e=he.currentTarget,he=he.listener,me!==q&&_.isPropagationStopped())break e;VP(_,he,$e),q=me}}}if(Jt)throw I=en,Jt=!1,en=null,I}function kn(I,O){var B=O[n5];B===void 0&&(B=O[n5]=new Set);var Y=I+"__bubble";B.has(Y)||(YP(O,I,2,!1),B.add(Y))}function Zb(I,O,B){var Y=0;O&&(Y|=4),YP(B,I,Y,O)}var Y1="_reactListening"+Math.random().toString(36).slice(2);function V0(I){if(!I[Y1]){I[Y1]=!0,i.forEach(function(B){B!=="selectionchange"&&(Pq.has(B)||Zb(B,!1,I),Zb(B,!0,I))});var O=I.nodeType===9?I:I.ownerDocument;O===null||O[Y1]||(O[Y1]=!0,Zb("selectionchange",!1,O))}}function YP(I,O,B,Y){switch(D0(O)){case 1:var _=yi;break;case 4:_=Vd;break;default:_=L0}B=_.bind(null,O,B,I),_=void 0,!Pe||O!=="touchstart"&&O!=="touchmove"&&O!=="wheel"||(_=!0),Y?_!==void 0?I.addEventListener(O,B,{capture:!0,passive:_}):I.addEventListener(O,B,!0):_!==void 0?I.addEventListener(O,B,{passive:_}):I.addEventListener(O,B,!1)}function Jb(I,O,B,Y,_){var q=Y;if((O&1)===0&&(O&2)===0&&Y!==null)e:for(;;){if(Y===null)return;var re=Y.tag;if(re===3||re===4){var he=Y.stateNode.containerInfo;if(he===_||he.nodeType===8&&he.parentNode===_)break;if(re===4)for(re=Y.return;re!==null;){var me=re.tag;if((me===3||me===4)&&(me=re.stateNode.containerInfo,me===_||me.nodeType===8&&me.parentNode===_))return;re=re.return}for(;he!==null;){if(re=Xc(he),re===null)return;if(me=re.tag,me===5||me===6){Y=q=re;continue e}he=he.parentNode}}Y=Y.return}pe(function(){var $e=q,ze=fn(B),Ve=[];e:{var Ue=WP.get(I);if(Ue!==void 0){var at=Db,ft=I;switch(I){case"keypress":if(j1(B)===0)break e;case"keydown":case"keyup":at=rq;break;case"focusin":ft="focus",at=Bb;break;case"focusout":ft="blur",at=Bb;break;case"beforeblur":case"afterblur":at=Bb;break;case"click":if(B.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":at=yP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":at=HQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":at=aq;break;case BP:case UP:case jP:at=KQ;break;case zP:at=lq;break;case"scroll":at=GQ;break;case"wheel":at=cq;break;case"copy":case"cut":case"paste":at=JQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":at=xP}var gt=(O&4)!==0,hr=!gt&&I==="scroll",Te=gt?Ue!==null?Ue+"Capture":null:Ue;gt=[];for(var xe=$e,Oe;xe!==null;){Oe=xe;var Ke=Oe.stateNode;if(Oe.tag===5&&Ke!==null&&(Oe=Ke,Te!==null&&(Ke=be(xe,Te),Ke!=null&&gt.push(H0(xe,Ke,Oe)))),hr)break;xe=xe.return}0<gt.length&&(Ue=new at(Ue,ft,null,B,ze),Ve.push({event:Ue,listeners:gt}))}}if((O&7)===0){e:{if(Ue=I==="mouseover"||I==="pointerover",at=I==="mouseout"||I==="pointerout",Ue&&B!==tt&&(ft=B.relatedTarget||B.fromElement)&&(Xc(ft)||ft[Al]))break e;if((at||Ue)&&(Ue=ze.window===ze?ze:(Ue=ze.ownerDocument)?Ue.defaultView||Ue.parentWindow:window,at?(ft=B.relatedTarget||B.toElement,at=$e,ft=ft?Xc(ft):null,ft!==null&&(hr=tn(ft),ft!==hr||ft.tag!==5&&ft.tag!==6)&&(ft=null)):(at=null,ft=$e),at!==ft)){if(gt=yP,Ke="onMouseLeave",Te="onMouseEnter",xe="mouse",(I==="pointerout"||I==="pointerover")&&(gt=xP,Ke="onPointerLeave",Te="onPointerEnter",xe="pointer"),hr=at==null?Ue:ef(at),Oe=ft==null?Ue:ef(ft),Ue=new gt(Ke,xe+"leave",at,B,ze),Ue.target=hr,Ue.relatedTarget=Oe,Ke=null,Xc(ze)===$e&&(gt=new gt(Te,xe+"enter",ft,B,ze),gt.target=Oe,gt.relatedTarget=hr,Ke=gt),hr=Ke,at&&ft)t:{for(gt=at,Te=ft,xe=0,Oe=gt;Oe;Oe=Qd(Oe))xe++;for(Oe=0,Ke=Te;Ke;Ke=Qd(Ke))Oe++;for(;0<xe-Oe;)gt=Qd(gt),xe--;for(;0<Oe-xe;)Te=Qd(Te),Oe--;for(;xe--;){if(gt===Te||Te!==null&&gt===Te.alternate)break t;gt=Qd(gt),Te=Qd(Te)}gt=null}else gt=null;at!==null&&XP(Ve,Ue,at,gt,!1),ft!==null&&hr!==null&&XP(Ve,hr,ft,gt,!0)}}e:{if(Ue=$e?ef($e):window,at=Ue.nodeName&&Ue.nodeName.toLowerCase(),at==="select"||at==="input"&&Ue.type==="file")var wt=mq;else if(AP(Ue))if(IP)wt=bq;else{wt=wq;var At=yq}else(at=Ue.nodeName)&&at.toLowerCase()==="input"&&(Ue.type==="checkbox"||Ue.type==="radio")&&(wt=xq);if(wt&&(wt=wt(I,$e))){PP(Ve,wt,B,ze);break e}At&&At(I,Ue,$e),I==="focusout"&&(At=Ue._wrapperState)&&At.controlled&&Ue.type==="number"&&Ce(Ue,"number",Ue.value)}switch(At=$e?ef($e):window,I){case"focusin":(AP(At)||At.contentEditable==="true")&&(Jd=At,Vb=$e,W0=null);break;case"focusout":W0=Vb=Jd=null;break;case"mousedown":Hb=!0;break;case"contextmenu":case"mouseup":case"dragend":Hb=!1,NP(Ve,B,ze);break;case"selectionchange":if(Sq)break;case"keydown":case"keyup":NP(Ve,B,ze)}var Pt;if(jb)e:{switch(I){case"compositionstart":var Ft="onCompositionStart";break e;case"compositionend":Ft="onCompositionEnd";break e;case"compositionupdate":Ft="onCompositionUpdate";break e}Ft=void 0}else Zd?SP(I,B)&&(Ft="onCompositionEnd"):I==="keydown"&&B.keyCode===229&&(Ft="onCompositionStart");Ft&&(bP&&B.locale!=="ko"&&(Zd||Ft!=="onCompositionStart"?Ft==="onCompositionEnd"&&Zd&&(Pt=gP()):(ja=ze,Xd="value"in ja?ja.value:ja.textContent,Zd=!0)),At=X1($e,Ft),0<At.length&&(Ft=new wP(Ft,I,null,B,ze),Ve.push({event:Ft,listeners:At}),Pt?Ft.data=Pt:(Pt=TP(B),Pt!==null&&(Ft.data=Pt)))),(Pt=dq?fq(I,B):pq(I,B))&&($e=X1($e,"onBeforeInput"),0<$e.length&&(ze=new wP("onBeforeInput","beforeinput",null,B,ze),Ve.push({event:ze,listeners:$e}),ze.data=Pt))}HP(Ve,O)})}function H0(I,O,B){return{instance:I,listener:O,currentTarget:B}}function X1(I,O){for(var B=O+"Capture",Y=[];I!==null;){var _=I,q=_.stateNode;_.tag===5&&q!==null&&(_=q,q=be(I,B),q!=null&&Y.unshift(H0(I,q,_)),q=be(I,O),q!=null&&Y.push(H0(I,q,_))),I=I.return}return Y}function Qd(I){if(I===null)return null;do I=I.return;while(I&&I.tag!==5);return I||null}function XP(I,O,B,Y,_){for(var q=O._reactName,re=[];B!==null&&B!==Y;){var he=B,me=he.alternate,$e=he.stateNode;if(me!==null&&me===Y)break;he.tag===5&&$e!==null&&(he=$e,_?(me=be(B,q),me!=null&&re.unshift(H0(B,me,he))):_||(me=be(B,q),me!=null&&re.push(H0(B,me,he)))),B=B.return}re.length!==0&&I.push({event:O,listeners:re})}var Iq=/\r\n?/g,Rq=/\u0000|\uFFFD/g;function KP(I){return(typeof I=="string"?I:""+I).replace(Iq,`
`).replace(Rq,"")}function K1(I,O,B){if(O=KP(O),KP(I)!==O&&B)throw Error(n(425))}function Z1(){}var _b=null,Qb=null;function qb(I,O){return I==="textarea"||I==="noscript"||typeof O.children=="string"||typeof O.children=="number"||typeof O.dangerouslySetInnerHTML=="object"&&O.dangerouslySetInnerHTML!==null&&O.dangerouslySetInnerHTML.__html!=null}var e5=typeof setTimeout=="function"?setTimeout:void 0,Oq=typeof clearTimeout=="function"?clearTimeout:void 0,ZP=typeof Promise=="function"?Promise:void 0,Mq=typeof queueMicrotask=="function"?queueMicrotask:typeof ZP<"u"?function(I){return ZP.resolve(null).then(I).catch($q)}:e5;function $q(I){setTimeout(function(){throw I})}function t5(I,O){var B=O,Y=0;do{var _=B.nextSibling;if(I.removeChild(B),_&&_.nodeType===8)if(B=_.data,B==="/$"){if(Y===0){I.removeChild(_),Be(O);return}Y--}else B!=="$"&&B!=="$?"&&B!=="$!"||Y++;B=_}while(B);Be(O)}function Au(I){for(;I!=null;I=I.nextSibling){var O=I.nodeType;if(O===1||O===3)break;if(O===8){if(O=I.data,O==="$"||O==="$!"||O==="$?")break;if(O==="/$")return null}}return I}function JP(I){I=I.previousSibling;for(var O=0;I;){if(I.nodeType===8){var B=I.data;if(B==="$"||B==="$!"||B==="$?"){if(O===0)return I;O--}else B==="/$"&&O++}I=I.previousSibling}return null}var qd=Math.random().toString(36).slice(2),ko="__reactFiber$"+qd,Y0="__reactProps$"+qd,Al="__reactContainer$"+qd,n5="__reactEvents$"+qd,Fq="__reactListeners$"+qd,Lq="__reactHandles$"+qd;function Xc(I){var O=I[ko];if(O)return O;for(var B=I.parentNode;B;){if(O=B[Al]||B[ko]){if(B=O.alternate,O.child!==null||B!==null&&B.child!==null)for(I=JP(I);I!==null;){if(B=I[ko])return B;I=JP(I)}return O}I=B,B=I.parentNode}return null}function X0(I){return I=I[ko]||I[Al],!I||I.tag!==5&&I.tag!==6&&I.tag!==13&&I.tag!==3?null:I}function ef(I){if(I.tag===5||I.tag===6)return I.stateNode;throw Error(n(33))}function J1(I){return I[Y0]||null}var r5=[],tf=-1;function Pu(I){return{current:I}}function Bn(I){0>tf||(I.current=r5[tf],r5[tf]=null,tf--)}function Mn(I,O){tf++,r5[tf]=I.current,I.current=O}var Iu={},wi=Pu(Iu),_i=Pu(!1),Kc=Iu;function nf(I,O){var B=I.type.contextTypes;if(!B)return Iu;var Y=I.stateNode;if(Y&&Y.__reactInternalMemoizedUnmaskedChildContext===O)return Y.__reactInternalMemoizedMaskedChildContext;var _={},q;for(q in B)_[q]=O[q];return Y&&(I=I.stateNode,I.__reactInternalMemoizedUnmaskedChildContext=O,I.__reactInternalMemoizedMaskedChildContext=_),_}function Qi(I){return I=I.childContextTypes,I!=null}function _1(){Bn(_i),Bn(wi)}function _P(I,O,B){if(wi.current!==Iu)throw Error(n(168));Mn(wi,O),Mn(_i,B)}function QP(I,O,B){var Y=I.stateNode;if(O=O.childContextTypes,typeof Y.getChildContext!="function")return B;Y=Y.getChildContext();for(var _ in Y)if(!(_ in O))throw Error(n(108,V(I)||"Unknown",_));return W({},B,Y)}function Q1(I){return I=(I=I.stateNode)&&I.__reactInternalMemoizedMergedChildContext||Iu,Kc=wi.current,Mn(wi,I),Mn(_i,_i.current),!0}function qP(I,O,B){var Y=I.stateNode;if(!Y)throw Error(n(169));B?(I=QP(I,O,Kc),Y.__reactInternalMemoizedMergedChildContext=I,Bn(_i),Bn(wi),Mn(wi,I)):Bn(_i),Mn(_i,B)}var Pl=null,q1=!1,i5=!1;function eI(I){Pl===null?Pl=[I]:Pl.push(I)}function Dq(I){q1=!0,eI(I)}function Ru(){if(!i5&&Pl!==null){i5=!0;var I=0,O=hn;try{var B=Pl;for(hn=1;I<B.length;I++){var Y=B[I];do Y=Y(!0);while(Y!==null)}Pl=null,q1=!1}catch(_){throw Pl!==null&&(Pl=Pl.slice(I+1)),ri(Kn,Ru),_}finally{hn=O,i5=!1}}return null}var rf=[],sf=0,ey=null,ty=0,ia=[],sa=0,Zc=null,Il=1,Rl="";function Jc(I,O){rf[sf++]=ty,rf[sf++]=ey,ey=I,ty=O}function tI(I,O,B){ia[sa++]=Il,ia[sa++]=Rl,ia[sa++]=Zc,Zc=I;var Y=Il;I=Rl;var _=32-Is(Y)-1;Y&=~(1<<_),B+=1;var q=32-Is(O)+_;if(30<q){var re=_-_%5;q=(Y&(1<<re)-1).toString(32),Y>>=re,_-=re,Il=1<<32-Is(O)+_|B<<_|Y,Rl=q+I}else Il=1<<q|B<<_|Y,Rl=I}function s5(I){I.return!==null&&(Jc(I,1),tI(I,1,0))}function a5(I){for(;I===ey;)ey=rf[--sf],rf[sf]=null,ty=rf[--sf],rf[sf]=null;for(;I===Zc;)Zc=ia[--sa],ia[sa]=null,Rl=ia[--sa],ia[sa]=null,Il=ia[--sa],ia[sa]=null}var Os=null,Ms=null,Zn=!1,Wa=null;function nI(I,O){var B=ua(5,null,null,0);B.elementType="DELETED",B.stateNode=O,B.return=I,O=I.deletions,O===null?(I.deletions=[B],I.flags|=16):O.push(B)}function rI(I,O){switch(I.tag){case 5:var B=I.type;return O=O.nodeType!==1||B.toLowerCase()!==O.nodeName.toLowerCase()?null:O,O!==null?(I.stateNode=O,Os=I,Ms=Au(O.firstChild),!0):!1;case 6:return O=I.pendingProps===""||O.nodeType!==3?null:O,O!==null?(I.stateNode=O,Os=I,Ms=null,!0):!1;case 13:return O=O.nodeType!==8?null:O,O!==null?(B=Zc!==null?{id:Il,overflow:Rl}:null,I.memoizedState={dehydrated:O,treeContext:B,retryLane:1073741824},B=ua(18,null,null,0),B.stateNode=O,B.return=I,I.child=B,Os=I,Ms=null,!0):!1;default:return!1}}function o5(I){return(I.mode&1)!==0&&(I.flags&128)===0}function l5(I){if(Zn){var O=Ms;if(O){var B=O;if(!rI(I,O)){if(o5(I))throw Error(n(418));O=Au(B.nextSibling);var Y=Os;O&&rI(I,O)?nI(Y,B):(I.flags=I.flags&-4097|2,Zn=!1,Os=I)}}else{if(o5(I))throw Error(n(418));I.flags=I.flags&-4097|2,Zn=!1,Os=I}}}function iI(I){for(I=I.return;I!==null&&I.tag!==5&&I.tag!==3&&I.tag!==13;)I=I.return;Os=I}function ny(I){if(I!==Os)return!1;if(!Zn)return iI(I),Zn=!0,!1;var O;if((O=I.tag!==3)&&!(O=I.tag!==5)&&(O=I.type,O=O!=="head"&&O!=="body"&&!qb(I.type,I.memoizedProps)),O&&(O=Ms)){if(o5(I))throw sI(),Error(n(418));for(;O;)nI(I,O),O=Au(O.nextSibling)}if(iI(I),I.tag===13){if(I=I.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(n(317));e:{for(I=I.nextSibling,O=0;I;){if(I.nodeType===8){var B=I.data;if(B==="/$"){if(O===0){Ms=Au(I.nextSibling);break e}O--}else B!=="$"&&B!=="$!"&&B!=="$?"||O++}I=I.nextSibling}Ms=null}}else Ms=Os?Au(I.stateNode.nextSibling):null;return!0}function sI(){for(var I=Ms;I;)I=Au(I.nextSibling)}function af(){Ms=Os=null,Zn=!1}function u5(I){Wa===null?Wa=[I]:Wa.push(I)}var Nq=x.ReactCurrentBatchConfig;function K0(I,O,B){if(I=B.ref,I!==null&&typeof I!="function"&&typeof I!="object"){if(B._owner){if(B=B._owner,B){if(B.tag!==1)throw Error(n(309));var Y=B.stateNode}if(!Y)throw Error(n(147,I));var _=Y,q=""+I;return O!==null&&O.ref!==null&&typeof O.ref=="function"&&O.ref._stringRef===q?O.ref:(O=function(re){var he=_.refs;re===null?delete he[q]:he[q]=re},O._stringRef=q,O)}if(typeof I!="string")throw Error(n(284));if(!B._owner)throw Error(n(290,I))}return I}function ry(I,O){throw I=Object.prototype.toString.call(O),Error(n(31,I==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":I))}function aI(I){var O=I._init;return O(I._payload)}function oI(I){function O(Te,xe){if(I){var Oe=Te.deletions;Oe===null?(Te.deletions=[xe],Te.flags|=16):Oe.push(xe)}}function B(Te,xe){if(!I)return null;for(;xe!==null;)O(Te,xe),xe=xe.sibling;return null}function Y(Te,xe){for(Te=new Map;xe!==null;)xe.key!==null?Te.set(xe.key,xe):Te.set(xe.index,xe),xe=xe.sibling;return Te}function _(Te,xe){return Te=ku(Te,xe),Te.index=0,Te.sibling=null,Te}function q(Te,xe,Oe){return Te.index=Oe,I?(Oe=Te.alternate,Oe!==null?(Oe=Oe.index,Oe<xe?(Te.flags|=2,xe):Oe):(Te.flags|=2,xe)):(Te.flags|=1048576,xe)}function re(Te){return I&&Te.alternate===null&&(Te.flags|=2),Te}function he(Te,xe,Oe,Ke){return xe===null||xe.tag!==6?(xe=e4(Oe,Te.mode,Ke),xe.return=Te,xe):(xe=_(xe,Oe),xe.return=Te,xe)}function me(Te,xe,Oe,Ke){var wt=Oe.type;return wt===C?ze(Te,xe,Oe.props.children,Ke,Oe.key):xe!==null&&(xe.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===F&&aI(wt)===xe.type)?(Ke=_(xe,Oe.props),Ke.ref=K0(Te,xe,Oe),Ke.return=Te,Ke):(Ke=Py(Oe.type,Oe.key,Oe.props,null,Te.mode,Ke),Ke.ref=K0(Te,xe,Oe),Ke.return=Te,Ke)}function $e(Te,xe,Oe,Ke){return xe===null||xe.tag!==4||xe.stateNode.containerInfo!==Oe.containerInfo||xe.stateNode.implementation!==Oe.implementation?(xe=t4(Oe,Te.mode,Ke),xe.return=Te,xe):(xe=_(xe,Oe.children||[]),xe.return=Te,xe)}function ze(Te,xe,Oe,Ke,wt){return xe===null||xe.tag!==7?(xe=ih(Oe,Te.mode,Ke,wt),xe.return=Te,xe):(xe=_(xe,Oe),xe.return=Te,xe)}function Ve(Te,xe,Oe){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return xe=e4(""+xe,Te.mode,Oe),xe.return=Te,xe;if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case b:return Oe=Py(xe.type,xe.key,xe.props,null,Te.mode,Oe),Oe.ref=K0(Te,null,xe),Oe.return=Te,Oe;case E:return xe=t4(xe,Te.mode,Oe),xe.return=Te,xe;case F:var Ke=xe._init;return Ve(Te,Ke(xe._payload),Oe)}if(Ie(xe)||j(xe))return xe=ih(xe,Te.mode,Oe,null),xe.return=Te,xe;ry(Te,xe)}return null}function Ue(Te,xe,Oe,Ke){var wt=xe!==null?xe.key:null;if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return wt!==null?null:he(Te,xe,""+Oe,Ke);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case b:return Oe.key===wt?me(Te,xe,Oe,Ke):null;case E:return Oe.key===wt?$e(Te,xe,Oe,Ke):null;case F:return wt=Oe._init,Ue(Te,xe,wt(Oe._payload),Ke)}if(Ie(Oe)||j(Oe))return wt!==null?null:ze(Te,xe,Oe,Ke,null);ry(Te,Oe)}return null}function at(Te,xe,Oe,Ke,wt){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number")return Te=Te.get(Oe)||null,he(xe,Te,""+Ke,wt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case b:return Te=Te.get(Ke.key===null?Oe:Ke.key)||null,me(xe,Te,Ke,wt);case E:return Te=Te.get(Ke.key===null?Oe:Ke.key)||null,$e(xe,Te,Ke,wt);case F:var At=Ke._init;return at(Te,xe,Oe,At(Ke._payload),wt)}if(Ie(Ke)||j(Ke))return Te=Te.get(Oe)||null,ze(xe,Te,Ke,wt,null);ry(xe,Ke)}return null}function ft(Te,xe,Oe,Ke){for(var wt=null,At=null,Pt=xe,Ft=xe=0,Kr=null;Pt!==null&&Ft<Oe.length;Ft++){Pt.index>Ft?(Kr=Pt,Pt=null):Kr=Pt.sibling;var an=Ue(Te,Pt,Oe[Ft],Ke);if(an===null){Pt===null&&(Pt=Kr);break}I&&Pt&&an.alternate===null&&O(Te,Pt),xe=q(an,xe,Ft),At===null?wt=an:At.sibling=an,At=an,Pt=Kr}if(Ft===Oe.length)return B(Te,Pt),Zn&&Jc(Te,Ft),wt;if(Pt===null){for(;Ft<Oe.length;Ft++)Pt=Ve(Te,Oe[Ft],Ke),Pt!==null&&(xe=q(Pt,xe,Ft),At===null?wt=Pt:At.sibling=Pt,At=Pt);return Zn&&Jc(Te,Ft),wt}for(Pt=Y(Te,Pt);Ft<Oe.length;Ft++)Kr=at(Pt,Te,Ft,Oe[Ft],Ke),Kr!==null&&(I&&Kr.alternate!==null&&Pt.delete(Kr.key===null?Ft:Kr.key),xe=q(Kr,xe,Ft),At===null?wt=Kr:At.sibling=Kr,At=Kr);return I&&Pt.forEach(function(Bu){return O(Te,Bu)}),Zn&&Jc(Te,Ft),wt}function gt(Te,xe,Oe,Ke){var wt=j(Oe);if(typeof wt!="function")throw Error(n(150));if(Oe=wt.call(Oe),Oe==null)throw Error(n(151));for(var At=wt=null,Pt=xe,Ft=xe=0,Kr=null,an=Oe.next();Pt!==null&&!an.done;Ft++,an=Oe.next()){Pt.index>Ft?(Kr=Pt,Pt=null):Kr=Pt.sibling;var Bu=Ue(Te,Pt,an.value,Ke);if(Bu===null){Pt===null&&(Pt=Kr);break}I&&Pt&&Bu.alternate===null&&O(Te,Pt),xe=q(Bu,xe,Ft),At===null?wt=Bu:At.sibling=Bu,At=Bu,Pt=Kr}if(an.done)return B(Te,Pt),Zn&&Jc(Te,Ft),wt;if(Pt===null){for(;!an.done;Ft++,an=Oe.next())an=Ve(Te,an.value,Ke),an!==null&&(xe=q(an,xe,Ft),At===null?wt=an:At.sibling=an,At=an);return Zn&&Jc(Te,Ft),wt}for(Pt=Y(Te,Pt);!an.done;Ft++,an=Oe.next())an=at(Pt,Te,Ft,an.value,Ke),an!==null&&(I&&an.alternate!==null&&Pt.delete(an.key===null?Ft:an.key),xe=q(an,xe,Ft),At===null?wt=an:At.sibling=an,At=an);return I&&Pt.forEach(function(vee){return O(Te,vee)}),Zn&&Jc(Te,Ft),wt}function hr(Te,xe,Oe,Ke){if(typeof Oe=="object"&&Oe!==null&&Oe.type===C&&Oe.key===null&&(Oe=Oe.props.children),typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case b:e:{for(var wt=Oe.key,At=xe;At!==null;){if(At.key===wt){if(wt=Oe.type,wt===C){if(At.tag===7){B(Te,At.sibling),xe=_(At,Oe.props.children),xe.return=Te,Te=xe;break e}}else if(At.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===F&&aI(wt)===At.type){B(Te,At.sibling),xe=_(At,Oe.props),xe.ref=K0(Te,At,Oe),xe.return=Te,Te=xe;break e}B(Te,At);break}else O(Te,At);At=At.sibling}Oe.type===C?(xe=ih(Oe.props.children,Te.mode,Ke,Oe.key),xe.return=Te,Te=xe):(Ke=Py(Oe.type,Oe.key,Oe.props,null,Te.mode,Ke),Ke.ref=K0(Te,xe,Oe),Ke.return=Te,Te=Ke)}return re(Te);case E:e:{for(At=Oe.key;xe!==null;){if(xe.key===At)if(xe.tag===4&&xe.stateNode.containerInfo===Oe.containerInfo&&xe.stateNode.implementation===Oe.implementation){B(Te,xe.sibling),xe=_(xe,Oe.children||[]),xe.return=Te,Te=xe;break e}else{B(Te,xe);break}else O(Te,xe);xe=xe.sibling}xe=t4(Oe,Te.mode,Ke),xe.return=Te,Te=xe}return re(Te);case F:return At=Oe._init,hr(Te,xe,At(Oe._payload),Ke)}if(Ie(Oe))return ft(Te,xe,Oe,Ke);if(j(Oe))return gt(Te,xe,Oe,Ke);ry(Te,Oe)}return typeof Oe=="string"&&Oe!==""||typeof Oe=="number"?(Oe=""+Oe,xe!==null&&xe.tag===6?(B(Te,xe.sibling),xe=_(xe,Oe),xe.return=Te,Te=xe):(B(Te,xe),xe=e4(Oe,Te.mode,Ke),xe.return=Te,Te=xe),re(Te)):B(Te,xe)}return hr}var of=oI(!0),lI=oI(!1),iy=Pu(null),sy=null,lf=null,c5=null;function h5(){c5=lf=sy=null}function d5(I){var O=iy.current;Bn(iy),I._currentValue=O}function f5(I,O,B){for(;I!==null;){var Y=I.alternate;if((I.childLanes&O)!==O?(I.childLanes|=O,Y!==null&&(Y.childLanes|=O)):Y!==null&&(Y.childLanes&O)!==O&&(Y.childLanes|=O),I===B)break;I=I.return}}function uf(I,O){sy=I,c5=lf=null,I=I.dependencies,I!==null&&I.firstContext!==null&&((I.lanes&O)!==0&&(qi=!0),I.firstContext=null)}function aa(I){var O=I._currentValue;if(c5!==I)if(I={context:I,memoizedValue:O,next:null},lf===null){if(sy===null)throw Error(n(308));lf=I,sy.dependencies={lanes:0,firstContext:I}}else lf=lf.next=I;return O}var _c=null;function p5(I){_c===null?_c=[I]:_c.push(I)}function uI(I,O,B,Y){var _=O.interleaved;return _===null?(B.next=B,p5(O)):(B.next=_.next,_.next=B),O.interleaved=B,Ol(I,Y)}function Ol(I,O){I.lanes|=O;var B=I.alternate;for(B!==null&&(B.lanes|=O),B=I,I=I.return;I!==null;)I.childLanes|=O,B=I.alternate,B!==null&&(B.childLanes|=O),B=I,I=I.return;return B.tag===3?B.stateNode:null}var Ou=!1;function v5(I){I.updateQueue={baseState:I.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cI(I,O){I=I.updateQueue,O.updateQueue===I&&(O.updateQueue={baseState:I.baseState,firstBaseUpdate:I.firstBaseUpdate,lastBaseUpdate:I.lastBaseUpdate,shared:I.shared,effects:I.effects})}function Ml(I,O){return{eventTime:I,lane:O,tag:0,payload:null,callback:null,next:null}}function Mu(I,O,B){var Y=I.updateQueue;if(Y===null)return null;if(Y=Y.shared,(nn&2)!==0){var _=Y.pending;return _===null?O.next=O:(O.next=_.next,_.next=O),Y.pending=O,Ol(I,B)}return _=Y.interleaved,_===null?(O.next=O,p5(Y)):(O.next=_.next,_.next=O),Y.interleaved=O,Ol(I,B)}function ay(I,O,B){if(O=O.updateQueue,O!==null&&(O=O.shared,(B&4194240)!==0)){var Y=O.lanes;Y&=I.pendingLanes,B|=Y,O.lanes=B,M0(I,B)}}function hI(I,O){var B=I.updateQueue,Y=I.alternate;if(Y!==null&&(Y=Y.updateQueue,B===Y)){var _=null,q=null;if(B=B.firstBaseUpdate,B!==null){do{var re={eventTime:B.eventTime,lane:B.lane,tag:B.tag,payload:B.payload,callback:B.callback,next:null};q===null?_=q=re:q=q.next=re,B=B.next}while(B!==null);q===null?_=q=O:q=q.next=O}else _=q=O;B={baseState:Y.baseState,firstBaseUpdate:_,lastBaseUpdate:q,shared:Y.shared,effects:Y.effects},I.updateQueue=B;return}I=B.lastBaseUpdate,I===null?B.firstBaseUpdate=O:I.next=O,B.lastBaseUpdate=O}function oy(I,O,B,Y){var _=I.updateQueue;Ou=!1;var q=_.firstBaseUpdate,re=_.lastBaseUpdate,he=_.shared.pending;if(he!==null){_.shared.pending=null;var me=he,$e=me.next;me.next=null,re===null?q=$e:re.next=$e,re=me;var ze=I.alternate;ze!==null&&(ze=ze.updateQueue,he=ze.lastBaseUpdate,he!==re&&(he===null?ze.firstBaseUpdate=$e:he.next=$e,ze.lastBaseUpdate=me))}if(q!==null){var Ve=_.baseState;re=0,ze=$e=me=null,he=q;do{var Ue=he.lane,at=he.eventTime;if((Y&Ue)===Ue){ze!==null&&(ze=ze.next={eventTime:at,lane:0,tag:he.tag,payload:he.payload,callback:he.callback,next:null});e:{var ft=I,gt=he;switch(Ue=O,at=B,gt.tag){case 1:if(ft=gt.payload,typeof ft=="function"){Ve=ft.call(at,Ve,Ue);break e}Ve=ft;break e;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=gt.payload,Ue=typeof ft=="function"?ft.call(at,Ve,Ue):ft,Ue==null)break e;Ve=W({},Ve,Ue);break e;case 2:Ou=!0}}he.callback!==null&&he.lane!==0&&(I.flags|=64,Ue=_.effects,Ue===null?_.effects=[he]:Ue.push(he))}else at={eventTime:at,lane:Ue,tag:he.tag,payload:he.payload,callback:he.callback,next:null},ze===null?($e=ze=at,me=Ve):ze=ze.next=at,re|=Ue;if(he=he.next,he===null){if(he=_.shared.pending,he===null)break;Ue=he,he=Ue.next,Ue.next=null,_.lastBaseUpdate=Ue,_.shared.pending=null}}while(!0);if(ze===null&&(me=Ve),_.baseState=me,_.firstBaseUpdate=$e,_.lastBaseUpdate=ze,O=_.shared.interleaved,O!==null){_=O;do re|=_.lane,_=_.next;while(_!==O)}else q===null&&(_.shared.lanes=0);eh|=re,I.lanes=re,I.memoizedState=Ve}}function dI(I,O,B){if(I=O.effects,O.effects=null,I!==null)for(O=0;O<I.length;O++){var Y=I[O],_=Y.callback;if(_!==null){if(Y.callback=null,Y=B,typeof _!="function")throw Error(n(191,_));_.call(Y)}}}var Z0={},Bo=Pu(Z0),J0=Pu(Z0),_0=Pu(Z0);function Qc(I){if(I===Z0)throw Error(n(174));return I}function g5(I,O){switch(Mn(_0,O),Mn(J0,I),Mn(Bo,Z0),I=O.nodeType,I){case 9:case 11:O=(O=O.documentElement)?O.namespaceURI:vt(null,"");break;default:I=I===8?O.parentNode:O,O=I.namespaceURI||null,I=I.tagName,O=vt(O,I)}Bn(Bo),Mn(Bo,O)}function cf(){Bn(Bo),Bn(J0),Bn(_0)}function fI(I){Qc(_0.current);var O=Qc(Bo.current),B=vt(O,I.type);O!==B&&(Mn(J0,I),Mn(Bo,B))}function m5(I){J0.current===I&&(Bn(Bo),Bn(J0))}var qn=Pu(0);function ly(I){for(var O=I;O!==null;){if(O.tag===13){var B=O.memoizedState;if(B!==null&&(B=B.dehydrated,B===null||B.data==="$?"||B.data==="$!"))return O}else if(O.tag===19&&O.memoizedProps.revealOrder!==void 0){if((O.flags&128)!==0)return O}else if(O.child!==null){O.child.return=O,O=O.child;continue}if(O===I)break;for(;O.sibling===null;){if(O.return===null||O.return===I)return null;O=O.return}O.sibling.return=O.return,O=O.sibling}return null}var y5=[];function w5(){for(var I=0;I<y5.length;I++)y5[I]._workInProgressVersionPrimary=null;y5.length=0}var uy=x.ReactCurrentDispatcher,x5=x.ReactCurrentBatchConfig,qc=0,er=null,Or=null,Yr=null,cy=!1,Q0=!1,q0=0,kq=0;function xi(){throw Error(n(321))}function b5(I,O){if(O===null)return!1;for(var B=0;B<O.length&&B<I.length;B++)if(!za(I[B],O[B]))return!1;return!0}function E5(I,O,B,Y,_,q){if(qc=q,er=O,O.memoizedState=null,O.updateQueue=null,O.lanes=0,uy.current=I===null||I.memoizedState===null?zq:Wq,I=B(Y,_),Q0){q=0;do{if(Q0=!1,q0=0,25<=q)throw Error(n(301));q+=1,Yr=Or=null,O.updateQueue=null,uy.current=Gq,I=B(Y,_)}while(Q0)}if(uy.current=fy,O=Or!==null&&Or.next!==null,qc=0,Yr=Or=er=null,cy=!1,O)throw Error(n(300));return I}function C5(){var I=q0!==0;return q0=0,I}function Uo(){var I={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yr===null?er.memoizedState=Yr=I:Yr=Yr.next=I,Yr}function oa(){if(Or===null){var I=er.alternate;I=I!==null?I.memoizedState:null}else I=Or.next;var O=Yr===null?er.memoizedState:Yr.next;if(O!==null)Yr=O,Or=I;else{if(I===null)throw Error(n(310));Or=I,I={memoizedState:Or.memoizedState,baseState:Or.baseState,baseQueue:Or.baseQueue,queue:Or.queue,next:null},Yr===null?er.memoizedState=Yr=I:Yr=Yr.next=I}return Yr}function ev(I,O){return typeof O=="function"?O(I):O}function S5(I){var O=oa(),B=O.queue;if(B===null)throw Error(n(311));B.lastRenderedReducer=I;var Y=Or,_=Y.baseQueue,q=B.pending;if(q!==null){if(_!==null){var re=_.next;_.next=q.next,q.next=re}Y.baseQueue=_=q,B.pending=null}if(_!==null){q=_.next,Y=Y.baseState;var he=re=null,me=null,$e=q;do{var ze=$e.lane;if((qc&ze)===ze)me!==null&&(me=me.next={lane:0,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null}),Y=$e.hasEagerState?$e.eagerState:I(Y,$e.action);else{var Ve={lane:ze,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null};me===null?(he=me=Ve,re=Y):me=me.next=Ve,er.lanes|=ze,eh|=ze}$e=$e.next}while($e!==null&&$e!==q);me===null?re=Y:me.next=he,za(Y,O.memoizedState)||(qi=!0),O.memoizedState=Y,O.baseState=re,O.baseQueue=me,B.lastRenderedState=Y}if(I=B.interleaved,I!==null){_=I;do q=_.lane,er.lanes|=q,eh|=q,_=_.next;while(_!==I)}else _===null&&(B.lanes=0);return[O.memoizedState,B.dispatch]}function T5(I){var O=oa(),B=O.queue;if(B===null)throw Error(n(311));B.lastRenderedReducer=I;var Y=B.dispatch,_=B.pending,q=O.memoizedState;if(_!==null){B.pending=null;var re=_=_.next;do q=I(q,re.action),re=re.next;while(re!==_);za(q,O.memoizedState)||(qi=!0),O.memoizedState=q,O.baseQueue===null&&(O.baseState=q),B.lastRenderedState=q}return[q,Y]}function pI(){}function vI(I,O){var B=er,Y=oa(),_=O(),q=!za(Y.memoizedState,_);if(q&&(Y.memoizedState=_,qi=!0),Y=Y.queue,A5(yI.bind(null,B,Y,I),[I]),Y.getSnapshot!==O||q||Yr!==null&&Yr.memoizedState.tag&1){if(B.flags|=2048,tv(9,mI.bind(null,B,Y,_,O),void 0,null),Xr===null)throw Error(n(349));(qc&30)!==0||gI(B,O,_)}return _}function gI(I,O,B){I.flags|=16384,I={getSnapshot:O,value:B},O=er.updateQueue,O===null?(O={lastEffect:null,stores:null},er.updateQueue=O,O.stores=[I]):(B=O.stores,B===null?O.stores=[I]:B.push(I))}function mI(I,O,B,Y){O.value=B,O.getSnapshot=Y,wI(O)&&xI(I)}function yI(I,O,B){return B(function(){wI(O)&&xI(I)})}function wI(I){var O=I.getSnapshot;I=I.value;try{var B=O();return!za(I,B)}catch{return!0}}function xI(I){var O=Ol(I,1);O!==null&&Ya(O,I,1,-1)}function bI(I){var O=Uo();return typeof I=="function"&&(I=I()),O.memoizedState=O.baseState=I,I={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ev,lastRenderedState:I},O.queue=I,I=I.dispatch=jq.bind(null,er,I),[O.memoizedState,I]}function tv(I,O,B,Y){return I={tag:I,create:O,destroy:B,deps:Y,next:null},O=er.updateQueue,O===null?(O={lastEffect:null,stores:null},er.updateQueue=O,O.lastEffect=I.next=I):(B=O.lastEffect,B===null?O.lastEffect=I.next=I:(Y=B.next,B.next=I,I.next=Y,O.lastEffect=I)),I}function EI(){return oa().memoizedState}function hy(I,O,B,Y){var _=Uo();er.flags|=I,_.memoizedState=tv(1|O,B,void 0,Y===void 0?null:Y)}function dy(I,O,B,Y){var _=oa();Y=Y===void 0?null:Y;var q=void 0;if(Or!==null){var re=Or.memoizedState;if(q=re.destroy,Y!==null&&b5(Y,re.deps)){_.memoizedState=tv(O,B,q,Y);return}}er.flags|=I,_.memoizedState=tv(1|O,B,q,Y)}function CI(I,O){return hy(8390656,8,I,O)}function A5(I,O){return dy(2048,8,I,O)}function SI(I,O){return dy(4,2,I,O)}function TI(I,O){return dy(4,4,I,O)}function AI(I,O){if(typeof O=="function")return I=I(),O(I),function(){O(null)};if(O!=null)return I=I(),O.current=I,function(){O.current=null}}function PI(I,O,B){return B=B!=null?B.concat([I]):null,dy(4,4,AI.bind(null,O,I),B)}function P5(){}function II(I,O){var B=oa();O=O===void 0?null:O;var Y=B.memoizedState;return Y!==null&&O!==null&&b5(O,Y[1])?Y[0]:(B.memoizedState=[I,O],I)}function RI(I,O){var B=oa();O=O===void 0?null:O;var Y=B.memoizedState;return Y!==null&&O!==null&&b5(O,Y[1])?Y[0]:(I=I(),B.memoizedState=[I,O],I)}function OI(I,O,B){return(qc&21)===0?(I.baseState&&(I.baseState=!1,qi=!0),I.memoizedState=B):(za(B,O)||(B=O1(),er.lanes|=B,eh|=B,I.baseState=!0),O)}function Bq(I,O){var B=hn;hn=B!==0&&4>B?B:4,I(!0);var Y=x5.transition;x5.transition={};try{I(!1),O()}finally{hn=B,x5.transition=Y}}function MI(){return oa().memoizedState}function Uq(I,O,B){var Y=Du(I);if(B={lane:Y,action:B,hasEagerState:!1,eagerState:null,next:null},$I(I))FI(O,B);else if(B=uI(I,O,B,Y),B!==null){var _=Bi();Ya(B,I,Y,_),LI(B,O,Y)}}function jq(I,O,B){var Y=Du(I),_={lane:Y,action:B,hasEagerState:!1,eagerState:null,next:null};if($I(I))FI(O,_);else{var q=I.alternate;if(I.lanes===0&&(q===null||q.lanes===0)&&(q=O.lastRenderedReducer,q!==null))try{var re=O.lastRenderedState,he=q(re,B);if(_.hasEagerState=!0,_.eagerState=he,za(he,re)){var me=O.interleaved;me===null?(_.next=_,p5(O)):(_.next=me.next,me.next=_),O.interleaved=_;return}}catch{}finally{}B=uI(I,O,_,Y),B!==null&&(_=Bi(),Ya(B,I,Y,_),LI(B,O,Y))}}function $I(I){var O=I.alternate;return I===er||O!==null&&O===er}function FI(I,O){Q0=cy=!0;var B=I.pending;B===null?O.next=O:(O.next=B.next,B.next=O),I.pending=O}function LI(I,O,B){if((B&4194240)!==0){var Y=O.lanes;Y&=I.pendingLanes,B|=Y,O.lanes=B,M0(I,B)}}var fy={readContext:aa,useCallback:xi,useContext:xi,useEffect:xi,useImperativeHandle:xi,useInsertionEffect:xi,useLayoutEffect:xi,useMemo:xi,useReducer:xi,useRef:xi,useState:xi,useDebugValue:xi,useDeferredValue:xi,useTransition:xi,useMutableSource:xi,useSyncExternalStore:xi,useId:xi,unstable_isNewReconciler:!1},zq={readContext:aa,useCallback:function(I,O){return Uo().memoizedState=[I,O===void 0?null:O],I},useContext:aa,useEffect:CI,useImperativeHandle:function(I,O,B){return B=B!=null?B.concat([I]):null,hy(4194308,4,AI.bind(null,O,I),B)},useLayoutEffect:function(I,O){return hy(4194308,4,I,O)},useInsertionEffect:function(I,O){return hy(4,2,I,O)},useMemo:function(I,O){var B=Uo();return O=O===void 0?null:O,I=I(),B.memoizedState=[I,O],I},useReducer:function(I,O,B){var Y=Uo();return O=B!==void 0?B(O):O,Y.memoizedState=Y.baseState=O,I={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:I,lastRenderedState:O},Y.queue=I,I=I.dispatch=Uq.bind(null,er,I),[Y.memoizedState,I]},useRef:function(I){var O=Uo();return I={current:I},O.memoizedState=I},useState:bI,useDebugValue:P5,useDeferredValue:function(I){return Uo().memoizedState=I},useTransition:function(){var I=bI(!1),O=I[0];return I=Bq.bind(null,I[1]),Uo().memoizedState=I,[O,I]},useMutableSource:function(){},useSyncExternalStore:function(I,O,B){var Y=er,_=Uo();if(Zn){if(B===void 0)throw Error(n(407));B=B()}else{if(B=O(),Xr===null)throw Error(n(349));(qc&30)!==0||gI(Y,O,B)}_.memoizedState=B;var q={value:B,getSnapshot:O};return _.queue=q,CI(yI.bind(null,Y,q,I),[I]),Y.flags|=2048,tv(9,mI.bind(null,Y,q,B,O),void 0,null),B},useId:function(){var I=Uo(),O=Xr.identifierPrefix;if(Zn){var B=Rl,Y=Il;B=(Y&~(1<<32-Is(Y)-1)).toString(32)+B,O=":"+O+"R"+B,B=q0++,0<B&&(O+="H"+B.toString(32)),O+=":"}else B=kq++,O=":"+O+"r"+B.toString(32)+":";return I.memoizedState=O},unstable_isNewReconciler:!1},Wq={readContext:aa,useCallback:II,useContext:aa,useEffect:A5,useImperativeHandle:PI,useInsertionEffect:SI,useLayoutEffect:TI,useMemo:RI,useReducer:S5,useRef:EI,useState:function(){return S5(ev)},useDebugValue:P5,useDeferredValue:function(I){var O=oa();return OI(O,Or.memoizedState,I)},useTransition:function(){var I=S5(ev)[0],O=oa().memoizedState;return[I,O]},useMutableSource:pI,useSyncExternalStore:vI,useId:MI,unstable_isNewReconciler:!1},Gq={readContext:aa,useCallback:II,useContext:aa,useEffect:A5,useImperativeHandle:PI,useInsertionEffect:SI,useLayoutEffect:TI,useMemo:RI,useReducer:T5,useRef:EI,useState:function(){return T5(ev)},useDebugValue:P5,useDeferredValue:function(I){var O=oa();return Or===null?O.memoizedState=I:OI(O,Or.memoizedState,I)},useTransition:function(){var I=T5(ev)[0],O=oa().memoizedState;return[I,O]},useMutableSource:pI,useSyncExternalStore:vI,useId:MI,unstable_isNewReconciler:!1};function Ga(I,O){if(I&&I.defaultProps){O=W({},O),I=I.defaultProps;for(var B in I)O[B]===void 0&&(O[B]=I[B]);return O}return O}function I5(I,O,B,Y){O=I.memoizedState,B=B(Y,O),B=B==null?O:W({},O,B),I.memoizedState=B,I.lanes===0&&(I.updateQueue.baseState=B)}var py={isMounted:function(I){return(I=I._reactInternals)?tn(I)===I:!1},enqueueSetState:function(I,O,B){I=I._reactInternals;var Y=Bi(),_=Du(I),q=Ml(Y,_);q.payload=O,B!=null&&(q.callback=B),O=Mu(I,q,_),O!==null&&(Ya(O,I,_,Y),ay(O,I,_))},enqueueReplaceState:function(I,O,B){I=I._reactInternals;var Y=Bi(),_=Du(I),q=Ml(Y,_);q.tag=1,q.payload=O,B!=null&&(q.callback=B),O=Mu(I,q,_),O!==null&&(Ya(O,I,_,Y),ay(O,I,_))},enqueueForceUpdate:function(I,O){I=I._reactInternals;var B=Bi(),Y=Du(I),_=Ml(B,Y);_.tag=2,O!=null&&(_.callback=O),O=Mu(I,_,Y),O!==null&&(Ya(O,I,Y,B),ay(O,I,Y))}};function DI(I,O,B,Y,_,q,re){return I=I.stateNode,typeof I.shouldComponentUpdate=="function"?I.shouldComponentUpdate(Y,q,re):O.prototype&&O.prototype.isPureReactComponent?!z0(B,Y)||!z0(_,q):!0}function NI(I,O,B){var Y=!1,_=Iu,q=O.contextType;return typeof q=="object"&&q!==null?q=aa(q):(_=Qi(O)?Kc:wi.current,Y=O.contextTypes,q=(Y=Y!=null)?nf(I,_):Iu),O=new O(B,q),I.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=py,I.stateNode=O,O._reactInternals=I,Y&&(I=I.stateNode,I.__reactInternalMemoizedUnmaskedChildContext=_,I.__reactInternalMemoizedMaskedChildContext=q),O}function kI(I,O,B,Y){I=O.state,typeof O.componentWillReceiveProps=="function"&&O.componentWillReceiveProps(B,Y),typeof O.UNSAFE_componentWillReceiveProps=="function"&&O.UNSAFE_componentWillReceiveProps(B,Y),O.state!==I&&py.enqueueReplaceState(O,O.state,null)}function R5(I,O,B,Y){var _=I.stateNode;_.props=B,_.state=I.memoizedState,_.refs={},v5(I);var q=O.contextType;typeof q=="object"&&q!==null?_.context=aa(q):(q=Qi(O)?Kc:wi.current,_.context=nf(I,q)),_.state=I.memoizedState,q=O.getDerivedStateFromProps,typeof q=="function"&&(I5(I,O,q,B),_.state=I.memoizedState),typeof O.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(O=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),O!==_.state&&py.enqueueReplaceState(_,_.state,null),oy(I,B,_,Y),_.state=I.memoizedState),typeof _.componentDidMount=="function"&&(I.flags|=4194308)}function hf(I,O){try{var B="",Y=O;do B+=U(Y),Y=Y.return;while(Y);var _=B}catch(q){_=`
Error generating stack: `+q.message+`
`+q.stack}return{value:I,source:O,stack:_,digest:null}}function O5(I,O,B){return{value:I,source:null,stack:B??null,digest:O??null}}function M5(I,O){try{console.error(O.value)}catch(B){setTimeout(function(){throw B})}}var Vq=typeof WeakMap=="function"?WeakMap:Map;function BI(I,O,B){B=Ml(-1,B),B.tag=3,B.payload={element:null};var Y=O.value;return B.callback=function(){by||(by=!0,Y5=Y),M5(I,O)},B}function UI(I,O,B){B=Ml(-1,B),B.tag=3;var Y=I.type.getDerivedStateFromError;if(typeof Y=="function"){var _=O.value;B.payload=function(){return Y(_)},B.callback=function(){M5(I,O)}}var q=I.stateNode;return q!==null&&typeof q.componentDidCatch=="function"&&(B.callback=function(){M5(I,O),typeof Y!="function"&&(Fu===null?Fu=new Set([this]):Fu.add(this));var re=O.stack;this.componentDidCatch(O.value,{componentStack:re!==null?re:""})}),B}function jI(I,O,B){var Y=I.pingCache;if(Y===null){Y=I.pingCache=new Vq;var _=new Set;Y.set(O,_)}else _=Y.get(O),_===void 0&&(_=new Set,Y.set(O,_));_.has(B)||(_.add(B),I=iee.bind(null,I,O,B),O.then(I,I))}function zI(I){do{var O;if((O=I.tag===13)&&(O=I.memoizedState,O=O!==null?O.dehydrated!==null:!0),O)return I;I=I.return}while(I!==null);return null}function WI(I,O,B,Y,_){return(I.mode&1)===0?(I===O?I.flags|=65536:(I.flags|=128,B.flags|=131072,B.flags&=-52805,B.tag===1&&(B.alternate===null?B.tag=17:(O=Ml(-1,1),O.tag=2,Mu(B,O,1))),B.lanes|=1),I):(I.flags|=65536,I.lanes=_,I)}var Hq=x.ReactCurrentOwner,qi=!1;function ki(I,O,B,Y){O.child=I===null?lI(O,null,B,Y):of(O,I.child,B,Y)}function GI(I,O,B,Y,_){B=B.render;var q=O.ref;return uf(O,_),Y=E5(I,O,B,Y,q,_),B=C5(),I!==null&&!qi?(O.updateQueue=I.updateQueue,O.flags&=-2053,I.lanes&=~_,$l(I,O,_)):(Zn&&B&&s5(O),O.flags|=1,ki(I,O,Y,_),O.child)}function VI(I,O,B,Y,_){if(I===null){var q=B.type;return typeof q=="function"&&!q5(q)&&q.defaultProps===void 0&&B.compare===null&&B.defaultProps===void 0?(O.tag=15,O.type=q,HI(I,O,q,Y,_)):(I=Py(B.type,null,Y,O,O.mode,_),I.ref=O.ref,I.return=O,O.child=I)}if(q=I.child,(I.lanes&_)===0){var re=q.memoizedProps;if(B=B.compare,B=B!==null?B:z0,B(re,Y)&&I.ref===O.ref)return $l(I,O,_)}return O.flags|=1,I=ku(q,Y),I.ref=O.ref,I.return=O,O.child=I}function HI(I,O,B,Y,_){if(I!==null){var q=I.memoizedProps;if(z0(q,Y)&&I.ref===O.ref)if(qi=!1,O.pendingProps=Y=q,(I.lanes&_)!==0)(I.flags&131072)!==0&&(qi=!0);else return O.lanes=I.lanes,$l(I,O,_)}return $5(I,O,B,Y,_)}function YI(I,O,B){var Y=O.pendingProps,_=Y.children,q=I!==null?I.memoizedState:null;if(Y.mode==="hidden")if((O.mode&1)===0)O.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mn(ff,$s),$s|=B;else{if((B&1073741824)===0)return I=q!==null?q.baseLanes|B:B,O.lanes=O.childLanes=1073741824,O.memoizedState={baseLanes:I,cachePool:null,transitions:null},O.updateQueue=null,Mn(ff,$s),$s|=I,null;O.memoizedState={baseLanes:0,cachePool:null,transitions:null},Y=q!==null?q.baseLanes:B,Mn(ff,$s),$s|=Y}else q!==null?(Y=q.baseLanes|B,O.memoizedState=null):Y=B,Mn(ff,$s),$s|=Y;return ki(I,O,_,B),O.child}function XI(I,O){var B=O.ref;(I===null&&B!==null||I!==null&&I.ref!==B)&&(O.flags|=512,O.flags|=2097152)}function $5(I,O,B,Y,_){var q=Qi(B)?Kc:wi.current;return q=nf(O,q),uf(O,_),B=E5(I,O,B,Y,q,_),Y=C5(),I!==null&&!qi?(O.updateQueue=I.updateQueue,O.flags&=-2053,I.lanes&=~_,$l(I,O,_)):(Zn&&Y&&s5(O),O.flags|=1,ki(I,O,B,_),O.child)}function KI(I,O,B,Y,_){if(Qi(B)){var q=!0;Q1(O)}else q=!1;if(uf(O,_),O.stateNode===null)gy(I,O),NI(O,B,Y),R5(O,B,Y,_),Y=!0;else if(I===null){var re=O.stateNode,he=O.memoizedProps;re.props=he;var me=re.context,$e=B.contextType;typeof $e=="object"&&$e!==null?$e=aa($e):($e=Qi(B)?Kc:wi.current,$e=nf(O,$e));var ze=B.getDerivedStateFromProps,Ve=typeof ze=="function"||typeof re.getSnapshotBeforeUpdate=="function";Ve||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(he!==Y||me!==$e)&&kI(O,re,Y,$e),Ou=!1;var Ue=O.memoizedState;re.state=Ue,oy(O,Y,re,_),me=O.memoizedState,he!==Y||Ue!==me||_i.current||Ou?(typeof ze=="function"&&(I5(O,B,ze,Y),me=O.memoizedState),(he=Ou||DI(O,B,he,Y,Ue,me,$e))?(Ve||typeof re.UNSAFE_componentWillMount!="function"&&typeof re.componentWillMount!="function"||(typeof re.componentWillMount=="function"&&re.componentWillMount(),typeof re.UNSAFE_componentWillMount=="function"&&re.UNSAFE_componentWillMount()),typeof re.componentDidMount=="function"&&(O.flags|=4194308)):(typeof re.componentDidMount=="function"&&(O.flags|=4194308),O.memoizedProps=Y,O.memoizedState=me),re.props=Y,re.state=me,re.context=$e,Y=he):(typeof re.componentDidMount=="function"&&(O.flags|=4194308),Y=!1)}else{re=O.stateNode,cI(I,O),he=O.memoizedProps,$e=O.type===O.elementType?he:Ga(O.type,he),re.props=$e,Ve=O.pendingProps,Ue=re.context,me=B.contextType,typeof me=="object"&&me!==null?me=aa(me):(me=Qi(B)?Kc:wi.current,me=nf(O,me));var at=B.getDerivedStateFromProps;(ze=typeof at=="function"||typeof re.getSnapshotBeforeUpdate=="function")||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(he!==Ve||Ue!==me)&&kI(O,re,Y,me),Ou=!1,Ue=O.memoizedState,re.state=Ue,oy(O,Y,re,_);var ft=O.memoizedState;he!==Ve||Ue!==ft||_i.current||Ou?(typeof at=="function"&&(I5(O,B,at,Y),ft=O.memoizedState),($e=Ou||DI(O,B,$e,Y,Ue,ft,me)||!1)?(ze||typeof re.UNSAFE_componentWillUpdate!="function"&&typeof re.componentWillUpdate!="function"||(typeof re.componentWillUpdate=="function"&&re.componentWillUpdate(Y,ft,me),typeof re.UNSAFE_componentWillUpdate=="function"&&re.UNSAFE_componentWillUpdate(Y,ft,me)),typeof re.componentDidUpdate=="function"&&(O.flags|=4),typeof re.getSnapshotBeforeUpdate=="function"&&(O.flags|=1024)):(typeof re.componentDidUpdate!="function"||he===I.memoizedProps&&Ue===I.memoizedState||(O.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||he===I.memoizedProps&&Ue===I.memoizedState||(O.flags|=1024),O.memoizedProps=Y,O.memoizedState=ft),re.props=Y,re.state=ft,re.context=me,Y=$e):(typeof re.componentDidUpdate!="function"||he===I.memoizedProps&&Ue===I.memoizedState||(O.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||he===I.memoizedProps&&Ue===I.memoizedState||(O.flags|=1024),Y=!1)}return F5(I,O,B,Y,q,_)}function F5(I,O,B,Y,_,q){XI(I,O);var re=(O.flags&128)!==0;if(!Y&&!re)return _&&qP(O,B,!1),$l(I,O,q);Y=O.stateNode,Hq.current=O;var he=re&&typeof B.getDerivedStateFromError!="function"?null:Y.render();return O.flags|=1,I!==null&&re?(O.child=of(O,I.child,null,q),O.child=of(O,null,he,q)):ki(I,O,he,q),O.memoizedState=Y.state,_&&qP(O,B,!0),O.child}function ZI(I){var O=I.stateNode;O.pendingContext?_P(I,O.pendingContext,O.pendingContext!==O.context):O.context&&_P(I,O.context,!1),g5(I,O.containerInfo)}function JI(I,O,B,Y,_){return af(),u5(_),O.flags|=256,ki(I,O,B,Y),O.child}var L5={dehydrated:null,treeContext:null,retryLane:0};function D5(I){return{baseLanes:I,cachePool:null,transitions:null}}function _I(I,O,B){var Y=O.pendingProps,_=qn.current,q=!1,re=(O.flags&128)!==0,he;if((he=re)||(he=I!==null&&I.memoizedState===null?!1:(_&2)!==0),he?(q=!0,O.flags&=-129):(I===null||I.memoizedState!==null)&&(_|=1),Mn(qn,_&1),I===null)return l5(O),I=O.memoizedState,I!==null&&(I=I.dehydrated,I!==null)?((O.mode&1)===0?O.lanes=1:I.data==="$!"?O.lanes=8:O.lanes=1073741824,null):(re=Y.children,I=Y.fallback,q?(Y=O.mode,q=O.child,re={mode:"hidden",children:re},(Y&1)===0&&q!==null?(q.childLanes=0,q.pendingProps=re):q=Iy(re,Y,0,null),I=ih(I,Y,B,null),q.return=O,I.return=O,q.sibling=I,O.child=q,O.child.memoizedState=D5(B),O.memoizedState=L5,I):N5(O,re));if(_=I.memoizedState,_!==null&&(he=_.dehydrated,he!==null))return Yq(I,O,re,Y,he,_,B);if(q){q=Y.fallback,re=O.mode,_=I.child,he=_.sibling;var me={mode:"hidden",children:Y.children};return(re&1)===0&&O.child!==_?(Y=O.child,Y.childLanes=0,Y.pendingProps=me,O.deletions=null):(Y=ku(_,me),Y.subtreeFlags=_.subtreeFlags&14680064),he!==null?q=ku(he,q):(q=ih(q,re,B,null),q.flags|=2),q.return=O,Y.return=O,Y.sibling=q,O.child=Y,Y=q,q=O.child,re=I.child.memoizedState,re=re===null?D5(B):{baseLanes:re.baseLanes|B,cachePool:null,transitions:re.transitions},q.memoizedState=re,q.childLanes=I.childLanes&~B,O.memoizedState=L5,Y}return q=I.child,I=q.sibling,Y=ku(q,{mode:"visible",children:Y.children}),(O.mode&1)===0&&(Y.lanes=B),Y.return=O,Y.sibling=null,I!==null&&(B=O.deletions,B===null?(O.deletions=[I],O.flags|=16):B.push(I)),O.child=Y,O.memoizedState=null,Y}function N5(I,O){return O=Iy({mode:"visible",children:O},I.mode,0,null),O.return=I,I.child=O}function vy(I,O,B,Y){return Y!==null&&u5(Y),of(O,I.child,null,B),I=N5(O,O.pendingProps.children),I.flags|=2,O.memoizedState=null,I}function Yq(I,O,B,Y,_,q,re){if(B)return O.flags&256?(O.flags&=-257,Y=O5(Error(n(422))),vy(I,O,re,Y)):O.memoizedState!==null?(O.child=I.child,O.flags|=128,null):(q=Y.fallback,_=O.mode,Y=Iy({mode:"visible",children:Y.children},_,0,null),q=ih(q,_,re,null),q.flags|=2,Y.return=O,q.return=O,Y.sibling=q,O.child=Y,(O.mode&1)!==0&&of(O,I.child,null,re),O.child.memoizedState=D5(re),O.memoizedState=L5,q);if((O.mode&1)===0)return vy(I,O,re,null);if(_.data==="$!"){if(Y=_.nextSibling&&_.nextSibling.dataset,Y)var he=Y.dgst;return Y=he,q=Error(n(419)),Y=O5(q,Y,void 0),vy(I,O,re,Y)}if(he=(re&I.childLanes)!==0,qi||he){if(Y=Xr,Y!==null){switch(re&-re){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(Y.suspendedLanes|re))!==0?0:_,_!==0&&_!==q.retryLane&&(q.retryLane=_,Ol(I,_),Ya(Y,I,_,-1))}return Q5(),Y=O5(Error(n(421))),vy(I,O,re,Y)}return _.data==="$?"?(O.flags|=128,O.child=I.child,O=see.bind(null,I),_._reactRetry=O,null):(I=q.treeContext,Ms=Au(_.nextSibling),Os=O,Zn=!0,Wa=null,I!==null&&(ia[sa++]=Il,ia[sa++]=Rl,ia[sa++]=Zc,Il=I.id,Rl=I.overflow,Zc=O),O=N5(O,Y.children),O.flags|=4096,O)}function QI(I,O,B){I.lanes|=O;var Y=I.alternate;Y!==null&&(Y.lanes|=O),f5(I.return,O,B)}function k5(I,O,B,Y,_){var q=I.memoizedState;q===null?I.memoizedState={isBackwards:O,rendering:null,renderingStartTime:0,last:Y,tail:B,tailMode:_}:(q.isBackwards=O,q.rendering=null,q.renderingStartTime=0,q.last=Y,q.tail=B,q.tailMode=_)}function qI(I,O,B){var Y=O.pendingProps,_=Y.revealOrder,q=Y.tail;if(ki(I,O,Y.children,B),Y=qn.current,(Y&2)!==0)Y=Y&1|2,O.flags|=128;else{if(I!==null&&(I.flags&128)!==0)e:for(I=O.child;I!==null;){if(I.tag===13)I.memoizedState!==null&&QI(I,B,O);else if(I.tag===19)QI(I,B,O);else if(I.child!==null){I.child.return=I,I=I.child;continue}if(I===O)break e;for(;I.sibling===null;){if(I.return===null||I.return===O)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}Y&=1}if(Mn(qn,Y),(O.mode&1)===0)O.memoizedState=null;else switch(_){case"forwards":for(B=O.child,_=null;B!==null;)I=B.alternate,I!==null&&ly(I)===null&&(_=B),B=B.sibling;B=_,B===null?(_=O.child,O.child=null):(_=B.sibling,B.sibling=null),k5(O,!1,_,B,q);break;case"backwards":for(B=null,_=O.child,O.child=null;_!==null;){if(I=_.alternate,I!==null&&ly(I)===null){O.child=_;break}I=_.sibling,_.sibling=B,B=_,_=I}k5(O,!0,B,null,q);break;case"together":k5(O,!1,null,null,void 0);break;default:O.memoizedState=null}return O.child}function gy(I,O){(O.mode&1)===0&&I!==null&&(I.alternate=null,O.alternate=null,O.flags|=2)}function $l(I,O,B){if(I!==null&&(O.dependencies=I.dependencies),eh|=O.lanes,(B&O.childLanes)===0)return null;if(I!==null&&O.child!==I.child)throw Error(n(153));if(O.child!==null){for(I=O.child,B=ku(I,I.pendingProps),O.child=B,B.return=O;I.sibling!==null;)I=I.sibling,B=B.sibling=ku(I,I.pendingProps),B.return=O;B.sibling=null}return O.child}function Xq(I,O,B){switch(O.tag){case 3:ZI(O),af();break;case 5:fI(O);break;case 1:Qi(O.type)&&Q1(O);break;case 4:g5(O,O.stateNode.containerInfo);break;case 10:var Y=O.type._context,_=O.memoizedProps.value;Mn(iy,Y._currentValue),Y._currentValue=_;break;case 13:if(Y=O.memoizedState,Y!==null)return Y.dehydrated!==null?(Mn(qn,qn.current&1),O.flags|=128,null):(B&O.child.childLanes)!==0?_I(I,O,B):(Mn(qn,qn.current&1),I=$l(I,O,B),I!==null?I.sibling:null);Mn(qn,qn.current&1);break;case 19:if(Y=(B&O.childLanes)!==0,(I.flags&128)!==0){if(Y)return qI(I,O,B);O.flags|=128}if(_=O.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Mn(qn,qn.current),Y)break;return null;case 22:case 23:return O.lanes=0,YI(I,O,B)}return $l(I,O,B)}var eR,B5,tR,nR;eR=function(I,O){for(var B=O.child;B!==null;){if(B.tag===5||B.tag===6)I.appendChild(B.stateNode);else if(B.tag!==4&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===O)break;for(;B.sibling===null;){if(B.return===null||B.return===O)return;B=B.return}B.sibling.return=B.return,B=B.sibling}},B5=function(){},tR=function(I,O,B,Y){var _=I.memoizedProps;if(_!==Y){I=O.stateNode,Qc(Bo.current);var q=null;switch(B){case"input":_=de(I,_),Y=de(I,Y),q=[];break;case"select":_=W({},_,{value:void 0}),Y=W({},Y,{value:void 0}),q=[];break;case"textarea":_=Re(I,_),Y=Re(I,Y),q=[];break;default:typeof _.onClick!="function"&&typeof Y.onClick=="function"&&(I.onclick=Z1)}ut(B,Y);var re;B=null;for($e in _)if(!Y.hasOwnProperty($e)&&_.hasOwnProperty($e)&&_[$e]!=null)if($e==="style"){var he=_[$e];for(re in he)he.hasOwnProperty(re)&&(B||(B={}),B[re]="")}else $e!=="dangerouslySetInnerHTML"&&$e!=="children"&&$e!=="suppressContentEditableWarning"&&$e!=="suppressHydrationWarning"&&$e!=="autoFocus"&&(c.hasOwnProperty($e)?q||(q=[]):(q=q||[]).push($e,null));for($e in Y){var me=Y[$e];if(he=_?.[$e],Y.hasOwnProperty($e)&&me!==he&&(me!=null||he!=null))if($e==="style")if(he){for(re in he)!he.hasOwnProperty(re)||me&&me.hasOwnProperty(re)||(B||(B={}),B[re]="");for(re in me)me.hasOwnProperty(re)&&he[re]!==me[re]&&(B||(B={}),B[re]=me[re])}else B||(q||(q=[]),q.push($e,B)),B=me;else $e==="dangerouslySetInnerHTML"?(me=me?me.__html:void 0,he=he?he.__html:void 0,me!=null&&he!==me&&(q=q||[]).push($e,me)):$e==="children"?typeof me!="string"&&typeof me!="number"||(q=q||[]).push($e,""+me):$e!=="suppressContentEditableWarning"&&$e!=="suppressHydrationWarning"&&(c.hasOwnProperty($e)?(me!=null&&$e==="onScroll"&&kn("scroll",I),q||he===me||(q=[])):(q=q||[]).push($e,me))}B&&(q=q||[]).push("style",B);var $e=q;(O.updateQueue=$e)&&(O.flags|=4)}},nR=function(I,O,B,Y){B!==Y&&(O.flags|=4)};function nv(I,O){if(!Zn)switch(I.tailMode){case"hidden":O=I.tail;for(var B=null;O!==null;)O.alternate!==null&&(B=O),O=O.sibling;B===null?I.tail=null:B.sibling=null;break;case"collapsed":B=I.tail;for(var Y=null;B!==null;)B.alternate!==null&&(Y=B),B=B.sibling;Y===null?O||I.tail===null?I.tail=null:I.tail.sibling=null:Y.sibling=null}}function bi(I){var O=I.alternate!==null&&I.alternate.child===I.child,B=0,Y=0;if(O)for(var _=I.child;_!==null;)B|=_.lanes|_.childLanes,Y|=_.subtreeFlags&14680064,Y|=_.flags&14680064,_.return=I,_=_.sibling;else for(_=I.child;_!==null;)B|=_.lanes|_.childLanes,Y|=_.subtreeFlags,Y|=_.flags,_.return=I,_=_.sibling;return I.subtreeFlags|=Y,I.childLanes=B,O}function Kq(I,O,B){var Y=O.pendingProps;switch(a5(O),O.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bi(O),null;case 1:return Qi(O.type)&&_1(),bi(O),null;case 3:return Y=O.stateNode,cf(),Bn(_i),Bn(wi),w5(),Y.pendingContext&&(Y.context=Y.pendingContext,Y.pendingContext=null),(I===null||I.child===null)&&(ny(O)?O.flags|=4:I===null||I.memoizedState.isDehydrated&&(O.flags&256)===0||(O.flags|=1024,Wa!==null&&(Z5(Wa),Wa=null))),B5(I,O),bi(O),null;case 5:m5(O);var _=Qc(_0.current);if(B=O.type,I!==null&&O.stateNode!=null)tR(I,O,B,Y,_),I.ref!==O.ref&&(O.flags|=512,O.flags|=2097152);else{if(!Y){if(O.stateNode===null)throw Error(n(166));return bi(O),null}if(I=Qc(Bo.current),ny(O)){Y=O.stateNode,B=O.type;var q=O.memoizedProps;switch(Y[ko]=O,Y[Y0]=q,I=(O.mode&1)!==0,B){case"dialog":kn("cancel",Y),kn("close",Y);break;case"iframe":case"object":case"embed":kn("load",Y);break;case"video":case"audio":for(_=0;_<G0.length;_++)kn(G0[_],Y);break;case"source":kn("error",Y);break;case"img":case"image":case"link":kn("error",Y),kn("load",Y);break;case"details":kn("toggle",Y);break;case"input":fe(Y,q),kn("invalid",Y);break;case"select":Y._wrapperState={wasMultiple:!!q.multiple},kn("invalid",Y);break;case"textarea":Fe(Y,q),kn("invalid",Y)}ut(B,q),_=null;for(var re in q)if(q.hasOwnProperty(re)){var he=q[re];re==="children"?typeof he=="string"?Y.textContent!==he&&(q.suppressHydrationWarning!==!0&&K1(Y.textContent,he,I),_=["children",he]):typeof he=="number"&&Y.textContent!==""+he&&(q.suppressHydrationWarning!==!0&&K1(Y.textContent,he,I),_=["children",""+he]):c.hasOwnProperty(re)&&he!=null&&re==="onScroll"&&kn("scroll",Y)}switch(B){case"input":te(Y),ye(Y,q,!0);break;case"textarea":te(Y),Xe(Y);break;case"select":case"option":break;default:typeof q.onClick=="function"&&(Y.onclick=Z1)}Y=_,O.updateQueue=Y,Y!==null&&(O.flags|=4)}else{re=_.nodeType===9?_:_.ownerDocument,I==="http://www.w3.org/1999/xhtml"&&(I=st(B)),I==="http://www.w3.org/1999/xhtml"?B==="script"?(I=re.createElement("div"),I.innerHTML="<script><\/script>",I=I.removeChild(I.firstChild)):typeof Y.is=="string"?I=re.createElement(B,{is:Y.is}):(I=re.createElement(B),B==="select"&&(re=I,Y.multiple?re.multiple=!0:Y.size&&(re.size=Y.size))):I=re.createElementNS(I,B),I[ko]=O,I[Y0]=Y,eR(I,O,!1,!1),O.stateNode=I;e:{switch(re=xt(B,Y),B){case"dialog":kn("cancel",I),kn("close",I),_=Y;break;case"iframe":case"object":case"embed":kn("load",I),_=Y;break;case"video":case"audio":for(_=0;_<G0.length;_++)kn(G0[_],I);_=Y;break;case"source":kn("error",I),_=Y;break;case"img":case"image":case"link":kn("error",I),kn("load",I),_=Y;break;case"details":kn("toggle",I),_=Y;break;case"input":fe(I,Y),_=de(I,Y),kn("invalid",I);break;case"option":_=Y;break;case"select":I._wrapperState={wasMultiple:!!Y.multiple},_=W({},Y,{value:void 0}),kn("invalid",I);break;case"textarea":Fe(I,Y),_=Re(I,Y),kn("invalid",I);break;default:_=Y}ut(B,_),he=_;for(q in he)if(he.hasOwnProperty(q)){var me=he[q];q==="style"?ht(I,me):q==="dangerouslySetInnerHTML"?(me=me?me.__html:void 0,me!=null&&nt(I,me)):q==="children"?typeof me=="string"?(B!=="textarea"||me!=="")&&St(I,me):typeof me=="number"&&St(I,""+me):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(c.hasOwnProperty(q)?me!=null&&q==="onScroll"&&kn("scroll",I):me!=null&&w(I,q,me,re))}switch(B){case"input":te(I),ye(I,Y,!1);break;case"textarea":te(I),Xe(I);break;case"option":Y.value!=null&&I.setAttribute("value",""+J(Y.value));break;case"select":I.multiple=!!Y.multiple,q=Y.value,q!=null?je(I,!!Y.multiple,q,!1):Y.defaultValue!=null&&je(I,!!Y.multiple,Y.defaultValue,!0);break;default:typeof _.onClick=="function"&&(I.onclick=Z1)}switch(B){case"button":case"input":case"select":case"textarea":Y=!!Y.autoFocus;break e;case"img":Y=!0;break e;default:Y=!1}}Y&&(O.flags|=4)}O.ref!==null&&(O.flags|=512,O.flags|=2097152)}return bi(O),null;case 6:if(I&&O.stateNode!=null)nR(I,O,I.memoizedProps,Y);else{if(typeof Y!="string"&&O.stateNode===null)throw Error(n(166));if(B=Qc(_0.current),Qc(Bo.current),ny(O)){if(Y=O.stateNode,B=O.memoizedProps,Y[ko]=O,(q=Y.nodeValue!==B)&&(I=Os,I!==null))switch(I.tag){case 3:K1(Y.nodeValue,B,(I.mode&1)!==0);break;case 5:I.memoizedProps.suppressHydrationWarning!==!0&&K1(Y.nodeValue,B,(I.mode&1)!==0)}q&&(O.flags|=4)}else Y=(B.nodeType===9?B:B.ownerDocument).createTextNode(Y),Y[ko]=O,O.stateNode=Y}return bi(O),null;case 13:if(Bn(qn),Y=O.memoizedState,I===null||I.memoizedState!==null&&I.memoizedState.dehydrated!==null){if(Zn&&Ms!==null&&(O.mode&1)!==0&&(O.flags&128)===0)sI(),af(),O.flags|=98560,q=!1;else if(q=ny(O),Y!==null&&Y.dehydrated!==null){if(I===null){if(!q)throw Error(n(318));if(q=O.memoizedState,q=q!==null?q.dehydrated:null,!q)throw Error(n(317));q[ko]=O}else af(),(O.flags&128)===0&&(O.memoizedState=null),O.flags|=4;bi(O),q=!1}else Wa!==null&&(Z5(Wa),Wa=null),q=!0;if(!q)return O.flags&65536?O:null}return(O.flags&128)!==0?(O.lanes=B,O):(Y=Y!==null,Y!==(I!==null&&I.memoizedState!==null)&&Y&&(O.child.flags|=8192,(O.mode&1)!==0&&(I===null||(qn.current&1)!==0?Mr===0&&(Mr=3):Q5())),O.updateQueue!==null&&(O.flags|=4),bi(O),null);case 4:return cf(),B5(I,O),I===null&&V0(O.stateNode.containerInfo),bi(O),null;case 10:return d5(O.type._context),bi(O),null;case 17:return Qi(O.type)&&_1(),bi(O),null;case 19:if(Bn(qn),q=O.memoizedState,q===null)return bi(O),null;if(Y=(O.flags&128)!==0,re=q.rendering,re===null)if(Y)nv(q,!1);else{if(Mr!==0||I!==null&&(I.flags&128)!==0)for(I=O.child;I!==null;){if(re=ly(I),re!==null){for(O.flags|=128,nv(q,!1),Y=re.updateQueue,Y!==null&&(O.updateQueue=Y,O.flags|=4),O.subtreeFlags=0,Y=B,B=O.child;B!==null;)q=B,I=Y,q.flags&=14680066,re=q.alternate,re===null?(q.childLanes=0,q.lanes=I,q.child=null,q.subtreeFlags=0,q.memoizedProps=null,q.memoizedState=null,q.updateQueue=null,q.dependencies=null,q.stateNode=null):(q.childLanes=re.childLanes,q.lanes=re.lanes,q.child=re.child,q.subtreeFlags=0,q.deletions=null,q.memoizedProps=re.memoizedProps,q.memoizedState=re.memoizedState,q.updateQueue=re.updateQueue,q.type=re.type,I=re.dependencies,q.dependencies=I===null?null:{lanes:I.lanes,firstContext:I.firstContext}),B=B.sibling;return Mn(qn,qn.current&1|2),O.child}I=I.sibling}q.tail!==null&&Lt()>pf&&(O.flags|=128,Y=!0,nv(q,!1),O.lanes=4194304)}else{if(!Y)if(I=ly(re),I!==null){if(O.flags|=128,Y=!0,B=I.updateQueue,B!==null&&(O.updateQueue=B,O.flags|=4),nv(q,!0),q.tail===null&&q.tailMode==="hidden"&&!re.alternate&&!Zn)return bi(O),null}else 2*Lt()-q.renderingStartTime>pf&&B!==1073741824&&(O.flags|=128,Y=!0,nv(q,!1),O.lanes=4194304);q.isBackwards?(re.sibling=O.child,O.child=re):(B=q.last,B!==null?B.sibling=re:O.child=re,q.last=re)}return q.tail!==null?(O=q.tail,q.rendering=O,q.tail=O.sibling,q.renderingStartTime=Lt(),O.sibling=null,B=qn.current,Mn(qn,Y?B&1|2:B&1),O):(bi(O),null);case 22:case 23:return _5(),Y=O.memoizedState!==null,I!==null&&I.memoizedState!==null!==Y&&(O.flags|=8192),Y&&(O.mode&1)!==0?($s&1073741824)!==0&&(bi(O),O.subtreeFlags&6&&(O.flags|=8192)):bi(O),null;case 24:return null;case 25:return null}throw Error(n(156,O.tag))}function Zq(I,O){switch(a5(O),O.tag){case 1:return Qi(O.type)&&_1(),I=O.flags,I&65536?(O.flags=I&-65537|128,O):null;case 3:return cf(),Bn(_i),Bn(wi),w5(),I=O.flags,(I&65536)!==0&&(I&128)===0?(O.flags=I&-65537|128,O):null;case 5:return m5(O),null;case 13:if(Bn(qn),I=O.memoizedState,I!==null&&I.dehydrated!==null){if(O.alternate===null)throw Error(n(340));af()}return I=O.flags,I&65536?(O.flags=I&-65537|128,O):null;case 19:return Bn(qn),null;case 4:return cf(),null;case 10:return d5(O.type._context),null;case 22:case 23:return _5(),null;case 24:return null;default:return null}}var my=!1,Ei=!1,Jq=typeof WeakSet=="function"?WeakSet:Set,dt=null;function df(I,O){var B=I.ref;if(B!==null)if(typeof B=="function")try{B(null)}catch(Y){ir(I,O,Y)}else B.current=null}function U5(I,O,B){try{B()}catch(Y){ir(I,O,Y)}}var rR=!1;function _q(I,O){if(_b=Nn,I=DP(),Gb(I)){if("selectionStart"in I)var B={start:I.selectionStart,end:I.selectionEnd};else e:{B=(B=I.ownerDocument)&&B.defaultView||window;var Y=B.getSelection&&B.getSelection();if(Y&&Y.rangeCount!==0){B=Y.anchorNode;var _=Y.anchorOffset,q=Y.focusNode;Y=Y.focusOffset;try{B.nodeType,q.nodeType}catch{B=null;break e}var re=0,he=-1,me=-1,$e=0,ze=0,Ve=I,Ue=null;t:for(;;){for(var at;Ve!==B||_!==0&&Ve.nodeType!==3||(he=re+_),Ve!==q||Y!==0&&Ve.nodeType!==3||(me=re+Y),Ve.nodeType===3&&(re+=Ve.nodeValue.length),(at=Ve.firstChild)!==null;)Ue=Ve,Ve=at;for(;;){if(Ve===I)break t;if(Ue===B&&++$e===_&&(he=re),Ue===q&&++ze===Y&&(me=re),(at=Ve.nextSibling)!==null)break;Ve=Ue,Ue=Ve.parentNode}Ve=at}B=he===-1||me===-1?null:{start:he,end:me}}else B=null}B=B||{start:0,end:0}}else B=null;for(Qb={focusedElem:I,selectionRange:B},Nn=!1,dt=O;dt!==null;)if(O=dt,I=O.child,(O.subtreeFlags&1028)!==0&&I!==null)I.return=O,dt=I;else for(;dt!==null;){O=dt;try{var ft=O.alternate;if((O.flags&1024)!==0)switch(O.tag){case 0:case 11:case 15:break;case 1:if(ft!==null){var gt=ft.memoizedProps,hr=ft.memoizedState,Te=O.stateNode,xe=Te.getSnapshotBeforeUpdate(O.elementType===O.type?gt:Ga(O.type,gt),hr);Te.__reactInternalSnapshotBeforeUpdate=xe}break;case 3:var Oe=O.stateNode.containerInfo;Oe.nodeType===1?Oe.textContent="":Oe.nodeType===9&&Oe.documentElement&&Oe.removeChild(Oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ke){ir(O,O.return,Ke)}if(I=O.sibling,I!==null){I.return=O.return,dt=I;break}dt=O.return}return ft=rR,rR=!1,ft}function rv(I,O,B){var Y=O.updateQueue;if(Y=Y!==null?Y.lastEffect:null,Y!==null){var _=Y=Y.next;do{if((_.tag&I)===I){var q=_.destroy;_.destroy=void 0,q!==void 0&&U5(O,B,q)}_=_.next}while(_!==Y)}}function yy(I,O){if(O=O.updateQueue,O=O!==null?O.lastEffect:null,O!==null){var B=O=O.next;do{if((B.tag&I)===I){var Y=B.create;B.destroy=Y()}B=B.next}while(B!==O)}}function j5(I){var O=I.ref;if(O!==null){var B=I.stateNode;switch(I.tag){case 5:I=B;break;default:I=B}typeof O=="function"?O(I):O.current=I}}function iR(I){var O=I.alternate;O!==null&&(I.alternate=null,iR(O)),I.child=null,I.deletions=null,I.sibling=null,I.tag===5&&(O=I.stateNode,O!==null&&(delete O[ko],delete O[Y0],delete O[n5],delete O[Fq],delete O[Lq])),I.stateNode=null,I.return=null,I.dependencies=null,I.memoizedProps=null,I.memoizedState=null,I.pendingProps=null,I.stateNode=null,I.updateQueue=null}function sR(I){return I.tag===5||I.tag===3||I.tag===4}function aR(I){e:for(;;){for(;I.sibling===null;){if(I.return===null||sR(I.return))return null;I=I.return}for(I.sibling.return=I.return,I=I.sibling;I.tag!==5&&I.tag!==6&&I.tag!==18;){if(I.flags&2||I.child===null||I.tag===4)continue e;I.child.return=I,I=I.child}if(!(I.flags&2))return I.stateNode}}function z5(I,O,B){var Y=I.tag;if(Y===5||Y===6)I=I.stateNode,O?B.nodeType===8?B.parentNode.insertBefore(I,O):B.insertBefore(I,O):(B.nodeType===8?(O=B.parentNode,O.insertBefore(I,B)):(O=B,O.appendChild(I)),B=B._reactRootContainer,B!=null||O.onclick!==null||(O.onclick=Z1));else if(Y!==4&&(I=I.child,I!==null))for(z5(I,O,B),I=I.sibling;I!==null;)z5(I,O,B),I=I.sibling}function W5(I,O,B){var Y=I.tag;if(Y===5||Y===6)I=I.stateNode,O?B.insertBefore(I,O):B.appendChild(I);else if(Y!==4&&(I=I.child,I!==null))for(W5(I,O,B),I=I.sibling;I!==null;)W5(I,O,B),I=I.sibling}var ii=null,Va=!1;function $u(I,O,B){for(B=B.child;B!==null;)oR(I,O,B),B=B.sibling}function oR(I,O,B){if(ra&&typeof ra.onCommitFiberUnmount=="function")try{ra.onCommitFiberUnmount(Su,B)}catch{}switch(B.tag){case 5:Ei||df(B,O);case 6:var Y=ii,_=Va;ii=null,$u(I,O,B),ii=Y,Va=_,ii!==null&&(Va?(I=ii,B=B.stateNode,I.nodeType===8?I.parentNode.removeChild(B):I.removeChild(B)):ii.removeChild(B.stateNode));break;case 18:ii!==null&&(Va?(I=ii,B=B.stateNode,I.nodeType===8?t5(I.parentNode,B):I.nodeType===1&&t5(I,B),Be(I)):t5(ii,B.stateNode));break;case 4:Y=ii,_=Va,ii=B.stateNode.containerInfo,Va=!0,$u(I,O,B),ii=Y,Va=_;break;case 0:case 11:case 14:case 15:if(!Ei&&(Y=B.updateQueue,Y!==null&&(Y=Y.lastEffect,Y!==null))){_=Y=Y.next;do{var q=_,re=q.destroy;q=q.tag,re!==void 0&&((q&2)!==0||(q&4)!==0)&&U5(B,O,re),_=_.next}while(_!==Y)}$u(I,O,B);break;case 1:if(!Ei&&(df(B,O),Y=B.stateNode,typeof Y.componentWillUnmount=="function"))try{Y.props=B.memoizedProps,Y.state=B.memoizedState,Y.componentWillUnmount()}catch(he){ir(B,O,he)}$u(I,O,B);break;case 21:$u(I,O,B);break;case 22:B.mode&1?(Ei=(Y=Ei)||B.memoizedState!==null,$u(I,O,B),Ei=Y):$u(I,O,B);break;default:$u(I,O,B)}}function lR(I){var O=I.updateQueue;if(O!==null){I.updateQueue=null;var B=I.stateNode;B===null&&(B=I.stateNode=new Jq),O.forEach(function(Y){var _=aee.bind(null,I,Y);B.has(Y)||(B.add(Y),Y.then(_,_))})}}function Ha(I,O){var B=O.deletions;if(B!==null)for(var Y=0;Y<B.length;Y++){var _=B[Y];try{var q=I,re=O,he=re;e:for(;he!==null;){switch(he.tag){case 5:ii=he.stateNode,Va=!1;break e;case 3:ii=he.stateNode.containerInfo,Va=!0;break e;case 4:ii=he.stateNode.containerInfo,Va=!0;break e}he=he.return}if(ii===null)throw Error(n(160));oR(q,re,_),ii=null,Va=!1;var me=_.alternate;me!==null&&(me.return=null),_.return=null}catch($e){ir(_,O,$e)}}if(O.subtreeFlags&12854)for(O=O.child;O!==null;)uR(O,I),O=O.sibling}function uR(I,O){var B=I.alternate,Y=I.flags;switch(I.tag){case 0:case 11:case 14:case 15:if(Ha(O,I),jo(I),Y&4){try{rv(3,I,I.return),yy(3,I)}catch(gt){ir(I,I.return,gt)}try{rv(5,I,I.return)}catch(gt){ir(I,I.return,gt)}}break;case 1:Ha(O,I),jo(I),Y&512&&B!==null&&df(B,B.return);break;case 5:if(Ha(O,I),jo(I),Y&512&&B!==null&&df(B,B.return),I.flags&32){var _=I.stateNode;try{St(_,"")}catch(gt){ir(I,I.return,gt)}}if(Y&4&&(_=I.stateNode,_!=null)){var q=I.memoizedProps,re=B!==null?B.memoizedProps:q,he=I.type,me=I.updateQueue;if(I.updateQueue=null,me!==null)try{he==="input"&&q.type==="radio"&&q.name!=null&&oe(_,q),xt(he,re);var $e=xt(he,q);for(re=0;re<me.length;re+=2){var ze=me[re],Ve=me[re+1];ze==="style"?ht(_,Ve):ze==="dangerouslySetInnerHTML"?nt(_,Ve):ze==="children"?St(_,Ve):w(_,ze,Ve,$e)}switch(he){case"input":Ee(_,q);break;case"textarea":Ae(_,q);break;case"select":var Ue=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!q.multiple;var at=q.value;at!=null?je(_,!!q.multiple,at,!1):Ue!==!!q.multiple&&(q.defaultValue!=null?je(_,!!q.multiple,q.defaultValue,!0):je(_,!!q.multiple,q.multiple?[]:"",!1))}_[Y0]=q}catch(gt){ir(I,I.return,gt)}}break;case 6:if(Ha(O,I),jo(I),Y&4){if(I.stateNode===null)throw Error(n(162));_=I.stateNode,q=I.memoizedProps;try{_.nodeValue=q}catch(gt){ir(I,I.return,gt)}}break;case 3:if(Ha(O,I),jo(I),Y&4&&B!==null&&B.memoizedState.isDehydrated)try{Be(O.containerInfo)}catch(gt){ir(I,I.return,gt)}break;case 4:Ha(O,I),jo(I);break;case 13:Ha(O,I),jo(I),_=I.child,_.flags&8192&&(q=_.memoizedState!==null,_.stateNode.isHidden=q,!q||_.alternate!==null&&_.alternate.memoizedState!==null||(H5=Lt())),Y&4&&lR(I);break;case 22:if(ze=B!==null&&B.memoizedState!==null,I.mode&1?(Ei=($e=Ei)||ze,Ha(O,I),Ei=$e):Ha(O,I),jo(I),Y&8192){if($e=I.memoizedState!==null,(I.stateNode.isHidden=$e)&&!ze&&(I.mode&1)!==0)for(dt=I,ze=I.child;ze!==null;){for(Ve=dt=ze;dt!==null;){switch(Ue=dt,at=Ue.child,Ue.tag){case 0:case 11:case 14:case 15:rv(4,Ue,Ue.return);break;case 1:df(Ue,Ue.return);var ft=Ue.stateNode;if(typeof ft.componentWillUnmount=="function"){Y=Ue,B=Ue.return;try{O=Y,ft.props=O.memoizedProps,ft.state=O.memoizedState,ft.componentWillUnmount()}catch(gt){ir(Y,B,gt)}}break;case 5:df(Ue,Ue.return);break;case 22:if(Ue.memoizedState!==null){dR(Ve);continue}}at!==null?(at.return=Ue,dt=at):dR(Ve)}ze=ze.sibling}e:for(ze=null,Ve=I;;){if(Ve.tag===5){if(ze===null){ze=Ve;try{_=Ve.stateNode,$e?(q=_.style,typeof q.setProperty=="function"?q.setProperty("display","none","important"):q.display="none"):(he=Ve.stateNode,me=Ve.memoizedProps.style,re=me!=null&&me.hasOwnProperty("display")?me.display:null,he.style.display=_e("display",re))}catch(gt){ir(I,I.return,gt)}}}else if(Ve.tag===6){if(ze===null)try{Ve.stateNode.nodeValue=$e?"":Ve.memoizedProps}catch(gt){ir(I,I.return,gt)}}else if((Ve.tag!==22&&Ve.tag!==23||Ve.memoizedState===null||Ve===I)&&Ve.child!==null){Ve.child.return=Ve,Ve=Ve.child;continue}if(Ve===I)break e;for(;Ve.sibling===null;){if(Ve.return===null||Ve.return===I)break e;ze===Ve&&(ze=null),Ve=Ve.return}ze===Ve&&(ze=null),Ve.sibling.return=Ve.return,Ve=Ve.sibling}}break;case 19:Ha(O,I),jo(I),Y&4&&lR(I);break;case 21:break;default:Ha(O,I),jo(I)}}function jo(I){var O=I.flags;if(O&2){try{e:{for(var B=I.return;B!==null;){if(sR(B)){var Y=B;break e}B=B.return}throw Error(n(160))}switch(Y.tag){case 5:var _=Y.stateNode;Y.flags&32&&(St(_,""),Y.flags&=-33);var q=aR(I);W5(I,q,_);break;case 3:case 4:var re=Y.stateNode.containerInfo,he=aR(I);z5(I,he,re);break;default:throw Error(n(161))}}catch(me){ir(I,I.return,me)}I.flags&=-3}O&4096&&(I.flags&=-4097)}function Qq(I,O,B){dt=I,cR(I)}function cR(I,O,B){for(var Y=(I.mode&1)!==0;dt!==null;){var _=dt,q=_.child;if(_.tag===22&&Y){var re=_.memoizedState!==null||my;if(!re){var he=_.alternate,me=he!==null&&he.memoizedState!==null||Ei;he=my;var $e=Ei;if(my=re,(Ei=me)&&!$e)for(dt=_;dt!==null;)re=dt,me=re.child,re.tag===22&&re.memoizedState!==null?fR(_):me!==null?(me.return=re,dt=me):fR(_);for(;q!==null;)dt=q,cR(q),q=q.sibling;dt=_,my=he,Ei=$e}hR(I)}else(_.subtreeFlags&8772)!==0&&q!==null?(q.return=_,dt=q):hR(I)}}function hR(I){for(;dt!==null;){var O=dt;if((O.flags&8772)!==0){var B=O.alternate;try{if((O.flags&8772)!==0)switch(O.tag){case 0:case 11:case 15:Ei||yy(5,O);break;case 1:var Y=O.stateNode;if(O.flags&4&&!Ei)if(B===null)Y.componentDidMount();else{var _=O.elementType===O.type?B.memoizedProps:Ga(O.type,B.memoizedProps);Y.componentDidUpdate(_,B.memoizedState,Y.__reactInternalSnapshotBeforeUpdate)}var q=O.updateQueue;q!==null&&dI(O,q,Y);break;case 3:var re=O.updateQueue;if(re!==null){if(B=null,O.child!==null)switch(O.child.tag){case 5:B=O.child.stateNode;break;case 1:B=O.child.stateNode}dI(O,re,B)}break;case 5:var he=O.stateNode;if(B===null&&O.flags&4){B=he;var me=O.memoizedProps;switch(O.type){case"button":case"input":case"select":case"textarea":me.autoFocus&&B.focus();break;case"img":me.src&&(B.src=me.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(O.memoizedState===null){var $e=O.alternate;if($e!==null){var ze=$e.memoizedState;if(ze!==null){var Ve=ze.dehydrated;Ve!==null&&Be(Ve)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ei||O.flags&512&&j5(O)}catch(Ue){ir(O,O.return,Ue)}}if(O===I){dt=null;break}if(B=O.sibling,B!==null){B.return=O.return,dt=B;break}dt=O.return}}function dR(I){for(;dt!==null;){var O=dt;if(O===I){dt=null;break}var B=O.sibling;if(B!==null){B.return=O.return,dt=B;break}dt=O.return}}function fR(I){for(;dt!==null;){var O=dt;try{switch(O.tag){case 0:case 11:case 15:var B=O.return;try{yy(4,O)}catch(me){ir(O,B,me)}break;case 1:var Y=O.stateNode;if(typeof Y.componentDidMount=="function"){var _=O.return;try{Y.componentDidMount()}catch(me){ir(O,_,me)}}var q=O.return;try{j5(O)}catch(me){ir(O,q,me)}break;case 5:var re=O.return;try{j5(O)}catch(me){ir(O,re,me)}}}catch(me){ir(O,O.return,me)}if(O===I){dt=null;break}var he=O.sibling;if(he!==null){he.return=O.return,dt=he;break}dt=O.return}}var qq=Math.ceil,wy=x.ReactCurrentDispatcher,G5=x.ReactCurrentOwner,la=x.ReactCurrentBatchConfig,nn=0,Xr=null,xr=null,si=0,$s=0,ff=Pu(0),Mr=0,iv=null,eh=0,xy=0,V5=0,sv=null,es=null,H5=0,pf=1/0,Fl=null,by=!1,Y5=null,Fu=null,Ey=!1,Lu=null,Cy=0,av=0,X5=null,Sy=-1,Ty=0;function Bi(){return(nn&6)!==0?Lt():Sy!==-1?Sy:Sy=Lt()}function Du(I){return(I.mode&1)===0?1:(nn&2)!==0&&si!==0?si&-si:Nq.transition!==null?(Ty===0&&(Ty=O1()),Ty):(I=hn,I!==0||(I=window.event,I=I===void 0?16:D0(I.type)),I)}function Ya(I,O,B,Y){if(50<av)throw av=0,X5=null,Error(n(185));Gc(I,B,Y),((nn&2)===0||I!==Xr)&&(I===Xr&&((nn&2)===0&&(xy|=B),Mr===4&&Nu(I,si)),ts(I,Y),B===1&&nn===0&&(O.mode&1)===0&&(pf=Lt()+500,q1&&Ru()))}function ts(I,O){var B=I.callbackNode;$b(I,O);var Y=Wd(I,I===Xr?si:0);if(Y===0)B!==null&&Tl(B),I.callbackNode=null,I.callbackPriority=0;else if(O=Y&-Y,I.callbackPriority!==O){if(B!=null&&Tl(B),O===1)I.tag===0?Dq(vR.bind(null,I)):eI(vR.bind(null,I)),Mq(function(){(nn&6)===0&&Ru()}),B=null;else{switch(M1(Y)){case 1:B=Kn;break;case 4:B=Ji;break;case 16:B=Ps;break;case 536870912:B=Ud;break;default:B=Ps}B=CR(B,pR.bind(null,I))}I.callbackPriority=O,I.callbackNode=B}}function pR(I,O){if(Sy=-1,Ty=0,(nn&6)!==0)throw Error(n(327));var B=I.callbackNode;if(vf()&&I.callbackNode!==B)return null;var Y=Wd(I,I===Xr?si:0);if(Y===0)return null;if((Y&30)!==0||(Y&I.expiredLanes)!==0||O)O=Ay(I,Y);else{O=Y;var _=nn;nn|=2;var q=mR();(Xr!==I||si!==O)&&(Fl=null,pf=Lt()+500,nh(I,O));do try{nee();break}catch(he){gR(I,he)}while(!0);h5(),wy.current=q,nn=_,xr!==null?O=0:(Xr=null,si=0,O=Mr)}if(O!==0){if(O===2&&(_=R0(I),_!==0&&(Y=_,O=K5(I,_))),O===1)throw B=iv,nh(I,0),Nu(I,Y),ts(I,Lt()),B;if(O===6)Nu(I,Y);else{if(_=I.current.alternate,(Y&30)===0&&!eee(_)&&(O=Ay(I,Y),O===2&&(q=R0(I),q!==0&&(Y=q,O=K5(I,q))),O===1))throw B=iv,nh(I,0),Nu(I,Y),ts(I,Lt()),B;switch(I.finishedWork=_,I.finishedLanes=Y,O){case 0:case 1:throw Error(n(345));case 2:rh(I,es,Fl);break;case 3:if(Nu(I,Y),(Y&130023424)===Y&&(O=H5+500-Lt(),10<O)){if(Wd(I,0)!==0)break;if(_=I.suspendedLanes,(_&Y)!==Y){Bi(),I.pingedLanes|=I.suspendedLanes&_;break}I.timeoutHandle=e5(rh.bind(null,I,es,Fl),O);break}rh(I,es,Fl);break;case 4:if(Nu(I,Y),(Y&4194240)===Y)break;for(O=I.eventTimes,_=-1;0<Y;){var re=31-Is(Y);q=1<<re,re=O[re],re>_&&(_=re),Y&=~q}if(Y=_,Y=Lt()-Y,Y=(120>Y?120:480>Y?480:1080>Y?1080:1920>Y?1920:3e3>Y?3e3:4320>Y?4320:1960*qq(Y/1960))-Y,10<Y){I.timeoutHandle=e5(rh.bind(null,I,es,Fl),Y);break}rh(I,es,Fl);break;case 5:rh(I,es,Fl);break;default:throw Error(n(329))}}}return ts(I,Lt()),I.callbackNode===B?pR.bind(null,I):null}function K5(I,O){var B=sv;return I.current.memoizedState.isDehydrated&&(nh(I,O).flags|=256),I=Ay(I,O),I!==2&&(O=es,es=B,O!==null&&Z5(O)),I}function Z5(I){es===null?es=I:es.push.apply(es,I)}function eee(I){for(var O=I;;){if(O.flags&16384){var B=O.updateQueue;if(B!==null&&(B=B.stores,B!==null))for(var Y=0;Y<B.length;Y++){var _=B[Y],q=_.getSnapshot;_=_.value;try{if(!za(q(),_))return!1}catch{return!1}}}if(B=O.child,O.subtreeFlags&16384&&B!==null)B.return=O,O=B;else{if(O===I)break;for(;O.sibling===null;){if(O.return===null||O.return===I)return!0;O=O.return}O.sibling.return=O.return,O=O.sibling}}return!0}function Nu(I,O){for(O&=~V5,O&=~xy,I.suspendedLanes|=O,I.pingedLanes&=~O,I=I.expirationTimes;0<O;){var B=31-Is(O),Y=1<<B;I[B]=-1,O&=~Y}}function vR(I){if((nn&6)!==0)throw Error(n(327));vf();var O=Wd(I,0);if((O&1)===0)return ts(I,Lt()),null;var B=Ay(I,O);if(I.tag!==0&&B===2){var Y=R0(I);Y!==0&&(O=Y,B=K5(I,Y))}if(B===1)throw B=iv,nh(I,0),Nu(I,O),ts(I,Lt()),B;if(B===6)throw Error(n(345));return I.finishedWork=I.current.alternate,I.finishedLanes=O,rh(I,es,Fl),ts(I,Lt()),null}function J5(I,O){var B=nn;nn|=1;try{return I(O)}finally{nn=B,nn===0&&(pf=Lt()+500,q1&&Ru())}}function th(I){Lu!==null&&Lu.tag===0&&(nn&6)===0&&vf();var O=nn;nn|=1;var B=la.transition,Y=hn;try{if(la.transition=null,hn=1,I)return I()}finally{hn=Y,la.transition=B,nn=O,(nn&6)===0&&Ru()}}function _5(){$s=ff.current,Bn(ff)}function nh(I,O){I.finishedWork=null,I.finishedLanes=0;var B=I.timeoutHandle;if(B!==-1&&(I.timeoutHandle=-1,Oq(B)),xr!==null)for(B=xr.return;B!==null;){var Y=B;switch(a5(Y),Y.tag){case 1:Y=Y.type.childContextTypes,Y!=null&&_1();break;case 3:cf(),Bn(_i),Bn(wi),w5();break;case 5:m5(Y);break;case 4:cf();break;case 13:Bn(qn);break;case 19:Bn(qn);break;case 10:d5(Y.type._context);break;case 22:case 23:_5()}B=B.return}if(Xr=I,xr=I=ku(I.current,null),si=$s=O,Mr=0,iv=null,V5=xy=eh=0,es=sv=null,_c!==null){for(O=0;O<_c.length;O++)if(B=_c[O],Y=B.interleaved,Y!==null){B.interleaved=null;var _=Y.next,q=B.pending;if(q!==null){var re=q.next;q.next=_,Y.next=re}B.pending=Y}_c=null}return I}function gR(I,O){do{var B=xr;try{if(h5(),uy.current=fy,cy){for(var Y=er.memoizedState;Y!==null;){var _=Y.queue;_!==null&&(_.pending=null),Y=Y.next}cy=!1}if(qc=0,Yr=Or=er=null,Q0=!1,q0=0,G5.current=null,B===null||B.return===null){Mr=1,iv=O,xr=null;break}e:{var q=I,re=B.return,he=B,me=O;if(O=si,he.flags|=32768,me!==null&&typeof me=="object"&&typeof me.then=="function"){var $e=me,ze=he,Ve=ze.tag;if((ze.mode&1)===0&&(Ve===0||Ve===11||Ve===15)){var Ue=ze.alternate;Ue?(ze.updateQueue=Ue.updateQueue,ze.memoizedState=Ue.memoizedState,ze.lanes=Ue.lanes):(ze.updateQueue=null,ze.memoizedState=null)}var at=zI(re);if(at!==null){at.flags&=-257,WI(at,re,he,q,O),at.mode&1&&jI(q,$e,O),O=at,me=$e;var ft=O.updateQueue;if(ft===null){var gt=new Set;gt.add(me),O.updateQueue=gt}else ft.add(me);break e}else{if((O&1)===0){jI(q,$e,O),Q5();break e}me=Error(n(426))}}else if(Zn&&he.mode&1){var hr=zI(re);if(hr!==null){(hr.flags&65536)===0&&(hr.flags|=256),WI(hr,re,he,q,O),u5(hf(me,he));break e}}q=me=hf(me,he),Mr!==4&&(Mr=2),sv===null?sv=[q]:sv.push(q),q=re;do{switch(q.tag){case 3:q.flags|=65536,O&=-O,q.lanes|=O;var Te=BI(q,me,O);hI(q,Te);break e;case 1:he=me;var xe=q.type,Oe=q.stateNode;if((q.flags&128)===0&&(typeof xe.getDerivedStateFromError=="function"||Oe!==null&&typeof Oe.componentDidCatch=="function"&&(Fu===null||!Fu.has(Oe)))){q.flags|=65536,O&=-O,q.lanes|=O;var Ke=UI(q,he,O);hI(q,Ke);break e}}q=q.return}while(q!==null)}wR(B)}catch(wt){O=wt,xr===B&&B!==null&&(xr=B=B.return);continue}break}while(!0)}function mR(){var I=wy.current;return wy.current=fy,I===null?fy:I}function Q5(){(Mr===0||Mr===3||Mr===2)&&(Mr=4),Xr===null||(eh&268435455)===0&&(xy&268435455)===0||Nu(Xr,si)}function Ay(I,O){var B=nn;nn|=2;var Y=mR();(Xr!==I||si!==O)&&(Fl=null,nh(I,O));do try{tee();break}catch(_){gR(I,_)}while(!0);if(h5(),nn=B,wy.current=Y,xr!==null)throw Error(n(261));return Xr=null,si=0,Mr}function tee(){for(;xr!==null;)yR(xr)}function nee(){for(;xr!==null&&!zc();)yR(xr)}function yR(I){var O=ER(I.alternate,I,$s);I.memoizedProps=I.pendingProps,O===null?wR(I):xr=O,G5.current=null}function wR(I){var O=I;do{var B=O.alternate;if(I=O.return,(O.flags&32768)===0){if(B=Kq(B,O,$s),B!==null){xr=B;return}}else{if(B=Zq(B,O),B!==null){B.flags&=32767,xr=B;return}if(I!==null)I.flags|=32768,I.subtreeFlags=0,I.deletions=null;else{Mr=6,xr=null;return}}if(O=O.sibling,O!==null){xr=O;return}xr=O=I}while(O!==null);Mr===0&&(Mr=5)}function rh(I,O,B){var Y=hn,_=la.transition;try{la.transition=null,hn=1,ree(I,O,B,Y)}finally{la.transition=_,hn=Y}return null}function ree(I,O,B,Y){do vf();while(Lu!==null);if((nn&6)!==0)throw Error(n(327));B=I.finishedWork;var _=I.finishedLanes;if(B===null)return null;if(I.finishedWork=null,I.finishedLanes=0,B===I.current)throw Error(n(177));I.callbackNode=null,I.callbackPriority=0;var q=B.lanes|B.childLanes;if(Fb(I,q),I===Xr&&(xr=Xr=null,si=0),(B.subtreeFlags&2064)===0&&(B.flags&2064)===0||Ey||(Ey=!0,CR(Ps,function(){return vf(),null})),q=(B.flags&15990)!==0,(B.subtreeFlags&15990)!==0||q){q=la.transition,la.transition=null;var re=hn;hn=1;var he=nn;nn|=4,G5.current=null,_q(I,B),uR(B,I),Cq(Qb),Nn=!!_b,Qb=_b=null,I.current=B,Qq(B),Yt(),nn=he,hn=re,la.transition=q}else I.current=B;if(Ey&&(Ey=!1,Lu=I,Cy=_),q=I.pendingLanes,q===0&&(Fu=null),Pb(B.stateNode),ts(I,Lt()),O!==null)for(Y=I.onRecoverableError,B=0;B<O.length;B++)_=O[B],Y(_.value,{componentStack:_.stack,digest:_.digest});if(by)throw by=!1,I=Y5,Y5=null,I;return(Cy&1)!==0&&I.tag!==0&&vf(),q=I.pendingLanes,(q&1)!==0?I===X5?av++:(av=0,X5=I):av=0,Ru(),null}function vf(){if(Lu!==null){var I=M1(Cy),O=la.transition,B=hn;try{if(la.transition=null,hn=16>I?16:I,Lu===null)var Y=!1;else{if(I=Lu,Lu=null,Cy=0,(nn&6)!==0)throw Error(n(331));var _=nn;for(nn|=4,dt=I.current;dt!==null;){var q=dt,re=q.child;if((dt.flags&16)!==0){var he=q.deletions;if(he!==null){for(var me=0;me<he.length;me++){var $e=he[me];for(dt=$e;dt!==null;){var ze=dt;switch(ze.tag){case 0:case 11:case 15:rv(8,ze,q)}var Ve=ze.child;if(Ve!==null)Ve.return=ze,dt=Ve;else for(;dt!==null;){ze=dt;var Ue=ze.sibling,at=ze.return;if(iR(ze),ze===$e){dt=null;break}if(Ue!==null){Ue.return=at,dt=Ue;break}dt=at}}}var ft=q.alternate;if(ft!==null){var gt=ft.child;if(gt!==null){ft.child=null;do{var hr=gt.sibling;gt.sibling=null,gt=hr}while(gt!==null)}}dt=q}}if((q.subtreeFlags&2064)!==0&&re!==null)re.return=q,dt=re;else e:for(;dt!==null;){if(q=dt,(q.flags&2048)!==0)switch(q.tag){case 0:case 11:case 15:rv(9,q,q.return)}var Te=q.sibling;if(Te!==null){Te.return=q.return,dt=Te;break e}dt=q.return}}var xe=I.current;for(dt=xe;dt!==null;){re=dt;var Oe=re.child;if((re.subtreeFlags&2064)!==0&&Oe!==null)Oe.return=re,dt=Oe;else e:for(re=xe;dt!==null;){if(he=dt,(he.flags&2048)!==0)try{switch(he.tag){case 0:case 11:case 15:yy(9,he)}}catch(wt){ir(he,he.return,wt)}if(he===re){dt=null;break e}var Ke=he.sibling;if(Ke!==null){Ke.return=he.return,dt=Ke;break e}dt=he.return}}if(nn=_,Ru(),ra&&typeof ra.onPostCommitFiberRoot=="function")try{ra.onPostCommitFiberRoot(Su,I)}catch{}Y=!0}return Y}finally{hn=B,la.transition=O}}return!1}function xR(I,O,B){O=hf(B,O),O=BI(I,O,1),I=Mu(I,O,1),O=Bi(),I!==null&&(Gc(I,1,O),ts(I,O))}function ir(I,O,B){if(I.tag===3)xR(I,I,B);else for(;O!==null;){if(O.tag===3){xR(O,I,B);break}else if(O.tag===1){var Y=O.stateNode;if(typeof O.type.getDerivedStateFromError=="function"||typeof Y.componentDidCatch=="function"&&(Fu===null||!Fu.has(Y))){I=hf(B,I),I=UI(O,I,1),O=Mu(O,I,1),I=Bi(),O!==null&&(Gc(O,1,I),ts(O,I));break}}O=O.return}}function iee(I,O,B){var Y=I.pingCache;Y!==null&&Y.delete(O),O=Bi(),I.pingedLanes|=I.suspendedLanes&B,Xr===I&&(si&B)===B&&(Mr===4||Mr===3&&(si&130023424)===si&&500>Lt()-H5?nh(I,0):V5|=B),ts(I,O)}function bR(I,O){O===0&&((I.mode&1)===0?O=1:(O=zd,zd<<=1,(zd&130023424)===0&&(zd=4194304)));var B=Bi();I=Ol(I,O),I!==null&&(Gc(I,O,B),ts(I,B))}function see(I){var O=I.memoizedState,B=0;O!==null&&(B=O.retryLane),bR(I,B)}function aee(I,O){var B=0;switch(I.tag){case 13:var Y=I.stateNode,_=I.memoizedState;_!==null&&(B=_.retryLane);break;case 19:Y=I.stateNode;break;default:throw Error(n(314))}Y!==null&&Y.delete(O),bR(I,B)}var ER;ER=function(I,O,B){if(I!==null)if(I.memoizedProps!==O.pendingProps||_i.current)qi=!0;else{if((I.lanes&B)===0&&(O.flags&128)===0)return qi=!1,Xq(I,O,B);qi=(I.flags&131072)!==0}else qi=!1,Zn&&(O.flags&1048576)!==0&&tI(O,ty,O.index);switch(O.lanes=0,O.tag){case 2:var Y=O.type;gy(I,O),I=O.pendingProps;var _=nf(O,wi.current);uf(O,B),_=E5(null,O,Y,I,_,B);var q=C5();return O.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(O.tag=1,O.memoizedState=null,O.updateQueue=null,Qi(Y)?(q=!0,Q1(O)):q=!1,O.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,v5(O),_.updater=py,O.stateNode=_,_._reactInternals=O,R5(O,Y,I,B),O=F5(null,O,Y,!0,q,B)):(O.tag=0,Zn&&q&&s5(O),ki(null,O,_,B),O=O.child),O;case 16:Y=O.elementType;e:{switch(gy(I,O),I=O.pendingProps,_=Y._init,Y=_(Y._payload),O.type=Y,_=O.tag=lee(Y),I=Ga(Y,I),_){case 0:O=$5(null,O,Y,I,B);break e;case 1:O=KI(null,O,Y,I,B);break e;case 11:O=GI(null,O,Y,I,B);break e;case 14:O=VI(null,O,Y,Ga(Y.type,I),B);break e}throw Error(n(306,Y,""))}return O;case 0:return Y=O.type,_=O.pendingProps,_=O.elementType===Y?_:Ga(Y,_),$5(I,O,Y,_,B);case 1:return Y=O.type,_=O.pendingProps,_=O.elementType===Y?_:Ga(Y,_),KI(I,O,Y,_,B);case 3:e:{if(ZI(O),I===null)throw Error(n(387));Y=O.pendingProps,q=O.memoizedState,_=q.element,cI(I,O),oy(O,Y,null,B);var re=O.memoizedState;if(Y=re.element,q.isDehydrated)if(q={element:Y,isDehydrated:!1,cache:re.cache,pendingSuspenseBoundaries:re.pendingSuspenseBoundaries,transitions:re.transitions},O.updateQueue.baseState=q,O.memoizedState=q,O.flags&256){_=hf(Error(n(423)),O),O=JI(I,O,Y,B,_);break e}else if(Y!==_){_=hf(Error(n(424)),O),O=JI(I,O,Y,B,_);break e}else for(Ms=Au(O.stateNode.containerInfo.firstChild),Os=O,Zn=!0,Wa=null,B=lI(O,null,Y,B),O.child=B;B;)B.flags=B.flags&-3|4096,B=B.sibling;else{if(af(),Y===_){O=$l(I,O,B);break e}ki(I,O,Y,B)}O=O.child}return O;case 5:return fI(O),I===null&&l5(O),Y=O.type,_=O.pendingProps,q=I!==null?I.memoizedProps:null,re=_.children,qb(Y,_)?re=null:q!==null&&qb(Y,q)&&(O.flags|=32),XI(I,O),ki(I,O,re,B),O.child;case 6:return I===null&&l5(O),null;case 13:return _I(I,O,B);case 4:return g5(O,O.stateNode.containerInfo),Y=O.pendingProps,I===null?O.child=of(O,null,Y,B):ki(I,O,Y,B),O.child;case 11:return Y=O.type,_=O.pendingProps,_=O.elementType===Y?_:Ga(Y,_),GI(I,O,Y,_,B);case 7:return ki(I,O,O.pendingProps,B),O.child;case 8:return ki(I,O,O.pendingProps.children,B),O.child;case 12:return ki(I,O,O.pendingProps.children,B),O.child;case 10:e:{if(Y=O.type._context,_=O.pendingProps,q=O.memoizedProps,re=_.value,Mn(iy,Y._currentValue),Y._currentValue=re,q!==null)if(za(q.value,re)){if(q.children===_.children&&!_i.current){O=$l(I,O,B);break e}}else for(q=O.child,q!==null&&(q.return=O);q!==null;){var he=q.dependencies;if(he!==null){re=q.child;for(var me=he.firstContext;me!==null;){if(me.context===Y){if(q.tag===1){me=Ml(-1,B&-B),me.tag=2;var $e=q.updateQueue;if($e!==null){$e=$e.shared;var ze=$e.pending;ze===null?me.next=me:(me.next=ze.next,ze.next=me),$e.pending=me}}q.lanes|=B,me=q.alternate,me!==null&&(me.lanes|=B),f5(q.return,B,O),he.lanes|=B;break}me=me.next}}else if(q.tag===10)re=q.type===O.type?null:q.child;else if(q.tag===18){if(re=q.return,re===null)throw Error(n(341));re.lanes|=B,he=re.alternate,he!==null&&(he.lanes|=B),f5(re,B,O),re=q.sibling}else re=q.child;if(re!==null)re.return=q;else for(re=q;re!==null;){if(re===O){re=null;break}if(q=re.sibling,q!==null){q.return=re.return,re=q;break}re=re.return}q=re}ki(I,O,_.children,B),O=O.child}return O;case 9:return _=O.type,Y=O.pendingProps.children,uf(O,B),_=aa(_),Y=Y(_),O.flags|=1,ki(I,O,Y,B),O.child;case 14:return Y=O.type,_=Ga(Y,O.pendingProps),_=Ga(Y.type,_),VI(I,O,Y,_,B);case 15:return HI(I,O,O.type,O.pendingProps,B);case 17:return Y=O.type,_=O.pendingProps,_=O.elementType===Y?_:Ga(Y,_),gy(I,O),O.tag=1,Qi(Y)?(I=!0,Q1(O)):I=!1,uf(O,B),NI(O,Y,_),R5(O,Y,_,B),F5(null,O,Y,!0,I,B);case 19:return qI(I,O,B);case 22:return YI(I,O,B)}throw Error(n(156,O.tag))};function CR(I,O){return ri(I,O)}function oee(I,O,B,Y){this.tag=I,this.key=B,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=O,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ua(I,O,B,Y){return new oee(I,O,B,Y)}function q5(I){return I=I.prototype,!(!I||!I.isReactComponent)}function lee(I){if(typeof I=="function")return q5(I)?1:0;if(I!=null){if(I=I.$$typeof,I===R)return 11;if(I===$)return 14}return 2}function ku(I,O){var B=I.alternate;return B===null?(B=ua(I.tag,O,I.key,I.mode),B.elementType=I.elementType,B.type=I.type,B.stateNode=I.stateNode,B.alternate=I,I.alternate=B):(B.pendingProps=O,B.type=I.type,B.flags=0,B.subtreeFlags=0,B.deletions=null),B.flags=I.flags&14680064,B.childLanes=I.childLanes,B.lanes=I.lanes,B.child=I.child,B.memoizedProps=I.memoizedProps,B.memoizedState=I.memoizedState,B.updateQueue=I.updateQueue,O=I.dependencies,B.dependencies=O===null?null:{lanes:O.lanes,firstContext:O.firstContext},B.sibling=I.sibling,B.index=I.index,B.ref=I.ref,B}function Py(I,O,B,Y,_,q){var re=2;if(Y=I,typeof I=="function")q5(I)&&(re=1);else if(typeof I=="string")re=5;else e:switch(I){case C:return ih(B.children,_,q,O);case T:re=8,_|=8;break;case S:return I=ua(12,B,O,_|2),I.elementType=S,I.lanes=q,I;case L:return I=ua(13,B,O,_),I.elementType=L,I.lanes=q,I;case D:return I=ua(19,B,O,_),I.elementType=D,I.lanes=q,I;case N:return Iy(B,_,q,O);default:if(typeof I=="object"&&I!==null)switch(I.$$typeof){case A:re=10;break e;case P:re=9;break e;case R:re=11;break e;case $:re=14;break e;case F:re=16,Y=null;break e}throw Error(n(130,I==null?I:typeof I,""))}return O=ua(re,B,O,_),O.elementType=I,O.type=Y,O.lanes=q,O}function ih(I,O,B,Y){return I=ua(7,I,Y,O),I.lanes=B,I}function Iy(I,O,B,Y){return I=ua(22,I,Y,O),I.elementType=N,I.lanes=B,I.stateNode={isHidden:!1},I}function e4(I,O,B){return I=ua(6,I,null,O),I.lanes=B,I}function t4(I,O,B){return O=ua(4,I.children!==null?I.children:[],I.key,O),O.lanes=B,O.stateNode={containerInfo:I.containerInfo,pendingChildren:null,implementation:I.implementation},O}function uee(I,O,B,Y,_){this.tag=O,this.containerInfo=I,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=O0(0),this.expirationTimes=O0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=O0(0),this.identifierPrefix=Y,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function n4(I,O,B,Y,_,q,re,he,me){return I=new uee(I,O,B,he,me),O===1?(O=1,q===!0&&(O|=8)):O=0,q=ua(3,null,null,O),I.current=q,q.stateNode=I,q.memoizedState={element:Y,isDehydrated:B,cache:null,transitions:null,pendingSuspenseBoundaries:null},v5(q),I}function cee(I,O,B){var Y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:Y==null?null:""+Y,children:I,containerInfo:O,implementation:B}}function SR(I){if(!I)return Iu;I=I._reactInternals;e:{if(tn(I)!==I||I.tag!==1)throw Error(n(170));var O=I;do{switch(O.tag){case 3:O=O.stateNode.context;break e;case 1:if(Qi(O.type)){O=O.stateNode.__reactInternalMemoizedMergedChildContext;break e}}O=O.return}while(O!==null);throw Error(n(171))}if(I.tag===1){var B=I.type;if(Qi(B))return QP(I,B,O)}return O}function TR(I,O,B,Y,_,q,re,he,me){return I=n4(B,Y,!0,I,_,q,re,he,me),I.context=SR(null),B=I.current,Y=Bi(),_=Du(B),q=Ml(Y,_),q.callback=O??null,Mu(B,q,_),I.current.lanes=_,Gc(I,_,Y),ts(I,Y),I}function Ry(I,O,B,Y){var _=O.current,q=Bi(),re=Du(_);return B=SR(B),O.context===null?O.context=B:O.pendingContext=B,O=Ml(q,re),O.payload={element:I},Y=Y===void 0?null:Y,Y!==null&&(O.callback=Y),I=Mu(_,O,re),I!==null&&(Ya(I,_,re,q),ay(I,_,re)),re}function Oy(I){if(I=I.current,!I.child)return null;switch(I.child.tag){case 5:return I.child.stateNode;default:return I.child.stateNode}}function AR(I,O){if(I=I.memoizedState,I!==null&&I.dehydrated!==null){var B=I.retryLane;I.retryLane=B!==0&&B<O?B:O}}function r4(I,O){AR(I,O),(I=I.alternate)&&AR(I,O)}function hee(){return null}var PR=typeof reportError=="function"?reportError:function(I){console.error(I)};function i4(I){this._internalRoot=I}My.prototype.render=i4.prototype.render=function(I){var O=this._internalRoot;if(O===null)throw Error(n(409));Ry(I,O,null,null)},My.prototype.unmount=i4.prototype.unmount=function(){var I=this._internalRoot;if(I!==null){this._internalRoot=null;var O=I.containerInfo;th(function(){Ry(null,I,null,null)}),O[Al]=null}};function My(I){this._internalRoot=I}My.prototype.unstable_scheduleHydration=function(I){if(I){var O=L1();I={blockedOn:null,target:I,priority:O};for(var B=0;B<No.length&&O!==0&&O<No[B].priority;B++);No.splice(B,0,I),B===0&&B1(I)}};function s4(I){return!(!I||I.nodeType!==1&&I.nodeType!==9&&I.nodeType!==11)}function $y(I){return!(!I||I.nodeType!==1&&I.nodeType!==9&&I.nodeType!==11&&(I.nodeType!==8||I.nodeValue!==" react-mount-point-unstable "))}function IR(){}function dee(I,O,B,Y,_){if(_){if(typeof Y=="function"){var q=Y;Y=function(){var $e=Oy(re);q.call($e)}}var re=TR(O,Y,I,0,null,!1,!1,"",IR);return I._reactRootContainer=re,I[Al]=re.current,V0(I.nodeType===8?I.parentNode:I),th(),re}for(;_=I.lastChild;)I.removeChild(_);if(typeof Y=="function"){var he=Y;Y=function(){var $e=Oy(me);he.call($e)}}var me=n4(I,0,!1,null,null,!1,!1,"",IR);return I._reactRootContainer=me,I[Al]=me.current,V0(I.nodeType===8?I.parentNode:I),th(function(){Ry(O,me,B,Y)}),me}function Fy(I,O,B,Y,_){var q=B._reactRootContainer;if(q){var re=q;if(typeof _=="function"){var he=_;_=function(){var me=Oy(re);he.call(me)}}Ry(O,re,I,_)}else re=dee(B,O,I,_,Y);return Oy(re)}$1=function(I){switch(I.tag){case 3:var O=I.stateNode;if(O.current.memoizedState.isDehydrated){var B=Wc(O.pendingLanes);B!==0&&(M0(O,B|1),ts(O,Lt()),(nn&6)===0&&(pf=Lt()+500,Ru()))}break;case 13:th(function(){var Y=Ol(I,1);if(Y!==null){var _=Bi();Ya(Y,I,1,_)}}),r4(I,1)}},$0=function(I){if(I.tag===13){var O=Ol(I,134217728);if(O!==null){var B=Bi();Ya(O,I,134217728,B)}r4(I,134217728)}},F1=function(I){if(I.tag===13){var O=Du(I),B=Ol(I,O);if(B!==null){var Y=Bi();Ya(B,I,O,Y)}r4(I,O)}},L1=function(){return hn},D1=function(I,O){var B=hn;try{return hn=I,O()}finally{hn=B}},On=function(I,O,B){switch(O){case"input":if(Ee(I,B),O=B.name,B.type==="radio"&&O!=null){for(B=I;B.parentNode;)B=B.parentNode;for(B=B.querySelectorAll("input[name="+JSON.stringify(""+O)+'][type="radio"]'),O=0;O<B.length;O++){var Y=B[O];if(Y!==I&&Y.form===I.form){var _=J1(Y);if(!_)throw Error(n(90));ie(Y),Ee(Y,_)}}}break;case"textarea":Ae(I,B);break;case"select":O=B.value,O!=null&&je(I,!!B.multiple,O,!1)}},ne=J5,se=th;var fee={usingClientEntryPoint:!1,Events:[X0,ef,J1,Sn,Gr,J5]},ov={findFiberByHostInstance:Xc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pee={bundleType:ov.bundleType,version:ov.version,rendererPackageName:ov.rendererPackageName,rendererConfig:ov.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(I){return I=mn(I),I===null?null:I.stateNode},findFiberByHostInstance:ov.findFiberByHostInstance||hee,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ly=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ly.isDisabled&&Ly.supportsFiber)try{Su=Ly.inject(pee),ra=Ly}catch{}}return ns.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fee,ns.createPortal=function(I,O){var B=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!s4(O))throw Error(n(200));return cee(I,O,null,B)},ns.createRoot=function(I,O){if(!s4(I))throw Error(n(299));var B=!1,Y="",_=PR;return O!=null&&(O.unstable_strictMode===!0&&(B=!0),O.identifierPrefix!==void 0&&(Y=O.identifierPrefix),O.onRecoverableError!==void 0&&(_=O.onRecoverableError)),O=n4(I,1,!1,null,null,B,!1,Y,_),I[Al]=O.current,V0(I.nodeType===8?I.parentNode:I),new i4(O)},ns.findDOMNode=function(I){if(I==null)return null;if(I.nodeType===1)return I;var O=I._reactInternals;if(O===void 0)throw typeof I.render=="function"?Error(n(188)):(I=Object.keys(I).join(","),Error(n(268,I)));return I=mn(O),I=I===null?null:I.stateNode,I},ns.flushSync=function(I){return th(I)},ns.hydrate=function(I,O,B){if(!$y(O))throw Error(n(200));return Fy(null,I,O,!0,B)},ns.hydrateRoot=function(I,O,B){if(!s4(I))throw Error(n(405));var Y=B!=null&&B.hydratedSources||null,_=!1,q="",re=PR;if(B!=null&&(B.unstable_strictMode===!0&&(_=!0),B.identifierPrefix!==void 0&&(q=B.identifierPrefix),B.onRecoverableError!==void 0&&(re=B.onRecoverableError)),O=TR(O,null,I,1,B??null,_,!1,q,re),I[Al]=O.current,V0(I),Y)for(I=0;I<Y.length;I++)B=Y[I],_=B._getVersion,_=_(B._source),O.mutableSourceEagerHydrationData==null?O.mutableSourceEagerHydrationData=[B,_]:O.mutableSourceEagerHydrationData.push(B,_);return new My(O)},ns.render=function(I,O,B){if(!$y(O))throw Error(n(200));return Fy(null,I,O,!1,B)},ns.unmountComponentAtNode=function(I){if(!$y(I))throw Error(n(40));return I._reactRootContainer?(th(function(){Fy(null,null,I,!1,function(){I._reactRootContainer=null,I[Al]=null})}),!0):!1},ns.unstable_batchedUpdates=J5,ns.unstable_renderSubtreeIntoContainer=function(I,O,B,Y){if(!$y(B))throw Error(n(200));if(I==null||I._reactInternals===void 0)throw Error(n(38));return Fy(I,O,B,!1,Y)},ns.version="18.3.1-next-f1338f8080-20240426",ns}var NR;function uU(){if(NR)return l4.exports;NR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),l4.exports=Eee(),l4.exports}var kR;function Cee(){if(kR)return Dy;kR=1;var t=uU();return Dy.createRoot=t.createRoot,Dy.hydrateRoot=t.hydrateRoot,Dy}var See=Cee();const Tee="modulepreload",Aee=function(t){return"/"+t},BR={},Fi=function(e,n,i){let c=Promise.resolve();if(n&&n.length>0){let r=function(a){return Promise.all(a.map(v=>Promise.resolve(v).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),g=s?.nonce||s?.getAttribute("nonce");c=r(n.map(a=>{if(a=Aee(a),a in BR)return;BR[a]=!0;const v=a.endsWith(".css"),h=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${h}`))return;const u=document.createElement("link");if(u.rel=v?"stylesheet":Tee,v||(u.as="script"),u.crossOrigin="",u.href=a,g&&u.setAttribute("nonce",g),document.head.appendChild(u),v)return new Promise((l,o)=>{u.addEventListener("load",l),u.addEventListener("error",()=>o(new Error(`Unable to preload CSS for ${a}`)))})}))}function m(s){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=s,window.dispatchEvent(g),!g.defaultPrevented)throw s}return c.then(s=>{for(const g of s||[])g.status==="rejected"&&m(g.reason);return e().catch(m)})};function Pee(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function Iee(){const t=new Set;let e=[];const n=()=>Pee(c=>{e.some(({info:m})=>m.uuid===c.info.uuid)||(e=[...e,c],t.forEach(m=>m(e,{added:[c]})))});let i=n();return{_listeners(){return t},clear(){t.forEach(c=>c([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),i?.()},findProvider({rdns:c}){return e.find(m=>m.info.rdns===c)},getProviders(){return e},reset(){this.clear(),i?.(),i=n()},subscribe(c,{emitImmediately:m}={}){return t.add(c),m&&c(e,{added:e}),()=>t.delete(c)}}}var ct={},Uv={exports:{}},Ree=Uv.exports,UR;function Oee(){return UR||(UR=1,(function(t,e){(function(n,i){var c="1.0.41",m="",s="?",g="function",r="undefined",a="object",v="string",h="major",u="model",l="name",o="type",d="vendor",p="version",f="architecture",y="console",w="mobile",x="tablet",b="smarttv",E="wearable",C="embedded",T=500,S="Amazon",A="Apple",P="ASUS",R="BlackBerry",L="Browser",D="Chrome",$="Edge",F="Firefox",N="Google",k="Honor",j="Huawei",W="Lenovo",G="LG",K="Microsoft",z="Motorola",X="Nvidia",U="OnePlus",Z="Opera",V="OPPO",J="Samsung",Q="Sharp",ee="Sony",te="Xiaomi",ie="Zebra",le="Facebook",de="Chromium OS",fe="Mac OS",oe=" Browser",Ee=function(Je,He){var _e={};for(var ht in Je)He[ht]&&He[ht].length%2===0?_e[ht]=He[ht].concat(Je[ht]):_e[ht]=Je[ht];return _e},ye=function(Je){for(var He={},_e=0;_e<Je.length;_e++)He[Je[_e].toUpperCase()]=Je[_e];return He},Ce=function(Je,He){return typeof Je===v?Ie(He).indexOf(Ie(Je))!==-1:!1},Ie=function(Je){return Je.toLowerCase()},je=function(Je){return typeof Je===v?Je.replace(/[^\d\.]/g,m).split(".")[0]:i},Re=function(Je,He){if(typeof Je===v)return Je=Je.replace(/^\s\s*/,m),typeof He===r?Je:Je.substring(0,T)},Fe=function(Je,He){for(var _e=0,ht,Dt,ut,xt,tt,fn;_e<He.length&&!tt;){var On=He[_e],Ot=He[_e+1];for(ht=Dt=0;ht<On.length&&!tt&&On[ht];)if(tt=On[ht++].exec(Je),tt)for(ut=0;ut<Ot.length;ut++)fn=tt[++Dt],xt=Ot[ut],typeof xt===a&&xt.length>0?xt.length===2?typeof xt[1]==g?this[xt[0]]=xt[1].call(this,fn):this[xt[0]]=xt[1]:xt.length===3?typeof xt[1]===g&&!(xt[1].exec&&xt[1].test)?this[xt[0]]=fn?xt[1].call(this,fn,xt[2]):i:this[xt[0]]=fn?fn.replace(xt[1],xt[2]):i:xt.length===4&&(this[xt[0]]=fn?xt[3].call(this,fn.replace(xt[1],xt[2])):i):this[xt]=fn||i;_e+=2}},Ae=function(Je,He){for(var _e in He)if(typeof He[_e]===a&&He[_e].length>0){for(var ht=0;ht<He[_e].length;ht++)if(Ce(He[_e][ht],Je))return _e===s?i:_e}else if(Ce(He[_e],Je))return _e===s?i:_e;return He.hasOwnProperty("*")?He["*"]:Je},Xe={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},st={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},vt={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[l,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[l,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[l,p],[/opios[\/ ]+([\w\.]+)/i],[p,[l,Z+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[p,[l,Z+" GX"]],[/\bopr\/([\w\.]+)/i],[p,[l,Z]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[p,[l,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[p,[l,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[l,p],[/quark(?:pc)?\/([-\w\.]+)/i],[p,[l,"Quark"]],[/\bddg\/([\w\.]+)/i],[p,[l,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[l,"UC"+L]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[p,[l,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[l,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[l,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[p,[l,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[p,[l,"Smart Lenovo "+L]],[/(avast|avg)\/([\w\.]+)/i],[[l,/(.+)/,"$1 Secure "+L],p],[/\bfocus\/([\w\.]+)/i],[p,[l,F+" Focus"]],[/\bopt\/([\w\.]+)/i],[p,[l,Z+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[l,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[l,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[l,Z+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[l,"MIUI"+oe]],[/fxios\/([\w\.-]+)/i],[p,[l,F]],[/\bqihoobrowser\/?([\w\.]*)/i],[p,[l,"360"]],[/\b(qq)\/([\w\.]+)/i],[[l,/(.+)/,"$1Browser"],p],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[l,/(.+)/,"$1"+oe],p],[/samsungbrowser\/([\w\.]+)/i],[p,[l,J+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[p,[l,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[l,"Sogou Mobile"],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[l,p],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[l],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[p,l],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[l,le],p],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[l,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[l,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[p,[l,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[l,D+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[l,D+" WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[l,"Android "+L]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[l,p],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[p,[l,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[p,l],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[l,[p,Ae,Xe]],[/(webkit|khtml)\/([\w\.]+)/i],[l,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[l,"Netscape"],p],[/(wolvic|librewolf)\/([\w\.]+)/i],[l,p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[l,F+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[l,[p,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[l,[p,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[f,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[f,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[f,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[f,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[f,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[f,/ower/,m,Ie]],[/ sun4\w[;\)]/i],[[f,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[f,Ie]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[u,[d,J],[o,x]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[u,[d,J],[o,w]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[u,[d,A],[o,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[u,[d,A],[o,x]],[/(macintosh);/i],[u,[d,A]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[u,[d,Q],[o,w]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[u,[d,k],[o,x]],[/honor([-\w ]+)[;\)]/i],[u,[d,k],[o,w]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[u,[d,j],[o,x]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[u,[d,j],[o,w]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[u,/_/g," "],[d,te],[o,x]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[u,/_/g," "],[d,te],[o,w]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[u,[d,V],[o,w]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[u,[d,Ae,{OnePlus:["304","403","203"],"*":V}],[o,x]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[u,[d,"Vivo"],[o,w]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[u,[d,"Realme"],[o,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[u,[d,z],[o,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[u,[d,z],[o,x]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[u,[d,G],[o,x]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[u,[d,G],[o,w]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[u,[d,W],[o,x]],[/(nokia) (t[12][01])/i],[d,u,[o,x]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[u,/_/g," "],[o,w],[d,"Nokia"]],[/(pixel (c|tablet))\b/i],[u,[d,N],[o,x]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[u,[d,N],[o,w]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[d,ee],[o,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[u,"Xperia Tablet"],[d,ee],[o,x]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[u,[d,U],[o,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[u,[d,S],[o,x]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[u,/(.+)/g,"Fire Phone $1"],[d,S],[o,w]],[/(playbook);[-\w\),; ]+(rim)/i],[u,d,[o,x]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[u,[d,R],[o,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[u,[d,P],[o,x]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[u,[d,P],[o,w]],[/(nexus 9)/i],[u,[d,"HTC"],[o,x]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[d,[u,/_/g," "],[o,w]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[u,[d,"TCL"],[o,x]],[/(itel) ((\w+))/i],[[d,Ie],u,[o,Ae,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[u,[d,"Acer"],[o,x]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[u,[d,"Meizu"],[o,w]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[u,[d,"Ulefone"],[o,w]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[u,[d,"Energizer"],[o,w]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[u,[d,"Cat"],[o,w]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[u,[d,"Smartfren"],[o,w]],[/droid.+; (a(?:015|06[35]|142p?))/i],[u,[d,"Nothing"],[o,w]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[u,[d,"Archos"],[o,x]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[u,[d,"Archos"],[o,w]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[d,u,[o,x]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[d,u,[o,w]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[d,u,[o,x]],[/(surface duo)/i],[u,[d,K],[o,x]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[u,[d,"Fairphone"],[o,w]],[/(u304aa)/i],[u,[d,"AT&T"],[o,w]],[/\bsie-(\w*)/i],[u,[d,"Siemens"],[o,w]],[/\b(rct\w+) b/i],[u,[d,"RCA"],[o,x]],[/\b(venue[\d ]{2,7}) b/i],[u,[d,"Dell"],[o,x]],[/\b(q(?:mv|ta)\w+) b/i],[u,[d,"Verizon"],[o,x]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[u,[d,"Barnes & Noble"],[o,x]],[/\b(tm\d{3}\w+) b/i],[u,[d,"NuVision"],[o,x]],[/\b(k88) b/i],[u,[d,"ZTE"],[o,x]],[/\b(nx\d{3}j) b/i],[u,[d,"ZTE"],[o,w]],[/\b(gen\d{3}) b.+49h/i],[u,[d,"Swiss"],[o,w]],[/\b(zur\d{3}) b/i],[u,[d,"Swiss"],[o,x]],[/\b((zeki)?tb.*\b) b/i],[u,[d,"Zeki"],[o,x]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[d,"Dragon Touch"],u,[o,x]],[/\b(ns-?\w{0,9}) b/i],[u,[d,"Insignia"],[o,x]],[/\b((nxa|next)-?\w{0,9}) b/i],[u,[d,"NextBook"],[o,x]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[d,"Voice"],u,[o,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[d,"LvTel"],u,[o,w]],[/\b(ph-1) /i],[u,[d,"Essential"],[o,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[u,[d,"Envizen"],[o,x]],[/\b(trio[-\w\. ]+) b/i],[u,[d,"MachSpeed"],[o,x]],[/\btu_(1491) b/i],[u,[d,"Rotor"],[o,x]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[u,[d,X],[o,x]],[/(sprint) (\w+)/i],[d,u,[o,w]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[d,K],[o,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[u,[d,ie],[o,x]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[u,[d,ie],[o,w]],[/smart-tv.+(samsung)/i],[d,[o,b]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[d,J],[o,b]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[d,G],[o,b]],[/(apple) ?tv/i],[d,[u,A+" TV"],[o,b]],[/crkey/i],[[u,D+"cast"],[d,N],[o,b]],[/droid.+aft(\w+)( bui|\))/i],[u,[d,S],[o,b]],[/(shield \w+ tv)/i],[u,[d,X],[o,b]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[u,[d,Q],[o,b]],[/(bravia[\w ]+)( bui|\))/i],[u,[d,ee],[o,b]],[/(mi(tv|box)-?\w+) bui/i],[u,[d,te],[o,b]],[/Hbbtv.*(technisat) (.*);/i],[d,u,[o,b]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[d,Re],[u,Re],[o,b]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[u,[o,b]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[o,b]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[d,u,[o,y]],[/droid.+; (shield)( bui|\))/i],[u,[d,X],[o,y]],[/(playstation \w+)/i],[u,[d,ee],[o,y]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[u,[d,K],[o,y]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[u,[d,J],[o,E]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[d,u,[o,E]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[u,[d,V],[o,E]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[u,[d,A],[o,E]],[/(opwwe\d{3})/i],[u,[d,U],[o,E]],[/(moto 360)/i],[u,[d,z],[o,E]],[/(smartwatch 3)/i],[u,[d,ee],[o,E]],[/(g watch r)/i],[u,[d,G],[o,E]],[/droid.+; (wt63?0{2,3})\)/i],[u,[d,ie],[o,E]],[/droid.+; (glass) \d/i],[u,[d,N],[o,E]],[/(pico) (4|neo3(?: link|pro)?)/i],[d,u,[o,E]],[/; (quest( \d| pro)?)/i],[u,[d,le],[o,E]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[d,[o,C]],[/(aeobc)\b/i],[u,[d,S],[o,C]],[/(homepod).+mac os/i],[u,[d,A],[o,C]],[/windows iot/i],[[o,C]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[u,[o,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[u,[o,x]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[o,x]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[o,w]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[u,[d,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[l,$+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[l,p],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[l,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[l,p],[/ladybird\//i],[[l,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,l]],os:[[/microsoft (windows) (vista|xp)/i],[l,p],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[l,[p,Ae,st]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[p,Ae,st],[l,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[l,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[l,fe],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[p,l],[/(ubuntu) ([\w\.]+) like android/i],[[l,/(.+)/,"$1 Touch"],p],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[l,p],[/\(bb(10);/i],[p,[l,R]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[p,[l,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[l,F+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[l,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[p,[l,"watchOS"]],[/crkey\/([\d\.]+)/i],[p,[l,D+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[l,de],p],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[l,p],[/(sunos) ?([\w\.\d]*)/i],[[l,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[l,p]]},Ge=function(Je,He){if(typeof Je===a&&(He=Je,Je=i),!(this instanceof Ge))return new Ge(Je,He).getResult();var _e=typeof n!==r&&n.navigator?n.navigator:i,ht=Je||(_e&&_e.userAgent?_e.userAgent:m),Dt=_e&&_e.userAgentData?_e.userAgentData:i,ut=He?Ee(vt,He):vt,xt=_e&&_e.userAgent==ht;return this.getBrowser=function(){var tt={};return tt[l]=i,tt[p]=i,Fe.call(tt,ht,ut.browser),tt[h]=je(tt[p]),xt&&_e&&_e.brave&&typeof _e.brave.isBrave==g&&(tt[l]="Brave"),tt},this.getCPU=function(){var tt={};return tt[f]=i,Fe.call(tt,ht,ut.cpu),tt},this.getDevice=function(){var tt={};return tt[d]=i,tt[u]=i,tt[o]=i,Fe.call(tt,ht,ut.device),xt&&!tt[o]&&Dt&&Dt.mobile&&(tt[o]=w),xt&&tt[u]=="Macintosh"&&_e&&typeof _e.standalone!==r&&_e.maxTouchPoints&&_e.maxTouchPoints>2&&(tt[u]="iPad",tt[o]=x),tt},this.getEngine=function(){var tt={};return tt[l]=i,tt[p]=i,Fe.call(tt,ht,ut.engine),tt},this.getOS=function(){var tt={};return tt[l]=i,tt[p]=i,Fe.call(tt,ht,ut.os),xt&&!tt[l]&&Dt&&Dt.platform&&Dt.platform!="Unknown"&&(tt[l]=Dt.platform.replace(/chrome os/i,de).replace(/macos/i,fe)),tt},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return ht},this.setUA=function(tt){return ht=typeof tt===v&&tt.length>T?Re(tt,T):tt,this},this.setUA(ht),this};Ge.VERSION=c,Ge.BROWSER=ye([l,p,h]),Ge.CPU=ye([f]),Ge.DEVICE=ye([u,d,o,y,w,b,x,E,C]),Ge.ENGINE=Ge.OS=ye([l,p]),t.exports&&(e=t.exports=Ge),e.UAParser=Ge;var nt=typeof n!==r&&(n.jQuery||n.Zepto);if(nt&&!nt.ua){var St=new Ge;nt.ua=St.getResult(),nt.ua.get=function(){return St.getUA()},nt.ua.set=function(Je){St.setUA(Je);var He=St.getResult();for(var _e in He)nt.ua[_e]=He[_e]}}})(typeof window=="object"?window:Ree)})(Uv,Uv.exports)),Uv.exports}var jR;function Mee(){if(jR)return ct;jR=1,Object.defineProperty(ct,"__esModule",{value:!0});function t(Se){return Se&&typeof Se=="object"&&"default"in Se?Se.default:Se}var e=Um(),n=t(e),i=Oee(),c=new i,m=c.getBrowser(),s=c.getCPU(),g=c.getDevice(),r=c.getEngine(),a=c.getOS(),v=c.getUA(),h=function(ce){return c.setUA(ce)},u=function(ce){if(!ce){console.error("No userAgent string was provided");return}var ve=new i(ce);return{UA:ve,browser:ve.getBrowser(),cpu:ve.getCPU(),device:ve.getDevice(),engine:ve.getEngine(),os:ve.getOS(),ua:ve.getUA(),setUserAgent:function(Be){return ve.setUA(Be)}}},l=Object.freeze({ClientUAInstance:c,browser:m,cpu:s,device:g,engine:r,os:a,ua:v,setUa:h,parseUserAgent:u});function o(Se,ce){var ve=Object.keys(Se);if(Object.getOwnPropertySymbols){var Le=Object.getOwnPropertySymbols(Se);ce&&(Le=Le.filter(function(Be){return Object.getOwnPropertyDescriptor(Se,Be).enumerable})),ve.push.apply(ve,Le)}return ve}function d(Se){for(var ce=1;ce<arguments.length;ce++){var ve=arguments[ce]!=null?arguments[ce]:{};ce%2?o(Object(ve),!0).forEach(function(Le){x(Se,Le,ve[Le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Se,Object.getOwnPropertyDescriptors(ve)):o(Object(ve)).forEach(function(Le){Object.defineProperty(Se,Le,Object.getOwnPropertyDescriptor(ve,Le))})}return Se}function p(Se){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?p=function(ce){return typeof ce}:p=function(ce){return ce&&typeof Symbol=="function"&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce},p(Se)}function f(Se,ce){if(!(Se instanceof ce))throw new TypeError("Cannot call a class as a function")}function y(Se,ce){for(var ve=0;ve<ce.length;ve++){var Le=ce[ve];Le.enumerable=Le.enumerable||!1,Le.configurable=!0,"value"in Le&&(Le.writable=!0),Object.defineProperty(Se,Le.key,Le)}}function w(Se,ce,ve){return ce&&y(Se.prototype,ce),Se}function x(Se,ce,ve){return ce in Se?Object.defineProperty(Se,ce,{value:ve,enumerable:!0,configurable:!0,writable:!0}):Se[ce]=ve,Se}function b(){return b=Object.assign||function(Se){for(var ce=1;ce<arguments.length;ce++){var ve=arguments[ce];for(var Le in ve)Object.prototype.hasOwnProperty.call(ve,Le)&&(Se[Le]=ve[Le])}return Se},b.apply(this,arguments)}function E(Se,ce){if(typeof ce!="function"&&ce!==null)throw new TypeError("Super expression must either be null or a function");Se.prototype=Object.create(ce&&ce.prototype,{constructor:{value:Se,writable:!0,configurable:!0}}),ce&&T(Se,ce)}function C(Se){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(ve){return ve.__proto__||Object.getPrototypeOf(ve)},C(Se)}function T(Se,ce){return T=Object.setPrototypeOf||function(Le,Be){return Le.__proto__=Be,Le},T(Se,ce)}function S(Se,ce){if(Se==null)return{};var ve={},Le=Object.keys(Se),Be,Nt;for(Nt=0;Nt<Le.length;Nt++)Be=Le[Nt],!(ce.indexOf(Be)>=0)&&(ve[Be]=Se[Be]);return ve}function A(Se,ce){if(Se==null)return{};var ve=S(Se,ce),Le,Be;if(Object.getOwnPropertySymbols){var Nt=Object.getOwnPropertySymbols(Se);for(Be=0;Be<Nt.length;Be++)Le=Nt[Be],!(ce.indexOf(Le)>=0)&&Object.prototype.propertyIsEnumerable.call(Se,Le)&&(ve[Le]=Se[Le])}return ve}function P(Se){if(Se===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Se}function R(Se,ce){if(ce&&(typeof ce=="object"||typeof ce=="function"))return ce;if(ce!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P(Se)}function L(Se,ce){return D(Se)||$(Se,ce)||F(Se,ce)||k()}function D(Se){if(Array.isArray(Se))return Se}function $(Se,ce){var ve=Se==null?null:typeof Symbol<"u"&&Se[Symbol.iterator]||Se["@@iterator"];if(ve!=null){var Le=[],Be=!0,Nt=!1,Nn,yi;try{for(ve=ve.call(Se);!(Be=(Nn=ve.next()).done)&&(Le.push(Nn.value),!(ce&&Le.length===ce));Be=!0);}catch(Vd){Nt=!0,yi=Vd}finally{try{!Be&&ve.return!=null&&ve.return()}finally{if(Nt)throw yi}}return Le}}function F(Se,ce){if(Se){if(typeof Se=="string")return N(Se,ce);var ve=Object.prototype.toString.call(Se).slice(8,-1);if(ve==="Object"&&Se.constructor&&(ve=Se.constructor.name),ve==="Map"||ve==="Set")return Array.from(Se);if(ve==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ve))return N(Se,ce)}}function N(Se,ce){(ce==null||ce>Se.length)&&(ce=Se.length);for(var ve=0,Le=new Array(ce);ve<ce;ve++)Le[ve]=Se[ve];return Le}function k(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var j={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},W={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},G={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},K={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},z=function(ce){switch(ce){case j.Mobile:return{isMobile:!0};case j.Tablet:return{isTablet:!0};case j.SmartTv:return{isSmartTV:!0};case j.Console:return{isConsole:!0};case j.Wearable:return{isWearable:!0};case j.Browser:return{isBrowser:!0};case j.Embedded:return{isEmbedded:!0};default:return K}},X=function(ce){return h(ce)},U=function(ce){var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return ce||ve},Z=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},V=function(ce){var ve=Z();return ve&&ve.platform&&(ve.platform.indexOf(ce)!==-1||ve.platform==="MacIntel"&&ve.maxTouchPoints>1&&!window.MSStream)},J=function(ce,ve,Le,Be,Nt){return{isBrowser:ce,browserMajorVersion:U(ve.major),browserFullVersion:U(ve.version),browserName:U(ve.name),engineName:U(Le.name),engineVersion:U(Le.version),osName:U(Be.name),osVersion:U(Be.version),userAgent:U(Nt)}},Q=function(ce,ve,Le,Be){return d({},ce,{vendor:U(ve.vendor),model:U(ve.model),os:U(Le.name),osVersion:U(Le.version),ua:U(Be)})},ee=function(ce,ve,Le,Be){return{isSmartTV:ce,engineName:U(ve.name),engineVersion:U(ve.version),osName:U(Le.name),osVersion:U(Le.version),userAgent:U(Be)}},te=function(ce,ve,Le,Be){return{isConsole:ce,engineName:U(ve.name),engineVersion:U(ve.version),osName:U(Le.name),osVersion:U(Le.version),userAgent:U(Be)}},ie=function(ce,ve,Le,Be){return{isWearable:ce,engineName:U(ve.name),engineVersion:U(ve.version),osName:U(Le.name),osVersion:U(Le.version),userAgent:U(Be)}},le=function(ce,ve,Le,Be,Nt){return{isEmbedded:ce,vendor:U(ve.vendor),model:U(ve.model),engineName:U(Le.name),engineVersion:U(Le.version),osName:U(Be.name),osVersion:U(Be.version),userAgent:U(Nt)}};function de(Se){var ce=Se?u(Se):l,ve=ce.device,Le=ce.browser,Be=ce.engine,Nt=ce.os,Nn=ce.ua,yi=z(ve.type),Vd=yi.isBrowser,L0=yi.isMobile,Hd=yi.isTablet,Yd=yi.isSmartTV,D0=yi.isConsole,ja=yi.isWearable,Xd=yi.isEmbedded;if(Vd)return J(Vd,Le,Be,Nt,Nn);if(Yd)return ee(Yd,Be,Nt,Nn);if(D0)return te(D0,Be,Nt,Nn);if(L0||Hd)return Q(yi,ve,Nt,Nn);if(ja)return ie(ja,Be,Nt,Nn);if(Xd)return le(Xd,ve,Be,Nt,Nn)}var fe=function(ce){var ve=ce.type;return ve===j.Mobile},oe=function(ce){var ve=ce.type;return ve===j.Tablet},Ee=function(ce){var ve=ce.type;return ve===j.Mobile||ve===j.Tablet},ye=function(ce){var ve=ce.type;return ve===j.SmartTv},Ce=function(ce){var ve=ce.type;return ve===j.Browser},Ie=function(ce){var ve=ce.type;return ve===j.Wearable},je=function(ce){var ve=ce.type;return ve===j.Console},Re=function(ce){var ve=ce.type;return ve===j.Embedded},Fe=function(ce){var ve=ce.vendor;return U(ve)},Ae=function(ce){var ve=ce.model;return U(ve)},Xe=function(ce){var ve=ce.type;return U(ve,"browser")},st=function(ce){var ve=ce.name;return ve===G.Android},vt=function(ce){var ve=ce.name;return ve===G.Windows},Ge=function(ce){var ve=ce.name;return ve===G.MAC_OS},nt=function(ce){var ve=ce.name;return ve===G.WindowsPhone},St=function(ce){var ve=ce.name;return ve===G.IOS},Je=function(ce){var ve=ce.version;return U(ve)},He=function(ce){var ve=ce.name;return U(ve)},_e=function(ce){var ve=ce.name;return ve===W.Chrome},ht=function(ce){var ve=ce.name;return ve===W.Firefox},Dt=function(ce){var ve=ce.name;return ve===W.Chromium},ut=function(ce){var ve=ce.name;return ve===W.Edge},xt=function(ce){var ve=ce.name;return ve===W.Yandex},tt=function(ce){var ve=ce.name;return ve===W.Safari||ve===W.MobileSafari},fn=function(ce){var ve=ce.name;return ve===W.MobileSafari},On=function(ce){var ve=ce.name;return ve===W.Opera},Ot=function(ce){var ve=ce.name;return ve===W.InternetExplorer||ve===W.Ie},pt=function(ce){var ve=ce.name;return ve===W.MIUI},Qn=function(ce){var ve=ce.name;return ve===W.SamsungBrowser},Sn=function(ce){var ve=ce.version;return U(ve)},Gr=function(ce){var ve=ce.major;return U(ve)},ne=function(ce){var ve=ce.name;return U(ve)},se=function(ce){var ve=ce.name;return U(ve)},ue=function(ce){var ve=ce.version;return U(ve)},pe=function(){var ce=Z(),ve=ce&&ce.userAgent&&ce.userAgent.toLowerCase();return typeof ve=="string"?/electron/.test(ve):!1},be=function(ce){return typeof ce=="string"&&ce.indexOf("Edg/")!==-1},Pe=function(){var ce=Z();return ce&&(/iPad|iPhone|iPod/.test(ce.platform)||ce.platform==="MacIntel"&&ce.maxTouchPoints>1)&&!window.MSStream},De=function(){return V("iPad")},Ye=function(){return V("iPhone")},jt=function(){return V("iPod")},zt=function(ce){return U(ce)};function Jt(Se){var ce=Se||l,ve=ce.device,Le=ce.browser,Be=ce.os,Nt=ce.engine,Nn=ce.ua;return{isSmartTV:ye(ve),isConsole:je(ve),isWearable:Ie(ve),isEmbedded:Re(ve),isMobileSafari:fn(Le)||De(),isChromium:Dt(Le),isMobile:Ee(ve)||De(),isMobileOnly:fe(ve),isTablet:oe(ve)||De(),isBrowser:Ce(ve),isDesktop:Ce(ve),isAndroid:st(Be),isWinPhone:nt(Be),isIOS:St(Be)||De(),isChrome:_e(Le),isFirefox:ht(Le),isSafari:tt(Le),isOpera:On(Le),isIE:Ot(Le),osVersion:Je(Be),osName:He(Be),fullBrowserVersion:Sn(Le),browserVersion:Gr(Le),browserName:ne(Le),mobileVendor:Fe(ve),mobileModel:Ae(ve),engineName:se(Nt),engineVersion:ue(Nt),getUA:zt(Nn),isEdge:ut(Le)||be(Nn),isYandex:xt(Le),deviceType:Xe(ve),isIOS13:Pe(),isIPad13:De(),isIPhone13:Ye(),isIPod13:jt(),isElectron:pe(),isEdgeChromium:be(Nn),isLegacyEdge:ut(Le)&&!be(Nn),isWindows:vt(Be),isMacOs:Ge(Be),isMIUI:pt(Le),isSamsungBrowser:Qn(Le)}}var en=ye(g),pn=je(g),Et=Ie(g),bn=Re(g),tn=fn(m)||De(),wr=Dt(m),cr=Ee(g)||De(),Vr=fe(g),mn=oe(g)||De(),Hr=Ce(g),ri=Ce(g),Tl=st(a),zc=nt(a),Yt=St(a)||De(),Lt=_e(m),Ut=ht(m),Kn=tt(m),Ji=On(m),Ps=Ot(m),$o=Je(a),Ud=He(a),Su=Sn(m),ra=Gr(m),Pb=ne(m),Is=Fe(g),Ib=Ae(g),Rb=se(r),Ob=ue(r),jd=zt(v),zd=ut(m)||be(v),Wc=xt(m),Wd=Xe(g),Mb=Pe(),$b=De(),R0=Ye(),O1=jt(),O0=pe(),Gc=be(v),Fb=ut(m)&&!be(v),M0=vt(a),hn=Ge(a),M1=pt(m),$1=Qn(m),$0=function(ce){if(!ce||typeof ce!="string"){console.error("No valid user agent string was provided");return}var ve=u(ce),Le=ve.device,Be=ve.browser,Nt=ve.os,Nn=ve.engine,yi=ve.ua;return Jt({device:Le,browser:Be,os:Nt,engine:Nn,ua:yi})},F1=function(ce){var ve=ce.renderWithFragment,Le=ce.children,Be=A(ce,["renderWithFragment","children"]);return Tl?ve?n.createElement(e.Fragment,null,Le):n.createElement("div",Be,Le):null},L1=function(ce){var ve=ce.renderWithFragment,Le=ce.children,Be=A(ce,["renderWithFragment","children"]);return Hr?ve?n.createElement(e.Fragment,null,Le):n.createElement("div",Be,Le):null},D1=function(ce){var ve=ce.renderWithFragment,Le=ce.children,Be=A(ce,["renderWithFragment","children"]);return Ps?ve?n.createElement(e.Fragment,null,Le):n.createElement("div",Be,Le):null},F0=function(ce){var ve=ce.renderWithFragment,Le=ce.children,Be=A(ce,["renderWithFragment","children"]);return Yt?ve?n.createElement(e.Fragment,null,Le):n.createElement("div",Be,Le):null},Gd=function(ce){var ve=ce.renderWithFragment,Le=ce.children,Be=A(ce,["renderWithFragment","children"]);return cr?ve?n.createElement(e.Fragment,null,Le):n.createElement("div",Be,Le):null},Fo=function(ce){var ve=ce.renderWithFragment,Le=ce.children,Be=A(ce,["renderWithFragment","children"]);return mn?ve?n.createElement(e.Fragment,null,Le):n.createElement("div",Be,Le):null},Lo=function(ce){var ve=ce.renderWithFragment,Le=ce.children,Be=A(ce,["renderWithFragment","children"]);return zc?ve?n.createElement(e.Fragment,null,Le):n.createElement("div",Be,Le):null},Do=function(ce){var ve=ce.renderWithFragment,Le=ce.children;ce.viewClassName,ce.style;var Be=A(ce,["renderWithFragment","children","viewClassName","style"]);return Vr?ve?n.createElement(e.Fragment,null,Le):n.createElement("div",Be,Le):null},Vc=function(ce){var ve=ce.renderWithFragment,Le=ce.children,Be=A(ce,["renderWithFragment","children"]);return en?ve?n.createElement(e.Fragment,null,Le):n.createElement("div",Be,Le):null},Hc=function(ce){var ve=ce.renderWithFragment,Le=ce.children,Be=A(ce,["renderWithFragment","children"]);return pn?ve?n.createElement(e.Fragment,null,Le):n.createElement("div",Be,Le):null},No=function(ce){var ve=ce.renderWithFragment,Le=ce.children,Be=A(ce,["renderWithFragment","children"]);return Et?ve?n.createElement(e.Fragment,null,Le):n.createElement("div",Be,Le):null},Lb=function(ce){var ve=ce.renderWithFragment,Le=ce.children;ce.viewClassName,ce.style;var Be=ce.condition,Nt=A(ce,["renderWithFragment","children","viewClassName","style","condition"]);return Be?ve?n.createElement(e.Fragment,null,Le):n.createElement("div",Nt,Le):null};function N1(Se){return(function(ce){E(ve,ce);function ve(Le){var Be;return f(this,ve),Be=R(this,C(ve).call(this,Le)),Be.isEventListenerAdded=!1,Be.handleOrientationChange=Be.handleOrientationChange.bind(P(Be)),Be.onOrientationChange=Be.onOrientationChange.bind(P(Be)),Be.onPageLoad=Be.onPageLoad.bind(P(Be)),Be.state={isLandscape:!1,isPortrait:!1},Be}return w(ve,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var Be=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:Be===0,isLandscape:Be===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":p(window))!==void 0&&cr&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return n.createElement(Se,b({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),ve})(n.Component)}function Yc(){var Se=e.useState(function(){var Nt=window.innerWidth>window.innerHeight?90:0;return{isPortrait:Nt===0,isLandscape:Nt===90,orientation:Nt===0?"portrait":"landscape"}}),ce=L(Se,2),ve=ce[0],Le=ce[1],Be=e.useCallback(function(){var Nt=window.innerWidth>window.innerHeight?90:0,Nn={isPortrait:Nt===0,isLandscape:Nt===90,orientation:Nt===0?"portrait":"landscape"};ve.orientation!==Nn.orientation&&Le(Nn)},[ve.orientation]);return e.useEffect(function(){return(typeof window>"u"?"undefined":p(window))!==void 0&&cr&&(Be(),window.addEventListener("load",Be,!1),window.addEventListener("resize",Be,!1)),function(){window.removeEventListener("resize",Be,!1),window.removeEventListener("load",Be,!1)}},[Be]),ve}function k1(Se){var ce=Se||window.navigator.userAgent;return u(ce)}function B1(Se){var ce=Se||window.navigator.userAgent,ve=k1(ce),Le=Jt(ve);return[Le,ve]}return ct.AndroidView=F1,ct.BrowserTypes=W,ct.BrowserView=L1,ct.ConsoleView=Hc,ct.CustomView=Lb,ct.IEView=D1,ct.IOSView=F0,ct.MobileOnlyView=Do,ct.MobileView=Gd,ct.OsTypes=G,ct.SmartTVView=Vc,ct.TabletView=Fo,ct.WearableView=No,ct.WinPhoneView=Lo,ct.browserName=Pb,ct.browserVersion=ra,ct.deviceDetect=de,ct.deviceType=Wd,ct.engineName=Rb,ct.engineVersion=Ob,ct.fullBrowserVersion=Su,ct.getSelectorsByUserAgent=$0,ct.getUA=jd,ct.isAndroid=Tl,ct.isBrowser=Hr,ct.isChrome=Lt,ct.isChromium=wr,ct.isConsole=pn,ct.isDesktop=ri,ct.isEdge=zd,ct.isEdgeChromium=Gc,ct.isElectron=O0,ct.isEmbedded=bn,ct.isFirefox=Ut,ct.isIE=Ps,ct.isIOS=Yt,ct.isIOS13=Mb,ct.isIPad13=$b,ct.isIPhone13=R0,ct.isIPod13=O1,ct.isLegacyEdge=Fb,ct.isMIUI=M1,ct.isMacOs=hn,ct.isMobile=cr,ct.isMobileOnly=Vr,ct.isMobileSafari=tn,ct.isOpera=Ji,ct.isSafari=Kn,ct.isSamsungBrowser=$1,ct.isSmartTV=en,ct.isTablet=mn,ct.isWearable=Et,ct.isWinPhone=zc,ct.isWindows=M0,ct.isYandex=Wc,ct.mobileModel=Ib,ct.mobileVendor=Is,ct.osName=Ud,ct.osVersion=$o,ct.parseUserAgent=u,ct.setUserAgent=X,ct.useDeviceData=k1,ct.useDeviceSelectors=B1,ct.useMobileOrientation=Yc,ct.withOrientationChange=N1,ct}var sn=Mee();const $ee="1.1.0";let bs=class O8 extends Error{constructor(e,n={}){const i=n.cause instanceof O8?n.cause.details:n.cause?.message?n.cause.message:n.details,c=n.cause instanceof O8&&n.cause.docsPath||n.docsPath,m=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...c?[`Docs: https://abitype.dev${c}`]:[],...i?[`Details: ${i}`]:[],`Version: abitype@${$ee}`].join(`
`);super(m),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=i,this.docsPath=c,this.metaMessages=n.metaMessages,this.shortMessage=e}};function bu(t,e){return t.exec(e)?.groups}const cU=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,hU=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,dU=/^\(.+?\).*?$/,zR=/^tuple(?<array>(\[(\d*)\])*)$/;function M8(t){let e=t.type;if(zR.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let c=0;c<n;c++){const m=t.components[c];e+=M8(m),c<n-1&&(e+=", ")}const i=bu(zR,t.type);return e+=`)${i?.array??""}`,M8({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function Qf(t){let e="";const n=t.length;for(let i=0;i<n;i++){const c=t[i];e+=M8(c),i!==n-1&&(e+=", ")}return e}function yw(t){return t.type==="function"?`function ${t.name}(${Qf(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${t.outputs?.length?` returns (${Qf(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${Qf(t.inputs)})`:t.type==="error"?`error ${t.name}(${Qf(t.inputs)})`:t.type==="constructor"?`constructor(${Qf(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const fU=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Fee(t){return fU.test(t)}function Lee(t){return bu(fU,t)}const pU=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Dee(t){return pU.test(t)}function Nee(t){return bu(pU,t)}const vU=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function kee(t){return vU.test(t)}function Bee(t){return bu(vU,t)}const gU=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Ox(t){return gU.test(t)}function Uee(t){return bu(gU,t)}const mU=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function jee(t){return mU.test(t)}function zee(t){return bu(mU,t)}const yU=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Wee(t){return yU.test(t)}function Gee(t){return bu(yU,t)}const Vee=/^receive\(\) external payable$/;function Hee(t){return Vee.test(t)}const WR=new Set(["memory","indexed","storage","calldata"]),Yee=new Set(["indexed"]),$8=new Set(["calldata","memory","storage"]);class Xee extends bs{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class Kee extends bs{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Zee extends bs{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Jee extends bs{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class _ee extends bs{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Qee extends bs{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class qee extends bs{constructor({param:e,type:n,modifier:i}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${i}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class ete extends bs{constructor({param:e,type:n,modifier:i}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${i}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${i}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class tte extends bs{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class s0 extends bs{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class nte extends bs{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class rte extends bs{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class ite extends bs{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class ste extends bs{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function ate(t,e,n){let i="";if(n)for(const c of Object.entries(n)){if(!c)continue;let m="";for(const s of c[1])m+=`[${s.type}${s.name?`:${s.name}`:""}]`;i+=`(${c[0]}{${m}})`}return e?`${e}:${t}${i}`:t}const h4=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function F8(t,e={}){if(kee(t))return ote(t,e);if(Dee(t))return lte(t,e);if(Fee(t))return ute(t,e);if(jee(t))return cte(t,e);if(Wee(t))return hte(t);if(Hee(t))return{type:"receive",stateMutability:"payable"};throw new nte({signature:t})}function ote(t,e={}){const n=Bee(t);if(!n)throw new s0({signature:t,type:"function"});const i=Ys(n.parameters),c=[],m=i.length;for(let g=0;g<m;g++)c.push(hu(i[g],{modifiers:$8,structs:e,type:"function"}));const s=[];if(n.returns){const g=Ys(n.returns),r=g.length;for(let a=0;a<r;a++)s.push(hu(g[a],{modifiers:$8,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:c,outputs:s}}function lte(t,e={}){const n=Nee(t);if(!n)throw new s0({signature:t,type:"event"});const i=Ys(n.parameters),c=[],m=i.length;for(let s=0;s<m;s++)c.push(hu(i[s],{modifiers:Yee,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:c}}function ute(t,e={}){const n=Lee(t);if(!n)throw new s0({signature:t,type:"error"});const i=Ys(n.parameters),c=[],m=i.length;for(let s=0;s<m;s++)c.push(hu(i[s],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:c}}function cte(t,e={}){const n=zee(t);if(!n)throw new s0({signature:t,type:"constructor"});const i=Ys(n.parameters),c=[],m=i.length;for(let s=0;s<m;s++)c.push(hu(i[s],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:c}}function hte(t){const e=Gee(t);if(!e)throw new s0({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const dte=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,fte=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,pte=/^u?int$/;function hu(t,e){const n=ate(t,e?.type,e?.structs);if(h4.has(n))return h4.get(n);const i=dU.test(t),c=bu(i?fte:dte,t);if(!c)throw new _ee({param:t});if(c.name&&gte(c.name))throw new Qee({param:t,name:c.name});const m=c.name?{name:c.name}:{},s=c.modifier==="indexed"?{indexed:!0}:{},g=e?.structs??{};let r,a={};if(i){r="tuple";const h=Ys(c.type),u=[],l=h.length;for(let o=0;o<l;o++)u.push(hu(h[o],{structs:g}));a={components:u}}else if(c.type in g)r="tuple",a={components:g[c.type]};else if(pte.test(c.type))r=`${c.type}256`;else if(c.type==="address payable")r="address";else if(r=c.type,e?.type!=="struct"&&!wU(r))throw new Zee({type:r});if(c.modifier){if(!e?.modifiers?.has?.(c.modifier))throw new qee({param:t,type:e?.type,modifier:c.modifier});if($8.has(c.modifier)&&!mte(r,!!c.array))throw new ete({param:t,type:e?.type,modifier:c.modifier})}const v={type:`${r}${c.array??""}`,...m,...s,...a};return h4.set(n,v),v}function Ys(t,e=[],n="",i=0){const c=t.trim().length;for(let m=0;m<c;m++){const s=t[m],g=t.slice(m+1);switch(s){case",":return i===0?Ys(g,[...e,n.trim()]):Ys(g,e,`${n}${s}`,i);case"(":return Ys(g,e,`${n}${s}`,i+1);case")":return Ys(g,e,`${n}${s}`,i-1);default:return Ys(g,e,`${n}${s}`,i)}}if(n==="")return e;if(i!==0)throw new ste({current:n,depth:i});return e.push(n.trim()),e}function wU(t){return t==="address"||t==="bool"||t==="function"||t==="string"||cU.test(t)||hU.test(t)}const vte=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function gte(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||cU.test(t)||hU.test(t)||vte.test(t)}function mte(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function _T(t){const e={},n=t.length;for(let s=0;s<n;s++){const g=t[s];if(!Ox(g))continue;const r=Uee(g);if(!r)throw new s0({signature:g,type:"struct"});const a=r.properties.split(";"),v=[],h=a.length;for(let u=0;u<h;u++){const o=a[u].trim();if(!o)continue;const d=hu(o,{type:"struct"});v.push(d)}if(!v.length)throw new rte({signature:g});e[r.name]=v}const i={},c=Object.entries(e),m=c.length;for(let s=0;s<m;s++){const[g,r]=c[s];i[g]=xU(r,e)}return i}const yte=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function xU(t,e,n=new Set){const i=[],c=t.length;for(let m=0;m<c;m++){const s=t[m];if(dU.test(s.type))i.push(s);else{const r=bu(yte,s.type);if(!r?.type)throw new tte({abiParameter:s});const{array:a,type:v}=r;if(v in e){if(n.has(v))throw new ite({type:v});i.push({...s,type:`tuple${a??""}`,components:xU(e[v]??[],e,new Set([...n,v]))})}else if(wU(v))i.push(s);else throw new Kee({type:v})}}return i}function bU(t){const e=_T(t),n=[],i=t.length;for(let c=0;c<i;c++){const m=t[c];Ox(m)||n.push(F8(m,e))}return n}function GR(t){let e;if(typeof t=="string")e=F8(t);else{const n=_T(t),i=t.length;for(let c=0;c<i;c++){const m=t[c];if(!Ox(m)){e=F8(m,n);break}}}if(!e)throw new Xee({signature:t});return e}function VR(t){const e=[];if(typeof t=="string"){const n=Ys(t),i=n.length;for(let c=0;c<i;c++)e.push(hu(n[c],{modifiers:WR}))}else{const n=_T(t),i=t.length;for(let c=0;c<i;c++){const m=t[c];if(Ox(m))continue;const s=Ys(m),g=s.length;for(let r=0;r<g;r++)e.push(hu(s[r],{modifiers:WR,structs:n}))}}if(e.length===0)throw new Jee({params:t});return e}function or(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const EU="2.38.4";let d4={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${EU}`},Ne=class L8 extends Error{constructor(e,n={}){const i=n.cause instanceof L8?n.cause.details:n.cause?.message?n.cause.message:n.details,c=n.cause instanceof L8&&n.cause.docsPath||n.docsPath,m=d4.getDocsUrl?.({...n,docsPath:c}),s=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...m?[`Docs: ${m}`]:[],...i?[`Details: ${i}`]:[],...d4.version?[`Version: ${d4.version}`]:[]].join(`
`);super(s,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=i,this.docsPath=c,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=EU}walk(e){return CU(this,e)}};function CU(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?CU(t.cause,e):e?null:t}let Tc=class extends Ne{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}};function Li(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}let SU=class extends Ne{constructor({offset:e,position:n,size:i}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${i}).`,{name:"SliceOffsetOutOfBoundsError"})}},TU=class extends Ne{constructor({size:e,targetSize:n,type:i}){super(`${i.charAt(0).toUpperCase()}${i.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class HR extends Ne{constructor({size:e,targetSize:n,type:i}){super(`${i.charAt(0).toUpperCase()}${i.slice(1).toLowerCase()} is expected to be ${n} ${i} long, but is ${e} ${i} long.`,{name:"InvalidBytesLengthError"})}}function a0(t,{dir:e,size:n=32}={}){return typeof t=="string"?bc(t,{dir:e,size:n}):wte(t,{dir:e,size:n})}function bc(t,{dir:e,size:n=32}={}){if(n===null)return t;const i=t.replace("0x","");if(i.length>n*2)throw new TU({size:Math.ceil(i.length/2),targetSize:n,type:"hex"});return`0x${i[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function wte(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new TU({size:t.length,targetSize:n,type:"bytes"});const i=new Uint8Array(n);for(let c=0;c<n;c++){const m=e==="right";i[m?c:n-c-1]=t[m?c:t.length-c-1]}return i}let AU=class extends Ne{constructor({max:e,min:n,signed:i,size:c,value:m}){super(`Number "${m}" is not in safe ${c?`${c*8}-bit ${i?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},xte=class extends Ne{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class bte extends Ne{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let Ete=class extends Ne{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function ar(t){return Li(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}function su(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,i=0;for(let c=0;c<n.length-1&&n[e==="left"?c:n.length-c-1].toString()==="0";c++)i++;return n=e==="left"?n.slice(i):n.slice(0,n.length-i),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function Da(t,{size:e}){if(ar(t)>e)throw new Ete({givenSize:ar(t),maxSize:e})}function _s(t,e={}){const{signed:n}=e;e.size&&Da(t,{size:e.size});const i=BigInt(t);if(!n)return i;const c=(t.length-2)/2,m=(1n<<BigInt(c)*8n-1n)-1n;return i<=m?i:i-BigInt(`0x${"f".padStart(c*2,"f")}`)-1n}function Cte(t,e={}){let n=t;if(e.size&&(Da(n,{size:e.size}),n=su(n)),su(n)==="0x00")return!1;if(su(n)==="0x01")return!0;throw new bte(n)}function po(t,e={}){return Number(_s(t,e))}function Ste(t,e={}){let n=vo(t);return e.size&&(Da(n,{size:e.size}),n=su(n,{dir:"right"})),new TextDecoder().decode(n)}const Tte=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function sr(t,e={}){return typeof t=="number"||typeof t=="bigint"?bt(t,e):typeof t=="string"?Fp(t,e):typeof t=="boolean"?PU(t,e):jr(t,e)}function PU(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Da(n,{size:e.size}),a0(n,{size:e.size})):n}function jr(t,e={}){let n="";for(let c=0;c<t.length;c++)n+=Tte[t[c]];const i=`0x${n}`;return typeof e.size=="number"?(Da(i,{size:e.size}),a0(i,{dir:"right",size:e.size})):i}function bt(t,e={}){const{signed:n,size:i}=e,c=BigInt(t);let m;i?n?m=(1n<<BigInt(i)*8n-1n)-1n:m=2n**(BigInt(i)*8n)-1n:typeof t=="number"&&(m=BigInt(Number.MAX_SAFE_INTEGER));const s=typeof m=="bigint"&&n?-m-1n:0;if(m&&c>m||c<s){const r=typeof t=="bigint"?"n":"";throw new AU({max:m?`${m}${r}`:void 0,min:`${s}${r}`,signed:n,size:i,value:`${t}${r}`})}const g=`0x${(n&&c<0?(1n<<BigInt(i*8))+BigInt(c):c).toString(16)}`;return i?a0(g,{size:i}):g}const Ate=new TextEncoder;function Fp(t,e={}){const n=Ate.encode(t);return jr(n,e)}const Pte=new TextEncoder;function o0(t,e={}){return typeof t=="number"||typeof t=="bigint"?Rte(t,e):typeof t=="boolean"?Ite(t,e):Li(t)?vo(t,e):Bh(t,e)}function Ite(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Da(n,{size:e.size}),a0(n,{size:e.size})):n}const Ll={zero:48,nine:57,A:65,F:70,a:97,f:102};function YR(t){if(t>=Ll.zero&&t<=Ll.nine)return t-Ll.zero;if(t>=Ll.A&&t<=Ll.F)return t-(Ll.A-10);if(t>=Ll.a&&t<=Ll.f)return t-(Ll.a-10)}function vo(t,e={}){let n=t;e.size&&(Da(n,{size:e.size}),n=a0(n,{dir:"right",size:e.size}));let i=n.slice(2);i.length%2&&(i=`0${i}`);const c=i.length/2,m=new Uint8Array(c);for(let s=0,g=0;s<c;s++){const r=YR(i.charCodeAt(g++)),a=YR(i.charCodeAt(g++));if(r===void 0||a===void 0)throw new Ne(`Invalid byte sequence ("${i[g-2]}${i[g-1]}" in "${i}").`);m[s]=r*16+a}return m}function Rte(t,e){const n=bt(t,e);return vo(n)}function Bh(t,e={}){const n=Pte.encode(t);return typeof e.size=="number"?(Da(n,{size:e.size}),a0(n,{dir:"right",size:e.size})):n}const Ny=BigInt(2**32-1),XR=BigInt(32);function Ote(t,e=!1){return e?{h:Number(t&Ny),l:Number(t>>XR&Ny)}:{h:Number(t>>XR&Ny)|0,l:Number(t&Ny)|0}}function Mte(t,e=!1){const n=t.length;let i=new Uint32Array(n),c=new Uint32Array(n);for(let m=0;m<n;m++){const{h:s,l:g}=Ote(t[m],e);[i[m],c[m]]=[s,g]}return[i,c]}const $te=(t,e,n)=>t<<n|e>>>32-n,Fte=(t,e,n)=>e<<n|t>>>32-n,Lte=(t,e,n)=>e<<n-32|t>>>64-n,Dte=(t,e,n)=>t<<n-32|e>>>64-n,gf=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Nte(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Tg(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Kh(t,...e){if(!Nte(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function kte(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Tg(t.outputLen),Tg(t.blockLen)}function Lp(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function IU(t,e){Kh(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Bte(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Dp(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function f4(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function zo(t,e){return t<<32-e|t>>>e}const Ute=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function jte(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function zte(t){for(let e=0;e<t.length;e++)t[e]=jte(t[e]);return t}const KR=Ute?t=>t:zte;function Wte(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Mx(t){return typeof t=="string"&&(t=Wte(t)),Kh(t),t}function Gte(...t){let e=0;for(let i=0;i<t.length;i++){const c=t[i];Kh(c),e+=c.length}const n=new Uint8Array(e);for(let i=0,c=0;i<t.length;i++){const m=t[i];n.set(m,c),c+=m.length}return n}let QT=class{};function RU(t){const e=i=>t().update(Mx(i)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Vte(t=32){if(gf&&typeof gf.getRandomValues=="function")return gf.getRandomValues(new Uint8Array(t));if(gf&&typeof gf.randomBytes=="function")return Uint8Array.from(gf.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const Hte=BigInt(0),uv=BigInt(1),Yte=BigInt(2),Xte=BigInt(7),Kte=BigInt(256),Zte=BigInt(113),OU=[],MU=[],$U=[];for(let t=0,e=uv,n=1,i=0;t<24;t++){[n,i]=[i,(2*n+3*i)%5],OU.push(2*(5*i+n)),MU.push((t+1)*(t+2)/2%64);let c=Hte;for(let m=0;m<7;m++)e=(e<<uv^(e>>Xte)*Zte)%Kte,e&Yte&&(c^=uv<<(uv<<BigInt(m))-uv);$U.push(c)}const FU=Mte($U,!0),Jte=FU[0],_te=FU[1],ZR=(t,e,n)=>n>32?Lte(t,e,n):$te(t,e,n),JR=(t,e,n)=>n>32?Dte(t,e,n):Fte(t,e,n);function Qte(t,e=24){const n=new Uint32Array(10);for(let i=24-e;i<24;i++){for(let s=0;s<10;s++)n[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const g=(s+8)%10,r=(s+2)%10,a=n[r],v=n[r+1],h=ZR(a,v,1)^n[g],u=JR(a,v,1)^n[g+1];for(let l=0;l<50;l+=10)t[s+l]^=h,t[s+l+1]^=u}let c=t[2],m=t[3];for(let s=0;s<24;s++){const g=MU[s],r=ZR(c,m,g),a=JR(c,m,g),v=OU[s];c=t[v],m=t[v+1],t[v]=r,t[v+1]=a}for(let s=0;s<50;s+=10){for(let g=0;g<10;g++)n[g]=t[s+g];for(let g=0;g<10;g++)t[s+g]^=~n[(g+2)%10]&n[(g+4)%10]}t[0]^=Jte[i],t[1]^=_te[i]}Dp(n)}let qte=class LU extends QT{constructor(e,n,i,c=!1,m=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=i,this.enableXOF=c,this.rounds=m,Tg(i),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Bte(this.state)}clone(){return this._cloneInto()}keccak(){KR(this.state32),Qte(this.state32,this.rounds),KR(this.state32),this.posOut=0,this.pos=0}update(e){Lp(this),e=Mx(e),Kh(e);const{blockLen:n,state:i}=this,c=e.length;for(let m=0;m<c;){const s=Math.min(n-this.pos,c-m);for(let g=0;g<s;g++)i[this.pos++]^=e[m++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:i,blockLen:c}=this;e[i]^=n,(n&128)!==0&&i===c-1&&this.keccak(),e[c-1]^=128,this.keccak()}writeInto(e){Lp(this,!1),Kh(e),this.finish();const n=this.state,{blockLen:i}=this;for(let c=0,m=e.length;c<m;){this.posOut>=i&&this.keccak();const s=Math.min(i-this.posOut,m-c);e.set(n.subarray(this.posOut,this.posOut+s),c),this.posOut+=s,c+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Tg(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(IU(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Dp(this.state)}_cloneInto(e){const{blockLen:n,suffix:i,outputLen:c,rounds:m,enableXOF:s}=this;return e||(e=new LU(n,i,c,s,m)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=m,e.suffix=i,e.outputLen=c,e.enableXOF=s,e.destroyed=this.destroyed,e}};const ene=(t,e,n)=>RU(()=>new qte(e,t,n)),DU=ene(1,136,256/8);function pi(t,e){const n=e||"hex",i=DU(Li(t,{strict:!1})?o0(t):t);return n==="bytes"?i:sr(i)}let jm=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const i=this.keys().next().value;i&&this.delete(i)}return this}};const tne=/^0x[a-fA-F0-9]{40}$/,p4=new jm(8192);function xs(t,e){const{strict:n=!0}=e??{},i=`${t}.${n}`;if(p4.has(i))return p4.get(i);const c=tne.test(t)?t.toLowerCase()===t?!0:n?zm(t)===t:!0:!1;return p4.set(i,c),c}const v4=new jm(8192);function zm(t,e){if(v4.has(`${t}.${e}`))return v4.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),i=pi(Bh(n),"bytes"),c=n.split("");for(let s=0;s<40;s+=2)i[s>>1]>>4>=8&&c[s]&&(c[s]=c[s].toUpperCase()),(i[s>>1]&15)>=8&&c[s+1]&&(c[s+1]=c[s+1].toUpperCase());const m=`0x${c.join("")}`;return v4.set(`${t}.${e}`,m),m}function Sr(t,e){if(!xs(t,{strict:!1}))throw new Tc({address:t});return zm(t,e)}function nne(t){const e=pi(`0x${t.substring(4)}`).substring(26);return zm(`0x${e}`)}function go(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new vne(t.type);return`${t.name}(${$x(t.inputs,{includeName:e})})`}function $x(t,{includeName:e=!1}={}){return t?t.map(n=>rne(n,{includeName:e})).join(e?", ":","):""}function rne(t,{includeName:e}){return t.type.startsWith("tuple")?`(${$x(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}class ine extends Ne{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class _R extends Ne{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class NU extends Ne{constructor({data:e,params:n,size:i}){super([`Data size of ${i} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${$x(n,{includeName:!0})})`,`Data:   ${e} (${i} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=i}}class Wm extends Ne{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class sne extends Ne{constructor({expectedLength:e,givenLength:n,type:i}){super([`ABI encoding array length mismatch for type ${i}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class ane extends Ne{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${ar(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class one extends Ne{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class lne extends Ne{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class QR extends Ne{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class kU extends Ne{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class une extends Ne{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class BU extends Ne{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class qR extends Ne{constructor(e,{docsPath:n}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class Np extends Ne{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class UU extends Ne{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class cne extends Ne{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class hne extends Ne{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${go(e.abiItem)}\`, and`,`\`${n.type}\` in \`${go(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let dne=class extends Ne{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class Ag extends Ne{constructor({abiItem:e,data:n,params:i,size:c}){super([`Data size of ${c} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${$x(i,{includeName:!0})})`,`Data:   ${n} (${c} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=i,this.size=c}}class Fx extends Ne{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${go(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class fne extends Ne{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class pne extends Ne{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let jU=class extends Ne{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class vne extends Ne{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class DKe extends Ne{constructor(e){super(`Type "${e}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}let eO=class extends Ne{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}},zU=class extends Ne{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}},gne=class extends Ne{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}};const mne={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new gne({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new zU({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new eO({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new eO({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function qT(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(mne);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function kp(t,e,n,{strict:i}={}){return Li(t,{strict:!1})?D8(t,e,n,{strict:i}):VU(t,e,n,{strict:i})}function WU(t,e){if(typeof e=="number"&&e>0&&e>ar(t)-1)throw new SU({offset:e,position:"start",size:ar(t)})}function GU(t,e,n){if(typeof e=="number"&&typeof n=="number"&&ar(t)!==n-e)throw new SU({offset:n,position:"end",size:ar(t)})}function VU(t,e,n,{strict:i}={}){WU(t,e);const c=t.slice(e,n);return i&&GU(c,e,n),c}function D8(t,e,n,{strict:i}={}){WU(t,e);const c=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return i&&GU(c,e,n),c}function yne(t,e={}){typeof e.size<"u"&&Da(t,{size:e.size});const n=jr(t,e);return _s(n,e)}function wne(t,e={}){let n=t;if(typeof e.size<"u"&&(Da(n,{size:e.size}),n=su(n)),n.length>1||n[0]>1)throw new xte(n);return!!n[0]}function au(t,e={}){typeof e.size<"u"&&Da(t,{size:e.size});const n=jr(t,e);return po(n,e)}function xne(t,e={}){let n=t;return typeof e.size<"u"&&(Da(n,{size:e.size}),n=su(n,{dir:"right"})),new TextDecoder().decode(n)}function Ia(t){return typeof t[0]=="string"?l0(t):bne(t)}function bne(t){let e=0;for(const c of t)e+=c.length;const n=new Uint8Array(e);let i=0;for(const c of t)n.set(c,i),i+=c.length;return n}function l0(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}const UKe=/^(.*)\[([0-9]*)\]$/,Ene=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,HU=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function pd(t,e){if(t.length!==e.length)throw new one({expectedLength:t.length,givenLength:e.length});const n=Cne({params:t,values:e}),i=t9(n);return i.length===0?"0x":i}function Cne({params:t,values:e}){const n=[];for(let i=0;i<t.length;i++)n.push(e9({param:t[i],value:e[i]}));return n}function e9({param:t,value:e}){const n=n9(t.type);if(n){const[i,c]=n;return Tne(e,{length:i,param:{...t,type:c}})}if(t.type==="tuple")return One(e,{param:t});if(t.type==="address")return Sne(e);if(t.type==="bool")return Pne(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const i=t.type.startsWith("int"),[,,c="256"]=HU.exec(t.type)??[];return Ine(e,{signed:i,size:Number(c)})}if(t.type.startsWith("bytes"))return Ane(e,{param:t});if(t.type==="string")return Rne(e);throw new fne(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function t9(t){let e=0;for(let m=0;m<t.length;m++){const{dynamic:s,encoded:g}=t[m];s?e+=32:e+=ar(g)}const n=[],i=[];let c=0;for(let m=0;m<t.length;m++){const{dynamic:s,encoded:g}=t[m];s?(n.push(bt(e+c,{size:32})),i.push(g),c+=ar(g)):n.push(g)}return Ia([...n,...i])}function Sne(t){if(!xs(t))throw new Tc({address:t});return{dynamic:!1,encoded:bc(t.toLowerCase())}}function Tne(t,{length:e,param:n}){const i=e===null;if(!Array.isArray(t))throw new jU(t);if(!i&&t.length!==e)throw new sne({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let c=!1;const m=[];for(let s=0;s<t.length;s++){const g=e9({param:n,value:t[s]});g.dynamic&&(c=!0),m.push(g)}if(i||c){const s=t9(m);if(i){const g=bt(m.length,{size:32});return{dynamic:!0,encoded:m.length>0?Ia([g,s]):g}}if(c)return{dynamic:!0,encoded:s}}return{dynamic:!1,encoded:Ia(m.map(({encoded:s})=>s))}}function Ane(t,{param:e}){const[,n]=e.type.split("bytes"),i=ar(t);if(!n){let c=t;return i%32!==0&&(c=bc(c,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:Ia([bc(bt(i,{size:32})),c])}}if(i!==Number.parseInt(n,10))throw new ane({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:bc(t,{dir:"right"})}}function Pne(t){if(typeof t!="boolean")throw new Ne(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:bc(PU(t))}}function Ine(t,{signed:e,size:n=256}){if(typeof n=="number"){const i=2n**(BigInt(n)-(e?1n:0n))-1n,c=e?-i-1n:0n;if(t>i||t<c)throw new AU({max:i.toString(),min:c.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:bt(t,{size:32,signed:e})}}function Rne(t){const e=Fp(t),n=Math.ceil(ar(e)/32),i=[];for(let c=0;c<n;c++)i.push(bc(kp(e,c*32,(c+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Ia([bc(bt(ar(e),{size:32})),...i])}}function One(t,{param:e}){let n=!1;const i=[];for(let c=0;c<e.components.length;c++){const m=e.components[c],s=Array.isArray(t)?c:m.name,g=e9({param:m,value:t[s]});i.push(g),g.dynamic&&(n=!0)}return{dynamic:n,encoded:n?t9(i):Ia(i.map(({encoded:c})=>c))}}function n9(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function u0(t,e){const n=typeof e=="string"?vo(e):e,i=qT(n);if(ar(n)===0&&t.length>0)throw new Wm;if(ar(e)&&ar(e)<32)throw new NU({data:typeof e=="string"?e:jr(e),params:t,size:ar(e)});let c=0;const m=[];for(let s=0;s<t.length;++s){const g=t[s];i.setPosition(c);const[r,a]=yp(i,g,{staticPosition:0});c+=a,m.push(r)}return m}function yp(t,e,{staticPosition:n}){const i=n9(e.type);if(i){const[c,m]=i;return $ne(t,{...e,type:m},{length:c,staticPosition:n})}if(e.type==="tuple")return Nne(t,e,{staticPosition:n});if(e.type==="address")return Mne(t);if(e.type==="bool")return Fne(t);if(e.type.startsWith("bytes"))return Lne(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return Dne(t,e);if(e.type==="string")return kne(t,{staticPosition:n});throw new pne(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const tO=32,N8=32;function Mne(t){const e=t.readBytes(32);return[zm(jr(VU(e,-20))),32]}function $ne(t,e,{length:n,staticPosition:i}){if(!n){const s=au(t.readBytes(N8)),g=i+s,r=g+tO;t.setPosition(g);const a=au(t.readBytes(tO)),v=Pg(e);let h=0;const u=[];for(let l=0;l<a;++l){t.setPosition(r+(v?l*32:h));const[o,d]=yp(t,e,{staticPosition:r});h+=d,u.push(o)}return t.setPosition(i+32),[u,32]}if(Pg(e)){const s=au(t.readBytes(N8)),g=i+s,r=[];for(let a=0;a<n;++a){t.setPosition(g+a*32);const[v]=yp(t,e,{staticPosition:g});r.push(v)}return t.setPosition(i+32),[r,32]}let c=0;const m=[];for(let s=0;s<n;++s){const[g,r]=yp(t,e,{staticPosition:i+c});c+=r,m.push(g)}return[m,c]}function Fne(t){return[wne(t.readBytes(32),{size:32}),32]}function Lne(t,e,{staticPosition:n}){const[i,c]=e.type.split("bytes");if(!c){const s=au(t.readBytes(32));t.setPosition(n+s);const g=au(t.readBytes(32));if(g===0)return t.setPosition(n+32),["0x",32];const r=t.readBytes(g);return t.setPosition(n+32),[jr(r),32]}return[jr(t.readBytes(Number.parseInt(c,10),32)),32]}function Dne(t,e){const n=e.type.startsWith("int"),i=Number.parseInt(e.type.split("int")[1]||"256",10),c=t.readBytes(32);return[i>48?yne(c,{signed:n}):au(c,{signed:n}),32]}function Nne(t,e,{staticPosition:n}){const i=e.components.length===0||e.components.some(({name:s})=>!s),c=i?[]:{};let m=0;if(Pg(e)){const s=au(t.readBytes(N8)),g=n+s;for(let r=0;r<e.components.length;++r){const a=e.components[r];t.setPosition(g+m);const[v,h]=yp(t,a,{staticPosition:g});m+=h,c[i?r:a?.name]=v}return t.setPosition(n+32),[c,32]}for(let s=0;s<e.components.length;++s){const g=e.components[s],[r,a]=yp(t,g,{staticPosition:n});c[i?s:g?.name]=r,m+=a}return[c,m]}function kne(t,{staticPosition:e}){const n=au(t.readBytes(32)),i=e+n;t.setPosition(i);const c=au(t.readBytes(32));if(c===0)return t.setPosition(e+32),["",32];const m=t.readBytes(c,32),s=xne(su(m));return t.setPosition(e+32),[s,32]}function Pg(t){const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return t.components?.some(Pg);const n=n9(t.type);return!!(n&&Pg({...t,type:n[1]}))}const Bne={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},YU={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Une={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"},jne=t=>pi(o0(t));function zne(t){return jne(t)}function Wne(t){let e=!0,n="",i=0,c="",m=!1;for(let s=0;s<t.length;s++){const g=t[s];if(["(",")",","].includes(g)&&(e=!0),g==="("&&i++,g===")"&&i--,!!e){if(i===0){if(g===" "&&["event","function",""].includes(c))c="";else if(c+=g,g===")"){m=!0;break}continue}if(g===" "){t[s-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}c+=g,n+=g}}if(!m)throw new Ne("Unable to normalize signature.");return c}const Gne=t=>{const e=typeof t=="string"?t:yw(t);return Wne(e)};function XU(t){return zne(Gne(t))}const Gm=t=>kp(XU(t),0,4);function Vne(t){const{abi:e,data:n}=t,i=kp(n,0,4);if(i==="0x")throw new Wm;const m=[...e||[],YU,Une].find(s=>s.type==="error"&&i===Gm(go(s)));if(!m)throw new kU(i,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:m,args:"inputs"in m&&m.inputs&&m.inputs.length>0?u0(m.inputs,kp(n,4)):void 0,errorName:m.name}}const Lx=XU,nO="/docs/contract/decodeEventLog";function r9(t){const{abi:e,data:n,strict:i,topics:c}=t,m=i??!0,[s,...g]=c;if(!s)throw new une({docsPath:nO});const r=e.find(d=>d.type==="event"&&s===Lx(go(d)));if(!(r&&"name"in r)||r.type!=="event")throw new BU(s,{docsPath:nO});const{name:a,inputs:v}=r,h=v?.some(d=>!("name"in d&&d.name)),u=h?[]:{},l=v.map((d,p)=>[d,p]).filter(([d])=>"indexed"in d&&d.indexed);for(let d=0;d<l.length;d++){const[p,f]=l[d],y=g[d];if(!y)throw new Fx({abiItem:r,param:p});u[h?f:p.name||f]=Hne({param:p,value:y})}const o=v.filter(d=>!("indexed"in d&&d.indexed));if(o.length>0){if(n&&n!=="0x")try{const d=u0(o,n);if(d)if(h)for(let p=0;p<v.length;p++)u[p]=u[p]??d.shift();else for(let p=0;p<o.length;p++)u[o[p].name]=d[p]}catch(d){if(m)throw d instanceof NU||d instanceof zU?new Ag({abiItem:r,data:n,params:o,size:ar(n)}):d}else if(m)throw new Ag({abiItem:r,data:"0x",params:o,size:0})}return{eventName:a,args:Object.values(u).length>0?u:void 0}}function Hne({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(u0([t],e)||[])[0]}function KU(t){const{abi:e,data:n}=t,i=kp(n,0,4),c=e.find(m=>m.type==="function"&&i===Gm(go(m)));if(!c)throw new cne(i,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:c.name,args:"inputs"in c&&c.inputs&&c.inputs.length>0?u0(c.inputs,kp(n,4)):void 0}}function vd(t){const{abi:e,args:n=[],name:i}=t,c=Li(i,{strict:!1}),m=e.filter(g=>c?g.type==="function"?Gm(g)===i:g.type==="event"?Lx(g)===i:!1:"name"in g&&g.name===i);if(m.length===0)return;if(m.length===1)return m[0];let s;for(const g of m){if(!("inputs"in g))continue;if(!n||n.length===0){if(!g.inputs||g.inputs.length===0)return g;continue}if(!g.inputs||g.inputs.length===0||g.inputs.length!==n.length)continue;if(n.every((a,v)=>{const h="inputs"in g&&g.inputs[v];return h?k8(a,h):!1})){if(s&&"inputs"in s&&s.inputs){const a=ZU(g.inputs,s.inputs,n);if(a)throw new hne({abiItem:g,type:a[0]},{abiItem:s,type:a[1]})}s=g}}return s||m[0]}function k8(t,e){const n=typeof t,i=e.type;switch(i){case"address":return xs(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return i==="tuple"&&"components"in e?Object.values(e.components).every((c,m)=>k8(Object.values(t)[m],c)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(i)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(i)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(i)?Array.isArray(t)&&t.every(c=>k8(c,{...e,type:i.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function ZU(t,e,n){for(const i in t){const c=t[i],m=e[i];if(c.type==="tuple"&&m.type==="tuple"&&"components"in c&&"components"in m)return ZU(c.components,m.components,n[i]);const s=[c.type,m.type];if(s.includes("address")&&s.includes("bytes20")?!0:s.includes("address")&&s.includes("string")?xs(n[i],{strict:!1}):s.includes("address")&&s.includes("bytes")?xs(n[i],{strict:!1}):!1)return s}}const g4="/docs/contract/decodeFunctionResult";function gd(t){const{abi:e,args:n,functionName:i,data:c}=t;let m=e[0];if(i){const g=vd({abi:e,args:n,name:i});if(!g)throw new Np(i,{docsPath:g4});m=g}if(m.type!=="function")throw new Np(void 0,{docsPath:g4});if(!m.outputs)throw new UU(m.name,{docsPath:g4});const s=u0(m.outputs,c);if(s&&s.length>1)return s;if(s&&s.length===1)return s[0]}const m4="/docs/contract/encodeDeployData";function Dx(t){const{abi:e,args:n,bytecode:i}=t;if(!n||n.length===0)return i;const c=e.find(s=>"type"in s&&s.type==="constructor");if(!c)throw new ine({docsPath:m4});if(!("inputs"in c))throw new _R({docsPath:m4});if(!c.inputs||c.inputs.length===0)throw new _R({docsPath:m4});const m=pd(c.inputs,n);return l0([i,m])}const y4="/docs/contract/encodeErrorResult";function rO(t){const{abi:e,errorName:n,args:i}=t;let c=e[0];if(n){const r=vd({abi:e,args:i,name:n});if(!r)throw new QR(n,{docsPath:y4});c=r}if(c.type!=="error")throw new QR(void 0,{docsPath:y4});const m=go(c),s=Gm(m);let g="0x";if(i&&i.length>0){if(!c.inputs)throw new lne(c.name,{docsPath:y4});g=pd(c.inputs,i)}return l0([s,g])}class Yne extends Ne{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const iO="/docs/contract/encodeEventTopics";function Vm(t){const{abi:e,eventName:n,args:i}=t;let c=e[0];if(n){const r=vd({abi:e,name:n});if(!r)throw new qR(n,{docsPath:iO});c=r}if(c.type!=="event")throw new qR(void 0,{docsPath:iO});const m=go(c),s=Lx(m);let g=[];if(i&&"inputs"in c){const r=c.inputs?.filter(v=>"indexed"in v&&v.indexed),a=Array.isArray(i)?i:Object.values(i).length>0?r?.map(v=>i[v.name])??[]:[];a.length>0&&(g=r?.map((v,h)=>Array.isArray(a[h])?a[h].map((u,l)=>sO({param:v,value:a[h][l]})):typeof a[h]<"u"&&a[h]!==null?sO({param:v,value:a[h]}):null)??[])}return[s,...g]}function sO({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return pi(o0(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new Yne(t.type);return pd([t],[e])}const aO="/docs/contract/encodeFunctionData";function Xne(t){const{abi:e,args:n,functionName:i}=t;let c=e[0];if(i){const m=vd({abi:e,args:n,name:i});if(!m)throw new Np(i,{docsPath:aO});c=m}if(c.type!=="function")throw new Np(void 0,{docsPath:aO});return{abi:[c],functionName:Gm(go(c))}}function Es(t){const{args:e}=t,{abi:n,functionName:i}=t.abi.length===1&&t.functionName?.startsWith("0x")?t:Xne(t),c=n[0],m=i,s="inputs"in c&&c.inputs?pd(c.inputs,e??[]):void 0;return l0([m,s??"0x"])}const w4="/docs/contract/encodeFunctionResult";function Kne(t){const{abi:e,functionName:n,result:i}=t;let c=e[0];if(n){const s=vd({abi:e,name:n});if(!s)throw new Np(n,{docsPath:w4});c=s}if(c.type!=="function")throw new Np(void 0,{docsPath:w4});if(!c.outputs)throw new UU(c.name,{docsPath:w4});const m=(()=>{if(c.outputs.length===0)return[];if(c.outputs.length===1)return[i];if(Array.isArray(i))return i;throw new jU(i)})();return pd(c.outputs,m)}const Ur=(t,e,n)=>JSON.stringify(t,(i,c)=>typeof c=="bigint"?c.toString():c,n);function JU({abiItem:t,args:e,includeFunctionName:n=!0,includeName:i=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((c,m)=>`${i&&c.name?`${c.name}: `:""}${typeof e[m]=="object"?Ur(e[m]):e[m]}`).join(", ")})`}function Hm(t,e){if(!xs(t,{strict:!1}))throw new Tc({address:t});if(!xs(e,{strict:!1}))throw new Tc({address:e});return t.toLowerCase()===e.toLowerCase()}function i9(t){const{abi:e,args:n,logs:i,strict:c=!0}=t,m=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return i.map(s=>{try{const g=e.find(a=>a.type==="event"&&s.topics[0]===Lx(a));if(!g)return null;const r=r9({...s,abi:[g],strict:c});return m&&!m.includes(r.eventName)||!Zne({args:r.args,inputs:g.inputs,matchArgs:n})?null:{...r,...s}}catch(g){let r,a;if(g instanceof BU)return null;if(g instanceof Ag||g instanceof Fx){if(c)return null;r=g.abiItem.name,a=g.abiItem.inputs?.some(v=>!("name"in v&&v.name))}return{...s,args:a?[]:{},eventName:r}}}).filter(Boolean)}function Zne(t){const{args:e,inputs:n,matchArgs:i}=t;if(!i)return!0;if(!e)return!1;function c(m,s,g){try{return m.type==="address"?Hm(s,g):m.type==="string"||m.type==="bytes"?pi(o0(s))===g:s===g}catch{return!1}}return Array.isArray(e)&&Array.isArray(i)?i.every((m,s)=>{if(m==null)return!0;const g=n[s];return g?(Array.isArray(m)?m:[m]).some(a=>c(g,a,e[s])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof i=="object"&&!Array.isArray(i)?Object.entries(i).every(([m,s])=>{if(s==null)return!0;const g=n.find(a=>a.name===m);return g?(Array.isArray(s)?s:[s]).some(a=>c(g,a,e[m])):!1}):!1}function Jne(t,e="hex"){const n=_U(t),i=qT(new Uint8Array(n.length));return n.encode(i),e==="hex"?jr(i.bytes):i.bytes}function _U(t){return Array.isArray(t)?_ne(t.map(e=>_U(e))):Qne(t)}function _ne(t){const e=t.reduce((c,m)=>c+m.length,0),n=QU(e);return{length:e<=55?1+e:1+n+e,encode(c){e<=55?c.pushByte(192+e):(c.pushByte(247+n),n===1?c.pushUint8(e):n===2?c.pushUint16(e):n===3?c.pushUint24(e):c.pushUint32(e));for(const{encode:m}of t)m(c)}}}function Qne(t){const e=typeof t=="string"?vo(t):t,n=QU(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(c){e.length===1&&e[0]<128?c.pushBytes(e):e.length<=55?(c.pushByte(128+e.length),c.pushBytes(e)):(c.pushByte(183+n),n===1?c.pushUint8(e.length):n===2?c.pushUint16(e.length):n===3?c.pushUint24(e.length):c.pushUint32(e.length),c.pushBytes(e))}}}function QU(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new Ne("Length is too large.")}function qne(t){const{chainId:e,nonce:n,to:i}=t,c=t.contractAddress??t.address,m=pi(l0(["0x05",Jne([e?bt(e):"0x",c,n?bt(n):"0x"])]));return i==="bytes"?vo(m):m}async function ere({hash:t,signature:e}){const n=Li(t)?t:sr(t),{secp256k1:i}=await Fi(async()=>{const{secp256k1:s}=await Promise.resolve().then(()=>Hse);return{secp256k1:s}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:a,s:v,v:h,yParity:u}=e,l=Number(u??h),o=oO(l);return new i.Signature(_s(a),_s(v)).addRecoveryBit(o)}const s=Li(e)?e:sr(e);if(ar(s)!==65)throw new Error("invalid signature length");const g=po(`0x${s.slice(130)}`),r=oO(g);return i.Signature.fromCompact(s.substring(2,130)).addRecoveryBit(r)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function oO(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function qU({hash:t,signature:e}){return nne(await ere({hash:t,signature:e}))}async function Nx(t){const{authorization:e,signature:n}=t;return qU({hash:qne(e),signature:n??e})}const ej={gwei:9,wei:18},tre={ether:-9,wei:9};function vs(t,e){let n=t.toString();const i=n.startsWith("-");i&&(n=n.slice(1)),n=n.padStart(e,"0");let[c,m]=[n.slice(0,n.length-e),n.slice(n.length-e)];return m=m.replace(/(0+)$/,""),`${i?"-":""}${c||"0"}${m?`.${m}`:""}`}function md(t,e="wei"){return vs(t,ej[e])}function ys(t,e="wei"){return vs(t,tre[e])}function Ym(t){const e=Object.entries(t).map(([i,c])=>c===void 0||c===!1?null:[i,c]).filter(Boolean),n=e.reduce((i,[c])=>Math.max(i,c.length),0);return e.map(([i,c])=>`  ${`${i}:`.padEnd(n+1)}  ${c}`).join(`
`)}class nre extends Ne{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class rre extends Ne{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Ym(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class ire extends Ne{constructor(e,{account:n,docsPath:i,chain:c,data:m,gas:s,gasPrice:g,maxFeePerGas:r,maxPriorityFeePerGas:a,nonce:v,to:h,value:u}){const l=Ym({chain:c&&`${c?.name} (id: ${c?.id})`,from:n?.address,to:h,value:typeof u<"u"&&`${md(u)} ${c?.nativeCurrency?.symbol||"ETH"}`,data:m,gas:s,gasPrice:typeof g<"u"&&`${ys(g)} gwei`,maxFeePerGas:typeof r<"u"&&`${ys(r)} gwei`,maxPriorityFeePerGas:typeof a<"u"&&`${ys(a)} gwei`,nonce:v});super(e.shortMessage,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",l].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class tj extends Ne{constructor({blockHash:e,blockNumber:n,blockTag:i,hash:c,index:m}){let s="Transaction";i&&m!==void 0&&(s=`Transaction at block time "${i}" at index "${m}"`),e&&m!==void 0&&(s=`Transaction at block hash "${e}" at index "${m}"`),n&&m!==void 0&&(s=`Transaction at block number "${n}" at index "${m}"`),c&&(s=`Transaction with hash "${c}"`),super(`${s} could not be found.`,{name:"TransactionNotFoundError"})}}class nj extends Ne{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class rj extends Ne{constructor({receipt:e}){super(`Transaction with hash "${e.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=e}}class sre extends Ne{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}function ij(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),i=typeof t.blobs[0]=="string"?t.blobs.map(m=>vo(m)):t.blobs,c=[];for(const m of i)c.push(Uint8Array.from(e.blobToKzgCommitment(m)));return n==="bytes"?c:c.map(m=>jr(m))}function sj(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),i=typeof t.blobs[0]=="string"?t.blobs.map(s=>vo(s)):t.blobs,c=typeof t.commitments[0]=="string"?t.commitments.map(s=>vo(s)):t.commitments,m=[];for(let s=0;s<i.length;s++){const g=i[s],r=c[s];m.push(Uint8Array.from(e.computeBlobKzgProof(g,r)))}return n==="bytes"?m:m.map(s=>jr(s))}function are(t,e,n,i){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,i);const c=BigInt(32),m=BigInt(4294967295),s=Number(n>>c&m),g=Number(n&m),r=i?4:0,a=i?0:4;t.setUint32(e+r,s,i),t.setUint32(e+a,g,i)}function ore(t,e,n){return t&e^~t&n}function lre(t,e,n){return t&e^t&n^e&n}let ure=class extends QT{constructor(e,n,i,c){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=i,this.isLE=c,this.buffer=new Uint8Array(e),this.view=f4(this.buffer)}update(e){Lp(this),e=Mx(e),Kh(e);const{view:n,buffer:i,blockLen:c}=this,m=e.length;for(let s=0;s<m;){const g=Math.min(c-this.pos,m-s);if(g===c){const r=f4(e);for(;c<=m-s;s+=c)this.process(r,s);continue}i.set(e.subarray(s,s+g),this.pos),this.pos+=g,s+=g,this.pos===c&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Lp(this),IU(e,this),this.finished=!0;const{buffer:n,view:i,blockLen:c,isLE:m}=this;let{pos:s}=this;n[s++]=128,Dp(this.buffer.subarray(s)),this.padOffset>c-s&&(this.process(i,0),s=0);for(let h=s;h<c;h++)n[h]=0;are(i,c-8,BigInt(this.length*8),m),this.process(i,0);const g=f4(e),r=this.outputLen;if(r%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const a=r/4,v=this.get();if(a>v.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<a;h++)g.setUint32(4*h,v[h],m)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const i=e.slice(0,n);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:i,length:c,finished:m,destroyed:s,pos:g}=this;return e.destroyed=s,e.finished=m,e.length=c,e.pos=g,c%n&&e.buffer.set(i),e}clone(){return this._cloneInto()}};const Uu=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),cre=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ju=new Uint32Array(64);let hre=class extends ure{constructor(e=32){super(64,e,8,!1),this.A=Uu[0]|0,this.B=Uu[1]|0,this.C=Uu[2]|0,this.D=Uu[3]|0,this.E=Uu[4]|0,this.F=Uu[5]|0,this.G=Uu[6]|0,this.H=Uu[7]|0}get(){const{A:e,B:n,C:i,D:c,E:m,F:s,G:g,H:r}=this;return[e,n,i,c,m,s,g,r]}set(e,n,i,c,m,s,g,r){this.A=e|0,this.B=n|0,this.C=i|0,this.D=c|0,this.E=m|0,this.F=s|0,this.G=g|0,this.H=r|0}process(e,n){for(let h=0;h<16;h++,n+=4)ju[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const u=ju[h-15],l=ju[h-2],o=zo(u,7)^zo(u,18)^u>>>3,d=zo(l,17)^zo(l,19)^l>>>10;ju[h]=d+ju[h-7]+o+ju[h-16]|0}let{A:i,B:c,C:m,D:s,E:g,F:r,G:a,H:v}=this;for(let h=0;h<64;h++){const u=zo(g,6)^zo(g,11)^zo(g,25),l=v+u+ore(g,r,a)+cre[h]+ju[h]|0,d=(zo(i,2)^zo(i,13)^zo(i,22))+lre(i,c,m)|0;v=a,a=r,r=g,g=s+l|0,s=m,m=c,c=i,i=l+d|0}i=i+this.A|0,c=c+this.B|0,m=m+this.C|0,s=s+this.D|0,g=g+this.E|0,r=r+this.F|0,a=a+this.G|0,v=v+this.H|0,this.set(i,c,m,s,g,r,a,v)}roundClean(){Dp(ju)}destroy(){this.set(0,0,0,0,0,0,0,0),Dp(this.buffer)}};const aj=RU(()=>new hre),dre=aj;function fre(t,e){return dre(Li(t,{strict:!1})?o0(t):t)}function pre(t){const{commitment:e,version:n=1}=t,i=t.to??(typeof e=="string"?"hex":"bytes"),c=fre(e);return c.set([n],0),i==="bytes"?c:jr(c)}function vre(t){const{commitments:e,version:n}=t,i=t.to,c=[];for(const m of e)c.push(pre({commitment:m,to:i,version:n}));return c}const lO=6,oj=32,s9=4096,lj=oj*s9,uO=lj*lO-1-1*s9*lO;class gre extends Ne{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class mre extends Ne{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function yre(t){const e=typeof t.data=="string"?vo(t.data):t.data,n=ar(e);if(!n)throw new mre;if(n>uO)throw new gre({maxSize:uO,size:n});const i=[];let c=!0,m=0;for(;c;){const s=qT(new Uint8Array(lj));let g=0;for(;g<s9;){const r=e.slice(m,m+(oj-1));if(s.pushByte(0),s.pushBytes(r),r.length<31){s.pushByte(128),c=!1;break}g++,m+=31}i.push(s)}return i.map(s=>jr(s.bytes))}function wre(t){const{data:e,kzg:n,to:i}=t,c=t.blobs??yre({data:e}),m=t.commitments??ij({blobs:c,kzg:n,to:i}),s=t.proofs??sj({blobs:c,commitments:m,kzg:n,to:i}),g=[];for(let r=0;r<c.length;r++)g.push({blob:c[r],commitment:m[r],proof:s[r]});return g}const xre=2n**256n-1n;class B8 extends Ne{constructor({blockNumber:e,chain:n,contract:i}){super(`Chain "${n.name}" does not support contract "${i.name}".`,{metaMessages:["This could be due to any of the following:",...e&&i.blockCreated&&i.blockCreated>e?[`- The contract "${i.name}" was not deployed until block ${i.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${i.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class bre extends Ne{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class Ere extends Ne{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class uj extends Ne{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class sp extends Ne{constructor({cause:e,message:n}={}){const i=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${i?`with reason: ${i}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(sp,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(sp,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class ww extends Ne{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ys(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(ww,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class U8 extends Ne{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ys(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(U8,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class j8 extends Ne{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(j8,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class z8 extends Ne{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(z8,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class W8 extends Ne{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(W8,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class G8 extends Ne{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(G8,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class V8 extends Ne{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(V8,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class H8 extends Ne{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(H8,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Y8 extends Ne{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Y8,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class xw extends Ne{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:i}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${ys(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${i?` = ${ys(i)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(xw,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Xm extends Ne{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function Cre(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new rre({transaction:t})}async function Sre({address:t,authorization:e,signature:n}){return Hm(Sr(t),await Nx({authorization:e,signature:n}))}const Tre=t=>t,a9=t=>t;class qv extends Ne{constructor({body:e,cause:n,details:i,headers:c,status:m,url:s}){super("HTTP request failed.",{cause:n,details:i,metaMessages:[m&&`Status: ${m}`,`URL: ${a9(s)}`,e&&`Request body: ${Ur(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=c,this.status=m,this.url=s}}class o9 extends Ne{constructor({body:e,error:n,url:i}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${a9(i)}`,`Request body: ${Ur(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class cO extends Ne{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${a9(n)}`,`Request body: ${Ur(e)}`],name:"TimeoutError"})}}const Are=-1;class Cs extends Ne{constructor(e,{code:n,docsPath:i,metaMessages:c,name:m,shortMessage:s}){super(s,{cause:e,docsPath:i,metaMessages:c||e?.metaMessages,name:m||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=m||e.name,this.code=e instanceof o9?e.code:n??Are}}class ta extends Cs{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Ig extends Cs{constructor(e){super(e,{code:Ig.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Ig,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Rg extends Cs{constructor(e){super(e,{code:Rg.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Rg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Og extends Cs{constructor(e,{method:n}={}){super(e,{code:Og.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Og,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Mg extends Cs{constructor(e){super(e,{code:Mg.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Mg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Zh extends Cs{constructor(e){super(e,{code:Zh.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Zh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Jh extends Cs{constructor(e){super(e,{code:Jh.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Jh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class $g extends Cs{constructor(e){super(e,{code:$g.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty($g,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Fg extends Cs{constructor(e){super(e,{code:Fg.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Fg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Lg extends Cs{constructor(e){super(e,{code:Lg.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Lg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Ph extends Cs{constructor(e,{method:n}={}){super(e,{code:Ph.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(Ph,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Bp extends Cs{constructor(e){super(e,{code:Bp.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Bp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Dg extends Cs{constructor(e){super(e,{code:Dg.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Dg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class wp extends ta{constructor(e){super(e,{code:wp.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(wp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Ng extends ta{constructor(e){super(e,{code:Ng.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Ng,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class kg extends ta{constructor(e,{method:n}={}){super(e,{code:kg.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(kg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Bg extends ta{constructor(e){super(e,{code:Bg.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Bg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Ug extends ta{constructor(e){super(e,{code:Ug.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Ug,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class jg extends ta{constructor(e){super(e,{code:jg.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(jg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Up extends ta{constructor(e){super(e,{code:Up.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Up,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class zg extends ta{constructor(e){super(e,{code:zg.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(zg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Wg extends ta{constructor(e){super(e,{code:Wg.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Wg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Gg extends ta{constructor(e){super(e,{code:Gg.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Gg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Vg extends ta{constructor(e){super(e,{code:Vg.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Vg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Hg extends ta{constructor(e){super(e,{code:Hg.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Hg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class jp extends ta{constructor(e){super(e,{code:jp.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(jp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class Pre extends Cs{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const ky=new jm(8192);function Ire(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(ky.get(n))return ky.get(n);const i=t().finally(()=>ky.delete(n));return ky.set(n,i),i}async function X8(t){return new Promise(e=>setTimeout(e,t))}function bw(t,{delay:e=100,retryCount:n=2,shouldRetry:i=()=>!0}={}){return new Promise((c,m)=>{const s=async({count:g=0}={})=>{const r=async({error:a})=>{const v=typeof e=="function"?e({count:g,error:a}):e;v&&await X8(v),s({count:g+1})};try{const a=await t();c(a)}catch(a){if(g<n&&await i({count:g,error:a}))return r({error:a});m(a)}};s()})}function Rre(t,e={}){return async(n,i={})=>{const{dedupe:c=!1,methods:m,retryDelay:s=150,retryCount:g=3,uid:r}={...e,...i},{method:a}=n;if(m?.exclude?.includes(a))throw new Ph(new Error("method not supported"),{method:a});if(m?.include&&!m.include.includes(a))throw new Ph(new Error("method not supported"),{method:a});const v=c?Fp(`${r}.${Ur(n)}`):void 0;return Ire(()=>bw(async()=>{try{return await t(n)}catch(h){const u=h;switch(u.code){case Ig.code:throw new Ig(u);case Rg.code:throw new Rg(u);case Og.code:throw new Og(u,{method:n.method});case Mg.code:throw new Mg(u);case Zh.code:throw new Zh(u);case Jh.code:throw new Jh(u);case $g.code:throw new $g(u);case Fg.code:throw new Fg(u);case Lg.code:throw new Lg(u);case Ph.code:throw new Ph(u,{method:n.method});case Bp.code:throw new Bp(u);case Dg.code:throw new Dg(u);case wp.code:throw new wp(u);case Ng.code:throw new Ng(u);case kg.code:throw new kg(u);case Bg.code:throw new Bg(u);case Ug.code:throw new Ug(u);case jg.code:throw new jg(u);case Up.code:throw new Up(u);case zg.code:throw new zg(u);case Wg.code:throw new Wg(u);case Gg.code:throw new Gg(u);case Vg.code:throw new Vg(u);case Hg.code:throw new Hg(u);case jp.code:throw new jp(u);case 5e3:throw new wp(u);default:throw h instanceof Ne?h:new Pre(u)}}},{delay:({count:h,error:u})=>{if(u&&u instanceof qv){const l=u?.headers?.get("Retry-After");if(l?.match(/\d/))return Number.parseInt(l,10)*1e3}return~~(1<<h)*s},retryCount:g,shouldRetry:({error:h})=>Ore(h)}),{enabled:c,id:v})}}function Ore(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===Bp.code||t.code===Zh.code:t instanceof qv&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const l9=BigInt(0),K8=BigInt(1);function Km(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function u9(t){if(!Km(t))throw new Error("Uint8Array expected")}function Yg(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function By(t){const e=t.toString(16);return e.length&1?"0"+e:e}function cj(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?l9:BigInt("0x"+t)}const hj=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Mre=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Xg(t){if(u9(t),hj)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=Mre[t[n]];return e}const Dl={_0:48,_9:57,A:65,F:70,a:97,f:102};function hO(t){if(t>=Dl._0&&t<=Dl._9)return t-Dl._0;if(t>=Dl.A&&t<=Dl.F)return t-(Dl.A-10);if(t>=Dl.a&&t<=Dl.f)return t-(Dl.a-10)}function Ew(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(hj)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const i=new Uint8Array(n);for(let c=0,m=0;c<n;c++,m+=2){const s=hO(t.charCodeAt(m)),g=hO(t.charCodeAt(m+1));if(s===void 0||g===void 0){const r=t[m]+t[m+1];throw new Error('hex string expected, got non-hex character "'+r+'" at index '+m)}i[c]=s*16+g}return i}function Uh(t){return cj(Xg(t))}function dj(t){return u9(t),cj(Xg(Uint8Array.from(t).reverse()))}function Zm(t,e){return Ew(t.toString(16).padStart(e*2,"0"))}function fj(t,e){return Zm(t,e).reverse()}function ya(t,e,n){let i;if(typeof e=="string")try{i=Ew(e)}catch(m){throw new Error(t+" must be hex string or Uint8Array, cause: "+m)}else if(Km(e))i=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const c=i.length;if(typeof n=="number"&&c!==n)throw new Error(t+" of length "+n+" expected, got "+c);return i}function Cw(...t){let e=0;for(let i=0;i<t.length;i++){const c=t[i];u9(c),e+=c.length}const n=new Uint8Array(e);for(let i=0,c=0;i<t.length;i++){const m=t[i];n.set(m,c),c+=m.length}return n}const x4=t=>typeof t=="bigint"&&l9<=t;function c9(t,e,n){return x4(t)&&x4(e)&&x4(n)&&e<=t&&t<n}function xp(t,e,n,i){if(!c9(e,n,i))throw new Error("expected valid "+t+": "+n+" <= n < "+i+", got "+e)}function $re(t){let e;for(e=0;t>l9;t>>=K8,e+=1);return e}const kx=t=>(K8<<BigInt(t))-K8,b4=t=>new Uint8Array(t),dO=t=>Uint8Array.from(t);function Fre(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let i=b4(t),c=b4(t),m=0;const s=()=>{i.fill(1),c.fill(0),m=0},g=(...h)=>n(c,i,...h),r=(h=b4(0))=>{c=g(dO([0]),h),i=g(),h.length!==0&&(c=g(dO([1]),h),i=g())},a=()=>{if(m++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const u=[];for(;h<e;){i=g();const l=i.slice();u.push(l),h+=i.length}return Cw(...u)};return(h,u)=>{s(),r(h);let l;for(;!(l=u(a()));)r();return s(),l}}const Lre={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Km(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Bx(t,e,n={}){const i=(c,m,s)=>{const g=Lre[m];if(typeof g!="function")throw new Error("invalid validator function");const r=t[c];if(!(s&&r===void 0)&&!g(r,t))throw new Error("param "+String(c)+" is invalid. Expected "+m+", got "+r)};for(const[c,m]of Object.entries(e))i(c,m,!1);for(const[c,m]of Object.entries(n))i(c,m,!0);return t}function fO(t){const e=new WeakMap;return(n,...i)=>{const c=e.get(n);if(c!==void 0)return c;const m=t(n,...i);return e.set(n,m),m}}const Dre="0.1.1";function Nre(){return Dre}let qt=class Z8 extends Error{constructor(e,n={}){const i=(()=>{if(n.cause instanceof Z8){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),c=n.cause instanceof Z8&&n.cause.docsPath||n.docsPath,s=`https://oxlib.sh${c??""}`,g=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...i||c?["",i?`Details: ${i}`:void 0,c?`See: ${s}`:void 0]:[]].filter(r=>typeof r=="string").join(`
`);super(g,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${Nre()}`}),this.cause=n.cause,this.details=i,this.docs=s,this.docsPath=c,this.shortMessage=e}walk(e){return pj(this,e)}};function pj(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?pj(t.cause,e):e?null:t}function Jm(t,e){if(ap(t)>e)throw new qre({givenSize:ap(t),maxSize:e})}const Nl={zero:48,nine:57,A:65,F:70,a:97,f:102};function pO(t){if(t>=Nl.zero&&t<=Nl.nine)return t-Nl.zero;if(t>=Nl.A&&t<=Nl.F)return t-(Nl.A-10);if(t>=Nl.a&&t<=Nl.f)return t-(Nl.a-10)}function kre(t,e={}){const{dir:n,size:i=32}=e;if(i===0)return t;if(t.length>i)throw new eie({size:t.length,targetSize:i,type:"Bytes"});const c=new Uint8Array(i);for(let m=0;m<i;m++){const s=n==="right";c[s?m:i-m-1]=t[s?m:t.length-m-1]}return c}function vj(t,e={}){const{dir:n="left"}=e;let i=t,c=0;for(let m=0;m<i.length-1&&i[n==="left"?m:i.length-m-1].toString()==="0";m++)c++;return i=n==="left"?i.slice(c):i.slice(0,i.length-c),i}function Ux(t,e){if(Qs(t)>e)throw new aie({givenSize:Qs(t),maxSize:e})}function Bre(t,e){if(typeof e=="number"&&e>0&&e>Qs(t)-1)throw new Sj({offset:e,position:"start",size:Qs(t)})}function Ure(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Qs(t)!==n-e)throw new Sj({offset:n,position:"end",size:Qs(t)})}function gj(t,e={}){const{dir:n,size:i=32}=e;if(i===0)return t;const c=t.replace("0x","");if(c.length>i*2)throw new oie({size:Math.ceil(c.length/2),targetSize:i,type:"Hex"});return`0x${c[n==="right"?"padEnd":"padStart"](i*2,"0")}`}const jre="#__bigint";function mj(t,e,n){return JSON.stringify(t,(i,c)=>typeof c=="bigint"?c.toString()+jre:c,n)}const zre=new TextDecoder,Wre=new TextEncoder;function Gre(t){return t instanceof Uint8Array?t:typeof t=="string"?yj(t):Vre(t)}function Vre(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function yj(t,e={}){const{size:n}=e;let i=t;n&&(Ux(t,n),i=Qh(t,n));let c=i.slice(2);c.length%2&&(c=`0${c}`);const m=c.length/2,s=new Uint8Array(m);for(let g=0,r=0;g<m;g++){const a=pO(c.charCodeAt(r++)),v=pO(c.charCodeAt(r++));if(a===void 0||v===void 0)throw new qt(`Invalid byte sequence ("${c[r-2]}${c[r-1]}" in "${c}").`);s[g]=a*16+v}return s}function Hre(t,e={}){const{size:n}=e,i=Wre.encode(t);return typeof n=="number"?(Jm(i,n),Yre(i,n)):i}function Yre(t,e){return kre(t,{dir:"right",size:e})}function ap(t){return t.length}function Xre(t,e,n,i={}){const{strict:c}=i;return t.slice(e,n)}function Kre(t,e={}){const{size:n}=e;typeof n<"u"&&Jm(t,n);const i=yo(t,e);return bj(i,e)}function Zre(t,e={}){const{size:n}=e;let i=t;if(typeof n<"u"&&(Jm(i,n),i=wj(i)),i.length>1||i[0]>1)throw new Qre(i);return!!i[0]}function ou(t,e={}){const{size:n}=e;typeof n<"u"&&Jm(t,n);const i=yo(t,e);return Ej(i,e)}function Jre(t,e={}){const{size:n}=e;let i=t;return typeof n<"u"&&(Jm(i,n),i=_re(i)),zre.decode(i)}function wj(t){return vj(t,{dir:"left"})}function _re(t){return vj(t,{dir:"right"})}class Qre extends qt{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let qre=class extends qt{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},eie=class extends qt{constructor({size:e,targetSize:n,type:i}){super(`${i.charAt(0).toUpperCase()}${i.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const tie=new TextEncoder,nie=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function rie(t,e={}){const{strict:n=!1}=e;if(!t)throw new vO(t);if(typeof t!="string")throw new vO(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new gO(t);if(!t.startsWith("0x"))throw new gO(t)}function mo(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function iie(t){return t instanceof Uint8Array?yo(t):Array.isArray(t)?yo(new Uint8Array(t)):t}function xj(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Ux(n,e.size),_h(n,e.size)):n}function yo(t,e={}){let n="";for(let c=0;c<t.length;c++)n+=nie[t[c]];const i=`0x${n}`;return typeof e.size=="number"?(Ux(i,e.size),Qh(i,e.size)):i}function Ui(t,e={}){const{signed:n,size:i}=e,c=BigInt(t);let m;i?n?m=(1n<<BigInt(i)*8n-1n)-1n:m=2n**(BigInt(i)*8n)-1n:typeof t=="number"&&(m=BigInt(Number.MAX_SAFE_INTEGER));const s=typeof m=="bigint"&&n?-m-1n:0;if(m&&c>m||c<s){const a=typeof t=="bigint"?"n":"";throw new Cj({max:m?`${m}${a}`:void 0,min:`${s}${a}`,signed:n,size:i,value:`${t}${a}`})}const r=`0x${(n&&c<0?(1n<<BigInt(i*8))+BigInt(c):c).toString(16)}`;return i?_h(r,i):r}function h9(t,e={}){return yo(tie.encode(t),e)}function _h(t,e){return gj(t,{dir:"left",size:e})}function Qh(t,e){return gj(t,{dir:"right",size:e})}function ul(t,e,n,i={}){const{strict:c}=i;Bre(t,e);const m=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return c&&Ure(m,e,n),m}function Qs(t){return Math.ceil((t.length-2)/2)}function bj(t,e={}){const{signed:n}=e;e.size&&Ux(t,e.size);const i=BigInt(t);if(!n)return i;const c=(t.length-2)/2,m=(1n<<BigInt(c)*8n)-1n,s=m>>1n;return i<=s?i:i-m-1n}function Ej(t,e={}){const{signed:n,size:i}=e;return Number(!n&&!i?t:bj(t,e))}function sie(t,e={}){const{strict:n=!1}=e;try{return rie(t,{strict:n}),!0}catch{return!1}}let Cj=class extends qt{constructor({max:e,min:n,signed:i,size:c,value:m}){super(`Number \`${m}\` is not in safe${c?` ${c*8}-bit`:""}${i?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}};class vO extends qt{constructor(e){super(`Value \`${typeof e=="object"?mj(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class gO extends qt{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}let aie=class extends qt{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}};class Sj extends qt{constructor({offset:e,position:n,size:i}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${i}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}let oie=class extends qt{constructor({size:e,targetSize:n,type:i}){super(`${i.charAt(0).toUpperCase()}${i.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function lie(t){return{address:t.address,amount:Ui(t.amount),index:Ui(t.index),validatorIndex:Ui(t.validatorIndex)}}function Tj(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:Ui(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:Ui(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:Ui(t.gasLimit)},...typeof t.number=="bigint"&&{number:Ui(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:Ui(t.prevRandao)},...typeof t.time=="bigint"&&{time:Ui(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(lie)}}}const Sw=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],J8=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],Aj=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],Pj=[...Aj,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],uie=[...Aj,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],mO=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],yO=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Ij=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],wO=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],XKe=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],cie="0x82ad56cb",Rj="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",hie="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",die="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",d9="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class fie extends Ne{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class pie extends Ne{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function xO(t){return t.reduce((e,{slot:n,value:i})=>`${e}        ${n}: ${i}
`,"")}function vie(t){return t.reduce((e,{address:n,...i})=>{let c=`${e}    ${n}:
`;return i.nonce&&(c+=`      nonce: ${i.nonce}
`),i.balance&&(c+=`      balance: ${i.balance}
`),i.code&&(c+=`      code: ${i.code}
`),i.state&&(c+=`      state:
`,c+=xO(i.state)),i.stateDiff&&(c+=`      stateDiff:
`,c+=xO(i.stateDiff)),c},`  State Override:
`).slice(0,-1)}class Oj extends Ne{constructor(e,{account:n,docsPath:i,chain:c,data:m,gas:s,gasPrice:g,maxFeePerGas:r,maxPriorityFeePerGas:a,nonce:v,to:h,value:u,stateOverride:l}){const o=n?or(n):void 0;let d=Ym({from:o?.address,to:h,value:typeof u<"u"&&`${md(u)} ${c?.nativeCurrency?.symbol||"ETH"}`,data:m,gas:s,gasPrice:typeof g<"u"&&`${ys(g)} gwei`,maxFeePerGas:typeof r<"u"&&`${ys(r)} gwei`,maxPriorityFeePerGas:typeof a<"u"&&`${ys(a)} gwei`,nonce:v});l&&(d+=`
${vie(l)}`),super(e.shortMessage,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",d].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class Mj extends Ne{constructor(e,{abi:n,args:i,contractAddress:c,docsPath:m,functionName:s,sender:g}){const r=vd({abi:n,args:i,name:s}),a=r?JU({abiItem:r,args:i,includeFunctionName:!1,includeName:!1}):void 0,v=r?go(r,{includeName:!0}):void 0,h=Ym({address:c&&Tre(c),function:v,args:a&&a!=="()"&&`${[...Array(s?.length??0).keys()].map(()=>" ").join("")}${a}`,sender:g});super(e.shortMessage||`An unknown error occurred while executing the contract function "${s}".`,{cause:e,docsPath:m,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],h&&"Contract Call:",h].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=i,this.cause=e,this.contractAddress=c,this.functionName=s,this.sender=g}}class _8 extends Ne{constructor({abi:e,data:n,functionName:i,message:c}){let m,s,g,r;if(n&&n!=="0x")try{s=Vne({abi:e,data:n});const{abiItem:v,errorName:h,args:u}=s;if(h==="Error")r=u[0];else if(h==="Panic"){const[l]=u;r=Bne[l]}else{const l=v?go(v,{includeName:!0}):void 0,o=v&&u?JU({abiItem:v,args:u,includeFunctionName:!1,includeName:!1}):void 0;g=[l?`Error: ${l}`:"",o&&o!=="()"?`       ${[...Array(h?.length??0).keys()].map(()=>" ").join("")}${o}`:""]}}catch(v){m=v}else c&&(r=c);let a;m instanceof kU&&(a=m.signature,g=[`Unable to decode signature "${a}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${a}.`]),super(r&&r!=="execution reverted"||a?[`The contract function "${i}" reverted with the following ${a?"signature":"reason"}:`,r||a].join(`
`):`The contract function "${i}" reverted.`,{cause:m,metaMessages:g,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=s,this.raw=n,this.reason=r,this.signature=a}}class gie extends Ne{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class mie extends Ne{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class jx extends Ne{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}function c0({blockNumber:t,chain:e,contract:n}){const i=e?.contracts?.[n];if(!i)throw new B8({chain:e,contract:{name:n}});if(t&&i.blockCreated&&i.blockCreated>t)throw new B8({blockNumber:t,chain:e,contract:{name:n,blockCreated:i.blockCreated}});return i.address}function zx(t,e){const n=(t.details||"").toLowerCase(),i=t instanceof Ne?t.walk(c=>c?.code===sp.code):t;return i instanceof Ne?new sp({cause:t,message:i.details}):sp.nodeMessage.test(n)?new sp({cause:t,message:t.details}):ww.nodeMessage.test(n)?new ww({cause:t,maxFeePerGas:e?.maxFeePerGas}):U8.nodeMessage.test(n)?new U8({cause:t,maxFeePerGas:e?.maxFeePerGas}):j8.nodeMessage.test(n)?new j8({cause:t,nonce:e?.nonce}):z8.nodeMessage.test(n)?new z8({cause:t,nonce:e?.nonce}):W8.nodeMessage.test(n)?new W8({cause:t,nonce:e?.nonce}):G8.nodeMessage.test(n)?new G8({cause:t}):V8.nodeMessage.test(n)?new V8({cause:t,gas:e?.gas}):H8.nodeMessage.test(n)?new H8({cause:t,gas:e?.gas}):Y8.nodeMessage.test(n)?new Y8({cause:t}):xw.nodeMessage.test(n)?new xw({cause:t,maxFeePerGas:e?.maxFeePerGas,maxPriorityFeePerGas:e?.maxPriorityFeePerGas}):new Xm({cause:t})}function $j(t,{docsPath:e,...n}){const i=(()=>{const c=zx(t,n);return c instanceof Xm?t:c})();return new Oj(i,{docsPath:e,...n})}function _m(t,{format:e}){if(!e)return{};const n={};function i(m){const s=Object.keys(m);for(const g of s)g in t&&(n[g]=t[g]),m[g]&&typeof m[g]=="object"&&!Array.isArray(m[g])&&i(m[g])}const c=e(t||{});return i(c),n}const yie={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function yd(t,e){const n={};return typeof t.authorizationList<"u"&&(n.authorizationList=wie(t.authorizationList)),typeof t.accessList<"u"&&(n.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(n.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?n.blobs=t.blobs.map(i=>jr(i)):n.blobs=t.blobs),typeof t.data<"u"&&(n.data=t.data),t.account&&(n.from=t.account.address),typeof t.from<"u"&&(n.from=t.from),typeof t.gas<"u"&&(n.gas=bt(t.gas)),typeof t.gasPrice<"u"&&(n.gasPrice=bt(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=bt(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(n.maxFeePerGas=bt(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=bt(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(n.nonce=bt(t.nonce)),typeof t.to<"u"&&(n.to=t.to),typeof t.type<"u"&&(n.type=yie[t.type]),typeof t.value<"u"&&(n.value=bt(t.value)),n}function wie(t){return t.map(e=>({address:e.address,r:e.r?bt(BigInt(e.r)):e.r,s:e.s?bt(BigInt(e.s)):e.s,chainId:bt(e.chainId),nonce:bt(e.nonce),...typeof e.yParity<"u"?{yParity:bt(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:bt(e.v)}:{}}))}function f9(){let t=()=>{},e=()=>{};return{promise:new Promise((i,c)=>{t=i,e=c}),resolve:t,reject:e}}const E4=new Map;function Fj({fn:t,id:e,shouldSplitBatch:n,wait:i=0,sort:c}){const m=async()=>{const v=r();s();const h=v.map(({args:u})=>u);h.length!==0&&t(h).then(u=>{c&&Array.isArray(u)&&u.sort(c);for(let l=0;l<v.length;l++){const{resolve:o}=v[l];o?.([u[l],u])}}).catch(u=>{for(let l=0;l<v.length;l++){const{reject:o}=v[l];o?.(u)}})},s=()=>E4.delete(e),g=()=>r().map(({args:v})=>v),r=()=>E4.get(e)||[],a=v=>E4.set(e,[...r(),v]);return{flush:s,async schedule(v){const{promise:h,resolve:u,reject:l}=f9();return n?.([...g(),v])&&m(),r().length>0?(a({args:v,resolve:u,reject:l}),h):(a({args:v,resolve:u,reject:l}),setTimeout(m,i),h)}}}function bO(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:i})=>{if(n.length!==66)throw new HR({size:n.length,targetSize:66,type:"hex"});if(i.length!==66)throw new HR({size:i.length,targetSize:66,type:"hex"});return e[n]=i,e},{})}function xie(t){const{balance:e,nonce:n,state:i,stateDiff:c,code:m}=t,s={};if(m!==void 0&&(s.code=m),e!==void 0&&(s.balance=bt(e)),n!==void 0&&(s.nonce=bt(n)),i!==void 0&&(s.state=bO(i)),c!==void 0){if(s.state)throw new pie;s.stateDiff=bO(c)}return s}function p9(t){if(!t)return;const e={};for(const{address:n,...i}of t){if(!xs(n,{strict:!1}))throw new Tc({address:n});if(e[n])throw new fie({address:n});e[n]=xie(i)}return e}function Mc(t){const{account:e,gasPrice:n,maxFeePerGas:i,maxPriorityFeePerGas:c,to:m}=t,s=e?or(e):void 0;if(s&&!xs(s.address))throw new Tc({address:s.address});if(m&&!xs(m))throw new Tc({address:m});if(typeof n<"u"&&(typeof i<"u"||typeof c<"u"))throw new nre;if(i&&i>xre)throw new ww({maxFeePerGas:i});if(c&&i&&c>i)throw new xw({maxFeePerGas:i,maxPriorityFeePerGas:c})}async function Wx(t,e){const{account:n=t.account,authorizationList:i,batch:c=!!t.batch?.multicall,blockNumber:m,blockTag:s=t.experimental_blockTag??"latest",accessList:g,blobs:r,blockOverrides:a,code:v,data:h,factory:u,factoryData:l,gas:o,gasPrice:d,maxFeePerBlobGas:p,maxFeePerGas:f,maxPriorityFeePerGas:y,nonce:w,to:x,value:b,stateOverride:E,...C}=e,T=n?or(n):void 0;if(v&&(u||l))throw new Ne("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(v&&x)throw new Ne("Cannot provide both `code` & `to` as parameters.");const S=v&&h,A=u&&l&&x&&h,P=S||A,R=S?Lj({code:v,data:h}):A?Cie({data:h,factory:u,factoryData:l,to:x}):h;try{Mc(e);const D=(typeof m=="bigint"?bt(m):void 0)||s,$=a?Tj(a):void 0,F=p9(E),N=t.chain?.formatters?.transactionRequest?.format,j=(N||yd)({..._m(C,{format:N}),accessList:g,account:T,authorizationList:i,blobs:r,data:R,gas:o,gasPrice:d,maxFeePerBlobGas:p,maxFeePerGas:f,maxPriorityFeePerGas:y,nonce:w,to:P?void 0:x,value:b},"call");if(c&&bie({request:j})&&!F&&!$)try{return await Eie(t,{...j,blockNumber:m,blockTag:s})}catch(K){if(!(K instanceof uj)&&!(K instanceof B8))throw K}const W=(()=>{const K=[j,D];return F&&$?[...K,F,$]:F?[...K,F]:$?[...K,{},$]:K})(),G=await t.request({method:"eth_call",params:W});return G==="0x"?{data:void 0}:{data:G}}catch(L){const D=Sie(L),{offchainLookup:$,offchainLookupSignature:F}=await Fi(async()=>{const{offchainLookup:N,offchainLookupSignature:k}=await import("./ccip-xx6_XI4r.js");return{offchainLookup:N,offchainLookupSignature:k}},[]);if(t.ccipRead!==!1&&D?.slice(0,10)===F&&x)return{data:await $(t,{data:D,to:x})};throw P&&D?.slice(0,10)==="0x101bb98d"?new mie({factory:u}):$j(L,{...e,account:T,chain:t.chain})}}function bie({request:t}){const{data:e,to:n,...i}=t;return!(!e||e.startsWith(cie)||!n||Object.values(i).filter(c=>typeof c<"u").length>0)}async function Eie(t,e){const{batchSize:n=1024,deployless:i=!1,wait:c=0}=typeof t.batch?.multicall=="object"?t.batch.multicall:{},{blockNumber:m,blockTag:s=t.experimental_blockTag??"latest",data:g,to:r}=e,a=(()=>{if(i)return null;if(e.multicallAddress)return e.multicallAddress;if(t.chain)return c0({blockNumber:m,chain:t.chain,contract:"multicall3"});throw new uj})(),h=(typeof m=="bigint"?bt(m):void 0)||s,{schedule:u}=Fj({id:`${t.uid}.${h}`,wait:c,shouldSplitBatch(d){return d.reduce((f,{data:y})=>f+(y.length-2),0)>n*2},fn:async d=>{const p=d.map(w=>({allowFailure:!0,callData:w.data,target:w.to})),f=Es({abi:Sw,args:[p],functionName:"aggregate3"}),y=await t.request({method:"eth_call",params:[{...a===null?{data:Lj({code:d9,data:f})}:{to:a,data:f}},h]});return gd({abi:Sw,args:[p],functionName:"aggregate3",data:y||"0x"})}}),[{returnData:l,success:o}]=await u({data:g,to:r});if(!o)throw new jx({data:l});return l==="0x"?{data:void 0}:{data:l}}function Lj(t){const{code:e,data:n}=t;return Dx({abi:bU(["constructor(bytes, bytes)"]),bytecode:Rj,args:[e,n]})}function Cie(t){const{data:e,factory:n,factoryData:i,to:c}=t;return Dx({abi:bU(["constructor(address, bytes, address, bytes)"]),bytecode:hie,args:[c,e,n,i]})}function Sie(t){if(!(t instanceof Ne))return;const e=t.walk();return typeof e?.data=="object"?e.data?.data:e.data}const Gx="x-batch-gateway:true";async function Tie(t){const{data:e,ccipRequest:n}=t,{args:[i]}=KU({abi:J8,data:e}),c=[],m=[];return await Promise.all(i.map(async(s,g)=>{try{m[g]=s.urls.includes(Gx)?await Tie({data:s.data,ccipRequest:n}):await n(s),c[g]=!1}catch(r){c[g]=!0,m[g]=Aie(r)}})),Kne({abi:J8,functionName:"query",result:[c,m]})}function Aie(t){return t.name==="HttpRequestError"&&t.status?rO({abi:J8,errorName:"HttpError",args:[t.status,t.shortMessage]}):rO({abi:[YU],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}function v9({chain:t,currentChainId:e}){if(!t)throw new Ere;if(e!==t.id)throw new bre({chain:t,currentChainId:e})}const Pie=3;function qh(t,{abi:e,address:n,args:i,docsPath:c,functionName:m,sender:s}){const g=t instanceof jx?t:t instanceof Ne?t.walk(o=>"data"in o)||t.walk():{},{code:r,data:a,details:v,message:h,shortMessage:u}=g,l=t instanceof Wm?new gie({functionName:m}):[Pie,Zh.code].includes(r)&&(a||v||h||u)?new _8({abi:e,data:typeof a=="object"?a.data:a,functionName:m,message:g instanceof o9?v:u??h}):t;return new Mj(l,{abi:e,args:i,contractAddress:n,docsPath:c,functionName:m,sender:s})}class Iie extends Ne{constructor(e,{account:n,docsPath:i,chain:c,data:m,gas:s,gasPrice:g,maxFeePerGas:r,maxPriorityFeePerGas:a,nonce:v,to:h,value:u}){const l=Ym({from:n?.address,to:h,value:typeof u<"u"&&`${md(u)} ${c?.nativeCurrency?.symbol||"ETH"}`,data:m,gas:s,gasPrice:typeof g<"u"&&`${ys(g)} gwei`,maxFeePerGas:typeof r<"u"&&`${ys(r)} gwei`,maxPriorityFeePerGas:typeof a<"u"&&`${ys(a)} gwei`,nonce:v});super(e.shortMessage,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",l].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function Rie(t,{docsPath:e,...n}){const i=(()=>{const c=zx(t,n);return c instanceof Xm?t:c})();return new Iie(i,{docsPath:e,...n})}function g9(t,{docsPath:e,...n}){const i=(()=>{const c=zx(t,n);return c instanceof Xm?t:c})();return new ire(i,{docsPath:e,...n})}const Dj={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Nj(t,e){const n={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?po(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?po(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?Dj[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(n.authorizationList=Oie(t.authorizationList)),n.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}function Oie(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function kj(t,e){const n=(t.transactions??[]).map(i=>typeof i=="string"?i:Nj(i));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:n,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}function du(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}const Bj={"0x0":"reverted","0x1":"success"};function Uj(t,e){const n={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(i=>du(i)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?po(t.transactionIndex):null,status:t.status?Bj[t.status]:null,type:t.type?Dj[t.type]||t.type:null};return t.blobGasPrice&&(n.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(n.blobGasUsed=BigInt(t.blobGasUsed)),n}function yt(t,e,n){const i=t[e.name];if(typeof i=="function")return i;const c=t[n];return typeof c=="function"?c:m=>e(t,m)}async function m9(t,{address:e,blockTag:n="latest",blockNumber:i}){const c=await t.request({method:"eth_getTransactionCount",params:[e,typeof i=="bigint"?bt(i):n]},{dedupe:!!i});return po(c)}function Mie(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:i}){return new Promise((c,m)=>{(async()=>{let s;try{const g=new AbortController;n>0&&(s=setTimeout(()=>{i&&g.abort()},n)),c(await t({signal:g?.signal||null}))}catch(g){g?.name==="AbortError"&&m(e),m(g)}finally{clearTimeout(s)}})()})}function $ie(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const EO=$ie();function Fie(t,e={}){return{async request(n){const{body:i,fetchFn:c=e.fetchFn??fetch,onRequest:m=e.onRequest,onResponse:s=e.onResponse,timeout:g=e.timeout??1e4}=n,r={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:a,method:v,signal:h}=r;try{const u=await Mie(async({signal:o})=>{const d={...r,body:Array.isArray(i)?Ur(i.map(w=>({jsonrpc:"2.0",id:w.id??EO.take(),...w}))):Ur({jsonrpc:"2.0",id:i.id??EO.take(),...i}),headers:{"Content-Type":"application/json",...a},method:v||"POST",signal:h||(g>0?o:null)},p=new Request(t,d),f=await m?.(p,d)??{...d,url:t};return await c(f.url??t,f)},{errorInstance:new cO({body:i,url:t}),timeout:g,signal:!0});s&&await s(u);let l;if(u.headers.get("Content-Type")?.startsWith("application/json"))l=await u.json();else{l=await u.text();try{l=JSON.parse(l||"{}")}catch(o){if(u.ok)throw o;l={error:l}}}if(!u.ok)throw new qv({body:i,details:Ur(l.error)||u.statusText,headers:u.headers,status:u.status,url:t});return l}catch(u){throw u instanceof qv||u instanceof cO?u:new qv({body:i,cause:u,url:t})}}}}const Lie=`Ethereum Signed Message:
`;function Die(t){const e=typeof t=="string"?Fp(t):typeof t.raw=="string"?t.raw:jr(t.raw),n=Fp(`${Lie}${ar(e)}`);return Ia([n,e])}function jj(t,e){return pi(Die(t),e)}class Nie extends Ne{constructor({domain:e}){super(`Invalid domain "${Ur(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class kie extends Ne{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class Bie extends Ne{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function Uie(t){const{domain:e,message:n,primaryType:i,types:c}=t,m=(r,a)=>{const v={...a};for(const h of r){const{name:u,type:l}=h;l==="address"&&(v[u]=v[u].toLowerCase())}return v},s=c.EIP712Domain?e?m(c.EIP712Domain,e):{}:{},g=(()=>{if(i!=="EIP712Domain")return m(c[i],n)})();return Ur({domain:s,message:g,primaryType:i,types:c})}function zj(t){const{domain:e,message:n,primaryType:i,types:c}=t,m=(s,g)=>{for(const r of s){const{name:a,type:v}=r,h=g[a],u=v.match(HU);if(u&&(typeof h=="number"||typeof h=="bigint")){const[d,p,f]=u;bt(h,{signed:p==="int",size:Number.parseInt(f,10)/8})}if(v==="address"&&typeof h=="string"&&!xs(h))throw new Tc({address:h});const l=v.match(Ene);if(l){const[d,p]=l;if(p&&ar(h)!==Number.parseInt(p,10))throw new dne({expectedSize:Number.parseInt(p,10),givenSize:ar(h)})}const o=c[v];o&&(jie(v),m(o,h))}};if(c.EIP712Domain&&e){if(typeof e!="object")throw new Nie({domain:e});m(c.EIP712Domain,e)}if(i!=="EIP712Domain")if(c[i])m(c[i],n);else throw new kie({primaryType:i,types:c})}function Wj({domain:t}){return[typeof t?.name=="string"&&{name:"name",type:"string"},t?.version&&{name:"version",type:"string"},(typeof t?.chainId=="number"||typeof t?.chainId=="bigint")&&{name:"chainId",type:"uint256"},t?.verifyingContract&&{name:"verifyingContract",type:"address"},t?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function jie(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new Bie({type:t})}function zie(t){const{domain:e={},message:n,primaryType:i}=t,c={EIP712Domain:Wj({domain:e}),...t.types};zj({domain:e,message:n,primaryType:i,types:c});const m=["0x1901"];return e&&m.push(Wie({domain:e,types:c})),i!=="EIP712Domain"&&m.push(Gj({data:n,primaryType:i,types:c})),pi(Ia(m))}function Wie({domain:t,types:e}){return Gj({data:t,primaryType:"EIP712Domain",types:e})}function Gj({data:t,primaryType:e,types:n}){const i=Vj({data:t,primaryType:e,types:n});return pi(i)}function Vj({data:t,primaryType:e,types:n}){const i=[{type:"bytes32"}],c=[Gie({primaryType:e,types:n})];for(const m of n[e]){const[s,g]=Yj({types:n,name:m.name,type:m.type,value:t[m.name]});i.push(s),c.push(g)}return pd(i,c)}function Gie({primaryType:t,types:e}){const n=sr(Vie({primaryType:t,types:e}));return pi(n)}function Vie({primaryType:t,types:e}){let n="";const i=Hj({primaryType:t,types:e});i.delete(t);const c=[t,...Array.from(i).sort()];for(const m of c)n+=`${m}(${e[m].map(({name:s,type:g})=>`${g} ${s}`).join(",")})`;return n}function Hj({primaryType:t,types:e},n=new Set){const c=t.match(/^\w*/u)?.[0];if(n.has(c)||e[c]===void 0)return n;n.add(c);for(const m of e[c])Hj({primaryType:m.type,types:e},n);return n}function Yj({types:t,name:e,type:n,value:i}){if(t[n]!==void 0)return[{type:"bytes32"},pi(Vj({data:i,primaryType:n,types:t}))];if(n==="bytes")return i=`0x${(i.length%2?"0":"")+i.slice(2)}`,[{type:"bytes32"},pi(i)];if(n==="string")return[{type:"bytes32"},pi(sr(i))];if(n.lastIndexOf("]")===n.length-1){const c=n.slice(0,n.lastIndexOf("[")),m=i.map(s=>Yj({name:e,type:c,types:t,value:s}));return[{type:"bytes32"},pi(pd(m.map(([s])=>s),m.map(([,s])=>s)))]}return[{type:n},i]}let Hie=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const i=this.keys().next().value;i&&this.delete(i)}return this}};const Yie={checksum:new Hie(8192)},C4=Yie.checksum;function Xj(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,i=DU(Gre(t));return n==="Bytes"?i:yo(i)}const Xie=/^0x[a-fA-F0-9]{40}$/;function Vx(t,e={}){const{strict:n=!0}=e;if(!Xie.test(t))throw new CO({address:t,cause:new Kie});if(n){if(t.toLowerCase()===t)return;if(Kj(t)!==t)throw new CO({address:t,cause:new Zie})}}function Kj(t){if(C4.has(t))return C4.get(t);Vx(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=Xj(Hre(e),{as:"Bytes"}),i=e.split("");for(let m=0;m<40;m+=2)n[m>>1]>>4>=8&&i[m]&&(i[m]=i[m].toUpperCase()),(n[m>>1]&15)>=8&&i[m+1]&&(i[m+1]=i[m+1].toUpperCase());const c=`0x${i.join("")}`;return C4.set(t,c),c}function Q8(t,e={}){const{strict:n=!0}=e??{};try{return Vx(t,{strict:n}),!0}catch{return!1}}class CO extends qt{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class Kie extends qt{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class Zie extends qt{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const Jie=/^(.*)\[([0-9]*)\]$/,_ie=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Zj=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,SO=2n**256n-1n;function bp(t,e,n){const{checksumAddress:i,staticPosition:c}=n,m=x9(e.type);if(m){const[s,g]=m;return qie(t,{...e,type:g},{checksumAddress:i,length:s,staticPosition:c})}if(e.type==="tuple")return rse(t,e,{checksumAddress:i,staticPosition:c});if(e.type==="address")return Qie(t,{checksum:i});if(e.type==="bool")return ese(t);if(e.type.startsWith("bytes"))return tse(t,e,{staticPosition:c});if(e.type.startsWith("uint")||e.type.startsWith("int"))return nse(t,e);if(e.type==="string")return ise(t,{staticPosition:c});throw new E9(e.type)}const TO=32,q8=32;function Qie(t,e={}){const{checksum:n=!1}=e,i=t.readBytes(32);return[(m=>n?Kj(m):m)(yo(Xre(i,-20))),32]}function qie(t,e,n){const{checksumAddress:i,length:c,staticPosition:m}=n;if(!c){const r=ou(t.readBytes(q8)),a=m+r,v=a+TO;t.setPosition(a);const h=ou(t.readBytes(TO)),u=Kg(e);let l=0;const o=[];for(let d=0;d<h;++d){t.setPosition(v+(u?d*32:l));const[p,f]=bp(t,e,{checksumAddress:i,staticPosition:v});l+=f,o.push(p)}return t.setPosition(m+32),[o,32]}if(Kg(e)){const r=ou(t.readBytes(q8)),a=m+r,v=[];for(let h=0;h<c;++h){t.setPosition(a+h*32);const[u]=bp(t,e,{checksumAddress:i,staticPosition:a});v.push(u)}return t.setPosition(m+32),[v,32]}let s=0;const g=[];for(let r=0;r<c;++r){const[a,v]=bp(t,e,{checksumAddress:i,staticPosition:m+s});s+=v,g.push(a)}return[g,s]}function ese(t){return[Zre(t.readBytes(32),{size:32}),32]}function tse(t,e,{staticPosition:n}){const[i,c]=e.type.split("bytes");if(!c){const s=ou(t.readBytes(32));t.setPosition(n+s);const g=ou(t.readBytes(32));if(g===0)return t.setPosition(n+32),["0x",32];const r=t.readBytes(g);return t.setPosition(n+32),[yo(r),32]}return[yo(t.readBytes(Number.parseInt(c,10),32)),32]}function nse(t,e){const n=e.type.startsWith("int"),i=Number.parseInt(e.type.split("int")[1]||"256",10),c=t.readBytes(32);return[i>48?Kre(c,{signed:n}):ou(c,{signed:n}),32]}function rse(t,e,n){const{checksumAddress:i,staticPosition:c}=n,m=e.components.length===0||e.components.some(({name:r})=>!r),s=m?[]:{};let g=0;if(Kg(e)){const r=ou(t.readBytes(q8)),a=c+r;for(let v=0;v<e.components.length;++v){const h=e.components[v];t.setPosition(a+g);const[u,l]=bp(t,h,{checksumAddress:i,staticPosition:a});g+=l,s[m?v:h?.name]=u}return t.setPosition(c+32),[s,32]}for(let r=0;r<e.components.length;++r){const a=e.components[r],[v,h]=bp(t,a,{checksumAddress:i,staticPosition:c});s[m?r:a?.name]=v,g+=h}return[s,g]}function ise(t,{staticPosition:e}){const n=ou(t.readBytes(32)),i=e+n;t.setPosition(i);const c=ou(t.readBytes(32));if(c===0)return t.setPosition(e+32),["",32];const m=t.readBytes(c,32),s=Jre(wj(m));return t.setPosition(e+32),[s,32]}function sse({checksumAddress:t,parameters:e,values:n}){const i=[];for(let c=0;c<e.length;c++)i.push(y9({checksumAddress:t,parameter:e[c],value:n[c]}));return i}function y9({checksumAddress:t=!1,parameter:e,value:n}){const i=e,c=x9(i.type);if(c){const[m,s]=c;return ose(n,{checksumAddress:t,length:m,parameter:{...i,type:s}})}if(i.type==="tuple")return dse(n,{checksumAddress:t,parameter:i});if(i.type==="address")return ase(n,{checksum:t});if(i.type==="bool")return use(n);if(i.type.startsWith("uint")||i.type.startsWith("int")){const m=i.type.startsWith("int"),[,,s="256"]=Zj.exec(i.type)??[];return cse(n,{signed:m,size:Number(s)})}if(i.type.startsWith("bytes"))return lse(n,{type:i.type});if(i.type==="string")return hse(n);throw new E9(i.type)}function w9(t){let e=0;for(let m=0;m<t.length;m++){const{dynamic:s,encoded:g}=t[m];s?e+=32:e+=Qs(g)}const n=[],i=[];let c=0;for(let m=0;m<t.length;m++){const{dynamic:s,encoded:g}=t[m];s?(n.push(Ui(e+c,{size:32})),i.push(g),c+=Qs(g)):n.push(g)}return mo(...n,...i)}function ase(t,e){const{checksum:n=!1}=e;return Vx(t,{strict:n}),{dynamic:!1,encoded:_h(t.toLowerCase())}}function ose(t,e){const{checksumAddress:n,length:i,parameter:c}=e,m=i===null;if(!Array.isArray(t))throw new bse(t);if(!m&&t.length!==i)throw new xse({expectedLength:i,givenLength:t.length,type:`${c.type}[${i}]`});let s=!1;const g=[];for(let r=0;r<t.length;r++){const a=y9({checksumAddress:n,parameter:c,value:t[r]});a.dynamic&&(s=!0),g.push(a)}if(m||s){const r=w9(g);if(m){const a=Ui(g.length,{size:32});return{dynamic:!0,encoded:g.length>0?mo(a,r):a}}if(s)return{dynamic:!0,encoded:r}}return{dynamic:!1,encoded:mo(...g.map(({encoded:r})=>r))}}function lse(t,{type:e}){const[,n]=e.split("bytes"),i=Qs(t);if(!n){let c=t;return i%32!==0&&(c=Qh(c,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:mo(_h(Ui(i,{size:32})),c)}}if(i!==Number.parseInt(n,10))throw new _j({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:Qh(t)}}function use(t){if(typeof t!="boolean")throw new qt(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:_h(xj(t))}}function cse(t,{signed:e,size:n}){if(typeof n=="number"){const i=2n**(BigInt(n)-(e?1n:0n))-1n,c=e?-i-1n:0n;if(t>i||t<c)throw new Cj({max:i.toString(),min:c.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:Ui(t,{size:32,signed:e})}}function hse(t){const e=h9(t),n=Math.ceil(Qs(e)/32),i=[];for(let c=0;c<n;c++)i.push(Qh(ul(e,c*32,(c+1)*32)));return{dynamic:!0,encoded:mo(Qh(Ui(Qs(e),{size:32})),...i)}}function dse(t,e){const{checksumAddress:n,parameter:i}=e;let c=!1;const m=[];for(let s=0;s<i.components.length;s++){const g=i.components[s],r=Array.isArray(t)?s:g.name,a=y9({checksumAddress:n,parameter:g,value:t[r]});m.push(a),a.dynamic&&(c=!0)}return{dynamic:c,encoded:c?w9(m):mo(...m.map(({encoded:s})=>s))}}function x9(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function Kg(t){const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return t.components?.some(Kg);const n=x9(t.type);return!!(n&&Kg({...t,type:n[1]}))}const fse={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new gse({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new vse({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new AO({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new AO({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function pse(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(fse);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}class AO extends qt{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class vse extends qt{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class gse extends qt{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function mse(t,e,n={}){const{as:i="Array",checksumAddress:c=!1}=n,m=typeof e=="string"?yj(e):e,s=pse(m);if(ap(m)===0&&t.length>0)throw new wse;if(ap(m)&&ap(m)<32)throw new yse({data:typeof e=="string"?e:yo(e),parameters:t,size:ap(m)});let g=0;const r=i==="Array"?[]:{};for(let a=0;a<t.length;++a){const v=t[a];s.setPosition(g);const[h,u]=bp(s,v,{checksumAddress:c,staticPosition:0});g+=u,i==="Array"?r.push(h):r[v.name??a]=h}return r}function b9(t,e,n){const{checksumAddress:i=!1}={};if(t.length!==e.length)throw new Qj({expectedLength:t.length,givenLength:e.length});const c=sse({checksumAddress:i,parameters:t,values:e}),m=w9(c);return m.length===0?"0x":m}function eC(t,e){if(t.length!==e.length)throw new Qj({expectedLength:t.length,givenLength:e.length});const n=[];for(let i=0;i<t.length;i++){const c=t[i],m=e[i];n.push(eC.encode(c,m))}return mo(...n)}(function(t){function e(n,i,c=!1){if(n==="address"){const r=i;return Vx(r),_h(r.toLowerCase(),c?32:0)}if(n==="string")return h9(i);if(n==="bytes")return i;if(n==="bool")return _h(xj(i),c?32:1);const m=n.match(Zj);if(m){const[r,a,v="256"]=m,h=Number.parseInt(v,10)/8;return Ui(i,{size:c?32:h,signed:a==="int"})}const s=n.match(_ie);if(s){const[r,a]=s;if(Number.parseInt(a,10)!==(i.length-2)/2)throw new _j({expectedSize:Number.parseInt(a,10),value:i});return Qh(i,c?32:0)}const g=n.match(Jie);if(g&&Array.isArray(i)){const[r,a]=g,v=[];for(let h=0;h<i.length;h++)v.push(e(a,i[h],!0));return v.length===0?"0x":mo(...v)}throw new E9(n)}t.encode=e})(eC||(eC={}));function Jj(t){return Array.isArray(t)&&typeof t[0]=="string"||typeof t=="string"?VR(t):t}class yse extends qt{constructor({data:e,parameters:n,size:i}){super(`Data size of ${i} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Qf(n)})`,`Data:   ${e} (${i} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class wse extends qt{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class xse extends qt{constructor({expectedLength:e,givenLength:n,type:i}){super(`Array length mismatch for type \`${i}\`. Expected: \`${e}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class _j extends qt{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Qs(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class Qj extends qt{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class bse extends qt{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class E9 extends qt{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}class qj extends QT{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,kte(e);const i=Mx(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const c=this.blockLen,m=new Uint8Array(c);m.set(i.length>c?e.create().update(i).digest():i);for(let s=0;s<m.length;s++)m[s]^=54;this.iHash.update(m),this.oHash=e.create();for(let s=0;s<m.length;s++)m[s]^=106;this.oHash.update(m),Dp(m)}update(e){return Lp(this),this.iHash.update(e),this}digestInto(e){Lp(this),Kh(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:i,finished:c,destroyed:m,blockLen:s,outputLen:g}=this;return e=e,e.finished=c,e.destroyed=m,e.blockLen=s,e.outputLen=g,e.oHash=n._cloneInto(e.oHash),e.iHash=i._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const ez=(t,e,n)=>new qj(t,e).update(n).digest();ez.create=(t,e)=>new qj(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const gs=BigInt(0),Vi=BigInt(1),Ih=BigInt(2),Ese=BigInt(3),tz=BigInt(4),nz=BigInt(5),rz=BigInt(8);function cs(t,e){const n=t%e;return n>=gs?n:e+n}function ca(t,e,n){let i=t;for(;e-- >gs;)i*=i,i%=n;return i}function tC(t,e){if(t===gs)throw new Error("invert: expected non-zero number");if(e<=gs)throw new Error("invert: expected positive modulus, got "+e);let n=cs(t,e),i=e,c=gs,m=Vi;for(;n!==gs;){const g=i/n,r=i%n,a=c-m*g;i=n,n=r,c=m,m=a}if(i!==Vi)throw new Error("invert: does not exist");return cs(c,e)}function iz(t,e){const n=(t.ORDER+Vi)/tz,i=t.pow(e,n);if(!t.eql(t.sqr(i),e))throw new Error("Cannot find square root");return i}function Cse(t,e){const n=(t.ORDER-nz)/rz,i=t.mul(e,Ih),c=t.pow(i,n),m=t.mul(e,c),s=t.mul(t.mul(m,Ih),c),g=t.mul(m,t.sub(s,t.ONE));if(!t.eql(t.sqr(g),e))throw new Error("Cannot find square root");return g}function Sse(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Vi,n=0;for(;e%Ih===gs;)e/=Ih,n++;let i=Ih;const c=C9(t);for(;PO(c,i)===1;)if(i++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return iz;let m=c.pow(i,e);const s=(e+Vi)/Ih;return function(r,a){if(r.is0(a))return a;if(PO(r,a)!==1)throw new Error("Cannot find square root");let v=n,h=r.mul(r.ONE,m),u=r.pow(a,e),l=r.pow(a,s);for(;!r.eql(u,r.ONE);){if(r.is0(u))return r.ZERO;let o=1,d=r.sqr(u);for(;!r.eql(d,r.ONE);)if(o++,d=r.sqr(d),o===v)throw new Error("Cannot find square root");const p=Vi<<BigInt(v-o-1),f=r.pow(h,p);v=o,h=r.sqr(f),u=r.mul(u,h),l=r.mul(l,f)}return l}}function Tse(t){return t%tz===Ese?iz:t%rz===nz?Cse:Sse(t)}const Ase=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Pse(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Ase.reduce((i,c)=>(i[c]="function",i),e);return Bx(t,n)}function Ise(t,e,n){if(n<gs)throw new Error("invalid exponent, negatives unsupported");if(n===gs)return t.ONE;if(n===Vi)return e;let i=t.ONE,c=e;for(;n>gs;)n&Vi&&(i=t.mul(i,c)),c=t.sqr(c),n>>=Vi;return i}function sz(t,e,n=!1){const i=new Array(e.length).fill(n?t.ZERO:void 0),c=e.reduce((s,g,r)=>t.is0(g)?s:(i[r]=s,t.mul(s,g)),t.ONE),m=t.inv(c);return e.reduceRight((s,g,r)=>t.is0(g)?s:(i[r]=t.mul(s,i[r]),t.mul(s,g)),m),i}function PO(t,e){const n=(t.ORDER-Vi)/Ih,i=t.pow(e,n),c=t.eql(i,t.ONE),m=t.eql(i,t.ZERO),s=t.eql(i,t.neg(t.ONE));if(!c&&!m&&!s)throw new Error("invalid Legendre symbol result");return c?1:m?0:-1}function az(t,e){e!==void 0&&Tg(e);const n=e!==void 0?e:t.toString(2).length,i=Math.ceil(n/8);return{nBitLength:n,nByteLength:i}}function C9(t,e,n=!1,i={}){if(t<=gs)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:c,nByteLength:m}=az(t,e);if(m>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let s;const g=Object.freeze({ORDER:t,isLE:n,BITS:c,BYTES:m,MASK:kx(c),ZERO:gs,ONE:Vi,create:r=>cs(r,t),isValid:r=>{if(typeof r!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof r);return gs<=r&&r<t},is0:r=>r===gs,isOdd:r=>(r&Vi)===Vi,neg:r=>cs(-r,t),eql:(r,a)=>r===a,sqr:r=>cs(r*r,t),add:(r,a)=>cs(r+a,t),sub:(r,a)=>cs(r-a,t),mul:(r,a)=>cs(r*a,t),pow:(r,a)=>Ise(g,r,a),div:(r,a)=>cs(r*tC(a,t),t),sqrN:r=>r*r,addN:(r,a)=>r+a,subN:(r,a)=>r-a,mulN:(r,a)=>r*a,inv:r=>tC(r,t),sqrt:i.sqrt||(r=>(s||(s=Tse(t)),s(g,r))),toBytes:r=>n?fj(r,m):Zm(r,m),fromBytes:r=>{if(r.length!==m)throw new Error("Field.fromBytes: expected "+m+" bytes, got "+r.length);return n?dj(r):Uh(r)},invertBatch:r=>sz(g,r),cmov:(r,a,v)=>v?a:r});return Object.freeze(g)}function oz(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function lz(t){const e=oz(t);return e+Math.ceil(e/2)}function Rse(t,e,n=!1){const i=t.length,c=oz(e),m=lz(e);if(i<16||i<m||i>1024)throw new Error("expected "+m+"-1024 bytes of input, got "+i);const s=n?dj(t):Uh(t),g=cs(s,e-Vi)+Vi;return n?fj(g,c):Zm(g,c)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const IO=BigInt(0),nC=BigInt(1);function S4(t,e){const n=e.negate();return t?n:e}function uz(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function T4(t,e){uz(t,e);const n=Math.ceil(e/t)+1,i=2**(t-1),c=2**t,m=kx(t),s=BigInt(t);return{windows:n,windowSize:i,mask:m,maxNumber:c,shiftBy:s}}function RO(t,e,n){const{windowSize:i,mask:c,maxNumber:m,shiftBy:s}=n;let g=Number(t&c),r=t>>s;g>i&&(g-=m,r+=nC);const a=e*i,v=a+Math.abs(g)-1,h=g===0,u=g<0,l=e%2!==0;return{nextN:r,offset:v,isZero:h,isNeg:u,isNegF:l,offsetF:a}}function Ose(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,i)=>{if(!(n instanceof e))throw new Error("invalid point at index "+i)})}function Mse(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,i)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+i)})}const A4=new WeakMap,cz=new WeakMap;function P4(t){return cz.get(t)||1}function $se(t,e){return{constTimeNegate:S4,hasPrecomputes(n){return P4(n)!==1},unsafeLadder(n,i,c=t.ZERO){let m=n;for(;i>IO;)i&nC&&(c=c.add(m)),m=m.double(),i>>=nC;return c},precomputeWindow(n,i){const{windows:c,windowSize:m}=T4(i,e),s=[];let g=n,r=g;for(let a=0;a<c;a++){r=g,s.push(r);for(let v=1;v<m;v++)r=r.add(g),s.push(r);g=r.double()}return s},wNAF(n,i,c){let m=t.ZERO,s=t.BASE;const g=T4(n,e);for(let r=0;r<g.windows;r++){const{nextN:a,offset:v,isZero:h,isNeg:u,isNegF:l,offsetF:o}=RO(c,r,g);c=a,h?s=s.add(S4(l,i[o])):m=m.add(S4(u,i[v]))}return{p:m,f:s}},wNAFUnsafe(n,i,c,m=t.ZERO){const s=T4(n,e);for(let g=0;g<s.windows&&c!==IO;g++){const{nextN:r,offset:a,isZero:v,isNeg:h}=RO(c,g,s);if(c=r,!v){const u=i[a];m=m.add(h?u.negate():u)}}return m},getPrecomputes(n,i,c){let m=A4.get(i);return m||(m=this.precomputeWindow(i,n),n!==1&&A4.set(i,c(m))),m},wNAFCached(n,i,c){const m=P4(n);return this.wNAF(m,this.getPrecomputes(m,n,c),i)},wNAFCachedUnsafe(n,i,c,m){const s=P4(n);return s===1?this.unsafeLadder(n,i,m):this.wNAFUnsafe(s,this.getPrecomputes(s,n,c),i,m)},setWindowSize(n,i){uz(i,e),cz.set(n,i),A4.delete(n)}}}function Fse(t,e,n,i){Ose(n,t),Mse(i,e);const c=n.length,m=i.length;if(c!==m)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,g=$re(BigInt(c));let r=1;g>12?r=g-3:g>4?r=g-2:g>0&&(r=2);const a=kx(r),v=new Array(Number(a)+1).fill(s),h=Math.floor((e.BITS-1)/r)*r;let u=s;for(let l=h;l>=0;l-=r){v.fill(s);for(let d=0;d<m;d++){const p=i[d],f=Number(p>>BigInt(l)&a);v[f]=v[f].add(n[d])}let o=s;for(let d=v.length-1,p=s;d>0;d--)p=p.add(v[d]),o=o.add(p);if(u=u.add(o),l!==0)for(let d=0;d<r;d++)u=u.double()}return u}function hz(t){return Pse(t.Fp),Bx(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...az(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function OO(t){t.lowS!==void 0&&Yg("lowS",t.lowS),t.prehash!==void 0&&Yg("prehash",t.prehash)}function Lse(t){const e=hz(t);Bx(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:i,a:c}=e;if(n){if(!i.eql(c,i.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class Dse extends Error{constructor(e=""){super(e)}}const Jl={Err:Dse,_tlv:{encode:(t,e)=>{const{Err:n}=Jl;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const i=e.length/2,c=By(i);if(c.length/2&128)throw new n("tlv.encode: long form length too big");const m=i>127?By(c.length/2|128):"";return By(t)+m+c+e},decode(t,e){const{Err:n}=Jl;let i=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[i++]!==t)throw new n("tlv.decode: wrong tlv");const c=e[i++],m=!!(c&128);let s=0;if(!m)s=c;else{const r=c&127;if(!r)throw new n("tlv.decode(long): indefinite length not supported");if(r>4)throw new n("tlv.decode(long): byte length is too big");const a=e.subarray(i,i+r);if(a.length!==r)throw new n("tlv.decode: length bytes not complete");if(a[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const v of a)s=s<<8|v;if(i+=r,s<128)throw new n("tlv.decode(long): not minimal encoding")}const g=e.subarray(i,i+s);if(g.length!==s)throw new n("tlv.decode: wrong value length");return{v:g,l:e.subarray(i+s)}}},_int:{encode(t){const{Err:e}=Jl;if(t<nu)throw new e("integer: negative integers are not allowed");let n=By(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Jl;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Uh(t)}},toSig(t){const{Err:e,_int:n,_tlv:i}=Jl,c=ya("signature",t),{v:m,l:s}=i.decode(48,c);if(s.length)throw new e("invalid signature: left bytes after parsing");const{v:g,l:r}=i.decode(2,m),{v:a,l:v}=i.decode(2,r);if(v.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(g),s:n.decode(a)}},hexFromSig(t){const{_tlv:e,_int:n}=Jl,i=e.encode(2,n.encode(t.r)),c=e.encode(2,n.encode(t.s)),m=i+c;return e.encode(48,m)}};function I4(t,e){return Xg(Zm(t,e))}const nu=BigInt(0),qr=BigInt(1);BigInt(2);const R4=BigInt(3),Nse=BigInt(4);function kse(t){const e=Lse(t),{Fp:n}=e,i=C9(e.n,e.nBitLength),c=e.toBytes||((w,x,b)=>{const E=x.toAffine();return Cw(Uint8Array.from([4]),n.toBytes(E.x),n.toBytes(E.y))}),m=e.fromBytes||(w=>{const x=w.subarray(1),b=n.fromBytes(x.subarray(0,n.BYTES)),E=n.fromBytes(x.subarray(n.BYTES,2*n.BYTES));return{x:b,y:E}});function s(w){const{a:x,b}=e,E=n.sqr(w),C=n.mul(E,w);return n.add(n.add(C,n.mul(w,x)),b)}function g(w,x){const b=n.sqr(x),E=s(w);return n.eql(b,E)}if(!g(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const r=n.mul(n.pow(e.a,R4),Nse),a=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(r,a)))throw new Error("bad curve params: a or b");function v(w){return c9(w,qr,e.n)}function h(w){const{allowedPrivateKeyLengths:x,nByteLength:b,wrapPrivateKey:E,n:C}=e;if(x&&typeof w!="bigint"){if(Km(w)&&(w=Xg(w)),typeof w!="string"||!x.includes(w.length))throw new Error("invalid private key");w=w.padStart(b*2,"0")}let T;try{T=typeof w=="bigint"?w:Uh(ya("private key",w,b))}catch{throw new Error("invalid private key, expected hex or "+b+" bytes, got "+typeof w)}return E&&(T=cs(T,C)),xp("private key",T,qr,C),T}function u(w){if(!(w instanceof d))throw new Error("ProjectivePoint expected")}const l=fO((w,x)=>{const{px:b,py:E,pz:C}=w;if(n.eql(C,n.ONE))return{x:b,y:E};const T=w.is0();x==null&&(x=T?n.ONE:n.inv(C));const S=n.mul(b,x),A=n.mul(E,x),P=n.mul(C,x);if(T)return{x:n.ZERO,y:n.ZERO};if(!n.eql(P,n.ONE))throw new Error("invZ was invalid");return{x:S,y:A}}),o=fO(w=>{if(w.is0()){if(e.allowInfinityPoint&&!n.is0(w.py))return;throw new Error("bad point: ZERO")}const{x,y:b}=w.toAffine();if(!n.isValid(x)||!n.isValid(b))throw new Error("bad point: x or y not FE");if(!g(x,b))throw new Error("bad point: equation left != right");if(!w.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(x,b,E){if(x==null||!n.isValid(x))throw new Error("x required");if(b==null||!n.isValid(b)||n.is0(b))throw new Error("y required");if(E==null||!n.isValid(E))throw new Error("z required");this.px=x,this.py=b,this.pz=E,Object.freeze(this)}static fromAffine(x){const{x:b,y:E}=x||{};if(!x||!n.isValid(b)||!n.isValid(E))throw new Error("invalid affine point");if(x instanceof d)throw new Error("projective point not allowed");const C=T=>n.eql(T,n.ZERO);return C(b)&&C(E)?d.ZERO:new d(b,E,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(x){const b=sz(n,x.map(E=>E.pz));return x.map((E,C)=>E.toAffine(b[C])).map(d.fromAffine)}static fromHex(x){const b=d.fromAffine(m(ya("pointHex",x)));return b.assertValidity(),b}static fromPrivateKey(x){return d.BASE.multiply(h(x))}static msm(x,b){return Fse(d,i,x,b)}_setWindowSize(x){y.setWindowSize(this,x)}assertValidity(){o(this)}hasEvenY(){const{y:x}=this.toAffine();if(n.isOdd)return!n.isOdd(x);throw new Error("Field doesn't support isOdd")}equals(x){u(x);const{px:b,py:E,pz:C}=this,{px:T,py:S,pz:A}=x,P=n.eql(n.mul(b,A),n.mul(T,C)),R=n.eql(n.mul(E,A),n.mul(S,C));return P&&R}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:x,b}=e,E=n.mul(b,R4),{px:C,py:T,pz:S}=this;let A=n.ZERO,P=n.ZERO,R=n.ZERO,L=n.mul(C,C),D=n.mul(T,T),$=n.mul(S,S),F=n.mul(C,T);return F=n.add(F,F),R=n.mul(C,S),R=n.add(R,R),A=n.mul(x,R),P=n.mul(E,$),P=n.add(A,P),A=n.sub(D,P),P=n.add(D,P),P=n.mul(A,P),A=n.mul(F,A),R=n.mul(E,R),$=n.mul(x,$),F=n.sub(L,$),F=n.mul(x,F),F=n.add(F,R),R=n.add(L,L),L=n.add(R,L),L=n.add(L,$),L=n.mul(L,F),P=n.add(P,L),$=n.mul(T,S),$=n.add($,$),L=n.mul($,F),A=n.sub(A,L),R=n.mul($,D),R=n.add(R,R),R=n.add(R,R),new d(A,P,R)}add(x){u(x);const{px:b,py:E,pz:C}=this,{px:T,py:S,pz:A}=x;let P=n.ZERO,R=n.ZERO,L=n.ZERO;const D=e.a,$=n.mul(e.b,R4);let F=n.mul(b,T),N=n.mul(E,S),k=n.mul(C,A),j=n.add(b,E),W=n.add(T,S);j=n.mul(j,W),W=n.add(F,N),j=n.sub(j,W),W=n.add(b,C);let G=n.add(T,A);return W=n.mul(W,G),G=n.add(F,k),W=n.sub(W,G),G=n.add(E,C),P=n.add(S,A),G=n.mul(G,P),P=n.add(N,k),G=n.sub(G,P),L=n.mul(D,W),P=n.mul($,k),L=n.add(P,L),P=n.sub(N,L),L=n.add(N,L),R=n.mul(P,L),N=n.add(F,F),N=n.add(N,F),k=n.mul(D,k),W=n.mul($,W),N=n.add(N,k),k=n.sub(F,k),k=n.mul(D,k),W=n.add(W,k),F=n.mul(N,W),R=n.add(R,F),F=n.mul(G,W),P=n.mul(j,P),P=n.sub(P,F),F=n.mul(j,N),L=n.mul(G,L),L=n.add(L,F),new d(P,R,L)}subtract(x){return this.add(x.negate())}is0(){return this.equals(d.ZERO)}wNAF(x){return y.wNAFCached(this,x,d.normalizeZ)}multiplyUnsafe(x){const{endo:b,n:E}=e;xp("scalar",x,nu,E);const C=d.ZERO;if(x===nu)return C;if(this.is0()||x===qr)return this;if(!b||y.hasPrecomputes(this))return y.wNAFCachedUnsafe(this,x,d.normalizeZ);let{k1neg:T,k1:S,k2neg:A,k2:P}=b.splitScalar(x),R=C,L=C,D=this;for(;S>nu||P>nu;)S&qr&&(R=R.add(D)),P&qr&&(L=L.add(D)),D=D.double(),S>>=qr,P>>=qr;return T&&(R=R.negate()),A&&(L=L.negate()),L=new d(n.mul(L.px,b.beta),L.py,L.pz),R.add(L)}multiply(x){const{endo:b,n:E}=e;xp("scalar",x,qr,E);let C,T;if(b){const{k1neg:S,k1:A,k2neg:P,k2:R}=b.splitScalar(x);let{p:L,f:D}=this.wNAF(A),{p:$,f:F}=this.wNAF(R);L=y.constTimeNegate(S,L),$=y.constTimeNegate(P,$),$=new d(n.mul($.px,b.beta),$.py,$.pz),C=L.add($),T=D.add(F)}else{const{p:S,f:A}=this.wNAF(x);C=S,T=A}return d.normalizeZ([C,T])[0]}multiplyAndAddUnsafe(x,b,E){const C=d.BASE,T=(A,P)=>P===nu||P===qr||!A.equals(C)?A.multiplyUnsafe(P):A.multiply(P),S=T(this,b).add(T(x,E));return S.is0()?void 0:S}toAffine(x){return l(this,x)}isTorsionFree(){const{h:x,isTorsionFree:b}=e;if(x===qr)return!0;if(b)return b(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:x,clearCofactor:b}=e;return x===qr?this:b?b(d,this):this.multiplyUnsafe(e.h)}toRawBytes(x=!0){return Yg("isCompressed",x),this.assertValidity(),c(d,this,x)}toHex(x=!0){return Yg("isCompressed",x),Xg(this.toRawBytes(x))}}d.BASE=new d(e.Gx,e.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const{endo:p,nBitLength:f}=e,y=$se(d,p?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:h,weierstrassEquation:s,isWithinCurveOrder:v}}function Bse(t){const e=hz(t);return Bx(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Use(t){const e=Bse(t),{Fp:n,n:i,nByteLength:c,nBitLength:m}=e,s=n.BYTES+1,g=2*n.BYTES+1;function r($){return cs($,i)}function a($){return tC($,i)}const{ProjectivePoint:v,normPrivateKeyToScalar:h,weierstrassEquation:u,isWithinCurveOrder:l}=kse({...e,toBytes($,F,N){const k=F.toAffine(),j=n.toBytes(k.x),W=Cw;return Yg("isCompressed",N),N?W(Uint8Array.from([F.hasEvenY()?2:3]),j):W(Uint8Array.from([4]),j,n.toBytes(k.y))},fromBytes($){const F=$.length,N=$[0],k=$.subarray(1);if(F===s&&(N===2||N===3)){const j=Uh(k);if(!c9(j,qr,n.ORDER))throw new Error("Point is not on curve");const W=u(j);let G;try{G=n.sqrt(W)}catch(X){const U=X instanceof Error?": "+X.message:"";throw new Error("Point is not on curve"+U)}const K=(G&qr)===qr;return(N&1)===1!==K&&(G=n.neg(G)),{x:j,y:G}}else if(F===g&&N===4){const j=n.fromBytes(k.subarray(0,n.BYTES)),W=n.fromBytes(k.subarray(n.BYTES,2*n.BYTES));return{x:j,y:W}}else{const j=s,W=g;throw new Error("invalid Point, expected length of "+j+", or uncompressed "+W+", got "+F)}}});function o($){const F=i>>qr;return $>F}function d($){return o($)?r(-$):$}const p=($,F,N)=>Uh($.slice(F,N));class f{constructor(F,N,k){xp("r",F,qr,i),xp("s",N,qr,i),this.r=F,this.s=N,k!=null&&(this.recovery=k),Object.freeze(this)}static fromCompact(F){const N=c;return F=ya("compactSignature",F,N*2),new f(p(F,0,N),p(F,N,2*N))}static fromDER(F){const{r:N,s:k}=Jl.toSig(ya("DER",F));return new f(N,k)}assertValidity(){}addRecoveryBit(F){return new f(this.r,this.s,F)}recoverPublicKey(F){const{r:N,s:k,recovery:j}=this,W=C(ya("msgHash",F));if(j==null||![0,1,2,3].includes(j))throw new Error("recovery id invalid");const G=j===2||j===3?N+e.n:N;if(G>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const K=(j&1)===0?"02":"03",z=v.fromHex(K+I4(G,n.BYTES)),X=a(G),U=r(-W*X),Z=r(k*X),V=v.BASE.multiplyAndAddUnsafe(z,U,Z);if(!V)throw new Error("point at infinify");return V.assertValidity(),V}hasHighS(){return o(this.s)}normalizeS(){return this.hasHighS()?new f(this.r,r(-this.s),this.recovery):this}toDERRawBytes(){return Ew(this.toDERHex())}toDERHex(){return Jl.hexFromSig(this)}toCompactRawBytes(){return Ew(this.toCompactHex())}toCompactHex(){const F=c;return I4(this.r,F)+I4(this.s,F)}}const y={isValidPrivateKey($){try{return h($),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const $=lz(e.n);return Rse(e.randomBytes($),e.n)},precompute($=8,F=v.BASE){return F._setWindowSize($),F.multiply(BigInt(3)),F}};function w($,F=!0){return v.fromPrivateKey($).toRawBytes(F)}function x($){if(typeof $=="bigint")return!1;if($ instanceof v)return!0;const N=ya("key",$).length,k=n.BYTES,j=k+1,W=2*k+1;if(!(e.allowedPrivateKeyLengths||c===j))return N===j||N===W}function b($,F,N=!0){if(x($)===!0)throw new Error("first arg must be private key");if(x(F)===!1)throw new Error("second arg must be public key");return v.fromHex(F).multiply(h($)).toRawBytes(N)}const E=e.bits2int||function($){if($.length>8192)throw new Error("input is too large");const F=Uh($),N=$.length*8-m;return N>0?F>>BigInt(N):F},C=e.bits2int_modN||function($){return r(E($))},T=kx(m);function S($){return xp("num < 2^"+m,$,nu,T),Zm($,c)}function A($,F,N=P){if(["recovered","canonical"].some(Q=>Q in N))throw new Error("sign() legacy options not supported");const{hash:k,randomBytes:j}=e;let{lowS:W,prehash:G,extraEntropy:K}=N;W==null&&(W=!0),$=ya("msgHash",$),OO(N),G&&($=ya("prehashed msgHash",k($)));const z=C($),X=h(F),U=[S(X),S(z)];if(K!=null&&K!==!1){const Q=K===!0?j(n.BYTES):K;U.push(ya("extraEntropy",Q))}const Z=Cw(...U),V=z;function J(Q){const ee=E(Q);if(!l(ee))return;const te=a(ee),ie=v.BASE.multiply(ee).toAffine(),le=r(ie.x);if(le===nu)return;const de=r(te*r(V+le*X));if(de===nu)return;let fe=(ie.x===le?0:2)|Number(ie.y&qr),oe=de;return W&&o(de)&&(oe=d(de),fe^=1),new f(le,oe,fe)}return{seed:Z,k2sig:J}}const P={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function L($,F,N=P){const{seed:k,k2sig:j}=A($,F,N),W=e;return Fre(W.hash.outputLen,W.nByteLength,W.hmac)(k,j)}v.BASE._setWindowSize(8);function D($,F,N,k=R){const j=$;F=ya("msgHash",F),N=ya("publicKey",N);const{lowS:W,prehash:G,format:K}=k;if(OO(k),"strict"in k)throw new Error("options.strict was renamed to lowS");if(K!==void 0&&K!=="compact"&&K!=="der")throw new Error("format must be compact or der");const z=typeof j=="string"||Km(j),X=!z&&!K&&typeof j=="object"&&j!==null&&typeof j.r=="bigint"&&typeof j.s=="bigint";if(!z&&!X)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let U,Z;try{if(X&&(U=new f(j.r,j.s)),z){try{K!=="compact"&&(U=f.fromDER(j))}catch(fe){if(!(fe instanceof Jl.Err))throw fe}!U&&K!=="der"&&(U=f.fromCompact(j))}Z=v.fromHex(N)}catch{return!1}if(!U||W&&U.hasHighS())return!1;G&&(F=e.hash(F));const{r:V,s:J}=U,Q=C(F),ee=a(J),te=r(Q*ee),ie=r(V*ee),le=v.BASE.multiplyAndAddUnsafe(Z,te,ie)?.toAffine();return le?r(le.x)===V:!1}return{CURVE:e,getPublicKey:w,getSharedSecret:b,sign:L,verify:D,ProjectivePoint:v,Signature:f,utils:y}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function jse(t){return{hash:t,hmac:(e,...n)=>ez(t,e,Gte(...n)),randomBytes:Vte}}function zse(t,e){const n=i=>Use({...t,...jse(i)});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const dz=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),MO=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Wse=BigInt(0),Gse=BigInt(1),rC=BigInt(2),$O=(t,e)=>(t+e/rC)/e;function Vse(t){const e=dz,n=BigInt(3),i=BigInt(6),c=BigInt(11),m=BigInt(22),s=BigInt(23),g=BigInt(44),r=BigInt(88),a=t*t*t%e,v=a*a*t%e,h=ca(v,n,e)*v%e,u=ca(h,n,e)*v%e,l=ca(u,rC,e)*a%e,o=ca(l,c,e)*l%e,d=ca(o,m,e)*o%e,p=ca(d,g,e)*d%e,f=ca(p,r,e)*p%e,y=ca(f,g,e)*d%e,w=ca(y,n,e)*v%e,x=ca(w,s,e)*o%e,b=ca(x,i,e)*a%e,E=ca(b,rC,e);if(!iC.eql(iC.sqr(E),t))throw new Error("Cannot find square root");return E}const iC=C9(dz,void 0,void 0,{sqrt:Vse}),fz=zse({a:Wse,b:BigInt(7),Fp:iC,n:MO,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=MO,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-Gse*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),c=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),m=n,s=BigInt("0x100000000000000000000000000000000"),g=$O(m*t,e),r=$O(-i*t,e);let a=cs(t-g*n-r*c,e),v=cs(-g*i-r*m,e);const h=a>s,u=v>s;if(h&&(a=e-a),u&&(v=e-v),a>s||v>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:h,k1:a,k2neg:u,k2:v}}}},aj),Hse=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:fz},Symbol.toStringTag,{value:"Module"}));function pz(t,e={}){const{recovered:n}=e;if(typeof t.r>"u")throw new O4({signature:t});if(typeof t.s>"u")throw new O4({signature:t});if(n&&typeof t.yParity>"u")throw new O4({signature:t});if(t.r<0n||t.r>SO)throw new Qse({value:t.r});if(t.s<0n||t.s>SO)throw new qse({value:t.s});if(typeof t.yParity=="number"&&t.yParity!==0&&t.yParity!==1)throw new T9({value:t.yParity})}function Yse(t){return vz(yo(t))}function vz(t){if(t.length!==130&&t.length!==132)throw new _se({signature:t});const e=BigInt(ul(t,0,32)),n=BigInt(ul(t,32,64)),i=(()=>{const c=+`0x${t.slice(130)}`;if(!Number.isNaN(c))try{return S9(c)}catch{throw new T9({value:c})}})();return typeof i>"u"?{r:e,s:n}:{r:e,s:n,yParity:i}}function Xse(t){if(!(typeof t.r>"u")&&!(typeof t.s>"u"))return Kse(t)}function Kse(t){const e=typeof t=="string"?vz(t):t instanceof Uint8Array?Yse(t):typeof t.r=="string"?Jse(t):t.v?Zse(t):{r:t.r,s:t.s,...typeof t.yParity<"u"?{yParity:t.yParity}:{}};return pz(e),e}function Zse(t){return{r:t.r,s:t.s,yParity:S9(t.v)}}function Jse(t){const e=(()=>{const n=t.v?Number(t.v):void 0;let i=t.yParity?Number(t.yParity):void 0;if(typeof n=="number"&&typeof i!="number"&&(i=S9(n)),typeof i!="number")throw new T9({value:t.yParity});return i})();return{r:BigInt(t.r),s:BigInt(t.s),yParity:e}}function S9(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new eae({value:t})}class _se extends qt{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Qs(iie(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class O4 extends qt{constructor({signature:e}){super(`Signature \`${mj(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class Qse extends qt{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class qse extends qt{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class T9 extends qt{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class eae extends qt{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function tae(t,e={}){return typeof t.chainId=="string"?nae(t):{...t,...e.signature}}function nae(t){const{address:e,chainId:n,nonce:i}=t,c=Xse(t);return{address:e,chainId:Number(n),nonce:BigInt(i),...c}}const rae="0x8010801080108010801080108010801080108010801080108010801080108010",iae=Jj("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function gz(t){if(typeof t=="string"){if(ul(t,-32)!==rae)throw new oae(t)}else pz(t.authorization)}function sae(t){gz(t);const e=Ej(ul(t,-64,-32)),n=ul(t,-e-64,-64),i=ul(t,0,-e-64),[c,m,s]=mse(iae,n);return{authorization:tae({address:c.delegation,chainId:Number(c.chainId),nonce:c.nonce,yParity:c.yParity,r:c.r,s:c.s}),signature:i,...s&&s!=="0x"?{data:s,to:m}:{}}}function aae(t){try{return gz(t),!0}catch{return!1}}let oae=class extends qt{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};class lae extends Ne{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function uae(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new lae({value:t});let[n,i="0"]=t.split(".");const c=n.startsWith("-");if(c&&(n=n.slice(1)),i=i.replace(/(0+)$/,""),e===0)Math.round(+`.${i}`)===1&&(n=`${BigInt(n)+1n}`),i="";else if(i.length>e){const[m,s,g]=[i.slice(0,e-1),i.slice(e-1,e),i.slice(e)],r=Math.round(+`${s}.${g}`);r>9?i=`${BigInt(m)+BigInt(1)}0`.padStart(m.length+1,"0"):i=`${m}${r}`,i.length>e&&(i=i.slice(1),n=`${BigInt(n)+1n}`),i=i.slice(0,e)}else i=i.padEnd(e,"0");return BigInt(`${c?"-":""}${n}${i}`)}function mz(t,e="wei"){return uae(t,ej[e])}const cae={path:"/api/v1/analytics_events",method:"POST"},hae={path:"/api/v1/apps/:app_id",method:"GET"},dae={path:"/api/v1/funding/coinbase_on_ramp/init",method:"POST"},fae={path:"/api/v1/funding/coinbase_on_ramp/status",method:"GET"},pae={path:"/api/v1/apps/:app_id/cross-app/connections",method:"GET"},vae={path:"/api/v1/custom_jwt_account/authenticate",method:"POST"},gae={path:"/api/v1/farcaster/init",method:"POST"},mae={path:"/api/v1/farcaster/authenticate",method:"POST"},yae={path:"/api/v1/farcaster/link",method:"POST"},wae={path:"/api/v1/farcaster/unlink",method:"POST"},xae={path:"/api/v1/farcaster/status",method:"GET"},bae={path:"/api/v2/farcaster/init",method:"POST"},Eae={path:"/api/v2/farcaster/authenticate",method:"POST"},Cae={path:"/api/v1/guest/authenticate",method:"POST"},Sae={path:"/api/v1/mfa/passkeys/init",method:"POST"},Tae={path:"/api/v1/mfa/passwordless_sms/init",method:"POST"},Aae={path:"/api/v1/oauth/authenticate",method:"POST"},Pae={path:"/api/v1/oauth/init",method:"POST"},Iae={path:"/api/v1/oauth/link",method:"POST"},Rae={path:"/api/v1/oauth/unlink",method:"POST"},Oae={path:"/api/v1/passkeys/link",method:"POST"},Mae={path:"/api/v1/passkeys/authenticate",method:"POST"},$ae={path:"/api/v1/passkeys/register",method:"POST"},Fae={path:"/api/v1/passkeys/authenticate/init",method:"POST"},Lae={path:"/api/v1/passkeys/register/init",method:"POST"},Dae={path:"/api/v1/passkeys/link/init",method:"POST"},Nae={path:"/api/v1/passwordless/authenticate",method:"POST"},kae={path:"/api/v1/passwordless/init",method:"POST"},Bae={path:"/api/v1/passwordless/link",method:"POST"},Uae={path:"/api/v1/passwordless/unlink",method:"POST"},jae={path:"/api/v1/passwordless/update",method:"POST"},zae={path:"/api/v1/passwordless_sms/authenticate",method:"POST"},Wae={path:"/api/v1/passwordless_sms/init",method:"POST"},Gae={path:"/api/v1/passwordless_sms/link",method:"POST"},Vae={path:"/api/v1/passwordless_sms/unlink",method:"POST"},Hae={path:"/api/v1/passwordless_sms/update",method:"POST"},Yae={path:"/api/v1/embedded_wallets/:address/recovery/key_material",method:"POST"},Xae={path:"/api/v1/recovery/oauth/init",method:"POST"},Kae={path:"/api/v1/recovery/oauth/authenticate",method:"POST"},Zae={path:"/api/v1/recovery/oauth/init_icloud",method:"POST"},Jae={path:"/api/v1/recovery/configuration_icloud",method:"POST"},_ae=(t,e)=>e?Object.entries(e).reduce(((n,[i,c])=>n.replace(`:${i}`,`${c}`)),t):t,FO={path:"/api/v1/sessions",method:"POST"},Qae={path:"/api/v1/sessions/logout",method:"POST"},qae={path:"/api/v1/apps/:app_id/smart_wallets",method:"GET"},yz={path:"/api/v1/siwe/init",method:"POST"},eoe={path:"/api/v1/siwe/authenticate",method:"POST"},toe={path:"/api/v1/siwe/link",method:"POST"},noe={path:"/api/v1/siwe/link_smart_wallet",method:"POST"},roe={path:"/api/v1/siwe/unlink",method:"POST"},ioe={path:"/api/v1/siws/init",method:"POST"},soe={path:"/api/v1/siws/authenticate",method:"POST"},aoe={path:"/api/v1/siws/link",method:"POST"},ooe={path:"/api/v1/siws/unlink",method:"POST"},loe={path:"/api/v1/users/me/accept_terms",method:"POST"},uoe={path:"/api/v1/plugins/moonpay_on_ramp/sign",method:"POST"},coe={path:"/api/v1/wallets",method:"POST"},M4={path:"/api/v1/wallets/:wallet_id/rpc",method:"POST"},hoe={path:"/api/v1/wallets/revoke",method:"POST"};var Tt,LO=((Tt={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",Tt.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",Tt.MISSING_OR_INVALID_PRIVY_CLIENT_ID="missing_or_invalid_privy_client_id",Tt.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",Tt.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",Tt.MISSING_MFA_ENROLLMENT="missing_mfa_enrollment",Tt.MISSING_OR_INVALID_MFA="missing_or_invalid_mfa",Tt.EXPIRED_OR_INVALID_MFA_TOKEN="expired_or_invalid_mfa_token",Tt.INVALID_DATA="invalid_data",Tt.INVALID_CREDENTIALS="invalid_credentials",Tt.INVALID_CAPTCHA="invalid_captcha",Tt.LINKED_TO_ANOTHER_USER="linked_to_another_user",Tt.ALLOWLIST_REJECTED="allowlist_rejected",Tt.CANNOT_UNLINK_EMBEDDED_WALLET="cannot_unlink_embedded_wallet",Tt.CANNOT_UNLINK_SOLE_ACCOUNT="cannot_unlink_sole_account",Tt.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",Tt.LINKED_ACCOUNT_NOT_FOUND="linked_account_not_found",Tt.TOO_MANY_REQUESTS="too_many_requests",Tt.RESOURCE_CONFLICT="resource_conflict",Tt.INVALID_ORIGIN="invalid_origin",Tt.MISSING_ORIGIN="missing_origin",Tt.INVALID_NATIVE_APP_ID="invalid_native_app_id",Tt.TOKEN_ALREADY_USED="token_already_used",Tt.ALREADY_LOGGED_OUT="already_logged_out",Tt.NOT_SUPPORTED="not_supported",Tt.USER_UNSUBSCRIBED="user_unsubscribed",Tt.MAX_APPS_REACHED="max_apps_reached",Tt.USER_LIMIT_REACHED="max_accounts_reached",Tt.DEVICE_REVOKED="device_revoked",Tt.WALLET_PASSWORD_EXISTS="wallet_password_exists",Tt.OAUTH_STATE_MISMATCH="oauth_state_mismatch",Tt.MAX_DENYLIST_ENTRIES_REACHED="max_denylist_entries_reached",Tt.MAX_TEST_ACCOUNTS_REACHED="max_test_accounts_reached",Tt.DISALLOWED_LOGIN_METHOD="disallowed_login_method",Tt.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",Tt.DISALLOWED_RECOVERY_METHOD="disallowed_recovery_method",Tt.LEGACY_DASHBOARD_LOGIN_CONFIGURATION="legacy_dashboard_login_configuration",Tt.CANNOT_SET_PASSWORD="cannot_set_password",Tt.INVALID_PKCE_PARAMETERS="invalid_pkce_parameters",Tt.INVALID_APP_URL_SCHEME_CONFIGURATION="invalid_app_url_scheme_configuration",Tt.CROSS_APP_CONNECTION_NOT_ALLOWED="cross_app_connection_not_allowed",Tt.USER_DOES_NOT_EXIST="user_does_not_exist",Tt.ALREADY_EXISTS="resource_already_exists",Tt.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",Tt.USER_HAS_NOT_DELEGATED_WALLET="user_has_not_delegated_wallet",Tt.FEATURE_NOT_ENABLED="feature_not_enabled",Tt.INSUFFICIENT_FUNDS="insufficient_funds",Tt.TRANSACTION_BROADCAST_FAILURE="transaction_broadcast_failure",Tt.INVALID_POLICY_FORMAT="invalid_policy_format",Tt.POLICY_VIOLATION="policy_violation",Tt.AUTHORIZATION_KEY_HAS_ASSOCIATED_WALLETS="authorization_key_has_associated_wallets",Tt.INVALID_REQUEST="invalid_request",Tt.SIGNUP_DISABLED="signup_disabled",Tt);function DO(t,e){t=t.split("-"),e=e.split("-");for(var n=t[0].split("."),i=e[0].split("."),c=0;c<3;c++){var m=Number(n[c]),s=Number(i[c]);if(m>s)return 1;if(s>m)return-1;if(!isNaN(m)&&isNaN(s))return 1;if(isNaN(m)&&!isNaN(s))return-1}return t[1]&&e[1]?t[1]>e[1]?1:t[1]<e[1]?-1:0:!t[1]&&e[1]?1:t[1]&&!e[1]?-1:0}var doe={}.constructor;function jh(t){return t!=null&&t.constructor===doe}function zp(t){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zp(t)}function Hx(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function foe(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,poe(i.key),i)}}function Yx(t,e,n){return e&&foe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function poe(t){var e=voe(t,"string");return zp(e)=="symbol"?e:e+""}function voe(t,e){if(zp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(zp(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var goe="1.2.0",moe="1.7.35",NO=" ext. ",yoe=/^\d+$/,zr=(function(){function t(e){Hx(this,t),wz(e),this.metadata=e,xz.call(this,e)}return Yx(t,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(n){return n!=="001"})}},{key:"getCountryMetadata",value:function(n){return this.metadata.countries[n]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(n){return this.getCountryMetadata(n)!==void 0}},{key:"hasCallingCode",value:function(n){if(this.getCountryCodesForCallingCode(n))return!0;if(this.nonGeographic()){if(this.nonGeographic()[n])return!0}else{var i=this.countryCallingCodes()[n];if(i&&i.length===1&&i[0]==="001")return!0}}},{key:"isNonGeographicCallingCode",value:function(n){return this.nonGeographic()?!!this.nonGeographic()[n]:!this.getCountryCodesForCallingCode(n)}},{key:"country",value:function(n){return this.selectNumberingPlan(n)}},{key:"selectNumberingPlan",value:function(n,i){if(n&&yoe.test(n)&&(i=n,n=null),n&&n!=="001"){if(!this.hasCountry(n))throw new Error("Unknown country: ".concat(n));this.numberingPlan=new kO(this.getCountryMetadata(n),this)}else if(i){if(!this.hasCallingCode(i))throw new Error("Unknown calling code: ".concat(i));this.numberingPlan=new kO(this.getNumberingPlanMetadata(i),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(n){var i=this.countryCallingCodes()[n];if(i)return i.length===1&&i[0].length===3?void 0:i}},{key:"getCountryCodeForCallingCode",value:function(n){var i=this.getCountryCodesForCallingCode(n);if(i)return i[0]}},{key:"getNumberingPlanMetadata",value:function(n){var i=this.getCountryCodeForCallingCode(n);if(i)return this.getCountryMetadata(i);if(this.nonGeographic()){var c=this.nonGeographic()[n];if(c)return c}else{var m=this.countryCallingCodes()[n];if(m&&m.length===1&&m[0]==="001")return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(n){return this.numberingPlan.type(n)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(n){return this.selectNumberingPlan(n)}},{key:"hasSelectedNumberingPlan",value:function(){return this.numberingPlan!==void 0}}])})(),kO=(function(){function t(e,n){Hx(this,t),this.globalMetadataObject=n,this.metadata=e,xz.call(this,n.metadata)}return Yx(t,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(n){return n[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var n=this,i=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return i.map(function(c){return new woe(c,n)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(n){return n[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return this.types()&&this.types().length===0?!1:!!this.types()}},{key:"type",value:function(n){if(this.hasTypes()&&BO(this.types(),n))return new boe(BO(this.types(),n),this)}},{key:"ext",value:function(){return this.v1||this.v2?NO:this.metadata[13]||NO}}])})(),woe=(function(){function t(e,n){Hx(this,t),this._format=e,this.metadata=n}return Yx(t,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!!(this.nationalPrefixFormattingRule()&&!xoe.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}])})(),xoe=/^\(?\$1\)?$/,boe=(function(){function t(e,n){Hx(this,t),this.type=e,this.metadata=n}return Yx(t,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}])})();function BO(t,e){switch(e){case"FIXED_LINE":return t[0];case"MOBILE":return t[1];case"TOLL_FREE":return t[2];case"PREMIUM_RATE":return t[3];case"PERSONAL_NUMBER":return t[4];case"VOICEMAIL":return t[5];case"UAN":return t[6];case"PAGER":return t[7];case"VOIP":return t[8];case"SHARED_COST":return t[9]}}function wz(t){if(!t)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!jh(t)||!jh(t.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(jh(t)?"an object of shape: { "+Object.keys(t).join(", ")+" }":"a "+Eoe(t)+": "+t,"."))}var Eoe=function(e){return zp(e)};function Xx(t,e){if(e=new zr(e),e.hasCountry(t))return e.selectNumberingPlan(t).countryCallingCode();throw new Error("Unknown country: ".concat(t))}function Coe(t,e){return e.countries.hasOwnProperty(t)}function xz(t){var e=t.version;typeof e=="number"?(this.v1=e===1,this.v2=e===2,this.v3=e===3,this.v4=e===4):e?DO(e,goe)===-1?this.v2=!0:DO(e,moe)===-1?this.v3=!0:this.v4=!0:this.v1=!0}function Kx(t,e,n){return Soe(t,e,void 0,n)}function Soe(t,e,n,i){e&&(i=new zr(i.metadata),i.selectNumberingPlan(e));var c=i.type(n),m=c&&c.possibleLengths()||i.possibleLengths();if(!m)return"IS_POSSIBLE";var s=t.length,g=m[0];return g===s?"IS_POSSIBLE":g>s?"TOO_SHORT":m[m.length-1]<s?"TOO_LONG":m.indexOf(s,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function Toe(t,e,n){if(e===void 0&&(e={}),n=new zr(n),e.v2){if(!t.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(t.countryCallingCode)}else{if(!t.phone)return!1;if(t.country){if(!n.hasCountry(t.country))throw new Error("Unknown country: ".concat(t.country));n.selectNumberingPlan(t.country)}else{if(!t.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(t.countryCallingCode)}}if(n.possibleLengths())return bz(t.phone||t.nationalNumber,t.country,n);if(t.countryCallingCode&&n.isNonGeographicCallingCode(t.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}function bz(t,e,n){switch(Kx(t,e,n)){case"IS_POSSIBLE":return!0;default:return!1}}function fu(t,e){return t=t||"",new RegExp("^(?:"+e+")$").test(t)}function Aoe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=Poe(t))||e){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Poe(t,e){if(t){if(typeof t=="string")return UO(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?UO(t,e):void 0}}function UO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}var Ioe=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function A9(t,e,n){if(e=e||{},!(!t.country&&!t.countryCallingCode)){n=new zr(n),n.selectNumberingPlan(t.country,t.countryCallingCode);var i=e.v2?t.nationalNumber:t.phone;if(fu(i,n.nationalNumberPattern())){if($4(i,"FIXED_LINE",n))return n.type("MOBILE")&&n.type("MOBILE").pattern()===""||!n.type("MOBILE")||$4(i,"MOBILE",n)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE";for(var c=Aoe(Ioe),m;!(m=c()).done;){var s=m.value;if($4(i,s,n))return s}}}}function $4(t,e,n){return e=n.type(e),!e||!e.pattern()||e.possibleLengths()&&e.possibleLengths().indexOf(t.length)<0?!1:fu(t,e.pattern())}function Roe(t,e,n){if(e=e||{},n=new zr(n),n.selectNumberingPlan(t.country,t.countryCallingCode),n.hasTypes())return A9(t,e,n.metadata)!==void 0;var i=e.v2?t.nationalNumber:t.phone;return fu(i,n.nationalNumberPattern())}function Ooe(t,e,n){var i=new zr(n),c=i.getCountryCodesForCallingCode(t);return c?c.filter(function(m){return Moe(e,m,n)}):[]}function Moe(t,e,n){var i=new zr(n);return i.selectNumberingPlan(e),i.numberingPlan.possibleLengths().indexOf(t.length)>=0}var P9=2,$oe=17,Foe=3,Xi="0-9---",Loe="--",Doe="/",Noe=".",koe=" ",Boe="()\\[\\]",Uoe="~",lo="".concat(Loe).concat(Doe).concat(Noe).concat(koe).concat(Boe).concat(Uoe),Zx="+",joe=new RegExp("(["+Xi+"])");function Ez(t,e,n,i){if(e){var c=new zr(i);c.selectNumberingPlan(e,n);var m=new RegExp(c.IDDPrefix());if(t.search(m)===0){t=t.slice(t.match(m)[0].length);var s=t.match(joe);if(!(s&&s[1]!=null&&s[1].length>0&&s[1]==="0"))return t}}}function sC(t,e){if(t&&e.numberingPlan.nationalPrefixForParsing()){var n=new RegExp("^(?:"+e.numberingPlan.nationalPrefixForParsing()+")"),i=n.exec(t);if(i){var c,m,s=i.length-1,g=s>0&&i[s];if(e.nationalPrefixTransformRule()&&g)c=t.replace(n,e.nationalPrefixTransformRule()),s>1&&(m=i[1]);else{var r=i[0];c=t.slice(r.length),g&&(m=i[1])}var a;if(g){var v=t.indexOf(i[1]),h=t.slice(0,v);h===e.numberingPlan.nationalPrefix()&&(a=e.numberingPlan.nationalPrefix())}else a=i[0];return{nationalNumber:c,nationalPrefix:a,carrierCode:m}}}return{nationalNumber:t}}function zoe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=Woe(t))||e){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Woe(t,e){if(t){if(typeof t=="string")return jO(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jO(t,e):void 0}}function jO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function Cz(t,e){var n=e.countries,i=e.metadata;i=new zr(i);for(var c=zoe(n),m;!(m=c()).done;){var s=m.value;if(i.selectNumberingPlan(s),i.leadingDigits()){if(t&&t.search(i.leadingDigits())===0)return s}else if(A9({phone:t,country:s},void 0,i.metadata))return s}}function I9(t,e){var n=e.nationalNumber,i=e.metadata,c=i.getCountryCodesForCallingCode(t);if(c)return c.length===1?c[0]:Cz(n,{countries:c,metadata:i.metadata})}function aC(t,e,n){var i=sC(t,n),c=i.carrierCode,m=i.nationalNumber;if(m!==t){if(!Goe(t,m,n))return{nationalNumber:t};if(n.numberingPlan.possibleLengths()&&(e||(e=I9(n.numberingPlan.callingCode(),{nationalNumber:m,metadata:n})),!Voe(m,e,n)))return{nationalNumber:t}}return{nationalNumber:m,carrierCode:c}}function Goe(t,e,n){return!(fu(t,n.nationalNumberPattern())&&!fu(e,n.nationalNumberPattern()))}function Voe(t,e,n){switch(Kx(t,e,n)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}function Sz(t,e,n,i,c){var m=e||n?Xx(e||n,c):i;if(t.indexOf(m)===0){c=new zr(c),c.selectNumberingPlan(e||n,m);var s=t.slice(m.length),g=aC(s,e,c),r=g.nationalNumber,a=aC(t,e,c),v=a.nationalNumber;if(!fu(v,c.nationalNumberPattern())&&fu(r,c.nationalNumberPattern())||Kx(v,e,c)==="TOO_LONG")return{countryCallingCode:m,number:s}}return{number:t}}function R9(t,e,n,i,c){if(!t)return{};var m;if(t[0]!=="+"){var s=Ez(t,e||n,i,c);if(s&&s!==t)m=!0,t="+"+s;else{if(e||n||i){var g=Sz(t,e,n,i,c),r=g.countryCallingCode,a=g.number;if(r)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:r,number:a}}return{number:t}}}if(t[1]==="0")return{};c=new zr(c);for(var v=2;v-1<=Foe&&v<=t.length;){var h=t.slice(1,v);if(c.hasCallingCode(h))return c.selectNumberingPlan(h),{countryCallingCodeSource:m?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:h,number:t.slice(v)};v++}return{}}function Tz(t){return t.replace(new RegExp("[".concat(lo,"]+"),"g")," ").trim()}var Az=/(\$\d)/;function Pz(t,e,n){var i=n.useInternationalFormat,c=n.withNationalPrefix;n.carrierCode,n.metadata;var m=t.replace(new RegExp(e.pattern()),i?e.internationalFormat():c&&e.nationalPrefixFormattingRule()?e.format().replace(Az,e.nationalPrefixFormattingRule()):e.format());return i?Tz(m):m}var Hoe=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function Yoe(t,e,n){var i=new zr(n);if(i.selectNumberingPlan(t,e),i.defaultIDDPrefix())return i.defaultIDDPrefix();if(Hoe.test(i.IDDPrefix()))return i.IDDPrefix()}var Xoe=";ext=",mf=function(e){return"([".concat(Xi,"]{1,").concat(e,"})")};function Iz(t){var e="20",n="15",i="9",c="6",m="[ \\t,]*",s="[:\\.]?[ \\t,-]*",g="#?",r="(?:e?xt(?:ensi(?:o?|))?n?|??||anexo)",a="(?:[x#~]|int|)",v="[- ]+",h="[ \\t]*",u="(?:,{2}|;)",l=Xoe+mf(e),o=m+r+s+mf(e)+g,d=m+a+s+mf(i)+g,p=v+mf(c)+"#",f=h+u+s+mf(n)+g,y=h+"(?:,)+"+s+mf(i)+g;return l+"|"+o+"|"+d+"|"+p+"|"+f+"|"+y}var Koe="["+Xi+"]{"+P9+"}",Zoe="["+Zx+"]{0,1}(?:["+lo+"]*["+Xi+"]){3,}["+lo+Xi+"]*",Joe=new RegExp("^["+Zx+"]{0,1}(?:["+lo+"]*["+Xi+"]){1,2}$","i"),_oe=Zoe+"(?:"+Iz()+")?",Qoe=new RegExp("^"+Koe+"$|^"+_oe+"$","i");function qoe(t){return t.length>=P9&&Qoe.test(t)}function ele(t){return Joe.test(t)}function tle(t){var e=t.number,n=t.ext;if(!e)return"";if(e[0]!=="+")throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(e).concat(n?";ext="+n:"")}var zO={formatExtension:function(e,n,i){return"".concat(e).concat(i.ext()).concat(n)}};function nle(t,e,n,i){if(n?n=sle({},zO,n):n=zO,i=new zr(i),t.country&&t.country!=="001"){if(!i.hasCountry(t.country))throw new Error("Unknown country: ".concat(t.country));i.selectNumberingPlan(t.country)}else if(t.countryCallingCode)i.selectNumberingPlan(t.countryCallingCode);else return t.phone||"";var c=i.countryCallingCode(),m=n.v2?t.nationalNumber:t.phone,s;switch(e){case"NATIONAL":return m?(s=Tw(m,t.carrierCode,"NATIONAL",i,n),F4(s,t.ext,i,n.formatExtension)):"";case"INTERNATIONAL":return m?(s=Tw(m,null,"INTERNATIONAL",i,n),s="+".concat(c," ").concat(s),F4(s,t.ext,i,n.formatExtension)):"+".concat(c);case"E.164":return"+".concat(c).concat(m);case"RFC3966":return tle({number:"+".concat(c).concat(m),ext:t.ext});case"IDD":if(!n.fromCountry)return;var g=ile(m,t.carrierCode,c,n.fromCountry,i);return F4(g,t.ext,i,n.formatExtension);default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(e,'"'))}}function Tw(t,e,n,i,c){var m=rle(i.formats(),t);return m?Pz(t,m,{useInternationalFormat:n==="INTERNATIONAL",withNationalPrefix:!(m.nationalPrefixIsOptionalWhenFormattingInNationalFormat()&&c&&c.nationalPrefix===!1),carrierCode:e,metadata:i}):t}function rle(t,e){return ale(t,function(n){if(n.leadingDigitsPatterns().length>0){var i=n.leadingDigitsPatterns()[n.leadingDigitsPatterns().length-1];if(e.search(i)!==0)return!1}return fu(e,n.pattern())})}function F4(t,e,n,i){return e?i(t,e,n):t}function ile(t,e,n,i,c){var m=Xx(i,c.metadata);if(m===n){var s=Tw(t,e,"NATIONAL",c);return n==="1"?n+" "+s:s}var g=Yoe(i,void 0,c.metadata);if(g)return"".concat(g," ").concat(n," ").concat(Tw(t,null,"INTERNATIONAL",c))}function sle(){for(var t=1,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(;t<n.length;){if(n[t])for(var c in n[t])n[0][c]=n[t][c];t++}return n[0]}function ale(t,e){for(var n=0;n<t.length;){if(e(t[n]))return t[n];n++}}function Zg(t){"@babel/helpers - typeof";return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zg(t)}function WO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,i)}return n}function GO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(n),!0).forEach(function(i){ole(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WO(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function ole(t,e,n){return(e=Rz(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ule(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Rz(i.key),i)}}function cle(t,e,n){return e&&ule(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rz(t){var e=hle(t,"string");return Zg(e)=="symbol"?e:e+""}function hle(t,e){if(Zg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(Zg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var O9=(function(){function t(e,n,i){if(lle(this,t),!e)throw new TypeError("First argument is required");if(typeof e!="string")throw new TypeError("First argument must be a string");if(e[0]==="+"&&!n)throw new TypeError("`metadata` argument not passed");if(jh(n)&&jh(n.countries)){i=n;var c=e;if(!ple.test(c))throw new Error('Invalid `number` argument passed: must consist of a "+" followed by digits');var m=R9(c,void 0,void 0,void 0,i),s=m.countryCallingCode,g=m.number;if(n=g,e=s,!n)throw new Error("Invalid `number` argument passed: too short")}if(!n)throw new TypeError("`nationalNumber` argument is required");if(typeof n!="string")throw new TypeError("`nationalNumber` argument must be a string");wz(i);var r=fle(e,i),a=r.country,v=r.countryCallingCode;this.country=a,this.countryCallingCode=v,this.nationalNumber=n,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return i}}return cle(t,[{key:"setExt",value:function(n){this.ext=n}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:Ooe(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){return Toe(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return Roe(this,{v2:!0},this.getMetadata())}},{key:"isNonGeographic",value:function(){var n=new zr(this.getMetadata());return n.isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(n){return this.number===n.number&&this.ext===n.ext}},{key:"getType",value:function(){return A9(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(n,i){return nle(this,n,i?GO(GO({},i),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(n){return this.format("NATIONAL",n)}},{key:"formatInternational",value:function(n){return this.format("INTERNATIONAL",n)}},{key:"getURI",value:function(n){return this.format("RFC3966",n)}}])})(),dle=function(e){return/^[A-Z]{2}$/.test(e)};function fle(t,e){var n,i,c=new zr(e);return dle(t)?(n=t,c.selectNumberingPlan(n),i=c.countryCallingCode()):i=t,{country:n,countryCallingCode:i}}var ple=/^\+\d+$/;function oC(t){"@babel/helpers - typeof";return oC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oC(t)}function vle(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}function gle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mle(t,e,n){return e=_g(e),yle(t,M9()?Reflect.construct(e,n||[],_g(t).constructor):e.apply(t,n))}function yle(t,e){if(e&&(oC(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wle(t)}function wle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jg(t,e)}function lC(t){var e=typeof Map=="function"?new Map:void 0;return lC=function(i){if(i===null||!Ele(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(i))return e.get(i);e.set(i,c)}function c(){return ble(i,arguments,_g(this).constructor)}return c.prototype=Object.create(i.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),Jg(c,i)},lC(t)}function ble(t,e,n){if(M9())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,e);var c=new(t.bind.apply(t,i));return n&&Jg(c,n.prototype),c}function M9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M9=function(){return!!t})()}function Ele(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}}function Jg(t,e){return Jg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Jg(t,e)}function _g(t){return _g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_g(t)}var _l=(function(t){function e(n){var i;return gle(this,e),i=mle(this,e,[n]),Object.setPrototypeOf(i,e.prototype),i.name=i.constructor.name,i}return xle(e,t),vle(e)})(lC(Error)),VO=new RegExp("(?:"+Iz()+")$","i");function Cle(t){var e=t.search(VO);if(e<0)return{};for(var n=t.slice(0,e),i=t.match(VO),c=1;c<i.length;){if(i[c])return{number:n,ext:i[c]};c++}}function Sle(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=Tle(t))||e){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tle(t,e){if(t){if(typeof t=="string")return HO(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?HO(t,e):void 0}}function HO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}var Ale={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"};function Oz(t){return Ale[t]}function Aw(t){for(var e="",n=Sle(t.split("")),i;!(i=n()).done;){var c=i.value,m=Oz(c);m&&(e+=m)}return e}function Ple(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=Ile(t))||e){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ile(t,e){if(t){if(typeof t=="string")return YO(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?YO(t,e):void 0}}function YO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function XO(t){for(var e="",n=Ple(t.split("")),i;!(i=n()).done;){var c=i.value;e+=Rle(c,e)||""}return e}function Rle(t,e,n){return t==="+"?e?void 0:"+":Oz(t)}var Mz="+",Ole="[\\-\\.\\(\\)]?",KO="(["+Xi+"]|"+Ole+")",Mle="^\\"+Mz+KO+"*["+Xi+"]"+KO+"*$",$le=new RegExp(Mle,"g"),uC=Xi,Fle="["+uC+"]+((\\-)*["+uC+"])*",Lle="a-zA-Z",Dle="["+Lle+"]+((\\-)*["+uC+"])*",Nle="^("+Fle+"\\.)*"+Dle+"\\.?$",kle=new RegExp(Nle,"g"),ZO="tel:",cC=";phone-context=",Ble=";isub=";function Ule(t){var e=t.indexOf(cC);if(e<0)return null;var n=e+cC.length;if(n>=t.length)return"";var i=t.indexOf(";",n);return i>=0?t.substring(n,i):t.substring(n)}function jle(t){return t===null?!0:t.length===0?!1:$le.test(t)||kle.test(t)}function zle(t,e){var n=e.extractFormattedPhoneNumber,i=Ule(t);if(!jle(i))throw new _l("NOT_A_NUMBER");var c;if(i===null)c=n(t)||"";else{c="",i.charAt(0)===Mz&&(c+=i);var m=t.indexOf(ZO),s;m>=0?s=m+ZO.length:s=0;var g=t.indexOf(cC);c+=t.substring(s,g)}var r=c.indexOf(Ble);if(r>0&&(c=c.substring(0,r)),c!=="")return c}var Wle=250,Gle=new RegExp("["+Zx+Xi+"]"),Vle=new RegExp("[^"+Xi+"#]+$");function Hle(t,e,n){if(e=e||{},n=new zr(n),e.defaultCountry&&!n.hasCountry(e.defaultCountry))throw e.v2?new _l("INVALID_COUNTRY"):new Error("Unknown country: ".concat(e.defaultCountry));var i=Xle(t,e.v2,e.extract),c=i.number,m=i.ext,s=i.error;if(!c){if(e.v2)throw s==="TOO_SHORT"?new _l("TOO_SHORT"):new _l("NOT_A_NUMBER");return{}}var g=Zle(c,e.defaultCountry,e.defaultCallingCode,n),r=g.country,a=g.nationalNumber,v=g.countryCallingCode,h=g.countryCallingCodeSource,u=g.carrierCode;if(!n.hasSelectedNumberingPlan()){if(e.v2)throw new _l("INVALID_COUNTRY");return{}}if(!a||a.length<P9){if(e.v2)throw new _l("TOO_SHORT");return{}}if(a.length>$oe){if(e.v2)throw new _l("TOO_LONG");return{}}if(e.v2){var l=new O9(v,a,n.metadata);return r&&(l.country=r),u&&(l.carrierCode=u),m&&(l.ext=m),l.__countryCallingCodeSource=h,l}var o=(e.extended?n.hasSelectedNumberingPlan():r)?fu(a,n.nationalNumberPattern()):!1;return e.extended?{country:r,countryCallingCode:v,carrierCode:u,valid:o,possible:o?!0:!!(e.extended===!0&&n.possibleLengths()&&bz(a,r,n)),phone:a,ext:m}:o?Kle(r,a,m):{}}function Yle(t,e,n){if(t){if(t.length>Wle){if(n)throw new _l("TOO_LONG");return}if(e===!1)return t;var i=t.search(Gle);if(!(i<0))return t.slice(i).replace(Vle,"")}}function Xle(t,e,n){var i=zle(t,{extractFormattedPhoneNumber:function(s){return Yle(s,n,e)}});if(!i)return{};if(!qoe(i))return ele(i)?{error:"TOO_SHORT"}:{};var c=Cle(i);return c.ext?c:{number:i}}function Kle(t,e,n){var i={country:t,phone:e};return n&&(i.ext=n),i}function Zle(t,e,n,i){var c=R9(XO(t),void 0,e,n,i.metadata),m=c.countryCallingCodeSource,s=c.countryCallingCode,g=c.number,r;if(s)i.selectNumberingPlan(s);else if(g&&(e||n))i.selectNumberingPlan(e,n),e&&(r=e),s=n||Xx(e,i.metadata);else return{};if(!g)return{countryCallingCodeSource:m,countryCallingCode:s};var a=aC(XO(g),r,i),v=a.nationalNumber,h=a.carrierCode,u=I9(s,{nationalNumber:v,metadata:i});return u&&(r=u,u==="001"||i.selectNumberingPlan(r)),{country:r,countryCallingCode:s,countryCallingCodeSource:m,nationalNumber:v,carrierCode:h}}function Qg(t){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qg(t)}function JO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,i)}return n}function _O(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JO(Object(n),!0).forEach(function(i){Jle(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JO(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Jle(t,e,n){return(e=_le(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _le(t){var e=Qle(t,"string");return Qg(e)=="symbol"?e:e+""}function Qle(t,e){if(Qg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(Qg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qle(t,e,n){return Hle(t,_O(_O({},e),{},{v2:!0}),n)}function qg(t){"@babel/helpers - typeof";return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qg(t)}function QO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,i)}return n}function eue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QO(Object(n),!0).forEach(function(i){tue(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QO(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function tue(t,e,n){return(e=nue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nue(t){var e=rue(t,"string");return qg(e)=="symbol"?e:e+""}function rue(t,e){if(qg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(qg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iue(t,e){return lue(t)||oue(t,e)||aue(t,e)||sue()}function sue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aue(t,e){if(t){if(typeof t=="string")return qO(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qO(t,e):void 0}}function qO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function oue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,c,m,s,g=[],r=!0,a=!1;try{if(m=(n=n.call(t)).next,e!==0)for(;!(r=(i=m.call(n)).done)&&(g.push(i.value),g.length!==e);r=!0);}catch(v){a=!0,c=v}finally{try{if(!r&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(a)throw c}}return g}}function lue(t){if(Array.isArray(t))return t}function uue(t){var e=Array.prototype.slice.call(t),n=iue(e,4),i=n[0],c=n[1],m=n[2],s=n[3],g,r,a;if(typeof i=="string")g=i;else throw new TypeError("A text for parsing must be a string.");if(!c||typeof c=="string")s?(r=m,a=s):(r=void 0,a=m),c&&(r=eue({defaultCountry:c},r));else if(jh(c))m?(r=c,a=m):a=c;else throw new Error("Invalid second argument: ".concat(c));return{text:g,options:r,metadata:a}}function em(t){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},em(t)}function eM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,i)}return n}function tM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eM(Object(n),!0).forEach(function(i){cue(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eM(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function cue(t,e,n){return(e=hue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hue(t){var e=due(t,"string");return em(e)=="symbol"?e:e+""}function due(t,e){if(em(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(em(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fue(t,e,n){e&&e.defaultCountry&&!Coe(e.defaultCountry,n)&&(e=tM(tM({},e),{},{defaultCountry:void 0}));try{return qle(t,e,n)}catch(i){if(!(i instanceof _l))throw i}}function tm(t){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tm(t)}function nM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,i)}return n}function rM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nM(Object(n),!0).forEach(function(i){pue(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nM(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function pue(t,e,n){return(e=vue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vue(t){var e=gue(t,"string");return tm(e)=="symbol"?e:e+""}function gue(t,e){if(tm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(tm(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mue(){var t=uue(arguments),e=t.text,n=t.options,i=t.metadata;n=rM(rM({},n),{},{extract:!1});var c=fue(e,n,i);return c&&c.isPossible()||!1}function nm(t){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nm(t)}function yue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wue(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,bue(i.key),i)}}function xue(t,e,n){return e&&wue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bue(t){var e=Eue(t,"string");return nm(e)=="symbol"?e:e+""}function Eue(t,e){if(nm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(nm(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Cue=(function(){function t(e){var n=e.onCountryChange,i=e.onCallingCodeChange;yue(this,t),this.onCountryChange=n,this.onCallingCodeChange=i}return xue(t,[{key:"reset",value:function(n){var i=n.country,c=n.callingCode;this.international=!1,this.missingPlus=!1,this.IDDPrefix=void 0,this.callingCode=void 0,this.digits="",this.resetNationalSignificantNumber(),this.initCountryAndCallingCode(i,c)}},{key:"resetNationalSignificantNumber",value:function(){this.nationalSignificantNumber=this.getNationalDigits(),this.nationalSignificantNumberIsModified=!1,this.nationalPrefix=void 0,this.carrierCode=void 0,this.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix=void 0}},{key:"update",value:function(n){for(var i=0,c=Object.keys(n);i<c.length;i++){var m=c[i];this[m]=n[m]}}},{key:"initCountryAndCallingCode",value:function(n,i){this.setCountry(n),this.setCallingCode(i)}},{key:"setCountry",value:function(n){this.country=n,this.onCountryChange(n)}},{key:"setCallingCode",value:function(n){this.callingCode=n,this.onCallingCodeChange(n,this.country)}},{key:"startInternationalNumber",value:function(n,i){this.international=!0,this.initCountryAndCallingCode(n,i)}},{key:"appendDigits",value:function(n){this.digits+=n}},{key:"appendNationalSignificantNumberDigits",value:function(n){this.nationalSignificantNumber+=n}},{key:"getNationalDigits",value:function(){return this.international?this.digits.slice((this.IDDPrefix?this.IDDPrefix.length:0)+(this.callingCode?this.callingCode.length:0)):this.digits}},{key:"getDigitsWithoutInternationalPrefix",value:function(){return this.international&&this.IDDPrefix?this.digits.slice(this.IDDPrefix.length):this.digits}}])})();function Sue(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=Tue(t))||e){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tue(t,e){if(t){if(typeof t=="string")return iM(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iM(t,e):void 0}}function iM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}var qa="x",L4=new RegExp(qa);function j2(t,e){if(e<1)return"";for(var n="";e>1;)e&1&&(n+=t),e>>=1,t+=t;return n+t}function sM(t,e){return t[e]===")"&&e++,Aue(t.slice(0,e))}function Aue(t){for(var e=[],n=0;n<t.length;)t[n]==="("?e.push(n):t[n]===")"&&e.pop(),n++;var i=0,c="";e.push(t.length);for(var m=0,s=e;m<s.length;m++){var g=s[m];c+=t.slice(i,g),i=g+1}return c}function Pue(t,e,n){for(var i=Sue(n.split("")),c;!(c=i()).done;){var m=c.value;if(t.slice(e+1).search(L4)<0)return;e=t.search(L4),t=t.replace(L4,m)}return[t,e]}function Iue(t,e,n){var i=n.metadata,c=n.shouldTryNationalPrefixFormattingRule,m=n.getSeparatorAfterNationalPrefix,s=new RegExp("^(?:".concat(e.pattern(),")$"));if(s.test(t.nationalSignificantNumber))return Oue(t,e,{metadata:i,shouldTryNationalPrefixFormattingRule:c,getSeparatorAfterNationalPrefix:m})}function Rue(t,e,n){return Kx(t,e,n)==="IS_POSSIBLE"}function Oue(t,e,n){var i=n.metadata,c=n.shouldTryNationalPrefixFormattingRule,m=n.getSeparatorAfterNationalPrefix;if(t.nationalSignificantNumber,t.international,t.nationalPrefix,t.carrierCode,c(e)){var s=aM(t,e,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:m,metadata:i});if(s)return s}return aM(t,e,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:m,metadata:i})}function aM(t,e,n){var i=n.metadata,c=n.useNationalPrefixFormattingRule,m=n.getSeparatorAfterNationalPrefix,s=Pz(t.nationalSignificantNumber,e,{carrierCode:t.carrierCode,useInternationalFormat:t.international,withNationalPrefix:c,metadata:i});if(c||(t.nationalPrefix?s=t.nationalPrefix+m(e)+s:t.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix&&(s=t.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix+" "+s)),Mue(s,t))return s}function Mue(t,e){return Aw(t)===e.getNationalDigits()}function rm(t){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rm(t)}function $ue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fue(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Due(i.key),i)}}function Lue(t,e,n){return e&&Fue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Due(t){var e=Nue(t,"string");return rm(e)=="symbol"?e:e+""}function Nue(t,e){if(rm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(rm(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kue=(function(){function t(){$ue(this,t)}return Lue(t,[{key:"parse",value:function(n){if(this.context=[{or:!0,instructions:[]}],this.parsePattern(n),this.context.length!==1)throw new Error("Non-finalized contexts left when pattern parse ended");var i=this.context[0],c=i.branches,m=i.instructions;if(c)return{op:"|",args:c.concat([D4(m)])};if(m.length===0)throw new Error("Pattern is required");return m.length===1?m[0]:m}},{key:"startContext",value:function(n){this.context.push(n)}},{key:"endContext",value:function(){this.context.pop()}},{key:"getContext",value:function(){return this.context[this.context.length-1]}},{key:"parsePattern",value:function(n){if(!n)throw new Error("Pattern is required");var i=n.match(jue);if(!i){if(Uue.test(n))throw new Error("Illegal characters found in a pattern: ".concat(n));this.getContext().instructions=this.getContext().instructions.concat(n.split(""));return}var c=i[1],m=n.slice(0,i.index),s=n.slice(i.index+c.length);switch(c){case"(?:":m&&this.parsePattern(m),this.startContext({or:!0,instructions:[],branches:[]});break;case")":if(!this.getContext().or)throw new Error('")" operator must be preceded by "(?:" operator');if(m&&this.parsePattern(m),this.getContext().instructions.length===0)throw new Error('No instructions found after "|" operator in an "or" group');var g=this.getContext(),r=g.branches;r.push(D4(this.getContext().instructions)),this.endContext(),this.getContext().instructions.push({op:"|",args:r});break;case"|":if(!this.getContext().or)throw new Error('"|" operator can only be used inside "or" groups');if(m&&this.parsePattern(m),!this.getContext().branches)if(this.context.length===1)this.getContext().branches=[];else throw new Error('"branches" not found in an "or" group context');this.getContext().branches.push(D4(this.getContext().instructions)),this.getContext().instructions=[];break;case"[":m&&this.parsePattern(m),this.startContext({oneOfSet:!0});break;case"]":if(!this.getContext().oneOfSet)throw new Error('"]" operator must be preceded by "[" operator');this.endContext(),this.getContext().instructions.push({op:"[]",args:Bue(m)});break;default:throw new Error("Unknown operator: ".concat(c))}s&&this.parsePattern(s)}}])})();function Bue(t){for(var e=[],n=0;n<t.length;){if(t[n]==="-"){if(n===0||n===t.length-1)throw new Error("Couldn't parse a one-of set pattern: ".concat(t));for(var i=t[n-1].charCodeAt(0)+1,c=t[n+1].charCodeAt(0)-1,m=i;m<=c;)e.push(String.fromCharCode(m)),m++}else e.push(t[n]);n++}return e}var Uue=/[\(\)\[\]\?\:\|]/,jue=new RegExp("(\\||\\(\\?\\:|\\)|\\[|\\])");function D4(t){return t.length===1?t[0]:t}function oM(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=zue(t))||e){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zue(t,e){if(t){if(typeof t=="string")return lM(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lM(t,e):void 0}}function lM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function im(t){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},im(t)}function Wue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gue(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Hue(i.key),i)}}function Vue(t,e,n){return e&&Gue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hue(t){var e=Yue(t,"string");return im(e)=="symbol"?e:e+""}function Yue(t,e){if(im(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(im(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xue=(function(){function t(e){Wue(this,t),this.matchTree=new kue().parse(e)}return Vue(t,[{key:"match",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=i.allowOverflow;if(!n)throw new Error("String is required");var m=hC(n.split(""),this.matchTree,!0);if(m&&m.match&&delete m.matchedChars,!(m&&m.overflow&&!c))return m}}])})();function hC(t,e,n){if(typeof e=="string"){var i=t.join("");return e.indexOf(i)===0?t.length===e.length?{match:!0,matchedChars:t}:{partialMatch:!0}:i.indexOf(e)===0?n&&t.length>e.length?{overflow:!0}:{match:!0,matchedChars:t.slice(0,e.length)}:void 0}if(Array.isArray(e)){for(var c=t.slice(),m=0;m<e.length;){var s=e[m],g=hC(c,s,n&&m===e.length-1);if(g){if(g.overflow)return g;if(g.match){if(c=c.slice(g.matchedChars.length),c.length===0)return m===e.length-1?{match:!0,matchedChars:t}:{partialMatch:!0}}else{if(g.partialMatch)return{partialMatch:!0};throw new Error(`Unsupported match result:
`.concat(JSON.stringify(g,null,2)))}}else return;m++}return n?{overflow:!0}:{match:!0,matchedChars:t.slice(0,t.length-c.length)}}switch(e.op){case"|":for(var r,a=oM(e.args),v;!(v=a()).done;){var h=v.value,u=hC(t,h,n);if(u){if(u.overflow)return u;if(u.match)return{match:!0,matchedChars:u.matchedChars};if(u.partialMatch)r=!0;else throw new Error(`Unsupported match result:
`.concat(JSON.stringify(u,null,2)))}}return r?{partialMatch:!0}:void 0;case"[]":for(var l=oM(e.args),o;!(o=l()).done;){var d=o.value;if(t[0]===d)return t.length===1?{match:!0,matchedChars:t}:n?{overflow:!0}:{match:!0,matchedChars:[d]}}return;default:throw new Error("Unsupported instruction tree: ".concat(e))}}function sm(t){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sm(t)}function uM(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=Kue(t))||e){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kue(t,e){if(t){if(typeof t=="string")return cM(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cM(t,e):void 0}}function cM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function Zue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jue(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Que(i.key),i)}}function _ue(t,e,n){return e&&Jue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Que(t){var e=que(t,"string");return sm(e)=="symbol"?e:e+""}function que(t,e){if(sm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(sm(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dC="9",ece=15,tce=j2(dC,ece),nce=/[- ]/,rce=function(){return/\[([^\[\]])*\]/g},ice=function(){return/\d(?=[^,}][^,}])/g},sce=new RegExp("["+lo+"]*\\$1["+lo+"]*(\\$\\d["+lo+"]*)*$"),hM=3,ace=(function(){function t(e){e.state;var n=e.metadata;Zue(this,t),this.metadata=n,this.resetFormat()}return _ue(t,[{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.nationalNumberTemplate=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"reset",value:function(n,i){this.resetFormat(),n?(this.isNANP=n.callingCode()==="1",this.matchingFormats=n.formats(),i.nationalSignificantNumber&&this.narrowDownMatchingFormats(i)):(this.isNANP=void 0,this.matchingFormats=[])}},{key:"format",value:function(n,i){var c=this;if(Rue(i.nationalSignificantNumber,i.country,this.metadata))for(var m=uM(this.matchingFormats),s;!(s=m()).done;){var g=s.value,r=Iue(i,g,{metadata:this.metadata,shouldTryNationalPrefixFormattingRule:function(v){return c.shouldTryNationalPrefixFormattingRule(v,{international:i.international,nationalPrefix:i.nationalPrefix})},getSeparatorAfterNationalPrefix:function(v){return c.getSeparatorAfterNationalPrefix(v)}});if(r)return this.resetFormat(),this.chosenFormat=g,this.setNationalNumberTemplate(r.replace(/\d/g,qa),i),this.populatedNationalNumberTemplate=r,this.populatedNationalNumberTemplatePosition=this.template.lastIndexOf(qa),r}return this.formatNationalNumberWithNextDigits(n,i)}},{key:"formatNationalNumberWithNextDigits",value:function(n,i){var c=this.chosenFormat,m=this.chooseFormat(i);if(m)return m===c?this.formatNextNationalNumberDigits(n):this.formatNextNationalNumberDigits(i.getNationalDigits())}},{key:"narrowDownMatchingFormats",value:function(n){var i=this,c=n.nationalSignificantNumber,m=n.nationalPrefix,s=n.international,g=c,r=g.length-hM;r<0&&(r=0),this.matchingFormats=this.matchingFormats.filter(function(a){return i.formatSuits(a,s,m)&&i.formatMatches(a,g,r)}),this.chosenFormat&&this.matchingFormats.indexOf(this.chosenFormat)===-1&&this.resetFormat()}},{key:"formatSuits",value:function(n,i,c){return!(c&&!n.usesNationalPrefix()&&!n.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!i&&!c&&n.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())}},{key:"formatMatches",value:function(n,i,c){var m=n.leadingDigitsPatterns().length;if(m===0)return!0;c=Math.min(c,m-1);var s=n.leadingDigitsPatterns()[c];if(i.length<hM)try{return new Xue(s).match(i,{allowOverflow:!0})!==void 0}catch(g){return console.error(g),!0}return new RegExp("^(".concat(s,")")).test(i)}},{key:"getFormatFormat",value:function(n,i){return i?n.internationalFormat():n.format()}},{key:"chooseFormat",value:function(n){for(var i=this,c=function(){var a=g.value;return i.chosenFormat===a?0:sce.test(i.getFormatFormat(a,n.international))?i.createTemplateForFormat(a,n)?(i.chosenFormat=a,0):(i.matchingFormats=i.matchingFormats.filter(function(v){return v!==a}),1):1},m,s=uM(this.matchingFormats.slice()),g;!(g=s()).done&&(m=c(),m!==0););return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"createTemplateForFormat",value:function(n,i){if(!(n.pattern().indexOf("|")>=0)){var c=this.getTemplateForFormat(n,i);if(c)return this.setNationalNumberTemplate(c,i),!0}}},{key:"getSeparatorAfterNationalPrefix",value:function(n){return this.isNANP||n&&n.nationalPrefixFormattingRule()&&nce.test(n.nationalPrefixFormattingRule())?" ":""}},{key:"getInternationalPrefixBeforeCountryCallingCode",value:function(n,i){var c=n.IDDPrefix,m=n.missingPlus;return c?i&&i.spacing===!1?c:c+" ":m?"":"+"}},{key:"getTemplate",value:function(n){if(this.template){for(var i=-1,c=0,m=n.international?this.getInternationalPrefixBeforeCountryCallingCode(n,{spacing:!1}):"";c<m.length+n.getDigitsWithoutInternationalPrefix().length;)i=this.template.indexOf(qa,i+1),c++;return sM(this.template,i+1)}}},{key:"setNationalNumberTemplate",value:function(n,i){this.nationalNumberTemplate=n,this.populatedNationalNumberTemplate=n,this.populatedNationalNumberTemplatePosition=-1,i.international?this.template=this.getInternationalPrefixBeforeCountryCallingCode(i).replace(/[\d\+]/g,qa)+j2(qa,i.callingCode.length)+" "+n:this.template=n}},{key:"getTemplateForFormat",value:function(n,i){var c=i.nationalSignificantNumber,m=i.international,s=i.nationalPrefix,g=i.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix,r=n.pattern();r=r.replace(rce(),"\\d").replace(ice(),"\\d");var a=tce.match(r)[0];if(!(c.length>a.length)){var v=new RegExp("^"+r+"$"),h=c.replace(/\d/g,dC);v.test(h)&&(a=h);var u=this.getFormatFormat(n,m),l;if(this.shouldTryNationalPrefixFormattingRule(n,{international:m,nationalPrefix:s})){var o=u.replace(Az,n.nationalPrefixFormattingRule());if(Aw(n.nationalPrefixFormattingRule())===(s||"")+Aw("$1")&&(u=o,l=!0,s))for(var d=s.length;d>0;)u=u.replace(/\d/,qa),d--}var p=a.replace(new RegExp(r),u).replace(new RegExp(dC,"g"),qa);return l||(g?p=j2(qa,g.length)+" "+p:s&&(p=j2(qa,s.length)+this.getSeparatorAfterNationalPrefix(n)+p)),m&&(p=Tz(p)),p}}},{key:"formatNextNationalNumberDigits",value:function(n){var i=Pue(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition,n);if(!i){this.resetFormat();return}return this.populatedNationalNumberTemplate=i[0],this.populatedNationalNumberTemplatePosition=i[1],sM(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1)}},{key:"shouldTryNationalPrefixFormattingRule",value:function(n,i){var c=i.international,m=i.nationalPrefix;if(n.nationalPrefixFormattingRule()){var s=n.usesNationalPrefix();if(s&&m||!s&&!c)return!0}}}])})();function am(t){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},am(t)}function $z(t,e){return cce(t)||uce(t,e)||lce(t,e)||oce()}function oce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lce(t,e){if(t){if(typeof t=="string")return dM(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dM(t,e):void 0}}function dM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function uce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,c,m,s,g=[],r=!0,a=!1;try{if(m=(n=n.call(t)).next,e!==0)for(;!(r=(i=m.call(n)).done)&&(g.push(i.value),g.length!==e);r=!0);}catch(v){a=!0,c=v}finally{try{if(!r&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(a)throw c}}return g}}function cce(t){if(Array.isArray(t))return t}function hce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dce(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,pce(i.key),i)}}function fce(t,e,n){return e&&dce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pce(t){var e=vce(t,"string");return am(e)=="symbol"?e:e+""}function vce(t,e){if(am(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(am(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gce="["+lo+Xi+"]+",mce=new RegExp("^"+gce+"$","i"),yce="(?:["+Zx+"]["+lo+Xi+"]*|["+lo+Xi+"]+)",wce=new RegExp("[^"+lo+Xi+"]+.*$"),xce=/[^\d\[\]]/,bce=(function(){function t(e){var n=e.defaultCountry,i=e.defaultCallingCode,c=e.metadata,m=e.onNationalSignificantNumberChange;hce(this,t),this.defaultCountry=n,this.defaultCallingCode=i,this.metadata=c,this.onNationalSignificantNumberChange=m}return fce(t,[{key:"input",value:function(n,i){var c=Sce(n),m=$z(c,2),s=m[0],g=m[1],r=Aw(s),a;return g&&(i.digits||(i.startInternationalNumber(void 0,void 0),r||(a=!0))),r&&this.inputDigits(r,i),{digits:r,justLeadingPlus:a}}},{key:"inputDigits",value:function(n,i){var c=i.digits,m=c.length<3&&c.length+n.length>=3;if(i.appendDigits(n),m&&this.extractIddPrefix(i),this.isWaitingForCountryCallingCode(i)){if(!this.extractCountryCallingCode(i))return}else i.appendNationalSignificantNumberDigits(n);i.international||this.hasExtractedNationalSignificantNumber||this.extractNationalSignificantNumber(i.getNationalDigits(),function(s){return i.update(s)})}},{key:"isWaitingForCountryCallingCode",value:function(n){var i=n.international,c=n.callingCode;return i&&!c}},{key:"extractCountryCallingCode",value:function(n){var i=R9("+"+n.getDigitsWithoutInternationalPrefix(),n.country,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),c=i.countryCallingCode,m=i.number;if(c)return n.setCallingCode(c),n.update({nationalSignificantNumber:m}),!0}},{key:"reset",value:function(n){if(n){this.hasSelectedNumberingPlan=!0;var i=n._nationalPrefixForParsing();this.couldPossiblyExtractAnotherNationalSignificantNumber=i&&xce.test(i)}else this.hasSelectedNumberingPlan=void 0,this.couldPossiblyExtractAnotherNationalSignificantNumber=void 0}},{key:"extractNationalSignificantNumber",value:function(n,i){if(this.hasSelectedNumberingPlan){var c=sC(n,this.metadata),m=c.nationalPrefix,s=c.nationalNumber,g=c.carrierCode;if(s!==n)return this.onExtractedNationalNumber(m,g,s,n,i),!0}}},{key:"extractAnotherNationalSignificantNumber",value:function(n,i,c){if(!this.hasExtractedNationalSignificantNumber)return this.extractNationalSignificantNumber(n,c);if(this.couldPossiblyExtractAnotherNationalSignificantNumber){var m=sC(n,this.metadata),s=m.nationalPrefix,g=m.nationalNumber,r=m.carrierCode;if(g!==i)return this.onExtractedNationalNumber(s,r,g,n,c),!0}}},{key:"onExtractedNationalNumber",value:function(n,i,c,m,s){var g=!1,r,a=m.lastIndexOf(c);if(a<0||a!==m.length-c.length)g=!0;else{var v=m.slice(0,a);v&&v!==n&&(r=v)}s({nationalPrefix:n,carrierCode:i,nationalSignificantNumber:c,nationalSignificantNumberIsModified:g,prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix:r}),this.hasExtractedNationalSignificantNumber=!0,this.onNationalSignificantNumberChange()}},{key:"reExtractNationalSignificantNumber",value:function(n){if(this.extractAnotherNationalSignificantNumber(n.getNationalDigits(),n.nationalSignificantNumber,function(i){return n.update(i)}))return!0;if(this.extractIddPrefix(n))return this.extractCallingCodeAndNationalSignificantNumber(n),!0;if(this.fixMissingPlus(n))return this.extractCallingCodeAndNationalSignificantNumber(n),!0}},{key:"extractIddPrefix",value:function(n){var i=n.international,c=n.IDDPrefix,m=n.digits;if(n.nationalSignificantNumber,!(i||c)){var s=Ez(m,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);if(s!==void 0&&s!==m)return n.update({IDDPrefix:m.slice(0,m.length-s.length)}),this.startInternationalNumber(n,{country:void 0,callingCode:void 0}),!0}}},{key:"fixMissingPlus",value:function(n){if(!n.international){var i=Sz(n.digits,n.country,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),c=i.countryCallingCode;if(c)return n.update({missingPlus:!0}),this.startInternationalNumber(n,{country:n.country,callingCode:c}),!0}}},{key:"startInternationalNumber",value:function(n,i){var c=i.country,m=i.callingCode;n.startInternationalNumber(c,m),n.nationalSignificantNumber&&(n.resetNationalSignificantNumber(),this.onNationalSignificantNumberChange(),this.hasExtractedNationalSignificantNumber=void 0)}},{key:"extractCallingCodeAndNationalSignificantNumber",value:function(n){this.extractCountryCallingCode(n)&&this.extractNationalSignificantNumber(n.getNationalDigits(),function(i){return n.update(i)})}}])})();function Ece(t){var e=t.search(yce);if(!(e<0)){t=t.slice(e);var n;return t[0]==="+"&&(n=!0,t=t.slice(1)),t=t.replace(wce,""),n&&(t="+"+t),t}}function Cce(t){var e=Ece(t)||"";return e[0]==="+"?[e.slice(1),!0]:[e]}function Sce(t){var e=Cce(t),n=$z(e,2),i=n[0],c=n[1];return mce.test(i)||(i=""),[i,c]}function om(t){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},om(t)}function Tce(t,e){return Rce(t)||Ice(t,e)||Pce(t,e)||Ace()}function Ace(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pce(t,e){if(t){if(typeof t=="string")return fM(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fM(t,e):void 0}}function fM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function Ice(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,c,m,s,g=[],r=!0,a=!1;try{if(m=(n=n.call(t)).next,e!==0)for(;!(r=(i=m.call(n)).done)&&(g.push(i.value),g.length!==e);r=!0);}catch(v){a=!0,c=v}finally{try{if(!r&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(a)throw c}}return g}}function Rce(t){if(Array.isArray(t))return t}function Oce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mce(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Fce(i.key),i)}}function $ce(t,e,n){return e&&Mce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fce(t){var e=Lce(t,"string");return om(e)=="symbol"?e:e+""}function Lce(t,e){if(om(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(om(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fz=(function(){function t(e,n){Oce(this,t),this.metadata=new zr(n);var i=this.getCountryAndCallingCode(e),c=Tce(i,2),m=c[0],s=c[1];this.defaultCountry=m,this.defaultCallingCode=s,this.reset()}return $ce(t,[{key:"getCountryAndCallingCode",value:function(n){var i,c;return n&&(jh(n)?(i=n.defaultCountry,c=n.defaultCallingCode):i=n),i&&!this.metadata.hasCountry(i)&&(i=void 0),[i,c]}},{key:"input",value:function(n){var i=this.parser.input(n,this.state),c=i.digits,m=i.justLeadingPlus;if(m)this.formattedOutput="+";else if(c){this.determineTheCountryIfNeeded(),this.state.nationalSignificantNumber&&this.formatter.narrowDownMatchingFormats(this.state);var s;if(this.metadata.hasSelectedNumberingPlan()&&(s=this.formatter.format(c,this.state)),s===void 0&&this.parser.reExtractNationalSignificantNumber(this.state)){this.determineTheCountryIfNeeded();var g=this.state.getNationalDigits();g&&(s=this.formatter.format(g,this.state))}this.formattedOutput=s?this.getFullNumber(s):this.getNonFormattedNumber()}return this.formattedOutput}},{key:"reset",value:function(){var n=this;return this.state=new Cue({onCountryChange:function(c){n.country=c},onCallingCodeChange:function(c,m){n.metadata.selectNumberingPlan(m,c),n.formatter.reset(n.metadata.numberingPlan,n.state),n.parser.reset(n.metadata.numberingPlan)}}),this.formatter=new ace({state:this.state,metadata:this.metadata}),this.parser=new bce({defaultCountry:this.defaultCountry,defaultCallingCode:this.defaultCallingCode,metadata:this.metadata,state:this.state,onNationalSignificantNumberChange:function(){n.determineTheCountryIfNeeded(),n.formatter.reset(n.metadata.numberingPlan,n.state)}}),this.state.reset({country:this.defaultCountry,callingCode:this.defaultCallingCode}),this.formattedOutput="",this}},{key:"isInternational",value:function(){return this.state.international}},{key:"getCallingCode",value:function(){if(this.isInternational())return this.state.callingCode}},{key:"getCountryCallingCode",value:function(){return this.getCallingCode()}},{key:"getCountry",value:function(){var n=this.state.digits;if(n)return this._getCountry()}},{key:"_getCountry",value:function(){var n=this.state.country;return n}},{key:"determineTheCountryIfNeeded",value:function(){(!this.state.country||this.isCountryCallingCodeAmbiguous())&&this.determineTheCountry()}},{key:"getFullNumber",value:function(n){var i=this;if(this.isInternational()){var c=function(g){return i.formatter.getInternationalPrefixBeforeCountryCallingCode(i.state,{spacing:!!g})+g},m=this.state.callingCode;return c(m?n?"".concat(m," ").concat(n):m:"".concat(this.state.getDigitsWithoutInternationalPrefix()))}return n}},{key:"getNonFormattedNationalNumberWithPrefix",value:function(){var n=this.state,i=n.nationalSignificantNumber,c=n.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix,m=n.nationalPrefix,s=i,g=c||m;return g&&(s=g+s),s}},{key:"getNonFormattedNumber",value:function(){var n=this.state.nationalSignificantNumberIsModified;return this.getFullNumber(n?this.state.getNationalDigits():this.getNonFormattedNationalNumberWithPrefix())}},{key:"getNonFormattedTemplate",value:function(){var n=this.getNonFormattedNumber();if(n)return n.replace(/[\+\d]/g,qa)}},{key:"isCountryCallingCodeAmbiguous",value:function(){var n=this.state.callingCode,i=this.metadata.getCountryCodesForCallingCode(n);return i&&i.length>1}},{key:"determineTheCountry",value:function(){this.state.setCountry(I9(this.isInternational()?this.state.callingCode:this.defaultCallingCode,{nationalNumber:this.state.nationalSignificantNumber,metadata:this.metadata}))}},{key:"getNumberValue",value:function(){var n=this.state,i=n.digits,c=n.callingCode,m=n.country,s=n.nationalSignificantNumber;if(i){if(this.isInternational())return c?"+"+c+s:"+"+i;if(m||c){var g=m?this.metadata.countryCallingCode():c;return"+"+g+s}}}},{key:"getNumber",value:function(){var n=this.state,i=n.nationalSignificantNumber,c=n.carrierCode,m=n.callingCode,s=this._getCountry();if(i&&!(!s&&!m)){if(s&&s===this.defaultCountry){var g=new zr(this.metadata.metadata);g.selectNumberingPlan(s);var r=g.numberingPlan.callingCode(),a=this.metadata.getCountryCodesForCallingCode(r);if(a.length>1){var v=Cz(i,{countries:a,metadata:this.metadata.metadata});v&&(s=v)}}var h=new O9(s||m,i,this.metadata.metadata);return c&&(h.carrierCode=c),h}}},{key:"isPossible",value:function(){var n=this.getNumber();return n?n.isPossible():!1}},{key:"isValid",value:function(){var n=this.getNumber();return n?n.isValid():!1}},{key:"getNationalNumber",value:function(){return this.state.nationalSignificantNumber}},{key:"getChars",value:function(){return(this.state.international?"+":"")+this.state.digits}},{key:"getTemplate",value:function(){return this.formatter.getTemplate(this.state)||this.getNonFormattedTemplate()||""}}])})();function Dce(t){return new zr(t).getCountries()}function Nce(t,e,n){if(e[t])return new O9(t,e[t],n)}function Jx(t,{method:e}){const n={};return t.transport.type==="fallback"&&t.transport.onResponse?.(({method:i,response:c,status:m,transport:s})=>{m==="success"&&e===i&&(n[c]=s.request)}),(i=>n[i]||t.request)}async function Lz(t,e){const{address:n,abi:i,args:c,eventName:m,fromBlock:s,strict:g,toBlock:r}=e,a=Jx(t,{method:"eth_newFilter"}),v=m?Vm({abi:i,args:c,eventName:m}):void 0,h=await t.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof s=="bigint"?bt(s):s,toBlock:typeof r=="bigint"?bt(r):r,topics:v}]});return{abi:i,args:c,eventName:m,id:h,request:a(h),strict:!!g,type:"event"}}class kce extends Ne{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class $9 extends Ne{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class Bce extends Ne{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${ys(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class Dz extends Ne{constructor({blockHash:e,blockNumber:n}){let i="Block";e&&(i=`Block at hash "${e}"`),n&&(i=`Block at number "${n}"`),super(`${i} could not be found.`,{name:"BlockNotFoundError"})}}async function sl(t,{blockHash:e,blockNumber:n,blockTag:i=t.experimental_blockTag??"latest",includeTransactions:c}={}){const m=c??!1,s=n!==void 0?bt(n):void 0;let g=null;if(e?g=await t.request({method:"eth_getBlockByHash",params:[e,m]},{dedupe:!0}):g=await t.request({method:"eth_getBlockByNumber",params:[s||i,m]},{dedupe:!!s}),!g)throw new Dz({blockHash:e,blockNumber:n});return(t.chain?.formatters?.block?.format||kj)(g,"getBlock")}async function F9(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function Uce(t,e){return Nz(t,e)}async function Nz(t,e){const{block:n,chain:i=t.chain,request:c}=e||{};try{const m=i?.fees?.maxPriorityFeePerGas??i?.fees?.defaultPriorityFee;if(typeof m=="function"){const g=n||await yt(t,sl,"getBlock")({}),r=await m({block:g,client:t,request:c});if(r===null)throw new Error;return r}if(typeof m<"u")return m;const s=await t.request({method:"eth_maxPriorityFeePerGas"});return _s(s)}catch{const[m,s]=await Promise.all([n?Promise.resolve(n):yt(t,sl,"getBlock")({}),yt(t,F9,"getGasPrice")({})]);if(typeof m.baseFeePerGas!="bigint")throw new $9;const g=s-m.baseFeePerGas;return g<0n?0n:g}}async function jce(t,e){return fC(t,e)}async function fC(t,e){const{block:n,chain:i=t.chain,request:c,type:m="eip1559"}=e||{},s=await(async()=>typeof i?.fees?.baseFeeMultiplier=="function"?i.fees.baseFeeMultiplier({block:n,client:t,request:c}):i?.fees?.baseFeeMultiplier??1.2)();if(s<1)throw new kce;const r=10**(s.toString().split(".")[1]?.length??0),a=u=>u*BigInt(Math.ceil(s*r))/BigInt(r),v=n||await yt(t,sl,"getBlock")({});if(typeof i?.fees?.estimateFeesPerGas=="function"){const u=await i.fees.estimateFeesPerGas({block:n,client:t,multiply:a,request:c,type:m});if(u!==null)return u}if(m==="eip1559"){if(typeof v.baseFeePerGas!="bigint")throw new $9;const u=typeof c?.maxPriorityFeePerGas=="bigint"?c.maxPriorityFeePerGas:await Nz(t,{block:v,chain:i,request:c}),l=a(v.baseFeePerGas);return{maxFeePerGas:c?.maxFeePerGas??l+u,maxPriorityFeePerGas:u}}return{gasPrice:c?.gasPrice??a(await yt(t,F9,"getGasPrice")({}))}}async function wd(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return po(e)}const L9=["blobVersionedHashes","chainId","fees","gas","nonce","type"],pM=new Map;async function Qm(t,e){const{account:n=t.account,blobs:i,chain:c,gas:m,kzg:s,nonce:g,nonceManager:r,parameters:a=L9,type:v}=e,h=n&&or(n),u={...e,...h?{from:h?.address}:{}};let l;async function o(){return l||(l=await yt(t,sl,"getBlock")({blockTag:"latest"}),l)}let d;async function p(){return d||(c?c.id:typeof e.chainId<"u"?e.chainId:(d=await yt(t,wd,"getChainId")({}),d))}if(a.includes("nonce")&&typeof g>"u"&&h)if(r){const f=await p();u.nonce=await r.consume({address:h.address,chainId:f,client:t})}else u.nonce=await yt(t,m9,"getTransactionCount")({address:h.address,blockTag:"pending"});if((a.includes("blobVersionedHashes")||a.includes("sidecars"))&&i&&s){const f=ij({blobs:i,kzg:s});if(a.includes("blobVersionedHashes")){const y=vre({commitments:f,to:"hex"});u.blobVersionedHashes=y}if(a.includes("sidecars")){const y=sj({blobs:i,commitments:f,kzg:s}),w=wre({blobs:i,commitments:f,proofs:y,to:"hex"});u.sidecars=w}}if(a.includes("chainId")&&(u.chainId=await p()),(a.includes("fees")||a.includes("type"))&&typeof v>"u")try{u.type=Cre(u)}catch{let f=pM.get(t.uid);typeof f>"u"&&(f=typeof(await o())?.baseFeePerGas=="bigint",pM.set(t.uid,f)),u.type=f?"eip1559":"legacy"}if(a.includes("fees"))if(u.type!=="legacy"&&u.type!=="eip2930"){if(typeof u.maxFeePerGas>"u"||typeof u.maxPriorityFeePerGas>"u"){const f=await o(),{maxFeePerGas:y,maxPriorityFeePerGas:w}=await fC(t,{block:f,chain:c,request:u});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<w)throw new Bce({maxPriorityFeePerGas:w});u.maxPriorityFeePerGas=w,u.maxFeePerGas=y}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new $9;if(typeof e.gasPrice>"u"){const f=await o(),{gasPrice:y}=await fC(t,{block:f,chain:c,request:u,type:"legacy"});u.gasPrice=y}}return a.includes("gas")&&typeof m>"u"&&(u.gas=await yt(t,D9,"estimateGas")({...u,account:h,prepare:h?.type==="local"?[]:["blobVersionedHashes"]})),Mc(u),delete u.parameters,u}async function D9(t,e){const{account:n=t.account,prepare:i=!0}=e,c=n?or(n):void 0,m=(()=>{if(Array.isArray(i))return i;if(c?.type!=="local")return["blobVersionedHashes"]})();try{const{accessList:s,authorizationList:g,blobs:r,blobVersionedHashes:a,blockNumber:v,blockTag:h,data:u,gas:l,gasPrice:o,maxFeePerBlobGas:d,maxFeePerGas:p,maxPriorityFeePerGas:f,nonce:y,value:w,stateOverride:x,...b}=i?await Qm(t,{...e,parameters:m}):e,C=(typeof v=="bigint"?bt(v):void 0)||h,T=p9(x),S=await(async()=>{if(b.to)return b.to;if(g&&g.length>0)return await Nx({authorization:g[0]}).catch(()=>{throw new Ne("`to` is required. Could not infer from `authorizationList`")})})();Mc(e);const A=t.chain?.formatters?.transactionRequest?.format,R=(A||yd)({..._m(b,{format:A}),account:c,accessList:s,authorizationList:g,blobs:r,blobVersionedHashes:a,data:u,gas:l,gasPrice:o,maxFeePerBlobGas:d,maxFeePerGas:p,maxPriorityFeePerGas:f,nonce:y,to:S,value:w},"estimateGas");return BigInt(await t.request({method:"eth_estimateGas",params:T?[R,C??t.experimental_blockTag??"latest",T]:C?[R,C]:[R]}))}catch(s){throw Rie(s,{...e,account:c,chain:t.chain})}}async function zce(t,e){const{abi:n,address:i,args:c,functionName:m,dataSuffix:s,...g}=e,r=Es({abi:n,args:c,functionName:m});try{return await yt(t,D9,"estimateGas")({data:`${r}${s?s.replace("0x",""):""}`,to:i,...g})}catch(a){const v=g.account?or(g.account):void 0;throw qh(a,{abi:n,address:i,args:c,docsPath:"/docs/contract/estimateContractGas",functionName:m,sender:v?.address})}}async function N9(t,{address:e,blockHash:n,fromBlock:i,toBlock:c,event:m,events:s,args:g,strict:r}={}){const a=r??!1,v=s??(m?[m]:void 0);let h=[];v&&(h=[v.flatMap(d=>Vm({abi:[d],eventName:d.name,args:s?void 0:g}))],m&&(h=h[0]));let u;n?u=await t.request({method:"eth_getLogs",params:[{address:e,topics:h,blockHash:n}]}):u=await t.request({method:"eth_getLogs",params:[{address:e,topics:h,fromBlock:typeof i=="bigint"?bt(i):i,toBlock:typeof c=="bigint"?bt(c):c}]});const l=u.map(o=>du(o));return v?i9({abi:v,args:g,logs:l,strict:a}):l}async function kz(t,e){const{abi:n,address:i,args:c,blockHash:m,eventName:s,fromBlock:g,toBlock:r,strict:a}=e,v=s?vd({abi:n,name:s}):void 0,h=v?void 0:n.filter(u=>u.type==="event");return yt(t,N9,"getLogs")({address:i,args:c,blockHash:m,event:v,events:h,fromBlock:g,toBlock:r,strict:a})}async function wo(t,e){const{abi:n,address:i,args:c,functionName:m,...s}=e,g=Es({abi:n,args:c,functionName:m});try{const{data:r}=await yt(t,Wx,"call")({...s,data:g,to:i});return gd({abi:n,args:c,functionName:m,data:r||"0x"})}catch(r){throw qh(r,{abi:n,address:i,args:c,docsPath:"/docs/contract/readContract",functionName:m})}}async function Wce(t,e){const{abi:n,address:i,args:c,dataSuffix:m,functionName:s,...g}=e,r=g.account?or(g.account):t.account,a=Es({abi:n,args:c,functionName:s});try{const{data:v}=await yt(t,Wx,"call")({batch:!1,data:`${a}${m?m.replace("0x",""):""}`,to:i,...g,account:r}),h=gd({abi:n,args:c,functionName:s,data:v||"0x"}),u=n.filter(l=>"name"in l&&l.name===e.functionName);return{result:h,request:{abi:u,address:i,args:c,dataSuffix:m,functionName:s,...g,account:r}}}catch(v){throw qh(v,{abi:n,address:i,args:c,docsPath:"/docs/contract/simulateContract",functionName:s,sender:r?.address})}}const N4=new Map,vM=new Map;let Gce=0;function pu(t,e,n){const i=++Gce,c=()=>N4.get(t)||[],m=()=>{const v=c();N4.set(t,v.filter(h=>h.id!==i))},s=()=>{const v=c();if(!v.some(u=>u.id===i))return;const h=vM.get(t);if(v.length===1&&h){const u=h();u instanceof Promise&&u.catch(()=>{})}m()},g=c();if(N4.set(t,[...g,{id:i,fns:e}]),g&&g.length>0)return s;const r={};for(const v in e)r[v]=((...h)=>{const u=c();if(u.length!==0)for(const l of u)l.fns[v]?.(...h)});const a=n(r);return typeof a=="function"&&vM.set(t,a),s}function h0(t,{emitOnBegin:e,initialWaitTime:n,interval:i}){let c=!0;const m=()=>c=!1;return(async()=>{let g;e&&(g=await t({unpoll:m}));const r=await n?.(g)??i;await X8(r);const a=async()=>{c&&(await t({unpoll:m}),await X8(i),a())};a()})(),m}const Vce=new Map,Hce=new Map;function Yce(t){const e=(c,m)=>({clear:()=>m.delete(c),get:()=>m.get(c),set:s=>m.set(c,s)}),n=e(t,Vce),i=e(t,Hce);return{clear:()=>{n.clear(),i.clear()},promise:n,response:i}}async function Xce(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const i=Yce(e),c=i.response.get();if(c&&n>0&&Date.now()-c.created.getTime()<n)return c.data;let m=i.promise.get();m||(m=t(),i.promise.set(m));try{const s=await m;return i.response.set({created:new Date,data:s}),s}finally{i.promise.clear()}}const Kce=t=>`blockNumber.${t}`;async function qm(t,{cacheTime:e=t.cacheTime}={}){const n=await Xce(()=>t.request({method:"eth_blockNumber"}),{cacheKey:Kce(t.uid),cacheTime:e});return BigInt(n)}async function _x(t,{filter:e}){const n="strict"in e&&e.strict,i=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof i[0]=="string")return i;const c=i.map(m=>du(m));return!("abi"in e)||!e.abi?c:i9({abi:e.abi,logs:c,strict:n})}async function Qx(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function Zce(t,e){const{abi:n,address:i,args:c,batch:m=!0,eventName:s,fromBlock:g,onError:r,onLogs:a,poll:v,pollingInterval:h=t.pollingInterval,strict:u}=e;return(typeof v<"u"?v:typeof g=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")))?(()=>{const p=u??!1,f=Ur(["watchContractEvent",i,c,m,t.uid,s,h,p,g]);return pu(f,{onLogs:a,onError:r},y=>{let w;g!==void 0&&(w=g-1n);let x,b=!1;const E=h0(async()=>{if(!b){try{x=await yt(t,Lz,"createContractEventFilter")({abi:n,address:i,args:c,eventName:s,strict:p,fromBlock:g})}catch{}b=!0;return}try{let C;if(x)C=await yt(t,_x,"getFilterChanges")({filter:x});else{const T=await yt(t,qm,"getBlockNumber")({});w&&w<T?C=await yt(t,kz,"getContractEvents")({abi:n,address:i,args:c,eventName:s,fromBlock:w+1n,toBlock:T,strict:p}):C=[],w=T}if(C.length===0)return;if(m)y.onLogs(C);else for(const T of C)y.onLogs([T])}catch(C){x&&C instanceof Jh&&(b=!1),y.onError?.(C)}},{emitOnBegin:!0,interval:h});return async()=>{x&&await yt(t,Qx,"uninstallFilter")({filter:x}),E()}})})():(()=>{const p=u??!1,f=Ur(["watchContractEvent",i,c,m,t.uid,s,h,p]);let y=!0,w=()=>y=!1;return pu(f,{onLogs:a,onError:r},x=>((async()=>{try{const b=(()=>{if(t.transport.type==="fallback"){const T=t.transport.transports.find(S=>S.config.type==="webSocket"||S.config.type==="ipc");return T?T.value:t.transport}return t.transport})(),E=s?Vm({abi:n,eventName:s,args:c}):[],{unsubscribe:C}=await b.subscribe({params:["logs",{address:i,topics:E}],onData(T){if(!y)return;const S=T.result;try{const{eventName:A,args:P}=r9({abi:n,data:S.data,topics:S.topics,strict:u}),R=du(S,{args:P,eventName:A});x.onLogs([R])}catch(A){let P,R;if(A instanceof Ag||A instanceof Fx){if(u)return;P=A.abiItem.name,R=A.abiItem.inputs?.some(D=>!("name"in D&&D.name))}const L=du(S,{args:R?[]:{},eventName:P});x.onLogs([L])}},onError(T){x.onError?.(T)}});w=C,y||w()}catch(b){r?.(b)}})(),()=>w()))})()}class $c extends Ne{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class zh extends Ne{constructor({docsPath:e,metaMessages:n,type:i}){super(`Account type "${i}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}async function k9(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const k4=new jm(128);async function qx(t,e){const{account:n=t.account,chain:i=t.chain,accessList:c,authorizationList:m,blobs:s,data:g,gas:r,gasPrice:a,maxFeePerBlobGas:v,maxFeePerGas:h,maxPriorityFeePerGas:u,nonce:l,type:o,value:d,...p}=e;if(typeof n>"u")throw new $c({docsPath:"/docs/actions/wallet/sendTransaction"});const f=n?or(n):null;try{Mc(e);const y=await(async()=>{if(e.to)return e.to;if(e.to!==null&&m&&m.length>0)return await Nx({authorization:m[0]}).catch(()=>{throw new Ne("`to` is required. Could not infer from `authorizationList`.")})})();if(f?.type==="json-rpc"||f===null){let w;i!==null&&(w=await yt(t,wd,"getChainId")({}),v9({currentChainId:w,chain:i}));const x=t.chain?.formatters?.transactionRequest?.format,E=(x||yd)({..._m(p,{format:x}),accessList:c,account:f,authorizationList:m,blobs:s,chainId:w,data:g,gas:r,gasPrice:a,maxFeePerBlobGas:v,maxFeePerGas:h,maxPriorityFeePerGas:u,nonce:l,to:y,type:o,value:d},"sendTransaction"),C=k4.get(t.uid),T=C?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:T,params:[E]},{retryCount:0})}catch(S){if(C===!1)throw S;const A=S;if(A.name==="InvalidInputRpcError"||A.name==="InvalidParamsRpcError"||A.name==="MethodNotFoundRpcError"||A.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[E]},{retryCount:0}).then(P=>(k4.set(t.uid,!0),P)).catch(P=>{const R=P;throw R.name==="MethodNotFoundRpcError"||R.name==="MethodNotSupportedRpcError"?(k4.set(t.uid,!1),A):R});throw A}}if(f?.type==="local"){const w=await yt(t,Qm,"prepareTransactionRequest")({account:f,accessList:c,authorizationList:m,blobs:s,chain:i,data:g,gas:r,gasPrice:a,maxFeePerBlobGas:v,maxFeePerGas:h,maxPriorityFeePerGas:u,nonce:l,nonceManager:f.nonceManager,parameters:[...L9,"sidecars"],type:o,value:d,...p,to:y}),x=i?.serializers?.transaction,b=await f.signTransaction(w,{serializer:x});return await yt(t,k9,"sendRawTransaction")({serializedTransaction:b})}throw f?.type==="smart"?new zh({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new zh({docsPath:"/docs/actions/wallet/sendTransaction",type:f?.type})}catch(y){throw y instanceof zh?y:g9(y,{...e,account:f,chain:e.chain||void 0})}}async function lm(t,e){return lm.internal(t,qx,"sendTransaction",e)}(function(t){async function e(n,i,c,m){const{abi:s,account:g=n.account,address:r,args:a,dataSuffix:v,functionName:h,...u}=m;if(typeof g>"u")throw new $c({docsPath:"/docs/contract/writeContract"});const l=g?or(g):null,o=Es({abi:s,args:a,functionName:h});try{return await yt(n,i,c)({data:`${o}${v?v.replace("0x",""):""}`,to:r,account:l,...u})}catch(d){throw qh(d,{abi:s,address:r,args:a,docsPath:"/docs/contract/writeContract",functionName:h,sender:l?.address})}}t.internal=e})(lm||(lm={}));class Jce extends Ne{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}const Bz="0x5792579257925792579257925792579257925792579257925792579257925792",Uz=bt(0,{size:32});async function jz(t,e){const{account:n=t.account,capabilities:i,chain:c=t.chain,experimental_fallback:m,experimental_fallbackDelay:s=32,forceAtomic:g=!1,id:r,version:a="2.0.0"}=e,v=n?or(n):null,h=e.calls.map(u=>{const l=u,o=l.abi?Es({abi:l.abi,functionName:l.functionName,args:l.args}):l.data;return{data:l.dataSuffix&&o?Ia([o,l.dataSuffix]):o,to:l.to,value:l.value?bt(l.value):void 0}});try{const u=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:g,calls:h,capabilities:i,chainId:bt(c.id),from:v?.address,id:r,version:a}]},{retryCount:0});return typeof u=="string"?{id:u}:u}catch(u){const l=u;if(m&&(l.name==="MethodNotFoundRpcError"||l.name==="MethodNotSupportedRpcError"||l.name==="UnknownRpcError"||l.details.toLowerCase().includes("does not exist / is not available")||l.details.toLowerCase().includes("missing or invalid. request()")||l.details.toLowerCase().includes("did not match any variant of untagged enum")||l.details.toLowerCase().includes("account upgraded to unsupported contract")||l.details.toLowerCase().includes("eip-7702 not supported")||l.details.toLowerCase().includes("unsupported wc_ method")||l.details.toLowerCase().includes("feature toggled misconfigured")||l.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(i&&Object.values(i).some(y=>!y.optional)){const y="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new Up(new Ne(y,{details:y}))}if(g&&h.length>1){const f="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new jp(new Ne(f,{details:f}))}const o=[];for(const f of h){const y=qx(t,{account:v,chain:c,data:f.data,to:f.to,value:f.value?_s(f.value):void 0});o.push(y),s>0&&await new Promise(w=>setTimeout(w,s))}const d=await Promise.allSettled(o);if(d.every(f=>f.status==="rejected"))throw d[0].reason;const p=d.map(f=>f.status==="fulfilled"?f.value:Uz);return{id:Ia([...p,bt(c.id,{size:32}),Bz])}}throw g9(u,{...e,account:v,chain:e.chain})}}async function zz(t,e){async function n(v){if(v.endsWith(Bz.slice(2))){const u=su(D8(v,-64,-32)),l=D8(v,0,-64).slice(2).match(/.{1,64}/g),o=await Promise.all(l.map(p=>Uz.slice(2)!==p?t.request({method:"eth_getTransactionReceipt",params:[`0x${p}`]},{dedupe:!0}):void 0)),d=o.some(p=>p===null)?100:o.every(p=>p?.status==="0x1")?200:o.every(p=>p?.status==="0x0")?500:600;return{atomic:!1,chainId:po(u),receipts:o.filter(Boolean),status:d,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[v]})}const{atomic:i=!1,chainId:c,receipts:m,version:s="2.0.0",...g}=await n(e.id),[r,a]=(()=>{const v=g.status;return v>=100&&v<200?["pending",v]:v>=200&&v<300?["success",v]:v>=300&&v<700?["failure",v]:v==="CONFIRMED"?["success",200]:v==="PENDING"?["pending",100]:[void 0,v]})();return{...g,atomic:i,chainId:c?po(c):void 0,receipts:m?.map(v=>({...v,blockNumber:_s(v.blockNumber),gasUsed:_s(v.gasUsed),status:Bj[v.status]}))??[],statusCode:a,status:r,version:s}}async function Wz(t,e){const{id:n,pollingInterval:i=t.pollingInterval,status:c=({statusCode:d})=>d===200||d>=300,retryCount:m=4,retryDelay:s=({count:d})=>~~(1<<d)*200,timeout:g=6e4,throwOnFailure:r=!1}=e,a=Ur(["waitForCallsStatus",t.uid,n]),{promise:v,resolve:h,reject:u}=f9();let l;const o=pu(a,{resolve:h,reject:u},d=>{const p=h0(async()=>{const f=y=>{clearTimeout(l),p(),y(),o()};try{const y=await bw(async()=>{const w=await yt(t,zz,"getCallsStatus")({id:n});if(r&&w.status==="failure")throw new Jce(w);return w},{retryCount:m,delay:s});if(!c(y))return;f(()=>d.resolve(y))}catch(y){f(()=>d.reject(y))}},{interval:i,emitOnBegin:!0});return p});return l=g?setTimeout(()=>{o(),clearTimeout(l),u(new _ce({id:n}))},g):void 0,await v}class _ce extends Ne{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const pC=256;let Uy=pC,jy;function Gz(t=11){if(!jy||Uy+t>pC*2){jy="",Uy=0;for(let e=0;e<pC;e++)jy+=(256+Math.random()*256|0).toString(16).substring(1)}return jy.substring(Uy,Uy+++t)}function Vz(t){const{batch:e,chain:n,ccipRead:i,key:c="base",name:m="Base Client",type:s="base"}=t,g=t.experimental_blockTag??(typeof n?.experimental_preconfirmationTime=="number"?"pending":void 0),r=n?.blockTime??12e3,a=Math.min(Math.max(Math.floor(r/2),500),4e3),v=t.pollingInterval??a,h=t.cacheTime??v,u=t.account?or(t.account):void 0,{config:l,request:o,value:d}=t.transport({chain:n,pollingInterval:v}),p={...l,...d},f={account:u,batch:e,cacheTime:h,ccipRead:i,chain:n,key:c,name:m,pollingInterval:v,request:o,transport:p,type:s,uid:Gz(),...g?{experimental_blockTag:g}:{}};function y(w){return x=>{const b=x(w);for(const C in f)delete b[C];const E={...w,...b};return Object.assign(E,{extend:y(E)})}}return Object.assign(f,{extend:y(f)})}function B9(t){if(!(t instanceof Ne))return!1;const e=t.walk(n=>n instanceof _8);return e instanceof _8?e.data?.errorName==="HttpError"||e.data?.errorName==="ResolverError"||e.data?.errorName==="ResolverNotContract"||e.data?.errorName==="ResolverNotFound"||e.data?.errorName==="ReverseAddressMismatch"||e.data?.errorName==="UnsupportedResolverProfile":!1}function Hz(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return Li(e)?e:null}function vC(t){let e=new Uint8Array(32).fill(0);if(!t)return jr(e);const n=t.split(".");for(let i=n.length-1;i>=0;i-=1){const c=Hz(n[i]),m=c?o0(c):pi(Bh(n[i]),"bytes");e=pi(Ia([e,m]),"bytes")}return jr(e)}function Qce(t){return`[${t.slice(2)}]`}function qce(t){const e=new Uint8Array(32).fill(0);return t?Hz(t)||pi(Bh(t)):jr(e)}function U9(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(Bh(e).byteLength+2);let i=0;const c=e.split(".");for(let m=0;m<c.length;m++){let s=Bh(c[m]);s.byteLength>255&&(s=Bh(Qce(qce(c[m])))),n[i]=s.length,n.set(s,i+1),i+=s.length+1}return n.byteLength!==i+1?n.slice(0,i+1):n}async function ehe(t,e){const{blockNumber:n,blockTag:i,coinType:c,name:m,gatewayUrls:s,strict:g}=e,{chain:r}=t,a=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!r)throw new Error("client chain not configured. universalResolverAddress is required.");return c0({blockNumber:n,chain:r,contract:"ensUniversalResolver"})})(),v=r?.ensTlds;if(v&&!v.some(u=>m.endsWith(u)))return null;const h=c!=null?[vC(m),BigInt(c)]:[vC(m)];try{const u=Es({abi:yO,functionName:"addr",args:h}),l={address:a,abi:Pj,functionName:"resolveWithGateways",args:[sr(U9(m)),u,s??[Gx]],blockNumber:n,blockTag:i},d=await yt(t,wo,"readContract")(l);if(d[0]==="0x")return null;const p=gd({abi:yO,args:h,functionName:"addr",data:d[0]});return p==="0x"||su(p)==="0x00"?null:p}catch(u){if(g)throw u;if(B9(u))return null;throw u}}class the extends Ne{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class cv extends Ne{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class j9 extends Ne{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class nhe extends Ne{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const rhe=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,ihe=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,she=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,ahe=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function ohe(t){try{const e=await fetch(t,{method:"HEAD"});return e.status===200?e.headers.get("content-type")?.startsWith("image/"):!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const i=new Image;i.onload=()=>{n(!0)},i.onerror=()=>{n(!1)},i.src=t})}}function gM(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function Yz({uri:t,gatewayUrls:e}){const n=she.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const i=gM(e?.ipfs,"https://ipfs.io"),c=gM(e?.arweave,"https://arweave.net"),m=t.match(rhe),{protocol:s,subpath:g,target:r,subtarget:a=""}=m?.groups||{},v=s==="ipns:/"||g==="ipns/",h=s==="ipfs:/"||g==="ipfs/"||ihe.test(t);if(t.startsWith("http")&&!v&&!h){let l=t;return e?.arweave&&(l=t.replace(/https:\/\/arweave.net/g,e?.arweave)),{uri:l,isOnChain:!1,isEncoded:!1}}if((v||h)&&r)return{uri:`${i}/${v?"ipns":"ipfs"}/${r}${a}`,isOnChain:!1,isEncoded:!1};if(s==="ar:/"&&r)return{uri:`${c}/${r}${a||""}`,isOnChain:!1,isEncoded:!1};let u=t.replace(ahe,"");if(u.startsWith("<svg")&&(u=`data:image/svg+xml;base64,${btoa(u)}`),u.startsWith("data:")||u.startsWith("{"))return{uri:u,isOnChain:!0,isEncoded:!1};throw new j9({uri:t})}function Xz(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new the({data:t});return t.image||t.image_url||t.image_data}async function lhe({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(c=>c.json());return await z9({gatewayUrls:t,uri:Xz(n)})}catch{throw new j9({uri:e})}}async function z9({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:i}=Yz({uri:e,gatewayUrls:t});if(i||await ohe(n))return n;throw new j9({uri:e})}function uhe(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[n,i,c]=e.split("/"),[m,s]=n.split(":"),[g,r]=i.split(":");if(!m||m.toLowerCase()!=="eip155")throw new cv({reason:"Only EIP-155 supported"});if(!s)throw new cv({reason:"Chain ID not found"});if(!r)throw new cv({reason:"Contract address not found"});if(!c)throw new cv({reason:"Token ID not found"});if(!g)throw new cv({reason:"ERC namespace not found"});return{chainID:Number.parseInt(s,10),namespace:g.toLowerCase(),contractAddress:r,tokenID:c}}async function che(t,{nft:e}){if(e.namespace==="erc721")return wo(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return wo(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new nhe({namespace:e.namespace})}async function hhe(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?dhe(t,{gatewayUrls:e,record:n}):z9({uri:n,gatewayUrls:e})}async function dhe(t,{gatewayUrls:e,record:n}){const i=uhe(n),c=await che(t,{nft:i}),{uri:m,isOnChain:s,isEncoded:g}=Yz({uri:c,gatewayUrls:e});if(s&&(m.includes("data:application/json;base64,")||m.startsWith("{"))){const a=g?atob(m.replace("data:application/json;base64,","")):m,v=JSON.parse(a);return z9({uri:Xz(v),gatewayUrls:e})}let r=i.tokenID;return i.namespace==="erc1155"&&(r=r.replace("0x","").padStart(64,"0")),lhe({gatewayUrls:e,uri:m.replace(/(?:0x)?{id}/,r)})}async function Kz(t,e){const{blockNumber:n,blockTag:i,key:c,name:m,gatewayUrls:s,strict:g}=e,{chain:r}=t,a=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!r)throw new Error("client chain not configured. universalResolverAddress is required.");return c0({blockNumber:n,chain:r,contract:"ensUniversalResolver"})})(),v=r?.ensTlds;if(v&&!v.some(h=>m.endsWith(h)))return null;try{const h={address:a,abi:Pj,args:[sr(U9(m)),Es({abi:mO,functionName:"text",args:[vC(m),c]}),s??[Gx]],functionName:"resolveWithGateways",blockNumber:n,blockTag:i},l=await yt(t,wo,"readContract")(h);if(l[0]==="0x")return null;const o=gd({abi:mO,functionName:"text",data:l[0]});return o===""?null:o}catch(h){if(g)throw h;if(B9(h))return null;throw h}}async function fhe(t,{blockNumber:e,blockTag:n,assetGatewayUrls:i,name:c,gatewayUrls:m,strict:s,universalResolverAddress:g}){const r=await yt(t,Kz,"getEnsText")({blockNumber:e,blockTag:n,key:"avatar",name:c,universalResolverAddress:g,gatewayUrls:m,strict:s});if(!r)return null;try{return await hhe(t,{record:r,gatewayUrls:i})}catch{return null}}async function phe(t,e){const{address:n,blockNumber:i,blockTag:c,coinType:m=60n,gatewayUrls:s,strict:g}=e,{chain:r}=t,a=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!r)throw new Error("client chain not configured. universalResolverAddress is required.");return c0({blockNumber:i,chain:r,contract:"ensUniversalResolver"})})();try{const v={address:a,abi:uie,args:[n,m,s??[Gx]],functionName:"reverseWithGateways",blockNumber:i,blockTag:c},h=yt(t,wo,"readContract"),[u]=await h(v);return u||null}catch(v){if(g)throw v;if(B9(v))return null;throw v}}async function vhe(t,e){const{blockNumber:n,blockTag:i,name:c}=e,{chain:m}=t,s=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!m)throw new Error("client chain not configured. universalResolverAddress is required.");return c0({blockNumber:n,chain:m,contract:"ensUniversalResolver"})})(),g=m?.ensTlds;if(g&&!g.some(a=>c.endsWith(a)))throw new Error(`${c} is not a valid ENS TLD (${g?.join(", ")}) for chain "${m.name}" (id: ${m.id}).`);const[r]=await yt(t,wo,"readContract")({address:s,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[sr(U9(c))],blockNumber:n,blockTag:i});return r}async function Zz(t,e){const{account:n=t.account,blockNumber:i,blockTag:c="latest",blobs:m,data:s,gas:g,gasPrice:r,maxFeePerBlobGas:a,maxFeePerGas:v,maxPriorityFeePerGas:h,to:u,value:l,...o}=e,d=n?or(n):void 0;try{Mc(e);const f=(typeof i=="bigint"?bt(i):void 0)||c,y=t.chain?.formatters?.transactionRequest?.format,x=(y||yd)({..._m(o,{format:y}),account:d,blobs:m,data:s,gas:g,gasPrice:r,maxFeePerBlobGas:a,maxFeePerGas:v,maxPriorityFeePerGas:h,to:u,value:l},"createAccessList"),b=await t.request({method:"eth_createAccessList",params:[x,f]});return{accessList:b.accessList,gasUsed:BigInt(b.gasUsed)}}catch(p){throw $j(p,{...e,account:d,chain:t.chain})}}async function ghe(t){const e=Jx(t,{method:"eth_newBlockFilter"}),n=await t.request({method:"eth_newBlockFilter"});return{id:n,request:e(n),type:"block"}}async function Jz(t,{address:e,args:n,event:i,events:c,fromBlock:m,strict:s,toBlock:g}={}){const r=c??(i?[i]:void 0),a=Jx(t,{method:"eth_newFilter"});let v=[];r&&(v=[r.flatMap(l=>Vm({abi:[l],eventName:l.name,args:n}))],i&&(v=v[0]));const h=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof m=="bigint"?bt(m):m,toBlock:typeof g=="bigint"?bt(g):g,...v.length?{topics:v}:{}}]});return{abi:r,args:n,eventName:i?i.name:void 0,fromBlock:m,id:h,request:a(h),strict:!!s,toBlock:g,type:"event"}}async function _z(t){const e=Jx(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}async function mhe(t,{address:e,blockNumber:n,blockTag:i=t.experimental_blockTag??"latest"}){const c=typeof n=="bigint"?bt(n):void 0,m=await t.request({method:"eth_getBalance",params:[e,c||i]});return BigInt(m)}async function yhe(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}async function whe(t,{blockHash:e,blockNumber:n,blockTag:i="latest"}={}){const c=n!==void 0?bt(n):void 0;let m;return e?m=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):m=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[c||i]},{dedupe:!!c}),po(m)}async function gC(t,{address:e,blockNumber:n,blockTag:i="latest"}){const c=n!==void 0?bt(n):void 0,m=await t.request({method:"eth_getCode",params:[e,c||i]},{dedupe:!!c});if(m!=="0x")return m}class xhe extends Ne{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function bhe(t,e){const{address:n,factory:i,factoryData:c}=e;try{const[m,s,g,r,a,v,h]=await yt(t,wo,"readContract")({abi:Ehe,address:n,functionName:"eip712Domain",factory:i,factoryData:c});return{domain:{name:s,version:g,chainId:Number(r),verifyingContract:a,salt:v},extensions:h,fields:m}}catch(m){const s=m;throw s.name==="ContractFunctionExecutionError"&&s.cause.name==="ContractFunctionZeroDataError"?new xhe({address:n}):s}}const Ehe=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function Che(t){return{baseFeePerGas:t.baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:t.reward?.map(e=>e.map(n=>BigInt(n)))}}async function She(t,{blockCount:e,blockNumber:n,blockTag:i="latest",rewardPercentiles:c}){const m=typeof n=="bigint"?bt(n):void 0,s=await t.request({method:"eth_feeHistory",params:[bt(e),m||i,c]},{dedupe:!!m});return Che(s)}async function The(t,{filter:e}){const n=e.strict??!1,c=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(m=>du(m));return e.abi?i9({abi:e.abi,logs:c,strict:n}):c}function Ahe(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function Phe(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?po(t.nonce):void 0,storageProof:t.storageProof?Ahe(t.storageProof):void 0}}async function Ihe(t,{address:e,blockNumber:n,blockTag:i,storageKeys:c}){const m=i??"latest",s=n!==void 0?bt(n):void 0,g=await t.request({method:"eth_getProof",params:[e,c,s||m]});return Phe(g)}async function Rhe(t,{address:e,blockNumber:n,blockTag:i="latest",slot:c}){const m=n!==void 0?bt(n):void 0;return await t.request({method:"eth_getStorageAt",params:[e,c,m||i]})}async function W9(t,{blockHash:e,blockNumber:n,blockTag:i,hash:c,index:m}){const s=i||"latest",g=n!==void 0?bt(n):void 0;let r=null;if(c?r=await t.request({method:"eth_getTransactionByHash",params:[c]},{dedupe:!0}):e?r=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,bt(m)]},{dedupe:!0}):r=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[g||s,bt(m)]},{dedupe:!!g}),!r)throw new tj({blockHash:e,blockNumber:n,blockTag:s,hash:c,index:m});return(t.chain?.formatters?.transaction?.format||Nj)(r,"getTransaction")}async function Ohe(t,{hash:e,transactionReceipt:n}){const[i,c]=await Promise.all([yt(t,qm,"getBlockNumber")({}),e?yt(t,W9,"getTransaction")({hash:e}):void 0]),m=n?.blockNumber||c?.blockNumber;return m?i-m+1n:0n}async function z2(t,{hash:e}){const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new nj({hash:e});return(t.chain?.formatters?.transactionReceipt?.format||Uj)(n,"getTransactionReceipt")}async function Mhe(t,e){const{account:n,authorizationList:i,allowFailure:c=!0,blockNumber:m,blockOverrides:s,blockTag:g,stateOverride:r}=e,a=e.contracts,{batchSize:v=e.batchSize??1024,deployless:h=e.deployless??!1}=typeof t.batch?.multicall=="object"?t.batch.multicall:{},u=(()=>{if(e.multicallAddress)return e.multicallAddress;if(h)return null;if(t.chain)return c0({blockNumber:m,chain:t.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),l=[[]];let o=0,d=0;for(let y=0;y<a.length;y++){const{abi:w,address:x,args:b,functionName:E}=a[y];try{const C=Es({abi:w,args:b,functionName:E});d+=(C.length-2)/2,v>0&&d>v&&l[o].length>0&&(o++,d=(C.length-2)/2,l[o]=[]),l[o]=[...l[o],{allowFailure:!0,callData:C,target:x}]}catch(C){const T=qh(C,{abi:w,address:x,args:b,docsPath:"/docs/contract/multicall",functionName:E,sender:n});if(!c)throw T;l[o]=[...l[o],{allowFailure:!0,callData:"0x",target:x}]}}const p=await Promise.allSettled(l.map(y=>yt(t,wo,"readContract")({...u===null?{code:d9}:{address:u},abi:Sw,account:n,args:[y],authorizationList:i,blockNumber:m,blockOverrides:s,blockTag:g,functionName:"aggregate3",stateOverride:r}))),f=[];for(let y=0;y<p.length;y++){const w=p[y];if(w.status==="rejected"){if(!c)throw w.reason;for(let b=0;b<l[y].length;b++)f.push({status:"failure",error:w.reason,result:void 0});continue}const x=w.value;for(let b=0;b<x.length;b++){const{returnData:E,success:C}=x[b],{callData:T}=l[y][b],{abi:S,address:A,functionName:P,args:R}=a[f.length];try{if(T==="0x")throw new Wm;if(!C)throw new jx({data:E});const L=gd({abi:S,args:R,data:E,functionName:P});f.push(c?{result:L,status:"success"}:L)}catch(L){const D=qh(L,{abi:S,address:A,args:R,docsPath:"/docs/contract/multicall",functionName:P});if(!c)throw D;f.push({error:D,result:void 0,status:"failure"})}}}if(f.length!==a.length)throw new Ne("multicall results mismatch");return f}async function mC(t,e){const{blockNumber:n,blockTag:i=t.experimental_blockTag??"latest",blocks:c,returnFullTransactions:m,traceTransfers:s,validation:g}=e;try{const r=[];for(const u of c){const l=u.blockOverrides?Tj(u.blockOverrides):void 0,o=u.calls.map(p=>{const f=p,y=f.account?or(f.account):void 0,w=f.abi?Es(f):f.data,x={...f,account:y,data:f.dataSuffix?Ia([w||"0x",f.dataSuffix]):w,from:f.from??y?.address};return Mc(x),yd(x)}),d=u.stateOverrides?p9(u.stateOverrides):void 0;r.push({blockOverrides:l,calls:o,stateOverrides:d})}const v=(typeof n=="bigint"?bt(n):void 0)||i;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:r,returnFullTransactions:m,traceTransfers:s,validation:g},v]})).map((u,l)=>({...kj(u),calls:u.calls.map((o,d)=>{const{abi:p,args:f,functionName:y,to:w}=c[l].calls[d],x=o.error?.data??o.returnData,b=BigInt(o.gasUsed),E=o.logs?.map(A=>du(A)),C=o.status==="0x1"?"success":"failure",T=p&&C==="success"&&x!=="0x"?gd({abi:p,data:x,functionName:y}):null,S=(()=>{if(C==="success")return;let A;if(o.error?.data==="0x"?A=new Wm:o.error&&(A=new jx(o.error)),!!A)return qh(A,{abi:p??[],address:w??"0x",args:f,functionName:y??"<unknown>"})})();return{data:x,gasUsed:b,logs:E,status:C,...C==="success"?{result:T}:{error:S}}})}))}catch(r){const a=r,v=zx(a,{});throw v instanceof Xm?a:v}}function yC(t){let e=!0,n="",i=0,c="",m=!1;for(let s=0;s<t.length;s++){const g=t[s];if(["(",")",","].includes(g)&&(e=!0),g==="("&&i++,g===")"&&i--,!!e){if(i===0){if(g===" "&&["event","function","error",""].includes(c))c="";else if(c+=g,g===")"){m=!0;break}continue}if(g===" "){t[s-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}c+=g,n+=g}}if(!m)throw new qt("Unable to normalize signature.");return c}function wC(t,e){const n=typeof t,i=e.type;switch(i){case"address":return Q8(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return i==="tuple"&&"components"in e?Object.values(e.components).every((c,m)=>wC(Object.values(t)[m],c)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(i)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(i)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(i)?Array.isArray(t)&&t.every(c=>wC(c,{...e,type:i.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Qz(t,e,n){for(const i in t){const c=t[i],m=e[i];if(c.type==="tuple"&&m.type==="tuple"&&"components"in c&&"components"in m)return Qz(c.components,m.components,n[i]);const s=[c.type,m.type];if(s.includes("address")&&s.includes("bytes20")?!0:s.includes("address")&&s.includes("string")?Q8(n[i],{strict:!1}):s.includes("address")&&s.includes("bytes")?Q8(n[i],{strict:!1}):!1)return s}}function qz(t,e={}){const{prepare:n=!0}=e,i=Array.isArray(t)||typeof t=="string"?GR(t):t;return{...i,...n?{hash:op(i)}:{}}}function e3(t,e,n){const{args:i=[],prepare:c=!0}=n??{},m=sie(e,{strict:!1}),s=t.filter(a=>m?a.type==="function"||a.type==="error"?eW(a)===ul(e,0,4):a.type==="event"?op(a)===e:!1:"name"in a&&a.name===e);if(s.length===0)throw new Pw({name:e});if(s.length===1)return{...s[0],...c?{hash:op(s[0])}:{}};let g;for(const a of s){if(!("inputs"in a))continue;if(!i||i.length===0){if(!a.inputs||a.inputs.length===0)return{...a,...c?{hash:op(a)}:{}};continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==i.length)continue;if(i.every((h,u)=>{const l="inputs"in a&&a.inputs[u];return l?wC(h,l):!1})){if(g&&"inputs"in g&&g.inputs){const h=Qz(a.inputs,g.inputs,i);if(h)throw new Fhe({abiItem:a,type:h[0]},{abiItem:g,type:h[1]})}g=a}}const r=(()=>{if(g)return g;const[a,...v]=s;return{...a,overloads:v}})();if(!r)throw new Pw({name:e});return{...r,...c?{hash:op(r)}:{}}}function eW(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,i]=t;return e3(n,i)}return t[0]})();return ul(op(e),0,4)}function $he(...t){const e=(()=>{if(Array.isArray(t[0])){const[i,c]=t;return e3(i,c)}return t[0]})(),n=typeof e=="string"?e:yw(e);return yC(n)}function op(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,i]=t;return e3(n,i)}return t[0]})();return typeof e!="string"&&"hash"in e&&e.hash?e.hash:Xj(h9($he(e)))}class Fhe extends qt{constructor(e,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${yC(yw(e.abiItem))}\`, and`,`\`${n.type}\` in \`${yC(yw(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class Pw extends qt{constructor({name:e,data:n,type:i="item"}){const c=e?` with name "${e}"`:n?` with data "${n}"`:"";super(`ABI ${i}${c} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function Lhe(...t){const[e,n]=(()=>{if(Array.isArray(t[0])){const[m,s]=t;return[Nhe(m),s]}return t})(),{bytecode:i,args:c}=n;return mo(i,e.inputs?.length&&c?.length?b9(e.inputs,c):"0x")}function Dhe(t){return qz(t)}function Nhe(t){const e=t.find(n=>n.type==="constructor");if(!e)throw new Pw({name:"constructor"});return e}function khe(...t){const[e,n=[]]=(()=>{if(Array.isArray(t[0])){const[a,v,h]=t;return[mM(a,v,{args:h}),h]}const[g,r]=t;return[g,r]})(),{overloads:i}=e,c=i?mM([e,...i],e.name,{args:n}):e,m=Bhe(c),s=n.length>0?b9(c.inputs,n):void 0;return s?mo(m,s):m}function yf(t,e={}){return qz(t,e)}function mM(t,e,n){const i=e3(t,e,n);if(i.type!=="function")throw new Pw({name:e,type:"function"});return i}function Bhe(t){return eW(t)}const Uhe="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Wo="0x0000000000000000000000000000000000000000",jhe="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function zhe(t,e){const{blockNumber:n,blockTag:i,calls:c,stateOverrides:m,traceAssetChanges:s,traceTransfers:g,validation:r}=e,a=e.account?or(e.account):void 0;if(s&&!a)throw new Ne("`account` is required when `traceAssetChanges` is true");const v=a?Lhe(Dhe("constructor(bytes, bytes)"),{bytecode:Rj,args:[jhe,khe(yf("function getBalance(address)"),[a.address])]}):void 0,h=s?await Promise.all(e.calls.map(async k=>{if(!k.data&&!k.abi)return;const{accessList:j}=await Zz(t,{account:a.address,...k,data:k.abi?Es(k):k.data});return j.map(({address:W,storageKeys:G})=>G.length>0?W:null)})).then(k=>k.flat().filter(Boolean)):[],u=await mC(t,{blockNumber:n,blockTag:i,blocks:[...s?[{calls:[{data:v}],stateOverrides:m},{calls:h.map((k,j)=>({abi:[yf("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[a.address],to:k,from:Wo,nonce:j})),stateOverrides:[{address:Wo,nonce:0}]}]:[],{calls:[...c,{}].map(k=>({...k,from:a?.address})),stateOverrides:m},...s?[{calls:[{data:v}]},{calls:h.map((k,j)=>({abi:[yf("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[a.address],to:k,from:Wo,nonce:j})),stateOverrides:[{address:Wo,nonce:0}]},{calls:h.map((k,j)=>({to:k,abi:[yf("function decimals() returns (uint256)")],functionName:"decimals",from:Wo,nonce:j})),stateOverrides:[{address:Wo,nonce:0}]},{calls:h.map((k,j)=>({to:k,abi:[yf("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Wo,nonce:j})),stateOverrides:[{address:Wo,nonce:0}]},{calls:h.map((k,j)=>({to:k,abi:[yf("function symbol() returns (string)")],functionName:"symbol",from:Wo,nonce:j})),stateOverrides:[{address:Wo,nonce:0}]}]:[]],traceTransfers:g,validation:r}),l=s?u[2]:u[0],[o,d,,p,f,y,w,x]=s?u:[],{calls:b,...E}=l,C=b.slice(0,-1)??[],T=o?.calls??[],S=d?.calls??[],A=[...T,...S].map(k=>k.status==="success"?_s(k.data):null),P=p?.calls??[],R=f?.calls??[],L=[...P,...R].map(k=>k.status==="success"?_s(k.data):null),D=(y?.calls??[]).map(k=>k.status==="success"?k.result:null),$=(x?.calls??[]).map(k=>k.status==="success"?k.result:null),F=(w?.calls??[]).map(k=>k.status==="success"?k.result:null),N=[];for(const[k,j]of L.entries()){const W=A[k];if(typeof j!="bigint"||typeof W!="bigint")continue;const G=D[k-1],K=$[k-1],z=F[k-1],X=k===0?{address:Uhe,decimals:18,symbol:"ETH"}:{address:h[k-1],decimals:z||G?Number(G??1):void 0,symbol:K??void 0};N.some(U=>U.token.address===X.address)||N.push({token:X,value:{pre:W,post:j,diff:j-W}})}return{assetChanges:N,block:E,results:C}}const tW="0x6492649264926492649264926492649264926492649264926492649264926492";function Whe(t){if(ul(t,-32)!==tW)throw new Hhe(t)}function Ghe(t){const{data:e,signature:n,to:i}=t;return mo(b9(Jj("address, bytes, bytes"),[i,e,n]),tW)}function Vhe(t){try{return Whe(t),!0}catch{return!1}}class Hhe extends qt{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function Yhe({r:t,s:e,to:n="hex",v:i,yParity:c}){const m=(()=>{if(c===0||c===1)return c;if(i&&(i===27n||i===28n||i>=35n))return i%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),s=`0x${new fz.Signature(_s(t),_s(e)).toCompactHex()}${m===0?"1b":"1c"}`;return n==="hex"?s:vo(s)}async function t3(t,e){const{address:n,hash:i,erc6492VerifierAddress:c=e.universalSignatureVerifierAddress??t.chain?.contracts?.erc6492Verifier?.address,multicallAddress:m=e.multicallAddress??t.chain?.contracts?.multicall3?.address}=e,s=(()=>{const g=e.signature;return Li(g)?g:typeof g=="object"&&"r"in g&&"s"in g?Yhe(g):jr(g)})();try{return aae(s)?await Xhe(t,{...e,multicallAddress:m,signature:s}):await Khe(t,{...e,verifierAddress:c,signature:s})}catch(g){try{if(Hm(Sr(n),await qU({hash:i,signature:s})))return!0}catch{}if(g instanceof ed)return!1;throw g}}async function Xhe(t,e){const{address:n,blockNumber:i,blockTag:c,hash:m,multicallAddress:s}=e,{authorization:g,data:r,signature:a,to:v}=sae(e.signature);if(await gC(t,{address:n,blockNumber:i,blockTag:c})===l0(["0xef0100",g.address]))return await Zhe(t,{address:n,blockNumber:i,blockTag:c,hash:m,signature:a});const u={address:g.address,chainId:Number(g.chainId),nonce:Number(g.nonce),r:bt(g.r,{size:32}),s:bt(g.s,{size:32}),yParity:g.yParity};if(!await Sre({address:n,authorization:u}))throw new ed;const o=await yt(t,wo,"readContract")({...s?{address:s}:{code:d9},authorizationList:[u],abi:Sw,blockNumber:i,blockTag:"pending",functionName:"aggregate3",args:[[...r?[{allowFailure:!0,target:v??n,callData:r}]:[],{allowFailure:!0,target:n,callData:Es({abi:Ij,functionName:"isValidSignature",args:[m,a]})}]]});if(o[o.length-1]?.returnData?.startsWith("0x1626ba7e"))return!0;throw new ed}async function Khe(t,e){const{address:n,factory:i,factoryData:c,hash:m,signature:s,verifierAddress:g,...r}=e,a=await(async()=>!i&&!c||Vhe(s)?s:Ghe({data:c,signature:s,to:i}))(),v=g?{to:g,data:Es({abi:wO,functionName:"isValidSig",args:[n,m,a]}),...r}:{data:Dx({abi:wO,args:[n,m,a],bytecode:die}),...r},{data:h}=await yt(t,Wx,"call")(v).catch(u=>{throw u instanceof Oj?new ed:u});if(Cte(h??"0x0"))return!0;throw new ed}async function Zhe(t,e){const{address:n,blockNumber:i,blockTag:c,hash:m,signature:s}=e;if((await yt(t,wo,"readContract")({address:n,abi:Ij,args:[m,s],blockNumber:i,blockTag:c,functionName:"isValidSignature"}).catch(r=>{throw r instanceof Mj?new ed:r})).startsWith("0x1626ba7e"))return!0;throw new ed}class ed extends Error{}async function Jhe(t,{address:e,message:n,factory:i,factoryData:c,signature:m,...s}){const g=jj(n);return t3(t,{address:e,factory:i,factoryData:c,hash:g,signature:m,...s})}async function _he(t,e){const{address:n,factory:i,factoryData:c,signature:m,message:s,primaryType:g,types:r,domain:a,...v}=e,h=zie({message:s,primaryType:g,types:r,domain:a});return t3(t,{address:n,factory:i,factoryData:c,hash:h,signature:m,...v})}function nW(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:i,onError:c,poll:m,pollingInterval:s=t.pollingInterval}){const g=typeof m<"u"?m:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc"));let r;return g?(()=>{const h=Ur(["watchBlockNumber",t.uid,e,n,s]);return pu(h,{onBlockNumber:i,onError:c},u=>h0(async()=>{try{const l=await yt(t,qm,"getBlockNumber")({cacheTime:0});if(r!==void 0){if(l===r)return;if(l-r>1&&n)for(let o=r+1n;o<l;o++)u.onBlockNumber(o,r),r=o}(r===void 0||l>r)&&(u.onBlockNumber(l,r),r=l)}catch(l){u.onError?.(l)}},{emitOnBegin:e,interval:s}))})():(()=>{const h=Ur(["watchBlockNumber",t.uid,e,n]);return pu(h,{onBlockNumber:i,onError:c},u=>{let l=!0,o=()=>l=!1;return(async()=>{try{const d=(()=>{if(t.transport.type==="fallback"){const f=t.transport.transports.find(y=>y.config.type==="webSocket"||y.config.type==="ipc");return f?f.value:t.transport}return t.transport})(),{unsubscribe:p}=await d.subscribe({params:["newHeads"],onData(f){if(!l)return;const y=_s(f.result?.number);u.onBlockNumber(y,r),r=y},onError(f){u.onError?.(f)}});o=p,l||o()}catch(d){c?.(d)}})(),()=>o()})})()}async function rW(t,e){const{checkReplacement:n=!0,confirmations:i=1,hash:c,onReplaced:m,retryCount:s=6,retryDelay:g=({count:b})=>~~(1<<b)*200,timeout:r=18e4}=e,a=Ur(["waitForTransactionReceipt",t.uid,c]),v=e.pollingInterval?e.pollingInterval:t.chain?.experimental_preconfirmationTime?t.chain.experimental_preconfirmationTime:t.pollingInterval;let h,u,l,o=!1,d,p;const{promise:f,resolve:y,reject:w}=f9(),x=r?setTimeout(()=>{p?.(),d?.(),w(new sre({hash:c}))},r):void 0;return d=pu(a,{onReplaced:m,resolve:y,reject:w},async b=>{if(l=await yt(t,z2,"getTransactionReceipt")({hash:c}).catch(()=>{}),l&&i<=1){clearTimeout(x),b.resolve(l),d?.();return}p=yt(t,nW,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:v,async onBlockNumber(E){const C=S=>{clearTimeout(x),p?.(),S(),d?.()};let T=E;if(!o)try{if(l){if(i>1&&(!l.blockNumber||T-l.blockNumber+1n<i))return;C(()=>b.resolve(l));return}if(n&&!h&&(o=!0,await bw(async()=>{h=await yt(t,W9,"getTransaction")({hash:c}),h.blockNumber&&(T=h.blockNumber)},{delay:g,retryCount:s}),o=!1),l=await yt(t,z2,"getTransactionReceipt")({hash:c}),i>1&&(!l.blockNumber||T-l.blockNumber+1n<i))return;C(()=>b.resolve(l))}catch(S){if(S instanceof tj||S instanceof nj){if(!h){o=!1;return}try{u=h,o=!0;const A=await bw(()=>yt(t,sl,"getBlock")({blockNumber:T,includeTransactions:!0}),{delay:g,retryCount:s,shouldRetry:({error:L})=>L instanceof Dz});o=!1;const P=A.transactions.find(({from:L,nonce:D})=>L===u.from&&D===u.nonce);if(!P||(l=await yt(t,z2,"getTransactionReceipt")({hash:P.hash}),i>1&&(!l.blockNumber||T-l.blockNumber+1n<i)))return;let R="replaced";P.to===u.to&&P.value===u.value&&P.input===u.input?R="repriced":P.from===P.to&&P.value===0n&&(R="cancelled"),C(()=>{b.onReplaced?.({reason:R,replacedTransaction:u,transaction:P,transactionReceipt:l}),b.resolve(l)})}catch(A){C(()=>b.reject(A))}}else C(()=>b.reject(S))}}})}),f}function Qhe(t,{blockTag:e=t.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:i=!1,onBlock:c,onError:m,includeTransactions:s,poll:g,pollingInterval:r=t.pollingInterval}){const a=typeof g<"u"?g:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),v=s??!1;let h;return a?(()=>{const o=Ur(["watchBlocks",t.uid,e,n,i,v,r]);return pu(o,{onBlock:c,onError:m},d=>h0(async()=>{try{const p=await yt(t,sl,"getBlock")({blockTag:e,includeTransactions:v});if(p.number!==null&&h?.number!=null){if(p.number===h.number)return;if(p.number-h.number>1&&n)for(let f=h?.number+1n;f<p.number;f++){const y=await yt(t,sl,"getBlock")({blockNumber:f,includeTransactions:v});d.onBlock(y,h),h=y}}(h?.number==null||e==="pending"&&p?.number==null||p.number!==null&&p.number>h.number)&&(d.onBlock(p,h),h=p)}catch(p){d.onError?.(p)}},{emitOnBegin:i,interval:r}))})():(()=>{let o=!0,d=!0,p=()=>o=!1;return(async()=>{try{i&&yt(t,sl,"getBlock")({blockTag:e,includeTransactions:v}).then(w=>{o&&d&&(c(w,void 0),d=!1)}).catch(m);const f=(()=>{if(t.transport.type==="fallback"){const w=t.transport.transports.find(x=>x.config.type==="webSocket"||x.config.type==="ipc");return w?w.value:t.transport}return t.transport})(),{unsubscribe:y}=await f.subscribe({params:["newHeads"],async onData(w){if(!o)return;const x=await yt(t,sl,"getBlock")({blockNumber:w.result?.number,includeTransactions:v}).catch(()=>{});o&&(c(x,h),d=!1,h=x)},onError(w){m?.(w)}});p=y,o||p()}catch(f){m?.(f)}})(),()=>p()})()}function qhe(t,{address:e,args:n,batch:i=!0,event:c,events:m,fromBlock:s,onError:g,onLogs:r,poll:a,pollingInterval:v=t.pollingInterval,strict:h}){const u=typeof a<"u"?a:typeof s=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),l=h??!1;return u?(()=>{const p=Ur(["watchEvent",e,n,i,t.uid,c,v,s]);return pu(p,{onLogs:r,onError:g},f=>{let y;s!==void 0&&(y=s-1n);let w,x=!1;const b=h0(async()=>{if(!x){try{w=await yt(t,Jz,"createEventFilter")({address:e,args:n,event:c,events:m,strict:l,fromBlock:s})}catch{}x=!0;return}try{let E;if(w)E=await yt(t,_x,"getFilterChanges")({filter:w});else{const C=await yt(t,qm,"getBlockNumber")({});y&&y!==C?E=await yt(t,N9,"getLogs")({address:e,args:n,event:c,events:m,fromBlock:y+1n,toBlock:C}):E=[],y=C}if(E.length===0)return;if(i)f.onLogs(E);else for(const C of E)f.onLogs([C])}catch(E){w&&E instanceof Jh&&(x=!1),f.onError?.(E)}},{emitOnBegin:!0,interval:v});return async()=>{w&&await yt(t,Qx,"uninstallFilter")({filter:w}),b()}})})():(()=>{let p=!0,f=()=>p=!1;return(async()=>{try{const y=(()=>{if(t.transport.type==="fallback"){const E=t.transport.transports.find(C=>C.config.type==="webSocket"||C.config.type==="ipc");return E?E.value:t.transport}return t.transport})(),w=m??(c?[c]:void 0);let x=[];w&&(x=[w.flatMap(C=>Vm({abi:[C],eventName:C.name,args:n}))],c&&(x=x[0]));const{unsubscribe:b}=await y.subscribe({params:["logs",{address:e,topics:x}],onData(E){if(!p)return;const C=E.result;try{const{eventName:T,args:S}=r9({abi:w??[],data:C.data,topics:C.topics,strict:l}),A=du(C,{args:S,eventName:T});r([A])}catch(T){let S,A;if(T instanceof Ag||T instanceof Fx){if(h)return;S=T.abiItem.name,A=T.abiItem.inputs?.some(R=>!("name"in R&&R.name))}const P=du(C,{args:A?[]:{},eventName:S});r([P])}},onError(E){g?.(E)}});f=b,p||f()}catch(y){g?.(y)}})(),()=>f()})()}function ede(t,{batch:e=!0,onError:n,onTransactions:i,poll:c,pollingInterval:m=t.pollingInterval}){return(typeof c<"u"?c:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const a=Ur(["watchPendingTransactions",t.uid,e,m]);return pu(a,{onTransactions:i,onError:n},v=>{let h;const u=h0(async()=>{try{if(!h)try{h=await yt(t,_z,"createPendingTransactionFilter")({});return}catch(o){throw u(),o}const l=await yt(t,_x,"getFilterChanges")({filter:h});if(l.length===0)return;if(e)v.onTransactions(l);else for(const o of l)v.onTransactions([o])}catch(l){v.onError?.(l)}},{emitOnBegin:!0,interval:m});return async()=>{h&&await yt(t,Qx,"uninstallFilter")({filter:h}),u()}})})():(()=>{let a=!0,v=()=>a=!1;return(async()=>{try{const{unsubscribe:h}=await t.transport.subscribe({params:["newPendingTransactions"],onData(u){if(!a)return;const l=u.result;i([l])},onError(u){n?.(u)}});v=h,a||v()}catch(h){n?.(h)}})(),()=>v()})()}function tde(t){const{scheme:e,statement:n,...i}=t.match(nde)?.groups??{},{chainId:c,expirationTime:m,issuedAt:s,notBefore:g,requestId:r,...a}=t.match(rde)?.groups??{},v=t.split("Resources:")[1]?.split(`
- `).slice(1);return{...i,...a,...c?{chainId:Number(c)}:{},...m?{expirationTime:new Date(m)}:{},...s?{issuedAt:new Date(s)}:{},...g?{notBefore:new Date(g)}:{},...r?{requestId:r}:{},...v?{resources:v}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const nde=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,rde=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function ide(t){const{address:e,domain:n,message:i,nonce:c,scheme:m,time:s=new Date}=t;if(n&&i.domain!==n||c&&i.nonce!==c||m&&i.scheme!==m||i.expirationTime&&s>=i.expirationTime||i.notBefore&&s<i.notBefore)return!1;try{if(!i.address||!xs(i.address,{strict:!1})||e&&!Hm(i.address,e))return!1}catch{return!1}return!0}async function sde(t,e){const{address:n,domain:i,message:c,nonce:m,scheme:s,signature:g,time:r=new Date,...a}=e,v=tde(c);if(!v.address||!ide({address:n,domain:i,message:v,nonce:m,scheme:s,time:r}))return!1;const u=jj(c);return t3(t,{address:v.address,hash:u,signature:g,...a})}async function G9(t,{serializedTransaction:e,throwOnReceiptRevert:n,timeout:i}){const c=await t.request({method:"eth_sendRawTransactionSync",params:i?[e,bt(i)]:[e]},{retryCount:0}),s=(t.chain?.formatters?.transactionReceipt?.format||Uj)(c);if(s.status==="reverted"&&n)throw new rj({receipt:s});return s}function V9(t){return{call:e=>Wx(t,e),createAccessList:e=>Zz(t,e),createBlockFilter:()=>ghe(t),createContractEventFilter:e=>Lz(t,e),createEventFilter:e=>Jz(t,e),createPendingTransactionFilter:()=>_z(t),estimateContractGas:e=>zce(t,e),estimateGas:e=>D9(t,e),getBalance:e=>mhe(t,e),getBlobBaseFee:()=>yhe(t),getBlock:e=>sl(t,e),getBlockNumber:e=>qm(t,e),getBlockTransactionCount:e=>whe(t,e),getBytecode:e=>gC(t,e),getChainId:()=>wd(t),getCode:e=>gC(t,e),getContractEvents:e=>kz(t,e),getEip712Domain:e=>bhe(t,e),getEnsAddress:e=>ehe(t,e),getEnsAvatar:e=>fhe(t,e),getEnsName:e=>phe(t,e),getEnsResolver:e=>vhe(t,e),getEnsText:e=>Kz(t,e),getFeeHistory:e=>She(t,e),estimateFeesPerGas:e=>jce(t,e),getFilterChanges:e=>_x(t,e),getFilterLogs:e=>The(t,e),getGasPrice:()=>F9(t),getLogs:e=>N9(t,e),getProof:e=>Ihe(t,e),estimateMaxPriorityFeePerGas:e=>Uce(t,e),getStorageAt:e=>Rhe(t,e),getTransaction:e=>W9(t,e),getTransactionConfirmations:e=>Ohe(t,e),getTransactionCount:e=>m9(t,e),getTransactionReceipt:e=>z2(t,e),multicall:e=>Mhe(t,e),prepareTransactionRequest:e=>Qm(t,e),readContract:e=>wo(t,e),sendRawTransaction:e=>k9(t,e),sendRawTransactionSync:e=>G9(t,e),simulate:e=>mC(t,e),simulateBlocks:e=>mC(t,e),simulateCalls:e=>zhe(t,e),simulateContract:e=>Wce(t,e),verifyHash:e=>t3(t,e),verifyMessage:e=>Jhe(t,e),verifySiweMessage:e=>sde(t,e),verifyTypedData:e=>_he(t,e),uninstallFilter:e=>Qx(t,e),waitForTransactionReceipt:e=>rW(t,e),watchBlocks:e=>Qhe(t,e),watchBlockNumber:e=>nW(t,e),watchContractEvent:e=>Zce(t,e),watchEvent:e=>qhe(t,e),watchPendingTransactions:e=>ede(t,e)}}function vl(t){const{key:e="public",name:n="Public Client"}=t;return Vz({...t,key:e,name:n,type:"publicClient"}).extend(V9)}async function ade(t,{chain:e}){const{id:n,name:i,nativeCurrency:c,rpcUrls:m,blockExplorers:s}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:bt(n),chainName:i,nativeCurrency:c,rpcUrls:m.default.http,blockExplorerUrls:s?Object.values(s).map(({url:g})=>g):void 0}]},{dedupe:!0,retryCount:0})}function ode(t,e){const{abi:n,args:i,bytecode:c,...m}=e,s=Dx({abi:n,args:i,bytecode:c});return qx(t,{...m,...m.authorizationList?{to:null}:{},data:s})}async function lde(t){return t.account?.type==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(n=>zm(n))}async function ude(t,e={}){const{account:n=t.account,chainId:i}=e,c=n?or(n):void 0,m=i?[c?.address,[bt(i)]]:[c?.address],s=await t.request({method:"wallet_getCapabilities",params:m}),g={};for(const[r,a]of Object.entries(s)){g[Number(r)]={};for(let[v,h]of Object.entries(a))v==="addSubAccount"&&(v="unstable_addSubAccount"),g[Number(r)][v]=h}return typeof i=="number"?g[i]:g}async function cde(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function iW(t,e){const{account:n=t.account,chainId:i,nonce:c}=e;if(!n)throw new $c({docsPath:"/docs/eip7702/prepareAuthorization"});const m=or(n),s=(()=>{if(e.executor)return e.executor==="self"?e.executor:or(e.executor)})(),g={address:e.contractAddress??e.address,chainId:i,nonce:c};return typeof g.chainId>"u"&&(g.chainId=t.chain?.id??await yt(t,wd,"getChainId")({})),typeof g.nonce>"u"&&(g.nonce=await yt(t,m9,"getTransactionCount")({address:m.address,blockTag:"pending"}),(s==="self"||s?.address&&Hm(s.address,m.address))&&(g.nonce+=1)),g}async function hde(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>Sr(n))}async function dde(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function fde(t,e){const{chain:n=t.chain}=e,i=e.timeout??Math.max((n?.blockTime??0)*3,5e3),c=await jz(t,e);return await Wz(t,{...e,id:c.id,timeout:i})}const B4=new jm(128);async function sW(t,e){const{account:n=t.account,chain:i=t.chain,accessList:c,authorizationList:m,blobs:s,data:g,gas:r,gasPrice:a,maxFeePerBlobGas:v,maxFeePerGas:h,maxPriorityFeePerGas:u,nonce:l,pollingInterval:o,throwOnReceiptRevert:d,type:p,value:f,...y}=e,w=e.timeout??Math.max((i?.blockTime??0)*3,5e3);if(typeof n>"u")throw new $c({docsPath:"/docs/actions/wallet/sendTransactionSync"});const x=n?or(n):null;try{Mc(e);const b=await(async()=>{if(e.to)return e.to;if(e.to!==null&&m&&m.length>0)return await Nx({authorization:m[0]}).catch(()=>{throw new Ne("`to` is required. Could not infer from `authorizationList`.")})})();if(x?.type==="json-rpc"||x===null){let E;i!==null&&(E=await yt(t,wd,"getChainId")({}),v9({currentChainId:E,chain:i}));const C=t.chain?.formatters?.transactionRequest?.format,S=(C||yd)({..._m(y,{format:C}),accessList:c,account:x,authorizationList:m,blobs:s,chainId:E,data:g,gas:r,gasPrice:a,maxFeePerBlobGas:v,maxFeePerGas:h,maxPriorityFeePerGas:u,nonce:l,to:b,type:p,value:f},"sendTransaction"),A=B4.get(t.uid),P=A?"wallet_sendTransaction":"eth_sendTransaction",R=await(async()=>{try{return await t.request({method:P,params:[S]},{retryCount:0})}catch(D){if(A===!1)throw D;const $=D;if($.name==="InvalidInputRpcError"||$.name==="InvalidParamsRpcError"||$.name==="MethodNotFoundRpcError"||$.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[S]},{retryCount:0}).then(F=>(B4.set(t.uid,!0),F)).catch(F=>{const N=F;throw N.name==="MethodNotFoundRpcError"||N.name==="MethodNotSupportedRpcError"?(B4.set(t.uid,!1),$):N});throw $}})(),L=await yt(t,rW,"waitForTransactionReceipt")({checkReplacement:!1,hash:R,pollingInterval:o,timeout:w});if(d&&L.status==="reverted")throw new rj({receipt:L});return L}if(x?.type==="local"){const E=await yt(t,Qm,"prepareTransactionRequest")({account:x,accessList:c,authorizationList:m,blobs:s,chain:i,data:g,gas:r,gasPrice:a,maxFeePerBlobGas:v,maxFeePerGas:h,maxPriorityFeePerGas:u,nonce:l,nonceManager:x.nonceManager,parameters:[...L9,"sidecars"],type:p,value:f,...y,to:b}),C=i?.serializers?.transaction,T=await x.signTransaction(E,{serializer:C});return await yt(t,G9,"sendRawTransactionSync")({serializedTransaction:T,throwOnReceiptRevert:d})}throw x?.type==="smart"?new zh({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new zh({docsPath:"/docs/actions/wallet/sendTransactionSync",type:x?.type})}catch(b){throw b instanceof zh?b:g9(b,{...e,account:x,chain:e.chain||void 0})}}async function pde(t,e){const{id:n}=e;await t.request({method:"wallet_showCallsStatus",params:[n]})}async function vde(t,e){const{account:n=t.account}=e;if(!n)throw new $c({docsPath:"/docs/eip7702/signAuthorization"});const i=or(n);if(!i.signAuthorization)throw new zh({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:i.type});const c=await iW(t,e);return i.signAuthorization(c)}async function gde(t,{account:e=t.account,message:n}){if(!e)throw new $c({docsPath:"/docs/actions/wallet/signMessage"});const i=or(e);if(i.signMessage)return i.signMessage({message:n});const c=typeof n=="string"?Fp(n):n.raw instanceof Uint8Array?sr(n.raw):n.raw;return t.request({method:"personal_sign",params:[c,i.address]},{retryCount:0})}async function mde(t,e){const{account:n=t.account,chain:i=t.chain,...c}=e;if(!n)throw new $c({docsPath:"/docs/actions/wallet/signTransaction"});const m=or(n);Mc({account:m,...e});const s=await yt(t,wd,"getChainId")({});i!==null&&v9({currentChainId:s,chain:i});const r=(i?.formatters||t.chain?.formatters)?.transactionRequest?.format||yd;return m.signTransaction?m.signTransaction({...c,chainId:s},{serializer:t.chain?.serializers?.transaction}):await t.request({method:"eth_signTransaction",params:[{...r({...c,account:m},"signTransaction"),chainId:bt(s),from:m.address}]},{retryCount:0})}async function yde(t,e){const{account:n=t.account,domain:i,message:c,primaryType:m}=e;if(!n)throw new $c({docsPath:"/docs/actions/wallet/signTypedData"});const s=or(n),g={EIP712Domain:Wj({domain:i}),...e.types};if(zj({domain:i,message:c,primaryType:m,types:g}),s.signTypedData)return s.signTypedData({domain:i,message:c,primaryType:m,types:g});const r=Uie({domain:i,message:c,primaryType:m,types:g});return t.request({method:"eth_signTypedData_v4",params:[s.address,r]},{retryCount:0})}async function wde(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:bt(e)}]},{retryCount:0})}async function xde(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}async function bde(t,e){return lm.internal(t,sW,"sendTransactionSync",e)}function Ede(t){return{addChain:e=>ade(t,e),deployContract:e=>ode(t,e),getAddresses:()=>lde(t),getCallsStatus:e=>zz(t,e),getCapabilities:e=>ude(t,e),getChainId:()=>wd(t),getPermissions:()=>cde(t),prepareAuthorization:e=>iW(t,e),prepareTransactionRequest:e=>Qm(t,e),requestAddresses:()=>hde(t),requestPermissions:e=>dde(t,e),sendCalls:e=>jz(t,e),sendCallsSync:e=>fde(t,e),sendRawTransaction:e=>k9(t,e),sendRawTransactionSync:e=>G9(t,e),sendTransaction:e=>qx(t,e),sendTransactionSync:e=>sW(t,e),showCallsStatus:e=>pde(t,e),signAuthorization:e=>vde(t,e),signMessage:e=>gde(t,e),signTransaction:e=>mde(t,e),signTypedData:e=>yde(t,e),switchChain:e=>wde(t,e),waitForCallsStatus:e=>Wz(t,e),watchAsset:e=>xde(t,e),writeContract:e=>lm(t,e),writeContractSync:e=>bde(t,e)}}function aW(t){const{key:e="wallet",name:n="Wallet Client",transport:i}=t;return Vz({...t,key:e,name:n,transport:i,type:"walletClient"}).extend(Ede)}function oW({key:t,methods:e,name:n,request:i,retryCount:c=3,retryDelay:m=150,timeout:s,type:g},r){const a=Gz();return{config:{key:t,methods:e,name:n,request:i,retryCount:c,retryDelay:m,timeout:s,type:g},request:Rre(i,{methods:e,retryCount:c,retryDelay:m,uid:a}),value:r}}function lW(t,e={}){const{key:n="custom",methods:i,name:c="Custom Provider",retryDelay:m}=e;return({retryCount:s})=>oW({key:n,methods:i,name:c,request:t.request.bind(t),retryCount:e.retryCount??s,retryDelay:m,type:"custom"})}class Cde extends Ne{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function gl(t,e={}){const{batch:n,fetchFn:i,fetchOptions:c,key:m="http",methods:s,name:g="HTTP JSON-RPC",onFetchRequest:r,onFetchResponse:a,retryDelay:v,raw:h}=e;return({chain:u,retryCount:l,timeout:o})=>{const{batchSize:d=1e3,wait:p=0}=typeof n=="object"?n:{},f=e.retryCount??l,y=o??e.timeout??1e4,w=t||u?.rpcUrls.default.http[0];if(!w)throw new Cde;const x=Fie(w,{fetchFn:i,fetchOptions:c,onRequest:r,onResponse:a,timeout:y});return oW({key:m,methods:s,name:g,async request({method:b,params:E}){const C={method:b,params:E},{schedule:T}=Fj({id:w,wait:p,shouldSplitBatch(R){return R.length>d},fn:R=>x.request({body:R}),sort:(R,L)=>R.id-L.id}),S=async R=>n?T(R):[await x.request({body:R})],[{error:A,result:P}]=await S(C);if(h)return{error:A,result:P};if(A)throw new o9({body:C,error:A,url:w});return P},retryCount:f,retryDelay:v,timeout:y,type:"http"},{fetchOptions:c,url:w})}}let Sde=class{getConfig(){return this._privyInternal.config}async getSmartWalletConfig(){return this._smartWalletConfig||(this._smartWalletConfig=await this._privyInternal.fetch(qae,{params:{app_id:this.appId}})),this._smartWalletConfig}get appId(){return this._privyInternal.appId}constructor(e){this._privyInternal=e}};const Tde=new TextEncoder,uW=new TextDecoder,Ade=t=>{let e=t;typeof e=="string"&&(e=Tde.encode(e));const n=32768,i=[];for(let c=0;c<e.length;c+=n)i.push(String.fromCharCode.apply(null,e.subarray(c,c+n)));return btoa(i.join(""))},Pde=t=>Ade(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),Ide=t=>{const e=atob(t),n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n},Rde=t=>{let e=t;e instanceof Uint8Array&&(e=uW.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return Ide(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class Ode extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var n;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(n=Error.captureStackTrace)===null||n===void 0||n.call(Error,this,this.constructor)}}class sh extends Ode{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}function Mde(t){return typeof t=="object"&&t!==null}function $de(t){if(!Mde(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}const td=Pde,Fde=Rde;function xC(t){if(typeof t!="string")throw new sh("JWTs must use Compact JWS serialization, JWT must be a string");const{1:e,length:n}=t.split(".");if(n===5)throw new sh("Only JWTs using Compact JWS serialization can be decoded");if(n!==3)throw new sh("Invalid JWT");if(!e)throw new sh("JWTs must contain a payload");let i;try{i=Fde(e)}catch{throw new sh("Failed to base64url decode the payload")}let c;try{c=JSON.parse(uW.decode(i))}catch{throw new sh("Failed to parse the decoded payload as JSON")}if(!$de(c))throw new sh("Invalid JWT Claims Set");return c}let qf=class cW{static parse(e){try{return new cW(e)}catch{return null}}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=xC(e)}},hW=class bC{async updateOnCrossAppAuthentication(e,n){let i=n.access_token,c=bC.providerAccessTokenStorageKey(e);await this._storage.put(c,i)}async getProviderAccessToken(e){let n=bC.providerAccessTokenStorageKey(e),i=await this._storage.get(n);if(typeof i!="string")return null;try{if(new qf(i).isExpired())throw Error("JWT is expired");return i}catch{return await this._storage.del(n),null}}async getCrossAppConnections(){return await this._privyInternal.fetch(pae,{params:{app_id:this._privyInternal.appId}})}constructor(e,n){this._privyInternal=e,this._storage=n}};hW.providerAccessTokenStorageKey=t=>`privy:cross-app:${t}`;let Lde=class{async revoke(){await this._privyInternal.fetch(hoe,{})}constructor(e){this._privyInternal=e}};function Dde(t,e){return{...t,rpcUrls:{...t.rpcUrls,privy:{http:[e]}}}}const Po={id:42161,name:"Arbitrum One",network:"arbitrum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-mainnet.rpc.privy.systems"]},alchemy:{http:["https://arb-mainnet.g.alchemy.com/v2"],webSocket:["wss://arb-mainnet.g.alchemy.com/v2"]},infura:{http:["https://arbitrum-mainnet.infura.io/v3"],webSocket:["wss://arbitrum-mainnet.infura.io/ws/v3"]},default:{http:["https://arb1.arbitrum.io/rpc"]},public:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{etherscan:{name:"Arbiscan",url:"https://arbiscan.io"},default:{name:"Arbiscan",url:"https://arbiscan.io"}}},H9={id:421614,name:"Arbitrum Sepolia",network:"arbitrum-sepolia",nativeCurrency:{name:"Arbitrum Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia-rollup.arbitrum.io/rpc"]},public:{http:["https://sepolia-rollup.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Blockscout",url:"https://sepolia-explorer.arbitrum.io"}},testnet:!0},Io={id:43114,name:"Avalanche",network:"avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]},public:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://snowtrace.io"},default:{name:"SnowTrace",url:"https://snowtrace.io"}}},Y9={id:43113,name:"Avalanche Fuji",network:"avalanche-fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]},public:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://testnet.snowtrace.io"},default:{name:"SnowTrace",url:"https://testnet.snowtrace.io"}},testnet:!0},Ro={id:8453,network:"base",name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-mainnet.rpc.privy.systems"]},blast:{http:["https://base-mainnet.blastapi.io"],webSocket:["wss://base-mainnet.blastapi.io"]},default:{http:["https://mainnet.base.org"]},public:{http:["https://mainnet.base.org"]}},blockExplorers:{etherscan:{name:"Basescan",url:"https://basescan.org"},default:{name:"Basescan",url:"https://basescan.org"}}},X9={id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.base.org"]},public:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Blockscout",url:"https://base-sepolia.blockscout.com"}},testnet:!0},Nde={id:80085,network:"berachain-artio",name:"Berachain Artio",nativeCurrency:{name:"BERA",symbol:"BERA",decimals:18},rpcUrls:{default:{http:["https://berachain-artio.rpc.privy.systems"]},public:{http:["https://berachain-artio.rpc.privy.systems"]}},blockExplorers:{default:{name:"Beratrail",url:"https://artio.beratrail.io"}},testnet:!0},kde={id:56,network:"bsc",name:"Binance Smart Chain",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrls:{privy:{http:["https://bsc-mainnet.rpc.privy.systems"]},default:{http:["https://56.rpc.thirdweb.com"]},public:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{etherscan:{name:"BscScan",url:"https://bscscan.com"},default:{name:"BscScan",url:"https://bscscan.com"}}},n3={id:42220,name:"Celo Mainnet",network:"celo",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://forno.celo.org"]},infura:{http:["https://celo-mainnet.infura.io/v3"]},public:{http:["https://forno.celo.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/mainnet"},etherscan:{name:"CeloScan",url:"https://celoscan.io"}},testnet:!1},Bde={id:44787,name:"Celo Alfajores Testnet",network:"celo-alfajores",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://alfajores-forno.celo-testnet.org"]},infura:{http:["https://celo-alfajores.infura.io/v3"]},public:{http:["https://alfajores-forno.celo-testnet.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/alfajores"},etherscan:{name:"CeloScan",url:"https://alfajores.celoscan.io/"}},testnet:!0},Ude={id:314,name:"Filecoin - Mainnet",network:"filecoin-mainnet",nativeCurrency:{decimals:18,name:"filecoin",symbol:"FIL"},rpcUrls:{default:{http:["https://api.node.glif.io/rpc/v1"]},public:{http:["https://api.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filfox",url:"https://filfox.info/en"},filscan:{name:"Filscan",url:"https://filscan.io"},filscout:{name:"Filscout",url:"https://filscout.io/en"},glif:{name:"Glif",url:"https://explorer.glif.io"}}},jde={id:314159,name:"Filecoin - Calibration testnet",network:"filecoin-calibration",nativeCurrency:{decimals:18,name:"testnet filecoin",symbol:"tFIL"},rpcUrls:{default:{http:["https://api.calibration.node.glif.io/rpc/v1"]},public:{http:["https://api.calibration.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filscan",url:"https://calibration.filscan.io"}}},zde={id:17069,name:"Garnet Holesky",network:"garnet-holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.garnetchain.com"]},public:{http:["https://rpc.garnetchain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.garnetchain.com"}}},Wde={id:17e3,name:"Holesky",network:"holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://ethereum-holesky.publicnode.com"]},public:{http:["https://ethereum-holesky.publicnode.com"]}},blockExplorers:{etherscan:{name:"EtherScan",url:"https://holesky.etherscan.io"},default:{name:"EtherScan",url:"https://holesky.etherscan.io"}}},dW={id:59144,network:"linea-mainnet",name:"Linea Mainnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]},public:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://lineascan.build"},etherscan:{name:"Etherscan",url:"https://lineascan.build"}},testnet:!1},Gde={id:59140,network:"linea-testnet",name:"Linea Goerli Testnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{infura:{http:["https://linea-goerli.infura.io/v3"],webSocket:["wss://linea-goerli.infura.io/ws/v3"]},default:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]},public:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://goerli.lineascan.build"},etherscan:{name:"Etherscan",url:"https://goerli.lineascan.build"}},testnet:!0},Vde={id:42,network:"lukso",name:"LUKSO",nativeCurrency:{name:"LUKSO",symbol:"LYX",decimals:18},rpcUrls:{default:{http:["https://rpc.mainnet.lukso.network"],webSocket:["wss://ws-rpc.mainnet.lukso.network"]}},blockExplorers:{default:{name:"LUKSO Mainnet Explorer",url:"https://explorer.execution.mainnet.lukso.network"}}},Na={id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://mainnet.rpc.privy.systems"]},alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}}},Eu={id:10,name:"OP Mainnet",network:"optimism",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-mainnet.rpc.privy.systems"]},alchemy:{http:["https://opt-mainnet.g.alchemy.com/v2"],webSocket:["wss://opt-mainnet.g.alchemy.com/v2"]},infura:{http:["https://optimism-mainnet.infura.io/v3"],webSocket:["wss://optimism-mainnet.infura.io/ws/v3"]},default:{http:["https://mainnet.optimism.io"]},public:{http:["https://mainnet.optimism.io"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://optimistic.etherscan.io"},default:{name:"Optimism Explorer",url:"https://explorer.optimism.io"}}},K9={id:11155420,name:"Optimism Sepolia",network:"optimism-sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.optimism.io"]},public:{http:["https://sepolia.optimism.io"]},infura:{http:["https://optimism-sepolia.infura.io/v3"]}},blockExplorers:{default:{name:"Blockscout",url:"https://optimism-sepolia.blockscout.com"}},testnet:!0},ka={id:137,name:"Polygon Mainnet",network:"polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-mainnet.rpc.privy.systems"]},alchemy:{http:["https://polygon-mainnet.g.alchemy.com/v2"],webSocket:["wss://polygon-mainnet.g.alchemy.com/v2"]},infura:{http:["https://polygon-mainnet.infura.io/v3"],webSocket:["wss://polygon-mainnet.infura.io/ws/v3"]},default:{http:["https://polygon-rpc.com"]},public:{http:["https://polygon-rpc.com"]}},blockExplorers:{etherscan:{name:"PolygonScan",url:"https://polygonscan.com"},default:{name:"PolygonScan",url:"https://polygonscan.com"}}},Z9={id:80002,name:"Polygon Amoy",network:"polygon-amoy",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-amoy.rpc.privy.systems"]},infura:{http:["https://polygon-amoy.infura.io/v3"],webSocket:["wss://polygon-amoy.infura.io/ws/v3"]},default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"OK LINK",url:"https://www.oklink.com/amoy"}},testnet:!0},Hde={id:690,name:"Redstone",network:"redstone",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.redstonechain.com"]},public:{http:["https://rpc.redstonechain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.redstone.xyz/"}}},J9={id:11155111,network:"sepolia",name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"SEP",decimals:18},rpcUrls:{privy:{http:["https://sepolia.rpc.privy.systems"]},alchemy:{http:["https://eth-sepolia.g.alchemy.com/v2"],webSocket:["wss://eth-sepolia.g.alchemy.com/v2"]},infura:{http:["https://sepolia.infura.io/v3"],webSocket:["wss://sepolia.infura.io/ws/v3"]},default:{http:["https://rpc.sepolia.org"]},public:{http:["https://rpc.sepolia.org"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://sepolia.etherscan.io"},default:{name:"Etherscan",url:"https://sepolia.etherscan.io"}},testnet:!0},fW={id:7777777,name:"Zora",network:"zora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]},public:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.zora.energy"}}},Yde={id:999999999,name:"Zora Sepolia",network:"zora-sepolia",nativeCurrency:{decimals:18,name:"Zora Sepolia",symbol:"ETH"},rpcUrls:{default:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]},public:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]}},blockExplorers:{default:{name:"Zora Sepolia Explorer",url:"https://sepolia.explorer.zora.energy/"}},testnet:!0},Xde={id:999,name:"Zora Goerli Testnet",network:"zora-testnet",nativeCurrency:{decimals:18,name:"Zora Goerli",symbol:"ETH"},rpcUrls:{default:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]},public:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://testnet.explorer.zora.energy"}},testnet:!0},e1=[Na,J9,Wde,Po,H9,Eu,K9,ka,Z9,n3,Bde,Ude,jde,Ro,X9,Nde,kde,Vde,dW,Gde,Io,Y9,fW,Xde,Yde,Hde,zde],pW=new Set(e1.map((t=>t.id)));function _9(t){let e=t.filter((n=>!pW.has(n.id)));return e1.concat(e)}const vW=t=>t.map((e=>{if(e.rpcUrls.privyWalletOverride)return e;let n=e1.find((c=>c.id===e.id)),i=n?.rpcUrls.privy?.http[0];return i?Dde(e,i):e}));let U4=class extends Error{constructor({error:e,code:n}){super(e),this.error=e,this.code=n}},un=class extends Error{constructor({error:e,code:n}){super(e),this.code=n,this.error=e}},Kde=class extends Error{constructor({error:e,code:n,response:i}){super(e),this.code=n,this.error=e,this.response=i}};const cc=t=>!!t.id&&t.recovery_method==="privy-v2";let Zde=class{async sign({message:e}){return await this.request({method:"sign",params:{message:new TextDecoder("utf8").decode(e)}})}async signTransaction({psbt:e}){return await this.request({method:"signTransaction",params:{psbt:e}})}async request(e){if(cc(this._account))throw new un({code:"unsupported_wallet_type",error:"Bitcoin wallet providers are only supported for on-device execution and this app uses TEE execution. Use the useSignRawHash hook from @privy-io/expo/extended-chains to sign over a hash with this wallet. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide"});if(!await this._privyInternal.getAccessTokenInternal())throw new un({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return this.handleIFrameRpc(e)}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing access token. User must be authenticated.");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),(await this._proxy.rpcWallet({accessToken:n,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:this._account.chain_type})).response.data}catch(n){console.error(n);let i=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:i}),new un({code:"embedded_wallet_request_error",error:i})}}toJSON(){return`PrivyEmbeddedBitcoinProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:n,account:i,entropyId:c,entropyIdVerifier:m}){this._proxy=e,this._privyInternal=n,this._account=i,this._entropyId=c,this._entropyIdVerifier=m}};const Jde=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","mfa_timeout","missing_or_invalid_mfa","mfa_verification_max_attempts_reached"];var rs;(rs={}).MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",rs.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",rs.INVALID_DATA="invalid_data",rs.LINKED_TO_ANOTHER_USER="linked_to_another_user",rs.ALLOWLIST_REJECTED="allowlist_rejected",rs.OAUTH_USER_DENIED="oauth_user_denied",rs.UNKNOWN_AUTH_ERROR="unknown_auth_error",rs.USER_EXITED_AUTH_FLOW="exited_auth_flow",rs.MUST_BE_AUTHENTICATED="must_be_authenticated",rs.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",rs.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",rs.CLIENT_REQUEST_TIMEOUT="client_request_timeout",rs.INVALID_CREDENTIALS="invalid_credentials";let _de=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,n,i){super(e),n instanceof Error&&(this.cause=n),this.privyErrorCode=i}},W2=class extends Error{constructor(e,n){super(n),this.type=e}},gW=class extends _de{constructor(e,n,i){super(e,n,i),this.type="connector_error"}},yM=class extends Error{constructor(e,n,i){super(e),this.code=n,this.data=i}};const so={UNKNOWN_ERROR:{eipCode:0,message:"Unknown error",detail:"Unknown error",retryable:!0},E4001_DEFAULT_USER_REJECTED_REQUEST:{eipCode:4001,message:"User Rejected Request",detail:"The user rejected the request.",default:!0,retryable:!0},E4100_DEFAULT_UNAUTHORIZED:{eipCode:4100,message:"Unauthorized",detail:"The requested method and/or account has not been authorized by the user.",default:!0,retryable:!1},E4200_DEFAULT_UNSUPPORTED_METHOD:{eipCode:4200,message:"Unsupported Method",detail:"The Provider does not support the requested method.",default:!0,retryable:!1},E4900_DEFAULT_DISCONNECTED:{eipCode:4900,message:"Disconnected",detail:"The Provider is disconnected from all chains.",default:!0,retryable:!0},E4901_DEFAULT_CHAIN_DISCONNECTED:{eipCode:4901,message:"Chain Disconnected",detail:"The Provider is not connected to the requested chain.",default:!0,retryable:!0},E32700_DEFAULT_PARSE_ERROR:{eipCode:-32700,message:"Parse error",detail:"Invalid JSON",default:!0,retryable:!1},E32600_DEFAULT_INVALID_REQUEST:{eipCode:-32600,message:"Invalid request",detail:"JSON is not a valid request object",default:!0,retryable:!1},E32601_DEFAULT_METHOD_NOT_FOUND:{eipCode:-32601,message:"Method not found",detail:"Method does not exist",default:!0,retryable:!1},E32602_DEFAULT_INVALID_PARAMS:{eipCode:-32602,message:"Invalid params",detail:"Invalid method parameters",default:!0,retryable:!1},E32603_DEFAULT_INTERNAL_ERROR:{eipCode:-32603,message:"Internal error",detail:"Internal JSON-RPC error",default:!0,retryable:!0},E32000_DEFAULT_INVALID_INPUT:{eipCode:-32e3,message:"Invalid input",detail:"Missing or invalid parameters",default:!0,retryable:!1},E32001_DEFAULT_RESOURCE_NOT_FOUND:{eipCode:-32001,message:"Resource not found",detail:"Requested resource not found",default:!0,retryable:!1},E32002_DEFAULT_RESOURCE_UNAVAILABLE:{eipCode:-32002,message:"Resource unavailable",detail:"Requested resource not available",default:!0,retryable:!0},E32003_DEFAULT_TRANSACTION_REJECTED:{eipCode:-32003,message:"Transaction rejected",detail:"Transaction creation failed",default:!0,retryable:!0},E32004_DEFAULT_METHOD_NOT_SUPPORTED:{eipCode:-32004,message:"Method not supported",detail:"Method is not implemented",default:!0,retryable:!1},E32005_DEFAULT_LIMIT_EXCEEDED:{eipCode:-32005,message:"Limit exceeded",detail:"Request exceeds defined limit",default:!0,retryable:!1},E32006_DEFAULT_JSON_RPC_VERSION_NOT_SUPPORTED:{eipCode:-32006,message:"JSON-RPC version not supported",detail:"Version of JSON-RPC protocol is not supported",default:!0,retryable:!1},E32002_CONNECTION_ALREADY_PENDING:{eipCode:-32002,message:"Connection request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_REQUEST_ALREADY_PENDING:{eipCode:-32002,message:"Resource request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_WALLET_LOCKED:{eipCode:-32002,message:"Wallet might be locked",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E4001_USER_REJECTED_REQUEST:{eipCode:4001,message:"Signature rejected",detail:"Please try signing again.",retryable:!0}};function Qde(t){let e=t.type;return typeof e=="string"&&Jde.includes(e)}function Q9(t){return Qde(t)&&t.type==="wallet_not_on_device"}async function EC(t,{request:e}){return await t.fetchPrivyRoute(coe,{body:e})}async function j4({context:t,chainType:e}){return{wallet:await EC(t,{request:{chain_type:e,owner_id:void 0}})}}const wM=(t,e,n,i)=>{let c=Number(t),m=e.find((s=>s.id===c));if(!m)throw new gW(`Unsupported chainId ${t}`,4901);return vl({transport:gl(mW(m,n,i.appId)),chain:m})},mW=(t,e,n)=>{let i,c=t.id,m=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])i=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[m])i=e.rpcUrls[m];else if(t.rpcUrls.privy?.http[0]){let s=new URL(t.rpcUrls.privy.http[0]);s.searchParams.append("privyAppId",n),i=s.toString()}else i=t.rpcUrls.public?.http[0]?t.rpcUrls.public.http[0]:t.rpcUrls.default?.http[0];if(!i)throw new gW(`No RPC url found for ${c}`);return i};function qde({currentRecoveryMethod:t,upgradeToRecoveryMethod:e}){switch(t){case"privy":case"user-passcode":case"recovery-encryption-key":return!0;case"icloud":case"google-drive":if(t===e)throw Error("Cannot upgrade to the existing cloud platform");return!0;default:throw Error("Unknown recovery method")}}function yW(t){return new Promise((e=>{setTimeout((()=>{e()}),t)}))}let efe=class{enqueue(e,n){this.callbacks[e]=n}dequeue(e,n){let i=this.callbacks[n];if(!i)throw Error(`cannot dequeue ${e} event: no event found for id ${n}`);switch(delete this.callbacks[n],e){case"privy:iframe:ready":case"privy:wallets:create":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:wallet:connect":case"privy:wallet:recover":case"privy:wallet:rpc":case"privy:solana-wallet:create":case"privy:solana-wallet:create-additional":case"privy:solana-wallet:connect":case"privy:solana-wallet:recover":case"privy:solana-wallet:rpc":case"privy:delegated-actions:consent":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":return i;default:throw Error(`invalid wallet event type ${e}`)}}constructor(){this.callbacks={}}};async function tfe(t,e,n,i,c=!1,m,s){let g=c,r=async v=>{if(g){v===(c?0:1)?i():n.current?.reject(new W2("missing_or_invalid_mfa","MFA verification failed, retry."));let h=await new Promise(((u,l)=>{e.current={resolve:u,reject:l},setTimeout((()=>{let o=new W2("mfa_timeout","Timed out waiting for MFA code");n.current?.reject(o),l(o)}),s)}));return await t(h)}return await t()},a=null;for(let v=0;v<m;v++)try{a=await r(v),n.current?.resolve(void 0);break}catch(h){if(h.type!=="missing_or_invalid_mfa")throw n.current?.resolve(void 0),h;g=!0}if(a===null){let v=new W2("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw n.current?.reject(v),v}return a}var xM;let nfe=(xM=0,()=>"id-"+xM++),rfe=(t,e)=>typeof e=="bigint"?e.toString():e,zu=(t,{ms:e,msg:n})=>Promise.race([t,yW(e??15e3).then((()=>Promise.reject(Error(n))))]),bM=new efe,EM=class{invokeWithMfa(e,n){return zu(tfe((i=>zu(this.waitForReady().then((()=>e(i))),{msg:n.timeoutMsg,ms:n.timeoutMs})),this.mfa.rootPromise,this.mfa.submitPromise,(()=>this.mfa.emit("mfaRequired")),n.mfaAlwaysRequired??!1,4,3e5),{msg:"Operation reached timeout: MFA verification",ms:126e4})}reload(){return this.ready=!1,this._embeddedWalletMessagePoster.reload()}ping(e=15e3){return zu(this.invoke("privy:iframe:ready",{}),{msg:"Ping reached timeout",ms:e})}create(e){return zu(this.waitForReady().then((()=>this.invoke("privy:wallet:create",e))),{msg:"Operation reached timeout: create"})}rpc(e){return this.invokeWithMfa((n=>this.invoke("privy:wallet:rpc",{...n,...e})),{timeoutMsg:"Operation reached timeout: rpc"})}createSolana(e){return this.invokeWithMfa((n=>this.invoke("privy:solana-wallet:create",{...n,...e})),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}createAdditionalSolana(e){return zu(this.waitForReady().then((()=>this.invoke("privy:solana-wallet:create-additional",e))),{msg:"Operation reached timeout: create"})}solanaRpc(e){return this.invokeWithMfa((n=>this.invoke("privy:solana-wallet:rpc",{...n,...e})),{timeoutMsg:"Operation reached timeout: solana-rpc"})}delegateWallets(e){return this.invokeWithMfa((n=>this.invoke("privy:delegated-actions:consent",{...n,...e})),{timeoutMsg:"Operation reached timeout: delegated-actions:consent"})}verifyMfa(e){return this.invokeWithMfa((n=>this.invoke("privy:mfa:verify",{...n,...e})),{timeoutMsg:"Operation reached timeout: mfa:verify",mfaAlwaysRequired:!0})}initEnrollMfa(e){return this.invokeWithMfa((n=>this.invoke("privy:mfa:init-enrollment",{...n,...e})),{timeoutMsg:"Operation reached timeout: mfa:init-enrollment"})}submitEnrollMfa(e){return this.invokeWithMfa((n=>this.invoke("privy:mfa:submit-enrollment",{...n,...e})),{timeoutMsg:"Operation reached timeout: mfa:submit-enrollment"})}unenrollMfa(e){return this.invokeWithMfa((n=>this.invoke("privy:mfa:unenroll",{...n,...e})),{timeoutMsg:"Operation reached timeout: mfa:unenroll",mfaAlwaysRequired:!0})}clearMfa(e){return zu(this.waitForReady().then((()=>this.invoke("privy:mfa:clear",e))),{msg:"Operation reached timeout: mfa:clear"})}createWallet(e){return this.invokeWithMfa((n=>this.invoke("privy:wallets:create",{...n,...e})),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}signWithUserSigner(e){return this.invokeWithMfa((n=>this.invoke("privy:user-signer:sign",{...n,...e})),{timeoutMsg:"Operation reached timeout: user-signer:sign"})}addWallet(e){return zu(this.waitForReady().then((()=>this.invoke("privy:wallets:add",e))),{msg:"Operation reached timeout: wallets:add"})}setRecovery(e){return this.invokeWithMfa((n=>this.invoke("privy:wallets:set-recovery",{...n,...e})),{timeoutMsg:"Operation reached timeout: wallets:set-recovery",timeoutMs:6e4})}connect(e){return zu(this.waitForReady().then((()=>this.invoke("privy:wallets:connect",e))),{msg:"Operation reached timeout: wallets:connect"})}recover(e){return this.invokeWithMfa((n=>this.invoke("privy:wallets:recover",{...n,...e})),{timeoutMsg:"Operation reached timeout: wallets:recover",timeoutMs:6e4})}rpcWallet(e){return this.invokeWithMfa((n=>this.invoke("privy:wallets:rpc",{...n,...e})),{timeoutMsg:"Operation reached timeout: wallets:rpc"})}handleEmbeddedWalletMessages(e){let{reject:n,resolve:i}=bM.dequeue(e.event,e.id);return e.error!==void 0?n(new W2(e.error.type,e.error.message)):i(e.data)}waitForReady(){return this.ready?Promise.resolve():new Promise((async(e,n)=>{for(;!this.ready;)this.invoke("privy:iframe:ready",{}).then((()=>{this.ready=!0,e()})).catch(n),await yW(150)}))}invoke(e,n){let i=((m,s)=>`${m}${JSON.stringify(s,rfe)}`)(e,n);if(e==="privy:wallet:create"||e==="privy:solana-wallet:create"){let m=this.cache.get(i);if(m)return m}let c=new Promise(((m,s)=>{let g=nfe();bM.enqueue(g,{resolve:m,reject:s}),this._embeddedWalletMessagePoster.postMessage(JSON.stringify({id:g,event:e,data:n}),"*")})).finally((()=>{this.cache.delete(i)}));return this.cache.set(i,c),c}constructor(e,n){this.ready=!1,this.cache=new Map,this._embeddedWalletMessagePoster=e,this.mfa=n}};var z4={exports:{}},CM;function ife(){return CM||(CM=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function c(r,a,v){this.fn=r,this.context=a,this.once=v||!1}function m(r,a,v,h,u){if(typeof v!="function")throw new TypeError("The listener must be a function");var l=new c(v,h||r,u),o=n?n+a:a;return r._events[o]?r._events[o].fn?r._events[o]=[r._events[o],l]:r._events[o].push(l):(r._events[o]=l,r._eventsCount++),r}function s(r,a){--r._eventsCount===0?r._events=new i:delete r._events[a]}function g(){this._events=new i,this._eventsCount=0}g.prototype.eventNames=function(){var a=[],v,h;if(this._eventsCount===0)return a;for(h in v=this._events)e.call(v,h)&&a.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(v)):a},g.prototype.listeners=function(a){var v=n?n+a:a,h=this._events[v];if(!h)return[];if(h.fn)return[h.fn];for(var u=0,l=h.length,o=new Array(l);u<l;u++)o[u]=h[u].fn;return o},g.prototype.listenerCount=function(a){var v=n?n+a:a,h=this._events[v];return h?h.fn?1:h.length:0},g.prototype.emit=function(a,v,h,u,l,o){var d=n?n+a:a;if(!this._events[d])return!1;var p=this._events[d],f=arguments.length,y,w;if(p.fn){switch(p.once&&this.removeListener(a,p.fn,void 0,!0),f){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,v),!0;case 3:return p.fn.call(p.context,v,h),!0;case 4:return p.fn.call(p.context,v,h,u),!0;case 5:return p.fn.call(p.context,v,h,u,l),!0;case 6:return p.fn.call(p.context,v,h,u,l,o),!0}for(w=1,y=new Array(f-1);w<f;w++)y[w-1]=arguments[w];p.fn.apply(p.context,y)}else{var x=p.length,b;for(w=0;w<x;w++)switch(p[w].once&&this.removeListener(a,p[w].fn,void 0,!0),f){case 1:p[w].fn.call(p[w].context);break;case 2:p[w].fn.call(p[w].context,v);break;case 3:p[w].fn.call(p[w].context,v,h);break;case 4:p[w].fn.call(p[w].context,v,h,u);break;default:if(!y)for(b=1,y=new Array(f-1);b<f;b++)y[b-1]=arguments[b];p[w].fn.apply(p[w].context,y)}}return!0},g.prototype.on=function(a,v,h){return m(this,a,v,h,!1)},g.prototype.once=function(a,v,h){return m(this,a,v,h,!0)},g.prototype.removeListener=function(a,v,h,u){var l=n?n+a:a;if(!this._events[l])return this;if(!v)return s(this,l),this;var o=this._events[l];if(o.fn)o.fn===v&&(!u||o.once)&&(!h||o.context===h)&&s(this,l);else{for(var d=0,p=[],f=o.length;d<f;d++)(o[d].fn!==v||u&&!o[d].once||h&&o[d].context!==h)&&p.push(o[d]);p.length?this._events[l]=p.length===1?p[0]:p:s(this,l)}return this},g.prototype.removeAllListeners=function(a){var v;return a?(v=n?n+a:a,this._events[v]&&s(this,v)):(this._events=new i,this._eventsCount=0),this},g.prototype.off=g.prototype.removeListener,g.prototype.addListener=g.prototype.on,g.prefixed=n,g.EventEmitter=g,t.exports=g})(z4)),z4.exports}var sfe=ife();const xd=La(sfe);let W4={0:"legacy",1:"eip2930",2:"eip1559",3:"eip4844",4:"eip7702"};const wW={legacy:0,eip2930:1,eip1559:2,eip4844:3,eip7702:4};let wf=t=>t!==void 0?BigInt(t):void 0;function Iw(t){let e,{type:n=2,...i}=typeof t=="string"?JSON.parse(t):t;i.accessList&&Array.isArray(i.accessList)?e=i.accessList.map((a=>Array.isArray(a)?{address:a[0],storageKeys:a[1]}:a)):i.accessList&&(e=Object.entries(i.accessList).map((a=>({address:a[0],storageKeys:a[1]}))));let c=Number(i.chainId??1),m=Li(i.data)?i.data:i.data?sr(Uint8Array.from(i.data)):void 0,s=i.nonce?Number(i.nonce):void 0,g={chainId:c,data:m,nonce:s,value:wf(i.value),gas:wf(i.gas??i.gasLimit)},r=Number(n);if(r===0)return{...i,type:W4[r],...g,gasPrice:wf(i.gasPrice),accessList:void 0,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(r===1)return{...i,type:W4[r],...g,gasPrice:wf(i.gasPrice),accessList:e,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(r===2)return{...i,type:W4[r],...g,nonce:s,accessList:e,maxFeePerGas:wf(i.maxFeePerGas),maxPriorityFeePerGas:wf(i.maxPriorityFeePerGas),gasPrice:void 0,maxFeePerBlobGas:void 0};throw Error(`Unsupported transaction type: ${n}`)}const Rw=t=>/^0x[0-9a-fA-F]*$/.test(t),Ow=t=>Buffer.from(t,"utf8"),um=t=>`0x${t.toString("hex")}`;var G4,SM;function afe(){return SM||(SM=1,G4=function t(e){if(typeof e=="number"&&isNaN(e))throw new Error("NaN is not allowed");if(typeof e=="number"&&!isFinite(e))throw new Error("Infinity is not allowed");return e===null||typeof e!="object"?JSON.stringify(e):e.toJSON instanceof Function?t(e.toJSON()):Array.isArray(e)?`[${e.reduce((c,m,s)=>`${c}${s===0?"":","}${t(m===void 0||typeof m=="symbol"?null:m)}`,"")}]`:`{${Object.keys(e).sort().reduce((i,c)=>{if(e[c]===void 0||typeof e[c]=="symbol")return i;const m=i.length===0?"":",";return`${i}${m}${t(c)}:${t(e[c])}`},"")}}`}),G4}var ofe=afe();const lfe=La(ofe);async function ufe(t,e){let n=lfe(e);if(n===void 0)throw new un({error:"Failed to prepare the payload for signing",code:"invalid_input"});let i=Buffer.from(n).toString("base64"),{signature:c}=await t({message:i});return{signature:c}}async function ro(t,e,{wallet_id:n,...i}){let c={version:1,url:t.getCompiledPath(M4,{params:{wallet_id:n}}),method:M4.method,headers:{"privy-app-id":t.app.appId},body:{...i}},{signature:m}=await ufe(e,c);return await t.fetchPrivyRoute(M4,{body:i,params:{wallet_id:n},headers:{"privy-authorization-signature":m}})}function cfe(t){return{from:t.from,to:t.to??void 0,nonce:ah(t.nonce),chain_id:ah(t.chainId),data:(function(e){if(e!==void 0)return typeof e=="string"?Rw(e)?e:um(Ow(e)):um(Buffer.from(Uint8Array.from(e)))})(t.data),value:ah(t.value),type:t.type,gas_limit:ah(t.gasLimit),gas_price:ah(t.gasPrice),max_fee_per_gas:ah(t.maxFeePerGas),max_priority_fee_per_gas:ah(t.maxPriorityFeePerGas)}}function ah(t){if(typeof t=="number"||typeof t=="bigint")return`0x${BigInt(t).toString(16)}`;if(typeof t=="string")return Rw(t)?t:um(Ow(t))}function hfe(t){return typeof t=="string"&&(t=JSON.parse(t)),{types:t.types,primary_type:String(t.primaryType),domain:t.domain,message:t.message}}async function xW({context:t,account:e,rpcRequest:n}){switch(n.chainType){case"ethereum":return(async function({context:i,account:c,rpcRequest:m}){switch(m.method){case"personal_sign":{let[s]=m.params,g=await ro(i,i.signRequest,{chain_type:"ethereum",method:"personal_sign",wallet_id:c.id,params:s.startsWith("0x")?{message:s.slice(2),encoding:"hex"}:{message:s,encoding:"utf-8"}});if(g.method!=="personal_sign")throw Error("Unable to sign message");return{data:g.data.signature}}case"eth_signTransaction":{let[s]=m.params,g=await ro(i,i.signRequest,{chain_type:"ethereum",method:"eth_signTransaction",wallet_id:c.id,params:{transaction:cfe(s)}});if(g.method!=="eth_signTransaction")throw Error("Unable to sign transaction");return{data:g.data.signed_transaction}}case"eth_signTypedData_v4":{let[,s]=m.params,g=await ro(i,i.signRequest,{chain_type:"ethereum",method:m.method,wallet_id:c.id,params:{typed_data:hfe(s)}});if(g.method!=="eth_signTypedData_v4")throw Error("Unable to sign typed data");return{data:g.data.signature}}case"eth_sign":{let[,s]=m.params,g=await ro(i,i.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:c.id,params:{hash:Rw(s)?s:um(Ow(s))}});if(g.method!=="secp256k1_sign")throw Error("Unable to sign message");return{data:g.data.signature}}case"secp256k1_sign":{let[s]=m.params,g=await ro(i,i.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:c.id,params:{hash:Rw(s)?s:um(Ow(s))}});if(g.method!=="secp256k1_sign")throw Error("Unable to sign message");return{data:g.data.signature}}case"csw_signUserOperation":case"eth_sendTransaction":case"eth_populateTransactionRequest":throw Error(`This wallet does not support the method: ${m.method}`)}})({context:t,account:e,rpcRequest:n.request});case"solana":return(async function({context:i,account:c,rpcRequest:m}){if(m.method==="signMessage"){let{message:s}=m.params,g=await ro(i,i.signRequest,{chain_type:"solana",method:"signMessage",wallet_id:c.id,params:{message:s,encoding:"base64"}});if(g.method!=="signMessage")throw Error("Unable to sign message");return{data:g.data.signature}}})({context:t,account:e,rpcRequest:n.request})}}let dfe=new Set(["eth_sign","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"]),V4=class extends xd{async request(e){if(dfe.has(e.method))return this.handleIFrameRpc(e);switch(e.method){case"eth_accounts":case"eth_requestAccounts":return this._account.address?[this._account.address]:[];case"eth_chainId":return`0x${this._chainId.toString(16)}`;case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_signTransaction":{let n=e.params?.[0];return this.handleSignTransaction(n)}case"eth_sendTransaction":{let n=e.params?.[0];return this.handleSendTransaction(n)}case"eth_populateTransactionRequest":{let n=e.params?.[0];return this.handlePopulateTransaction(n)}default:return this.handleJsonRpc(e)}}ensureChainId(e){let n={chainId:this._chainId,...e};return this.internalSwitchEthereumChain(n.chainId),n}internalSwitchEthereumChain(e){e&&Number(e)!==this._chainId&&(this._chainId=Number(e),this._client=wM(this._chainId,this._chains,{rpcUrls:[]},{appId:this._privyInternal.appId}),this.emit("chainChanged",e))}async handlePopulateTransaction(e){let n=Iw(this.ensureChainId(e)),{type:i,...c}=await this._client.prepareTransactionRequest(n);return{...c,type:wW[i]}}async handleSignTransaction(e){let n={...e};for(let i of Object.keys(n)){let c=n[i];c&&typeof c=="bigint"&&(n[i]=sr(c))}return await this.handleIFrameRpc({method:"eth_signTransaction",params:[n]})}async handleSendTransaction(e){let n=await this.handlePopulateTransaction(e),i=await this.handleSignTransaction(n);return await this.handleJsonRpc({method:"eth_sendRawTransaction",params:[i]})}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");let n=e.params?.[0],i=Iw(this.ensureChainId(n));return await this._client.estimateGas(i)}handleSwitchEthereumChain(e){let n;if(!e.params||!Array.isArray(e.params))throw new yM(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")n=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new yM(`Invalid params for ${e.method}`,4200);n=e.params[0].chainId}this.internalSwitchEthereumChain(n)}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address});let i=this._account;if(cc(i)){let{data:c}=await xW({context:{app:this._appApi,fetchPrivyRoute:(...m)=>this._privyInternal.fetch(...m),getCompiledPath:(...m)=>this._privyInternal.getPath(...m),signRequest:({message:m})=>this._walletProxy.signWithUserSigner({accessToken:n,message:m})},account:i,rpcRequest:{chainType:"ethereum",request:e}});return c}try{await this._walletProxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:n})}catch(c){let m=Q9(c);if(m&&this._account.recovery_method==="privy")await this._walletProxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:n});else{if(!m||!this._onNeedsRecovery)throw c;{let s;await new Promise((async(g,r)=>{s=setTimeout((()=>r(new un({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"}))),12e4),await this._onNeedsRecovery?.({recoveryMethod:this._account.recovery_method,onRecovered:()=>g(!0)})})).finally((()=>clearTimeout(s)))}}}return(await this._walletProxy.rpcWallet({accessToken:n,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:"ethereum"})).response.data}catch(n){console.error(n);let i=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:i}),new un({code:"embedded_wallet_request_error",error:i})}}async handleJsonRpc(e){return this._client.request(e)}toJSON(){return`PrivyEIP1193Provider { address: '${this._account.address}', chainId: ${this._chainId}, request: [Function] }`}constructor({walletProxy:e,privyInternal:n,account:i,entropyId:c,entropyIdVerifier:m,chains:s,onNeedsRecovery:g,chainId:r=s[0].id,appApi:a}){super(),this._walletProxy=e,this._privyInternal=n,this._account=i,this._entropyId=c,this._entropyIdVerifier=m,this._chainId=r,this._chains=s,this._onNeedsRecovery=g,this._client=wM(r,s,{rpcUrls:[]},{appId:a.appId}),this._appApi=a}};function CC(t){return"version"in t}function TM(t,e){let n=(CC(t)?t.message:t.compileMessage()).staticAccountKeys.find((i=>i.toBase58()===e));if(!n)throw Error(`Transaction does not contain public key ${e}`);return n}let ffe=class{async request(e){if(!await this._privyInternal.getAccessTokenInternal())throw new un({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});switch(e.method){case"signAndSendTransaction":return await this.handleSignAndSendTransaction(e);case"signTransaction":return await this.handleSignTransaction(e);default:return await this.handleIFrameRpc(e)}}get _publicKey(){return this._account.address}async connectAndRecover(e){if(this._account.recovery_method!=="privy-v2")try{await this._proxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e})}catch(n){let i=Q9(n);if(i&&this._account.recovery_method==="privy")await this._proxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e});else{if(!i||!this._onNeedsRecovery)throw n;{let c;await new Promise((async(m,s)=>{c=setTimeout((()=>s(new un({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"}))),12e4),await this._onNeedsRecovery?.({recoveryMethod:this._account.recovery_method,onRecovered:()=>m(!0)})})).finally((()=>clearTimeout(c)))}}}}async signMessageRpc(e,n){let i=this._account;if(!cc(i))return(await this._proxy.rpcWallet({accessToken:n,request:e,chainType:"solana",hdWalletIndex:this._account.wallet_index,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier})).response.data;{let{data:c}=await xW({context:{app:this._app,fetchPrivyRoute:(...m)=>this._privyInternal.fetch(...m),getCompiledPath:(...m)=>this._privyInternal.getPath(...m),signRequest:({message:m})=>this._proxy.signWithUserSigner({accessToken:n,message:m})},account:i,rpcRequest:{chainType:"solana",request:e}});return{signature:c}}}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing privy token. User must be logged in");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n),await this.signMessageRpc(e,n)}catch(n){console.error(n);let i=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:i}),new un({code:"embedded_wallet_request_error",error:i})}}async handleSignAndSendTransaction(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n);let{transaction:i,connection:c,options:m}=e.params,s=TM(i,this._account.address),g=CC(i)?Buffer.from(i.message.serialize()):i.serializeMessage(),{signature:r}=await this.signMessageRpc({method:"signMessage",params:{message:g.toString("base64")}},n);return i.addSignature(s,Buffer.from(r,"base64")),{signature:await c.sendRawTransaction(i.serialize(),m)}}catch(n){console.error(n);let i=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:i}),new un({code:"embedded_wallet_request_error",error:i})}}async handleSignTransaction(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n);let{transaction:i}=e.params,c=TM(i,this._account.address),m=CC(i)?Buffer.from(i.message.serialize()):i.serializeMessage(),{signature:s}=await this.signMessageRpc({method:"signMessage",params:{message:m.toString("base64")}},n);return i.addSignature(c,Buffer.from(s,"base64")),{signedTransaction:i}}catch(n){console.error(n);let i=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.wallet_index,error:i}),new un({code:"embedded_wallet_request_error",error:i})}}toJSON(){return`PrivyEmbeddedSolanaProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:n,account:i,entropyId:c,entropyIdVerifier:m,onNeedsRecovery:s,app:g}){this._proxy=e,this._privyInternal=n,this._account=i,this._entropyId=c,this._entropyIdVerifier=m,this._onNeedsRecovery=s,this._app=g}},pfe=class{setMessagePoster(e){this._proxy=new EM(e,this._mfaPromises),this._mfa.setProxy(this._proxy)}async signWithUserSigner(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw new un({error:"User must be logged in to sign a message with the user signer",code:"user_signer_sign_error"});let{signature:i}=await this._proxy.signWithUserSigner({accessToken:n,message:e.message});return{signature:i}}async add(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(this._privyInternal.config?.embedded_wallet_config.mode==="user-controlled-server-wallets-only")await j4({context:{app:this._appApi,fetchPrivyRoute:(...i)=>this._privyInternal.fetch(...i),getCompiledPath:(...i)=>this._privyInternal.getPath(...i)},chainType:e.chainType});else{let i=await this._privyInternal.getAccessTokenInternal();if(!i)throw new un({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.addWallet({accessToken:i,...e})}let{user:n}=await this._privyInternal.refreshSession();return{user:n}}async getBitcoinProvider({wallet:e,entropyId:n,entropyIdVerifier:i,recoveryPassword:c,recoveryAccessToken:m,recoverySecretOverride:s}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessTokenInternal())throw Error("User must be logged in to create an embedded wallet");return cc(e)||await this._load({entropyId:n,entropyIdVerifier:i,wallet:e,recoveryPassword:c,recoveryAccessToken:m,recoverySecretOverride:s}),new Zde({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:n,entropyIdVerifier:i})}async create({password:e,recoveryMethod:n,recoveryToken:i,recoveryKey:c,recoverySecretOverride:m,iCloudRecordNameOverride:s,solanaAccount:g,skipCallbacks:r}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(this._privyInternal.config?.embedded_wallet_config.mode==="user-controlled-server-wallets-only"){if(n&&!n.startsWith("privy"))throw new un({error:"User-controlled server wallets do not support custom recovery methods",code:"embedded_wallet_creation_error"});await j4({context:{app:this._appApi,fetchPrivyRoute:(...a)=>this._privyInternal.fetch(...a),getCompiledPath:(...a)=>this._privyInternal.getPath(...a)},chainType:"ethereum"})}else{let a;if(a=n||(e?"user-passcode":"privy"),e&&typeof e!="string")throw Error("Invalid recovery password, must be a string");if(a==="privy"&&this._privyInternal.config?.embedded_wallet_config.require_user_password_on_create)throw Error("Password not provided yet is required by App configuration");let v=await this._privyInternal.getAccessTokenInternal();if(!v)throw Error("User must be logged in to create an embedded wallet");let{address:h}=await this._proxy.create({accessToken:v,recoveryMethod:a,recoveryKey:c,recoveryPassword:e,recoveryAccessToken:i,recoverySecretOverride:m,iCloudRecordNameOverride:s,solanaAddress:g?.address});if(!h)throw Error("Failed to create wallet")}return await this._privyInternal.refreshSession(r)}async createSolana(e){if(!this._proxy)throw new un({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});if(this._privyInternal.config?.embedded_wallet_config.mode==="user-controlled-server-wallets-only")await j4({context:{app:this._appApi,fetchPrivyRoute:(...n)=>this._privyInternal.fetch(...n),getCompiledPath:(...n)=>this._privyInternal.getPath(...n)},chainType:"solana"});else{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw new un({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});e?.ethereumAccount&&await this.getProvider(e.ethereumAccount);let{publicKey:i}=await this._proxy.createSolana({accessToken:n,ethereumAddress:e?.ethereumAccount?.address});if(!i)throw new un({error:"Failed to create wallet",code:"embedded_wallet_creation_error"})}return await this._privyInternal.refreshSession()}async delegateWallets({delegatedWallets:e,rootWallet:n}){if(!this._proxy)throw new un({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});let i=await this._privyInternal.getAccessTokenInternal();if(!i)throw new un({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.delegateWallets({accessToken:i,delegatedWallets:e,rootWallet:n})}async getProvider(e,n,i,c,m){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return cc(e)||await this._load({wallet:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",recoveryPassword:n,recoveryKey:m,recoveryAccessToken:i,recoverySecretOverride:c}),new V4({account:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}async getEthereumProvider({wallet:e,entropyId:n,entropyIdVerifier:i,recoveryPassword:c,recoveryAccessToken:m,recoverySecretOverride:s,recoveryKey:g,onNeedsRecovery:r}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessTokenInternal())throw Error("User must be logged in to create an embedded wallet");return cc(e)||(!r||c||m||s||g)&&await this._load({entropyId:n,entropyIdVerifier:i,wallet:e,recoveryPassword:c,recoveryAccessToken:m,recoverySecretOverride:s,recoveryKey:g}),new V4({account:e,entropyId:n,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,onNeedsRecovery:r,appApi:this._appApi})}async getSolanaProvider(e,n,i,c,m,s,g){if(!this._proxy)throw new un({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return cc(e)||(!g||c||m||s)&&await this._load({wallet:e,entropyId:n,entropyIdVerifier:i,recoveryPassword:c,recoveryAccessToken:m,recoverySecretOverride:s}),new ffe({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:n,entropyIdVerifier:i,onNeedsRecovery:g,app:this._appApi})}async setRecovery(e){let{wallet:n,...i}=e;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(cc(n))throw new un({error:"This wallet does not support setting recovery methods",code:"unsupported_recovery_method"});qde({currentRecoveryMethod:n.recovery_method,upgradeToRecoveryMethod:i.recoveryMethod==="icloud-native"?"icloud":i.recoveryMethod}),await this._load(n.chain_type==="solana"?{wallet:n,entropyId:n.address,entropyIdVerifier:"solana-address-verifier"}:{wallet:n,entropyId:n.address,entropyIdVerifier:"ethereum-address-verifier"});let c=await this._privyInternal.getAccessTokenInternal();if(!c)throw Error("User must be logged in to interact with embedded wallets");let m=n.recovery_method;this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_started",{address:n.address,target_recovery_method:i.recoveryMethod,existing_recovery_method:m});try{let s;if(i.recoveryMethod==="user-passcode")s={recoveryMethod:"user-passcode",recoveryPassword:i.password};else if(i.recoveryMethod==="google-drive")s={recoveryMethod:"google-drive",recoveryAccessToken:i.recoveryAccessToken};else if(i.recoveryMethod==="icloud")s={recoveryMethod:"icloud",recoveryAccessToken:i.recoveryAccessToken};else if(i.recoveryMethod==="icloud-native")s={recoveryMethod:"icloud-native",iCloudRecordNameOverride:i.iCloudRecordNameOverride,recoverySecretOverride:i.recoverySecretOverride};else if(i.recoveryMethod==="recovery-encryption-key")s={recoveryMethod:"recovery-encryption-key",recoveryKey:i.recoveryKey};else{if(i.recoveryMethod!=="privy")throw Error(`Unknown recovery method: ${i.recoveryMethod}`);s={recoveryMethod:"privy"}}await this._proxy.setRecovery({accessToken:c,entropyId:n.address,entropyIdVerifier:n.chain_type==="solana"?"solana-address-verifier":"ethereum-address-verifier",...s}),this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_completed",{address:n.address,target_recovery_method:i.recoveryMethod,existing_recovery_method:m});let{user:g}=await this._privyInternal.refreshSession();return{user:g,provider:n.chain_type!=="ethereum"?null:new V4({account:n,entropyId:n.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}}catch(s){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_failed",{address:n.address,recovery_method:n.recovery_method,error:s instanceof Error?s.message:"Unable to recover wallet"}),s}}getURL(){let e=new URL(`${this._privyInternal.baseUrl}/apps/${this._privyInternal.appId}/embedded-wallets`);return this._privyInternal.caid&&e.searchParams.append("caid",this._privyInternal.caid),this._privyInternal.appClientId&&e.searchParams.append("client_id",this._privyInternal.appClientId),e.href}get chains(){return this._chains}onMessage(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return this._proxy.handleEmbeddedWalletMessages(e)}reload(){this._proxy?this._proxy.reload():console.warn("Attempted to reload proxy before initialized")}async ping(e){try{if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return await this._proxy.ping(e),!0}catch(n){return console.error(n),!1}}async _load({entropyId:e,entropyIdVerifier:n,wallet:i,recoveryPassword:c,recoveryKey:m,recoveryAccessToken:s,recoverySecretOverride:g}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let r=await this._privyInternal.getAccessTokenInternal();if(!r)throw Error("User must be logged in to interact with embedded wallets");try{return await this._proxy.connect({accessToken:r,entropyId:e,entropyIdVerifier:n}),e}catch(a){if(Q9(a))try{if(i.recovery_method==="privy"){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:i.address,recovery_method:i.recovery_method});let v=await this._proxy.recover({accessToken:r,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:i.address,recovery_method:i.recovery_method}),v.entropyId}if(i.recovery_method==="user-passcode"&&c){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:i.address,recovery_method:i.recovery_method});let v=await this._proxy.recover({accessToken:r,recoveryPassword:c,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:i.address,recovery_method:i.recovery_method}),v.entropyId}if(["google-drive","icloud"].includes(i.recovery_method)&&s){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:i.address,recovery_method:i.recovery_method});let v=await this._proxy.recover({accessToken:r,recoveryAccessToken:s,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:i.address,recovery_method:i.recovery_method}),v.entropyId}if(i.recovery_method==="icloud"&&g){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:i.address,recovery_method:"icloud-native"});let v=await this._proxy.recover({accessToken:r,recoverySecretOverride:g,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:i.address,recovery_method:"icloud-native"}),v.entropyId}if(i.recovery_method==="recovery-encryption-key"&&m){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:i.address,recovery_method:i.recovery_method});let v=await this._proxy.recover({accessToken:r,recoveryKey:m,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:i.address,recovery_method:i.recovery_method}),v.entropyId}}catch(v){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_failed",{address:i.address,recovery_method:i.recovery_method,error:v instanceof Error?v.message:`Unable to recover wallet: ${e}`}),v}throw a}}constructor(e,n,i,c,m,s){if(this._chains=Array.from(e1),this._privyInternal=e,n&&(this._proxy=new EM(n,m),c.setProxy(this._proxy)),i){let g=vW(i);this._chains=g}this._mfa=c,this._mfaPromises=m,this._appApi=s}},vfe=class extends xd{constructor(){super(),this.rootPromise={current:null},this.submitPromise={current:null}}};var G2={exports:{}},gfe=G2.exports,AM;function mfe(){return AM||(AM=1,(function(t,e){(function(n,i){t.exports=i()})(gfe,(function(){var n=function(m,s){if(s=s||{},typeof m!="function")throw new c("fetch must be a function");if(typeof s!="object")throw new c("defaults must be an object");if(s.retries!==void 0&&!i(s.retries))throw new c("retries must be a positive integer");if(s.retryDelay!==void 0&&!i(s.retryDelay)&&typeof s.retryDelay!="function")throw new c("retryDelay must be a positive integer or a function returning a positive integer");if(s.retryOn!==void 0&&!Array.isArray(s.retryOn)&&typeof s.retryOn!="function")throw new c("retryOn property expects an array or function");var g={retries:3,retryDelay:1e3,retryOn:[]};return s=Object.assign(g,s),function(a,v){var h=s.retries,u=s.retryDelay,l=s.retryOn;if(v&&v.retries!==void 0)if(i(v.retries))h=v.retries;else throw new c("retries must be a positive integer");if(v&&v.retryDelay!==void 0)if(i(v.retryDelay)||typeof v.retryDelay=="function")u=v.retryDelay;else throw new c("retryDelay must be a positive integer or a function returning a positive integer");if(v&&v.retryOn)if(Array.isArray(v.retryOn)||typeof v.retryOn=="function")l=v.retryOn;else throw new c("retryOn property expects an array or function");return new Promise(function(o,d){var p=function(y){var w=typeof Request<"u"&&a instanceof Request?a.clone():a;m(w,v).then(function(x){if(Array.isArray(l)&&l.indexOf(x.status)===-1)o(x);else if(typeof l=="function")try{return Promise.resolve(l(y,null,x)).then(function(b){b?f(y,null,x):o(x)}).catch(d)}catch(b){d(b)}else y<h?f(y,null,x):o(x)}).catch(function(x){if(typeof l=="function")try{Promise.resolve(l(y,x,null)).then(function(b){b?f(y,x,null):d(x)}).catch(function(b){d(b)})}catch(b){d(b)}else y<h?f(y,x,null):d(x)})};function f(y,w,x){var b=typeof u=="function"?u(y,w,x):u;setTimeout(function(){p(++y)},b)}p(0)})}};function i(m){return Number.isInteger(m)&&m>=0}function c(m){this.name="ArgumentError",this.message=m}return n}))})(G2)),G2.exports}var yfe=mfe();const bW=La(yfe);let zy;const wfe=new Uint8Array(16);function xfe(){if(!zy&&(zy=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!zy))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return zy(wfe)}const hi=[];for(let t=0;t<256;++t)hi.push((t+256).toString(16).slice(1));function bfe(t,e=0){return hi[t[e+0]]+hi[t[e+1]]+hi[t[e+2]]+hi[t[e+3]]+"-"+hi[t[e+4]]+hi[t[e+5]]+"-"+hi[t[e+6]]+hi[t[e+7]]+"-"+hi[t[e+8]]+hi[t[e+9]]+"-"+hi[t[e+10]]+hi[t[e+11]]+hi[t[e+12]]+hi[t[e+13]]+hi[t[e+14]]+hi[t[e+15]]}const Efe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),PM={randomUUID:Efe};function SC(t,e,n){if(PM.randomUUID&&!t)return PM.randomUUID();t=t||{};const i=t.random||(t.rng||xfe)();return i[6]=i[6]&15|64,i[8]=i[8]&63|128,bfe(i)}/*! js-cookie v3.0.5 | MIT */function Wy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}var Cfe={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function TC(t,e){function n(c,m,s){if(!(typeof document>"u")){s=Wy({},e,s),typeof s.expires=="number"&&(s.expires=new Date(Date.now()+s.expires*864e5)),s.expires&&(s.expires=s.expires.toUTCString()),c=encodeURIComponent(c).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var g="";for(var r in s)s[r]&&(g+="; "+r,s[r]!==!0&&(g+="="+s[r].split(";")[0]));return document.cookie=c+"="+t.write(m,c)+g}}function i(c){if(!(typeof document>"u"||arguments.length&&!c)){for(var m=document.cookie?document.cookie.split("; "):[],s={},g=0;g<m.length;g++){var r=m[g].split("="),a=r.slice(1).join("=");try{var v=decodeURIComponent(r[0]);if(s[v]=t.read(a,v),c===v)break}catch{}}return c?s[c]:s}}return Object.create({set:n,get:i,remove:function(c,m){n(c,"",Wy({},m,{expires:-1}))},withAttributes:function(c){return TC(this.converter,Wy({},this.attributes,c))},withConverter:function(c){return TC(Wy({},this.converter,c),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var fr=TC(Cfe,{path:"/"});const IM=Promise.allSettled.bind(Promise)??(t=>Promise.all(t.map((e=>e.then((n=>({status:"fulfilled",value:n}))).catch((n=>({status:"rejected",reason:n})))))));let xf="privy:token",H4="privy-token",Y4="privy:pat",Gy="privy:refresh_token",X4="privy-refresh-token",bf="privy:id-token",K4="privy-id-token",Vy="privy-session",EW=class extends xd{set isUsingServerCookies(e){this._isUsingServerCookies=e}async getCustomerAccessToken(){let e=await this._storage.get(xf);try{return typeof e=="string"?new qf(e).value:null}catch(n){return console.error(n),await this.destroyLocalState({reason:"getToken_error"}),null}}async getPrivyAccessToken(){let e=await this._storage.get(Y4);try{return typeof e=="string"?new qf(e).value:null}catch(n){return console.error(n),await this.destroyLocalState({reason:"getToken_error"}),null}}async getRefreshToken(){let e=await this._storage.get(Gy);return typeof e=="string"?e:null}async getIdentityToken(){let e=await this._storage.get(bf);return typeof e=="string"?e:null}get mightHaveServerCookies(){try{let e=fr.get(Vy);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e,n){return this.mightHaveServerCookies||typeof e=="string"&&typeof n=="string"}tokenIsActive(e){if(!e)return!1;let n=qf.parse(e);return n!==null&&!n.isExpired(30)}async destroyLocalState(e){await IM([this._storage.del(xf),this._storage.del(Gy),this._storage.del(bf),this._storage.del(this.GUEST_CREDENTIAL_STORAGE_KEY)]),fr.remove(H4),fr.remove(X4),fr.remove(K4),fr.remove(Vy),e?.reason&&this.emit("storage_cleared",{reason:e.reason})}async storeCustomerAccessToken(e){if(typeof e=="string"){let n=await this._storage.get(xf);if(await this._storage.put(xf,e),!this._isUsingServerCookies){let i=qf.parse(e)?.expiration;fr.set(H4,e,{sameSite:"Strict",secure:!0,expires:i?new Date(1e3*i):void 0})}n!==e&&this.emit("token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let n=await this._storage.get(xf);await this._storage.del(xf),fr.remove(H4),n!==null&&this.emit("token_cleared",{reason:"set_with_non_string_value"})}}async storePrivyAccessToken(e){typeof e=="string"?await this._storage.put(Y4,e):await this._storage.del(Y4)}async storeRefreshToken(e){typeof e=="string"?(await this._storage.put(Gy,e),this._isUsingServerCookies||(fr.set(Vy,"t",{sameSite:"Strict",secure:!0,expires:30}),fr.set(X4,e,{sameSite:"Strict",secure:!0,expires:30})),this.emit("refresh_token_stored",{cookiesEnabled:this._isUsingServerCookies})):(await this._storage.del(Gy),fr.remove(X4),fr.remove(Vy),this.emit("refresh_token_cleared",{reason:"set_with_non_string_value"}))}async updateWithTokensResponse(e){let n=(await IM([this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token),this.storeRefreshToken(e.refresh_token),this.storeIdentityToken(e.identity_token),this.processOAuthTokens(e.oauth_tokens)])).filter((i=>i.status==="rejected"));n.length>0&&this.emit("error_storing_tokens",n.map((i=>String(i.reason))).join(", "))}async processOAuthTokens(e){e&&this.emit("oauth_tokens_granted",e)}async storeIdentityToken(e){if(typeof e=="string"){let n=await this._storage.get(bf);if(await this._storage.put(bf,e),!this._isUsingServerCookies){let i=qf.parse(e)?.expiration;fr.set(K4,e,{sameSite:"Strict",secure:!0,expires:i?new Date(1e3*i):void 0})}n!==e&&this.emit("identity_token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let n=await this._storage.get(bf);await this._storage.del(bf),fr.remove(K4),n!==null&&this.emit("identity_token_cleared",{reason:"set_with_non_string_value"})}}async getOrCreateGuestCredential(){let e=this._storage.get(this.GUEST_CREDENTIAL_STORAGE_KEY);if(e&&typeof e=="string")return e;let n=td(crypto.getRandomValues(new Uint8Array(32)));return await this._storage.put(this.GUEST_CREDENTIAL_STORAGE_KEY,n),n}constructor(e){super(),this._isUsingServerCookies=!1,this._storage=e.storage,this.GUEST_CREDENTIAL_STORAGE_KEY=`privy:guest:${e.appId}`}};EW.events=["storage_cleared","token_cleared","refresh_token_cleared","identity_token_cleared","token_stored","refresh_token_stored","identity_token_stored","oauth_tokens_granted","error_storing_tokens"];var Sfe=t=>{let e=new AbortController;return setTimeout((()=>e.abort()),t),e.signal};function Tfe(t){let e=new URLSearchParams;for(let n in t)t[n]!=null&&e.append(n,String(t[n]));return Array.from(e).length?"?"+e.toString():""}const Hy=()=>{};let Wu={NONE:Number.NEGATIVE_INFINITY,ERROR:1,WARN:2,INFO:3,DEBUG:Number.POSITIVE_INFINITY};const Afe=({level:t}={level:"ERROR"})=>({get level(){return t},error:Wu[t]>=Wu.ERROR?console.error:Hy,warn:Wu[t]>=Wu.WARN?console.warn:Hy,info:Wu[t]>=Wu.INFO?console.info:Hy,debug:Wu[t]>=Wu.DEBUG?console.debug:Hy});let Z4="privy:caid",Pfe=class{setCallbacks(e){this.callbacks={...this.callbacks,...e}}get isReady(){return!!this._config}get config(){return this._config}get caid(){return this._analyticsId}async _initialize(){if(this.isReady)this.callbacks?.setIsReady?.(!0);else{if(!await this.isStorageAccessible())throw new un({code:"storage_error",error:"Unable to access storage"});this._config=await this.getAppConfig(),this._config?.custom_api_url&&(this.baseUrl=this._config.custom_api_url,this.session.isUsingServerCookies=!0),this.callbacks?.setIsReady?.(!0),this._sdkVersion.startsWith("react-auth:")||this.createAnalyticsEvent("sdk_initialize",{})}}getPath(e,{params:n,query:i}){return`${this.baseUrl}${_ae(e.path,n)}${Tfe(i)}`}async fetch(e,{body:n,params:i,query:c,headers:m,onRequest:s=this._beforeRequest.bind(this)}){let g=new Request(this.getPath(e,{params:i,query:c}),{method:e.method,body:JSON.stringify(n),headers:m}),r=await s(g),a=await this._fetch(g,r),v=await a.json();if(a.status>299)throw new U4(v);return v}async _beforeRequestWithoutInitialize(e){let n=await this.session.getPrivyAccessToken()??await this.session.getCustomerAccessToken(),i=new Headers(e.headers);i.set("privy-app-id",this.appId),this.appClientId&&i.set("privy-client-id",this.appClientId),i.set("privy-client",this._sdkVersion),n&&i.set("Authorization",`Bearer ${n}`),i.set("Content-Type","application/json"),i.set("Accept","application/json");let c=await this._getOrGenerateClientAnalyticsId();return c&&i.set("privy-ca-id",c),this.nativeAppIdentifier&&i.set("x-native-app-identifier",this.nativeAppIdentifier),{signal:Sfe(2e4),headers:i,credentials:"include"}}async beforeRequestWithoutRefresh(e){return await this._initialize(),this._beforeRequestWithoutInitialize(e)}async _beforeRequest(e){return await this._initialize(),await this.getAccessTokenInternal(),this.beforeRequestWithoutRefresh(e)}async getAppConfig(){return await this.fetch(hae,{params:{app_id:this.appId},onRequest:this._beforeRequestWithoutInitialize.bind(this)})}async _getOrGenerateClientAnalyticsId(){if(this._analyticsId)return this._analyticsId;try{let e=await this._storage.get(Z4);if(typeof e=="string"&&e.length>0)return this._analyticsId=e,e}catch(e){this.logger.error("Unable to load clientId",e)}try{this._analyticsId=SC()}catch(e){this.logger.error("Unable to generate uuidv4",e)}if(!this._analyticsId)return null;try{await this._storage.put(Z4,this._analyticsId)}catch(e){this.logger.error(`Unable to store clientId: ${this._analyticsId}`,e)}return this._analyticsId}async destroyClientAnalyticsId(){try{return await this._storage.del(Z4)}catch(e){this.logger.error("Unable to delete clientId",e)}}async createAnalyticsEvent(e,n){try{await this.fetch(cae,{body:{event_name:e,client_id:await this._getOrGenerateClientAnalyticsId(),payload:n},onRequest:this.beforeRequestWithoutRefresh.bind(this)})}catch{}}async refreshSession(e=!1){if(!await this.isStorageAccessible())throw new un({code:"storage_error",error:"Unable to access storage"});let n=await this.session.getRefreshToken()??void 0,i=n??"key",c=this._cache.get(i);if(c)return this.logger.debug("[privy:refresh] found in-flight session refresh request, deduping"),await c;let m=this._refreshSession(n,e);this._cache.set(i,m);try{return await m}finally{this._cache.delete(i)}}async _refreshSession(e,n){let i=await this.session.getCustomerAccessToken();if(!this.session.hasRefreshCredentials(i,e??null))throw this.logger.debug("[privy:refresh] missing tokens, skipping request"),await this._initialize(),new U4({code:LO.MISSING_OR_INVALID_TOKEN,error:"No tokens found in storage"});try{this.logger.debug(`[privy:refresh] fetching: ${FO.path}`);let c=await this.fetch(FO,{body:{refresh_token:e},onRequest:this.beforeRequestWithoutRefresh.bind(this)}),m=c.session_update_action;return this.logger.debug(`[privy:refresh] response: ${m}`),n||this.callbacks?.setUser?.(c.user),m==="set"&&(await this.session.updateWithTokensResponse(c),this.logger.debug("[privy:refresh] tokens stored")),m==="clear"&&(await this.session.destroyLocalState(),this.logger.debug("[privy:refresh] tokens cleared"),n||this.callbacks?.setUser?.(null)),m==="ignore"&&c.token&&(await this.session.storeCustomerAccessToken(c.token),await this.session.storePrivyAccessToken(c.privy_access_token),this.logger.debug("[privy:refresh] access token stored"),c.identity_token&&(this.logger.debug("[privy:refresh] identity token stored"),await this.session.storeIdentityToken(c.identity_token))),this.logger.debug("[privy:refresh] returning response"),c}catch(c){throw this.logger.debug(`[privy:refresh] error: ${c.message??"unknown error"}`),c instanceof U4&&c.code===LO.MISSING_OR_INVALID_TOKEN&&(await this.session.destroyLocalState(),n||this.callbacks?.setUser?.(null)),c}}async getAccessToken(){let[e,n]=await Promise.all([this.session.getCustomerAccessToken(),this.session.getRefreshToken()]);if(!this.session.tokenIsActive(e)&&this.session.hasRefreshCredentials(e,n)){let i=await this.refreshSession(),c=await this.session.getCustomerAccessToken();return i.token||this.logger.debug("[privy:getAccessToken] expected token received null"),i.token===e&&this.logger.debug("[privy:getAccessToken] expected new token in response received existing"),c===e&&this.logger.debug("[privy:getAccessToken] expected new token in storage received existing"),i.token??c}return e}async getAccessTokenInternal(){let e=await this.getAccessToken();return await this.session.getPrivyAccessToken()??e}async getIdentityToken(){return await this.session.getIdentityToken()}async isStorageAccessible(){try{let e=`privy:__storage__test-${SC()}`,n="blobby";await this._storage.put(e,n);let i=await this._storage.get(e);return await this._storage.del(e),i===n}catch(e){return this.logger.error(e),!1}}constructor(e){this._sdkVersion="js-sdk-core:0.56.3",this._cache=new Map,this.logger=Afe({level:e.logLevel??"ERROR"}),this._storage=e.storage,this._analyticsId=null,this._getOrGenerateClientAnalyticsId(),this.baseUrl=e.baseUrl??"https://auth.privy.io",this.appId=e.appId,this.appClientId=e.appClientId,this._sdkVersion=e.sdkVersion??this._sdkVersion,this.callbacks=e.callbacks,this.nativeAppIdentifier=e.nativeAppIdentifier,this.session=new EW({storage:this._storage,isUsingServerCookies:!1,appId:e.appId}),this._fetch=bW(globalThis.fetch,{retries:3,retryDelay:n=>3**n*500,retryOn:[408,409,425,500,502,503,504]}),this.session.on("error_storing_tokens",(n=>{this.createAnalyticsEvent("error_updating_tokens_in_storage",{reason:n})}))}},Ife=class{async get(){let{user:e}=await this._privyInternal.refreshSession();return{user:e}}async acceptTerms(){return{user:await this._privyInternal.fetch(loe,{})}}constructor(e){this._privyInternal=e}};const CW=t=>t.type==="wallet"&&t.wallet_client_type==="privy"&&t.connector_type==="embedded",SW=t=>t?t.linked_accounts.filter(CW).filter((e=>e.chain_type==="ethereum")).sort(((e,n)=>e.wallet_index-n.wallet_index)):[],RM=t=>SW(t).find((e=>e.wallet_index===0))??null,TW=t=>t?t.linked_accounts.filter(CW).filter((e=>e.chain_type==="solana")).sort(((e,n)=>e.wallet_index-n.wallet_index)):[],Rfe=t=>TW(t).find((e=>e.wallet_index===0))??null,Ofe=(t,e)=>!(e==="off"||SW(t).length>0||t.linked_accounts.filter((n=>n.type==="wallet"&&n.chain_type==="ethereum")).length>0&&e!=="all-users"),Mfe=(t,e)=>!(e==="off"||TW(t).length>0||t.linked_accounts.filter((n=>n.type==="wallet"&&n.chain_type==="solana")).length>0&&e!=="all-users"),xo=async(t,e,n)=>{let i=Ofe(e.user,n?.ethereum?.createOnLogin??"off"),c=Mfe(e.user,n?.solana?.createOnLogin??"off");if(i&&c){let m=await t.create({recoveryMethod:"privy",skipCallbacks:!0});return{...await t.createSolana({ethereumAccount:RM(m.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}}return i?{...await t.create({recoveryMethod:"privy",solanaAccount:Rfe(e.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}:c?{...await t.createSolana({ethereumAccount:RM(e.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}:e};let $fe=class{async syncWithToken(e,n,i){let c=await this._privyInternal.fetch(vae,{body:{token:e,mode:i}});await this._privyInternal.session.updateWithTokensResponse(c);let m=await xo(this._embedded,c,n?.embedded);return this._privyInternal.callbacks?.setUser?.(m.user),m}constructor(e,n){this._privyInternal=e,this._embedded=n}},Ffe=class{async sendCode(e,n){return this._privyInternal.fetch(kae,{body:{email:e,token:n}})}async loginWithCode(e,n,i,c){let m=await this._privyInternal.fetch(Nae,{body:{email:e,code:n,mode:i}});await this._privyInternal.session.updateWithTokensResponse(m);let s=await xo(this._embedded,m,c?.embedded);return this._privyInternal.callbacks?.setUser?.(s.user),s}async linkWithCode(e,n){await this._privyInternal.fetch(Bae,{body:{email:e,code:n}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async updateEmail({oldEmailAddress:e,newEmailAddress:n,code:i}){await this._privyInternal.fetch(jae,{body:{oldAddress:e,newAddress:n,code:i}});let c=await this._privyInternal.refreshSession();return{user:c.user,identity_token:c.identity_token}}async unlink(e){await this._privyInternal.fetch(Uae,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},Lfe=class{async initializeAuth({relyingParty:e,redirectUrl:n,token:i}){return await this._privyInternal.fetch(gae,{body:{relying_party:e,redirect_url:n,token:i}})}async getFarcasterStatus({channel_token:e}){return await this._privyInternal.fetch(xae,{headers:{"farcaster-channel-token":e}})}async authenticate({channel_token:e,message:n,signature:i,fid:c,mode:m},s){let g=await this._privyInternal.fetch(mae,{body:{channel_token:e,message:n,signature:i,fid:c,mode:m}});await this._privyInternal.session.updateWithTokensResponse(g);let r=await xo(this._embedded,g,s?.embedded);return this._privyInternal.callbacks?.setUser?.(r.user),r}async link({channel_token:e,message:n,signature:i,fid:c}){await this._privyInternal.fetch(yae,{body:{channel_token:e,message:n,signature:i,fid:c}});let m=await this._privyInternal.refreshSession();return{user:m.user,identity_token:m.identity_token}}async unlink({fid:e}){await this._privyInternal.fetch(wae,{body:{fid:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},Dfe=class{async initializeAuth(){return await this._privyInternal.fetch(bae,{body:{}})}async authenticate({message:e,signature:n,fid:i},c){let m=await this._privyInternal.fetch(Eae,{body:{message:e,signature:n,fid:i}});await this._privyInternal.session.updateWithTokensResponse(m);let s=await xo(this._embedded,m,c?.embedded);return this._privyInternal.callbacks?.setUser?.(s.user),s}constructor(e,n){this._privyInternal=e,this._embedded=n}},Nfe=class{async create(e){let n=await this._privyInternal.session.getOrCreateGuestCredential(),i=await this._privyInternal.fetch(Cae,{body:{guest_credential:n}});await this._privyInternal.session.updateWithTokensResponse(i);let c=await xo(this._embedded,i,e?.embedded);return this._privyInternal.callbacks?.setUser?.(c.user),c}constructor(e,n){this._privyInternal=e,this._embedded=n}};const hc="privy:state_code",dc="privy:code_verifier";async function kfe(t,e){let n=new TextEncoder().encode(t);return new Uint8Array(await e("SHA-256",n))}function Bfe(t){return crypto.getRandomValues(new Uint8Array(t))}function q9(){return td(Bfe(36))}function AW(){return q9()}async function PW({codeVerifier:t,method:e="S256",digest:n=crypto.subtle.digest.bind(crypto.subtle)}){if(e!="S256")return t;{let i=await kfe(t,n);return td(i)}}let Ufe=class{async generateURL(e,n){let i=q9(),c=AW(),m=await PW({codeVerifier:i,digest:this._crypto?.digest});return await Promise.all([this._storage.put(dc,i),this._storage.put(hc,c)]),this._privyInternal.fetch(Pae,{body:{redirect_to:n,provider:e,code_challenge:m,state_code:c}})}async loginWithCode(e,n,i,c,m,s){let[g,r]=await Promise.all([this._storage.get(dc),this._storage.get(hc)]);if(r!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:i,storedStateCode:r??"",returnedStateCode:n??""}),new un({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let a=await this._privyInternal.fetch(Aae,{body:{authorization_code:e,code_type:c,state_code:r,code_verifier:g,mode:m}});await this._privyInternal.session.updateWithTokensResponse(a);let v=await xo(this._embedded,a,s?.embedded);return await Promise.all([this._storage.del(dc),this._storage.del(hc)]),this._privyInternal.callbacks?.setUser?.(v.user),v}async linkWithCode(e,n,i,c){let[m,s]=await Promise.all([this._storage.get(dc),this._storage.get(hc)]);if(s!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:i,storedStateCode:s??"",returnedStateCode:n??""}),new un({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let g=await this._privyInternal.fetch(Iae,{body:{authorization_code:e,code_type:c,state_code:s,code_verifier:m}});await this._privyInternal.session.processOAuthTokens(g.oauth_tokens);let r=await this._privyInternal.refreshSession();return await Promise.all([this._storage.del(dc),this._storage.del(hc)]),{user:r.user,identity_token:r.identity_token}}async unlink(e,n){await this._privyInternal.fetch(Rae,{body:{provider:e,subject:n}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}constructor(e,n,i,c){this._privyInternal=e,this._embedded=n,this._storage=i,this._crypto=c}},jfe=class{async generateRegistrationOptions(e){return await this._privyInternal.fetch(Dae,{body:{relying_party:e}})}async generateAuthenticationOptions(e){return await this._privyInternal.fetch(Fae,{body:{relying_party:e}})}async generateSignupOptions(e){return await this._privyInternal.fetch(Lae,{body:{relying_party:e}})}async loginWithPasskey(e,n,i,c){let m=await this._privyInternal.fetch(Mae,{body:{relying_party:i,challenge:n,authenticator_response:this._transformAuthenticationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(m);let s=await xo(this._embedded,m,c?.embedded);return this._privyInternal.callbacks?.setUser?.(s.user),s}async signupWithPasskey(e,n,i){let c=await this._privyInternal.fetch($ae,{body:{relying_party:n,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(c);let m=await xo(this._embedded,c,i?.embedded);return this._privyInternal.callbacks?.setUser?.(m.user),m}async linkWithPasskey(e,n){await this._privyInternal.fetch(Oae,{body:{relying_party:n,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}_transformRegistrationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData||void 0,transports:e.response.transports||void 0,public_key:e.response.publicKey||void 0,public_key_algorithm:e.response.publicKeyAlgorithm||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}_transformAuthenticationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{signature:e.response.signature,client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,user_handle:e.response.userHandle||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}constructor(e,n){this._privyInternal=e,this._embedded=n}},zfe=class{async sendCode(e,n){return this._privyInternal.fetch(Wae,{body:{phoneNumber:e,token:n}})}async loginWithCode(e,n,i,c){let m=await this._privyInternal.fetch(zae,{body:{phoneNumber:e,code:n,mode:i}});await this._privyInternal.session.updateWithTokensResponse(m);let s=await xo(this._embedded,m,c?.embedded);return this._privyInternal.callbacks?.setUser?.(s.user),s}async linkWithCode(e,n){await this._privyInternal.fetch(Gae,{body:{phoneNumber:e,code:n}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async updatePhone({oldPhoneNumber:e,newPhoneNumber:n,code:i}){await this._privyInternal.fetch(Hae,{body:{old_phone_number:e,new_phone_number:n,code:i}});let c=await this._privyInternal.refreshSession();return{user:c.user,identity_token:c.identity_token}}async unlink(e){await this._privyInternal.fetch(Vae,{body:{phoneNumber:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},Wfe=class{async unlinkWallet(e){await this._privyInternal.fetch(roe,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async linkWithSiwe(e,n,i){let c=n||this._wallet,m=i||this._preparedMessage;if(!c)throw Error("A wallet must be provided in the init step or as an argument to linkWithSiwe");if(!m)throw Error("A message must be generated and signed before being used to link a wallet to privy");await this._privyInternal.fetch(toe,{body:{message:m,signature:e,chainId:c.chainId,walletClientType:c.walletClientType,connectorType:c.connectorType}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async loginWithSiwe(e,n,i,c,m){let s=n||this._wallet,g=i||this._preparedMessage;if(!s)throw Error("A wallet must be provided in the init step or as an argument to loginWithSiwe");if(!g)throw Error("A message must be generated and signed before being used to login to privy with a wallet");let r=await this._privyInternal.fetch(eoe,{body:{signature:e,message:g,chainId:s.chainId,walletClientType:s.walletClientType,connectorType:s.connectorType,mode:c}});await this._privyInternal.session.updateWithTokensResponse(r);let a=await xo(this._embedded,r,m?.embedded);return this._privyInternal.callbacks?.setUser?.(a.user),a}async init(e,n,i){var c;this._wallet=e;let{nonce:m}=await this._privyInternal.fetch(yz,{body:{address:e.address}}),s=`${(c={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:new Date().toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:n,nonce:m,uri:i}).domain} wants you to sign in with your Ethereum account:
${c.address}

${c.statement}

URI: ${c.uri}
Version: 1
Chain ID: ${c.chainId}
Nonce: ${c.nonce}
Issued At: ${c.issuedAt}
Resources:
- https://privy.io`;return this._preparedMessage=s,{nonce:m,message:s}}constructor(e,n){this._wallet=void 0,this._privyInternal=e,this._embedded=n}},Gfe=class{async unlink({address:e}){await this._privyInternal.fetch(ooe,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async link({message:e,signature:n,walletClientType:i,connectorType:c}){await this._privyInternal.fetch(aoe,{body:{message:e,signature:n,walletClientType:i,connectorType:c}});let m=await this._privyInternal.refreshSession();return{user:m.user,identity_token:m.identity_token}}async login({mode:e,message:n,signature:i,walletClientType:c,connectorType:m,opts:s}){let g=await this._privyInternal.fetch(soe,{body:{signature:i,message:n,walletClientType:c,connectorType:m,mode:e}});await this._privyInternal.session.updateWithTokensResponse(g);let r=await xo(this._embedded,g,s?.embedded);return this._privyInternal.callbacks?.setUser?.(r.user),r}async fetchNonce({address:e}){let{nonce:n}=await this._privyInternal.fetch(ioe,{body:{address:e}});return{nonce:n}}constructor(e,n){this._privyInternal=e,this._embedded=n}},Vfe=class{async link(e,n,i,c){await this._privyInternal.fetch(noe,{body:{message:e,signature:n,smart_wallet_type:i,smart_wallet_version:c}});let m=await this._privyInternal.refreshSession();return{user:m.user,identity_token:m.identity_token}}async init(e){var n;let{nonce:i}=await this._privyInternal.fetch(yz,{body:{address:e.address}});return{nonce:i,message:`${(n={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:new Date().toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:"privy.io",uri:"https://auth.privy.io",nonce:i}).domain} wants you to sign in with your Ethereum account:
${n.address}

${n.statement}

URI: ${n.uri}
Version: 1
Chain ID: ${n.chainId}
Nonce: ${n.nonce}
Issued At: ${n.issuedAt}
Resources:
- https://privy.io`}}constructor(e){this._privyInternal=e}},Hfe=class{async logout(){try{let e=await this._privyInternal.session.getRefreshToken()??void 0;await this._privyInternal.fetch(Qae,{body:{refresh_token:e}})}catch{console.warn("Error destroying session")}await Promise.all([this._privyInternal.session.destroyLocalState({reason:"logout"}),this._privyInternal.destroyClientAnalyticsId()]),this._privyInternal.callbacks?.setUser?.(null)}constructor(e,n,i,c){this._privyInternal=e,this.customProvider=new $fe(this._privyInternal,n),this.phone=new zfe(this._privyInternal,n),this.email=new Ffe(this._privyInternal,n),this.oauth=new Ufe(this._privyInternal,n,i,c),this.guest=new Nfe(this._privyInternal,n),this.siwe=new Wfe(this._privyInternal,n),this.siws=new Gfe(this._privyInternal,n),this.smartWallet=new Vfe(this._privyInternal),this.passkey=new jfe(this._privyInternal,n),this.farcaster=new Lfe(this._privyInternal,n),this.farcasterV2=new Dfe(this._privyInternal,n)}},Yfe=class{async initOnRampSession(e){return await this._privyInternal.fetch(dae,{body:e})}async getStatus(e){return await this._privyInternal.fetch(fae,{query:{partnerUserId:e}})}constructor(e){this._privyInternal=e}};const Xfe={prod:{url:"https://api.moonpay.com/v1",key:"pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL"},sandbox:{url:"https://api.moonpay.com/v1",key:"pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI"}};let Kfe=new Set([Na.id,Po.id,Ro.id,ka.id,Io.id,n3.id]),Zfe=new Set([Na.id,Po.id,Eu.id,Ro.id,ka.id,Io.id]);function Jfe(t,e){switch(e){case"native-currency":return Kfe.has(t);case"USDC":return Zfe.has(t);default:return console.warn("Unknown asset passed to MoonPay Onramp"),!1}}function _fe(t,e){switch(t){case Po.id:return e==="native-currency"?"ETH_ARBITRUM":"USDC_ARBITRUM";case Io.id:return e==="native-currency"?"AVAX_CCHAIN":"USDC_CCHAIN";case Ro.id:return e==="native-currency"?"ETH_BASE":"USDC_BASE";case n3.id:return"CELO_CELO";case ka.id:return e==="native-currency"?"MATIC_POLYGON":"USDC_POLYGON";case Na.id:return e==="native-currency"?"ETH_ETHEREUM":"USDC_ETHEREUM";default:return console.warn(`Chain ${t} not supported by Moonpay, defaulting to Ethereum mainnet`),"ETH_ETHEREUM"}}let Qfe=class{async sign(e){return await this._privyInternal.fetch(uoe,{body:e})}async getTransactionStatus({transactionId:e,useSandbox:n}){let{url:i,key:c}=Xfe[n?"sandbox":"prod"],m=await bW(fetch,{retries:3,retryDelay:500})(`${i}/transactions/ext/${e}?apiKey=${c}`);if(!m.ok)throw new Kde({error:`Failed to fetch transaction status for Transaction ${e}`,code:"failed_to_fetch_moonpay_transaction_status",response:m});let s=await m.json();return Array.isArray(s)?s.at(0):void 0}constructor(e){this._privyInternal=e}},qfe=class{constructor(e){this.moonpay=new Qfe(e),this.coinbase=new Yfe(e)}},epe=class{async generateAuthenticationOptions(e){return await this._privyInternal.fetch(Sae,{body:e})}constructor(e){this._privyInternal=e}},tpe=class{async sendCode(e){return await this._privyInternal.fetch(Tae,{body:e})}constructor(e){this._privyInternal=e}},npe=class{setProxy(e){this.proxy=e}async getAccessTokenInternal(){let e=await this.privyInternal.getAccessTokenInternal();if(!e)throw new un({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return e}async verifyMfa(){if(!this.proxy)throw new un({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.verifyMfa({accessToken:await this.getAccessTokenInternal()})}async initEnrollMfa(e){if(!this.proxy)throw new un({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.initEnrollMfa({...e,accessToken:await this.getAccessTokenInternal()})}async submitEnrollMfa(e){if(!this.proxy)throw new un({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let n=await this.proxy.submitEnrollMfa({...e,accessToken:await this.getAccessTokenInternal()});return await this.privyInternal.refreshSession(),n}async unenrollMfa(e){if(!this.proxy)throw new un({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let n=await this.proxy.unenrollMfa({method:e,accessToken:await this.getAccessTokenInternal()});return await this.privyInternal.refreshSession(),n}async clearMfa(e){if(!this.proxy)throw new un({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.clearMfa(e)}constructor(e,n){this.proxy=n,this.privyInternal=e,this.sms=new tpe(e),this.passkey=new epe(e)}},rpe=class{async init(e){return this._privyInternal.fetch(Zae,{body:{client_type:e}})}async getICloudConfiguration(e){return this._privyInternal.fetch(Jae,{body:{client_type:e}})}constructor(e){this._privyInternal=e}},ipe=class{async generateURL(e){let n=q9(),i=AW(),c=await PW({codeVerifier:n,digest:this._crypto?.digest});return await Promise.all([this._storage.put(dc,n),this._storage.put(hc,i)]),this._privyInternal.fetch(Xae,{body:{redirect_to:e,code_challenge:c,state_code:i}})}async authorize(e,n){let[i,c]=await Promise.all([this._storage.get(dc),this._storage.get(hc)]);if(c!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"recovery_oauth",storedStateCode:c??"",returnedStateCode:n??""}),new un({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let m=await this._privyInternal.fetch(Kae,{body:{authorization_code:e,state_code:c,code_verifier:i}});return await Promise.all([this._storage.del(dc),this._storage.del(hc)]),m}constructor(e,n,i){this._privyInternal=e,this._storage=n,this._crypto=i}},spe=class{async getRecoveryKeyMaterial(e,n){return this._privyInternal.fetch(Yae,{body:{chain_type:n},params:{address:e}})}constructor(e,n,i){this._privyInternal=e,this.auth=new ipe(this._privyInternal,n,i),this.icloudAuth=new rpe(this._privyInternal)}},ape=class{async initialize(){await this._privyInternal._initialize()}setMessagePoster(e){this.embeddedWallet.setMessagePoster(e)}addOAuthTokensListener(e){return this._privyInternal.session.on("oauth_tokens_granted",e),{unsubscribe:()=>{this._privyInternal.session.removeListener("oauth_tokens_granted",e)}}}setCallbacks(e){this._privyInternal.setCallbacks(e)}getAccessToken(){return this._privyInternal.getAccessToken()}getIdentityToken(){return this._privyInternal.getIdentityToken()}getCompiledPath(e,n){return this._privyInternal.getPath(e,n)}async fetchPrivyRoute(e,n){return this._privyInternal.fetch(e,n)}get logger(){return this._privyInternal.logger}constructor({clientId:e,...n}){this._privyInternal=new Pfe({...n,appClientId:e}),this.mfa=new npe(this._privyInternal),this.mfaPromises=new vfe,this.app=new Sde(this._privyInternal),this.embeddedWallet=new pfe(this._privyInternal,n.embeddedWalletMessagePoster,n.supportedChains,this.mfa,this.mfaPromises,this.app),this.user=new Ife(this._privyInternal),this.auth=new Hfe(this._privyInternal,this.embeddedWallet,n.storage,n.crypto),this.recovery=new spe(this._privyInternal,n.storage,n.crypto),this.funding=new qfe(this._privyInternal),this.delegated=new Lde(this._privyInternal),this.crossApp=new hW(this._privyInternal,n.storage)}};const ope={AC:"40123",AD:"312345",AE:"501234567",AF:"701234567",AG:"2684641234",AI:"2642351234",AL:"672123456",AM:"77123456",AO:"923123456",AR:"91123456789",AS:"6847331234",AT:"664123456",AU:"412345678",AW:"5601234",AX:"412345678",AZ:"401234567",BA:"61123456",BB:"2462501234",BD:"1812345678",BE:"470123456",BF:"70123456",BG:"43012345",BH:"36001234",BI:"79561234",BJ:"0195123456",BL:"690001234",BM:"4413701234",BN:"7123456",BO:"71234567",BQ:"3181234",BR:"11961234567",BS:"2423591234",BT:"17123456",BW:"71123456",BY:"294911911",BZ:"6221234",CA:"5062345678",CC:"412345678",CD:"991234567",CF:"70012345",CG:"061234567",CH:"781234567",CI:"0123456789",CK:"71234",CL:"221234567",CM:"671234567",CN:"13123456789",CO:"3211234567",CR:"83123456",CU:"51234567",CV:"9911234",CW:"95181234",CX:"412345678",CY:"96123456",CZ:"601123456",DE:"15123456789",DJ:"77831001",DK:"34412345",DM:"7672251234",DO:"8092345678",DZ:"551234567",EC:"991234567",EE:"51234567",EG:"1001234567",EH:"650123456",ER:"7123456",ES:"612345678",ET:"911234567",FI:"412345678",FJ:"7012345",FK:"51234",FM:"3501234",FO:"211234",FR:"612345678",GA:"06031234",GB:"7400123456",GD:"4734031234",GE:"555123456",GF:"694201234",GG:"7781123456",GH:"231234567",GI:"57123456",GL:"221234",GM:"3012345",GN:"601123456",GP:"690001234",GQ:"222123456",GR:"6912345678",GT:"51234567",GU:"6713001234",GW:"955012345",GY:"6091234",HK:"51234567",HN:"91234567",HR:"921234567",HT:"34101234",HU:"201234567",ID:"812345678",IE:"850123456",IL:"502345678",IM:"7924123456",IN:"8123456789",IO:"3801234",IQ:"7912345678",IR:"9123456789",IS:"6111234",IT:"3123456789",JE:"7797712345",JM:"8762101234",JO:"790123456",JP:"9012345678",KE:"712123456",KG:"700123456",KH:"91234567",KI:"72001234",KM:"3212345",KN:"8697652917",KP:"1921234567",KR:"1020000000",KW:"50012345",KY:"3453231234",KZ:"7710009998",LA:"2023123456",LB:"71123456",LC:"7582845678",LI:"660234567",LK:"712345678",LR:"770123456",LS:"50123456",LT:"61234567",LU:"628123456",LV:"21234567",LY:"912345678",MA:"650123456",MC:"612345678",MD:"62112345",ME:"60123456",MF:"690001234",MG:"321234567",MH:"2351234",MK:"72345678",ML:"65012345",MM:"92123456",MN:"88123456",MO:"66123456",MP:"6702345678",MQ:"696201234",MR:"22123456",MS:"6644923456",MT:"96961234",MU:"52512345",MV:"7712345",MW:"991234567",MX:"2221234567",MY:"123456789",MZ:"821234567",NA:"811234567",NC:"751234",NE:"93123456",NF:"381234",NG:"8021234567",NI:"81234567",NL:"612345678",NO:"40612345",NP:"9841234567",NR:"5551234",NU:"8884012",NZ:"211234567",OM:"92123456",PA:"61234567",PE:"912345678",PF:"87123456",PG:"70123456",PH:"9051234567",PK:"3012345678",PL:"512345678",PM:"551234",PR:"7872345678",PS:"599123456",PT:"912345678",PW:"6201234",PY:"961456789",QA:"33123456",RE:"692123456",RO:"712034567",RS:"601234567",RU:"9123456789",RW:"720123456",SA:"512345678",SB:"7421234",SC:"2510123",SD:"911231234",SE:"701234567",SG:"81234567",SH:"51234",SI:"31234567",SJ:"41234567",SK:"912123456",SL:"25123456",SM:"66661212",SN:"701234567",SO:"71123456",SR:"7412345",SS:"977123456",ST:"9812345",SV:"70123456",SX:"7215205678",SY:"944567890",SZ:"76123456",TA:"8999",TC:"6492311234",TD:"63012345",TG:"90112345",TH:"812345678",TJ:"917123456",TK:"7290",TL:"77212345",TM:"66123456",TN:"20123456",TO:"7715123",TR:"5012345678",TT:"8682911234",TV:"901234",TW:"912345678",TZ:"621234567",UA:"501234567",UG:"712345678",US:"2015550123",UY:"94231234",UZ:"912345678",VA:"3123456789",VC:"7844301234",VE:"4121234567",VG:"2843001234",VI:"3406421234",VN:"912345678",VU:"5912345",WF:"821234",WS:"7212345",XK:"43201234",YE:"712345678",YT:"639012345",ZA:"711234567",ZM:"955123456",ZW:"712345678"},IW={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:48|5[0-3579]|[6-9])|7(?:20|32|8)|[89]","(?:31|4)6|51|6(?:485|5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:2(?:(?:[0-26-9]\\d|3[0-8]|5[0135-9])\\d|4(?:[02-9]\\d|10))|3(?:(?:[0-3589]\\d|6[1-9]|7[0-35-9])\\d|4(?:[0-578]\\d|90))|7(?:[013-57-9]\\d|2[0-8])\\d)\\d\\d|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4])|[34]\\d\\d)|(?:6[0-8]|[78]\\d)\\d{3}|9(?:[02-9]\\d{3}|1(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79])))))\\d{3}",[9]],["4(?:79[01]|83[0-36-9])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|2[23]"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","(?:[025-7]\\d|44)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[024-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[02-4679]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","(?:01\\d|[24-689])\\d{7}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["0"]]]],BL:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|3[3-7]|5[12]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","8001\\d{5}|(?:[2-467]\\d|50)\\d{6}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[235]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","[1-467]\\d{9,10}|55[0-46-9]\\d{8}|[34]\\d{7}|55\\d{7,8}|(?:5[0-46-9]|[89]\\d)\\d{7,9}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37|86)","300|4(?:0(?:0|20)|370|864)"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242"],BT:["975","00","[178]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-6]|7[246]|8[2-4]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|[78]"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","[2-9]\\d{9}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|5[07]|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|7[39])|9(?:0[25]|42))[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:2[125-9]|33|44|66|77|88)|6(?:22|33))[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:79[01]|83[0-36-9])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","(?:(?:[189]|5\\d)\\d|2)\\d{7}|[1-68]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["5"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["60|809"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9(?:10|[2-9])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-8]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","(?:(?:1[03-689]|2\\d)\\d\\d|6)\\d{8}|1\\d{10}|[126]\\d{6}(?:\\d(?:\\d{2})?)?|86\\d{5,6}|(?:[3-579]\\d|8[0-57-9])\\d{5,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]|3(?:[157]|35|49|9[1-68])|4(?:1[124-9]|2[179]|6[47-9]|7|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:07|1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3|4[13]|5[1-5]|7[0-79]|9[0-35-9])|(?:4[35]|59|85)[1-9]","(?:10|2[0-57-9])(?:1[02]|9[56])|8078|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))1","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|80781|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))12","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|807812|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:078|1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:46|60\\d\\d)\\d{6}|(?:1\\d|[39])\\d{9}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["46"]],["(\\d{3})(\\d{7})","$1 $2",["6|90"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|9[14]"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","(?:[2-7]|8\\d\\d)\\d{7}|[2-47]\\d{6}|[34]\\d{5}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["[56]"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:79[01]|83[0-36-9])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9,10,11,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[03568]","15(?:[0568]|3[13])"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{8})","$1 $2",["1"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d{5})","$1",["20[2-59]"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[68])0|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"],["(\\d)(\\d{4,9})","$1 $2",["(?:19|[2568])[1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,"0|180020",0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0-5])|4(?:(?:[0-5]\\d|70)\\d|69[7-9])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|5[01]))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-3]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","(?:[56]94\\d|7093)\\d{5}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0|180020","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","80\\d{6}|(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-8]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:[2-8]\\d{3}|9008)\\d{3}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","[2-69]\\d{8}|80\\d{5,7}|[1-79]\\d{7}|6\\d{6}",[7,8,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6|7[245]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","[2-589]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","00[1-9]\\d{9,14}|(?:[1-36]|8\\d{5})\\d{6}|00\\d{9}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13,14,15,16,17],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0|180020","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|83)|73179|807(?:1|9[1-3])|(?:1552|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[124-6])\\d|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,11}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:43|55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11,12],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]|43"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[03]"]]],0,0,0,0,0,0,[["0(?:669[0-79]\\d{1,6}|831\\d{2,8})|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[2356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}"],["3[2-9]\\d{7,8}|(?:31|43)\\d{8}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],["3[2-8]\\d{9,10}",[11,12]],0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0|180020","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97\\d))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|427|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[47]"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[25-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]","3|4(?:2(?:0|9[02-69])|7(?:0[019]|1))|6[1-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[25-9]"],"0$1"]],"0",0,"(000[2569]\\d{4,6})$|(?:(?:003768)0?)|0","$1"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|[235-9]\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[36]0|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33622|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["3"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-6]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[2457]\\d|33|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["4[67]|[56]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(0-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"0 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(0-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(0-$1)",1]],"0",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|78|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2679]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:2[2-46-9]|3[3-9]|9)|8(?:0[89]|92)"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:2(?:[0-25-79]\\d|3[1-578]|4[02-46-8]|8[0235-7])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[014-9]|9[3-9])|(?:4[067]|5[03])\\d)\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[0167]\\d|2[0-8]|5[0-5]|8[0-7]))\\d{6}"],["80[0-7]\\d{6}"],["89\\d{7}"],0,0,0,0,["(?:592(?:4[0-2]|93)|80[89]\\d\\d)\\d{4}"]]],MC:["377","00","(?:[3489]|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["4(?:[2-46]|5[3-5])|5|6(?:[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-5]|(?:60|86)[23]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|452|678|86","[12]|452|6788|86"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670"],MQ:["596","00","(?:596\\d|7091)\\d{5}|(?:69|[89]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]|8(?:0[6-9]|[36])"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","[2-9]\\d{9}",[10],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"]]],0,0,0,0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[0467]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","(?:20|9\\d)\\d{8}|[78]\\d{9,13}",[10,11,12,13,14],[["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["20[129]"],"0$1"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:222|444|(?:55|8\\d)\\d|666|777|999)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[24-9]"]]]],NU:["683","00","(?:[4-7]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}|(?:708|8\\d\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[136]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","709\\d{6}|(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\d\\d|3(?:0\\d|1[0-6]))\\d{4}"],["(?:69(?:2\\d\\d|3(?:[06][0-6]|1[0-3]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))|7092[0-3])\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,["9(?:399[0-3]|479[0-6]|76(?:2[278]|3[0-37]))\\d{4}"],["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[236-8]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,0,[["336(?:[013-9]\\d|2[013-9])\\d{5}|(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15-7]|6[0-35-79]|7[1-37-9]))\\d{7}",[10]],["9\\d{9}",[10]],["8(?:0[04]|108\\d{3})\\d{7}"],["80[39]\\d{7}",[10]],["808\\d{7}",[10]]],"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0"],SA:["966","00","(?:[15]\\d|800|92)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","[6-9]\\d{6}|[1-6]\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["6[89]|7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","(?:[2489]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10,12],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-9]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|7[67]|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|[6-8]\\d|90)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-9]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[267]\\d{7}|(?:80\\d|900)\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[267]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721"],SY:["963","00","[1-359]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-4]|5[1-3]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[59]"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649"],TD:["235","00|16","(?:22|30|[689]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[236-9]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","[0-57-9]\\d{8}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3(?:[1245]|3[12])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[0-57-9]"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","(?:[1-6]\\d|71)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["[67]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["3052(?:0[0-8]|[1-9]\\d)\\d{4}|(?:2742|305[3-9])\\d{6}|(?:472|983)[2-47-9]\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[1459]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-47-9]|1[02-9]|2[013-79]|3[0-24679]|4[167]|5[0-2]|6[01349]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[0156]|5[01679]|6[0-279]|78|8[0-269])|7(?:0[1-46-8]|1[2-9]|2[04-8]|3[0-247]|4[0378]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[0168]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-3589]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"],0,0,0,["305209\\d{4}"]]],UY:["598","0(?:0|1[3-9]\\d)","0004\\d{2,9}|[1249]\\d{7}|2\\d{3,4}|(?:[49]\\d|80)\\d{5}",[4,5,6,7,8,9,10,11,12,13],[["(\\d{4,5})","$1",["21"]],["(\\d{3})(\\d{3,4})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","00","(?:20|33|[5-9]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-9]"]]]],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11,12],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72|8\\d{4})\\d{4}|[89]\\d{5}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[47-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","2\\d{7,8}|3\\d{7,11}|(?:4\\d\\d|[89]00)\\d{5}",[8,9,10,11,12],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2|39"],"0$1"],["(\\d{2})(\\d{7,10})","$1 $2",["3"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","7093\\d{5}|(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,0,[["269(?:0[0-467]|15|5[0-4]|6\\d|[78]0)\\d{4}"],["(?:639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])|7093[5-7])\\d{4}"],["80\\d{7}"],0,0,0,0,0,["9(?:(?:39|47)8[01]|769\\d)\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|[579]\\d|63)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[579]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[235-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"],0,0,0,0,0,0,["2\\d{8}",[9]]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"6\\d{9}|[0-36-9]\\d{8}",[9,10],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\d)(\\d{3})(\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\d{9}|[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,["348[57]\\d{7}",[11]],0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};function r3(t,e){var n=Array.prototype.slice.call(e);return n.push(IW),t.apply(this,n)}function lpe(){return r3(mue,arguments)}function cm(t){return Fz.call(this,t,IW)}cm.prototype=Object.create(Fz.prototype,{});cm.prototype.constructor=cm;function upe(){return r3(Dce,arguments)}function e7(){return r3(Xx,arguments)}function cpe(){return r3(Nce,arguments)}const Yy=(t,e)=>lpe(String(t),e),J4=(t,e)=>`+${e7(e)} ${t}`,hpe=t=>`*${t.replaceAll("-","").slice(-4)}`,dpe=t=>new cm(t),fpe=upe().map((t=>({code:t,callCode:e7(t)}))),ppe=t=>{let e=cpe(t,ope)?.formatInternational();return e?.substring(e.indexOf(" ")+1)},vpe=t=>{let e=new cm;e.input(t);let n=e.getCountry()||"US",i=e.getCallingCode()||"1";return{countryCode:n,phone:t.replace("+"+i,"")}},gpe=(t,e=!0)=>t.reduce(((n,i)=>({...n,[i]:e})),{}),mpe={[Na.id]:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",[J9.id]:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",[Eu.id]:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",[K9.id]:"0x5fd84259d66Cd46123540766Be93DFE6D43130D7",[ka.id]:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",[Z9.id]:"0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582",[Ro.id]:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",[X9.id]:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",[Io.id]:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",[Y9.id]:"0x5425890298aed601595a70ab815c96711a31bc65",[Po.id]:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",[H9.id]:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"};let ype=new Set([Na.id,Ro.id,Eu.id,ka.id,Po.id,Io.id]),wpe=new Set([Na.id,Ro.id,ka.id,Eu.id,Po.id,Io.id]),xpe={buy:"CARD",send:"CRYPTO_ACCOUNT"},bpe={USDC:"2b92315d-eab7-5bef-84fa-089a131333f5",ETH:"d85dce9b-5b73-5c3c-8978-522ce1d1c1b4",BTC:"5b71fc48-3dd3-540c-809b-f8c94d0e68b5",SOL:"4f039497-3af8-5bb3-951c-6df9afa9be1c",POL:"026bcc1e-9163-591c-a709-34dd18b2e7a1"};Na.id+"",Ro.id+"",Eu.id+"",ka.id+"",Po.id+"",Io.id+"";function Epe({appId:t,input:e,amount:n,blockchain:i,asset:c,experience:m}){let s=new URL("https://pay.coinbase.com/buy/select-asset");return s.searchParams.set("appId",e.app_id),s.searchParams.set("sessionToken",e.session_token),s.searchParams.set("endPartnerName",`privy:${t}`),s.searchParams.set("defaultExperience",m),s.searchParams.set("presetCryptoAmount",n.startsWith(".")?`0${n}`:n),s.searchParams.set("defaultNetwork",i),s.searchParams.set("defaultPaymentMethod",xpe[m]),s.searchParams.set("defaultAsset",bpe[c]),s.searchParams.set("partnerUserId",e.partner_user_id),{url:s}}const Cpe=(t,e)=>{switch(e){case"native-currency":return ype.has(t);case"USDC":return wpe.has(t);default:return console.warn("Unknown asset passed to Coinbase Onramp"),!1}};function Spe(t,e){return t===ka.id?"POL":"ETH"}function OM(t){return t?`${t.slice(0,5)}${t.slice(-4)}`:""}function Tpe({wei:t,precision:e=3}){return parseFloat(md(t)).toFixed(e).replace(/0+$/,"").replace(/\.$/,"")}function AC({amount:t,decimals:e}){return vs(BigInt(t),e)}function Zr(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var Ape=0;function RW(t){return"__private_"+Ape+++"_"+t}var Un=RW("_wallet"),Fs=RW("_account");let OW=class{get standardWallet(){return Zr(this,Un)[Un]}get address(){return Zr(this,Fs)[Fs].address}async disconnect(){if(!Zr(this,Un)[Un].features["standard:disconnect"]?.disconnect)throw Error("Wallet does not support disconnect");await Zr(this,Un)[Un].features["standard:disconnect"].disconnect()}async signMessage(...e){if(!Zr(this,Un)[Un].features["solana:signMessage"]?.signMessage)throw Error("Wallet does not support signMessage");let n=await Zr(this,Un)[Un].features["solana:signMessage"].signMessage(...e.map((i=>({...i,account:Zr(this,Fs)[Fs]}))));return e.length===1?n[0]:[...n]}async signTransaction(...e){if(!Zr(this,Un)[Un].features["solana:signTransaction"]?.signTransaction)throw Error("Wallet does not support signTransaction");let n=await Zr(this,Un)[Un].features["solana:signTransaction"].signTransaction(...e.map((i=>({...i,account:Zr(this,Fs)[Fs]}))));return e.length===1?n[0]:[...n]}async signAndSendTransaction(...e){if(!Zr(this,Un)[Un].features["solana:signAndSendTransaction"]?.signAndSendTransaction)throw Error("Wallet does not support signAndSendTransaction");let n=await Zr(this,Un)[Un].features["solana:signAndSendTransaction"].signAndSendTransaction(...e.map((i=>({...i,account:Zr(this,Fs)[Fs]}))));return e.length===1?n[0]:[...n]}async signAndSendAllTransactions(e){if(!Zr(this,Un)[Un].features["solana:signAndSendTransaction"]?.signAndSendTransaction)throw Error("Wallet does not support signAndSendTransaction");return[...await Zr(this,Un)[Un].features["solana:signAndSendTransaction"].signAndSendTransaction(...e.map((n=>({...n,account:Zr(this,Fs)[Fs]}))))]}constructor({wallet:e,account:n}){Object.defineProperty(this,Un,{writable:!0,value:void 0}),Object.defineProperty(this,Fs,{writable:!0,value:void 0}),Zr(this,Un)[Un]=e,Zr(this,Fs)[Fs]=n}};const Ppe=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Ipe=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Rpe=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Ope(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){Mpe(t);return}return e}function Mpe(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function jv(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!Rpe.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(Ppe.test(t)||Ipe.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,Ope)}return JSON.parse(t)}catch(i){if(e.strict)throw i;return t}}const $pe=/#/g,Fpe=/&/g,Lpe=/\//g,Dpe=/=/g,t7=/\+/g,Npe=/%5e/gi,kpe=/%60/gi,Bpe=/%7c/gi,Upe=/%20/gi;function jpe(t){return encodeURI(""+t).replace(Bpe,"|")}function PC(t){return jpe(typeof t=="string"?t:JSON.stringify(t)).replace(t7,"%2B").replace(Upe,"+").replace($pe,"%23").replace(Fpe,"%26").replace(kpe,"`").replace(Npe,"^").replace(Lpe,"%2F")}function _4(t){return PC(t).replace(Dpe,"%3D")}function MW(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function zpe(t){return MW(t.replace(t7," "))}function Wpe(t){return MW(t.replace(t7," "))}function Gpe(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const i=n.match(/([^=]+)=?(.*)/)||[];if(i.length<2)continue;const c=zpe(i[1]);if(c==="__proto__"||c==="constructor")continue;const m=Wpe(i[2]||"");e[c]===void 0?e[c]=m:Array.isArray(e[c])?e[c].push(m):e[c]=[e[c],m]}return e}function Vpe(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${_4(t)}=${PC(n)}`).join("&"):`${_4(t)}=${PC(e)}`:_4(t)}function Hpe(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>Vpe(e,t[e])).filter(Boolean).join("&")}const Ype=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,Xpe=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,Kpe=/^([/\\]\s*){2,}[^/\\]/,Zpe=/^\.?\//;function $W(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?Ype.test(t):Xpe.test(t)||(e.acceptRelative?Kpe.test(t):!1)}function Jpe(t="",e){return t.endsWith("/")}function _pe(t="",e){return(Jpe(t)?t.slice(0,-1):t)||"/"}function Qpe(t="",e){return t.endsWith("/")?t:t+"/"}function qpe(t,e){if(t0e(e)||$W(t))return t;const n=_pe(e);return t.startsWith(n)?t:r0e(n,t)}function e0e(t,e){const n=i0e(t),i={...Gpe(n.search),...e};return n.search=Hpe(i),s0e(n)}function t0e(t){return!t||t==="/"}function n0e(t){return t&&t!=="/"}function r0e(t,...e){let n=t||"";for(const i of e.filter(c=>n0e(c)))if(n){const c=i.replace(Zpe,"");n=Qpe(n)+c}else n=i;return n}const FW=Symbol.for("ufo:protocolRelative");function i0e(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,h,u=""]=n;return{protocol:h.toLowerCase(),pathname:u,href:h+u,auth:"",host:"",search:"",hash:""}}if(!$W(t,{acceptRelative:!0}))return MM(t);const[,i="",c,m=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,s="",g=""]=m.match(/([^#/?]*)(.*)?/)||[];i==="file:"&&(g=g.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:r,search:a,hash:v}=MM(g);return{protocol:i.toLowerCase(),auth:c?c.slice(0,Math.max(0,c.length-1)):"",host:s,pathname:r,search:a,hash:v,[FW]:!i}}function MM(t=""){const[e="",n="",i=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:i}}function s0e(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",i=t.hash||"",c=t.auth?t.auth+"@":"",m=t.host||"";return(t.protocol||t[FW]?(t.protocol||"")+"//":"")+c+m+e+n+i}class LW extends Error{constructor(e,n){super(e,n),this.name="FetchError",n?.cause&&!this.cause&&(this.cause=n.cause)}}function a0e(t){const e=t.error?.message||t.error?.toString()||"",n=t.request?.method||t.options?.method||"GET",i=t.request?.url||String(t.request)||"/",c=`[${n}] ${JSON.stringify(i)}`,m=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",s=`${c}: ${m}${e?` ${e}`:""}`,g=new LW(s,t.error?{cause:t.error}:void 0);for(const r of["request","options","response"])Object.defineProperty(g,r,{get(){return t[r]}});for(const[r,a]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(g,r,{get(){return t.response&&t.response[a]}});return g}const o0e=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function $M(t="GET"){return o0e.has(t.toUpperCase())}function l0e(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const u0e=new Set(["image/svg","application/xml","application/xhtml","application/html"]),c0e=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function h0e(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return c0e.test(e)?"json":u0e.has(e)||e.startsWith("text/")?"text":"blob"}function d0e(t,e,n,i){const c=f0e(e?.headers??t?.headers,n?.headers,i);let m;return(n?.query||n?.params||e?.params||e?.query)&&(m={...n?.params,...n?.query,...e?.params,...e?.query}),{...n,...e,query:m,params:m,headers:c}}function f0e(t,e,n){if(!e)return new n(t);const i=new n(e);if(t)for(const[c,m]of Symbol.iterator in t||Array.isArray(t)?t:new n(t))i.set(c,m);return i}async function Xy(t,e){if(e)if(Array.isArray(e))for(const n of e)await n(t);else await e(t)}const p0e=new Set([408,409,425,429,500,502,503,504]),v0e=new Set([101,204,205,304]);function DW(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:i=globalThis.AbortController}=t;async function c(g){const r=g.error&&g.error.name==="AbortError"&&!g.options.timeout||!1;if(g.options.retry!==!1&&!r){let v;typeof g.options.retry=="number"?v=g.options.retry:v=$M(g.options.method)?0:1;const h=g.response&&g.response.status||500;if(v>0&&(Array.isArray(g.options.retryStatusCodes)?g.options.retryStatusCodes.includes(h):p0e.has(h))){const u=typeof g.options.retryDelay=="function"?g.options.retryDelay(g):g.options.retryDelay||0;return u>0&&await new Promise(l=>setTimeout(l,u)),m(g.request,{...g.options,retry:v-1})}}const a=a0e(g);throw Error.captureStackTrace&&Error.captureStackTrace(a,m),a}const m=async function(r,a={}){const v={request:r,options:d0e(r,a,t.defaults,n),response:void 0,error:void 0};v.options.method&&(v.options.method=v.options.method.toUpperCase()),v.options.onRequest&&await Xy(v,v.options.onRequest),typeof v.request=="string"&&(v.options.baseURL&&(v.request=qpe(v.request,v.options.baseURL)),v.options.query&&(v.request=e0e(v.request,v.options.query),delete v.options.query),"query"in v.options&&delete v.options.query,"params"in v.options&&delete v.options.params),v.options.body&&$M(v.options.method)&&(l0e(v.options.body)?(v.options.body=typeof v.options.body=="string"?v.options.body:JSON.stringify(v.options.body),v.options.headers=new n(v.options.headers||{}),v.options.headers.has("content-type")||v.options.headers.set("content-type","application/json"),v.options.headers.has("accept")||v.options.headers.set("accept","application/json")):("pipeTo"in v.options.body&&typeof v.options.body.pipeTo=="function"||typeof v.options.body.pipe=="function")&&("duplex"in v.options||(v.options.duplex="half")));let h;if(!v.options.signal&&v.options.timeout){const l=new i;h=setTimeout(()=>{const o=new Error("[TimeoutError]: The operation was aborted due to timeout");o.name="TimeoutError",o.code=23,l.abort(o)},v.options.timeout),v.options.signal=l.signal}try{v.response=await e(v.request,v.options)}catch(l){return v.error=l,v.options.onRequestError&&await Xy(v,v.options.onRequestError),await c(v)}finally{h&&clearTimeout(h)}if((v.response.body||v.response._bodyInit)&&!v0e.has(v.response.status)&&v.options.method!=="HEAD"){const l=(v.options.parseResponse?"json":v.options.responseType)||h0e(v.response.headers.get("content-type")||"");switch(l){case"json":{const o=await v.response.text(),d=v.options.parseResponse||jv;v.response._data=d(o);break}case"stream":{v.response._data=v.response.body||v.response._bodyInit;break}default:v.response._data=await v.response[l]()}}return v.options.onResponse&&await Xy(v,v.options.onResponse),!v.options.ignoreResponseError&&v.response.status>=400&&v.response.status<600?(v.options.onResponseError&&await Xy(v,v.options.onResponseError),await c(v)):v.response},s=async function(r,a){return(await m(r,a))._data};return s.raw=m,s.native=(...g)=>e(...g),s.create=(g={},r={})=>DW({...t,...r,defaults:{...t.defaults,...r.defaults,...g}}),s}const Mw=(function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")})(),g0e=Mw.fetch?(...t)=>Mw.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),m0e=Mw.Headers,y0e=Mw.AbortController,NW=DW({fetch:g0e,Headers:m0e,AbortController:y0e});var It;let Di=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,n,i){super(e),n instanceof Error&&(this.cause=n),this.privyErrorCode=i}},Vs=class extends Di{constructor(e,n,i,c,m,s){super(i,c,m),this.type=e,this.status=n,this.data=s}},ge=class extends Di{constructor(e,n,i){super(e,n,i),this.type="client_error"}},w0e=class extends ge{constructor(){super("Request timed out",void 0,"client_request_timeout")}},Dn=class extends Di{constructor(e,n,i){super(e,n,i),this.type="connector_error"}};const Kt=t=>{if(t instanceof Di)return t;if(!(t instanceof LW))return zn(t);if(!t.response)return new Vs("api_error",null,t.message,t);let{type:e,message:n,error:i,code:c}=t.data;return new Vs(e||"ApiError",t.response.status,n||i,t,c,t.data)},zn=t=>t instanceof Di?t:t instanceof Error?new ge(t.message,t):new ge(`Internal error: ${t}`);var we=((It={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",It.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",It.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",It.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",It.INVALID_DATA="invalid_data",It.INVALID_CAPTCHA="invalid_captcha",It.LINKED_TO_ANOTHER_USER="linked_to_another_user",It.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",It.FAILED_TO_LINK_ACCOUNT="failed_to_link_account",It.FAILED_TO_UPDATE_ACCOUNT="failed_to_update_account",It.USER_EXITED_UPDATE_FLOW="exited_update_flow",It.ALLOWLIST_REJECTED="allowlist_rejected",It.OAUTH_USER_DENIED="oauth_user_denied",It.OAUTH_UNEXPECTED="oauth_unexpected",It.UNKNOWN_AUTH_ERROR="unknown_auth_error",It.USER_EXITED_AUTH_FLOW="exited_auth_flow",It.USER_EXITED_LINK_FLOW="exited_link_flow",It.USER_EXITED_SET_PASSWORD_FLOW="user_exited_set_password_flow",It.MUST_BE_AUTHENTICATED="must_be_authenticated",It.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",It.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",It.CLIENT_REQUEST_TIMEOUT="client_request_timeout",It.INVALID_CREDENTIALS="invalid_credentials",It.MISSING_MFA_CREDENTIALS="missing_or_invalid_mfa",It.UNKNOWN_MFA_ERROR="unknown_mfa_error",It.EMBEDDED_WALLET_ALREADY_EXISTS="embedded_wallet_already_exists",It.EMBEDDED_WALLET_NOT_FOUND="embedded_wallet_not_found",It.EMBEDDED_WALLET_CREATE_ERROR="embedded_wallet_create_error",It.UNKNOWN_EMBEDDED_WALLET_ERROR="unknown_embedded_wallet_error",It.EMBEDDED_WALLET_PASSWORD_UNCONFIRMED="embedded_wallet_password_unconfirmed",It.EMBEDDED_WALLET_PASSWORD_ALREADY_EXISTS="embedded_wallet_password_already_exists",It.EMBEDDED_WALLET_RECOVERY_ALREADY_EXISTS="embedded_wallet_recovery_already_exists",It.TRANSACTION_FAILURE="transaction_failure",It.UNSUPPORTED_CHAIN_ID="unsupported_chain_id",It.NOT_SUPPORTED="not_supported",It.CAPTCHA_TIMEOUT="captcha_timeout",It.INVALID_MESSAGE="invalid_message",It.UNABLE_TO_SIGN="unable_to_sign",It.CAPTCHA_FAILURE="captcha_failure",It.CAPTCHA_DISABLED="captcha_disabled",It.SESSION_STORAGE_UNAVAILABLE="session_storage_unavailable",It.TOO_MANY_REQUESTS="too_many_requests",It.USER_LIMIT_REACHED="max_accounts_reached",It.DISALLOWED_LOGIN_METHOD="disallowed_login_method",It.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",It.PASSKEY_NOT_ALLOWED="passkey_not_allowed",It.USER_DOES_NOT_EXIST="user_does_not_exist",It.INSUFFICIENT_BALANCE="insufficient_balance",It.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",It.BUFFER_NOT_DEFINED="buffer_not_defined",It.UNSUPPORTED_WALLET_TYPE="unsupported_wallet_type",It);let oh=class extends ge{constructor(){super("Method called before `ready`. Ensure you wait until `ready` is true before calling.")}},Ec=class extends ge{constructor(e="Embedded wallet error",n){super(e,n,"unknown_embedded_wallet_error")}},x0e=class extends ge{constructor(e="User must be authenticated"){super(e,void 0,"must_be_authenticated")}},t1=class extends ge{constructor(e){super("This application is in development mode and must be upgraded to production to log in new users.",e,"max_accounts_reached")}};const kW="/api/v1/sessions",BW="/api/v1/sessions/logout",b0e="/api/v1/siwe/init",E0e="/api/v1/siwe/authenticate",C0e="/api/v1/siwe/link",S0e="/api/v1/siwe/link_smart_wallet",T0e="/api/v1/siwe/unlink",A0e="/api/v1/siwe/transfer",P0e="/api/v1/siws/init",I0e="/api/v1/siws/authenticate",R0e="/api/v1/siws/link",O0e="/api/v1/siws/unlink",M0e="/api/v1/siws/transfer",$0e="/api/v1/farcaster/init",F0e="/api/v1/farcaster/authenticate",L0e="/api/v1/farcaster/link",D0e="/api/v1/farcaster/status",N0e="/api/v1/farcaster/unlink",k0e="/api/v1/farcaster/transfer",B0e="/api/v1/passwordless/init",U0e="/api/v1/passwordless/authenticate",j0e="/api/v1/passwordless/link",z0e="/api/v1/passwordless/unlink",W0e="/api/v1/passwordless/update",G0e="/api/v1/passwordless/transfer",V0e="/api/v1/passwordless_sms/init",H0e="/api/v1/passwordless_sms/link",Y0e="/api/v1/passwordless_sms/unlink",X0e="/api/v1/passwordless_sms/authenticate",K0e="/api/v1/passwordless_sms/update",Z0e="/api/v1/passwordless_sms/transfer",UW="/api/v1/oauth/init",jW="/api/v1/oauth/authenticate",zW="/api/v1/oauth/link",J0e="/api/v1/oauth/unlink",_0e="/api/v1/oauth/transfer",Q0e="/api/v1/recovery/oauth/init",q0e="/api/v1/recovery/oauth/init_icloud",eve="/api/v1/recovery/oauth/authenticate",tve="/api/v1/passkeys/link/init",nve="/api/v1/passkeys/authenticate/init",rve="/api/v1/passkeys/register/init",ive="/api/v1/passkeys/link",sve="/api/v1/passkeys/authenticate",ave="/api/v1/passkeys/register",ove="/api/v1/telegram/authenticate",lve="/api/v1/telegram/link",uve="/api/v1/telegram/unlink",cve="/api/v1/telegram/transfer",hve="/api/v1/mfa/passwordless_sms/init",dve="/api/v1/mfa/passkeys/init",fve="/api/v1/users/me/accept_terms",WW="/api/v1/analytics_events",pve="/api/v1/custom_jwt_account/authenticate",vve="/api/v1/custom_jwt_account/link",gve="/api/v1/guest/authenticate",mve="/api/v1/plugins/moonpay_on_ramp/sign",yve="/api/v1/funding/coinbase_on_ramp/init",wve="/api/v1/funding/coinbase_on_ramp/status",xve="/api/v1/wallets/revoke",bve="/api/v1/users/me",Eve="/api/v1/scan/transaction";/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cve=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),GW=(...t)=>t.filter((e,n,i)=>!!e&&i.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sve={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tve=H.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:c="",children:m,iconNode:s,...g},r)=>H.createElement("svg",{ref:r,...Sve,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:GW("lucide",c),...g},[...s.map(([a,v])=>H.createElement(a,v)),...Array.isArray(m)?m:[m]]));/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=(t,e)=>{const n=H.forwardRef(({className:i,...c},m)=>H.createElement(Tve,{ref:m,iconNode:e,className:GW(`lucide-${Cve(t)}`,i),...c}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ave=lr("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pve=lr("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=lr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VW=lr("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=lr("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ive=lr("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rve=lr("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=lr("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ove=lr("CloudUpload",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=lr("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=lr("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mve=lr("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=lr("Fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=lr("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=lr("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ve=lr("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HW=lr("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fve=lr("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lve=lr("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=lr("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dve=lr("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nve=lr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Me=()=>{throw Error("You need to wrap your application with the <PrivyProvider> initialized with your app id.")},YW=H.createContext({setAuthenticated:Me,setUser:Me,setIsNewUser:Me,isNewUserThisSession:!1,walletConnectionStatus:null,setWalletConnectionStatus:Me,connectors:[],rpcConfig:{rpcUrls:{}},showFiatPrices:!0,chains:[],clientAnalyticsId:null,pendingTransaction:null,client:null,privy:null,appId:"notAdded",onCustomAuthAuthenticated:Me,hideWalletUIs:{current:!1},nativeTokenSymbolForChainId:Me,initializeWalletProxy:Me,getAuthMeta:Me,getAuthFlow:Me,closePrivyModal:Me,openPrivyModal:Me,connectWallet:Me,initLoginWithWallet:Me,loginWithWallet:Me,initLoginWithFarcaster:Me,loginWithFarcaster:Me,loginWithCode:Me,initLoginWithEmail:Me,initLoginWithSms:Me,initUpdateEmail:Me,initUpdatePhone:Me,resendEmailCode:Me,resendSmsCode:Me,initLoginWithHeadlessOAuth:Me,loginWithHeadlessOAuth:Me,crossAppAuthFlow:Me,initLoginWithOAuth:Me,loginWithOAuth:Me,passkeyAuthState:{status:"initial"},setPasskeyAuthState:Me,initSignupWithPasskey:Me,signupWithPasskey:Me,initLoginWithPasskey:Me,loginWithPasskey:Me,initLinkWithPasskey:Me,linkWithPasskey:Me,refreshSessionAndUser:Me,walletProxy:null,createAnalyticsEvent:Me,acceptTerms:Me,getUsdTokenPrice:Me,getUsdPriceForSol:Me,getSplTokenMetadata:Me,recoverEmbeddedWallet:Me,updateWallets:Me,fundWallet:Me,openModal:Me,setReadyToTrue:Me,requestFarcasterSignerStatus:Me,initLoginWithTelegram:Me,loginWithTelegram:Me,generateSiweMessage:Me,generateSiweMessageForSmartWallet:Me,loginWithSiwe:Me,linkWithSiwe:Me,linkSmartWallet:Me,delegateWallet:Me,revokeDelegatedWallets:Me,connectCoinbaseSmartWallet:Me,connectBaseAccount:Me,initiateAccountTransfer:Me,emailOtpState:{status:"initial"},setEmailOtpState:Me,smsOtpState:{status:"initial"},setSmsOtpState:Me,siweState:{status:"initial"},setSiweState:Me,oAuthState:{status:"initial"},setOAuthState:Me,telegramAuthState:{status:"initial"},setTelegramAuthState:Me,isHeadlessOAuthLoading:!1,isHeadlessSigning:Me,inProgressAuthFlowRef:{current:null},inProgressLoginOrLinkMethodRef:{current:null},baseAccountSdk:void 0,setBaseAccountSdk:Me}),et=()=>H.useContext(YW);function r1(t){return typeof t=="string"&&/^custom:[a-zA-Z0-9_-]+$/i.test(t)}function kt(t){return t?new Date(1e3*t):null}function ai(t,e){return t.slice().sort(((n,i)=>(n.firstVerifiedAt?.getTime()??0)-(i.firstVerifiedAt?.getTime()??0))).find((n=>n.type===e))}const nl=t=>t?XW(t).find((e=>e.walletIndex===0))??null:null,XW=t=>t?KW(t,"ethereum"):[],KW=(t,e)=>t.linkedAccounts.filter((n=>n.type==="wallet"&&n.walletClientType==="privy"&&!n.imported&&n.chainType===e)),kve=t=>t?KW(t,"solana"):[],a3=t=>t?kve(t).find((e=>e.walletIndex===0))??null:null,RC=t=>(t?.linkedAccounts??[]).filter((e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.imported&&e.chainType==="ethereum")),Bve=t=>(t?.linkedAccounts??[]).filter((e=>e.type==="wallet"&&e.imported&&e.walletClientType==="privy"&&e.chainType==="solana"));let ZW=(t,e)=>t===e||!(!t.startsWith("0x")||!e.startsWith("0x"))&&Sr(t)===Sr(e);const Ql=(t,e)=>t?.linkedAccounts.find((n=>n.type==="wallet"&&n.walletClientType==="privy"&&ZW(n.address,e)))||null,Q4=(t,e)=>t.find((n=>ZW(n.address,e)))||null,bo=t=>nl(t)??a3(t);function di(t){if(!t)return null;let e=(function(x){let b=[];for(let E of x){let C=E.type;switch(E.type){case"wallet":let T={id:E.id,address:E.address,type:E.type,imported:E.imported,delegated:E.delegated,firstVerifiedAt:kt(E.first_verified_at),latestVerifiedAt:kt(E.latest_verified_at),chainType:E.chain_type,walletClientType:E.wallet_client_type,connectorType:E.connector_type,recoveryMethod:E.recovery_method,walletIndex:E.wallet_index,publicKey:E.public_key};b.push(T);break;case"smart_wallet":let S={address:E.address,type:E.type,firstVerifiedAt:kt(E.first_verified_at),latestVerifiedAt:kt(E.latest_verified_at),smartWalletType:E.smart_wallet_type,smartWalletVersion:E.smart_wallet_version};b.push(S);break;case"cross_app":let A={type:E.type,subject:E.subject,embeddedWallets:E.embedded_wallets,smartWallets:E.smart_wallets,providerApp:{id:E.provider_app_id},firstVerifiedAt:kt(E.first_verified_at),latestVerifiedAt:kt(E.latest_verified_at)};b.push(A);break;case"email":let P={address:E.address,type:E.type,firstVerifiedAt:kt(E.first_verified_at),latestVerifiedAt:kt(E.latest_verified_at)};b.push(P);break;case"phone":let R={number:E.phoneNumber,type:E.type,firstVerifiedAt:kt(E.first_verified_at),latestVerifiedAt:kt(E.latest_verified_at)};b.push(R);break;case"google_oauth":let L={subject:E.subject,email:E.email,name:E.name,type:E.type,firstVerifiedAt:kt(E.first_verified_at),latestVerifiedAt:kt(E.latest_verified_at)};b.push(L);break;case"spotify_oauth":let D={subject:E.subject,email:E.email,name:E.name,type:E.type,firstVerifiedAt:kt(E.first_verified_at),latestVerifiedAt:kt(E.latest_verified_at)};b.push(D);break;case"instagram_oauth":let $={subject:E.subject,username:E.username,type:E.type,firstVerifiedAt:kt(E.first_verified_at),latestVerifiedAt:kt(E.latest_verified_at)};b.push($);break;case"twitter_oauth":let F={subject:E.subject,username:E.username,name:E.name,type:E.type,profilePictureUrl:E.profile_picture_url,firstVerifiedAt:kt(E.first_verified_at),latestVerifiedAt:kt(E.latest_verified_at)};b.push(F);break;case"discord_oauth":let N={subject:E.subject,username:E.username,email:E.email,type:E.type,firstVerifiedAt:kt(E.first_verified_at),latestVerifiedAt:kt(E.latest_verified_at)};b.push(N);break;case"github_oauth":let k={subject:E.subject,username:E.username,name:E.name,email:E.email,type:E.type,firstVerifiedAt:kt(E.first_verified_at),latestVerifiedAt:kt(E.latest_verified_at)};b.push(k);break;case"tiktok_oauth":let j={subject:E.subject,username:E.username,name:E.name,type:E.type,firstVerifiedAt:kt(E.first_verified_at),latestVerifiedAt:kt(E.latest_verified_at)};b.push(j);break;case"line_oauth":let W={subject:E.subject,name:E.name,email:E.email,profilePictureUrl:E.profile_picture_url,type:E.type,firstVerifiedAt:kt(E.first_verified_at),latestVerifiedAt:kt(E.latest_verified_at)};b.push(W);break;case"twitch_oauth":let G={subject:E.subject,username:E.username,type:E.type,firstVerifiedAt:kt(E.first_verified_at),latestVerifiedAt:kt(E.latest_verified_at)};b.push(G);break;case"linkedin_oauth":let K={subject:E.subject,name:E.name,email:E.email,vanityName:E.vanity_name,type:E.type,firstVerifiedAt:kt(E.first_verified_at),latestVerifiedAt:kt(E.latest_verified_at)};b.push(K);break;case"apple_oauth":let z={subject:E.subject,email:E.email,type:E.type,firstVerifiedAt:kt(E.first_verified_at),latestVerifiedAt:kt(E.latest_verified_at)};b.push(z);break;case"custom_auth":b.push({type:E.type,customUserId:E.custom_user_id,firstVerifiedAt:kt(E.first_verified_at),latestVerifiedAt:kt(E.latest_verified_at)});break;case"farcaster":let X={type:E.type,fid:E.fid,ownerAddress:E.owner_address,displayName:E.display_name,username:E.username,bio:E.bio,pfp:E.profile_picture_url,url:E.homepage_url,firstVerifiedAt:kt(E.first_verified_at),latestVerifiedAt:kt(E.latest_verified_at),signerPublicKey:E.signer_public_key};b.push(X);break;case"passkey":let U={type:E.type,enrolledInMfa:E.enrolled_in_mfa,credentialId:E.credential_id,publicKey:E.public_key,authenticatorName:E.authenticator_name,createdWithDevice:E.created_with_device,createdWithOs:E.created_with_os,createdWithBrowser:E.created_with_browser,firstVerifiedAt:kt(E.first_verified_at),latestVerifiedAt:kt(E.latest_verified_at)};b.push(U);break;case"telegram":let Z={type:E.type,telegramUserId:E.telegram_user_id,firstName:E.first_name,lastName:E.last_name,username:E.username,photoUrl:E.photo_url,firstVerifiedAt:kt(E.first_verified_at),latestVerifiedAt:kt(E.latest_verified_at)};b.push(Z);break;default:if(r1(E.type)){let V={type:E.type,subject:E.subject,name:E.name,username:E.username,email:E.email,profilePictureUrl:E.profile_picture_url,firstVerifiedAt:kt(E.first_verified_at),latestVerifiedAt:kt(E.latest_verified_at)};b.push(V);break}console.warn(`Unrecognized account type: ${C}. Please consider upgrading the Privy SDK.`)}}return b})(t.linked_accounts),n=ai(e,"wallet"),i=ai(e,"smart_wallet"),c=ai(e,"email"),m=ai(e,"phone"),s=ai(e,"google_oauth"),g=ai(e,"twitter_oauth"),r=ai(e,"discord_oauth"),a=ai(e,"github_oauth"),v=ai(e,"spotify_oauth"),h=ai(e,"instagram_oauth"),u=ai(e,"tiktok_oauth"),l=ai(e,"line_oauth"),o=ai(e,"twitch_oauth"),d=ai(e,"linkedin_oauth"),p=ai(e,"apple_oauth"),f=ai(e,"farcaster"),y=ai(e,"telegram"),w=t.mfa_methods.map((({type:x,verified_at:b})=>({type:x,verifiedAt:kt(b)})));return{id:t.id,createdAt:kt(t.created_at),linkedAccounts:e,email:c&&{address:c?.address},phone:m&&{number:m?.number},wallet:n&&{id:n.id,address:n.address,chainType:n.chainType,walletClientType:n.walletClientType,connectorType:n.connectorType,recoveryMethod:n.recoveryMethod,imported:n.imported,delegated:n.delegated,walletIndex:n.walletIndex,publicKey:n.publicKey},smartWallet:i&&{address:i.address,smartWalletType:i.smartWalletType,smartWalletVersion:i.smartWalletVersion},google:s&&{subject:s.subject,email:s.email,name:s.name},twitter:g&&{subject:g.subject,username:g.username,name:g.name,profilePictureUrl:g.profilePictureUrl},discord:r&&{subject:r.subject,username:r.username,email:r.email},github:a&&{subject:a.subject,username:a.username,name:a.name,email:a.email},spotify:v&&{subject:v.subject,email:v.email,name:v.name},instagram:h&&{subject:h.subject,username:h.username},tiktok:u&&{subject:u.subject,username:u.username,name:u.name},line:l&&{subject:l.subject,name:l.name,email:l.email,profilePictureUrl:l.profilePictureUrl},twitch:o&&{subject:o.subject,username:o.username},linkedin:d&&{subject:d.subject,name:d.name,email:d.email,vanityName:d.vanityName},apple:p&&{subject:p.subject,email:p.email},farcaster:f&&{fid:f.fid,ownerAddress:f.ownerAddress,displayName:f.displayName,username:f.username,bio:f.bio,pfp:f.pfp,url:f.url,signerPublicKey:f.signerPublicKey},telegram:y&&{telegramUserId:y.telegramUserId,firstName:y.firstName,lastName:y.lastName,username:y.username,photoUrl:y.photoUrl},delegatedWallets:[],mfaMethods:w.map((x=>x.type)),hasAcceptedTerms:t.has_accepted_terms??!1,isGuest:t.is_guest,customMetadata:t.custom_metadata}}const Us=t=>!!t.id&&t.recoveryMethod==="privy-v2",d0=H.createContext({ready:!1,authenticated:!1,user:null,walletConnectors:null,connectWallet:Me,login:Me,connectOrCreateWallet:Me,linkEmail:Me,linkPhone:Me,linkFarcaster:Me,linkWallet:Me,startCrossAppAuthFlow:Me,linkGoogle:Me,linkTwitter:Me,linkTwitch:Me,linkDiscord:Me,linkGithub:Me,linkSpotify:Me,linkInstagram:Me,linkTelegram:Me,linkTiktok:Me,linkLine:Me,linkLinkedIn:Me,linkApple:Me,linkPasskey:Me,updateEmail:Me,updatePhone:Me,logout:Me,getAccessToken:Me,unlinkEmail:Me,unlinkPhone:Me,unlinkWallet:Me,unlinkGoogle:Me,unlinkTwitter:Me,unlinkTwitch:Me,unlinkDiscord:Me,unlinkGithub:Me,unlinkSpotify:Me,unlinkInstagram:Me,unlinkTiktok:Me,unlinkLine:Me,unlinkLinkedIn:Me,unlinkApple:Me,unlinkCrossAppAccount:Me,unlinkFarcaster:Me,unlinkTelegram:Me,unlinkPasskey:Me,signMessage:Me,signTypedData:Me,enrollInMfa:Me,initEnrollmentWithSms:Me,initEnrollmentWithTotp:Me,initEnrollmentWithPasskey:Me,promptMfa:Me,init:Me,submitEnrollmentWithSms:Me,submitEnrollmentWithTotp:Me,submitEnrollmentWithPasskey:Me,unenroll:Me,submit:Me,cancel:Me,sendTransaction:Me,signTransaction:Me,exportWallet:Me,setWalletPassword:Me,setWalletRecovery:Me,requestFarcasterSignerFromWarpcast:Me,getFarcasterSignerPublicKey:Me,signFarcasterMessage:Me,signMessageWithCrossAppWallet:Me,signTypedDataWithCrossAppWallet:Me,sendTransactionWithCrossAppWallet:Me,signTransactionWithCrossAppWallet:Me,isModalOpen:!1,mfaMethods:[]}),Xt=()=>H.useContext(d0);var $i=function(){return $i=Object.assign||function(e){for(var n,i=1,c=arguments.length;i<c;i++){n=arguments[i];for(var m in n)Object.prototype.hasOwnProperty.call(n,m)&&(e[m]=n[m])}return e},$i.apply(this,arguments)};function Wp(t,e,n){if(n||arguments.length===2)for(var i=0,c=e.length,m;i<c;i++)(m||!(i in e))&&(m||(m=Array.prototype.slice.call(e,0,i)),m[i]=e[i]);return t.concat(m||Array.prototype.slice.call(e))}var jn="-ms-",eg="-moz-",vn="-webkit-",JW="comm",o3="rule",r7="decl",Uve="@import",_W="@keyframes",jve="@layer",QW=Math.abs,i7=String.fromCharCode,OC=Object.assign;function zve(t,e){return ti(t,0)^45?(((e<<2^ti(t,0))<<2^ti(t,1))<<2^ti(t,2))<<2^ti(t,3):0}function qW(t){return t.trim()}function Kl(t,e){return(t=e.exec(t))?t[0]:t}function Gt(t,e,n){return t.replace(e,n)}function V2(t,e,n){return t.indexOf(e,n)}function ti(t,e){return t.charCodeAt(e)|0}function Gp(t,e,n){return t.slice(e,n)}function rl(t){return t.length}function eG(t){return t.length}function zv(t,e){return e.push(t),t}function Wve(t,e){return t.map(e).join("")}function FM(t,e){return t.filter(function(n){return!Kl(n,e)})}var l3=1,Vp=1,tG=0,Ra=0,Ir=0,f0="";function u3(t,e,n,i,c,m,s,g){return{value:t,root:e,parent:n,type:i,props:c,children:m,line:l3,column:Vp,length:s,return:"",siblings:g}}function rc(t,e){return OC(u3("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Ef(t){for(;t.root;)t=rc(t.root,{children:[t]});zv(t,t.siblings)}function Gve(){return Ir}function Vve(){return Ir=Ra>0?ti(f0,--Ra):0,Vp--,Ir===10&&(Vp=1,l3--),Ir}function uo(){return Ir=Ra<tG?ti(f0,Ra++):0,Vp++,Ir===10&&(Vp=1,l3++),Ir}function Wh(){return ti(f0,Ra)}function H2(){return Ra}function c3(t,e){return Gp(f0,t,e)}function MC(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Hve(t){return l3=Vp=1,tG=rl(f0=t),Ra=0,[]}function Yve(t){return f0="",t}function q4(t){return qW(c3(Ra-1,$C(t===91?t+2:t===40?t+1:t)))}function Xve(t){for(;(Ir=Wh())&&Ir<33;)uo();return MC(t)>2||MC(Ir)>3?"":" "}function Kve(t,e){for(;--e&&uo()&&!(Ir<48||Ir>102||Ir>57&&Ir<65||Ir>70&&Ir<97););return c3(t,H2()+(e<6&&Wh()==32&&uo()==32))}function $C(t){for(;uo();)switch(Ir){case t:return Ra;case 34:case 39:t!==34&&t!==39&&$C(Ir);break;case 40:t===41&&$C(t);break;case 92:uo();break}return Ra}function Zve(t,e){for(;uo()&&t+Ir!==57;)if(t+Ir===84&&Wh()===47)break;return"/*"+c3(e,Ra-1)+"*"+i7(t===47?t:uo())}function Jve(t){for(;!MC(Wh());)uo();return c3(t,Ra)}function _ve(t){return Yve(Y2("",null,null,null,[""],t=Hve(t),0,[0],t))}function Y2(t,e,n,i,c,m,s,g,r){for(var a=0,v=0,h=s,u=0,l=0,o=0,d=1,p=1,f=1,y=0,w="",x=c,b=m,E=i,C=w;p;)switch(o=y,y=uo()){case 40:if(o!=108&&ti(C,h-1)==58){V2(C+=Gt(q4(y),"&","&\f"),"&\f",QW(a?g[a-1]:0))!=-1&&(f=-1);break}case 34:case 39:case 91:C+=q4(y);break;case 9:case 10:case 13:case 32:C+=Xve(o);break;case 92:C+=Kve(H2()-1,7);continue;case 47:switch(Wh()){case 42:case 47:zv(Qve(Zve(uo(),H2()),e,n,r),r);break;default:C+="/"}break;case 123*d:g[a++]=rl(C)*f;case 125*d:case 59:case 0:switch(y){case 0:case 125:p=0;case 59+v:f==-1&&(C=Gt(C,/\f/g,"")),l>0&&rl(C)-h&&zv(l>32?DM(C+";",i,n,h-1,r):DM(Gt(C," ","")+";",i,n,h-2,r),r);break;case 59:C+=";";default:if(zv(E=LM(C,e,n,a,v,c,g,w,x=[],b=[],h,m),m),y===123)if(v===0)Y2(C,e,E,E,x,m,h,g,b);else switch(u===99&&ti(C,3)===110?100:u){case 100:case 108:case 109:case 115:Y2(t,E,E,i&&zv(LM(t,E,E,0,0,c,g,w,c,x=[],h,b),b),c,b,h,g,i?x:b);break;default:Y2(C,E,E,E,[""],b,0,g,b)}}a=v=l=0,d=f=1,w=C="",h=s;break;case 58:h=1+rl(C),l=o;default:if(d<1){if(y==123)--d;else if(y==125&&d++==0&&Vve()==125)continue}switch(C+=i7(y),y*d){case 38:f=v>0?1:(C+="\f",-1);break;case 44:g[a++]=(rl(C)-1)*f,f=1;break;case 64:Wh()===45&&(C+=q4(uo())),u=Wh(),v=h=rl(w=C+=Jve(H2())),y++;break;case 45:o===45&&rl(C)==2&&(d=0)}}return m}function LM(t,e,n,i,c,m,s,g,r,a,v,h){for(var u=c-1,l=c===0?m:[""],o=eG(l),d=0,p=0,f=0;d<i;++d)for(var y=0,w=Gp(t,u+1,u=QW(p=s[d])),x=t;y<o;++y)(x=qW(p>0?l[y]+" "+w:Gt(w,/&\f/g,l[y])))&&(r[f++]=x);return u3(t,e,n,c===0?o3:g,r,a,v,h)}function Qve(t,e,n,i){return u3(t,e,n,JW,i7(Gve()),Gp(t,2,-2),0,i)}function DM(t,e,n,i,c){return u3(t,e,n,r7,Gp(t,0,i),Gp(t,i+1,-1),i,c)}function nG(t,e,n){switch(zve(t,e)){case 5103:return vn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return vn+t+t;case 4789:return eg+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return vn+t+eg+t+jn+t+t;case 5936:switch(ti(t,e+11)){case 114:return vn+t+jn+Gt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return vn+t+jn+Gt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return vn+t+jn+Gt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return vn+t+jn+t+t;case 6165:return vn+t+jn+"flex-"+t+t;case 5187:return vn+t+Gt(t,/(\w+).+(:[^]+)/,vn+"box-$1$2"+jn+"flex-$1$2")+t;case 5443:return vn+t+jn+"flex-item-"+Gt(t,/flex-|-self/g,"")+(Kl(t,/flex-|baseline/)?"":jn+"grid-row-"+Gt(t,/flex-|-self/g,""))+t;case 4675:return vn+t+jn+"flex-line-pack"+Gt(t,/align-content|flex-|-self/g,"")+t;case 5548:return vn+t+jn+Gt(t,"shrink","negative")+t;case 5292:return vn+t+jn+Gt(t,"basis","preferred-size")+t;case 6060:return vn+"box-"+Gt(t,"-grow","")+vn+t+jn+Gt(t,"grow","positive")+t;case 4554:return vn+Gt(t,/([^-])(transform)/g,"$1"+vn+"$2")+t;case 6187:return Gt(Gt(Gt(t,/(zoom-|grab)/,vn+"$1"),/(image-set)/,vn+"$1"),t,"")+t;case 5495:case 3959:return Gt(t,/(image-set\([^]*)/,vn+"$1$`$1");case 4968:return Gt(Gt(t,/(.+:)(flex-)?(.*)/,vn+"box-pack:$3"+jn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+vn+t+t;case 4200:if(!Kl(t,/flex-|baseline/))return jn+"grid-column-align"+Gp(t,e)+t;break;case 2592:case 3360:return jn+Gt(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(i,c){return e=c,Kl(i.props,/grid-\w+-end/)})?~V2(t+(n=n[e].value),"span",0)?t:jn+Gt(t,"-start","")+t+jn+"grid-row-span:"+(~V2(n,"span",0)?Kl(n,/\d+/):+Kl(n,/\d+/)-+Kl(t,/\d+/))+";":jn+Gt(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(i){return Kl(i.props,/grid-\w+-start/)})?t:jn+Gt(Gt(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Gt(t,/(.+)-inline(.+)/,vn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(rl(t)-1-e>6)switch(ti(t,e+1)){case 109:if(ti(t,e+4)!==45)break;case 102:return Gt(t,/(.+:)(.+)-([^]+)/,"$1"+vn+"$2-$3$1"+eg+(ti(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~V2(t,"stretch",0)?nG(Gt(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return Gt(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(i,c,m,s,g,r,a){return jn+c+":"+m+a+(s?jn+c+"-span:"+(g?r:+r-+m)+a:"")+t});case 4949:if(ti(t,e+6)===121)return Gt(t,":",":"+vn)+t;break;case 6444:switch(ti(t,ti(t,14)===45?18:11)){case 120:return Gt(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+vn+(ti(t,14)===45?"inline-":"")+"box$3$1"+vn+"$2$3$1"+jn+"$2box$3")+t;case 100:return Gt(t,":",":"+jn)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Gt(t,"scroll-","scroll-snap-")+t}return t}function Lw(t,e){for(var n="",i=0;i<t.length;i++)n+=e(t[i],i,t,e)||"";return n}function qve(t,e,n,i){switch(t.type){case jve:if(t.children.length)break;case Uve:case r7:return t.return=t.return||t.value;case JW:return"";case _W:return t.return=t.value+"{"+Lw(t.children,i)+"}";case o3:if(!rl(t.value=t.props.join(",")))return""}return rl(n=Lw(t.children,i))?t.return=t.value+"{"+n+"}":""}function ege(t){var e=eG(t);return function(n,i,c,m){for(var s="",g=0;g<e;g++)s+=t[g](n,i,c,m)||"";return s}}function tge(t){return function(e){e.root||(e=e.return)&&t(e)}}function nge(t,e,n,i){if(t.length>-1&&!t.return)switch(t.type){case r7:t.return=nG(t.value,t.length,n);return;case _W:return Lw([rc(t,{value:Gt(t.value,"@","@"+vn)})],i);case o3:if(t.length)return Wve(n=t.props,function(c){switch(Kl(c,i=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Ef(rc(t,{props:[Gt(c,/:(read-\w+)/,":"+eg+"$1")]})),Ef(rc(t,{props:[c]})),OC(t,{props:FM(n,i)});break;case"::placeholder":Ef(rc(t,{props:[Gt(c,/:(plac\w+)/,":"+vn+"input-$1")]})),Ef(rc(t,{props:[Gt(c,/:(plac\w+)/,":"+eg+"$1")]})),Ef(rc(t,{props:[Gt(c,/:(plac\w+)/,jn+"input-$1")]})),Ef(rc(t,{props:[c]})),OC(t,{props:FM(n,i)});break}return""})}}var rge={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ws={},Hp=typeof process<"u"&&Ws!==void 0&&(Ws.REACT_APP_SC_ATTR||Ws.SC_ATTR)||"data-styled",rG="active",iG="data-styled-version",h3="6.1.19",s7=`/*!sc*/
`,Dw=typeof window<"u"&&typeof document<"u",ige=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Ws!==void 0&&Ws.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Ws.REACT_APP_SC_DISABLE_SPEEDY!==""?Ws.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Ws.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Ws!==void 0&&Ws.SC_DISABLE_SPEEDY!==void 0&&Ws.SC_DISABLE_SPEEDY!==""&&Ws.SC_DISABLE_SPEEDY!=="false"&&Ws.SC_DISABLE_SPEEDY),sge={},d3=Object.freeze([]),Yp=Object.freeze({});function sG(t,e,n){return n===void 0&&(n=Yp),t.theme!==n.theme&&t.theme||e||n.theme}var aG=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),age=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,oge=/(^-|-$)/g;function NM(t){return t.replace(age,"-").replace(oge,"")}var lge=/(a)(d)/gi,Ky=52,kM=function(t){return String.fromCharCode(t+(t>25?39:97))};function FC(t){var e,n="";for(e=Math.abs(t);e>Ky;e=e/Ky|0)n=kM(e%Ky)+n;return(kM(e%Ky)+n).replace(lge,"$1-$2")}var e6,oG=5381,lp=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},lG=function(t){return lp(oG,t)};function a7(t){return FC(lG(t)>>>0)}function uge(t){return t.displayName||t.name||"Component"}function t6(t){return typeof t=="string"&&!0}var uG=typeof Symbol=="function"&&Symbol.for,cG=uG?Symbol.for("react.memo"):60115,cge=uG?Symbol.for("react.forward_ref"):60112,hge={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},dge={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},hG={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},fge=((e6={})[cge]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},e6[cG]=hG,e6);function BM(t){return("type"in(e=t)&&e.type.$$typeof)===cG?hG:"$$typeof"in t?fge[t.$$typeof]:hge;var e}var pge=Object.defineProperty,vge=Object.getOwnPropertyNames,UM=Object.getOwnPropertySymbols,gge=Object.getOwnPropertyDescriptor,mge=Object.getPrototypeOf,jM=Object.prototype;function dG(t,e,n){if(typeof e!="string"){if(jM){var i=mge(e);i&&i!==jM&&dG(t,i,n)}var c=vge(e);UM&&(c=c.concat(UM(e)));for(var m=BM(t),s=BM(e),g=0;g<c.length;++g){var r=c[g];if(!(r in dge||n&&n[r]||s&&r in s||m&&r in m)){var a=gge(e,r);try{pge(t,r,a)}catch{}}}}return t}function Xp(t){return typeof t=="function"}function o7(t){return typeof t=="object"&&"styledComponentId"in t}function Rh(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function Nw(t,e){if(t.length===0)return"";for(var n=t[0],i=1;i<t.length;i++)n+=t[i];return n}function dm(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function LC(t,e,n){if(n===void 0&&(n=!1),!n&&!dm(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var i=0;i<e.length;i++)t[i]=LC(t[i],e[i]);else if(dm(e))for(var i in e)t[i]=LC(t[i],e[i]);return t}function l7(t,e){Object.defineProperty(t,"toString",{value:e})}function i1(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var yge=(function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,i=0;i<e;i++)n+=this.groupSizes[i];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var i=this.groupSizes,c=i.length,m=c;e>=m;)if((m<<=1)<0)throw i1(16,"".concat(e));this.groupSizes=new Uint32Array(m),this.groupSizes.set(i),this.length=m;for(var s=c;s<m;s++)this.groupSizes[s]=0}for(var g=this.indexOfGroup(e+1),r=(s=0,n.length);s<r;s++)this.tag.insertRule(g,n[s])&&(this.groupSizes[e]++,g++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],i=this.indexOfGroup(e),c=i+n;this.groupSizes[e]=0;for(var m=i;m<c;m++)this.tag.deleteRule(i)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var i=this.groupSizes[e],c=this.indexOfGroup(e),m=c+i,s=c;s<m;s++)n+="".concat(this.tag.getRule(s)).concat(s7);return n},t})(),X2=new Map,kw=new Map,K2=1,Zy=function(t){if(X2.has(t))return X2.get(t);for(;kw.has(K2);)K2++;var e=K2++;return X2.set(t,e),kw.set(e,t),e},wge=function(t,e){K2=e+1,X2.set(t,e),kw.set(e,t)},xge="style[".concat(Hp,"][").concat(iG,'="').concat(h3,'"]'),bge=new RegExp("^".concat(Hp,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Ege=function(t,e,n){for(var i,c=n.split(","),m=0,s=c.length;m<s;m++)(i=c[m])&&t.registerName(e,i)},Cge=function(t,e){for(var n,i=((n=e.textContent)!==null&&n!==void 0?n:"").split(s7),c=[],m=0,s=i.length;m<s;m++){var g=i[m].trim();if(g){var r=g.match(bge);if(r){var a=0|parseInt(r[1],10),v=r[2];a!==0&&(wge(v,a),Ege(t,v,r[3]),t.getTag().insertRules(a,c)),c.length=0}else c.push(g)}}},zM=function(t){for(var e=document.querySelectorAll(xge),n=0,i=e.length;n<i;n++){var c=e[n];c&&c.getAttribute(Hp)!==rG&&(Cge(t,c),c.parentNode&&c.parentNode.removeChild(c))}};function Sge(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var fG=function(t){var e=document.head,n=t||e,i=document.createElement("style"),c=(function(g){var r=Array.from(g.querySelectorAll("style[".concat(Hp,"]")));return r[r.length-1]})(n),m=c!==void 0?c.nextSibling:null;i.setAttribute(Hp,rG),i.setAttribute(iG,h3);var s=Sge();return s&&i.setAttribute("nonce",s),n.insertBefore(i,m),i},Tge=(function(){function t(e){this.element=fG(e),this.element.appendChild(document.createTextNode("")),this.sheet=(function(n){if(n.sheet)return n.sheet;for(var i=document.styleSheets,c=0,m=i.length;c<m;c++){var s=i[c];if(s.ownerNode===n)return s}throw i1(17)})(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t})(),Age=(function(){function t(e){this.element=fG(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var i=document.createTextNode(n);return this.element.insertBefore(i,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t})(),Pge=(function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t})(),WM=Dw,Ige={isServer:!Dw,useCSSOMInjection:!ige},Bw=(function(){function t(e,n,i){e===void 0&&(e=Yp),n===void 0&&(n={});var c=this;this.options=$i($i({},Ige),e),this.gs=n,this.names=new Map(i),this.server=!!e.isServer,!this.server&&Dw&&WM&&(WM=!1,zM(this)),l7(this,function(){return(function(m){for(var s=m.getTag(),g=s.length,r="",a=function(h){var u=(function(f){return kw.get(f)})(h);if(u===void 0)return"continue";var l=m.names.get(u),o=s.getGroup(h);if(l===void 0||!l.size||o.length===0)return"continue";var d="".concat(Hp,".g").concat(h,'[id="').concat(u,'"]'),p="";l!==void 0&&l.forEach(function(f){f.length>0&&(p+="".concat(f,","))}),r+="".concat(o).concat(d,'{content:"').concat(p,'"}').concat(s7)},v=0;v<g;v++)a(v);return r})(c)})}return t.registerId=function(e){return Zy(e)},t.prototype.rehydrate=function(){!this.server&&Dw&&zM(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t($i($i({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=(function(n){var i=n.useCSSOMInjection,c=n.target;return n.isServer?new Pge(c):i?new Tge(c):new Age(c)})(this.options),new yge(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(Zy(e),this.names.has(e))this.names.get(e).add(n);else{var i=new Set;i.add(n),this.names.set(e,i)}},t.prototype.insertRules=function(e,n,i){this.registerName(e,n),this.getTag().insertRules(Zy(e),i)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Zy(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t})(),Rge=/&/g,Oge=/^\s*\/\/.*$/gm;function pG(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(i){return"".concat(e," ").concat(i)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=pG(n.children,e)),n})}function Mge(t){var e,n,i,c=Yp,m=c.options,s=m===void 0?Yp:m,g=c.plugins,r=g===void 0?d3:g,a=function(u,l,o){return o.startsWith(n)&&o.endsWith(n)&&o.replaceAll(n,"").length>0?".".concat(e):u},v=r.slice();v.push(function(u){u.type===o3&&u.value.includes("&")&&(u.props[0]=u.props[0].replace(Rge,n).replace(i,a))}),s.prefix&&v.push(nge),v.push(qve);var h=function(u,l,o,d){l===void 0&&(l=""),o===void 0&&(o=""),d===void 0&&(d="&"),e=d,n=l,i=new RegExp("\\".concat(n,"\\b"),"g");var p=u.replace(Oge,""),f=_ve(o||l?"".concat(o," ").concat(l," { ").concat(p," }"):p);s.namespace&&(f=pG(f,s.namespace));var y=[];return Lw(f,ege(v.concat(tge(function(w){return y.push(w)})))),y};return h.hash=r.length?r.reduce(function(u,l){return l.name||i1(15),lp(u,l.name)},oG).toString():"",h}var $ge=new Bw,DC=Mge(),vG=Ze.createContext({shouldForwardProp:void 0,styleSheet:$ge,stylis:DC});vG.Consumer;Ze.createContext(void 0);function NC(){return H.useContext(vG)}var gG=(function(){function t(e,n){var i=this;this.inject=function(c,m){m===void 0&&(m=DC);var s=i.name+m.hash;c.hasNameForId(i.id,s)||c.insertRules(i.id,s,m(i.rules,s,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,l7(this,function(){throw i1(12,String(i.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=DC),this.name+e.hash},t})(),Fge=function(t){return t>="A"&&t<="Z"};function GM(t){for(var e="",n=0;n<t.length;n++){var i=t[n];if(n===1&&i==="-"&&t[0]==="-")return t;Fge(i)?e+="-"+i.toLowerCase():e+=i}return e.startsWith("ms-")?"-"+e:e}var mG=function(t){return t==null||t===!1||t===""},yG=function(t){var e,n,i=[];for(var c in t){var m=t[c];t.hasOwnProperty(c)&&!mG(m)&&(Array.isArray(m)&&m.isCss||Xp(m)?i.push("".concat(GM(c),":"),m,";"):dm(m)?i.push.apply(i,Wp(Wp(["".concat(c," {")],yG(m),!1),["}"],!1)):i.push("".concat(GM(c),": ").concat((e=c,(n=m)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in rge||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return i};function Cc(t,e,n,i){if(mG(t))return[];if(o7(t))return[".".concat(t.styledComponentId)];if(Xp(t)){if(!Xp(m=t)||m.prototype&&m.prototype.isReactComponent||!e)return[t];var c=t(e);return Cc(c,e,n,i)}var m;return t instanceof gG?n?(t.inject(n,i),[t.getName(i)]):[t]:dm(t)?yG(t):Array.isArray(t)?Array.prototype.concat.apply(d3,t.map(function(s){return Cc(s,e,n,i)})):[t.toString()]}function wG(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Xp(n)&&!o7(n))return!1}return!0}var Lge=lG(h3),Dge=(function(){function t(e,n,i){this.rules=e,this.staticRulesId="",this.isStatic=(i===void 0||i.isStatic)&&wG(e),this.componentId=n,this.baseHash=lp(Lge,n),this.baseStyle=i,Bw.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,i){var c=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,i):"";if(this.isStatic&&!i.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))c=Rh(c,this.staticRulesId);else{var m=Nw(Cc(this.rules,e,n,i)),s=FC(lp(this.baseHash,m)>>>0);if(!n.hasNameForId(this.componentId,s)){var g=i(m,".".concat(s),void 0,this.componentId);n.insertRules(this.componentId,s,g)}c=Rh(c,s),this.staticRulesId=s}else{for(var r=lp(this.baseHash,i.hash),a="",v=0;v<this.rules.length;v++){var h=this.rules[v];if(typeof h=="string")a+=h;else if(h){var u=Nw(Cc(h,e,n,i));r=lp(r,u+v),a+=u}}if(a){var l=FC(r>>>0);n.hasNameForId(this.componentId,l)||n.insertRules(this.componentId,l,i(a,".".concat(l),void 0,this.componentId)),c=Rh(c,l)}}return c},t})(),u7=Ze.createContext(void 0);u7.Consumer;var n6={};function Nge(t,e,n){var i=o7(t),c=t,m=!t6(t),s=e.attrs,g=s===void 0?d3:s,r=e.componentId,a=r===void 0?(function(x,b){var E=typeof x!="string"?"sc":NM(x);n6[E]=(n6[E]||0)+1;var C="".concat(E,"-").concat(a7(h3+E+n6[E]));return b?"".concat(b,"-").concat(C):C})(e.displayName,e.parentComponentId):r,v=e.displayName,h=v===void 0?(function(x){return t6(x)?"styled.".concat(x):"Styled(".concat(uge(x),")")})(t):v,u=e.displayName&&e.componentId?"".concat(NM(e.displayName),"-").concat(e.componentId):e.componentId||a,l=i&&c.attrs?c.attrs.concat(g).filter(Boolean):g,o=e.shouldForwardProp;if(i&&c.shouldForwardProp){var d=c.shouldForwardProp;if(e.shouldForwardProp){var p=e.shouldForwardProp;o=function(x,b){return d(x,b)&&p(x,b)}}else o=d}var f=new Dge(n,u,i?c.componentStyle:void 0);function y(x,b){return(function(E,C,T){var S=E.attrs,A=E.componentStyle,P=E.defaultProps,R=E.foldedComponentIds,L=E.styledComponentId,D=E.target,$=Ze.useContext(u7),F=NC(),N=E.shouldForwardProp||F.shouldForwardProp,k=sG(C,$,P)||Yp,j=(function(U,Z,V){for(var J,Q=$i($i({},Z),{className:void 0,theme:V}),ee=0;ee<U.length;ee+=1){var te=Xp(J=U[ee])?J(Q):J;for(var ie in te)Q[ie]=ie==="className"?Rh(Q[ie],te[ie]):ie==="style"?$i($i({},Q[ie]),te[ie]):te[ie]}return Z.className&&(Q.className=Rh(Q.className,Z.className)),Q})(S,C,k),W=j.as||D,G={};for(var K in j)j[K]===void 0||K[0]==="$"||K==="as"||K==="theme"&&j.theme===k||(K==="forwardedAs"?G.as=j.forwardedAs:N&&!N(K,W)||(G[K]=j[K]));var z=(function(U,Z){var V=NC(),J=U.generateAndInjectStyles(Z,V.styleSheet,V.stylis);return J})(A,j),X=Rh(R,L);return z&&(X+=" "+z),j.className&&(X+=" "+j.className),G[t6(W)&&!aG.has(W)?"class":"className"]=X,T&&(G.ref=T),H.createElement(W,G)})(w,x,b)}y.displayName=h;var w=Ze.forwardRef(y);return w.attrs=l,w.componentStyle=f,w.displayName=h,w.shouldForwardProp=o,w.foldedComponentIds=i?Rh(c.foldedComponentIds,c.styledComponentId):"",w.styledComponentId=u,w.target=i?c.target:t,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(x){this._foldedDefaultProps=i?(function(b){for(var E=[],C=1;C<arguments.length;C++)E[C-1]=arguments[C];for(var T=0,S=E;T<S.length;T++)LC(b,S[T],!0);return b})({},c.defaultProps,x):x}}),l7(w,function(){return".".concat(w.styledComponentId)}),m&&dG(w,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function VM(t,e){for(var n=[t[0]],i=0,c=e.length;i<c;i+=1)n.push(e[i],t[i+1]);return n}var HM=function(t){return Object.assign(t,{isCss:!0})};function Wr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Xp(t)||dm(t))return HM(Cc(VM(d3,Wp([t],e,!0))));var i=t;return e.length===0&&i.length===1&&typeof i[0]=="string"?Cc(i):HM(Cc(VM(i,e)))}function kC(t,e,n){if(n===void 0&&(n=Yp),!e)throw i1(1,e);var i=function(c){for(var m=[],s=1;s<arguments.length;s++)m[s-1]=arguments[s];return t(e,n,Wr.apply(void 0,Wp([c],m,!1)))};return i.attrs=function(c){return kC(t,e,$i($i({},n),{attrs:Array.prototype.concat(n.attrs,c).filter(Boolean)}))},i.withConfig=function(c){return kC(t,e,$i($i({},n),c))},i}var xG=function(t){return kC(Nge,t)},ae=xG;aG.forEach(function(t){ae[t]=xG(t)});var kge=(function(){function t(e,n){this.rules=e,this.componentId=n,this.isStatic=wG(e),Bw.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,n,i,c){var m=c(Nw(Cc(this.rules,n,i,c)),""),s=this.componentId+e;i.insertRules(s,s,m)},t.prototype.removeStyles=function(e,n){n.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,n,i,c){e>2&&Bw.registerId(this.componentId+e),this.removeStyles(e,i),this.createStyles(e,n,i,c)},t})();function Bge(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=Wr.apply(void 0,Wp([t],e,!1)),c="sc-global-".concat(a7(JSON.stringify(i))),m=new kge(i,c),s=function(r){var a=NC(),v=Ze.useContext(u7),h=Ze.useRef(a.styleSheet.allocateGSInstance(c)).current;return a.styleSheet.server&&g(h,r,a.styleSheet,v,a.stylis),Ze.useLayoutEffect(function(){if(!a.styleSheet.server)return g(h,r,a.styleSheet,v,a.stylis),function(){return m.removeStyles(h,a.styleSheet)}},[h,r,a.styleSheet,v,a.stylis]),null};function g(r,a,v,h,u){if(m.isStatic)m.renderStyles(r,sge,v,u);else{var l=$i($i({},a),{theme:sG(a,h,s.defaultProps)});m.renderStyles(r,l,v,u)}}return Ze.memo(s)}function bG(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=Nw(Wr.apply(void 0,Wp([t],e,!1))),c=a7(i);return new gG(c,i)}const EG=({origin:t,path:e,query:n={},hash:i={}})=>{let c=new URL(e,t.endsWith("/")?t:`${t}/`);for(let[s,g]of Object.entries(n))g!==void 0&&c.searchParams.set(s,g);let m=Object.entries(i);if(m.length>0){let s=new URLSearchParams;for(let[g,r]of m)r!==void 0&&s.append(g,r);c.hash=s.toString()}return c.href};/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function CG(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Uge(t,...e){if(!CG(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function SG(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(n=>typeof n=="string"):e.every(n=>Number.isSafeInteger(n)):!1}function fm(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function c7(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function BC(t){if(!Array.isArray(t))throw new Error("array expected")}function Uw(t,e){if(!SG(!0,e))throw new Error(`${t}: array of strings expected`)}function jge(t,e){if(!SG(!1,e))throw new Error(`${t}: array of numbers expected`)}function TG(...t){const e=m=>m,n=(m,s)=>g=>m(s(g)),i=t.map(m=>m.encode).reduceRight(n,e),c=t.map(m=>m.decode).reduce(n,e);return{encode:i,decode:c}}function AG(t){const e=typeof t=="string"?t.split(""):t,n=e.length;Uw("alphabet",e);const i=new Map(e.map((c,m)=>[c,m]));return{encode:c=>(BC(c),c.map(m=>{if(!Number.isSafeInteger(m)||m<0||m>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${m}". Allowed: ${t}`);return e[m]})),decode:c=>(BC(c),c.map(m=>{fm("alphabet.decode",m);const s=i.get(m);if(s===void 0)throw new Error(`Unknown letter: "${m}". Allowed: ${t}`);return s}))}}function PG(t=""){return fm("join",t),{encode:e=>(Uw("join.decode",e),e.join(t)),decode:e=>(fm("join.decode",e),e.split(t))}}function IG(t,e="="){return c7(t),fm("padding",e),{encode(n){for(Uw("padding.encode",n);n.length*t%8;)n.push(e);return n},decode(n){Uw("padding.decode",n);let i=n.length;if(i*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;i>0&&n[i-1]===e;i--)if((i-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,i)}}}const RG=(t,e)=>e===0?t:RG(e,t%e),jw=(t,e)=>t+(e-RG(t,e)),r6=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function YM(t,e,n,i){if(BC(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(jw(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${jw(e,n)}`);let c=0,m=0;const s=r6[e],g=r6[n]-1,r=[];for(const a of t){if(c7(a),a>=s)throw new Error(`convertRadix2: invalid data word=${a} from=${e}`);if(c=c<<e|a,m+e>32)throw new Error(`convertRadix2: carry overflow pos=${m} from=${e}`);for(m+=e;m>=n;m-=n)r.push((c>>m-n&g)>>>0);const v=r6[m];if(v===void 0)throw new Error("invalid carry");c&=v-1}if(c=c<<n-m&g,!i&&m>=e)throw new Error("Excess padding");if(!i&&c>0)throw new Error(`Non-zero padding: ${c}`);return i&&m>0&&r.push(c>>>0),r}function OG(t,e=!1){if(c7(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(jw(8,t)>32||jw(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!CG(n))throw new Error("radix2.encode input should be Uint8Array");return YM(Array.from(n),8,t,!e)},decode:n=>(jge("radix2.decode",n),Uint8Array.from(YM(n,t,8,e)))}}const zge=TG(OG(5),AG("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),IG(5),PG("")),Wge=typeof Uint8Array.from([]).toBase64=="function"&&typeof Uint8Array.fromBase64=="function",Gge=(t,e)=>{fm("base64",t);const n=/^[A-Za-z0-9=+/]+$/,i="base64";if(t.length>0&&!n.test(t))throw new Error("invalid base64");return Uint8Array.fromBase64(t,{alphabet:i,lastChunkHandling:"strict"})},Z2=Wge?{encode(t){return Uge(t),t.toBase64()},decode(t){return Gge(t)}}:TG(OG(6),AG("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),IG(6),PG(""));function zw(t){"@babel/helpers - typeof";return zw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zw(t)}var Vge=/^\s+/,Hge=/\s+$/;function ot(t,e){if(t=t||"",e=e||{},t instanceof ot)return t;if(!(this instanceof ot))return new ot(t,e);var n=Yge(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}ot.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,i,c,m,s,g;return n=e.r/255,i=e.g/255,c=e.b/255,n<=.03928?m=n/12.92:m=Math.pow((n+.055)/1.055,2.4),i<=.03928?s=i/12.92:s=Math.pow((i+.055)/1.055,2.4),c<=.03928?g=c/12.92:g=Math.pow((c+.055)/1.055,2.4),.2126*m+.7152*s+.0722*g},setAlpha:function(e){return this._a=MG(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=KM(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=KM(this._r,this._g,this._b),n=Math.round(e.h*360),i=Math.round(e.s*100),c=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+i+"%, "+c+"%)":"hsva("+n+", "+i+"%, "+c+"%, "+this._roundA+")"},toHsl:function(){var e=XM(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=XM(this._r,this._g,this._b),n=Math.round(e.h*360),i=Math.round(e.s*100),c=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+i+"%, "+c+"%)":"hsla("+n+", "+i+"%, "+c+"%, "+this._roundA+")"},toHex:function(e){return ZM(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return Jge(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Jn(this._r,255)*100)+"%",g:Math.round(Jn(this._g,255)*100)+"%",b:Math.round(Jn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Jn(this._r,255)*100)+"%, "+Math.round(Jn(this._g,255)*100)+"%, "+Math.round(Jn(this._b,255)*100)+"%)":"rgba("+Math.round(Jn(this._r,255)*100)+"%, "+Math.round(Jn(this._g,255)*100)+"%, "+Math.round(Jn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:lme[ZM(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+JM(this._r,this._g,this._b,this._a),i=n,c=this._gradientType?"GradientType = 1, ":"";if(e){var m=ot(e);i="#"+JM(m._r,m._g,m._b,m._a)}return"progid:DXImageTransform.Microsoft.gradient("+c+"startColorstr="+n+",endColorstr="+i+")"},toString:function(e){var n=!!e;e=e||this._format;var i=!1,c=this._a<1&&this._a>=0,m=!n&&c&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return m?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return ot(this.toString())},_applyModification:function(e,n){var i=e.apply(null,[this].concat([].slice.call(n)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(eme,arguments)},brighten:function(){return this._applyModification(tme,arguments)},darken:function(){return this._applyModification(nme,arguments)},desaturate:function(){return this._applyModification(_ge,arguments)},saturate:function(){return this._applyModification(Qge,arguments)},greyscale:function(){return this._applyModification(qge,arguments)},spin:function(){return this._applyModification(rme,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(ame,arguments)},complement:function(){return this._applyCombination(ime,arguments)},monochromatic:function(){return this._applyCombination(ome,arguments)},splitcomplement:function(){return this._applyCombination(sme,arguments)},triad:function(){return this._applyCombination(_M,[3])},tetrad:function(){return this._applyCombination(_M,[4])}};ot.fromRatio=function(t,e){if(zw(t)=="object"){var n={};for(var i in t)t.hasOwnProperty(i)&&(i==="a"?n[i]=t[i]:n[i]=Wv(t[i]));t=n}return ot(t,e)};function Yge(t){var e={r:0,g:0,b:0},n=1,i=null,c=null,m=null,s=!1,g=!1;return typeof t=="string"&&(t=dme(t)),zw(t)=="object"&&(kl(t.r)&&kl(t.g)&&kl(t.b)?(e=Xge(t.r,t.g,t.b),s=!0,g=String(t.r).substr(-1)==="%"?"prgb":"rgb"):kl(t.h)&&kl(t.s)&&kl(t.v)?(i=Wv(t.s),c=Wv(t.v),e=Zge(t.h,i,c),s=!0,g="hsv"):kl(t.h)&&kl(t.s)&&kl(t.l)&&(i=Wv(t.s),m=Wv(t.l),e=Kge(t.h,i,m),s=!0,g="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=MG(n),{ok:s,format:t.format||g,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function Xge(t,e,n){return{r:Jn(t,255)*255,g:Jn(e,255)*255,b:Jn(n,255)*255}}function XM(t,e,n){t=Jn(t,255),e=Jn(e,255),n=Jn(n,255);var i=Math.max(t,e,n),c=Math.min(t,e,n),m,s,g=(i+c)/2;if(i==c)m=s=0;else{var r=i-c;switch(s=g>.5?r/(2-i-c):r/(i+c),i){case t:m=(e-n)/r+(e<n?6:0);break;case e:m=(n-t)/r+2;break;case n:m=(t-e)/r+4;break}m/=6}return{h:m,s,l:g}}function Kge(t,e,n){var i,c,m;t=Jn(t,360),e=Jn(e,100),n=Jn(n,100);function s(a,v,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?a+(v-a)*6*h:h<1/2?v:h<2/3?a+(v-a)*(2/3-h)*6:a}if(e===0)i=c=m=n;else{var g=n<.5?n*(1+e):n+e-n*e,r=2*n-g;i=s(r,g,t+1/3),c=s(r,g,t),m=s(r,g,t-1/3)}return{r:i*255,g:c*255,b:m*255}}function KM(t,e,n){t=Jn(t,255),e=Jn(e,255),n=Jn(n,255);var i=Math.max(t,e,n),c=Math.min(t,e,n),m,s,g=i,r=i-c;if(s=i===0?0:r/i,i==c)m=0;else{switch(i){case t:m=(e-n)/r+(e<n?6:0);break;case e:m=(n-t)/r+2;break;case n:m=(t-e)/r+4;break}m/=6}return{h:m,s,v:g}}function Zge(t,e,n){t=Jn(t,360)*6,e=Jn(e,100),n=Jn(n,100);var i=Math.floor(t),c=t-i,m=n*(1-e),s=n*(1-c*e),g=n*(1-(1-c)*e),r=i%6,a=[n,s,m,m,g,n][r],v=[g,n,n,s,m,m][r],h=[m,m,g,n,n,s][r];return{r:a*255,g:v*255,b:h*255}}function ZM(t,e,n,i){var c=[oo(Math.round(t).toString(16)),oo(Math.round(e).toString(16)),oo(Math.round(n).toString(16))];return i&&c[0].charAt(0)==c[0].charAt(1)&&c[1].charAt(0)==c[1].charAt(1)&&c[2].charAt(0)==c[2].charAt(1)?c[0].charAt(0)+c[1].charAt(0)+c[2].charAt(0):c.join("")}function Jge(t,e,n,i,c){var m=[oo(Math.round(t).toString(16)),oo(Math.round(e).toString(16)),oo(Math.round(n).toString(16)),oo($G(i))];return c&&m[0].charAt(0)==m[0].charAt(1)&&m[1].charAt(0)==m[1].charAt(1)&&m[2].charAt(0)==m[2].charAt(1)&&m[3].charAt(0)==m[3].charAt(1)?m[0].charAt(0)+m[1].charAt(0)+m[2].charAt(0)+m[3].charAt(0):m.join("")}function JM(t,e,n,i){var c=[oo($G(i)),oo(Math.round(t).toString(16)),oo(Math.round(e).toString(16)),oo(Math.round(n).toString(16))];return c.join("")}ot.equals=function(t,e){return!t||!e?!1:ot(t).toRgbString()==ot(e).toRgbString()};ot.random=function(){return ot.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function _ge(t,e){e=e===0?0:e||10;var n=ot(t).toHsl();return n.s-=e/100,n.s=f3(n.s),ot(n)}function Qge(t,e){e=e===0?0:e||10;var n=ot(t).toHsl();return n.s+=e/100,n.s=f3(n.s),ot(n)}function qge(t){return ot(t).desaturate(100)}function eme(t,e){e=e===0?0:e||10;var n=ot(t).toHsl();return n.l+=e/100,n.l=f3(n.l),ot(n)}function tme(t,e){e=e===0?0:e||10;var n=ot(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),ot(n)}function nme(t,e){e=e===0?0:e||10;var n=ot(t).toHsl();return n.l-=e/100,n.l=f3(n.l),ot(n)}function rme(t,e){var n=ot(t).toHsl(),i=(n.h+e)%360;return n.h=i<0?360+i:i,ot(n)}function ime(t){var e=ot(t).toHsl();return e.h=(e.h+180)%360,ot(e)}function _M(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=ot(t).toHsl(),i=[ot(t)],c=360/e,m=1;m<e;m++)i.push(ot({h:(n.h+m*c)%360,s:n.s,l:n.l}));return i}function sme(t){var e=ot(t).toHsl(),n=e.h;return[ot(t),ot({h:(n+72)%360,s:e.s,l:e.l}),ot({h:(n+216)%360,s:e.s,l:e.l})]}function ame(t,e,n){e=e||6,n=n||30;var i=ot(t).toHsl(),c=360/n,m=[ot(t)];for(i.h=(i.h-(c*e>>1)+720)%360;--e;)i.h=(i.h+c)%360,m.push(ot(i));return m}function ome(t,e){e=e||6;for(var n=ot(t).toHsv(),i=n.h,c=n.s,m=n.v,s=[],g=1/e;e--;)s.push(ot({h:i,s:c,v:m})),m=(m+g)%1;return s}ot.mix=function(t,e,n){n=n===0?0:n||50;var i=ot(t).toRgb(),c=ot(e).toRgb(),m=n/100,s={r:(c.r-i.r)*m+i.r,g:(c.g-i.g)*m+i.g,b:(c.b-i.b)*m+i.b,a:(c.a-i.a)*m+i.a};return ot(s)};ot.readability=function(t,e){var n=ot(t),i=ot(e);return(Math.max(n.getLuminance(),i.getLuminance())+.05)/(Math.min(n.getLuminance(),i.getLuminance())+.05)};ot.isReadable=function(t,e,n){var i=ot.readability(t,e),c,m;switch(m=!1,c=fme(n),c.level+c.size){case"AAsmall":case"AAAlarge":m=i>=4.5;break;case"AAlarge":m=i>=3;break;case"AAAsmall":m=i>=7;break}return m};ot.mostReadable=function(t,e,n){var i=null,c=0,m,s,g,r;n=n||{},s=n.includeFallbackColors,g=n.level,r=n.size;for(var a=0;a<e.length;a++)m=ot.readability(t,e[a]),m>c&&(c=m,i=ot(e[a]));return ot.isReadable(t,i,{level:g,size:r})||!s?i:(n.includeFallbackColors=!1,ot.mostReadable(t,["#fff","#000"],n))};var UC=ot.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},lme=ot.hexNames=ume(UC);function ume(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function MG(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Jn(t,e){cme(t)&&(t="100%");var n=hme(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function f3(t){return Math.min(1,Math.max(0,t))}function Bs(t){return parseInt(t,16)}function cme(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function hme(t){return typeof t=="string"&&t.indexOf("%")!=-1}function oo(t){return t.length==1?"0"+t:""+t}function Wv(t){return t<=1&&(t=t*100+"%"),t}function $G(t){return Math.round(parseFloat(t)*255).toString(16)}function QM(t){return Bs(t)/255}var Ja=(function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",c="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+c),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+c),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+c),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function kl(t){return!!Ja.CSS_UNIT.exec(t)}function dme(t){t=t.replace(Vge,"").replace(Hge,"").toLowerCase();var e=!1;if(UC[t])t=UC[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Ja.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=Ja.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Ja.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=Ja.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Ja.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=Ja.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Ja.hex8.exec(t))?{r:Bs(n[1]),g:Bs(n[2]),b:Bs(n[3]),a:QM(n[4]),format:e?"name":"hex8"}:(n=Ja.hex6.exec(t))?{r:Bs(n[1]),g:Bs(n[2]),b:Bs(n[3]),format:e?"name":"hex"}:(n=Ja.hex4.exec(t))?{r:Bs(n[1]+""+n[1]),g:Bs(n[2]+""+n[2]),b:Bs(n[3]+""+n[3]),a:QM(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=Ja.hex3.exec(t))?{r:Bs(n[1]+""+n[1]),g:Bs(n[2]+""+n[2]),b:Bs(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function fme(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}function pme({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const vme=H.forwardRef(pme);function gme({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const mme=H.forwardRef(gme);function yme({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const wme=H.forwardRef(yme);function xme({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"}))}const Ep=H.forwardRef(xme);function bme({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Eme=H.forwardRef(bme);function Cme({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const Sme=H.forwardRef(Cme);function Tme({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const h7=H.forwardRef(Tme);function Ame({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const Ac=H.forwardRef(Ame);function Pme({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const bd=H.forwardRef(Pme);function Ime({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a2.25 2.25 0 0 0-2.25-2.25H15a3 3 0 1 1-6 0H5.25A2.25 2.25 0 0 0 3 12m18 0v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 9m18 0V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v3"}))}const p3=H.forwardRef(Ime);function Rme({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const d7=H.forwardRef(Rme);function Ome({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 8.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v8.25A2.25 2.25 0 0 0 6 16.5h2.25m8.25-8.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-7.5A2.25 2.25 0 0 1 8.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 0 0-2.25 2.25v6"}))}const Mme=H.forwardRef(Ome);var i6,qM;function $me(){if(qM)return i6;qM=1;var t=function(s,g){return Math.round(g*Math.log(s)/Math.LN2)},e=[{name:"lowercase",re:/[a-z]/,length:26},{name:"uppercase",re:/[A-Z]/,length:26},{name:"numbers",re:/[0-9]/,length:10},{name:"symbols",re:/[^a-zA-Z0-9]/,length:33}],n=function(s){return function(g){return s.reduce(function(r,a){return r+(a.re.test(g)?a.length:0)},0)}},i=n(e),c=function(s){return s?t(i(s),s.length):0};return i6=c,i6}var Fme=$me();const Lme=La(Fme);function FG(t){return crypto.getRandomValues(new Uint8Array(t))}const Dme=256,tg=65536;function Nme(){const[t]=FG(1);return t}function kme(){const[t,e]=FG(2);return(t<<8)+e}function Bme(t){if(typeof t!="number"||t<2||t>tg)throw new Error(`Invalid number: number must be at least two and at most ${tg}`);const e=t>256,n=e?tg:Dme,i=e?kme:Nme,c=t*Math.floor(n/t);for(;;){const m=i();if(m<c)return m%t}}function Ume(t,e,n){if(typeof n!="number"||n>tg)throw new Error(`Invalid argument: end must be a number less than or equal to ${tg}`);if(n-e<2)throw new Error("Invalid range: range must contain at least two values");const i=[];for(let c=0;c<t;c++)i[c]=e+Bme(n-e);return i}function jme(t,e,n="-"){if(!Array.isArray(e)||e.length<2)throw new Error("Invalid argument: wordlist argument must be an array with length greater than or equal to 2");if(typeof n!="string")throw new Error("Invalid argument: sep argument must be a string");return Ume(t,0,e.length).reduce((i,c,m)=>{const s=e[c];return i+(m===0?s:n+s)},"")}const zme=Object.freeze(["abacus","abdomen","abdominal","abide","abiding","ability","ablaze","able","abnormal","abrasion","abrasive","abreast","abridge","abroad","abruptly","absence","absentee","absently","absinthe","absolute","absolve","abstain","abstract","absurd","accent","acclaim","acclimate","accompany","account","accuracy","accurate","accustom","acetone","achiness","aching","acid","acorn","acquaint","acquire","acre","acrobat","acronym","acting","action","activate","activator","active","activism","activist","activity","actress","acts","acutely","acuteness","aeration","aerobics","aerosol","aerospace","afar","affair","affected","affecting","affection","affidavit","affiliate","affirm","affix","afflicted","affluent","afford","affront","aflame","afloat","aflutter","afoot","afraid","afterglow","afterlife","aftermath","aftermost","afternoon","aged","ageless","agency","agenda","agent","aggregate","aghast","agile","agility","aging","agnostic","agonize","agonizing","agony","agreeable","agreeably","agreed","agreeing","agreement","aground","ahead","ahoy","aide","aids","aim","ajar","alabaster","alarm","albatross","album","alfalfa","algebra","algorithm","alias","alibi","alienable","alienate","aliens","alike","alive","alkaline","alkalize","almanac","almighty","almost","aloe","aloft","aloha","alone","alongside","aloof","alphabet","alright","although","altitude","alto","aluminum","alumni","always","amaretto","amaze","amazingly","amber","ambiance","ambiguity","ambiguous","ambition","ambitious","ambulance","ambush","amendable","amendment","amends","amenity","amiable","amicably","amid","amigo","amino","amiss","ammonia","ammonium","amnesty","amniotic","among","amount","amperage","ample","amplifier","amplify","amply","amuck","amulet","amusable","amused","amusement","amuser","amusing","anaconda","anaerobic","anagram","anatomist","anatomy","anchor","anchovy","ancient","android","anemia","anemic","aneurism","anew","angelfish","angelic","anger","angled","angler","angles","angling","angrily","angriness","anguished","angular","animal","animate","animating","animation","animator","anime","animosity","ankle","annex","annotate","announcer","annoying","annually","annuity","anointer","another","answering","antacid","antarctic","anteater","antelope","antennae","anthem","anthill","anthology","antibody","antics","antidote","antihero","antiquely","antiques","antiquity","antirust","antitoxic","antitrust","antiviral","antivirus","antler","antonym","antsy","anvil","anybody","anyhow","anymore","anyone","anyplace","anything","anytime","anyway","anywhere","aorta","apache","apostle","appealing","appear","appease","appeasing","appendage","appendix","appetite","appetizer","applaud","applause","apple","appliance","applicant","applied","apply","appointee","appraisal","appraiser","apprehend","approach","approval","approve","apricot","april","apron","aptitude","aptly","aqua","aqueduct","arbitrary","arbitrate","ardently","area","arena","arguable","arguably","argue","arise","armadillo","armband","armchair","armed","armful","armhole","arming","armless","armoire","armored","armory","armrest","army","aroma","arose","around","arousal","arrange","array","arrest","arrival","arrive","arrogance","arrogant","arson","art","ascend","ascension","ascent","ascertain","ashamed","ashen","ashes","ashy","aside","askew","asleep","asparagus","aspect","aspirate","aspire","aspirin","astonish","astound","astride","astrology","astronaut","astronomy","astute","atlantic","atlas","atom","atonable","atop","atrium","atrocious","atrophy","attach","attain","attempt","attendant","attendee","attention","attentive","attest","attic","attire","attitude","attractor","attribute","atypical","auction","audacious","audacity","audible","audibly","audience","audio","audition","augmented","august","authentic","author","autism","autistic","autograph","automaker","automated","automatic","autopilot","available","avalanche","avatar","avenge","avenging","avenue","average","aversion","avert","aviation","aviator","avid","avoid","await","awaken","award","aware","awhile","awkward","awning","awoke","awry","axis","babble","babbling","babied","baboon","backache","backboard","backboned","backdrop","backed","backer","backfield","backfire","backhand","backing","backlands","backlash","backless","backlight","backlit","backlog","backpack","backpedal","backrest","backroom","backshift","backside","backslid","backspace","backspin","backstab","backstage","backtalk","backtrack","backup","backward","backwash","backwater","backyard","bacon","bacteria","bacterium","badass","badge","badland","badly","badness","baffle","baffling","bagel","bagful","baggage","bagged","baggie","bagginess","bagging","baggy","bagpipe","baguette","baked","bakery","bakeshop","baking","balance","balancing","balcony","balmy","balsamic","bamboo","banana","banish","banister","banjo","bankable","bankbook","banked","banker","banking","banknote","bankroll","banner","bannister","banshee","banter","barbecue","barbed","barbell","barber","barcode","barge","bargraph","barista","baritone","barley","barmaid","barman","barn","barometer","barrack","barracuda","barrel","barrette","barricade","barrier","barstool","bartender","barterer","bash","basically","basics","basil","basin","basis","basket","batboy","batch","bath","baton","bats","battalion","battered","battering","battery","batting","battle","bauble","bazooka","blabber","bladder","blade","blah","blame","blaming","blanching","blandness","blank","blaspheme","blasphemy","blast","blatancy","blatantly","blazer","blazing","bleach","bleak","bleep","blemish","blend","bless","blighted","blimp","bling","blinked","blinker","blinking","blinks","blip","blissful","blitz","blizzard","bloated","bloating","blob","blog","bloomers","blooming","blooper","blot","blouse","blubber","bluff","bluish","blunderer","blunt","blurb","blurred","blurry","blurt","blush","blustery","boaster","boastful","boasting","boat","bobbed","bobbing","bobble","bobcat","bobsled","bobtail","bodacious","body","bogged","boggle","bogus","boil","bok","bolster","bolt","bonanza","bonded","bonding","bondless","boned","bonehead","boneless","bonelike","boney","bonfire","bonnet","bonsai","bonus","bony","boogeyman","boogieman","book","boondocks","booted","booth","bootie","booting","bootlace","bootleg","boots","boozy","borax","boring","borough","borrower","borrowing","boss","botanical","botanist","botany","botch","both","bottle","bottling","bottom","bounce","bouncing","bouncy","bounding","boundless","bountiful","bovine","boxcar","boxer","boxing","boxlike","boxy","breach","breath","breeches","breeching","breeder","breeding","breeze","breezy","brethren","brewery","brewing","briar","bribe","brick","bride","bridged","brigade","bright","brilliant","brim","bring","brink","brisket","briskly","briskness","bristle","brittle","broadband","broadcast","broaden","broadly","broadness","broadside","broadways","broiler","broiling","broken","broker","bronchial","bronco","bronze","bronzing","brook","broom","brought","browbeat","brownnose","browse","browsing","bruising","brunch","brunette","brunt","brush","brussels","brute","brutishly","bubble","bubbling","bubbly","buccaneer","bucked","bucket","buckle","buckshot","buckskin","bucktooth","buckwheat","buddhism","buddhist","budding","buddy","budget","buffalo","buffed","buffer","buffing","buffoon","buggy","bulb","bulge","bulginess","bulgur","bulk","bulldog","bulldozer","bullfight","bullfrog","bullhorn","bullion","bullish","bullpen","bullring","bullseye","bullwhip","bully","bunch","bundle","bungee","bunion","bunkbed","bunkhouse","bunkmate","bunny","bunt","busboy","bush","busily","busload","bust","busybody","buzz","cabana","cabbage","cabbie","cabdriver","cable","caboose","cache","cackle","cacti","cactus","caddie","caddy","cadet","cadillac","cadmium","cage","cahoots","cake","calamari","calamity","calcium","calculate","calculus","caliber","calibrate","calm","caloric","calorie","calzone","camcorder","cameo","camera","camisole","camper","campfire","camping","campsite","campus","canal","canary","cancel","candied","candle","candy","cane","canine","canister","cannabis","canned","canning","cannon","cannot","canola","canon","canopener","canopy","canteen","canyon","capable","capably","capacity","cape","capillary","capital","capitol","capped","capricorn","capsize","capsule","caption","captivate","captive","captivity","capture","caramel","carat","caravan","carbon","cardboard","carded","cardiac","cardigan","cardinal","cardstock","carefully","caregiver","careless","caress","caretaker","cargo","caring","carless","carload","carmaker","carnage","carnation","carnival","carnivore","carol","carpenter","carpentry","carpool","carport","carried","carrot","carrousel","carry","cartel","cartload","carton","cartoon","cartridge","cartwheel","carve","carving","carwash","cascade","case","cash","casing","casino","casket","cassette","casually","casualty","catacomb","catalog","catalyst","catalyze","catapult","cataract","catatonic","catcall","catchable","catcher","catching","catchy","caterer","catering","catfight","catfish","cathedral","cathouse","catlike","catnap","catnip","catsup","cattail","cattishly","cattle","catty","catwalk","caucasian","caucus","causal","causation","cause","causing","cauterize","caution","cautious","cavalier","cavalry","caviar","cavity","cedar","celery","celestial","celibacy","celibate","celtic","cement","census","ceramics","ceremony","certainly","certainty","certified","certify","cesarean","cesspool","chafe","chaffing","chain","chair","chalice","challenge","chamber","chamomile","champion","chance","change","channel","chant","chaos","chaperone","chaplain","chapped","chaps","chapter","character","charbroil","charcoal","charger","charging","chariot","charity","charm","charred","charter","charting","chase","chasing","chaste","chastise","chastity","chatroom","chatter","chatting","chatty","cheating","cheddar","cheek","cheer","cheese","cheesy","chef","chemicals","chemist","chemo","cherisher","cherub","chess","chest","chevron","chevy","chewable","chewer","chewing","chewy","chief","chihuahua","childcare","childhood","childish","childless","childlike","chili","chill","chimp","chip","chirping","chirpy","chitchat","chivalry","chive","chloride","chlorine","choice","chokehold","choking","chomp","chooser","choosing","choosy","chop","chosen","chowder","chowtime","chrome","chubby","chuck","chug","chummy","chump","chunk","churn","chute","cider","cilantro","cinch","cinema","cinnamon","circle","circling","circular","circulate","circus","citable","citadel","citation","citizen","citric","citrus","city","civic","civil","clad","claim","clambake","clammy","clamor","clamp","clamshell","clang","clanking","clapped","clapper","clapping","clarify","clarinet","clarity","clash","clasp","class","clatter","clause","clavicle","claw","clay","clean","clear","cleat","cleaver","cleft","clench","clergyman","clerical","clerk","clever","clicker","client","climate","climatic","cling","clinic","clinking","clip","clique","cloak","clobber","clock","clone","cloning","closable","closure","clothes","clothing","cloud","clover","clubbed","clubbing","clubhouse","clump","clumsily","clumsy","clunky","clustered","clutch","clutter","coach","coagulant","coastal","coaster","coasting","coastland","coastline","coat","coauthor","cobalt","cobbler","cobweb","cocoa","coconut","cod","coeditor","coerce","coexist","coffee","cofounder","cognition","cognitive","cogwheel","coherence","coherent","cohesive","coil","coke","cola","cold","coleslaw","coliseum","collage","collapse","collar","collected","collector","collide","collie","collision","colonial","colonist","colonize","colony","colossal","colt","coma","come","comfort","comfy","comic","coming","comma","commence","commend","comment","commerce","commode","commodity","commodore","common","commotion","commute","commuting","compacted","compacter","compactly","compactor","companion","company","compare","compel","compile","comply","component","composed","composer","composite","compost","composure","compound","compress","comprised","computer","computing","comrade","concave","conceal","conceded","concept","concerned","concert","conch","concierge","concise","conclude","concrete","concur","condense","condiment","condition","condone","conducive","conductor","conduit","cone","confess","confetti","confidant","confident","confider","confiding","configure","confined","confining","confirm","conflict","conform","confound","confront","confused","confusing","confusion","congenial","congested","congrats","congress","conical","conjoined","conjure","conjuror","connected","connector","consensus","consent","console","consoling","consonant","constable","constant","constrain","constrict","construct","consult","consumer","consuming","contact","container","contempt","contend","contented","contently","contents","contest","context","contort","contour","contrite","control","contusion","convene","convent","copartner","cope","copied","copier","copilot","coping","copious","copper","copy","coral","cork","cornball","cornbread","corncob","cornea","corned","corner","cornfield","cornflake","cornhusk","cornmeal","cornstalk","corny","coronary","coroner","corporal","corporate","corral","correct","corridor","corrode","corroding","corrosive","corsage","corset","cortex","cosigner","cosmetics","cosmic","cosmos","cosponsor","cost","cottage","cotton","couch","cough","could","countable","countdown","counting","countless","country","county","courier","covenant","cover","coveted","coveting","coyness","cozily","coziness","cozy","crabbing","crabgrass","crablike","crabmeat","cradle","cradling","crafter","craftily","craftsman","craftwork","crafty","cramp","cranberry","crane","cranial","cranium","crank","crate","crave","craving","crawfish","crawlers","crawling","crayfish","crayon","crazed","crazily","craziness","crazy","creamed","creamer","creamlike","crease","creasing","creatable","create","creation","creative","creature","credible","credibly","credit","creed","creme","creole","crepe","crept","crescent","crested","cresting","crestless","crevice","crewless","crewman","crewmate","crib","cricket","cried","crier","crimp","crimson","cringe","cringing","crinkle","crinkly","crisped","crisping","crisply","crispness","crispy","criteria","critter","croak","crock","crook","croon","crop","cross","crouch","crouton","crowbar","crowd","crown","crucial","crudely","crudeness","cruelly","cruelness","cruelty","crumb","crummiest","crummy","crumpet","crumpled","cruncher","crunching","crunchy","crusader","crushable","crushed","crusher","crushing","crust","crux","crying","cryptic","crystal","cubbyhole","cube","cubical","cubicle","cucumber","cuddle","cuddly","cufflink","culinary","culminate","culpable","culprit","cultivate","cultural","culture","cupbearer","cupcake","cupid","cupped","cupping","curable","curator","curdle","cure","curfew","curing","curled","curler","curliness","curling","curly","curry","curse","cursive","cursor","curtain","curtly","curtsy","curvature","curve","curvy","cushy","cusp","cussed","custard","custodian","custody","customary","customer","customize","customs","cut","cycle","cyclic","cycling","cyclist","cylinder","cymbal","cytoplasm","cytoplast","dab","dad","daffodil","dagger","daily","daintily","dainty","dairy","daisy","dallying","dance","dancing","dandelion","dander","dandruff","dandy","danger","dangle","dangling","daredevil","dares","daringly","darkened","darkening","darkish","darkness","darkroom","darling","darn","dart","darwinism","dash","dastardly","data","datebook","dating","daughter","daunting","dawdler","dawn","daybed","daybreak","daycare","daydream","daylight","daylong","dayroom","daytime","dazzler","dazzling","deacon","deafening","deafness","dealer","dealing","dealmaker","dealt","dean","debatable","debate","debating","debit","debrief","debtless","debtor","debug","debunk","decade","decaf","decal","decathlon","decay","deceased","deceit","deceiver","deceiving","december","decency","decent","deception","deceptive","decibel","decidable","decimal","decimeter","decipher","deck","declared","decline","decode","decompose","decorated","decorator","decoy","decrease","decree","dedicate","dedicator","deduce","deduct","deed","deem","deepen","deeply","deepness","deface","defacing","defame","default","defeat","defection","defective","defendant","defender","defense","defensive","deferral","deferred","defiance","defiant","defile","defiling","define","definite","deflate","deflation","deflator","deflected","deflector","defog","deforest","defraud","defrost","deftly","defuse","defy","degraded","degrading","degrease","degree","dehydrate","deity","dejected","delay","delegate","delegator","delete","deletion","delicacy","delicate","delicious","delighted","delirious","delirium","deliverer","delivery","delouse","delta","deluge","delusion","deluxe","demanding","demeaning","demeanor","demise","democracy","democrat","demote","demotion","demystify","denatured","deniable","denial","denim","denote","dense","density","dental","dentist","denture","deny","deodorant","deodorize","departed","departure","depict","deplete","depletion","deplored","deploy","deport","depose","depraved","depravity","deprecate","depress","deprive","depth","deputize","deputy","derail","deranged","derby","derived","desecrate","deserve","deserving","designate","designed","designer","designing","deskbound","desktop","deskwork","desolate","despair","despise","despite","destiny","destitute","destruct","detached","detail","detection","detective","detector","detention","detergent","detest","detonate","detonator","detoxify","detract","deuce","devalue","deviancy","deviant","deviate","deviation","deviator","device","devious","devotedly","devotee","devotion","devourer","devouring","devoutly","dexterity","dexterous","diabetes","diabetic","diabolic","diagnoses","diagnosis","diagram","dial","diameter","diaper","diaphragm","diary","dice","dicing","dictate","dictation","dictator","difficult","diffused","diffuser","diffusion","diffusive","dig","dilation","diligence","diligent","dill","dilute","dime","diminish","dimly","dimmed","dimmer","dimness","dimple","diner","dingbat","dinghy","dinginess","dingo","dingy","dining","dinner","diocese","dioxide","diploma","dipped","dipper","dipping","directed","direction","directive","directly","directory","direness","dirtiness","disabled","disagree","disallow","disarm","disarray","disaster","disband","disbelief","disburse","discard","discern","discharge","disclose","discolor","discount","discourse","discover","discuss","disdain","disengage","disfigure","disgrace","dish","disinfect","disjoin","disk","dislike","disliking","dislocate","dislodge","disloyal","dismantle","dismay","dismiss","dismount","disobey","disorder","disown","disparate","disparity","dispatch","dispense","dispersal","dispersed","disperser","displace","display","displease","disposal","dispose","disprove","dispute","disregard","disrupt","dissuade","distance","distant","distaste","distill","distinct","distort","distract","distress","district","distrust","ditch","ditto","ditzy","dividable","divided","dividend","dividers","dividing","divinely","diving","divinity","divisible","divisibly","division","divisive","divorcee","dizziness","dizzy","doable","docile","dock","doctrine","document","dodge","dodgy","doily","doing","dole","dollar","dollhouse","dollop","dolly","dolphin","domain","domelike","domestic","dominion","dominoes","donated","donation","donator","donor","donut","doodle","doorbell","doorframe","doorknob","doorman","doormat","doornail","doorpost","doorstep","doorstop","doorway","doozy","dork","dormitory","dorsal","dosage","dose","dotted","doubling","douche","dove","down","dowry","doze","drab","dragging","dragonfly","dragonish","dragster","drainable","drainage","drained","drainer","drainpipe","dramatic","dramatize","drank","drapery","drastic","draw","dreaded","dreadful","dreadlock","dreamboat","dreamily","dreamland","dreamless","dreamlike","dreamt","dreamy","drearily","dreary","drench","dress","drew","dribble","dried","drier","drift","driller","drilling","drinkable","drinking","dripping","drippy","drivable","driven","driver","driveway","driving","drizzle","drizzly","drone","drool","droop","drop-down","dropbox","dropkick","droplet","dropout","dropper","drove","drown","drowsily","drudge","drum","dry","dubbed","dubiously","duchess","duckbill","ducking","duckling","ducktail","ducky","duct","dude","duffel","dugout","duh","duke","duller","dullness","duly","dumping","dumpling","dumpster","duo","dupe","duplex","duplicate","duplicity","durable","durably","duration","duress","during","dusk","dust","dutiful","duty","duvet","dwarf","dweeb","dwelled","dweller","dwelling","dwindle","dwindling","dynamic","dynamite","dynasty","dyslexia","dyslexic","each","eagle","earache","eardrum","earflap","earful","earlobe","early","earmark","earmuff","earphone","earpiece","earplugs","earring","earshot","earthen","earthlike","earthling","earthly","earthworm","earthy","earwig","easeful","easel","easiest","easily","easiness","easing","eastbound","eastcoast","easter","eastward","eatable","eaten","eatery","eating","eats","ebay","ebony","ebook","ecard","eccentric","echo","eclair","eclipse","ecologist","ecology","economic","economist","economy","ecosphere","ecosystem","edge","edginess","edging","edgy","edition","editor","educated","education","educator","eel","effective","effects","efficient","effort","eggbeater","egging","eggnog","eggplant","eggshell","egomaniac","egotism","egotistic","either","eject","elaborate","elastic","elated","elbow","eldercare","elderly","eldest","electable","election","elective","elephant","elevate","elevating","elevation","elevator","eleven","elf","eligible","eligibly","eliminate","elite","elitism","elixir","elk","ellipse","elliptic","elm","elongated","elope","eloquence","eloquent","elsewhere","elude","elusive","elves","email","embargo","embark","embassy","embattled","embellish","ember","embezzle","emblaze","emblem","embody","embolism","emboss","embroider","emcee","emerald","emergency","emission","emit","emote","emoticon","emotion","empathic","empathy","emperor","emphases","emphasis","emphasize","emphatic","empirical","employed","employee","employer","emporium","empower","emptier","emptiness","empty","emu","enable","enactment","enamel","enchanted","enchilada","encircle","enclose","enclosure","encode","encore","encounter","encourage","encroach","encrust","encrypt","endanger","endeared","endearing","ended","ending","endless","endnote","endocrine","endorphin","endorse","endowment","endpoint","endurable","endurance","enduring","energetic","energize","energy","enforced","enforcer","engaged","engaging","engine","engorge","engraved","engraver","engraving","engross","engulf","enhance","enigmatic","enjoyable","enjoyably","enjoyer","enjoying","enjoyment","enlarged","enlarging","enlighten","enlisted","enquirer","enrage","enrich","enroll","enslave","ensnare","ensure","entail","entangled","entering","entertain","enticing","entire","entitle","entity","entomb","entourage","entrap","entree","entrench","entrust","entryway","entwine","enunciate","envelope","enviable","enviably","envious","envision","envoy","envy","enzyme","epic","epidemic","epidermal","epidermis","epidural","epilepsy","epileptic","epilogue","epiphany","episode","equal","equate","equation","equator","equinox","equipment","equity","equivocal","eradicate","erasable","erased","eraser","erasure","ergonomic","errand","errant","erratic","error","erupt","escalate","escalator","escapable","escapade","escapist","escargot","eskimo","esophagus","espionage","espresso","esquire","essay","essence","essential","establish","estate","esteemed","estimate","estimator","estranged","estrogen","etching","eternal","eternity","ethanol","ether","ethically","ethics","euphemism","evacuate","evacuee","evade","evaluate","evaluator","evaporate","evasion","evasive","even","everglade","evergreen","everybody","everyday","everyone","evict","evidence","evident","evil","evoke","evolution","evolve","exact","exalted","example","excavate","excavator","exceeding","exception","excess","exchange","excitable","exciting","exclaim","exclude","excluding","exclusion","exclusive","excretion","excretory","excursion","excusable","excusably","excuse","exemplary","exemplify","exemption","exerciser","exert","exes","exfoliate","exhale","exhaust","exhume","exile","existing","exit","exodus","exonerate","exorcism","exorcist","expand","expanse","expansion","expansive","expectant","expedited","expediter","expel","expend","expenses","expensive","expert","expire","expiring","explain","expletive","explicit","explode","exploit","explore","exploring","exponent","exporter","exposable","expose","exposure","express","expulsion","exquisite","extended","extending","extent","extenuate","exterior","external","extinct","extortion","extradite","extras","extrovert","extrude","extruding","exuberant","fable","fabric","fabulous","facebook","facecloth","facedown","faceless","facelift","faceplate","faceted","facial","facility","facing","facsimile","faction","factoid","factor","factsheet","factual","faculty","fade","fading","failing","falcon","fall","false","falsify","fame","familiar","family","famine","famished","fanatic","fancied","fanciness","fancy","fanfare","fang","fanning","fantasize","fantastic","fantasy","fascism","fastball","faster","fasting","fastness","faucet","favorable","favorably","favored","favoring","favorite","fax","feast","federal","fedora","feeble","feed","feel","feisty","feline","felt-tip","feminine","feminism","feminist","feminize","femur","fence","fencing","fender","ferment","fernlike","ferocious","ferocity","ferret","ferris","ferry","fervor","fester","festival","festive","festivity","fetal","fetch","fever","fiber","fiction","fiddle","fiddling","fidelity","fidgeting","fidgety","fifteen","fifth","fiftieth","fifty","figment","figure","figurine","filing","filled","filler","filling","film","filter","filth","filtrate","finale","finalist","finalize","finally","finance","financial","finch","fineness","finer","finicky","finished","finisher","finishing","finite","finless","finlike","fiscally","fit","five","flaccid","flagman","flagpole","flagship","flagstick","flagstone","flail","flakily","flaky","flame","flammable","flanked","flanking","flannels","flap","flaring","flashback","flashbulb","flashcard","flashily","flashing","flashy","flask","flatbed","flatfoot","flatly","flatness","flatten","flattered","flatterer","flattery","flattop","flatware","flatworm","flavored","flavorful","flavoring","flaxseed","fled","fleshed","fleshy","flick","flier","flight","flinch","fling","flint","flip","flirt","float","flock","flogging","flop","floral","florist","floss","flounder","flyable","flyaway","flyer","flying","flyover","flypaper","foam","foe","fog","foil","folic","folk","follicle","follow","fondling","fondly","fondness","fondue","font","food","fool","footage","football","footbath","footboard","footer","footgear","foothill","foothold","footing","footless","footman","footnote","footpad","footpath","footprint","footrest","footsie","footsore","footwear","footwork","fossil","foster","founder","founding","fountain","fox","foyer","fraction","fracture","fragile","fragility","fragment","fragrance","fragrant","frail","frame","framing","frantic","fraternal","frayed","fraying","frays","freckled","freckles","freebase","freebee","freebie","freedom","freefall","freehand","freeing","freeload","freely","freemason","freeness","freestyle","freeware","freeway","freewill","freezable","freezing","freight","french","frenzied","frenzy","frequency","frequent","fresh","fretful","fretted","friction","friday","fridge","fried","friend","frighten","frightful","frigidity","frigidly","frill","fringe","frisbee","frisk","fritter","frivolous","frolic","from","front","frostbite","frosted","frostily","frosting","frostlike","frosty","froth","frown","frozen","fructose","frugality","frugally","fruit","frustrate","frying","gab","gaffe","gag","gainfully","gaining","gains","gala","gallantly","galleria","gallery","galley","gallon","gallows","gallstone","galore","galvanize","gambling","game","gaming","gamma","gander","gangly","gangrene","gangway","gap","garage","garbage","garden","gargle","garland","garlic","garment","garnet","garnish","garter","gas","gatherer","gathering","gating","gauging","gauntlet","gauze","gave","gawk","gazing","gear","gecko","geek","geiger","gem","gender","generic","generous","genetics","genre","gentile","gentleman","gently","gents","geography","geologic","geologist","geology","geometric","geometry","geranium","gerbil","geriatric","germicide","germinate","germless","germproof","gestate","gestation","gesture","getaway","getting","getup","giant","gibberish","giblet","giddily","giddiness","giddy","gift","gigabyte","gigahertz","gigantic","giggle","giggling","giggly","gigolo","gilled","gills","gimmick","girdle","giveaway","given","giver","giving","gizmo","gizzard","glacial","glacier","glade","gladiator","gladly","glamorous","glamour","glance","glancing","glandular","glare","glaring","glass","glaucoma","glazing","gleaming","gleeful","glider","gliding","glimmer","glimpse","glisten","glitch","glitter","glitzy","gloater","gloating","gloomily","gloomy","glorified","glorifier","glorify","glorious","glory","gloss","glove","glowing","glowworm","glucose","glue","gluten","glutinous","glutton","gnarly","gnat","goal","goatskin","goes","goggles","going","goldfish","goldmine","goldsmith","golf","goliath","gonad","gondola","gone","gong","good","gooey","goofball","goofiness","goofy","google","goon","gopher","gore","gorged","gorgeous","gory","gosling","gossip","gothic","gotten","gout","gown","grab","graceful","graceless","gracious","gradation","graded","grader","gradient","grading","gradually","graduate","graffiti","grafted","grafting","grain","granddad","grandkid","grandly","grandma","grandpa","grandson","granite","granny","granola","grant","granular","grape","graph","grapple","grappling","grasp","grass","gratified","gratify","grating","gratitude","gratuity","gravel","graveness","graves","graveyard","gravitate","gravity","gravy","gray","grazing","greasily","greedily","greedless","greedy","green","greeter","greeting","grew","greyhound","grid","grief","grievance","grieving","grievous","grill","grimace","grimacing","grime","griminess","grimy","grinch","grinning","grip","gristle","grit","groggily","groggy","groin","groom","groove","grooving","groovy","grope","ground","grouped","grout","grove","grower","growing","growl","grub","grudge","grudging","grueling","gruffly","grumble","grumbling","grumbly","grumpily","grunge","grunt","guacamole","guidable","guidance","guide","guiding","guileless","guise","gulf","gullible","gully","gulp","gumball","gumdrop","gumminess","gumming","gummy","gurgle","gurgling","guru","gush","gusto","gusty","gutless","guts","gutter","guy","guzzler","gyration","habitable","habitant","habitat","habitual","hacked","hacker","hacking","hacksaw","had","haggler","haiku","half","halogen","halt","halved","halves","hamburger","hamlet","hammock","hamper","hamster","hamstring","handbag","handball","handbook","handbrake","handcart","handclap","handclasp","handcraft","handcuff","handed","handful","handgrip","handgun","handheld","handiness","handiwork","handlebar","handled","handler","handling","handmade","handoff","handpick","handprint","handrail","handsaw","handset","handsfree","handshake","handstand","handwash","handwork","handwoven","handwrite","handyman","hangnail","hangout","hangover","hangup","hankering","hankie","hanky","haphazard","happening","happier","happiest","happily","happiness","happy","harbor","hardcopy","hardcore","hardcover","harddisk","hardened","hardener","hardening","hardhat","hardhead","hardiness","hardly","hardness","hardship","hardware","hardwired","hardwood","hardy","harmful","harmless","harmonica","harmonics","harmonize","harmony","harness","harpist","harsh","harvest","hash","hassle","haste","hastily","hastiness","hasty","hatbox","hatchback","hatchery","hatchet","hatching","hatchling","hate","hatless","hatred","haunt","haven","hazard","hazelnut","hazily","haziness","hazing","hazy","headache","headband","headboard","headcount","headdress","headed","header","headfirst","headgear","heading","headlamp","headless","headlock","headphone","headpiece","headrest","headroom","headscarf","headset","headsman","headstand","headstone","headway","headwear","heap","heat","heave","heavily","heaviness","heaving","hedge","hedging","heftiness","hefty","helium","helmet","helper","helpful","helping","helpless","helpline","hemlock","hemstitch","hence","henchman","henna","herald","herbal","herbicide","herbs","heritage","hermit","heroics","heroism","herring","herself","hertz","hesitancy","hesitant","hesitate","hexagon","hexagram","hubcap","huddle","huddling","huff","hug","hula","hulk","hull","human","humble","humbling","humbly","humid","humiliate","humility","humming","hummus","humongous","humorist","humorless","humorous","humpback","humped","humvee","hunchback","hundredth","hunger","hungrily","hungry","hunk","hunter","hunting","huntress","huntsman","hurdle","hurled","hurler","hurling","hurray","hurricane","hurried","hurry","hurt","husband","hush","husked","huskiness","hut","hybrid","hydrant","hydrated","hydration","hydrogen","hydroxide","hyperlink","hypertext","hyphen","hypnoses","hypnosis","hypnotic","hypnotism","hypnotist","hypnotize","hypocrisy","hypocrite","ibuprofen","ice","iciness","icing","icky","icon","icy","idealism","idealist","idealize","ideally","idealness","identical","identify","identity","ideology","idiocy","idiom","idly","igloo","ignition","ignore","iguana","illicitly","illusion","illusive","image","imaginary","imagines","imaging","imbecile","imitate","imitation","immature","immerse","immersion","imminent","immobile","immodest","immorally","immortal","immovable","immovably","immunity","immunize","impaired","impale","impart","impatient","impeach","impeding","impending","imperfect","imperial","impish","implant","implement","implicate","implicit","implode","implosion","implosive","imply","impolite","important","importer","impose","imposing","impotence","impotency","impotent","impound","imprecise","imprint","imprison","impromptu","improper","improve","improving","improvise","imprudent","impulse","impulsive","impure","impurity","iodine","iodize","ion","ipad","iphone","ipod","irate","irk","iron","irregular","irrigate","irritable","irritably","irritant","irritate","islamic","islamist","isolated","isolating","isolation","isotope","issue","issuing","italicize","italics","item","itinerary","itunes","ivory","ivy","jab","jackal","jacket","jackknife","jackpot","jailbird","jailbreak","jailer","jailhouse","jalapeno","jam","janitor","january","jargon","jarring","jasmine","jaundice","jaunt","java","jawed","jawless","jawline","jaws","jaybird","jaywalker","jazz","jeep","jeeringly","jellied","jelly","jersey","jester","jet","jiffy","jigsaw","jimmy","jingle","jingling","jinx","jitters","jittery","job","jockey","jockstrap","jogger","jogging","john","joining","jokester","jokingly","jolliness","jolly","jolt","jot","jovial","joyfully","joylessly","joyous","joyride","joystick","jubilance","jubilant","judge","judgingly","judicial","judiciary","judo","juggle","juggling","jugular","juice","juiciness","juicy","jujitsu","jukebox","july","jumble","jumbo","jump","junction","juncture","june","junior","juniper","junkie","junkman","junkyard","jurist","juror","jury","justice","justifier","justify","justly","justness","juvenile","kabob","kangaroo","karaoke","karate","karma","kebab","keenly","keenness","keep","keg","kelp","kennel","kept","kerchief","kerosene","kettle","kick","kiln","kilobyte","kilogram","kilometer","kilowatt","kilt","kimono","kindle","kindling","kindly","kindness","kindred","kinetic","kinfolk","king","kinship","kinsman","kinswoman","kissable","kisser","kissing","kitchen","kite","kitten","kitty","kiwi","kleenex","knapsack","knee","knelt","knickers","knoll","koala","kooky","kosher","krypton","kudos","kung","labored","laborer","laboring","laborious","labrador","ladder","ladies","ladle","ladybug","ladylike","lagged","lagging","lagoon","lair","lake","lance","landed","landfall","landfill","landing","landlady","landless","landline","landlord","landmark","landmass","landmine","landowner","landscape","landside","landslide","language","lankiness","lanky","lantern","lapdog","lapel","lapped","lapping","laptop","lard","large","lark","lash","lasso","last","latch","late","lather","latitude","latrine","latter","latticed","launch","launder","laundry","laurel","lavender","lavish","laxative","lazily","laziness","lazy","lecturer","left","legacy","legal","legend","legged","leggings","legible","legibly","legislate","lego","legroom","legume","legwarmer","legwork","lemon","lend","length","lens","lent","leotard","lesser","letdown","lethargic","lethargy","letter","lettuce","level","leverage","levers","levitate","levitator","liability","liable","liberty","librarian","library","licking","licorice","lid","life","lifter","lifting","liftoff","ligament","likely","likeness","likewise","liking","lilac","lilly","lily","limb","limeade","limelight","limes","limit","limping","limpness","line","lingo","linguini","linguist","lining","linked","linoleum","linseed","lint","lion","lip","liquefy","liqueur","liquid","lisp","list","litigate","litigator","litmus","litter","little","livable","lived","lively","liver","livestock","lividly","living","lizard","lubricant","lubricate","lucid","luckily","luckiness","luckless","lucrative","ludicrous","lugged","lukewarm","lullaby","lumber","luminance","luminous","lumpiness","lumping","lumpish","lunacy","lunar","lunchbox","luncheon","lunchroom","lunchtime","lung","lurch","lure","luridness","lurk","lushly","lushness","luster","lustfully","lustily","lustiness","lustrous","lusty","luxurious","luxury","lying","lyrically","lyricism","lyricist","lyrics","macarena","macaroni","macaw","mace","machine","machinist","magazine","magenta","maggot","magical","magician","magma","magnesium","magnetic","magnetism","magnetize","magnifier","magnify","magnitude","magnolia","mahogany","maimed","majestic","majesty","majorette","majority","makeover","maker","makeshift","making","malformed","malt","mama","mammal","mammary","mammogram","manager","managing","manatee","mandarin","mandate","mandatory","mandolin","manger","mangle","mango","mangy","manhandle","manhole","manhood","manhunt","manicotti","manicure","manifesto","manila","mankind","manlike","manliness","manly","manmade","manned","mannish","manor","manpower","mantis","mantra","manual","many","map","marathon","marauding","marbled","marbles","marbling","march","mardi","margarine","margarita","margin","marigold","marina","marine","marital","maritime","marlin","marmalade","maroon","married","marrow","marry","marshland","marshy","marsupial","marvelous","marxism","mascot","masculine","mashed","mashing","massager","masses","massive","mastiff","matador","matchbook","matchbox","matcher","matching","matchless","material","maternal","maternity","math","mating","matriarch","matrimony","matrix","matron","matted","matter","maturely","maturing","maturity","mauve","maverick","maximize","maximum","maybe","mayday","mayflower","moaner","moaning","mobile","mobility","mobilize","mobster","mocha","mocker","mockup","modified","modify","modular","modulator","module","moisten","moistness","moisture","molar","molasses","mold","molecular","molecule","molehill","mollusk","mom","monastery","monday","monetary","monetize","moneybags","moneyless","moneywise","mongoose","mongrel","monitor","monkhood","monogamy","monogram","monologue","monopoly","monorail","monotone","monotype","monoxide","monsieur","monsoon","monstrous","monthly","monument","moocher","moodiness","moody","mooing","moonbeam","mooned","moonlight","moonlike","moonlit","moonrise","moonscape","moonshine","moonstone","moonwalk","mop","morale","morality","morally","morbidity","morbidly","morphine","morphing","morse","mortality","mortally","mortician","mortified","mortify","mortuary","mosaic","mossy","most","mothball","mothproof","motion","motivate","motivator","motive","motocross","motor","motto","mountable","mountain","mounted","mounting","mourner","mournful","mouse","mousiness","moustache","mousy","mouth","movable","move","movie","moving","mower","mowing","much","muck","mud","mug","mulberry","mulch","mule","mulled","mullets","multiple","multiply","multitask","multitude","mumble","mumbling","mumbo","mummified","mummify","mummy","mumps","munchkin","mundane","municipal","muppet","mural","murkiness","murky","murmuring","muscular","museum","mushily","mushiness","mushroom","mushy","music","musket","muskiness","musky","mustang","mustard","muster","mustiness","musty","mutable","mutate","mutation","mute","mutilated","mutilator","mutiny","mutt","mutual","muzzle","myself","myspace","mystified","mystify","myth","nacho","nag","nail","name","naming","nanny","nanometer","nape","napkin","napped","napping","nappy","narrow","nastily","nastiness","national","native","nativity","natural","nature","naturist","nautical","navigate","navigator","navy","nearby","nearest","nearly","nearness","neatly","neatness","nebula","nebulizer","nectar","negate","negation","negative","neglector","negligee","negligent","negotiate","nemeses","nemesis","neon","nephew","nerd","nervous","nervy","nest","net","neurology","neuron","neurosis","neurotic","neuter","neutron","never","next","nibble","nickname","nicotine","niece","nifty","nimble","nimbly","nineteen","ninetieth","ninja","nintendo","ninth","nuclear","nuclei","nucleus","nugget","nullify","number","numbing","numbly","numbness","numeral","numerate","numerator","numeric","numerous","nuptials","nursery","nursing","nurture","nutcase","nutlike","nutmeg","nutrient","nutshell","nuttiness","nutty","nuzzle","nylon","oaf","oak","oasis","oat","obedience","obedient","obituary","object","obligate","obliged","oblivion","oblivious","oblong","obnoxious","oboe","obscure","obscurity","observant","observer","observing","obsessed","obsession","obsessive","obsolete","obstacle","obstinate","obstruct","obtain","obtrusive","obtuse","obvious","occultist","occupancy","occupant","occupier","occupy","ocean","ocelot","octagon","octane","october","octopus","ogle","oil","oink","ointment","okay","old","olive","olympics","omega","omen","ominous","omission","omit","omnivore","onboard","oncoming","ongoing","onion","online","onlooker","only","onscreen","onset","onshore","onslaught","onstage","onto","onward","onyx","oops","ooze","oozy","opacity","opal","open","operable","operate","operating","operation","operative","operator","opium","opossum","opponent","oppose","opposing","opposite","oppressed","oppressor","opt","opulently","osmosis","other","otter","ouch","ought","ounce","outage","outback","outbid","outboard","outbound","outbreak","outburst","outcast","outclass","outcome","outdated","outdoors","outer","outfield","outfit","outflank","outgoing","outgrow","outhouse","outing","outlast","outlet","outline","outlook","outlying","outmatch","outmost","outnumber","outplayed","outpost","outpour","output","outrage","outrank","outreach","outright","outscore","outsell","outshine","outshoot","outsider","outskirts","outsmart","outsource","outspoken","outtakes","outthink","outward","outweigh","outwit","oval","ovary","oven","overact","overall","overarch","overbid","overbill","overbite","overblown","overboard","overbook","overbuilt","overcast","overcoat","overcome","overcook","overcrowd","overdraft","overdrawn","overdress","overdrive","overdue","overeager","overeater","overexert","overfed","overfeed","overfill","overflow","overfull","overgrown","overhand","overhang","overhaul","overhead","overhear","overheat","overhung","overjoyed","overkill","overlabor","overlaid","overlap","overlay","overload","overlook","overlord","overlying","overnight","overpass","overpay","overplant","overplay","overpower","overprice","overrate","overreach","overreact","override","overripe","overrule","overrun","overshoot","overshot","oversight","oversized","oversleep","oversold","overspend","overstate","overstay","overstep","overstock","overstuff","oversweet","overtake","overthrow","overtime","overtly","overtone","overture","overturn","overuse","overvalue","overview","overwrite","owl","oxford","oxidant","oxidation","oxidize","oxidizing","oxygen","oxymoron","oyster","ozone","paced","pacemaker","pacific","pacifier","pacifism","pacifist","pacify","padded","padding","paddle","paddling","padlock","pagan","pager","paging","pajamas","palace","palatable","palm","palpable","palpitate","paltry","pampered","pamperer","pampers","pamphlet","panama","pancake","pancreas","panda","pandemic","pang","panhandle","panic","panning","panorama","panoramic","panther","pantomime","pantry","pants","pantyhose","paparazzi","papaya","paper","paprika","papyrus","parabola","parachute","parade","paradox","paragraph","parakeet","paralegal","paralyses","paralysis","paralyze","paramedic","parameter","paramount","parasail","parasite","parasitic","parcel","parched","parchment","pardon","parish","parka","parking","parkway","parlor","parmesan","parole","parrot","parsley","parsnip","partake","parted","parting","partition","partly","partner","partridge","party","passable","passably","passage","passcode","passenger","passerby","passing","passion","passive","passivism","passover","passport","password","pasta","pasted","pastel","pastime","pastor","pastrami","pasture","pasty","patchwork","patchy","paternal","paternity","path","patience","patient","patio","patriarch","patriot","patrol","patronage","patronize","pauper","pavement","paver","pavestone","pavilion","paving","pawing","payable","payback","paycheck","payday","payee","payer","paying","payment","payphone","payroll","pebble","pebbly","pecan","pectin","peculiar","peddling","pediatric","pedicure","pedigree","pedometer","pegboard","pelican","pellet","pelt","pelvis","penalize","penalty","pencil","pendant","pending","penholder","penknife","pennant","penniless","penny","penpal","pension","pentagon","pentagram","pep","perceive","percent","perch","percolate","perennial","perfected","perfectly","perfume","periscope","perish","perjurer","perjury","perkiness","perky","perm","peroxide","perpetual","perplexed","persecute","persevere","persuaded","persuader","pesky","peso","pessimism","pessimist","pester","pesticide","petal","petite","petition","petri","petroleum","petted","petticoat","pettiness","petty","petunia","phantom","phobia","phoenix","phonebook","phoney","phonics","phoniness","phony","phosphate","photo","phrase","phrasing","placard","placate","placidly","plank","planner","plant","plasma","plaster","plastic","plated","platform","plating","platinum","platonic","platter","platypus","plausible","plausibly","playable","playback","player","playful","playgroup","playhouse","playing","playlist","playmaker","playmate","playoff","playpen","playroom","playset","plaything","playtime","plaza","pleading","pleat","pledge","plentiful","plenty","plethora","plexiglas","pliable","plod","plop","plot","plow","ploy","pluck","plug","plunder","plunging","plural","plus","plutonium","plywood","poach","pod","poem","poet","pogo","pointed","pointer","pointing","pointless","pointy","poise","poison","poker","poking","polar","police","policy","polio","polish","politely","polka","polo","polyester","polygon","polygraph","polymer","poncho","pond","pony","popcorn","pope","poplar","popper","poppy","popsicle","populace","popular","populate","porcupine","pork","porous","porridge","portable","portal","portfolio","porthole","portion","portly","portside","poser","posh","posing","possible","possibly","possum","postage","postal","postbox","postcard","posted","poster","posting","postnasal","posture","postwar","pouch","pounce","pouncing","pound","pouring","pout","powdered","powdering","powdery","power","powwow","pox","praising","prance","prancing","pranker","prankish","prankster","prayer","praying","preacher","preaching","preachy","preamble","precinct","precise","precision","precook","precut","predator","predefine","predict","preface","prefix","preflight","preformed","pregame","pregnancy","pregnant","preheated","prelaunch","prelaw","prelude","premiere","premises","premium","prenatal","preoccupy","preorder","prepaid","prepay","preplan","preppy","preschool","prescribe","preseason","preset","preshow","president","presoak","press","presume","presuming","preteen","pretended","pretender","pretense","pretext","pretty","pretzel","prevail","prevalent","prevent","preview","previous","prewar","prewashed","prideful","pried","primal","primarily","primary","primate","primer","primp","princess","print","prior","prism","prison","prissy","pristine","privacy","private","privatize","prize","proactive","probable","probably","probation","probe","probing","probiotic","problem","procedure","process","proclaim","procreate","procurer","prodigal","prodigy","produce","product","profane","profanity","professed","professor","profile","profound","profusely","progeny","prognosis","program","progress","projector","prologue","prolonged","promenade","prominent","promoter","promotion","prompter","promptly","prone","prong","pronounce","pronto","proofing","proofread","proofs","propeller","properly","property","proponent","proposal","propose","props","prorate","protector","protegee","proton","prototype","protozoan","protract","protrude","proud","provable","proved","proven","provided","provider","providing","province","proving","provoke","provoking","provolone","prowess","prowler","prowling","proximity","proxy","prozac","prude","prudishly","prune","pruning","pry","psychic","public","publisher","pucker","pueblo","pug","pull","pulmonary","pulp","pulsate","pulse","pulverize","puma","pumice","pummel","punch","punctual","punctuate","punctured","pungent","punisher","punk","pupil","puppet","puppy","purchase","pureblood","purebred","purely","pureness","purgatory","purge","purging","purifier","purify","purist","puritan","purity","purple","purplish","purposely","purr","purse","pursuable","pursuant","pursuit","purveyor","pushcart","pushchair","pusher","pushiness","pushing","pushover","pushpin","pushup","pushy","putdown","putt","puzzle","puzzling","pyramid","pyromania","python","quack","quadrant","quail","quaintly","quake","quaking","qualified","qualifier","qualify","quality","qualm","quantum","quarrel","quarry","quartered","quarterly","quarters","quartet","quench","query","quicken","quickly","quickness","quicksand","quickstep","quiet","quill","quilt","quintet","quintuple","quirk","quit","quiver","quizzical","quotable","quotation","quote","rabid","race","racing","racism","rack","racoon","radar","radial","radiance","radiantly","radiated","radiation","radiator","radio","radish","raffle","raft","rage","ragged","raging","ragweed","raider","railcar","railing","railroad","railway","raisin","rake","raking","rally","ramble","rambling","ramp","ramrod","ranch","rancidity","random","ranged","ranger","ranging","ranked","ranking","ransack","ranting","rants","rare","rarity","rascal","rash","rasping","ravage","raven","ravine","raving","ravioli","ravishing","reabsorb","reach","reacquire","reaction","reactive","reactor","reaffirm","ream","reanalyze","reappear","reapply","reappoint","reapprove","rearrange","rearview","reason","reassign","reassure","reattach","reawake","rebalance","rebate","rebel","rebirth","reboot","reborn","rebound","rebuff","rebuild","rebuilt","reburial","rebuttal","recall","recant","recapture","recast","recede","recent","recess","recharger","recipient","recital","recite","reckless","reclaim","recliner","reclining","recluse","reclusive","recognize","recoil","recollect","recolor","reconcile","reconfirm","reconvene","recopy","record","recount","recoup","recovery","recreate","rectal","rectangle","rectified","rectify","recycled","recycler","recycling","reemerge","reenact","reenter","reentry","reexamine","referable","referee","reference","refill","refinance","refined","refinery","refining","refinish","reflected","reflector","reflex","reflux","refocus","refold","reforest","reformat","reformed","reformer","reformist","refract","refrain","refreeze","refresh","refried","refueling","refund","refurbish","refurnish","refusal","refuse","refusing","refutable","refute","regain","regalia","regally","reggae","regime","region","register","registrar","registry","regress","regretful","regroup","regular","regulate","regulator","rehab","reheat","rehire","rehydrate","reimburse","reissue","reiterate","rejoice","rejoicing","rejoin","rekindle","relapse","relapsing","relatable","related","relation","relative","relax","relay","relearn","release","relenting","reliable","reliably","reliance","reliant","relic","relieve","relieving","relight","relish","relive","reload","relocate","relock","reluctant","rely","remake","remark","remarry","rematch","remedial","remedy","remember","reminder","remindful","remission","remix","remnant","remodeler","remold","remorse","remote","removable","removal","removed","remover","removing","rename","renderer","rendering","rendition","renegade","renewable","renewably","renewal","renewed","renounce","renovate","renovator","rentable","rental","rented","renter","reoccupy","reoccur","reopen","reorder","repackage","repacking","repaint","repair","repave","repaying","repayment","repeal","repeated","repeater","repent","rephrase","replace","replay","replica","reply","reporter","repose","repossess","repost","repressed","reprimand","reprint","reprise","reproach","reprocess","reproduce","reprogram","reps","reptile","reptilian","repugnant","repulsion","repulsive","repurpose","reputable","reputably","request","require","requisite","reroute","rerun","resale","resample","rescuer","reseal","research","reselect","reseller","resemble","resend","resent","reset","reshape","reshoot","reshuffle","residence","residency","resident","residual","residue","resigned","resilient","resistant","resisting","resize","resolute","resolved","resonant","resonate","resort","resource","respect","resubmit","result","resume","resupply","resurface","resurrect","retail","retainer","retaining","retake","retaliate","retention","rethink","retinal","retired","retiree","retiring","retold","retool","retorted","retouch","retrace","retract","retrain","retread","retreat","retrial","retrieval","retriever","retry","return","retying","retype","reunion","reunite","reusable","reuse","reveal","reveler","revenge","revenue","reverb","revered","reverence","reverend","reversal","reverse","reversing","reversion","revert","revisable","revise","revision","revisit","revivable","revival","reviver","reviving","revocable","revoke","revolt","revolver","revolving","reward","rewash","rewind","rewire","reword","rework","rewrap","rewrite","rhyme","ribbon","ribcage","rice","riches","richly","richness","rickety","ricotta","riddance","ridden","ride","riding","rifling","rift","rigging","rigid","rigor","rimless","rimmed","rind","rink","rinse","rinsing","riot","ripcord","ripeness","ripening","ripping","ripple","rippling","riptide","rise","rising","risk","risotto","ritalin","ritzy","rival","riverbank","riverbed","riverboat","riverside","riveter","riveting","roamer","roaming","roast","robbing","robe","robin","robotics","robust","rockband","rocker","rocket","rockfish","rockiness","rocking","rocklike","rockslide","rockstar","rocky","rogue","roman","romp","rope","roping","roster","rosy","rotten","rotting","rotunda","roulette","rounding","roundish","roundness","roundup","roundworm","routine","routing","rover","roving","royal","rubbed","rubber","rubbing","rubble","rubdown","ruby","ruckus","rudder","rug","ruined","rule","rumble","rumbling","rummage","rumor","runaround","rundown","runner","running","runny","runt","runway","rupture","rural","ruse","rush","rust","rut","sabbath","sabotage","sacrament","sacred","sacrifice","sadden","saddlebag","saddled","saddling","sadly","sadness","safari","safeguard","safehouse","safely","safeness","saffron","saga","sage","sagging","saggy","said","saint","sake","salad","salami","salaried","salary","saline","salon","saloon","salsa","salt","salutary","salute","salvage","salvaging","salvation","same","sample","sampling","sanction","sanctity","sanctuary","sandal","sandbag","sandbank","sandbar","sandblast","sandbox","sanded","sandfish","sanding","sandlot","sandpaper","sandpit","sandstone","sandstorm","sandworm","sandy","sanitary","sanitizer","sank","santa","sapling","sappiness","sappy","sarcasm","sarcastic","sardine","sash","sasquatch","sassy","satchel","satiable","satin","satirical","satisfied","satisfy","saturate","saturday","sauciness","saucy","sauna","savage","savanna","saved","savings","savior","savor","saxophone","say","scabbed","scabby","scalded","scalding","scale","scaling","scallion","scallop","scalping","scam","scandal","scanner","scanning","scant","scapegoat","scarce","scarcity","scarecrow","scared","scarf","scarily","scariness","scarring","scary","scavenger","scenic","schedule","schematic","scheme","scheming","schilling","schnapps","scholar","science","scientist","scion","scoff","scolding","scone","scoop","scooter","scope","scorch","scorebook","scorecard","scored","scoreless","scorer","scoring","scorn","scorpion","scotch","scoundrel","scoured","scouring","scouting","scouts","scowling","scrabble","scraggly","scrambled","scrambler","scrap","scratch","scrawny","screen","scribble","scribe","scribing","scrimmage","script","scroll","scrooge","scrounger","scrubbed","scrubber","scruffy","scrunch","scrutiny","scuba","scuff","sculptor","sculpture","scurvy","scuttle","secluded","secluding","seclusion","second","secrecy","secret","sectional","sector","secular","securely","security","sedan","sedate","sedation","sedative","sediment","seduce","seducing","segment","seismic","seizing","seldom","selected","selection","selective","selector","self","seltzer","semantic","semester","semicolon","semifinal","seminar","semisoft","semisweet","senate","senator","send","senior","senorita","sensation","sensitive","sensitize","sensually","sensuous","sepia","september","septic","septum","sequel","sequence","sequester","series","sermon","serotonin","serpent","serrated","serve","service","serving","sesame","sessions","setback","setting","settle","settling","setup","sevenfold","seventeen","seventh","seventy","severity","shabby","shack","shaded","shadily","shadiness","shading","shadow","shady","shaft","shakable","shakily","shakiness","shaking","shaky","shale","shallot","shallow","shame","shampoo","shamrock","shank","shanty","shape","shaping","share","sharpener","sharper","sharpie","sharply","sharpness","shawl","sheath","shed","sheep","sheet","shelf","shell","shelter","shelve","shelving","sherry","shield","shifter","shifting","shiftless","shifty","shimmer","shimmy","shindig","shine","shingle","shininess","shining","shiny","ship","shirt","shivering","shock","shone","shoplift","shopper","shopping","shoptalk","shore","shortage","shortcake","shortcut","shorten","shorter","shorthand","shortlist","shortly","shortness","shorts","shortwave","shorty","shout","shove","showbiz","showcase","showdown","shower","showgirl","showing","showman","shown","showoff","showpiece","showplace","showroom","showy","shrank","shrapnel","shredder","shredding","shrewdly","shriek","shrill","shrimp","shrine","shrink","shrivel","shrouded","shrubbery","shrubs","shrug","shrunk","shucking","shudder","shuffle","shuffling","shun","shush","shut","shy","siamese","siberian","sibling","siding","sierra","siesta","sift","sighing","silenced","silencer","silent","silica","silicon","silk","silliness","silly","silo","silt","silver","similarly","simile","simmering","simple","simplify","simply","sincere","sincerity","singer","singing","single","singular","sinister","sinless","sinner","sinuous","sip","siren","sister","sitcom","sitter","sitting","situated","situation","sixfold","sixteen","sixth","sixties","sixtieth","sixtyfold","sizable","sizably","size","sizing","sizzle","sizzling","skater","skating","skedaddle","skeletal","skeleton","skeptic","sketch","skewed","skewer","skid","skied","skier","skies","skiing","skilled","skillet","skillful","skimmed","skimmer","skimming","skimpily","skincare","skinhead","skinless","skinning","skinny","skintight","skipper","skipping","skirmish","skirt","skittle","skydiver","skylight","skyline","skype","skyrocket","skyward","slab","slacked","slacker","slacking","slackness","slacks","slain","slam","slander","slang","slapping","slapstick","slashed","slashing","slate","slather","slaw","sled","sleek","sleep","sleet","sleeve","slept","sliceable","sliced","slicer","slicing","slick","slider","slideshow","sliding","slighted","slighting","slightly","slimness","slimy","slinging","slingshot","slinky","slip","slit","sliver","slobbery","slogan","sloped","sloping","sloppily","sloppy","slot","slouching","slouchy","sludge","slug","slum","slurp","slush","sly","small","smartly","smartness","smasher","smashing","smashup","smell","smelting","smile","smilingly","smirk","smite","smith","smitten","smock","smog","smoked","smokeless","smokiness","smoking","smoky","smolder","smooth","smother","smudge","smudgy","smuggler","smuggling","smugly","smugness","snack","snagged","snaking","snap","snare","snarl","snazzy","sneak","sneer","sneeze","sneezing","snide","sniff","snippet","snipping","snitch","snooper","snooze","snore","snoring","snorkel","snort","snout","snowbird","snowboard","snowbound","snowcap","snowdrift","snowdrop","snowfall","snowfield","snowflake","snowiness","snowless","snowman","snowplow","snowshoe","snowstorm","snowsuit","snowy","snub","snuff","snuggle","snugly","snugness","speak","spearfish","spearhead","spearman","spearmint","species","specimen","specked","speckled","specks","spectacle","spectator","spectrum","speculate","speech","speed","spellbind","speller","spelling","spendable","spender","spending","spent","spew","sphere","spherical","sphinx","spider","spied","spiffy","spill","spilt","spinach","spinal","spindle","spinner","spinning","spinout","spinster","spiny","spiral","spirited","spiritism","spirits","spiritual","splashed","splashing","splashy","splatter","spleen","splendid","splendor","splice","splicing","splinter","splotchy","splurge","spoilage","spoiled","spoiler","spoiling","spoils","spoken","spokesman","sponge","spongy","sponsor","spoof","spookily","spooky","spool","spoon","spore","sporting","sports","sporty","spotless","spotlight","spotted","spotter","spotting","spotty","spousal","spouse","spout","sprain","sprang","sprawl","spray","spree","sprig","spring","sprinkled","sprinkler","sprint","sprite","sprout","spruce","sprung","spry","spud","spur","sputter","spyglass","squabble","squad","squall","squander","squash","squatted","squatter","squatting","squeak","squealer","squealing","squeamish","squeegee","squeeze","squeezing","squid","squiggle","squiggly","squint","squire","squirt","squishier","squishy","stability","stabilize","stable","stack","stadium","staff","stage","staging","stagnant","stagnate","stainable","stained","staining","stainless","stalemate","staleness","stalling","stallion","stamina","stammer","stamp","stand","stank","staple","stapling","starboard","starch","stardom","stardust","starfish","stargazer","staring","stark","starless","starlet","starlight","starlit","starring","starry","starship","starter","starting","startle","startling","startup","starved","starving","stash","state","static","statistic","statue","stature","status","statute","statutory","staunch","stays","steadfast","steadier","steadily","steadying","steam","steed","steep","steerable","steering","steersman","stegosaur","stellar","stem","stench","stencil","step","stereo","sterile","sterility","sterilize","sterling","sternness","sternum","stew","stick","stiffen","stiffly","stiffness","stifle","stifling","stillness","stilt","stimulant","stimulate","stimuli","stimulus","stinger","stingily","stinging","stingray","stingy","stinking","stinky","stipend","stipulate","stir","stitch","stock","stoic","stoke","stole","stomp","stonewall","stoneware","stonework","stoning","stony","stood","stooge","stool","stoop","stoplight","stoppable","stoppage","stopped","stopper","stopping","stopwatch","storable","storage","storeroom","storewide","storm","stout","stove","stowaway","stowing","straddle","straggler","strained","strainer","straining","strangely","stranger","strangle","strategic","strategy","stratus","straw","stray","streak","stream","street","strength","strenuous","strep","stress","stretch","strewn","stricken","strict","stride","strife","strike","striking","strive","striving","strobe","strode","stroller","strongbox","strongly","strongman","struck","structure","strudel","struggle","strum","strung","strut","stubbed","stubble","stubbly","stubborn","stucco","stuck","student","studied","studio","study","stuffed","stuffing","stuffy","stumble","stumbling","stump","stung","stunned","stunner","stunning","stunt","stupor","sturdily","sturdy","styling","stylishly","stylist","stylized","stylus","suave","subarctic","subatomic","subdivide","subdued","subduing","subfloor","subgroup","subheader","subject","sublease","sublet","sublevel","sublime","submarine","submerge","submersed","submitter","subpanel","subpar","subplot","subprime","subscribe","subscript","subsector","subside","subsiding","subsidize","subsidy","subsoil","subsonic","substance","subsystem","subtext","subtitle","subtly","subtotal","subtract","subtype","suburb","subway","subwoofer","subzero","succulent","such","suction","sudden","sudoku","suds","sufferer","suffering","suffice","suffix","suffocate","suffrage","sugar","suggest","suing","suitable","suitably","suitcase","suitor","sulfate","sulfide","sulfite","sulfur","sulk","sullen","sulphate","sulphuric","sultry","superbowl","superglue","superhero","superior","superjet","superman","supermom","supernova","supervise","supper","supplier","supply","support","supremacy","supreme","surcharge","surely","sureness","surface","surfacing","surfboard","surfer","surgery","surgical","surging","surname","surpass","surplus","surprise","surreal","surrender","surrogate","surround","survey","survival","survive","surviving","survivor","sushi","suspect","suspend","suspense","sustained","sustainer","swab","swaddling","swagger","swampland","swan","swapping","swarm","sway","swear","sweat","sweep","swell","swept","swerve","swifter","swiftly","swiftness","swimmable","swimmer","swimming","swimsuit","swimwear","swinger","swinging","swipe","swirl","switch","swivel","swizzle","swooned","swoop","swoosh","swore","sworn","swung","sycamore","sympathy","symphonic","symphony","symptom","synapse","syndrome","synergy","synopses","synopsis","synthesis","synthetic","syrup","system","t-shirt","tabasco","tabby","tableful","tables","tablet","tableware","tabloid","tackiness","tacking","tackle","tackling","tacky","taco","tactful","tactical","tactics","tactile","tactless","tadpole","taekwondo","tag","tainted","take","taking","talcum","talisman","tall","talon","tamale","tameness","tamer","tamper","tank","tanned","tannery","tanning","tantrum","tapeless","tapered","tapering","tapestry","tapioca","tapping","taps","tarantula","target","tarmac","tarnish","tarot","tartar","tartly","tartness","task","tassel","taste","tastiness","tasting","tasty","tattered","tattle","tattling","tattoo","taunt","tavern","thank","that","thaw","theater","theatrics","thee","theft","theme","theology","theorize","thermal","thermos","thesaurus","these","thesis","thespian","thicken","thicket","thickness","thieving","thievish","thigh","thimble","thing","think","thinly","thinner","thinness","thinning","thirstily","thirsting","thirsty","thirteen","thirty","thong","thorn","those","thousand","thrash","thread","threaten","threefold","thrift","thrill","thrive","thriving","throat","throbbing","throng","throttle","throwaway","throwback","thrower","throwing","thud","thumb","thumping","thursday","thus","thwarting","thyself","tiara","tibia","tidal","tidbit","tidiness","tidings","tidy","tiger","tighten","tightly","tightness","tightrope","tightwad","tigress","tile","tiling","till","tilt","timid","timing","timothy","tinderbox","tinfoil","tingle","tingling","tingly","tinker","tinkling","tinsel","tinsmith","tint","tinwork","tiny","tipoff","tipped","tipper","tipping","tiptoeing","tiptop","tiring","tissue","trace","tracing","track","traction","tractor","trade","trading","tradition","traffic","tragedy","trailing","trailside","train","traitor","trance","tranquil","transfer","transform","translate","transpire","transport","transpose","trapdoor","trapeze","trapezoid","trapped","trapper","trapping","traps","trash","travel","traverse","travesty","tray","treachery","treading","treadmill","treason","treat","treble","tree","trekker","tremble","trembling","tremor","trench","trend","trespass","triage","trial","triangle","tribesman","tribunal","tribune","tributary","tribute","triceps","trickery","trickily","tricking","trickle","trickster","tricky","tricolor","tricycle","trident","tried","trifle","trifocals","trillion","trilogy","trimester","trimmer","trimming","trimness","trinity","trio","tripod","tripping","triumph","trivial","trodden","trolling","trombone","trophy","tropical","tropics","trouble","troubling","trough","trousers","trout","trowel","truce","truck","truffle","trump","trunks","trustable","trustee","trustful","trusting","trustless","truth","try","tubby","tubeless","tubular","tucking","tuesday","tug","tuition","tulip","tumble","tumbling","tummy","turban","turbine","turbofan","turbojet","turbulent","turf","turkey","turmoil","turret","turtle","tusk","tutor","tutu","tux","tweak","tweed","tweet","tweezers","twelve","twentieth","twenty","twerp","twice","twiddle","twiddling","twig","twilight","twine","twins","twirl","twistable","twisted","twister","twisting","twisty","twitch","twitter","tycoon","tying","tyke","udder","ultimate","ultimatum","ultra","umbilical","umbrella","umpire","unabashed","unable","unadorned","unadvised","unafraid","unaired","unaligned","unaltered","unarmored","unashamed","unaudited","unawake","unaware","unbaked","unbalance","unbeaten","unbend","unbent","unbiased","unbitten","unblended","unblessed","unblock","unbolted","unbounded","unboxed","unbraided","unbridle","unbroken","unbuckled","unbundle","unburned","unbutton","uncanny","uncapped","uncaring","uncertain","unchain","unchanged","uncharted","uncheck","uncivil","unclad","unclaimed","unclamped","unclasp","uncle","unclip","uncloak","unclog","unclothed","uncoated","uncoiled","uncolored","uncombed","uncommon","uncooked","uncork","uncorrupt","uncounted","uncouple","uncouth","uncover","uncross","uncrown","uncrushed","uncured","uncurious","uncurled","uncut","undamaged","undated","undaunted","undead","undecided","undefined","underage","underarm","undercoat","undercook","undercut","underdog","underdone","underfed","underfeed","underfoot","undergo","undergrad","underhand","underline","underling","undermine","undermost","underpaid","underpass","underpay","underrate","undertake","undertone","undertook","undertow","underuse","underwear","underwent","underwire","undesired","undiluted","undivided","undocked","undoing","undone","undrafted","undress","undrilled","undusted","undying","unearned","unearth","unease","uneasily","uneasy","uneatable","uneaten","unedited","unelected","unending","unengaged","unenvied","unequal","unethical","uneven","unexpired","unexposed","unfailing","unfair","unfasten","unfazed","unfeeling","unfiled","unfilled","unfitted","unfitting","unfixable","unfixed","unflawed","unfocused","unfold","unfounded","unframed","unfreeze","unfrosted","unfrozen","unfunded","unglazed","ungloved","unglue","ungodly","ungraded","ungreased","unguarded","unguided","unhappily","unhappy","unharmed","unhealthy","unheard","unhearing","unheated","unhelpful","unhidden","unhinge","unhitched","unholy","unhook","unicorn","unicycle","unified","unifier","uniformed","uniformly","unify","unimpeded","uninjured","uninstall","uninsured","uninvited","union","uniquely","unisexual","unison","unissued","unit","universal","universe","unjustly","unkempt","unkind","unknotted","unknowing","unknown","unlaced","unlatch","unlawful","unleaded","unlearned","unleash","unless","unleveled","unlighted","unlikable","unlimited","unlined","unlinked","unlisted","unlit","unlivable","unloaded","unloader","unlocked","unlocking","unlovable","unloved","unlovely","unloving","unluckily","unlucky","unmade","unmanaged","unmanned","unmapped","unmarked","unmasked","unmasking","unmatched","unmindful","unmixable","unmixed","unmolded","unmoral","unmovable","unmoved","unmoving","unnamable","unnamed","unnatural","unneeded","unnerve","unnerving","unnoticed","unopened","unopposed","unpack","unpadded","unpaid","unpainted","unpaired","unpaved","unpeeled","unpicked","unpiloted","unpinned","unplanned","unplanted","unpleased","unpledged","unplowed","unplug","unpopular","unproven","unquote","unranked","unrated","unraveled","unreached","unread","unreal","unreeling","unrefined","unrelated","unrented","unrest","unretired","unrevised","unrigged","unripe","unrivaled","unroasted","unrobed","unroll","unruffled","unruly","unrushed","unsaddle","unsafe","unsaid","unsalted","unsaved","unsavory","unscathed","unscented","unscrew","unsealed","unseated","unsecured","unseeing","unseemly","unseen","unselect","unselfish","unsent","unsettled","unshackle","unshaken","unshaved","unshaven","unsheathe","unshipped","unsightly","unsigned","unskilled","unsliced","unsmooth","unsnap","unsocial","unsoiled","unsold","unsolved","unsorted","unspoiled","unspoken","unstable","unstaffed","unstamped","unsteady","unsterile","unstirred","unstitch","unstopped","unstuck","unstuffed","unstylish","unsubtle","unsubtly","unsuited","unsure","unsworn","untagged","untainted","untaken","untamed","untangled","untapped","untaxed","unthawed","unthread","untidy","untie","until","untimed","untimely","untitled","untoasted","untold","untouched","untracked","untrained","untreated","untried","untrimmed","untrue","untruth","unturned","untwist","untying","unusable","unused","unusual","unvalued","unvaried","unvarying","unveiled","unveiling","unvented","unviable","unvisited","unvocal","unwanted","unwarlike","unwary","unwashed","unwatched","unweave","unwed","unwelcome","unwell","unwieldy","unwilling","unwind","unwired","unwitting","unwomanly","unworldly","unworn","unworried","unworthy","unwound","unwoven","unwrapped","unwritten","unzip","upbeat","upchuck","upcoming","upcountry","update","upfront","upgrade","upheaval","upheld","uphill","uphold","uplifted","uplifting","upload","upon","upper","upright","uprising","upriver","uproar","uproot","upscale","upside","upstage","upstairs","upstart","upstate","upstream","upstroke","upswing","uptake","uptight","uptown","upturned","upward","upwind","uranium","urban","urchin","urethane","urgency","urgent","urging","urologist","urology","usable","usage","useable","used","uselessly","user","usher","usual","utensil","utility","utilize","utmost","utopia","utter","vacancy","vacant","vacate","vacation","vagabond","vagrancy","vagrantly","vaguely","vagueness","valiant","valid","valium","valley","valuables","value","vanilla","vanish","vanity","vanquish","vantage","vaporizer","variable","variably","varied","variety","various","varmint","varnish","varsity","varying","vascular","vaseline","vastly","vastness","veal","vegan","veggie","vehicular","velcro","velocity","velvet","vendetta","vending","vendor","veneering","vengeful","venomous","ventricle","venture","venue","venus","verbalize","verbally","verbose","verdict","verify","verse","version","versus","vertebrae","vertical","vertigo","very","vessel","vest","veteran","veto","vexingly","viability","viable","vibes","vice","vicinity","victory","video","viewable","viewer","viewing","viewless","viewpoint","vigorous","village","villain","vindicate","vineyard","vintage","violate","violation","violator","violet","violin","viper","viral","virtual","virtuous","virus","visa","viscosity","viscous","viselike","visible","visibly","vision","visiting","visitor","visor","vista","vitality","vitalize","vitally","vitamins","vivacious","vividly","vividness","vixen","vocalist","vocalize","vocally","vocation","voice","voicing","void","volatile","volley","voltage","volumes","voter","voting","voucher","vowed","vowel","voyage","wackiness","wad","wafer","waffle","waged","wager","wages","waggle","wagon","wake","waking","walk","walmart","walnut","walrus","waltz","wand","wannabe","wanted","wanting","wasabi","washable","washbasin","washboard","washbowl","washcloth","washday","washed","washer","washhouse","washing","washout","washroom","washstand","washtub","wasp","wasting","watch","water","waviness","waving","wavy","whacking","whacky","wham","wharf","wheat","whenever","whiff","whimsical","whinny","whiny","whisking","whoever","whole","whomever","whoopee","whooping","whoops","why","wick","widely","widen","widget","widow","width","wieldable","wielder","wife","wifi","wikipedia","wildcard","wildcat","wilder","wildfire","wildfowl","wildland","wildlife","wildly","wildness","willed","willfully","willing","willow","willpower","wilt","wimp","wince","wincing","wind","wing","winking","winner","winnings","winter","wipe","wired","wireless","wiring","wiry","wisdom","wise","wish","wisplike","wispy","wistful","wizard","wobble","wobbling","wobbly","wok","wolf","wolverine","womanhood","womankind","womanless","womanlike","womanly","womb","woof","wooing","wool","woozy","word","work","worried","worrier","worrisome","worry","worsening","worshiper","worst","wound","woven","wow","wrangle","wrath","wreath","wreckage","wrecker","wrecking","wrench","wriggle","wriggly","wrinkle","wrinkly","wrist","writing","written","wrongdoer","wronged","wrongful","wrongly","wrongness","wrought","xbox","xerox","yahoo","yam","yanking","yapping","yard","yarn","yeah","yearbook","yearling","yearly","yearning","yeast","yelling","yelp","yen","yesterday","yiddish","yield","yin","yippee","yo-yo","yodel","yoga","yogurt","yonder","yoyo","yummy","zap","zealous","zebra","zen","zeppelin","zero","zestfully","zesty","zigzagged","zipfile","zipping","zippy","zips","zit","zodiac","zombie","zone","zoning","zookeeper","zoologist","zoology","zoom"]),Wme=Object.freeze(zme.filter(t=>!t.includes("-")));function Gme({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const LG=H.forwardRef(Gme);function Vme({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const Hme=H.forwardRef(Vme);function Yme({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const Xme=H.forwardRef(Yme);function Kme({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Zme=H.forwardRef(Kme);function Jme({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const _me=H.forwardRef(Jme);function Qme({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const qme=H.forwardRef(Qme);function e1e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const pm=H.forwardRef(e1e);function t1e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const n1e=H.forwardRef(t1e);function r1e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const DG=H.forwardRef(r1e);function i1e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const s1e=H.forwardRef(i1e);function a1e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const o1e=H.forwardRef(a1e);function l1e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const nd=H.forwardRef(l1e);function u1e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15M12 9l3 3m0 0-3 3m3-3H2.25"}))}const c1e=H.forwardRef(u1e);function h1e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const d1e=H.forwardRef(h1e);function f1e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const p1e=H.forwardRef(f1e);function v1e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const v3=H.forwardRef(v1e);function g1e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const m1e=H.forwardRef(g1e);function y1e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const f7=H.forwardRef(y1e);function w1e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const x1e=H.forwardRef(w1e);function b1e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const E1e=H.forwardRef(b1e);function C1e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const S1e=H.forwardRef(C1e);function T1e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const A1e=H.forwardRef(T1e);function P1e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}const g3=H.forwardRef(P1e);function I1e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.864 4.243A7.5 7.5 0 0 1 19.5 10.5c0 2.92-.556 5.709-1.568 8.268M5.742 6.364A7.465 7.465 0 0 0 4.5 10.5a7.464 7.464 0 0 1-1.15 3.993m1.989 3.559A11.209 11.209 0 0 0 8.25 10.5a3.75 3.75 0 1 1 7.5 0c0 .527-.021 1.049-.064 1.565M12 10.5a14.94 14.94 0 0 1-3.6 9.75m6.633-4.596a18.666 18.666 0 0 1-2.485 5.33"}))}const p7=H.forwardRef(I1e);function R1e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const NG=H.forwardRef(R1e);function O1e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const M1e=H.forwardRef(O1e);function $1e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const F1e=H.forwardRef($1e);function L1e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const s6=H.forwardRef(L1e);function D1e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"}))}const N1e=H.forwardRef(D1e);var vu=uU();function Cf(t,e,n){let i=n.initialDeps??[],c;function m(){var s,g,r,a;let v;n.key&&((s=n.debug)!=null&&s.call(n))&&(v=Date.now());const h=t();if(!(h.length!==i.length||h.some((o,d)=>i[d]!==o)))return c;i=h;let l;if(n.key&&((g=n.debug)!=null&&g.call(n))&&(l=Date.now()),c=e(...h),n.key&&((r=n.debug)!=null&&r.call(n))){const o=Math.round((Date.now()-v)*100)/100,d=Math.round((Date.now()-l)*100)/100,p=d/16,f=(y,w)=>{for(y=String(y);y.length<w;)y=" "+y;return y};console.info(`%c ${f(d,5)} /${f(o,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*p,120))}deg 100% 31%);`,n?.key)}return(a=n?.onChange)==null||a.call(n,c),c}return m.updateDeps=s=>{i=s},m}function e$(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const k1e=(t,e)=>Math.abs(t-e)<1.01,B1e=(t,e,n)=>{let i;return function(...c){t.clearTimeout(i),i=t.setTimeout(()=>e.apply(this,c),n)}},t$=t=>{const{offsetWidth:e,offsetHeight:n}=t;return{width:e,height:n}},U1e=t=>t,j1e=t=>{const e=Math.max(t.startIndex-t.overscan,0),n=Math.min(t.endIndex+t.overscan,t.count-1),i=[];for(let c=e;c<=n;c++)i.push(c);return i},z1e=(t,e)=>{const n=t.scrollElement;if(!n)return;const i=t.targetWindow;if(!i)return;const c=s=>{const{width:g,height:r}=s;e({width:Math.round(g),height:Math.round(r)})};if(c(t$(n)),!i.ResizeObserver)return()=>{};const m=new i.ResizeObserver(s=>{const g=()=>{const r=s[0];if(r?.borderBoxSize){const a=r.borderBoxSize[0];if(a){c({width:a.inlineSize,height:a.blockSize});return}}c(t$(n))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(g):g()});return m.observe(n,{box:"border-box"}),()=>{m.unobserve(n)}},n$={passive:!0},r$=typeof window>"u"?!0:"onscrollend"in window,W1e=(t,e)=>{const n=t.scrollElement;if(!n)return;const i=t.targetWindow;if(!i)return;let c=0;const m=t.options.useScrollendEvent&&r$?()=>{}:B1e(i,()=>{e(c,!1)},t.options.isScrollingResetDelay),s=v=>()=>{const{horizontal:h,isRtl:u}=t.options;c=h?n.scrollLeft*(u&&-1||1):n.scrollTop,m(),e(c,v)},g=s(!0),r=s(!1);r(),n.addEventListener("scroll",g,n$);const a=t.options.useScrollendEvent&&r$;return a&&n.addEventListener("scrollend",r,n$),()=>{n.removeEventListener("scroll",g),a&&n.removeEventListener("scrollend",r)}},G1e=(t,e,n)=>{if(e?.borderBoxSize){const i=e.borderBoxSize[0];if(i)return Math.round(i[n.options.horizontal?"inlineSize":"blockSize"])}return t[n.options.horizontal?"offsetWidth":"offsetHeight"]},V1e=(t,{adjustments:e=0,behavior:n},i)=>{var c,m;const s=t+e;(m=(c=i.scrollElement)==null?void 0:c.scrollTo)==null||m.call(c,{[i.options.horizontal?"left":"top"]:s,behavior:n})};class H1e{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const i=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(c=>{c.forEach(m=>{const s=()=>{this._measureElement(m.target,m)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(s):s()})}));return{disconnect:()=>{var c;(c=i())==null||c.disconnect(),n=null},observe:c=>{var m;return(m=i())==null?void 0:m.observe(c,{box:"border-box"})},unobserve:c=>{var m;return(m=i())==null?void 0:m.unobserve(c)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([i,c])=>{typeof c>"u"&&delete n[i]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:U1e,rangeExtractor:j1e,onChange:()=>{},measureElement:G1e,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var i,c;(c=(i=this.options).onChange)==null||c.call(i,this,n)},this.maybeNotify=Cf(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const i=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==i){if(this.cleanup(),!i){this.maybeNotify();return}this.scrollElement=i,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(c=>{this.observer.observe(c)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,c=>{this.scrollRect=c,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(c,m)=>{this.scrollAdjustments=0,this.scrollDirection=m?this.getScrollOffset()<c?"forward":"backward":null,this.scrollOffset=c,this.isScrolling=m,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,i)=>{const c=new Map,m=new Map;for(let s=i-1;s>=0;s--){const g=n[s];if(c.has(g.lane))continue;const r=m.get(g.lane);if(r==null||g.end>r.end?m.set(g.lane,g):g.end<r.end&&c.set(g.lane,!0),c.size===this.options.lanes)break}return m.size===this.options.lanes?Array.from(m.values()).sort((s,g)=>s.end===g.end?s.index-g.index:s.end-g.end)[0]:void 0},this.getMeasurementOptions=Cf(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,i,c,m,s)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:i,scrollMargin:c,getItemKey:m,enabled:s}),{key:!1}),this.getMeasurements=Cf(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:i,scrollMargin:c,getItemKey:m,enabled:s},g)=>{if(!s)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(v=>{this.itemSizeCache.set(v.key,v.size)}));const r=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const a=this.measurementsCache.slice(0,r);for(let v=r;v<n;v++){const h=m(v),u=this.options.lanes===1?a[v-1]:this.getFurthestMeasurement(a,v),l=u?u.end+this.options.gap:i+c,o=g.get(h),d=typeof o=="number"?o:this.options.estimateSize(v),p=l+d,f=u?u.lane:v%this.options.lanes;a[v]={index:v,start:l,size:d,end:p,key:h,lane:f}}return this.measurementsCache=a,a},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Cf(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,i,c,m)=>this.range=n.length>0&&i>0?Y1e({measurements:n,outerSize:i,scrollOffset:c,lanes:m}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Cf(()=>{let n=null,i=null;const c=this.calculateRange();return c&&(n=c.startIndex,i=c.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,i]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,i]},(n,i,c,m,s)=>m===null||s===null?[]:n({startIndex:m,endIndex:s,overscan:i,count:c}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const i=this.options.indexAttribute,c=n.getAttribute(i);return c?parseInt(c,10):(console.warn(`Missing attribute name '${i}={index}' on measured element.`),-1)},this._measureElement=(n,i)=>{const c=this.indexFromElement(n),m=this.measurementsCache[c];if(!m)return;const s=m.key,g=this.elementsCache.get(s);g!==n&&(g&&this.observer.unobserve(g),this.observer.observe(n),this.elementsCache.set(s,n)),n.isConnected&&this.resizeItem(c,this.options.measureElement(n,i,this))},this.resizeItem=(n,i)=>{const c=this.measurementsCache[n];if(!c)return;const m=this.itemSizeCache.get(c.key)??c.size,s=i-m;s!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(c,s,this):c.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=s,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(c.index),this.itemSizeCache=new Map(this.itemSizeCache.set(c.key,i)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((i,c)=>{i.isConnected||(this.observer.unobserve(i),this.elementsCache.delete(c))});return}this._measureElement(n,void 0)},this.getVirtualItems=Cf(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,i)=>{const c=[];for(let m=0,s=n.length;m<s;m++){const g=n[m],r=i[g];c.push(r)}return c},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const i=this.getMeasurements();if(i.length!==0)return e$(i[kG(0,i.length-1,c=>e$(i[c]).start,n)])},this.getOffsetForAlignment=(n,i,c=0)=>{const m=this.getSize(),s=this.getScrollOffset();i==="auto"&&(i=n>=s+m?"end":"start"),i==="center"?n+=(c-m)/2:i==="end"&&(n-=m);const g=this.getTotalSize()+this.options.scrollMargin-m;return Math.max(Math.min(g,n),0)},this.getOffsetForIndex=(n,i="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const c=this.measurementsCache[n];if(!c)return;const m=this.getSize(),s=this.getScrollOffset();if(i==="auto")if(c.end>=s+m-this.options.scrollPaddingEnd)i="end";else if(c.start<=s+this.options.scrollPaddingStart)i="start";else return[s,i];const g=i==="end"?c.end+this.options.scrollPaddingEnd:c.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(g,i,c.size),i]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:i="start",behavior:c}={})=>{c==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,i),{adjustments:void 0,behavior:c})},this.scrollToIndex=(n,{align:i="auto",behavior:c}={})=>{c==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1));let m=0;const s=10,g=a=>{if(!this.targetWindow)return;const v=this.getOffsetForIndex(n,a);if(!v){console.warn("Failed to get offset for index:",n);return}const[h,u]=v;this._scrollToOffset(h,{adjustments:void 0,behavior:c}),this.targetWindow.requestAnimationFrame(()=>{const l=this.getScrollOffset(),o=this.getOffsetForIndex(n,u);if(!o){console.warn("Failed to get offset for index:",n);return}k1e(o[0],l)||r(u)})},r=a=>{this.targetWindow&&(m++,m<s?this.targetWindow.requestAnimationFrame(()=>g(a)):console.warn(`Failed to scroll to index ${n} after ${s} attempts.`))};g(i)},this.scrollBy=(n,{behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:i})},this.getTotalSize=()=>{var n;const i=this.getMeasurements();let c;if(i.length===0)c=this.options.paddingStart;else if(this.options.lanes===1)c=((n=i[i.length-1])==null?void 0:n.end)??0;else{const m=Array(this.options.lanes).fill(null);let s=i.length-1;for(;s>=0&&m.some(g=>g===null);){const g=i[s];m[g.lane]===null&&(m[g.lane]=g.end),s--}c=Math.max(...m.filter(g=>g!==null))}return Math.max(c-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:i,behavior:c})=>{this.options.scrollToFn(n,{behavior:c,adjustments:i},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const kG=(t,e,n,i)=>{for(;t<=e;){const c=(t+e)/2|0,m=n(c);if(m<i)t=c+1;else if(m>i)e=c-1;else return c}return t>0?t-1:0};function Y1e({measurements:t,outerSize:e,scrollOffset:n,lanes:i}){const c=t.length-1,m=r=>t[r].start;if(t.length<=i)return{startIndex:0,endIndex:c};let s=kG(0,c,m,n),g=s;if(i===1)for(;g<c&&t[g].end<n+e;)g++;else if(i>1){const r=Array(i).fill(0);for(;g<c&&r.some(v=>v<n+e);){const v=t[g];r[v.lane]=v.end,g++}const a=Array(i).fill(n+e);for(;s>=0&&a.some(v=>v>=n);){const v=t[s];a[v.lane]=v.start,s--}s=Math.max(0,s-s%i),g=Math.min(c,g+(i-1-g%i))}return{startIndex:s,endIndex:g}}const i$=typeof document<"u"?H.useLayoutEffect:H.useEffect;function X1e(t){const e=H.useReducer(()=>({}),{})[1],n={...t,onChange:(c,m)=>{var s;m?vu.flushSync(e):e(),(s=t.onChange)==null||s.call(t,c,m)}},[i]=H.useState(()=>new H1e(n));return i.setOptions(n),i$(()=>i._didMount(),[]),i$(()=>i._willUpdate()),i}function K1e(t){return X1e({observeElementRect:z1e,observeElementOffset:W1e,scrollToFn:V1e,...t})}var Sf={},a6,s$;function Z1e(){return s$||(s$=1,a6=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),a6}var o6={},Gu={},a$;function Ed(){if(a$)return Gu;a$=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Gu.getSymbolSize=function(i){if(!i)throw new Error('"version" cannot be null or undefined');if(i<1||i>40)throw new Error('"version" should be in range from 1 to 40');return i*4+17},Gu.getSymbolTotalCodewords=function(i){return e[i]},Gu.getBCHDigit=function(n){let i=0;for(;n!==0;)i++,n>>>=1;return i},Gu.setToSJISFunction=function(i){if(typeof i!="function")throw new Error('"toSJISFunc" is not a valid function.');t=i},Gu.isKanjiModeEnabled=function(){return typeof t<"u"},Gu.toSJIS=function(i){return t(i)},Gu}var l6={},o$;function v7(){return o$||(o$=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(i){return i&&typeof i.bit<"u"&&i.bit>=0&&i.bit<4},t.from=function(i,c){if(t.isValid(i))return i;try{return e(i)}catch{return c}}})(l6)),l6}var u6,l$;function J1e(){if(l$)return u6;l$=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)===1},put:function(e,n){for(let i=0;i<n;i++)this.putBit((e>>>n-i-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},u6=t,u6}var c6,u$;function _1e(){if(u$)return c6;u$=1;function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,n,i,c){const m=e*this.size+n;this.data[m]=i,c&&(this.reservedBit[m]=!0)},t.prototype.get=function(e,n){return this.data[e*this.size+n]},t.prototype.xor=function(e,n,i){this.data[e*this.size+n]^=i},t.prototype.isReserved=function(e,n){return this.reservedBit[e*this.size+n]},c6=t,c6}var h6={},c$;function Q1e(){return c$||(c$=1,(function(t){const e=Ed().getSymbolSize;t.getRowColCoords=function(i){if(i===1)return[];const c=Math.floor(i/7)+2,m=e(i),s=m===145?26:Math.ceil((m-13)/(2*c-2))*2,g=[m-7];for(let r=1;r<c-1;r++)g[r]=g[r-1]-s;return g.push(6),g.reverse()},t.getPositions=function(i){const c=[],m=t.getRowColCoords(i),s=m.length;for(let g=0;g<s;g++)for(let r=0;r<s;r++)g===0&&r===0||g===0&&r===s-1||g===s-1&&r===0||c.push([m[g],m[r]]);return c}})(h6)),h6}var d6={},h$;function q1e(){if(h$)return d6;h$=1;const t=Ed().getSymbolSize,e=7;return d6.getPositions=function(i){const c=t(i);return[[0,0],[c-e,0],[0,c-e]]},d6}var f6={},d$;function eye(){return d$||(d$=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(c){return c!=null&&c!==""&&!isNaN(c)&&c>=0&&c<=7},t.from=function(c){return t.isValid(c)?parseInt(c,10):void 0},t.getPenaltyN1=function(c){const m=c.size;let s=0,g=0,r=0,a=null,v=null;for(let h=0;h<m;h++){g=r=0,a=v=null;for(let u=0;u<m;u++){let l=c.get(h,u);l===a?g++:(g>=5&&(s+=e.N1+(g-5)),a=l,g=1),l=c.get(u,h),l===v?r++:(r>=5&&(s+=e.N1+(r-5)),v=l,r=1)}g>=5&&(s+=e.N1+(g-5)),r>=5&&(s+=e.N1+(r-5))}return s},t.getPenaltyN2=function(c){const m=c.size;let s=0;for(let g=0;g<m-1;g++)for(let r=0;r<m-1;r++){const a=c.get(g,r)+c.get(g,r+1)+c.get(g+1,r)+c.get(g+1,r+1);(a===4||a===0)&&s++}return s*e.N2},t.getPenaltyN3=function(c){const m=c.size;let s=0,g=0,r=0;for(let a=0;a<m;a++){g=r=0;for(let v=0;v<m;v++)g=g<<1&2047|c.get(a,v),v>=10&&(g===1488||g===93)&&s++,r=r<<1&2047|c.get(v,a),v>=10&&(r===1488||r===93)&&s++}return s*e.N3},t.getPenaltyN4=function(c){let m=0;const s=c.data.length;for(let r=0;r<s;r++)m+=c.data[r];return Math.abs(Math.ceil(m*100/s/5)-10)*e.N4};function n(i,c,m){switch(i){case t.Patterns.PATTERN000:return(c+m)%2===0;case t.Patterns.PATTERN001:return c%2===0;case t.Patterns.PATTERN010:return m%3===0;case t.Patterns.PATTERN011:return(c+m)%3===0;case t.Patterns.PATTERN100:return(Math.floor(c/2)+Math.floor(m/3))%2===0;case t.Patterns.PATTERN101:return c*m%2+c*m%3===0;case t.Patterns.PATTERN110:return(c*m%2+c*m%3)%2===0;case t.Patterns.PATTERN111:return(c*m%3+(c+m)%2)%2===0;default:throw new Error("bad maskPattern:"+i)}}t.applyMask=function(c,m){const s=m.size;for(let g=0;g<s;g++)for(let r=0;r<s;r++)m.isReserved(r,g)||m.xor(r,g,n(c,r,g))},t.getBestMask=function(c,m){const s=Object.keys(t.Patterns).length;let g=0,r=1/0;for(let a=0;a<s;a++){m(a),t.applyMask(a,c);const v=t.getPenaltyN1(c)+t.getPenaltyN2(c)+t.getPenaltyN3(c)+t.getPenaltyN4(c);t.applyMask(a,c),v<r&&(r=v,g=a)}return g}})(f6)),f6}var Jy={},f$;function BG(){if(f$)return Jy;f$=1;const t=v7(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Jy.getBlocksCount=function(c,m){switch(m){case t.L:return e[(c-1)*4+0];case t.M:return e[(c-1)*4+1];case t.Q:return e[(c-1)*4+2];case t.H:return e[(c-1)*4+3];default:return}},Jy.getTotalCodewordsCount=function(c,m){switch(m){case t.L:return n[(c-1)*4+0];case t.M:return n[(c-1)*4+1];case t.Q:return n[(c-1)*4+2];case t.H:return n[(c-1)*4+3];default:return}},Jy}var p6={},hv={},p$;function tye(){if(p$)return hv;p$=1;const t=new Uint8Array(512),e=new Uint8Array(256);return(function(){let i=1;for(let c=0;c<255;c++)t[c]=i,e[i]=c,i<<=1,i&256&&(i^=285);for(let c=255;c<512;c++)t[c]=t[c-255]})(),hv.log=function(i){if(i<1)throw new Error("log("+i+")");return e[i]},hv.exp=function(i){return t[i]},hv.mul=function(i,c){return i===0||c===0?0:t[e[i]+e[c]]},hv}var v$;function nye(){return v$||(v$=1,(function(t){const e=tye();t.mul=function(i,c){const m=new Uint8Array(i.length+c.length-1);for(let s=0;s<i.length;s++)for(let g=0;g<c.length;g++)m[s+g]^=e.mul(i[s],c[g]);return m},t.mod=function(i,c){let m=new Uint8Array(i);for(;m.length-c.length>=0;){const s=m[0];for(let r=0;r<c.length;r++)m[r]^=e.mul(c[r],s);let g=0;for(;g<m.length&&m[g]===0;)g++;m=m.slice(g)}return m},t.generateECPolynomial=function(i){let c=new Uint8Array([1]);for(let m=0;m<i;m++)c=t.mul(c,new Uint8Array([1,e.exp(m)]));return c}})(p6)),p6}var v6,g$;function rye(){if(g$)return v6;g$=1;const t=nye();function e(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(i){this.degree=i,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(i){if(!this.genPoly)throw new Error("Encoder not initialized");const c=new Uint8Array(i.length+this.degree);c.set(i);const m=t.mod(c,this.genPoly),s=this.degree-m.length;if(s>0){const g=new Uint8Array(this.degree);return g.set(m,s),g}return m},v6=e,v6}var g6={},m6={},y6={},m$;function UG(){return m$||(m$=1,y6.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),y6}var Go={},y$;function jG(){if(y$)return Go;y$=1;const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const i="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;Go.KANJI=new RegExp(n,"g"),Go.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Go.BYTE=new RegExp(i,"g"),Go.NUMERIC=new RegExp(t,"g"),Go.ALPHANUMERIC=new RegExp(e,"g");const c=new RegExp("^"+n+"$"),m=new RegExp("^"+t+"$"),s=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Go.testKanji=function(r){return c.test(r)},Go.testNumeric=function(r){return m.test(r)},Go.testAlphanumeric=function(r){return s.test(r)},Go}var w$;function Cd(){return w$||(w$=1,(function(t){const e=UG(),n=jG();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(m,s){if(!m.ccBits)throw new Error("Invalid mode: "+m);if(!e.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?m.ccBits[0]:s<27?m.ccBits[1]:m.ccBits[2]},t.getBestModeForData=function(m){return n.testNumeric(m)?t.NUMERIC:n.testAlphanumeric(m)?t.ALPHANUMERIC:n.testKanji(m)?t.KANJI:t.BYTE},t.toString=function(m){if(m&&m.id)return m.id;throw new Error("Invalid mode")},t.isValid=function(m){return m&&m.bit&&m.ccBits};function i(c){if(typeof c!="string")throw new Error("Param is not a string");switch(c.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+c)}}t.from=function(m,s){if(t.isValid(m))return m;try{return i(m)}catch{return s}}})(m6)),m6}var x$;function iye(){return x$||(x$=1,(function(t){const e=Ed(),n=BG(),i=v7(),c=Cd(),m=UG(),s=7973,g=e.getBCHDigit(s);function r(u,l,o){for(let d=1;d<=40;d++)if(l<=t.getCapacity(d,o,u))return d}function a(u,l){return c.getCharCountIndicator(u,l)+4}function v(u,l){let o=0;return u.forEach(function(d){const p=a(d.mode,l);o+=p+d.getBitsLength()}),o}function h(u,l){for(let o=1;o<=40;o++)if(v(u,o)<=t.getCapacity(o,l,c.MIXED))return o}t.from=function(l,o){return m.isValid(l)?parseInt(l,10):o},t.getCapacity=function(l,o,d){if(!m.isValid(l))throw new Error("Invalid QR Code version");typeof d>"u"&&(d=c.BYTE);const p=e.getSymbolTotalCodewords(l),f=n.getTotalCodewordsCount(l,o),y=(p-f)*8;if(d===c.MIXED)return y;const w=y-a(d,l);switch(d){case c.NUMERIC:return Math.floor(w/10*3);case c.ALPHANUMERIC:return Math.floor(w/11*2);case c.KANJI:return Math.floor(w/13);case c.BYTE:default:return Math.floor(w/8)}},t.getBestVersionForData=function(l,o){let d;const p=i.from(o,i.M);if(Array.isArray(l)){if(l.length>1)return h(l,p);if(l.length===0)return 1;d=l[0]}else d=l;return r(d.mode,d.getLength(),p)},t.getEncodedBits=function(l){if(!m.isValid(l)||l<7)throw new Error("Invalid QR Code version");let o=l<<12;for(;e.getBCHDigit(o)-g>=0;)o^=s<<e.getBCHDigit(o)-g;return l<<12|o}})(g6)),g6}var w6={},b$;function sye(){if(b$)return w6;b$=1;const t=Ed(),e=1335,n=21522,i=t.getBCHDigit(e);return w6.getEncodedBits=function(m,s){const g=m.bit<<3|s;let r=g<<10;for(;t.getBCHDigit(r)-i>=0;)r^=e<<t.getBCHDigit(r)-i;return(g<<10|r)^n},w6}var x6={},b6,E$;function aye(){if(E$)return b6;E$=1;const t=Cd();function e(n){this.mode=t.NUMERIC,this.data=n.toString()}return e.getBitsLength=function(i){return 10*Math.floor(i/3)+(i%3?i%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(i){let c,m,s;for(c=0;c+3<=this.data.length;c+=3)m=this.data.substr(c,3),s=parseInt(m,10),i.put(s,10);const g=this.data.length-c;g>0&&(m=this.data.substr(c),s=parseInt(m,10),i.put(s,g*3+1))},b6=e,b6}var E6,C$;function oye(){if(C$)return E6;C$=1;const t=Cd(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(i){this.mode=t.ALPHANUMERIC,this.data=i}return n.getBitsLength=function(c){return 11*Math.floor(c/2)+6*(c%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(c){let m;for(m=0;m+2<=this.data.length;m+=2){let s=e.indexOf(this.data[m])*45;s+=e.indexOf(this.data[m+1]),c.put(s,11)}this.data.length%2&&c.put(e.indexOf(this.data[m]),6)},E6=n,E6}var C6,S$;function lye(){if(S$)return C6;S$=1;const t=Cd();function e(n){this.mode=t.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return e.getBitsLength=function(i){return i*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){for(let i=0,c=this.data.length;i<c;i++)n.put(this.data[i],8)},C6=e,C6}var S6,T$;function uye(){if(T$)return S6;T$=1;const t=Cd(),e=Ed();function n(i){this.mode=t.KANJI,this.data=i}return n.getBitsLength=function(c){return c*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let c;for(c=0;c<this.data.length;c++){let m=e.toSJIS(this.data[c]);if(m>=33088&&m<=40956)m-=33088;else if(m>=57408&&m<=60351)m-=49472;else throw new Error("Invalid SJIS character: "+this.data[c]+`
Make sure your charset is UTF-8`);m=(m>>>8&255)*192+(m&255),i.put(m,13)}},S6=n,S6}var T6={exports:{}},A$;function cye(){return A$||(A$=1,(function(t){var e={single_source_shortest_paths:function(n,i,c){var m={},s={};s[i]=0;var g=e.PriorityQueue.make();g.push(i,0);for(var r,a,v,h,u,l,o,d,p;!g.empty();){r=g.pop(),a=r.value,h=r.cost,u=n[a]||{};for(v in u)u.hasOwnProperty(v)&&(l=u[v],o=h+l,d=s[v],p=typeof s[v]>"u",(p||d>o)&&(s[v]=o,g.push(v,o),m[v]=a))}if(typeof c<"u"&&typeof s[c]>"u"){var f=["Could not find a path from ",i," to ",c,"."].join("");throw new Error(f)}return m},extract_shortest_path_from_predecessor_list:function(n,i){for(var c=[],m=i;m;)c.push(m),n[m],m=n[m];return c.reverse(),c},find_path:function(n,i,c){var m=e.single_source_shortest_paths(n,i,c);return e.extract_shortest_path_from_predecessor_list(m,c)},PriorityQueue:{make:function(n){var i=e.PriorityQueue,c={},m;n=n||{};for(m in i)i.hasOwnProperty(m)&&(c[m]=i[m]);return c.queue=[],c.sorter=n.sorter||i.default_sorter,c},default_sorter:function(n,i){return n.cost-i.cost},push:function(n,i){var c={value:n,cost:i};this.queue.push(c),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(T6)),T6.exports}var P$;function hye(){return P$||(P$=1,(function(t){const e=Cd(),n=aye(),i=oye(),c=lye(),m=uye(),s=jG(),g=Ed(),r=cye();function a(f){return unescape(encodeURIComponent(f)).length}function v(f,y,w){const x=[];let b;for(;(b=f.exec(w))!==null;)x.push({data:b[0],index:b.index,mode:y,length:b[0].length});return x}function h(f){const y=v(s.NUMERIC,e.NUMERIC,f),w=v(s.ALPHANUMERIC,e.ALPHANUMERIC,f);let x,b;return g.isKanjiModeEnabled()?(x=v(s.BYTE,e.BYTE,f),b=v(s.KANJI,e.KANJI,f)):(x=v(s.BYTE_KANJI,e.BYTE,f),b=[]),y.concat(w,x,b).sort(function(C,T){return C.index-T.index}).map(function(C){return{data:C.data,mode:C.mode,length:C.length}})}function u(f,y){switch(y){case e.NUMERIC:return n.getBitsLength(f);case e.ALPHANUMERIC:return i.getBitsLength(f);case e.KANJI:return m.getBitsLength(f);case e.BYTE:return c.getBitsLength(f)}}function l(f){return f.reduce(function(y,w){const x=y.length-1>=0?y[y.length-1]:null;return x&&x.mode===w.mode?(y[y.length-1].data+=w.data,y):(y.push(w),y)},[])}function o(f){const y=[];for(let w=0;w<f.length;w++){const x=f[w];switch(x.mode){case e.NUMERIC:y.push([x,{data:x.data,mode:e.ALPHANUMERIC,length:x.length},{data:x.data,mode:e.BYTE,length:x.length}]);break;case e.ALPHANUMERIC:y.push([x,{data:x.data,mode:e.BYTE,length:x.length}]);break;case e.KANJI:y.push([x,{data:x.data,mode:e.BYTE,length:a(x.data)}]);break;case e.BYTE:y.push([{data:x.data,mode:e.BYTE,length:a(x.data)}])}}return y}function d(f,y){const w={},x={start:{}};let b=["start"];for(let E=0;E<f.length;E++){const C=f[E],T=[];for(let S=0;S<C.length;S++){const A=C[S],P=""+E+S;T.push(P),w[P]={node:A,lastCount:0},x[P]={};for(let R=0;R<b.length;R++){const L=b[R];w[L]&&w[L].node.mode===A.mode?(x[L][P]=u(w[L].lastCount+A.length,A.mode)-u(w[L].lastCount,A.mode),w[L].lastCount+=A.length):(w[L]&&(w[L].lastCount=A.length),x[L][P]=u(A.length,A.mode)+4+e.getCharCountIndicator(A.mode,y))}}b=T}for(let E=0;E<b.length;E++)x[b[E]].end=0;return{map:x,table:w}}function p(f,y){let w;const x=e.getBestModeForData(f);if(w=e.from(y,x),w!==e.BYTE&&w.bit<x.bit)throw new Error('"'+f+'" cannot be encoded with mode '+e.toString(w)+`.
 Suggested mode is: `+e.toString(x));switch(w===e.KANJI&&!g.isKanjiModeEnabled()&&(w=e.BYTE),w){case e.NUMERIC:return new n(f);case e.ALPHANUMERIC:return new i(f);case e.KANJI:return new m(f);case e.BYTE:return new c(f)}}t.fromArray=function(y){return y.reduce(function(w,x){return typeof x=="string"?w.push(p(x,null)):x.data&&w.push(p(x.data,x.mode)),w},[])},t.fromString=function(y,w){const x=h(y,g.isKanjiModeEnabled()),b=o(x),E=d(b,w),C=r.find_path(E.map,"start","end"),T=[];for(let S=1;S<C.length-1;S++)T.push(E.table[C[S]].node);return t.fromArray(l(T))},t.rawSplit=function(y){return t.fromArray(h(y,g.isKanjiModeEnabled()))}})(x6)),x6}var I$;function dye(){if(I$)return o6;I$=1;const t=Ed(),e=v7(),n=J1e(),i=_1e(),c=Q1e(),m=q1e(),s=eye(),g=BG(),r=rye(),a=iye(),v=sye(),h=Cd(),u=hye();function l(E,C){const T=E.size,S=m.getPositions(C);for(let A=0;A<S.length;A++){const P=S[A][0],R=S[A][1];for(let L=-1;L<=7;L++)if(!(P+L<=-1||T<=P+L))for(let D=-1;D<=7;D++)R+D<=-1||T<=R+D||(L>=0&&L<=6&&(D===0||D===6)||D>=0&&D<=6&&(L===0||L===6)||L>=2&&L<=4&&D>=2&&D<=4?E.set(P+L,R+D,!0,!0):E.set(P+L,R+D,!1,!0))}}function o(E){const C=E.size;for(let T=8;T<C-8;T++){const S=T%2===0;E.set(T,6,S,!0),E.set(6,T,S,!0)}}function d(E,C){const T=c.getPositions(C);for(let S=0;S<T.length;S++){const A=T[S][0],P=T[S][1];for(let R=-2;R<=2;R++)for(let L=-2;L<=2;L++)R===-2||R===2||L===-2||L===2||R===0&&L===0?E.set(A+R,P+L,!0,!0):E.set(A+R,P+L,!1,!0)}}function p(E,C){const T=E.size,S=a.getEncodedBits(C);let A,P,R;for(let L=0;L<18;L++)A=Math.floor(L/3),P=L%3+T-8-3,R=(S>>L&1)===1,E.set(A,P,R,!0),E.set(P,A,R,!0)}function f(E,C,T){const S=E.size,A=v.getEncodedBits(C,T);let P,R;for(P=0;P<15;P++)R=(A>>P&1)===1,P<6?E.set(P,8,R,!0):P<8?E.set(P+1,8,R,!0):E.set(S-15+P,8,R,!0),P<8?E.set(8,S-P-1,R,!0):P<9?E.set(8,15-P-1+1,R,!0):E.set(8,15-P-1,R,!0);E.set(S-8,8,1,!0)}function y(E,C){const T=E.size;let S=-1,A=T-1,P=7,R=0;for(let L=T-1;L>0;L-=2)for(L===6&&L--;;){for(let D=0;D<2;D++)if(!E.isReserved(A,L-D)){let $=!1;R<C.length&&($=(C[R]>>>P&1)===1),E.set(A,L-D,$),P--,P===-1&&(R++,P=7)}if(A+=S,A<0||T<=A){A-=S,S=-S;break}}}function w(E,C,T){const S=new n;T.forEach(function(D){S.put(D.mode.bit,4),S.put(D.getLength(),h.getCharCountIndicator(D.mode,E)),D.write(S)});const A=t.getSymbolTotalCodewords(E),P=g.getTotalCodewordsCount(E,C),R=(A-P)*8;for(S.getLengthInBits()+4<=R&&S.put(0,4);S.getLengthInBits()%8!==0;)S.putBit(0);const L=(R-S.getLengthInBits())/8;for(let D=0;D<L;D++)S.put(D%2?17:236,8);return x(S,E,C)}function x(E,C,T){const S=t.getSymbolTotalCodewords(C),A=g.getTotalCodewordsCount(C,T),P=S-A,R=g.getBlocksCount(C,T),L=S%R,D=R-L,$=Math.floor(S/R),F=Math.floor(P/R),N=F+1,k=$-F,j=new r(k);let W=0;const G=new Array(R),K=new Array(R);let z=0;const X=new Uint8Array(E.buffer);for(let Q=0;Q<R;Q++){const ee=Q<D?F:N;G[Q]=X.slice(W,W+ee),K[Q]=j.encode(G[Q]),W+=ee,z=Math.max(z,ee)}const U=new Uint8Array(S);let Z=0,V,J;for(V=0;V<z;V++)for(J=0;J<R;J++)V<G[J].length&&(U[Z++]=G[J][V]);for(V=0;V<k;V++)for(J=0;J<R;J++)U[Z++]=K[J][V];return U}function b(E,C,T,S){let A;if(Array.isArray(E))A=u.fromArray(E);else if(typeof E=="string"){let $=C;if(!$){const F=u.rawSplit(E);$=a.getBestVersionForData(F,T)}A=u.fromString(E,$||40)}else throw new Error("Invalid data");const P=a.getBestVersionForData(A,T);if(!P)throw new Error("The amount of data is too big to be stored in a QR Code");if(!C)C=P;else if(C<P)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+P+`.
`);const R=w(C,T,A),L=t.getSymbolSize(C),D=new i(L);return l(D,C),o(D),d(D,C),f(D,T,0),C>=7&&p(D,C),y(D,R),isNaN(S)&&(S=s.getBestMask(D,f.bind(null,D,T))),s.applyMask(S,D),f(D,T,S),{modules:D,version:C,errorCorrectionLevel:T,maskPattern:S,segments:A}}return o6.create=function(C,T){if(typeof C>"u"||C==="")throw new Error("No input text");let S=e.M,A,P;return typeof T<"u"&&(S=e.from(T.errorCorrectionLevel,e.M),A=a.from(T.version),P=s.from(T.maskPattern),T.toSJISFunc&&t.setToSJISFunction(T.toSJISFunc)),b(C,A,S,P)},o6}var A6={},P6={},R$;function zG(){return R$||(R$=1,(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let i=n.slice().replace("#","").split("");if(i.length<3||i.length===5||i.length>8)throw new Error("Invalid hex color: "+n);(i.length===3||i.length===4)&&(i=Array.prototype.concat.apply([],i.map(function(m){return[m,m]}))),i.length===6&&i.push("F","F");const c=parseInt(i.join(""),16);return{r:c>>24&255,g:c>>16&255,b:c>>8&255,a:c&255,hex:"#"+i.slice(0,6).join("")}}t.getOptions=function(i){i||(i={}),i.color||(i.color={});const c=typeof i.margin>"u"||i.margin===null||i.margin<0?4:i.margin,m=i.width&&i.width>=21?i.width:void 0,s=i.scale||4;return{width:m,scale:m?4:s,margin:c,color:{dark:e(i.color.dark||"#000000ff"),light:e(i.color.light||"#ffffffff")},type:i.type,rendererOpts:i.rendererOpts||{}}},t.getScale=function(i,c){return c.width&&c.width>=i+c.margin*2?c.width/(i+c.margin*2):c.scale},t.getImageWidth=function(i,c){const m=t.getScale(i,c);return Math.floor((i+c.margin*2)*m)},t.qrToImageData=function(i,c,m){const s=c.modules.size,g=c.modules.data,r=t.getScale(s,m),a=Math.floor((s+m.margin*2)*r),v=m.margin*r,h=[m.color.light,m.color.dark];for(let u=0;u<a;u++)for(let l=0;l<a;l++){let o=(u*a+l)*4,d=m.color.light;if(u>=v&&l>=v&&u<a-v&&l<a-v){const p=Math.floor((u-v)/r),f=Math.floor((l-v)/r);d=h[g[p*s+f]?1:0]}i[o++]=d.r,i[o++]=d.g,i[o++]=d.b,i[o]=d.a}}})(P6)),P6}var O$;function fye(){return O$||(O$=1,(function(t){const e=zG();function n(c,m,s){c.clearRect(0,0,m.width,m.height),m.style||(m.style={}),m.height=s,m.width=s,m.style.height=s+"px",m.style.width=s+"px"}function i(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(m,s,g){let r=g,a=s;typeof r>"u"&&(!s||!s.getContext)&&(r=s,s=void 0),s||(a=i()),r=e.getOptions(r);const v=e.getImageWidth(m.modules.size,r),h=a.getContext("2d"),u=h.createImageData(v,v);return e.qrToImageData(u.data,m,r),n(h,a,v),h.putImageData(u,0,0),a},t.renderToDataURL=function(m,s,g){let r=g;typeof r>"u"&&(!s||!s.getContext)&&(r=s,s=void 0),r||(r={});const a=t.render(m,s,r),v=r.type||"image/png",h=r.rendererOpts||{};return a.toDataURL(v,h.quality)}})(A6)),A6}var I6={},M$;function pye(){if(M$)return I6;M$=1;const t=zG();function e(c,m){const s=c.a/255,g=m+'="'+c.hex+'"';return s<1?g+" "+m+'-opacity="'+s.toFixed(2).slice(1)+'"':g}function n(c,m,s){let g=c+m;return typeof s<"u"&&(g+=" "+s),g}function i(c,m,s){let g="",r=0,a=!1,v=0;for(let h=0;h<c.length;h++){const u=Math.floor(h%m),l=Math.floor(h/m);!u&&!a&&(a=!0),c[h]?(v++,h>0&&u>0&&c[h-1]||(g+=a?n("M",u+s,.5+l+s):n("m",r,0),r=0,a=!1),u+1<m&&c[h+1]||(g+=n("h",v),v=0)):r++}return g}return I6.render=function(m,s,g){const r=t.getOptions(s),a=m.modules.size,v=m.modules.data,h=a+r.margin*2,u=r.color.light.a?"<path "+e(r.color.light,"fill")+' d="M0 0h'+h+"v"+h+'H0z"/>':"",l="<path "+e(r.color.dark,"stroke")+' d="'+i(v,a,r.margin)+'"/>',o='viewBox="0 0 '+h+" "+h+'"',p='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+o+' shape-rendering="crispEdges">'+u+l+`</svg>
`;return typeof g=="function"&&g(null,p),p},I6}var $$;function vye(){if($$)return Sf;$$=1;const t=Z1e(),e=dye(),n=fye(),i=pye();function c(m,s,g,r,a){const v=[].slice.call(arguments,1),h=v.length,u=typeof v[h-1]=="function";if(!u&&!t())throw new Error("Callback required as last argument");if(u){if(h<2)throw new Error("Too few arguments provided");h===2?(a=g,g=s,s=r=void 0):h===3&&(s.getContext&&typeof a>"u"?(a=r,r=void 0):(a=r,r=g,g=s,s=void 0))}else{if(h<1)throw new Error("Too few arguments provided");return h===1?(g=s,s=r=void 0):h===2&&!s.getContext&&(r=g,g=s,s=void 0),new Promise(function(l,o){try{const d=e.create(g,r);l(m(d,s,r))}catch(d){o(d)}})}try{const l=e.create(g,r);a(null,m(l,s,r))}catch(l){a(l)}}return Sf.create=e.create,Sf.toCanvas=c.bind(null,n.render),Sf.toDataURL=c.bind(null,n.renderToDataURL),Sf.toString=c.bind(null,function(m,s,g){return i.render(m,g)}),Sf}var gye=vye();const mye=La(gye),F$=t=>{let e;const n=new Set,i=(a,v)=>{const h=typeof a=="function"?a(e):a;if(!Object.is(h,e)){const u=e;e=v??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(l=>l(e,u))}},c=()=>e,g={setState:i,getState:c,getInitialState:()=>r,subscribe:a=>(n.add(a),()=>n.delete(a))},r=e=t(i,c,g);return g},yye=(t=>t?F$(t):F$),wye=t=>t;function xye(t,e=wye){const n=Ze.useSyncExternalStore(t.subscribe,Ze.useCallback(()=>e(t.getState()),[t,e]),Ze.useCallback(()=>e(t.getInitialState()),[t,e]));return Ze.useDebugValue(n),n}const L$=t=>{const e=yye(t),n=i=>xye(e,i);return Object.assign(n,e),n},p0=(t=>t?L$(t):L$);var _y={exports:{}},D$;function bye(){if(D$)return _y.exports;D$=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(b,E,C){return Function.prototype.apply.call(b,E,C)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(b){return Object.getOwnPropertyNames(b).concat(Object.getOwnPropertySymbols(b))}:n=function(b){return Object.getOwnPropertyNames(b)};function i(x){console&&console.warn&&console.warn(x)}var c=Number.isNaN||function(b){return b!==b};function m(){m.init.call(this)}_y.exports=m,_y.exports.once=f,m.EventEmitter=m,m.prototype._events=void 0,m.prototype._eventsCount=0,m.prototype._maxListeners=void 0;var s=10;function g(x){if(typeof x!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof x)}Object.defineProperty(m,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(x){if(typeof x!="number"||x<0||c(x))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+x+".");s=x}}),m.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},m.prototype.setMaxListeners=function(b){if(typeof b!="number"||b<0||c(b))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+b+".");return this._maxListeners=b,this};function r(x){return x._maxListeners===void 0?m.defaultMaxListeners:x._maxListeners}m.prototype.getMaxListeners=function(){return r(this)},m.prototype.emit=function(b){for(var E=[],C=1;C<arguments.length;C++)E.push(arguments[C]);var T=b==="error",S=this._events;if(S!==void 0)T=T&&S.error===void 0;else if(!T)return!1;if(T){var A;if(E.length>0&&(A=E[0]),A instanceof Error)throw A;var P=new Error("Unhandled error."+(A?" ("+A.message+")":""));throw P.context=A,P}var R=S[b];if(R===void 0)return!1;if(typeof R=="function")e(R,this,E);else for(var L=R.length,D=o(R,L),C=0;C<L;++C)e(D[C],this,E);return!0};function a(x,b,E,C){var T,S,A;if(g(E),S=x._events,S===void 0?(S=x._events=Object.create(null),x._eventsCount=0):(S.newListener!==void 0&&(x.emit("newListener",b,E.listener?E.listener:E),S=x._events),A=S[b]),A===void 0)A=S[b]=E,++x._eventsCount;else if(typeof A=="function"?A=S[b]=C?[E,A]:[A,E]:C?A.unshift(E):A.push(E),T=r(x),T>0&&A.length>T&&!A.warned){A.warned=!0;var P=new Error("Possible EventEmitter memory leak detected. "+A.length+" "+String(b)+" listeners added. Use emitter.setMaxListeners() to increase limit");P.name="MaxListenersExceededWarning",P.emitter=x,P.type=b,P.count=A.length,i(P)}return x}m.prototype.addListener=function(b,E){return a(this,b,E,!1)},m.prototype.on=m.prototype.addListener,m.prototype.prependListener=function(b,E){return a(this,b,E,!0)};function v(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(x,b,E){var C={fired:!1,wrapFn:void 0,target:x,type:b,listener:E},T=v.bind(C);return T.listener=E,C.wrapFn=T,T}m.prototype.once=function(b,E){return g(E),this.on(b,h(this,b,E)),this},m.prototype.prependOnceListener=function(b,E){return g(E),this.prependListener(b,h(this,b,E)),this},m.prototype.removeListener=function(b,E){var C,T,S,A,P;if(g(E),T=this._events,T===void 0)return this;if(C=T[b],C===void 0)return this;if(C===E||C.listener===E)--this._eventsCount===0?this._events=Object.create(null):(delete T[b],T.removeListener&&this.emit("removeListener",b,C.listener||E));else if(typeof C!="function"){for(S=-1,A=C.length-1;A>=0;A--)if(C[A]===E||C[A].listener===E){P=C[A].listener,S=A;break}if(S<0)return this;S===0?C.shift():d(C,S),C.length===1&&(T[b]=C[0]),T.removeListener!==void 0&&this.emit("removeListener",b,P||E)}return this},m.prototype.off=m.prototype.removeListener,m.prototype.removeAllListeners=function(b){var E,C,T;if(C=this._events,C===void 0)return this;if(C.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):C[b]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete C[b]),this;if(arguments.length===0){var S=Object.keys(C),A;for(T=0;T<S.length;++T)A=S[T],A!=="removeListener"&&this.removeAllListeners(A);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(E=C[b],typeof E=="function")this.removeListener(b,E);else if(E!==void 0)for(T=E.length-1;T>=0;T--)this.removeListener(b,E[T]);return this};function u(x,b,E){var C=x._events;if(C===void 0)return[];var T=C[b];return T===void 0?[]:typeof T=="function"?E?[T.listener||T]:[T]:E?p(T):o(T,T.length)}m.prototype.listeners=function(b){return u(this,b,!0)},m.prototype.rawListeners=function(b){return u(this,b,!1)},m.listenerCount=function(x,b){return typeof x.listenerCount=="function"?x.listenerCount(b):l.call(x,b)},m.prototype.listenerCount=l;function l(x){var b=this._events;if(b!==void 0){var E=b[x];if(typeof E=="function")return 1;if(E!==void 0)return E.length}return 0}m.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function o(x,b){for(var E=new Array(b),C=0;C<b;++C)E[C]=x[C];return E}function d(x,b){for(;b+1<x.length;b++)x[b]=x[b+1];x.pop()}function p(x){for(var b=new Array(x.length),E=0;E<b.length;++E)b[E]=x[E].listener||x[E];return b}function f(x,b){return new Promise(function(E,C){function T(A){x.removeListener(b,S),C(A)}function S(){typeof x.removeListener=="function"&&x.removeListener("error",T),E([].slice.call(arguments))}w(x,b,S,{once:!0}),b!=="error"&&y(x,T,{once:!0})})}function y(x,b,E){typeof x.on=="function"&&w(x,"error",b,E)}function w(x,b,E,C){if(typeof x.on=="function")C.once?x.once(b,E):x.on(b,E);else if(typeof x.addEventListener=="function")x.addEventListener(b,function T(S){C.once&&x.removeEventListener(b,T),E(S)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof x)}return _y.exports}var na=bye();const g7=La(na);var N$=function(t,e,n){if(n||arguments.length===2)for(var i=0,c=e.length,m;i<c;i++)(m||!(i in e))&&(m||(m=Array.prototype.slice.call(e,0,i)),m[i]=e[i]);return t.concat(m||Array.prototype.slice.call(e))},Eye=(function(){function t(e,n,i){this.name=e,this.version=n,this.os=i,this.type="browser"}return t})(),Cye=(function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t})(),Sye=(function(){function t(e,n,i,c){this.name=e,this.version=n,this.os=i,this.bot=c,this.type="bot-device"}return t})(),Tye=(function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t})(),Aye=(function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t})(),Pye=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Iye=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,k$=3,Rye=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",Pye]],B$=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Oye(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new Aye:typeof navigator<"u"?$ye(navigator.userAgent):Lye()}function Mye(t){return t!==""&&Rye.reduce(function(e,n){var i=n[0],c=n[1];if(e)return e;var m=c.exec(t);return!!m&&[i,m]},!1)}function $ye(t){var e=Mye(t);if(!e)return null;var n=e[0],i=e[1];if(n==="searchbot")return new Tye;var c=i[1]&&i[1].split(".").join("_").split("_").slice(0,3);c?c.length<k$&&(c=N$(N$([],c,!0),Dye(k$-c.length),!0)):c=[];var m=c.join("."),s=Fye(t),g=Iye.exec(t);return g&&g[1]?new Sye(n,m,s,g[1]):new Eye(n,m,s)}function Fye(t){for(var e=0,n=B$.length;e<n;e++){var i=B$[e],c=i[0],m=i[1],s=m.exec(t);if(s)return c}return null}function Lye(){var t=typeof process<"u"&&process.version;return t?new Cye(process.version.slice(1)):null}function Dye(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var R6={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var jC=function(t,e){return jC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var c in i)i.hasOwnProperty(c)&&(n[c]=i[c])},jC(t,e)};function Nye(t,e){jC(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var zC=function(){return zC=Object.assign||function(e){for(var n,i=1,c=arguments.length;i<c;i++){n=arguments[i];for(var m in n)Object.prototype.hasOwnProperty.call(n,m)&&(e[m]=n[m])}return e},zC.apply(this,arguments)};function kye(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(t);c<i.length;c++)e.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(t,i[c])&&(n[i[c]]=t[i[c]]);return n}function Bye(t,e,n,i){var c=arguments.length,m=c<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(t,e,n,i);else for(var g=t.length-1;g>=0;g--)(s=t[g])&&(m=(c<3?s(m):c>3?s(e,n,m):s(e,n))||m);return c>3&&m&&Object.defineProperty(e,n,m),m}function Uye(t,e){return function(n,i){e(n,i,t)}}function jye(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function zye(t,e,n,i){function c(m){return m instanceof n?m:new n(function(s){s(m)})}return new(n||(n=Promise))(function(m,s){function g(v){try{a(i.next(v))}catch(h){s(h)}}function r(v){try{a(i.throw(v))}catch(h){s(h)}}function a(v){v.done?m(v.value):c(v.value).then(g,r)}a((i=i.apply(t,e||[])).next())})}function Wye(t,e){var n={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},i,c,m,s;return s={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function g(a){return function(v){return r([a,v])}}function r(a){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,c&&(m=a[0]&2?c.return:a[0]?c.throw||((m=c.return)&&m.call(c),0):c.next)&&!(m=m.call(c,a[1])).done)return m;switch(c=0,m&&(a=[a[0]&2,m.value]),a[0]){case 0:case 1:m=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,c=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(m=n.trys,!(m=m.length>0&&m[m.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!m||a[1]>m[0]&&a[1]<m[3])){n.label=a[1];break}if(a[0]===6&&n.label<m[1]){n.label=m[1],m=a;break}if(m&&n.label<m[2]){n.label=m[2],n.ops.push(a);break}m[2]&&n.ops.pop(),n.trys.pop();continue}a=e.call(t,n)}catch(v){a=[6,v],c=0}finally{i=m=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function Gye(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]}function Vye(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function WC(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function WG(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var i=n.call(t),c,m=[],s;try{for(;(e===void 0||e-- >0)&&!(c=i.next()).done;)m.push(c.value)}catch(g){s={error:g}}finally{try{c&&!c.done&&(n=i.return)&&n.call(i)}finally{if(s)throw s.error}}return m}function Hye(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(WG(arguments[e]));return t}function Yye(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),c=0,e=0;e<n;e++)for(var m=arguments[e],s=0,g=m.length;s<g;s++,c++)i[c]=m[s];return i}function vm(t){return this instanceof vm?(this.v=t,this):new vm(t)}function Xye(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),c,m=[];return c={},s("next"),s("throw"),s("return"),c[Symbol.asyncIterator]=function(){return this},c;function s(u){i[u]&&(c[u]=function(l){return new Promise(function(o,d){m.push([u,l,o,d])>1||g(u,l)})})}function g(u,l){try{r(i[u](l))}catch(o){h(m[0][3],o)}}function r(u){u.value instanceof vm?Promise.resolve(u.value.v).then(a,v):h(m[0][2],u)}function a(u){g("next",u)}function v(u){g("throw",u)}function h(u,l){u(l),m.shift(),m.length&&g(m[0][0],m[0][1])}}function Kye(t){var e,n;return e={},i("next"),i("throw",function(c){throw c}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(c,m){e[c]=t[c]?function(s){return(n=!n)?{value:vm(t[c](s)),done:c==="return"}:m?m(s):s}:m}}function Zye(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof WC=="function"?WC(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(m){n[m]=t[m]&&function(s){return new Promise(function(g,r){s=t[m](s),c(g,r,s.done,s.value)})}}function c(m,s,g,r){Promise.resolve(r).then(function(a){m({value:a,done:g})},s)}}function Jye(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function _ye(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Qye(t){return t&&t.__esModule?t:{default:t}}function qye(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function e2e(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const t2e=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return zC},__asyncDelegator:Kye,__asyncGenerator:Xye,__asyncValues:Zye,__await:vm,__awaiter:zye,__classPrivateFieldGet:qye,__classPrivateFieldSet:e2e,__createBinding:Gye,__decorate:Bye,__exportStar:Vye,__extends:Nye,__generator:Wye,__importDefault:Qye,__importStar:_ye,__makeTemplateObject:Jye,__metadata:jye,__param:Uye,__read:WG,__rest:kye,__spread:Hye,__spreadArrays:Yye,__values:WC},Symbol.toStringTag,{value:"Module"})),m3=Rx(t2e);var O6={},dv={},U$;function n2e(){if(U$)return dv;U$=1,Object.defineProperty(dv,"__esModule",{value:!0}),dv.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return dv.delay=t,dv}var lh={},M6={},uh={},j$;function r2e(){return j$||(j$=1,Object.defineProperty(uh,"__esModule",{value:!0}),uh.ONE_THOUSAND=uh.ONE_HUNDRED=void 0,uh.ONE_HUNDRED=100,uh.ONE_THOUSAND=1e3),uh}var $6={},z$;function i2e(){return z$||(z$=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365})($6)),$6}var W$;function GG(){return W$||(W$=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=m3;e.__exportStar(r2e(),t),e.__exportStar(i2e(),t)})(M6)),M6}var G$;function s2e(){if(G$)return lh;G$=1,Object.defineProperty(lh,"__esModule",{value:!0}),lh.fromMiliseconds=lh.toMiliseconds=void 0;const t=GG();function e(i){return i*t.ONE_THOUSAND}lh.toMiliseconds=e;function n(i){return Math.floor(i/t.ONE_THOUSAND)}return lh.fromMiliseconds=n,lh}var V$;function a2e(){return V$||(V$=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=m3;e.__exportStar(n2e(),t),e.__exportStar(s2e(),t)})(O6)),O6}var Tf={},H$;function o2e(){if(H$)return Tf;H$=1,Object.defineProperty(Tf,"__esModule",{value:!0}),Tf.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const i=this.get(n);if(typeof i.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const c=Date.now()-i.started;this.timestamps.set(n,{started:i.started,elapsed:c})}get(n){const i=this.timestamps.get(n);if(typeof i>"u")throw new Error(`No timestamp found for label: ${n}`);return i}elapsed(n){const i=this.get(n);return i.elapsed||Date.now()-i.started}}return Tf.Watch=t,Tf.default=t,Tf}var F6={},fv={},Y$;function l2e(){if(Y$)return fv;Y$=1,Object.defineProperty(fv,"__esModule",{value:!0}),fv.IWatch=void 0;class t{}return fv.IWatch=t,fv}var X$;function u2e(){return X$||(X$=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),m3.__exportStar(l2e(),t)})(F6)),F6}var K$;function c2e(){return K$||(K$=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=m3;e.__exportStar(a2e(),t),e.__exportStar(o2e(),t),e.__exportStar(u2e(),t),e.__exportStar(GG(),t)})(R6)),R6}var qe=c2e(),Tn={},Z$;function VG(){if(Z$)return Tn;Z$=1,Object.defineProperty(Tn,"__esModule",{value:!0}),Tn.getLocalStorage=Tn.getLocalStorageOrThrow=Tn.getCrypto=Tn.getCryptoOrThrow=Tn.getLocation=Tn.getLocationOrThrow=Tn.getNavigator=Tn.getNavigatorOrThrow=Tn.getDocument=Tn.getDocumentOrThrow=Tn.getFromWindowOrThrow=Tn.getFromWindow=void 0;function t(u){let l;return typeof window<"u"&&typeof window[u]<"u"&&(l=window[u]),l}Tn.getFromWindow=t;function e(u){const l=t(u);if(!l)throw new Error(`${u} is not defined in Window`);return l}Tn.getFromWindowOrThrow=e;function n(){return e("document")}Tn.getDocumentOrThrow=n;function i(){return t("document")}Tn.getDocument=i;function c(){return e("navigator")}Tn.getNavigatorOrThrow=c;function m(){return t("navigator")}Tn.getNavigator=m;function s(){return e("location")}Tn.getLocationOrThrow=s;function g(){return t("location")}Tn.getLocation=g;function r(){return e("crypto")}Tn.getCryptoOrThrow=r;function a(){return t("crypto")}Tn.getCrypto=a;function v(){return e("localStorage")}Tn.getLocalStorageOrThrow=v;function h(){return t("localStorage")}return Tn.getLocalStorage=h,Tn}var gu=VG(),pv={},J$;function h2e(){if(J$)return pv;J$=1,Object.defineProperty(pv,"__esModule",{value:!0}),pv.getWindowMetadata=void 0;const t=VG();function e(){let n,i;try{n=t.getDocumentOrThrow(),i=t.getLocationOrThrow()}catch{return null}function c(){const l=n.getElementsByTagName("link"),o=[];for(let d=0;d<l.length;d++){const p=l[d],f=p.getAttribute("rel");if(f&&f.toLowerCase().indexOf("icon")>-1){const y=p.getAttribute("href");if(y)if(y.toLowerCase().indexOf("https:")===-1&&y.toLowerCase().indexOf("http:")===-1&&y.indexOf("//")!==0){let w=i.protocol+"//"+i.host;if(y.indexOf("/")===0)w+=y;else{const x=i.pathname.split("/");x.pop();const b=x.join("/");w+=b+"/"+y}o.push(w)}else if(y.indexOf("//")===0){const w=i.protocol+y;o.push(w)}else o.push(y)}}return o}function m(...l){const o=n.getElementsByTagName("meta");for(let d=0;d<o.length;d++){const p=o[d],f=["itemprop","property","name"].map(y=>p.getAttribute(y)).filter(y=>y?l.includes(y):!1);if(f.length&&f){const y=p.getAttribute("content");if(y)return y}}return""}function s(){let l=m("name","og:site_name","og:title","twitter:title");return l||(l=n.title),l}function g(){return m("description","og:description","twitter:description","keywords")}const r=s(),a=g(),v=i.origin,h=c();return{description:a,url:v,icons:h,name:r}}return pv.getWindowMetadata=e,pv}var d2e=h2e();function gm(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function GC(t){return gm(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const HG="2.31.0";let L6={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${HG}`};class rd extends Error{constructor(e,n={}){const i=n.cause instanceof rd?n.cause.details:n.cause?.message?n.cause.message:n.details,c=n.cause instanceof rd&&n.cause.docsPath||n.docsPath,m=L6.getDocsUrl?.({...n,docsPath:c}),s=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...m?[`Docs: ${m}`]:[],...i?[`Details: ${i}`]:[],...L6.version?[`Version: ${L6.version}`]:[]].join(`
`);super(s,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=i,this.docsPath=c,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=HG}walk(e){return YG(this,e)}}function YG(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?YG(t.cause,e):e?null:t}class XG extends rd{constructor({size:e,targetSize:n,type:i}){super(`${i.charAt(0).toUpperCase()}${i.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function v0(t,{dir:e,size:n=32}={}){return typeof t=="string"?f2e(t,{dir:e,size:n}):p2e(t,{dir:e,size:n})}function f2e(t,{dir:e,size:n=32}={}){if(n===null)return t;const i=t.replace("0x","");if(i.length>n*2)throw new XG({size:Math.ceil(i.length/2),targetSize:n,type:"hex"});return`0x${i[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function p2e(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new XG({size:t.length,targetSize:n,type:"bytes"});const i=new Uint8Array(n);for(let c=0;c<n;c++){const m=e==="right";i[m?c:n-c-1]=t[m?c:t.length-c-1]}return i}class v2e extends rd{constructor({max:e,min:n,signed:i,size:c,value:m}){super(`Number "${m}" is not in safe ${c?`${c*8}-bit ${i?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class g2e extends rd{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function g0(t,{size:e}){if(GC(t)>e)throw new g2e({givenSize:GC(t),maxSize:e})}function VC(t,e={}){const{signed:n}=e;e.size&&g0(t,{size:e.size});const i=BigInt(t);if(!n)return i;const c=(t.length-2)/2,m=(1n<<BigInt(c)*8n-1n)-1n;return i<=m?i:i-BigInt(`0x${"f".padStart(c*2,"f")}`)-1n}function m2e(t,e={}){return Number(VC(t,e))}const y2e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function HC(t,e={}){return typeof t=="number"||typeof t=="bigint"?ZG(t,e):typeof t=="string"?b2e(t,e):typeof t=="boolean"?w2e(t,e):KG(t,e)}function w2e(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(g0(n,{size:e.size}),v0(n,{size:e.size})):n}function KG(t,e={}){let n="";for(let c=0;c<t.length;c++)n+=y2e[t[c]];const i=`0x${n}`;return typeof e.size=="number"?(g0(i,{size:e.size}),v0(i,{dir:"right",size:e.size})):i}function ZG(t,e={}){const{signed:n,size:i}=e,c=BigInt(t);let m;i?n?m=(1n<<BigInt(i)*8n-1n)-1n:m=2n**(BigInt(i)*8n)-1n:typeof t=="number"&&(m=BigInt(Number.MAX_SAFE_INTEGER));const s=typeof m=="bigint"&&n?-m-1n:0;if(m&&c>m||c<s){const r=typeof t=="bigint"?"n":"";throw new v2e({max:m?`${m}${r}`:void 0,min:`${s}${r}`,signed:n,size:i,value:`${t}${r}`})}const g=`0x${(n&&c<0?(1n<<BigInt(i*8))+BigInt(c):c).toString(16)}`;return i?v0(g,{size:i}):g}const x2e=new TextEncoder;function b2e(t,e={}){const n=x2e.encode(t);return KG(n,e)}const E2e=new TextEncoder;function C2e(t,e={}){return typeof t=="number"||typeof t=="bigint"?T2e(t,e):typeof t=="boolean"?S2e(t,e):gm(t)?JG(t,e):_G(t,e)}function S2e(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(g0(n,{size:e.size}),v0(n,{size:e.size})):n}const Bl={zero:48,nine:57,A:65,F:70,a:97,f:102};function _$(t){if(t>=Bl.zero&&t<=Bl.nine)return t-Bl.zero;if(t>=Bl.A&&t<=Bl.F)return t-(Bl.A-10);if(t>=Bl.a&&t<=Bl.f)return t-(Bl.a-10)}function JG(t,e={}){let n=t;e.size&&(g0(n,{size:e.size}),n=v0(n,{dir:"right",size:e.size}));let i=n.slice(2);i.length%2&&(i=`0${i}`);const c=i.length/2,m=new Uint8Array(c);for(let s=0,g=0;s<c;s++){const r=_$(i.charCodeAt(g++)),a=_$(i.charCodeAt(g++));if(r===void 0||a===void 0)throw new rd(`Invalid byte sequence ("${i[g-2]}${i[g-1]}" in "${i}").`);m[s]=r*16+a}return m}function T2e(t,e){const n=ZG(t,e);return JG(n)}function _G(t,e={}){const n=E2e.encode(t);return typeof e.size=="number"?(g0(n,{size:e.size}),v0(n,{dir:"right",size:e.size})):n}const Qy=BigInt(2**32-1),Q$=BigInt(32);function A2e(t,e=!1){return e?{h:Number(t&Qy),l:Number(t>>Q$&Qy)}:{h:Number(t>>Q$&Qy)|0,l:Number(t&Qy)|0}}function P2e(t,e=!1){const n=t.length;let i=new Uint32Array(n),c=new Uint32Array(n);for(let m=0;m<n;m++){const{h:s,l:g}=A2e(t[m],e);[i[m],c[m]]=[s,g]}return[i,c]}const I2e=(t,e,n)=>t<<n|e>>>32-n,R2e=(t,e,n)=>e<<n|t>>>32-n,O2e=(t,e,n)=>e<<n-32|t>>>64-n,M2e=(t,e,n)=>t<<n-32|e>>>64-n,Af=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function $2e(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Ww(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function mm(t,...e){if(!$2e(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function XZe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Ww(t.outputLen),Ww(t.blockLen)}function q$(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function F2e(t,e){mm(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function L2e(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function QG(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function KZe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ZZe(t,e){return t<<32-e|t>>>e}const D2e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function N2e(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function k2e(t){for(let e=0;e<t.length;e++)t[e]=N2e(t[e]);return t}const eF=D2e?t=>t:k2e;function B2e(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function qG(t){return typeof t=="string"&&(t=B2e(t)),mm(t),t}function JZe(...t){let e=0;for(let i=0;i<t.length;i++){const c=t[i];mm(c),e+=c.length}const n=new Uint8Array(e);for(let i=0,c=0;i<t.length;i++){const m=t[i];n.set(m,c),c+=m.length}return n}let U2e=class{};function j2e(t){const e=i=>t().update(qG(i)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function QZe(t=32){if(Af&&typeof Af.getRandomValues=="function")return Af.getRandomValues(new Uint8Array(t));if(Af&&typeof Af.randomBytes=="function")return Uint8Array.from(Af.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const z2e=BigInt(0),vv=BigInt(1),W2e=BigInt(2),G2e=BigInt(7),V2e=BigInt(256),H2e=BigInt(113),eV=[],tV=[],nV=[];for(let t=0,e=vv,n=1,i=0;t<24;t++){[n,i]=[i,(2*n+3*i)%5],eV.push(2*(5*i+n)),tV.push((t+1)*(t+2)/2%64);let c=z2e;for(let m=0;m<7;m++)e=(e<<vv^(e>>G2e)*H2e)%V2e,e&W2e&&(c^=vv<<(vv<<BigInt(m))-vv);nV.push(c)}const rV=P2e(nV,!0),Y2e=rV[0],X2e=rV[1],tF=(t,e,n)=>n>32?O2e(t,e,n):I2e(t,e,n),nF=(t,e,n)=>n>32?M2e(t,e,n):R2e(t,e,n);function K2e(t,e=24){const n=new Uint32Array(10);for(let i=24-e;i<24;i++){for(let s=0;s<10;s++)n[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const g=(s+8)%10,r=(s+2)%10,a=n[r],v=n[r+1],h=tF(a,v,1)^n[g],u=nF(a,v,1)^n[g+1];for(let l=0;l<50;l+=10)t[s+l]^=h,t[s+l+1]^=u}let c=t[2],m=t[3];for(let s=0;s<24;s++){const g=tV[s],r=tF(c,m,g),a=nF(c,m,g),v=eV[s];c=t[v],m=t[v+1],t[v]=r,t[v+1]=a}for(let s=0;s<50;s+=10){for(let g=0;g<10;g++)n[g]=t[s+g];for(let g=0;g<10;g++)t[s+g]^=~n[(g+2)%10]&n[(g+4)%10]}t[0]^=Y2e[i],t[1]^=X2e[i]}QG(n)}class m7 extends U2e{constructor(e,n,i,c=!1,m=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=i,this.enableXOF=c,this.rounds=m,Ww(i),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=L2e(this.state)}clone(){return this._cloneInto()}keccak(){eF(this.state32),K2e(this.state32,this.rounds),eF(this.state32),this.posOut=0,this.pos=0}update(e){q$(this),e=qG(e),mm(e);const{blockLen:n,state:i}=this,c=e.length;for(let m=0;m<c;){const s=Math.min(n-this.pos,c-m);for(let g=0;g<s;g++)i[this.pos++]^=e[m++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:i,blockLen:c}=this;e[i]^=n,(n&128)!==0&&i===c-1&&this.keccak(),e[c-1]^=128,this.keccak()}writeInto(e){q$(this,!1),mm(e),this.finish();const n=this.state,{blockLen:i}=this;for(let c=0,m=e.length;c<m;){this.posOut>=i&&this.keccak();const s=Math.min(i-this.posOut,m-c);e.set(n.subarray(this.posOut,this.posOut+s),c),this.posOut+=s,c+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ww(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(F2e(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,QG(this.state)}_cloneInto(e){const{blockLen:n,suffix:i,outputLen:c,rounds:m,enableXOF:s}=this;return e||(e=new m7(n,i,c,s,m)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=m,e.suffix=i,e.outputLen=c,e.enableXOF=s,e.destroyed=this.destroyed,e}}const Z2e=(t,e,n)=>j2e(()=>new m7(e,t,n)),J2e=Z2e(1,136,256/8);function iV(t,e){const n=e||"hex",i=J2e(gm(t,{strict:!1})?C2e(t):t);return n==="bytes"?i:HC(i)}class _2e extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const i=this.keys().next().value;i&&this.delete(i)}return this}}const D6=new _2e(8192);function Q2e(t,e){if(D6.has(`${t}.${e}`))return D6.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),i=iV(_G(n),"bytes"),c=n.split("");for(let s=0;s<40;s+=2)i[s>>1]>>4>=8&&c[s]&&(c[s]=c[s].toUpperCase()),(i[s>>1]&15)>=8&&c[s+1]&&(c[s+1]=c[s+1].toUpperCase());const m=`0x${c.join("")}`;return D6.set(`${t}.${e}`,m),m}function q2e(t){const e=iV(`0x${t.substring(4)}`).substring(26);return Q2e(`0x${e}`)}async function ewe({hash:t,signature:e}){const n=gm(t)?t:HC(t),{secp256k1:i}=await Fi(async()=>{const{secp256k1:s}=await import("./secp256k1-D9YZGWMK.js");return{secp256k1:s}},[]);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:a,s:v,v:h,yParity:u}=e,l=Number(u??h),o=rF(l);return new i.Signature(VC(a),VC(v)).addRecoveryBit(o)}const s=gm(e)?e:HC(e);if(GC(s)!==65)throw new Error("invalid signature length");const g=m2e(`0x${s.slice(130)}`),r=rF(g);return i.Signature.fromCompact(s.substring(2,130)).addRecoveryBit(r)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function rF(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function twe({hash:t,signature:e}){return q2e(await ewe({hash:t,signature:e}))}function nwe(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let a=0;a<e.length;a++)e[a]=255;for(let a=0;a<t.length;a++){const v=t.charAt(a),h=v.charCodeAt(0);if(e[h]!==255)throw new TypeError(v+" is ambiguous");e[h]=a}const n=t.length,i=t.charAt(0),c=Math.log(n)/Math.log(256),m=Math.log(256)/Math.log(n);function s(a){if(a instanceof Uint8Array||(ArrayBuffer.isView(a)?a=new Uint8Array(a.buffer,a.byteOffset,a.byteLength):Array.isArray(a)&&(a=Uint8Array.from(a))),!(a instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(a.length===0)return"";let v=0,h=0,u=0;const l=a.length;for(;u!==l&&a[u]===0;)u++,v++;const o=(l-u)*m+1>>>0,d=new Uint8Array(o);for(;u!==l;){let y=a[u],w=0;for(let x=o-1;(y!==0||w<h)&&x!==-1;x--,w++)y+=256*d[x]>>>0,d[x]=y%n>>>0,y=y/n>>>0;if(y!==0)throw new Error("Non-zero carry");h=w,u++}let p=o-h;for(;p!==o&&d[p]===0;)p++;let f=i.repeat(v);for(;p<o;++p)f+=t.charAt(d[p]);return f}function g(a){if(typeof a!="string")throw new TypeError("Expected String");if(a.length===0)return new Uint8Array;let v=0,h=0,u=0;for(;a[v]===i;)h++,v++;const l=(a.length-v)*c+1>>>0,o=new Uint8Array(l);for(;v<a.length;){const y=a.charCodeAt(v);if(y>255)return;let w=e[y];if(w===255)return;let x=0;for(let b=l-1;(w!==0||x<u)&&b!==-1;b--,x++)w+=n*o[b]>>>0,o[b]=w%256>>>0,w=w/256>>>0;if(w!==0)throw new Error("Non-zero carry");u=x,v++}let d=l-u;for(;d!==l&&o[d]===0;)d++;const p=new Uint8Array(h+(l-d));let f=h;for(;d!==l;)p[f++]=o[d++];return p}function r(a){const v=g(a);if(v)return v;throw new Error("Non-base"+n+" character")}return{encode:s,decodeUnsafe:g,decode:r}}var rwe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const s1=nwe(rwe);function iwe(t){const e=t.length;let n=0,i=0;for(;i<e;){let c=t.charCodeAt(i++);if((c&4294967168)===0){n++;continue}else if((c&4294965248)===0)n+=2;else{if(c>=55296&&c<=56319&&i<e){const m=t.charCodeAt(i);(m&64512)===56320&&(++i,c=((c&1023)<<10)+(m&1023)+65536)}(c&4294901760)===0?n+=3:n+=4}}return n}function swe(t,e,n){const i=t.length;let c=n,m=0;for(;m<i;){let s=t.charCodeAt(m++);if((s&4294967168)===0){e[c++]=s;continue}else if((s&4294965248)===0)e[c++]=s>>6&31|192;else{if(s>=55296&&s<=56319&&m<i){const g=t.charCodeAt(m);(g&64512)===56320&&(++m,s=((s&1023)<<10)+(g&1023)+65536)}(s&4294901760)===0?(e[c++]=s>>12&15|224,e[c++]=s>>6&63|128):(e[c++]=s>>18&7|240,e[c++]=s>>12&63|128,e[c++]=s>>6&63|128)}e[c++]=s&63|128}}const awe=new TextEncoder,owe=50;function lwe(t,e,n){awe.encodeInto(t,e.subarray(n))}function uwe(t,e,n){t.length>owe?lwe(t,e,n):swe(t,e,n)}const cwe=4096;function sV(t,e,n){let i=e;const c=i+n,m=[];let s="";for(;i<c;){const g=t[i++];if((g&128)===0)m.push(g);else if((g&224)===192){const r=t[i++]&63;m.push((g&31)<<6|r)}else if((g&240)===224){const r=t[i++]&63,a=t[i++]&63;m.push((g&31)<<12|r<<6|a)}else if((g&248)===240){const r=t[i++]&63,a=t[i++]&63,v=t[i++]&63;let h=(g&7)<<18|r<<12|a<<6|v;h>65535&&(h-=65536,m.push(h>>>10&1023|55296),h=56320|h&1023),m.push(h)}else m.push(g);m.length>=cwe&&(s+=String.fromCharCode(...m),m.length=0)}return m.length>0&&(s+=String.fromCharCode(...m)),s}const hwe=new TextDecoder,dwe=200;function fwe(t,e,n){const i=t.subarray(e,e+n);return hwe.decode(i)}function pwe(t,e,n){return n>dwe?fwe(t,e,n):sV(t,e,n)}class qy{constructor(e,n){this.type=e,this.data=n}}class Gs extends Error{constructor(e){super(e);const n=Object.create(Gs.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:Gs.name})}}const gv=4294967295;function vwe(t,e,n){const i=n/4294967296,c=n;t.setUint32(e,i),t.setUint32(e+4,c)}function aV(t,e,n){const i=Math.floor(n/4294967296),c=n;t.setUint32(e,i),t.setUint32(e+4,c)}function oV(t,e){const n=t.getInt32(e),i=t.getUint32(e+4);return n*4294967296+i}function gwe(t,e){const n=t.getUint32(e),i=t.getUint32(e+4);return n*4294967296+i}const mwe=-1,ywe=4294967296-1,wwe=17179869184-1;function xwe({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=wwe)if(e===0&&t<=ywe){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t),n}else{const n=t/4294967296,i=t&4294967295,c=new Uint8Array(8),m=new DataView(c.buffer);return m.setUint32(0,e<<2|n&3),m.setUint32(4,i),c}else{const n=new Uint8Array(12),i=new DataView(n.buffer);return i.setUint32(0,e),aV(i,4,t),n}}function bwe(t){const e=t.getTime(),n=Math.floor(e/1e3),i=(e-n*1e3)*1e6,c=Math.floor(i/1e9);return{sec:n+c,nsec:i-c*1e9}}function Ewe(t){if(t instanceof Date){const e=bwe(t);return xwe(e)}else return null}function Cwe(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const n=e.getUint32(0),i=e.getUint32(4),c=(n&3)*4294967296+i,m=n>>>2;return{sec:c,nsec:m}}case 12:{const n=oV(e,4),i=e.getUint32(0);return{sec:n,nsec:i}}default:throw new Gs(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function Swe(t){const e=Cwe(t);return new Date(e.sec*1e3+e.nsec/1e6)}const Twe={type:mwe,encode:Ewe,decode:Swe};class Gw{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(Twe)}register({type:e,encode:n,decode:i}){if(e>=0)this.encoders[e]=n,this.decoders[e]=i;else{const c=-1-e;this.builtInEncoders[c]=n,this.builtInDecoders[c]=i}}tryToEncode(e,n){for(let i=0;i<this.builtInEncoders.length;i++){const c=this.builtInEncoders[i];if(c!=null){const m=c(e,n);if(m!=null){const s=-1-i;return new qy(s,m)}}}for(let i=0;i<this.encoders.length;i++){const c=this.encoders[i];if(c!=null){const m=c(e,n);if(m!=null){const s=i;return new qy(s,m)}}}return e instanceof qy?e:null}decode(e,n,i){const c=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return c?c(e,n,i):new qy(n,e)}}Gw.defaultCodec=new Gw;function Awe(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function YC(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Awe(t)?new Uint8Array(t):Uint8Array.from(t)}const Pwe=100,Iwe=2048;let Rwe=class lV{constructor(e){this.entered=!1,this.extensionCodec=e?.extensionCodec??Gw.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.maxDepth=e?.maxDepth??Pwe,this.initialBufferSize=e?.initialBufferSize??Iwe,this.sortKeys=e?.sortKeys??!1,this.forceFloat32=e?.forceFloat32??!1,this.ignoreUndefined=e?.ignoreUndefined??!1,this.forceIntegerToFloat=e?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new lV({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,n)}ensureBufferSizeToWrite(e){const n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(e){const n=new ArrayBuffer(e),i=new Uint8Array(n),c=new DataView(n);i.set(this.bytes),this.view=c,this.bytes=i}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const i=iwe(e);this.ensureBufferSizeToWrite(5+i),this.writeStringHeader(i),uwe(e,this.bytes,this.pos),this.pos+=i}encodeObject(e,n){const i=this.extensionCodec.tryToEncode(e,this.context);if(i!=null)this.encodeExtension(i);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const i=YC(e);this.writeU8a(i)}encodeArray(e,n){const i=e.length;if(i<16)this.writeU8(144+i);else if(i<65536)this.writeU8(220),this.writeU16(i);else if(i<4294967296)this.writeU8(221),this.writeU32(i);else throw new Error(`Too large array: ${i}`);for(const c of e)this.doEncode(c,n+1)}countWithoutUndefined(e,n){let i=0;for(const c of n)e[c]!==void 0&&i++;return i}encodeMap(e,n){const i=Object.keys(e);this.sortKeys&&i.sort();const c=this.ignoreUndefined?this.countWithoutUndefined(e,i):i.length;if(c<16)this.writeU8(128+c);else if(c<65536)this.writeU8(222),this.writeU16(c);else if(c<4294967296)this.writeU8(223),this.writeU32(c);else throw new Error(`Too large map object: ${c}`);for(const m of i){const s=e[m];this.ignoreUndefined&&s===void 0||(this.encodeString(m),this.doEncode(s,n+1))}}encodeExtension(e){if(typeof e.data=="function"){const i=e.data(this.pos+6),c=i.length;if(c>=4294967296)throw new Error(`Too large extension object: ${c}`);this.writeU8(201),this.writeU32(c),this.writeI8(e.type),this.writeU8a(i);return}const n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),vwe(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),aV(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function Owe(t,e){return new Rwe(e).encodeSharedRef(t)}function N6(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const Mwe=16,$we=16;class Fwe{constructor(e=Mwe,n=$we){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=n,this.caches=[];for(let i=0;i<this.maxKeyLength;i++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,n,i){const c=this.caches[i-1];e:for(const m of c){const s=m.bytes;for(let g=0;g<i;g++)if(s[g]!==e[n+g])continue e;return m.str}return null}store(e,n){const i=this.caches[e.length-1],c={bytes:e,str:n};i.length>=this.maxLengthPerKey?i[Math.random()*i.length|0]=c:i.push(c)}decode(e,n,i){const c=this.find(e,n,i);if(c!=null)return this.hit++,c;this.miss++;const m=sV(e,n,i),s=Uint8Array.prototype.slice.call(e,n,n+i);return this.store(s,m),m}}const XC="array",ng="map_key",uV="map_value",Lwe=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new Gs("The type of key must be string or number but "+typeof t)};class Dwe{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const n=this.getUninitializedStateFromPool();n.type=XC,n.position=0,n.size=e,n.array=new Array(e)}pushMapState(e){const n=this.getUninitializedStateFromPool();n.type=ng,n.readCount=0,n.size=e,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===XC){const i=e;i.size=0,i.array=void 0,i.position=0,i.type=void 0}if(e.type===ng||e.type===uV){const i=e;i.size=0,i.map=void 0,i.readCount=0,i.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const mv=-1,y7=new DataView(new ArrayBuffer(0)),Nwe=new Uint8Array(y7.buffer);try{y7.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const iF=new RangeError("Insufficient data"),kwe=new Fwe;let Bwe=class cV{constructor(e){this.totalPos=0,this.pos=0,this.view=y7,this.bytes=Nwe,this.headByte=mv,this.stack=new Dwe,this.entered=!1,this.extensionCodec=e?.extensionCodec??Gw.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.rawStrings=e?.rawStrings??!1,this.maxStrLength=e?.maxStrLength??gv,this.maxBinLength=e?.maxBinLength??gv,this.maxArrayLength=e?.maxArrayLength??gv,this.maxMapLength=e?.maxMapLength??gv,this.maxExtLength=e?.maxExtLength??gv,this.keyDecoder=e?.keyDecoder!==void 0?e.keyDecoder:kwe,this.mapKeyConverter=e?.mapKeyConverter??Lwe}clone(){return new cV({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=mv,this.stack.reset()}setBuffer(e){const n=YC(e);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===mv&&!this.hasRemaining(1))this.setBuffer(e);else{const n=this.bytes.subarray(this.pos),i=YC(e),c=new Uint8Array(n.length+i.length);c.set(n),c.set(i,n.length),this.setBuffer(c)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:n,pos:i}=this;return new RangeError(`Extra ${n.byteLength-i} of ${n.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let n=!1,i;for await(const g of e){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(g);try{i=this.doDecodeSync(),n=!0}catch(r){if(!(r instanceof RangeError))throw r}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return i}const{headByte:c,pos:m,totalPos:s}=this;throw new RangeError(`Insufficient data in parsing ${N6(c)} at ${s} (${m} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,n){if(this.entered){yield*this.clone().decodeMultiAsync(e,n);return}try{this.entered=!0;let i=n,c=-1;for await(const m of e){if(n&&c===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(m),i&&(c=this.readArraySize(),i=!1,this.complete());try{for(;yield this.doDecodeSync(),--c!==0;);}catch(s){if(!(s instanceof RangeError))throw s}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let n;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){const c=e-128;if(c!==0){this.pushMapState(c),this.complete();continue e}else n={}}else if(e<160){const c=e-144;if(c!==0){this.pushArrayState(c),this.complete();continue e}else n=[]}else{const c=e-160;n=this.decodeString(c,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(e===217){const c=this.lookU8();n=this.decodeString(c,1)}else if(e===218){const c=this.lookU16();n=this.decodeString(c,2)}else if(e===219){const c=this.lookU32();n=this.decodeString(c,4)}else if(e===220){const c=this.readU16();if(c!==0){this.pushArrayState(c),this.complete();continue e}else n=[]}else if(e===221){const c=this.readU32();if(c!==0){this.pushArrayState(c),this.complete();continue e}else n=[]}else if(e===222){const c=this.readU16();if(c!==0){this.pushMapState(c),this.complete();continue e}else n={}}else if(e===223){const c=this.readU32();if(c!==0){this.pushMapState(c),this.complete();continue e}else n={}}else if(e===196){const c=this.lookU8();n=this.decodeBinary(c,1)}else if(e===197){const c=this.lookU16();n=this.decodeBinary(c,2)}else if(e===198){const c=this.lookU32();n=this.decodeBinary(c,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){const c=this.lookU8();n=this.decodeExtension(c,1)}else if(e===200){const c=this.lookU16();n=this.decodeExtension(c,2)}else if(e===201){const c=this.lookU32();n=this.decodeExtension(c,4)}else throw new Gs(`Unrecognized type byte: ${N6(e)}`);this.complete();const i=this.stack;for(;i.length>0;){const c=i.top();if(c.type===XC)if(c.array[c.position]=n,c.position++,c.position===c.size)n=c.array,i.release(c);else continue e;else if(c.type===ng){if(n==="__proto__")throw new Gs("The key __proto__ is not allowed");c.key=this.mapKeyConverter(n),c.type=uV;continue e}else if(c.map[c.key]=n,c.readCount++,c.readCount===c.size)n=c.map,i.release(c);else{c.key=null,c.type=ng;continue e}}return n}}readHeadByte(){return this.headByte===mv&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=mv}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new Gs(`Unrecognized array type byte: ${N6(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new Gs(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new Gs(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,n):this.decodeBinary(e,n)}decodeUtf8String(e,n){if(e>this.maxStrLength)throw new Gs(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+e)throw iF;const i=this.pos+n;let c;return this.stateIsMapKey()&&this.keyDecoder?.canBeCached(e)?c=this.keyDecoder.decode(this.bytes,i,e):c=pwe(this.bytes,i,e),this.pos+=n+e,c}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===ng:!1}decodeBinary(e,n){if(e>this.maxBinLength)throw new Gs(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+n))throw iF;const i=this.pos+n,c=this.bytes.subarray(i,i+e);return this.pos+=n+e,c}decodeExtension(e,n){if(e>this.maxExtLength)throw new Gs(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const i=this.view.getInt8(this.pos+n),c=this.decodeBinary(e,n+1);return this.extensionCodec.decode(c,i,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=gwe(this.view,this.pos);return this.pos+=8,e}readI64(){const e=oV(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function Uwe(t,e){return new Bwe(e).decode(t)}const jwe=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),zwe=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(i,c)=>typeof c=="string"&&c.match(/^\d+n$/)?BigInt(c.substring(0,c.length-1)):c)};function id(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return zwe(t)}catch{return t}}function mu(t){return typeof t=="string"?t:jwe(t)||""}function Wwe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function hV(t,...e){if(!Wwe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function sF(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Gwe(t,e){hV(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Pf=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const k6=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function Vwe(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function dV(t){return typeof t=="string"&&(t=Vwe(t)),hV(t),t}let Hwe=class{clone(){return this._cloneInto()}};function Ywe(t){const e=i=>t().update(dV(i)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function fV(t=32){if(Pf&&typeof Pf.getRandomValues=="function")return Pf.getRandomValues(new Uint8Array(t));if(Pf&&typeof Pf.randomBytes=="function")return Pf.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function Xwe(t,e,n,i){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,i);const c=BigInt(32),m=BigInt(4294967295),s=Number(n>>c&m),g=Number(n&m),r=i?4:0,a=i?0:4;t.setUint32(e+r,s,i),t.setUint32(e+a,g,i)}let Kwe=class extends Hwe{constructor(e,n,i,c){super(),this.blockLen=e,this.outputLen=n,this.padOffset=i,this.isLE=c,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=k6(this.buffer)}update(e){sF(this);const{view:n,buffer:i,blockLen:c}=this;e=dV(e);const m=e.length;for(let s=0;s<m;){const g=Math.min(c-this.pos,m-s);if(g===c){const r=k6(e);for(;c<=m-s;s+=c)this.process(r,s);continue}i.set(e.subarray(s,s+g),this.pos),this.pos+=g,s+=g,this.pos===c&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){sF(this),Gwe(e,this),this.finished=!0;const{buffer:n,view:i,blockLen:c,isLE:m}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>c-s&&(this.process(i,0),s=0);for(let h=s;h<c;h++)n[h]=0;Xwe(i,c-8,BigInt(this.length*8),m),this.process(i,0);const g=k6(e),r=this.outputLen;if(r%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const a=r/4,v=this.get();if(a>v.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<a;h++)g.setUint32(4*h,v[h],m)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const i=e.slice(0,n);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:i,length:c,finished:m,destroyed:s,pos:g}=this;return e.length=c,e.pos=g,e.finished=m,e.destroyed=s,c%n&&e.buffer.set(i),e}};const e2=BigInt(2**32-1),KC=BigInt(32);function pV(t,e=!1){return e?{h:Number(t&e2),l:Number(t>>KC&e2)}:{h:Number(t>>KC&e2)|0,l:Number(t&e2)|0}}function Zwe(t,e=!1){let n=new Uint32Array(t.length),i=new Uint32Array(t.length);for(let c=0;c<t.length;c++){const{h:m,l:s}=pV(t[c],e);[n[c],i[c]]=[m,s]}return[n,i]}const Jwe=(t,e)=>BigInt(t>>>0)<<KC|BigInt(e>>>0),_we=(t,e,n)=>t>>>n,Qwe=(t,e,n)=>t<<32-n|e>>>n,qwe=(t,e,n)=>t>>>n|e<<32-n,exe=(t,e,n)=>t<<32-n|e>>>n,txe=(t,e,n)=>t<<64-n|e>>>n-32,nxe=(t,e,n)=>t>>>n-32|e<<64-n,rxe=(t,e)=>e,ixe=(t,e)=>t,sxe=(t,e,n)=>t<<n|e>>>32-n,axe=(t,e,n)=>e<<n|t>>>32-n,oxe=(t,e,n)=>e<<n-32|t>>>64-n,lxe=(t,e,n)=>t<<n-32|e>>>64-n;function uxe(t,e,n,i){const c=(e>>>0)+(i>>>0);return{h:t+n+(c/2**32|0)|0,l:c|0}}const cxe=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),hxe=(t,e,n,i)=>e+n+i+(t/2**32|0)|0,dxe=(t,e,n,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(i>>>0),fxe=(t,e,n,i,c)=>e+n+i+c+(t/2**32|0)|0,pxe=(t,e,n,i,c)=>(t>>>0)+(e>>>0)+(n>>>0)+(i>>>0)+(c>>>0),vxe=(t,e,n,i,c,m)=>e+n+i+c+m+(t/2**32|0)|0,Wt={fromBig:pV,split:Zwe,toBig:Jwe,shrSH:_we,shrSL:Qwe,rotrSH:qwe,rotrSL:exe,rotrBH:txe,rotrBL:nxe,rotr32H:rxe,rotr32L:ixe,rotlSH:sxe,rotlSL:axe,rotlBH:oxe,rotlBL:lxe,add:uxe,add3L:cxe,add3H:hxe,add4L:dxe,add4H:fxe,add5H:vxe,add5L:pxe},[gxe,mxe]=Wt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Vu=new Uint32Array(80),Hu=new Uint32Array(80);let yxe=class extends Kwe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:i,Bl:c,Ch:m,Cl:s,Dh:g,Dl:r,Eh:a,El:v,Fh:h,Fl:u,Gh:l,Gl:o,Hh:d,Hl:p}=this;return[e,n,i,c,m,s,g,r,a,v,h,u,l,o,d,p]}set(e,n,i,c,m,s,g,r,a,v,h,u,l,o,d,p){this.Ah=e|0,this.Al=n|0,this.Bh=i|0,this.Bl=c|0,this.Ch=m|0,this.Cl=s|0,this.Dh=g|0,this.Dl=r|0,this.Eh=a|0,this.El=v|0,this.Fh=h|0,this.Fl=u|0,this.Gh=l|0,this.Gl=o|0,this.Hh=d|0,this.Hl=p|0}process(e,n){for(let w=0;w<16;w++,n+=4)Vu[w]=e.getUint32(n),Hu[w]=e.getUint32(n+=4);for(let w=16;w<80;w++){const x=Vu[w-15]|0,b=Hu[w-15]|0,E=Wt.rotrSH(x,b,1)^Wt.rotrSH(x,b,8)^Wt.shrSH(x,b,7),C=Wt.rotrSL(x,b,1)^Wt.rotrSL(x,b,8)^Wt.shrSL(x,b,7),T=Vu[w-2]|0,S=Hu[w-2]|0,A=Wt.rotrSH(T,S,19)^Wt.rotrBH(T,S,61)^Wt.shrSH(T,S,6),P=Wt.rotrSL(T,S,19)^Wt.rotrBL(T,S,61)^Wt.shrSL(T,S,6),R=Wt.add4L(C,P,Hu[w-7],Hu[w-16]),L=Wt.add4H(R,E,A,Vu[w-7],Vu[w-16]);Vu[w]=L|0,Hu[w]=R|0}let{Ah:i,Al:c,Bh:m,Bl:s,Ch:g,Cl:r,Dh:a,Dl:v,Eh:h,El:u,Fh:l,Fl:o,Gh:d,Gl:p,Hh:f,Hl:y}=this;for(let w=0;w<80;w++){const x=Wt.rotrSH(h,u,14)^Wt.rotrSH(h,u,18)^Wt.rotrBH(h,u,41),b=Wt.rotrSL(h,u,14)^Wt.rotrSL(h,u,18)^Wt.rotrBL(h,u,41),E=h&l^~h&d,C=u&o^~u&p,T=Wt.add5L(y,b,C,mxe[w],Hu[w]),S=Wt.add5H(T,f,x,E,gxe[w],Vu[w]),A=T|0,P=Wt.rotrSH(i,c,28)^Wt.rotrBH(i,c,34)^Wt.rotrBH(i,c,39),R=Wt.rotrSL(i,c,28)^Wt.rotrBL(i,c,34)^Wt.rotrBL(i,c,39),L=i&m^i&g^m&g,D=c&s^c&r^s&r;f=d|0,y=p|0,d=l|0,p=o|0,l=h|0,o=u|0,{h,l:u}=Wt.add(a|0,v|0,S|0,A|0),a=g|0,v=r|0,g=m|0,r=s|0,m=i|0,s=c|0;const $=Wt.add3L(A,R,D);i=Wt.add3H($,S,P,L),c=$|0}({h:i,l:c}=Wt.add(this.Ah|0,this.Al|0,i|0,c|0)),{h:m,l:s}=Wt.add(this.Bh|0,this.Bl|0,m|0,s|0),{h:g,l:r}=Wt.add(this.Ch|0,this.Cl|0,g|0,r|0),{h:a,l:v}=Wt.add(this.Dh|0,this.Dl|0,a|0,v|0),{h,l:u}=Wt.add(this.Eh|0,this.El|0,h|0,u|0),{h:l,l:o}=Wt.add(this.Fh|0,this.Fl|0,l|0,o|0),{h:d,l:p}=Wt.add(this.Gh|0,this.Gl|0,d|0,p|0),{h:f,l:y}=Wt.add(this.Hh|0,this.Hl|0,f|0,y|0),this.set(i,c,m,s,g,r,a,v,h,u,l,o,d,p,f,y)}roundClean(){Vu.fill(0),Hu.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const wxe=Ywe(()=>new yxe);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const w7=BigInt(0),vV=BigInt(1),xxe=BigInt(2);function x7(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function b7(t){if(!x7(t))throw new Error("Uint8Array expected")}function B6(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const bxe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function E7(t){b7(t);let e="";for(let n=0;n<t.length;n++)e+=bxe[t[n]];return e}function gV(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?w7:BigInt("0x"+t)}const Ul={_0:48,_9:57,A:65,F:70,a:97,f:102};function aF(t){if(t>=Ul._0&&t<=Ul._9)return t-Ul._0;if(t>=Ul.A&&t<=Ul.F)return t-(Ul.A-10);if(t>=Ul.a&&t<=Ul.f)return t-(Ul.a-10)}function mV(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const i=new Uint8Array(n);for(let c=0,m=0;c<n;c++,m+=2){const s=aF(t.charCodeAt(m)),g=aF(t.charCodeAt(m+1));if(s===void 0||g===void 0){const r=t[m]+t[m+1];throw new Error('hex string expected, got non-hex character "'+r+'" at index '+m)}i[c]=s*16+g}return i}function Exe(t){return gV(E7(t))}function J2(t){return b7(t),gV(E7(Uint8Array.from(t).reverse()))}function yV(t,e){return mV(t.toString(16).padStart(e*2,"0"))}function ZC(t,e){return yV(t,e).reverse()}function jl(t,e,n){let i;if(typeof e=="string")try{i=mV(e)}catch(m){throw new Error(t+" must be hex string or Uint8Array, cause: "+m)}else if(x7(e))i=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const c=i.length;if(typeof n=="number"&&c!==n)throw new Error(t+" of length "+n+" expected, got "+c);return i}function oF(...t){let e=0;for(let i=0;i<t.length;i++){const c=t[i];b7(c),e+=c.length}const n=new Uint8Array(e);for(let i=0,c=0;i<t.length;i++){const m=t[i];n.set(m,c),c+=m.length}return n}const U6=t=>typeof t=="bigint"&&w7<=t;function Cxe(t,e,n){return U6(t)&&U6(e)&&U6(n)&&e<=t&&t<n}function yv(t,e,n,i){if(!Cxe(e,n,i))throw new Error("expected valid "+t+": "+n+" <= n < "+i+", got "+e)}function Sxe(t){let e;for(e=0;t>w7;t>>=vV,e+=1);return e}const Txe=t=>(xxe<<BigInt(t-1))-vV,Axe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||x7(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function C7(t,e,n={}){const i=(c,m,s)=>{const g=Axe[m];if(typeof g!="function")throw new Error("invalid validator function");const r=t[c];if(!(s&&r===void 0)&&!g(r,t))throw new Error("param "+String(c)+" is invalid. Expected "+m+", got "+r)};for(const[c,m]of Object.entries(e))i(c,m,!1);for(const[c,m]of Object.entries(n))i(c,m,!0);return t}function lF(t){const e=new WeakMap;return(n,...i)=>{const c=e.get(n);if(c!==void 0)return c;const m=t(n,...i);return e.set(n,m),m}}const ni=BigInt(0),mr=BigInt(1),wh=BigInt(2),Pxe=BigInt(3),JC=BigInt(4),uF=BigInt(5),cF=BigInt(8);function kr(t,e){const n=t%e;return n>=ni?n:e+n}function Ixe(t,e,n){if(e<ni)throw new Error("invalid exponent, negatives unsupported");if(n<=ni)throw new Error("invalid modulus");if(n===mr)return ni;let i=mr;for(;e>ni;)e&mr&&(i=i*t%n),t=t*t%n,e>>=mr;return i}function Vo(t,e,n){let i=t;for(;e-- >ni;)i*=i,i%=n;return i}function hF(t,e){if(t===ni)throw new Error("invert: expected non-zero number");if(e<=ni)throw new Error("invert: expected positive modulus, got "+e);let n=kr(t,e),i=e,c=ni,m=mr;for(;n!==ni;){const s=i/n,g=i%n,r=c-m*s;i=n,n=g,c=m,m=r}if(i!==mr)throw new Error("invert: does not exist");return kr(c,e)}function Rxe(t){const e=(t-mr)/wh;let n,i,c;for(n=t-mr,i=0;n%wh===ni;n/=wh,i++);for(c=wh;c<t&&Ixe(c,e,t)!==t-mr;c++)if(c>1e3)throw new Error("Cannot find square root: likely non-prime P");if(i===1){const s=(t+mr)/JC;return function(g,r){const a=g.pow(r,s);if(!g.eql(g.sqr(a),r))throw new Error("Cannot find square root");return a}}const m=(n+mr)/wh;return function(s,g){if(s.pow(g,e)===s.neg(s.ONE))throw new Error("Cannot find square root");let r=i,a=s.pow(s.mul(s.ONE,c),n),v=s.pow(g,m),h=s.pow(g,n);for(;!s.eql(h,s.ONE);){if(s.eql(h,s.ZERO))return s.ZERO;let u=1;for(let o=s.sqr(h);u<r&&!s.eql(o,s.ONE);u++)o=s.sqr(o);const l=s.pow(a,mr<<BigInt(r-u-1));a=s.sqr(l),v=s.mul(v,l),h=s.mul(h,a),r=u}return v}}function Oxe(t){if(t%JC===Pxe){const e=(t+mr)/JC;return function(n,i){const c=n.pow(i,e);if(!n.eql(n.sqr(c),i))throw new Error("Cannot find square root");return c}}if(t%cF===uF){const e=(t-uF)/cF;return function(n,i){const c=n.mul(i,wh),m=n.pow(c,e),s=n.mul(i,m),g=n.mul(n.mul(s,wh),m),r=n.mul(s,n.sub(g,n.ONE));if(!n.eql(n.sqr(r),i))throw new Error("Cannot find square root");return r}}return Rxe(t)}const Mxe=(t,e)=>(kr(t,e)&mr)===mr,$xe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Fxe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=$xe.reduce((i,c)=>(i[c]="function",i),e);return C7(t,n)}function Lxe(t,e,n){if(n<ni)throw new Error("invalid exponent, negatives unsupported");if(n===ni)return t.ONE;if(n===mr)return e;let i=t.ONE,c=e;for(;n>ni;)n&mr&&(i=t.mul(i,c)),c=t.sqr(c),n>>=mr;return i}function Dxe(t,e){const n=new Array(e.length),i=e.reduce((m,s,g)=>t.is0(s)?m:(n[g]=m,t.mul(m,s)),t.ONE),c=t.inv(i);return e.reduceRight((m,s,g)=>t.is0(s)?m:(n[g]=t.mul(m,n[g]),t.mul(m,s)),c),n}function wV(t,e){const n=e!==void 0?e:t.toString(2).length,i=Math.ceil(n/8);return{nBitLength:n,nByteLength:i}}function xV(t,e,n=!1,i={}){if(t<=ni)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:c,nByteLength:m}=wV(t,e);if(m>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let s;const g=Object.freeze({ORDER:t,isLE:n,BITS:c,BYTES:m,MASK:Txe(c),ZERO:ni,ONE:mr,create:r=>kr(r,t),isValid:r=>{if(typeof r!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof r);return ni<=r&&r<t},is0:r=>r===ni,isOdd:r=>(r&mr)===mr,neg:r=>kr(-r,t),eql:(r,a)=>r===a,sqr:r=>kr(r*r,t),add:(r,a)=>kr(r+a,t),sub:(r,a)=>kr(r-a,t),mul:(r,a)=>kr(r*a,t),pow:(r,a)=>Lxe(g,r,a),div:(r,a)=>kr(r*hF(a,t),t),sqrN:r=>r*r,addN:(r,a)=>r+a,subN:(r,a)=>r-a,mulN:(r,a)=>r*a,inv:r=>hF(r,t),sqrt:i.sqrt||(r=>(s||(s=Oxe(t)),s(g,r))),invertBatch:r=>Dxe(g,r),cmov:(r,a,v)=>v?a:r,toBytes:r=>n?ZC(r,m):yV(r,m),fromBytes:r=>{if(r.length!==m)throw new Error("Field.fromBytes: expected "+m+" bytes, got "+r.length);return n?J2(r):Exe(r)}});return Object.freeze(g)}const dF=BigInt(0),t2=BigInt(1);function j6(t,e){const n=e.negate();return t?n:e}function bV(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function z6(t,e){bV(t,e);const n=Math.ceil(e/t)+1,i=2**(t-1);return{windows:n,windowSize:i}}function Nxe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,i)=>{if(!(n instanceof e))throw new Error("invalid point at index "+i)})}function kxe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,i)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+i)})}const W6=new WeakMap,EV=new WeakMap;function G6(t){return EV.get(t)||1}function Bxe(t,e){return{constTimeNegate:j6,hasPrecomputes(n){return G6(n)!==1},unsafeLadder(n,i,c=t.ZERO){let m=n;for(;i>dF;)i&t2&&(c=c.add(m)),m=m.double(),i>>=t2;return c},precomputeWindow(n,i){const{windows:c,windowSize:m}=z6(i,e),s=[];let g=n,r=g;for(let a=0;a<c;a++){r=g,s.push(r);for(let v=1;v<m;v++)r=r.add(g),s.push(r);g=r.double()}return s},wNAF(n,i,c){const{windows:m,windowSize:s}=z6(n,e);let g=t.ZERO,r=t.BASE;const a=BigInt(2**n-1),v=2**n,h=BigInt(n);for(let u=0;u<m;u++){const l=u*s;let o=Number(c&a);c>>=h,o>s&&(o-=v,c+=t2);const d=l,p=l+Math.abs(o)-1,f=u%2!==0,y=o<0;o===0?r=r.add(j6(f,i[d])):g=g.add(j6(y,i[p]))}return{p:g,f:r}},wNAFUnsafe(n,i,c,m=t.ZERO){const{windows:s,windowSize:g}=z6(n,e),r=BigInt(2**n-1),a=2**n,v=BigInt(n);for(let h=0;h<s;h++){const u=h*g;if(c===dF)break;let l=Number(c&r);if(c>>=v,l>g&&(l-=a,c+=t2),l===0)continue;let o=i[u+Math.abs(l)-1];l<0&&(o=o.negate()),m=m.add(o)}return m},getPrecomputes(n,i,c){let m=W6.get(i);return m||(m=this.precomputeWindow(i,n),n!==1&&W6.set(i,c(m))),m},wNAFCached(n,i,c){const m=G6(n);return this.wNAF(m,this.getPrecomputes(m,n,c),i)},wNAFCachedUnsafe(n,i,c,m){const s=G6(n);return s===1?this.unsafeLadder(n,i,m):this.wNAFUnsafe(s,this.getPrecomputes(s,n,c),i,m)},setWindowSize(n,i){bV(i,e),EV.set(n,i),W6.delete(n)}}}function Uxe(t,e,n,i){if(Nxe(n,t),kxe(i,e),n.length!==i.length)throw new Error("arrays of points and scalars must have equal length");const c=t.ZERO,m=Sxe(BigInt(n.length)),s=m>12?m-3:m>4?m-2:m?2:1,g=(1<<s)-1,r=new Array(g+1).fill(c),a=Math.floor((e.BITS-1)/s)*s;let v=c;for(let h=a;h>=0;h-=s){r.fill(c);for(let l=0;l<i.length;l++){const o=i[l],d=Number(o>>BigInt(h)&BigInt(g));r[d]=r[d].add(n[l])}let u=c;for(let l=r.length-1,o=c;l>0;l--)o=o.add(r[l]),u=u.add(o);if(v=v.add(u),h!==0)for(let l=0;l<s;l++)v=v.double()}return v}function jxe(t){return Fxe(t.Fp),C7(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...wV(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const Xa=BigInt(0),is=BigInt(1),n2=BigInt(2),zxe=BigInt(8),Wxe={zip215:!0};function Gxe(t){const e=jxe(t);return C7(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function Vxe(t){const e=Gxe(t),{Fp:n,n:i,prehash:c,hash:m,randomBytes:s,nByteLength:g,h:r}=e,a=n2<<BigInt(g*8)-is,v=n.create,h=xV(e.n,e.nBitLength),u=e.uvRatio||(($,F)=>{try{return{isValid:!0,value:n.sqrt($*n.inv(F))}}catch{return{isValid:!1,value:Xa}}}),l=e.adjustScalarBytes||($=>$),o=e.domain||(($,F,N)=>{if(B6("phflag",N),F.length||N)throw new Error("Contexts/pre-hash are not supported");return $});function d($,F){yv("coordinate "+$,F,Xa,a)}function p($){if(!($ instanceof w))throw new Error("ExtendedPoint expected")}const f=lF(($,F)=>{const{ex:N,ey:k,ez:j}=$,W=$.is0();F==null&&(F=W?zxe:n.inv(j));const G=v(N*F),K=v(k*F),z=v(j*F);if(W)return{x:Xa,y:is};if(z!==is)throw new Error("invZ was invalid");return{x:G,y:K}}),y=lF($=>{const{a:F,d:N}=e;if($.is0())throw new Error("bad point: ZERO");const{ex:k,ey:j,ez:W,et:G}=$,K=v(k*k),z=v(j*j),X=v(W*W),U=v(X*X),Z=v(K*F),V=v(X*v(Z+z)),J=v(U+v(N*v(K*z)));if(V!==J)throw new Error("bad point: equation left != right (1)");const Q=v(k*j),ee=v(W*G);if(Q!==ee)throw new Error("bad point: equation left != right (2)");return!0});class w{constructor(F,N,k,j){this.ex=F,this.ey=N,this.ez=k,this.et=j,d("x",F),d("y",N),d("z",k),d("t",j),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(F){if(F instanceof w)throw new Error("extended point not allowed");const{x:N,y:k}=F||{};return d("x",N),d("y",k),new w(N,k,is,v(N*k))}static normalizeZ(F){const N=n.invertBatch(F.map(k=>k.ez));return F.map((k,j)=>k.toAffine(N[j])).map(w.fromAffine)}static msm(F,N){return Uxe(w,h,F,N)}_setWindowSize(F){E.setWindowSize(this,F)}assertValidity(){y(this)}equals(F){p(F);const{ex:N,ey:k,ez:j}=this,{ex:W,ey:G,ez:K}=F,z=v(N*K),X=v(W*j),U=v(k*K),Z=v(G*j);return z===X&&U===Z}is0(){return this.equals(w.ZERO)}negate(){return new w(v(-this.ex),this.ey,this.ez,v(-this.et))}double(){const{a:F}=e,{ex:N,ey:k,ez:j}=this,W=v(N*N),G=v(k*k),K=v(n2*v(j*j)),z=v(F*W),X=N+k,U=v(v(X*X)-W-G),Z=z+G,V=Z-K,J=z-G,Q=v(U*V),ee=v(Z*J),te=v(U*J),ie=v(V*Z);return new w(Q,ee,ie,te)}add(F){p(F);const{a:N,d:k}=e,{ex:j,ey:W,ez:G,et:K}=this,{ex:z,ey:X,ez:U,et:Z}=F;if(N===BigInt(-1)){const Ce=v((W-j)*(X+z)),Ie=v((W+j)*(X-z)),je=v(Ie-Ce);if(je===Xa)return this.double();const Re=v(G*n2*Z),Fe=v(K*n2*U),Ae=Fe+Re,Xe=Ie+Ce,st=Fe-Re,vt=v(Ae*je),Ge=v(Xe*st),nt=v(Ae*st),St=v(je*Xe);return new w(vt,Ge,St,nt)}const V=v(j*z),J=v(W*X),Q=v(K*k*Z),ee=v(G*U),te=v((j+W)*(z+X)-V-J),ie=ee-Q,le=ee+Q,de=v(J-N*V),fe=v(te*ie),oe=v(le*de),Ee=v(te*de),ye=v(ie*le);return new w(fe,oe,ye,Ee)}subtract(F){return this.add(F.negate())}wNAF(F){return E.wNAFCached(this,F,w.normalizeZ)}multiply(F){const N=F;yv("scalar",N,is,i);const{p:k,f:j}=this.wNAF(N);return w.normalizeZ([k,j])[0]}multiplyUnsafe(F,N=w.ZERO){const k=F;return yv("scalar",k,Xa,i),k===Xa?b:this.is0()||k===is?this:E.wNAFCachedUnsafe(this,k,w.normalizeZ,N)}isSmallOrder(){return this.multiplyUnsafe(r).is0()}isTorsionFree(){return E.unsafeLadder(this,i).is0()}toAffine(F){return f(this,F)}clearCofactor(){const{h:F}=e;return F===is?this:this.multiplyUnsafe(F)}static fromHex(F,N=!1){const{d:k,a:j}=e,W=n.BYTES;F=jl("pointHex",F,W),B6("zip215",N);const G=F.slice(),K=F[W-1];G[W-1]=K&-129;const z=J2(G),X=N?a:n.ORDER;yv("pointHex.y",z,Xa,X);const U=v(z*z),Z=v(U-is),V=v(k*U-j);let{isValid:J,value:Q}=u(Z,V);if(!J)throw new Error("Point.fromHex: invalid y coordinate");const ee=(Q&is)===is,te=(K&128)!==0;if(!N&&Q===Xa&&te)throw new Error("Point.fromHex: x=0 and x_0=1");return te!==ee&&(Q=v(-Q)),w.fromAffine({x:Q,y:z})}static fromPrivateKey(F){return S(F).point}toRawBytes(){const{x:F,y:N}=this.toAffine(),k=ZC(N,n.BYTES);return k[k.length-1]|=F&is?128:0,k}toHex(){return E7(this.toRawBytes())}}w.BASE=new w(e.Gx,e.Gy,is,v(e.Gx*e.Gy)),w.ZERO=new w(Xa,is,is,Xa);const{BASE:x,ZERO:b}=w,E=Bxe(w,g*8);function C($){return kr($,i)}function T($){return C(J2($))}function S($){const F=n.BYTES;$=jl("private key",$,F);const N=jl("hashed private key",m($),2*F),k=l(N.slice(0,F)),j=N.slice(F,2*F),W=T(k),G=x.multiply(W),K=G.toRawBytes();return{head:k,prefix:j,scalar:W,point:G,pointBytes:K}}function A($){return S($).pointBytes}function P($=new Uint8Array,...F){const N=oF(...F);return T(m(o(N,jl("context",$),!!c)))}function R($,F,N={}){$=jl("message",$),c&&($=c($));const{prefix:k,scalar:j,pointBytes:W}=S(F),G=P(N.context,k,$),K=x.multiply(G).toRawBytes(),z=P(N.context,K,W,$),X=C(G+z*j);yv("signature.s",X,Xa,i);const U=oF(K,ZC(X,n.BYTES));return jl("result",U,n.BYTES*2)}const L=Wxe;function D($,F,N,k=L){const{context:j,zip215:W}=k,G=n.BYTES;$=jl("signature",$,2*G),F=jl("message",F),N=jl("publicKey",N,G),W!==void 0&&B6("zip215",W),c&&(F=c(F));const K=J2($.slice(G,2*G));let z,X,U;try{z=w.fromHex(N,W),X=w.fromHex($.slice(0,G),W),U=x.multiplyUnsafe(K)}catch{return!1}if(!W&&z.isSmallOrder())return!1;const Z=P(j,X.toRawBytes(),z.toRawBytes(),F);return X.add(z.multiplyUnsafe(Z)).subtract(U).clearCofactor().equals(w.ZERO)}return x._setWindowSize(8),{CURVE:e,getPublicKey:A,sign:R,verify:D,ExtendedPoint:w,utils:{getExtendedPublicKey:S,randomPrivateKey:()=>s(n.BYTES),precompute($=8,F=w.BASE){return F._setWindowSize($),F.multiply(BigInt(3)),F}}}}BigInt(0),BigInt(1);const S7=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),fF=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Hxe=BigInt(1),pF=BigInt(2);BigInt(3);const Yxe=BigInt(5),Xxe=BigInt(8);function Kxe(t){const e=BigInt(10),n=BigInt(20),i=BigInt(40),c=BigInt(80),m=S7,s=t*t%m*t%m,g=Vo(s,pF,m)*s%m,r=Vo(g,Hxe,m)*t%m,a=Vo(r,Yxe,m)*r%m,v=Vo(a,e,m)*a%m,h=Vo(v,n,m)*v%m,u=Vo(h,i,m)*h%m,l=Vo(u,c,m)*u%m,o=Vo(l,c,m)*u%m,d=Vo(o,e,m)*a%m;return{pow_p_5_8:Vo(d,pF,m)*t%m,b2:s}}function Zxe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function Jxe(t,e){const n=S7,i=kr(e*e*e,n),c=kr(i*i*e,n),m=Kxe(t*c).pow_p_5_8;let s=kr(t*i*m,n);const g=kr(e*s*s,n),r=s,a=kr(s*fF,n),v=g===t,h=g===kr(-t,n),u=g===kr(-t*fF,n);return v&&(s=r),(h||u)&&(s=a),Mxe(s,n)&&(s=kr(-s,n)),{isValid:v||h,value:s}}const _xe=xV(S7,void 0,!0),Qxe={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:_xe,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Xxe,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:wxe,randomBytes:fV,adjustScalarBytes:Zxe,uvRatio:Jxe},CV=Vxe(Qxe),qxe="EdDSA",e3e="JWT",Vw=".",y3="base64url",SV="utf8",TV="utf8",t3e=":",n3e="did",r3e="key",vF="base58btc",i3e="z",s3e="K36",a3e=32;function T7(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function AV(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?T7(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function PV(t,e){e||(e=t.reduce((c,m)=>c+m.length,0));const n=AV(e);let i=0;for(const c of t)n.set(c,i),i+=c.length;return T7(n)}function o3e(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var c=0;c<t.length;c++){var m=t.charAt(c),s=m.charCodeAt(0);if(n[s]!==255)throw new TypeError(m+" is ambiguous");n[s]=c}var g=t.length,r=t.charAt(0),a=Math.log(g)/Math.log(256),v=Math.log(256)/Math.log(g);function h(o){if(o instanceof Uint8Array||(ArrayBuffer.isView(o)?o=new Uint8Array(o.buffer,o.byteOffset,o.byteLength):Array.isArray(o)&&(o=Uint8Array.from(o))),!(o instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(o.length===0)return"";for(var d=0,p=0,f=0,y=o.length;f!==y&&o[f]===0;)f++,d++;for(var w=(y-f)*v+1>>>0,x=new Uint8Array(w);f!==y;){for(var b=o[f],E=0,C=w-1;(b!==0||E<p)&&C!==-1;C--,E++)b+=256*x[C]>>>0,x[C]=b%g>>>0,b=b/g>>>0;if(b!==0)throw new Error("Non-zero carry");p=E,f++}for(var T=w-p;T!==w&&x[T]===0;)T++;for(var S=r.repeat(d);T<w;++T)S+=t.charAt(x[T]);return S}function u(o){if(typeof o!="string")throw new TypeError("Expected String");if(o.length===0)return new Uint8Array;var d=0;if(o[d]!==" "){for(var p=0,f=0;o[d]===r;)p++,d++;for(var y=(o.length-d)*a+1>>>0,w=new Uint8Array(y);o[d];){var x=n[o.charCodeAt(d)];if(x===255)return;for(var b=0,E=y-1;(x!==0||b<f)&&E!==-1;E--,b++)x+=g*w[E]>>>0,w[E]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");f=b,d++}if(o[d]!==" "){for(var C=y-f;C!==y&&w[C]===0;)C++;for(var T=new Uint8Array(p+(y-C)),S=p;C!==y;)T[S++]=w[C++];return T}}}function l(o){var d=u(o);if(d)return d;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:u,decode:l}}var l3e=o3e,u3e=l3e;const IV=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},c3e=t=>new TextEncoder().encode(t),h3e=t=>new TextDecoder().decode(t);let d3e=class{constructor(e,n,i){this.name=e,this.prefix=n,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},f3e=class{constructor(e,n,i){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return RV(this,e)}},p3e=class{constructor(e){this.decoders=e}or(e){return RV(this,e)}decode(e){const n=e[0],i=this.decoders[n];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const RV=(t,e)=>new p3e({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let v3e=class{constructor(e,n,i,c){this.name=e,this.prefix=n,this.baseEncode=i,this.baseDecode=c,this.encoder=new d3e(e,n,i),this.decoder=new f3e(e,n,c)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const w3=({name:t,prefix:e,encode:n,decode:i})=>new v3e(t,e,n,i),a1=({prefix:t,name:e,alphabet:n})=>{const{encode:i,decode:c}=u3e(n,e);return w3({prefix:t,name:e,encode:i,decode:m=>IV(c(m))})},g3e=(t,e,n,i)=>{const c={};for(let v=0;v<e.length;++v)c[e[v]]=v;let m=t.length;for(;t[m-1]==="=";)--m;const s=new Uint8Array(m*n/8|0);let g=0,r=0,a=0;for(let v=0;v<m;++v){const h=c[t[v]];if(h===void 0)throw new SyntaxError(`Non-${i} character`);r=r<<n|h,g+=n,g>=8&&(g-=8,s[a++]=255&r>>g)}if(g>=n||255&r<<8-g)throw new SyntaxError("Unexpected end of data");return s},m3e=(t,e,n)=>{const i=e[e.length-1]==="=",c=(1<<n)-1;let m="",s=0,g=0;for(let r=0;r<t.length;++r)for(g=g<<8|t[r],s+=8;s>n;)s-=n,m+=e[c&g>>s];if(s&&(m+=e[c&g<<n-s]),i)for(;m.length*n&7;)m+="=";return m},vi=({name:t,prefix:e,bitsPerChar:n,alphabet:i})=>w3({prefix:e,name:t,encode(c){return m3e(c,i,n)},decode(c){return g3e(c,i,n,t)}}),y3e=w3({prefix:"\0",name:"identity",encode:t=>h3e(t),decode:t=>c3e(t)});var w3e=Object.freeze({__proto__:null,identity:y3e});const x3e=vi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var b3e=Object.freeze({__proto__:null,base2:x3e});const E3e=vi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var C3e=Object.freeze({__proto__:null,base8:E3e});const S3e=a1({prefix:"9",name:"base10",alphabet:"0123456789"});var T3e=Object.freeze({__proto__:null,base10:S3e});const A3e=vi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),P3e=vi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var I3e=Object.freeze({__proto__:null,base16:A3e,base16upper:P3e});const R3e=vi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),O3e=vi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),M3e=vi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),$3e=vi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),F3e=vi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),L3e=vi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),D3e=vi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),N3e=vi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),k3e=vi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var B3e=Object.freeze({__proto__:null,base32:R3e,base32upper:O3e,base32pad:M3e,base32padupper:$3e,base32hex:F3e,base32hexupper:L3e,base32hexpad:D3e,base32hexpadupper:N3e,base32z:k3e});const U3e=a1({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),j3e=a1({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var z3e=Object.freeze({__proto__:null,base36:U3e,base36upper:j3e});const W3e=a1({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),G3e=a1({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var V3e=Object.freeze({__proto__:null,base58btc:W3e,base58flickr:G3e});const H3e=vi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Y3e=vi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),X3e=vi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),K3e=vi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Z3e=Object.freeze({__proto__:null,base64:H3e,base64pad:Y3e,base64url:X3e,base64urlpad:K3e});const OV=Array.from(""),J3e=OV.reduce((t,e,n)=>(t[n]=e,t),[]),_3e=OV.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function Q3e(t){return t.reduce((e,n)=>(e+=J3e[n],e),"")}function q3e(t){const e=[];for(const n of t){const i=_3e[n.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(i)}return new Uint8Array(e)}const ebe=w3({prefix:"",name:"base256emoji",encode:Q3e,decode:q3e});var tbe=Object.freeze({__proto__:null,base256emoji:ebe}),nbe=MV,gF=128,rbe=-128,ibe=Math.pow(2,31);function MV(t,e,n){e=e||[],n=n||0;for(var i=n;t>=ibe;)e[n++]=t&255|gF,t/=128;for(;t&rbe;)e[n++]=t&255|gF,t>>>=7;return e[n]=t|0,MV.bytes=n-i+1,e}var sbe=_C,abe=128,mF=127;function _C(t,i){var n=0,i=i||0,c=0,m=i,s,g=t.length;do{if(m>=g)throw _C.bytes=0,new RangeError("Could not decode varint");s=t[m++],n+=c<28?(s&mF)<<c:(s&mF)*Math.pow(2,c),c+=7}while(s>=abe);return _C.bytes=m-i,n}var obe=Math.pow(2,7),lbe=Math.pow(2,14),ube=Math.pow(2,21),cbe=Math.pow(2,28),hbe=Math.pow(2,35),dbe=Math.pow(2,42),fbe=Math.pow(2,49),pbe=Math.pow(2,56),vbe=Math.pow(2,63),gbe=function(t){return t<obe?1:t<lbe?2:t<ube?3:t<cbe?4:t<hbe?5:t<dbe?6:t<fbe?7:t<pbe?8:t<vbe?9:10},mbe={encode:nbe,decode:sbe,encodingLength:gbe},$V=mbe;const yF=(t,e,n=0)=>($V.encode(t,e,n),e),wF=t=>$V.encodingLength(t),QC=(t,e)=>{const n=e.byteLength,i=wF(t),c=i+wF(n),m=new Uint8Array(c+n);return yF(t,m,0),yF(n,m,i),m.set(e,c),new ybe(t,n,e,m)};let ybe=class{constructor(e,n,i,c){this.code=e,this.size=n,this.digest=i,this.bytes=c}};const FV=({name:t,code:e,encode:n})=>new wbe(t,e,n);let wbe=class{constructor(e,n,i){this.name=e,this.code=n,this.encode=i}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?QC(this.code,n):n.then(i=>QC(this.code,i))}else throw Error("Unknown type, must be binary type")}};const LV=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),xbe=FV({name:"sha2-256",code:18,encode:LV("SHA-256")}),bbe=FV({name:"sha2-512",code:19,encode:LV("SHA-512")});var Ebe=Object.freeze({__proto__:null,sha256:xbe,sha512:bbe});const DV=0,Cbe="identity",NV=IV,Sbe=t=>QC(DV,NV(t)),Tbe={code:DV,name:Cbe,encode:NV,digest:Sbe};var Abe=Object.freeze({__proto__:null,identity:Tbe});new TextEncoder,new TextDecoder;const xF={...w3e,...b3e,...C3e,...T3e,...I3e,...B3e,...z3e,...V3e,...Z3e,...tbe};({...Ebe,...Abe});function kV(t,e,n,i){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:i}}}const bF=kV("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),V6=kV("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=AV(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),BV={utf8:bF,"utf-8":bF,hex:xF.base16,latin1:V6,ascii:V6,binary:V6,...xF};function x3(t,e="utf8"){const n=BV[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function m0(t,e="utf8"){const n=BV[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?T7(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function EF(t){return id(x3(m0(t,y3),SV))}function Hw(t){return x3(m0(mu(t),SV),y3)}function UV(t){const e=m0(s3e,vF),n=i3e+x3(PV([e,t]),vF);return[n3e,r3e,n].join(t3e)}function Pbe(t){return x3(t,y3)}function Ibe(t){return m0(t,y3)}function Rbe(t){return m0([Hw(t.header),Hw(t.payload)].join(Vw),TV)}function Obe(t){return[Hw(t.header),Hw(t.payload),Pbe(t.signature)].join(Vw)}function qC(t){const e=t.split(Vw),n=EF(e[0]),i=EF(e[1]),c=Ibe(e[2]),m=m0(e.slice(0,2).join(Vw),TV);return{header:n,payload:i,signature:c,data:m}}function CF(t=fV(a3e)){const e=CV.getPublicKey(t);return{secretKey:PV([t,e]),publicKey:e}}async function Mbe(t,e,n,i,c=qe.fromMiliseconds(Date.now())){const m={alg:qxe,typ:e3e},s=UV(i.publicKey),g=c+n,r={iss:s,sub:t,aud:e,iat:c,exp:g},a=Rbe({header:m,payload:r}),v=CV.sign(a,i.secretKey.slice(0,32));return Obe({header:m,payload:r,signature:v})}function A7(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function jV(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?A7(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function rg(t,e){e||(e=t.reduce((c,m)=>c+m.length,0));const n=jV(e);let i=0;for(const c of t)n.set(c,i),i+=c.length;return A7(n)}function $be(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var c=0;c<t.length;c++){var m=t.charAt(c),s=m.charCodeAt(0);if(n[s]!==255)throw new TypeError(m+" is ambiguous");n[s]=c}var g=t.length,r=t.charAt(0),a=Math.log(g)/Math.log(256),v=Math.log(256)/Math.log(g);function h(o){if(o instanceof Uint8Array||(ArrayBuffer.isView(o)?o=new Uint8Array(o.buffer,o.byteOffset,o.byteLength):Array.isArray(o)&&(o=Uint8Array.from(o))),!(o instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(o.length===0)return"";for(var d=0,p=0,f=0,y=o.length;f!==y&&o[f]===0;)f++,d++;for(var w=(y-f)*v+1>>>0,x=new Uint8Array(w);f!==y;){for(var b=o[f],E=0,C=w-1;(b!==0||E<p)&&C!==-1;C--,E++)b+=256*x[C]>>>0,x[C]=b%g>>>0,b=b/g>>>0;if(b!==0)throw new Error("Non-zero carry");p=E,f++}for(var T=w-p;T!==w&&x[T]===0;)T++;for(var S=r.repeat(d);T<w;++T)S+=t.charAt(x[T]);return S}function u(o){if(typeof o!="string")throw new TypeError("Expected String");if(o.length===0)return new Uint8Array;var d=0;if(o[d]!==" "){for(var p=0,f=0;o[d]===r;)p++,d++;for(var y=(o.length-d)*a+1>>>0,w=new Uint8Array(y);o[d];){var x=n[o.charCodeAt(d)];if(x===255)return;for(var b=0,E=y-1;(x!==0||b<f)&&E!==-1;E--,b++)x+=g*w[E]>>>0,w[E]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");f=b,d++}if(o[d]!==" "){for(var C=y-f;C!==y&&w[C]===0;)C++;for(var T=new Uint8Array(p+(y-C)),S=p;C!==y;)T[S++]=w[C++];return T}}}function l(o){var d=u(o);if(d)return d;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:u,decode:l}}var Fbe=$be,Lbe=Fbe;const Dbe=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Nbe=t=>new TextEncoder().encode(t),kbe=t=>new TextDecoder().decode(t);class Bbe{constructor(e,n,i){this.name=e,this.prefix=n,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Ube{constructor(e,n,i){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return zV(this,e)}}class jbe{constructor(e){this.decoders=e}or(e){return zV(this,e)}decode(e){const n=e[0],i=this.decoders[n];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const zV=(t,e)=>new jbe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class zbe{constructor(e,n,i,c){this.name=e,this.prefix=n,this.baseEncode=i,this.baseDecode=c,this.encoder=new Bbe(e,n,i),this.decoder=new Ube(e,n,c)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const b3=({name:t,prefix:e,encode:n,decode:i})=>new zbe(t,e,n,i),o1=({prefix:t,name:e,alphabet:n})=>{const{encode:i,decode:c}=Lbe(n,e);return b3({prefix:t,name:e,encode:i,decode:m=>Dbe(c(m))})},Wbe=(t,e,n,i)=>{const c={};for(let v=0;v<e.length;++v)c[e[v]]=v;let m=t.length;for(;t[m-1]==="=";)--m;const s=new Uint8Array(m*n/8|0);let g=0,r=0,a=0;for(let v=0;v<m;++v){const h=c[t[v]];if(h===void 0)throw new SyntaxError(`Non-${i} character`);r=r<<n|h,g+=n,g>=8&&(g-=8,s[a++]=255&r>>g)}if(g>=n||255&r<<8-g)throw new SyntaxError("Unexpected end of data");return s},Gbe=(t,e,n)=>{const i=e[e.length-1]==="=",c=(1<<n)-1;let m="",s=0,g=0;for(let r=0;r<t.length;++r)for(g=g<<8|t[r],s+=8;s>n;)s-=n,m+=e[c&g>>s];if(s&&(m+=e[c&g<<n-s]),i)for(;m.length*n&7;)m+="=";return m},gi=({name:t,prefix:e,bitsPerChar:n,alphabet:i})=>b3({prefix:e,name:t,encode(c){return Gbe(c,i,n)},decode(c){return Wbe(c,i,n,t)}}),Vbe=b3({prefix:"\0",name:"identity",encode:t=>kbe(t),decode:t=>Nbe(t)}),Hbe=Object.freeze(Object.defineProperty({__proto__:null,identity:Vbe},Symbol.toStringTag,{value:"Module"})),Ybe=gi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Xbe=Object.freeze(Object.defineProperty({__proto__:null,base2:Ybe},Symbol.toStringTag,{value:"Module"})),Kbe=gi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Zbe=Object.freeze(Object.defineProperty({__proto__:null,base8:Kbe},Symbol.toStringTag,{value:"Module"})),Jbe=o1({prefix:"9",name:"base10",alphabet:"0123456789"}),_be=Object.freeze(Object.defineProperty({__proto__:null,base10:Jbe},Symbol.toStringTag,{value:"Module"})),Qbe=gi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),qbe=gi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),e5e=Object.freeze(Object.defineProperty({__proto__:null,base16:Qbe,base16upper:qbe},Symbol.toStringTag,{value:"Module"})),t5e=gi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),n5e=gi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),r5e=gi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),i5e=gi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),s5e=gi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),a5e=gi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),o5e=gi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),l5e=gi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),u5e=gi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),c5e=Object.freeze(Object.defineProperty({__proto__:null,base32:t5e,base32hex:s5e,base32hexpad:o5e,base32hexpadupper:l5e,base32hexupper:a5e,base32pad:r5e,base32padupper:i5e,base32upper:n5e,base32z:u5e},Symbol.toStringTag,{value:"Module"})),h5e=o1({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),d5e=o1({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),f5e=Object.freeze(Object.defineProperty({__proto__:null,base36:h5e,base36upper:d5e},Symbol.toStringTag,{value:"Module"})),p5e=o1({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),v5e=o1({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),g5e=Object.freeze(Object.defineProperty({__proto__:null,base58btc:p5e,base58flickr:v5e},Symbol.toStringTag,{value:"Module"})),m5e=gi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),y5e=gi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),w5e=gi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),x5e=gi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),b5e=Object.freeze(Object.defineProperty({__proto__:null,base64:m5e,base64pad:y5e,base64url:w5e,base64urlpad:x5e},Symbol.toStringTag,{value:"Module"})),WV=Array.from(""),E5e=WV.reduce((t,e,n)=>(t[n]=e,t),[]),C5e=WV.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function S5e(t){return t.reduce((e,n)=>(e+=E5e[n],e),"")}function T5e(t){const e=[];for(const n of t){const i=C5e[n.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(i)}return new Uint8Array(e)}const A5e=b3({prefix:"",name:"base256emoji",encode:S5e,decode:T5e}),P5e=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:A5e},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const SF={...Hbe,...Xbe,...Zbe,..._be,...e5e,...c5e,...f5e,...g5e,...b5e,...P5e};function GV(t,e,n,i){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:i}}}const TF=GV("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),H6=GV("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=jV(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),VV={utf8:TF,"utf-8":TF,hex:SF.base16,latin1:H6,ascii:H6,binary:H6,...SF};function Ta(t,e="utf8"){const n=VV[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?A7(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function ws(t,e="utf8"){const n=VV[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const I5e={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var Y6,AF;function HV(){if(AF)return Y6;AF=1;const t="Input must be an string, Buffer or Uint8Array";function e(s){let g;if(s instanceof Uint8Array)g=s;else if(typeof s=="string")g=new TextEncoder().encode(s);else throw new Error(t);return g}function n(s){return Array.prototype.map.call(s,function(g){return(g<16?"0":"")+g.toString(16)}).join("")}function i(s){return(4294967296+s).toString(16).substring(1)}function c(s,g,r){let a=`
`+s+" = ";for(let v=0;v<g.length;v+=2){if(r===32)a+=i(g[v]).toUpperCase(),a+=" ",a+=i(g[v+1]).toUpperCase();else if(r===64)a+=i(g[v+1]).toUpperCase(),a+=i(g[v]).toUpperCase();else throw new Error("Invalid size "+r);v%6===4?a+=`
`+new Array(s.length+4).join(" "):v<g.length-2&&(a+=" ")}console.log(a)}function m(s,g,r){let a=new Date().getTime();const v=new Uint8Array(g);for(let u=0;u<g;u++)v[u]=u%256;const h=new Date().getTime();console.log("Generated random input in "+(h-a)+"ms"),a=h;for(let u=0;u<r;u++){const l=s(v),o=new Date().getTime(),d=o-a;a=o,console.log("Hashed in "+d+"ms: "+l.substring(0,20)+"..."),console.log(Math.round(g/(1<<20)/(d/1e3)*100)/100+" MB PER SECOND")}}return Y6={normalizeInput:e,toHex:n,debugPrint:c,testSpeed:m},Y6}var X6,PF;function R5e(){if(PF)return X6;PF=1;const t=HV();function e(f,y,w){const x=f[y]+f[w];let b=f[y+1]+f[w+1];x>=4294967296&&b++,f[y]=x,f[y+1]=b}function n(f,y,w,x){let b=f[y]+w;w<0&&(b+=4294967296);let E=f[y+1]+x;b>=4294967296&&E++,f[y]=b,f[y+1]=E}function i(f,y){return f[y]^f[y+1]<<8^f[y+2]<<16^f[y+3]<<24}function c(f,y,w,x,b,E){const C=a[b],T=a[b+1],S=a[E],A=a[E+1];e(r,f,y),n(r,f,C,T);let P=r[x]^r[f],R=r[x+1]^r[f+1];r[x]=R,r[x+1]=P,e(r,w,x),P=r[y]^r[w],R=r[y+1]^r[w+1],r[y]=P>>>24^R<<8,r[y+1]=R>>>24^P<<8,e(r,f,y),n(r,f,S,A),P=r[x]^r[f],R=r[x+1]^r[f+1],r[x]=P>>>16^R<<16,r[x+1]=R>>>16^P<<16,e(r,w,x),P=r[y]^r[w],R=r[y+1]^r[w+1],r[y]=R>>>31^P<<1,r[y+1]=P>>>31^R<<1}const m=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],g=new Uint8Array(s.map(function(f){return f*2})),r=new Uint32Array(32),a=new Uint32Array(32);function v(f,y){let w=0;for(w=0;w<16;w++)r[w]=f.h[w],r[w+16]=m[w];for(r[24]=r[24]^f.t,r[25]=r[25]^f.t/4294967296,y&&(r[28]=~r[28],r[29]=~r[29]),w=0;w<32;w++)a[w]=i(f.b,4*w);for(w=0;w<12;w++)c(0,8,16,24,g[w*16+0],g[w*16+1]),c(2,10,18,26,g[w*16+2],g[w*16+3]),c(4,12,20,28,g[w*16+4],g[w*16+5]),c(6,14,22,30,g[w*16+6],g[w*16+7]),c(0,10,20,30,g[w*16+8],g[w*16+9]),c(2,12,22,24,g[w*16+10],g[w*16+11]),c(4,14,16,26,g[w*16+12],g[w*16+13]),c(6,8,18,28,g[w*16+14],g[w*16+15]);for(w=0;w<16;w++)f.h[w]=f.h[w]^r[w]^r[w+16]}const h=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function u(f,y,w,x){if(f===0||f>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(y&&y.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(w&&w.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(x&&x.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const b={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:f};h.fill(0),h[0]=f,y&&(h[1]=y.length),h[2]=1,h[3]=1,w&&h.set(w,32),x&&h.set(x,48);for(let E=0;E<16;E++)b.h[E]=m[E]^i(h,E*4);return y&&(l(b,y),b.c=128),b}function l(f,y){for(let w=0;w<y.length;w++)f.c===128&&(f.t+=f.c,v(f,!1),f.c=0),f.b[f.c++]=y[w]}function o(f){for(f.t+=f.c;f.c<128;)f.b[f.c++]=0;v(f,!0);const y=new Uint8Array(f.outlen);for(let w=0;w<f.outlen;w++)y[w]=f.h[w>>2]>>8*(w&3);return y}function d(f,y,w,x,b){w=w||64,f=t.normalizeInput(f),x&&(x=t.normalizeInput(x)),b&&(b=t.normalizeInput(b));const E=u(w,y,x,b);return l(E,f),o(E)}function p(f,y,w,x,b){const E=d(f,y,w,x,b);return t.toHex(E)}return X6={blake2b:d,blake2bHex:p,blake2bInit:u,blake2bUpdate:l,blake2bFinal:o},X6}var K6,IF;function O5e(){if(IF)return K6;IF=1;const t=HV();function e(o,d){return o[d]^o[d+1]<<8^o[d+2]<<16^o[d+3]<<24}function n(o,d,p,f,y,w){s[o]=s[o]+s[d]+y,s[f]=i(s[f]^s[o],16),s[p]=s[p]+s[f],s[d]=i(s[d]^s[p],12),s[o]=s[o]+s[d]+w,s[f]=i(s[f]^s[o],8),s[p]=s[p]+s[f],s[d]=i(s[d]^s[p],7)}function i(o,d){return o>>>d^o<<32-d}const c=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),m=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),s=new Uint32Array(16),g=new Uint32Array(16);function r(o,d){let p=0;for(p=0;p<8;p++)s[p]=o.h[p],s[p+8]=c[p];for(s[12]^=o.t,s[13]^=o.t/4294967296,d&&(s[14]=~s[14]),p=0;p<16;p++)g[p]=e(o.b,4*p);for(p=0;p<10;p++)n(0,4,8,12,g[m[p*16+0]],g[m[p*16+1]]),n(1,5,9,13,g[m[p*16+2]],g[m[p*16+3]]),n(2,6,10,14,g[m[p*16+4]],g[m[p*16+5]]),n(3,7,11,15,g[m[p*16+6]],g[m[p*16+7]]),n(0,5,10,15,g[m[p*16+8]],g[m[p*16+9]]),n(1,6,11,12,g[m[p*16+10]],g[m[p*16+11]]),n(2,7,8,13,g[m[p*16+12]],g[m[p*16+13]]),n(3,4,9,14,g[m[p*16+14]],g[m[p*16+15]]);for(p=0;p<8;p++)o.h[p]^=s[p]^s[p+8]}function a(o,d){if(!(o>0&&o<=32))throw new Error("Incorrect output length, should be in [1, 32]");const p=d?d.length:0;if(d&&!(p>0&&p<=32))throw new Error("Incorrect key length, should be in [1, 32]");const f={h:new Uint32Array(c),b:new Uint8Array(64),c:0,t:0,outlen:o};return f.h[0]^=16842752^p<<8^o,p>0&&(v(f,d),f.c=64),f}function v(o,d){for(let p=0;p<d.length;p++)o.c===64&&(o.t+=o.c,r(o,!1),o.c=0),o.b[o.c++]=d[p]}function h(o){for(o.t+=o.c;o.c<64;)o.b[o.c++]=0;r(o,!0);const d=new Uint8Array(o.outlen);for(let p=0;p<o.outlen;p++)d[p]=o.h[p>>2]>>8*(p&3)&255;return d}function u(o,d,p){p=p||32,o=t.normalizeInput(o);const f=a(p,d);return v(f,o),h(f)}function l(o,d,p){const f=u(o,d,p);return t.toHex(f)}return K6={blake2s:u,blake2sHex:l,blake2sInit:a,blake2sUpdate:v,blake2sFinal:h},K6}var Z6,RF;function M5e(){if(RF)return Z6;RF=1;const t=R5e(),e=O5e();return Z6={blake2b:t.blake2b,blake2bHex:t.blake2bHex,blake2bInit:t.blake2bInit,blake2bUpdate:t.blake2bUpdate,blake2bFinal:t.blake2bFinal,blake2s:e.blake2s,blake2sHex:e.blake2sHex,blake2sInit:e.blake2sInit,blake2sUpdate:e.blake2sUpdate,blake2sFinal:e.blake2sFinal},Z6}var $5e=M5e(),F5e={};const L5e=":";function Gh(t){const[e,n]=t.split(L5e);return{namespace:e,reference:n}}function OF(t,e=[]){const n=[];return Object.keys(t).forEach(i=>{if(e.length&&!e.includes(i))return;const c=t[i];n.push(...c.accounts)}),n}function YV(t,e){return t.includes(":")?[t]:e.chains||[]}var D5e=Object.defineProperty,N5e=Object.defineProperties,k5e=Object.getOwnPropertyDescriptors,MF=Object.getOwnPropertySymbols,B5e=Object.prototype.hasOwnProperty,U5e=Object.prototype.propertyIsEnumerable,eS=(t,e,n)=>e in t?D5e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$F=(t,e)=>{for(var n in e||(e={}))B5e.call(e,n)&&eS(t,n,e[n]);if(MF)for(var n of MF(e))U5e.call(e,n)&&eS(t,n,e[n]);return t},j5e=(t,e)=>N5e(t,k5e(e)),FF=(t,e,n)=>eS(t,typeof e!="symbol"?e+"":e,n);const z5e="ReactNative",Zs={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},W5e="js";function Yw(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Fc(){return!gu.getDocument()&&!!gu.getNavigator()&&navigator.product===z5e}function G5e(){return Fc()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function V5e(){return Fc()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function y0(){return!Yw()&&!!gu.getNavigator()&&!!gu.getDocument()}function l1(){return Fc()?Zs.reactNative:Yw()?Zs.node:y0()?Zs.browser:Zs.unknown}function LF(){var t;try{return Fc()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function H5e(t,e){const n=new URLSearchParams(t);for(const i of Object.keys(e).sort())if(e.hasOwnProperty(i)){const c=e[i];c!==void 0&&n.set(i,c)}return n.toString()}function Y5e(t){var e,n;const i=XV();try{return t!=null&&t.url&&i.url&&new URL(t.url).host!==new URL(i.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${i.url}. This is probably unintended and can lead to issues.`),t.url=i.url),(e=t?.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(c=>c!=="")),j5e($F($F({},i),t),{url:t?.url||i.url,name:t?.name||i.name,description:t?.description||i.description,icons:(n=t?.icons)!=null&&n.length&&t.icons.length>0?t.icons:i.icons})}catch(c){return console.warn("Error populating app metadata",c),t||i}}function XV(){return d2e.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function X5e(){if(l1()===Zs.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:i}=global.Platform;return[n,i].join("-")}const t=Oye();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function K5e(){var t;const e=l1();return e===Zs.browser?[e,((t=gu.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function KV(t,e,n){const i=X5e(),c=K5e();return[[t,e].join("-"),[W5e,n].join("-"),i,c].join("/")}function Z5e({protocol:t,version:e,relayUrl:n,sdkVersion:i,auth:c,projectId:m,useOnCloseEvent:s,bundleId:g,packageName:r}){const a=n.split("?"),v=KV(t,e,i),h={auth:c,ua:v,projectId:m,useOnCloseEvent:s,packageName:r||void 0,bundleId:g||void 0},u=H5e(a[1]||"",h);return a[0]+"?"+u}function Oh(t,e){return t.filter(n=>e.includes(n)).length===t.length}function tS(t){return Object.fromEntries(t.entries())}function nS(t){return new Map(Object.entries(t))}function vh(t=qe.FIVE_MINUTES,e){const n=qe.toMiliseconds(t||qe.FIVE_MINUTES);let i,c,m,s;return{resolve:g=>{m&&i&&(clearTimeout(m),i(g),s=Promise.resolve(g))},reject:g=>{m&&c&&(clearTimeout(m),c(g))},done:()=>new Promise((g,r)=>{if(s)return g(s);m=setTimeout(()=>{const a=new Error(e);s=Promise.reject(a),r(a)},n),i=g,c=r})}}function al(t,e,n){return new Promise(async(i,c)=>{const m=setTimeout(()=>c(new Error(n)),e);try{const s=await t;i(s)}catch(s){c(s)}clearTimeout(m)})}function ZV(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function J5e(t){return ZV("topic",t)}function _5e(t){return ZV("id",t)}function JV(t){const[e,n]=t.split(":"),i={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")i.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))i.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return i}function Nr(t,e){return qe.fromMiliseconds(Date.now()+qe.toMiliseconds(t))}function sc(t){return Date.now()>=qe.toMiliseconds(t)}function gn(t,e){return`${t}${e?`:${e}`:""}`}function cl(t=[],e=[]){return[...new Set([...t,...e])]}async function Q5e({id:t,topic:e,wcDeepLink:n}){var i;try{if(!n)return;const c=typeof n=="string"?JSON.parse(n):n,m=c?.href;if(typeof m!="string")return;const s=q5e(m,t,e),g=l1();if(g===Zs.browser){if(!((i=gu.getDocument())!=null&&i.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}e4e(s)}else g===Zs.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(s)}catch(c){console.error(c)}}function q5e(t,e,n){const i=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let c=`${t}`;if(t.startsWith("https://t.me")){const m=t.includes("?")?"&startapp=":"?startapp=";c=`${c}${m}${i4e(i,!0)}`}else c=`${c}/wc?${i}`;return c}function e4e(t){let e="_self";r4e()?e="_top":(n4e()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function t4e(t,e){let n="";try{if(y0()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(i){console.error(i)}return n}function DF(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),i=n.indexOf(e);return n[i+2]}function NF(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function P7(){return typeof process<"u"&&F5e.IS_VITEST==="true"}function n4e(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function r4e(){try{return window.self!==window.top}catch{return!1}}function i4e(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function _V(t){return Buffer.from(t,"base64").toString("utf-8")}function s4e(t){return new Promise(e=>setTimeout(e,t))}let a4e=class{constructor({limit:e}){FF(this,"limit"),FF(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(e)}}has(e){return this.set.has(e)}};const r2=BigInt(2**32-1),kF=BigInt(32);function QV(t,e=!1){return e?{h:Number(t&r2),l:Number(t>>kF&r2)}:{h:Number(t>>kF&r2)|0,l:Number(t&r2)|0}}function qV(t,e=!1){const n=t.length;let i=new Uint32Array(n),c=new Uint32Array(n);for(let m=0;m<n;m++){const{h:s,l:g}=QV(t[m],e);[i[m],c[m]]=[s,g]}return[i,c]}const BF=(t,e,n)=>t>>>n,UF=(t,e,n)=>t<<32-n|e>>>n,ac=(t,e,n)=>t>>>n|e<<32-n,oc=(t,e,n)=>t<<32-n|e>>>n,Gv=(t,e,n)=>t<<64-n|e>>>n-32,Vv=(t,e,n)=>t>>>n-32|e<<64-n,o4e=(t,e)=>e,l4e=(t,e)=>t,u4e=(t,e,n)=>t<<n|e>>>32-n,c4e=(t,e,n)=>e<<n|t>>>32-n,h4e=(t,e,n)=>e<<n-32|t>>>64-n,d4e=(t,e,n)=>t<<n-32|e>>>64-n;function eo(t,e,n,i){const c=(e>>>0)+(i>>>0);return{h:t+n+(c/2**32|0)|0,l:c|0}}const I7=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),R7=(t,e,n,i)=>e+n+i+(t/2**32|0)|0,f4e=(t,e,n,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(i>>>0),p4e=(t,e,n,i,c)=>e+n+i+c+(t/2**32|0)|0,v4e=(t,e,n,i,c)=>(t>>>0)+(e>>>0)+(n>>>0)+(i>>>0)+(c>>>0),g4e=(t,e,n,i,c,m)=>e+n+i+c+m+(t/2**32|0)|0,If=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function O7(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function yu(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Oa(t,...e){if(!O7(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function M7(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");yu(t.outputLen),yu(t.blockLen)}function Pc(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function $7(t,e){Oa(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function ym(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Ma(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function J6(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ho(t,e){return t<<32-e|t>>>e}const eH=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function tH(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const Yl=eH?t=>t:t=>tH(t);function m4e(t){for(let e=0;e<t.length;e++)t[e]=tH(t[e]);return t}const lc=eH?t=>t:m4e,nH=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",y4e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function wm(t){if(Oa(t),nH)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=y4e[t[n]];return e}const zl={_0:48,_9:57,A:65,F:70,a:97,f:102};function jF(t){if(t>=zl._0&&t<=zl._9)return t-zl._0;if(t>=zl.A&&t<=zl.F)return t-(zl.A-10);if(t>=zl.a&&t<=zl.f)return t-(zl.a-10)}function F7(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(nH)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const i=new Uint8Array(n);for(let c=0,m=0;c<n;c++,m+=2){const s=jF(t.charCodeAt(m)),g=jF(t.charCodeAt(m+1));if(s===void 0||g===void 0){const r=t[m]+t[m+1];throw new Error('hex string expected, got non-hex character "'+r+'" at index '+m)}i[c]=s*16+g}return i}function w4e(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function co(t){return typeof t=="string"&&(t=w4e(t)),Oa(t),t}function Mh(...t){let e=0;for(let i=0;i<t.length;i++){const c=t[i];Oa(c),e+=c.length}const n=new Uint8Array(e);for(let i=0,c=0;i<t.length;i++){const m=t[i];n.set(m,c),c+=m.length}return n}let E3=class{};function u1(t){const e=i=>t().update(co(i)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function x4e(t){const e=(i,c)=>t(c).update(co(i)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=i=>t(i),e}function w0(t=32){if(If&&typeof If.getRandomValues=="function")return If.getRandomValues(new Uint8Array(t));if(If&&typeof If.randomBytes=="function")return Uint8Array.from(If.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const b4e=BigInt(0),wv=BigInt(1),E4e=BigInt(2),C4e=BigInt(7),S4e=BigInt(256),T4e=BigInt(113),rH=[],iH=[],sH=[];for(let t=0,e=wv,n=1,i=0;t<24;t++){[n,i]=[i,(2*n+3*i)%5],rH.push(2*(5*i+n)),iH.push((t+1)*(t+2)/2%64);let c=b4e;for(let m=0;m<7;m++)e=(e<<wv^(e>>C4e)*T4e)%S4e,e&E4e&&(c^=wv<<(wv<<BigInt(m))-wv);sH.push(c)}const aH=qV(sH,!0),A4e=aH[0],P4e=aH[1],zF=(t,e,n)=>n>32?h4e(t,e,n):u4e(t,e,n),WF=(t,e,n)=>n>32?d4e(t,e,n):c4e(t,e,n);function I4e(t,e=24){const n=new Uint32Array(10);for(let i=24-e;i<24;i++){for(let s=0;s<10;s++)n[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const g=(s+8)%10,r=(s+2)%10,a=n[r],v=n[r+1],h=zF(a,v,1)^n[g],u=WF(a,v,1)^n[g+1];for(let l=0;l<50;l+=10)t[s+l]^=h,t[s+l+1]^=u}let c=t[2],m=t[3];for(let s=0;s<24;s++){const g=iH[s],r=zF(c,m,g),a=WF(c,m,g),v=rH[s];c=t[v],m=t[v+1],t[v]=r,t[v+1]=a}for(let s=0;s<50;s+=10){for(let g=0;g<10;g++)n[g]=t[s+g];for(let g=0;g<10;g++)t[s+g]^=~n[(g+2)%10]&n[(g+4)%10]}t[0]^=A4e[i],t[1]^=P4e[i]}Ma(n)}let R4e=class oH extends E3{constructor(e,n,i,c=!1,m=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=i,this.enableXOF=c,this.rounds=m,yu(i),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=ym(this.state)}clone(){return this._cloneInto()}keccak(){lc(this.state32),I4e(this.state32,this.rounds),lc(this.state32),this.posOut=0,this.pos=0}update(e){Pc(this),e=co(e),Oa(e);const{blockLen:n,state:i}=this,c=e.length;for(let m=0;m<c;){const s=Math.min(n-this.pos,c-m);for(let g=0;g<s;g++)i[this.pos++]^=e[m++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:i,blockLen:c}=this;e[i]^=n,(n&128)!==0&&i===c-1&&this.keccak(),e[c-1]^=128,this.keccak()}writeInto(e){Pc(this,!1),Oa(e),this.finish();const n=this.state,{blockLen:i}=this;for(let c=0,m=e.length;c<m;){this.posOut>=i&&this.keccak();const s=Math.min(i-this.posOut,m-c);e.set(n.subarray(this.posOut,this.posOut+s),c),this.posOut+=s,c+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return yu(e),this.xofInto(new Uint8Array(e))}digestInto(e){if($7(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Ma(this.state)}_cloneInto(e){const{blockLen:n,suffix:i,outputLen:c,rounds:m,enableXOF:s}=this;return e||(e=new oH(n,i,c,s,m)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=m,e.suffix=i,e.outputLen=c,e.enableXOF=s,e.destroyed=this.destroyed,e}};const O4e=(t,e,n)=>u1(()=>new R4e(e,t,n)),M4e=O4e(1,136,256/8);function $4e(t,e,n,i){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,i);const c=BigInt(32),m=BigInt(4294967295),s=Number(n>>c&m),g=Number(n&m),r=i?4:0,a=i?0:4;t.setUint32(e+r,s,i),t.setUint32(e+a,g,i)}function F4e(t,e,n){return t&e^~t&n}function L4e(t,e,n){return t&e^t&n^e&n}let lH=class extends E3{constructor(e,n,i,c){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=i,this.isLE=c,this.buffer=new Uint8Array(e),this.view=J6(this.buffer)}update(e){Pc(this),e=co(e),Oa(e);const{view:n,buffer:i,blockLen:c}=this,m=e.length;for(let s=0;s<m;){const g=Math.min(c-this.pos,m-s);if(g===c){const r=J6(e);for(;c<=m-s;s+=c)this.process(r,s);continue}i.set(e.subarray(s,s+g),this.pos),this.pos+=g,s+=g,this.pos===c&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Pc(this),$7(e,this),this.finished=!0;const{buffer:n,view:i,blockLen:c,isLE:m}=this;let{pos:s}=this;n[s++]=128,Ma(this.buffer.subarray(s)),this.padOffset>c-s&&(this.process(i,0),s=0);for(let h=s;h<c;h++)n[h]=0;$4e(i,c-8,BigInt(this.length*8),m),this.process(i,0);const g=J6(e),r=this.outputLen;if(r%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const a=r/4,v=this.get();if(a>v.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<a;h++)g.setUint32(4*h,v[h],m)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const i=e.slice(0,n);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:i,length:c,finished:m,destroyed:s,pos:g}=this;return e.destroyed=s,e.finished=m,e.length=c,e.pos=g,c%n&&e.buffer.set(i),e}clone(){return this._cloneInto()}};const Yu=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ci=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Si=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),D4e=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Xu=new Uint32Array(64);let N4e=class extends lH{constructor(e=32){super(64,e,8,!1),this.A=Yu[0]|0,this.B=Yu[1]|0,this.C=Yu[2]|0,this.D=Yu[3]|0,this.E=Yu[4]|0,this.F=Yu[5]|0,this.G=Yu[6]|0,this.H=Yu[7]|0}get(){const{A:e,B:n,C:i,D:c,E:m,F:s,G:g,H:r}=this;return[e,n,i,c,m,s,g,r]}set(e,n,i,c,m,s,g,r){this.A=e|0,this.B=n|0,this.C=i|0,this.D=c|0,this.E=m|0,this.F=s|0,this.G=g|0,this.H=r|0}process(e,n){for(let h=0;h<16;h++,n+=4)Xu[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const u=Xu[h-15],l=Xu[h-2],o=Ho(u,7)^Ho(u,18)^u>>>3,d=Ho(l,17)^Ho(l,19)^l>>>10;Xu[h]=d+Xu[h-7]+o+Xu[h-16]|0}let{A:i,B:c,C:m,D:s,E:g,F:r,G:a,H:v}=this;for(let h=0;h<64;h++){const u=Ho(g,6)^Ho(g,11)^Ho(g,25),l=v+u+F4e(g,r,a)+D4e[h]+Xu[h]|0,o=(Ho(i,2)^Ho(i,13)^Ho(i,22))+L4e(i,c,m)|0;v=a,a=r,r=g,g=s+l|0,s=m,m=c,c=i,i=l+o|0}i=i+this.A|0,c=c+this.B|0,m=m+this.C|0,s=s+this.D|0,g=g+this.E|0,r=r+this.F|0,a=a+this.G|0,v=v+this.H|0,this.set(i,c,m,s,g,r,a,v)}roundClean(){Ma(Xu)}destroy(){this.set(0,0,0,0,0,0,0,0),Ma(this.buffer)}};const uH=qV(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),k4e=uH[0],B4e=uH[1],Ku=new Uint32Array(80),Zu=new Uint32Array(80);let L7=class extends lH{constructor(e=64){super(128,e,16,!1),this.Ah=Si[0]|0,this.Al=Si[1]|0,this.Bh=Si[2]|0,this.Bl=Si[3]|0,this.Ch=Si[4]|0,this.Cl=Si[5]|0,this.Dh=Si[6]|0,this.Dl=Si[7]|0,this.Eh=Si[8]|0,this.El=Si[9]|0,this.Fh=Si[10]|0,this.Fl=Si[11]|0,this.Gh=Si[12]|0,this.Gl=Si[13]|0,this.Hh=Si[14]|0,this.Hl=Si[15]|0}get(){const{Ah:e,Al:n,Bh:i,Bl:c,Ch:m,Cl:s,Dh:g,Dl:r,Eh:a,El:v,Fh:h,Fl:u,Gh:l,Gl:o,Hh:d,Hl:p}=this;return[e,n,i,c,m,s,g,r,a,v,h,u,l,o,d,p]}set(e,n,i,c,m,s,g,r,a,v,h,u,l,o,d,p){this.Ah=e|0,this.Al=n|0,this.Bh=i|0,this.Bl=c|0,this.Ch=m|0,this.Cl=s|0,this.Dh=g|0,this.Dl=r|0,this.Eh=a|0,this.El=v|0,this.Fh=h|0,this.Fl=u|0,this.Gh=l|0,this.Gl=o|0,this.Hh=d|0,this.Hl=p|0}process(e,n){for(let w=0;w<16;w++,n+=4)Ku[w]=e.getUint32(n),Zu[w]=e.getUint32(n+=4);for(let w=16;w<80;w++){const x=Ku[w-15]|0,b=Zu[w-15]|0,E=ac(x,b,1)^ac(x,b,8)^BF(x,b,7),C=oc(x,b,1)^oc(x,b,8)^UF(x,b,7),T=Ku[w-2]|0,S=Zu[w-2]|0,A=ac(T,S,19)^Gv(T,S,61)^BF(T,S,6),P=oc(T,S,19)^Vv(T,S,61)^UF(T,S,6),R=f4e(C,P,Zu[w-7],Zu[w-16]),L=p4e(R,E,A,Ku[w-7],Ku[w-16]);Ku[w]=L|0,Zu[w]=R|0}let{Ah:i,Al:c,Bh:m,Bl:s,Ch:g,Cl:r,Dh:a,Dl:v,Eh:h,El:u,Fh:l,Fl:o,Gh:d,Gl:p,Hh:f,Hl:y}=this;for(let w=0;w<80;w++){const x=ac(h,u,14)^ac(h,u,18)^Gv(h,u,41),b=oc(h,u,14)^oc(h,u,18)^Vv(h,u,41),E=h&l^~h&d,C=u&o^~u&p,T=v4e(y,b,C,B4e[w],Zu[w]),S=g4e(T,f,x,E,k4e[w],Ku[w]),A=T|0,P=ac(i,c,28)^Gv(i,c,34)^Gv(i,c,39),R=oc(i,c,28)^Vv(i,c,34)^Vv(i,c,39),L=i&m^i&g^m&g,D=c&s^c&r^s&r;f=d|0,y=p|0,d=l|0,p=o|0,l=h|0,o=u|0,{h,l:u}=eo(a|0,v|0,S|0,A|0),a=g|0,v=r|0,g=m|0,r=s|0,m=i|0,s=c|0;const $=I7(A,R,D);i=R7($,S,P,L),c=$|0}({h:i,l:c}=eo(this.Ah|0,this.Al|0,i|0,c|0)),{h:m,l:s}=eo(this.Bh|0,this.Bl|0,m|0,s|0),{h:g,l:r}=eo(this.Ch|0,this.Cl|0,g|0,r|0),{h:a,l:v}=eo(this.Dh|0,this.Dl|0,a|0,v|0),{h,l:u}=eo(this.Eh|0,this.El|0,h|0,u|0),{h:l,l:o}=eo(this.Fh|0,this.Fl|0,l|0,o|0),{h:d,l:p}=eo(this.Gh|0,this.Gl|0,d|0,p|0),{h:f,l:y}=eo(this.Hh|0,this.Hl|0,f|0,y|0),this.set(i,c,m,s,g,r,a,v,h,u,l,o,d,p,f,y)}roundClean(){Ma(Ku,Zu)}destroy(){Ma(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},U4e=class extends L7{constructor(){super(48),this.Ah=Ci[0]|0,this.Al=Ci[1]|0,this.Bh=Ci[2]|0,this.Bl=Ci[3]|0,this.Ch=Ci[4]|0,this.Cl=Ci[5]|0,this.Dh=Ci[6]|0,this.Dl=Ci[7]|0,this.Eh=Ci[8]|0,this.El=Ci[9]|0,this.Fh=Ci[10]|0,this.Fl=Ci[11]|0,this.Gh=Ci[12]|0,this.Gl=Ci[13]|0,this.Hh=Ci[14]|0,this.Hl=Ci[15]|0}};const Ti=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);let j4e=class extends L7{constructor(){super(32),this.Ah=Ti[0]|0,this.Al=Ti[1]|0,this.Bh=Ti[2]|0,this.Bl=Ti[3]|0,this.Ch=Ti[4]|0,this.Cl=Ti[5]|0,this.Dh=Ti[6]|0,this.Dl=Ti[7]|0,this.Eh=Ti[8]|0,this.El=Ti[9]|0,this.Fh=Ti[10]|0,this.Fl=Ti[11]|0,this.Gh=Ti[12]|0,this.Gl=Ti[13]|0,this.Hh=Ti[14]|0,this.Hl=Ti[15]|0}};const C3=u1(()=>new N4e),z4e=u1(()=>new L7),W4e=u1(()=>new U4e),G4e=u1(()=>new j4e),V4e=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),$r=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),rt=new Uint32Array(32);function Ju(t,e,n,i,c,m){const s=c[m],g=c[m+1];let r=rt[2*t],a=rt[2*t+1],v=rt[2*e],h=rt[2*e+1],u=rt[2*n],l=rt[2*n+1],o=rt[2*i],d=rt[2*i+1],p=I7(r,v,s);a=R7(p,a,h,g),r=p|0,{Dh:d,Dl:o}={Dh:d^a,Dl:o^r},{Dh:d,Dl:o}={Dh:o4e(d,o),Dl:l4e(d)},{h:l,l:u}=eo(l,u,d,o),{Bh:h,Bl:v}={Bh:h^l,Bl:v^u},{Bh:h,Bl:v}={Bh:ac(h,v,24),Bl:oc(h,v,24)},rt[2*t]=r,rt[2*t+1]=a,rt[2*e]=v,rt[2*e+1]=h,rt[2*n]=u,rt[2*n+1]=l,rt[2*i]=o,rt[2*i+1]=d}function _u(t,e,n,i,c,m){const s=c[m],g=c[m+1];let r=rt[2*t],a=rt[2*t+1],v=rt[2*e],h=rt[2*e+1],u=rt[2*n],l=rt[2*n+1],o=rt[2*i],d=rt[2*i+1],p=I7(r,v,s);a=R7(p,a,h,g),r=p|0,{Dh:d,Dl:o}={Dh:d^a,Dl:o^r},{Dh:d,Dl:o}={Dh:ac(d,o,16),Dl:oc(d,o,16)},{h:l,l:u}=eo(l,u,d,o),{Bh:h,Bl:v}={Bh:h^l,Bl:v^u},{Bh:h,Bl:v}={Bh:Gv(h,v,63),Bl:Vv(h,v,63)},rt[2*t]=r,rt[2*t+1]=a,rt[2*e]=v,rt[2*e+1]=h,rt[2*n]=u,rt[2*n+1]=l,rt[2*i]=o,rt[2*i+1]=d}function H4e(t,e={},n,i,c){if(yu(n),t<0||t>n)throw new Error("outputLen bigger than keyLen");const{key:m,salt:s,personalization:g}=e;if(m!==void 0&&(m.length<1||m.length>n))throw new Error("key length must be undefined or 1.."+n);if(s!==void 0&&s.length!==i)throw new Error("salt must be undefined or "+i);if(g!==void 0&&g.length!==c)throw new Error("personalization must be undefined or "+c)}let Y4e=class extends E3{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,yu(e),yu(n),this.blockLen=e,this.outputLen=n,this.buffer=new Uint8Array(e),this.buffer32=ym(this.buffer)}update(e){Pc(this),e=co(e),Oa(e);const{blockLen:n,buffer:i,buffer32:c}=this,m=e.length,s=e.byteOffset,g=e.buffer;for(let r=0;r<m;){this.pos===n&&(lc(c),this.compress(c,0,!1),lc(c),this.pos=0);const a=Math.min(n-this.pos,m-r),v=s+r;if(a===n&&!(v%4)&&r+a<m){const h=new Uint32Array(g,v,Math.floor((m-r)/4));lc(h);for(let u=0;r+n<m;u+=c.length,r+=n)this.length+=n,this.compress(h,u,!1);lc(h);continue}i.set(e.subarray(r,r+a),this.pos),this.pos+=a,this.length+=a,r+=a}return this}digestInto(e){Pc(this),$7(e,this);const{pos:n,buffer32:i}=this;this.finished=!0,Ma(this.buffer.subarray(n)),lc(i),this.compress(i,0,!0),lc(i);const c=ym(e);this.get().forEach((m,s)=>c[s]=Yl(m))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const i=e.slice(0,n);return this.destroy(),i}_cloneInto(e){const{buffer:n,length:i,finished:c,destroyed:m,outputLen:s,pos:g}=this;return e||(e=new this.constructor({dkLen:s})),e.set(...this.get()),e.buffer.set(n),e.destroyed=m,e.finished=c,e.length=i,e.pos=g,e.outputLen=s,e}clone(){return this._cloneInto()}},X4e=class extends Y4e{constructor(e={}){const n=e.dkLen===void 0?64:e.dkLen;super(128,n),this.v0l=$r[0]|0,this.v0h=$r[1]|0,this.v1l=$r[2]|0,this.v1h=$r[3]|0,this.v2l=$r[4]|0,this.v2h=$r[5]|0,this.v3l=$r[6]|0,this.v3h=$r[7]|0,this.v4l=$r[8]|0,this.v4h=$r[9]|0,this.v5l=$r[10]|0,this.v5h=$r[11]|0,this.v6l=$r[12]|0,this.v6h=$r[13]|0,this.v7l=$r[14]|0,this.v7h=$r[15]|0,H4e(n,e,64,16,16);let{key:i,personalization:c,salt:m}=e,s=0;if(i!==void 0&&(i=co(i),s=i.length),this.v0l^=this.outputLen|s<<8|65536|1<<24,m!==void 0){m=co(m);const g=ym(m);this.v4l^=Yl(g[0]),this.v4h^=Yl(g[1]),this.v5l^=Yl(g[2]),this.v5h^=Yl(g[3])}if(c!==void 0){c=co(c);const g=ym(c);this.v6l^=Yl(g[0]),this.v6h^=Yl(g[1]),this.v7l^=Yl(g[2]),this.v7h^=Yl(g[3])}if(i!==void 0){const g=new Uint8Array(this.blockLen);g.set(i),this.update(g)}}get(){let{v0l:e,v0h:n,v1l:i,v1h:c,v2l:m,v2h:s,v3l:g,v3h:r,v4l:a,v4h:v,v5l:h,v5h:u,v6l:l,v6h:o,v7l:d,v7h:p}=this;return[e,n,i,c,m,s,g,r,a,v,h,u,l,o,d,p]}set(e,n,i,c,m,s,g,r,a,v,h,u,l,o,d,p){this.v0l=e|0,this.v0h=n|0,this.v1l=i|0,this.v1h=c|0,this.v2l=m|0,this.v2h=s|0,this.v3l=g|0,this.v3h=r|0,this.v4l=a|0,this.v4h=v|0,this.v5l=h|0,this.v5h=u|0,this.v6l=l|0,this.v6h=o|0,this.v7l=d|0,this.v7h=p|0}compress(e,n,i){this.get().forEach((r,a)=>rt[a]=r),rt.set($r,16);let{h:c,l:m}=QV(BigInt(this.length));rt[24]=$r[8]^m,rt[25]=$r[9]^c,i&&(rt[28]=~rt[28],rt[29]=~rt[29]);let s=0;const g=V4e;for(let r=0;r<12;r++)Ju(0,4,8,12,e,n+2*g[s++]),_u(0,4,8,12,e,n+2*g[s++]),Ju(1,5,9,13,e,n+2*g[s++]),_u(1,5,9,13,e,n+2*g[s++]),Ju(2,6,10,14,e,n+2*g[s++]),_u(2,6,10,14,e,n+2*g[s++]),Ju(3,7,11,15,e,n+2*g[s++]),_u(3,7,11,15,e,n+2*g[s++]),Ju(0,5,10,15,e,n+2*g[s++]),_u(0,5,10,15,e,n+2*g[s++]),Ju(1,6,11,12,e,n+2*g[s++]),_u(1,6,11,12,e,n+2*g[s++]),Ju(2,7,8,13,e,n+2*g[s++]),_u(2,7,8,13,e,n+2*g[s++]),Ju(3,4,9,14,e,n+2*g[s++]),_u(3,4,9,14,e,n+2*g[s++]);this.v0l^=rt[0]^rt[16],this.v0h^=rt[1]^rt[17],this.v1l^=rt[2]^rt[18],this.v1h^=rt[3]^rt[19],this.v2l^=rt[4]^rt[20],this.v2h^=rt[5]^rt[21],this.v3l^=rt[6]^rt[22],this.v3h^=rt[7]^rt[23],this.v4l^=rt[8]^rt[24],this.v4h^=rt[9]^rt[25],this.v5l^=rt[10]^rt[26],this.v5h^=rt[11]^rt[27],this.v6l^=rt[12]^rt[28],this.v6h^=rt[13]^rt[29],this.v7l^=rt[14]^rt[30],this.v7h^=rt[15]^rt[31],Ma(rt)}destroy(){this.destroyed=!0,Ma(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const K4e=x4e(t=>new X4e(t)),Z4e="https://rpc.walletconnect.org/v1";function cH(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(M4e(n)).toString("hex")}async function J4e(t,e,n,i,c,m){switch(n.t){case"eip191":return await _4e(t,e,n.s);case"eip1271":return await Q4e(t,e,n.s,i,c,m);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function _4e(t,e,n){return(await twe({hash:cH(e),signature:n})).toLowerCase()===t.toLowerCase()}async function Q4e(t,e,n,i,c,m){const s=Gh(i);if(!s.namespace||!s.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${i}`);try{const g="0x1626ba7e",r="0000000000000000000000000000000000000000000000000000000000000040",a=n.substring(2),v=(a.length/2).toString(16).padStart(64,"0"),h=(e.startsWith("0x")?e:cH(e)).substring(2),u=g+h+r+v+a,l=await fetch(`${m||Z4e}/?chainId=${i}&projectId=${c}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:q4e(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:u},"latest"]})}),{result:o}=await l.json();return o?o.slice(0,g.length).toLowerCase()===g.toLowerCase():!1}catch(g){return console.error("isValidEip1271Signature: ",g),!1}}function q4e(){return Date.now()+Math.floor(Math.random()*1e3)}function e6e(t){const e=atob(t),n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);const i=n[0];if(i===0)throw new Error("No signatures found");const c=1+i*64;if(n.length<c)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const m=Buffer.from(t,"base64").slice(1,65);return s1.encode(m)}function t6e(t){const e=new Uint8Array(Buffer.from(t,"base64")),n=Array.from("TransactionData::").map(m=>m.charCodeAt(0)),i=new Uint8Array(n.length+e.length);i.set(n),i.set(e,n.length);const c=K4e(i,{dkLen:32});return s1.encode(c)}function GF(t){const e=new Uint8Array(C3(n6e(t)));return s1.encode(e)}function n6e(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function VF(t){const e=Buffer.from(t,"base64"),n=Uwe(e).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const i=Owe(n),c=Buffer.from("TX"),m=Buffer.concat([c,Buffer.from(i)]),s=G4e(m);return zge.encode(s).replace(/=+$/,"")}function _6(t){const e=[];let n=BigInt(t);for(;n>=BigInt(128);)e.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return e.push(Number(n)),Buffer.from(e)}function r6e(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),n=Buffer.from(t.signed.authInfoBytes,"base64"),i=Buffer.from(t.signature.signature,"base64"),c=[];c.push(Buffer.from([10])),c.push(_6(e.length)),c.push(e),c.push(Buffer.from([18])),c.push(_6(n.length)),c.push(n),c.push(Buffer.from([26])),c.push(_6(i.length)),c.push(i);const m=Buffer.concat(c),s=C3(m);return Buffer.from(s).toString("hex").toUpperCase()}var i6e=Object.defineProperty,s6e=Object.defineProperties,a6e=Object.getOwnPropertyDescriptors,HF=Object.getOwnPropertySymbols,o6e=Object.prototype.hasOwnProperty,l6e=Object.prototype.propertyIsEnumerable,YF=(t,e,n)=>e in t?i6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,u6e=(t,e)=>{for(var n in e||(e={}))o6e.call(e,n)&&YF(t,n,e[n]);if(HF)for(var n of HF(e))l6e.call(e,n)&&YF(t,n,e[n]);return t},c6e=(t,e)=>s6e(t,a6e(e));const h6e="did:pkh:",D7=t=>t?.split(":"),d6e=t=>{const e=t&&D7(t);if(e)return t.includes(h6e)?e[3]:e[1]},rS=t=>{const e=t&&D7(t);if(e)return e[2]+":"+e[3]},Xw=t=>{const e=t&&D7(t);if(e)return e.pop()};async function XF(t){const{cacao:e,projectId:n}=t,{s:i,p:c}=e,m=hH(c,c.iss),s=Xw(c.iss);return await J4e(s,m,i,rS(c.iss),n)}const hH=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,i=Xw(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let c=t.statement||void 0;const m=`URI: ${t.aud||t.uri}`,s=`Version: ${t.version}`,g=`Chain ID: ${d6e(e)}`,r=`Nonce: ${t.nonce}`,a=`Issued At: ${t.iat}`,v=t.exp?`Expiration Time: ${t.exp}`:void 0,h=t.nbf?`Not Before: ${t.nbf}`:void 0,u=t.requestId?`Request ID: ${t.requestId}`:void 0,l=t.resources?`Resources:${t.resources.map(d=>`
- ${d}`).join("")}`:void 0,o=_2(t.resources);if(o){const d=xm(o);c=b6e(c,d)}return[n,i,"",c,"",m,s,g,r,a,v,h,u,l].filter(d=>d!=null).join(`
`)};function f6e(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function p6e(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function sd(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const i=t.att[n];if(Array.isArray(i))throw new Error(`Resource must be an object: ${n}`);if(typeof i!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(i).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(i).forEach(c=>{const m=i[c];if(!Array.isArray(m))throw new Error(`Ability limits ${c} must be an array of objects, found: ${m}`);if(!m.length)throw new Error(`Value of ${c} is empty array, must be an array with objects`);m.forEach(s=>{if(typeof s!="object")throw new Error(`Ability limits (${c}) must be an array of objects, found: ${s}`)})})})}function v6e(t,e,n,i={}){return n?.sort((c,m)=>c.localeCompare(m)),{att:{[t]:g6e(e,n,i)}}}function g6e(t,e,n={}){e=e?.sort((c,m)=>c.localeCompare(m));const i=e.map(c=>({[`${t}/${c}`]:[n]}));return Object.assign({},...i)}function dH(t){return sd(t),`urn:recap:${f6e(t).replace(/=/g,"")}`}function xm(t){const e=p6e(t.replace("urn:recap:",""));return sd(e),e}function m6e(t,e,n){const i=v6e(t,e,n);return dH(i)}function y6e(t){return t&&t.includes("urn:recap:")}function w6e(t,e){const n=xm(t),i=xm(e),c=x6e(n,i);return dH(c)}function x6e(t,e){sd(t),sd(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((c,m)=>c.localeCompare(m)),i={att:{}};return n.forEach(c=>{var m,s;Object.keys(((m=t.att)==null?void 0:m[c])||{}).concat(Object.keys(((s=e.att)==null?void 0:s[c])||{})).sort((g,r)=>g.localeCompare(r)).forEach(g=>{var r,a;i.att[c]=c6e(u6e({},i.att[c]),{[g]:((r=t.att[c])==null?void 0:r[g])||((a=e.att[c])==null?void 0:a[g])})})}),i}function b6e(t="",e){sd(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const i=[];let c=0;Object.keys(e.att).forEach(g=>{const r=Object.keys(e.att[g]).map(h=>({ability:h.split("/")[0],action:h.split("/")[1]}));r.sort((h,u)=>h.action.localeCompare(u.action));const a={};r.forEach(h=>{a[h.ability]||(a[h.ability]=[]),a[h.ability].push(h.action)});const v=Object.keys(a).map(h=>(c++,`(${c}) '${h}': '${a[h].join("', '")}' for '${g}'.`));i.push(v.join(", ").replace(".,","."))});const m=i.join(" "),s=`${n}${m}`;return`${t?t+" ":""}${s}`}function KF(t){var e;const n=xm(t);sd(n);const i=(e=n.att)==null?void 0:e.eip155;return i?Object.keys(i).map(c=>c.split("/")[1]):[]}function ZF(t){const e=xm(t);sd(e);const n=[];return Object.values(e.att).forEach(i=>{Object.values(i).forEach(c=>{var m;(m=c?.[0])!=null&&m.chains&&n.push(c[0].chains)})}),[...new Set(n.flat())]}function _2(t){if(!t)return;const e=t?.[t.length-1];return y6e(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function fH(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function iS(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function Q6(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function hs(t,...e){if(!fH(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function JF(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function E6e(t,e){hs(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Sc(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Kp(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function C6e(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const S6e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function T6e(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function sS(t){if(typeof t=="string")t=T6e(t);else if(fH(t))t=aS(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function A6e(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function P6e(t,e){if(t.length!==e.length)return!1;let n=0;for(let i=0;i<t.length;i++)n|=t[i]^e[i];return n===0}const I6e=(t,e)=>{function n(i,...c){if(hs(i),!S6e)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const a=c[0];if(!a)throw new Error("nonce / iv required");t.varSizeNonce?hs(a):hs(a,t.nonceLength)}const m=t.tagLength;m&&c[1]!==void 0&&hs(c[1]);const s=e(i,...c),g=(a,v)=>{if(v!==void 0){if(a!==2)throw new Error("cipher output not supported");hs(v)}};let r=!1;return{encrypt(a,v){if(r)throw new Error("cannot encrypt() twice with same key + nonce");return r=!0,hs(a),g(s.encrypt.length,v),s.encrypt(a,v)},decrypt(a,v){if(hs(a),m&&a.length<m)throw new Error("invalid ciphertext length: smaller than tagLength="+m);return g(s.decrypt.length,v),s.decrypt(a,v)}}}return Object.assign(n,t),n};function _F(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!O6e(e))throw new Error("invalid output, must be aligned");return e}function QF(t,e,n,i){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,i);const c=BigInt(32),m=BigInt(4294967295),s=Number(n>>c&m),g=Number(n&m);t.setUint32(e+4,s,i),t.setUint32(e+0,g,i)}function R6e(t,e,n){iS(n);const i=new Uint8Array(16),c=C6e(i);return QF(c,0,BigInt(e),n),QF(c,8,BigInt(t),n),i}function O6e(t){return t.byteOffset%4===0}function aS(t){return Uint8Array.from(t)}const pH=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),M6e=pH("expand 16-byte k"),$6e=pH("expand 32-byte k"),F6e=Sc(M6e),L6e=Sc($6e);function on(t,e){return t<<e|t>>>32-e}function oS(t){return t.byteOffset%4===0}const i2=64,D6e=16,vH=2**32-1,qF=new Uint32Array;function N6e(t,e,n,i,c,m,s,g){const r=c.length,a=new Uint8Array(i2),v=Sc(a),h=oS(c)&&oS(m),u=h?Sc(c):qF,l=h?Sc(m):qF;for(let o=0;o<r;s++){if(t(e,n,i,v,s,g),s>=vH)throw new Error("arx: counter overflow");const d=Math.min(i2,r-o);if(h&&d===i2){const p=o/4;if(o%4!==0)throw new Error("arx: invalid block position");for(let f=0,y;f<D6e;f++)y=p+f,l[y]=u[y]^v[f];o+=i2;continue}for(let p=0,f;p<d;p++)f=o+p,m[f]=c[f]^a[p];o+=d}}function k6e(t,e){const{allowShortKeys:n,extendNonceFn:i,counterLength:c,counterRight:m,rounds:s}=A6e({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return Q6(c),Q6(s),iS(m),iS(n),(g,r,a,v,h=0)=>{hs(g),hs(r),hs(a);const u=a.length;if(v===void 0&&(v=new Uint8Array(u)),hs(v),Q6(h),h<0||h>=vH)throw new Error("arx: counter overflow");if(v.length<u)throw new Error(`arx: output (${v.length}) is shorter than data (${u})`);const l=[];let o=g.length,d,p;if(o===32)l.push(d=aS(g)),p=L6e;else if(o===16&&n)d=new Uint8Array(32),d.set(g),d.set(g,16),p=F6e,l.push(d);else throw new Error(`arx: invalid 32-byte key, got length=${o}`);oS(r)||l.push(r=aS(r));const f=Sc(d);if(i){if(r.length!==24)throw new Error("arx: extended nonce must be 24 bytes");i(p,f,Sc(r.subarray(0,16)),f),r=r.subarray(16)}const y=16-c;if(y!==r.length)throw new Error(`arx: nonce must be ${y} or 16 bytes`);if(y!==12){const x=new Uint8Array(12);x.set(r,m?0:12-r.length),r=x,l.push(r)}const w=Sc(r);return N6e(t,p,f,w,a,v,h,s),Kp(...l),v}}const oi=(t,e)=>t[e++]&255|(t[e++]&255)<<8;let B6e=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=sS(e),hs(e,32);const n=oi(e,0),i=oi(e,2),c=oi(e,4),m=oi(e,6),s=oi(e,8),g=oi(e,10),r=oi(e,12),a=oi(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|i<<3)&8191,this.r[2]=(i>>>10|c<<6)&7939,this.r[3]=(c>>>7|m<<9)&8191,this.r[4]=(m>>>4|s<<12)&255,this.r[5]=s>>>1&8190,this.r[6]=(s>>>14|g<<2)&8191,this.r[7]=(g>>>11|r<<5)&8065,this.r[8]=(r>>>8|a<<8)&8191,this.r[9]=a>>>5&127;for(let v=0;v<8;v++)this.pad[v]=oi(e,16+2*v)}process(e,n,i=!1){const c=i?0:2048,{h:m,r:s}=this,g=s[0],r=s[1],a=s[2],v=s[3],h=s[4],u=s[5],l=s[6],o=s[7],d=s[8],p=s[9],f=oi(e,n+0),y=oi(e,n+2),w=oi(e,n+4),x=oi(e,n+6),b=oi(e,n+8),E=oi(e,n+10),C=oi(e,n+12),T=oi(e,n+14);let S=m[0]+(f&8191),A=m[1]+((f>>>13|y<<3)&8191),P=m[2]+((y>>>10|w<<6)&8191),R=m[3]+((w>>>7|x<<9)&8191),L=m[4]+((x>>>4|b<<12)&8191),D=m[5]+(b>>>1&8191),$=m[6]+((b>>>14|E<<2)&8191),F=m[7]+((E>>>11|C<<5)&8191),N=m[8]+((C>>>8|T<<8)&8191),k=m[9]+(T>>>5|c),j=0,W=j+S*g+A*(5*p)+P*(5*d)+R*(5*o)+L*(5*l);j=W>>>13,W&=8191,W+=D*(5*u)+$*(5*h)+F*(5*v)+N*(5*a)+k*(5*r),j+=W>>>13,W&=8191;let G=j+S*r+A*g+P*(5*p)+R*(5*d)+L*(5*o);j=G>>>13,G&=8191,G+=D*(5*l)+$*(5*u)+F*(5*h)+N*(5*v)+k*(5*a),j+=G>>>13,G&=8191;let K=j+S*a+A*r+P*g+R*(5*p)+L*(5*d);j=K>>>13,K&=8191,K+=D*(5*o)+$*(5*l)+F*(5*u)+N*(5*h)+k*(5*v),j+=K>>>13,K&=8191;let z=j+S*v+A*a+P*r+R*g+L*(5*p);j=z>>>13,z&=8191,z+=D*(5*d)+$*(5*o)+F*(5*l)+N*(5*u)+k*(5*h),j+=z>>>13,z&=8191;let X=j+S*h+A*v+P*a+R*r+L*g;j=X>>>13,X&=8191,X+=D*(5*p)+$*(5*d)+F*(5*o)+N*(5*l)+k*(5*u),j+=X>>>13,X&=8191;let U=j+S*u+A*h+P*v+R*a+L*r;j=U>>>13,U&=8191,U+=D*g+$*(5*p)+F*(5*d)+N*(5*o)+k*(5*l),j+=U>>>13,U&=8191;let Z=j+S*l+A*u+P*h+R*v+L*a;j=Z>>>13,Z&=8191,Z+=D*r+$*g+F*(5*p)+N*(5*d)+k*(5*o),j+=Z>>>13,Z&=8191;let V=j+S*o+A*l+P*u+R*h+L*v;j=V>>>13,V&=8191,V+=D*a+$*r+F*g+N*(5*p)+k*(5*d),j+=V>>>13,V&=8191;let J=j+S*d+A*o+P*l+R*u+L*h;j=J>>>13,J&=8191,J+=D*v+$*a+F*r+N*g+k*(5*p),j+=J>>>13,J&=8191;let Q=j+S*p+A*d+P*o+R*l+L*u;j=Q>>>13,Q&=8191,Q+=D*h+$*v+F*a+N*r+k*g,j+=Q>>>13,Q&=8191,j=(j<<2)+j|0,j=j+W|0,W=j&8191,j=j>>>13,G+=j,m[0]=W,m[1]=G,m[2]=K,m[3]=z,m[4]=X,m[5]=U,m[6]=Z,m[7]=V,m[8]=J,m[9]=Q}finalize(){const{h:e,pad:n}=this,i=new Uint16Array(10);let c=e[1]>>>13;e[1]&=8191;for(let g=2;g<10;g++)e[g]+=c,c=e[g]>>>13,e[g]&=8191;e[0]+=c*5,c=e[0]>>>13,e[0]&=8191,e[1]+=c,c=e[1]>>>13,e[1]&=8191,e[2]+=c,i[0]=e[0]+5,c=i[0]>>>13,i[0]&=8191;for(let g=1;g<10;g++)i[g]=e[g]+c,c=i[g]>>>13,i[g]&=8191;i[9]-=8192;let m=(c^1)-1;for(let g=0;g<10;g++)i[g]&=m;m=~m;for(let g=0;g<10;g++)e[g]=e[g]&m|i[g];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let s=e[0]+n[0];e[0]=s&65535;for(let g=1;g<8;g++)s=(e[g]+n[g]|0)+(s>>>16)|0,e[g]=s&65535;Kp(i)}update(e){JF(this),e=sS(e),hs(e);const{buffer:n,blockLen:i}=this,c=e.length;for(let m=0;m<c;){const s=Math.min(i-this.pos,c-m);if(s===i){for(;i<=c-m;m+=i)this.process(e,m);continue}n.set(e.subarray(m,m+s),this.pos),this.pos+=s,m+=s,this.pos===i&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Kp(this.h,this.r,this.buffer,this.pad)}digestInto(e){JF(this),E6e(e,this),this.finished=!0;const{buffer:n,h:i}=this;let{pos:c}=this;if(c){for(n[c++]=1;c<16;c++)n[c]=0;this.process(n,0,!0)}this.finalize();let m=0;for(let s=0;s<8;s++)e[m++]=i[s]>>>0,e[m++]=i[s]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const i=e.slice(0,n);return this.destroy(),i}};function U6e(t){const e=(i,c)=>t(c).update(sS(i)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=i=>t(i),e}const j6e=U6e(t=>new B6e(t));function z6e(t,e,n,i,c,m=20){let s=t[0],g=t[1],r=t[2],a=t[3],v=e[0],h=e[1],u=e[2],l=e[3],o=e[4],d=e[5],p=e[6],f=e[7],y=c,w=n[0],x=n[1],b=n[2],E=s,C=g,T=r,S=a,A=v,P=h,R=u,L=l,D=o,$=d,F=p,N=f,k=y,j=w,W=x,G=b;for(let z=0;z<m;z+=2)E=E+A|0,k=on(k^E,16),D=D+k|0,A=on(A^D,12),E=E+A|0,k=on(k^E,8),D=D+k|0,A=on(A^D,7),C=C+P|0,j=on(j^C,16),$=$+j|0,P=on(P^$,12),C=C+P|0,j=on(j^C,8),$=$+j|0,P=on(P^$,7),T=T+R|0,W=on(W^T,16),F=F+W|0,R=on(R^F,12),T=T+R|0,W=on(W^T,8),F=F+W|0,R=on(R^F,7),S=S+L|0,G=on(G^S,16),N=N+G|0,L=on(L^N,12),S=S+L|0,G=on(G^S,8),N=N+G|0,L=on(L^N,7),E=E+P|0,G=on(G^E,16),F=F+G|0,P=on(P^F,12),E=E+P|0,G=on(G^E,8),F=F+G|0,P=on(P^F,7),C=C+R|0,k=on(k^C,16),N=N+k|0,R=on(R^N,12),C=C+R|0,k=on(k^C,8),N=N+k|0,R=on(R^N,7),T=T+L|0,j=on(j^T,16),D=D+j|0,L=on(L^D,12),T=T+L|0,j=on(j^T,8),D=D+j|0,L=on(L^D,7),S=S+A|0,W=on(W^S,16),$=$+W|0,A=on(A^$,12),S=S+A|0,W=on(W^S,8),$=$+W|0,A=on(A^$,7);let K=0;i[K++]=s+E|0,i[K++]=g+C|0,i[K++]=r+T|0,i[K++]=a+S|0,i[K++]=v+A|0,i[K++]=h+P|0,i[K++]=u+R|0,i[K++]=l+L|0,i[K++]=o+D|0,i[K++]=d+$|0,i[K++]=p+F|0,i[K++]=f+N|0,i[K++]=y+k|0,i[K++]=w+j|0,i[K++]=x+W|0,i[K++]=b+G|0}const W6e=k6e(z6e,{counterRight:!1,counterLength:4,allowShortKeys:!1}),G6e=new Uint8Array(16),eL=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(G6e.subarray(n))},V6e=new Uint8Array(32);function tL(t,e,n,i,c){const m=t(e,n,V6e),s=j6e.create(m);c&&eL(s,c),eL(s,i);const g=R6e(i.length,c?c.length:0,!0);s.update(g);const r=s.digest();return Kp(m,g),r}const H6e=t=>(e,n,i)=>({encrypt(c,m){const s=c.length;m=_F(s+16,m,!1),m.set(c);const g=m.subarray(0,-16);t(e,n,g,g,1);const r=tL(t,e,n,g,i);return m.set(r,s),Kp(r),m},decrypt(c,m){m=_F(c.length-16,m,!1);const s=c.subarray(0,-16),g=c.subarray(-16),r=tL(t,e,n,s,i);if(!P6e(g,r))throw new Error("invalid tag");return m.set(c.subarray(0,-16)),t(e,n,m,m,1),Kp(r),m}}),gH=I6e({blockSize:64,nonceLength:12,tagLength:16},H6e(W6e));let mH=class extends E3{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,M7(e);const i=co(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const c=this.blockLen,m=new Uint8Array(c);m.set(i.length>c?e.create().update(i).digest():i);for(let s=0;s<m.length;s++)m[s]^=54;this.iHash.update(m),this.oHash=e.create();for(let s=0;s<m.length;s++)m[s]^=106;this.oHash.update(m),Ma(m)}update(e){return Pc(this),this.iHash.update(e),this}digestInto(e){Pc(this),Oa(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:i,finished:c,destroyed:m,blockLen:s,outputLen:g}=this;return e=e,e.finished=c,e.destroyed=m,e.blockLen=s,e.outputLen=g,e.oHash=n._cloneInto(e.oHash),e.iHash=i._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const S3=(t,e,n)=>new mH(t,e).update(n).digest();S3.create=(t,e)=>new mH(t,e);function Y6e(t,e,n){return M7(t),n===void 0&&(n=new Uint8Array(t.outputLen)),S3(t,co(n),co(e))}const q6=Uint8Array.from([0]),nL=Uint8Array.of();function X6e(t,e,n,i=32){M7(t),yu(i);const c=t.outputLen;if(i>255*c)throw new Error("Length should be <= 255*HashLen");const m=Math.ceil(i/c);n===void 0&&(n=nL);const s=new Uint8Array(m*c),g=S3.create(t,e),r=g._cloneInto(),a=new Uint8Array(g.outputLen);for(let v=0;v<m;v++)q6[0]=v+1,r.update(v===0?nL:a).update(n).update(q6).digestInto(a),s.set(a,c*v),g._cloneInto(r);return g.destroy(),r.destroy(),Ma(a,q6),s.slice(0,i)}const K6e=(t,e,n,i,c)=>X6e(t,Y6e(t,e,n),i,c),T3=C3,N7=BigInt(0),lS=BigInt(1);function Kw(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function s2(t){const e=t.toString(16);return e.length&1?"0"+e:e}function yH(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?N7:BigInt("0x"+t)}function A3(t){return yH(wm(t))}function Zw(t){return Oa(t),yH(wm(Uint8Array.from(t).reverse()))}function k7(t,e){return F7(t.toString(16).padStart(e*2,"0"))}function B7(t,e){return k7(t,e).reverse()}function us(t,e,n){let i;if(typeof e=="string")try{i=F7(e)}catch(m){throw new Error(t+" must be hex string or Uint8Array, cause: "+m)}else if(O7(e))i=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const c=i.length;if(typeof n=="number"&&c!==n)throw new Error(t+" of length "+n+" expected, got "+c);return i}const eE=t=>typeof t=="bigint"&&N7<=t;function Z6e(t,e,n){return eE(t)&&eE(e)&&eE(n)&&e<=t&&t<n}function uS(t,e,n,i){if(!Z6e(e,n,i))throw new Error("expected valid "+t+": "+n+" <= n < "+i+", got "+e)}function J6e(t){let e;for(e=0;t>N7;t>>=lS,e+=1);return e}const P3=t=>(lS<<BigInt(t))-lS;function _6e(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const i=u=>new Uint8Array(u),c=u=>Uint8Array.of(u);let m=i(t),s=i(t),g=0;const r=()=>{m.fill(1),s.fill(0),g=0},a=(...u)=>n(s,m,...u),v=(u=i(0))=>{s=a(c(0),u),m=a(),u.length!==0&&(s=a(c(1),u),m=a())},h=()=>{if(g++>=1e3)throw new Error("drbg: tried 1000 values");let u=0;const l=[];for(;u<e;){m=a();const o=m.slice();l.push(o),u+=m.length}return Mh(...l)};return(u,l)=>{r(),v(u);let o;for(;!(o=l(h()));)v();return r(),o}}function I3(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function i(c,m,s){const g=t[c];if(s&&g===void 0)return;const r=typeof g;if(r!==m||g===null)throw new Error(`param "${c}" is invalid: expected ${m}, got ${r}`)}Object.entries(e).forEach(([c,m])=>i(c,m,!1)),Object.entries(n).forEach(([c,m])=>i(c,m,!0))}function rL(t){const e=new WeakMap;return(n,...i)=>{const c=e.get(n);if(c!==void 0)return c;const m=t(n,...i);return e.set(n,m),m}}const ms=BigInt(0),Hi=BigInt(1),$h=BigInt(2),Q6e=BigInt(3),wH=BigInt(4),xH=BigInt(5),bH=BigInt(8);function ba(t,e){const n=t%e;return n>=ms?n:e+n}function _a(t,e,n){let i=t;for(;e-- >ms;)i*=i,i%=n;return i}function iL(t,e){if(t===ms)throw new Error("invert: expected non-zero number");if(e<=ms)throw new Error("invert: expected positive modulus, got "+e);let n=ba(t,e),i=e,c=ms,m=Hi;for(;n!==ms;){const s=i/n,g=i%n,r=c-m*s;i=n,n=g,c=m,m=r}if(i!==Hi)throw new Error("invert: does not exist");return ba(c,e)}function EH(t,e){const n=(t.ORDER+Hi)/wH,i=t.pow(e,n);if(!t.eql(t.sqr(i),e))throw new Error("Cannot find square root");return i}function q6e(t,e){const n=(t.ORDER-xH)/bH,i=t.mul(e,$h),c=t.pow(i,n),m=t.mul(e,c),s=t.mul(t.mul(m,$h),c),g=t.mul(m,t.sub(s,t.ONE));if(!t.eql(t.sqr(g),e))throw new Error("Cannot find square root");return g}function eEe(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Hi,n=0;for(;e%$h===ms;)e/=$h,n++;let i=$h;const c=x0(t);for(;sL(c,i)===1;)if(i++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return EH;let m=c.pow(i,e);const s=(e+Hi)/$h;return function(g,r){if(g.is0(r))return r;if(sL(g,r)!==1)throw new Error("Cannot find square root");let a=n,v=g.mul(g.ONE,m),h=g.pow(r,e),u=g.pow(r,s);for(;!g.eql(h,g.ONE);){if(g.is0(h))return g.ZERO;let l=1,o=g.sqr(h);for(;!g.eql(o,g.ONE);)if(l++,o=g.sqr(o),l===a)throw new Error("Cannot find square root");const d=Hi<<BigInt(a-l-1),p=g.pow(v,d);a=l,v=g.sqr(p),h=g.mul(h,v),u=g.mul(u,p)}return u}}function tEe(t){return t%wH===Q6e?EH:t%bH===xH?q6e:eEe(t)}const nEe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function rEe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=nEe.reduce((i,c)=>(i[c]="function",i),e);return I3(t,n),t}function iEe(t,e,n){if(n<ms)throw new Error("invalid exponent, negatives unsupported");if(n===ms)return t.ONE;if(n===Hi)return e;let i=t.ONE,c=e;for(;n>ms;)n&Hi&&(i=t.mul(i,c)),c=t.sqr(c),n>>=Hi;return i}function CH(t,e,n=!1){const i=new Array(e.length).fill(n?t.ZERO:void 0),c=e.reduce((s,g,r)=>t.is0(g)?s:(i[r]=s,t.mul(s,g)),t.ONE),m=t.inv(c);return e.reduceRight((s,g,r)=>t.is0(g)?s:(i[r]=t.mul(s,i[r]),t.mul(s,g)),m),i}function sL(t,e){const n=(t.ORDER-Hi)/$h,i=t.pow(e,n),c=t.eql(i,t.ONE),m=t.eql(i,t.ZERO),s=t.eql(i,t.neg(t.ONE));if(!c&&!m&&!s)throw new Error("invalid Legendre symbol result");return c?1:m?0:-1}function sEe(t,e){e!==void 0&&yu(e);const n=e!==void 0?e:t.toString(2).length,i=Math.ceil(n/8);return{nBitLength:n,nByteLength:i}}function x0(t,e,n=!1,i={}){if(t<=ms)throw new Error("invalid field: expected ORDER > 0, got "+t);let c,m;if(typeof e=="object"&&e!=null){if(i.sqrt||n)throw new Error("cannot specify opts in two arguments");const v=e;v.BITS&&(c=v.BITS),v.sqrt&&(m=v.sqrt),typeof v.isLE=="boolean"&&(n=v.isLE)}else typeof e=="number"&&(c=e),i.sqrt&&(m=i.sqrt);const{nBitLength:s,nByteLength:g}=sEe(t,c);if(g>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let r;const a=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:g,MASK:P3(s),ZERO:ms,ONE:Hi,create:v=>ba(v,t),isValid:v=>{if(typeof v!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof v);return ms<=v&&v<t},is0:v=>v===ms,isValidNot0:v=>!a.is0(v)&&a.isValid(v),isOdd:v=>(v&Hi)===Hi,neg:v=>ba(-v,t),eql:(v,h)=>v===h,sqr:v=>ba(v*v,t),add:(v,h)=>ba(v+h,t),sub:(v,h)=>ba(v-h,t),mul:(v,h)=>ba(v*h,t),pow:(v,h)=>iEe(a,v,h),div:(v,h)=>ba(v*iL(h,t),t),sqrN:v=>v*v,addN:(v,h)=>v+h,subN:(v,h)=>v-h,mulN:(v,h)=>v*h,inv:v=>iL(v,t),sqrt:m||(v=>(r||(r=tEe(t)),r(a,v))),toBytes:v=>n?B7(v,g):k7(v,g),fromBytes:v=>{if(v.length!==g)throw new Error("Field.fromBytes: expected "+g+" bytes, got "+v.length);return n?Zw(v):A3(v)},invertBatch:v=>CH(a,v),cmov:(v,h,u)=>u?h:v});return Object.freeze(a)}function SH(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function TH(t){const e=SH(t);return e+Math.ceil(e/2)}function aEe(t,e,n=!1){const i=t.length,c=SH(e),m=TH(e);if(i<16||i<m||i>1024)throw new Error("expected "+m+"-1024 bytes of input, got "+i);const s=n?Zw(t):A3(t),g=ba(s,e-Hi)+Hi;return n?B7(g,c):k7(g,c)}const Zp=BigInt(0),Fh=BigInt(1);function ig(t,e){const n=e.negate();return t?n:e}function oEe(t,e,n){const i=m=>m.pz,c=CH(t.Fp,n.map(i));return n.map((m,s)=>m.toAffine(c[s])).map(t.fromAffine)}function AH(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function tE(t,e){AH(t,e);const n=Math.ceil(e/t)+1,i=2**(t-1),c=2**t,m=P3(t),s=BigInt(t);return{windows:n,windowSize:i,mask:m,maxNumber:c,shiftBy:s}}function aL(t,e,n){const{windowSize:i,mask:c,maxNumber:m,shiftBy:s}=n;let g=Number(t&c),r=t>>s;g>i&&(g-=m,r+=Fh);const a=e*i,v=a+Math.abs(g)-1,h=g===0,u=g<0,l=e%2!==0;return{nextN:r,offset:v,isZero:h,isNeg:u,isNegF:l,offsetF:a}}function lEe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,i)=>{if(!(n instanceof e))throw new Error("invalid point at index "+i)})}function uEe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,i)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+i)})}const nE=new WeakMap,PH=new WeakMap;function rE(t){return PH.get(t)||1}function oL(t){if(t!==Zp)throw new Error("invalid wNAF")}function cEe(t,e){return{constTimeNegate:ig,hasPrecomputes(n){return rE(n)!==1},unsafeLadder(n,i,c=t.ZERO){let m=n;for(;i>Zp;)i&Fh&&(c=c.add(m)),m=m.double(),i>>=Fh;return c},precomputeWindow(n,i){const{windows:c,windowSize:m}=tE(i,e),s=[];let g=n,r=g;for(let a=0;a<c;a++){r=g,s.push(r);for(let v=1;v<m;v++)r=r.add(g),s.push(r);g=r.double()}return s},wNAF(n,i,c){let m=t.ZERO,s=t.BASE;const g=tE(n,e);for(let r=0;r<g.windows;r++){const{nextN:a,offset:v,isZero:h,isNeg:u,isNegF:l,offsetF:o}=aL(c,r,g);c=a,h?s=s.add(ig(l,i[o])):m=m.add(ig(u,i[v]))}return oL(c),{p:m,f:s}},wNAFUnsafe(n,i,c,m=t.ZERO){const s=tE(n,e);for(let g=0;g<s.windows&&c!==Zp;g++){const{nextN:r,offset:a,isZero:v,isNeg:h}=aL(c,g,s);if(c=r,!v){const u=i[a];m=m.add(h?u.negate():u)}}return oL(c),m},getPrecomputes(n,i,c){let m=nE.get(i);return m||(m=this.precomputeWindow(i,n),n!==1&&(typeof c=="function"&&(m=c(m)),nE.set(i,m))),m},wNAFCached(n,i,c){const m=rE(n);return this.wNAF(m,this.getPrecomputes(m,n,c),i)},wNAFCachedUnsafe(n,i,c,m){const s=rE(n);return s===1?this.unsafeLadder(n,i,m):this.wNAFUnsafe(s,this.getPrecomputes(s,n,c),i,m)},setWindowSize(n,i){AH(i,e),PH.set(n,i),nE.delete(n)}}}function hEe(t,e,n,i){let c=e,m=t.ZERO,s=t.ZERO;for(;n>Zp||i>Zp;)n&Fh&&(m=m.add(c)),i&Fh&&(s=s.add(c)),c=c.double(),n>>=Fh,i>>=Fh;return{p1:m,p2:s}}function dEe(t,e,n,i){lEe(n,t),uEe(i,e);const c=n.length,m=i.length;if(c!==m)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,g=J6e(BigInt(c));let r=1;g>12?r=g-3:g>4?r=g-2:g>0&&(r=2);const a=P3(r),v=new Array(Number(a)+1).fill(s),h=Math.floor((e.BITS-1)/r)*r;let u=s;for(let l=h;l>=0;l-=r){v.fill(s);for(let d=0;d<m;d++){const p=i[d],f=Number(p>>BigInt(l)&a);v[f]=v[f].add(n[d])}let o=s;for(let d=v.length-1,p=s;d>0;d--)p=p.add(v[d]),o=o.add(p);if(u=u.add(o),l!==0)for(let d=0;d<r;d++)u=u.double()}return u}function lL(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return rEe(e),e}else return x0(t)}function fEe(t,e,n={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const s of["p","n","h"]){const g=e[s];if(!(typeof g=="bigint"&&g>Zp))throw new Error(`CURVE.${s} must be positive bigint`)}const i=lL(e.p,n.Fp),c=lL(e.n,n.Fn),m=["Gx","Gy","a","b"];for(const s of m)if(!i.isValid(e[s]))throw new Error(`CURVE.${s} must be valid field element of CURVE.Fp`);return{Fp:i,Fn:c}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const xv=BigInt(0),Rf=BigInt(1),a2=BigInt(2);function pEe(t){return I3(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function vEe(t){const e=pEe(t),{P:n,type:i,adjustScalarBytes:c,powPminus2:m,randomBytes:s}=e,g=i==="x25519";if(!g&&i!=="x448")throw new Error("invalid type");const r=s||w0,a=g?255:448,v=g?32:56,h=BigInt(g?9:5),u=BigInt(g?121665:39081),l=g?a2**BigInt(254):a2**BigInt(447),o=g?BigInt(8)*a2**BigInt(251)-Rf:BigInt(4)*a2**BigInt(445)-Rf,d=l+o+Rf,p=S=>ba(S,n),f=y(h);function y(S){return B7(p(S),v)}function w(S){const A=us("u coordinate",S,v);return g&&(A[31]&=127),p(Zw(A))}function x(S){return Zw(c(us("scalar",S,v)))}function b(S,A){const P=T(w(A),x(S));if(P===xv)throw new Error("invalid private or public key received");return y(P)}function E(S){return b(S,f)}function C(S,A,P){const R=p(S*(A-P));return A=p(A-R),P=p(P+R),{x_2:A,x_3:P}}function T(S,A){uS("u",S,xv,n),uS("scalar",A,l,d);const P=A,R=S;let L=Rf,D=xv,$=S,F=Rf,N=xv;for(let j=BigInt(a-1);j>=xv;j--){const W=P>>j&Rf;N^=W,{x_2:L,x_3:$}=C(N,L,$),{x_2:D,x_3:F}=C(N,D,F),N=W;const G=L+D,K=p(G*G),z=L-D,X=p(z*z),U=K-X,Z=$+F,V=$-F,J=p(V*G),Q=p(Z*z),ee=J+Q,te=J-Q;$=p(ee*ee),F=p(R*p(te*te)),L=p(K*X),D=p(U*(K+p(u*U)))}({x_2:L,x_3:$}=C(N,L,$)),{x_2:D,x_3:F}=C(N,D,F);const k=m(D);return p(L*k)}return{scalarMult:b,scalarMultBase:E,getSharedSecret:(S,A)=>b(S,A),getPublicKey:S=>E(S),utils:{randomPrivateKey:()=>r(v)},GuBytes:f.slice()}}BigInt(0);const gEe=BigInt(1),uL=BigInt(2),mEe=BigInt(3),yEe=BigInt(5);BigInt(8);const IH={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function wEe(t){const e=BigInt(10),n=BigInt(20),i=BigInt(40),c=BigInt(80),m=IH.p,s=t*t%m*t%m,g=_a(s,uL,m)*s%m,r=_a(g,gEe,m)*t%m,a=_a(r,yEe,m)*r%m,v=_a(a,e,m)*a%m,h=_a(v,n,m)*v%m,u=_a(h,i,m)*h%m,l=_a(u,c,m)*u%m,o=_a(l,c,m)*u%m,d=_a(o,e,m)*a%m;return{pow_p_5_8:_a(d,uL,m)*t%m,b2:s}}function xEe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const cS=(()=>{const t=IH.p;return vEe({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:n,b2:i}=wEe(e);return ba(_a(n,mEe,t)*i,t)},adjustScalarBytes:xEe})})();function cL(t){t.lowS!==void 0&&Kw("lowS",t.lowS),t.prehash!==void 0&&Kw("prehash",t.prehash)}let bEe=class extends Error{constructor(e=""){super(e)}};const ql={Err:bEe,_tlv:{encode:(t,e)=>{const{Err:n}=ql;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const i=e.length/2,c=s2(i);if(c.length/2&128)throw new n("tlv.encode: long form length too big");const m=i>127?s2(c.length/2|128):"";return s2(t)+m+c+e},decode(t,e){const{Err:n}=ql;let i=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[i++]!==t)throw new n("tlv.decode: wrong tlv");const c=e[i++],m=!!(c&128);let s=0;if(!m)s=c;else{const r=c&127;if(!r)throw new n("tlv.decode(long): indefinite length not supported");if(r>4)throw new n("tlv.decode(long): byte length is too big");const a=e.subarray(i,i+r);if(a.length!==r)throw new n("tlv.decode: length bytes not complete");if(a[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const v of a)s=s<<8|v;if(i+=r,s<128)throw new n("tlv.decode(long): not minimal encoding")}const g=e.subarray(i,i+s);if(g.length!==s)throw new n("tlv.decode: wrong value length");return{v:g,l:e.subarray(i+s)}}},_int:{encode(t){const{Err:e}=ql;if(t<sg)throw new e("integer: negative integers are not allowed");let n=s2(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=ql;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return A3(t)}},toSig(t){const{Err:e,_int:n,_tlv:i}=ql,c=us("signature",t),{v:m,l:s}=i.decode(48,c);if(s.length)throw new e("invalid signature: left bytes after parsing");const{v:g,l:r}=i.decode(2,m),{v:a,l:v}=i.decode(2,r);if(v.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(g),s:n.decode(a)}},hexFromSig(t){const{_tlv:e,_int:n}=ql,i=e.encode(2,n.encode(t.r)),c=e.encode(2,n.encode(t.s)),m=i+c;return e.encode(48,m)}},sg=BigInt(0),ag=BigInt(1),EEe=BigInt(2),o2=BigInt(3),CEe=BigInt(4);function SEe(t,e,n){function i(c){const m=t.sqr(c),s=t.mul(m,c);return t.add(t.add(s,t.mul(c,e)),n)}return i}function RH(t,e,n){const{BYTES:i}=t;function c(m){let s;if(typeof m=="bigint")s=m;else{let g=us("private key",m);if(e){if(!e.includes(g.length*2))throw new Error("invalid private key");const r=new Uint8Array(i);r.set(g,r.length-g.length),g=r}try{s=t.fromBytes(g)}catch{throw new Error(`invalid private key: expected ui8a of size ${i}, got ${typeof m}`)}}if(n&&(s=t.create(s)),!t.isValidNot0(s))throw new Error("invalid private key: out of range [1..N-1]");return s}return c}function TEe(t,e={}){const{Fp:n,Fn:i}=fEe("weierstrass",t,e),{h:c,n:m}=t;I3(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:s}=e;if(s&&(!n.is0(t.a)||typeof s.beta!="bigint"||typeof s.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function g(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function r(T,S,A){const{x:P,y:R}=S.toAffine(),L=n.toBytes(P);if(Kw("isCompressed",A),A){g();const D=!n.isOdd(R);return Mh(OH(D),L)}else return Mh(Uint8Array.of(4),L,n.toBytes(R))}function a(T){Oa(T);const S=n.BYTES,A=S+1,P=2*S+1,R=T.length,L=T[0],D=T.subarray(1);if(R===A&&(L===2||L===3)){const $=n.fromBytes(D);if(!n.isValid($))throw new Error("bad point: is not on curve, wrong x");const F=u($);let N;try{N=n.sqrt(F)}catch(j){const W=j instanceof Error?": "+j.message:"";throw new Error("bad point: is not on curve, sqrt error"+W)}g();const k=n.isOdd(N);return(L&1)===1!==k&&(N=n.neg(N)),{x:$,y:N}}else if(R===P&&L===4){const $=n.fromBytes(D.subarray(S*0,S*1)),F=n.fromBytes(D.subarray(S*1,S*2));if(!l($,F))throw new Error("bad point: is not on curve");return{x:$,y:F}}else throw new Error(`bad point: got length ${R}, expected compressed=${A} or uncompressed=${P}`)}const v=e.toBytes||r,h=e.fromBytes||a,u=SEe(n,t.a,t.b);function l(T,S){const A=n.sqr(S),P=u(T);return n.eql(A,P)}if(!l(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const o=n.mul(n.pow(t.a,o2),CEe),d=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(o,d)))throw new Error("bad curve params: a or b");function p(T,S,A=!1){if(!n.isValid(S)||A&&n.is0(S))throw new Error(`bad point coordinate ${T}`);return S}function f(T){if(!(T instanceof b))throw new Error("ProjectivePoint expected")}const y=rL((T,S)=>{const{px:A,py:P,pz:R}=T;if(n.eql(R,n.ONE))return{x:A,y:P};const L=T.is0();S==null&&(S=L?n.ONE:n.inv(R));const D=n.mul(A,S),$=n.mul(P,S),F=n.mul(R,S);if(L)return{x:n.ZERO,y:n.ZERO};if(!n.eql(F,n.ONE))throw new Error("invZ was invalid");return{x:D,y:$}}),w=rL(T=>{if(T.is0()){if(e.allowInfinityPoint&&!n.is0(T.py))return;throw new Error("bad point: ZERO")}const{x:S,y:A}=T.toAffine();if(!n.isValid(S)||!n.isValid(A))throw new Error("bad point: x or y not field elements");if(!l(S,A))throw new Error("bad point: equation left != right");if(!T.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function x(T,S,A,P,R){return A=new b(n.mul(A.px,T),A.py,A.pz),S=ig(P,S),A=ig(R,A),S.add(A)}class b{constructor(S,A,P){this.px=p("x",S),this.py=p("y",A,!0),this.pz=p("z",P),Object.freeze(this)}static fromAffine(S){const{x:A,y:P}=S||{};if(!S||!n.isValid(A)||!n.isValid(P))throw new Error("invalid affine point");if(S instanceof b)throw new Error("projective point not allowed");return n.is0(A)&&n.is0(P)?b.ZERO:new b(A,P,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(S){return oEe(b,"pz",S)}static fromBytes(S){return Oa(S),b.fromHex(S)}static fromHex(S){const A=b.fromAffine(h(us("pointHex",S)));return A.assertValidity(),A}static fromPrivateKey(S){const A=RH(i,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return b.BASE.multiply(A(S))}static msm(S,A){return dEe(b,i,S,A)}precompute(S=8,A=!0){return C.setWindowSize(this,S),A||this.multiply(o2),this}_setWindowSize(S){this.precompute(S)}assertValidity(){w(this)}hasEvenY(){const{y:S}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(S)}equals(S){f(S);const{px:A,py:P,pz:R}=this,{px:L,py:D,pz:$}=S,F=n.eql(n.mul(A,$),n.mul(L,R)),N=n.eql(n.mul(P,$),n.mul(D,R));return F&&N}negate(){return new b(this.px,n.neg(this.py),this.pz)}double(){const{a:S,b:A}=t,P=n.mul(A,o2),{px:R,py:L,pz:D}=this;let $=n.ZERO,F=n.ZERO,N=n.ZERO,k=n.mul(R,R),j=n.mul(L,L),W=n.mul(D,D),G=n.mul(R,L);return G=n.add(G,G),N=n.mul(R,D),N=n.add(N,N),$=n.mul(S,N),F=n.mul(P,W),F=n.add($,F),$=n.sub(j,F),F=n.add(j,F),F=n.mul($,F),$=n.mul(G,$),N=n.mul(P,N),W=n.mul(S,W),G=n.sub(k,W),G=n.mul(S,G),G=n.add(G,N),N=n.add(k,k),k=n.add(N,k),k=n.add(k,W),k=n.mul(k,G),F=n.add(F,k),W=n.mul(L,D),W=n.add(W,W),k=n.mul(W,G),$=n.sub($,k),N=n.mul(W,j),N=n.add(N,N),N=n.add(N,N),new b($,F,N)}add(S){f(S);const{px:A,py:P,pz:R}=this,{px:L,py:D,pz:$}=S;let F=n.ZERO,N=n.ZERO,k=n.ZERO;const j=t.a,W=n.mul(t.b,o2);let G=n.mul(A,L),K=n.mul(P,D),z=n.mul(R,$),X=n.add(A,P),U=n.add(L,D);X=n.mul(X,U),U=n.add(G,K),X=n.sub(X,U),U=n.add(A,R);let Z=n.add(L,$);return U=n.mul(U,Z),Z=n.add(G,z),U=n.sub(U,Z),Z=n.add(P,R),F=n.add(D,$),Z=n.mul(Z,F),F=n.add(K,z),Z=n.sub(Z,F),k=n.mul(j,U),F=n.mul(W,z),k=n.add(F,k),F=n.sub(K,k),k=n.add(K,k),N=n.mul(F,k),K=n.add(G,G),K=n.add(K,G),z=n.mul(j,z),U=n.mul(W,U),K=n.add(K,z),z=n.sub(G,z),z=n.mul(j,z),U=n.add(U,z),G=n.mul(K,U),N=n.add(N,G),G=n.mul(Z,U),F=n.mul(X,F),F=n.sub(F,G),G=n.mul(X,K),k=n.mul(Z,k),k=n.add(k,G),new b(F,N,k)}subtract(S){return this.add(S.negate())}is0(){return this.equals(b.ZERO)}multiply(S){const{endo:A}=e;if(!i.isValidNot0(S))throw new Error("invalid scalar: out of range");let P,R;const L=D=>C.wNAFCached(this,D,b.normalizeZ);if(A){const{k1neg:D,k1:$,k2neg:F,k2:N}=A.splitScalar(S),{p:k,f:j}=L($),{p:W,f:G}=L(N);R=j.add(G),P=x(A.beta,k,W,D,F)}else{const{p:D,f:$}=L(S);P=D,R=$}return b.normalizeZ([P,R])[0]}multiplyUnsafe(S){const{endo:A}=e,P=this;if(!i.isValid(S))throw new Error("invalid scalar: out of range");if(S===sg||P.is0())return b.ZERO;if(S===ag)return P;if(C.hasPrecomputes(this))return this.multiply(S);if(A){const{k1neg:R,k1:L,k2neg:D,k2:$}=A.splitScalar(S),{p1:F,p2:N}=hEe(b,P,L,$);return x(A.beta,F,N,R,D)}else return C.wNAFCachedUnsafe(P,S)}multiplyAndAddUnsafe(S,A,P){const R=this.multiplyUnsafe(A).add(S.multiplyUnsafe(P));return R.is0()?void 0:R}toAffine(S){return y(this,S)}isTorsionFree(){const{isTorsionFree:S}=e;return c===ag?!0:S?S(b,this):C.wNAFCachedUnsafe(this,m).is0()}clearCofactor(){const{clearCofactor:S}=e;return c===ag?this:S?S(b,this):this.multiplyUnsafe(c)}toBytes(S=!0){return Kw("isCompressed",S),this.assertValidity(),v(b,this,S)}toRawBytes(S=!0){return this.toBytes(S)}toHex(S=!0){return wm(this.toBytes(S))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}b.BASE=new b(t.Gx,t.Gy,n.ONE),b.ZERO=new b(n.ZERO,n.ONE,n.ZERO),b.Fp=n,b.Fn=i;const E=i.BITS,C=cEe(b,e.endo?Math.ceil(E/2):E);return b}function OH(t){return Uint8Array.of(t?2:3)}function AEe(t,e,n={}){I3(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const i=e.randomBytes||w0,c=e.hmac||((P,...R)=>S3(e.hash,P,Mh(...R))),{Fp:m,Fn:s}=t,{ORDER:g,BITS:r}=s;function a(P){const R=g>>ag;return P>R}function v(P){return a(P)?s.neg(P):P}function h(P,R){if(!s.isValidNot0(R))throw new Error(`invalid signature ${P}: out of range 1..CURVE.n`)}class u{constructor(R,L,D){h("r",R),h("s",L),this.r=R,this.s=L,D!=null&&(this.recovery=D),Object.freeze(this)}static fromCompact(R){const L=s.BYTES,D=us("compactSignature",R,L*2);return new u(s.fromBytes(D.subarray(0,L)),s.fromBytes(D.subarray(L,L*2)))}static fromDER(R){const{r:L,s:D}=ql.toSig(us("DER",R));return new u(L,D)}assertValidity(){}addRecoveryBit(R){return new u(this.r,this.s,R)}recoverPublicKey(R){const L=m.ORDER,{r:D,s:$,recovery:F}=this;if(F==null||![0,1,2,3].includes(F))throw new Error("recovery id invalid");if(g*EEe<L&&F>1)throw new Error("recovery id is ambiguous for h>1 curve");const N=F===2||F===3?D+g:D;if(!m.isValid(N))throw new Error("recovery id 2 or 3 invalid");const k=m.toBytes(N),j=t.fromHex(Mh(OH((F&1)===0),k)),W=s.inv(N),G=w(us("msgHash",R)),K=s.create(-G*W),z=s.create($*W),X=t.BASE.multiplyUnsafe(K).add(j.multiplyUnsafe(z));if(X.is0())throw new Error("point at infinify");return X.assertValidity(),X}hasHighS(){return a(this.s)}normalizeS(){return this.hasHighS()?new u(this.r,s.neg(this.s),this.recovery):this}toBytes(R){if(R==="compact")return Mh(s.toBytes(this.r),s.toBytes(this.s));if(R==="der")return F7(ql.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return wm(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return wm(this.toBytes("compact"))}}const l=RH(s,n.allowedPrivateKeyLengths,n.wrapPrivateKey),o={isValidPrivateKey(P){try{return l(P),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const P=g;return aEe(i(TH(P)),P)},precompute(P=8,R=t.BASE){return R.precompute(P,!1)}};function d(P,R=!0){return t.fromPrivateKey(P).toBytes(R)}function p(P){if(typeof P=="bigint")return!1;if(P instanceof t)return!0;const R=us("key",P).length,L=m.BYTES,D=L+1,$=2*L+1;if(!(n.allowedPrivateKeyLengths||s.BYTES===D))return R===D||R===$}function f(P,R,L=!0){if(p(P)===!0)throw new Error("first arg must be private key");if(p(R)===!1)throw new Error("second arg must be public key");return t.fromHex(R).multiply(l(P)).toBytes(L)}const y=e.bits2int||function(P){if(P.length>8192)throw new Error("input is too large");const R=A3(P),L=P.length*8-r;return L>0?R>>BigInt(L):R},w=e.bits2int_modN||function(P){return s.create(y(P))},x=P3(r);function b(P){return uS("num < 2^"+r,P,sg,x),s.toBytes(P)}function E(P,R,L=C){if(["recovered","canonical"].some(X=>X in L))throw new Error("sign() legacy options not supported");const{hash:D}=e;let{lowS:$,prehash:F,extraEntropy:N}=L;$==null&&($=!0),P=us("msgHash",P),cL(L),F&&(P=us("prehashed msgHash",D(P)));const k=w(P),j=l(R),W=[b(j),b(k)];if(N!=null&&N!==!1){const X=N===!0?i(m.BYTES):N;W.push(us("extraEntropy",X))}const G=Mh(...W),K=k;function z(X){const U=y(X);if(!s.isValidNot0(U))return;const Z=s.inv(U),V=t.BASE.multiply(U).toAffine(),J=s.create(V.x);if(J===sg)return;const Q=s.create(Z*s.create(K+J*j));if(Q===sg)return;let ee=(V.x===J?0:2)|Number(V.y&ag),te=Q;return $&&a(Q)&&(te=v(Q),ee^=1),new u(J,te,ee)}return{seed:G,k2sig:z}}const C={lowS:e.lowS,prehash:!1},T={lowS:e.lowS,prehash:!1};function S(P,R,L=C){const{seed:D,k2sig:$}=E(P,R,L);return _6e(e.hash.outputLen,s.BYTES,c)(D,$)}t.BASE.precompute(8);function A(P,R,L,D=T){const $=P;R=us("msgHash",R),L=us("publicKey",L),cL(D);const{lowS:F,prehash:N,format:k}=D;if("strict"in D)throw new Error("options.strict was renamed to lowS");if(k!==void 0&&!["compact","der","js"].includes(k))throw new Error('format must be "compact", "der" or "js"');const j=typeof $=="string"||O7($),W=!j&&!k&&typeof $=="object"&&$!==null&&typeof $.r=="bigint"&&typeof $.s=="bigint";if(!j&&!W)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let G,K;try{if(W)if(k===void 0||k==="js")G=new u($.r,$.s);else throw new Error("invalid format");if(j){try{k!=="compact"&&(G=u.fromDER($))}catch(ee){if(!(ee instanceof ql.Err))throw ee}!G&&k!=="der"&&(G=u.fromCompact($))}K=t.fromHex(L)}catch{return!1}if(!G||F&&G.hasHighS())return!1;N&&(R=e.hash(R));const{r:z,s:X}=G,U=w(R),Z=s.inv(X),V=s.create(U*Z),J=s.create(z*Z),Q=t.BASE.multiplyUnsafe(V).add(K.multiplyUnsafe(J));return Q.is0()?!1:s.create(Q.x)===z}return Object.freeze({getPublicKey:d,getSharedSecret:f,sign:S,verify:A,utils:o,Point:t,Signature:u})}function PEe(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,i=x0(e.n,t.nBitLength),c={Fp:n,Fn:i,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:c}}function IEe(t){const{CURVE:e,curveOpts:n}=PEe(t),i={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,ecdsaOpts:i}}function REe(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function OEe(t){const{CURVE:e,curveOpts:n,ecdsaOpts:i}=IEe(t),c=TEe(e,n),m=AEe(c,i,n);return REe(t,m)}function hS(t,e){const n=i=>OEe({...t,hash:i});return{...n(e),create:n}}const MH={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},$H={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},FH={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},MEe=x0(MH.p),$Ee=x0($H.p),FEe=x0(FH.p),LEe=hS({...MH,Fp:MEe,lowS:!1},C3);hS({...$H,Fp:$Ee,lowS:!1},W4e),hS({...FH,Fp:FEe,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},z4e);const DEe=LEe,LH="base10",Yi="base16",ds="base64pad",fc="base64url",c1="utf8",DH=0,lu=1,h1=2,NEe=0,hL=1,og=12,U7=32;function kEe(){const t=cS.utils.randomPrivateKey(),e=cS.getPublicKey(t);return{privateKey:ws(t,Yi),publicKey:ws(e,Yi)}}function dS(){const t=w0(U7);return ws(t,Yi)}function BEe(t,e){const n=cS.getSharedSecret(Ta(t,Yi),Ta(e,Yi)),i=K6e(T3,n,void 0,void 0,U7);return ws(i,Yi)}function Q2(t){const e=T3(Ta(t,Yi));return ws(e,Yi)}function wa(t){const e=T3(Ta(t,c1));return ws(e,Yi)}function NH(t){return Ta(`${t}`,LH)}function ad(t){return Number(ws(t,LH))}function kH(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function BH(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function UEe(t){const e=NH(typeof t.type<"u"?t.type:DH);if(ad(e)===lu&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?Ta(t.senderPublicKey,Yi):void 0,i=typeof t.iv<"u"?Ta(t.iv,Yi):w0(og),c=Ta(t.symKey,Yi),m=gH(c,i).encrypt(Ta(t.message,c1)),s=UH({type:e,sealed:m,iv:i,senderPublicKey:n});return t.encoding===fc?kH(s):s}function jEe(t){const e=Ta(t.symKey,Yi),{sealed:n,iv:i}=bm({encoded:t.encoded,encoding:t.encoding}),c=gH(e,i).decrypt(n);if(c===null)throw new Error("Failed to decrypt");return ws(c,c1)}function zEe(t,e){const n=NH(h1),i=w0(og),c=Ta(t,c1),m=UH({type:n,sealed:c,iv:i});return e===fc?kH(m):m}function WEe(t,e){const{sealed:n}=bm({encoded:t,encoding:e});return ws(n,c1)}function UH(t){if(ad(t.type)===h1)return ws(rg([t.type,t.sealed]),ds);if(ad(t.type)===lu){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return ws(rg([t.type,t.senderPublicKey,t.iv,t.sealed]),ds)}return ws(rg([t.type,t.iv,t.sealed]),ds)}function bm(t){const e=(t.encoding||ds)===fc?BH(t.encoded):t.encoded,n=Ta(e,ds),i=n.slice(NEe,hL),c=hL;if(ad(i)===lu){const r=c+U7,a=r+og,v=n.slice(c,r),h=n.slice(r,a),u=n.slice(a);return{type:i,sealed:u,iv:h,senderPublicKey:v}}if(ad(i)===h1){const r=n.slice(c),a=w0(og);return{type:i,sealed:r,iv:a}}const m=c+og,s=n.slice(c,m),g=n.slice(m);return{type:i,sealed:g,iv:s}}function GEe(t,e){const n=bm({encoded:t,encoding:e?.encoding});return jH({type:ad(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?ws(n.senderPublicKey,Yi):void 0,receiverPublicKey:e?.receiverPublicKey})}function jH(t){const e=t?.type||DH;if(e===lu){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function dL(t){return t.type===lu&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function fL(t){return t.type===h1}function VEe(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return rg([new Uint8Array([4]),e,n])}function HEe(t,e){const[n,i,c]=t.split("."),m=Buffer.from(BH(c),"base64");if(m.length!==64)throw new Error("Invalid signature length");const s=m.slice(0,32),g=m.slice(32,64),r=`${n}.${i}`,a=T3(r),v=VEe(e);if(!DEe.verify(rg([s,g]),a,v))throw new Error("Invalid signature");return qC(t).payload}const YEe="irn";function Jw(t){return t?.relay||{protocol:YEe}}function up(t){const e=I5e[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function XEe(t,e="-"){const n={},i="relay"+e;return Object.keys(t).forEach(c=>{if(c.startsWith(i)){const m=c.replace(i,""),s=t[c];n[m]=s}}),n}function pL(t){if(!t.includes("wc:")){const a=_V(t);a!=null&&a.includes("wc:")&&(t=a)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,i=t.substring(0,e),c=t.substring(e+1,n).split("@"),m=typeof n<"u"?t.substring(n):"",s=new URLSearchParams(m),g={};s.forEach((a,v)=>{g[v]=a});const r=typeof g.methods=="string"?g.methods.split(","):void 0;return{protocol:i,topic:KEe(c[0]),version:parseInt(c[1],10),symKey:g.symKey,relay:XEe(g),methods:r,expiryTimestamp:g.expiryTimestamp?parseInt(g.expiryTimestamp,10):void 0}}function KEe(t){return t.startsWith("//")?t.substring(2):t}function ZEe(t,e="-"){const n="relay",i={};return Object.keys(t).forEach(c=>{const m=c,s=n+e+m;t[m]&&(i[s]=t[m])}),i}function vL(t){const e=new URLSearchParams,n=ZEe(t.relay);Object.keys(n).sort().forEach(c=>{e.set(c,n[c])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const i=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${i}`}function l2(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var JEe=Object.defineProperty,_Ee=Object.defineProperties,QEe=Object.getOwnPropertyDescriptors,gL=Object.getOwnPropertySymbols,qEe=Object.prototype.hasOwnProperty,e8e=Object.prototype.propertyIsEnumerable,mL=(t,e,n)=>e in t?JEe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,t8e=(t,e)=>{for(var n in e||(e={}))qEe.call(e,n)&&mL(t,n,e[n]);if(gL)for(var n of gL(e))e8e.call(e,n)&&mL(t,n,e[n]);return t},n8e=(t,e)=>_Ee(t,QEe(e));function b0(t){const e=[];return t.forEach(n=>{const[i,c]=n.split(":");e.push(`${i}:${c}`)}),e}function r8e(t){const e=[];return Object.values(t).forEach(n=>{e.push(...b0(n.accounts))}),e}function i8e(t,e){const n=[];return Object.values(t).forEach(i=>{b0(i.accounts).includes(e)&&n.push(...i.methods)}),n}function s8e(t,e){const n=[];return Object.values(t).forEach(i=>{b0(i.accounts).includes(e)&&n.push(...i.events)}),n}function R3(t){return t.includes(":")}function cp(t){return R3(t)?t.split(":")[0]:t}function yL(t){var e,n,i;const c={};if(!hl(t))return c;for(const[m,s]of Object.entries(t)){const g=R3(m)?[m]:s.chains,r=s.methods||[],a=s.events||[],v=cp(m);c[v]=n8e(t8e({},c[v]),{chains:cl(g,(e=c[v])==null?void 0:e.chains),methods:cl(r,(n=c[v])==null?void 0:n.methods),events:cl(a,(i=c[v])==null?void 0:i.events)})}return c}function a8e(t){const e={};return t?.forEach(n=>{var i;const[c,m]=n.split(":");e[c]||(e[c]={accounts:[],chains:[],events:[],methods:[]}),e[c].accounts.push(n),(i=e[c].chains)==null||i.push(`${c}:${m}`)}),e}function wL(t,e){e=e.map(i=>i.replace("did:pkh:",""));const n=a8e(e);for(const[i,c]of Object.entries(n))c.methods?c.methods=cl(c.methods,t):c.methods=t,c.events=["chainChanged","accountsChanged"];return n}function o8e(t,e){var n,i,c,m,s,g;const r=yL(t),a=yL(e),v={},h=Object.keys(r).concat(Object.keys(a));for(const u of h)v[u]={chains:cl((n=r[u])==null?void 0:n.chains,(i=a[u])==null?void 0:i.chains),methods:cl((c=r[u])==null?void 0:c.methods,(m=a[u])==null?void 0:m.methods),events:cl((s=r[u])==null?void 0:s.events,(g=a[u])==null?void 0:g.events)};return v}const l8e={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},u8e={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Qe(t,e){const{message:n,code:i}=u8e[t];return{message:e?`${n} ${e}`:n,code:i}}function Gn(t,e){const{message:n,code:i}=l8e[t];return{message:e?`${n} ${e}`:n,code:i}}function Aa(t,e){return!!Array.isArray(t)}function hl(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Br(t){return typeof t>"u"}function Ar(t,e){return e&&Br(t)?!0:typeof t=="string"&&!!t.trim().length}function j7(t,e){return e&&Br(t)?!0:typeof t=="number"&&!isNaN(t)}function c8e(t,e){const{requiredNamespaces:n}=e,i=Object.keys(t.namespaces),c=Object.keys(n);let m=!0;return Oh(c,i)?(i.forEach(s=>{const{accounts:g,methods:r,events:a}=t.namespaces[s],v=b0(g),h=n[s];(!Oh(YV(s,h),v)||!Oh(h.methods,r)||!Oh(h.events,a))&&(m=!1)}),m):!1}function _w(t){return Ar(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function h8e(t){if(Ar(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&_w(n)}}return!1}function d8e(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(Ar(t,!1)){if(e(t))return!0;const n=_V(t);return e(n)}}catch{}return!1}function f8e(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function p8e(t){return t?.topic}function v8e(t,e){let n=null;return Ar(t?.publicKey,!1)||(n=Qe("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function xL(t){let e=!0;return Aa(t)?t.length&&(e=t.every(n=>Ar(n,!1))):e=!1,e}function g8e(t,e,n){let i=null;return Aa(e)&&e.length?e.forEach(c=>{i||_w(c)||(i=Gn("UNSUPPORTED_CHAINS",`${n}, chain ${c} should be a string and conform to "namespace:chainId" format`))}):_w(t)||(i=Gn("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),i}function m8e(t,e,n){let i=null;return Object.entries(t).forEach(([c,m])=>{if(i)return;const s=g8e(c,YV(c,m),`${e} ${n}`);s&&(i=s)}),i}function y8e(t,e){let n=null;return Aa(t)?t.forEach(i=>{n||h8e(i)||(n=Gn("UNSUPPORTED_ACCOUNTS",`${e}, account ${i} should be a string and conform to "namespace:chainId:address" format`))}):n=Gn("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function w8e(t,e){let n=null;return Object.values(t).forEach(i=>{if(n)return;const c=y8e(i?.accounts,`${e} namespace`);c&&(n=c)}),n}function x8e(t,e){let n=null;return xL(t?.methods)?xL(t?.events)||(n=Gn("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=Gn("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function zH(t,e){let n=null;return Object.values(t).forEach(i=>{if(n)return;const c=x8e(i,`${e}, namespace`);c&&(n=c)}),n}function b8e(t,e,n){let i=null;if(t&&hl(t)){const c=zH(t,e);c&&(i=c);const m=m8e(t,e,n);m&&(i=m)}else i=Qe("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return i}function iE(t,e){let n=null;if(t&&hl(t)){const i=zH(t,e);i&&(n=i);const c=w8e(t,e);c&&(n=c)}else n=Qe("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function WH(t){return Ar(t.protocol,!0)}function E8e(t,e){let n=!1;return t?t&&Aa(t)&&t.length&&t.forEach(i=>{n=WH(i)}):n=!0,n}function C8e(t){return typeof t=="number"}function ls(t){return typeof t<"u"&&typeof t!==null}function S8e(t){return!(!t||typeof t!="object"||!t.code||!j7(t.code,!1)||!t.message||!Ar(t.message,!1))}function T8e(t){return!(Br(t)||!Ar(t.method,!1))}function A8e(t){return!(Br(t)||Br(t.result)&&Br(t.error)||!j7(t.id,!1)||!Ar(t.jsonrpc,!1))}function P8e(t){return!(Br(t)||!Ar(t.name,!1))}function bL(t,e){return!(!_w(e)||!r8e(t).includes(e))}function I8e(t,e,n){return Ar(n,!1)?i8e(t,e).includes(n):!1}function R8e(t,e,n){return Ar(n,!1)?s8e(t,e).includes(n):!1}function EL(t,e,n){let i=null;const c=O8e(t),m=M8e(e),s=Object.keys(c),g=Object.keys(m),r=CL(Object.keys(t)),a=CL(Object.keys(e)),v=r.filter(h=>!a.includes(h));return v.length&&(i=Qe("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${v.toString()}
      Received: ${Object.keys(e).toString()}`)),Oh(s,g)||(i=Qe("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${s.toString()}
      Approved: ${g.toString()}`)),Object.keys(e).forEach(h=>{if(!h.includes(":")||i)return;const u=b0(e[h].accounts);u.includes(h)||(i=Qe("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${h}
        Required: ${h}
        Approved: ${u.toString()}`))}),s.forEach(h=>{i||(Oh(c[h].methods,m[h].methods)?Oh(c[h].events,m[h].events)||(i=Qe("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${h}`)):i=Qe("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${h}`))}),i}function O8e(t){const e={};return Object.keys(t).forEach(n=>{var i;n.includes(":")?e[n]=t[n]:(i=t[n].chains)==null||i.forEach(c=>{e[c]={methods:t[n].methods,events:t[n].events}})}),e}function CL(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function M8e(t){const e={};return Object.keys(t).forEach(n=>{n.includes(":")?e[n]=t[n]:b0(t[n].accounts)?.forEach(c=>{e[c]={accounts:t[n].accounts.filter(m=>m.includes(`${c}:`)),methods:t[n].methods,events:t[n].events}})}),e}function $8e(t,e){return j7(t,!1)&&t<=e.max&&t>=e.min}function SL(){const t=l1();return new Promise(e=>{switch(t){case Zs.browser:e(F8e());break;case Zs.reactNative:e(L8e());break;case Zs.node:e(D8e());break;default:e(!0)}})}function F8e(){return y0()&&navigator?.onLine}async function L8e(){return Fc()&&typeof global<"u"&&global!=null&&global.NetInfo?(await(global==null?void 0:global.NetInfo.fetch()))?.isConnected:!0}function D8e(){return!0}function N8e(t){switch(l1()){case Zs.browser:k8e(t);break;case Zs.reactNative:B8e(t);break}}function k8e(t){!Fc()&&y0()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function B8e(t){Fc()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>t(e?.isConnected))}function U8e(){var t;return y0()&&gu.getDocument()?((t=gu.getDocument())==null?void 0:t.visibilityState)==="visible":!0}const sE={};let bv=class{static get(e){return sE[e]}static set(e,n){sE[e]=n}static delete(e){delete sE[e]}};function j8e(t){const e=s1.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function z8e({publicKey:t,signature:e,payload:n}){var i;const c=fS(n.method),m=128|parseInt(((i=n.version)==null?void 0:i.toString())||"4"),s=V8e(n.address),g=n.era==="00"?new Uint8Array([0]):fS(n.era);if(g.length!==1&&g.length!==2)throw new Error("Invalid era length");const r=parseInt(n.nonce,16),a=new Uint8Array([r&255,r>>8&255]),v=BigInt(`0x${G8e(n.tip)}`),h=Y8e(v),u=new Uint8Array([0,...t,s,...e,...g,...a,...h,...c]),l=H8e(u.length+1);return new Uint8Array([...l,m,...u])}function W8e(t){const e=fS(t),n=$5e.blake2b(e,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function fS(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function G8e(t){return t.startsWith("0x")?t.slice(2):t}function V8e(t){const e=s1.decode(t)[0];return e===42?0:e===60?2:1}function H8e(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function Y8e(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function X8e(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),n=j8e(t.transaction.address),i=z8e({publicKey:n,signature:e,payload:t.transaction}),c=Buffer.from(i).toString("hex");return W8e(c)}class Sd{}let K8e=class extends Sd{constructor(e){super()}};const TL=qe.FIVE_SECONDS,Td={pulse:"heartbeat_pulse"};let Z8e=class GH extends K8e{constructor(e){super(e),this.events=new na.EventEmitter,this.interval=TL,this.interval=e?.interval||TL}static async init(e){const n=new GH(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),qe.toMiliseconds(this.interval))}pulse(){this.events.emit(Td.pulse)}};function J8e(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function Qr(t,...e){try{return J8e(t(...e))}catch(n){return Promise.reject(n)}}function _8e(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function Q8e(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function q2(t){if(_8e(t))return String(t);if(Q8e(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return q2(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const pS="base64:";function q8e(t){return typeof t=="string"?t:pS+nCe(t)}function eCe(t){return typeof t!="string"||!t.startsWith(pS)?t:tCe(t.slice(pS.length))}function tCe(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function nCe(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function os(t){return t&&t.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function rCe(...t){return os(t.join(":"))}function u2(t){return t=os(t),t?t+":":""}function iCe(t,e){if(e===void 0)return!0;let n=0,i=t.indexOf(":");for(;i>-1;)n++,i=t.indexOf(":",i+1);return n<=e}function sCe(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const aCe="memory",oCe=()=>{const t=new Map;return{name:aCe,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function lCe(t={}){const e={mounts:{"":t.driver||oCe()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=a=>{for(const v of e.mountpoints)if(a.startsWith(v))return{base:v,relativeKey:a.slice(v.length),driver:e.mounts[v]};return{base:"",relativeKey:a,driver:e.mounts[""]}},i=(a,v)=>e.mountpoints.filter(h=>h.startsWith(a)||v&&a.startsWith(h)).map(h=>({relativeBase:a.length>h.length?a.slice(h.length):void 0,mountpoint:h,driver:e.mounts[h]})),c=(a,v)=>{if(e.watching){v=os(v);for(const h of e.watchListeners)h(a,v)}},m=async()=>{if(!e.watching){e.watching=!0;for(const a in e.mounts)e.unwatch[a]=await AL(e.mounts[a],c,a)}},s=async()=>{if(e.watching){for(const a in e.unwatch)await e.unwatch[a]();e.unwatch={},e.watching=!1}},g=(a,v,h)=>{const u=new Map,l=o=>{let d=u.get(o.base);return d||(d={driver:o.driver,base:o.base,items:[]},u.set(o.base,d)),d};for(const o of a){const d=typeof o=="string",p=os(d?o:o.key),f=d?void 0:o.value,y=d||!o.options?v:{...v,...o.options},w=n(p);l(w).items.push({key:p,value:f,relativeKey:w.relativeKey,options:y})}return Promise.all([...u.values()].map(o=>h(o))).then(o=>o.flat())},r={hasItem(a,v={}){a=os(a);const{relativeKey:h,driver:u}=n(a);return Qr(u.hasItem,h,v)},getItem(a,v={}){a=os(a);const{relativeKey:h,driver:u}=n(a);return Qr(u.getItem,h,v).then(l=>jv(l))},getItems(a,v={}){return g(a,v,h=>h.driver.getItems?Qr(h.driver.getItems,h.items.map(u=>({key:u.relativeKey,options:u.options})),v).then(u=>u.map(l=>({key:rCe(h.base,l.key),value:jv(l.value)}))):Promise.all(h.items.map(u=>Qr(h.driver.getItem,u.relativeKey,u.options).then(l=>({key:u.key,value:jv(l)})))))},getItemRaw(a,v={}){a=os(a);const{relativeKey:h,driver:u}=n(a);return u.getItemRaw?Qr(u.getItemRaw,h,v):Qr(u.getItem,h,v).then(l=>eCe(l))},async setItem(a,v,h={}){if(v===void 0)return r.removeItem(a);a=os(a);const{relativeKey:u,driver:l}=n(a);l.setItem&&(await Qr(l.setItem,u,q2(v),h),l.watch||c("update",a))},async setItems(a,v){await g(a,v,async h=>{if(h.driver.setItems)return Qr(h.driver.setItems,h.items.map(u=>({key:u.relativeKey,value:q2(u.value),options:u.options})),v);h.driver.setItem&&await Promise.all(h.items.map(u=>Qr(h.driver.setItem,u.relativeKey,q2(u.value),u.options)))})},async setItemRaw(a,v,h={}){if(v===void 0)return r.removeItem(a,h);a=os(a);const{relativeKey:u,driver:l}=n(a);if(l.setItemRaw)await Qr(l.setItemRaw,u,v,h);else if(l.setItem)await Qr(l.setItem,u,q8e(v),h);else return;l.watch||c("update",a)},async removeItem(a,v={}){typeof v=="boolean"&&(v={removeMeta:v}),a=os(a);const{relativeKey:h,driver:u}=n(a);u.removeItem&&(await Qr(u.removeItem,h,v),(v.removeMeta||v.removeMata)&&await Qr(u.removeItem,h+"$",v),u.watch||c("remove",a))},async getMeta(a,v={}){typeof v=="boolean"&&(v={nativeOnly:v}),a=os(a);const{relativeKey:h,driver:u}=n(a),l=Object.create(null);if(u.getMeta&&Object.assign(l,await Qr(u.getMeta,h,v)),!v.nativeOnly){const o=await Qr(u.getItem,h+"$",v).then(d=>jv(d));o&&typeof o=="object"&&(typeof o.atime=="string"&&(o.atime=new Date(o.atime)),typeof o.mtime=="string"&&(o.mtime=new Date(o.mtime)),Object.assign(l,o))}return l},setMeta(a,v,h={}){return this.setItem(a+"$",v,h)},removeMeta(a,v={}){return this.removeItem(a+"$",v)},async getKeys(a,v={}){a=u2(a);const h=i(a,!0);let u=[];const l=[];let o=!0;for(const p of h){p.driver.flags?.maxDepth||(o=!1);const f=await Qr(p.driver.getKeys,p.relativeBase,v);for(const y of f){const w=p.mountpoint+os(y);u.some(x=>w.startsWith(x))||l.push(w)}u=[p.mountpoint,...u.filter(y=>!y.startsWith(p.mountpoint))]}const d=v.maxDepth!==void 0&&!o;return l.filter(p=>(!d||iCe(p,v.maxDepth))&&sCe(p,a))},async clear(a,v={}){a=u2(a),await Promise.all(i(a,!1).map(async h=>{if(h.driver.clear)return Qr(h.driver.clear,h.relativeBase,v);if(h.driver.removeItem){const u=await h.driver.getKeys(h.relativeBase||"",v);return Promise.all(u.map(l=>h.driver.removeItem(l,v)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(a=>PL(a)))},async watch(a){return await m(),e.watchListeners.push(a),async()=>{e.watchListeners=e.watchListeners.filter(v=>v!==a),e.watchListeners.length===0&&await s()}},async unwatch(){e.watchListeners=[],await s()},mount(a,v){if(a=u2(a),a&&e.mounts[a])throw new Error(`already mounted at ${a}`);return a&&(e.mountpoints.push(a),e.mountpoints.sort((h,u)=>u.length-h.length)),e.mounts[a]=v,e.watching&&Promise.resolve(AL(v,c,a)).then(h=>{e.unwatch[a]=h}).catch(console.error),r},async unmount(a,v=!0){a=u2(a),!(!a||!e.mounts[a])&&(e.watching&&a in e.unwatch&&(e.unwatch[a]?.(),delete e.unwatch[a]),v&&await PL(e.mounts[a]),e.mountpoints=e.mountpoints.filter(h=>h!==a),delete e.mounts[a])},getMount(a=""){a=os(a)+":";const v=n(a);return{driver:v.driver,base:v.base}},getMounts(a="",v={}){return a=os(a),i(a,v.parents).map(u=>({driver:u.driver,base:u.mountpoint}))},keys:(a,v={})=>r.getKeys(a,v),get:(a,v={})=>r.getItem(a,v),set:(a,v,h={})=>r.setItem(a,v,h),has:(a,v={})=>r.hasItem(a,v),del:(a,v={})=>r.removeItem(a,v),remove:(a,v={})=>r.removeItem(a,v)};return r}function AL(t,e,n){return t.watch?t.watch((i,c)=>e(i,n+c)):()=>{}}async function PL(t){typeof t.dispose=="function"&&await Qr(t.dispose)}function Ad(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function VH(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const i=Ad(n);return(c,m)=>i.then(s=>m(s.transaction(e,c).objectStore(e)))}let aE;function d1(){return aE||(aE=VH("keyval-store","keyval")),aE}function IL(t,e=d1()){return e("readonly",n=>Ad(n.get(t)))}function uCe(t,e,n=d1()){return n("readwrite",i=>(i.put(e,t),Ad(i.transaction)))}function cCe(t,e=d1()){return e("readwrite",n=>(n.delete(t),Ad(n.transaction)))}function hCe(t=d1()){return t("readwrite",e=>(e.clear(),Ad(e.transaction)))}function dCe(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Ad(t.transaction)}function fCe(t=d1()){return t("readonly",e=>{if(e.getAllKeys)return Ad(e.getAllKeys());const n=[];return dCe(e,i=>n.push(i.key)).then(()=>n)})}const pCe="idb-keyval";var vCe=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=c=>e+c;let i;return t.dbName&&t.storeName&&(i=VH(t.dbName,t.storeName)),{name:pCe,options:t,async hasItem(c){return!(typeof await IL(n(c),i)>"u")},async getItem(c){return await IL(n(c),i)??null},setItem(c,m){return uCe(n(c),m,i)},removeItem(c){return cCe(n(c),i)},getKeys(){return fCe(i)},clear(){return hCe(i)}}};const gCe="WALLET_CONNECT_V2_INDEXED_DB",mCe="keyvaluestorage";let yCe=class{constructor(){this.indexedDb=lCe({driver:vCe({dbName:gCe,storeName:mCe})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,mu(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var oE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ew={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,i){this[n]=String(i)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(i){n[i]=void 0,delete n[i]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof oE<"u"&&oE.localStorage?ew.exports=oE.localStorage:typeof window<"u"&&window.localStorage?ew.exports=window.localStorage:ew.exports=new e})();function wCe(t){var e;return[t[0],id((e=t[1])!=null?e:"")]}let xCe=class{constructor(){this.localStorage=ew.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(wCe)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return id(n)}async setItem(e,n){this.localStorage.setItem(e,mu(n))}async removeItem(e){this.localStorage.removeItem(e)}};const bCe="wc_storage_version",RL=1,ECe=async(t,e,n)=>{const i=bCe,c=await e.getItem(i);if(c&&c>=RL){n(e);return}const m=await t.getKeys();if(!m.length){n(e);return}const s=[];for(;m.length;){const g=m.shift();if(!g)continue;const r=g.toLowerCase();if(r.includes("wc@")||r.includes("walletconnect")||r.includes("wc_")||r.includes("wallet_connect")){const a=await t.getItem(g);await e.setItem(g,a),s.push(g)}}await e.setItem(i,RL),n(e),CCe(t,s)},CCe=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let SCe=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new xCe;this.storage=e;try{const n=new yCe;ECe(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};var lE,OL;function TCe(){if(OL)return lE;OL=1;function t(n){try{return JSON.stringify(n)}catch{return'"[Circular]"'}}lE=e;function e(n,i,c){var m=c&&c.stringify||t,s=1;if(typeof n=="object"&&n!==null){var g=i.length+s;if(g===1)return n;var r=new Array(g);r[0]=m(n);for(var a=1;a<g;a++)r[a]=m(i[a]);return r.join(" ")}if(typeof n!="string")return n;var v=i.length;if(v===0)return n;for(var h="",u=1-s,l=-1,o=n&&n.length||0,d=0;d<o;){if(n.charCodeAt(d)===37&&d+1<o){switch(l=l>-1?l:0,n.charCodeAt(d+1)){case 100:case 102:if(u>=v||i[u]==null)break;l<d&&(h+=n.slice(l,d)),h+=Number(i[u]),l=d+2,d++;break;case 105:if(u>=v||i[u]==null)break;l<d&&(h+=n.slice(l,d)),h+=Math.floor(Number(i[u])),l=d+2,d++;break;case 79:case 111:case 106:if(u>=v||i[u]===void 0)break;l<d&&(h+=n.slice(l,d));var p=typeof i[u];if(p==="string"){h+="'"+i[u]+"'",l=d+2,d++;break}if(p==="function"){h+=i[u].name||"<anonymous>",l=d+2,d++;break}h+=m(i[u]),l=d+2,d++;break;case 115:if(u>=v)break;l<d&&(h+=n.slice(l,d)),h+=String(i[u]),l=d+2,d++;break;case 37:l<d&&(h+=n.slice(l,d)),h+="%",l=d+2,d++,u--;break}++u}++d}return l===-1?n:(l<o&&(h+=n.slice(l)),h)}return lE}var uE,ML;function ACe(){if(ML)return uE;ML=1;const t=TCe();uE=c;const e=b().console||{},n={mapHttpRequest:o,mapHttpResponse:o,wrapRequestSerializer:d,wrapResponseSerializer:d,wrapErrorSerializer:d,req:o,res:o,err:u};function i(E,C){return Array.isArray(E)?E.filter(function(S){return S!=="!stdSerializers.err"}):E===!0?Object.keys(C):!1}function c(E){E=E||{},E.browser=E.browser||{};const C=E.browser.transmit;if(C&&typeof C.send!="function")throw Error("pino: transmit option must have a send function");const T=E.browser.write||e;E.browser.write&&(E.browser.asObject=!0);const S=E.serializers||{},A=i(E.browser.serialize,S);let P=E.browser.serialize;Array.isArray(E.browser.serialize)&&E.browser.serialize.indexOf("!stdSerializers.err")>-1&&(P=!1);const R=["error","fatal","warn","info","debug","trace"];typeof T=="function"&&(T.error=T.fatal=T.warn=T.info=T.debug=T.trace=T),E.enabled===!1&&(E.level="silent");const L=E.level||"info",D=Object.create(T);D.log||(D.log=p),Object.defineProperty(D,"levelVal",{get:F}),Object.defineProperty(D,"level",{get:N,set:k});const $={transmit:C,serialize:A,asObject:E.browser.asObject,levels:R,timestamp:l(E)};D.levels=c.levels,D.level=L,D.setMaxListeners=D.getMaxListeners=D.emit=D.addListener=D.on=D.prependListener=D.once=D.prependOnceListener=D.removeListener=D.removeAllListeners=D.listeners=D.listenerCount=D.eventNames=D.write=D.flush=p,D.serializers=S,D._serialize=A,D._stdErrSerialize=P,D.child=j,C&&(D._logEvent=h());function F(){return this.level==="silent"?1/0:this.levels.values[this.level]}function N(){return this._level}function k(W){if(W!=="silent"&&!this.levels.values[W])throw Error("unknown level "+W);this._level=W,m($,D,"error","log"),m($,D,"fatal","error"),m($,D,"warn","error"),m($,D,"info","log"),m($,D,"debug","log"),m($,D,"trace","log")}function j(W,G){if(!W)throw new Error("missing bindings for child Pino");G=G||{},A&&W.serializers&&(G.serializers=W.serializers);const K=G.serializers;if(A&&K){var z=Object.assign({},S,K),X=E.browser.serialize===!0?Object.keys(z):A;delete W.serializers,r([W],X,z,this._stdErrSerialize)}function U(Z){this._childLevel=(Z._childLevel|0)+1,this.error=a(Z,W,"error"),this.fatal=a(Z,W,"fatal"),this.warn=a(Z,W,"warn"),this.info=a(Z,W,"info"),this.debug=a(Z,W,"debug"),this.trace=a(Z,W,"trace"),z&&(this.serializers=z,this._serialize=X),C&&(this._logEvent=h([].concat(Z._logEvent.bindings,W)))}return U.prototype=this,new U(this)}return D}c.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},c.stdSerializers=n,c.stdTimeFunctions=Object.assign({},{nullTime:f,epochTime:y,unixTime:w,isoTime:x});function m(E,C,T,S){const A=Object.getPrototypeOf(C);C[T]=C.levelVal>C.levels.values[T]?p:A[T]?A[T]:e[T]||e[S]||p,s(E,C,T)}function s(E,C,T){!E.transmit&&C[T]===p||(C[T]=(function(S){return function(){const P=E.timestamp(),R=new Array(arguments.length),L=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var D=0;D<R.length;D++)R[D]=arguments[D];if(E.serialize&&!E.asObject&&r(R,this._serialize,this.serializers,this._stdErrSerialize),E.asObject?S.call(L,g(this,T,R,P)):S.apply(L,R),E.transmit){const $=E.transmit.level||C.level,F=c.levels.values[$],N=c.levels.values[T];if(N<F)return;v(this,{ts:P,methodLevel:T,methodValue:N,transmitValue:c.levels.values[E.transmit.level||C.level],send:E.transmit.send,val:C.levelVal},R)}}})(C[T]))}function g(E,C,T,S){E._serialize&&r(T,E._serialize,E.serializers,E._stdErrSerialize);const A=T.slice();let P=A[0];const R={};S&&(R.time=S),R.level=c.levels.values[C];let L=(E._childLevel|0)+1;if(L<1&&(L=1),P!==null&&typeof P=="object"){for(;L--&&typeof A[0]=="object";)Object.assign(R,A.shift());P=A.length?t(A.shift(),A):void 0}else typeof P=="string"&&(P=t(A.shift(),A));return P!==void 0&&(R.msg=P),R}function r(E,C,T,S){for(const A in E)if(S&&E[A]instanceof Error)E[A]=c.stdSerializers.err(E[A]);else if(typeof E[A]=="object"&&!Array.isArray(E[A]))for(const P in E[A])C&&C.indexOf(P)>-1&&P in T&&(E[A][P]=T[P](E[A][P]))}function a(E,C,T){return function(){const S=new Array(1+arguments.length);S[0]=C;for(var A=1;A<S.length;A++)S[A]=arguments[A-1];return E[T].apply(this,S)}}function v(E,C,T){const S=C.send,A=C.ts,P=C.methodLevel,R=C.methodValue,L=C.val,D=E._logEvent.bindings;r(T,E._serialize||Object.keys(E.serializers),E.serializers,E._stdErrSerialize===void 0?!0:E._stdErrSerialize),E._logEvent.ts=A,E._logEvent.messages=T.filter(function($){return D.indexOf($)===-1}),E._logEvent.level.label=P,E._logEvent.level.value=R,S(P,E._logEvent,L),E._logEvent=h(D)}function h(E){return{ts:0,messages:[],bindings:E||[],level:{label:"",value:0}}}function u(E){const C={type:E.constructor.name,msg:E.message,stack:E.stack};for(const T in E)C[T]===void 0&&(C[T]=E[T]);return C}function l(E){return typeof E.timestamp=="function"?E.timestamp:E.timestamp===!1?f:y}function o(){return{}}function d(E){return E}function p(){}function f(){return!1}function y(){return Date.now()}function w(){return Math.round(Date.now()/1e3)}function x(){return new Date(Date.now()).toISOString()}function b(){function E(C){return typeof C<"u"&&C}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return E(self)||E(window)||E(this)||{}}}return uE}var ep=ACe();const f1=La(ep),PCe={level:"info"},p1="custom_context",z7=1e3*1024;let ICe=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},$L=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new ICe(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},HH=class{constructor(e,n=z7){this.level=e??"error",this.levelValue=ep.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new $L(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===ep.levels.values.error?console.error(e):n===ep.levels.values.warn?console.warn(e):n===ep.levels.values.debug?console.debug(e):n===ep.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(mu({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new $L(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(mu({extraMetadata:e})),new Blob(n,{type:"application/json"})}},RCe=class{constructor(e,n=z7){this.baseChunkLogger=new HH(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),i=document.createElement("a");i.href=n,i.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n)}},OCe=class{constructor(e,n=z7){this.baseChunkLogger=new HH(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var MCe=Object.defineProperty,$Ce=Object.defineProperties,FCe=Object.getOwnPropertyDescriptors,FL=Object.getOwnPropertySymbols,LCe=Object.prototype.hasOwnProperty,DCe=Object.prototype.propertyIsEnumerable,LL=(t,e,n)=>e in t?MCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Qw=(t,e)=>{for(var n in e||(e={}))LCe.call(e,n)&&LL(t,n,e[n]);if(FL)for(var n of FL(e))DCe.call(e,n)&&LL(t,n,e[n]);return t},qw=(t,e)=>$Ce(t,FCe(e));function O3(t){return qw(Qw({},t),{level:t?.level||PCe.level})}function NCe(t,e=p1){return t[e]||""}function kCe(t,e,n=p1){return t[n]=e,t}function Ss(t,e=p1){let n="";return typeof t.bindings>"u"?n=NCe(t,e):n=t.bindings().context||"",n}function BCe(t,e,n=p1){const i=Ss(t,n);return i.trim()?`${i}/${e}`:e}function Ki(t,e,n=p1){const i=BCe(t,e,n),c=t.child({context:i});return kCe(c,i,n)}function UCe(t){var e,n;const i=new RCe((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:f1(qw(Qw({},t.opts),{level:"trace",browser:qw(Qw({},(n=t.opts)==null?void 0:n.browser),{write:c=>i.write(c)})})),chunkLoggerController:i}}function jCe(t){var e;const n=new OCe((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:f1(qw(Qw({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function zCe(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?UCe(t):jCe(t)}var WCe=Object.defineProperty,GCe=(t,e,n)=>e in t?WCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,DL=(t,e,n)=>GCe(t,typeof e!="symbol"?e+"":e,n);let VCe=class extends Sd{constructor(e){super(),this.opts=e,DL(this,"protocol","wc"),DL(this,"version",2)}};var HCe=Object.defineProperty,YCe=(t,e,n)=>e in t?HCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,XCe=(t,e,n)=>YCe(t,e+"",n);let KCe=class extends Sd{constructor(e,n){super(),this.core=e,this.logger=n,XCe(this,"records",new Map)}},ZCe=class{constructor(e,n){this.logger=e,this.core=n}},JCe=class extends Sd{constructor(e,n){super(),this.relayer=e,this.logger=n}},_Ce=class extends Sd{constructor(e){super()}},QCe=class{constructor(e,n,i,c){this.core=e,this.logger=n,this.name=i}},qCe=class extends Sd{constructor(e,n){super(),this.relayer=e,this.logger=n}},eSe=class extends Sd{constructor(e,n){super(),this.core=e,this.logger=n}},tSe=class{constructor(e,n,i){this.core=e,this.logger=n,this.store=i}},nSe=class{constructor(e,n){this.projectId=e,this.logger=n}},rSe=class{constructor(e,n,i){this.core=e,this.logger=n,this.telemetryEnabled=i}};var iSe=Object.defineProperty,sSe=(t,e,n)=>e in t?iSe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,NL=(t,e,n)=>sSe(t,typeof e!="symbol"?e+"":e,n);let aSe=class{constructor(e){this.opts=e,NL(this,"protocol","wc"),NL(this,"version",2)}},oSe=class{constructor(e){this.client=e}};const lSe="PARSE_ERROR",uSe="INVALID_REQUEST",cSe="METHOD_NOT_FOUND",hSe="INVALID_PARAMS",YH="INTERNAL_ERROR",W7="SERVER_ERROR",dSe=[-32700,-32600,-32601,-32602,-32603],lg={[lSe]:{code:-32700,message:"Parse error"},[uSe]:{code:-32600,message:"Invalid Request"},[cSe]:{code:-32601,message:"Method not found"},[hSe]:{code:-32602,message:"Invalid params"},[YH]:{code:-32603,message:"Internal error"},[W7]:{code:-32e3,message:"Server error"}},XH=W7;function fSe(t){return dSe.includes(t)}function kL(t){return Object.keys(lg).includes(t)?lg[t]:lg[XH]}function pSe(t){const e=Object.values(lg).find(n=>n.code===t);return e||lg[XH]}function KH(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var cE={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var vS=function(t,e){return vS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var c in i)i.hasOwnProperty(c)&&(n[c]=i[c])},vS(t,e)};function vSe(t,e){vS(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var gS=function(){return gS=Object.assign||function(e){for(var n,i=1,c=arguments.length;i<c;i++){n=arguments[i];for(var m in n)Object.prototype.hasOwnProperty.call(n,m)&&(e[m]=n[m])}return e},gS.apply(this,arguments)};function gSe(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(t);c<i.length;c++)e.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(t,i[c])&&(n[i[c]]=t[i[c]]);return n}function mSe(t,e,n,i){var c=arguments.length,m=c<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(t,e,n,i);else for(var g=t.length-1;g>=0;g--)(s=t[g])&&(m=(c<3?s(m):c>3?s(e,n,m):s(e,n))||m);return c>3&&m&&Object.defineProperty(e,n,m),m}function ySe(t,e){return function(n,i){e(n,i,t)}}function wSe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function xSe(t,e,n,i){function c(m){return m instanceof n?m:new n(function(s){s(m)})}return new(n||(n=Promise))(function(m,s){function g(v){try{a(i.next(v))}catch(h){s(h)}}function r(v){try{a(i.throw(v))}catch(h){s(h)}}function a(v){v.done?m(v.value):c(v.value).then(g,r)}a((i=i.apply(t,e||[])).next())})}function bSe(t,e){var n={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},i,c,m,s;return s={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function g(a){return function(v){return r([a,v])}}function r(a){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,c&&(m=a[0]&2?c.return:a[0]?c.throw||((m=c.return)&&m.call(c),0):c.next)&&!(m=m.call(c,a[1])).done)return m;switch(c=0,m&&(a=[a[0]&2,m.value]),a[0]){case 0:case 1:m=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,c=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(m=n.trys,!(m=m.length>0&&m[m.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!m||a[1]>m[0]&&a[1]<m[3])){n.label=a[1];break}if(a[0]===6&&n.label<m[1]){n.label=m[1],m=a;break}if(m&&n.label<m[2]){n.label=m[2],n.ops.push(a);break}m[2]&&n.ops.pop(),n.trys.pop();continue}a=e.call(t,n)}catch(v){a=[6,v],c=0}finally{i=m=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function ESe(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]}function CSe(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function mS(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ZH(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var i=n.call(t),c,m=[],s;try{for(;(e===void 0||e-- >0)&&!(c=i.next()).done;)m.push(c.value)}catch(g){s={error:g}}finally{try{c&&!c.done&&(n=i.return)&&n.call(i)}finally{if(s)throw s.error}}return m}function SSe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ZH(arguments[e]));return t}function TSe(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),c=0,e=0;e<n;e++)for(var m=arguments[e],s=0,g=m.length;s<g;s++,c++)i[c]=m[s];return i}function Em(t){return this instanceof Em?(this.v=t,this):new Em(t)}function ASe(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),c,m=[];return c={},s("next"),s("throw"),s("return"),c[Symbol.asyncIterator]=function(){return this},c;function s(u){i[u]&&(c[u]=function(l){return new Promise(function(o,d){m.push([u,l,o,d])>1||g(u,l)})})}function g(u,l){try{r(i[u](l))}catch(o){h(m[0][3],o)}}function r(u){u.value instanceof Em?Promise.resolve(u.value.v).then(a,v):h(m[0][2],u)}function a(u){g("next",u)}function v(u){g("throw",u)}function h(u,l){u(l),m.shift(),m.length&&g(m[0][0],m[0][1])}}function PSe(t){var e,n;return e={},i("next"),i("throw",function(c){throw c}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(c,m){e[c]=t[c]?function(s){return(n=!n)?{value:Em(t[c](s)),done:c==="return"}:m?m(s):s}:m}}function ISe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof mS=="function"?mS(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(m){n[m]=t[m]&&function(s){return new Promise(function(g,r){s=t[m](s),c(g,r,s.done,s.value)})}}function c(m,s,g,r){Promise.resolve(r).then(function(a){m({value:a,done:g})},s)}}function RSe(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function OSe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function MSe(t){return t&&t.__esModule?t:{default:t}}function $Se(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function FSe(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const LSe=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return gS},__asyncDelegator:PSe,__asyncGenerator:ASe,__asyncValues:ISe,__await:Em,__awaiter:xSe,__classPrivateFieldGet:$Se,__classPrivateFieldSet:FSe,__createBinding:ESe,__decorate:mSe,__exportStar:CSe,__extends:vSe,__generator:bSe,__importDefault:MSe,__importStar:OSe,__makeTemplateObject:RSe,__metadata:wSe,__param:ySe,__read:ZH,__rest:gSe,__spread:SSe,__spreadArrays:TSe,__values:mS},Symbol.toStringTag,{value:"Module"})),DSe=Rx(LSe);var Wl={},BL;function NSe(){if(BL)return Wl;BL=1,Object.defineProperty(Wl,"__esModule",{value:!0}),Wl.isBrowserCryptoAvailable=Wl.getSubtleCrypto=Wl.getBrowerCrypto=void 0;function t(){return tl?.crypto||tl?.msCrypto||{}}Wl.getBrowerCrypto=t;function e(){const i=t();return i.subtle||i.webkitSubtle}Wl.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return Wl.isBrowserCryptoAvailable=n,Wl}var Gl={},UL;function kSe(){if(UL)return Gl;UL=1,Object.defineProperty(Gl,"__esModule",{value:!0}),Gl.isBrowser=Gl.isNode=Gl.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Gl.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Gl.isNode=e;function n(){return!t()&&!e()}return Gl.isBrowser=n,Gl}var jL;function BSe(){return jL||(jL=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=DSe;e.__exportStar(NSe(),t),e.__exportStar(kSe(),t)})(cE)),cE}var USe=BSe();function qo(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function mc(t=6){return BigInt(qo(t))}function il(t,e,n){return{id:n||qo(),jsonrpc:"2.0",method:t,params:e}}function Cm(t,e){return{id:t,jsonrpc:"2.0",result:e}}function M3(t,e,n){return{id:t,jsonrpc:"2.0",error:jSe(e)}}function jSe(t,e){return typeof t>"u"?kL(YH):(typeof t=="string"&&(t=Object.assign(Object.assign({},kL(W7)),{message:t})),fSe(t.code)&&(t=pSe(t.code)),t)}let zSe=class{},WSe=class extends zSe{constructor(){super()}},GSe=class extends WSe{constructor(e){super()}};const VSe="^https?:",HSe="^wss?:";function YSe(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function JH(t,e){const n=YSe(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function zL(t){return JH(t,VSe)}function WL(t){return JH(t,HSe)}function XSe(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function _H(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function G7(t){return _H(t)&&"method"in t}function $3(t){return _H(t)&&(el(t)||xa(t))}function el(t){return"result"in t}function xa(t){return"error"in t}let Ba=class extends GSe{constructor(e){super(e),this.events=new na.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(il(e.method,e.params||[],e.id||mc().toString()),n)}async requestStrict(e,n){return new Promise(async(i,c)=>{if(!this.connection.connected)try{await this.open()}catch(m){c(m)}this.events.on(`${e.id}`,m=>{xa(m)?c(m.error):i(m.result)});try{await this.connection.send(e,n)}catch(m){c(m)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),$3(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const KSe=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),ZSe=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",GL=t=>t.split("?")[0],VL=10,JSe=KSe();let _Se=class{constructor(e){if(this.url=e,this.events=new na.EventEmitter,this.registering=!1,!WL(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=i=>{this.onClose(i),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(mu(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!WL(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((i,c)=>{this.events.once("register_error",m=>{this.resetMaxListeners(),c(m)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return c(new Error("WebSocket connection is missing or invalid"));i(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,i)=>{const c=USe.isReactNative()?void 0:{rejectUnauthorized:!XSe(e)},m=new JSe(e,[],c);ZSe()?m.onerror=s=>{const g=s;i(this.emitError(g.error))}:m.on("error",s=>{i(this.emitError(s))}),m.onopen=()=>{this.onOpen(m),n(m)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?id(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const i=this.parseError(n),c=i.message||i.toString(),m=M3(e,c);this.events.emit("payload",m)}parseError(e,n=this.url){return KH(e,GL(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>VL&&this.events.setMaxListeners(VL)}emitError(e){const n=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${GL(this.url)}`));return this.events.emit("register_error",n),n}};var QSe={};const QH="wc",qH=2,yS="core",ml=`${QH}@2:${yS}:`,qSe={logger:"error"},eTe={database:":memory:"},tTe="crypto",HL="client_ed25519_seed",nTe=qe.ONE_DAY,rTe="keychain",iTe="0.3",sTe="messages",aTe="0.3",oTe=qe.SIX_HOURS,lTe="publisher",eY="irn",uTe="error",tY="wss://relay.walletconnect.org",cTe="relayer",vr={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},hTe="_subscription",ha={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},dTe=.1,wS="2.21.7",Wn={link_mode:"link_mode",relay:"relay"},tw={inbound:"inbound",outbound:"outbound"},fTe="0.3",pTe="WALLETCONNECT_CLIENT_ID",YL="WALLETCONNECT_LINK_MODE_APPS",js={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},vTe="subscription",gTe="0.3",mTe="pairing",yTe="0.3",Ev={wc_pairingDelete:{req:{ttl:qe.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:qe.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:qe.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:qe.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:qe.ONE_DAY,prompt:!1,tag:0},res:{ttl:qe.ONE_DAY,prompt:!1,tag:0}}},xh={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Ka={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},wTe="history",xTe="0.3",bTe="expirer",ma={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},ETe="0.3",CTe="verify-api",STe="https://verify.walletconnect.com",nY="https://verify.walletconnect.org",ug=nY,TTe=`${ug}/v3`,ATe=[STe,nY],PTe="echo",ITe="https://echo.walletconnect.com",_o={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Xl={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Qu={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Cv={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},ch={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},Sv={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},RTe=.1,OTe="event-client",MTe=86400,$Te="https://pulse.walletconnect.org/batch";function FTe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var c=0;c<t.length;c++){var m=t.charAt(c),s=m.charCodeAt(0);if(n[s]!==255)throw new TypeError(m+" is ambiguous");n[s]=c}var g=t.length,r=t.charAt(0),a=Math.log(g)/Math.log(256),v=Math.log(256)/Math.log(g);function h(o){if(o instanceof Uint8Array||(ArrayBuffer.isView(o)?o=new Uint8Array(o.buffer,o.byteOffset,o.byteLength):Array.isArray(o)&&(o=Uint8Array.from(o))),!(o instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(o.length===0)return"";for(var d=0,p=0,f=0,y=o.length;f!==y&&o[f]===0;)f++,d++;for(var w=(y-f)*v+1>>>0,x=new Uint8Array(w);f!==y;){for(var b=o[f],E=0,C=w-1;(b!==0||E<p)&&C!==-1;C--,E++)b+=256*x[C]>>>0,x[C]=b%g>>>0,b=b/g>>>0;if(b!==0)throw new Error("Non-zero carry");p=E,f++}for(var T=w-p;T!==w&&x[T]===0;)T++;for(var S=r.repeat(d);T<w;++T)S+=t.charAt(x[T]);return S}function u(o){if(typeof o!="string")throw new TypeError("Expected String");if(o.length===0)return new Uint8Array;var d=0;if(o[d]!==" "){for(var p=0,f=0;o[d]===r;)p++,d++;for(var y=(o.length-d)*a+1>>>0,w=new Uint8Array(y);o[d];){var x=n[o.charCodeAt(d)];if(x===255)return;for(var b=0,E=y-1;(x!==0||b<f)&&E!==-1;E--,b++)x+=g*w[E]>>>0,w[E]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");f=b,d++}if(o[d]!==" "){for(var C=y-f;C!==y&&w[C]===0;)C++;for(var T=new Uint8Array(p+(y-C)),S=p;C!==y;)T[S++]=w[C++];return T}}}function l(o){var d=u(o);if(d)return d;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:u,decode:l}}var LTe=FTe,DTe=LTe;const rY=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},NTe=t=>new TextEncoder().encode(t),kTe=t=>new TextDecoder().decode(t);let BTe=class{constructor(e,n,i){this.name=e,this.prefix=n,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},UTe=class{constructor(e,n,i){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return iY(this,e)}},jTe=class{constructor(e){this.decoders=e}or(e){return iY(this,e)}decode(e){const n=e[0],i=this.decoders[n];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const iY=(t,e)=>new jTe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let zTe=class{constructor(e,n,i,c){this.name=e,this.prefix=n,this.baseEncode=i,this.baseDecode=c,this.encoder=new BTe(e,n,i),this.decoder=new UTe(e,n,c)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const F3=({name:t,prefix:e,encode:n,decode:i})=>new zTe(t,e,n,i),v1=({prefix:t,name:e,alphabet:n})=>{const{encode:i,decode:c}=DTe(n,e);return F3({prefix:t,name:e,encode:i,decode:m=>rY(c(m))})},WTe=(t,e,n,i)=>{const c={};for(let v=0;v<e.length;++v)c[e[v]]=v;let m=t.length;for(;t[m-1]==="=";)--m;const s=new Uint8Array(m*n/8|0);let g=0,r=0,a=0;for(let v=0;v<m;++v){const h=c[t[v]];if(h===void 0)throw new SyntaxError(`Non-${i} character`);r=r<<n|h,g+=n,g>=8&&(g-=8,s[a++]=255&r>>g)}if(g>=n||255&r<<8-g)throw new SyntaxError("Unexpected end of data");return s},GTe=(t,e,n)=>{const i=e[e.length-1]==="=",c=(1<<n)-1;let m="",s=0,g=0;for(let r=0;r<t.length;++r)for(g=g<<8|t[r],s+=8;s>n;)s-=n,m+=e[c&g>>s];if(s&&(m+=e[c&g<<n-s]),i)for(;m.length*n&7;)m+="=";return m},mi=({name:t,prefix:e,bitsPerChar:n,alphabet:i})=>F3({prefix:e,name:t,encode(c){return GTe(c,i,n)},decode(c){return WTe(c,i,n,t)}}),VTe=F3({prefix:"\0",name:"identity",encode:t=>kTe(t),decode:t=>NTe(t)});var HTe=Object.freeze({__proto__:null,identity:VTe});const YTe=mi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var XTe=Object.freeze({__proto__:null,base2:YTe});const KTe=mi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var ZTe=Object.freeze({__proto__:null,base8:KTe});const JTe=v1({prefix:"9",name:"base10",alphabet:"0123456789"});var _Te=Object.freeze({__proto__:null,base10:JTe});const QTe=mi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),qTe=mi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var e9e=Object.freeze({__proto__:null,base16:QTe,base16upper:qTe});const t9e=mi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),n9e=mi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),r9e=mi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),i9e=mi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),s9e=mi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),a9e=mi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),o9e=mi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),l9e=mi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),u9e=mi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var c9e=Object.freeze({__proto__:null,base32:t9e,base32upper:n9e,base32pad:r9e,base32padupper:i9e,base32hex:s9e,base32hexupper:a9e,base32hexpad:o9e,base32hexpadupper:l9e,base32z:u9e});const h9e=v1({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),d9e=v1({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var f9e=Object.freeze({__proto__:null,base36:h9e,base36upper:d9e});const p9e=v1({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),v9e=v1({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var g9e=Object.freeze({__proto__:null,base58btc:p9e,base58flickr:v9e});const m9e=mi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),y9e=mi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),w9e=mi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),x9e=mi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var b9e=Object.freeze({__proto__:null,base64:m9e,base64pad:y9e,base64url:w9e,base64urlpad:x9e});const sY=Array.from(""),E9e=sY.reduce((t,e,n)=>(t[n]=e,t),[]),C9e=sY.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function S9e(t){return t.reduce((e,n)=>(e+=E9e[n],e),"")}function T9e(t){const e=[];for(const n of t){const i=C9e[n.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(i)}return new Uint8Array(e)}const A9e=F3({prefix:"",name:"base256emoji",encode:S9e,decode:T9e});var P9e=Object.freeze({__proto__:null,base256emoji:A9e}),I9e=aY,XL=128,R9e=-128,O9e=Math.pow(2,31);function aY(t,e,n){e=e||[],n=n||0;for(var i=n;t>=O9e;)e[n++]=t&255|XL,t/=128;for(;t&R9e;)e[n++]=t&255|XL,t>>>=7;return e[n]=t|0,aY.bytes=n-i+1,e}var M9e=xS,$9e=128,KL=127;function xS(t,i){var n=0,i=i||0,c=0,m=i,s,g=t.length;do{if(m>=g)throw xS.bytes=0,new RangeError("Could not decode varint");s=t[m++],n+=c<28?(s&KL)<<c:(s&KL)*Math.pow(2,c),c+=7}while(s>=$9e);return xS.bytes=m-i,n}var F9e=Math.pow(2,7),L9e=Math.pow(2,14),D9e=Math.pow(2,21),N9e=Math.pow(2,28),k9e=Math.pow(2,35),B9e=Math.pow(2,42),U9e=Math.pow(2,49),j9e=Math.pow(2,56),z9e=Math.pow(2,63),W9e=function(t){return t<F9e?1:t<L9e?2:t<D9e?3:t<N9e?4:t<k9e?5:t<B9e?6:t<U9e?7:t<j9e?8:t<z9e?9:10},G9e={encode:I9e,decode:M9e,encodingLength:W9e},oY=G9e;const ZL=(t,e,n=0)=>(oY.encode(t,e,n),e),JL=t=>oY.encodingLength(t),bS=(t,e)=>{const n=e.byteLength,i=JL(t),c=i+JL(n),m=new Uint8Array(c+n);return ZL(t,m,0),ZL(n,m,i),m.set(e,c),new V9e(t,n,e,m)};let V9e=class{constructor(e,n,i,c){this.code=e,this.size=n,this.digest=i,this.bytes=c}};const lY=({name:t,code:e,encode:n})=>new H9e(t,e,n);let H9e=class{constructor(e,n,i){this.name=e,this.code=n,this.encode=i}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?bS(this.code,n):n.then(i=>bS(this.code,i))}else throw Error("Unknown type, must be binary type")}};const uY=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Y9e=lY({name:"sha2-256",code:18,encode:uY("SHA-256")}),X9e=lY({name:"sha2-512",code:19,encode:uY("SHA-512")});var K9e=Object.freeze({__proto__:null,sha256:Y9e,sha512:X9e});const cY=0,Z9e="identity",hY=rY,J9e=t=>bS(cY,hY(t)),_9e={code:cY,name:Z9e,encode:hY,digest:J9e};var Q9e=Object.freeze({__proto__:null,identity:_9e});new TextEncoder,new TextDecoder;const _L={...HTe,...XTe,...ZTe,..._Te,...e9e,...c9e,...f9e,...g9e,...b9e,...P9e};({...K9e,...Q9e});function dY(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function q9e(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?dY(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function fY(t,e,n,i){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:i}}}const QL=fY("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),hE=fY("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=q9e(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),e7e={utf8:QL,"utf-8":QL,hex:_L.base16,latin1:hE,ascii:hE,binary:hE,..._L};function t7e(t,e="utf8"){const n=e7e[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?dY(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}var n7e=Object.defineProperty,r7e=(t,e,n)=>e in t?n7e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Yo=(t,e,n)=>r7e(t,typeof e!="symbol"?e+"":e,n);let i7e=class{constructor(e,n){this.core=e,this.logger=n,Yo(this,"keychain",new Map),Yo(this,"name",rTe),Yo(this,"version",iTe),Yo(this,"initialized",!1),Yo(this,"storagePrefix",ml),Yo(this,"init",async()=>{if(!this.initialized){const i=await this.getKeyChain();typeof i<"u"&&(this.keychain=i),this.initialized=!0}}),Yo(this,"has",i=>(this.isInitialized(),this.keychain.has(i))),Yo(this,"set",async(i,c)=>{this.isInitialized(),this.keychain.set(i,c),await this.persist()}),Yo(this,"get",i=>{this.isInitialized();const c=this.keychain.get(i);if(typeof c>"u"){const{message:m}=Qe("NO_MATCHING_KEY",`${this.name}: ${i}`);throw new Error(m)}return c}),Yo(this,"del",async i=>{this.isInitialized(),this.keychain.delete(i),await this.persist()}),this.core=e,this.logger=Ki(n,this.name)}get context(){return Ss(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,tS(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?nS(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=Qe("NOT_INITIALIZED",this.name);throw new Error(e)}}};var s7e=Object.defineProperty,a7e=(t,e,n)=>e in t?s7e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,li=(t,e,n)=>a7e(t,typeof e!="symbol"?e+"":e,n);let o7e=class{constructor(e,n,i){this.core=e,this.logger=n,li(this,"name",tTe),li(this,"keychain"),li(this,"randomSessionIdentifier",dS()),li(this,"initialized",!1),li(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),li(this,"hasKeys",c=>(this.isInitialized(),this.keychain.has(c))),li(this,"getClientId",async()=>{this.isInitialized();const c=await this.getClientSeed(),m=CF(c);return UV(m.publicKey)}),li(this,"generateKeyPair",()=>{this.isInitialized();const c=kEe();return this.setPrivateKey(c.publicKey,c.privateKey)}),li(this,"signJWT",async c=>{this.isInitialized();const m=await this.getClientSeed(),s=CF(m),g=this.randomSessionIdentifier;return await Mbe(g,c,nTe,s)}),li(this,"generateSharedKey",(c,m,s)=>{this.isInitialized();const g=this.getPrivateKey(c),r=BEe(g,m);return this.setSymKey(r,s)}),li(this,"setSymKey",async(c,m)=>{this.isInitialized();const s=m||Q2(c);return await this.keychain.set(s,c),s}),li(this,"deleteKeyPair",async c=>{this.isInitialized(),await this.keychain.del(c)}),li(this,"deleteSymKey",async c=>{this.isInitialized(),await this.keychain.del(c)}),li(this,"encode",async(c,m,s)=>{this.isInitialized();const g=jH(s),r=mu(m);if(fL(g))return zEe(r,s?.encoding);if(dL(g)){const u=g.senderPublicKey,l=g.receiverPublicKey;c=await this.generateSharedKey(u,l)}const a=this.getSymKey(c),{type:v,senderPublicKey:h}=g;return UEe({type:v,symKey:a,message:r,senderPublicKey:h,encoding:s?.encoding})}),li(this,"decode",async(c,m,s)=>{this.isInitialized();const g=GEe(m,s);if(fL(g)){const r=WEe(m,s?.encoding);return id(r)}if(dL(g)){const r=g.receiverPublicKey,a=g.senderPublicKey;c=await this.generateSharedKey(r,a)}try{const r=this.getSymKey(c),a=jEe({symKey:r,encoded:m,encoding:s?.encoding});return id(a)}catch(r){this.logger.error(`Failed to decode message from topic: '${c}', clientId: '${await this.getClientId()}'`),this.logger.error(r)}}),li(this,"getPayloadType",(c,m=ds)=>{const s=bm({encoded:c,encoding:m});return ad(s.type)}),li(this,"getPayloadSenderPublicKey",(c,m=ds)=>{const s=bm({encoded:c,encoding:m});return s.senderPublicKey?ws(s.senderPublicKey,Yi):void 0}),this.core=e,this.logger=Ki(n,this.name),this.keychain=i||new i7e(this.core,this.logger)}get context(){return Ss(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(HL)}catch{e=dS(),await this.keychain.set(HL,e)}return t7e(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=Qe("NOT_INITIALIZED",this.name);throw new Error(e)}}};var l7e=Object.defineProperty,u7e=Object.defineProperties,c7e=Object.getOwnPropertyDescriptors,qL=Object.getOwnPropertySymbols,h7e=Object.prototype.hasOwnProperty,d7e=Object.prototype.propertyIsEnumerable,ES=(t,e,n)=>e in t?l7e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,f7e=(t,e)=>{for(var n in e||(e={}))h7e.call(e,n)&&ES(t,n,e[n]);if(qL)for(var n of qL(e))d7e.call(e,n)&&ES(t,n,e[n]);return t},p7e=(t,e)=>u7e(t,c7e(e)),Ds=(t,e,n)=>ES(t,typeof e!="symbol"?e+"":e,n);let v7e=class extends ZCe{constructor(e,n){super(e,n),this.logger=e,this.core=n,Ds(this,"messages",new Map),Ds(this,"messagesWithoutClientAck",new Map),Ds(this,"name",sTe),Ds(this,"version",aTe),Ds(this,"initialized",!1),Ds(this,"storagePrefix",ml),Ds(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const i=await this.getRelayerMessages();typeof i<"u"&&(this.messages=i);const c=await this.getRelayerMessagesWithoutClientAck();typeof c<"u"&&(this.messagesWithoutClientAck=c),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(i){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(i)}finally{this.initialized=!0}}}),Ds(this,"set",async(i,c,m)=>{this.isInitialized();const s=wa(c);let g=this.messages.get(i);if(typeof g>"u"&&(g={}),typeof g[s]<"u")return s;if(g[s]=c,this.messages.set(i,g),m===tw.inbound){const r=this.messagesWithoutClientAck.get(i)||{};this.messagesWithoutClientAck.set(i,p7e(f7e({},r),{[s]:c}))}return await this.persist(),s}),Ds(this,"get",i=>{this.isInitialized();let c=this.messages.get(i);return typeof c>"u"&&(c={}),c}),Ds(this,"getWithoutAck",i=>{this.isInitialized();const c={};for(const m of i){const s=this.messagesWithoutClientAck.get(m)||{};c[m]=Object.values(s)}return c}),Ds(this,"has",(i,c)=>{this.isInitialized();const m=this.get(i),s=wa(c);return typeof m[s]<"u"}),Ds(this,"ack",async(i,c)=>{this.isInitialized();const m=this.messagesWithoutClientAck.get(i);if(typeof m>"u")return;const s=wa(c);delete m[s],Object.keys(m).length===0?this.messagesWithoutClientAck.delete(i):this.messagesWithoutClientAck.set(i,m),await this.persist()}),Ds(this,"del",async i=>{this.isInitialized(),this.messages.delete(i),this.messagesWithoutClientAck.delete(i),await this.persist()}),this.logger=Ki(e,this.name),this.core=n}get context(){return Ss(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,tS(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,tS(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?nS(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?nS(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=Qe("NOT_INITIALIZED",this.name);throw new Error(e)}}};var g7e=Object.defineProperty,m7e=Object.defineProperties,y7e=Object.getOwnPropertyDescriptors,eD=Object.getOwnPropertySymbols,w7e=Object.prototype.hasOwnProperty,x7e=Object.prototype.propertyIsEnumerable,CS=(t,e,n)=>e in t?g7e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Of=(t,e)=>{for(var n in e||(e={}))w7e.call(e,n)&&CS(t,n,e[n]);if(eD)for(var n of eD(e))x7e.call(e,n)&&CS(t,n,e[n]);return t},tD=(t,e)=>m7e(t,y7e(e)),da=(t,e,n)=>CS(t,typeof e!="symbol"?e+"":e,n);let b7e=class extends JCe{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,da(this,"events",new na.EventEmitter),da(this,"name",lTe),da(this,"queue",new Map),da(this,"publishTimeout",qe.toMiliseconds(qe.ONE_MINUTE)),da(this,"initialPublishTimeout",qe.toMiliseconds(qe.ONE_SECOND*15)),da(this,"needsTransportRestart",!1),da(this,"publish",async(i,c,m)=>{var s,g,r,a,v;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:i,message:c,opts:m}});const h=m?.ttl||oTe,u=m?.prompt||!1,l=m?.tag||0,o=m?.id||mc().toString(),d=up(Jw().protocol),p={id:o,method:m?.publishMethod||d.publish,params:Of({topic:i,message:c,ttl:h,prompt:u,tag:l,attestation:m?.attestation},m?.tvf&&{tvf:m.tvf})},f=`Failed to publish payload, please try again. id:${o} tag:${l}`;try{Br((s=p.params)==null?void 0:s.prompt)&&((g=p.params)==null||delete g.prompt),Br((r=p.params)==null?void 0:r.tag)&&((a=p.params)==null||delete a.tag);const y=new Promise(async w=>{const x=({id:E})=>{var C;((C=p.id)==null?void 0:C.toString())===E.toString()&&(this.removeRequestFromQueue(E),this.relayer.events.removeListener(vr.publish,x),w())};this.relayer.events.on(vr.publish,x);const b=al(new Promise((E,C)=>{this.rpcPublish(p,m).then(E).catch(T=>{this.logger.warn(T,T?.message),C(T)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${o} tag:${l}`);try{await b,this.events.removeListener(vr.publish,x)}catch(E){this.queue.set(o,{request:p,opts:m,attempt:1}),this.logger.warn(E,E?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:o,topic:i,message:c,opts:m}}),await al(y,this.publishTimeout,f)}catch(y){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(y),(v=m?.internal)!=null&&v.throwOnFailedPublish)throw y}finally{this.queue.delete(o)}}),da(this,"publishCustom",async i=>{var c,m,s,g,r;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:i});const{payload:a,opts:v={}}=i,{attestation:h,tvf:u,publishMethod:l,prompt:o,tag:d,ttl:p=qe.FIVE_MINUTES}=v,f=v.id||mc().toString(),y=up(Jw().protocol),w=l||y.publish,x={id:f,method:w,params:Of(tD(Of({},a),{ttl:p,prompt:o,tag:d,attestation:h}),u)},b=`Failed to publish custom payload, please try again. id:${f} tag:${d}`;try{Br((c=x.params)==null?void 0:c.prompt)&&((m=x.params)==null||delete m.prompt),Br((s=x.params)==null?void 0:s.tag)&&((g=x.params)==null||delete g.tag);const E=new Promise(async C=>{const T=({id:A})=>{var P;((P=x.id)==null?void 0:P.toString())===A.toString()&&(this.removeRequestFromQueue(A),this.relayer.events.removeListener(vr.publish,T),C())};this.relayer.events.on(vr.publish,T);const S=al(new Promise((A,P)=>{this.rpcPublish(x,v).then(A).catch(R=>{this.logger.warn(R,R?.message),P(R)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${w} id:${f} tag:${d}`);try{await S,this.events.removeListener(vr.publish,T)}catch(A){this.queue.set(f,{request:x,opts:v,attempt:1}),this.logger.warn(A,A?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:f,payload:a,opts:v}}),await al(E,this.publishTimeout,b)}catch(E){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(E),(r=v?.internal)!=null&&r.throwOnFailedPublish)throw E}finally{this.queue.delete(f)}}),da(this,"on",(i,c)=>{this.events.on(i,c)}),da(this,"once",(i,c)=>{this.events.once(i,c)}),da(this,"off",(i,c)=>{this.events.off(i,c)}),da(this,"removeListener",(i,c)=>{this.events.removeListener(i,c)}),this.relayer=e,this.logger=Ki(n,this.name),this.registerEventListeners()}get context(){return Ss(this.logger)}async rpcPublish(e,n){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const i=await this.relayer.request(e);return this.relayer.events.emit(vr.publish,Of(Of({},e),n)),this.logger.debug("Successfully Published Payload"),i}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{var i;const c=e.attempt+1;this.queue.set(n,tD(Of({},e),{attempt:c})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(i=e.request.params)==null?void 0:i.tag}, attempt: ${c}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Td.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(vr.connection_stalled);return}this.checkQueue()}),this.relayer.on(vr.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}};var E7e=Object.defineProperty,C7e=(t,e,n)=>e in t?E7e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Mf=(t,e,n)=>C7e(t,typeof e!="symbol"?e+"":e,n);let S7e=class{constructor(){Mf(this,"map",new Map),Mf(this,"set",(e,n)=>{const i=this.get(e);this.exists(e,n)||this.map.set(e,[...i,n])}),Mf(this,"get",e=>this.map.get(e)||[]),Mf(this,"exists",(e,n)=>this.get(e).includes(n)),Mf(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const i=this.get(e);if(!this.exists(e,n))return;const c=i.filter(m=>m!==n);if(!c.length){this.map.delete(e);return}this.map.set(e,c)}),Mf(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}};var T7e=Object.defineProperty,A7e=Object.defineProperties,P7e=Object.getOwnPropertyDescriptors,nD=Object.getOwnPropertySymbols,I7e=Object.prototype.hasOwnProperty,R7e=Object.prototype.propertyIsEnumerable,SS=(t,e,n)=>e in t?T7e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Tv=(t,e)=>{for(var n in e||(e={}))I7e.call(e,n)&&SS(t,n,e[n]);if(nD)for(var n of nD(e))R7e.call(e,n)&&SS(t,n,e[n]);return t},dE=(t,e)=>A7e(t,P7e(e)),An=(t,e,n)=>SS(t,typeof e!="symbol"?e+"":e,n);let O7e=class extends qCe{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,An(this,"subscriptions",new Map),An(this,"topicMap",new S7e),An(this,"events",new na.EventEmitter),An(this,"name",vTe),An(this,"version",gTe),An(this,"pending",new Map),An(this,"cached",[]),An(this,"initialized",!1),An(this,"storagePrefix",ml),An(this,"subscribeTimeout",qe.toMiliseconds(qe.ONE_MINUTE)),An(this,"initialSubscribeTimeout",qe.toMiliseconds(qe.ONE_SECOND*15)),An(this,"clientId"),An(this,"batchSubscribeTopicsLimit",500),An(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),An(this,"subscribe",async(i,c)=>{var m;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:c}});try{const s=Jw(c),g={topic:i,relay:s,transportType:c?.transportType};(m=c?.internal)!=null&&m.skipSubscribe||this.pending.set(i,g);const r=await this.rpcSubscribe(i,s,c);return typeof r=="string"&&(this.onSubscribe(r,g),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:c}})),r}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}}),An(this,"unsubscribe",async(i,c)=>{this.isInitialized(),typeof c?.id<"u"?await this.unsubscribeById(i,c.id,c):await this.unsubscribeByTopic(i,c)}),An(this,"isSubscribed",i=>new Promise(c=>{c(this.topicMap.topics.includes(i))})),An(this,"isKnownTopic",i=>new Promise(c=>{c(this.topicMap.topics.includes(i)||this.pending.has(i)||this.cached.some(m=>m.topic===i))})),An(this,"on",(i,c)=>{this.events.on(i,c)}),An(this,"once",(i,c)=>{this.events.once(i,c)}),An(this,"off",(i,c)=>{this.events.off(i,c)}),An(this,"removeListener",(i,c)=>{this.events.removeListener(i,c)}),An(this,"start",async()=>{await this.onConnect()}),An(this,"stop",async()=>{await this.onDisconnect()}),An(this,"restart",async()=>{await this.restore(),await this.onRestart()}),An(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const i=[];this.pending.forEach(c=>{i.push(c)}),await this.batchSubscribe(i)}),An(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Td.pulse,async()=>{await this.checkPending()}),this.events.on(js.created,async i=>{const c=js.created;this.logger.info(`Emitting ${c}`),this.logger.debug({type:"event",event:c,data:i}),await this.persist()}),this.events.on(js.deleted,async i=>{const c=js.deleted;this.logger.info(`Emitting ${c}`),this.logger.debug({type:"event",event:c,data:i}),await this.persist()})}),this.relayer=e,this.logger=Ki(n,this.name),this.clientId=""}get context(){return Ss(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let i=!1;try{i=this.getSubscription(e).topic===n}catch{}return i}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const i=this.topicMap.get(e);await Promise.all(i.map(async c=>await this.unsubscribeById(e,c,n)))}async unsubscribeById(e,n,i){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:i}});try{const c=Jw(i);await this.restartToComplete({topic:e,id:n,relay:c}),await this.rpcUnsubscribe(e,n,c);const m=Gn("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,m),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:i}})}catch(c){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(c),c}}async rpcSubscribe(e,n,i){var c,m;const s=await this.getSubscriptionId(e);if((c=i?.internal)!=null&&c.skipSubscribe)return s;(!i||i?.transportType===Wn.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const g={method:up(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:g});const r=(m=i?.internal)==null?void 0:m.throwOnFailedPublish;try{if(i?.transportType===Wn.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(g).catch(h=>this.logger.warn(h))},qe.toMiliseconds(qe.ONE_SECOND)),s;const a=new Promise(async h=>{const u=l=>{l.topic===e&&(this.events.removeListener(js.created,u),h(l.id))};this.events.on(js.created,u);try{const l=await al(new Promise((o,d)=>{this.relayer.request(g).catch(p=>{this.logger.warn(p,p?.message),d(p)}).then(o)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(js.created,u),h(l)}catch{}}),v=await al(a,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!v&&r)throw new Error(`Subscribing to ${e} failed, please try again`);return v?s:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(vr.connection_stalled),r)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,i={method:up(n.protocol).batchSubscribe,params:{topics:e.map(c=>c.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});try{await await al(new Promise(c=>{this.relayer.request(i).catch(m=>this.logger.warn(m)).then(c)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(vr.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,i={method:up(n.protocol).batchFetchMessages,params:{topics:e.map(m=>m.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});let c;try{c=await await al(new Promise((m,s)=>{this.relayer.request(i).catch(g=>{this.logger.warn(g),s(g)}).then(m)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(vr.connection_stalled)}return c}rpcUnsubscribe(e,n,i){const c={method:up(i.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:c}),this.relayer.request(c)}onSubscribe(e,n){this.setSubscription(e,dE(Tv({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,Tv({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,i){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,i),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,Tv({},n)),this.topicMap.set(n.topic,e),this.events.emit(js.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:i}=Qe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(i)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const i=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(i.topic,e),this.events.emit(js.deleted,dE(Tv({},i),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(js.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let i=0;i<n;i++){const c=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(c)}}this.events.emit(js.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(n=>{var i;return n.topic===((i=this.subscriptions.get(n.id))==null?void 0:i.topic)})){const{message:n}=Qe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>dE(Tv({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await s4e(qe.toMiliseconds(qe.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=Qe("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return wa(e+await this.getClientId())}};var M7e=Object.defineProperty,rD=Object.getOwnPropertySymbols,$7e=Object.prototype.hasOwnProperty,F7e=Object.prototype.propertyIsEnumerable,TS=(t,e,n)=>e in t?M7e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,iD=(t,e)=>{for(var n in e||(e={}))$7e.call(e,n)&&TS(t,n,e[n]);if(rD)for(var n of rD(e))F7e.call(e,n)&&TS(t,n,e[n]);return t},ln=(t,e,n)=>TS(t,typeof e!="symbol"?e+"":e,n);let L7e=class extends _Ce{constructor(e){super(e),ln(this,"protocol","wc"),ln(this,"version",2),ln(this,"core"),ln(this,"logger"),ln(this,"events",new na.EventEmitter),ln(this,"provider"),ln(this,"messages"),ln(this,"subscriber"),ln(this,"publisher"),ln(this,"name",cTe),ln(this,"transportExplicitlyClosed",!1),ln(this,"initialized",!1),ln(this,"connectionAttemptInProgress",!1),ln(this,"relayUrl"),ln(this,"projectId"),ln(this,"packageName"),ln(this,"bundleId"),ln(this,"hasExperiencedNetworkDisruption",!1),ln(this,"pingTimeout"),ln(this,"heartBeatTimeout",qe.toMiliseconds(qe.THIRTY_SECONDS+qe.FIVE_SECONDS)),ln(this,"reconnectTimeout"),ln(this,"connectPromise"),ln(this,"reconnectInProgress",!1),ln(this,"requestsInFlight",[]),ln(this,"connectTimeout",qe.toMiliseconds(qe.ONE_SECOND*15)),ln(this,"request",async n=>{var i,c;this.logger.debug("Publishing Request Payload");const m=n.id||mc().toString();await this.toEstablishConnection();try{this.logger.trace({id:m,method:n.method,topic:(i=n.params)==null?void 0:i.topic},"relayer.request - publishing...");const s=`${m}:${((c=n.params)==null?void 0:c.tag)||""}`;this.requestsInFlight.push(s);const g=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(r=>r!==s),g}catch(s){throw this.logger.debug(`Failed to Publish Request: ${m}`),s}}),ln(this,"resetPingTimeout",()=>{Yw()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,i,c,m;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(m=(c=(i=(n=this.provider)==null?void 0:n.connection)==null?void 0:i.socket)==null?void 0:c.terminate)==null||m.call(c)}catch(s){this.logger.warn(s,s?.message)}},this.heartBeatTimeout))}),ln(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),ln(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(vr.connect)}),ln(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),ln(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(vr.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),ln(this,"registerProviderListeners",()=>{this.provider.on(ha.payload,this.onPayloadHandler),this.provider.on(ha.connect,this.onConnectHandler),this.provider.on(ha.disconnect,this.onDisconnectHandler),this.provider.on(ha.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Ki(e.logger,this.name):f1(O3({level:e.logger||uTe})),this.messages=new v7e(this.logger,e.core),this.subscriber=new O7e(this,this.logger),this.publisher=new b7e(this,this.logger),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||tY,G5e()?this.packageName=LF():V5e()&&(this.bundleId=LF()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return Ss(this.logger)}get connected(){var e,n,i;return((i=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:i.readyState)===1||!1}get connecting(){var e,n,i;return((i=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:i.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,i){this.isInitialized(),await this.publisher.publish(e,n,i),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:Wn.relay},tw.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,n){var i,c,m;this.isInitialized(),(!(n!=null&&n.transportType)||n?.transportType==="relay")&&await this.toEstablishConnection();const s=typeof((i=n?.internal)==null?void 0:i.throwOnFailedPublish)>"u"?!0:(c=n?.internal)==null?void 0:c.throwOnFailedPublish;let g=((m=this.subscriber.topicMap.get(e))==null?void 0:m[0])||"",r;const a=v=>{v.topic===e&&(this.subscriber.off(js.created,a),r())};return await Promise.all([new Promise(v=>{r=v,this.subscriber.on(js.created,a)}),new Promise(async(v,h)=>{g=await this.subscriber.subscribe(e,iD({internal:{throwOnFailedPublish:s}},n)).catch(u=>{s&&h(u)})||g,v()})]),g}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await al(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,i)=>{await this.connect(e).then(n).catch(i).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await SL())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((i,c)=>i.publishedAt-c.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const i of n)try{await this.onMessageEvent(i)}catch(c){this.logger.warn(c,"Error while processing batch message event: "+c?.message)}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:i}=e;if(!n.sessionExists){const c=Nr(qe.FIVE_MINUTES),m={topic:i,expiry:c,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(i,m)}this.events.emit(vr.message,e),await this.recordMessageEvent(e,tw.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(i,c)=>{const m=()=>{c(new Error("Connection interrupted while trying to connect"))};this.provider.once(ha.disconnect,m),await al(new Promise((s,g)=>{this.provider.connect().then(s).catch(g)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(s=>{c(s)}).finally(()=>{this.provider.off(ha.disconnect,m),clearTimeout(this.reconnectTimeout)}),await new Promise(async(s,g)=>{const r=()=>{c(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(ha.disconnect,r),await this.subscriber.start().then(s).catch(g).finally(()=>{this.provider.off(ha.disconnect,r)})}),this.hasExperiencedNetworkDisruption=!1,i()})}catch(i){await this.subscriber.stop();const c=i;this.logger.warn({},c.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(i=>setTimeout(i,qe.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,i,c,m;if(Yw())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((m=(c=(i=this.provider)==null?void 0:i.connection)==null?void 0:c.socket)==null||m.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(s){this.logger.warn(s,s?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Ba(new _Se(Z5e({sdkVersion:wS,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:i,message:c}=e;await this.messages.set(i,c,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:i}=e;if(!i||i.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${i}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const c=this.messages.has(n,i);return c&&this.logger.warn(`Ignoring duplicate message: ${i}`),c}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),G7(e)){if(!e.method.endsWith(hTe))return;const n=e.params,{topic:i,message:c,publishedAt:m,attestation:s}=n.data,g={topic:i,message:c,publishedAt:m,transportType:Wn.relay,attestation:s};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(iD({type:"event",event:n.id},g)),this.events.emit(n.id,g),await this.acknowledgePayload(e),await this.onMessageEvent(g)}else $3(e)&&this.events.emit(vr.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,tw.inbound),this.events.emit(vr.message,e))}async acknowledgePayload(e){const n=Cm(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(ha.payload,this.onPayloadHandler),this.provider.off(ha.connect,this.onConnectHandler),this.provider.off(ha.disconnect,this.onDisconnectHandler),this.provider.off(ha.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await SL();N8e(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(i=>this.logger.error(i,i?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(Td.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&U8e())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(vr.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},qe.toMiliseconds(dTe)))))}isInitialized(){if(!this.initialized){const{message:e}=Qe("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}};function D7e(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function sD(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function aD(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const N7e="[object RegExp]",k7e="[object String]",B7e="[object Number]",U7e="[object Boolean]",oD="[object Arguments]",j7e="[object Symbol]",z7e="[object Date]",W7e="[object Map]",G7e="[object Set]",V7e="[object Array]",H7e="[object Function]",Y7e="[object ArrayBuffer]",fE="[object Object]",X7e="[object Error]",K7e="[object DataView]",Z7e="[object Uint8Array]",J7e="[object Uint8ClampedArray]",_7e="[object Uint16Array]",Q7e="[object Uint32Array]",q7e="[object BigUint64Array]",eAe="[object Int8Array]",tAe="[object Int16Array]",nAe="[object Int32Array]",rAe="[object BigInt64Array]",iAe="[object Float32Array]",sAe="[object Float64Array]";function aAe(){}function lD(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function oAe(t,e,n){return Hv(t,e,void 0,void 0,void 0,void 0,n)}function Hv(t,e,n,i,c,m,s){const g=s(t,e,n,i,c,m);if(g!==void 0)return g;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return cg(t,e,m,s)}return cg(t,e,m,s)}function cg(t,e,n,i){if(Object.is(t,e))return!0;let c=aD(t),m=aD(e);if(c===oD&&(c=fE),m===oD&&(m=fE),c!==m)return!1;switch(c){case k7e:return t.toString()===e.toString();case B7e:{const r=t.valueOf(),a=e.valueOf();return D7e(r,a)}case U7e:case z7e:case j7e:return Object.is(t.valueOf(),e.valueOf());case N7e:return t.source===e.source&&t.flags===e.flags;case H7e:return t===e}n=n??new Map;const s=n.get(t),g=n.get(e);if(s!=null&&g!=null)return s===e;n.set(t,e),n.set(e,t);try{switch(c){case W7e:{if(t.size!==e.size)return!1;for(const[r,a]of t.entries())if(!e.has(r)||!Hv(a,e.get(r),r,t,e,n,i))return!1;return!0}case G7e:{if(t.size!==e.size)return!1;const r=Array.from(t.values()),a=Array.from(e.values());for(let v=0;v<r.length;v++){const h=r[v],u=a.findIndex(l=>Hv(h,l,void 0,t,e,n,i));if(u===-1)return!1;a.splice(u,1)}return!0}case V7e:case Z7e:case J7e:case _7e:case Q7e:case q7e:case eAe:case tAe:case nAe:case rAe:case iAe:case sAe:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!Hv(t[r],e[r],r,t,e,n,i))return!1;return!0}case Y7e:return t.byteLength!==e.byteLength?!1:cg(new Uint8Array(t),new Uint8Array(e),n,i);case K7e:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:cg(new Uint8Array(t),new Uint8Array(e),n,i);case X7e:return t.name===e.name&&t.message===e.message;case fE:{if(!(cg(t.constructor,e.constructor,n,i)||lD(t)&&lD(e)))return!1;const r=[...Object.keys(t),...sD(t)],a=[...Object.keys(e),...sD(e)];if(r.length!==a.length)return!1;for(let v=0;v<r.length;v++){const h=r[v],u=t[h];if(!Object.hasOwn(e,h))return!1;const l=e[h];if(!Hv(u,l,h,t,e,n,i))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function lAe(t,e){return oAe(t,e,aAe)}var uAe=Object.defineProperty,uD=Object.getOwnPropertySymbols,cAe=Object.prototype.hasOwnProperty,hAe=Object.prototype.propertyIsEnumerable,AS=(t,e,n)=>e in t?uAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cD=(t,e)=>{for(var n in e||(e={}))cAe.call(e,n)&&AS(t,n,e[n]);if(uD)for(var n of uD(e))hAe.call(e,n)&&AS(t,n,e[n]);return t},ss=(t,e,n)=>AS(t,typeof e!="symbol"?e+"":e,n);let Pd=class extends QCe{constructor(e,n,i,c=ml,m=void 0){super(e,n,i,c),this.core=e,this.logger=n,this.name=i,ss(this,"map",new Map),ss(this,"version",fTe),ss(this,"cached",[]),ss(this,"initialized",!1),ss(this,"getKey"),ss(this,"storagePrefix",ml),ss(this,"recentlyDeleted",[]),ss(this,"recentlyDeletedLimit",200),ss(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(s=>{this.getKey&&s!==null&&!Br(s)?this.map.set(this.getKey(s),s):f8e(s)?this.map.set(s.id,s):p8e(s)&&this.map.set(s.topic,s)}),this.cached=[],this.initialized=!0)}),ss(this,"set",async(s,g)=>{this.isInitialized(),this.map.has(s)?await this.update(s,g):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:s,value:g}),this.map.set(s,g),await this.persist())}),ss(this,"get",s=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:s}),this.getData(s))),ss(this,"getAll",s=>(this.isInitialized(),s?this.values.filter(g=>Object.keys(s).every(r=>lAe(g[r],s[r]))):this.values)),ss(this,"update",async(s,g)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:s,update:g});const r=cD(cD({},this.getData(s)),g);this.map.set(s,r),await this.persist()}),ss(this,"delete",async(s,g)=>{this.isInitialized(),this.map.has(s)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:s,reason:g}),this.map.delete(s),this.addToRecentlyDeleted(s),await this.persist())}),this.logger=Ki(n,this.name),this.storagePrefix=c,this.getKey=m}get context(){return Ss(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:c}=Qe("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(c),new Error(c)}const{message:i}=Qe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=Qe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=Qe("NOT_INITIALIZED",this.name);throw new Error(e)}}};var dAe=Object.defineProperty,fAe=(t,e,n)=>e in t?dAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_t=(t,e,n)=>fAe(t,typeof e!="symbol"?e+"":e,n);let pAe=class{constructor(e,n){this.core=e,this.logger=n,_t(this,"name",mTe),_t(this,"version",yTe),_t(this,"events",new g7),_t(this,"pairings"),_t(this,"initialized",!1),_t(this,"storagePrefix",ml),_t(this,"ignoredPayloadTypes",[lu]),_t(this,"registeredMethods",[]),_t(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),_t(this,"register",({methods:i})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...i])]}),_t(this,"create",async i=>{this.isInitialized();const c=dS(),m=await this.core.crypto.setSymKey(c),s=Nr(qe.FIVE_MINUTES),g={protocol:eY},r={topic:m,expiry:s,relay:g,active:!1,methods:i?.methods},a=vL({protocol:this.core.protocol,version:this.core.version,topic:m,symKey:c,relay:g,expiryTimestamp:s,methods:i?.methods});return this.events.emit(xh.create,r),this.core.expirer.set(m,s),await this.pairings.set(m,r),await this.core.relayer.subscribe(m,{transportType:i?.transportType,internal:i?.internal}),{topic:m,uri:a}}),_t(this,"pair",async i=>{this.isInitialized();const c=this.core.eventClient.createEvent({properties:{topic:i?.uri,trace:[_o.pairing_started]}});this.isValidPair(i,c);const{topic:m,symKey:s,relay:g,expiryTimestamp:r,methods:a}=pL(i.uri);c.props.properties.topic=m,c.addTrace(_o.pairing_uri_validation_success),c.addTrace(_o.pairing_uri_not_expired);let v;if(this.pairings.keys.includes(m)){if(v=this.pairings.get(m),c.addTrace(_o.existing_pairing),v.active)throw c.setError(Xl.active_pairing_already_exists),new Error(`Pairing already exists: ${m}. Please try again with a new connection URI.`);c.addTrace(_o.pairing_not_expired)}const h=r||Nr(qe.FIVE_MINUTES),u={topic:m,relay:g,expiry:h,active:!1,methods:a};this.core.expirer.set(m,h),await this.pairings.set(m,u),c.addTrace(_o.store_new_pairing),i.activatePairing&&await this.activate({topic:m}),this.events.emit(xh.create,u),c.addTrace(_o.emit_inactive_pairing),this.core.crypto.keychain.has(m)||await this.core.crypto.setSymKey(s,m),c.addTrace(_o.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{c.setError(Xl.no_internet_connection)}try{await this.core.relayer.subscribe(m,{relay:g})}catch(l){throw c.setError(Xl.subscribe_pairing_topic_failure),l}return c.addTrace(_o.subscribe_pairing_topic_success),u}),_t(this,"activate",async({topic:i})=>{this.isInitialized();const c=Nr(qe.FIVE_MINUTES);this.core.expirer.set(i,c),await this.pairings.update(i,{active:!0,expiry:c})}),_t(this,"ping",async i=>{this.isInitialized(),await this.isValidPing(i),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:c}=i;if(this.pairings.keys.includes(c)){const m=await this.sendRequest(c,"wc_pairingPing",{}),{done:s,resolve:g,reject:r}=vh();this.events.once(gn("pairing_ping",m),({error:a})=>{a?r(a):g()}),await s()}}),_t(this,"updateExpiry",async({topic:i,expiry:c})=>{this.isInitialized(),await this.pairings.update(i,{expiry:c})}),_t(this,"updateMetadata",async({topic:i,metadata:c})=>{this.isInitialized(),await this.pairings.update(i,{peerMetadata:c})}),_t(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),_t(this,"disconnect",async i=>{this.isInitialized(),await this.isValidDisconnect(i);const{topic:c}=i;this.pairings.keys.includes(c)&&(await this.sendRequest(c,"wc_pairingDelete",Gn("USER_DISCONNECTED")),await this.deletePairing(c))}),_t(this,"formatUriFromPairing",i=>{this.isInitialized();const{topic:c,relay:m,expiry:s,methods:g}=i,r=this.core.crypto.keychain.get(c);return vL({protocol:this.core.protocol,version:this.core.version,topic:c,symKey:r,relay:m,expiryTimestamp:s,methods:g})}),_t(this,"sendRequest",async(i,c,m)=>{const s=il(c,m),g=await this.core.crypto.encode(i,s),r=Ev[c].req;return this.core.history.set(i,s),this.core.relayer.publish(i,g,r),s.id}),_t(this,"sendResult",async(i,c,m)=>{const s=Cm(i,m),g=await this.core.crypto.encode(c,s),r=(await this.core.history.get(c,i)).request.method,a=Ev[r].res;await this.core.relayer.publish(c,g,a),await this.core.history.resolve(s)}),_t(this,"sendError",async(i,c,m)=>{const s=M3(i,m),g=await this.core.crypto.encode(c,s),r=(await this.core.history.get(c,i)).request.method,a=Ev[r]?Ev[r].res:Ev.unregistered_method.res;await this.core.relayer.publish(c,g,a),await this.core.history.resolve(s)}),_t(this,"deletePairing",async(i,c)=>{await this.core.relayer.unsubscribe(i),await Promise.all([this.pairings.delete(i,Gn("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(i),c?Promise.resolve():this.core.expirer.del(i)])}),_t(this,"cleanup",async()=>{const i=this.pairings.getAll().filter(c=>sc(c.expiry));await Promise.all(i.map(c=>this.deletePairing(c.topic)))}),_t(this,"onRelayEventRequest",async i=>{const{topic:c,payload:m}=i;switch(m.method){case"wc_pairingPing":return await this.onPairingPingRequest(c,m);case"wc_pairingDelete":return await this.onPairingDeleteRequest(c,m);default:return await this.onUnknownRpcMethodRequest(c,m)}}),_t(this,"onRelayEventResponse",async i=>{const{topic:c,payload:m}=i,s=(await this.core.history.get(c,m.id)).request.method;switch(s){case"wc_pairingPing":return this.onPairingPingResponse(c,m);default:return this.onUnknownRpcMethodResponse(s)}}),_t(this,"onPairingPingRequest",async(i,c)=>{const{id:m}=c;try{this.isValidPing({topic:i}),await this.sendResult(m,i,!0),this.events.emit(xh.ping,{id:m,topic:i})}catch(s){await this.sendError(m,i,s),this.logger.error(s)}}),_t(this,"onPairingPingResponse",(i,c)=>{const{id:m}=c;setTimeout(()=>{el(c)?this.events.emit(gn("pairing_ping",m),{}):xa(c)&&this.events.emit(gn("pairing_ping",m),{error:c.error})},500)}),_t(this,"onPairingDeleteRequest",async(i,c)=>{const{id:m}=c;try{this.isValidDisconnect({topic:i}),await this.deletePairing(i),this.events.emit(xh.delete,{id:m,topic:i})}catch(s){await this.sendError(m,i,s),this.logger.error(s)}}),_t(this,"onUnknownRpcMethodRequest",async(i,c)=>{const{id:m,method:s}=c;try{if(this.registeredMethods.includes(s))return;const g=Gn("WC_METHOD_UNSUPPORTED",s);await this.sendError(m,i,g),this.logger.error(g)}catch(g){await this.sendError(m,i,g),this.logger.error(g)}}),_t(this,"onUnknownRpcMethodResponse",i=>{this.registeredMethods.includes(i)||this.logger.error(Gn("WC_METHOD_UNSUPPORTED",i))}),_t(this,"isValidPair",(i,c)=>{var m;if(!ls(i)){const{message:g}=Qe("MISSING_OR_INVALID",`pair() params: ${i}`);throw c.setError(Xl.malformed_pairing_uri),new Error(g)}if(!d8e(i.uri)){const{message:g}=Qe("MISSING_OR_INVALID",`pair() uri: ${i.uri}`);throw c.setError(Xl.malformed_pairing_uri),new Error(g)}const s=pL(i?.uri);if(!((m=s?.relay)!=null&&m.protocol)){const{message:g}=Qe("MISSING_OR_INVALID","pair() uri#relay-protocol");throw c.setError(Xl.malformed_pairing_uri),new Error(g)}if(!(s!=null&&s.symKey)){const{message:g}=Qe("MISSING_OR_INVALID","pair() uri#symKey");throw c.setError(Xl.malformed_pairing_uri),new Error(g)}if(s!=null&&s.expiryTimestamp&&qe.toMiliseconds(s?.expiryTimestamp)<Date.now()){c.setError(Xl.pairing_expired);const{message:g}=Qe("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(g)}}),_t(this,"isValidPing",async i=>{if(!ls(i)){const{message:m}=Qe("MISSING_OR_INVALID",`ping() params: ${i}`);throw new Error(m)}const{topic:c}=i;await this.isValidPairingTopic(c)}),_t(this,"isValidDisconnect",async i=>{if(!ls(i)){const{message:m}=Qe("MISSING_OR_INVALID",`disconnect() params: ${i}`);throw new Error(m)}const{topic:c}=i;await this.isValidPairingTopic(c)}),_t(this,"isValidPairingTopic",async i=>{if(!Ar(i,!1)){const{message:c}=Qe("MISSING_OR_INVALID",`pairing topic should be a string: ${i}`);throw new Error(c)}if(!this.pairings.keys.includes(i)){const{message:c}=Qe("NO_MATCHING_KEY",`pairing topic doesn't exist: ${i}`);throw new Error(c)}if(sc(this.pairings.get(i).expiry)){await this.deletePairing(i);const{message:c}=Qe("EXPIRED",`pairing topic: ${i}`);throw new Error(c)}}),this.core=e,this.logger=Ki(n,this.name),this.pairings=new Pd(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Ss(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=Qe("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(vr.message,async e=>{const{topic:n,message:i,transportType:c}=e;if(this.pairings.keys.includes(n)&&c!==Wn.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(i)))try{const m=await this.core.crypto.decode(n,i);G7(m)?(this.core.history.set(n,m),await this.onRelayEventRequest({topic:n,payload:m})):$3(m)&&(await this.core.history.resolve(m),await this.onRelayEventResponse({topic:n,payload:m}),this.core.history.delete(n,m.id)),await this.core.relayer.messages.ack(n,i)}catch(m){this.logger.error(m)}})}registerExpirerEvents(){this.core.expirer.on(ma.expired,async e=>{const{topic:n}=JV(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(xh.expire,{topic:n}))})}};var vAe=Object.defineProperty,gAe=(t,e,n)=>e in t?vAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ui=(t,e,n)=>gAe(t,typeof e!="symbol"?e+"":e,n);let mAe=class extends KCe{constructor(e,n){super(e,n),this.core=e,this.logger=n,ui(this,"records",new Map),ui(this,"events",new na.EventEmitter),ui(this,"name",wTe),ui(this,"version",xTe),ui(this,"cached",[]),ui(this,"initialized",!1),ui(this,"storagePrefix",ml),ui(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.records.set(i.id,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),ui(this,"set",(i,c,m)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:i,request:c,chainId:m}),this.records.has(c.id))return;const s={id:c.id,topic:i,request:{method:c.method,params:c.params||null},chainId:m,expiry:Nr(qe.THIRTY_DAYS)};this.records.set(s.id,s),this.persist(),this.events.emit(Ka.created,s)}),ui(this,"resolve",async i=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:i}),!this.records.has(i.id))return;const c=await this.getRecord(i.id);typeof c.response>"u"&&(c.response=xa(i)?{error:i.error}:{result:i.result},this.records.set(c.id,c),this.persist(),this.events.emit(Ka.updated,c))}),ui(this,"get",async(i,c)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:i,id:c}),await this.getRecord(c))),ui(this,"delete",(i,c)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:c}),this.values.forEach(m=>{if(m.topic===i){if(typeof c<"u"&&m.id!==c)return;this.records.delete(m.id),this.events.emit(Ka.deleted,m)}}),this.persist()}),ui(this,"exists",async(i,c)=>(this.isInitialized(),this.records.has(c)?(await this.getRecord(c)).topic===i:!1)),ui(this,"on",(i,c)=>{this.events.on(i,c)}),ui(this,"once",(i,c)=>{this.events.once(i,c)}),ui(this,"off",(i,c)=>{this.events.off(i,c)}),ui(this,"removeListener",(i,c)=>{this.events.removeListener(i,c)}),this.logger=Ki(n,this.name)}get context(){return Ss(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const i={topic:n.topic,request:il(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(i)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:i}=Qe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(i)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Ka.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=Qe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Ka.created,e=>{const n=Ka.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Ka.updated,e=>{const n=Ka.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Ka.deleted,e=>{const n=Ka.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(Td.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{qe.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(Ka.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=Qe("NOT_INITIALIZED",this.name);throw new Error(e)}}};var yAe=Object.defineProperty,wAe=(t,e,n)=>e in t?yAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ai=(t,e,n)=>wAe(t,typeof e!="symbol"?e+"":e,n);let xAe=class extends eSe{constructor(e,n){super(e,n),this.core=e,this.logger=n,Ai(this,"expirations",new Map),Ai(this,"events",new na.EventEmitter),Ai(this,"name",bTe),Ai(this,"version",ETe),Ai(this,"cached",[]),Ai(this,"initialized",!1),Ai(this,"storagePrefix",ml),Ai(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.expirations.set(i.target,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Ai(this,"has",i=>{try{const c=this.formatTarget(i);return typeof this.getExpiration(c)<"u"}catch{return!1}}),Ai(this,"set",(i,c)=>{this.isInitialized();const m=this.formatTarget(i),s={target:m,expiry:c};this.expirations.set(m,s),this.checkExpiry(m,s),this.events.emit(ma.created,{target:m,expiration:s})}),Ai(this,"get",i=>{this.isInitialized();const c=this.formatTarget(i);return this.getExpiration(c)}),Ai(this,"del",i=>{if(this.isInitialized(),this.has(i)){const c=this.formatTarget(i),m=this.getExpiration(c);this.expirations.delete(c),this.events.emit(ma.deleted,{target:c,expiration:m})}}),Ai(this,"on",(i,c)=>{this.events.on(i,c)}),Ai(this,"once",(i,c)=>{this.events.once(i,c)}),Ai(this,"off",(i,c)=>{this.events.off(i,c)}),Ai(this,"removeListener",(i,c)=>{this.events.removeListener(i,c)}),this.logger=Ki(n,this.name)}get context(){return Ss(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return J5e(e);if(typeof e=="number")return _5e(e);const{message:n}=Qe("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(ma.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=Qe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:i}=Qe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(i),new Error(i)}return n}checkExpiry(e,n){const{expiry:i}=n;qe.toMiliseconds(i)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(ma.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(Td.pulse,()=>this.checkExpirations()),this.events.on(ma.created,e=>{const n=ma.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(ma.expired,e=>{const n=ma.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(ma.deleted,e=>{const n=ma.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Qe("NOT_INITIALIZED",this.name);throw new Error(e)}}};var bAe=Object.defineProperty,EAe=(t,e,n)=>e in t?bAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,br=(t,e,n)=>EAe(t,typeof e!="symbol"?e+"":e,n);let CAe=class extends tSe{constructor(e,n,i){super(e,n,i),this.core=e,this.logger=n,this.store=i,br(this,"name",CTe),br(this,"abortController"),br(this,"isDevEnv"),br(this,"verifyUrlV3",TTe),br(this,"storagePrefix",ml),br(this,"version",qH),br(this,"publicKey"),br(this,"fetchPromise"),br(this,"init",async()=>{var c;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&qe.toMiliseconds((c=this.publicKey)==null?void 0:c.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),br(this,"register",async c=>{if(!y0()||this.isDevEnv)return;const m=window.location.origin,{id:s,decryptedId:g}=c,r=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${m}&id=${s}&decryptedId=${g}`;try{const a=gu.getDocument(),v=this.startAbortTimer(qe.ONE_SECOND*5),h=await new Promise((u,l)=>{const o=()=>{window.removeEventListener("message",p),a.body.removeChild(d),l("attestation aborted")};this.abortController.signal.addEventListener("abort",o);const d=a.createElement("iframe");d.src=r,d.style.display="none",d.addEventListener("error",o,{signal:this.abortController.signal});const p=f=>{if(f.data&&typeof f.data=="string")try{const y=JSON.parse(f.data);if(y.type==="verify_attestation"){if(qC(y.attestation).payload.id!==s)return;clearInterval(v),a.body.removeChild(d),this.abortController.signal.removeEventListener("abort",o),window.removeEventListener("message",p),u(y.attestation===null?"":y.attestation)}}catch(y){this.logger.warn(y)}};a.body.appendChild(d),window.addEventListener("message",p,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",h),h}catch(a){this.logger.warn(a)}return""}),br(this,"resolve",async c=>{if(this.isDevEnv)return"";const{attestationId:m,hash:s,encryptedId:g}=c;if(m===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(m){if(qC(m).payload.id!==g)return;const a=await this.isValidJwtAttestation(m);if(a){if(!a.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return a}}if(!s)return;const r=this.getVerifyUrl(c?.verifyUrl);return this.fetchAttestation(s,r)}),br(this,"fetchAttestation",async(c,m)=>{this.logger.debug(`resolving attestation: ${c} from url: ${m}`);const s=this.startAbortTimer(qe.ONE_SECOND*5),g=await fetch(`${m}/attestation/${c}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(s),g.status===200?await g.json():void 0}),br(this,"getVerifyUrl",c=>{let m=c||ug;return ATe.includes(m)||(this.logger.info(`verify url: ${m}, not included in trusted list, assigning default: ${ug}`),m=ug),m}),br(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const c=this.startAbortTimer(qe.FIVE_SECONDS),m=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(c),await m.json()}catch(c){this.logger.warn(c)}}),br(this,"persistPublicKey",async c=>{this.logger.debug("persisting public key to local storage",c),await this.store.setItem(this.storeKey,c),this.publicKey=c}),br(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),br(this,"isValidJwtAttestation",async c=>{const m=await this.getPublicKey();try{if(m)return this.validateAttestation(c,m)}catch(g){this.logger.error(g),this.logger.warn("error validating attestation")}const s=await this.fetchAndPersistPublicKey();try{if(s)return this.validateAttestation(c,s)}catch(g){this.logger.error(g),this.logger.warn("error validating attestation")}}),br(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),br(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async m=>{const s=await this.fetchPublicKey();s&&(await this.persistPublicKey(s),m(s))});const c=await this.fetchPromise;return this.fetchPromise=void 0,c}),br(this,"validateAttestation",(c,m)=>{const s=HEe(c,m.publicKey),g={hasExpired:qe.toMiliseconds(s.exp)<Date.now(),payload:s};if(g.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:g.payload.origin,isScam:g.payload.isScam,isVerified:g.payload.isVerified}}),this.logger=Ki(n,this.name),this.abortController=new AbortController,this.isDevEnv=P7(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Ss(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),qe.toMiliseconds(e))}};var SAe=Object.defineProperty,TAe=(t,e,n)=>e in t?SAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hD=(t,e,n)=>TAe(t,typeof e!="symbol"?e+"":e,n);let AAe=class extends nSe{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,hD(this,"context",PTe),hD(this,"registerDeviceToken",async i=>{const{clientId:c,token:m,notificationType:s,enableEncrypted:g=!1}=i,r=`${ITe}/${this.projectId}/clients`;await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:c,type:s,token:m,always_raw:g})})}),this.logger=Ki(n,this.context)}};var PAe=Object.defineProperty,dD=Object.getOwnPropertySymbols,IAe=Object.prototype.hasOwnProperty,RAe=Object.prototype.propertyIsEnumerable,PS=(t,e,n)=>e in t?PAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Av=(t,e)=>{for(var n in e||(e={}))IAe.call(e,n)&&PS(t,n,e[n]);if(dD)for(var n of dD(e))RAe.call(e,n)&&PS(t,n,e[n]);return t},Jr=(t,e,n)=>PS(t,typeof e!="symbol"?e+"":e,n);let OAe=class extends rSe{constructor(e,n,i=!0){super(e,n,i),this.core=e,this.logger=n,Jr(this,"context",OTe),Jr(this,"storagePrefix",ml),Jr(this,"storageVersion",RTe),Jr(this,"events",new Map),Jr(this,"shouldPersist",!1),Jr(this,"init",async()=>{if(!P7())try{const c={eventId:NF(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:KV(this.core.relayer.protocol,this.core.relayer.version,wS)}}};await this.sendEvent([c])}catch(c){this.logger.warn(c)}}),Jr(this,"createEvent",c=>{const{event:m="ERROR",type:s="",properties:{topic:g,trace:r}}=c,a=NF(),v=this.core.projectId||"",h=Date.now(),u=Av({eventId:a,timestamp:h,props:{event:m,type:s,properties:{topic:g,trace:r}},bundleId:v,domain:this.getAppDomain()},this.setMethods(a));return this.telemetryEnabled&&(this.events.set(a,u),this.shouldPersist=!0),u}),Jr(this,"getEvent",c=>{const{eventId:m,topic:s}=c;if(m)return this.events.get(m);const g=Array.from(this.events.values()).find(r=>r.props.properties.topic===s);if(g)return Av(Av({},g),this.setMethods(g.eventId))}),Jr(this,"deleteEvent",c=>{const{eventId:m}=c;this.events.delete(m),this.shouldPersist=!0}),Jr(this,"setEventListeners",()=>{this.core.heartbeat.on(Td.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(c=>{qe.fromMiliseconds(Date.now())-qe.fromMiliseconds(c.timestamp)>MTe&&(this.events.delete(c.eventId),this.shouldPersist=!0)})})}),Jr(this,"setMethods",c=>({addTrace:m=>this.addTrace(c,m),setError:m=>this.setError(c,m)})),Jr(this,"addTrace",(c,m)=>{const s=this.events.get(c);s&&(s.props.properties.trace.push(m),this.events.set(c,s),this.shouldPersist=!0)}),Jr(this,"setError",(c,m)=>{const s=this.events.get(c);s&&(s.props.type=m,s.timestamp=Date.now(),this.events.set(c,s),this.shouldPersist=!0)}),Jr(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Jr(this,"restore",async()=>{try{const c=await this.core.storage.getItem(this.storageKey)||[];if(!c.length)return;c.forEach(m=>{this.events.set(m.eventId,Av(Av({},m),this.setMethods(m.eventId)))})}catch(c){this.logger.warn(c)}}),Jr(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const c=[];for(const[m,s]of this.events)s.props.type&&c.push(s);if(c.length!==0)try{if((await this.sendEvent(c)).ok)for(const m of c)this.events.delete(m.eventId),this.shouldPersist=!0}catch(m){this.logger.warn(m)}}),Jr(this,"sendEvent",async c=>{const m=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${$Te}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${wS}${m}`,{method:"POST",body:JSON.stringify(c)})}),Jr(this,"getAppDomain",()=>XV().url),this.logger=Ki(n,this.context),this.telemetryEnabled=i,i?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}};var MAe=Object.defineProperty,fD=Object.getOwnPropertySymbols,$Ae=Object.prototype.hasOwnProperty,FAe=Object.prototype.propertyIsEnumerable,IS=(t,e,n)=>e in t?MAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pD=(t,e)=>{for(var n in e||(e={}))$Ae.call(e,n)&&IS(t,n,e[n]);if(fD)for(var n of fD(e))FAe.call(e,n)&&IS(t,n,e[n]);return t},$n=(t,e,n)=>IS(t,typeof e!="symbol"?e+"":e,n);let LAe=class pY extends VCe{constructor(e){var n;super(e),$n(this,"protocol",QH),$n(this,"version",qH),$n(this,"name",yS),$n(this,"relayUrl"),$n(this,"projectId"),$n(this,"customStoragePrefix"),$n(this,"events",new na.EventEmitter),$n(this,"logger"),$n(this,"heartbeat"),$n(this,"relayer"),$n(this,"crypto"),$n(this,"storage"),$n(this,"history"),$n(this,"expirer"),$n(this,"pairing"),$n(this,"verify"),$n(this,"echoClient"),$n(this,"linkModeSupportedApps"),$n(this,"eventClient"),$n(this,"initialized",!1),$n(this,"logChunkController"),$n(this,"on",(g,r)=>this.events.on(g,r)),$n(this,"once",(g,r)=>this.events.once(g,r)),$n(this,"off",(g,r)=>this.events.off(g,r)),$n(this,"removeListener",(g,r)=>this.events.removeListener(g,r)),$n(this,"dispatchEnvelope",({topic:g,message:r,sessionExists:a})=>{if(!g||!r)return;const v={topic:g,message:r,publishedAt:Date.now(),transportType:Wn.link_mode};this.relayer.onLinkMessageEvent(v,{sessionExists:a})});const i=this.getGlobalCore(e?.customStoragePrefix);if(i)try{return this.customStoragePrefix=i.customStoragePrefix,this.logger=i.logger,this.heartbeat=i.heartbeat,this.crypto=i.crypto,this.history=i.history,this.expirer=i.expirer,this.storage=i.storage,this.relayer=i.relayer,this.pairing=i.pairing,this.verify=i.verify,this.echoClient=i.echoClient,this.linkModeSupportedApps=i.linkModeSupportedApps,this.eventClient=i.eventClient,this.initialized=i.initialized,this.logChunkController=i.logChunkController,i}catch(g){console.warn("Failed to copy global core",g)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||tY,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const c=O3({level:typeof e?.logger=="string"&&e.logger?e.logger:qSe.logger,name:yS}),{logger:m,chunkLoggerController:s}=zCe({opts:c,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=s,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var g,r;(g=this.logChunkController)!=null&&g.downloadLogsBlobInBrowser&&((r=this.logChunkController)==null||r.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Ki(m,this.name),this.heartbeat=new Z8e,this.crypto=new o7e(this,this.logger,e?.keychain),this.history=new mAe(this,this.logger),this.expirer=new xAe(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new SCe(pD(pD({},eTe),e?.storageOptions)),this.relayer=new L7e({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new pAe(this,this.logger),this.verify=new CAe(this,this.logger,this.storage),this.echoClient=new AAe(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new OAe(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new pY(e);await n.initialize();const i=await n.crypto.getClientId();return await n.storage.setItem(pTe,i),n}get context(){return Ss(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(YL,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(YL)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,i=`${n}_count`;return globalThis[i]=(globalThis[i]||0)+1,globalThis[i]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[i]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const i=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[i]=e}catch(i){console.warn("Failed to set global WalletConnect core",i)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&QSe.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const DAe=LAe,vY="wc",gY=2,mY="client",V7=`${vY}@${gY}:${mY}:`,pE={name:mY,logger:"error"},vD="WALLETCONNECT_DEEPLINK_CHOICE",NAe="proposal",gD="Proposal expired",kAe="session",$f=qe.SEVEN_DAYS,BAe="engine",ci={wc_sessionPropose:{req:{ttl:qe.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:qe.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:qe.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:qe.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:qe.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:qe.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:qe.ONE_DAY,prompt:!1,tag:1104},res:{ttl:qe.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:qe.ONE_DAY,prompt:!1,tag:1106},res:{ttl:qe.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:qe.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:qe.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:qe.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:qe.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:qe.ONE_DAY,prompt:!1,tag:1112},res:{ttl:qe.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:qe.ONE_DAY,prompt:!1,tag:1114},res:{ttl:qe.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:qe.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:qe.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:qe.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:qe.FIVE_MINUTES,prompt:!1,tag:1119}}},vE={min:qe.FIVE_MINUTES,max:qe.SEVEN_DAYS},Xo={idle:"IDLE",active:"ACTIVE"},UAe={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},jAe="request",zAe=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],WAe="wc",GAe="auth",VAe="authKeys",HAe="pairingTopics",YAe="requests",L3=`${WAe}@${1.5}:${GAe}:`,nw=`${L3}:PUB_KEY`;var XAe=Object.defineProperty,KAe=Object.defineProperties,ZAe=Object.getOwnPropertyDescriptors,mD=Object.getOwnPropertySymbols,JAe=Object.prototype.hasOwnProperty,_Ae=Object.prototype.propertyIsEnumerable,RS=(t,e,n)=>e in t?XAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yn=(t,e)=>{for(var n in e||(e={}))JAe.call(e,n)&&RS(t,n,e[n]);if(mD)for(var n of mD(e))_Ae.call(e,n)&&RS(t,n,e[n]);return t},Pi=(t,e)=>KAe(t,ZAe(e)),We=(t,e,n)=>RS(t,typeof e!="symbol"?e+"":e,n);let QAe=class extends oSe{constructor(e){super(e),We(this,"name",BAe),We(this,"events",new g7),We(this,"initialized",!1),We(this,"requestQueue",{state:Xo.idle,queue:[]}),We(this,"sessionRequestQueue",{state:Xo.idle,queue:[]}),We(this,"emittedSessionRequests",new a4e({limit:500})),We(this,"requestQueueDelay",qe.ONE_SECOND),We(this,"expectedPairingMethodMap",new Map),We(this,"recentlyDeletedMap",new Map),We(this,"recentlyDeletedLimit",200),We(this,"relayMessageCache",[]),We(this,"pendingSessions",new Map),We(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(ci)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},qe.toMiliseconds(this.requestQueueDelay)))}),We(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const i=Pi(yn({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(i),i.optionalNamespaces=o8e(i.requiredNamespaces,i.optionalNamespaces),i.requiredNamespaces={};const{pairingTopic:c,requiredNamespaces:m,optionalNamespaces:s,sessionProperties:g,scopedProperties:r,relays:a}=i;let v=c,h,u=!1;try{if(v){const E=this.client.core.pairing.pairings.get(v);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),u=E.active}}catch(E){throw this.client.logger.error(`connect() -> pairing.get(${v}) failed`),E}if(!v||!u){const{topic:E,uri:C}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});v=E,h=C}if(!v){const{message:E}=Qe("NO_MATCHING_KEY",`connect() pairing topic: ${v}`);throw new Error(E)}const l=await this.client.core.crypto.generateKeyPair(),o=ci.wc_sessionPropose.req.ttl||qe.FIVE_MINUTES,d=Nr(o),p=Pi(yn(yn({requiredNamespaces:m,optionalNamespaces:s,relays:a??[{protocol:eY}],proposer:{publicKey:l,metadata:this.client.metadata},expiryTimestamp:d,pairingTopic:v},g&&{sessionProperties:g}),r&&{scopedProperties:r}),{id:qo()}),f=gn("session_connect",p.id),{reject:y,resolve:w,done:x}=vh(o,gD),b=({id:E})=>{E===p.id&&(this.client.events.off("proposal_expire",b),this.pendingSessions.delete(p.id),this.events.emit(f,{error:{message:gD,code:0}}))};return this.client.events.on("proposal_expire",b),this.events.once(f,({error:E,session:C})=>{this.client.events.off("proposal_expire",b),E?y(E):C&&w(C)}),await this.sendProposeSession({proposal:p,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:p.id}}}),await this.setProposal(p.id,p),{uri:h,approval:x}}),We(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(i){throw this.client.logger.error("pair() failed"),i}}),We(this,"approve",async n=>{var i,c,m;const s=this.client.core.eventClient.createEvent({properties:{topic:(i=n?.id)==null?void 0:i.toString(),trace:[Qu.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(S){throw s.setError(Cv.no_internet_connection),S}try{await this.isValidProposalId(n?.id)}catch(S){throw this.client.logger.error(`approve() -> proposal.get(${n?.id}) failed`),s.setError(Cv.proposal_not_found),S}try{await this.isValidApprove(n)}catch(S){throw this.client.logger.error("approve() -> isValidApprove() failed"),s.setError(Cv.session_approve_namespace_validation_failure),S}const{id:g,relayProtocol:r,namespaces:a,sessionProperties:v,scopedProperties:h,sessionConfig:u}=n,l=this.client.proposal.get(g);this.client.core.eventClient.deleteEvent({eventId:s.eventId});const{pairingTopic:o,proposer:d,requiredNamespaces:p,optionalNamespaces:f}=l;let y=(c=this.client.core.eventClient)==null?void 0:c.getEvent({topic:o});y||(y=(m=this.client.core.eventClient)==null?void 0:m.createEvent({type:Qu.session_approve_started,properties:{topic:o,trace:[Qu.session_approve_started,Qu.session_namespaces_validation_success]}}));const w=await this.client.core.crypto.generateKeyPair(),x=d.publicKey,b=await this.client.core.crypto.generateSharedKey(w,x),E=yn(yn(yn({relay:{protocol:r??"irn"},namespaces:a,controller:{publicKey:w,metadata:this.client.metadata},expiry:Nr($f)},v&&{sessionProperties:v}),h&&{scopedProperties:h}),u&&{sessionConfig:u}),C=Wn.relay;y.addTrace(Qu.subscribing_session_topic);try{await this.client.core.relayer.subscribe(b,{transportType:C,internal:{skipSubscribe:!0}})}catch(S){throw y.setError(Cv.subscribe_session_topic_failure),S}y.addTrace(Qu.subscribe_session_topic_success);const T=Pi(yn({},E),{topic:b,requiredNamespaces:p,optionalNamespaces:f,pairingTopic:o,acknowledged:!1,self:E.controller,peer:{publicKey:d.publicKey,metadata:d.metadata},controller:w,transportType:Wn.relay});await this.client.session.set(b,T),y.addTrace(Qu.store_session);try{await this.sendApproveSession({sessionTopic:b,proposal:l,pairingProposalResponse:{relay:{protocol:r??"irn"},responderPublicKey:w},sessionSettleRequest:E,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:g}}}),y.addTrace(Qu.session_approve_publish_success)}catch(S){throw this.client.logger.error(S),this.client.session.delete(b,Gn("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(b),S}return this.client.core.eventClient.deleteEvent({eventId:y.eventId}),await this.client.core.pairing.updateMetadata({topic:o,metadata:d.metadata}),await this.deleteProposal(g),await this.client.core.pairing.activate({topic:o}),await this.setExpiry(b,Nr($f)),{topic:b,acknowledged:()=>Promise.resolve(this.client.session.get(b))}}),We(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(s){throw this.client.logger.error("reject() -> isValidReject() failed"),s}const{id:i,reason:c}=n;let m;try{m=this.client.proposal.get(i).pairingTopic}catch(s){throw this.client.logger.error(`reject() -> proposal.get(${i}) failed`),s}m&&await this.sendError({id:i,topic:m,error:c,rpcOpts:ci.wc_sessionPropose.reject}),await this.deleteProposal(i)}),We(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(h){throw this.client.logger.error("update() -> isValidUpdate() failed"),h}const{topic:i,namespaces:c}=n,{done:m,resolve:s,reject:g}=vh(),r=qo(),a=mc().toString(),v=this.client.session.get(i).namespaces;return this.events.once(gn("session_update",r),({error:h})=>{h?g(h):s()}),await this.client.session.update(i,{namespaces:c}),await this.sendRequest({topic:i,method:"wc_sessionUpdate",params:{namespaces:c},throwOnFailedPublish:!0,clientRpcId:r,relayRpcId:a}).catch(h=>{this.client.logger.error(h),this.client.session.update(i,{namespaces:v}),g(h)}),{acknowledged:m}}),We(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(r){throw this.client.logger.error("extend() -> isValidExtend() failed"),r}const{topic:i}=n,c=qo(),{done:m,resolve:s,reject:g}=vh();return this.events.once(gn("session_extend",c),({error:r})=>{r?g(r):s()}),await this.setExpiry(i,Nr($f)),this.sendRequest({topic:i,method:"wc_sessionExtend",params:{},clientRpcId:c,throwOnFailedPublish:!0}).catch(r=>{g(r)}),{acknowledged:m}}),We(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(p){throw this.client.logger.error("request() -> isValidRequest() failed"),p}const{chainId:i,request:c,topic:m,expiry:s=ci.wc_sessionRequest.req.ttl}=n,g=this.client.session.get(m);g?.transportType===Wn.relay&&await this.confirmOnlineStateOrThrow();const r=qo(),a=mc().toString(),{done:v,resolve:h,reject:u}=vh(s,"Request expired. Please try again.");this.events.once(gn("session_request",r),({error:p,result:f})=>{p?u(p):h(f)});const l="wc_sessionRequest",o=this.getAppLinkIfEnabled(g.peer.metadata,g.transportType);if(o)return await this.sendRequest({clientRpcId:r,relayRpcId:a,topic:m,method:l,params:{request:Pi(yn({},c),{expiryTimestamp:Nr(s)}),chainId:i},expiry:s,throwOnFailedPublish:!0,appLink:o}).catch(p=>u(p)),this.client.events.emit("session_request_sent",{topic:m,request:c,chainId:i,id:r}),await v();const d={request:Pi(yn({},c),{expiryTimestamp:Nr(s)}),chainId:i};return await Promise.all([new Promise(async p=>{await this.sendRequest({clientRpcId:r,relayRpcId:a,topic:m,method:l,params:d,expiry:s,throwOnFailedPublish:!0,tvf:this.getTVFParams(r,d)}).catch(f=>u(f)),this.client.events.emit("session_request_sent",{topic:m,request:c,chainId:i,id:r}),p()}),new Promise(async p=>{var f;if(!((f=g.sessionConfig)!=null&&f.disableDeepLink)){const y=await t4e(this.client.core.storage,vD);await Q5e({id:r,topic:m,wcDeepLink:y})}p()}),v()]).then(p=>p[2])}),We(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:i,response:c}=n,{id:m}=c,s=this.client.session.get(i);s.transportType===Wn.relay&&await this.confirmOnlineStateOrThrow();const g=this.getAppLinkIfEnabled(s.peer.metadata,s.transportType);el(c)?await this.sendResult({id:m,topic:i,result:c.result,throwOnFailedPublish:!0,appLink:g}):xa(c)&&await this.sendError({id:m,topic:i,error:c.error,appLink:g}),this.cleanupAfterResponse(n)}),We(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(c){throw this.client.logger.error("ping() -> isValidPing() failed"),c}const{topic:i}=n;if(this.client.session.keys.includes(i)){const c=qo(),m=mc().toString(),{done:s,resolve:g,reject:r}=vh();this.events.once(gn("session_ping",c),({error:a})=>{a?r(a):g()}),await Promise.all([this.sendRequest({topic:i,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:m}),s()])}else this.client.core.pairing.pairings.keys.includes(i)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:i}))}),We(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:i,event:c,chainId:m}=n,s=mc().toString(),g=qo();await this.sendRequest({topic:i,method:"wc_sessionEvent",params:{event:c,chainId:m},throwOnFailedPublish:!0,relayRpcId:s,clientRpcId:g})}),We(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:i}=n;if(this.client.session.keys.includes(i))await this.sendRequest({topic:i,method:"wc_sessionDelete",params:Gn("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:i,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(i))await this.client.core.pairing.disconnect({topic:i});else{const{message:c}=Qe("MISMATCHED_TOPIC",`Session or pairing topic not found: ${i}`);throw new Error(c)}}),We(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(i=>c8e(i,n)))),We(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),We(this,"authenticate",async(n,i)=>{var c;this.isInitialized(),this.isValidAuthenticate(n);const m=i&&this.client.core.linkModeSupportedApps.includes(i)&&((c=this.client.metadata.redirect)==null?void 0:c.linkMode),s=m?Wn.link_mode:Wn.relay;s===Wn.relay&&await this.confirmOnlineStateOrThrow();const{chains:g,statement:r="",uri:a,domain:v,nonce:h,type:u,exp:l,nbf:o,methods:d=[],expiry:p}=n,f=[...n.resources||[]],{topic:y,uri:w}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:s});this.client.logger.info({message:"Generated new pairing",pairing:{topic:y,uri:w}});const x=await this.client.core.crypto.generateKeyPair(),b=Q2(x);if(await Promise.all([this.client.auth.authKeys.set(nw,{responseTopic:b,publicKey:x}),this.client.auth.pairingTopics.set(b,{topic:b,pairingTopic:y})]),await this.client.core.relayer.subscribe(b,{transportType:s}),this.client.logger.info(`sending request to new pairing topic: ${y}`),d.length>0){const{namespace:j}=Gh(g[0]);let W=m6e(j,"request",d);_2(f)&&(W=w6e(W,f.pop())),f.push(W)}const E=p&&p>ci.wc_sessionAuthenticate.req.ttl?p:ci.wc_sessionAuthenticate.req.ttl,C={authPayload:{type:u??"caip122",chains:g,statement:r,aud:a,domain:v,version:"1",nonce:h,iat:new Date().toISOString(),exp:l,nbf:o,resources:f},requester:{publicKey:x,metadata:this.client.metadata},expiryTimestamp:Nr(E)},T={eip155:{chains:g,methods:[...new Set(["personal_sign",...d])],events:["chainChanged","accountsChanged"]}},S={requiredNamespaces:{},optionalNamespaces:T,relays:[{protocol:"irn"}],pairingTopic:y,proposer:{publicKey:x,metadata:this.client.metadata},expiryTimestamp:Nr(ci.wc_sessionPropose.req.ttl),id:qo()},{done:A,resolve:P,reject:R}=vh(E,"Request expired"),L=qo(),D=gn("session_connect",S.id),$=gn("session_request",L),F=async({error:j,session:W})=>{this.events.off($,N),j?R(j):W&&P({session:W})},N=async j=>{var W,G,K;if(await this.deletePendingAuthRequest(L,{message:"fulfilled",code:0}),j.error){const Q=Gn("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return j.error.code===Q.code?void 0:(this.events.off(D,F),R(j.error.message))}await this.deleteProposal(S.id),this.events.off(D,F);const{cacaos:z,responder:X}=j.result,U=[],Z=[];for(const Q of z){await XF({cacao:Q,projectId:this.client.core.projectId})||(this.client.logger.error(Q,"Signature verification failed"),R(Gn("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:ee}=Q,te=_2(ee.resources),ie=[rS(ee.iss)],le=Xw(ee.iss);if(te){const de=KF(te),fe=ZF(te);U.push(...de),ie.push(...fe)}for(const de of ie)Z.push(`${de}:${le}`)}const V=await this.client.core.crypto.generateSharedKey(x,X.publicKey);let J;U.length>0&&(J={topic:V,acknowledged:!0,self:{publicKey:x,metadata:this.client.metadata},peer:X,controller:X.publicKey,expiry:Nr($f),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:y,namespaces:wL([...new Set(U)],[...new Set(Z)]),transportType:s},await this.client.core.relayer.subscribe(V,{transportType:s}),await this.client.session.set(V,J),y&&await this.client.core.pairing.updateMetadata({topic:y,metadata:X.metadata}),J=this.client.session.get(V)),(W=this.client.metadata.redirect)!=null&&W.linkMode&&(G=X.metadata.redirect)!=null&&G.linkMode&&(K=X.metadata.redirect)!=null&&K.universal&&i&&(this.client.core.addLinkModeSupportedApp(X.metadata.redirect.universal),this.client.session.update(V,{transportType:Wn.link_mode})),P({auths:z,session:J})};this.events.once(D,F),this.events.once($,N);let k;try{if(m){const j=il("wc_sessionAuthenticate",C,L);this.client.core.history.set(y,j);const W=await this.client.core.crypto.encode("",j,{type:h1,encoding:fc});k=l2(i,y,W)}else await Promise.all([this.sendRequest({topic:y,method:"wc_sessionAuthenticate",params:C,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:L}),this.sendRequest({topic:y,method:"wc_sessionPropose",params:S,expiry:ci.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:S.id})])}catch(j){throw this.events.off(D,F),this.events.off($,N),j}return await this.setProposal(S.id,S),await this.setAuthRequest(L,{request:Pi(yn({},C),{verifyContext:{}}),pairingTopic:y,transportType:s}),{uri:k??w,response:A}}),We(this,"approveSessionAuthenticate",async n=>{const{id:i,auths:c}=n,m=this.client.core.eventClient.createEvent({properties:{topic:i.toString(),trace:[ch.authenticated_session_approve_started]}});try{this.isInitialized()}catch(p){throw m.setError(Sv.no_internet_connection),p}const s=this.getPendingAuthRequest(i);if(!s)throw m.setError(Sv.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${i}`);const g=s.transportType||Wn.relay;g===Wn.relay&&await this.confirmOnlineStateOrThrow();const r=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),v=Q2(r),h={type:lu,receiverPublicKey:r,senderPublicKey:a},u=[],l=[];for(const p of c){if(!await XF({cacao:p,projectId:this.client.core.projectId})){m.setError(Sv.invalid_cacao);const b=Gn("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:i,topic:v,error:b,encodeOpts:h}),new Error(b.message)}m.addTrace(ch.cacaos_verified);const{p:f}=p,y=_2(f.resources),w=[rS(f.iss)],x=Xw(f.iss);if(y){const b=KF(y),E=ZF(y);u.push(...b),w.push(...E)}for(const b of w)l.push(`${b}:${x}`)}const o=await this.client.core.crypto.generateSharedKey(a,r);m.addTrace(ch.create_authenticated_session_topic);let d;if(u?.length>0){d={topic:o,acknowledged:!0,self:{publicKey:a,metadata:this.client.metadata},peer:{publicKey:r,metadata:s.requester.metadata},controller:r,expiry:Nr($f),authentication:c,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:s.pairingTopic,namespaces:wL([...new Set(u)],[...new Set(l)]),transportType:g},m.addTrace(ch.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(o,{transportType:g})}catch(p){throw m.setError(Sv.subscribe_authenticated_session_topic_failure),p}m.addTrace(ch.subscribe_authenticated_session_topic_success),await this.client.session.set(o,d),m.addTrace(ch.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:s.pairingTopic,metadata:s.requester.metadata})}m.addTrace(ch.publishing_authenticated_session_approve);try{await this.sendResult({topic:v,id:i,result:{cacaos:c,responder:{publicKey:a,metadata:this.client.metadata}},encodeOpts:h,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(s.requester.metadata,g)})}catch(p){throw m.setError(Sv.authenticated_session_approve_publish_failure),p}return await this.client.auth.requests.delete(i,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:s.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:m.eventId}),{session:d}}),We(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:i,reason:c}=n,m=this.getPendingAuthRequest(i);if(!m)throw new Error(`Could not find pending auth request with id ${i}`);m.transportType===Wn.relay&&await this.confirmOnlineStateOrThrow();const s=m.requester.publicKey,g=await this.client.core.crypto.generateKeyPair(),r=Q2(s),a={type:lu,receiverPublicKey:s,senderPublicKey:g};await this.sendError({id:i,topic:r,error:c,encodeOpts:a,rpcOpts:ci.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(m.requester.metadata,m.transportType)}),await this.client.auth.requests.delete(i,{message:"rejected",code:0}),await this.deleteProposal(i)}),We(this,"formatAuthMessage",n=>{this.isInitialized();const{request:i,iss:c}=n;return hH(i,c)}),We(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),We(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const i=this.client.core.pairing.pairings.get(n.pairingTopic),c=this.client.core.pairing.pairings.getAll().filter(m=>{var s,g;return((s=m.peerMetadata)==null?void 0:s.url)&&((g=m.peerMetadata)==null?void 0:g.url)===n.peer.metadata.url&&m.topic&&m.topic!==i.topic});if(c.length===0)return;this.client.logger.info(`Cleaning up ${c.length} duplicate pairing(s)`),await Promise.all(c.map(m=>this.client.core.pairing.disconnect({topic:m.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(i){this.client.logger.error(i)}}),We(this,"deleteSession",async n=>{var i;const{topic:c,expirerHasDeleted:m=!1,emitEvent:s=!0,id:g=0}=n,{self:r}=this.client.session.get(c);await this.client.core.relayer.unsubscribe(c),await this.client.session.delete(c,Gn("USER_DISCONNECTED")),this.addToRecentlyDeleted(c,"session"),this.client.core.crypto.keychain.has(r.publicKey)&&await this.client.core.crypto.deleteKeyPair(r.publicKey),this.client.core.crypto.keychain.has(c)&&await this.client.core.crypto.deleteSymKey(c),m||this.client.core.expirer.del(c),this.client.core.storage.removeItem(vD).catch(a=>this.client.logger.warn(a)),this.getPendingSessionRequests().forEach(a=>{a.topic===c&&this.deletePendingSessionRequest(a.id,Gn("USER_DISCONNECTED"))}),c===((i=this.sessionRequestQueue.queue[0])==null?void 0:i.topic)&&(this.sessionRequestQueue.state=Xo.idle),s&&this.client.events.emit("session_delete",{id:g,topic:c})}),We(this,"deleteProposal",async(n,i)=>{if(i)try{const c=this.client.proposal.get(n);this.client.core.eventClient.getEvent({topic:c.pairingTopic})?.setError(Cv.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,Gn("USER_DISCONNECTED")),i?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),We(this,"deletePendingSessionRequest",async(n,i,c=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,i),c?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(m=>m.id!==n),c&&(this.sessionRequestQueue.state=Xo.idle,this.client.events.emit("session_request_expire",{id:n}))}),We(this,"deletePendingAuthRequest",async(n,i,c=!1)=>{await Promise.all([this.client.auth.requests.delete(n,i),c?Promise.resolve():this.client.core.expirer.del(n)])}),We(this,"setExpiry",async(n,i)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,i),await this.client.session.update(n,{expiry:i}))}),We(this,"setProposal",async(n,i)=>{this.client.core.expirer.set(n,Nr(ci.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,i)}),We(this,"setAuthRequest",async(n,i)=>{const{request:c,pairingTopic:m,transportType:s=Wn.relay}=i;this.client.core.expirer.set(n,c.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:c.authPayload,requester:c.requester,expiryTimestamp:c.expiryTimestamp,id:n,pairingTopic:m,verifyContext:c.verifyContext,transportType:s})}),We(this,"setPendingSessionRequest",async n=>{const{id:i,topic:c,params:m,verifyContext:s}=n,g=m.request.expiryTimestamp||Nr(ci.wc_sessionRequest.req.ttl);this.client.core.expirer.set(i,g),await this.client.pendingRequest.set(i,{id:i,topic:c,params:m,verifyContext:s})}),We(this,"sendRequest",async n=>{const{topic:i,method:c,params:m,expiry:s,relayRpcId:g,clientRpcId:r,throwOnFailedPublish:a,appLink:v,tvf:h,publishOpts:u={}}=n,l=il(c,m,r);let o;const d=!!v;try{const y=d?fc:ds;o=await this.client.core.crypto.encode(i,l,{encoding:y})}catch(y){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${i} failed`),y}let p;if(zAe.includes(c)){const y=wa(JSON.stringify(l)),w=wa(o);p=await this.client.core.verify.register({id:w,decryptedId:y})}const f=yn(yn({},ci[c].req),u);if(f.attestation=p,s&&(f.ttl=s),g&&(f.id=g),this.client.core.history.set(i,l),d){const y=l2(v,i,o);await global.Linking.openURL(y,this.client.name)}else f.tvf=Pi(yn({},h),{correlationId:l.id}),a?(f.internal=Pi(yn({},f.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,o,f)):this.client.core.relayer.publish(i,o,f).catch(y=>this.client.logger.error(y));return l.id}),We(this,"sendProposeSession",async n=>{const{proposal:i,publishOpts:c}=n,m=il("wc_sessionPropose",i,i.id);this.client.core.history.set(i.pairingTopic,m);const s=await this.client.core.crypto.encode(i.pairingTopic,m,{encoding:ds}),g=wa(JSON.stringify(m)),r=wa(s),a=await this.client.core.verify.register({id:r,decryptedId:g});await this.client.core.relayer.publishCustom({payload:{pairingTopic:i.pairingTopic,sessionProposal:s},opts:Pi(yn({},c),{publishMethod:"wc_proposeSession",attestation:a})})}),We(this,"sendApproveSession",async n=>{const{sessionTopic:i,pairingProposalResponse:c,proposal:m,sessionSettleRequest:s,publishOpts:g}=n,r=Cm(m.id,c),a=await this.client.core.crypto.encode(m.pairingTopic,r,{encoding:ds}),v=il("wc_sessionSettle",s,g?.id),h=await this.client.core.crypto.encode(i,v,{encoding:ds});this.client.core.history.set(i,v),await this.client.core.relayer.publishCustom({payload:{sessionTopic:i,pairingTopic:m.pairingTopic,sessionProposalResponse:a,sessionSettlementRequest:h},opts:Pi(yn({},g),{publishMethod:"wc_approveSession"})})}),We(this,"sendResult",async n=>{const{id:i,topic:c,result:m,throwOnFailedPublish:s,encodeOpts:g,appLink:r}=n,a=Cm(i,m);let v;const h=r&&typeof(global==null?void 0:global.Linking)<"u";try{const o=h?fc:ds;v=await this.client.core.crypto.encode(c,a,Pi(yn({},g||{}),{encoding:o}))}catch(o){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${c} failed`),o}let u,l;try{u=await this.client.core.history.get(c,i);const o=u.request;try{l=this.getTVFParams(i,o.params,m)}catch(d){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${d?.message}`)}}catch(o){throw this.client.logger.error(`sendResult() -> history.get(${c}, ${i}) failed`),o}if(h){const o=l2(r,c,v);await global.Linking.openURL(o,this.client.name)}else{const o=u.request.method,d=ci[o].res;d.tvf=Pi(yn({},l),{correlationId:i}),s?(d.internal=Pi(yn({},d.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(c,v,d)):this.client.core.relayer.publish(c,v,d).catch(p=>this.client.logger.error(p))}await this.client.core.history.resolve(a)}),We(this,"sendError",async n=>{const{id:i,topic:c,error:m,encodeOpts:s,rpcOpts:g,appLink:r}=n,a=M3(i,m);let v;const h=r&&typeof(global==null?void 0:global.Linking)<"u";try{const l=h?fc:ds;v=await this.client.core.crypto.encode(c,a,Pi(yn({},s||{}),{encoding:l}))}catch(l){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${c} failed`),l}let u;try{u=await this.client.core.history.get(c,i)}catch(l){throw this.client.logger.error(`sendError() -> history.get(${c}, ${i}) failed`),l}if(h){const l=l2(r,c,v);await global.Linking.openURL(l,this.client.name)}else{const l=u.request.method,o=g||ci[l].res;this.client.core.relayer.publish(c,v,o)}await this.client.core.history.resolve(a)}),We(this,"cleanup",async()=>{const n=[],i=[];this.client.session.getAll().forEach(c=>{let m=!1;sc(c.expiry)&&(m=!0),this.client.core.crypto.keychain.has(c.topic)||(m=!0),m&&n.push(c.topic)}),this.client.proposal.getAll().forEach(c=>{sc(c.expiryTimestamp)&&i.push(c.id)}),await Promise.all([...n.map(c=>this.deleteSession({topic:c})),...i.map(c=>this.deleteProposal(c))])}),We(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),We(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),We(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Xo.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Xo.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(i){this.client.logger.warn(i)}}this.requestQueue.state=Xo.idle}),We(this,"processRequest",async n=>{const{topic:i,payload:c,attestation:m,transportType:s,encryptedId:g}=n,r=c.method;if(!this.shouldIgnorePairingRequest({topic:i,requestMethod:r}))switch(r){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:i,payload:c,attestation:m,encryptedId:g});case"wc_sessionSettle":return await this.onSessionSettleRequest(i,c);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(i,c);case"wc_sessionExtend":return await this.onSessionExtendRequest(i,c);case"wc_sessionPing":return await this.onSessionPingRequest(i,c);case"wc_sessionDelete":return await this.onSessionDeleteRequest(i,c);case"wc_sessionRequest":return await this.onSessionRequest({topic:i,payload:c,attestation:m,encryptedId:g,transportType:s});case"wc_sessionEvent":return await this.onSessionEventRequest(i,c);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:i,payload:c,attestation:m,encryptedId:g,transportType:s});default:return this.client.logger.info(`Unsupported request method ${r}`)}}),We(this,"onRelayEventResponse",async n=>{const{topic:i,payload:c,transportType:m}=n,s=(await this.client.core.history.get(i,c.id)).request.method;switch(s){case"wc_sessionPropose":return this.onSessionProposeResponse(i,c,m);case"wc_sessionSettle":return this.onSessionSettleResponse(i,c);case"wc_sessionUpdate":return this.onSessionUpdateResponse(i,c);case"wc_sessionExtend":return this.onSessionExtendResponse(i,c);case"wc_sessionPing":return this.onSessionPingResponse(i,c);case"wc_sessionRequest":return this.onSessionRequestResponse(i,c);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(i,c);default:return this.client.logger.info(`Unsupported response method ${s}`)}}),We(this,"onRelayEventUnknownPayload",n=>{const{topic:i}=n,{message:c}=Qe("MISSING_OR_INVALID",`Decoded payload on topic ${i} is not identifiable as a JSON-RPC request or a response.`);throw new Error(c)}),We(this,"shouldIgnorePairingRequest",n=>{const{topic:i,requestMethod:c}=n,m=this.expectedPairingMethodMap.get(i);return!m||m.includes(c)?!1:!!(m.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),We(this,"onSessionProposeRequest",async n=>{const{topic:i,payload:c,attestation:m,encryptedId:s}=n,{params:g,id:r}=c;try{const a=this.client.core.eventClient.getEvent({topic:i});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),a?.setError(Xl.proposal_listener_not_found)),this.isValidConnect(yn({},c.params));const v=g.expiryTimestamp||Nr(ci.wc_sessionPropose.req.ttl),h=yn({id:r,pairingTopic:i,expiryTimestamp:v,attestation:m,encryptedId:s},g);await this.setProposal(r,h);const u=await this.getVerifyContext({attestationId:m,hash:wa(JSON.stringify(c)),encryptedId:s,metadata:h.proposer.metadata});a?.addTrace(_o.emit_session_proposal),this.client.events.emit("session_proposal",{id:r,params:h,verifyContext:u})}catch(a){await this.sendError({id:r,topic:i,error:a,rpcOpts:ci.wc_sessionPropose.autoReject}),this.client.logger.error(a)}}),We(this,"onSessionProposeResponse",async(n,i,c)=>{const{id:m}=i;if(el(i)){const{result:s}=i;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:s});const g=this.client.proposal.get(m);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:g});const r=g.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:r});const a=s.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:a});const v=await this.client.core.crypto.generateSharedKey(r,a);this.pendingSessions.set(m,{sessionTopic:v,pairingTopic:n,proposalId:m,publicKey:r});const h=await this.client.core.relayer.subscribe(v,{transportType:c});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:h}),await this.client.core.pairing.activate({topic:n})}else if(xa(i)){await this.deleteProposal(m);const s=gn("session_connect",m);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners, 954`);this.events.emit(s,{error:i.error})}}),We(this,"onSessionSettleRequest",async(n,i)=>{const{id:c,params:m}=i;try{this.isValidSessionSettleRequest(m);const{relay:s,controller:g,expiry:r,namespaces:a,sessionProperties:v,scopedProperties:h,sessionConfig:u}=i.params,l=[...this.pendingSessions.values()].find(p=>p.sessionTopic===n);if(!l)return this.client.logger.error(`Pending session not found for topic ${n}`);const o=this.client.proposal.get(l.proposalId),d=Pi(yn(yn(yn({topic:n,relay:s,expiry:r,namespaces:a,acknowledged:!0,pairingTopic:l.pairingTopic,requiredNamespaces:o.requiredNamespaces,optionalNamespaces:o.optionalNamespaces,controller:g.publicKey,self:{publicKey:l.publicKey,metadata:this.client.metadata},peer:{publicKey:g.publicKey,metadata:g.metadata}},v&&{sessionProperties:v}),h&&{scopedProperties:h}),u&&{sessionConfig:u}),{transportType:Wn.relay});await this.client.session.set(d.topic,d),await this.setExpiry(d.topic,d.expiry),await this.client.core.pairing.updateMetadata({topic:l.pairingTopic,metadata:d.peer.metadata}),this.client.events.emit("session_connect",{session:d}),this.events.emit(gn("session_connect",l.proposalId),{session:d}),this.pendingSessions.delete(l.proposalId),this.deleteProposal(l.proposalId,!1),this.cleanupDuplicatePairings(d),await this.sendResult({id:i.id,topic:n,result:!0})}catch(s){await this.sendError({id:c,topic:n,error:s}),this.client.logger.error(s)}}),We(this,"onSessionSettleResponse",async(n,i)=>{const{id:c}=i;el(i)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(gn("session_approve",c),{})):xa(i)&&(await this.client.session.delete(n,Gn("USER_DISCONNECTED")),this.events.emit(gn("session_approve",c),{error:i.error}))}),We(this,"onSessionUpdateRequest",async(n,i)=>{const{params:c,id:m}=i;try{const s=`${n}_session_update`,g=bv.get(s);if(g&&this.isRequestOutOfSync(g,m)){this.client.logger.warn(`Discarding out of sync request - ${m}`),this.sendError({id:m,topic:n,error:Gn("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(yn({topic:n},c));try{bv.set(s,m),await this.client.session.update(n,{namespaces:c.namespaces}),await this.sendResult({id:m,topic:n,result:!0})}catch(r){throw bv.delete(s),r}this.client.events.emit("session_update",{id:m,topic:n,params:c})}catch(s){await this.sendError({id:m,topic:n,error:s}),this.client.logger.error(s)}}),We(this,"isRequestOutOfSync",(n,i)=>i.toString().slice(0,-3)<n.toString().slice(0,-3)),We(this,"onSessionUpdateResponse",(n,i)=>{const{id:c}=i,m=gn("session_update",c);if(this.events.listenerCount(m)===0)throw new Error(`emitting ${m} without any listeners`);el(i)?this.events.emit(gn("session_update",c),{}):xa(i)&&this.events.emit(gn("session_update",c),{error:i.error})}),We(this,"onSessionExtendRequest",async(n,i)=>{const{id:c}=i;try{this.isValidExtend({topic:n}),await this.setExpiry(n,Nr($f)),await this.sendResult({id:c,topic:n,result:!0}),this.client.events.emit("session_extend",{id:c,topic:n})}catch(m){await this.sendError({id:c,topic:n,error:m}),this.client.logger.error(m)}}),We(this,"onSessionExtendResponse",(n,i)=>{const{id:c}=i,m=gn("session_extend",c);if(this.events.listenerCount(m)===0)throw new Error(`emitting ${m} without any listeners`);el(i)?this.events.emit(gn("session_extend",c),{}):xa(i)&&this.events.emit(gn("session_extend",c),{error:i.error})}),We(this,"onSessionPingRequest",async(n,i)=>{const{id:c}=i;try{this.isValidPing({topic:n}),await this.sendResult({id:c,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:c,topic:n})}catch(m){await this.sendError({id:c,topic:n,error:m}),this.client.logger.error(m)}}),We(this,"onSessionPingResponse",(n,i)=>{const{id:c}=i,m=gn("session_ping",c);setTimeout(()=>{if(this.events.listenerCount(m)===0)throw new Error(`emitting ${m} without any listeners 2176`);el(i)?this.events.emit(gn("session_ping",c),{}):xa(i)&&this.events.emit(gn("session_ping",c),{error:i.error})},500)}),We(this,"onSessionDeleteRequest",async(n,i)=>{const{id:c}=i;try{this.isValidDisconnect({topic:n,reason:i.params}),await Promise.all([new Promise(m=>{this.client.core.relayer.once(vr.publish,async()=>{m(await this.deleteSession({topic:n,id:c}))})}),this.sendResult({id:c,topic:n,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:Gn("USER_DISCONNECTED")})]).catch(m=>this.client.logger.error(m))}catch(m){this.client.logger.error(m)}}),We(this,"onSessionRequest",async n=>{var i,c,m;const{topic:s,payload:g,attestation:r,encryptedId:a,transportType:v}=n,{id:h,params:u}=g;try{await this.isValidRequest(yn({topic:s},u));const l=this.client.session.get(s),o=await this.getVerifyContext({attestationId:r,hash:wa(JSON.stringify(il("wc_sessionRequest",u,h))),encryptedId:a,metadata:l.peer.metadata,transportType:v}),d={id:h,topic:s,params:u,verifyContext:o};await this.setPendingSessionRequest(d),v===Wn.link_mode&&(i=l.peer.metadata.redirect)!=null&&i.universal&&this.client.core.addLinkModeSupportedApp((c=l.peer.metadata.redirect)==null?void 0:c.universal),(m=this.client.signConfig)!=null&&m.disableRequestQueue?this.emitSessionRequest(d):(this.addSessionRequestToSessionRequestQueue(d),this.processSessionRequestQueue())}catch(l){await this.sendError({id:h,topic:s,error:l}),this.client.logger.error(l)}}),We(this,"onSessionRequestResponse",(n,i)=>{const{id:c}=i,m=gn("session_request",c);if(this.events.listenerCount(m)===0)throw new Error(`emitting ${m} without any listeners`);el(i)?this.events.emit(gn("session_request",c),{result:i.result}):xa(i)&&this.events.emit(gn("session_request",c),{error:i.error})}),We(this,"onSessionEventRequest",async(n,i)=>{const{id:c,params:m}=i;try{const s=`${n}_session_event_${m.event.name}`,g=bv.get(s);if(g&&this.isRequestOutOfSync(g,c)){this.client.logger.info(`Discarding out of sync request - ${c}`);return}this.isValidEmit(yn({topic:n},m)),this.client.events.emit("session_event",{id:c,topic:n,params:m}),bv.set(s,c)}catch(s){await this.sendError({id:c,topic:n,error:s}),this.client.logger.error(s)}}),We(this,"onSessionAuthenticateResponse",(n,i)=>{const{id:c}=i;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:i}),el(i)?this.events.emit(gn("session_request",c),{result:i.result}):xa(i)&&this.events.emit(gn("session_request",c),{error:i.error})}),We(this,"onSessionAuthenticateRequest",async n=>{var i;const{topic:c,payload:m,attestation:s,encryptedId:g,transportType:r}=n;try{const{requester:a,authPayload:v,expiryTimestamp:h}=m.params,u=await this.getVerifyContext({attestationId:s,hash:wa(JSON.stringify(m)),encryptedId:g,metadata:a.metadata,transportType:r}),l={requester:a,pairingTopic:c,id:m.id,authPayload:v,verifyContext:u,expiryTimestamp:h};await this.setAuthRequest(m.id,{request:l,pairingTopic:c,transportType:r}),r===Wn.link_mode&&(i=a.metadata.redirect)!=null&&i.universal&&this.client.core.addLinkModeSupportedApp(a.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:c,params:m.params,id:m.id,verifyContext:u})}catch(a){this.client.logger.error(a);const v=m.params.requester.publicKey,h=await this.client.core.crypto.generateKeyPair(),u=this.getAppLinkIfEnabled(m.params.requester.metadata,r),l={type:lu,receiverPublicKey:v,senderPublicKey:h};await this.sendError({id:m.id,topic:c,error:a,encodeOpts:l,rpcOpts:ci.wc_sessionAuthenticate.autoReject,appLink:u})}}),We(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),We(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Xo.idle,this.processSessionRequestQueue()},qe.toMiliseconds(this.requestQueueDelay))}),We(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:i})=>{const c=this.client.core.history.pending;c.length>0&&c.filter(m=>m.topic===n&&m.request.method==="wc_sessionRequest").forEach(m=>{const s=m.request.id,g=gn("session_request",s);if(this.events.listenerCount(g)===0)throw new Error(`emitting ${g} without any listeners`);this.events.emit(gn("session_request",m.request.id),{error:i})})}),We(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Xo.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(n)}catch(i){this.client.logger.error(i)}}),We(this,"emitSessionRequest",n=>{if(this.emittedSessionRequests.has(n.id)){this.client.logger.warn({id:n.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${n.id}`);return}this.sessionRequestQueue.state=Xo.active,this.emittedSessionRequests.add(n.id),this.client.events.emit("session_request",n)}),We(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const i=this.client.proposal.getAll().find(c=>c.pairingTopic===n.topic);i&&this.onSessionProposeRequest({topic:n.topic,payload:il("wc_sessionPropose",Pi(yn({},i),{requiredNamespaces:i.requiredNamespaces,optionalNamespaces:i.optionalNamespaces,relays:i.relays,proposer:i.proposer,sessionProperties:i.sessionProperties,scopedProperties:i.scopedProperties}),i.id),attestation:i.attestation,encryptedId:i.encryptedId})}),We(this,"isValidConnect",async n=>{if(!ls(n)){const{message:a}=Qe("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(a)}const{pairingTopic:i,requiredNamespaces:c,optionalNamespaces:m,sessionProperties:s,scopedProperties:g,relays:r}=n;if(Br(i)||await this.isValidPairingTopic(i),!E8e(r)){const{message:a}=Qe("MISSING_OR_INVALID",`connect() relays: ${r}`);throw new Error(a)}if(!Br(c)&&hl(c)!==0){const a="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(a):this.client.logger.warn(a),this.validateNamespaces(c,"requiredNamespaces")}if(!Br(m)&&hl(m)!==0&&this.validateNamespaces(m,"optionalNamespaces"),Br(s)||this.validateSessionProps(s,"sessionProperties"),!Br(g)){this.validateSessionProps(g,"scopedProperties");const a=Object.keys(c||{}).concat(Object.keys(m||{}));if(!Object.keys(g).every(v=>a.includes(v.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(g)}, required/optional namespaces: ${JSON.stringify(a)}`)}}),We(this,"validateNamespaces",(n,i)=>{const c=b8e(n,"connect()",i);if(c)throw new Error(c.message)}),We(this,"isValidApprove",async n=>{if(!ls(n))throw new Error(Qe("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:i,namespaces:c,relayProtocol:m,sessionProperties:s,scopedProperties:g}=n;this.checkRecentlyDeleted(i),await this.isValidProposalId(i);const r=this.client.proposal.get(i),a=iE(c,"approve()");if(a)throw new Error(a.message);const v=EL(r.requiredNamespaces,c,"approve()");if(v)throw new Error(v.message);if(!Ar(m,!0)){const{message:h}=Qe("MISSING_OR_INVALID",`approve() relayProtocol: ${m}`);throw new Error(h)}if(Br(s)||this.validateSessionProps(s,"sessionProperties"),!Br(g)){this.validateSessionProps(g,"scopedProperties");const h=new Set(Object.keys(c));if(!Object.keys(g).every(u=>h.has(u.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(g)}, approved namespaces: ${Array.from(h).join(", ")}`)}}),We(this,"isValidReject",async n=>{if(!ls(n)){const{message:m}=Qe("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(m)}const{id:i,reason:c}=n;if(this.checkRecentlyDeleted(i),await this.isValidProposalId(i),!S8e(c)){const{message:m}=Qe("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(c)}`);throw new Error(m)}}),We(this,"isValidSessionSettleRequest",n=>{if(!ls(n)){const{message:a}=Qe("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(a)}const{relay:i,controller:c,namespaces:m,expiry:s}=n;if(!WH(i)){const{message:a}=Qe("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(a)}const g=v8e(c,"onSessionSettleRequest()");if(g)throw new Error(g.message);const r=iE(m,"onSessionSettleRequest()");if(r)throw new Error(r.message);if(sc(s)){const{message:a}=Qe("EXPIRED","onSessionSettleRequest()");throw new Error(a)}}),We(this,"isValidUpdate",async n=>{if(!ls(n)){const{message:r}=Qe("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(r)}const{topic:i,namespaces:c}=n;this.checkRecentlyDeleted(i),await this.isValidSessionTopic(i);const m=this.client.session.get(i),s=iE(c,"update()");if(s)throw new Error(s.message);const g=EL(m.requiredNamespaces,c,"update()");if(g)throw new Error(g.message)}),We(this,"isValidExtend",async n=>{if(!ls(n)){const{message:c}=Qe("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(c)}const{topic:i}=n;this.checkRecentlyDeleted(i),await this.isValidSessionTopic(i)}),We(this,"isValidRequest",async n=>{if(!ls(n)){const{message:r}=Qe("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(r)}const{topic:i,request:c,chainId:m,expiry:s}=n;this.checkRecentlyDeleted(i),await this.isValidSessionTopic(i);const{namespaces:g}=this.client.session.get(i);if(!bL(g,m)){const{message:r}=Qe("MISSING_OR_INVALID",`request() chainId: ${m}`);throw new Error(r)}if(!T8e(c)){const{message:r}=Qe("MISSING_OR_INVALID",`request() ${JSON.stringify(c)}`);throw new Error(r)}if(!I8e(g,m,c.method)){const{message:r}=Qe("MISSING_OR_INVALID",`request() method: ${c.method}`);throw new Error(r)}if(s&&!$8e(s,vE)){const{message:r}=Qe("MISSING_OR_INVALID",`request() expiry: ${s}. Expiry must be a number (in seconds) between ${vE.min} and ${vE.max}`);throw new Error(r)}}),We(this,"isValidRespond",async n=>{var i;if(!ls(n)){const{message:s}=Qe("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(s)}const{topic:c,response:m}=n;try{await this.isValidSessionTopic(c)}catch(s){throw(i=n?.response)!=null&&i.id&&this.cleanupAfterResponse(n),s}if(!A8e(m)){const{message:s}=Qe("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(m)}`);throw new Error(s)}}),We(this,"isValidPing",async n=>{if(!ls(n)){const{message:c}=Qe("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(c)}const{topic:i}=n;await this.isValidSessionOrPairingTopic(i)}),We(this,"isValidEmit",async n=>{if(!ls(n)){const{message:g}=Qe("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(g)}const{topic:i,event:c,chainId:m}=n;await this.isValidSessionTopic(i);const{namespaces:s}=this.client.session.get(i);if(!bL(s,m)){const{message:g}=Qe("MISSING_OR_INVALID",`emit() chainId: ${m}`);throw new Error(g)}if(!P8e(c)){const{message:g}=Qe("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(c)}`);throw new Error(g)}if(!R8e(s,m,c.name)){const{message:g}=Qe("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(c)}`);throw new Error(g)}}),We(this,"isValidDisconnect",async n=>{if(!ls(n)){const{message:c}=Qe("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(c)}const{topic:i}=n;await this.isValidSessionOrPairingTopic(i)}),We(this,"isValidAuthenticate",n=>{const{chains:i,uri:c,domain:m,nonce:s}=n;if(!Array.isArray(i)||i.length===0)throw new Error("chains is required and must be a non-empty array");if(!Ar(c,!1))throw new Error("uri is required parameter");if(!Ar(m,!1))throw new Error("domain is required parameter");if(!Ar(s,!1))throw new Error("nonce is required parameter");if([...new Set(i.map(r=>Gh(r).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:g}=Gh(i[0]);if(g!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),We(this,"getVerifyContext",async n=>{const{attestationId:i,hash:c,encryptedId:m,metadata:s,transportType:g}=n,r={verified:{verifyUrl:s.verifyUrl||ug,validation:"UNKNOWN",origin:s.url||""}};try{if(g===Wn.link_mode){const v=this.getAppLinkIfEnabled(s,g);return r.verified.validation=v&&new URL(v).origin===new URL(s.url).origin?"VALID":"INVALID",r}const a=await this.client.core.verify.resolve({attestationId:i,hash:c,encryptedId:m,verifyUrl:s.verifyUrl});a&&(r.verified.origin=a.origin,r.verified.isScam=a.isScam,r.verified.validation=a.origin===new URL(s.url).origin?"VALID":"INVALID")}catch(a){this.client.logger.warn(a)}return this.client.logger.debug(`Verify context: ${JSON.stringify(r)}`),r}),We(this,"validateSessionProps",(n,i)=>{Object.values(n).forEach((c,m)=>{if(c==null){const{message:s}=Qe("MISSING_OR_INVALID",`${i} must contain an existing value for each key. Received: ${c} for key ${Object.keys(n)[m]}`);throw new Error(s)}})}),We(this,"getPendingAuthRequest",n=>{const i=this.client.auth.requests.get(n);return typeof i=="object"?i:void 0}),We(this,"addToRecentlyDeleted",(n,i)=>{if(this.recentlyDeletedMap.set(n,i),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let c=0;const m=this.recentlyDeletedLimit/2;for(const s of this.recentlyDeletedMap.keys()){if(c++>=m)break;this.recentlyDeletedMap.delete(s)}}}),We(this,"checkRecentlyDeleted",n=>{const i=this.recentlyDeletedMap.get(n);if(i){const{message:c}=Qe("MISSING_OR_INVALID",`Record was recently deleted - ${i}: ${n}`);throw new Error(c)}}),We(this,"isLinkModeEnabled",(n,i)=>{var c,m,s,g,r,a,v,h,u;return!n||i!==Wn.link_mode?!1:((m=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:m.linkMode)===!0&&((g=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:g.universal)!==void 0&&((a=(r=this.client.metadata)==null?void 0:r.redirect)==null?void 0:a.universal)!==""&&((v=n?.redirect)==null?void 0:v.universal)!==void 0&&((h=n?.redirect)==null?void 0:h.universal)!==""&&((u=n?.redirect)==null?void 0:u.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),We(this,"getAppLinkIfEnabled",(n,i)=>{var c;return this.isLinkModeEnabled(n,i)?(c=n?.redirect)==null?void 0:c.universal:void 0}),We(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const i=DF(n,"topic")||"",c=decodeURIComponent(DF(n,"wc_ev")||""),m=this.client.session.keys.includes(i);m&&this.client.session.update(i,{transportType:Wn.link_mode}),this.client.core.dispatchEnvelope({topic:i,message:c,sessionExists:m})}),We(this,"registerLinkModeListeners",async()=>{var n;if(P7()||Fc()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const i=global==null?void 0:global.Linking;if(typeof i<"u"){i.addEventListener("url",this.handleLinkModeMessage,this.client.name);const c=await i.getInitialURL();c&&setTimeout(()=>{this.handleLinkModeMessage({url:c})},50)}}}),We(this,"getTVFParams",(n,i,c)=>{var m,s,g;if(!((m=i.request)!=null&&m.method))return{};const r={correlationId:n,rpcMethods:[i.request.method],chainId:i.chainId};try{const a=this.extractTxHashesFromResult(i.request,c);r.txHashes=a,r.contractAddresses=this.isValidContractData(i.request.params)?[(g=(s=i.request.params)==null?void 0:s[0])==null?void 0:g.to]:[]}catch(a){this.client.logger.warn("Error getting TVF params",a)}return r}),We(this,"isValidContractData",n=>{var i;if(!n)return!1;try{const c=n?.data||((i=n?.[0])==null?void 0:i.data);if(!c.startsWith("0x"))return!1;const m=c.slice(2);return/^[0-9a-fA-F]*$/.test(m)?m.length%2===0:!1}catch{}return!1}),We(this,"extractTxHashesFromResult",(n,i)=>{var c;try{if(!i)return[];const m=n.method,s=UAe[m];if(m==="sui_signTransaction")return[t6e(i.transactionBytes)];if(m==="near_signTransaction")return[GF(i)];if(m==="near_signTransactions")return i.map(r=>GF(r));if(m==="xrpl_signTransactionFor"||m==="xrpl_signTransaction")return[(c=i.tx_json)==null?void 0:c.hash];if(m==="polkadot_signTransaction")return[X8e({transaction:n.params.transactionPayload,signature:i.signature})];if(m==="algo_signTxn")return Aa(i)?i.map(r=>VF(r)):[VF(i)];if(m==="cosmos_signDirect")return[r6e(i)];if(typeof i=="string")return[i];const g=i[s.key];if(Aa(g))return m==="solana_signAllTransactions"?g.map(r=>e6e(r)):g;if(typeof g=="string")return[g]}catch(m){this.client.logger.warn("Error extracting tx hashes from result",m)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[i,c]of Object.entries(n))for(const m of c)try{await this.onProviderMessageEvent({topic:i,message:m,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${i}, message: ${m}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=Qe("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(vr.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:i,attestation:c,transportType:m}=e,{publicKey:s}=this.client.auth.authKeys.keys.includes(nw)?this.client.auth.authKeys.get(nw):{publicKey:void 0};try{const g=await this.client.core.crypto.decode(n,i,{receiverPublicKey:s,encoding:m===Wn.link_mode?fc:ds});G7(g)?(this.client.core.history.set(n,g),await this.onRelayEventRequest({topic:n,payload:g,attestation:c,transportType:m,encryptedId:wa(i)})):$3(g)?(await this.client.core.history.resolve(g),await this.onRelayEventResponse({topic:n,payload:g,transportType:m}),this.client.core.history.delete(n,g.id)):await this.onRelayEventUnknownPayload({topic:n,payload:g,transportType:m}),await this.client.core.relayer.messages.ack(n,i)}catch(g){this.client.logger.error(g)}}registerExpirerEvents(){this.client.core.expirer.on(ma.expired,async e=>{const{topic:n,id:i}=JV(e.target);if(i&&this.client.pendingRequest.keys.includes(i))return await this.deletePendingSessionRequest(i,Qe("EXPIRED"),!0);if(i&&this.client.auth.requests.keys.includes(i))return await this.deletePendingAuthRequest(i,Qe("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):i&&(await this.deleteProposal(i,!0),this.client.events.emit("proposal_expire",{id:i}))})}registerPairingEvents(){this.client.core.pairing.events.on(xh.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(xh.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!Ar(e,!1)){const{message:n}=Qe("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=Qe("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(sc(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=Qe("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!Ar(e,!1)){const{message:n}=Qe("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=Qe("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(sc(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=Qe("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=Qe("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(Ar(e,!1)){const{message:n}=Qe("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=Qe("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!C8e(e)){const{message:n}=Qe("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=Qe("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(sc(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=Qe("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}},qAe=class extends Pd{constructor(e,n){super(e,n,NAe,V7),this.core=e,this.logger=n}},ePe=class extends Pd{constructor(e,n){super(e,n,kAe,V7),this.core=e,this.logger=n}},tPe=class extends Pd{constructor(e,n){super(e,n,jAe,V7,i=>i.id),this.core=e,this.logger=n}},nPe=class extends Pd{constructor(e,n){super(e,n,VAe,L3,()=>nw),this.core=e,this.logger=n}},rPe=class extends Pd{constructor(e,n){super(e,n,HAe,L3),this.core=e,this.logger=n}},iPe=class extends Pd{constructor(e,n){super(e,n,YAe,L3,i=>i.id),this.core=e,this.logger=n}};var sPe=Object.defineProperty,aPe=(t,e,n)=>e in t?sPe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gE=(t,e,n)=>aPe(t,typeof e!="symbol"?e+"":e,n);let oPe=class{constructor(e,n){this.core=e,this.logger=n,gE(this,"authKeys"),gE(this,"pairingTopics"),gE(this,"requests"),this.authKeys=new nPe(this.core,this.logger),this.pairingTopics=new rPe(this.core,this.logger),this.requests=new iPe(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}};var lPe=Object.defineProperty,uPe=(t,e,n)=>e in t?lPe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Qt=(t,e,n)=>uPe(t,typeof e!="symbol"?e+"":e,n);let cPe=class yY extends aSe{constructor(e){super(e),Qt(this,"protocol",vY),Qt(this,"version",gY),Qt(this,"name",pE.name),Qt(this,"metadata"),Qt(this,"core"),Qt(this,"logger"),Qt(this,"events",new na.EventEmitter),Qt(this,"engine"),Qt(this,"session"),Qt(this,"proposal"),Qt(this,"pendingRequest"),Qt(this,"auth"),Qt(this,"signConfig"),Qt(this,"on",(i,c)=>this.events.on(i,c)),Qt(this,"once",(i,c)=>this.events.once(i,c)),Qt(this,"off",(i,c)=>this.events.off(i,c)),Qt(this,"removeListener",(i,c)=>this.events.removeListener(i,c)),Qt(this,"removeAllListeners",i=>this.events.removeAllListeners(i)),Qt(this,"connect",async i=>{try{return await this.engine.connect(i)}catch(c){throw this.logger.error(c.message),c}}),Qt(this,"pair",async i=>{try{return await this.engine.pair(i)}catch(c){throw this.logger.error(c.message),c}}),Qt(this,"approve",async i=>{try{return await this.engine.approve(i)}catch(c){throw this.logger.error(c.message),c}}),Qt(this,"reject",async i=>{try{return await this.engine.reject(i)}catch(c){throw this.logger.error(c.message),c}}),Qt(this,"update",async i=>{try{return await this.engine.update(i)}catch(c){throw this.logger.error(c.message),c}}),Qt(this,"extend",async i=>{try{return await this.engine.extend(i)}catch(c){throw this.logger.error(c.message),c}}),Qt(this,"request",async i=>{try{return await this.engine.request(i)}catch(c){throw this.logger.error(c.message),c}}),Qt(this,"respond",async i=>{try{return await this.engine.respond(i)}catch(c){throw this.logger.error(c.message),c}}),Qt(this,"ping",async i=>{try{return await this.engine.ping(i)}catch(c){throw this.logger.error(c.message),c}}),Qt(this,"emit",async i=>{try{return await this.engine.emit(i)}catch(c){throw this.logger.error(c.message),c}}),Qt(this,"disconnect",async i=>{try{return await this.engine.disconnect(i)}catch(c){throw this.logger.error(c.message),c}}),Qt(this,"find",i=>{try{return this.engine.find(i)}catch(c){throw this.logger.error(c.message),c}}),Qt(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(i){throw this.logger.error(i.message),i}}),Qt(this,"authenticate",async(i,c)=>{try{return await this.engine.authenticate(i,c)}catch(m){throw this.logger.error(m.message),m}}),Qt(this,"formatAuthMessage",i=>{try{return this.engine.formatAuthMessage(i)}catch(c){throw this.logger.error(c.message),c}}),Qt(this,"approveSessionAuthenticate",async i=>{try{return await this.engine.approveSessionAuthenticate(i)}catch(c){throw this.logger.error(c.message),c}}),Qt(this,"rejectSessionAuthenticate",async i=>{try{return await this.engine.rejectSessionAuthenticate(i)}catch(c){throw this.logger.error(c.message),c}}),this.name=e?.name||pE.name,this.metadata=Y5e(e?.metadata),this.signConfig=e?.signConfig;const n=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:f1(O3({level:e?.logger||pE.logger}));this.core=e?.core||new DAe(e),this.logger=Ki(n,this.name),this.session=new ePe(this.core,this.logger),this.proposal=new qAe(this.core,this.logger),this.pendingRequest=new tPe(this.core,this.logger),this.engine=new QAe(this),this.auth=new oPe(this.core,this.logger)}static async init(e){const n=new yY(e);return await n.initialize(),n}get context(){return Ss(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var c2={exports:{}},yD;function hPe(){return yD||(yD=1,(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof tl<"u"&&tl,i=(function(){function m(){this.fetch=!1,this.DOMException=n.DOMException}return m.prototype=n,new m})();(function(m){(function(s){var g=typeof m<"u"&&m||typeof self<"u"&&self||typeof tl<"u"&&tl||{},r={searchParams:"URLSearchParams"in g,iterable:"Symbol"in g&&"iterator"in Symbol,blob:"FileReader"in g&&"Blob"in g&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in g,arrayBuffer:"ArrayBuffer"in g};function a($){return $&&DataView.prototype.isPrototypeOf($)}if(r.arrayBuffer)var v=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function($){return $&&v.indexOf(Object.prototype.toString.call($))>-1};function u($){if(typeof $!="string"&&($=String($)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test($)||$==="")throw new TypeError('Invalid character in header field name: "'+$+'"');return $.toLowerCase()}function l($){return typeof $!="string"&&($=String($)),$}function o($){var F={next:function(){var N=$.shift();return{done:N===void 0,value:N}}};return r.iterable&&(F[Symbol.iterator]=function(){return F}),F}function d($){this.map={},$ instanceof d?$.forEach(function(F,N){this.append(N,F)},this):Array.isArray($)?$.forEach(function(F){if(F.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+F.length);this.append(F[0],F[1])},this):$&&Object.getOwnPropertyNames($).forEach(function(F){this.append(F,$[F])},this)}d.prototype.append=function($,F){$=u($),F=l(F);var N=this.map[$];this.map[$]=N?N+", "+F:F},d.prototype.delete=function($){delete this.map[u($)]},d.prototype.get=function($){return $=u($),this.has($)?this.map[$]:null},d.prototype.has=function($){return this.map.hasOwnProperty(u($))},d.prototype.set=function($,F){this.map[u($)]=l(F)},d.prototype.forEach=function($,F){for(var N in this.map)this.map.hasOwnProperty(N)&&$.call(F,this.map[N],N,this)},d.prototype.keys=function(){var $=[];return this.forEach(function(F,N){$.push(N)}),o($)},d.prototype.values=function(){var $=[];return this.forEach(function(F){$.push(F)}),o($)},d.prototype.entries=function(){var $=[];return this.forEach(function(F,N){$.push([N,F])}),o($)},r.iterable&&(d.prototype[Symbol.iterator]=d.prototype.entries);function p($){if(!$._noBody){if($.bodyUsed)return Promise.reject(new TypeError("Already read"));$.bodyUsed=!0}}function f($){return new Promise(function(F,N){$.onload=function(){F($.result)},$.onerror=function(){N($.error)}})}function y($){var F=new FileReader,N=f(F);return F.readAsArrayBuffer($),N}function w($){var F=new FileReader,N=f(F),k=/charset=([A-Za-z0-9_-]+)/.exec($.type),j=k?k[1]:"utf-8";return F.readAsText($,j),N}function x($){for(var F=new Uint8Array($),N=new Array(F.length),k=0;k<F.length;k++)N[k]=String.fromCharCode(F[k]);return N.join("")}function b($){if($.slice)return $.slice(0);var F=new Uint8Array($.byteLength);return F.set(new Uint8Array($)),F.buffer}function E(){return this.bodyUsed=!1,this._initBody=function($){this.bodyUsed=this.bodyUsed,this._bodyInit=$,$?typeof $=="string"?this._bodyText=$:r.blob&&Blob.prototype.isPrototypeOf($)?this._bodyBlob=$:r.formData&&FormData.prototype.isPrototypeOf($)?this._bodyFormData=$:r.searchParams&&URLSearchParams.prototype.isPrototypeOf($)?this._bodyText=$.toString():r.arrayBuffer&&r.blob&&a($)?(this._bodyArrayBuffer=b($.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf($)||h($))?this._bodyArrayBuffer=b($):this._bodyText=$=Object.prototype.toString.call($):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof $=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf($)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var $=p(this);if($)return $;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var $=p(this);return $||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(r.blob)return this.blob().then(y);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var $=p(this);if($)return $;if(this._bodyBlob)return w(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(x(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(A)}),this.json=function(){return this.text().then(JSON.parse)},this}var C=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function T($){var F=$.toUpperCase();return C.indexOf(F)>-1?F:$}function S($,F){if(!(this instanceof S))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');F=F||{};var N=F.body;if($ instanceof S){if($.bodyUsed)throw new TypeError("Already read");this.url=$.url,this.credentials=$.credentials,F.headers||(this.headers=new d($.headers)),this.method=$.method,this.mode=$.mode,this.signal=$.signal,!N&&$._bodyInit!=null&&(N=$._bodyInit,$.bodyUsed=!0)}else this.url=String($);if(this.credentials=F.credentials||this.credentials||"same-origin",(F.headers||!this.headers)&&(this.headers=new d(F.headers)),this.method=T(F.method||this.method||"GET"),this.mode=F.mode||this.mode||null,this.signal=F.signal||this.signal||(function(){if("AbortController"in g){var W=new AbortController;return W.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&N)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(N),(this.method==="GET"||this.method==="HEAD")&&(F.cache==="no-store"||F.cache==="no-cache")){var k=/([?&])_=[^&]*/;if(k.test(this.url))this.url=this.url.replace(k,"$1_="+new Date().getTime());else{var j=/\?/;this.url+=(j.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}S.prototype.clone=function(){return new S(this,{body:this._bodyInit})};function A($){var F=new FormData;return $.trim().split("&").forEach(function(N){if(N){var k=N.split("="),j=k.shift().replace(/\+/g," "),W=k.join("=").replace(/\+/g," ");F.append(decodeURIComponent(j),decodeURIComponent(W))}}),F}function P($){var F=new d,N=$.replace(/\r?\n[\t ]+/g," ");return N.split("\r").map(function(k){return k.indexOf(`
`)===0?k.substr(1,k.length):k}).forEach(function(k){var j=k.split(":"),W=j.shift().trim();if(W){var G=j.join(":").trim();try{F.append(W,G)}catch(K){console.warn("Response "+K.message)}}}),F}E.call(S.prototype);function R($,F){if(!(this instanceof R))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(F||(F={}),this.type="default",this.status=F.status===void 0?200:F.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=F.statusText===void 0?"":""+F.statusText,this.headers=new d(F.headers),this.url=F.url||"",this._initBody($)}E.call(R.prototype),R.prototype.clone=function(){return new R(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},R.error=function(){var $=new R(null,{status:200,statusText:""});return $.ok=!1,$.status=0,$.type="error",$};var L=[301,302,303,307,308];R.redirect=function($,F){if(L.indexOf(F)===-1)throw new RangeError("Invalid status code");return new R(null,{status:F,headers:{location:$}})},s.DOMException=g.DOMException;try{new s.DOMException}catch{s.DOMException=function(F,N){this.message=F,this.name=N;var k=Error(F);this.stack=k.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function D($,F){return new Promise(function(N,k){var j=new S($,F);if(j.signal&&j.signal.aborted)return k(new s.DOMException("Aborted","AbortError"));var W=new XMLHttpRequest;function G(){W.abort()}W.onload=function(){var X={statusText:W.statusText,headers:P(W.getAllResponseHeaders()||"")};j.url.indexOf("file://")===0&&(W.status<200||W.status>599)?X.status=200:X.status=W.status,X.url="responseURL"in W?W.responseURL:X.headers.get("X-Request-URL");var U="response"in W?W.response:W.responseText;setTimeout(function(){N(new R(U,X))},0)},W.onerror=function(){setTimeout(function(){k(new TypeError("Network request failed"))},0)},W.ontimeout=function(){setTimeout(function(){k(new TypeError("Network request timed out"))},0)},W.onabort=function(){setTimeout(function(){k(new s.DOMException("Aborted","AbortError"))},0)};function K(X){try{return X===""&&g.location.href?g.location.href:X}catch{return X}}if(W.open(j.method,K(j.url),!0),j.credentials==="include"?W.withCredentials=!0:j.credentials==="omit"&&(W.withCredentials=!1),"responseType"in W&&(r.blob?W.responseType="blob":r.arrayBuffer&&(W.responseType="arraybuffer")),F&&typeof F.headers=="object"&&!(F.headers instanceof d||g.Headers&&F.headers instanceof g.Headers)){var z=[];Object.getOwnPropertyNames(F.headers).forEach(function(X){z.push(u(X)),W.setRequestHeader(X,l(F.headers[X]))}),j.headers.forEach(function(X,U){z.indexOf(U)===-1&&W.setRequestHeader(U,X)})}else j.headers.forEach(function(X,U){W.setRequestHeader(U,X)});j.signal&&(j.signal.addEventListener("abort",G),W.onreadystatechange=function(){W.readyState===4&&j.signal.removeEventListener("abort",G)}),W.send(typeof j._bodyInit>"u"?null:j._bodyInit)})}return D.polyfill=!0,g.fetch||(g.fetch=D,g.Headers=d,g.Request=S,g.Response=R),s.Headers=d,s.Request=S,s.Response=R,s.fetch=D,Object.defineProperty(s,"__esModule",{value:!0}),s})({})})(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var c=n.fetch?n:i;e=c.fetch,e.default=c.fetch,e.fetch=c.fetch,e.Headers=c.Headers,e.Request=c.Request,e.Response=c.Response,t.exports=e})(c2,c2.exports)),c2.exports}var dPe=hPe();const wD=La(dPe);var fPe=Object.defineProperty,pPe=Object.defineProperties,vPe=Object.getOwnPropertyDescriptors,xD=Object.getOwnPropertySymbols,gPe=Object.prototype.hasOwnProperty,mPe=Object.prototype.propertyIsEnumerable,bD=(t,e,n)=>e in t?fPe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ED=(t,e)=>{for(var n in e||(e={}))gPe.call(e,n)&&bD(t,n,e[n]);if(xD)for(var n of xD(e))mPe.call(e,n)&&bD(t,n,e[n]);return t},CD=(t,e)=>pPe(t,vPe(e));const yPe={Accept:"application/json","Content-Type":"application/json"},wPe="POST",SD={headers:yPe,method:wPe},TD=10;let Oo=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new na.EventEmitter,this.isAvailable=!1,this.registering=!1,!zL(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=mu(e),i=await(await wD(this.url,CD(ED({},SD),{body:n}))).json();this.onPayload({data:i})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!zL(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((i,c)=>{this.events.once("register_error",m=>{this.resetMaxListeners(),c(m)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return c(new Error("HTTP connection is missing or invalid"));i()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=mu({id:1,jsonrpc:"2.0",method:"test",params:[]});await wD(e,CD(ED({},SD),{body:n}))}this.onOpen()}catch(n){const i=this.parseError(n);throw this.events.emit("register_error",i),this.onClose(),i}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?id(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const i=this.parseError(n),c=i.message||i.toString(),m=M3(e,c);this.events.emit("payload",m)}parseError(e,n=this.url){return KH(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>TD&&this.events.setMaxListeners(TD)}};const AD="error",xPe="wss://relay.walletconnect.org",bPe="wc",EPe="universal_provider",h2=`${bPe}@2:${EPe}:`,wY="https://rpc.walletconnect.org/v1/",xY="generic",CPe=`${wY}bundler`,Ua={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function H7(t){return t==null||typeof t!="object"&&typeof t!="function"}function bY(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function EY(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const SPe="[object RegExp]",CY="[object String]",SY="[object Number]",TY="[object Boolean]",AY="[object Arguments]",TPe="[object Symbol]",APe="[object Date]",PPe="[object Map]",IPe="[object Set]",RPe="[object Array]",OPe="[object ArrayBuffer]",MPe="[object Object]",$Pe="[object DataView]",FPe="[object Uint8Array]",LPe="[object Uint8ClampedArray]",DPe="[object Uint16Array]",NPe="[object Uint32Array]",kPe="[object Int8Array]",BPe="[object Int16Array]",UPe="[object Int32Array]",jPe="[object Float32Array]",zPe="[object Float64Array]";function Y7(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function WPe(t,e){return hp(t,void 0,t,new Map,e)}function hp(t,e,n,i=new Map,c=void 0){const m=c?.(t,e,n,i);if(m!=null)return m;if(H7(t))return t;if(i.has(t))return i.get(t);if(Array.isArray(t)){const s=new Array(t.length);i.set(t,s);for(let g=0;g<t.length;g++)s[g]=hp(t[g],g,n,i,c);return Object.hasOwn(t,"index")&&(s.index=t.index),Object.hasOwn(t,"input")&&(s.input=t.input),s}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const s=new RegExp(t.source,t.flags);return s.lastIndex=t.lastIndex,s}if(t instanceof Map){const s=new Map;i.set(t,s);for(const[g,r]of t)s.set(g,hp(r,g,n,i,c));return s}if(t instanceof Set){const s=new Set;i.set(t,s);for(const g of t)s.add(hp(g,void 0,n,i,c));return s}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(Y7(t)){const s=new(Object.getPrototypeOf(t)).constructor(t.length);i.set(t,s);for(let g=0;g<t.length;g++)s[g]=hp(t[g],g,n,i,c);return s}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const s=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return i.set(t,s),bh(s,t,n,i,c),s}if(typeof File<"u"&&t instanceof File){const s=new File([t],t.name,{type:t.type});return i.set(t,s),bh(s,t,n,i,c),s}if(t instanceof Blob){const s=new Blob([t],{type:t.type});return i.set(t,s),bh(s,t,n,i,c),s}if(t instanceof Error){const s=new t.constructor;return i.set(t,s),s.message=t.message,s.name=t.name,s.stack=t.stack,s.cause=t.cause,bh(s,t,n,i,c),s}if(typeof t=="object"&&GPe(t)){const s=Object.create(Object.getPrototypeOf(t));return i.set(t,s),bh(s,t,n,i,c),s}return t}function bh(t,e,n=t,i,c){const m=[...Object.keys(e),...bY(e)];for(let s=0;s<m.length;s++){const g=m[s],r=Object.getOwnPropertyDescriptor(t,g);(r==null||r.writable)&&(t[g]=hp(e[g],g,n,i,c))}}function GPe(t){switch(EY(t)){case AY:case RPe:case OPe:case $Pe:case TY:case APe:case jPe:case zPe:case kPe:case BPe:case UPe:case PPe:case SY:case MPe:case SPe:case IPe:case CY:case TPe:case FPe:case LPe:case DPe:case NPe:return!0;default:return!1}}function VPe(t,e){return WPe(t,(n,i,c,m)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case SY:case CY:case TY:{const s=new t.constructor(t?.valueOf());return bh(s,t),s}case AY:{const s={};return bh(s,t),s.length=t.length,s[Symbol.iterator]=t[Symbol.iterator],s}default:return}})}function PD(t){return VPe(t)}function ID(t){return t!==null&&typeof t=="object"&&EY(t)==="[object Arguments]"}function RD(t){return typeof t=="object"&&t!==null}function HPe(){}function YPe(t){return Y7(t)}function XPe(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const n=t[Symbol.toStringTag];return n==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${n}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function KPe(t){if(H7(t))return t;if(Array.isArray(t)||Y7(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const i=new n(t);return i.lastIndex=t.lastIndex,i}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const i=new n(t.message);return i.stack=t.stack,i.name=t.name,i.cause=t.cause,i}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const i=Object.create(e);return Object.assign(i,t)}return t}function ZPe(t,...e){const n=e.slice(0,-1),i=e[e.length-1];let c=t;for(let m=0;m<n.length;m++){const s=n[m];c=OS(c,s,i,new Map)}return c}function OS(t,e,n,i){if(H7(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(i.has(e))return KPe(i.get(e));if(i.set(e,t),Array.isArray(e)){e=e.slice();for(let m=0;m<e.length;m++)e[m]=e[m]??void 0}const c=[...Object.keys(e),...bY(e)];for(let m=0;m<c.length;m++){const s=c[m];let g=e[s],r=t[s];if(ID(g)&&(g={...g}),ID(r)&&(r={...r}),typeof Buffer<"u"&&Buffer.isBuffer(g)&&(g=PD(g)),Array.isArray(g))if(typeof r=="object"&&r!=null){const v=[],h=Reflect.ownKeys(r);for(let u=0;u<h.length;u++){const l=h[u];v[l]=r[l]}r=v}else r=[];const a=n(r,g,s,t,e,i);a!=null?t[s]=a:Array.isArray(g)||RD(r)&&RD(g)?t[s]=OS(r,g,n,i):r==null&&XPe(g)?t[s]=OS({},g,n,i):r==null&&YPe(g)?t[s]=PD(g):(r===void 0||g!==void 0)&&(t[s]=g)}return t}function JPe(t,...e){return ZPe(t,...e,HPe)}var _Pe=Object.defineProperty,QPe=Object.defineProperties,qPe=Object.getOwnPropertyDescriptors,OD=Object.getOwnPropertySymbols,eIe=Object.prototype.hasOwnProperty,tIe=Object.prototype.propertyIsEnumerable,MD=(t,e,n)=>e in t?_Pe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,d2=(t,e)=>{for(var n in e||(e={}))eIe.call(e,n)&&MD(t,n,e[n]);if(OD)for(var n of OD(e))tIe.call(e,n)&&MD(t,n,e[n]);return t},nIe=(t,e)=>QPe(t,qPe(e));function qs(t,e,n){var i;const c=Gh(t);return((i=e.rpcMap)==null?void 0:i[c.reference])||`${wY}?chainId=${c.namespace}:${c.reference}&projectId=${n}`}function Id(t){return t.includes(":")?t.split(":")[1]:t}function PY(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function rIe(t,e){const n=Object.keys(e.namespaces).filter(c=>c.includes(t));if(!n.length)return[];const i=[];return n.forEach(c=>{const m=e.namespaces[c].accounts;i.push(...m)}),i}function $D(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>{var i,c;return((i=n?.chains)==null?void 0:i.length)&&((c=n?.chains)==null?void 0:c.length)>0}))}function f2(t={},e={}){const n=$D(FD(t)),i=$D(FD(e));return JPe(n,i)}function FD(t){var e,n,i,c,m;const s={};if(!hl(t))return s;for(const[g,r]of Object.entries(t)){const a=R3(g)?[g]:r.chains,v=r.methods||[],h=r.events||[],u=r.rpcMap||{},l=cp(g);s[l]=nIe(d2(d2({},s[l]),r),{chains:cl(a,(e=s[l])==null?void 0:e.chains),methods:cl(v,(n=s[l])==null?void 0:n.methods),events:cl(h,(i=s[l])==null?void 0:i.events)}),(hl(u)||hl(((c=s[l])==null?void 0:c.rpcMap)||{}))&&(s[l].rpcMap=d2(d2({},u),(m=s[l])==null?void 0:m.rpcMap))}return s}function LD(t){return t.includes(":")?t.split(":")[2]:t}function DD(t){const e={};for(const[n,i]of Object.entries(t)){const c=i.methods||[],m=i.events||[],s=i.accounts||[],g=R3(n)?[n]:i.chains?i.chains:PY(i.accounts);e[n]={chains:g,methods:c,events:m,accounts:s}}return e}function mE(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const IY={},cn=t=>IY[t],yE=(t,e)=>{IY[t]=e};var iIe=Object.defineProperty,ND=Object.getOwnPropertySymbols,sIe=Object.prototype.hasOwnProperty,aIe=Object.prototype.propertyIsEnumerable,kD=(t,e,n)=>e in t?iIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,BD=(t,e)=>{for(var n in e||(e={}))sIe.call(e,n)&&kD(t,n,e[n]);if(ND)for(var n of ND(e))aIe.call(e,n)&&kD(t,n,e[n]);return t};const UD="eip155",oIe=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],lIe=t=>t&&t.startsWith("0x")?BigInt(t).toString(10):t,wE=t=>t&&t.startsWith("0x")?t:`0x${BigInt(t).toString(16)}`,jD=t=>Object.keys(t).filter(e=>oIe.includes(e)).reduce((e,n)=>(e[n]=t[n],e),{}),uIe=(t,e,n)=>{const{sessionProperties:i={},scopedProperties:c={}}=t,m={};if(!hl(c)&&!hl(i))return;const s=jD(i);for(const g of n){const r=lIe(g);if(!r)continue;m[wE(r)]=s;const a=c?.[`${UD}:${r}`];if(a){const v=a?.[`${UD}:${r}:${e}`];m[wE(r)]=BD(BD({},m[wE(r)]),jD(v||a))}}for(const[g,r]of Object.entries(m))Object.keys(r).length===0&&delete m[g];return Object.keys(m).length>0?m:void 0};var cIe=Object.defineProperty,hIe=(t,e,n)=>e in t?cIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ff=(t,e,n)=>hIe(t,typeof e!="symbol"?e+"":e,n);let dIe=class{constructor(e){Ff(this,"name","polkadot"),Ff(this,"client"),Ff(this,"httpProviders"),Ff(this,"events"),Ff(this,"namespace"),Ff(this,"chainId"),this.namespace=e.namespace,this.events=cn("events"),this.client=cn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ua.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var i;const c=Id(n);e[c]=this.createHttpProvider(c,(i=this.namespace.rpcMap)==null?void 0:i[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const i=this.createHttpProvider(e,n);i&&(this.httpProviders[e]=i)}createHttpProvider(e,n){const i=n||qs(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ba(new Oo(i,cn("disableProviderPing")))}};var fIe=Object.defineProperty,pIe=Object.defineProperties,vIe=Object.getOwnPropertyDescriptors,zD=Object.getOwnPropertySymbols,gIe=Object.prototype.hasOwnProperty,mIe=Object.prototype.propertyIsEnumerable,MS=(t,e,n)=>e in t?fIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,WD=(t,e)=>{for(var n in e||(e={}))gIe.call(e,n)&&MS(t,n,e[n]);if(zD)for(var n of zD(e))mIe.call(e,n)&&MS(t,n,e[n]);return t},GD=(t,e)=>pIe(t,vIe(e)),Lf=(t,e,n)=>MS(t,typeof e!="symbol"?e+"":e,n);let yIe=class{constructor(e){Lf(this,"name","eip155"),Lf(this,"client"),Lf(this,"chainId"),Lf(this,"namespace"),Lf(this,"httpProviders"),Lf(this,"events"),this.namespace=e.namespace,this.events=cn("events"),this.client=cn("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(Ua.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const i=n||qs(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ba(new Oo(i,cn("disableProviderPing")))}setHttpProvider(e,n){const i=this.createHttpProvider(e,n);i&&(this.httpProviders[e]=i)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var i;const c=parseInt(Id(n));e[c]=this.createHttpProvider(c,(i=this.namespace.rpcMap)==null?void 0:i[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,i;let c=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";c=c.startsWith("0x")?c:`0x${c}`;const m=parseInt(c,16);if(this.isChainApproved(m))this.setDefaultChain(`${m}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:c}]},chainId:(i=this.namespace.chains)==null?void 0:i[0]}),this.setDefaultChain(`${m}`);else throw new Error(`Failed to switch to chain 'eip155:${m}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,i,c,m,s;const g=(i=(n=e.request)==null?void 0:n.params)==null?void 0:i[0],r=((m=(c=e.request)==null?void 0:c.params)==null?void 0:m[1])||[];if(!g)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const a=this.client.session.get(e.topic),v=((s=a?.sessionProperties)==null?void 0:s.capabilities)||{},h=`${g}${r.join(",")}`,u=v?.[h];if(u)return u;let l;try{l=uIe(a,g,r)}catch(d){console.warn("Failed to extract capabilities from session",d)}if(l)return l;const o=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:GD(WD({},a.sessionProperties||{}),{capabilities:GD(WD({},v||{}),{[h]:o})})})}catch(d){console.warn("Failed to update session with capabilities",d)}return o}async getCallStatus(e){var n,i;const c=this.client.session.get(e.topic),m=(n=c.sessionProperties)==null?void 0:n.bundler_name;if(m){const g=this.getBundlerUrl(e.chainId,m);try{return await this.getUserOperationReceipt(g,e)}catch(r){console.warn("Failed to fetch call status from bundler",r,g)}}const s=(i=c.sessionProperties)==null?void 0:i.bundler_url;if(s)try{return await this.getUserOperationReceipt(s,e)}catch(g){console.warn("Failed to fetch call status from custom bundler",g,s)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var i;const c=new URL(e),m=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(il("eth_getUserOperationReceipt",[(i=n.request.params)==null?void 0:i[0]]))});if(!m.ok)throw new Error(`Failed to fetch user operation receipt - ${m.status}`);return await m.json()}getBundlerUrl(e,n){return`${CPe}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}};var wIe=Object.defineProperty,xIe=(t,e,n)=>e in t?wIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Df=(t,e,n)=>xIe(t,typeof e!="symbol"?e+"":e,n);class bIe{constructor(e){Df(this,"name","solana"),Df(this,"client"),Df(this,"httpProviders"),Df(this,"events"),Df(this,"namespace"),Df(this,"chainId"),this.namespace=e.namespace,this.events=cn("events"),this.client=cn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ua.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var i;const c=Id(n);e[c]=this.createHttpProvider(c,(i=this.namespace.rpcMap)==null?void 0:i[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const i=this.createHttpProvider(e,n);i&&(this.httpProviders[e]=i)}createHttpProvider(e,n){const i=n||qs(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ba(new Oo(i,cn("disableProviderPing")))}}var EIe=Object.defineProperty,CIe=(t,e,n)=>e in t?EIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Nf=(t,e,n)=>CIe(t,typeof e!="symbol"?e+"":e,n);let SIe=class{constructor(e){Nf(this,"name","cosmos"),Nf(this,"client"),Nf(this,"httpProviders"),Nf(this,"events"),Nf(this,"namespace"),Nf(this,"chainId"),this.namespace=e.namespace,this.events=cn("events"),this.client=cn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ua.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var i;const c=Id(n);e[c]=this.createHttpProvider(c,(i=this.namespace.rpcMap)==null?void 0:i[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const i=this.createHttpProvider(e,n);i&&(this.httpProviders[e]=i)}createHttpProvider(e,n){const i=n||qs(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ba(new Oo(i,cn("disableProviderPing")))}};var TIe=Object.defineProperty,AIe=(t,e,n)=>e in t?TIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kf=(t,e,n)=>AIe(t,typeof e!="symbol"?e+"":e,n);let PIe=class{constructor(e){kf(this,"name","algorand"),kf(this,"client"),kf(this,"httpProviders"),kf(this,"events"),kf(this,"namespace"),kf(this,"chainId"),this.namespace=e.namespace,this.events=cn("events"),this.client=cn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const i=n||qs(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,i)}this.chainId=e,this.events.emit(Ua.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var i;e[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const i=this.createHttpProvider(e,n);i&&(this.httpProviders[e]=i)}createHttpProvider(e,n){const i=n||qs(e,this.namespace,this.client.core.projectId);return typeof i>"u"?void 0:new Ba(new Oo(i,cn("disableProviderPing")))}};var IIe=Object.defineProperty,RIe=(t,e,n)=>e in t?IIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Bf=(t,e,n)=>RIe(t,typeof e!="symbol"?e+"":e,n);let OIe=class{constructor(e){Bf(this,"name","cip34"),Bf(this,"client"),Bf(this,"httpProviders"),Bf(this,"events"),Bf(this,"namespace"),Bf(this,"chainId"),this.namespace=e.namespace,this.events=cn("events"),this.client=cn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ua.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const i=this.getCardanoRPCUrl(n),c=Id(n);e[c]=this.createHttpProvider(c,i)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const i=this.createHttpProvider(e,n);i&&(this.httpProviders[e]=i)}createHttpProvider(e,n){const i=n||this.getCardanoRPCUrl(e);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ba(new Oo(i,cn("disableProviderPing")))}};var MIe=Object.defineProperty,$Ie=(t,e,n)=>e in t?MIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Uf=(t,e,n)=>$Ie(t,typeof e!="symbol"?e+"":e,n);let FIe=class{constructor(e){Uf(this,"name","elrond"),Uf(this,"client"),Uf(this,"httpProviders"),Uf(this,"events"),Uf(this,"namespace"),Uf(this,"chainId"),this.namespace=e.namespace,this.events=cn("events"),this.client=cn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ua.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var i;const c=Id(n);e[c]=this.createHttpProvider(c,(i=this.namespace.rpcMap)==null?void 0:i[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const i=this.createHttpProvider(e,n);i&&(this.httpProviders[e]=i)}createHttpProvider(e,n){const i=n||qs(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ba(new Oo(i,cn("disableProviderPing")))}};var LIe=Object.defineProperty,DIe=(t,e,n)=>e in t?LIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jf=(t,e,n)=>DIe(t,typeof e!="symbol"?e+"":e,n);let NIe=class{constructor(e){jf(this,"name","multiversx"),jf(this,"client"),jf(this,"httpProviders"),jf(this,"events"),jf(this,"namespace"),jf(this,"chainId"),this.namespace=e.namespace,this.events=cn("events"),this.client=cn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ua.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var i;const c=Id(n);e[c]=this.createHttpProvider(c,(i=this.namespace.rpcMap)==null?void 0:i[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const i=this.createHttpProvider(e,n);i&&(this.httpProviders[e]=i)}createHttpProvider(e,n){const i=n||qs(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ba(new Oo(i,cn("disableProviderPing")))}};var kIe=Object.defineProperty,BIe=(t,e,n)=>e in t?kIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zf=(t,e,n)=>BIe(t,typeof e!="symbol"?e+"":e,n);let UIe=class{constructor(e){zf(this,"name","near"),zf(this,"client"),zf(this,"httpProviders"),zf(this,"events"),zf(this,"namespace"),zf(this,"chainId"),this.namespace=e.namespace,this.events=cn("events"),this.client=cn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const i=n||qs(`${this.name}:${e}`,this.namespace);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,i)}this.events.emit(Ua.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var i;e[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const i=this.createHttpProvider(e,n);i&&(this.httpProviders[e]=i)}createHttpProvider(e,n){const i=n||qs(e,this.namespace);return typeof i>"u"?void 0:new Ba(new Oo(i,cn("disableProviderPing")))}};var jIe=Object.defineProperty,zIe=(t,e,n)=>e in t?jIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wf=(t,e,n)=>zIe(t,typeof e!="symbol"?e+"":e,n);let WIe=class{constructor(e){Wf(this,"name","tezos"),Wf(this,"client"),Wf(this,"httpProviders"),Wf(this,"events"),Wf(this,"namespace"),Wf(this,"chainId"),this.namespace=e.namespace,this.events=cn("events"),this.client=cn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const i=n||qs(`${this.name}:${e}`,this.namespace);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,i)}this.events.emit(Ua.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const i=this.createHttpProvider(e,n);i&&(this.httpProviders[e]=i)}createHttpProvider(e,n){const i=n||qs(e,this.namespace);return typeof i>"u"?void 0:new Ba(new Oo(i))}};var GIe=Object.defineProperty,VIe=(t,e,n)=>e in t?GIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gf=(t,e,n)=>VIe(t,typeof e!="symbol"?e+"":e,n);let HIe=class{constructor(e){Gf(this,"name",xY),Gf(this,"client"),Gf(this,"httpProviders"),Gf(this,"events"),Gf(this,"namespace"),Gf(this,"chainId"),this.namespace=e.namespace,this.events=cn("events"),this.client=cn("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ua.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return Gh(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const i={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(c=>{const m=Gh(c);i[m.reference]=this.createHttpProvider(c)}),i}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const i=this.createHttpProvider(e,n);i&&(this.httpProviders[e]=i)}createHttpProvider(e,n){const i=n||qs(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ba(new Oo(i,cn("disableProviderPing")))}};var YIe=Object.defineProperty,XIe=Object.defineProperties,KIe=Object.getOwnPropertyDescriptors,VD=Object.getOwnPropertySymbols,ZIe=Object.prototype.hasOwnProperty,JIe=Object.prototype.propertyIsEnumerable,$S=(t,e,n)=>e in t?YIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,p2=(t,e)=>{for(var n in e||(e={}))ZIe.call(e,n)&&$S(t,n,e[n]);if(VD)for(var n of VD(e))JIe.call(e,n)&&$S(t,n,e[n]);return t},xE=(t,e)=>XIe(t,KIe(e)),fa=(t,e,n)=>$S(t,typeof e!="symbol"?e+"":e,n);let _Ie=class RY{constructor(e){fa(this,"client"),fa(this,"namespaces"),fa(this,"optionalNamespaces"),fa(this,"sessionProperties"),fa(this,"scopedProperties"),fa(this,"events",new g7),fa(this,"rpcProviders",{}),fa(this,"session"),fa(this,"providerOpts"),fa(this,"logger"),fa(this,"uri"),fa(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:f1(O3({level:e?.logger||AD})),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const n=new RY(e);return await n.initialize(),n}async request(e,n,i){const[c,m]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(c).request({request:p2({},e),chainId:`${c}:${m}`,topic:this.session.topic,expiry:i})}sendAsync(e,n,i,c){const m=new Date().getTime();this.request(e,i,c).then(s=>n(null,Cm(m,s))).catch(s=>n(s,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Gn("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:i,response:c}=await this.client.authenticate(e,n);i&&(this.uri=i,this.events.emit("display_uri",i));const m=await c();if(this.session=m.session,this.session){const s=DD(this.session.namespaces);this.namespaces=f2(this.namespaces,s),await this.persist("namespaces",this.namespaces),this.onConnect()}return m}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:i}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const c=await i();this.session=c;const m=DD(c.namespaces);return this.namespaces=f2(this.namespaces,m),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[i,c]=this.validateChain(e);this.getProvider(i).setDefaultChain(c,n)}catch(i){if(!/Please call connect/.test(i.message))throw i}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(!Aa(n))return;for(const i of n)e.deletePairings?this.client.core.expirer.set(i.topic,0):await this.client.core.relayer.subscriber.unsubscribe(i.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}catch(n){this.logger.warn("Failed to cleanup pending pairings",n)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await cPe.init({core:this.providerOpts.core,logger:this.providerOpts.logger||AD,relayUrl:this.providerOpts.relayUrl||xPe,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(i){throw this.logger.error("Failed to get session",i),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const i=this.client.session.getAll();this.session=i[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>cp(n)))];yE("client",this.client),yE("events",this.events),yE("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const i=rIe(n,this.session);if(i?.length===0)return;const c=PY(i),m=f2(this.namespaces,this.optionalNamespaces),s=xE(p2({},m[n]),{accounts:i,chains:c});switch(n){case"eip155":this.rpcProviders[n]=new yIe({namespace:s});break;case"algorand":this.rpcProviders[n]=new PIe({namespace:s});break;case"solana":this.rpcProviders[n]=new bIe({namespace:s});break;case"cosmos":this.rpcProviders[n]=new SIe({namespace:s});break;case"polkadot":this.rpcProviders[n]=new dIe({namespace:s});break;case"cip34":this.rpcProviders[n]=new OIe({namespace:s});break;case"elrond":this.rpcProviders[n]=new FIe({namespace:s});break;case"multiversx":this.rpcProviders[n]=new NIe({namespace:s});break;case"near":this.rpcProviders[n]=new UIe({namespace:s});break;case"tezos":this.rpcProviders[n]=new WIe({namespace:s});break;default:this.rpcProviders[n]=new HIe({namespace:s})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:i}=e;i===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:i,topic:c}=e;if(c!==((n=this.session)==null?void 0:n.topic))return;const{event:m}=i;if(m.name==="accountsChanged"){const s=m.data;s&&Aa(s)&&this.events.emit("accountsChanged",s.map(LD))}else if(m.name==="chainChanged"){const s=i.chainId,g=i.event.data,r=cp(s),a=mE(s)!==mE(g)?`${r}:${mE(g)}`:s;this.onChainChanged(a)}else this.events.emit(m.name,m.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var i,c;if(e!==((i=this.session)==null?void 0:i.topic))return;const{namespaces:m}=n,s=(c=this.client)==null?void 0:c.session.get(e);this.session=xE(p2({},s),{namespaces:m}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",xE(p2({},Gn("USER_DISCONNECTED")),{data:e.topic})))}),this.on(Ua.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[xY]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n={},optionalNamespaces:i={},sessionProperties:c,scopedProperties:m}=e;this.optionalNamespaces=f2(n,i),this.sessionProperties=c,this.scopedProperties=m}validateChain(e){const[n,i]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,i];if(n&&!Object.keys(this.namespaces||{}).map(s=>cp(s)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&i)return[n,i];const c=cp(Object.keys(this.namespaces)[0]),m=this.rpcProviders[c].getDefaultChain();return[c,m]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[i,c]=this.validateChain(e);if(!c)return;this.updateNamespaceChain(i,c);const m=this.getProvider(i).getDefaultChain();n?(this.events.emit("chainChanged",c),this.emitAccountsChangedOnChainChange({namespace:i,previousChainId:m,newChainId:e})):this.getProvider(i).setDefaultChain(c),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:i}){var c,m;try{if(n===i)return;const s=(m=(c=this.session)==null?void 0:c.namespaces[e])==null?void 0:m.accounts;if(!s)return;const g=s.filter(r=>r.includes(`${i}:`)).map(LD);if(!Aa(g))return;this.events.emit("accountsChanged",g)}catch(s){this.logger.warn("Failed to emit accountsChanged on chain change",s)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const i=this.namespaces[e]?e:`${e}:${n}`,c={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[i]?this.namespaces[i]&&(this.namespaces[i].defaultChain=n):this.namespaces[i]=c}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var i;const c=((i=this.session)==null?void 0:i.topic)||"";await this.client.core.storage.setItem(`${h2}/${e}${c}`,n)}async getFromStore(e){var n;const i=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${h2}/${e}${i}`)}async deleteFromStore(e){var n;const i=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${h2}/${e}${i}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const i of n)i.startsWith(h2)&&await this.client.core.storage.removeItem(i)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}};const QIe=_Ie,qIe="wc",eRe="ethereum_provider",tRe=`${qIe}@2:${eRe}:`,nRe="https://rpc.walletconnect.org/v1/",FS=["eth_sendTransaction","personal_sign"],OY=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],LS=["chainChanged","accountsChanged"],MY=["chainChanged","accountsChanged","message","disconnect","connect"],rRe=async()=>{const{createAppKit:t}=await Fi(()=>import("./core-DpuI7fMV.js").then(e=>e.X),[]);return t};var iRe=Object.defineProperty,sRe=Object.defineProperties,aRe=Object.getOwnPropertyDescriptors,HD=Object.getOwnPropertySymbols,oRe=Object.prototype.hasOwnProperty,lRe=Object.prototype.propertyIsEnumerable,DS=(t,e,n)=>e in t?iRe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gh=(t,e)=>{for(var n in e||(e={}))oRe.call(e,n)&&DS(t,n,e[n]);if(HD)for(var n of HD(e))lRe.call(e,n)&&DS(t,n,e[n]);return t},Pv=(t,e)=>sRe(t,aRe(e)),Ns=(t,e,n)=>DS(t,typeof e!="symbol"?e+"":e,n);function ex(t){return Number(t[0].split(":")[1])}function v2(t){return`0x${t.toString(16)}`}function uRe(t){const{chains:e,optionalChains:n,methods:i,optionalMethods:c,events:m,optionalEvents:s,rpcMap:g}=t;if(!Aa(e))throw new Error("Invalid chains");const r={chains:e,methods:i||FS,events:m||LS,rpcMap:gh({},e.length?{[ex(e)]:g[ex(e)]}:{})},a=m?.filter(l=>!LS.includes(l)),v=i?.filter(l=>!FS.includes(l));if(!n&&!s&&!c&&!(a!=null&&a.length)&&!(v!=null&&v.length))return{required:e.length?r:void 0};const h=a?.length&&v?.length||!n,u={chains:[...new Set(h?r.chains.concat(n||[]):n)],methods:[...new Set(r.methods.concat(c!=null&&c.length?c:OY))],events:[...new Set(r.events.concat(s!=null&&s.length?s:MY))],rpcMap:g};return{required:e.length?r:void 0,optional:n.length?u:void 0}}let cRe=class $Y{constructor(){Ns(this,"events",new na.EventEmitter),Ns(this,"namespace","eip155"),Ns(this,"accounts",[]),Ns(this,"signer"),Ns(this,"chainId",1),Ns(this,"modal"),Ns(this,"rpc"),Ns(this,"STORAGE_KEY",tRe),Ns(this,"on",(e,n)=>(this.events.on(e,n),this)),Ns(this,"once",(e,n)=>(this.events.once(e,n),this)),Ns(this,"removeListener",(e,n)=>(this.events.removeListener(e,n),this)),Ns(this,"off",(e,n)=>(this.events.off(e,n),this)),Ns(this,"parseAccount",e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e),this.signer={},this.rpc={}}static async init(e){const n=new $Y;return await n.initialize(e),n}async request(e,n){return await this.signer.request(e,this.formatChainId(this.chainId),n)}sendAsync(e,n,i){this.signer.sendAsync(e,n,this.formatChainId(this.chainId),i)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){var n;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:i,optional:c}=uRe(this.rpc);try{const m=await new Promise(async(g,r)=>{var a,v;this.rpc.showQrModal&&((a=this.modal)==null||a.open(),(v=this.modal)==null||v.subscribeState(u=>{!u.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),r(new Error("Connection request reset. Please try again.")))}));const h=e!=null&&e.scopedProperties?{[this.namespace]:e.scopedProperties}:void 0;await this.signer.connect(Pv(gh({namespaces:gh({},i&&{[this.namespace]:i})},c&&{optionalNamespaces:{[this.namespace]:c}}),{pairingTopic:e?.pairingTopic,scopedProperties:h})).then(u=>{g(u)}).catch(u=>{var l;(l=this.modal)==null||l.showErrorMessage("Unable to connect"),r(new Error(u.message))})});if(!m)return;const s=OF(m.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:s),this.setAccounts(s),this.events.emit("connect",{chainId:v2(this.chainId)})}catch(m){throw this.signer.logger.error(m),m}finally{(n=this.modal)==null||n.close()}}async authenticate(e,n){var i;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:e?.chains});try{const c=await new Promise(async(s,g)=>{var r,a;this.rpc.showQrModal&&((r=this.modal)==null||r.open(),(a=this.modal)==null||a.subscribeState(v=>{!v.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),g(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(Pv(gh({},e),{chains:this.rpc.chains}),n).then(v=>{s(v)}).catch(v=>{var h;(h=this.modal)==null||h.showErrorMessage("Unable to connect"),g(new Error(v.message))})}),m=c.session;if(m){const s=OF(m.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:s),this.setAccounts(s),this.events.emit("connect",{chainId:v2(this.chainId)})}return c}catch(c){throw this.signer.logger.error(c),c}finally{(i=this.modal)==null||i.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:n}=e,{event:i}=n;i.name==="accountsChanged"?(this.accounts=this.parseAccounts(i.data),this.events.emit("accountsChanged",this.accounts)):i.name==="chainChanged"?this.setChainId(this.formatChainId(i.data)):this.events.emit(i.name,i.data),this.events.emit("session_event",e)}),this.signer.on("accountsChanged",e=>{this.accounts=this.parseAccounts(e),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",e=>{const n=parseInt(e);this.chainId=n,this.events.emit("chainChanged",v2(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",Pv(gh({},Gn("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const n=e.filter(i=>this.isCompatibleChainId(i)).map(i=>this.parseChainId(i));n.length&&(this.chainId=n[0],this.events.emit("chainChanged",v2(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const n=this.parseChainId(e);this.chainId=n,this.switchEthereumChain(n)}}parseAccountId(e){const[n,i,c]=e.split(":");return{chainId:`${n}:${i}`,address:c}}setAccounts(e){this.accounts=e.filter(n=>this.parseChainId(this.parseAccountId(n).chainId)===this.chainId).map(n=>this.parseAccountId(n).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var n,i;const c=(n=e?.chains)!=null?n:[],m=(i=e?.optionalChains)!=null?i:[],s=c.concat(m);if(!s.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const g=c.length?e?.methods||FS:[],r=c.length?e?.events||LS:[],a=e?.optionalMethods||[],v=e?.optionalEvents||[],h=e?.rpcMap||this.buildRpcMap(s,e.projectId),u=e?.qrModalOptions||void 0;return{chains:c?.map(l=>this.formatChainId(l)),optionalChains:m.map(l=>this.formatChainId(l)),methods:g,events:r,optionalMethods:a,optionalEvents:v,rpcMap:h,showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:u,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,n){const i={};return e.forEach(c=>{i[c]=this.getRpcUrl(c,n)}),i}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?ex(this.rpc.chains):ex(this.rpc.optionalChains),this.signer=await QIe.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storage:e.storage,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled,logger:e.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let n;try{const i=await rRe(),{convertWCMToAppKitOptions:c}=await Promise.resolve().then(function(){return bRe}),m=c(Pv(gh({},this.rpc.qrModalOptions),{chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId}));if(!m.networks.length)throw new Error("No networks found for WalletConnect");n=i(Pv(gh({},m),{universalProvider:this.signer,manualWCControl:!0}))}catch(i){throw console.warn(i),new Error("To use QR modal, please install @reown/appkit package")}if(n)try{this.modal=n}catch(i){throw this.signer.logger.error(i),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:n,optionalChains:i,rpcMap:c}=e;n&&Aa(n)&&(this.rpc.chains=n.map(m=>this.formatChainId(m)),n.forEach(m=>{this.rpc.rpcMap[m]=c?.[m]||this.getRpcUrl(m)})),i&&Aa(i)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=i?.map(m=>this.formatChainId(m)),i.forEach(m=>{this.rpc.rpcMap[m]=c?.[m]||this.getRpcUrl(m)}))}getRpcUrl(e,n){var i;return((i=this.rpc.rpcMap)==null?void 0:i[e])||`${nRe}?chainId=eip155:${e}&projectId=${n||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),n=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:n?.accounts),this.setAccounts(n?.accounts)}catch(e){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(e),await this.disconnect().catch(n=>this.signer.logger.warn(n))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(n=>this.parseAccount(n))}};const hRe=cRe;var dRe=Object.defineProperty,fRe=Object.defineProperties,pRe=Object.getOwnPropertyDescriptors,YD=Object.getOwnPropertySymbols,vRe=Object.prototype.hasOwnProperty,gRe=Object.prototype.propertyIsEnumerable,XD=(t,e,n)=>e in t?dRe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,FY=(t,e)=>{for(var n in e||(e={}))vRe.call(e,n)&&XD(t,n,e[n]);if(YD)for(var n of YD(e))gRe.call(e,n)&&XD(t,n,e[n]);return t},mRe=(t,e)=>fRe(t,pRe(e));function yRe(t){if(t)return{"--w3m-font-family":t["--wcm-font-family"],"--w3m-accent":t["--wcm-accent-color"],"--w3m-color-mix":t["--wcm-background-color"],"--w3m-z-index":t["--wcm-z-index"]?Number(t["--wcm-z-index"]):void 0,"--w3m-qr-color":t["--wcm-accent-color"],"--w3m-font-size-master":t["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":t["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}const wRe=t=>{const[e,n]=t.split(":");return LY({id:n,caipNetworkId:t,chainNamespace:e,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function xRe(t){var e,n,i,c,m,s,g;const r=(e=t.chains)==null?void 0:e.map(wRe).filter(Boolean);if(r.length===0)throw new Error("At least one chain must be specified");const a=r.find(h=>{var u;return h.id===((u=t.defaultChain)==null?void 0:u.id)}),v={projectId:t.projectId,networks:r,themeMode:t.themeMode,themeVariables:yRe(t.themeVariables),chainImages:t.chainImages,connectorImages:t.walletImages,defaultNetwork:a,metadata:mRe(FY({},t.metadata),{name:((n=t.metadata)==null?void 0:n.name)||"WalletConnect",description:((i=t.metadata)==null?void 0:i.description)||"Connect to WalletConnect-compatible wallets",url:((c=t.metadata)==null?void 0:c.url)||"https://walletconnect.org",icons:((m=t.metadata)==null?void 0:m.icons)||["https://walletconnect.org/walletconnect-logo.png"]}),showWallets:!0,featuredWalletIds:t.explorerRecommendedWalletIds==="NONE"?[]:Array.isArray(t.explorerRecommendedWalletIds)?t.explorerRecommendedWalletIds:[],excludeWalletIds:t.explorerExcludedWalletIds==="ALL"?[]:Array.isArray(t.explorerExcludedWalletIds)?t.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if((s=t.mobileWallets)!=null&&s.length||(g=t.desktopWallets)!=null&&g.length){const h=[...(t.mobileWallets||[]).map(o=>({id:o.id,name:o.name,links:o.links})),...(t.desktopWallets||[]).map(o=>({id:o.id,name:o.name,links:{native:o.links.native,universal:o.links.universal}}))],u=[...v.featuredWalletIds||[],...v.excludeWalletIds||[]],l=h.filter(o=>!u.includes(o.id));l.length&&(v.customWallets=l)}return v}function LY(t){return FY({formatters:void 0,fees:void 0,serializers:void 0},t)}var bRe=Object.freeze({__proto__:null,convertWCMToAppKitOptions:xRe,defineChain:LY});function ERe({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{fillRule:"evenodd",d:"M15.97 2.47a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1 0 1.06l-4.5 4.5a.75.75 0 1 1-1.06-1.06l3.22-3.22H7.5a.75.75 0 0 1 0-1.5h11.69l-3.22-3.22a.75.75 0 0 1 0-1.06Zm-7.94 9a.75.75 0 0 1 0 1.06l-3.22 3.22H16.5a.75.75 0 0 1 0 1.5H4.81l3.22 3.22a.75.75 0 1 1-1.06 1.06l-4.5-4.5a.75.75 0 0 1 0-1.06l4.5-4.5a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const X7=H.forwardRef(ERe),DY=typeof document<"u"?Ze.useLayoutEffect:()=>{};var bE;const CRe=(bE=Ze.useInsertionEffect)!==null&&bE!==void 0?bE:DY;function SRe(t){const e=H.useRef(null);return CRe(()=>{e.current=t},[t]),H.useCallback((...n)=>{const i=e.current;return i?.(...n)},[])}const Lc=t=>{var e;return(e=t?.ownerDocument)!==null&&e!==void 0?e:document},Lh=t=>t&&"window"in t&&t.window===t?t:Lc(t).defaultView||window;function TRe(t){return t!==null&&typeof t=="object"&&"nodeType"in t&&typeof t.nodeType=="number"}function ARe(t){return TRe(t)&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in t}let PRe=!1;function K7(){return PRe}function NY(t,e){if(!K7())return e&&t?t.contains(e):!1;if(!t||!e)return!1;let n=e;for(;n!==null;){if(n===t)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:ARe(n)?n=n.host:n=n.parentNode}return!1}const NS=(t=document)=>{var e;if(!K7())return t.activeElement;let n=t.activeElement;for(;n&&"shadowRoot"in n&&(!((e=n.shadowRoot)===null||e===void 0)&&e.activeElement);)n=n.shadowRoot.activeElement;return n};function kY(t){return K7()&&t.target.shadowRoot&&t.composedPath?t.composedPath()[0]:t.target}function IRe(t){var e;if(typeof window>"u"||window.navigator==null)return!1;let n=(e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands;return Array.isArray(n)&&n.some(i=>t.test(i.brand))||t.test(window.navigator.userAgent)}function RRe(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function BY(t){let e=null;return()=>(e==null&&(e=t()),e)}const ORe=BY(function(){return RRe(/^Mac/i)}),MRe=BY(function(){return IRe(/Android/i)});function UY(){let t=H.useRef(new Map),e=H.useCallback((c,m,s,g)=>{let r=g?.once?(...a)=>{t.current.delete(s),s(...a)}:s;t.current.set(s,{type:m,eventTarget:c,fn:r,options:g}),c.addEventListener(m,r,g)},[]),n=H.useCallback((c,m,s,g)=>{var r;let a=((r=t.current.get(s))===null||r===void 0?void 0:r.fn)||s;c.removeEventListener(m,a,g),t.current.delete(s)},[]),i=H.useCallback(()=>{t.current.forEach((c,m)=>{n(c.eventTarget,c.type,m,c.options)})},[n]);return H.useEffect(()=>i,[i]),{addGlobalListener:e,removeGlobalListener:n,removeAllGlobalListeners:i}}function $Re(t){return t.pointerType===""&&t.isTrusted?!0:MRe()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function jY(t){let e=t;return e.nativeEvent=t,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function FRe(t,e){Object.defineProperty(t,"target",{value:e}),Object.defineProperty(t,"currentTarget",{value:e})}function zY(t){let e=H.useRef({isFocused:!1,observer:null});DY(()=>{const i=e.current;return()=>{i.observer&&(i.observer.disconnect(),i.observer=null)}},[]);let n=SRe(i=>{t?.(i)});return H.useCallback(i=>{if(i.target instanceof HTMLButtonElement||i.target instanceof HTMLInputElement||i.target instanceof HTMLTextAreaElement||i.target instanceof HTMLSelectElement){e.current.isFocused=!0;let c=i.target,m=s=>{if(e.current.isFocused=!1,c.disabled){let g=jY(s);n(g)}e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};c.addEventListener("focusout",m,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&c.disabled){var s;(s=e.current.observer)===null||s===void 0||s.disconnect();let g=c===document.activeElement?null:document.activeElement;c.dispatchEvent(new FocusEvent("blur",{relatedTarget:g})),c.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:g}))}}),e.current.observer.observe(c,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let LRe=!1,g1=null,kS=new Set,hg=new Map,od=!1,BS=!1;const DRe={Tab:!0,Escape:!0};function Z7(t,e){for(let n of kS)n(t,e)}function NRe(t){return!(t.metaKey||!ORe()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function tx(t){od=!0,NRe(t)&&(g1="keyboard",Z7("keyboard",t))}function Cp(t){g1="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(od=!0,Z7("pointer",t))}function WY(t){$Re(t)&&(od=!0,g1="virtual")}function GY(t){t.target===window||t.target===document||LRe||!t.isTrusted||(!od&&!BS&&(g1="virtual",Z7("virtual",t)),od=!1,BS=!1)}function VY(){od=!1,BS=!0}function US(t){if(typeof window>"u"||typeof document>"u"||hg.get(Lh(t)))return;const e=Lh(t),n=Lc(t);let i=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){od=!0,i.apply(this,arguments)},n.addEventListener("keydown",tx,!0),n.addEventListener("keyup",tx,!0),n.addEventListener("click",WY,!0),e.addEventListener("focus",GY,!0),e.addEventListener("blur",VY,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",Cp,!0),n.addEventListener("pointermove",Cp,!0),n.addEventListener("pointerup",Cp,!0)),e.addEventListener("beforeunload",()=>{HY(t)},{once:!0}),hg.set(e,{focus:i})}const HY=(t,e)=>{const n=Lh(t),i=Lc(t);e&&i.removeEventListener("DOMContentLoaded",e),hg.has(n)&&(n.HTMLElement.prototype.focus=hg.get(n).focus,i.removeEventListener("keydown",tx,!0),i.removeEventListener("keyup",tx,!0),i.removeEventListener("click",WY,!0),n.removeEventListener("focus",GY,!0),n.removeEventListener("blur",VY,!1),typeof PointerEvent<"u"&&(i.removeEventListener("pointerdown",Cp,!0),i.removeEventListener("pointermove",Cp,!0),i.removeEventListener("pointerup",Cp,!0)),hg.delete(n))};function kRe(t){const e=Lc(t);let n;return e.readyState!=="loading"?US(t):(n=()=>{US(t)},e.addEventListener("DOMContentLoaded",n)),()=>HY(t,n)}typeof document<"u"&&kRe();function YY(){return g1!=="pointer"}const BRe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function URe(t,e,n){let i=Lc(n?.target);const c=typeof window<"u"?Lh(n?.target).HTMLInputElement:HTMLInputElement,m=typeof window<"u"?Lh(n?.target).HTMLTextAreaElement:HTMLTextAreaElement,s=typeof window<"u"?Lh(n?.target).HTMLElement:HTMLElement,g=typeof window<"u"?Lh(n?.target).KeyboardEvent:KeyboardEvent;return t=t||i.activeElement instanceof c&&!BRe.has(i.activeElement.type)||i.activeElement instanceof m||i.activeElement instanceof s&&i.activeElement.isContentEditable,!(t&&e==="keyboard"&&n instanceof g&&!DRe[n.key])}function jRe(t,e,n){US(),H.useEffect(()=>{let i=(c,m)=>{URe(!!n?.isTextInput,c,m)&&t(YY())};return kS.add(i),()=>{kS.delete(i)}},e)}function zRe(t){let{isDisabled:e,onFocus:n,onBlur:i,onFocusChange:c}=t;const m=H.useCallback(r=>{if(r.target===r.currentTarget)return i&&i(r),c&&c(!1),!0},[i,c]),s=zY(m),g=H.useCallback(r=>{const a=Lc(r.target),v=a?NS(a):NS();r.target===r.currentTarget&&v===kY(r.nativeEvent)&&(n&&n(r),c&&c(!0),s(r))},[c,n,s]);return{focusProps:{onFocus:!e&&(n||c||i)?g:void 0,onBlur:!e&&(i||c)?m:void 0}}}function WRe(t){let{isDisabled:e,onBlurWithin:n,onFocusWithin:i,onFocusWithinChange:c}=t,m=H.useRef({isFocusWithin:!1}),{addGlobalListener:s,removeAllGlobalListeners:g}=UY(),r=H.useCallback(h=>{h.currentTarget.contains(h.target)&&m.current.isFocusWithin&&!h.currentTarget.contains(h.relatedTarget)&&(m.current.isFocusWithin=!1,g(),n&&n(h),c&&c(!1))},[n,c,m,g]),a=zY(r),v=H.useCallback(h=>{if(!h.currentTarget.contains(h.target))return;const u=Lc(h.target),l=NS(u);if(!m.current.isFocusWithin&&l===kY(h.nativeEvent)){i&&i(h),c&&c(!0),m.current.isFocusWithin=!0,a(h);let o=h.currentTarget;s(u,"focus",d=>{if(m.current.isFocusWithin&&!NY(o,d.target)){let p=new u.defaultView.FocusEvent("blur",{relatedTarget:d.target});FRe(p,o);let f=jY(p);r(f)}},{capture:!0})}},[i,c,a,s,r]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:v,onBlur:r}}}let jS=!1,g2=0;function GRe(){jS=!0,setTimeout(()=>{jS=!1},50)}function KD(t){t.pointerType==="touch"&&GRe()}function VRe(){if(!(typeof document>"u"))return g2===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",KD),g2++,()=>{g2--,!(g2>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",KD)}}function HRe(t){let{onHoverStart:e,onHoverChange:n,onHoverEnd:i,isDisabled:c}=t,[m,s]=H.useState(!1),g=H.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;H.useEffect(VRe,[]);let{addGlobalListener:r,removeAllGlobalListeners:a}=UY(),{hoverProps:v,triggerHoverEnd:h}=H.useMemo(()=>{let u=(d,p)=>{if(g.pointerType=p,c||p==="touch"||g.isHovered||!d.currentTarget.contains(d.target))return;g.isHovered=!0;let f=d.currentTarget;g.target=f,r(Lc(d.target),"pointerover",y=>{g.isHovered&&g.target&&!NY(g.target,y.target)&&l(y,y.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:f,pointerType:p}),n&&n(!0),s(!0)},l=(d,p)=>{let f=g.target;g.pointerType="",g.target=null,!(p==="touch"||!g.isHovered||!f)&&(g.isHovered=!1,a(),i&&i({type:"hoverend",target:f,pointerType:p}),n&&n(!1),s(!1))},o={};return typeof PointerEvent<"u"&&(o.onPointerEnter=d=>{jS&&d.pointerType==="mouse"||u(d,d.pointerType)},o.onPointerLeave=d=>{!c&&d.currentTarget.contains(d.target)&&l(d,d.pointerType)}),{hoverProps:o,triggerHoverEnd:l}},[e,n,i,c,g,r,a]);return H.useEffect(()=>{c&&h({currentTarget:g.target},g.pointerType)},[c]),{hoverProps:v,isHovered:m}}function YRe(t={}){let{autoFocus:e=!1,isTextInput:n,within:i}=t,c=H.useRef({isFocused:!1,isFocusVisible:e||YY()}),[m,s]=H.useState(!1),[g,r]=H.useState(()=>c.current.isFocused&&c.current.isFocusVisible),a=H.useCallback(()=>r(c.current.isFocused&&c.current.isFocusVisible),[]),v=H.useCallback(l=>{c.current.isFocused=l,s(l),a()},[a]);jRe(l=>{c.current.isFocusVisible=l,a()},[],{isTextInput:n});let{focusProps:h}=zRe({isDisabled:i,onFocusChange:v}),{focusWithinProps:u}=WRe({isDisabled:!i,onFocusWithinChange:v});return{isFocused:m,isFocusVisible:g,focusProps:i?u:h}}var XRe=Object.defineProperty,KRe=(t,e,n)=>e in t?XRe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,EE=(t,e,n)=>(KRe(t,typeof e!="symbol"?e+"":e,n),n);let ZRe=class{constructor(){EE(this,"current",this.detect()),EE(this,"handoffState","pending"),EE(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},dl=new ZRe;function Rd(t){var e;return dl.isServer?null:t==null?document:(e=t?.ownerDocument)!=null?e:document}function nx(t){var e,n;return dl.isServer?null:t==null?document:(n=(e=t?.getRootNode)==null?void 0:e.call(t))!=null?n:document}function J7(t){var e,n;return(n=(e=nx(t))==null?void 0:e.activeElement)!=null?n:null}function XY(t){return J7(t)===t}function D3(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Ts(){let t=[],e={addEventListener(n,i,c,m){return n.addEventListener(i,c,m),e.add(()=>n.removeEventListener(i,c,m))},requestAnimationFrame(...n){let i=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(i))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let i=setTimeout(...n);return e.add(()=>clearTimeout(i))},microTask(...n){let i={current:!0};return D3(()=>{i.current&&n[0]()}),e.add(()=>{i.current=!1})},style(n,i,c){let m=n.style.getPropertyValue(i);return Object.assign(n.style,{[i]:c}),this.add(()=>{Object.assign(n.style,{[i]:m})})},group(n){let i=Ts();return n(i),this.add(()=>i.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let i=t.indexOf(n);if(i>=0)for(let c of t.splice(i,1))c()}},dispose(){for(let n of t.splice(0))n()}};return e}function Od(){let[t]=H.useState(Ts);return H.useEffect(()=>()=>t.dispose(),[t]),t}let Hn=(t,e)=>{dl.isServer?H.useEffect(t,e):H.useLayoutEffect(t,e)};function Md(t){let e=H.useRef(t);return Hn(()=>{e.current=t},[t]),e}let Mt=function(t){let e=Md(t);return Ze.useCallback((...n)=>e.current(...n),[e])};function JRe(t){let e=t.width/2,n=t.height/2;return{top:t.clientY-n,right:t.clientX+e,bottom:t.clientY+n,left:t.clientX-e}}function _Re(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function QRe({disabled:t=!1}={}){let e=H.useRef(null),[n,i]=H.useState(!1),c=Od(),m=Mt(()=>{e.current=null,i(!1),c.dispose()}),s=Mt(g=>{if(c.dispose(),e.current===null){e.current=g.currentTarget,i(!0);{let r=Rd(g.currentTarget);c.addEventListener(r,"pointerup",m,!1),c.addEventListener(r,"pointermove",a=>{if(e.current){let v=JRe(a);i(_Re(v,e.current.getBoundingClientRect()))}},!1),c.addEventListener(r,"pointercancel",m,!1)}}});return{pressed:n,pressProps:t?{}:{onPointerDown:s,onPointerUp:m,onClick:m}}}function El(t){return H.useMemo(()=>t,Object.values(t))}let qRe=H.createContext(void 0);function KY(){return H.useContext(qRe)}function zS(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Eo(t,e,...n){if(t in e){let c=e[t];return typeof c=="function"?c(...n):c}let i=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(c=>`"${c}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,Eo),i}var Jp=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Jp||{}),yc=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(yc||{});function Rr(){let t=tOe();return H.useCallback(e=>eOe({mergeRefs:t,...e}),[t])}function eOe({ourProps:t,theirProps:e,slot:n,defaultTag:i,features:c,visible:m=!0,name:s,mergeRefs:g}){g=g??nOe;let r=ZY(e,t);if(m)return m2(r,n,i,s,g);let a=c??0;if(a&2){let{static:v=!1,...h}=r;if(v)return m2(h,n,i,s,g)}if(a&1){let{unmount:v=!0,...h}=r;return Eo(v?0:1,{0(){return null},1(){return m2({...h,hidden:!0,style:{display:"none"}},n,i,s,g)}})}return m2(r,n,i,s,g)}function m2(t,e={},n,i,c){let{as:m=n,children:s,refName:g="ref",...r}=CE(t,["unmount","static"]),a=t.ref!==void 0?{[g]:t.ref}:{},v=typeof s=="function"?s(e):s;"className"in r&&r.className&&typeof r.className=="function"&&(r.className=r.className(e)),r["aria-labelledby"]&&r["aria-labelledby"]===r.id&&(r["aria-labelledby"]=void 0);let h={};if(e){let u=!1,l=[];for(let[o,d]of Object.entries(e))typeof d=="boolean"&&(u=!0),d===!0&&l.push(o.replace(/([A-Z])/g,p=>`-${p.toLowerCase()}`));if(u){h["data-headlessui-state"]=l.join(" ");for(let o of l)h[`data-${o}`]=""}}if(dg(m)&&(Object.keys(mh(r)).length>0||Object.keys(mh(h)).length>0))if(!H.isValidElement(v)||Array.isArray(v)&&v.length>1||iOe(v)){if(Object.keys(mh(r)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${i} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(mh(r)).concat(Object.keys(mh(h))).map(u=>`  - ${u}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(u=>`  - ${u}`).join(`
`)].join(`
`))}else{let u=v.props,l=u?.className,o=typeof l=="function"?(...f)=>zS(l(...f),r.className):zS(l,r.className),d=o?{className:o}:{},p=ZY(v.props,mh(CE(r,["ref"])));for(let f in h)f in p&&delete h[f];return H.cloneElement(v,Object.assign({},p,h,a,{ref:c(rOe(v),a.ref)},d))}return H.createElement(m,Object.assign({},CE(r,["ref"]),!dg(m)&&a,!dg(m)&&h),v)}function tOe(){let t=H.useRef([]),e=H.useCallback(n=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(n):i.current=n)},[]);return(...n)=>{if(!n.every(i=>i==null))return t.current=n,e}}function nOe(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function ZY(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let i of t)for(let c in i)c.startsWith("on")&&typeof i[c]=="function"?(n[c]!=null||(n[c]=[]),n[c].push(i[c])):e[c]=i[c];if(e.disabled||e["aria-disabled"])for(let i in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(i)&&(n[i]=[c=>{var m;return(m=c?.preventDefault)==null?void 0:m.call(c)}]);for(let i in n)Object.assign(e,{[i](c,...m){let s=n[i];for(let g of s){if((c instanceof Event||c?.nativeEvent instanceof Event)&&c.defaultPrevented)return;g(c,...m)}}});return e}function JY(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let i of t)for(let c in i)c.startsWith("on")&&typeof i[c]=="function"?(n[c]!=null||(n[c]=[]),n[c].push(i[c])):e[c]=i[c];for(let i in n)Object.assign(e,{[i](...c){let m=n[i];for(let s of m)s?.(...c)}});return e}function ur(t){var e;return Object.assign(H.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function mh(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function CE(t,e=[]){let n=Object.assign({},t);for(let i of e)i in n&&delete n[i];return n}function rOe(t){return Ze.version.split(".")[0]>="19"?t.props.ref:t.ref}function dg(t){return t===H.Fragment||t===Symbol.for("react.fragment")}function iOe(t){return dg(t.type)}let sOe="span";var rx=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(rx||{});function aOe(t,e){var n;let{features:i=1,...c}=t,m={ref:e,"aria-hidden":(i&2)===2?!0:(n=c["aria-hidden"])!=null?n:void 0,hidden:(i&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(i&4)===4&&(i&2)!==2&&{display:"none"}}};return Rr()({ourProps:m,theirProps:c,slot:{},defaultTag:sOe,name:"Hidden"})}let WS=ur(aOe),oOe=H.createContext(void 0);function lOe(){return H.useContext(oOe)}function _Y(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function uu(t){return _Y(t)&&"tagName"in t}function ea(t){return uu(t)&&"accessKey"in t}function ol(t){return uu(t)&&"tabIndex"in t}function uOe(t){return uu(t)&&"style"in t}function cOe(t){return ea(t)&&t.nodeName==="IFRAME"}function QY(t){return ea(t)&&t.nodeName==="INPUT"}function ZD(t){return ea(t)&&t.nodeName==="LABEL"}function hOe(t){return ea(t)&&t.nodeName==="FIELDSET"}function qY(t){return ea(t)&&t.nodeName==="LEGEND"}function dOe(t){return uu(t)?t.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function JD(t){let e=t.parentElement,n=null;for(;e&&!hOe(e);)qY(e)&&(n=e),e=e.parentElement;let i=e?.getAttribute("disabled")==="";return i&&fOe(n)?!1:i}function fOe(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(qY(e))return!1;e=e.previousElementSibling}return!0}let eX=Symbol();function pOe(t,e=!0){return Object.assign(t,{[eX]:e})}function Zi(...t){let e=H.useRef(t);H.useEffect(()=>{e.current=t},[t]);let n=Mt(i=>{for(let c of e.current)c!=null&&(typeof c=="function"?c(i):c.current=i)});return t.every(i=>i==null||i?.[eX])?void 0:n}let _7=H.createContext(null);_7.displayName="DescriptionContext";function tX(){let t=H.useContext(_7);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,tX),e}return t}function nX(){let[t,e]=H.useState([]);return[t.length>0?t.join(" "):void 0,H.useMemo(()=>function(n){let i=Mt(m=>(e(s=>[...s,m]),()=>e(s=>{let g=s.slice(),r=g.indexOf(m);return r!==-1&&g.splice(r,1),g}))),c=H.useMemo(()=>({register:i,slot:n.slot,name:n.name,props:n.props,value:n.value}),[i,n.slot,n.name,n.props,n.value]);return Ze.createElement(_7.Provider,{value:c},n.children)},[e])]}let vOe="p";function gOe(t,e){let n=H.useId(),i=KY(),{id:c=`headlessui-description-${n}`,...m}=t,s=tX(),g=Zi(e);Hn(()=>s.register(c),[c,s.register]);let r=El({...s.slot,disabled:i||!1}),a={ref:g,...s.props,id:c};return Rr()({ourProps:a,theirProps:m,slot:r,defaultTag:vOe,name:s.name||"Description"})}let mOe=ur(gOe),yOe=Object.assign(mOe,{});var ei=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(ei||{});let N3=H.createContext(null);N3.displayName="LabelContext";function Q7(){let t=H.useContext(N3);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,Q7),e}return t}function wOe(t){var e,n,i;let c=(n=(e=H.useContext(N3))==null?void 0:e.value)!=null?n:void 0;return((i=void 0)!=null?i:0)>0?[c,...t].filter(Boolean).join(" "):c}function rX({inherit:t=!1}={}){let e=wOe(),[n,i]=H.useState([]),c=t?[e,...n].filter(Boolean):n;return[c.length>0?c.join(" "):void 0,H.useMemo(()=>function(m){let s=Mt(r=>(i(a=>[...a,r]),()=>i(a=>{let v=a.slice(),h=v.indexOf(r);return h!==-1&&v.splice(h,1),v}))),g=H.useMemo(()=>({register:s,slot:m.slot,name:m.name,props:m.props,value:m.value}),[s,m.slot,m.name,m.props,m.value]);return Ze.createElement(N3.Provider,{value:g},m.children)},[i])]}let xOe="label";function bOe(t,e){var n;let i=H.useId(),c=Q7(),m=lOe(),s=KY(),{id:g=`headlessui-label-${i}`,htmlFor:r=m??((n=c.props)==null?void 0:n.htmlFor),passive:a=!1,...v}=t,h=Zi(e);Hn(()=>c.register(g),[g,c.register]);let u=Mt(d=>{let p=d.currentTarget;if(!(d.target!==d.currentTarget&&dOe(d.target))&&(ZD(p)&&d.preventDefault(),c.props&&"onClick"in c.props&&typeof c.props.onClick=="function"&&c.props.onClick(d),ZD(p))){let f=document.getElementById(p.htmlFor);if(f){let y=f.getAttribute("disabled");if(y==="true"||y==="")return;let w=f.getAttribute("aria-disabled");if(w==="true"||w==="")return;(QY(f)&&(f.type==="file"||f.type==="radio"||f.type==="checkbox")||f.role==="radio"||f.role==="checkbox"||f.role==="switch")&&f.click(),f.focus({preventScroll:!0})}}}),l=El({...c.slot,disabled:s||!1}),o={ref:h,...c.props,id:g,htmlFor:r,onClick:u};return a&&("onClick"in o&&(delete o.htmlFor,delete o.onClick),"onClick"in v&&delete v.onClick),Rr()({ourProps:o,theirProps:v,slot:l,defaultTag:r?xOe:"div",name:c.name||"Label"})}let EOe=ur(bOe);Object.assign(EOe,{});let COe=H.createContext(()=>{});function SOe({value:t,children:e}){return Ze.createElement(COe.Provider,{value:t},e)}function _D(t){if(t===null)return{width:0,height:0};let{width:e,height:n}=t.getBoundingClientRect();return{width:e,height:n}}function TOe(t,e,n=!1){let[i,c]=H.useState(()=>_D(e));return Hn(()=>{if(!e||!t)return;let m=Ts();return m.requestAnimationFrame(function s(){m.requestAnimationFrame(s),c(g=>{let r=_D(e);return r.width===g.width&&r.height===g.height?g:r})}),()=>{m.dispose()}},[e,t]),n?{width:`${i.width}px`,height:`${i.height}px`}:i}var iX=(t=>(t[t.Left=0]="Left",t[t.Right=2]="Right",t))(iX||{});function AOe(t){let e=H.useRef(null),n=Mt(c=>{e.current=c.pointerType,!JD(c.currentTarget)&&c.pointerType==="mouse"&&c.button===iX.Left&&(c.preventDefault(),t(c))}),i=Mt(c=>{e.current!=="mouse"&&(JD(c.currentTarget)||t(c))});return{onPointerDown:n,onClick:i}}let sX=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};var POe=Object.defineProperty,IOe=(t,e,n)=>e in t?POe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ROe=(t,e,n)=>(IOe(t,e+"",n),n),aX=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},pa=(t,e,n)=>(aX(t,e,"read from private field"),n?n.call(t):e.get(t)),SE=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},QD=(t,e,n,i)=>(aX(t,e,"write to private field"),e.set(t,n),n),Qo,Yv,Xv;let oX=class{constructor(e){SE(this,Qo,{}),SE(this,Yv,new sX(()=>new Set)),SE(this,Xv,new Set),ROe(this,"disposables",Ts()),QD(this,Qo,e),dl.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return pa(this,Qo)}subscribe(e,n){if(dl.isServer)return()=>{};let i={selector:e,callback:n,current:e(pa(this,Qo))};return pa(this,Xv).add(i),this.disposables.add(()=>{pa(this,Xv).delete(i)})}on(e,n){return dl.isServer?()=>{}:(pa(this,Yv).get(e).add(n),this.disposables.add(()=>{pa(this,Yv).get(e).delete(n)}))}send(e){let n=this.reduce(pa(this,Qo),e);if(n!==pa(this,Qo)){QD(this,Qo,n);for(let i of pa(this,Xv)){let c=i.selector(pa(this,Qo));lX(i.current,c)||(i.current=c,i.callback(c))}for(let i of pa(this,Yv).get(e.type))i(pa(this,Qo),e)}}};Qo=new WeakMap,Yv=new WeakMap,Xv=new WeakMap;function lX(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:TE(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:TE(t.entries(),e.entries()):qD(t)&&qD(e)?TE(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function TE(t,e){do{let n=t.next(),i=e.next();if(n.done&&i.done)return!0;if(n.done||i.done||!Object.is(n.value,i.value))return!1}while(!0)}function qD(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}function eN(t){let[e,n]=t(),i=Ts();return(...c)=>{e(...c),i.dispose(),i.microTask(n)}}var OOe=Object.defineProperty,MOe=(t,e,n)=>e in t?OOe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,tN=(t,e,n)=>(MOe(t,typeof e!="symbol"?e+"":e,n),n),uX=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(uX||{});let $Oe={0(t,e){let n=e.id,i=t.stack,c=t.stack.indexOf(n);if(c!==-1){let m=t.stack.slice();return m.splice(c,1),m.push(n),i=m,{...t,stack:i}}return{...t,stack:[...t.stack,n]}},1(t,e){let n=e.id,i=t.stack.indexOf(n);if(i===-1)return t;let c=t.stack.slice();return c.splice(i,1),{...t,stack:c}}},FOe=class cX extends oX{constructor(){super(...arguments),tN(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),tN(this,"selectors",{isTop:(e,n)=>e.stack[e.stack.length-1]===n,inStack:(e,n)=>e.stack.includes(n)})}static new(){return new cX({stack:[]})}reduce(e,n){return Eo(n.type,$Oe,e,n)}};const k3=new sX(()=>FOe.new());var AE={exports:{}},PE={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nN;function LOe(){if(nN)return PE;nN=1;var t=Um();function e(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var n=typeof Object.is=="function"?Object.is:e,i=t.useSyncExternalStore,c=t.useRef,m=t.useEffect,s=t.useMemo,g=t.useDebugValue;return PE.useSyncExternalStoreWithSelector=function(r,a,v,h,u){var l=c(null);if(l.current===null){var o={hasValue:!1,value:null};l.current=o}else o=l.current;l=s(function(){function p(b){if(!f){if(f=!0,y=b,b=h(b),u!==void 0&&o.hasValue){var E=o.value;if(u(E,b))return w=E}return w=b}if(E=w,n(y,b))return E;var C=h(b);return u!==void 0&&u(E,C)?(y=b,E):(y=b,w=C)}var f=!1,y,w,x=v===void 0?null:v;return[function(){return p(a())},x===null?void 0:function(){return p(x())}]},[a,v,h,u]);var d=i(r,l[0],l[1]);return m(function(){o.hasValue=!0,o.value=d},[d]),g(d),d},PE}var rN;function DOe(){return rN||(rN=1,AE.exports=LOe()),AE.exports}var NOe=DOe();function Ea(t,e,n=lX){return NOe.useSyncExternalStoreWithSelector(Mt(i=>t.subscribe(kOe,i)),Mt(()=>t.state),Mt(()=>t.state),Mt(e),n)}function kOe(t){return t}function m1(t,e){let n=H.useId(),i=k3.get(e),[c,m]=Ea(i,H.useCallback(s=>[i.selectors.isTop(s,n),i.selectors.inStack(s,n)],[i,n]));return Hn(()=>{if(t)return i.actions.push(n),()=>i.actions.pop(n)},[i,t,n]),t?m?c:!0:!1}let GS=new Map,fg=new Map;function iN(t){var e;let n=(e=fg.get(t))!=null?e:0;return fg.set(t,n+1),n!==0?()=>sN(t):(GS.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>sN(t))}function sN(t){var e;let n=(e=fg.get(t))!=null?e:1;if(n===1?fg.delete(t):fg.set(t,n-1),n!==1)return;let i=GS.get(t);i&&(i["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",i["aria-hidden"]),t.inert=i.inert,GS.delete(t))}function hX(t,{allowed:e,disallowed:n}={}){let i=m1(t,"inert-others");Hn(()=>{var c,m;if(!i)return;let s=Ts();for(let r of(c=n?.())!=null?c:[])r&&s.add(iN(r));let g=(m=e?.())!=null?m:[];for(let r of g){if(!r)continue;let a=Rd(r);if(!a)continue;let v=r.parentElement;for(;v&&v!==a.body;){for(let h of v.children)g.some(u=>h.contains(u))||s.add(iN(h));v=v.parentElement}}return s.dispose},[i,e,n])}function dX(t,e,n){let i=Md(c=>{let m=c.getBoundingClientRect();m.x===0&&m.y===0&&m.width===0&&m.height===0&&n()});H.useEffect(()=>{if(!t)return;let c=e===null?null:ea(e)?e:e.current;if(!c)return;let m=Ts();if(typeof ResizeObserver<"u"){let s=new ResizeObserver(()=>i.current(c));s.observe(c),m.add(()=>s.disconnect())}if(typeof IntersectionObserver<"u"){let s=new IntersectionObserver(()=>i.current(c));s.observe(c),m.add(()=>s.disconnect())}return()=>m.dispose()},[e,i,t])}let ix=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),BOe=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var ao=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(ao||{}),VS=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(VS||{}),UOe=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(UOe||{});function fX(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(ix)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function jOe(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(BOe)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var q7=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(q7||{});function eA(t,e=0){var n;return t===((n=Rd(t))==null?void 0:n.body)?!1:Eo(e,{0(){return t.matches(ix)},1(){let i=t;for(;i!==null;){if(i.matches(ix))return!0;i=i.parentElement}return!1}})}function pX(t){Ts().nextFrame(()=>{let e=J7(t);e&&ol(e)&&!eA(e,0)&&fl(t)})}var zOe=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(zOe||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function fl(t){t?.focus({preventScroll:!0})}let WOe=["textarea","input"].join(",");function GOe(t){var e,n;return(n=(e=t?.matches)==null?void 0:e.call(t,WOe))!=null?n:!1}function vX(t,e=n=>n){return t.slice().sort((n,i)=>{let c=e(n),m=e(i);if(c===null||m===null)return 0;let s=c.compareDocumentPosition(m);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function VOe(t,e,n=t===null?document.body:nx(t)){return Sp(fX(n),e,{relativeTo:t})}function Sp(t,e,{sorted:n=!0,relativeTo:i=null,skipElements:c=[]}={}){let m=Array.isArray(t)?t.length>0?nx(t[0]):document:nx(t),s=Array.isArray(t)?n?vX(t):t:e&64?jOe(t):fX(t);c.length>0&&s.length>1&&(s=s.filter(l=>!c.some(o=>o!=null&&"current"in o?o?.current===l:o===l))),i=i??m?.activeElement;let g=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),r=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,s.indexOf(i))-1;if(e&4)return Math.max(0,s.indexOf(i))+1;if(e&8)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),a=e&32?{preventScroll:!0}:{},v=0,h=s.length,u;do{if(v>=h||v+h<=0)return 0;let l=r+v;if(e&16)l=(l+h)%h;else{if(l<0)return 3;if(l>=h)return 1}u=s[l],u?.focus(a),v+=g}while(u!==J7(u));return e&6&&GOe(u)&&u.select(),2}function gX(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function HOe(){return/Android/gi.test(window.navigator.userAgent)}function aN(){return gX()||HOe()}function dp(t,e,n,i){let c=Md(n);H.useEffect(()=>{if(!t)return;function m(s){c.current(s)}return document.addEventListener(e,m,i),()=>document.removeEventListener(e,m,i)},[t,e,i])}function mX(t,e,n,i){let c=Md(n);H.useEffect(()=>{if(!t)return;function m(s){c.current(s)}return window.addEventListener(e,m,i),()=>window.removeEventListener(e,m,i)},[t,e,i])}const oN=30;function yX(t,e,n){let i=Md(n),c=H.useCallback(function(g,r){if(g.defaultPrevented)return;let a=r(g);if(a===null||!a.getRootNode().contains(a)||!a.isConnected)return;let v=(function h(u){return typeof u=="function"?h(u()):Array.isArray(u)||u instanceof Set?u:[u]})(e);for(let h of v)if(h!==null&&(h.contains(a)||g.composed&&g.composedPath().includes(h)))return;return!eA(a,q7.Loose)&&a.tabIndex!==-1&&g.preventDefault(),i.current(g,a)},[i,e]),m=H.useRef(null);dp(t,"pointerdown",g=>{var r,a;aN()||(m.current=((a=(r=g.composedPath)==null?void 0:r.call(g))==null?void 0:a[0])||g.target)},!0),dp(t,"pointerup",g=>{if(aN()||!m.current)return;let r=m.current;return m.current=null,c(g,()=>r)},!0);let s=H.useRef({x:0,y:0});dp(t,"touchstart",g=>{s.current.x=g.touches[0].clientX,s.current.y=g.touches[0].clientY},!0),dp(t,"touchend",g=>{let r={x:g.changedTouches[0].clientX,y:g.changedTouches[0].clientY};if(!(Math.abs(r.x-s.current.x)>=oN||Math.abs(r.y-s.current.y)>=oN))return c(g,()=>ol(g.target)?g.target:null)},!0),mX(t,"blur",g=>c(g,()=>cOe(window.document.activeElement)?window.document.activeElement:null),!0)}function Sm(...t){return H.useMemo(()=>Rd(...t),[...t])}var YOe=(t=>(t[t.Ignore=0]="Ignore",t[t.Select=1]="Select",t[t.Close=2]="Close",t))(YOe||{});const y2={Ignore:{kind:0},Select:t=>({kind:1,target:t}),Close:{kind:2}},XOe=200,lN=5;function KOe(t,{trigger:e,action:n,close:i,select:c}){let m=H.useRef(null),s=H.useRef(null),g=H.useRef(null);dp(t&&e!==null,"pointerdown",r=>{_Y(r?.target)&&e!=null&&e.contains(r.target)&&(s.current=r.x,g.current=r.y,m.current=r.timeStamp)}),dp(t&&e!==null,"pointerup",r=>{var a,v;let h=m.current;if(h===null||(m.current=null,!ol(r.target))||Math.abs(r.x-((a=s.current)!=null?a:r.x))<lN&&Math.abs(r.y-((v=g.current)!=null?v:r.y))<lN)return;let u=n(r);switch(u.kind){case 0:return;case 1:{r.timeStamp-h>XOe&&(c(u.target),i());break}case 2:{i();break}}},{capture:!0})}function wX(t,e,n,i){let c=Md(n);H.useEffect(()=>{t=t??window;function m(s){c.current(s)}return t.addEventListener(e,m,i),()=>t.removeEventListener(e,m,i)},[t,e,i])}function ZOe(t,e){return H.useMemo(()=>{var n;if(t.type)return t.type;let i=(n=t.as)!=null?n:"button";if(typeof i=="string"&&i.toLowerCase()==="button"||e?.tagName==="BUTTON"&&!e.hasAttribute("type"))return"button"},[t.type,t.as,e])}function JOe(t){return H.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function _Oe(t,e){let n=t(),i=new Set;return{getSnapshot(){return n},subscribe(c){return i.add(c),()=>i.delete(c)},dispatch(c,...m){let s=e[c].call(n,...m);s&&(n=s,i.forEach(g=>g()))}}}function QOe(){let t;return{before({doc:e}){var n;let i=e.documentElement,c=(n=e.defaultView)!=null?n:window;t=Math.max(0,c.innerWidth-i.clientWidth)},after({doc:e,d:n}){let i=e.documentElement,c=Math.max(0,i.clientWidth-i.offsetWidth),m=Math.max(0,t-c);n.style(i,"paddingRight",`${m}px`)}}}function qOe(){return gX()?{before({doc:t,d:e,meta:n}){function i(c){for(let m of n().containers)for(let s of m())if(s.contains(c))return!0;return!1}e.microTask(()=>{var c;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let g=Ts();g.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>g.dispose()))}let m=(c=window.scrollY)!=null?c:window.pageYOffset,s=null;e.addEventListener(t,"click",g=>{if(ol(g.target))try{let r=g.target.closest("a");if(!r)return;let{hash:a}=new URL(r.href),v=t.querySelector(a);ol(v)&&!i(v)&&(s=v)}catch{}},!0),e.group(g=>{e.addEventListener(t,"touchstart",r=>{if(g.dispose(),ol(r.target)&&uOe(r.target))if(i(r.target)){let a=r.target;for(;a.parentElement&&i(a.parentElement);)a=a.parentElement;g.style(a,"overscrollBehavior","contain")}else g.style(r.target,"touchAction","none")})}),e.addEventListener(t,"touchmove",g=>{if(ol(g.target)){if(QY(g.target))return;if(i(g.target)){let r=g.target;for(;r.parentElement&&r.dataset.headlessuiPortal!==""&&!(r.scrollHeight>r.clientHeight||r.scrollWidth>r.clientWidth);)r=r.parentElement;r.dataset.headlessuiPortal===""&&g.preventDefault()}else g.preventDefault()}},{passive:!1}),e.add(()=>{var g;let r=(g=window.scrollY)!=null?g:window.pageYOffset;m!==r&&window.scrollTo(0,m),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})})}}:{}}function eMe(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function uN(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let Dh=_Oe(()=>new Map,{PUSH(t,e){var n;let i=(n=this.get(t))!=null?n:{doc:t,count:0,d:Ts(),meta:new Set,computedMeta:{}};return i.count++,i.meta.add(e),i.computedMeta=uN(i.meta),this.set(t,i),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e),n.computedMeta=uN(n.meta)),this},SCROLL_PREVENT(t){let e={doc:t.doc,d:t.d,meta(){return t.computedMeta}},n=[qOe(),QOe(),eMe()];n.forEach(({before:i})=>i?.(e)),n.forEach(({after:i})=>i?.(e))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Dh.subscribe(()=>{let t=Dh.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let i=e.get(n.doc)==="hidden",c=n.count!==0;(c&&!i||!c&&i)&&Dh.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Dh.dispatch("TEARDOWN",n)}});function tMe(t,e,n=()=>({containers:[]})){let i=JOe(Dh),c=e?i.get(e):void 0,m=c?c.count>0:!1;return Hn(()=>{if(!(!e||!t))return Dh.dispatch("PUSH",e,n),()=>Dh.dispatch("POP",e,n)},[t,e]),m}function xX(t,e,n=()=>[document.body]){let i=m1(t,"scroll-lock");tMe(i,e,c=>{var m;return{containers:[...(m=c.containers)!=null?m:[],n]}})}function cN(t){return[t.screenX,t.screenY]}function nMe(){let t=H.useRef([-1,-1]);return{wasMoved(e){let n=cN(e);return t.current[0]===n[0]&&t.current[1]===n[1]?!1:(t.current=n,!0)},update(e){t.current=cN(e)}}}function rMe(t=0){let[e,n]=H.useState(t),i=H.useCallback(r=>n(r),[]),c=H.useCallback(r=>n(a=>a|r),[]),m=H.useCallback(r=>(e&r)===r,[e]),s=H.useCallback(r=>n(a=>a&~r),[]),g=H.useCallback(r=>n(a=>a^r),[]);return{flags:e,setFlag:i,addFlag:c,hasFlag:m,removeFlag:s,toggleFlag:g}}var iMe={},hN,dN;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((hN=process==null?void 0:iMe)==null?void 0:hN.NODE_ENV)==="test"&&typeof((dN=Element?.prototype)==null?void 0:dN.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var sMe=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(sMe||{});function bX(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function EX(t,e,n,i){let[c,m]=H.useState(n),{hasFlag:s,addFlag:g,removeFlag:r}=rMe(t&&c?3:0),a=H.useRef(!1),v=H.useRef(!1),h=Od();return Hn(()=>{var u;if(t){if(n&&m(!0),!e){n&&g(3);return}return(u=i?.start)==null||u.call(i,n),aMe(e,{inFlight:a,prepare(){v.current?v.current=!1:v.current=a.current,a.current=!0,!v.current&&(n?(g(3),r(4)):(g(4),r(2)))},run(){v.current?n?(r(3),g(4)):(r(4),g(3)):n?r(1):g(1)},done(){var l;v.current&&uMe(e)||(a.current=!1,r(7),n||m(!1),(l=i?.end)==null||l.call(i,n))}})}},[t,n,e,h]),t?[c,{closed:s(1),enter:s(2),leave:s(4),transition:s(2)||s(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function aMe(t,{prepare:e,run:n,done:i,inFlight:c}){let m=Ts();return lMe(t,{prepare:e,inFlight:c}),m.nextFrame(()=>{n(),m.requestAnimationFrame(()=>{m.add(oMe(t,i))})}),m.dispose}function oMe(t,e){var n,i;let c=Ts();if(!t)return c.dispose;let m=!1;c.add(()=>{m=!0});let s=(i=(n=t.getAnimations)==null?void 0:n.call(t).filter(g=>g instanceof CSSTransition))!=null?i:[];return s.length===0?(e(),c.dispose):(Promise.allSettled(s.map(g=>g.finished)).then(()=>{m||e()}),c.dispose)}function lMe(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let i=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=i}function uMe(t){var e,n;return((n=(e=t.getAnimations)==null?void 0:e.call(t))!=null?n:[]).some(i=>i instanceof CSSTransition&&i.playState!=="finished")}function cMe(t,{container:e,accept:n,walk:i}){let c=H.useRef(n),m=H.useRef(i);H.useEffect(()=>{c.current=n,m.current=i},[n,i]),Hn(()=>{if(!e||!t)return;let s=Rd(e);if(!s)return;let g=c.current,r=m.current,a=Object.assign(h=>g(h),{acceptNode:g}),v=s.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,a,!1);for(;v.nextNode();)r(v.currentNode)},[e,t,c,m])}function tA(t,e){let n=H.useRef([]),i=Mt(t);H.useEffect(()=>{let c=[...n.current];for(let[m,s]of e.entries())if(n.current[m]!==s){let g=i(e,c);return n.current=e,g}},[i,...e])}function B3(){return typeof window<"u"}function E0(t){return CX(t)?(t.nodeName||"").toLowerCase():"#document"}function Js(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Cl(t){var e;return(e=(CX(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function CX(t){return B3()?t instanceof Node||t instanceof Js(t).Node:!1}function zi(t){return B3()?t instanceof Element||t instanceof Js(t).Element:!1}function yl(t){return B3()?t instanceof HTMLElement||t instanceof Js(t).HTMLElement:!1}function fN(t){return!B3()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Js(t).ShadowRoot}const hMe=new Set(["inline","contents"]);function y1(t){const{overflow:e,overflowX:n,overflowY:i,display:c}=Co(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!hMe.has(c)}const dMe=new Set(["table","td","th"]);function fMe(t){return dMe.has(E0(t))}const pMe=[":popover-open",":modal"];function U3(t){return pMe.some(e=>{try{return t.matches(e)}catch{return!1}})}const vMe=["transform","translate","scale","rotate","perspective"],gMe=["transform","translate","scale","rotate","perspective","filter"],mMe=["paint","layout","strict","content"];function nA(t){const e=rA(),n=zi(t)?Co(t):t;return vMe.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||gMe.some(i=>(n.willChange||"").includes(i))||mMe.some(i=>(n.contain||"").includes(i))}function yMe(t){let e=Ic(t);for(;yl(e)&&!_p(e);){if(nA(e))return e;if(U3(e))return null;e=Ic(e)}return null}function rA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const wMe=new Set(["html","body","#document"]);function _p(t){return wMe.has(E0(t))}function Co(t){return Js(t).getComputedStyle(t)}function j3(t){return zi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ic(t){if(E0(t)==="html")return t;const e=t.assignedSlot||t.parentNode||fN(t)&&t.host||Cl(t);return fN(e)?e.host:e}function SX(t){const e=Ic(t);return _p(e)?t.ownerDocument?t.ownerDocument.body:t.body:yl(e)&&y1(e)?e:SX(e)}function Tm(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const c=SX(t),m=c===((i=t.ownerDocument)==null?void 0:i.body),s=Js(c);if(m){const g=HS(s);return e.concat(s,s.visualViewport||[],y1(c)?c:[],g&&n?Tm(g):[])}return e.concat(c,Tm(c,[],n))}function HS(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function xMe(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:i}=e;return n+"/"+i}).join(" "):navigator.userAgent}const ld=Math.min,Mi=Math.max,Am=Math.round,w2=Math.floor,pl=t=>({x:t,y:t}),bMe={left:"right",right:"left",bottom:"top",top:"bottom"},EMe={start:"end",end:"start"};function pN(t,e,n){return Mi(t,ld(e,n))}function C0(t,e){return typeof t=="function"?t(e):t}function Rc(t){return t.split("-")[0]}function w1(t){return t.split("-")[1]}function TX(t){return t==="x"?"y":"x"}function AX(t){return t==="y"?"height":"width"}const CMe=new Set(["top","bottom"]);function ru(t){return CMe.has(Rc(t))?"y":"x"}function PX(t){return TX(ru(t))}function SMe(t,e,n){n===void 0&&(n=!1);const i=w1(t),c=PX(t),m=AX(c);let s=c==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[m]>e.floating[m]&&(s=sx(s)),[s,sx(s)]}function TMe(t){const e=sx(t);return[YS(t),e,YS(e)]}function YS(t){return t.replace(/start|end/g,e=>EMe[e])}const vN=["left","right"],gN=["right","left"],AMe=["top","bottom"],PMe=["bottom","top"];function IMe(t,e,n){switch(t){case"top":case"bottom":return n?e?gN:vN:e?vN:gN;case"left":case"right":return e?AMe:PMe;default:return[]}}function RMe(t,e,n,i){const c=w1(t);let m=IMe(Rc(t),n==="start",i);return c&&(m=m.map(s=>s+"-"+c),e&&(m=m.concat(m.map(YS)))),m}function sx(t){return t.replace(/left|right|bottom|top/g,e=>bMe[e])}function OMe(t){return{top:0,right:0,bottom:0,left:0,...t}}function MMe(t){return typeof t!="number"?OMe(t):{top:t,right:t,bottom:t,left:t}}function ax(t){const{x:e,y:n,width:i,height:c}=t;return{width:i,height:c,top:n,left:e,right:e+i,bottom:n+c,x:e,y:n}}function mN(t,e,n){let{reference:i,floating:c}=t;const m=ru(e),s=PX(e),g=AX(s),r=Rc(e),a=m==="y",v=i.x+i.width/2-c.width/2,h=i.y+i.height/2-c.height/2,u=i[g]/2-c[g]/2;let l;switch(r){case"top":l={x:v,y:i.y-c.height};break;case"bottom":l={x:v,y:i.y+i.height};break;case"right":l={x:i.x+i.width,y:h};break;case"left":l={x:i.x-c.width,y:h};break;default:l={x:i.x,y:i.y}}switch(w1(e)){case"start":l[s]-=u*(n&&a?-1:1);break;case"end":l[s]+=u*(n&&a?-1:1);break}return l}const $Me=async(t,e,n)=>{const{placement:i="bottom",strategy:c="absolute",middleware:m=[],platform:s}=n,g=m.filter(Boolean),r=await(s.isRTL==null?void 0:s.isRTL(e));let a=await s.getElementRects({reference:t,floating:e,strategy:c}),{x:v,y:h}=mN(a,i,r),u=i,l={},o=0;for(let d=0;d<g.length;d++){const{name:p,fn:f}=g[d],{x:y,y:w,data:x,reset:b}=await f({x:v,y:h,initialPlacement:i,placement:u,strategy:c,middlewareData:l,rects:a,platform:s,elements:{reference:t,floating:e}});v=y??v,h=w??h,l={...l,[p]:{...l[p],...x}},b&&o<=50&&(o++,typeof b=="object"&&(b.placement&&(u=b.placement),b.rects&&(a=b.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:c}):b.rects),{x:v,y:h}=mN(a,u,r)),d=-1)}return{x:v,y:h,placement:u,strategy:c,middlewareData:l}};async function z3(t,e){var n;e===void 0&&(e={});const{x:i,y:c,platform:m,rects:s,elements:g,strategy:r}=t,{boundary:a="clippingAncestors",rootBoundary:v="viewport",elementContext:h="floating",altBoundary:u=!1,padding:l=0}=C0(e,t),o=MMe(l),p=g[u?h==="floating"?"reference":"floating":h],f=ax(await m.getClippingRect({element:(n=await(m.isElement==null?void 0:m.isElement(p)))==null||n?p:p.contextElement||await(m.getDocumentElement==null?void 0:m.getDocumentElement(g.floating)),boundary:a,rootBoundary:v,strategy:r})),y=h==="floating"?{x:i,y:c,width:s.floating.width,height:s.floating.height}:s.reference,w=await(m.getOffsetParent==null?void 0:m.getOffsetParent(g.floating)),x=await(m.isElement==null?void 0:m.isElement(w))?await(m.getScale==null?void 0:m.getScale(w))||{x:1,y:1}:{x:1,y:1},b=ax(m.convertOffsetParentRelativeRectToViewportRelativeRect?await m.convertOffsetParentRelativeRectToViewportRelativeRect({elements:g,rect:y,offsetParent:w,strategy:r}):y);return{top:(f.top-b.top+o.top)/x.y,bottom:(b.bottom-f.bottom+o.bottom)/x.y,left:(f.left-b.left+o.left)/x.x,right:(b.right-f.right+o.right)/x.x}}const FMe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:c,middlewareData:m,rects:s,initialPlacement:g,platform:r,elements:a}=e,{mainAxis:v=!0,crossAxis:h=!0,fallbackPlacements:u,fallbackStrategy:l="bestFit",fallbackAxisSideDirection:o="none",flipAlignment:d=!0,...p}=C0(t,e);if((n=m.arrow)!=null&&n.alignmentOffset)return{};const f=Rc(c),y=ru(g),w=Rc(g)===g,x=await(r.isRTL==null?void 0:r.isRTL(a.floating)),b=u||(w||!d?[sx(g)]:TMe(g)),E=o!=="none";!u&&E&&b.push(...RMe(g,d,o,x));const C=[g,...b],T=await z3(e,p),S=[];let A=((i=m.flip)==null?void 0:i.overflows)||[];if(v&&S.push(T[f]),h){const D=SMe(c,s,x);S.push(T[D[0]],T[D[1]])}if(A=[...A,{placement:c,overflows:S}],!S.every(D=>D<=0)){var P,R;const D=(((P=m.flip)==null?void 0:P.index)||0)+1,$=C[D];if($&&(!(h==="alignment"?y!==ru($):!1)||A.every(k=>ru(k.placement)===y?k.overflows[0]>0:!0)))return{data:{index:D,overflows:A},reset:{placement:$}};let F=(R=A.filter(N=>N.overflows[0]<=0).sort((N,k)=>N.overflows[1]-k.overflows[1])[0])==null?void 0:R.placement;if(!F)switch(l){case"bestFit":{var L;const N=(L=A.filter(k=>{if(E){const j=ru(k.placement);return j===y||j==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(j=>j>0).reduce((j,W)=>j+W,0)]).sort((k,j)=>k[1]-j[1])[0])==null?void 0:L[0];N&&(F=N);break}case"initialPlacement":F=g;break}if(c!==F)return{reset:{placement:F}}}return{}}}},LMe=new Set(["left","top"]);async function DMe(t,e){const{placement:n,platform:i,elements:c}=t,m=await(i.isRTL==null?void 0:i.isRTL(c.floating)),s=Rc(n),g=w1(n),r=ru(n)==="y",a=LMe.has(s)?-1:1,v=m&&r?-1:1,h=C0(e,t);let{mainAxis:u,crossAxis:l,alignmentAxis:o}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return g&&typeof o=="number"&&(l=g==="end"?o*-1:o),r?{x:l*v,y:u*a}:{x:u*a,y:l*v}}const NMe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:c,y:m,placement:s,middlewareData:g}=e,r=await DMe(e,t);return s===((n=g.offset)==null?void 0:n.placement)&&(i=g.arrow)!=null&&i.alignmentOffset?{}:{x:c+r.x,y:m+r.y,data:{...r,placement:s}}}}},kMe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:c}=e,{mainAxis:m=!0,crossAxis:s=!1,limiter:g={fn:p=>{let{x:f,y}=p;return{x:f,y}}},...r}=C0(t,e),a={x:n,y:i},v=await z3(e,r),h=ru(Rc(c)),u=TX(h);let l=a[u],o=a[h];if(m){const p=u==="y"?"top":"left",f=u==="y"?"bottom":"right",y=l+v[p],w=l-v[f];l=pN(y,l,w)}if(s){const p=h==="y"?"top":"left",f=h==="y"?"bottom":"right",y=o+v[p],w=o-v[f];o=pN(y,o,w)}const d=g.fn({...e,[u]:l,[h]:o});return{...d,data:{x:d.x-n,y:d.y-i,enabled:{[u]:m,[h]:s}}}}}},BMe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,i;const{placement:c,rects:m,platform:s,elements:g}=e,{apply:r=()=>{},...a}=C0(t,e),v=await z3(e,a),h=Rc(c),u=w1(c),l=ru(c)==="y",{width:o,height:d}=m.floating;let p,f;h==="top"||h==="bottom"?(p=h,f=u===(await(s.isRTL==null?void 0:s.isRTL(g.floating))?"start":"end")?"left":"right"):(f=h,p=u==="end"?"top":"bottom");const y=d-v.top-v.bottom,w=o-v.left-v.right,x=ld(d-v[p],y),b=ld(o-v[f],w),E=!e.middlewareData.shift;let C=x,T=b;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=w),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(C=y),E&&!u){const A=Mi(v.left,0),P=Mi(v.right,0),R=Mi(v.top,0),L=Mi(v.bottom,0);l?T=o-2*(A!==0||P!==0?A+P:Mi(v.left,v.right)):C=d-2*(R!==0||L!==0?R+L:Mi(v.top,v.bottom))}await r({...e,availableWidth:T,availableHeight:C});const S=await s.getDimensions(g.floating);return o!==S.width||d!==S.height?{reset:{rects:!0}}:{}}}};function IX(t){const e=Co(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const c=yl(t),m=c?t.offsetWidth:n,s=c?t.offsetHeight:i,g=Am(n)!==m||Am(i)!==s;return g&&(n=m,i=s),{width:n,height:i,$:g}}function iA(t){return zi(t)?t:t.contextElement}function Tp(t){const e=iA(t);if(!yl(e))return pl(1);const n=e.getBoundingClientRect(),{width:i,height:c,$:m}=IX(e);let s=(m?Am(n.width):n.width)/i,g=(m?Am(n.height):n.height)/c;return(!s||!Number.isFinite(s))&&(s=1),(!g||!Number.isFinite(g))&&(g=1),{x:s,y:g}}const UMe=pl(0);function RX(t){const e=Js(t);return!rA()||!e.visualViewport?UMe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function jMe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Js(t)?!1:e}function ud(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const c=t.getBoundingClientRect(),m=iA(t);let s=pl(1);e&&(i?zi(i)&&(s=Tp(i)):s=Tp(t));const g=jMe(m,n,i)?RX(m):pl(0);let r=(c.left+g.x)/s.x,a=(c.top+g.y)/s.y,v=c.width/s.x,h=c.height/s.y;if(m){const u=Js(m),l=i&&zi(i)?Js(i):i;let o=u,d=HS(o);for(;d&&i&&l!==o;){const p=Tp(d),f=d.getBoundingClientRect(),y=Co(d),w=f.left+(d.clientLeft+parseFloat(y.paddingLeft))*p.x,x=f.top+(d.clientTop+parseFloat(y.paddingTop))*p.y;r*=p.x,a*=p.y,v*=p.x,h*=p.y,r+=w,a+=x,o=Js(d),d=HS(o)}}return ax({width:v,height:h,x:r,y:a})}function W3(t,e){const n=j3(t).scrollLeft;return e?e.left+n:ud(Cl(t)).left+n}function OX(t,e){const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-W3(t,n),c=n.top+e.scrollTop;return{x:i,y:c}}function zMe(t){let{elements:e,rect:n,offsetParent:i,strategy:c}=t;const m=c==="fixed",s=Cl(i),g=e?U3(e.floating):!1;if(i===s||g&&m)return n;let r={scrollLeft:0,scrollTop:0},a=pl(1);const v=pl(0),h=yl(i);if((h||!h&&!m)&&((E0(i)!=="body"||y1(s))&&(r=j3(i)),yl(i))){const l=ud(i);a=Tp(i),v.x=l.x+i.clientLeft,v.y=l.y+i.clientTop}const u=s&&!h&&!m?OX(s,r):pl(0);return{width:n.width*a.x,height:n.height*a.y,x:n.x*a.x-r.scrollLeft*a.x+v.x+u.x,y:n.y*a.y-r.scrollTop*a.y+v.y+u.y}}function WMe(t){return Array.from(t.getClientRects())}function GMe(t){const e=Cl(t),n=j3(t),i=t.ownerDocument.body,c=Mi(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),m=Mi(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let s=-n.scrollLeft+W3(t);const g=-n.scrollTop;return Co(i).direction==="rtl"&&(s+=Mi(e.clientWidth,i.clientWidth)-c),{width:c,height:m,x:s,y:g}}const yN=25;function VMe(t,e){const n=Js(t),i=Cl(t),c=n.visualViewport;let m=i.clientWidth,s=i.clientHeight,g=0,r=0;if(c){m=c.width,s=c.height;const v=rA();(!v||v&&e==="fixed")&&(g=c.offsetLeft,r=c.offsetTop)}const a=W3(i);if(a<=0){const v=i.ownerDocument,h=v.body,u=getComputedStyle(h),l=v.compatMode==="CSS1Compat"&&parseFloat(u.marginLeft)+parseFloat(u.marginRight)||0,o=Math.abs(i.clientWidth-h.clientWidth-l);o<=yN&&(m-=o)}else a<=yN&&(m+=a);return{width:m,height:s,x:g,y:r}}const HMe=new Set(["absolute","fixed"]);function YMe(t,e){const n=ud(t,!0,e==="fixed"),i=n.top+t.clientTop,c=n.left+t.clientLeft,m=yl(t)?Tp(t):pl(1),s=t.clientWidth*m.x,g=t.clientHeight*m.y,r=c*m.x,a=i*m.y;return{width:s,height:g,x:r,y:a}}function wN(t,e,n){let i;if(e==="viewport")i=VMe(t,n);else if(e==="document")i=GMe(Cl(t));else if(zi(e))i=YMe(e,n);else{const c=RX(t);i={x:e.x-c.x,y:e.y-c.y,width:e.width,height:e.height}}return ax(i)}function MX(t,e){const n=Ic(t);return n===e||!zi(n)||_p(n)?!1:Co(n).position==="fixed"||MX(n,e)}function XMe(t,e){const n=e.get(t);if(n)return n;let i=Tm(t,[],!1).filter(g=>zi(g)&&E0(g)!=="body"),c=null;const m=Co(t).position==="fixed";let s=m?Ic(t):t;for(;zi(s)&&!_p(s);){const g=Co(s),r=nA(s);!r&&g.position==="fixed"&&(c=null),(m?!r&&!c:!r&&g.position==="static"&&!!c&&HMe.has(c.position)||y1(s)&&!r&&MX(t,s))?i=i.filter(v=>v!==s):c=g,s=Ic(s)}return e.set(t,i),i}function KMe(t){let{element:e,boundary:n,rootBoundary:i,strategy:c}=t;const s=[...n==="clippingAncestors"?U3(e)?[]:XMe(e,this._c):[].concat(n),i],g=s[0],r=s.reduce((a,v)=>{const h=wN(e,v,c);return a.top=Mi(h.top,a.top),a.right=ld(h.right,a.right),a.bottom=ld(h.bottom,a.bottom),a.left=Mi(h.left,a.left),a},wN(e,g,c));return{width:r.right-r.left,height:r.bottom-r.top,x:r.left,y:r.top}}function ZMe(t){const{width:e,height:n}=IX(t);return{width:e,height:n}}function JMe(t,e,n){const i=yl(e),c=Cl(e),m=n==="fixed",s=ud(t,!0,m,e);let g={scrollLeft:0,scrollTop:0};const r=pl(0);function a(){r.x=W3(c)}if(i||!i&&!m)if((E0(e)!=="body"||y1(c))&&(g=j3(e)),i){const l=ud(e,!0,m,e);r.x=l.x+e.clientLeft,r.y=l.y+e.clientTop}else c&&a();m&&!i&&c&&a();const v=c&&!i&&!m?OX(c,g):pl(0),h=s.left+g.scrollLeft-r.x-v.x,u=s.top+g.scrollTop-r.y-v.y;return{x:h,y:u,width:s.width,height:s.height}}function IE(t){return Co(t).position==="static"}function xN(t,e){if(!yl(t)||Co(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Cl(t)===n&&(n=n.ownerDocument.body),n}function $X(t,e){const n=Js(t);if(U3(t))return n;if(!yl(t)){let c=Ic(t);for(;c&&!_p(c);){if(zi(c)&&!IE(c))return c;c=Ic(c)}return n}let i=xN(t,e);for(;i&&fMe(i)&&IE(i);)i=xN(i,e);return i&&_p(i)&&IE(i)&&!nA(i)?n:i||yMe(t)||n}const _Me=async function(t){const e=this.getOffsetParent||$X,n=this.getDimensions,i=await n(t.floating);return{reference:JMe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function QMe(t){return Co(t).direction==="rtl"}const qMe={convertOffsetParentRelativeRectToViewportRelativeRect:zMe,getDocumentElement:Cl,getClippingRect:KMe,getOffsetParent:$X,getElementRects:_Me,getClientRects:WMe,getDimensions:ZMe,getScale:Tp,isElement:zi,isRTL:QMe};function FX(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function e$e(t,e){let n=null,i;const c=Cl(t);function m(){var g;clearTimeout(i),(g=n)==null||g.disconnect(),n=null}function s(g,r){g===void 0&&(g=!1),r===void 0&&(r=1),m();const a=t.getBoundingClientRect(),{left:v,top:h,width:u,height:l}=a;if(g||e(),!u||!l)return;const o=w2(h),d=w2(c.clientWidth-(v+u)),p=w2(c.clientHeight-(h+l)),f=w2(v),w={rootMargin:-o+"px "+-d+"px "+-p+"px "+-f+"px",threshold:Mi(0,ld(1,r))||1};let x=!0;function b(E){const C=E[0].intersectionRatio;if(C!==r){if(!x)return s();C?s(!1,C):i=setTimeout(()=>{s(!1,1e-7)},1e3)}C===1&&!FX(a,t.getBoundingClientRect())&&s(),x=!1}try{n=new IntersectionObserver(b,{...w,root:c.ownerDocument})}catch{n=new IntersectionObserver(b,w)}n.observe(t)}return s(!0),m}function t$e(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:c=!0,ancestorResize:m=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:g=typeof IntersectionObserver=="function",animationFrame:r=!1}=i,a=iA(t),v=c||m?[...a?Tm(a):[],...Tm(e)]:[];v.forEach(f=>{c&&f.addEventListener("scroll",n,{passive:!0}),m&&f.addEventListener("resize",n)});const h=a&&g?e$e(a,n):null;let u=-1,l=null;s&&(l=new ResizeObserver(f=>{let[y]=f;y&&y.target===a&&l&&(l.unobserve(e),cancelAnimationFrame(u),u=requestAnimationFrame(()=>{var w;(w=l)==null||w.observe(e)})),n()}),a&&!r&&l.observe(a),l.observe(e));let o,d=r?ud(t):null;r&&p();function p(){const f=ud(t);d&&!FX(d,f)&&n(),d=f,o=requestAnimationFrame(p)}return n(),()=>{var f;v.forEach(y=>{c&&y.removeEventListener("scroll",n),m&&y.removeEventListener("resize",n)}),h?.(),(f=l)==null||f.disconnect(),l=null,r&&cancelAnimationFrame(o)}}const RE=z3,n$e=NMe,r$e=kMe,i$e=FMe,s$e=BMe,a$e=(t,e,n)=>{const i=new Map,c={platform:qMe,...n},m={...c.platform,_c:i};return $Me(t,e,{...c,platform:m})};var o$e=typeof document<"u",l$e=function(){},rw=o$e?H.useLayoutEffect:l$e;function ox(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,i,c;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(i=n;i--!==0;)if(!ox(t[i],e[i]))return!1;return!0}if(c=Object.keys(t),n=c.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(e,c[i]))return!1;for(i=n;i--!==0;){const m=c[i];if(!(m==="_owner"&&t.$$typeof)&&!ox(t[m],e[m]))return!1}return!0}return t!==t&&e!==e}function LX(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function bN(t,e){const n=LX(t);return Math.round(e*n)/n}function OE(t){const e=H.useRef(t);return rw(()=>{e.current=t}),e}function u$e(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:i=[],platform:c,elements:{reference:m,floating:s}={},transform:g=!0,whileElementsMounted:r,open:a}=t,[v,h]=H.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[u,l]=H.useState(i);ox(u,i)||l(i);const[o,d]=H.useState(null),[p,f]=H.useState(null),y=H.useCallback(k=>{k!==E.current&&(E.current=k,d(k))},[]),w=H.useCallback(k=>{k!==C.current&&(C.current=k,f(k))},[]),x=m||o,b=s||p,E=H.useRef(null),C=H.useRef(null),T=H.useRef(v),S=r!=null,A=OE(r),P=OE(c),R=OE(a),L=H.useCallback(()=>{if(!E.current||!C.current)return;const k={placement:e,strategy:n,middleware:u};P.current&&(k.platform=P.current),a$e(E.current,C.current,k).then(j=>{const W={...j,isPositioned:R.current!==!1};D.current&&!ox(T.current,W)&&(T.current=W,vu.flushSync(()=>{h(W)}))})},[u,e,n,P,R]);rw(()=>{a===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,h(k=>({...k,isPositioned:!1})))},[a]);const D=H.useRef(!1);rw(()=>(D.current=!0,()=>{D.current=!1}),[]),rw(()=>{if(x&&(E.current=x),b&&(C.current=b),x&&b){if(A.current)return A.current(x,b,L);L()}},[x,b,L,A,S]);const $=H.useMemo(()=>({reference:E,floating:C,setReference:y,setFloating:w}),[y,w]),F=H.useMemo(()=>({reference:x,floating:b}),[x,b]),N=H.useMemo(()=>{const k={position:n,left:0,top:0};if(!F.floating)return k;const j=bN(F.floating,v.x),W=bN(F.floating,v.y);return g?{...k,transform:"translate("+j+"px, "+W+"px)",...LX(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:j,top:W}},[n,g,F.floating,v.x,v.y]);return H.useMemo(()=>({...v,update:L,refs:$,elements:F,floatingStyles:N}),[v,L,$,F,N])}const DX=(t,e)=>({...n$e(t),options:[t,e]}),c$e=(t,e)=>({...r$e(t),options:[t,e]}),h$e=(t,e)=>({...i$e(t),options:[t,e]}),d$e=(t,e)=>({...s$e(t),options:[t,e]}),NX={...R8},f$e=NX.useInsertionEffect,p$e=f$e||(t=>t());function kX(t){const e=H.useRef(()=>{});return p$e(()=>{e.current=t}),H.useCallback(function(){for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return e.current==null?void 0:e.current(...i)},[])}var XS=typeof document<"u"?H.useLayoutEffect:H.useEffect;let EN=!1,v$e=0;const CN=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+v$e++;function g$e(){const[t,e]=H.useState(()=>EN?CN():void 0);return XS(()=>{t==null&&e(CN())},[]),H.useEffect(()=>{EN=!0},[]),t}const m$e=NX.useId,y$e=m$e||g$e;function w$e(){const t=new Map;return{emit(e,n){var i;(i=t.get(e))==null||i.forEach(c=>c(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var i;t.set(e,((i=t.get(e))==null?void 0:i.filter(c=>c!==n))||[])}}}const x$e=H.createContext(null),b$e=H.createContext(null),E$e=()=>{var t;return((t=H.useContext(x$e))==null?void 0:t.id)||null},C$e=()=>H.useContext(b$e),S$e="data-floating-ui-focusable";function T$e(t){const{open:e=!1,onOpenChange:n,elements:i}=t,c=y$e(),m=H.useRef({}),[s]=H.useState(()=>w$e()),g=E$e()!=null,[r,a]=H.useState(i.reference),v=kX((l,o,d)=>{m.current.openEvent=l?o:void 0,s.emit("openchange",{open:l,event:o,reason:d,nested:g}),n?.(l,o,d)}),h=H.useMemo(()=>({setPositionReference:a}),[]),u=H.useMemo(()=>({reference:r||i.reference||null,floating:i.floating||null,domReference:i.reference}),[r,i.reference,i.floating]);return H.useMemo(()=>({dataRef:m,open:e,onOpenChange:v,elements:u,events:s,floatingId:c,refs:h}),[e,v,u,s,c,h])}function A$e(t){t===void 0&&(t={});const{nodeId:e}=t,n=T$e({...t,elements:{reference:null,floating:null,...t.elements}}),i=t.rootContext||n,c=i.elements,[m,s]=H.useState(null),[g,r]=H.useState(null),v=c?.domReference||m,h=H.useRef(null),u=C$e();XS(()=>{v&&(h.current=v)},[v]);const l=u$e({...t,elements:{...c,...g&&{reference:g}}}),o=H.useCallback(w=>{const x=zi(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),contextElement:w}:w;r(x),l.refs.setReference(x)},[l.refs]),d=H.useCallback(w=>{(zi(w)||w===null)&&(h.current=w,s(w)),(zi(l.refs.reference.current)||l.refs.reference.current===null||w!==null&&!zi(w))&&l.refs.setReference(w)},[l.refs]),p=H.useMemo(()=>({...l.refs,setReference:d,setPositionReference:o,domReference:h}),[l.refs,d,o]),f=H.useMemo(()=>({...l.elements,domReference:v}),[l.elements,v]),y=H.useMemo(()=>({...l,...i,refs:p,elements:f,nodeId:e}),[l,p,f,e,i]);return XS(()=>{i.dataRef.current.floatingContext=y;const w=u?.nodesRef.current.find(x=>x.id===e);w&&(w.context=y)}),H.useMemo(()=>({...l,context:y,refs:p,elements:f}),[l,p,f,y])}const SN="active",TN="selected";function ME(t,e,n){const i=new Map,c=n==="item";let m=t;if(c&&t){const{[SN]:s,[TN]:g,...r}=t;m=r}return{...n==="floating"&&{tabIndex:-1,[S$e]:""},...m,...e.map(s=>{const g=s?s[n]:null;return typeof g=="function"?t?g(t):null:g}).concat(t).reduce((s,g)=>(g&&Object.entries(g).forEach(r=>{let[a,v]=r;if(!(c&&[SN,TN].includes(a)))if(a.indexOf("on")===0){if(i.has(a)||i.set(a,[]),typeof v=="function"){var h;(h=i.get(a))==null||h.push(v),s[a]=function(){for(var u,l=arguments.length,o=new Array(l),d=0;d<l;d++)o[d]=arguments[d];return(u=i.get(a))==null?void 0:u.map(p=>p(...o)).find(p=>p!==void 0)}}}else s[a]=v}),s),{})}}function P$e(t){t===void 0&&(t=[]);const e=t.map(g=>g?.reference),n=t.map(g=>g?.floating),i=t.map(g=>g?.item),c=H.useCallback(g=>ME(g,t,"reference"),e),m=H.useCallback(g=>ME(g,t,"floating"),n),s=H.useCallback(g=>ME(g,t,"item"),i);return H.useMemo(()=>({getReferenceProps:c,getFloatingProps:m,getItemProps:s}),[c,m,s])}function AN(t,e){return{...t,rects:{...t.rects,floating:{...t.rects.floating,height:e}}}}const I$e=t=>({name:"inner",options:t,async fn(e){const{listRef:n,overflowRef:i,onFallbackChange:c,offset:m=0,index:s=0,minItemsVisible:g=4,referenceOverflowThreshold:r=0,scrollRef:a,...v}=C0(t,e),{rects:h,elements:{floating:u}}=e,l=n.current[s],o=a?.current||u,d=u.clientTop||o.clientTop,p=u.clientTop!==0,f=o.clientTop!==0,y=u===o;if(!l)return{};const w={...e,...await DX(-l.offsetTop-u.clientTop-h.reference.height/2-l.offsetHeight/2-m).fn(e)},x=await RE(AN(w,o.scrollHeight+d+u.clientTop),v),b=await RE(w,{...v,elementContext:"reference"}),E=Mi(0,x.top),C=w.y+E,A=(o.scrollHeight>o.clientHeight?P=>P:Am)(Mi(0,o.scrollHeight+(p&&y||f?d*2:0)-E-Mi(0,x.bottom)));if(o.style.maxHeight=A+"px",o.scrollTop=E,c){const P=o.offsetHeight<l.offsetHeight*ld(g,n.current.length)-1||b.top>=-r||b.bottom>=-r;vu.flushSync(()=>c(P))}return i&&(i.current=await RE(AN({...w,y:C},o.offsetHeight+d+u.clientTop),v)),{y:C}}});function R$e(t,e){const{open:n,elements:i}=t,{enabled:c=!0,overflowRef:m,scrollRef:s,onChange:g}=e,r=kX(g),a=H.useRef(!1),v=H.useRef(null),h=H.useRef(null);H.useEffect(()=>{if(!c)return;function l(d){if(d.ctrlKey||!o||m.current==null)return;const p=d.deltaY,f=m.current.top>=-.5,y=m.current.bottom>=-.5,w=o.scrollHeight-o.clientHeight,x=p<0?-1:1,b=p<0?"max":"min";o.scrollHeight<=o.clientHeight||(!f&&p>0||!y&&p<0?(d.preventDefault(),vu.flushSync(()=>{r(E=>E+Math[b](p,w*x))})):/firefox/i.test(xMe())&&(o.scrollTop+=p))}const o=s?.current||i.floating;if(n&&o)return o.addEventListener("wheel",l),requestAnimationFrame(()=>{v.current=o.scrollTop,m.current!=null&&(h.current={...m.current})}),()=>{v.current=null,h.current=null,o.removeEventListener("wheel",l)}},[c,n,i.floating,m,s,r]);const u=H.useMemo(()=>({onKeyDown(){a.current=!0},onWheel(){a.current=!1},onPointerMove(){a.current=!1},onScroll(){const l=s?.current||i.floating;if(!(!m.current||!l||!a.current)){if(v.current!==null){const o=l.scrollTop-v.current;(m.current.bottom<-.5&&o<-1||m.current.top<-.5&&o>1)&&vu.flushSync(()=>r(d=>d+o))}requestAnimationFrame(()=>{v.current=l.scrollTop})}}}),[i.floating,r,m,s]);return H.useMemo(()=>c?{floating:u}:{},[c,u])}let S0=H.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});S0.displayName="FloatingContext";let sA=H.createContext(null);sA.displayName="PlacementContext";function O$e(t){return H.useMemo(()=>t?typeof t=="string"?{to:t}:t:null,[t])}function M$e(){return H.useContext(S0).setReference}function $$e(){return H.useContext(S0).getReferenceProps}function F$e(){let{getFloatingProps:t,slot:e}=H.useContext(S0);return H.useCallback((...n)=>Object.assign({},t(...n),{"data-anchor":e.anchor}),[t,e])}function L$e(t=null){t===!1&&(t=null),typeof t=="string"&&(t={to:t});let e=H.useContext(sA),n=H.useMemo(()=>t,[JSON.stringify(t,(c,m)=>{var s;return(s=m?.outerHTML)!=null?s:m})]);Hn(()=>{e?.(n??null)},[e,n]);let i=H.useContext(S0);return H.useMemo(()=>[i.setFloating,t?i.styles:{}],[i.setFloating,t,i.styles])}let PN=4;function D$e({children:t,enabled:e=!0}){let[n,i]=H.useState(null),[c,m]=H.useState(0),s=H.useRef(null),[g,r]=H.useState(null);N$e(g);let a=e&&n!==null&&g!==null,{to:v="bottom",gap:h=0,offset:u=0,padding:l=0,inner:o}=k$e(n,g),[d,p="center"]=v.split(" ");Hn(()=>{a&&m(0)},[a]);let{refs:f,floatingStyles:y,context:w}=A$e({open:a,placement:d==="selection"?p==="center"?"bottom":`bottom-${p}`:p==="center"?`${d}`:`${d}-${p}`,strategy:"absolute",transform:!1,middleware:[DX({mainAxis:d==="selection"?0:h,crossAxis:u}),c$e({padding:l}),d!=="selection"&&h$e({padding:l}),d==="selection"&&o?I$e({...o,padding:l,overflowRef:s,offset:c,minItemsVisible:PN,referenceOverflowThreshold:l,onFallbackChange(P){var R,L;if(!P)return;let D=w.elements.floating;if(!D)return;let $=parseFloat(getComputedStyle(D).scrollPaddingBottom)||0,F=Math.min(PN,D.childElementCount),N=0,k=0;for(let j of(L=(R=w.elements.floating)==null?void 0:R.childNodes)!=null?L:[])if(ea(j)){let W=j.offsetTop,G=W+j.clientHeight+$,K=D.scrollTop,z=K+D.clientHeight;if(W>=K&&G<=z)F--;else{k=Math.max(0,Math.min(G,z)-Math.max(W,K)),N=j.clientHeight;break}}F>=1&&m(j=>{let W=N*F-k+$;return j>=W?j:W})}}):null,d$e({padding:l,apply({availableWidth:P,availableHeight:R,elements:L}){Object.assign(L.floating.style,{overflow:"auto",maxWidth:`${P}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${R}px)`})}})].filter(Boolean),whileElementsMounted:t$e}),[x=d,b=p]=w.placement.split("-");d==="selection"&&(x="selection");let E=H.useMemo(()=>({anchor:[x,b].filter(Boolean).join(" ")}),[x,b]),C=R$e(w,{overflowRef:s,onChange:m}),{getReferenceProps:T,getFloatingProps:S}=P$e([C]),A=Mt(P=>{r(P),f.setFloating(P)});return H.createElement(sA.Provider,{value:i},H.createElement(S0.Provider,{value:{setFloating:A,setReference:f.setReference,styles:y,getReferenceProps:T,getFloatingProps:S,slot:E}},t))}function N$e(t){Hn(()=>{if(!t)return;let e=new MutationObserver(()=>{let n=window.getComputedStyle(t).maxHeight,i=parseFloat(n);if(isNaN(i))return;let c=parseInt(n);isNaN(c)||i!==c&&(t.style.maxHeight=`${Math.ceil(i)}px`)});return e.observe(t,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[t])}function k$e(t,e){var n,i,c;let m=$E((n=t?.gap)!=null?n:"var(--anchor-gap, 0)",e),s=$E((i=t?.offset)!=null?i:"var(--anchor-offset, 0)",e),g=$E((c=t?.padding)!=null?c:"var(--anchor-padding, 0)",e);return{...t,gap:m,offset:s,padding:g}}function $E(t,e,n=void 0){let i=Od(),c=Mt((r,a)=>{if(r==null)return[n,null];if(typeof r=="number")return[r,null];if(typeof r=="string"){if(!a)return[n,null];let v=IN(r,a);return[v,h=>{let u=BX(r);{let l=u.map(o=>window.getComputedStyle(a).getPropertyValue(o));i.requestAnimationFrame(function o(){i.nextFrame(o);let d=!1;for(let[f,y]of u.entries()){let w=window.getComputedStyle(a).getPropertyValue(y);if(l[f]!==w){l[f]=w,d=!0;break}}if(!d)return;let p=IN(r,a);v!==p&&(h(p),v=p)})}return i.dispose}]}return[n,null]}),m=H.useMemo(()=>c(t,e)[0],[t,e]),[s=m,g]=H.useState();return Hn(()=>{let[r,a]=c(t,e);if(g(r),!!a)return a(g)},[t,e]),s}function BX(t){let e=/var\((.*)\)/.exec(t);if(e){let n=e[1].indexOf(",");if(n===-1)return[e[1]];let i=e[1].slice(0,n).trim(),c=e[1].slice(n+1).trim();return c?[i,...BX(c)]:[i]}return[]}function IN(t,e){let n=document.createElement("div");e.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",t,"important");let i=parseFloat(window.getComputedStyle(n).marginTop)||0;return e.removeChild(n),i}let G3=H.createContext(null);G3.displayName="OpenClosedContext";var Wi=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Wi||{});function x1(){return H.useContext(G3)}function UX({value:t,children:e}){return Ze.createElement(G3.Provider,{value:t},e)}function B$e({children:t}){return Ze.createElement(G3.Provider,{value:null},t)}function U$e(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let pc=[];U$e(()=>{function t(e){if(!ol(e.target)||e.target===document.body||pc[0]===e.target)return;let n=e.target;n=n.closest(ix),pc.unshift(n??e.target),pc=pc.filter(i=>i!=null&&i.isConnected),pc.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function j$e(t){throw new Error("Unexpected object: "+t)}var Pr=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(Pr||{});function x2(t,e){let n=e.resolveItems();if(n.length<=0)return null;let i=e.resolveActiveIndex(),c=i??-1;switch(t.focus){case 0:{for(let m=0;m<n.length;++m)if(!e.resolveDisabled(n[m],m,n))return m;return i}case 1:{c===-1&&(c=n.length);for(let m=c-1;m>=0;--m)if(!e.resolveDisabled(n[m],m,n))return m;return i}case 2:{for(let m=c+1;m<n.length;++m)if(!e.resolveDisabled(n[m],m,n))return m;return i}case 3:{for(let m=n.length-1;m>=0;--m)if(!e.resolveDisabled(n[m],m,n))return m;return i}case 4:{for(let m=0;m<n.length;++m)if(e.resolveId(n[m],m,n)===t.id)return m;return i}case 5:return null;default:j$e(t)}}function aA(t){let e=Mt(t),n=H.useRef(!1);H.useEffect(()=>(n.current=!1,()=>{n.current=!0,D3(()=>{n.current&&e()})}),[e])}let jX=H.createContext(!1);function z$e(){return H.useContext(jX)}function RN(t){return Ze.createElement(jX.Provider,{value:t.force},t.children)}function W$e(t){let e=z$e(),n=H.useContext(WX),[i,c]=H.useState(()=>{var m;if(!e&&n!==null)return(m=n.current)!=null?m:null;if(dl.isServer)return null;let s=t?.getElementById("headlessui-portal-root");if(s)return s;if(t===null)return null;let g=t.createElement("div");return g.setAttribute("id","headlessui-portal-root"),t.body.appendChild(g)});return H.useEffect(()=>{i!==null&&(t!=null&&t.body.contains(i)||t==null||t.body.appendChild(i))},[i,t]),H.useEffect(()=>{e||n!==null&&c(n.current)},[n,c,e]),i}let zX=H.Fragment,G$e=ur(function(t,e){let{ownerDocument:n=null,...i}=t,c=H.useRef(null),m=Zi(pOe(u=>{c.current=u}),e),s=Sm(c.current),g=n??s,r=W$e(g),a=H.useContext(KS),v=Od(),h=Rr();return aA(()=>{var u;r&&r.childNodes.length<=0&&((u=r.parentElement)==null||u.removeChild(r))}),r?vu.createPortal(Ze.createElement("div",{"data-headlessui-portal":"",ref:u=>{v.dispose(),a&&u&&v.add(a.register(u))}},h({ourProps:{ref:m},theirProps:i,slot:{},defaultTag:zX,name:"Portal"})),r):null});function V$e(t,e){let n=Zi(e),{enabled:i=!0,ownerDocument:c,...m}=t,s=Rr();return i?Ze.createElement(G$e,{...m,ownerDocument:c,ref:n}):s({ourProps:{ref:n},theirProps:m,slot:{},defaultTag:zX,name:"Portal"})}let H$e=H.Fragment,WX=H.createContext(null);function Y$e(t,e){let{target:n,...i}=t,c={ref:Zi(e)},m=Rr();return Ze.createElement(WX.Provider,{value:n},m({ourProps:c,theirProps:i,defaultTag:H$e,name:"Popover.Group"}))}let KS=H.createContext(null);function X$e(){let t=H.useContext(KS),e=H.useRef([]),n=Mt(m=>(e.current.push(m),t&&t.register(m),()=>i(m))),i=Mt(m=>{let s=e.current.indexOf(m);s!==-1&&e.current.splice(s,1),t&&t.unregister(m)}),c=H.useMemo(()=>({register:n,unregister:i,portals:e}),[n,i,e]);return[e,H.useMemo(()=>function({children:m}){return Ze.createElement(KS.Provider,{value:c},m)},[c])]}let K$e=ur(V$e),GX=ur(Y$e),VX=Object.assign(K$e,{Group:GX});const iw={Idle:{kind:"Idle"},Tracked:t=>({kind:"Tracked",position:t}),Moved:{kind:"Moved"}};function HX(t){let e=t.getBoundingClientRect();return`${e.x},${e.y}`}function Z$e(t,e,n){let i=Ts();if(e.kind==="Tracked"){let c=function(){m!==HX(t)&&(i.dispose(),n())},{position:m}=e,s=new ResizeObserver(c);s.observe(t),i.add(()=>s.disconnect()),i.addEventListener(window,"scroll",c,{passive:!0}),i.addEventListener(window,"resize",c)}return()=>i.dispose()}function J$e(t,e=typeof document<"u"?document.defaultView:null,n){let i=m1(t,"escape");wX(e,"keydown",c=>{i&&(c.defaultPrevented||c.key===ei.Escape&&n(c))})}function _$e(){var t;let[e]=H.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,i]=H.useState((t=e?.matches)!=null?t:!1);return Hn(()=>{if(!e)return;function c(m){i(m.matches)}return e.addEventListener("change",c),()=>e.removeEventListener("change",c)},[e]),n}function Q$e({defaultContainers:t=[],portals:e,mainTreeNode:n}={}){let i=Mt(()=>{var c,m;let s=Rd(n),g=[];for(let r of t)r!==null&&(uu(r)?g.push(r):"current"in r&&uu(r.current)&&g.push(r.current));if(e!=null&&e.current)for(let r of e.current)g.push(r);for(let r of(c=s?.querySelectorAll("html > *, body > *"))!=null?c:[])r!==document.body&&r!==document.head&&uu(r)&&r.id!=="headlessui-portal-root"&&(n&&(r.contains(n)||r.contains((m=n?.getRootNode())==null?void 0:m.host))||g.some(a=>r.contains(a))||g.push(r));return g});return{resolveContainers:i,contains:Mt(c=>i().some(m=>m.contains(c)))}}let YX=H.createContext(null);function ON({children:t,node:e}){let[n,i]=H.useState(null),c=XX(e??n);return Ze.createElement(YX.Provider,{value:c},t,c===null&&Ze.createElement(WS,{features:rx.Hidden,ref:m=>{var s,g;if(m){for(let r of(g=(s=Rd(m))==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?g:[])if(r!==document.body&&r!==document.head&&uu(r)&&r!=null&&r.contains(m)){i(r);break}}}}))}function XX(t=null){var e;return(e=H.useContext(YX))!=null?e:t}function q$e(){let t=typeof document>"u";return"useSyncExternalStore"in R8?(e=>e.useSyncExternalStore)(R8)(()=>()=>{},()=>!1,()=>!t):!1}function V3(){let t=q$e(),[e,n]=H.useState(dl.isHandoffComplete);return e&&dl.isHandoffComplete===!1&&n(!1),H.useEffect(()=>{e!==!0&&n(!0)},[e]),H.useEffect(()=>dl.handoff(),[]),t?!1:e}function oA(){let t=H.useRef(!1);return Hn(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var Kv=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Kv||{});function eFe(){let t=H.useRef(0);return mX(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function KX(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)uu(n.current)&&e.add(n.current);return e}let tFe="div";var Eh=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(Eh||{});function nFe(t,e){let n=H.useRef(null),i=Zi(n,e),{initialFocus:c,initialFocusFallback:m,containers:s,features:g=15,...r}=t;V3()||(g=0);let a=Sm(n.current);aFe(g,{ownerDocument:a});let v=oFe(g,{ownerDocument:a,container:n,initialFocus:c,initialFocusFallback:m});lFe(g,{ownerDocument:a,container:n,containers:s,previousActiveElement:v});let h=eFe(),u=Mt(y=>{if(!ea(n.current))return;let w=n.current;(x=>x())(()=>{Eo(h.current,{[Kv.Forwards]:()=>{Sp(w,ao.First,{skipElements:[y.relatedTarget,m]})},[Kv.Backwards]:()=>{Sp(w,ao.Last,{skipElements:[y.relatedTarget,m]})}})})}),l=m1(!!(g&2),"focus-trap#tab-lock"),o=Od(),d=H.useRef(!1),p={ref:i,onKeyDown(y){y.key=="Tab"&&(d.current=!0,o.requestAnimationFrame(()=>{d.current=!1}))},onBlur(y){if(!(g&4))return;let w=KX(s);ea(n.current)&&w.add(n.current);let x=y.relatedTarget;ol(x)&&x.dataset.headlessuiFocusGuard!=="true"&&(ZX(w,x)||(d.current?Sp(n.current,Eo(h.current,{[Kv.Forwards]:()=>ao.Next,[Kv.Backwards]:()=>ao.Previous})|ao.WrapAround,{relativeTo:y.target}):ol(y.target)&&fl(y.target)))}},f=Rr();return Ze.createElement(Ze.Fragment,null,l&&Ze.createElement(WS,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:u,features:rx.Focusable}),f({ourProps:p,theirProps:r,defaultTag:tFe,name:"FocusTrap"}),l&&Ze.createElement(WS,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:u,features:rx.Focusable}))}let rFe=ur(nFe),iFe=Object.assign(rFe,{features:Eh});function sFe(t=!0){let e=H.useRef(pc.slice());return tA(([n],[i])=>{i===!0&&n===!1&&D3(()=>{e.current.splice(0)}),i===!1&&n===!0&&(e.current=pc.slice())},[t,pc,e]),Mt(()=>{var n;return(n=e.current.find(i=>i!=null&&i.isConnected))!=null?n:null})}function aFe(t,{ownerDocument:e}){let n=!!(t&8),i=sFe(n);tA(()=>{n||XY(e?.body)&&fl(i())},[n]),aA(()=>{n&&fl(i())})}function oFe(t,{ownerDocument:e,container:n,initialFocus:i,initialFocusFallback:c}){let m=H.useRef(null),s=m1(!!(t&1),"focus-trap#initial-focus"),g=oA();return tA(()=>{if(t===0)return;if(!s){c!=null&&c.current&&fl(c.current);return}let r=n.current;r&&D3(()=>{if(!g.current)return;let a=e?.activeElement;if(i!=null&&i.current){if(i?.current===a){m.current=a;return}}else if(r.contains(a)){m.current=a;return}if(i!=null&&i.current)fl(i.current);else{if(t&16){if(Sp(r,ao.First|ao.AutoFocus)!==VS.Error)return}else if(Sp(r,ao.First)!==VS.Error)return;if(c!=null&&c.current&&(fl(c.current),e?.activeElement===c.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}m.current=e?.activeElement})},[c,s,t]),m}function lFe(t,{ownerDocument:e,container:n,containers:i,previousActiveElement:c}){let m=oA(),s=!!(t&4);wX(e?.defaultView,"focus",g=>{if(!s||!m.current)return;let r=KX(i);ea(n.current)&&r.add(n.current);let a=c.current;if(!a)return;let v=g.target;ea(v)?ZX(r,v)?(c.current=v,fl(v)):(g.preventDefault(),g.stopPropagation(),fl(a)):fl(c.current)},!0)}function ZX(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function JX(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||!dg((e=t.as)!=null?e:QX)||Ze.Children.count(t.children)===1}let H3=H.createContext(null);H3.displayName="TransitionContext";var uFe=(t=>(t.Visible="visible",t.Hidden="hidden",t))(uFe||{});function cFe(){let t=H.useContext(H3);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function hFe(){let t=H.useContext(Y3);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let Y3=H.createContext(null);Y3.displayName="NestingContext";function X3(t){return"children"in t?X3(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function _X(t,e){let n=Md(t),i=H.useRef([]),c=oA(),m=Od(),s=Mt((l,o=yc.Hidden)=>{let d=i.current.findIndex(({el:p})=>p===l);d!==-1&&(Eo(o,{[yc.Unmount](){i.current.splice(d,1)},[yc.Hidden](){i.current[d].state="hidden"}}),m.microTask(()=>{var p;!X3(i)&&c.current&&((p=n.current)==null||p.call(n))}))}),g=Mt(l=>{let o=i.current.find(({el:d})=>d===l);return o?o.state!=="visible"&&(o.state="visible"):i.current.push({el:l,state:"visible"}),()=>s(l,yc.Unmount)}),r=H.useRef([]),a=H.useRef(Promise.resolve()),v=H.useRef({enter:[],leave:[]}),h=Mt((l,o,d)=>{r.current.splice(0),e&&(e.chains.current[o]=e.chains.current[o].filter(([p])=>p!==l)),e?.chains.current[o].push([l,new Promise(p=>{r.current.push(p)})]),e?.chains.current[o].push([l,new Promise(p=>{Promise.all(v.current[o].map(([f,y])=>y)).then(()=>p())})]),o==="enter"?a.current=a.current.then(()=>e?.wait.current).then(()=>d(o)):d(o)}),u=Mt((l,o,d)=>{Promise.all(v.current[o].splice(0).map(([p,f])=>f)).then(()=>{var p;(p=r.current.shift())==null||p()}).then(()=>d(o))});return H.useMemo(()=>({children:i,register:g,unregister:s,onStart:h,onStop:u,wait:a,chains:v}),[g,s,i,h,u,v,a])}let QX=H.Fragment,qX=Jp.RenderStrategy;function dFe(t,e){var n,i;let{transition:c=!0,beforeEnter:m,afterEnter:s,beforeLeave:g,afterLeave:r,enter:a,enterFrom:v,enterTo:h,entered:u,leave:l,leaveFrom:o,leaveTo:d,...p}=t,[f,y]=H.useState(null),w=H.useRef(null),x=JX(t),b=Zi(...x?[w,e,y]:e===null?[]:[e]),E=(n=p.unmount)==null||n?yc.Unmount:yc.Hidden,{show:C,appear:T,initial:S}=cFe(),[A,P]=H.useState(C?"visible":"hidden"),R=hFe(),{register:L,unregister:D}=R;Hn(()=>L(w),[L,w]),Hn(()=>{if(E===yc.Hidden&&w.current){if(C&&A!=="visible"){P("visible");return}return Eo(A,{hidden:()=>D(w),visible:()=>L(w)})}},[A,w,L,D,C,E]);let $=V3();Hn(()=>{if(x&&$&&A==="visible"&&w.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[w,A,$,x]);let F=S&&!T,N=T&&C&&S,k=H.useRef(!1),j=_X(()=>{k.current||(P("hidden"),D(w))},R),W=Mt(V=>{k.current=!0;let J=V?"enter":"leave";j.onStart(w,J,Q=>{Q==="enter"?m?.():Q==="leave"&&g?.()})}),G=Mt(V=>{let J=V?"enter":"leave";k.current=!1,j.onStop(w,J,Q=>{Q==="enter"?s?.():Q==="leave"&&r?.()}),J==="leave"&&!X3(j)&&(P("hidden"),D(w))});H.useEffect(()=>{x&&c||(W(C),G(C))},[C,x,c]);let K=!(!c||!x||!$||F),[,z]=EX(K,f,C,{start:W,end:G}),X=mh({ref:b,className:((i=zS(p.className,N&&a,N&&v,z.enter&&a,z.enter&&z.closed&&v,z.enter&&!z.closed&&h,z.leave&&l,z.leave&&!z.closed&&o,z.leave&&z.closed&&d,!z.transition&&C&&u))==null?void 0:i.trim())||void 0,...bX(z)}),U=0;A==="visible"&&(U|=Wi.Open),A==="hidden"&&(U|=Wi.Closed),C&&A==="hidden"&&(U|=Wi.Opening),!C&&A==="visible"&&(U|=Wi.Closing);let Z=Rr();return Ze.createElement(Y3.Provider,{value:j},Ze.createElement(UX,{value:U},Z({ourProps:X,theirProps:p,defaultTag:QX,features:qX,visible:A==="visible",name:"Transition.Child"})))}function fFe(t,e){let{show:n,appear:i=!1,unmount:c=!0,...m}=t,s=H.useRef(null),g=JX(t),r=Zi(...g?[s,e]:e===null?[]:[e]);V3();let a=x1();if(n===void 0&&a!==null&&(n=(a&Wi.Open)===Wi.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[v,h]=H.useState(n?"visible":"hidden"),u=_X(()=>{n||h("hidden")}),[l,o]=H.useState(!0),d=H.useRef([n]);Hn(()=>{l!==!1&&d.current[d.current.length-1]!==n&&(d.current.push(n),o(!1))},[d,n]);let p=H.useMemo(()=>({show:n,appear:i,initial:l}),[n,i,l]);Hn(()=>{n?h("visible"):!X3(u)&&s.current!==null&&h("hidden")},[n,u]);let f={unmount:c},y=Mt(()=>{var b;l&&o(!1),(b=t.beforeEnter)==null||b.call(t)}),w=Mt(()=>{var b;l&&o(!1),(b=t.beforeLeave)==null||b.call(t)}),x=Rr();return Ze.createElement(Y3.Provider,{value:u},Ze.createElement(H3.Provider,{value:p},x({ourProps:{...f,as:H.Fragment,children:Ze.createElement(eK,{ref:r,...f,...m,beforeEnter:y,beforeLeave:w})},theirProps:{},defaultTag:H.Fragment,features:qX,visible:v==="visible",name:"Transition"})))}function pFe(t,e){let n=H.useContext(H3)!==null,i=x1()!==null;return Ze.createElement(Ze.Fragment,null,!n&&i?Ze.createElement(ZS,{ref:e,...t}):Ze.createElement(eK,{ref:e,...t}))}let ZS=ur(fFe),eK=ur(dFe),Pm=ur(pFe),tK=Object.assign(ZS,{Child:Pm,Root:ZS});var vFe=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(vFe||{}),gFe=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(gFe||{});let mFe={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},lA=H.createContext(null);lA.displayName="DialogContext";function K3(t){let e=H.useContext(lA);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,K3),n}return e}function yFe(t,e){return Eo(e.type,mFe,t,e)}let MN=ur(function(t,e){let n=H.useId(),{id:i=`headlessui-dialog-${n}`,open:c,onClose:m,initialFocus:s,role:g="dialog",autoFocus:r=!0,__demoMode:a=!1,unmount:v=!1,...h}=t,u=H.useRef(!1);g=(function(){return g==="dialog"||g==="alertdialog"?g:(u.current||(u.current=!0,console.warn(`Invalid role [${g}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let l=x1();c===void 0&&l!==null&&(c=(l&Wi.Open)===Wi.Open);let o=H.useRef(null),d=Zi(o,e),p=Sm(o.current),f=c?0:1,[y,w]=H.useReducer(yFe,{titleId:null,descriptionId:null,panelRef:H.createRef()}),x=Mt(()=>m(!1)),b=Mt(z=>w({type:0,id:z})),E=V3()?f===0:!1,[C,T]=X$e(),S={get current(){var z;return(z=y.panelRef.current)!=null?z:o.current}},A=XX(),{resolveContainers:P}=Q$e({mainTreeNode:A,portals:C,defaultContainers:[S]}),R=l!==null?(l&Wi.Closing)===Wi.Closing:!1;hX(a||R?!1:E,{allowed:Mt(()=>{var z,X;return[(X=(z=o.current)==null?void 0:z.closest("[data-headlessui-portal]"))!=null?X:null]}),disallowed:Mt(()=>{var z;return[(z=A?.closest("body > *:not(#headlessui-portal-root)"))!=null?z:null]})});let L=k3.get(null);Hn(()=>{if(E)return L.actions.push(i),()=>L.actions.pop(i)},[L,i,E]);let D=Ea(L,H.useCallback(z=>L.selectors.isTop(z,i),[L,i]));yX(D,P,z=>{z.preventDefault(),x()}),J$e(D,p?.defaultView,z=>{z.preventDefault(),z.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),x()}),xX(a||R?!1:E,p,P),dX(E,o,x);let[$,F]=nX(),N=H.useMemo(()=>[{dialogState:f,close:x,setTitleId:b,unmount:v},y],[f,x,b,v,y]),k=El({open:f===0}),j={ref:d,id:i,role:g,tabIndex:-1,"aria-modal":a?void 0:f===0?!0:void 0,"aria-labelledby":y.titleId,"aria-describedby":$,unmount:v},W=!_$e(),G=Eh.None;E&&!a&&(G|=Eh.RestoreFocus,G|=Eh.TabLock,r&&(G|=Eh.AutoFocus),W&&(G|=Eh.InitialFocus));let K=Rr();return Ze.createElement(B$e,null,Ze.createElement(RN,{force:!0},Ze.createElement(VX,null,Ze.createElement(lA.Provider,{value:N},Ze.createElement(GX,{target:o},Ze.createElement(RN,{force:!1},Ze.createElement(F,{slot:k},Ze.createElement(T,null,Ze.createElement(iFe,{initialFocus:s,initialFocusFallback:o,containers:P,features:G},Ze.createElement(SOe,{value:x},K({ourProps:j,theirProps:h,slot:k,defaultTag:wFe,features:xFe,visible:f===0,name:"Dialog"})))))))))))}),wFe="div",xFe=Jp.RenderStrategy|Jp.Static;function bFe(t,e){let{transition:n=!1,open:i,...c}=t,m=x1(),s=t.hasOwnProperty("open")||m!==null,g=t.hasOwnProperty("onClose");if(!s&&!g)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!s)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!g)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!m&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(i!==void 0||n)&&!c.static?Ze.createElement(ON,null,Ze.createElement(tK,{show:i,transition:n,unmount:c.unmount},Ze.createElement(MN,{ref:e,...c}))):Ze.createElement(ON,null,Ze.createElement(MN,{ref:e,open:i,...c}))}let EFe="div";function CFe(t,e){let n=H.useId(),{id:i=`headlessui-dialog-panel-${n}`,transition:c=!1,...m}=t,[{dialogState:s,unmount:g},r]=K3("Dialog.Panel"),a=Zi(e,r.panelRef),v=El({open:s===0}),h=Mt(p=>{p.stopPropagation()}),u={ref:a,id:i,onClick:h},l=c?Pm:H.Fragment,o=c?{unmount:g}:{},d=Rr();return Ze.createElement(l,{...o},d({ourProps:u,theirProps:m,slot:v,defaultTag:EFe,name:"Dialog.Panel"}))}let SFe="div";function TFe(t,e){let{transition:n=!1,...i}=t,[{dialogState:c,unmount:m}]=K3("Dialog.Backdrop"),s=El({open:c===0}),g={ref:e,"aria-hidden":!0},r=n?Pm:H.Fragment,a=n?{unmount:m}:{},v=Rr();return Ze.createElement(r,{...a},v({ourProps:g,theirProps:i,slot:s,defaultTag:SFe,name:"Dialog.Backdrop"}))}let AFe="h2";function PFe(t,e){let n=H.useId(),{id:i=`headlessui-dialog-title-${n}`,...c}=t,[{dialogState:m,setTitleId:s}]=K3("Dialog.Title"),g=Zi(e);H.useEffect(()=>(s(i),()=>s(null)),[i,s]);let r=El({open:m===0}),a={ref:g,id:i};return Rr()({ourProps:a,theirProps:c,slot:r,defaultTag:AFe,name:"Dialog.Title"})}let IFe=ur(bFe),nK=ur(CFe);ur(TFe);let RFe=ur(PFe),OFe=Object.assign(IFe,{Panel:nK,Title:RFe,Description:yOe}),$N=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function FN(t){var e,n;let i=(e=t.innerText)!=null?e:"",c=t.cloneNode(!0);if(!ea(c))return i;let m=!1;for(let g of c.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))g.remove(),m=!0;let s=m?(n=c.innerText)!=null?n:"":i;return $N.test(s)&&(s=s.replace($N,"")),s}function MFe(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let n=t.getAttribute("aria-labelledby");if(n){let i=n.split(" ").map(c=>{let m=document.getElementById(c);if(m){let s=m.getAttribute("aria-label");return typeof s=="string"?s.trim():FN(m).trim()}return null}).filter(Boolean);if(i.length>0)return i.join(", ")}return FN(t).trim()}function $Fe(t){let e=H.useRef(""),n=H.useRef("");return Mt(()=>{let i=t.current;if(!i)return"";let c=i.innerText;if(e.current===c)return n.current;let m=MFe(i).trim().toLowerCase();return e.current=c,n.current=m,m})}var FFe=Object.defineProperty,LFe=(t,e,n)=>e in t?FFe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,LN=(t,e,n)=>(LFe(t,typeof e!="symbol"?e+"":e,n),n),Oi=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Oi||{}),lx=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(lx||{}),Rn=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItems=5]="RegisterItems",t[t.UnregisterItems=6]="UnregisterItems",t[t.SetButtonElement=7]="SetButtonElement",t[t.SetItemsElement=8]="SetItemsElement",t[t.SortItems=9]="SortItems",t[t.MarkButtonAsMoved=10]="MarkButtonAsMoved",t))(Rn||{});function DN(t,e=n=>n){let n=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,i=vX(e(t.items.slice()),m=>m.dataRef.current.domRef.current),c=n?i.indexOf(n):null;return c===-1&&(c=null),{items:i,activeItemIndex:c}}let DFe={1(t){if(t.menuState===1)return t;let e=t.buttonElement?iw.Tracked(HX(t.buttonElement)):t.buttonPositionState;return{...t,activeItemIndex:null,pendingFocus:{focus:Pr.Nothing},menuState:1,buttonPositionState:e}},0(t,e){return t.menuState===0?t:{...t,__demoMode:!1,pendingFocus:e.focus,menuState:0,buttonPositionState:iw.Idle}},2:(t,e)=>{var n,i,c,m,s;if(t.menuState===1)return t;let g={...t,searchQuery:"",activationTrigger:(n=e.trigger)!=null?n:1,__demoMode:!1};if(e.focus===Pr.Nothing)return{...g,activeItemIndex:null};if(e.focus===Pr.Specific)return{...g,activeItemIndex:t.items.findIndex(v=>v.id===e.id)};if(e.focus===Pr.Previous){let v=t.activeItemIndex;if(v!==null){let h=t.items[v].dataRef.current.domRef,u=x2(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:l=>l.id,resolveDisabled:l=>l.dataRef.current.disabled});if(u!==null){let l=t.items[u].dataRef.current.domRef;if(((i=h.current)==null?void 0:i.previousElementSibling)===l.current||((c=l.current)==null?void 0:c.previousElementSibling)===null)return{...g,activeItemIndex:u}}}}else if(e.focus===Pr.Next){let v=t.activeItemIndex;if(v!==null){let h=t.items[v].dataRef.current.domRef,u=x2(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:l=>l.id,resolveDisabled:l=>l.dataRef.current.disabled});if(u!==null){let l=t.items[u].dataRef.current.domRef;if(((m=h.current)==null?void 0:m.nextElementSibling)===l.current||((s=l.current)==null?void 0:s.nextElementSibling)===null)return{...g,activeItemIndex:u}}}}let r=DN(t),a=x2(e,{resolveItems:()=>r.items,resolveActiveIndex:()=>r.activeItemIndex,resolveId:v=>v.id,resolveDisabled:v=>v.dataRef.current.disabled});return{...g,...r,activeItemIndex:a}},3:(t,e)=>{let n=t.searchQuery!==""?0:1,i=t.searchQuery+e.value.toLowerCase(),c=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+n).concat(t.items.slice(0,t.activeItemIndex+n)):t.items).find(s=>{var g;return((g=s.dataRef.current.textValue)==null?void 0:g.startsWith(i))&&!s.dataRef.current.disabled}),m=c?t.items.indexOf(c):-1;return m===-1||m===t.activeItemIndex?{...t,searchQuery:i}:{...t,searchQuery:i,activeItemIndex:m,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let n=t.items.concat(e.items.map(c=>c)),i=t.activeItemIndex;return t.pendingFocus.focus!==Pr.Nothing&&(i=x2(t.pendingFocus,{resolveItems:()=>n,resolveActiveIndex:()=>t.activeItemIndex,resolveId:c=>c.id,resolveDisabled:c=>c.dataRef.current.disabled})),{...t,items:n,activeItemIndex:i,pendingFocus:{focus:Pr.Nothing},pendingShouldSort:!0}},6:(t,e)=>{let n=t.items,i=[],c=new Set(e.items);for(let[m,s]of n.entries())if(c.has(s.id)&&(i.push(m),c.delete(s.id),c.size===0))break;if(i.length>0){n=n.slice();for(let m of i.reverse())n.splice(m,1)}return{...t,items:n,activationTrigger:1}},7:(t,e)=>t.buttonElement===e.element?t:{...t,buttonElement:e.element},8:(t,e)=>t.itemsElement===e.element?t:{...t,itemsElement:e.element},9:t=>t.pendingShouldSort?{...t,...DN(t),pendingShouldSort:!1}:t,10(t){return t.buttonPositionState.kind!=="Tracked"?t:{...t,buttonPositionState:iw.Moved}}},NFe=class rK extends oX{constructor(e){super(e),LN(this,"actions",{registerItem:eN(()=>{let n=[],i=new Set;return[(c,m)=>{i.has(m)||(i.add(m),n.push({id:c,dataRef:m}))},()=>(i.clear(),this.send({type:5,items:n.splice(0)}))]}),unregisterItem:eN(()=>{let n=[];return[i=>n.push(i),()=>this.send({type:6,items:n.splice(0)})]})}),LN(this,"selectors",{activeDescendantId(n){var i;let c=n.activeItemIndex,m=n.items;return c===null||(i=m[c])==null?void 0:i.id},isActive(n,i){var c;let m=n.activeItemIndex,s=n.items;return m!==null?((c=s[m])==null?void 0:c.id)===i:!1},shouldScrollIntoView(n,i){return n.__demoMode||n.menuState!==0||n.activationTrigger===0?!1:this.isActive(n,i)},didButtonMove(n){return n.buttonPositionState.kind==="Moved"}}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let n=this.state.id,i=k3.get(null);this.disposables.add(i.on(uX.Push,c=>{!i.selectors.isTop(c,n)&&this.state.menuState===0&&this.send({type:1})})),this.on(0,()=>i.actions.push(n)),this.on(1,()=>i.actions.pop(n))}this.disposables.group(n=>{this.on(1,i=>{i.buttonElement&&(n.dispose(),n.add(Z$e(i.buttonElement,i.buttonPositionState,()=>{this.send({type:10})})))})})}static new({id:e,__demoMode:n=!1}){return new rK({id:e,__demoMode:n,menuState:n?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:Pr.Nothing},buttonPositionState:iw.Idle})}reduce(e,n){return Eo(n.type,DFe,e,n)}};const iK=H.createContext(null);function uA(t){let e=H.useContext(iK);if(e===null){let n=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,sK),n}return e}function sK({id:t,__demoMode:e=!1}){let n=H.useMemo(()=>NFe.new({id:t,__demoMode:e}),[]);return aA(()=>n.dispose()),n}let kFe=H.Fragment;function BFe(t,e){let n=H.useId(),{__demoMode:i=!1,...c}=t,m=sK({id:n,__demoMode:i}),[s,g,r]=Ea(m,p=>[p.menuState,p.itemsElement,p.buttonElement]),a=Zi(e),v=k3.get(null),h=Ea(v,H.useCallback(p=>v.selectors.isTop(p,n),[v,n]));yX(h,[r,g],(p,f)=>{var y;m.send({type:Rn.CloseMenu}),eA(f,q7.Loose)||(p.preventDefault(),(y=m.state.buttonElement)==null||y.focus())});let u=Mt(()=>{m.send({type:Rn.CloseMenu})}),l=El({open:s===Oi.Open,close:u}),o={ref:a},d=Rr();return Ze.createElement(D$e,null,Ze.createElement(iK.Provider,{value:m},Ze.createElement(UX,{value:Eo(s,{[Oi.Open]:Wi.Open,[Oi.Closed]:Wi.Closed})},d({ourProps:o,theirProps:c,slot:l,defaultTag:kFe,name:"Menu"}))))}let UFe="button";function jFe(t,e){let n=uA("Menu.Button"),i=H.useId(),{id:c=`headlessui-menu-button-${i}`,disabled:m=!1,autoFocus:s=!1,...g}=t,r=H.useRef(null),a=$$e(),v=Zi(e,r,M$e(),Mt(A=>n.send({type:Rn.SetButtonElement,element:A}))),h=Mt(A=>{switch(A.key){case ei.Space:case ei.Enter:case ei.ArrowDown:A.preventDefault(),A.stopPropagation(),n.send({type:Rn.OpenMenu,focus:{focus:Pr.First}});break;case ei.ArrowUp:A.preventDefault(),A.stopPropagation(),n.send({type:Rn.OpenMenu,focus:{focus:Pr.Last}});break}}),u=Mt(A=>{switch(A.key){case ei.Space:A.preventDefault();break}}),[l,o,d]=Ea(n,A=>[A.menuState,A.buttonElement,A.itemsElement]),p=l===Oi.Open;KOe(p,{trigger:o,action:H.useCallback(A=>{if(o!=null&&o.contains(A.target))return y2.Ignore;let P=A.target.closest('[role="menuitem"]:not([data-disabled])');return ea(P)?y2.Select(P):d!=null&&d.contains(A.target)?y2.Ignore:y2.Close},[o,d]),close:H.useCallback(()=>n.send({type:Rn.CloseMenu}),[]),select:H.useCallback(A=>A.click(),[])});let f=AOe(A=>{var P;m||(l===Oi.Open?(vu.flushSync(()=>n.send({type:Rn.CloseMenu})),(P=r.current)==null||P.focus({preventScroll:!0})):(A.preventDefault(),n.send({type:Rn.OpenMenu,focus:{focus:Pr.Nothing},trigger:lx.Pointer})))}),{isFocusVisible:y,focusProps:w}=YRe({autoFocus:s}),{isHovered:x,hoverProps:b}=HRe({isDisabled:m}),{pressed:E,pressProps:C}=QRe({disabled:m}),T=El({open:l===Oi.Open,active:E||l===Oi.Open,disabled:m,hover:x,focus:y,autofocus:s}),S=JY(a(),{ref:v,id:c,type:ZOe(t,r.current),"aria-haspopup":"menu","aria-controls":d?.id,"aria-expanded":l===Oi.Open,disabled:m||void 0,autoFocus:s,onKeyDown:h,onKeyUp:u},f,w,b,C);return Rr()({ourProps:S,theirProps:g,slot:T,defaultTag:UFe,name:"Menu.Button"})}let zFe="div",WFe=Jp.RenderStrategy|Jp.Static;function GFe(t,e){let n=H.useId(),{id:i=`headlessui-menu-items-${n}`,anchor:c,portal:m=!1,modal:s=!0,transition:g=!1,...r}=t,a=O$e(c),v=uA("Menu.Items"),[h,u]=L$e(a),l=F$e(),[o,d]=H.useState(null),p=Zi(e,a?h:null,Mt(k=>v.send({type:Rn.SetItemsElement,element:k})),d),[f,y]=Ea(v,k=>[k.menuState,k.buttonElement]),w=Sm(y),x=Sm(o);a&&(m=!0);let b=x1(),[E,C]=EX(g,o,b!==null?(b&Wi.Open)===Wi.Open:f===Oi.Open);dX(E,y,()=>{v.send({type:Rn.CloseMenu})});let T=Ea(v,k=>k.__demoMode),S=T?!1:s&&f===Oi.Open;xX(S,x);let A=T?!1:s&&f===Oi.Open;hX(A,{allowed:H.useCallback(()=>[y,o],[y,o])});let P=Ea(v,v.selectors.didButtonMove)?!1:E;H.useEffect(()=>{let k=o;k&&f===Oi.Open&&(XY(k)||k.focus({preventScroll:!0}))},[f,o]),cMe(f===Oi.Open,{container:o,accept(k){return k.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:k.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(k){k.setAttribute("role","none")}});let R=Od(),L=Mt(k=>{var j,W,G;switch(R.dispose(),k.key){case ei.Space:if(v.state.searchQuery!=="")return k.preventDefault(),k.stopPropagation(),v.send({type:Rn.Search,value:k.key});case ei.Enter:if(k.preventDefault(),k.stopPropagation(),v.state.activeItemIndex!==null){let{dataRef:K}=v.state.items[v.state.activeItemIndex];(W=(j=K.current)==null?void 0:j.domRef.current)==null||W.click()}v.send({type:Rn.CloseMenu}),pX(v.state.buttonElement);break;case ei.ArrowDown:return k.preventDefault(),k.stopPropagation(),v.send({type:Rn.GoToItem,focus:Pr.Next});case ei.ArrowUp:return k.preventDefault(),k.stopPropagation(),v.send({type:Rn.GoToItem,focus:Pr.Previous});case ei.Home:case ei.PageUp:return k.preventDefault(),k.stopPropagation(),v.send({type:Rn.GoToItem,focus:Pr.First});case ei.End:case ei.PageDown:return k.preventDefault(),k.stopPropagation(),v.send({type:Rn.GoToItem,focus:Pr.Last});case ei.Escape:k.preventDefault(),k.stopPropagation(),vu.flushSync(()=>v.send({type:Rn.CloseMenu})),(G=v.state.buttonElement)==null||G.focus({preventScroll:!0});break;case ei.Tab:k.preventDefault(),k.stopPropagation(),vu.flushSync(()=>v.send({type:Rn.CloseMenu})),VOe(v.state.buttonElement,k.shiftKey?ao.Previous:ao.Next);break;default:k.key.length===1&&(v.send({type:Rn.Search,value:k.key}),R.setTimeout(()=>v.send({type:Rn.ClearSearch}),350));break}}),D=Mt(k=>{switch(k.key){case ei.Space:k.preventDefault();break}}),$=El({open:f===Oi.Open}),F=JY(a?l():{},{"aria-activedescendant":Ea(v,v.selectors.activeDescendantId),"aria-labelledby":Ea(v,k=>{var j;return(j=k.buttonElement)==null?void 0:j.id}),id:i,onKeyDown:L,onKeyUp:D,role:"menu",tabIndex:f===Oi.Open?0:void 0,ref:p,style:{...r.style,...u,"--button-width":TOe(E,y,!0).width},...bX(C)}),N=Rr();return Ze.createElement(VX,{enabled:m?t.static||E:!1,ownerDocument:w},N({ourProps:F,theirProps:r,slot:$,defaultTag:zFe,features:WFe,visible:P,name:"Menu.Items"}))}let VFe=H.Fragment;function HFe(t,e){let n=H.useId(),{id:i=`headlessui-menu-item-${n}`,disabled:c=!1,...m}=t,s=uA("Menu.Item"),g=Ea(s,P=>s.selectors.isActive(P,i)),r=H.useRef(null),a=Zi(e,r),v=Ea(s,P=>s.selectors.shouldScrollIntoView(P,i));Hn(()=>{if(v)return Ts().requestAnimationFrame(()=>{var P,R;(R=(P=r.current)==null?void 0:P.scrollIntoView)==null||R.call(P,{block:"nearest"})})},[v,r]);let h=$Fe(r),u=H.useRef({disabled:c,domRef:r,get textValue(){return h()}});Hn(()=>{u.current.disabled=c},[u,c]),Hn(()=>(s.actions.registerItem(i,u),()=>s.actions.unregisterItem(i)),[u,i]);let l=Mt(()=>{s.send({type:Rn.CloseMenu})}),o=Mt(P=>{if(c)return P.preventDefault();s.send({type:Rn.CloseMenu}),pX(s.state.buttonElement)}),d=Mt(()=>{if(c)return s.send({type:Rn.GoToItem,focus:Pr.Nothing});s.send({type:Rn.GoToItem,focus:Pr.Specific,id:i})}),p=nMe(),f=Mt(P=>p.update(P)),y=Mt(P=>{p.wasMoved(P)&&(c||g||s.send({type:Rn.GoToItem,focus:Pr.Specific,id:i,trigger:lx.Pointer}))}),w=Mt(P=>{p.wasMoved(P)&&(c||g&&s.state.activationTrigger===lx.Pointer&&s.send({type:Rn.GoToItem,focus:Pr.Nothing}))}),[x,b]=rX(),[E,C]=nX(),T=El({active:g,focus:g,disabled:c,close:l}),S={id:i,ref:a,role:"menuitem",tabIndex:c===!0?void 0:-1,"aria-disabled":c===!0?!0:void 0,"aria-labelledby":x,"aria-describedby":E,disabled:void 0,onClick:o,onFocus:d,onPointerEnter:f,onMouseEnter:f,onPointerMove:y,onMouseMove:y,onPointerLeave:w,onMouseLeave:w},A=Rr();return Ze.createElement(b,null,Ze.createElement(C,null,A({ourProps:S,theirProps:m,slot:T,defaultTag:VFe,name:"Menu.Item"})))}let YFe="div";function XFe(t,e){let[n,i]=rX(),c=t,m={ref:e,"aria-labelledby":n,role:"group"},s=Rr();return Ze.createElement(i,null,s({ourProps:m,theirProps:c,slot:{},defaultTag:YFe,name:"Menu.Section"}))}let KFe="header";function ZFe(t,e){let n=H.useId(),{id:i=`headlessui-menu-heading-${n}`,...c}=t,m=Q7();Hn(()=>m.register(i),[i,m.register]);let s={id:i,ref:e,role:"presentation",...m.props};return Rr()({ourProps:s,theirProps:c,slot:{},defaultTag:KFe,name:"Menu.Heading"})}let JFe="div";function _Fe(t,e){let n=t,i={ref:e,role:"separator"};return Rr()({ourProps:i,theirProps:n,slot:{},defaultTag:JFe,name:"Menu.Separator"})}let QFe=ur(BFe),aK=ur(jFe),oK=ur(GFe),lK=ur(HFe),qFe=ur(XFe),eLe=ur(ZFe),tLe=ur(_Fe),nLe=Object.assign(QFe,{Button:aK,Items:oK,Item:lK,Section:qFe,Heading:eLe,Separator:tLe});class uK{get(e){let n=localStorage.getItem(e);return n===null?void 0:JSON.parse(n)}put(e,n){n!==void 0?localStorage.setItem(e,JSON.stringify(n)):this.del(e)}del(e){localStorage.removeItem(e)}getKeys(){return Object.entries(localStorage).map((([e])=>e))}}function JS(){try{let t="privy:__session_storage__test",e=new uK;return e.put(t,"blobby"),e.del(t),!0}catch{return!1}}var Ct=typeof window<"u"&&window.localStorage?new uK:new class{get(t){return this._cache[t]}put(t,e){e!==void 0?this._cache[t]=e:this.del(t)}del(t){delete this._cache[t]}getKeys(){return Object.keys(this._cache)}constructor(){this._cache={}}};function cK(t){return{name:t.metadata?.shortName||t.name||"",universalLink:t.mobile.universal,deepLink:t.mobile.native}}function NN(t,e){let n=cK(e);if(n.universalLink)return cA(n.universalLink,t)}let FE="WALLETCONNECT_DEEPLINK_CHOICE";function hK(t){return t.startsWith("http://")||t.startsWith("https://")}function dK(t,e){if(hK(t))return cA(t,e);let n=t;return n.includes("://")||(n=t.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),{redirect:`${n}wc?uri=${encodeURIComponent(e)}`,href:n}}function cA(t,e){if(!hK(t))return dK(t,e);let n=t;return n.endsWith("/")||(n=`${n}/`),{redirect:`${n}wc?uri=${encodeURIComponent(e)}`,href:n}}function fK(t,e){window.open(t,e,"noreferrer noopener")}class Gi{execute(e){return this.promise===null&&(this.promise=(async()=>{try{return await this.fn(e)}finally{this.promise=null}})()),this.promise}constructor(e){this.promise=null,this.fn=e}}const _S="https://auth.privy.io",rLe=2e4,Yn=1400,pK=2500,hA=4e3,iLe="3.4.1",Zv="privy:token",kN="privy-token",LE="privy:refresh_token",sLe="privy-refresh-token",sw="privy:pat",BN="privy:id_token",UN="privy-id-token",DE="privy-session",QS="privy:caid",vK=t=>`privy:guest:${t}`,b2=t=>`privy:cross-app:${t}`,ux="privy:state_code",Jv="privy:code_verifier",cx="privy:headless_oauth",pg="privy:oauth_disable_signup",NE=t=>`privy:wallet:${t}`,gK="privy:connections",Z3=12e4,aLe=3e4,oLe="deprecated";function qS(t){return crypto.getRandomValues(new Uint8Array(t))}function J3(){return td(qS(36))}function dA(){return J3()}async function fA(t,e="S256"){if(e!="S256")return t;{let n=await(async function(i){let c=new TextEncoder().encode(i);return new Uint8Array(await crypto.subtle.digest("SHA-256",c))})(t);return td(n)}}function lLe(){let t=Ct.get(Jv);if(!t)throw new ge("Authentication error.");return t}function mK(t){return t.charAt(0).toUpperCase()+t.slice(1)}const yK=({style:t,...e})=>M.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[M.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#040507"}),M.jsx("path",{d:"M17.2949 6.37537C18.0156 5.44684 19.4671 4.57877 20.4927 4.46512C20.8178 4.42885 20.8581 4.43127 20.9312 4.50139L20.9967 4.56426L20.9816 4.99225C20.9564 5.65963 20.8682 6.12873 20.6716 6.6341C20.4751 7.13705 20.1198 7.71738 19.8426 7.97852C19.7594 8.06074 19.6007 8.22516 19.4948 8.34848C19.0563 8.84901 18.439 9.20205 17.5973 9.4366C17.2823 9.52606 17.2596 9.52848 16.8917 9.52606C16.4482 9.52365 16.3852 9.51156 16.3524 9.43176C16.3398 9.39791 16.3272 9.18996 16.3222 8.9675L16.3171 8.56127L16.423 8.17922C16.6347 7.41512 16.8791 6.90733 17.2949 6.37537Z",fill:"white"}),M.jsx("path",{d:"M17.4512 10.2081C18.4163 9.84541 19.7595 9.48754 20.2584 9.46336C20.6616 9.4416 21.2966 9.49238 21.7225 9.57943C22.1383 9.66164 22.4357 9.76078 22.8666 9.96148C23.5571 10.2831 24.1442 10.7135 24.6104 11.2382C24.9582 11.6299 24.9783 11.6807 24.8397 11.8113C24.7944 11.8548 24.6885 11.9249 24.6054 11.9709C24.4542 12.0507 23.8368 12.5464 23.8368 12.5875C23.8368 12.5971 23.736 12.7108 23.6125 12.8341C23.2068 13.25 23.0279 13.5861 22.7683 14.4252C22.7078 14.6186 22.6448 14.8725 22.6272 14.9934C22.5566 15.4577 22.5919 16.125 22.7154 16.7344C22.7885 17.1044 23.0808 17.7306 23.3706 18.1489C23.7763 18.7317 24.3786 19.2491 24.9909 19.5514C25.316 19.7086 25.5 19.8464 25.5 19.9334C25.5 19.96 25.4773 20.0205 25.4521 20.064C25.4244 20.1075 25.3866 20.2164 25.3639 20.3034C25.311 20.521 25.001 21.244 24.807 21.5971C24.0862 22.9052 23.3731 23.8748 22.6095 24.5833C21.8611 25.2725 21.1606 25.582 20.4348 25.5385C19.9359 25.5094 19.4596 25.3934 18.7842 25.1322C18.2248 24.917 18.0081 24.8493 17.7939 24.8203C17.688 24.8058 17.4915 24.7768 17.3604 24.7574C16.9774 24.697 16.7254 24.6921 16.4533 24.7478C15.5461 24.9267 15.5133 24.9364 15.0144 25.1371C14.2231 25.4562 13.8073 25.5578 13.2907 25.5578C12.8875 25.5602 12.696 25.5143 12.2575 25.3087C11.8694 25.125 11.5948 24.9315 11.2546 24.5978C10.9295 24.2811 10.7052 24.0151 10.2642 23.4323C9.18818 22.0081 9.02187 21.7276 8.49519 20.4582C8.28612 19.9546 8.19971 19.7502 8.13026 19.5402C8.07498 19.373 8.03043 19.2023 7.94332 18.8744C7.73164 18.074 7.70896 17.9869 7.70896 17.8709C7.70896 17.8153 7.68628 17.675 7.66108 17.5565C7.44184 16.5917 7.44688 15.0007 7.67116 14.1713C7.82236 13.6127 8.02648 13.088 8.30367 12.5512C8.92863 11.3325 9.71738 10.5539 10.874 10.0123C11.2571 9.8309 11.5444 9.74627 12.0534 9.65922C12.2903 9.62054 12.5523 9.56976 12.6355 9.54799C12.8421 9.49238 13.3184 9.49963 13.6057 9.56008C14.2911 9.71 14.7548 9.84058 15.2059 10.0123C16.0551 10.3411 16.549 10.4789 16.7506 10.4475C16.7692 10.4444 16.7848 10.4418 16.8002 10.4387C16.8815 10.4225 16.9601 10.3929 17.4512 10.2081Z",fill:"white"})]}),wK=({style:t,...e})=>M.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[M.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#5462EB"}),M.jsx("path",{d:"M23.5433 8.87438C22.2479 8.26174 20.8587 7.81038 19.4063 7.55187C19.3799 7.54688 19.3534 7.55934 19.3398 7.58428C19.1612 7.91179 18.9633 8.33905 18.8247 8.67487C17.2625 8.43382 15.7084 8.43382 14.1782 8.67487C14.0396 8.33158 13.8345 7.91179 13.6551 7.58428C13.6414 7.56018 13.615 7.54771 13.5886 7.55187C12.1369 7.80955 10.7478 8.26092 9.45159 8.87438C9.44037 8.87937 9.43075 8.88769 9.42437 8.89849C6.78947 12.9558 6.06766 16.9134 6.42176 20.8219C6.42336 20.841 6.43378 20.8593 6.4482 20.871C8.18663 22.1868 9.87059 22.9857 11.5233 23.5152C11.5497 23.5235 11.5778 23.5135 11.5946 23.491C11.9855 22.9408 12.334 22.3606 12.6328 21.7504C12.6505 21.7147 12.6336 21.6723 12.5976 21.6581C12.0448 21.442 11.5185 21.1785 11.0122 20.8793C10.9721 20.8552 10.9689 20.7961 11.0058 20.7679C11.1123 20.6856 11.2189 20.6 11.3206 20.5135C11.339 20.4977 11.3647 20.4944 11.3863 20.5044C14.7125 22.0696 18.3136 22.0696 21.6006 20.5044C21.6222 20.4936 21.6479 20.4969 21.6671 20.5127C21.7688 20.5991 21.8754 20.6856 21.9827 20.7679C22.0196 20.7961 22.0172 20.8552 21.9771 20.8793C21.4708 21.1843 20.9445 21.442 20.3909 21.6573C20.3548 21.6715 20.3388 21.7147 20.3564 21.7504C20.6617 22.3597 21.0101 22.9399 21.3939 23.4902C21.4099 23.5135 21.4387 23.5235 21.4652 23.5152C23.1259 22.9857 24.8099 22.1868 26.5483 20.871C26.5635 20.8593 26.5731 20.8419 26.5747 20.8228C26.9985 16.3041 25.8649 12.3789 23.5697 8.89931C23.5641 8.88769 23.5545 8.87937 23.5433 8.87438ZM13.1295 18.442C12.1281 18.442 11.303 17.4944 11.303 16.3307C11.303 15.1669 12.1121 14.2193 13.1295 14.2193C14.155 14.2193 14.9721 15.1752 14.9561 16.3307C14.9561 17.4944 14.1469 18.442 13.1295 18.442ZM19.883 18.442C18.8816 18.442 18.0564 17.4944 18.0564 16.3307C18.0564 15.1669 18.8655 14.2193 19.883 14.2193C20.9084 14.2193 21.7255 15.1752 21.7095 16.3307C21.7095 17.4944 20.9084 18.442 19.883 18.442Z",fill:"#F7F7F7"})]}),xK=({style:t,...e})=>M.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[M.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),M.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.5083 5.62451C10.8896 5.62451 6.34741 10.2078 6.34741 15.878C6.34741 20.4104 9.25774 24.2471 13.2951 25.605C13.7999 25.7071 13.9848 25.3844 13.9848 25.1129C13.9848 24.8752 13.9682 24.0604 13.9682 23.2115C11.1417 23.8227 10.5531 21.9892 10.5531 21.9892C10.0988 20.8009 9.42579 20.4954 9.42579 20.4954C8.50068 19.8673 9.49318 19.8673 9.49318 19.8673C10.5194 19.9352 11.0578 20.9198 11.0578 20.9198C11.9661 22.4815 13.4297 22.0402 14.0185 21.7686C14.1025 21.1065 14.3719 20.6482 14.6579 20.3936C12.4035 20.1559 10.0317 19.2732 10.0317 15.3347C10.0317 14.2142 10.4351 13.2976 11.0745 12.5847C10.9736 12.3301 10.6202 11.2774 11.1756 9.86844C11.1756 9.86844 12.0335 9.59678 13.968 10.9209C14.7962 10.6965 15.6503 10.5823 16.5083 10.5814C17.3662 10.5814 18.2408 10.7003 19.0484 10.9209C20.9831 9.59678 21.841 9.86844 21.841 9.86844C22.3963 11.2774 22.0428 12.3301 21.9419 12.5847C22.5981 13.2976 22.9849 14.2142 22.9849 15.3347C22.9849 19.2732 20.6131 20.1388 18.3419 20.3936C18.7121 20.7161 19.0316 21.3271 19.0316 22.2948C19.0316 23.6698 19.0149 24.7733 19.0149 25.1127C19.0149 25.3844 19.2 25.7071 19.7046 25.6052C23.742 24.2469 26.6523 20.4104 26.6523 15.878C26.669 10.2078 22.1102 5.62451 16.5083 5.62451Z",fill:"white"})]}),bK=t=>M.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[M.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#F1F2F9"}),M.jsx("path",{d:"M26.1001 16.2273C26.1001 15.5182 26.0365 14.8364 25.9183 14.1818H16.5001V18.05H21.8819C21.6501 19.3 20.9456 20.3591 19.8865 21.0682V23.5773H23.1183C25.0092 21.8364 26.1001 19.2727 26.1001 16.2273Z",fill:"#4285F4"}),M.jsx("path",{d:"M16.5001 26C19.2001 26 21.4637 25.1046 23.1182 23.5773L19.8864 21.0682C18.991 21.6682 17.8455 22.0227 16.5001 22.0227C13.8955 22.0227 11.691 20.2637 10.9046 17.9H7.56372V20.4909C9.20917 23.7591 12.591 26 16.5001 26Z",fill:"#34A853"}),M.jsx("path",{d:"M10.9047 17.8999C10.7047 17.2999 10.591 16.659 10.591 15.9999C10.591 15.3408 10.7047 14.6999 10.9047 14.0999V11.509H7.56376C6.86376 12.9025 6.49951 14.4405 6.50012 15.9999C6.50012 17.6136 6.88649 19.1408 7.56376 20.4908L10.9047 17.8999Z",fill:"#FBBC05"}),M.jsx("path",{d:"M16.5001 9.97726C17.9682 9.97726 19.2864 10.4818 20.3228 11.4727L23.191 8.60454C21.4591 6.99091 19.1955 6 16.5001 6C12.591 6 9.20917 8.2409 7.56372 11.5091L10.9046 14.1C11.691 11.7364 13.8955 9.97726 16.5001 9.97726Z",fill:"#EA4335"})]});function EK(t){return M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:26,height:26,viewBox:"0 0 140 140",x:"0px",y:"0px",fill:"none",...t,children:[M.jsxs("defs",{children:[M.jsxs("linearGradient",{id:"b",children:[M.jsx("stop",{offset:"0",stopColor:"#3771c8"}),M.jsx("stop",{stopColor:"#3771c8",offset:".128"}),M.jsx("stop",{offset:"1",stopColor:"#60f",stopOpacity:"0"})]}),M.jsxs("linearGradient",{id:"a",children:[M.jsx("stop",{offset:"0",stopColor:"#fd5"}),M.jsx("stop",{offset:".1",stopColor:"#fd5"}),M.jsx("stop",{offset:".5",stopColor:"#ff543e"}),M.jsx("stop",{offset:"1",stopColor:"#c837ab"})]}),M.jsx("radialGradient",{id:"c",cx:"158.429",cy:"578.088",r:"65",xlinkHref:"#a",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 -1.98198 1.8439 0 -1031.402 454.004)",fx:"158.429",fy:"578.088"}),M.jsx("radialGradient",{id:"d",cx:"147.694",cy:"473.455",r:"65",xlinkHref:"#b",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(.17394 .86872 -3.5818 .71718 1648.348 -458.493)",fx:"147.694",fy:"473.455"})]}),M.jsx("path",{fill:"url(#c)",d:"M65.03 0C37.888 0 29.95.028 28.407.156c-5.57.463-9.036 1.34-12.812 3.22-2.91 1.445-5.205 3.12-7.47 5.468C4 13.126 1.5 18.394.595 24.656c-.44 3.04-.568 3.66-.594 19.188-.01 5.176 0 11.988 0 21.125 0 27.12.03 35.05.16 36.59.45 5.42 1.3 8.83 3.1 12.56 3.44 7.14 10.01 12.5 17.75 14.5 2.68.69 5.64 1.07 9.44 1.25 1.61.07 18.02.12 34.44.12 16.42 0 32.84-.02 34.41-.1 4.4-.207 6.955-.55 9.78-1.28 7.79-2.01 14.24-7.29 17.75-14.53 1.765-3.64 2.66-7.18 3.065-12.317.088-1.12.125-18.977.125-36.81 0-17.836-.04-35.66-.128-36.78-.41-5.22-1.305-8.73-3.127-12.44-1.495-3.037-3.155-5.305-5.565-7.624C116.9 4 111.64 1.5 105.372.596 102.335.157 101.73.027 86.19 0H65.03z",transform:"translate(1.004 1)"}),M.jsx("path",{fill:"url(#d)",d:"M65.03 0C37.888 0 29.95.028 28.407.156c-5.57.463-9.036 1.34-12.812 3.22-2.91 1.445-5.205 3.12-7.47 5.468C4 13.126 1.5 18.394.595 24.656c-.44 3.04-.568 3.66-.594 19.188-.01 5.176 0 11.988 0 21.125 0 27.12.03 35.05.16 36.59.45 5.42 1.3 8.83 3.1 12.56 3.44 7.14 10.01 12.5 17.75 14.5 2.68.69 5.64 1.07 9.44 1.25 1.61.07 18.02.12 34.44.12 16.42 0 32.84-.02 34.41-.1 4.4-.207 6.955-.55 9.78-1.28 7.79-2.01 14.24-7.29 17.75-14.53 1.765-3.64 2.66-7.18 3.065-12.317.088-1.12.125-18.977.125-36.81 0-17.836-.04-35.66-.128-36.78-.41-5.22-1.305-8.73-3.127-12.44-1.495-3.037-3.155-5.305-5.565-7.624C116.9 4 111.64 1.5 105.372.596 102.335.157 101.73.027 86.19 0H65.03z",transform:"translate(1.004 1)"}),M.jsx("path",{fill:"#fff",d:"M66.004 18c-13.036 0-14.672.057-19.792.29-5.11.234-8.598 1.043-11.65 2.23-3.157 1.226-5.835 2.866-8.503 5.535-2.67 2.668-4.31 5.346-5.54 8.502-1.19 3.053-2 6.542-2.23 11.65C18.06 51.327 18 52.964 18 66s.058 14.667.29 19.787c.235 5.11 1.044 8.598 2.23 11.65 1.227 3.157 2.867 5.835 5.536 8.503 2.667 2.67 5.345 4.314 8.5 5.54 3.054 1.187 6.543 1.996 11.652 2.23 5.12.233 6.755.29 19.79.29 13.037 0 14.668-.057 19.788-.29 5.11-.234 8.602-1.043 11.656-2.23 3.156-1.226 5.83-2.87 8.497-5.54 2.67-2.668 4.31-5.346 5.54-8.502 1.18-3.053 1.99-6.542 2.23-11.65.23-5.12.29-6.752.29-19.788 0-13.036-.06-14.672-.29-19.792-.24-5.11-1.05-8.598-2.23-11.65-1.23-3.157-2.87-5.835-5.54-8.503-2.67-2.67-5.34-4.31-8.5-5.535-3.06-1.187-6.55-1.996-11.66-2.23-5.12-.233-6.75-.29-19.79-.29zm-4.306 8.65c1.278-.002 2.704 0 4.306 0 12.816 0 14.335.046 19.396.276 4.68.214 7.22.996 8.912 1.653 2.24.87 3.837 1.91 5.516 3.59 1.68 1.68 2.72 3.28 3.592 5.52.657 1.69 1.44 4.23 1.653 8.91.23 5.06.28 6.58.28 19.39s-.05 14.33-.28 19.39c-.214 4.68-.996 7.22-1.653 8.91-.87 2.24-1.912 3.835-3.592 5.514-1.68 1.68-3.275 2.72-5.516 3.59-1.69.66-4.232 1.44-8.912 1.654-5.06.23-6.58.28-19.396.28-12.817 0-14.336-.05-19.396-.28-4.68-.216-7.22-.998-8.913-1.655-2.24-.87-3.84-1.91-5.52-3.59-1.68-1.68-2.72-3.276-3.592-5.517-.657-1.69-1.44-4.23-1.653-8.91-.23-5.06-.276-6.58-.276-19.398s.046-14.33.276-19.39c.214-4.68.996-7.22 1.653-8.912.87-2.24 1.912-3.84 3.592-5.52 1.68-1.68 3.28-2.72 5.52-3.592 1.692-.66 4.233-1.44 8.913-1.655 4.428-.2 6.144-.26 15.09-.27zm29.928 7.97c-3.18 0-5.76 2.577-5.76 5.758 0 3.18 2.58 5.76 5.76 5.76 3.18 0 5.76-2.58 5.76-5.76 0-3.18-2.58-5.76-5.76-5.76zm-25.622 6.73c-13.613 0-24.65 11.037-24.65 24.65 0 13.613 11.037 24.645 24.65 24.645C79.617 90.645 90.65 79.613 90.65 66S79.616 41.35 66.003 41.35zm0 8.65c8.836 0 16 7.163 16 16 0 8.836-7.164 16-16 16-8.837 0-16-7.164-16-16 0-8.837 7.163-16 16-16z"})]})}function CK(t){return M.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",...t,children:[M.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),M.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#06C755"}),M.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"url(#pattern0_1769_69)"}),M.jsxs("defs",{children:[M.jsx("pattern",{id:"pattern0_1769_69",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:M.jsx("use",{xlinkHref:"#image0_1769_69",transform:"scale(0.003125)"})}),M.jsx("image",{id:"image0_1769_69",width:"320",height:"320",preserveAspectRatio:"none",xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAFACAYAAADNkKWqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABpkSURBVHgB7d1fbFTXtcfxdWZs45h7g6lClajoetJIRKIqGKmhTSvF5qEvqUqIitM+XEIikYf+QWlVaF+IACVPBamN0ps8NFL5cx+qmioOVXsf+oCJ1Pg2VMKkKlKRSMZVqlalCiaSHf9hZvesMx5jm/k/58w5Z+/vR3KM8cSAPf55rbX32ccTx/Rf3tO/uNiXWygsDnri5UTMgOd5/UZMTozXX3qU/2vAOl4++K+Y4LUR8V97U5KRyUwxM93bOzc5vWNsWhziicU07GYXeoY9I0P+mzljZJBwA6rzv0emM55MGvEuajD29SyM2xyKVgWgBt7cXO+g8YpP+BXdsASBB6AtfiD63dK4ZzJvzj36i3GxSOoDUENvZq57T0Zkf9EPPM+TfgEQGX9kNFY05s31vYtjaa8OUxuAvRPfGDZSOEroAfHRMDSenF74/C/HJIVSFYDBTG+u53ljzHcJPSBR8hqGfpv8st8m5yUlUhGAWu0VTfF58cweAZB0pzKSPZ6GIEx0AJbbXH+5flgApE3igzCRAdj9+5HBTEZ+TPABVkhsECYqAIMV3fmeo54/4xMAtklcECYmANf9/9efLxaLx1jcAKyW9zu744uPjp6SBIg9AP05X86f8/2cdhdwSt6vBnfFXQ1mJEZa9RVM4TLhBzgnV5TC+z0TTx2VGMVSAVL1AVjmyWTGZJ+MoxrseAXY84ev7aHqA7DMyKBfDV7onhh5RjqsowHY8we/3C1m3mChA8AaOb8d/XmnW+KOtMC6veXjue43qPoA1KOX1N2zbuHZThy0EHkA6ryvKMULnMMHoAkdWSWOtAXWKzoIPwAt0FXiC1pASYQiqwA1/PyPfoF5H4CWeTLdnZFdMztHJyUCkQQg4QcgNBGGYOgBSPgBCF1EIRhqABJ+ACITQQiGFoA6rNQNzoQfgMiEHIKhrAKXt7oQfgAiZaR/sSBvhLU63HYA6iZntroA6KBgi4xmj7Sp7QCc/bjn54QfgA7L6dVl0qa2AjC4tpcbFQGIgV5a2+61wy0vgujJDXrxsgBAnDLFJxc+/6uW7kvcUgByfS+AxPBXhjMmu6OV64ZbaoGLXuENwg9AIvgrw3rAsrSg6QAM5n5GBgUAEkLngeve/nrTd5NsqgUutb6F9wUAkqaFVripCrA09wOABGqhFW44AEvn9TP3A5BczbbCDbXArPoCSA2/Fe5bt/hgI0fqN1QB+nO/o4QfgFTwW+GZj3sa2iBdtwJk4QNAGnVnZUe9U2PqVoCl6g8A0uV2QX5c7zE1K0CqPwBplhGza+7Rc+PV318D1R+ANDPi1cywqhUg1R8AG9SqAqtWgFR/AGxgvMzz1d5XsQKk+gNgk77exY2V9gVWrAAL3u2qiQkAaTM721Px6pCKAeiZDKc8A7BH1lQs6u4KwJ63v7aHqz4AWMVIf+/E3uG1v31XAHqZ7H4BAMtU2hKzehHkwp7+nt7umwIAtqlwSMKqCrC7t5vZHwA76SEJc6szblUAZjzvCQEAS/mBt3/N23cYwz1+AdjLeDLYf3lPf/nt5QDsnfjGsACAzfw2eG6ua/mmbssBWDAFqj8A1jPGW8665QD0l4OHBAAsZ1ZkXWkbDNtfADikfG1wUAH2rMsOCwA4YvbjnmF9XWqBveygAIAjPDHD+rpr6Y0hI0B7+rvWy4bsehlYtyl4CX4v2ycb/N9XuXWfbOjj5Of/Gby+dXtGpguzcqvgv749G7w9tXDD//WMAG3K6X+CADRGBhu7QzBcpgE30LNJtq3PBQGngVYOu3Lgdcq7s/kgFKfmbwSBWX679JqARG3Gk+362mMBBJUM+OH22L1bZbuGnR9625dCLw3KQXjFf3nroz/L1NyN4NfASroQ4ukG6KIULgicpZWdht1j935GtvflZJv/0t/VJzYph+JFPxDf+ugqlSKkO9u9o6toFvvFq3t7YFhEA09DbvcnHpEhP/j017bTQC+F/Nbl3ysF4lU5/+GloFKEWxYKi4NdpRVglkBspy3t7o2f80Nvp5UVXiu2LVW7B+9/PHhbK8OzN8aDUJxaWoiBvTzxcroIkhNYSVtarfD2bRpOzfwuTisrRK0O3/Qrw1/7L8wPLeWZAW/dxMgFv/4bFlhBK72nNw0ReiHSleZX/v4bOX/zj1SGFvGMvEkAWkBnevvuGwra25UzLoSv3Caf8V+QckYmvZ6Jp97nJkjppC2uLmTsu2+YmV6HaVWoCycvfnCOqjC98gRgCmmlp4N7qr1koCpMLQ3AEZaAU0DbXA2979z/Faq9hNKq8KUPRgnCFCEAE47gSx8WTdKDAEwogi/9NAhLrfFFgjChCMCEIfjsQ2ucXARggujevZMDzxB8liIIk4cATADdzvLC5hFWdR1xZSYvI9dO0hYnAAEYI213Twzsl6f9yg/u0fkg+wjjRQDGROd8RzY/RbvrONrieBGAHabX6r7+0Ldod7EK1WA8CMAOoupDLXpA6+Gp01SDHUQAdgBVH5pBNdg5BGDE9LCCn33621R9aIrOBg9cf5WTqiPGWfgROpl7Rka3HCb80DQ9y/F3W48G26MQHSrACGjLe+7hQ07cawPR0yrwwPXXaIkjQAUYMt3UrD+5CT+EpfycGmjwxvJoHAEYIl3lLT1ROYoe4dLn1LUdP12+gRPCQQCGRGc1OvMDoqTPMeaC4ekStEUvZzs5sD84yADohCN+AG7I9smhqdOC9hCAbdDwY96HOBx84CtBW/zce68FG6jRGlrgFulAmvBDnPTeMPoc1B/EaA0B2ALCD0mhz8F3PvsjVohbRAA2qRx+rPQiKcqbpgnB5hGATSD8kFTlEKQdbg4B2CDCD0lHCDaPAGyAPqH00jbCD0mnM8HRLYcEjSEAG/CzT3+LBQ+khl46p8evoT4CsA7dda9HWgFpohvzuWKkPgKwBn0CHeFJhJTS5y7XDtdGAFahbQThh7TTa4e3M76pigCsoHyEPWCD0YcPs0ewCgKwAra7wCb6XH79oW8K7kYArqEtA+EH2+hIR08twmoE4Aq6csbQGLbSE2Q0CHEHAbhEZyRsG4DtdLbNlSJ3EIBLjmzeS+sL6+lz/Min9gpKCEAptb5Pc6IzHEErfIfzAUjrCxfRCpc4H4C0vnARrXCJ0wGoBxzQ+sJV2gq7fpWI0wF47uHDArjsZM7tvYHOBqAufND6wnW6GOLygoizAcjCB1Di8nXvTgYg1R9wh34vuDoLdzIAqf6A1Vw9+s25AKT6A+7mahXoXABS/QGVuVgFOhWAVH9Adfq94dqKsFMBSPUH1PbCZreuDnEmAPUnG9UfUJtr+wKdCcB9m4YEQH0u3QbWiQDUE1+45hdozL77hpw5KcaJAHzs3q0CoDEafo/9pxvfM13igCRUf1PzN2q+P+75ZL2/n0rLDHX69ozcKszWfMyGbB/n4dVw8IHH5fzNS2I76wNQ2984K8Cp+X/Kl68ebygAdR9WHGF94PqrcvbGeN3H6fFhl7b9qOZjzvgf55W//7ZuAOnXJIprUPXzvfNPPwxCsJ7RLYdrzrvenc0HX7tGPlZU9DkRx+4F/VrrD4g4/+2dYH0LHHf7q2HQSHWlj3npg1HptLc+utpQ+CkNhDM1Hqvh85wfpvo4/XWtF/0zD02dlrAdyp9u+Jv2lX/8tub7v9/Ex4qKPiemb89Kp2n4fXWj/Ysh1gdg3O3vdKHzT964TM3/q6nHv/L33/gB/GcJUzOfbw3iWv5a5/2dMl2IJ4SHHJidWx2AwTCXBZBEG7l2sm4QIR5UgCm3zfHjvtNAW8wD118TJE+pgLB7U7TVAejShs400zb4xRjmn6jP9g7K6gB0/YYvaaLD/rDngWif7XNAawOQ+V/66HacOFY8UZ3tYyRrA5D5X/roVqCRaycEyaGFhM2dlMUBOCBIH22D6+3PQ2dtW58TW1kbgEMb3L3VX9odyp9iHrhEr2TKxXwJ4naLA9DaS+H6s1znmWY6D3znsyf8FqxP0kCDKuwj17T93HffsMRtoOc+sZW1AcgMMN10Hvjce6/K6JZDkgZ6LbetJ45vX/+g2MrKFlh/cqalckB15z98h3lgAmi423pyjpUBSPVnD90fqIcrIF79WTsLCmsrQNhBL5Xb+5cT7A+Mma1FhZUB+F8WD21dpPPAQ1OnBPHZQAucHlSA9tHzA5kHxocWOEW4/aWddB7I0VnxsLUCdOKeILCDzgP1iPok7g/UhRrduxgmrbr03hy6xzBucW/GjoqVAUgLbK/g1gF/G5WTA/slSTScG721QDP0xkRp2hCeNnbOALkKJBUOPvCVln5Y6VH6ZyIImyTSwI/rSHwXOHFfYCSTHlhx5FN7pRWHp04zD0TbCEDESqvAVm5cVdofeFKAdhCAiN0Jf57XyqBfFx6iuLUm3GFlAOZpjVJF54DnHm7t0AOdB57/8JIAraACRCLopVatruzqqTHMA6Nl6/2tCUAkhs4DW7kNI7fWjJ5+jm1kZQDq1gGkk57/18o8UE+QZh4YnVsEYHoQgOml88DXH/qmtELngTYenZWEfa20wECHaBvc6jzQplZNfxiczD2TiKtAbC0qrLwU7t3ZKUG66Tzw/M0/pubmSBrav9t6VGxFC5wirAja4fWHvpWIgwAgcsXSU7mtDEBtgzhBOP30WLNW54EIz5WZvNjK2hngXxeoAm2greXB+x8XxOeWpQsgytoAnLT4p5ZrdCGglf2BCIet7a+yNgBtLttdpPNAznmMx1u30rEQ1QprA5CVYLvoPPBnn2YeGAeb99VaeyR+WjfEhv1k25Dts6Zy2v2JncE8MIk3R9I5mY1fO91RYXMLbG0A6kqw7iFL0+xIv4G2XP62hE331CXtCPlW6TzwrY+uJu6b8srM+5F87Y5sHpEX/Je42D5KsvpKkCu0wQHbLhEbffiwM/NAvRNePsYW9Nc3/yg2szoAOSfuDpv2Reo80JaKNumoAFNMqx42RNtp36Zh9gdGzPb5n7I6AHUO+O7s+wI76Xxse19OEA2dtdrO+tNg3qQNtpbOAV2aB3bamRsXxXbWB+D//sv+L6LLdB7Y6q01UZ22v2k5iacd1gdgeTsM7KXbfJgHhsuF9lc5cSAqbbD9dB7I0VnhefGDUXGBEwGobTCrweFI6rytfGvNZv5+/V3/Ibibbn1x5bYSTgSgtsFn/zUucRi6d6vETSsjnZVVsq1voOHKScOl1qqrfqxmAmgo5Kt09NaazcwDd2/8XM33//emYYmbfm1yVb52UflpAi81jIrXMzFixAFxHlmu85SLMc0hNZB2b3ykagAq/Wl/5sZ42x9Hnf/wHXnlH/9X52P1yVf9j/V0RAGjn2/9oVfrHDv9dzzWwA+ns/7nJa4rMfRzvu++4Y7eE0QXP7Zc/o64wpkAVBqAnCsHVKeXTbp0e1Gn7grnwr4moB1JPGknSk4F4K9vXmIxBKhC233X7qntVADqXOiVf/xGANzNla0vKzl3Y3Rd4aIKBFZzsfpTzgUgVSCwmn5PuFj9KecCUFEFAnfowoeL1Z9yMgD1J96hqVMCuE73/b3kaPWnnAxApTMPDkmA61764Jy4zNkAVC86/sWH2/SWEfWuALKd0wGoFaDrTwC4izGQ4wGoDk+dZkEEztFVX1cXPlZyPgB1QeSlv7k7BIZ7XF/4WMn5AFR6ATgLInDFl68eF5QQgEsOXH+VVhjWo/VdjQBcok+K5957VQBb6aovre9qBOAKpcM83ToOCG7QuR+rvncjANd4KWgR/imATfb+5SStbwUE4Bq6KqxDYuaBsIXO/d6dzQvuRgBWwDwQttBLPpn7VUcAVqHzQFePCIIdSnM/d+7v0QoCsAb9ycmiCNJIw680ypkRVEcA1nEof4pN0kgVDT0WPRpDADZg5NpJhshIDZ1f83xtDAHYgNJP1BNsj0Hi6dxaNzyjMQRgg7Sd0JkKIYik0vBjxbc5BGATCEEklS7WEX7NIwCbRAgiabTl1cU6NI8AbAEhiKTQxQ427beOAGxROQRZbUNc9LnHXr/2EIBtKIcgq27oNDY6h4MAbJM+AUeuneCyOXQM4RceAjAkugJHCCJq5fDjKo9wEIAh0hBkcQRR0Znfzj/9kPALEQEYMr1umBBE2FjwiAYBGAH9Cb3l8nc4SQaheOujq4RfRAjACOnmVL3bHNUgWnXmxrgffscIv4gQgBE7GzyBj3OkFpqmi2rPXWeTc5QIwA4o7xdklRiN4mCDzvB6JkaMoGMG1m2Scw8flm19OQEq0dEJ8+POIABjsm/TsLywea8fiJ8UQJU21Z9kXNJBBGCMtBo8snlEnvbDEG5jg3M8CMAE2L4+J6NbDlENOkr3+JVOHCf8Oo1FkAS4MpMP9g2yZcY9Z5Z2CRB+8aACTCDmg25gpTd+BGBC6XxQg/DpTUMEoWV0sUNvWK57RBEvAjDhNAgfu/czVISW0BGH3rOXg3STgQBMEVrjdGOxI3kIwBTa/YmdcvD+x/3KcKsgHXRjMzcuSh4CMMXK+wiH/CCkKkwuruxILgLQEtoe7974iF8dPiJIBuZ9yUcAWqa8aKJXl9Aix0fP8Dtw/X+Y9yUcAWgxwjAe7O9LDwLQEf1d6+WrfousQcjMMBocZpA+BKCj9DguDUKtEDUUNSDROra4pBMBiIAGoh7KoGE46L/mvMLGscUlvQhAVKQVYRCKfQMy0PtJ/7WG4gCV4gra8j733qty/sNLgnQiANGUcjDq6/I80cVqkVVeOxCAaJuuNusexIMPPO7E4gotrz0IQITK5uuVdWPzgeuvscprEQIQodOK8OTAM1ZdlaJzPp33cX9eu3AiNEKnc7GRayesqJSCs/v8dlf/PYSffQhAREYP/Uwz3du3808/4CADixGAiIze6yStBwFo6D3y7g9Y5bVclwARmvRDME3bZFjocAsBiEilqYLSqk8PMWDW5w4CEJFKQwBS9bmLAITTqPrcRgDCSVzHC0UAIlK6KTpp2NSMMgIQkUrS6TFUfViLAESkklIBMutDJQQgItWfjbcCZIUXtRCAiFScm6Cp+lAPAYjIbF//oD8D7JNOo+pDowhARGZDtrPhp5VeueoDGkEAIjJ6D5FO4Yh6tIIARGSGNnxGoqZV3+Gp03LmxrgAzfID0MuLmJwAIYt6BZhFDrQpTwWIyES1Aqzt7ot+8LHIgXZ1iTHT4gkQqihWgLXS04qPE5oRBk8rQC/j5Y0xgwKEKOwVYNpdRKHLGLklQMjCWgFmdRdRMV5pBpgXIGS53vbuC6z3Evl+/jRzPkTHeFNdRkyeESDC1moLzLYWdIyRya6erEwuFgQI1a3CbFOPL1/F8VP/hTkfOiHjFae7ZmYW8z293QKESWd3B+9/vO7jCD7Epbf39mTQ/fZMPPU+m6ERtkvbflR1LyB7+RArT6YXvjC6MdgI7Xky6a8G5wQIkd5YfN+mYRm6t3RJ3HRhJgg+DT2qPcTJ8+d/+joIwGLRTHmshCACZ/3FjLMsaCBhjHgX9XVG/+NJcVwAwBVLFWAQgAvzhXEBAEf03bMwrq+DAJRdY9PlRAQAq/lZN73DzzwpB2Dwe3JRAMBy3oqsWw7ArGfGBAAs563IuuUAnJu7PemXgdMCABabe/TcePnXywGoc0DdDygAYCnPyJsr386sfKMocloAwFJ+kbdq1LcqABfnFsdogwHYqrd3sXoA0gYDsJW2v+XtL2WZux4k5rgAgGWMeKfW/l7FK4B73h656b+nXwDAAnoDpPlHRx9c+/uZyo/2XhYAsETR8yruc64YgAtzCz8RALBE1mQqFnWVK8BgMcTjyhAA6efJqblHf5Gv9K5M1f/HFGmDAaRexmSrLuxWDUC9XMQfHI4LAKRVjepPZWr/v2yJAZBetaq/4P213kkVCCC16lR/qmYAqmJRvicAkDL1qr/gMfUesPil0UnDggiANGmg+lN1A1AtzheOcUgCgDTQqz4aqf5UQwEY7AvMsCACIPn8ADzeSPW39NjGrZsYuWBEhgUAEqjaNb/VNFYBLn/w7LO0wgCSys+oXc08vqkA1LKSVhhAIhVNw61vWVMtcBmtMIAk0YOc578wukOa1FQFuPyH0QoDSAid+3km+6S0oKUALJWZxWcFAGLWzKrvWi0FoFr44q/GhGuFAcQpmPuNnpIWtTQDXIl5IIBYeN7Ywhd+2VLrW9ZyBVg2P7f4pCdeXgCgQ3Tu17duoe0xXNsBGFwlIpldhCCATggWPSS7a+0tLlv8WOHo/v3IoL8UfYG7yQGIjJHpjJfd0eqix1rtV4BLSqfGyC62xwCIhJ8tmjFhhZ8KrQIsoxIEELql8NNCS0IUegAqQhBAaCIKPxVJACpCEEDbIgw/FdoMcC39C+uwktVhAK3Q1d4ow2/pz4hW78Q3ckaKF4yYnABAA8pbXcJc8KgksgqwTP8B83MLO8R4YwIAdeidKO/pXdwRdfgt/Vmd0zOx95j/Rx4VAKikaI4vfOncMemQjgag6p0Yecb4IUhLDGCZv9jRlS0+O/v5X3W0U+x4ACqdCxZN4Q3/Tx8UAE7TllfPGO1Ey7tWLAFYRksMOMyv+jwxx+e/eO4nEpNYA1CxSgy4J86qb83fIxmYDQIOSEDVt1JiAlAFs0G5fcz/a+0XAFbxTPHle+4pHAvjGKuwJCoAywhCwB7a7haL8r0or+hoVSIDsIwgBNKrNOfTe3acG5eESnQAlhGEQHp4njem7W6Sg68sFQFYpkFYMIvfzXjZJ1gsARJED0L2zMt9vbd/kqQZXz2pCsCVet7+2h6R7H7/k75HAHSeruh6Mpn0NreW1AZgWf/lPf1zc917isZ7gjAEIrYUekWR0+t7F8fSVO1VkvoAXKt3Yu+w8bw9pihDXGoHhMD4VV5GLnrGjPX23p5Me+itZF0ArqTV4ezH2WHxsoN+mT5kjB+InFAN1ODlS4FnpkyxON53T2HcpsBby+oArKTUMncNFo3p12D0f7wN+J+EnL7PiJcrPYoFFtho6XR2Y6aDX3vB6yl/QTEvRZlc37eYtznsKvk3kqxyUwkTXfIAAAAASUVORK5CYII="})]})]})}function SK(t){return M.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[M.jsxs("g",{"clip-path":"url(#clip0_1715_1956)",children:[M.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#0977B6"}),M.jsx("path",{d:"M9.46878 6.82104C10.6699 6.82104 11.6461 7.79742 11.6461 8.999C11.6461 10.2017 10.6699 11.1782 9.46878 11.1782C8.26447 11.1782 7.28967 10.2017 7.28967 8.999C7.28967 7.79742 8.26447 6.82104 9.46878 6.82104ZM7.58908 12.8309H11.3467V24.9207H7.58908V12.8309Z",fill:"white"}),M.jsx("path",{d:"M13.7032 12.8309H17.3076V14.4827H17.3576C17.8589 13.5322 19.0846 12.53 20.9127 12.53C24.7175 12.53 25.42 15.0341 25.42 18.2891V24.9207H21.6651V19.0415C21.6651 17.6388 21.6394 15.8355 19.7126 15.8355C17.7573 15.8355 17.4579 17.363 17.4579 18.9399V24.9207H13.7032L13.7032 12.8309Z",fill:"white"})]}),M.jsx("defs",{children:M.jsx("clipPath",{id:"clip0_1715_1956",children:M.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"white"})})})]})}function TK(t){return M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512",...t,children:[M.jsx("path",{fill:"#1ed760",d:"M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8Z"}),M.jsx("path",{d:"M406.6 231.1c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3zm-31 76.2c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm-26.9 65.6c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4z"})]})}function AK(t){return M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg","shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision","image-rendering":"optimizeQuality","fill-rule":"evenodd","clip-rule":"evenodd",viewBox:"0 0 1000 1000",...t,children:M.jsx("path",{d:"M906.25 0H93.75C42.19 0 0 42.19 0 93.75v812.49c0 51.57 42.19 93.75 93.75 93.75l812.5.01c51.56 0 93.75-42.19 93.75-93.75V93.75C1000 42.19 957.81 0 906.25 0zM684.02 319.72c-32.42-21.13-55.81-54.96-63.11-94.38-1.57-8.51-2.45-17.28-2.45-26.25H515l-.17 414.65c-1.74 46.43-39.96 83.7-86.8 83.7-14.57 0-28.27-3.63-40.35-9.99-27.68-14.57-46.63-43.58-46.63-76.97 0-47.96 39.02-86.98 86.97-86.98 8.95 0 17.54 1.48 25.66 4.01V421.89c-8.41-1.15-16.95-1.86-25.66-1.86-105.01 0-190.43 85.43-190.43 190.45 0 64.42 32.18 121.44 81.3 155.92 30.93 21.72 68.57 34.51 109.14 34.51 105.01 0 190.43-85.43 190.43-190.43V400.21c40.58 29.12 90.3 46.28 143.95 46.28V343.03c-28.89 0-55.8-8.59-78.39-23.31z"})})}function PK(t){return M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 2400 2800",...t,children:M.jsxs("g",{children:[M.jsx("polygon",{fill:"#FFFFFF",points:"2200,1300 1800,1700 1400,1700 1050,2050 1050,1700 600,1700 600,200 2200,200"}),M.jsx("g",{children:M.jsxs("g",{id:"Layer_1-2",children:[M.jsx("path",{fill:"#9146FF",d:"M500,0L0,500v1800h600v500l500-500h400l900-900V0H500z M2200,1300l-400,400h-400l-350,350v-350H600V200h1600V1300z"}),M.jsx("rect",{x:"1700",y:"550",width:"200",height:"600",fill:"#9146FF"}),M.jsx("rect",{x:"1150",y:"550",width:"200",height:"600",fill:"#9146FF"})]})})]})})}const IK=t=>M.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[M.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),M.jsx("path",{d:"M8.53901 8L14.7164 16.2153L8.5 22.8947H9.89907L15.3415 17.0468L19.7389 22.8947H24.5L17.975 14.2173L23.7612 8H22.3621L17.3499 13.3858L13.3001 8H8.53901ZM10.5964 9.02501H12.7837L22.4422 21.8695H20.255L10.5964 9.02501Z",fill:"#F7F7F7"})]});function eT(){let t=new URL(window.location.href);t.searchParams.delete("privy_oauth_code"),t.searchParams.delete("privy_oauth_provider"),t.searchParams.delete("privy_oauth_state"),Ct.del(ux),window.history.replaceState({},"",t)}const tT=({address:t,chainId:e,nonce:n})=>`${window.location.host} wants you to sign in with your Ethereum account:
${t}

By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.

URI: ${window.location.origin}
Version: 1
Chain ID: ${e}
Nonce: ${n}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`;class Ap{get meta(){return{connectorType:this.wallet?.connectorType,walletClientType:this.wallet?.walletClientType,chainId:this.wallet?.chainId,address:this.wallet?.address,disableSignup:this._meta.disableSignup}}async authenticate(){if(!this.client)throw new ge("SiweFlow has no client instance");try{if(this.preparedMessage&&this.signature)return await this.client.authenticateWithSiweInternal({message:this.preparedMessage,signature:this.signature,chainId:this.wallet?.chainId,walletClientType:this.wallet?.walletClientType,connectorType:this.wallet?.connectorType,mode:this._meta.disableSignup?"no-signup":"login-or-sign-up"});if(!this.wallet)throw new ge("SiweFlow has no wallet instance");let{message:e,signature:n}=await this.sign();return await this.client.authenticateWithSiweInternal({message:e,signature:n,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Kt(e)}}async link(){if(!this.client)throw new ge("SiweFlow has no client instance");try{if(!this.wallet)throw new ge("SiweFlow has no wallet instance");let{message:e,signature:n}=await this.sign();return await this.client.linkWithSiweInternal({message:e,signature:n,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType})}catch(e){throw Kt(e)}}async sign(){if(!this.client)throw new ge("SiweFlow has no client instance");if(await this.buildMessage(),!this.preparedMessage)throw new ge("Could not prepare SIWE message");if(!this.wallet)throw new ge("SiweFlow has no wallet instance");let e=await this.wallet.sign(this.preparedMessage);return{message:this.preparedMessage,signature:e}}async _getNonceOnce(){if(!this.client)throw new ge("SiweFlow has no client instance");if(!this.wallet)throw new ge("UI SiweFlow has no wallet instance");return await this.client.generateSiweNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new ge("SiweFlow has no client instance");if(!this.wallet)throw new ge("SiweFlow has no wallet instance");let e=this.wallet.address,n=this.wallet.chainId.replace("eip155:","");return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.preparedMessage=tT({address:e,chainId:n,nonce:this.nonce}),this.preparedMessage}constructor(e,n,i,c=!1,m){this._meta={disableSignup:!1},this.getNonceOnce=new Gi(this._getNonceOnce.bind(this)),this.wallet=n,this.captchaToken=i,this.client=e,this._meta.disableSignup=c,this.preparedMessage=m?.message,this.signature=m?.signature}}const uLe=({address:t,nonce:e})=>`${window.location.host} wants you to sign in with your Solana account:
${t}

${`You are proving you own ${t}.`}

URI: ${window.location.origin}
Version: 1
Chain ID: mainnet
Nonce: ${e}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`;class hx{get meta(){return{connectorType:this.wallet.connectorType,walletClientType:this.wallet.walletClientType,disableSignup:this._meta.disableSignup,messageType:this._meta.messageType,address:this.wallet?.address}}set messageType(e){this._meta.messageType=e}async authenticate(){if(!this.client)throw new ge("SiwsFlow has no client instance");try{let{message:e,signature:n}=await this.sign();return await this.client.authenticateWithSiwsInternal({message:e,signature:n,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up",messageType:this.meta.messageType})}catch(e){throw Kt(e)}}async link(){if(!this.client)throw new ge("SiwsFlow has no client instance");try{let{message:e,signature:n}=await this.sign();return await this.client.linkWithSiwsInternal({message:e,signature:n,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,messageType:this.meta.messageType})}catch(e){throw Kt(e)}}async sign(){let e,n;if(!this.client)throw new ge("SiwsFlow has no client instance");await this.buildMessage();let i=this.meta.messageType==="transaction";if(!this.preparedMessage)throw new ge("Could not prepare SIWS message");if(!i&&!this.wallet.provider.signMessage||i&&!this.wallet.provider.signTransaction)throw new ge("Wallet does not support the necessary signing methods");if(i&&this._plugin){let c=await this.wallet.provider.signTransaction({transaction:Z2.decode(this.preparedMessage)});e=Z2.encode(c.signedTransaction),n=this._plugin.getSignatureFromTransaction(c.signedTransaction,this.wallet.address)}else{e=this.preparedMessage;let c=await this.wallet.provider.signMessage({message:new TextEncoder().encode(this.preparedMessage)});n=Z2.encode(c.signature)}return{message:e,signature:n}}async _getNonceOnce(){if(!this.client)throw new ge("SiwsFlow has no client instance");return await this.client.generateSiwsNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new ge("SiwsFlow has no client instance");let e=this.wallet.address;return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.meta.messageType==="transaction"&&this._plugin?this.preparedMessage=this._plugin.createSiwsMemoTransaction({address:e,nonce:this.nonce}):this.preparedMessage=uLe({address:e,nonce:this.nonce}),this.preparedMessage}constructor(e,n,i,c=!1,m="plain",s){this._meta={disableSignup:!1,messageType:"plain"},this.getNonceOnce=new Gi(this._getNonceOnce.bind(this)),this.wallet=e,this.captchaToken=i,this.client=n,this._meta.disableSignup=c,this._meta.messageType=m,this._plugin=s}}const RK=t=>t.isApexWallet?"Apex Wallet":t.isAvalanche?"Core Wallet":t.isBackpack?"Backpack":t.isBifrost?"Bifrost Wallet":t.isBitKeep?"BitKeep":t.isBitski?"Bitski":t.isBlockWallet?"BlockWallet":t.isBraveWallet?"Brave Wallet":t.isClover?"Clover":t.isCoin98?"Coin98 Wallet":t.isCoinbaseWallet?"Coinbase Wallet":t.isDawn?"Dawn Wallet":t.isDefiant?"Defiant":t.isDesig?"Desig Wallet":t.isEnkrypt?"Enkrypt":t.isExodus?"Exodus":t.isFordefi?"Fordefi":t.isFrame?"Frame":t.isFrontier?"Frontier Wallet":t.isGamestop?"GameStop Wallet":t.isHaqqWallet?"HAQQ Wallet":t.isHyperPay?"HyperPay Wallet":t.isImToken?"ImToken":t.isHaloWallet?"Halo Wallet":t.isKuCoinWallet?"KuCoin Wallet":t.isMathWallet?"MathWallet":t.isNovaWallet?"Nova Wallet":t.isOkxWallet||t.isOKExWallet?"OKX Wallet":t.isOneInchIOSWallet||t.isOneInchAndroidWallet?"1inch Wallet":t.isOneKey?"OneKey Wallet":t.isOpera?"Opera":t.isPhantom||"isPhantom"in t?"Phantom":t.isPortal?"Ripio Portal":t.isRabby?"Rabby Wallet":t.isRainbow?"Rainbow":t.isSafePal?"SafePal Wallet":t.isStatus?"Status":t.isSubWallet?"SubWallet":t.isTalisman?"Talisman":t.isTally||t.isTaho?"Taho":t.isTokenPocket?"TokenPocket":t.isTokenary?"Tokenary":t.isTrust||t.isTrustWallet?"Trust Wallet":t.isTTWallet?"TTWallet":t.isXDEFI?"XDEFI Wallet":t.isZeal?"Zeal":t.isZerion?"Zerion":t.isMetaMask?"MetaMask":void 0,OK=(t,e)=>{if(!t.isMetaMask)return!1;if(t.isMetaMask&&!e)return!0;if(t.isBraveWallet&&!t._events&&!t._state||RK(t)!=="MetaMask")return!1;if(t.providers){for(let n of t.providers)if(!OK(n))return!1}return!0},MK=()=>{let t=window;if(!t.ethereum)return!1;if(t.ethereum.isCoinbaseWallet)return!0;if(t.ethereum.providers){for(let e of t.ethereum.providers)if(e&&e.isCoinbaseWallet)return!0}return!1},Qp=(t,e,n,i)=>{let c=Number(t),m=e.find((s=>s.id===c));if(!m)throw new Dn(`Unsupported chainId ${t}`,4901);return vl({transport:gl(wu(m,n,i.appId)),chain:m})},wu=(t,e,n)=>{let i,c=t.id,m=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])i=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[m])i=e.rpcUrls[m];else if(t.rpcUrls.privy?.http[0]){let s=new URL(t.rpcUrls.privy.http[0]);s.searchParams.append("privyAppId",n),i=s.toString()}else i=t.rpcUrls.public?.http[0]?t.rpcUrls.public.http[0]:t.rpcUrls.default?.http[0];if(!i)throw new Dn(`No RPC url found for ${c}`);return i},$K=t=>!!String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),ji=(t,e=3,n=4,i="ethereum")=>{if(!t)return"";let c=i==="ethereum"?2:0;return e+n+c+3>=t.length?t:`${t.slice(0,c+e)}...${t.slice(t.length-n,t.length)}`},kE=(t,e=3,n=4)=>ji(t,e,n,"solana"),dx=t=>new Promise((e=>setTimeout(e,t))),nT=(t,e={})=>{let n=e.delayMs||150,i=e.maxAttempts||270;return new Promise((async(c,m)=>{let s=!1,g=0;for(;!s&&g<i;){if(e.abortSignal?.aborted)return;t().then((r=>{s=!0,c(r)}),((...r)=>{s=!0,m(...r)})),g+=1,await dx(n)}s||m(Error("Exceeded max attempts before resolving function"))}))},cLe=t=>t.replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,""),rT=t=>typeof t=="string"?t:"0x"+t.toString(16);async function hLe({store:t,walletList:e,externalWalletConfig:n,walletChainType:i,timeout:c=3e3}){let m=!1,s=window;return new Promise((g=>{function r(){if(m)return;m=!0,window.removeEventListener("ethereum#initialized",r);let a=t.getProviders();console.debug("Detected injected providers:",a.map((h=>h.info)));let v=[];for(let h of a)e.includes("coinbase_wallet")&&h.info.rdns==="com.coinbase.wallet"||i==="solana-only"&&h.info.rdns==="app.phantom"||v.push({type:h.info.name.toLowerCase().replace(/\s/g,"_"),eip6963InjectedProvider:h});if(i!=="solana-only")for(let h of(function(){let u=window,l=u.ethereum;if(!l)return[];let o=[];if(l.providers?.length)for(let d of l.providers)d&&o.push(d);return o.push(u.ethereum),o})()){let u=RK(h);if(!a.some((l=>l.info.name===u))){if(OK(h,!0)&&!v.find((l=>l.type==="metamask"))){v.push({type:"metamask",legacyInjectedProvider:h});continue}if(u==="Phantom"&&!v.find((l=>l.type==="phantom"))){v.push({type:"phantom",legacyInjectedProvider:h});continue}if(u==="Coinbase Wallet"&&!v.find((l=>l.type==="coinbase_wallet"&&n.coinbaseWallet?.config?.preference?.options!=="smartWalletOnly"))){v.push({type:"coinbase_wallet",legacyInjectedProvider:h});continue}v.find((l=>l.type==="unknown_browser_extension"))||v.push({type:"unknown_browser_extension",legacyInjectedProvider:h})}}g(v)}s.ethereum?r():(window.addEventListener("ethereum#initialized",r,{once:!0}),setTimeout((()=>{r()}),c))}))}function vg(t){return`eip155:${String(Number(t))}`}const dLe=(t,e,n,i)=>{let c=Number(t),m=e.find((s=>s.id===c));if(!m)throw new Dn(`Unsupported chainId ${t}`,4901);return wu(m,n,i)},aw=t=>{let e={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},n=t.types.EIP712Domain??Object.entries(t.domain).map((([i,c])=>{if(c!=null&&typeof i=="string"&&i in e)return{name:i,type:e[i]}})).filter((i=>i!==void 0));return{...t,types:{...t.types,EIP712Domain:n}}},FK=H.createContext({siteKey:"",enabled:!1,appId:void 0,token:void 0,error:void 0,status:"disabled",setToken:Me,setError:Me,setExecuting:Me,waitForResult:()=>Promise.resolve(""),ref:{current:null},remove:Me,reset:Me,execute:Me});let _3=class extends Di{constructor(e,n,i){super(e||"Captcha failed"),this.type="Captcha",n instanceof Error&&(this.cause=n),this.privyErrorCode=i}};const fLe=({children:t,id:e,captchaSiteKey:n,captchaEnabled:i})=>{let c=H.useRef(null),[m,s]=H.useState(),[g,r]=H.useState(),[a,v]=H.useState(!1),h=H.useMemo((()=>i?a||m||g?!a||m||g?m&&!g?{status:"success",token:m}:g?{status:"error",error:g}:{status:"ready"}:{status:"loading"}:{status:"ready"}:{status:"disabled"}),[i,m,g,a]);return M.jsx(FK.Provider,{value:{...h,ref:c,enabled:i,siteKey:n,appId:e,setToken:s,setError:r,setExecuting:v,remove(){i&&(c.current?.remove(),v(!1),r(void 0),s(void 0))},reset(){i&&(c.current?.reset(),v(!1),r(void 0),s(void 0))},execute(){i&&(v(!0),c.current?.execute())},async waitForResult(){if(!i)return"";try{return await(function(u,{interval:l=100,timeout:o=5e3}={}){return new Promise(((d,p)=>{let f,y=0,w=()=>{y>=o?p("Max attempts reached without result"):(f=u(),y+=l,f==null?setTimeout(w,l):d(f))};w()}))})((()=>c.current?.getResponse()),{interval:200,timeout:2e4})}catch{throw new _3("Captcha failed",null,we.CAPTCHA_TIMEOUT)}}},children:t})},As=()=>H.useContext(FK);class Iv{async authenticate(){if(!this.api)throw new ge("Auth flow has no API instance");try{return await this.api.post(ove,{captcha_token:this.meta.captchaToken,telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Kt(e)}}async link(){if(!this.api)throw new ge("Auth flow has no API instance");try{return await this.api.post(lve,{telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData})}catch(e){throw Kt(e)}}constructor(e,n=!1){this.meta={disableSignup:!1},this.meta={captchaToken:e,disableSignup:!1},this.meta.disableSignup=n}}function jN(t){let e={detail:"",retryable:!1};return t?.privyErrorCode===we.LINKED_TO_ANOTHER_USER&&(e.detail="This account has already been linked to another user."),t?.privyErrorCode===we.DISALLOWED_LOGIN_METHOD&&(e.detail="Login with Telegram not allowed."),t?.privyErrorCode===we.INVALID_DATA&&(e.retryable=!0,e.detail="Something went wrong. Try again."),t?.privyErrorCode===we.CANNOT_LINK_MORE_OF_TYPE&&(e.retryable=!0,e.detail="Something went wrong. Try again."),t?.privyErrorCode===we.INVALID_CREDENTIALS&&(e.retryable=!0,e.detail="Something went wrong. Try again."),t?.privyErrorCode===we.TOO_MANY_REQUESTS&&(e.detail="Too many requests. Please wait before trying again."),t?.privyErrorCode===we.TOO_MANY_REQUESTS&&t.message.includes("rate limit")&&(e.detail="Request limit reached for Telegram. Please wait a moment and try again."),t instanceof _3&&(e.retryable=!0,e.detail="Something went wrong. Try again."),e}function pLe(){let t;return(t=(function(){let e=new URLSearchParams(window.location.search),n=Number(e.get("id")||""),i=e.get("hash"),c=Number(e.get("auth_date")||""),m=e.get("first_name");if(n&&m&&c&&i)return Object.fromEntries(e.entries())})())?(zN(),{flowType:"login-url",authData:t}):(t=(function(){let e=window.location.hash;if(!e||!e.startsWith("#tgWebAppData"))return;let n=LK(e.replace("#tgWebAppData=","")),{user:i,auth_date:c,hash:m}=n;return i&&c&&m?n:void 0})())?(zN(),{flowType:"web-app",authData:t}):void 0}function LK(t){return Object.fromEntries(decodeURIComponent(t).split("&").map((e=>e.split("=").map(decodeURIComponent))))}function zN(){let t=new URL(window.location.href);t.searchParams.delete("id"),t.searchParams.delete("hash"),t.searchParams.delete("auth_date"),t.searchParams.delete("first_name"),t.searchParams.delete("last_name"),t.searchParams.delete("username"),t.searchParams.delete("photo_url"),t.hash="",window.history.replaceState({},"",t)}let WN=t=>{if(t.chainType==="ethereum")return{entropyId:t.address,entropyIdVerifier:"ethereum-address-verifier"};if(t.chainType==="solana")return{entropyId:t.address,entropyIdVerifier:"solana-address-verifier"};throw Error("Failed to get account entropy details")};const io=(t,e)=>{if(e?.imported)return WN(e);let n=bo(t);if(!n)throw Error("Failed to find primary wallet");return WN(n)},vLe=({style:t,...e})=>M.jsxs("svg",{viewBox:"0 0 1024 1024",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[M.jsx("rect",{width:"1024",height:"1024",fill:"#0052FF",rx:100,ry:100}),M.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z",fill:"white"})]}),DK="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PScwIDAgMTAyNCAxMDI0JyBmaWxsPSdub25lJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHN0eWxlPSdoZWlnaHQ6MjhweDt3aWR0aDoyOHB4Jz48cmVjdCB3aWR0aD0nMTAyNCcgaGVpZ2h0PScxMDI0JyBmaWxsPScjMDA1MkZGJyByeD0nMTAwJyByeT0nMTAwJz48L3JlY3Q+PHBhdGggZmlsbC1ydWxlPSdldmVub2RkJyBjbGlwLXJ1bGU9J2V2ZW5vZGQnIGQ9J00xNTIgNTEyQzE1MiA3MTAuODIzIDMxMy4xNzcgODcyIDUxMiA4NzJDNzEwLjgyMyA4NzIgODcyIDcxMC44MjMgODcyIDUxMkM4NzIgMzEzLjE3NyA3MTAuODIzIDE1MiA1MTIgMTUyQzMxMy4xNzcgMTUyIDE1MiAzMTMuMTc3IDE1MiA1MTJaTTQyMCAzOTZDNDA2Ljc0NSAzOTYgMzk2IDQwNi43NDUgMzk2IDQyMFY2MDRDMzk2IDYxNy4yNTUgNDA2Ljc0NSA2MjggNDIwIDYyOEg2MDRDNjE3LjI1NSA2MjggNjI4IDYxNy4yNTUgNjI4IDYwNFY0MjBDNjI4IDQwNi43NDUgNjE3LjI1NSAzOTYgNjA0IDM5Nkg0MjBaJyBmaWxsPSd3aGl0ZSc+PC9wYXRoPjwvc3ZnPg==",NK="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAALZJREFUaEPtmjEOhDAMBNc/O14GvOzys3CAKK6eAlmaVGl2Zc+kTOU685vkc9/bnD2prZK5/TZY24z9P+g4F5hNh7/GdoG37WlAA5CATwgCxHENYISwQAMQII5rACOEBRqAAHFcAxghLNAABIjjGsAIYYEGIEAc1wBGCAs0AAHiuAYwQligAQgQxzWAEcICDUCAOK4BjBAWaAACxHENYISwQAMQII6fBjr+VHkW3+u+tfyxMpJaDgYzYxb/ALZVAAAAAElFTkSuQmCC";class kK extends Dn{constructor(){super("Wallet timeout"),this.type="wallet_error"}}const Dc=t=>t instanceof Dn?t:t?.code?new Ri(t):new Dn("Unknown connector error",t);class Pp extends Di{constructor(e,n,i){super(e),this.type="provider_error",this.code=n,this.data=i}}class Ri extends Pp{constructor(e){super(e.message,e.code,e.data);let n=Object.values(so).find((i=>i.eipCode===e.code));this.details=n||so.UNKNOWN_ERROR,e.code===-32002&&(e.message?.includes("already pending for origin")?e.message?.includes("wallet_requestPermissions")?this.details=so.E32002_CONNECTION_ALREADY_PENDING:this.details=so.E32002_REQUEST_ALREADY_PENDING:e.message?.includes("Already processing")&&e.message.includes("eth_requestAccounts")&&(this.details=so.E32002_WALLET_LOCKED))}}const Nh={ERROR_USER_EXISTS:{message:"User already exists for this address",detail:"Try another address!",retryable:!1},ERROR_TIMED_OUT:{message:"Wallet request timed out",detail:"Please try connecting again.",retryable:!0},ERROR_WALLET_CONNECTION:{message:"Could not log in with wallet",detail:"Please try connecting again.",retryable:!0},ERROR_USER_LIMIT_REACHED:{message:"Unable to link",detail:"You've reached the maximum number of linked wallets.",retryable:!1},...so};function uc(t){return t.type==="ethereum"}function BK(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){let i=t[n],c=e[n];if(i?.address!==c?.address||i&&c&&uc(i)&&uc(c)&&i?.chainId!==c?.chainId||i?.connectorType!==c?.connectorType||i?.connectedAt!==c?.connectedAt||i?.walletClientType!==c?.walletClientType||i?.isConnected!==c?.isConnected||i?.linked!==c?.linked)return!1}return!0}class UK extends xd{constructor(e){super(),this.walletClientType=e,this.connected=!1,this.initialized=!1}}const pA=(t,e)=>t.rpcTimeouts&&t.rpcTimeouts[e]||Z3;function Rv(t){return t.chainType==="ethereum"}class $d extends UK{buildConnectedWallet(e,n,i,c){let m=async()=>!!this.wallets.find((s=>Sr(s.address)===Sr(e)));return{type:"ethereum",address:Sr(e),chainId:n,meta:i,imported:c,switchChain:async s=>{let g,r;if(!m)throw new Dn("Wallet is not currently connected.");let a=this.wallets.find((u=>Sr(u.address)===Sr(e)))?.chainId;if(!a)throw new Dn("Unable to determine current chainId.");if(typeof s=="number"?(g=`0x${s.toString(16)}`,r=s):(g=s,r=Number(s)),a===vg(g))return;let v=this.chains.find((u=>u.id===r));if(!v)throw new Dn(`Unsupported chainId: ${s}`);let h=async()=>{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:g}]})};try{return await h()}catch(u){if(((l,o)=>{switch(o){case"coinbase_wallet":case"base_account":return l.message.includes("addEthereumChain");case"rabby_wallet":return l.message.includes("Unrecognized chain ID");default:return l.code===4902||l.message?.includes("4902")}})(u,this.walletClientType))return this.walletClientType==="rabby_wallet"&&await dx(300),await this.proxyProvider.request({method:"wallet_addEthereumChain",params:[{chainId:g,chainName:v.name,nativeCurrency:v.nativeCurrency,rpcUrls:[v.rpcUrls.default?.http[0]??""],blockExplorerUrls:[v.blockExplorers?.default.url??""]}]}),h();throw this.walletClientType==="rainbow"&&u.message?.includes("wallet_switchEthereumChain")?new Dn(`Rainbow does not support the chainId ${n}`):u}},connectedAt:Date.now(),walletClientType:this.walletClientType,connectorType:this.connectorType,isConnected:m,getEthereumProvider:async()=>{if(!await m())throw new Dn("Wallet is not currently connected.");return this.proxyProvider},sign:async s=>{if(!await m())throw new Dn("Wallet is not currently connected.");return await this.sign(s)},disconnect:()=>{this.disconnect()}}}async syncAccounts(e){let n,i=e;try{if(i===void 0){let r=await nT((()=>this.proxyProvider.request({method:"eth_accounts"})),{maxAttempts:10,delayMs:500});console.debug(`eth_accounts for ${this.walletClientType}:`,r),Array.isArray(r)&&(i=r)}}catch(r){console.debug("Wallet did not respond to eth_accounts. Defaulting to prefetched accounts.",r)}if(!i||!Array.isArray(i)||i.length<=0||!i[0])return;let c=i[0],m=Sr(c),s=[];if(this.walletClientType==="privy"){let r=Ct.get(NE(m));this.chains.find((a=>a.id===Number(r)))||(Ct.del(NE(m)),r=null),n=r||`0x${this.defaultChain.id.toString(16)}`;try{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]})}catch{console.warn(`Unable to switch embedded wallet to chain ID ${n} on initialization`)}}else try{let r=await nT((()=>this.proxyProvider.request({method:"eth_chainId"})),{maxAttempts:10,delayMs:500});if(console.debug(`eth_chainId for ${this.walletClientType}:`,r),typeof r=="string")n=r;else{if(typeof r!="number")throw Error("Invalid chainId returned from provider");n=`0x${r.toString(16)}`}}catch(r){console.warn("Failed to get chainId from provider, defaulting to 0x1",r),n="0x1"}let g=vg(n);if(!s.find((r=>Sr(r.address)===m))){let r={name:this.walletBranding.name,icon:typeof this.walletBranding.icon=="string"?this.walletBranding.icon:void 0,id:this.walletBranding.id};s.push(this.buildConnectedWallet(Sr(c),g,r,this.connectorType==="embedded_imported"))}BK(s,this.wallets)||(this.wallets=s,this.emit("walletsUpdated"))}async getConnectedWallet(){let e=await this.proxyProvider.request({method:"eth_accounts"});return this.wallets.sort(((n,i)=>i.connectedAt-n.connectedAt)).find((n=>e.find((i=>Sr(i)===Sr(n.address)))))||null}async isConnected(){let e=await this.proxyProvider.request({method:"eth_accounts"});return Array.isArray(e)&&e.length>0}async sign(e){return await this.connect({showPrompt:!1}),this.proxyProvider.request({method:"personal_sign",params:[sr(e),this.wallets[0]?.address]})}subscribeListeners(){this.proxyProvider.on("accountsChanged",this.onAccountsChanged),this.proxyProvider.on("chainChanged",this.onChainChanged),this.proxyProvider.on("disconnect",this.onDisconnect),this.proxyProvider.on("connect",this.onConnect)}unsubscribeListeners(){this.proxyProvider.removeListener("accountsChanged",this.onAccountsChanged),this.proxyProvider.removeListener("chainChanged",this.onChainChanged),this.proxyProvider.removeListener("disconnect",this.onDisconnect),this.proxyProvider.removeListener("connect",this.onConnect)}constructor(e,n,i,c){super(e),this.chainType="ethereum",this.onAccountsChanged=m=>{m.length===0?this.onDisconnect():this.syncAccounts(m)},this.onChainChanged=m=>{this.wallets.forEach((s=>{s.chainId=vg(m),this.walletClientType==="privy"&&Ct.put(NE(s.address),m)})),this.emit("walletsUpdated")},this.onDisconnect=()=>{this.connected=!1,this.wallets=[],this.emit("walletsUpdated")},this.onConnect=async()=>{this.connectorType==="base_account"&&this.connected||(this.connected=!0,this.connectorType==="coinbase_wallet"&&await dx(500),this.syncAccounts())},this.wallets=[],this.walletClientType=e,this.chains=n,this.defaultChain=i,this.rpcConfig=c,this.rpcTimeoutDuration=pA(c,e),this.connected=!1,this.initialized=!1}}class Fd{on(e,n){if(this.walletProvider)return this.walletProvider.on(e,n);this._subscriptions.push({eventName:e,listener:n})}async request(e){if(!this.walletProvider)throw new Dn(`A wallet request of type ${e.method} was made before setting a wallet provider.`);return Promise.race([this.walletProvider.request(e),this.walletTimeout()]).catch((n=>{throw Dc(n)}))}constructor(e,n){this.removeListener=(i,c)=>{if(this.walletProvider)try{return this.walletProvider.removeListener(i,c)}catch{console.warn("Unable to remove wallet provider listener")}},this.walletTimeout=(i=new kK,c=this.rpcTimeoutDuration)=>new Promise(((m,s)=>setTimeout((()=>{s(i)}),c))),this.setWalletProvider=i=>{this.walletProvider&&this._subscriptions.forEach((c=>{this.removeListener(c.eventName,c.listener)})),this.walletProvider=i,this._subscriptions.forEach((c=>{this.walletProvider?.on(c.eventName,c.listener)}))},this.walletProvider=e,this.rpcTimeoutDuration=n||Z3,this._subscriptions=[]}}const jK=({...t})=>M.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:M.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.37126 11.0323C2.37126 12.696 3.90598 13.4421 5.40654 13.4468C8.91753 13.4468 12.8021 11.2897 12.7819 7.67984C12.7673 5.07728 10.3748 2.86167 7.54357 2.88296C4.8495 2.88296 2.21821 4.6411 2.21803 7.03628C2.21803 7.67951 2.58722 8.30178 3.55231 8.37184C2.74763 9.16826 2.37126 10.1225 2.37126 11.0323ZM7.55283 8.68012C8.11562 8.68012 8.57186 8.13217 8.57186 7.45624C8.57186 6.78032 8.11562 6.23237 7.55283 6.23237C6.99003 6.23237 6.53379 6.78032 6.53379 7.45624C6.53379 8.13217 6.99003 8.68012 7.55283 8.68012ZM10.4747 8.68012C11.0375 8.68012 11.4937 8.13217 11.4937 7.45625C11.4937 6.78032 11.0375 6.23237 10.4747 6.23237C9.91186 6.23237 9.45562 6.78032 9.45562 7.45625C9.45562 8.13217 9.91186 8.68012 10.4747 8.68012Z",fill:t.color||"var(--privy-color-foreground-3)"})});class vA extends $d{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the EthereumNullConnector")}disconnect(){throw Error("disconnect called for an uninstalled wallet via the EthereumNullConnector")}promptConnection(e){throw Error(`promptConnection called for an uninstalled wallet via the EthereumNullConnector for ${e}`)}constructor({id:e,name:n,icon:i,walletClientType:c,defaultChain:m}){super(c,[],m,{}),this.connectorType="null",this.proxyProvider=new Fd(void 0,Z3),this.id=e,this.name=n,this.icon=i,this.connectorType=c}}const gA=({style:t,...e})=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeWidth:1.5,viewBox:"0 0 24 24",style:{...t},...e,children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25"})}),iT=({...t})=>M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",...t,children:[M.jsx("rect",{width:"32",height:"32",rx:"6",fill:"#121314"}),M.jsx("g",{transform:"translate(4, 4)",children:M.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 318.6 318.6",children:[M.jsx("style",{children:".s1{stroke-linecap:round;stroke-linejoin:round}.s2{fill:#e4761b;stroke:#e4761b}.s3{fill:#f6851b;stroke:#f6851b}"}),M.jsx("path",{fill:"#e2761b",stroke:"#e2761b",className:"s1",d:"m274.1 35.5-99.5 73.9L193 65.8z"}),M.jsx("path",{d:"m44.4 35.5 98.7 74.6-17.5-44.3zm193.9 171.3-26.5 40.6 56.7 15.6 16.3-55.3zm-204.4.9L50.1 263l56.7-15.6-26.5-40.6z",className:"s1 s2"}),M.jsx("path",{d:"m103.6 138.2-15.8 23.9 56.3 2.5-2-60.5zm111.3 0-39-34.8-1.3 61.2 56.2-2.5zM106.8 247.4l33.8-16.5-29.2-22.8zm71.1-16.5 33.9 16.5-4.7-39.3z",className:"s1 s2"}),M.jsx("path",{fill:"#d7c1b3",stroke:"#d7c1b3",className:"s1",d:"m211.8 247.4-33.9-16.5 2.7 22.1-.3 9.3zm-105 0 31.5 14.9-.2-9.3 2.5-22.1z"}),M.jsx("path",{fill:"#233447",stroke:"#233447",className:"s1",d:"m138.8 193.5-28.2-8.3 19.9-9.1zm40.9 0 8.3-17.4 20 9.1z"}),M.jsx("path",{fill:"#cd6116",stroke:"#cd6116",className:"s1",d:"m106.8 247.4 4.8-40.6-31.3.9zM207 206.8l4.8 40.6 26.5-39.7zm23.8-44.7-56.2 2.5 5.2 28.9 8.3-17.4 20 9.1zm-120.2 23.1 20-9.1 8.2 17.4 5.3-28.9-56.3-2.5z"}),M.jsx("path",{fill:"#e4751f",stroke:"#e4751f",className:"s1",d:"m87.8 162.1 23.6 46-.8-22.9zm120.3 23.1-1 22.9 23.7-46zm-64-20.6-5.3 28.9 6.6 34.1 1.5-44.9zm30.5 0-2.7 18 1.2 45 6.7-34.1z"}),M.jsx("path",{d:"m179.8 193.5-6.7 34.1 4.8 3.3 29.2-22.8 1-22.9zm-69.2-8.3.8 22.9 29.2 22.8 4.8-3.3-6.6-34.1z",className:"s3"}),M.jsx("path",{fill:"#c0ad9e",stroke:"#c0ad9e",className:"s1",d:"m180.3 262.3.3-9.3-2.5-2.2h-37.7l-2.3 2.2.2 9.3-31.5-14.9 11 9 22.3 15.5h38.3l22.4-15.5 11-9z"}),M.jsx("path",{fill:"#161616",stroke:"#161616",className:"s1",d:"m177.9 230.9-4.8-3.3h-27.7l-4.8 3.3-2.5 22.1 2.3-2.2h37.7l2.5 2.2z"}),M.jsx("path",{fill:"#763d16",stroke:"#763d16",className:"s1",d:"m278.3 114.2 8.5-40.8-12.7-37.9-96.2 71.4 37 31.3 52.3 15.3 11.6-13.5-5-3.6 8-7.3-6.2-4.8 8-6.1zM31.8 73.4l8.5 40.8-5.4 4 8 6.1-6.1 4.8 8 7.3-5 3.6 11.5 13.5 52.3-15.3 37-31.3-96.2-71.4z"}),M.jsx("path",{d:"m267.2 153.5-52.3-15.3 15.9 23.9-23.7 46 31.2-.4h46.5zm-163.6-15.3-52.3 15.3-17.4 54.2h46.4l31.1.4-23.6-46zm71 26.4 3.3-57.7 15.2-41.1h-67.5l15 41.1 3.5 57.7 1.2 18.2.1 44.8h27.7l.2-44.8z",className:"s3"})]})})]}),zK=({style:t,...e})=>M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"108",height:"108",viewBox:"0 0 108 108",fill:"none",style:{height:"28px",width:"28px",...t},...e,children:[M.jsx("rect",{width:"108",height:"108",rx:"23",fill:"#AB9FF2"}),M.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46.5267 69.9229C42.0054 76.8509 34.4292 85.6182 24.348 85.6182C19.5824 85.6182 15 83.6563 15 75.1342C15 53.4305 44.6326 19.8327 72.1268 19.8327C87.768 19.8327 94 30.6846 94 43.0079C94 58.8258 83.7355 76.9122 73.5321 76.9122C70.2939 76.9122 68.7053 75.1342 68.7053 72.314C68.7053 71.5783 68.8275 70.7812 69.0719 69.9229C65.5893 75.8699 58.8685 81.3878 52.5754 81.3878C47.993 81.3878 45.6713 78.5063 45.6713 74.4598C45.6713 72.9884 45.9768 71.4556 46.5267 69.9229ZM83.6761 42.5794C83.6761 46.1704 81.5575 47.9658 79.1875 47.9658C76.7816 47.9658 74.6989 46.1704 74.6989 42.5794C74.6989 38.9885 76.7816 37.1931 79.1875 37.1931C81.5575 37.1931 83.6761 38.9885 83.6761 42.5794ZM70.2103 42.5795C70.2103 46.1704 68.0916 47.9658 65.7216 47.9658C63.3157 47.9658 61.233 46.1704 61.233 42.5795C61.233 38.9885 63.3157 37.1931 65.7216 37.1931C68.0916 37.1931 70.2103 38.9885 70.2103 42.5795Z",fill:"#FFFDF8"})]}),gLe=["metamask","phantom","brave_wallet","rainbow","uniswap_wallet_extension","uniswap_extension","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","crypto.com_wallet_extension","crypto.com_onchain","binance","bitget_wallet","coinbase_wallet","coinbase_smart_wallet","base_account","metamask","trust","safe","rainbow","uniswap","zerion","argent","spot","omni","cryptocom","blockchain","safepal","bitget_wallet","zengo","1inch","binance","exodus","mew_wallet","alphawallet","keyring_pro","mathwallet","unstoppable","obvious","ambire","internet_money_wallet","coin98","abc_wallet","arculus_wallet","haha","cling_wallet","broearn","copiosa","burrito_wallet","enjin_wallet","plasma_wallet","avacus","bee","pitaka","pltwallet","minerva","kryptogo","prema","slingshot","kriptonio","timeless","secux","bitizen","blocto","okx_wallet","safemoon","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","privy","unknown","phantom","solflare","glow","backpack","mobile_wallet_adapter"],mA=Object.freeze({phantom:{client:"phantom",name:"Phantom",installLink:sn.isFirefox?"https://addons.mozilla.org/en-US/firefox/addon/phantom-app/":"https://chrome.google.com/webstore/detail/phantom/bfnaelmomeimhlpmgjnjophhpkkoljpa?hl=en",chainTypes:["ethereum","solana"],get isInstalled(){if("phantom"in window){let t=window;if(t?.phantom?.ethereum?.isPhantom&&t?.phantom?.ethereum?.chainId||t?.phantom?.solana?.isPhantom)return!0}return!1},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let i=E2({client:this.client,isSolana:e,connectOnly:n});return`${t?"phantom://":"https://phantom.app/ul/"}browse/${i}?ref=${i}`}},solflare:{client:"solflare",name:"Solflare",installLink:sn.isFirefox?"https://addons.mozilla.org/es/firefox/addon/solflare-wallet/":"https://chromewebstore.google.com/detail/solflare-wallet/bhhhlbepdkbapadjdnnojkbgioiodbic",chainTypes:["solana"],get isInstalled(){return"solflare"in window&&!!window?.solflare?.isSolflare},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let i=E2({client:this.client,isSolana:e,connectOnly:n});return`${t?"solflare://ul/v1/":"https://solflare.com/ul/v1/"}browse/${i}?ref=${i}`}},backpack:{client:"backpack",name:"Backpack",installLink:"https://chromewebstore.google.com/detail/backpack/aflkmfhebedbjioipglgcbcmnbpgliof",chainTypes:["ethereum","solana"],get isInstalled(){return!(!("backpack"in window)||!window?.backpack?.ethereum?.isBackpack&&!window?.backpack?.solana?.isBackpack)},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let i=E2({client:this.client,isSolana:e,connectOnly:n});return`${t?"backpack://ul/v1/":"https://backpack.app/ul/v1/"}browse/${i}?ref=${i}`}},okx_wallet:{client:"okx_wallet",name:"OKX Wallet",installLink:"https://chromewebstore.google.com/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge",chainTypes:["solana"],get isInstalled(){return"okxwallet"in window&&!!window?.okxwallet?.isOkxWallet},getMobileRedirect({isSolana:t,connectOnly:e}){return"https://www.okx.com/download?deeplink="+encodeURIComponent("okx://wallet/dapp/url?dappUrl="+E2({client:this.client,isSolana:t,connectOnly:e}))}}});function WK({connectorType:t,walletClientType:e}){for(let n of gLe)if(t===n||e===n)return mA[n]}function E2({client:t,isSolana:e,connectOnly:n}){let i=new URL(window.location.href);return i.searchParams.set("privy_connector",e?"solana_adapter":"injected"),i.searchParams.set("privy_wallet_client",t),i.searchParams.set("privy_connect_only",String(n)),encodeURIComponent(i.href.replace(/\/$/g,""))}const ow=()=>{let t=Ct.get(gK);return t&&Array.isArray(t)&&t.map((e=>(n=>n&&typeof n.address=="string"&&typeof n.connectorType=="string"&&typeof n.walletClientType=="string"&&typeof n.connectedAt=="number")(e))).every(Boolean)?t:[]};let mLe=["phantom","glow","solflare","backpack","okx_wallet","walletconnect","mobile_wallet_adapter"];function sT(t){return t.toLowerCase().split(" ").join("_")}class yLe extends UK{get isInstalled(){return!0}get wallet(){return this._wallet}buildConnectedWallet(){return this._wallet.accounts.map((e=>({type:"solana",provider:new OW({wallet:this._wallet,account:e}),address:e.address,connectedAt:Date.now(),walletClientType:this._wallet.name,connectorType:this.connectorType,imported:!1,meta:{name:this._wallet.name,id:this._wallet.name,icon:this._wallet.icon},isConnected:async()=>this._wallet.accounts.length>0,disconnect:()=>{this.disconnect()}})))}async syncAccounts(){this.wallets=this.buildConnectedWallet(),this.emit("walletsUpdated")}get walletBranding(){return{id:this.wallet.name,name:this.wallet.name,icon:this.wallet.icon}}async initialize(){this.subscribeListeners(),await this.syncAccounts(),this.shouldAttemptAutoConnect()&&await this.wallet.features["standard:connect"]?.connect({silent:!0}).catch((()=>{})),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}async getConnectedWallet(){return this.wallets.sort(((e,n)=>n.connectedAt-e.connectedAt))[0]||null}async isConnected(){return this._wallet.accounts.length>0}subscribeListeners(){this._unsubscribeListeners=this.wallet.features["standard:events"]?.on("change",this.onChange)}unsubscribeListeners(){this._unsubscribeListeners?.()}shouldAttemptAutoConnect(){return!(!this.autoConnectEnabled||!mLe.includes(this.walletClientType))&&(this.walletClientType!=="phantom"||ow().some((({walletClientType:e})=>e==="phantom")))}constructor(e,n){super(sT(e.name)),this.chainType="solana",this.connectorType="solana_adapter",this.disconnect=()=>{this.wallet.features["standard:disconnect"]?.disconnect().catch((i=>console.error("Error disconnecting",i)))},this.promptConnection=async()=>{try{await this.wallet.features["standard:connect"]?.connect()}catch(i){throw Dc(i)}},this.onChange=()=>{this.syncAccounts()},this._wallet=e,this.autoConnectEnabled=n,this.wallets=[]}}class yA extends yLe{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the SolanaNullConnector")}constructor({id:e,name:n,icon:i}){super({name:n},!1),this.connectorType="null",this.proxyProvider=new Fd(void 0,Z3),this.disconnect=async()=>{throw Error("disconnect called for an uninstalled wallet via the SolanaNullConnector")},this.promptConnection=async()=>{throw Error("promptConnection called for an uninstalled wallet via the SolanaNullConnector")},this.id=e,this.name=n,this.icon=i}}function Q3(t){return t.chainType==="solana"}function wLe(t){return t.type==="solana"}const b1=p0((()=>({listings:[]}))),xLe=b1.setState,BE=t=>{let e;try{e=new URL(t).hostname}catch{return}return b1.getState().listings.find((({homepage:n})=>{let i;try{i=new URL(n).hostname}catch{return!1}return e.includes(i)}))},Nc=t=>b1((({listings:e})=>e.find((({slug:n})=>fx(n)===fx(t)))));function fx(t){return t==="cryptocom"?"cryptocom-defi":t==="binance"?"binance-defi":t.replace(/[-_]wallet$/,"")}const Vl={appearance:{landingHeader:"Log in or sign up",theme:"light",walletList:["detected_ethereum_wallets","detected_solana_wallets","metamask","coinbase_wallet","rainbow","base_account","wallet_connect"]},walletConnectCloudProjectId:"34357d3c125c2bcf2ce2bc3309d98715",captchaEnabled:!1,_render:{standalone:!1},fundingMethodConfig:{moonpay:{useSandbox:!1}}};let bLe=new Set(["coinbase_wallet","base_account","cryptocom","metamask","okx_wallet","phantom","rainbow","uniswap","zerion","universal_profile","bybit_wallet","ronin_wallet","haha_wallet","wallet_connect","wallet_connect_qr","detected_solana_wallets","detected_ethereum_wallets","rabby_wallet","safe","solflare","backpack","binance","binanceus","bitget_wallet"]),GN=t=>bLe.has(t),VN=(t,e,n)=>n.indexOf(t)===e;function C2(t,e){let n=Math.max(0,Math.min(1,t.toHsl().l+e));return ot({...t.toHsl(),l:n})}function UE(t,e){let n=t.getLuminance(),i=e.getLuminance();return(Math.max(n,i)+.05)/(Math.min(n,i)+.05)}function ELe({backgroundTheme:t,accentHex:e}){let n,i;t==="light"?n=!1:t==="dark"?n=!0:(n=.5>=ot(t).getLuminance(),i=ot(t).toHslString());let c=n?"dark":"light",m=n?Ov:S2,{accent:s,accentLight:g,accentHover:r,accentDark:a,accentDarkest:v}=(function(o,d){if(!o){let f=d?Ov:S2;return{accent:ot(f.background.interactive),accentLight:ot(f.background.interactive),accentHover:ot(f.background["interactive-hover"]),accentDark:ot(f.background["interactive-clicked"]),accentDarkest:ot(f.background["interactive-disabled"])}}let p=ot(o);return{accent:p,accentLight:C2(p,.15),accentHover:C2(p,.3),accentDark:C2(p,-.06),accentDarkest:C2(p,-.6)}})(e,n),h=(function(o){let d=ot(S2.text.default),p=ot(Ov.text.default),f=UE(o,d),y=UE(o,p),w=o.toHsl();return w.h>=220&&w.h<=300&&y>=3?Ov.text.default:f>y?S2.text.default:Ov.text.default})(s),u=ot(h),l=UE(s,ot(m.background.default))>=3;return{colorScheme:c,background:i||m.background.default,background2:m.background.elevated,background3:m.background.interactive,foreground:m.text.default,foreground2:m.text.muted,foreground3:m.text.placeholder,foreground4:m.border.default,accent:s.toHslString(),accentLight:g.toHslString(),accentHover:r.toHslString(),accentDark:a.toHslString(),accentDarkest:v.toHslString(),foregroundAccent:u.toHslString(),success:m.background.success,successDark:m.text.success,successLight:m.background.success,error:m.text.error,errorLight:m.background.error,warn:m.background.warning,warnLight:m.background.warning,warningDark:m.text.warning,errorDark:m.text.error,successBg:m.background.success,errorBg:m.background.error,errorBgHover:m.background["error-hover"],warnBg:m.background.warning,infoBg:m.background.info,infoBgHover:m.background["info-hover"],borderDefault:m.border.default,borderHover:m.border["default-hover"],borderFocus:m.border.focused,borderError:m.border.error,borderSuccess:m.border.success,borderWarning:m.border.warning,borderInfo:m.border.info,borderInteractive:m.border.interactive,borderInteractiveHover:m.border["interactive-hover"],backgroundHover:m.background["default-hover"],backgroundClicked:m.background["default-clicked"],backgroundDisabled:m.background["default-disabled"],backgroundInteractive:m.background.interactive,backgroundInteractiveHover:m.background["interactive-hover"],backgroundInteractiveClicked:m.background["interactive-clicked"],backgroundInteractiveDisabled:m.background["interactive-disabled"],foregroundHover:m.text.default,foregroundClicked:m.text.default,foregroundDisabled:m.text["default-disabled"],foregroundInteractive:m.text.interactive,foregroundInteractiveHover:m.text["interactive-hover"],accentHasGoodContrast:l?"1":"0",linkNavigationColor:l?s.toHslString():m.text.default,linkNavigationDecoration:l?"none":"underline",iconDefault:m.icon.default,iconMuted:m.icon.muted,iconSubtle:m.icon.subtle,iconInverse:m.icon.inverse,iconSuccess:m.icon.success,iconWarning:m.icon.warning,iconError:m.icon.error,iconInteractive:m.icon.interactive,iconDefaultHover:m.icon["default-hover"],iconMutedHover:m.icon["muted-hover"],iconSubtleHover:m.icon["subtle-hover"],iconDefaultClicked:m.icon["default-clicked"],iconMutedClicked:m.icon["muted-clicked"],iconSubtleClicked:m.icon["subtle-clicked"],iconDefaultDisabled:m.icon["default-disabled"],iconMutedDisabled:m.icon["muted-disabled"],iconSubtleDisabled:m.icon["subtle-disabled"],iconErrorHover:m.icon["error-hover"],iconInteractiveHover:m.icon["interactive-hover"],iconErrorClicked:m.icon["error-clicked"],iconInteractiveClicked:m.icon["interactive-clicked"],iconMutedDisabledAlt:m.icon["muted-disabled"],iconSubtleDisabledAlt:m.icon["subtle-disabled"]}}const Ov={background:{default:"#020713",elevated:"#1A2230","default-hover":"#101724","default-clicked":"#1A2230","default-disabled":"#020713",success:"#0E3E2D",warning:"#373827",error:"#2E0C18",interactive:"#8B86FF","error-hover":"#441821","interactive-hover":"#7B73E5","interactive-clicked":"#6560CC","interactive-disabled":"#141824",info:"#1F2937","info-hover":"#141824"},icon:{default:"#F8F8F8",muted:"#9BA2AE",subtle:"#7B8491",inverse:"#020713",success:"#88E3B5",warning:"#FDF27B",error:"#EF4444",interactive:"#88B6FF","default-hover":"#F8F8F8","muted-hover":"#AEB3BD","subtle-hover":"#8B939E","default-clicked":"#F8F8F8","muted-clicked":"#9097A5","subtle-clicked":"#78818E","default-disabled":"#404452","muted-disabled":"#404452","subtle-disabled":"#404452","error-hover":"#F05555","interactive-hover":"#7B73E5","error-clicked":"#EF4444","interactive-clicked":"#6560CC"},text:{default:"#F8F8F8",muted:"#9BA2AE",placeholder:"#7B8491",success:"#ACEECB",warning:"#FEF9A0",error:"#FCA5A5",interactive:"#A29EFF","default-disabled":"#404452","interactive-hover":"#8C88E5"},border:{default:"#1F2937",interactive:"#88B0FF",focused:"#F8F8FC",info:"#5B83D3",success:"#317056",warning:"#FBBF24",error:"#F87171","default-hover":"#34304A","interactive-hover":"#88B0FF"}},S2={background:{default:"#FFFFFF",elevated:"#F1F2F9","default-hover":"#F8F9FC","default-clicked":"#F1F2F9","default-disabled":"#FFFFFF",success:"#DCFCE7",warning:"#FEF3C7",error:"#FEE2E2",interactive:"#5B4FFF","error-hover":"#FECACA","interactive-hover":"#4F46E5","interactive-clicked":"#4338CA","interactive-disabled":"#F1F2F9",info:"#E0E7FF","info-hover":"#EEF2FF"},icon:{default:"#110F2A",muted:"#64668B",subtle:"#9498B8",inverse:"#FFFFFF",success:"#33B287",warning:"#F59E0B",error:"#EF4444",interactive:"#564FFF","default-hover":"#1D1B35","muted-hover":"#64668B","subtle-hover":"#888AAE","default-clicked":"#060C23","muted-clicked":"#64668B","subtle-clicked":"#788804","default-disabled":"#CBCDE1","muted-disabled":"#CBCDE1","subtle-disabled":"#CBCDE1","error-hover":"#F06060","interactive-hover":"#4F46E5","error-clicked":"#DC3838","interactive-clicked":"#2BA482"},text:{default:"#040217",muted:"#64668B",placeholder:"#9498B8",success:"#135638",warning:"#906218",error:"#991B1B",interactive:"#5B4FFF","default-disabled":"#CBCDE1","interactive-hover":"#5B4FFF"},border:{default:"#E2E3F0",interactive:"#5B4FFF",focused:"#949DF9",info:"#F1F2F9",success:"#87D7B7",warning:"#FACD63",error:"#F69393","default-hover":"#E2E3F0","interactive-hover":"#5B4FFF"}};function GK(t,e,n,i,c){let m,s,g,r,a,v,h,u,l,o,d,p,f,y,w,x,b,E=n?console.warn:()=>{};e?.loginMethods?(m=e.loginMethods.includes("email"),s=e.loginMethods.includes("sms"),r=e.loginMethods.includes("wallet"),a=e.loginMethods.includes("google"),v=e.loginMethods.includes("twitter"),h=e.loginMethods.includes("discord"),d=e.loginMethods.includes("spotify"),p=e.loginMethods.includes("instagram"),u=e.loginMethods.includes("tiktok"),l=e.loginMethods.includes("line"),o=e.loginMethods.includes("twitch"),y=e.loginMethods.includes("github"),f=e.loginMethods.includes("linkedin"),w=e.loginMethods.includes("apple"),x=e.loginMethods.includes("farcaster"),b=e.loginMethods.includes("telegram"),g=e.loginMethods.includes("passkey")):(m=t.email_auth,s=t.sms_auth,r=t.wallet_auth||t.solana_wallet_auth,a=t.google_oauth,v=t.twitter_oauth,h=t.discord_oauth,y=t.github_oauth,d=t.spotify_oauth,p=t.instagram_oauth,u=t.tiktok_oauth,l=t.line_oauth,o=t.twitch_oauth,f=t.linkedin_oauth,w=t.apple_oauth,x=t.farcaster_auth,b=t.telegram_auth,g=t.passkey_auth),t.passkey_auth&&(g=!0),typeof window<"u"&&typeof window.PublicKeyCredential!="function"&&(g=!1);let C=[m,s].filter(Boolean),T=[a,v,h,y,d,p,u,l,f,w,x,b].filter(Boolean),S=[r].filter(Boolean),A=e?.loginMethods?.includes("passkey")??!1,P=t.passkeys_for_signup_enabled??!1,R=[g&&(P||A)].filter(Boolean);if(C.length+T.length+S.length+R.length===0)throw Error("You must enable at least one login method");let L=e?.appearance?.showWalletLoginFirst!==void 0?e?.appearance?.showWalletLoginFirst:t.show_wallet_login_first;L&&S.length===0?(E("You should only enable `showWalletLoginFirst` when `wallet` logins are also enabled. `showWalletLoginFirst` has been set to false"),L=!1):L||T.length+C.length!==0||(E("You should only disable `showWalletLoginFirst` when `email`, `sms`, or social logins are also enabled. `showWalletLoginFirst` has been set to true"),L=!0);let D=e?.externalWallets?.walletConnect?.enabled??!0;e?.loginMethods&&e.loginMethodsAndOrder&&E("You should only configure one of `loginMethods` or `loginMethodsAndOrder`");let $=(({input:Z,overrides:V})=>V?V.primary.concat(V.overflow??[]).filter(GN).filter(VN):Z?Z.filter(GN).filter(VN):Vl.appearance.walletList)({input:e?.appearance?.walletList,overrides:e?.loginMethodsAndOrder}),F=(({input:Z})=>{if(!Z||!Z.primary[0])return;let V=[Z.primary[0]],J=[];for(let Q of(Z.primary.length>4&&console.warn("You should not specify greater than 4 login methods in `loginMethodsAndOrder.primary`"),Z.primary.slice(1)))V.includes(Q)?console.warn(`Duplicated login method: ${Q}`):V.push(Q);for(let Q of Z.overflow??[])V.includes(Q)||J.includes(Q)?console.warn(`Duplicated login method: ${Q}`):J.push(Q);return{primary:V,overflow:J}})({input:e?.loginMethodsAndOrder}),N=e?.intl?.defaultCountry??"US",{chains:k,defaultChain:j}=(function({supportedChains:Z,defaultChainFromConfig:V}){let J;if(Z){if(Z.length===0)throw Error("`supportedChains` must contain at least one chain");J=vW(Z)}else J=[...e1];let Q=Z?J[0]:Na,ee=V??Q;if(!J.find((te=>te.id===ee.id)))throw Error("`defaultChain` must be included in `supportedChains`");return{chains:J,defaultChain:ee}})({supportedChains:e?.supportedChains,defaultChainFromConfig:e?.defaultChain}),W=!!e?.defaultChain,G=e?.customAuth?.getCustomAccessToken&&e?.customAuth?.enabled!==!1,K=G?"all-users":t.embedded_wallet_config.ethereum.create_on_login,z=t.embedded_wallet_config.solana.create_on_login;t.solana_wallet_auth&&!e?.externalWallets?.solana?.connectors&&console.warn("App configuration has Solana wallet login enabled, but no Solana wallet connectors have been passed to Privy. Make sure to pass Solana connectors to the `config.externalWallets.solana.connectors` field of the `PrivyProvider`");let X=t.telegram_auth_config?{botId:t.telegram_auth_config.bot_id,botName:t.telegram_auth_config.bot_name,linkEnabled:t.telegram_auth_config.link_enabled,seamlessAuthEnabled:t.telegram_auth_config.seamless_auth_enabled}:void 0,U=t.funding_config?{methods:t.funding_config.methods,options:t.funding_config.options,defaultRecommendedAmount:t.funding_config.default_recommended_amount,defaultRecommendedCurrency:t.funding_config.default_recommended_currency,promptFundingOnWalletCreation:t.funding_config.prompt_funding_on_wallet_creation,crossChainBridgingEnabled:t.funding_config.cross_chain_bridging_enabled}:void 0;return{id:t.id,appClientId:c,name:t.name,allowlistConfig:{errorTitle:t.allowlist_config.error_title,errorDetail:t.allowlist_config.error_detail,errorCtaText:t.allowlist_config.cta_text,errorCtaLink:t.allowlist_config.cta_link},legacyWalletUiConfig:t.legacy_wallet_ui_config,appearance:{logo:e?.appearance?.logo??t.logo_url??void 0,landingHeader:e?.appearance?.landingHeader??Vl.appearance.landingHeader,loginMessage:typeof e?.appearance?.loginMessage=="string"?e?.appearance?.loginMessage.slice(0,100):e?.appearance?.loginMessage,footerLogo:e?.appearance?.footerLogo,palette:ELe({backgroundTheme:e?.appearance?.theme??Vl.appearance.theme,accentHex:e?.appearance?.accentColor??t.accent_color}),loginGroupPriority:L?"web3-first":"web2-first",hideDirectWeb2Inputs:!!e?.appearance?.hideDirectWeb2Inputs,walletList:$,walletChainType:e?.appearance?.walletChainType??(({evmWalletAuth:Z,solanaWalletAuth:V})=>Z&&V?"ethereum-and-solana":Z?"ethereum-only":V?"solana-only":"ethereum-only")({evmWalletAuth:t.wallet_auth??!1,solanaWalletAuth:t.solana_wallet_auth??!1})},loginMethods:{wallet:r,email:m,sms:s,passkey:g,google:a,twitter:v,discord:h,github:y,spotify:d,instagram:p,tiktok:u,line:l,twitch:o,linkedin:f,apple:w,farcaster:x,telegram:b},customOAuthProviders:(t.custom_oauth_providers??[]).filter((Z=>Z.enabled!==!1)),disablePlusEmails:t.disable_plus_emails,loginMethodsAndOrder:F,legal:{termsAndConditionsUrl:e?.legal?.termsAndConditionsUrl??t.terms_and_conditions_url,privacyPolicyUrl:e?.legal?.privacyPolicyUrl??t.privacy_policy_url,requireUsersAcceptTerms:t.require_users_accept_terms??!1},walletConnectCloudProjectId:e?.walletConnectCloudProjectId??t.wallet_connect_cloud_project_id??Vl.walletConnectCloudProjectId,rpcConfig:{rpcUrls:{},rpcTimeouts:e?.externalWallets?.signatureRequestTimeouts??{}},chains:k,defaultChain:j,intl:{defaultCountry:N},shouldEnforceDefaultChainOnConnect:W,captchaEnabled:t.captcha_enabled??Vl.captchaEnabled,captchaSiteKey:t.captcha_site_key,externalWallets:{coinbaseWallet:{config:{appName:t.name,appLogoUrl:t.logo_url,preference:{options:"all",...e?.externalWallets?.coinbaseWallet?.config?.preference},...e?.externalWallets?.coinbaseWallet?.config}},baseAccount:{config:{appName:t.name,appLogoUrl:t.logo_url,...e?.externalWallets?.baseAccount?.config,preference:{...e?.externalWallets?.baseAccount?.config?.preference,telemetry:!1}}},walletConnect:{enabled:D},solana:{connectors:e?.externalWallets?.solana?.connectors},disableAllExternalWallets:e?.externalWallets?.disableAllExternalWallets??!1},embeddedWallets:{requireUserOwnedRecoveryOnCreate:!G&&(t.embedded_wallet_config.require_user_owned_recovery_on_create??!1),userOwnedRecoveryOptions:G?["user-passcode"]:t.embedded_wallet_config.user_owned_recovery_options,priceDisplay:e?.embeddedWallets?.priceDisplay??{primary:"fiat-currency",secondary:"native-token"},ethereum:{createOnLogin:e?.embeddedWallets?.ethereum?.createOnLogin??K},solana:{createOnLogin:e?.embeddedWallets?.solana?.createOnLogin??z},disableAutomaticMigration:e?.embeddedWallets?.disableAutomaticMigration??!1,mode:t.embedded_wallet_config.mode,showWalletUIs:e?.embeddedWallets?.showWalletUIs??t.enforce_wallet_uis??!0,extendedCalldataDecoding:e?.embeddedWallets?.extendedCalldataDecoding??!1,transactionScanning:{enabled:e?.embeddedWallets?.transactionScanning?.enabled??!1,domain:e?.embeddedWallets?.transactionScanning?.domain??i??"https://auth.privy.io"}},mfa:{methods:t.mfa_methods??[],noPromptOnMfaRequired:e?.mfa?.noPromptOnMfaRequired??!1},passkeys:{shouldUnlinkOnUnenrollMfa:e?.passkeys?.shouldUnlinkOnUnenrollMfa,shouldUnenrollMfaOnUnlink:e?.passkeys?.shouldUnenrollMfaOnUnlink,registration:e?.passkeys?.registration},customAuth:G?{enabled:!0,...e.customAuth}:void 0,loginConfig:{telegramAuthConfiguration:X,passkeysForSignupEnabled:t.passkeys_for_signup_enabled},headless:!!e?.headless,render:{standalone:e?._render?.standalone??Vl._render.standalone},fundingConfig:U,fundingMethodConfig:{...e?.fundingMethodConfig??Vl.fundingMethodConfig,moonpay:{...e?.fundingMethodConfig?.moonpay??Vl.fundingMethodConfig.moonpay,useSandbox:e?.fundingMethodConfig?.moonpay.useSandbox??Vl.fundingMethodConfig.moonpay.useSandbox}},whatsAppEnabled:!!t.whatsapp_enabled,customOAuthRedirectUrl:e?.customOAuthRedirectUrl,solanaRpcs:{"solana:mainnet":e?.solana?.rpcs?.["solana:mainnet"]??null,"solana:devnet":e?.solana?.rpcs?.["solana:devnet"]??null,"solana:testnet":e?.solana?.rpcs?.["solana:testnet"]??null}}}const VK={show_wallet_login_first:!0,allowlist_config:{error_title:null,error_detail:null,cta_text:null,cta_link:null},wallet_auth:!0,email_auth:!0,sms_auth:!1,google_oauth:!1,twitter_oauth:!1,discord_oauth:!1,github_oauth:!1,linkedin_oauth:!1,apple_oauth:!1,disable_plus_emails:!1,terms_and_conditions_url:null,privacy_policy_url:null,embedded_wallet_config:{create_on_login:"off",ethereum:{create_on_login:"off"},solana:{create_on_login:"off"},require_user_owned_recovery_on_create:!1,user_owned_recovery_options:["user-passcode"],mode:"user-controlled-server-wallets-only"},captcha_enabled:!1,captcha_site_key:"",enforce_wallet_uis:!1,legacy_wallet_ui_config:!1,id:"",name:"",passkeys_for_signup_enabled:!1,whatsapp_enabled:!1};let wA=H.createContext({appConfig:GK(VK,void 0,!1),isServerConfigLoaded:!1});const CLe=({children:t,client:e,legacyClient:n,clientConfig:i,appClientId:c})=>{let[m,s]=H.useState(null),g=H.useMemo((()=>GK(m??VK,i,!!m,typeof window<"u"?window.location.origin:void 0,c)),[m,i,c]);return H.useEffect((()=>{if(!m)return;let r=(function(h){if(!h)return{};let{appearance:u,supportedChains:l,defaultChain:o,externalWallets:d,...p}=h;return{...p,...l?{supportedChains:l.map((f=>f.id))}:void 0,...o?{defaultChain:o.id}:void 0,...d?{walletConnect:d.walletConnect?{enabled:d.walletConnect.enabled}:void 0,coinbaseWallet:d.coinbaseWallet,solana:{connectors:d.solana?.connectors?.get().map((f=>f.walletClientType))}}:void 0}})(i),a=(function(h,u=0){let l=3735928559^u,o=1103547991^u;for(let d,p=0;p<h.length;p++)l=Math.imul(l^(d=h.charCodeAt(p)),2654435761),o=Math.imul(o^d,1597334677);return l=Math.imul(l^l>>>16,2246822507)^Math.imul(o^o>>>13,3266489909),4294967296*(2097151&(o=Math.imul(o^o>>>16,2246822507)^Math.imul(l^l>>>13,3266489909)))+(l>>>0)})(JSON.stringify(r)).toString(),v=`privy:sent:${m.id}:${a}`;localStorage.getItem(v)||(n.createAnalyticsEvent({eventName:"sdk_initialize",payload:r}),localStorage.setItem(v,"t"))}),[i,m]),H.useEffect((()=>{m||(async()=>{try{await e.initialize();let r=e.app.getConfig();r.custom_api_url&&n.updateApiUrl(r.custom_api_url),s(r)}catch(r){console.warn("Error generating app config: ",r)}})()}),[]),M.jsx(wA.Provider,{value:{appConfig:g,isServerConfigLoaded:!!m},children:t})},it=()=>{let{appConfig:t}=H.useContext(wA);return t},HK=()=>{let{isServerConfigLoaded:t}=H.useContext(wA);return t},SLe=({style:t,...e})=>{let n=it();return M.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[M.jsx("rect",{width:"28",height:"28",rx:"3",fill:n?.appearance.palette.colorScheme==="dark"?"#3396ff":"#141414"}),M.jsx("g",{clipPath:"url(#clip0_1765_9946)",children:M.jsx("path",{d:"M8.09448 10.3941C11.3558 7.20196 16.6442 7.20196 19.9055 10.3941L20.2982 10.7782C20.3369 10.8157 20.3677 10.8606 20.3887 10.9102C20.4097 10.9599 20.4206 11.0132 20.4206 11.0671C20.4206 11.121 20.4097 11.1744 20.3887 11.224C20.3677 11.2737 20.3369 11.3186 20.2982 11.3561L18.9554 12.6702C18.9158 12.7086 18.8628 12.7301 18.8077 12.7301C18.7526 12.7301 18.6996 12.7086 18.66 12.6702L18.1198 12.1415C15.8448 9.91503 12.1557 9.91503 9.88015 12.1415L9.30167 12.7075C9.26207 12.7459 9.20909 12.7673 9.15395 12.7673C9.0988 12.7673 9.04582 12.7459 9.00622 12.7075L7.66346 11.3934C7.62475 11.3559 7.59397 11.3109 7.57295 11.2613C7.55193 11.2117 7.5411 11.1583 7.5411 11.1044C7.5411 11.0505 7.55193 10.9971 7.57295 10.9475C7.59397 10.8979 7.62475 10.8529 7.66346 10.8154L8.09448 10.3941ZM22.6829 13.1115L23.8776 14.2814C23.9163 14.319 23.9471 14.3639 23.9681 14.4135C23.9892 14.4632 24 14.5165 24 14.5704C24 14.6243 23.9892 14.6777 23.9681 14.7273C23.9471 14.777 23.9163 14.8219 23.8776 14.8594L18.4893 20.1332C18.4102 20.2101 18.3042 20.2531 18.1938 20.2531C18.0835 20.2531 17.9775 20.2101 17.8984 20.1332L14.0743 16.3901C14.0545 16.3708 14.0279 16.36 14.0003 16.36C13.9726 16.36 13.9461 16.3708 13.9263 16.3901L10.1021 20.1332C10.023 20.2101 9.91703 20.2531 9.8067 20.2531C9.69636 20.2531 9.59038 20.2101 9.51124 20.1332L4.12236 14.8594C4.08365 14.8219 4.05287 14.777 4.03185 14.7273C4.01083 14.6777 4 14.6243 4 14.5704C4 14.5165 4.01083 14.4632 4.03185 14.4135C4.05287 14.3639 4.08365 14.319 4.12236 14.2814L5.31767 13.1115C5.39678 13.0348 5.50265 12.9919 5.61285 12.9919C5.72305 12.9919 5.82892 13.0348 5.90803 13.1115L9.73216 16.8546C9.75194 16.874 9.7785 16.8848 9.80616 16.8848C9.83381 16.8848 9.86037 16.874 9.88015 16.8546L13.7043 13.1115C13.7834 13.0346 13.8894 12.9916 13.9997 12.9916C14.1101 12.9916 14.216 13.0346 14.2952 13.1115L18.1198 16.8546C18.1396 16.874 18.1662 16.8848 18.1938 16.8848C18.2215 16.8848 18.2481 16.874 18.2678 16.8546L22.092 13.1115C22.1711 13.0346 22.2771 12.9916 22.3874 12.9916C22.4977 12.9916 22.6037 13.0346 22.6829 13.1115Z",fill:"white"})}),M.jsx("defs",{children:M.jsx("clipPath",{id:"clip0_1765_9946",children:M.jsx("rect",{width:"20",height:"12.2531",fill:"white",transform:"translate(4 8)"})})})]})},YK="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAHdElNRQfoDAIVODUC+w+GAAAGsUlEQVRYw6WXbYwWVxXHf+fOLAtCXYS2QJdIaClipGCTknXXNqBQMVHbfmhItH4Aral+IAEaG03UxJgYKQJGTUxtDWjaxDSNtcZqIGDwpRuW1oYiVqpdpZSlpC3qysu+PHPP3w/3mXnmeXZbPzjJZO7cefn/z/mfe865xlscq3dGDIguGiHLaMQVLja4s87FShcLo5jtApdddnHexUmHIy475JmdUkPRAQMu7gzT4ljnxJpdk0QPmMFkyAKN2OfOFpc2uuh1J3MZDrjAvXmVEQUuoosRxw642FcEG7IoDxiFxNiu8NYE+vcUYIFYRKKs113bXWx2Z34CoQZsVHOiCZ7mopdzdsFhv8NexEgRDHMxUSNREbh1bwNZwBsFblmfu/a4a6AEENYO5i3AOoEWeEUCF4MOOxBDMQAOk99OJALA2u80sBCwWGBZWG/yRwMaCAbBIAsQTJT3gea1OWfNeaPzvjoHEI85rA8ObtB1v7cIdJkIHgkh9AXpocy0LJjIKvB2wPpZB0v3wkrw5jdNEjeYeMhFX3BAyfn2ke9NUrgB9LrrcZcGJFCld4fWNddXbvbWfWzGR6xJFZsBGh0cBh3bBIxIEGTQ3W0h4NuDaSAzyAxCmGq11Vzf5uaa1aG8p+WFtrEYQGwvjICJkAEqvC+YNmcmMlMNvEaCdrcbyUvQAWDTjVuESHObM6cPGWHmzDwLaEtmzG9Z3qF1zUpXmuuZBb1z4bqeNC6f0WE1NtUTwHzEloiy3BvFisy0sYoLlQtT6XW15md2Qf9SY+2Ngfdca/TMSm/9ewz+/Boc/It45h/i4kSTsKw90SQJsPTvjSZbkWemDW7qTRZ0JEYJWSKxZJ7xmf6M224MzMzbX1s8F1YugjtvMg6eErt/4/z1jUrz1rXUKxnZC2zIg2mdBTK1mFUOKC1fOt/48kdzVixIz86Nij+eEacvpJWyZJ5xy7th8VzjjpuMJfMCW58QL73ekXPVlhsyE+vyzFiplJyauEIyrGIquruMq7qTxk+dcB495rzyTzFepCUWLIFv/kBg081Gd55WUk1IDGFTS89K++TDYxddzKnWcbluHd450xgdh7EGrOo1rr868PMTzqWJRGZ2d8oB/xpL33Xnxl2rjeNn4blXRXduzJ4B5y+28kWscAwXl+yeR654FFZPHoUb710YuPeDOUdPO48di1xptKpeEeHqOcYXNwQKGd88EDk3mqxtxPSfGRlsXRtYt8z4ytPOH/7eqpg1Aso7fYKgK4NPrMpYvsC4/poMA34yVJIQC3sCD9yecdsNyaV5yPj6ryJnR1PAvSNP4J+/1cgDfLbfePaMGGtM7Qdyl12WmKOmXgKKAp54vmBRTxfLrjE+tSYjBPjRM5FrrzIeuD2jf2lLzw8vN4JlfPVp581LsO1DgXv7jSzAiXPw/d+JiYLpjsu26Yfjf5O0rF5WoxsNT9G/bX0XKxakmPjlSee6HlizJJXSX7/oRDc+vjKR+f2wODcKd78/gR8/C9uedF44myJxmhh4OY/ipMQyqaWxmjn95TfEroMFOzbkvG+RceeqViPx1Aln1yEnOow1AnffHCpJAJ5/Vex4UvzptZRdY/O/1dJIS/NkcNmR6MTYah6qzseA4TfFtw4UvHBW1bc/O+7sPhwZHYf/jMODh5yfPudVbXj2TAJ/8XxrOZagNamj4Ei2/GNfuyRxh8t6BG2l15up+MIVODEiFr8rcPS0+O6RBF6mrrEGHHtFzOo2Lo7Dl37hvPQ6mNV6R9JYKgnYWcE37K5HlE2OT/5A0udaPUBHH+BQOMzuNsYLuDyZflTW+fTcmJFDHhJhaZqewMuewXDxcDR9IYyPN6Jj+6K4MF2vV8qBtZJScqVRNi6lpGONVJis5mpKi1WbgwsY+zIsBpcR8mzIZfuTRVZrtdu9odrptR/Xx5XONXJqBmCN0P6YMUQq9WJiwt0Je102WHdbpxSqydMObBWYdwDWLVcqcIMYe3NPjg0Ht84od0Ajju1w2XCr9e6QoqM9V23ZtnmI6cfAMMb9AY0YEHdb6oobEh4y3H3Ize6LsmGvN5IdUnhttdQ9UVrfLk/ljWEZ9wXsqAdQk1EA+O22GcgdZTke/bAs3OPY4HSdcB20HhvVtTMu0jmI8ekAhz2IICj2hKpNqI60NcuIRUHEej1quzubXa2tmZhenrfZmv3YYQ9ipDAIgvHptmblccuDjdRcmjFpWbDi/9ycZjZkRbk5jYztai/AUwiUx+qdEQB/m+25i9lxyvbcjrg45Lmd0uT/3p7/Fw6ODf+WO019AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDI0LTEyLTAyVDIxOjU2OjQ4KzAwOjAwMVpslgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyNC0xMi0wMlQyMTo1Njo0OCswMDowMEAH1CoAAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjQtMTItMDJUMjE6NTY6NTMrMDA6MDDZv6GRAAAAAElFTkSuQmCC";class Ip extends $d{async initialize(){let e=await this.createProvider();this.provider=e,this.proxyProvider.setWalletProvider(e),this.subscribeListeners(),e.session&&(this.walletProvider?.session?.peer.metadata.url&&(this.walletEntry=BE(this.walletProvider?.session?.peer.metadata.url),this.walletClientType=this.walletEntry?.slug||"unknown"),this.connected=!0,await this.syncAccounts()),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),this.getConnectedWallet()}async isConnected(){return!!this.walletProvider?.connected}get walletBranding(){let e=this.walletProvider?.session?.peer.metadata.icons?.[0];return{name:cLe(this.walletProvider?.session?.peer.metadata.name||"")||"WalletConnect",icon:typeof e=="string"?e:YK,id:this.walletProvider?.session?.peer.metadata.name.toLowerCase()||"wallet_connect_v2"}}async resetConnection(e){this.walletProvider&&this.walletProvider.connected&&(await this.walletProvider.disconnect(),this.walletProvider.signer.session=void 0,this.walletClientType=e,this.redirectUri=void 0,this.fallbackUniversalRedirectUri=void 0,(function(){try{localStorage.removeItem(FE)}catch{}})(),this.onDisconnect())}async promptConnection(){if(this.provider)return new Promise(((e,n)=>{(async()=>{let i="",c=await Promise.race([this.walletProvider?.enable(),this.proxyProvider.walletTimeout()]);if(c?.length&&(i=c[0]),!i||i==="")throw new Dn("Unable to retrieve address");this.walletProvider?.session?.peer.metadata.url&&(this.walletEntry=BE(this.walletProvider?.session?.peer.metadata.url),this.walletClientType=this.walletEntry?.slug||"unknown",this.proxyProvider.rpcTimeoutDuration=pA(this.rpcConfig,this.walletClientType)),this.connected=!0,await this.syncAccounts(c),e()})().catch((i=>{n(i?Dc(i):new Dn("Unknown error during connection"))}))}))}disconnect(){this.walletProvider?.disconnect().then((()=>this.onDisconnect())).catch((()=>console.warn("Unable to disconnect WalletConnect provider")))}get walletProvider(){return this.proxyProvider.walletProvider}setWalletProvider(e){this.proxyProvider.setWalletProvider(e)}async createProvider(){let e={};for(let m of this.chains){let s=dLe(m.id,this.chains,this.rpcConfig,this.privyAppId);s&&(e[m.id]=s)}let n=this.shouldEnforceDefaultChainOnConnect?[this.defaultChain.id]:[],i=this.chains.map((m=>m.id)),c=await hRe.init({projectId:this.walletConnectCloudProjectId,chains:n,optionalChains:i,optionalEvents:MY,optionalMethods:OY,rpcMap:e,showQrModal:!1,metadata:{description:this.privyAppName,name:this.privyAppName,url:window.location.origin,icons:[]}});return c.on("display_uri",(m=>{if(c.signer.abortPairingAttempt(),(function(){try{localStorage.removeItem(FE)}catch{}})(),!this.showPrivyQrModal)throw new Dn("WalletConnect modal not available - Privy handles wallet connections through its own UI");if(sn.isMobile&&this.walletEntry){let{redirect:s,href:g}=(function(a,v){let h=cK(v);if(h.deepLink)return dK(h.deepLink,a);if(h.universalLink)return cA(h.universalLink,a);throw new ge(`Unsupported wallet ${v.id}`)})(m,this.walletEntry);fK(s,"_self"),(function({href:a,name:v}){try{localStorage.setItem(FE,JSON.stringify({href:a,name:v}))}catch{}})({href:g,name:this.walletEntry.metadata?.shortName||this.walletEntry.name});let r=NN(m,this.walletEntry);return this.redirectUri=s,this.fallbackUniversalRedirectUri=r?.redirect,this.showPrivyQrModal({native:s,universal:s})}if(this.redirectUri=void 0,this.walletEntry){let s=NN(m,this.walletEntry);this.fallbackUniversalRedirectUri=s?.redirect}this.showPrivyQrModal({native:m,universal:void 0})})),c.on("connect",(()=>{c.session?.peer.metadata.url&&(this.walletEntry=BE(c.session?.peer.metadata.url),this.walletClientType=this.walletEntry?.slug||"unknown")})),c}async enableProvider(){return this.walletProvider?.connected?Promise.resolve(this.walletProvider.accounts):await this.walletProvider?.enable()}setWalletEntry(e,n){this.walletEntry=e,this.showPrivyQrModal=n}constructor({walletConnectCloudProjectId:e,rpcConfig:n,chains:i,defaultChain:c,shouldEnforceDefaultChainOnConnect:m,privyAppId:s,privyAppName:g,walletClientType:r}){super(r||"unknown",i,c,n),this.connectorType="wallet_connect_v2",this.privyAppId=s,this.privyAppName=g,this.walletConnectCloudProjectId=e,this.rpcConfig=n,this.shouldEnforceDefaultChainOnConnect=m,this.proxyProvider=new Fd(void 0,this.rpcTimeoutDuration),r&&(this.walletEntry=(a=>b1.getState().listings.find((({slug:v})=>fx(v)===fx(a))))(r),this.walletClientType=r)}}function TLe({src:t,...e}){return M.jsx("img",{src:t,...e,style:{display:"none"}})}const XK=H.createContext({currentScreen:null,lastScreen:null,navigate:Me,navigateBack:Me,resetNavigation:Me,setModalData:Me,onUserCloseViaDialogOrKeybindRef:void 0}),ALe=t=>{let e=it(),n=t.authenticated,[i,c]=H.useState(t.initialScreen);H.useEffect((()=>{n||!t.initialScreen||t.initialScreen.isUnauthenticatedScreem||t.setInitialScreen(null)}),[n]);let m=H.useRef(null);H.useEffect((()=>{t.open||(m.current=null)}),[t.open]),H.useEffect((()=>{m.current=null}),[t.initialScreen]);let s={data:t.data,setModalData:t.setModalData,currentScreen:t.initialScreen,lastScreen:i,navigate:(g,r=!0)=>{t.setInitialScreen(g),r&&c(t.initialScreen)},navigateBack:()=>{t.setInitialScreen(i)},resetNavigation:()=>{t.setInitialScreen(null),c(null)},onUserCloseViaDialogOrKeybindRef:m};return M.jsxs(XK.Provider,{value:s,children:[(typeof e.appearance.logo=="string"||e.appearance.logo?.type==="img")&&M.jsx(TLe,{src:typeof e.appearance.logo=="string"?e.appearance.logo:e.appearance.logo.props.src}),t.children]})},lt=()=>H.useContext(XK),PLe={login:{onComplete:[],onError:[]},logout:{onSuccess:[]},connectWallet:{onSuccess:[],onError:[]},connectOrCreateWallet:{onSuccess:[],onError:[]},createWallet:{onSuccess:[],onError:[]},linkAccount:{onSuccess:[],onError:[]},update:{onSuccess:[],onError:[]},configureMfa:{onMfaRequired:[]},setWalletPassword:{onSuccess:[],onError:[]},setWalletRecovery:{onSuccess:[],onError:[]},signMessage:{onSuccess:[],onError:[]},signTypedData:{onSuccess:[],onError:[]},sendTransaction:{onSuccess:[],onError:[]},signTransaction:{onSuccess:[],onError:[]},accessToken:{onAccessTokenGranted:[],onAccessTokenRemoved:[]},oAuthAuthorization:{onOAuthTokenGrant:[]},fundWallet:{onUserExited:[]},fundSolanaWallet:{onUserExited:[]},customAuth:{onAuthenticated:[],onUnauthenticated:[]}},KK=H.createContext(void 0);let ZK=()=>H.useContext(KK);function q3(t,e){if(!e)return;let n=ZK().current[t];return H.useEffect((()=>{for(let[i,c]of Object.entries(e))Object.prototype.hasOwnProperty.call(n,i)||console.warn(`Invalid event type "${i}" for action "${t}"`),n[i]?.push(c);return()=>{for(let[i,c]of Object.entries(e))Object.prototype.hasOwnProperty.call(n,i)||console.warn(`Invalid event type "${i}" for action "${t}"`),n[i]=n[i]?.filter((m=>m!==c))}}),[e])}function ke(t,e,n,...i){for(let c of t.current[e][n])c(...i)}function Ld(){let t=ZK();return(e,n,...i)=>ke(t,e,n,...i)}const qp=ae.div.withConfig({displayName:"Grow",componentId:"sc-681ff332-0"})(["text-align:left;flex-grow:1;"]),ILe=ae.div.withConfig({displayName:"AlignBottom",componentId:"sc-681ff332-1"})(["display:flex;flex-direction:column;justify-content:flex-end;flex-grow:1;"]),aT=ae.div.withConfig({displayName:"LoginMethodContainer",componentId:"sc-681ff332-2"})(["display:flex;flex-direction:column;gap:8px;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]),JK=ae(aT).withConfig({displayName:"LoginMethodContainerWithScrollShadows",componentId:"sc-681ff332-3"})([""," background-repeat:no-repeat;background-size:100% 32px,100% 16px;background-attachment:local,scroll;max-height:400px;overflow-y:auto;scrollbar-width:none;padding:3px;"],(t=>t.$colorScheme==="light"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":t.$colorScheme==="dark"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0));let RLe=Wr(["&&{width:100%;font-size:16px;line-height:24px;min-height:56px;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;align-items:center;color:var(--privy-color-foreground);padding:10px 12px;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-md);transition:background-color 200ms ease;cursor:pointer;&:hover{background-color:var(--privy-color-background-2);}&:disabled{cursor:pointer;background-color:var(--privy-color-background-2);}}"]);const OLe=ae.div.withConfig({displayName:"Subtitle",componentId:"sc-681ff332-4"})(["text-align:center;font-size:14px;margin-bottom:24px;"]),_n=ae.button.attrs({className:"login-method-button"}).withConfig({displayName:"LoginMethodButton",componentId:"sc-681ff332-5"})(["",""],RLe),ho=ae.div.withConfig({displayName:"LoginMethodIconWrapper",componentId:"sc-681ff332-7"})(["width:32px;height:32px;border-radius:",";background:",";display:flex;align-items:center;justify-content:center;flex-shrink:0;svg{width:",";height:",";color:",";}"],(t=>t.$fullSize?"0":"4px"),(t=>t.$fullSize?"transparent":"var(--privy-color-background-2)"),(t=>t.$fullSize?"32px":"18px"),(t=>t.$fullSize?"32px":"18px"),(t=>t.$fullSize?"inherit":"var(--privy-color-icon-muted)")),e0=ae.div.withConfig({displayName:"Hide",componentId:"sc-681ff332-8"})(["width:100%;height:100%;min-height:inherit;display:flex;flex-direction:column;",""],(t=>t.$if?"display: none;":"")),MLe=ae.div.withConfig({displayName:"EmptyWalletState",componentId:"sc-681ff332-9"})(["width:100%;height:100%;padding:",";"],(t=>t.$withPadding?"64px 0px":"0px")),$Le=ae.div.withConfig({displayName:"Header",componentId:"sc-681ff332-10"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:32px;gap:12px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]);function FLe(t){return M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 460 40",...t,children:M.jsx("g",{fill:t.color||"var(--privy-color-foreground)",children:M.jsx("path",{d:"M0 15.4v15.38h4.64V19.96h3.58c2.47 0 3.63-.01 3.77-.02 1-.08 1.49-.15 2.18-.3a9.45 9.45 0 0 0 4.6-2.37c1.66-1.57 2.64-3.87 2.81-6.56.02-.3.02-1.19 0-1.49-.1-1.77-.56-3.35-1.36-4.72A8.84 8.84 0 0 0 15.14.57c-.93-.3-1.75-.43-3.09-.54C11.9.02 10.2 0 5.93 0H0ZM10.85 4c1.85.05 3.1.45 4.16 1.3.22.17.54.49.69.68a5.97 5.97 0 0 1 1.19 3.13c.04.35.04 1.36 0 1.71-.08.68-.23 1.3-.44 1.85a4.8 4.8 0 0 1-1.09 1.68A5.63 5.63 0 0 1 12 15.92c-.6.08-.4.08-4.01.09H4.64V3.98h2.9c1.6 0 3.08 0 3.31.02ZM187.65 5.71v5.72h-.27l-.09-.14a15.9 15.9 0 0 0-1.21-1.73c-.43-.5-1-.95-1.7-1.36-.54-.3-1.05-.5-1.73-.63a8.98 8.98 0 0 0-1.7-.17 8.84 8.84 0 0 0-7.8 4.03 12.95 12.95 0 0 0-2.03 6.39c-.07.98-.06 2.15.02 3.13.2 2.47.87 4.53 2.02 6.25a8.98 8.98 0 0 0 10.22 3.65 6.5 6.5 0 0 0 2.8-1.93c.41-.51.84-1.1 1.1-1.55l.1-.17h.37v3.58h4.38V0h-4.48Zm-5.24 5.54c1.3.14 2.3.6 3.17 1.48.9.9 1.5 2.09 1.85 3.64.36 1.6.39 3.72.06 5.43a8.13 8.13 0 0 1-1.54 3.62 5.1 5.1 0 0 1-3.93 1.96 6.13 6.13 0 0 1-2.32-.31 5.87 5.87 0 0 1-3.33-3.5c-.39-1-.62-2.05-.72-3.32-.03-.32-.04-1.35-.02-1.73.08-1.56.4-2.91.96-4.05a6.2 6.2 0 0 1 1.06-1.58 5.08 5.08 0 0 1 3.6-1.66c.25-.02.9 0 1.16.02ZM210.07 15.39l.01 15.38h4.38l.01-3.57h.37l.09.15c.24.44.84 1.26 1.21 1.7a6.79 6.79 0 0 0 2.57 1.75 9.3 9.3 0 0 0 6.86-.49 9.28 9.28 0 0 0 4.05-4.07A13.05 13.05 0 0 0 231 21.6c.21-1.73.18-3.7-.09-5.32a13.03 13.03 0 0 0-1.5-4.3 9.1 9.1 0 0 0-3.75-3.63 9.15 9.15 0 0 0-4.43-.96 7.46 7.46 0 0 0-2.8.5A7.07 7.07 0 0 0 216 9.7c-.4.52-.82 1.12-1.1 1.59l-.07.14h-.27V0h-4.5Zm11.13-4.14c1.07.1 1.94.44 2.7 1.04a6.1 6.1 0 0 1 1.64 1.98c.43.84.78 2 .94 3.11.15 1.16.16 2.4.02 3.54a9.34 9.34 0 0 1-1.39 4.03 5.33 5.33 0 0 1-2.69 2.15c-.9.3-2.04.38-3.06.2a5.14 5.14 0 0 1-3.45-2.37 6.03 6.03 0 0 1-.45-.8c-.5-1.03-.8-2.2-.92-3.58-.04-.49-.06-.89-.05-1.53.01-.76.05-1.23.13-1.85.38-2.53 1.47-4.38 3.15-5.31a5.46 5.46 0 0 1 2.3-.63 10 10 0 0 1 1.13.02ZM69.05 2.17l-.01 2.77V7.7h-3.36v3.6h3.36v6.8l.01 7.15c.06 1.4.4 2.44 1.1 3.37a5.8 5.8 0 0 0 2.97 2.07c.91.3 1.83.42 2.9.38a8.71 8.71 0 0 0 2.66-.48l-.8-3.7-.38.06a4.96 4.96 0 0 1-2.43-.06c-.33-.1-.56-.25-.8-.49-.4-.41-.6-.88-.7-1.67-.02-.2-.02-.62-.03-6.82v-6.6h4.73V7.7h-4.73V2.16h-4.49ZM133.34 2.17V7.7h-3.39v3.6h3.38v6.9l.01 7.17a5.66 5.66 0 0 0 2.36 4.49c.85.6 2.03 1.03 3.26 1.17.85.1 2.03.05 2.81-.1.3-.06.75-.18 1-.26l.2-.06v-.05l-.81-3.67-.37.06a4.99 4.99 0 0 1-1.8.09c-.85-.13-1.32-.4-1.7-.97a2.63 2.63 0 0 1-.39-1.04c-.06-.4-.06 0-.06-7.1V11.3h4.7V7.7h-4.7l-.01-2.77V2.16h-4.49ZM293.41 2.36a14.56 14.56 0 0 0-13.7 16.07 14.59 14.59 0 0 0 21.86 11.08 14.5 14.5 0 0 0 7.11-14.07 14.61 14.61 0 0 0-6.53-10.73 14.49 14.49 0 0 0-8.74-2.35ZM350.8 2.36a10.17 10.17 0 0 0-7.56 4.2c-.16.2-.45.63-.58.83l-.05.1h-.47l-.01-4.36h-7.36v36.4h7.82V27.27h.49l.05.07a11.3 11.3 0 0 0 7.49 4.15 10.52 10.52 0 0 0 9.38-4.1c1.66-2.1 2.73-4.9 3.07-8.06.1-.87.13-1.4.13-2.37 0-.8 0-1.1-.07-1.76a15.95 15.95 0 0 0-3.23-8.72 12.8 12.8 0 0 0-1.85-1.84 10.49 10.49 0 0 0-7.26-2.28Zm-.94 6.05c1.27.15 2.33.65 3.2 1.5.98.96 1.67 2.31 2.03 4 .34 1.57.38 3.68.12 5.39a9.78 9.78 0 0 1-1.04 3.25c-.14.25-.44.69-.6.89a5.35 5.35 0 0 1-4.31 2.07 5.25 5.25 0 0 1-4.41-1.9 7.35 7.35 0 0 1-1.26-2.32 14.09 14.09 0 0 1-.62-4.83c.05-1.98.38-3.53 1.02-4.85a5.63 5.63 0 0 1 2.5-2.65c.66-.34 1.3-.5 2.14-.58.18-.02 1.04 0 1.23.03ZM363.63 3.1l-.01 3.2v3.16h1.43c1.26.01 1.44.02 1.54.04.42.09.66.28.79.62.08.23.08.08.08 2.96a911.57 911.57 0 0 1 .03 10.18v7.54h7.82v-7.4l.01-7.83c.03-.94.11-1.63.27-2.28.46-1.9 1.54-2.93 3.35-3.23.52-.08.2-.08 5-.08h4.4V3.08h-3.1c-3.48 0-3.91.01-4.67.1-1.83.2-3.04.79-3.96 1.88-.5.6-.9 1.32-1.26 2.26l-.06.17h-.46V3.09h-5.6c-4.46 0-5.6 0-5.6.02ZM390.8 16.95V30.8h3.87l3.86-.01V3.09h-7.73ZM400.6 3.1l-.01.4v.38l4.66 13.4 4.69 13.47.02.05h10.3l.03-.05 4.67-13.45 4.67-13.4V3.1h-7.43l-6.7 19.26h-.5l-3.28-9.5-3.31-9.64-.05-.12h-3.88l-3.88.01ZM430.98 3.1c-.01 0-.02.19-.02.4v.39l5.08 14.59c2.8 8.02 5.08 14.6 5.08 14.61.01.02-.22.02-4.8.02h-4.82v6.42h4.95c5.09 0 5.23 0 5.87-.06 3.15-.28 5.29-1.63 6.63-4.15.28-.55.44-.95.87-2.16L459 6.78l1-2.89v-.8h-7.43l-6.69 19.26h-.5l-3.27-9.46-3.31-9.64-.06-.16h-3.88l-3.88.01ZM36.57 7.36c-1.36.1-2.6.6-3.62 1.45a5.65 5.65 0 0 0-1.67 2.42l-.05.13H31V7.7h-4.35v23.08h4.5v-7.3c0-8 0-7.34.08-7.82a4.89 4.89 0 0 1 2.06-3.18c.83-.58 1.74-.89 2.87-.98a11.87 11.87 0 0 1 2.8.25H39v-4.3l-.21-.02c-.61-.07-1.74-.1-2.22-.07ZM51.08 7.41c-2.33.12-4.3.84-5.95 2.16a9.89 9.89 0 0 0-2.03 2.2 12.5 12.5 0 0 0-2 5.78 18.04 18.04 0 0 0 0 3.65 12.13 12.13 0 0 0 2.26 6.05 9.74 9.74 0 0 0 5 3.52c2.11.64 4.7.64 6.8 0a9.78 9.78 0 0 0 4.88-3.37c1.38-1.78 2.19-4 2.4-6.58.13-1.46.06-3.06-.18-4.42a11.24 11.24 0 0 0-3.58-6.6 10 10 0 0 0-5.75-2.35c-.56-.06-1.31-.07-1.85-.04Zm1.42 3.78c.88.1 1.62.34 2.28.75a6.13 6.13 0 0 1 1.99 2.15 10.31 10.31 0 0 1 1.2 5c.02 1.23-.12 2.44-.42 3.51a7.14 7.14 0 0 1-1.81 3.32c-.61.6-1.2.98-1.95 1.24a6 6 0 0 1-2 .3 5.7 5.7 0 0 1-2.72-.6 5 5 0 0 1-1.28-.94A7.1 7.1 0 0 1 46 22.73c-.57-1.99-.6-4.46-.08-6.5a7.24 7.24 0 0 1 2.03-3.67 5.13 5.13 0 0 1 3.35-1.4 11 11 0 0 1 1.2.03ZM92.05 7.4c-.96.06-1.56.15-2.3.33a9.62 9.62 0 0 0-6.09 4.66 13.5 13.5 0 0 0-1.71 7c0 .83 0 1.04.06 1.6.16 1.77.58 3.32 1.29 4.7A9.72 9.72 0 0 0 90.28 31c1.84.37 4.08.32 5.85-.13a9.07 9.07 0 0 0 5.02-3.1A7.64 7.64 0 0 0 102.5 25l-2.11-.39-2.11-.38-.08.13a4.72 4.72 0 0 1-2.35 2.55 6.3 6.3 0 0 1-2.23.58c-.29.03-1.13.03-1.44 0a6.35 6.35 0 0 1-3.02-1.04 5.93 5.93 0 0 1-2.02-2.43 8.44 8.44 0 0 1-.72-3.18v-.26h16.38v-.81c0-1.83-.06-2.76-.25-3.87-.2-1.22-.53-2.24-1.05-3.28a8.9 8.9 0 0 0-2.66-3.26 10.1 10.1 0 0 0-5.34-1.94 18.3 18.3 0 0 0-1.46-.03Zm1.3 3.75c1.2.13 2.19.55 3.05 1.3a5.8 5.8 0 0 1 1.78 2.96c.13.51.21 1.17.21 1.66v.15H86.43v-.12c.08-.97.3-1.78.72-2.61.5-1 1.2-1.8 2.14-2.42a5.32 5.32 0 0 1 2.9-.95c.2-.01.97 0 1.17.03ZM116.79 7.41c-2 .1-3.73.65-5.22 1.65a10.7 10.7 0 0 0-4.25 6.06 16.1 16.1 0 0 0-.5 5.8c.2 2.17.84 4.13 1.88 5.76.58.9 1.32 1.73 2.15 2.4a9.37 9.37 0 0 0 3.6 1.8 12.06 12.06 0 0 0 3.92.34 10.2 10.2 0 0 0 3.84-.95 8.31 8.31 0 0 0 4.76-6.75l.01-.04h-4.37l-.05.16a4.87 4.87 0 0 1-4.24 3.75c-.59.07-1.32.06-1.93-.05a5.47 5.47 0 0 1-3.5-2.27c-.56-.75-1-1.73-1.26-2.79a13.8 13.8 0 0 1-.16-5.24 7.77 7.77 0 0 1 2.1-4.3 5.48 5.48 0 0 1 2.15-1.3 6.4 6.4 0 0 1 3.89.1c.59.21 1.03.5 1.5.96a5.32 5.32 0 0 1 1.46 2.5l.04.15h4.37v-.06a8.22 8.22 0 0 0-5.31-6.94 10.98 10.98 0 0 0-4.88-.74ZM156.2 7.41a9.87 9.87 0 0 0-6 2.29 11.02 11.02 0 0 0-3.41 5.43c-.52 1.78-.68 3.9-.48 5.97.17 1.8.63 3.38 1.37 4.8a9.68 9.68 0 0 0 5.91 4.86c1.65.48 3.63.61 5.53.36 3.72-.49 6.55-2.62 7.56-5.69.12-.39.13-.42.1-.43-.02 0-4.13-.75-4.19-.75-.03 0-.04 0-.1.16-.18.42-.45.9-.72 1.22-.16.2-.49.53-.7.7-.67.54-1.5.9-2.43 1.08-.48.08-.83.11-1.41.11-.64 0-1.07-.04-1.6-.15a5.76 5.76 0 0 1-3.93-2.83 8 8 0 0 1-.99-3.79v-.16h16.38v-1.11l-.02-1.43c-.1-2.25-.53-4-1.35-5.59a9.24 9.24 0 0 0-6.18-4.75c-1.04-.26-2.2-.36-3.33-.3Zm1.45 3.74a5.35 5.35 0 0 1 3.66 1.94 6.1 6.1 0 0 1 1.38 4.01v.12h-11.97v-.06c0-.02 0-.14.02-.25a6.6 6.6 0 0 1 2.15-4.32 5.73 5.73 0 0 1 3.5-1.46c.25-.02 1 0 1.26.02ZM233.58 7.82l8.37 23.22a49.22 49.22 0 0 1-.67 1.9 5.36 5.36 0 0 1-1.14 1.8c-.41.4-.82.58-1.48.69-.27.04-1.03.03-1.35 0a8.05 8.05 0 0 1-1.1-.23l-1.08 3.67c0 .02.32.14.66.22.83.21 1.57.29 2.56.28.56-.01.8-.03 1.24-.1 2.71-.4 4.66-2.09 5.86-5.08l9.64-26.44c0-.02-4.82-.06-4.83-.05l-2.93 8.96-2.91 8.94h-.24l-.22-.65-2.91-8.95-2.7-8.3H233.53ZM293.05 35.8c-1.18.04-1.93.09-2.8.16-2.52.24-4.53.69-5.43 1.23-.7.41-.76.86-.2 1.28.88.66 3.29 1.19 6.36 1.4a48.55 48.55 0 0 0 5.75.05c3.47-.19 6.24-.78 7.11-1.5.22-.19.3-.34.3-.53 0-.1 0-.12-.04-.22-.35-.69-2.32-1.3-5.25-1.63a41.09 41.09 0 0 0-5.8-.24Zm0 0"})})})}let HN=ae.span.withConfig({displayName:"TermsAndConditionsContainer",componentId:"sc-ff3bd734-0"})(["margin-top:16px;font-size:13px;text-align:center;color:var(--privy-color-foreground-3);display:block;&& > a{color:var(--privy-color-accent);}"]);function xA({app:{legal:{privacyPolicyUrl:t,termsAndConditionsUrl:e,requireUsersAcceptTerms:n}},alwaysShowImplicitConsent:i}){let c=!(!t||!e);return n&&!i||!e&&!t?M.jsx(HN,{}):M.jsxs(HN,{children:["By logging in I agree to the"," ",e&&M.jsx("a",{href:e,target:"_blank",children:c?"Terms":"Terms of Service"}),c&&" & ",t&&M.jsx("a",{href:t,target:"_blank",children:"Privacy Policy"})]})}const dn=({className:t})=>{let{appearance:e}=it();return M.jsx(yr,{className:t,children:e.footerLogo??M.jsx(LLe,{href:"https://www.privy.io/",target:"_blank",id:"protected-by-privy",children:M.jsx(FLe,{color:"currentColor",height:13,width:150})})})};let LLe=ae.a.withConfig({displayName:"PrivyLink",componentId:"sc-ff3bd734-1"})(["&&{padding:0;color:var(--privy-color-foreground-3);}"]);const yr=ae.div.withConfig({displayName:"ModalFooter",componentId:"sc-ff3bd734-2"})(["display:flex;align-items:center;justify-content:center;padding-top:8px;padding-bottom:12px;gap:8px;font-size:13px;&& a{padding:0.5rem 0;&:hover{text-decoration:none;}}@media all and (display-mode:standalone){padding-bottom:30px;}"]),_K=({success:t,fail:e})=>M.jsxs(DLe,{children:[M.jsx(YN,{children:M.jsx(bA,{className:t?"success":e?"fail":""})}),M.jsx(YN,{children:M.jsx($a,{className:t?"success":e?"fail":""})})]});let YN=ae.span.withConfig({displayName:"PositionedAbsoluteLoader",componentId:"sc-aba6339d-0"})(["&&{position:absolute;top:0;left:0;z-index:2;}"]),DLe=ae.span.withConfig({displayName:"ConnectionLoaderContainer",componentId:"sc-aba6339d-1"})(["position:relative;width:82px;height:82px;display:inline-block;"]);const $a=ae.span.withConfig({displayName:"Loader",componentId:"sc-aba6339d-2"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;}@keyframes rotation{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}&&&.success{border-color:var(--privy-color-icon-success);border-bottom-color:var(--privy-color-icon-success);}&&&.fail{border-color:var(--privy-color-icon-error);border-bottom-color:var(--privy-color-icon-error);}"],(t=>t.color??"var(--privy-color-icon-subtle)")),bA=ae($a).withConfig({displayName:"LoaderFaint",componentId:"sc-aba6339d-3"})(["&&{border-bottom-color:",";border-color:",";animation:none;opacity:0.5;}"],(t=>t.color??"var(--privy-color-border-default)"),(t=>t.color??"var(--privy-color-border-default)")),kc=t=>M.jsx(NLe,{color:t.color||"var(--privy-color-foreground-3)"});let NLe=ae($a).withConfig({displayName:"StyledButtonLoader",componentId:"sc-aba6339d-4"})(["&&{height:1rem;width:1rem;margin:2px 0;border-width:1.5px;transition:border-color 200ms ease;}"]);const cd=({variant:t="primary",size:e="lg",children:n,success:i,...c})=>{switch(t){case"secondary":return M.jsx(So,{size:e,...c,children:n});case"error":return M.jsx(So,{$warn:!0,size:e,...c,children:n});case"muted":return M.jsx(ULe,{size:e,...c,children:n});default:return M.jsx(Cn,{size:e,success:i,...c,children:n})}},eb=ae.button.withConfig({displayName:"BaseButton",componentId:"sc-e537b447-0"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none;&{width:auto;cursor:pointer;border-radius:",";font-size:14px;font-style:normal;font-weight:500;line-height:22px;letter-spacing:-0.016px;}&&{height:",";padding:0 ",";}"],(({$size:t})=>t==="sm"?"6px":"var(--privy-border-radius-sm)"),(({$size:t})=>t==="sm"?"28px":"48px"),(({$size:t})=>t==="sm"?"10px":"16px")),Cn=({children:t,loading:e,disabled:n,success:i,size:c="lg",loadingText:m="Loading...",as:s,onClick:g,...r})=>{let a=s==="a",v=!(!e&&!n);return M.jsx(BLe,{as:s,disabled:a?void 0:v,"aria-disabled":a?v:void 0,$success:i,$size:c,onClick:h=>{a&&v?h.preventDefault():g?.(h)},...r,children:e?M.jsxs(M.Fragment,{children:[M.jsx(kc,{}),m?M.jsx("span",{style:{marginLeft:"8px"},children:m}):null]}):t})},px=({children:t,loading:e,disabled:n,...i})=>M.jsx(kLe,{disabled:n,...i,children:e?M.jsx(kc,{color:"var(--privy-color-foreground-accent)"}):t});let kLe=ae(eb).withConfig({displayName:"StyledPrimaryButtonWithoutGray",componentId:"sc-e537b447-1"})(["position:relative;&&{background-color:var(--privy-color-accent);color:var(--privy-color-foreground-accent);transition:background-color 200ms ease;}&:hover{background-color:var(--privy-color-accent-dark);}&:active{background-color:var(--privy-color-accent-dark);}&:disabled,&:hover:disabled,&:active:disabled{cursor:not-allowed;color:var(--privy-color-foreground-disabled);background-color:var(--privy-color-accent-dark);}"]),BLe=ae(eb).withConfig({displayName:"StyledPrimaryButton",componentId:"sc-e537b447-2"})(["position:relative;&&{background-color:",";color:var(--privy-color-foreground-accent);transition:background-color 200ms ease;}&:hover{background-color:",";}&:active{background-color:",";}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;}&:disabled{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],(t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)"),(t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent-dark)"),(t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent-dark)"),(t=>t.disabled&&Wr(["&&&,&&&:hover,&&&:active{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"])));const So=({children:t,loading:e,disabled:n,size:i="lg",loadingText:c="Loading...",as:m,onClick:s,...g})=>{let r=m==="a",a=!(!e&&!n);return M.jsx(jLe,{as:m,disabled:r?void 0:a,"aria-disabled":r?a:void 0,$size:i,onClick:v=>{r&&a?v.preventDefault():s?.(v)},...g,children:e?M.jsxs(M.Fragment,{children:[M.jsx(kc,{}),c?M.jsx("span",{style:{marginLeft:"8px"},children:c}):null]}):t})},ULe=({children:t,loading:e,disabled:n,size:i="lg",loadingText:c="Loading...",as:m,onClick:s,...g})=>{let r=m==="a",a=!(!e&&!n);return M.jsx(zLe,{as:m,disabled:r?void 0:a,"aria-disabled":r?a:void 0,$size:i,onClick:v=>{r&&a?v.preventDefault():s?.(v)},...g,children:e?M.jsxs(M.Fragment,{children:[M.jsx(kc,{}),c?M.jsx("span",{style:{marginLeft:"8px"},children:c}):null]}):t})};let jLe=ae(eb).withConfig({displayName:"StyledSecondaryButton",componentId:"sc-e537b447-3"})(["&&{border-width:1px;border-style:solid;border-color:",";background-color:var(--privy-color-background);color:",";transition:border-color 200ms ease,color 200ms ease,background-color 200ms ease;}&:hover{border-color:",";background-color:",";color:",";}&:active{border-color:",";background-color:",";color:",";}&:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],(t=>t.$warn?"var(--privy-color-border-error)":"var(--privy-color-accent)"),(t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)"),(t=>t.$warn?"var(--privy-color-border-error)":"var(--privy-color-border-interactive-hover)"),(t=>t.$warn?"var(--privy-color-error-light)":"var(--privy-color-info-bg-hover)"),(t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)"),(t=>t.$warn?"var(--privy-color-border-error)":"var(--privy-color-border-interactive)"),(t=>t.$warn?"var(--privy-color-error-bg-hover)":"var(--privy-color-info-bg)"),(t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)"),(t=>t.disabled&&Wr(["&&&,&&&:hover,&&&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"]))),zLe=ae(eb).withConfig({displayName:"StyledMutedButton",componentId:"sc-e537b447-4"})(["&&{border-width:1px;border-style:solid;border-color:var(--privy-color-border-default);background-color:transparent;color:var(--privy-color-text-muted);transition:border-color 200ms ease,color 200ms ease,background-color 200ms ease;}&:hover{border-color:var(--privy-color-border-default);background-color:var(--privy-color-info-bg-hover);color:var(--privy-color-foreground-2);}&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-info-bg);color:var(--privy-color-foreground-2);}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;}&:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],(t=>t.disabled&&Wr(["&&&,&&&:hover,&&&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"])));const tb=({children:t,onClick:e,disabled:n,isSubmitting:i,...c})=>M.jsxs(WLe,{$isSubmitting:i,onClick:e,disabled:n,...c,children:[M.jsx("span",{children:t}),M.jsx("span",{children:M.jsx(kc,{})})]});let WLe=ae.button.withConfig({displayName:"StyledEmbeddedButton",componentId:"sc-e537b447-7"})(["&&{color:var(--privy-color-accent);font-size:16px;font-style:normal;font-weight:500;line-height:24px;cursor:pointer;border-radius:0px var(--privy-border-radius-mdlg) var(--privy-border-radius-mdlg) 0px;border:none;transition:color 200ms ease;@media (min-width:441px){font-size:14px;}:hover{color:var(--privy-color-accent-dark);}&& > :first-child{opacity:",";}&& > :last-child{position:absolute;display:flex;top:50%;left:50%;transform:translate3d(-50%,-50%,0);opacity:",";}:disabled,:hover:disabled{color:var(--privy-color-foreground-disabled);cursor:not-allowed;}}"],(t=>t.$isSubmitting?0:1),(t=>t.$isSubmitting?1:0));const GLe=({backFn:t})=>M.jsx("div",{children:M.jsx(EA,{onClick:t,children:M.jsx(mme,{height:"16px",width:"16px",strokeWidth:2})})}),VLe=({infoFn:t})=>M.jsx("div",{children:M.jsx(YLe,{"aria-label":"info",onClick:t,children:M.jsx(Ep,{height:"22px",width:"22px",strokeWidth:2})})}),HLe=t=>M.jsx("div",{children:M.jsx(EA,{"aria-label":"close modal",onClick:t.onClose,children:M.jsx(Eme,{height:"16px",width:"16px",strokeWidth:2})})}),Vt=({backFn:t,infoFn:e,onClose:n,title:i,closeable:c=!0,className:m})=>{let{closePrivyModal:s}=et(),g=it();return M.jsxs(XLe,{className:m,children:[M.jsxs(KLe,{children:[t&&M.jsx(GLe,{backFn:t}),e&&M.jsx(VLe,{infoFn:e})]}),i&&M.jsx(JLe,{id:"privy-dialog-title",children:i}),M.jsx(ZLe,{children:!g.render.standalone&&c&&M.jsx(HLe,{onClose:n||(()=>s())})})]})};let EA=ae.button.withConfig({displayName:"StyledButton",componentId:"sc-e033e17a-0"})(["&&{cursor:pointer;display:flex;opacity:0.6;background-color:var(--privy-color-background-2);border-radius:var(--privy-border-radius-full);padding:4px;> svg{margin:auto;color:var(--privy-color-foreground);}:hover{opacity:1;}}"]),YLe=ae(EA).withConfig({displayName:"TransparentStyledButton",componentId:"sc-e033e17a-1"})(["&&{background-color:transparent;}"]),XLe=ae.div.withConfig({displayName:"StyledHeader",componentId:"sc-e033e17a-2"})(["padding:16px 0;display:flex;align-items:center;justify-content:space-between;h2{font-size:16px;line-height:24px;font-weight:600;color:var(--privy-color-foreground);}"]),KLe=ae.div.withConfig({displayName:"LeftActionContainer",componentId:"sc-e033e17a-3"})(["flex:1;align-items:center;display:flex;gap:8px;"]),ZLe=ae.div.withConfig({displayName:"RightActionContainer",componentId:"sc-e033e17a-4"})(["flex:1;display:flex;justify-content:flex-end;"]),JLe=ae.div.withConfig({displayName:"TitleContainer",componentId:"sc-e033e17a-5"})(["overflow:hidden;white-space:nowrap;max-width:100%;text-overflow:ellipsis;text-align:center;color:var(--privy-color-foreground-2);"]);const T0=({size:t,centerIcon:e})=>M.jsx(_Le,{$size:t,children:M.jsxs(QLe,{children:[M.jsx(eDe,{}),M.jsx(tDe,{}),e?M.jsx(qLe,{children:e}):null]})});let _Le=ae.div.withConfig({displayName:"LoadingContainer",componentId:"sc-ebc93df8-0"})(["--spinner-size:",";display:inline-flex;justify-content:center;align-items:center;@media all and (display-mode:standalone){margin-bottom:30px;}"],(t=>t.$size?t.$size:"96px")),QLe=ae.div.withConfig({displayName:"SpinnerContainer",componentId:"sc-ebc93df8-1"})(["position:relative;height:var(--spinner-size);width:var(--spinner-size);opacity:1;animation:fadein 200ms ease;"]),qLe=ae.div.withConfig({displayName:"CenterIconContainer",componentId:"sc-ebc93df8-2"})(["position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center;svg,img{width:calc(var(--spinner-size) * 0.4);height:calc(var(--spinner-size) * 0.4);border-radius:var(--privy-border-radius-full);}"]),eDe=ae.div.withConfig({displayName:"CircleFixed",componentId:"sc-ebc93df8-3"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);&&{border:4px solid var(--privy-color-border-default);border-radius:50%;}"]),tDe=ae.div.withConfig({displayName:"CircleRotate",componentId:"sc-ebc93df8-4"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);animation:spin 1200ms linear infinite;&&{border:4px solid;border-color:var(--privy-color-icon-subtle) transparent transparent transparent;border-radius:50%;}@keyframes spin{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}"]);const nDe=ae.div.withConfig({displayName:"ScreenRoot",componentId:"sc-cc9e9a32-0"})(["--screen-space:16px;--screen-space-lg:calc(var(--screen-space) * 1.5);position:relative;overflow:hidden;margin:0 calc(-1 * var(--screen-space));height:100%;border-radius:var(--privy-border-radius-lg);"]),rDe=ae.div.withConfig({displayName:"ScreenRootInner",componentId:"sc-cc9e9a32-1"})(["display:flex;flex-direction:column;gap:calc(var(--screen-space) * 1.5);width:100%;background:var(--privy-color-background);padding:0 var(--screen-space-lg) var(--screen-space);height:100%;border-radius:var(--privy-border-radius-lg);"]),iDe=ae.div.withConfig({displayName:"HeaderContainer",componentId:"sc-cc9e9a32-2"})(["position:relative;display:flex;flex-direction:column;"]),sDe=ae(Vt).withConfig({displayName:"StyledModalHeader",componentId:"sc-cc9e9a32-3"})(["margin:0 -8px;"]),aDe=ae.div.withConfig({displayName:"BodyContainer",componentId:"sc-cc9e9a32-4"})(["flex:1 1 auto;display:flex;flex-direction:column;overflow-y:auto;padding:3px;margin:-3px;&::-webkit-scrollbar{display:none;}scrollbar-gutter:stable both-edges;scrollbar-width:none;-ms-overflow-style:none;"," background-repeat:no-repeat;background-size:100% 32px,100% 16px;background-attachment:local,scroll;"],(({$colorScheme:t})=>t==="light"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":t==="dark"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0)),oDe=ae.div.withConfig({displayName:"FooterContainer",componentId:"sc-cc9e9a32-5"})(["display:flex;flex-direction:column;gap:var(--screen-space-lg);"]);let lDe=ae.div.withConfig({displayName:"CenteredHeader",componentId:"sc-cc9e9a32-6"})(["text-align:center;display:flex;flex-direction:column;align-items:center;gap:var(--screen-space);"]),uDe=ae.div.withConfig({displayName:"TitleContainer",componentId:"sc-cc9e9a32-7"})(["display:flex;flex-direction:column;gap:4px;"]),cDe=ae.h3.withConfig({displayName:"HeaderTitle",componentId:"sc-cc9e9a32-8"})(["&&{font-size:20px;line-height:32px;font-weight:500;color:var(--privy-color-foreground);margin:0;}"]),hDe=ae.p.withConfig({displayName:"HeaderSubtitle",componentId:"sc-cc9e9a32-9"})(["&&{margin:0;font-size:16px;font-weight:300;line-height:24px;color:var(--privy-color-foreground);}"]),XN=ae.div.withConfig({displayName:"IconContainer",componentId:"sc-cc9e9a32-10"})(["background:",";border-radius:50%;width:64px;height:64px;display:flex;align-items:center;justify-content:center;"],(({$variant:t})=>{switch(t){case"success":return"var(--privy-color-success-bg, #EAFCEF)";case"warning":return"var(--privy-color-warn, #FEF3C7)";case"error":return"var(--privy-color-error-bg, #FEE2E2)";case"loading":case"logo":return"transparent";default:return"var(--privy-color-background-2)"}})),dDe=ae.div.withConfig({displayName:"LogoContainer",componentId:"sc-cc9e9a32-11"})(["display:flex;align-items:center;justify-content:center;margin-bottom:var(--screen-space);img,svg{max-height:90px;max-width:180px;}"]),fDe=ae.div.withConfig({displayName:"LoadingWithIconContainer",componentId:"sc-cc9e9a32-12"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > :first-child{position:relative;}> div > :last-child{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);}"]);const xn=({children:t,...e})=>M.jsx(nDe,{children:M.jsx(rDe,{...e,children:t})});let pDe=ae.div.withConfig({displayName:"ProgressBarContainer",componentId:"sc-cc9e9a32-13"})(["position:absolute;top:0;left:calc(-1 * var(--screen-space-lg));width:calc(100% + calc(var(--screen-space-lg) * 2));height:4px;background:var(--privy-color-background-2);border-top-left-radius:inherit;border-top-right-radius:inherit;overflow:hidden;"]),vDe=ae(dn).withConfig({displayName:"StyledBlobbyFooter",componentId:"sc-cc9e9a32-14"})(["padding:0;&& a{padding:0;color:var(--privy-color-foreground-3);}"]),gDe=ae.div.withConfig({displayName:"ProgressBarFill",componentId:"sc-cc9e9a32-15"})(["height:100%;width:","%;background:var(--privy-color-foreground-3);border-radius:2px;transition:width 300ms ease-in-out;"],(({pct:t})=>t)),mDe=({step:t})=>t?M.jsx(pDe,{children:M.jsx(gDe,{pct:Math.min(100,t.current/t.total*100)})}):null;xn.Header=({title:t,subtitle:e,icon:n,iconVariant:i,iconLoadingStatus:c,showBack:m,onBack:s,showInfo:g,onInfo:r,showClose:a,onClose:v,step:h,...u})=>M.jsxs(iDe,{...u,children:[M.jsx(sDe,{backFn:m?s:void 0,infoFn:g?r:void 0,onClose:a?v:void 0,closeable:a}),(n||i||t||e)&&M.jsxs(lDe,{children:[n||i?M.jsx(xn.Icon,{icon:n,variant:i,loadingStatus:c}):null,M.jsxs(uDe,{children:[t&&M.jsx(cDe,{children:t}),e&&M.jsx(hDe,{children:e})]})]}),h&&M.jsx(mDe,{step:h})]}),xn.Body=Ze.forwardRef((({children:t,...e},n)=>M.jsx(aDe,{ref:n,...e,children:t}))),xn.Body.displayName="Screen.Body",xn.Footer=({children:t,...e})=>M.jsx(oDe,{...e,children:t}),xn.Actions=({children:t,...e})=>M.jsx(yDe,{...e,children:t}),xn.HelpText=({children:t,...e})=>M.jsx(wDe,{...e,children:t}),xn.Watermark=()=>M.jsx(vDe,{}),xn.Icon=({icon:t,variant:e="subtle",loadingStatus:n})=>e==="logo"&&t?M.jsx(dDe,typeof t=="string"?{children:M.jsx("img",{src:t,alt:""})}:Ze.isValidElement(t)?{children:t}:{children:Ze.createElement(t)}):e==="loading"?t?M.jsx(fDe,{children:M.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[M.jsx(_K,{success:n?.success,fail:n?.fail}),typeof t=="string"?M.jsx("span",{style:{background:`url('${t}') 0 0 / contain`,height:"38px",width:"38px",borderRadius:"6px",margin:"auto",backgroundSize:"contain"}}):Ze.isValidElement(t)?Ze.cloneElement(t,{style:{width:"38px",height:"38px"}}):Ze.createElement(t,{style:{width:"38px",height:"38px"}})]})}):M.jsx(XN,{$variant:e,children:M.jsx(T0,{size:"64px"})}):M.jsx(XN,{$variant:e,children:t&&(typeof t=="string"?M.jsx("img",{src:t,alt:"",style:{width:"32px",height:"32px",borderRadius:"6px"}}):Ze.isValidElement(t)?t:Ze.createElement(t,{width:32,height:32,stroke:(()=>{switch(e){case"success":return"var(--privy-color-icon-success)";case"warning":return"var(--privy-color-icon-warning)";case"error":return"var(--privy-color-icon-error)";default:return"var(--privy-color-icon-muted)"}})(),strokeWidth:2}))});let yDe=ae.div.withConfig({displayName:"ActionsContainer",componentId:"sc-cc9e9a32-16"})(["width:100%;display:flex;flex-direction:column;gap:calc(var(--screen-space) / 2);"]),wDe=ae.p.withConfig({displayName:"HelpTextContainer",componentId:"sc-cc9e9a32-17"})(["&&{margin:0;width:100%;text-align:center;color:var(--privy-color-foreground-3);font-size:14px;line-height:22px;& a{color:var(--privy-color-accent);}}"]);const Zt=({primaryCta:t,secondaryCta:e,helpText:n,watermark:i=!0,children:c,...m})=>{let s=t||e?M.jsxs(M.Fragment,{children:[t&&(()=>{let{label:g,...r}=t,a=r.variant||"primary";return M.jsx(cd,{...r,variant:a,style:{width:"100%",...r.style},children:g})})(),e&&(()=>{let{label:g,...r}=e,a=r.variant||"secondary";return M.jsx(cd,{...r,variant:a,style:{width:"100%",...r.style},children:g})})()]}):null;return M.jsxs(xn,{id:m.id,className:m.className,children:[M.jsx(xn.Header,{...m}),c?M.jsx(xn.Body,{children:c}):null,n||s||i?M.jsxs(xn.Footer,{children:[n?M.jsx(xn.HelpText,{children:n}):null,s?M.jsx(xn.Actions,{children:s}):null,i?M.jsx(xn.Watermark,{}):null]}):null]})},jE=({label:t,children:e,valueStyles:n})=>M.jsxs(xDe,{children:[M.jsx("div",{children:t}),M.jsx(bDe,{style:{...n},children:e})]});let xDe=ae.div.withConfig({displayName:"StyledDetailsRow",componentId:"sc-4ebfdd45-0"})(["display:flex;align-items:center;justify-content:space-between;width:100%;> :first-child{color:var(--privy-color-foreground-3);text-align:left;}> :last-child{color:var(--privy-color-foreground-2);text-align:right;}"]),bDe=ae.div.withConfig({displayName:"ValueWrapper",componentId:"sc-4ebfdd45-1"})(["font-size:14px;line-height:100%;display:flex;align-items:center;justify-content:center;border-radius:var(--privy-border-radius-full);background-color:var(--privy-color-background-2);padding:4px 8px;"]),EDe=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2}),QK=t=>EDe.format(t);const qK=(t,e)=>{let n=QK(e*parseFloat(t));return n!=="$0.00"?n:"<$0.01"},Vh=(t,e)=>{let n=QK(e*parseFloat(md(t)));return n==="$0.00"?"<$0.01":n},fo=(t,e,n=6,i=!1)=>`${eZ(t,n,i)} ${e}`,eZ=(t,e=6,n=!1)=>{let i=parseFloat(md(t)).toFixed(e).replace(/0+$/,"").replace(/\.$/,"");return n?i:`${i==="0"?"<0.001":i}`},CA=t=>t.reduce(((e,n)=>e+n),0n),CDe=(t,e)=>{let{chains:n}=et(),i=`https://etherscan.io/address/${e}`,c=`${((m,s)=>{let g=Number(m),r=s.find((a=>a.id===g));if(!r)throw new Dn(`Unsupported chainId ${m}`,4901);return r.blockExplorers?.default.url})(t,n)}/address/${e}`;if(!c)return i;try{new URL(c)}catch{return i}return c},SDe=1e9,TDe={"solana:mainnet":{EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v:{symbol:"USDC",decimals:6,address:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"},Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB:{symbol:"USDT",decimals:6,address:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"},So11111111111111111111111111111111111111112:{symbol:"SOL",decimals:9,address:"So11111111111111111111111111111111111111112"}},"solana:devnet":{"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU":{symbol:"USDC",decimals:6,address:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU"},EJwZgeZrdC8TXTQbQBoL6bfuAnFUUy1PVCMB4DYPzVaS:{symbol:"USDT",decimals:6,address:"EJwZgeZrdC8TXTQbQBoL6bfuAnFUUy1PVCMB4DYPzVaS"},So11111111111111111111111111111111111111112:{symbol:"SOL",decimals:9,address:"So11111111111111111111111111111111111111112"}},"solana:testnet":{}};function zE(t,e){let n=parseFloat(t.toString())/SDe,i=ADe.format(e*n);return i==="$0.00"?"<$0.01":i}let ADe=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2});function lw(t,e=6,n=!1,i=!1){let c=(parseFloat(t.toString())/1e9).toFixed(e).replace(/0+$/,"").replace(/\.$/,""),m=i?"":" SOL";return n?`${c}${m}`:`${c==="0"?"<0.001":c}${m}`}const PDe=({weiQuantities:t,tokenPrice:e,tokenSymbol:n})=>{let i=CA(t),c=e?Vh(i,e):void 0,m=fo(i,n);return M.jsx(nZ,{children:c||m})},tZ=({weiQuantities:t,tokenPrice:e,tokenSymbol:n})=>{let i=CA(t),c=e?Vh(i,e):void 0,m=fo(i,n);return M.jsx(nZ,{children:c?M.jsxs(M.Fragment,{children:[M.jsx(IDe,{children:"USD"}),c==="<$0.01"?M.jsxs(ODe,{children:[M.jsx(RDe,{children:"<"}),"$0.01"]}):c]}):m})};let nZ=ae.span.withConfig({displayName:"StyledPriceDisplay",componentId:"sc-3cd56c8a-0"})(["font-size:14px;line-height:140%;display:flex;gap:4px;align-items:center;"]),IDe=ae.span.withConfig({displayName:"StyledPriceUnit",componentId:"sc-3cd56c8a-1"})(["font-size:12px;line-height:12px;color:var(--privy-color-foreground-3);"]),RDe=ae.span.withConfig({displayName:"TinyLessThan",componentId:"sc-3cd56c8a-2"})(["font-size:10px;"]),ODe=ae.span.withConfig({displayName:"FlexCenter",componentId:"sc-3cd56c8a-3"})(["display:flex;align-items:center;"]);const rZ=ae.div.withConfig({displayName:"BottomPusherContainer",componentId:"sc-cb963810-0"})(["display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-end;margin-top:auto;gap:16px;flex-grow:100;"]),iZ=ae.div.withConfig({displayName:"CenteredItem",componentId:"sc-cb963810-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;flex-grow:1;width:100%;"]),MDe=ae.div.withConfig({displayName:"HorizontallyCenteredItem",componentId:"sc-cb963810-2"})(["display:flex;flex-direction:column;align-items:center;width:100%;"]),$De=ae(iZ).withConfig({displayName:"CenteredItemWithPadding",componentId:"sc-cb963810-3"})(["padding:20px 0;"]),nb=ae(iZ).withConfig({displayName:"CenteredItemWithGap",componentId:"sc-cb963810-4"})(["gap:16px;"]),rb=ae.div.withConfig({displayName:"FlexContainer",componentId:"sc-cb963810-5"})(["display:flex;flex-direction:column;width:100%;"]),SA=ae.div.withConfig({displayName:"FixedGappedContainer",componentId:"sc-cb963810-6"})(["display:flex;flex-direction:column;gap:8px;"]),FDe=ae.div.withConfig({displayName:"StyledCalloutSection",componentId:"sc-cb963810-8"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;padding:16px;margin-top:16px;margin-bottom:16px;width:100%;background:var(--privy-color-background-2);border-radius:var(--privy-border-radius-md);&& h4{color:var(--privy-color-foreground-3);font-size:14px;text-decoration:underline;font-weight:medium;}&& p{color:var(--privy-color-foreground-3);font-size:14px;}"]),Sl=ae.div.withConfig({displayName:"RefactorSpacerTop",componentId:"sc-cb963810-9"})(["height:16px;"]),Mo=ae.div.withConfig({displayName:"RefactorSpacerBottom",componentId:"sc-cb963810-10"})(["height:12px;"]),LDe=ae.div.withConfig({displayName:"ConfigurableSpacer",componentId:"sc-cb963810-12"})(["height:","px;"],(t=>t.height??"12")),DDe=({gas:t,tokenPrice:e,tokenSymbol:n})=>M.jsxs(rb,{style:{paddingBottom:"12px"},children:[M.jsxs(sZ,{children:[M.jsx(oZ,{children:"Est. Fees"}),M.jsx("div",{children:M.jsx(tZ,{weiQuantities:[BigInt(t)],tokenPrice:e,tokenSymbol:n})})]}),e&&M.jsx(aZ,{children:`${fo(BigInt(t),n)}`})]}),NDe=({value:t,gas:e,tokenPrice:n,tokenSymbol:i})=>{let c=BigInt(t??0)+BigInt(e);return M.jsxs(rb,{children:[M.jsxs(sZ,{children:[M.jsx(oZ,{children:"Total (including fees)"}),M.jsx("div",{children:M.jsx(tZ,{weiQuantities:[BigInt(t||0),BigInt(e)],tokenPrice:n,tokenSymbol:i})})]}),n&&M.jsx(aZ,{children:fo(c,i)})]})};let sZ=ae.div.withConfig({displayName:"TransactionTotalRow",componentId:"sc-f8ef9b74-0"})(["display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding-top:4px;"]),aZ=ae.div.withConfig({displayName:"ValueConversionRow",componentId:"sc-f8ef9b74-1"})(["display:flex;flex-direction:row;height:12px;font-size:12px;line-height:12px;color:var(--privy-color-foreground-3);font-weight:400;"]),oZ=ae.div.withConfig({displayName:"TotalText",componentId:"sc-f8ef9b74-2"})(["font-size:14px;line-height:22.4px;font-weight:400;"]);const E1=H.createContext(void 0),ib=H.createContext(void 0),kDe=({defaultValue:t,children:e})=>{let[n,i]=H.useState(t||null);return M.jsx(E1.Provider,{value:{activePanel:n,togglePanel:c=>{i(n===c?null:c)}},children:M.jsx(WDe,{children:e})})},BDe=({value:t,children:e})=>{let{activePanel:n,togglePanel:i}=H.useContext(E1),c=n===t;return M.jsx(ib.Provider,{value:{onToggle:()=>i(t),value:t},children:M.jsx(YDe,{isActive:c?"true":"false","data-open":String(c),children:e})})},UDe=({children:t})=>{let{activePanel:e}=H.useContext(E1),{onToggle:n,value:i}=H.useContext(ib),c=e===i;return M.jsxs(M.Fragment,{children:[M.jsxs(GDe,{onClick:n,"data-open":String(c),children:[M.jsx(HDe,{children:t}),M.jsx(KDe,{isactive:c?"true":"false",children:M.jsx(f7,{height:"16px",width:"16px",strokeWidth:"2"})})]}),M.jsx(VDe,{})]})},jDe=({children:t})=>{let{activePanel:e}=H.useContext(E1),{value:n}=H.useContext(ib);return M.jsx(XDe,{"data-open":String(e===n),children:M.jsx(lZ,{children:t})})},zDe=({children:t})=>{let{activePanel:e}=H.useContext(E1),{value:n}=H.useContext(ib);return M.jsx(lZ,{children:typeof t=="function"?t({isActive:e===n}):t})};let WDe=ae.div.withConfig({displayName:"AccordionRoot",componentId:"sc-d25f9267-0"})(["display:flex;flex-direction:column;width:100%;gap:8px;"]),GDe=ae.div.withConfig({displayName:"AccordionTriggerContainer",componentId:"sc-d25f9267-1"})(["display:flex;justify-content:space-between;align-items:center;width:100%;cursor:pointer;padding-bottom:8px;"]),VDe=ae.div.withConfig({displayName:"AccordionDivider",componentId:"sc-d25f9267-2"})(["width:100%;&&{border-top:1px solid;border-color:var(--privy-color-foreground-4);}padding-bottom:12px;"]),HDe=ae.div.withConfig({displayName:"AccordionTriggerContent",componentId:"sc-d25f9267-3"})(["font-size:14px;font-weight:500;line-height:19.6px;width:100%;padding-right:8px;"]),YDe=ae.div.withConfig({displayName:"AccordionPanelContainer",componentId:"sc-d25f9267-4"})(["display:flex;flex-direction:column;width:100%;overflow:hidden;padding:12px;&&{border:1px solid;border-color:var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);}"]),XDe=ae.div.withConfig({displayName:"AccordionContentContainer",componentId:"sc-d25f9267-5"})(["position:relative;overflow:hidden;transition:max-height 25ms ease-out;&[data-open='true']{max-height:700px;}&[data-open='false']{max-height:0;}"]),lZ=ae.div.withConfig({displayName:"ContentWrapper",componentId:"sc-d25f9267-6"})(["display:flex;flex-direction:column;gap:12px;flex:1 1 auto;min-height:1px;"]),KDe=ae.div.withConfig({displayName:"IconWrapper",componentId:"sc-d25f9267-7"})(["transform:",";"],(t=>t.isactive==="true"?"rotate(180deg)":"rotate(0deg)"));function ZDe(t,e){return`https://explorer.solana.com/account/${t}?chain=${e}`}const KN=t=>M.jsx(JDe,{href:t.chainType==="ethereum"?CDe(t.chainId,t.walletAddress):ZDe(t.walletAddress,t.chainId),target:"_blank",children:ji(t.walletAddress)});let JDe=ae.a.withConfig({displayName:"StyledLink",componentId:"sc-dd6c0f9f-0"})(["&:hover{text-decoration:underline;}"]);const uZ=({from:t,to:e,txn:n,transactionInfo:i,tokenPrice:c,gas:m,tokenSymbol:s})=>{let g=BigInt(n?.value||0);return M.jsx(kDe,{...it().render.standalone?{defaultValue:"details"}:{},children:M.jsxs(BDe,{value:"details",children:[M.jsx(UDe,{children:M.jsxs(_De,{children:[M.jsx("div",{children:i?.title||"Details"}),M.jsx(QDe,{children:M.jsx(PDe,{weiQuantities:[g],tokenPrice:c,tokenSymbol:s})})]})}),M.jsxs(jDe,{children:[M.jsx(jE,{label:"From",children:M.jsx(KN,{walletAddress:t,chainId:n.chainId||1,chainType:"ethereum"})}),M.jsx(jE,{label:"To",children:M.jsx(KN,{walletAddress:e,chainId:n.chainId||1,chainType:"ethereum"})}),i&&i.action&&M.jsx(jE,{label:"Action",children:i.action}),m&&M.jsx(DDe,{value:n.value,gas:m,tokenPrice:c,tokenSymbol:s})]}),M.jsx(zDe,{children:({isActive:r})=>M.jsx(NDe,{value:n.value,displayFee:r,gas:m||"0x0",tokenPrice:c,tokenSymbol:s})})]})})};let _De=ae.div.withConfig({displayName:"AccordionTriggerContent",componentId:"sc-2eff9f5c-0"})(["display:flex;flex-direction:row;justify-content:space-between;"]),QDe=ae.div.withConfig({displayName:"TotalText",componentId:"sc-2eff9f5c-1"})(["flex-shrink:0;padding-left:8px;"]);const qDe=({enabled:t=!0}={})=>{let{showFiatPrices:e,getUsdPriceForSol:n}=et(),[i,c]=H.useState(!0),[m,s]=H.useState(void 0),[g,r]=H.useState(void 0);return H.useEffect((()=>{(async()=>{if(e&&t)try{c(!0);let a=await n();a?r(a):s(Error("Unable to fetch SOL price"))}catch(a){s(a)}finally{c(!1)}else c(!1)})()}),[]),{solPrice:g,isSolPriceLoading:i,solPriceError:m}};function C1(t){let{tokenPrice:e,isTokenPriceLoading:n,tokenPriceError:i}=(g=>{let{showFiatPrices:r,getUsdTokenPrice:a,chains:v}=et(),[h,u]=H.useState(!0),[l,o]=H.useState(void 0),[d,p]=H.useState(void 0);return H.useEffect((()=>{g||=1;let f=_9(v).find((y=>y.id===Number(g)));(async()=>{if(r){if(!f)return u(!1),void o(Error(`Unable to fetch token price on chain id ${g}`));try{u(!0);let y=await a(f);y?p(y):o(Error(`Unable to fetch token price on chain id ${f.id}`))}catch(y){o(y)}finally{u(!1)}}else u(!1)})()}),[g]),{tokenPrice:d,isTokenPriceLoading:h,tokenPriceError:l}})(t==="solana"?-1:t),{solPrice:c,isSolPriceLoading:m,solPriceError:s}=qDe({enabled:t==="solana"});return t==="solana"?{tokenPrice:c,isTokenPriceLoading:m,tokenPriceError:s}:{tokenPrice:e,isTokenPriceLoading:n,tokenPriceError:i}}const cZ=H.createContext(null);function Dd(){let t=H.useContext(cZ);return t===null?(console.warn("`useWallets` was called outside the PrivyProvider component"),{wallets:[],ready:!1}):t}async function vx(t,e,n,i){let c=Iw(t),m=await(async()=>i?await i():await e.prepareTransactionRequest({...c,account:{address:n,type:"json-rpc"}}))();return{...m,type:wW[m.type]}}let hZ=ae.div.withConfig({displayName:"StackedContainer",componentId:"sc-f7e7d474-0"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > span{position:absolute;left:-41px;top:-41px;}> div > :last-child{position:absolute;left:-19px;top:-19px;}"]);const eNe=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","missing_or_invalid_mfa","mfa_verification_max_attempts_reached","mfa_timeout","twilio_verification_failed"];let tr=class extends Error{constructor(e,n){super(n),this.type=e}};function A0(t){let e=t.type;return typeof e=="string"&&eNe.includes(e)}function Im(t){return A0(t)&&t.type==="wallet_not_on_device"}function TA(t){return!!A0(t)&&t.type==="mfa_timeout"}function AA(t){return!!A0(t)&&t.type==="missing_or_invalid_mfa"}function tNe(t){return!!A0(t)&&t.type==="mfa_verification_max_attempts_reached"}function dZ(t){return!(!A0(t)||!t.message.includes("code 429"))}function fZ(t){return!!(function(e){let n=e.type;return typeof n=="string"&&n==="client_error"})(t)&&t.message==="MFA canceled"}const sb=()=>window.open(void 0,void 0,nNe({w:440,h:680}));let nNe=({w:t,h:e})=>{let n=window.screenLeft!==void 0?window.screenLeft:window.screenX,i=window.screenTop!==void 0?window.screenTop:window.screenY,c=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,m=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;return`toolbar=0,location=0,menubar=0,height=${e},width=${t},popup=1,left=${(c-t)/2/(c/window.screen.availWidth)+n},top=${(m-e)/2/(m/window.screen.availHeight)+i}`};const rNe=({title:t,description:e,children:n,...i})=>M.jsx(pZ,{...i,children:M.jsxs(M.Fragment,{children:[M.jsx("h3",{children:t}),typeof e=="string"?M.jsx("p",{children:e}):e,n]})}),To=({title:t,description:e,icon:n,children:i,...c})=>M.jsxs(iNe,{...c,children:[n||null,M.jsx("h3",{children:t}),e&&typeof e=="string"?M.jsx("p",{children:e}):e,i]});let pZ=ae.div.withConfig({displayName:"StyledSection",componentId:"sc-523a75d6-1"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;width:100%;margin-bottom:24px;&& h3{font-size:17px;color:var(--privy-color-foreground);}&& p{color:var(--privy-color-foreground-2);font-size:14px;}"]),iNe=ae(pZ).withConfig({displayName:"CenteredStyledSection",componentId:"sc-523a75d6-2"})(["align-items:center;text-align:center;gap:16px;h3{margin-bottom:24px;}"]);const vZ=t=>M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 21 20",...t,children:[M.jsx("path",{fill:"url(#icloud-gradient)",d:"M12.34 7.315a4.26 4.26 0 0 0-3.707 2.18 2.336 2.336 0 0 0-1.02-.236 2.336 2.336 0 0 0-2.3 1.963 3.217 3.217 0 0 0 1.244 6.181c.135-.001.27-.01.404-.029h8.943c.047.004.094.006.141.007.045-.001.09-.004.135-.007h.214v-.016a2.99 2.99 0 0 0 1.887-.988c.487-.55.757-1.261.757-1.998v-.006a3.017 3.017 0 0 0-.69-1.915 2.992 2.992 0 0 0-1.748-1.034 4.26 4.26 0 0 0-4.26-4.102Z"}),M.jsx("defs",{children:M.jsxs("linearGradient",{id:"icloud-gradient",x1:19.086,x2:3.333,y1:14.38,y2:14.163,gradientUnits:"userSpaceOnUse",children:[M.jsx("stop",{stopColor:"#3E82F4"}),M.jsx("stop",{offset:1,stopColor:"#93DCF7"})]})})]}),gZ=({style:t,...e})=>M.jsxs("svg",{width:"16",height:"14",style:t,viewBox:"0 0 16 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[M.jsxs("g",{clipPath:"url(#clip0_2115_829)",children:[M.jsx("path",{d:"M2.34709 12.9404L2.3471 12.9404L2.34565 12.938L1.64031 11.7448L1.64004 11.7444L0.651257 10.0677C0.640723 10.0496 0.630746 10.0314 0.621325 10.0129H4.16461L2.39424 13.0139C2.3775 12.9901 2.36178 12.9656 2.34709 12.9404Z",fill:"#0066DA",stroke:"#6366F1"}),M.jsx("path",{d:"M8 4.48713L5.47995 0.215332C5.23253 0.358922 5.02176 0.556358 4.87514 0.80764L0.219931 8.70508C0.076007 8.95094 0.000191627 9.22937 0 9.51277H5.04009L8 4.48713Z",fill:"#00AC47"}),M.jsx("path",{d:"M13.48 13.7847C13.7274 13.6411 13.9382 13.4437 14.0848 13.1924L14.3781 12.6988L15.7801 10.3206C15.9267 10.0693 16.0001 9.79114 16.0001 9.51294H10.9596L12.0321 11.577L13.48 13.7847Z",fill:"#EA4335"}),M.jsx("path",{d:"M8.00003 4.48718L10.5201 0.215385C10.2726 0.0717949 9.98857 0 9.69533 0H6.30472C6.01148 0 5.7274 0.0807692 5.47998 0.215385L8.00003 4.48718Z",fill:"#00832D"}),M.jsx("path",{d:"M10.9599 9.51294H5.04007L2.52002 13.7847C2.76744 13.9283 3.05152 14.0001 3.34476 14.0001H12.6552C12.9484 14.0001 13.2325 13.9194 13.4799 13.7847L10.9599 9.51294Z",fill:"#2684FC"}),M.jsx("path",{d:"M13.4525 4.75636L11.1249 0.80764C10.9782 0.556358 10.7675 0.358922 10.52 0.215332L8 4.48713L10.9599 9.51277H15.9908C15.9908 9.23456 15.9175 8.95636 15.7709 8.70508L13.4525 4.75636Z",fill:"#FFBA00"})]}),M.jsx("defs",{children:M.jsx("clipPath",{id:"clip0_2115_829",children:M.jsx("rect",{width:"16",height:"14",fill:"white"})})})]});async function ZN({url:t,popup:e,provider:n}){return e.location=t,new Promise(((i,c)=>{function m(){e?.close(),window.removeEventListener("message",s)}function s(g){g.data&&(g.data.type==="PRIVY_OAUTH_RESPONSE"&&g.data.stateCode&&g.data.authorizationCode&&(i(g.data),m()),g.origin==="https://cdn.apple-cloudkit.com"&&g.data.ckSession&&(i({type:"PRIVY_OAUTH_RESPONSE",ckWebAuthToken:g.data.ckSession}),m()),g.data.type==="PRIVY_OAUTH_ERROR"&&(c(g.data.error),m()))}window.addEventListener("message",s)}))}async function sNe({api:t,provider:e,stateCode:n,codeVerifier:i,authorizationCode:c}){if(!c||!n)throw new ge("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if(c==="undefined")throw new ge("User denied confirmation during OAuth flow");try{return(await t.post(eve,{authorization_code:c,state_code:n,code_verifier:i,provider:e})).access_token}catch(m){let s=Kt(m);throw s.privyErrorCode?new ge(s.message||"Invalid code during OAuth flow.",void 0,s.privyErrorCode):s.message==="User denied confirmation during OAuth flow"?new ge("Invalid code during oauth flow.",void 0,we.OAUTH_USER_DENIED):new ge("Invalid code during OAuth flow.",void 0,we.UNKNOWN_AUTH_ERROR)}}async function JN({api:t,provider:e}){let n=J3(),i=dA(),c=await fA(n);try{return e==="icloud"?{url:(await t.post(q0e,{client_type:"web"})).url}:{url:(await t.post(Q0e,{redirect_to:window.location.href,code_challenge:c,state_code:i})).url,codeVerifier:n,stateCode:i,provider:e}}catch(m){throw Kt(m)}}const PA=(t,{chainType:e,walletIndex:n}={})=>t?.linkedAccounts.filter((i=>!(i.type!=="wallet"||i.walletClientType!=="privy"||n!==void 0&&i.walletIndex!==n||e!==void 0&&i.chainType!==e)))??[],mZ=async({user:t,accessToken:e,proxy:n,refreshSessionAndUser:i,privy:c,appConfig:m,recoverEmbeddedWallet:s,setUser:g,walletIndex:r,chainType:a,recoveryMethod:v,recoveryPassword:h,recoveryAccessToken:u})=>{if(r===0)if(m.embeddedWallets.mode==="user-controlled-server-wallets-only")await EC(c,{request:{chain_type:a}});else if(a==="ethereum"){let d=a3(t);d&&await s({address:d.address}),await n.create({accessToken:e,solanaAddress:d?.address,recoveryMethod:v,recoveryPassword:h,recoveryAccessToken:u})}else{if(a!=="solana")throw Error("Invalid input to create wallet");{let d=nl(t);d&&await s({address:d.address}),await n.createSolana({accessToken:e,ethereumAddress:d?.address,recoveryMethod:v,recoveryPassword:h,recoveryAccessToken:u})}}else if(m.embeddedWallets.mode==="user-controlled-server-wallets-only")await EC(c,{request:{chain_type:a}});else{let{entropyId:d,entropyIdVerifier:p}=io(t);await s(),await n.addWallet({accessToken:e,entropyId:d,entropyIdVerifier:p,chainType:a,hdWalletIndex:r})}let l=await i(),o=PA(l,{chainType:a,walletIndex:r})[0];return g(l),{user:l,account:o}},IA=()=>{let{walletProxy:t,recoverEmbeddedWallet:e,setUser:n,refreshSessionAndUser:i,privy:c,client:m}=et(),s=it();return{create:async({walletIndex:g,chainType:r,latestUser:a,recoveryMethod:v,recoveryPassword:h,recoveryAccessToken:u})=>{let l=a;l||(l=await i());let o=await m.getAccessToken();if(!l||!o||!t)throw Error("User must be authenticated before creating a Privy wallet");return await mZ({appConfig:s,user:l,refreshSessionAndUser:i,privy:c,accessToken:o,proxy:t,recoverEmbeddedWallet:e,setUser:n,walletIndex:g,chainType:r,recoveryMethod:v,recoveryPassword:h,recoveryAccessToken:u})}}},aNe=({title:t,description:e,onClose:n})=>M.jsx(Zt,{title:t,subtitle:e,icon:n1,iconVariant:"success",watermark:!0,onBack:n}),RA={component:()=>{let{user:t}=Xt(),{closePrivyModal:e,isNewUserThisSession:n,updateWallets:i}=et(),{data:c,onUserCloseViaDialogOrKeybindRef:m}=lt(),s=it(),{onSuccess:g,onFailure:r,callAuthOnSuccessOnClose:a}=c.createWallet,v=()=>{let h=nl(t)??a3(t);t&&h?(i(),g({user:t,account:h})):r(Error("Failed to create wallet")),e({shouldCallAuthOnSuccess:a})};return H.useEffect((()=>{let h=setTimeout(v,2500);return()=>clearTimeout(h)}),[]),m.current=v,M.jsx(aNe,{title:n?"Welcome"+(s?.name?` to ${s?.name}`:""):"All set!",description:n?"You've successfully created an account.":"Your account is secured.",onClose:v})}},oT=ae.div.withConfig({displayName:"RecoveryContainer",componentId:"sc-12b46968-0"})(["display:flex;flex-direction:column;gap:12px;padding-top:24px;padding-bottom:24px;"]),oNe=ae.div.withConfig({displayName:"RecoveryExplainerContainer",componentId:"sc-12b46968-1"})(["padding-bottom:24px;"]);let _N={"google-drive":{name:"Google Drive",component:gZ},icloud:{name:"iCloud",component:vZ}};const yZ={component:()=>{let{logout:t}=Xt(),{navigate:e,setModalData:n,data:i}=lt(),{closePrivyModal:c,createAnalyticsEvent:m}=et(),{execute:s}=(()=>{let{client:A,walletProxy:P,refreshSessionAndUser:R}=et(),{data:L}=lt(),{user:D}=Xt(),$=Ld(),{create:F}=IA();return{execute:async({provider:N,action:k,popup:j,shouldCreateEth:W,shouldCreateSol:G})=>{let K,z;if(!A)throw new ge("Missing client");function X(U){if(!U&&A)throw A.createAnalyticsEvent({eventName:"recovery_oauth_error",payload:{error:"Unable to open recovery OAuth popup",provider:N}}),new ge("Recovery OAuth failed")}switch(N){case"google-drive":{let U,Z,{url:V,codeVerifier:J,stateCode:Q}=await JN({api:A.api,provider:N});X(V);try{let ee=await ZN({url:V,popup:j,provider:N});if(U=ee.stateCode,Z=ee.authorizationCode,U!==Q)throw A.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:N,storedStateCode:Q??"",returnedStateCode:U??""}}),new ge("Unexpected auth flow. This may be a phishing attempt.",void 0,we.OAUTH_UNEXPECTED)}catch(ee){throw A.createAnalyticsEvent({eventName:"recovery_oauth_error",payload:{error:ee.toString(),provider:N}}),new ge("Recovery OAuth failed")}[K,z]=await Promise.all([A.getAccessToken(),sNe({api:A.api,provider:N,codeVerifier:J,stateCode:U,authorizationCode:Z})]);break}case"icloud":{let{url:U}=await JN({api:A.api,provider:N});X(U);let{ckWebAuthToken:Z}=await ZN({url:U,popup:j,provider:N});z=Z,K=await A.getAccessToken()}}if(!P)throw new ge("Cannot connect to wallet proxy");if(!K)throw new ge("Unable to authorize user");switch(k){case"recover":{let U=L?.recoverWallet?.entropyId,Z=L?.recoverWallet?.entropyIdVerifier;if(!U||!Z)throw new ge("Recovery OAuth failed");A.createAnalyticsEvent({eventName:"embedded_wallet_recovery_started",payload:{walletAddress:U,recoveryMethod:N}}),await P.recover({accessToken:K,entropyId:U,entropyIdVerifier:Z,recoveryAccessToken:z}),A.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:U,recoveryMethod:N}});break}case"create-wallet":{let U;if(A.createAnalyticsEvent({eventName:"embedded_wallet_creation_started"}),W&&G)U=await F({recoveryMethod:N,recoveryAccessToken:z,chainType:"ethereum",walletIndex:0,latestUser:D}),U=await F({chainType:"solana",walletIndex:0,latestUser:U.user});else if(G)U=await F({recoveryMethod:N,recoveryAccessToken:z,chainType:"solana",walletIndex:0,latestUser:D});else{if(!W)throw Error("Invalid args to create wallet");U=await F({recoveryMethod:N,recoveryAccessToken:z,chainType:"ethereum",walletIndex:0,latestUser:D})}if(!U)throw $("createWallet","onError",we.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to create wallet");A.createAnalyticsEvent({eventName:"embedded_wallet_creation_completed",payload:{walletAddress:U.account.address}}),$("createWallet","onSuccess",{wallet:U.account});break}case"set-recovery":{let U=bo(D);if(!U)throw $("setWalletRecovery","onError",we.EMBEDDED_WALLET_NOT_FOUND),Error("Embedded wallet not found");A.createAnalyticsEvent({eventName:"embedded_wallet_set_recovery_started",payload:{walletAddress:U.address,existingRecoveryMethod:U.recoveryMethod,targetRecoveryMethod:N}});let{entropyId:Z,entropyIdVerifier:V}=io(D);await P.setRecovery({accessToken:K,entropyId:Z,entropyIdVerifier:V,recoveryMethod:N,recoveryAccessToken:z});let J=bo(await R());if(!J)throw $("createWallet","onError",we.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to set recovery on wallet");A.createAnalyticsEvent({eventName:"embedded_wallet_set_recovery_completed",payload:{walletAddress:U.address,existingRecoveryMethod:U.recoveryMethod,targetRecoveryMethod:N}}),$("setWalletRecovery","onSuccess",{method:N,wallet:J});break}default:throw new ge("Unsupported recovery action")}}}})(),[g,r]=H.useState(!1),{provider:a,action:v,isInAccountCreateFlow:h,shouldCreateEth:u,shouldCreateSol:l}=i?.recoveryOAuthStatus,[o,d]=H.useState(void 0),[p,f]=H.useState(v==="create-wallet");if(a==="user-passcode")throw Error("RecoveryOAuthScreen should never be called with a wallet that specifies recoveryMethod: `user-passcode`");let y=_N[a].name,w=_N[a].component,x=i?.recoverWallet?.onCompleteNavigateTo,b=new Gi((async(A="create-wallet")=>(f(!0),new Promise(((P,R)=>{setTimeout((async()=>{try{let L=window.open();await s({provider:a,action:A,popup:L,shouldCreateEth:u,shouldCreateSol:l}),r(!0),P()}catch{d({message:`${A==="recover"?"Recovery":"Back up"} with ${y} unsuccessful`,detail:v==="recover"?`Please verify that you are selecting the ${y} account associated with your backup.`:"",retryable:!0}),R()}}),0)})))));H.useEffect((()=>{v!=="recover"&&b.execute(h?"create-wallet":"set-recovery")}),[]),H.useEffect((()=>{if(!g)return;let A=setTimeout((()=>{h?(n({createWallet:{onSuccess:()=>{},onFailure:P=>{m({eventName:"embedded_wallet_creation_failure_logout",payload:{error:P,screen:"RecoveryOAuthScreen"}}),t()},callAuthOnSuccessOnClose:!0,shouldCreateEth:!1,shouldCreateSol:!1}}),e(RA)):c({shouldCallAuthOnSuccess:!1})}),Yn);return()=>clearTimeout(A)}),[g]);let E=H.useCallback((async()=>{await b.execute("recover"),x?e(x):r(!0)}),[]),C=a==="google-drive"?"Google Drive":"Apple iCloud",T=g&&`Successfully ${v==="recover"?"recovered":"backed up"} with ${C}.`||o&&o.message||`${v==="recover"?"Recovering":"Backing up"} with ${C}...`,S=o?o.detail:"";return M.jsxs(M.Fragment,{children:[M.jsx(Vt,{}),p?M.jsx(M.Fragment,{children:M.jsxs(oT,{children:[M.jsx(To,{title:T,icon:M.jsx(w,{style:{width:"38px",height:"38px"}}),description:S}),o&&o?.retryable?M.jsx(Cn,{onClick:()=>{eT(),d(void 0),v==="create-wallet"?b.execute("create-wallet"):E()},disabled:!g&&!o?.retryable,children:"Try again"}):null]})}):M.jsxs(oT,{children:[M.jsx(To,{title:"Confirm it's really you",icon:M.jsx(w,{style:{height:42,width:48}}),description:`To confirm your identity, please log in to ${C} where your account is backed up.`}),M.jsxs(Cn,{onClick:E,children:["Confirm with ",C]})]}),M.jsx(dn,{})]})}};let WE=ae.div.withConfig({displayName:"IconContainer",componentId:"sc-ccfae04f-0"})(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;"]),lNe={"google-drive":"Google Drive",icloud:"iCloud","user-passcode":"password",privy:"Privy","privy-v2":"Privy"},uNe=({onClose:t})=>M.jsxs(oNe,{children:[M.jsx(To,{title:"Why do I need to secure my account?",icon:M.jsx(Ep,{width:48}),description:M.jsxs(M.Fragment,{children:[M.jsx("p",{children:"Your app uses cryptography to secure your account. App secrets are split and encrypted so only you can access them."}),M.jsx("p",{children:"To use this app on new devices, secure account secrets using a password, your Google or your Apple account. Its important you dont lose access to the method you choose."})]})}),M.jsx(Cn,{onClick:t,children:"Select backup method"})]});const lT={component:()=>{let[t,e]=H.useState(!1),{navigate:n,lastScreen:i,navigateBack:c,setModalData:m,data:s,onUserCloseViaDialogOrKeybindRef:g}=lt(),{user:r}=Xt(),{embeddedWallets:a}=it(),{closePrivyModal:v}=et(),h=bo(r),u=h===null,{isInAccountCreateFlow:l,isResettingPassword:o,shouldCreateEth:d,shouldCreateSol:p}=s.recoverySelection,f=h&&h.recoveryMethod!=="privy",y=f?M.jsxs("span",{children:["Your account is currently secured using"," ",M.jsx("strong",{children:lNe[h?.recoveryMethod||"user-passcode"]}),"."]}):"Select a method for logging in on new devices and recovering your account.";function w(b){m({recoveryOAuthStatus:{provider:b,action:u?"create-wallet":"set-recovery",isInAccountCreateFlow:l,shouldCreateEth:d,shouldCreateSol:p}}),n(yZ)}function x(){s?.setWalletPassword?.onFailure(Error("User exited set recovery flow")),v({shouldCallAuthOnSuccess:s?.setWalletPassword?.callAuthOnSuccessOnClose??!1})}return g.current=x,M.jsxs(M.Fragment,{children:[M.jsx(Vt,{onClose:x,backFn:t?()=>e(!1):i?c:void 0,infoFn:i||t?void 0:()=>e(!0)},"header"),t?M.jsx(uNe,{onClose:()=>e(!1)}):M.jsxs(M.Fragment,{children:[M.jsx(To,{title:f?"Update backup method":"Secure your account",icon:M.jsx(LG,{width:48}),description:y}),M.jsx(oT,{children:a.userOwnedRecoveryOptions.filter((b=>!["icloud","google-drive"].includes(h?.recoveryMethod||"")||b!==h?.recoveryMethod)).sort().map((b=>{switch(b){case"google-drive":return M.jsxs(_n,{onClick:()=>w("google-drive"),children:[M.jsx(WE,{children:M.jsx(gZ,{style:{width:18}})}),"Back up to Google Drive"]},b);case"icloud":return M.jsxs(_n,{onClick:()=>w("icloud"),children:[M.jsx(WE,{children:M.jsx(vZ,{style:{width:24}})}),"Back up to Apple iCloud"]},b);case"user-passcode":return M.jsxs(_n,{onClick:()=>{n(LJ({isCreatingWallet:u,skipSplashScreen:!0}))},children:[M.jsx(WE,{children:M.jsx(Hme,{style:{width:18}})}),o?"Reset your":"Set a"," password"]},b);default:return null}}))})]}),M.jsx(dn,{})]})}};let cNe=Wr(["font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;text-align:left;transition:color 0.1s ease-in;"]);const wZ=ae.span.withConfig({displayName:"StatusText",componentId:"sc-acac4b9-0"})([""," transition:color 0.1s ease-in;color:",";text-transform:",";&[aria-hidden='true']{visibility:hidden;}"],cNe,(({error:t})=>t?"var(--privy-color-error)":"var(--privy-color-foreground-3)"),(({error:t})=>t?"":"capitalize")),ab=ae.div.withConfig({displayName:"EmbeddedWalletScreenContainer",componentId:"sc-acac4b9-1"})(["display:flex;flex-direction:column;justify-content:center;flex-grow:1;"]),ob=ae(Cn).withConfig({displayName:"NoAnimationPrimaryButton",componentId:"sc-acac4b9-2"})(["",""],(({$hideAnimations:t})=>t&&Wr(["&&{transition:none;}"])));let xZ=Wr(["&&{width:100%;border-width:1px;border-radius:var(--privy-border-radius-md);border-color:var(--privy-color-foreground-3);background:var(--privy-color-background);color:var(--privy-color-foreground);padding:12px;font-size:16px;font-style:normal;font-weight:300;line-height:22px;}"]);const OA=ae.input.withConfig({displayName:"PasswordInput",componentId:"sc-acac4b9-3"})([""," &::placeholder{color:var(--privy-color-foreground-3);font-style:italic;font-size:14px;}overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"],xZ),hNe=ae.div.withConfig({displayName:"PasswordDisplay",componentId:"sc-acac4b9-4"})(["",""],xZ),lb=ae.div.withConfig({displayName:"PasswordContainer",componentId:"sc-acac4b9-5"})(["position:relative;width:100%;display:flex;align-items:center;justify-content:",";"],(({centered:t})=>t?"center":"space-between")),ub=ae.div.withConfig({displayName:"Header",componentId:"sc-acac4b9-6"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin:32px 0;gap:4px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]),MA=ae.div.withConfig({displayName:"Details",componentId:"sc-acac4b9-7"})(["display:flex;flex-direction:column;gap:10px;padding-bottom:1rem;"]),uT=ae.div.withConfig({displayName:"DetailItem",componentId:"sc-acac4b9-8"})(["display:flex;text-align:left;align-items:center;gap:8px;max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;margin:0 8px;color:var(--privy-color-foreground-2);> :first-child{min-width:24px;}"]),QN=ae(cd).withConfig({displayName:"ExportButton",componentId:"sc-acac4b9-10"})(["display:flex;flex:1;gap:4px;justify-content:center;&&{background:var(--privy-color-background);border-radius:var(--privy-border-radius-md);border-color:var(--privy-color-foreground-3);border-width:1px;}"]),cb=ae.div.withConfig({displayName:"InputRightIcons",componentId:"sc-acac4b9-11"})(["position:absolute;right:0.5rem;display:flex;flex-direction:row;justify-content:space-around;align-items:center;"]),dNe=ae(Xme).withConfig({displayName:"RegenerateIcon",componentId:"sc-acac4b9-12"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),hb=ae(_me).withConfig({displayName:"HiddenIcon",componentId:"sc-acac4b9-13"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),db=ae(Zme).withConfig({displayName:"ShownIcon",componentId:"sc-acac4b9-14"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),fNe=ae.progress.withConfig({displayName:"StrengthMeter",componentId:"sc-acac4b9-15"})(["height:4px;width:100%;margin:8px 0;::-webkit-progress-bar{border-radius:8px;background:var(--privy-color-foreground-4);}::-webkit-progress-value{border-radius:8px;transition:all 0.1s ease-out;background:",";}"],(({label:t})=>(t==="Strong"?"#78dca6":t==="Medium"&&"var(--privy-color-warn)")||"var(--privy-color-error)")),pNe=({buttonHideAnimations:t,buttonLoading:e,password:n,onSubmit:i,onBack:c})=>{let[m,s]=H.useState(!0),[g,r]=H.useState(!1),[a,v]=H.useState(""),h=n===a;return H.useEffect((()=>{a&&!g&&r(!0)}),[a]),M.jsxs(M.Fragment,{children:[M.jsx(Vt,{closeable:!1,backFn:c}),M.jsx(Sl,{}),M.jsxs(ab,{children:[M.jsxs(ub,{children:[M.jsx(bd,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-accent)"}),M.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Confirm your password"}),M.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Please re-enter your password below to continue."})]}),M.jsxs(lb,{children:[M.jsx(OA,{value:a,onChange:u=>v(u.target.value),onKeyUp:u=>{u.key==="Enter"&&i()},onBlur:()=>r(!0),placeholder:"confirm your password",type:m?"password":"text",style:{paddingRight:"2.3rem"}}),M.jsx(cb,{style:{right:"0.75rem"},children:m?M.jsx(hb,{onClick:()=>s(!1)}):M.jsx(db,{onClick:()=>s(!0)})})]}),M.jsx(wZ,{"aria-hidden":!g||h,error:!0,children:"Passwords do not match"})]}),M.jsx(ob,{onClick:i,loading:e,disabled:!h,$hideAnimations:t,children:"Continue"}),M.jsx(Mo,{}),M.jsx(dn,{})]})},bZ=({className:t,checked:e,color:n="var(--privy-color-accent)",...i})=>M.jsx("label",{children:M.jsxs(vNe,{className:t,children:[M.jsx(CZ,{checked:e,...i}),M.jsx(gNe,{color:n,checked:e,children:M.jsx(EZ,{viewBox:"0 0 24 24",children:M.jsx("polyline",{points:"20 6 9 17 4 12"})})})]})});let vNe=ae.div.withConfig({displayName:"CheckboxContainer",componentId:"sc-db51b935-1"})(["display:inline-block;vertical-align:middle;"]),EZ=ae.svg.withConfig({displayName:"Icon",componentId:"sc-db51b935-2"})(["fill:none;stroke:white;stroke-width:3px;"]),CZ=ae.input.attrs({type:"checkbox"}).withConfig({displayName:"HiddenCheckbox",componentId:"sc-db51b935-3"})(["border:0;clip:rect(0 0 0 0);clippath:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;"]),gNe=ae.div.withConfig({displayName:"StyledCheckbox",componentId:"sc-db51b935-4"})(["display:inline-block;width:18px;height:18px;transition:all 150ms;cursor:pointer;border-color:",";border-radius:3px;background:",";&&{border-width:1px;}",":focus + &{box-shadow:0 0 0 1px ",";}","{visibility:",";}"],(t=>t.color),(t=>t.checked?t.color:"var(--privy-color-background)"),CZ,(t=>t.color),EZ,(t=>t.checked?"visible":"hidden"));const mNe=({buttonHideAnimations:t,buttonLoading:e,onSubmit:n,onBack:i,config:c})=>{let[m,s]=H.useState(!1);return M.jsxs(M.Fragment,{children:[M.jsx(Vt,{closeable:!1,backFn:i}),M.jsx(Sl,{}),M.jsxs(ab,{children:[M.jsxs(ub,{children:[M.jsx(bd,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-error)"}),M.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Confirm you have saved"}),M.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Losing access to your password means you will lose access to your account."})]}),M.jsx(MA,{children:M.jsxs(uT,{style:{color:"var(--privy-color-error)",cursor:"pointer"},onClick:g=>{g.preventDefault(),s((r=>!r))},children:[M.jsx(bZ,{color:"var(--privy-color-error)",readOnly:!0,checked:m}),M.jsx(M.Fragment,{children:"I understand that if I lose my password and device, I will lose access to my account and my assets."})]})})]}),M.jsxs(yNe,{children:[c.initiatedBy==="user"&&M.jsx(So,{onClick:c.onCancel,disabled:e,children:"Cancel"}),M.jsx(ob,{onClick:n,loading:e,$hideAnimations:t,disabled:!m,children:"Set Password"})]}),M.jsx(Mo,{}),M.jsx(dn,{})]})};let yNe=ae.div.withConfig({displayName:"ButtonsContainer",componentId:"sc-d1659c5f-0"})(["display:flex;gap:10px;"]),wNe=/[a-z]/,xNe=/[A-Z]/,bNe=/[0-9]/,SZ="!@#$%^&*()\\-_+.",TZ=`a-zA-Z0-9${SZ}`,ENe=RegExp(`[${SZ}]`),CNe=RegExp(`[${TZ}]`);const SNe=RegExp(`^[${TZ}]{6,}$`),AZ=()=>jme(4,Wme);function TNe(t){return t>.9?"Strong":t>.5?"Medium":"Weak"}function ANe(t=""){return(.3*(function(e){if(e.length<8)return 0;let n=0;return wNe.test(e)&&(n+=1),xNe.test(e)&&(n+=1),bNe.test(e)&&(n+=1),ENe.test(e)&&(n+=1),Math.max(0,Math.min(1,n/3))})(t)+Lme(t)/95)/2}const PNe=({buttonHideAnimations:t,buttonLoading:e,password:n="",config:i,isResettingPassword:c,onSubmit:m,onClose:s,onBack:g,onPasswordChange:r,onPasswordGenerate:a})=>{let[v,h]=H.useState(!1),[u,l]=H.useState(!1);H.useEffect((()=>{n&&!u&&l(!0)}),[n]);let o=H.useMemo((()=>u?6>(n?.length||0)?"Password must be at least 6 characters":SNe.test(n||"")?null:`Invalid characters used ( ${((f="")=>[...new Set(f.split("").filter((y=>!CNe.test(y))).map((y=>y.replace(" ","SPACE"))))])(n).join(" ")} )`:null),[n,u]),d=H.useMemo((()=>o?{value:0,label:"Weak"}:(function(f=""){let y=ANe(f);return{value:y,label:TNe(y)}})(n)),[n,o]),p=H.useMemo((()=>!n?.length||!!o),[o,n]);return M.jsxs(M.Fragment,{children:[M.jsx(Vt,{onClose:s,closeable:i.initiatedBy==="user",backFn:g}),M.jsx(Sl,{}),M.jsxs(ab,{children:[M.jsxs(ub,{children:[M.jsx(qme,{height:48,width:48,stroke:"var(--privy-color-accent)"}),M.jsxs("h3",{style:{color:"var(--privy-color-foreground)"},children:[c?"Reset":"Set"," your password"]}),M.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Select a strong, memorable password to secure your account."})]}),M.jsxs(lb,{children:[M.jsx(OA,{value:n,onChange:f=>r(f.target.value),onKeyUp:f=>{f.key==="Enter"&&m()},placeholder:"enter or generate a strong password",type:v?"password":"text",style:{paddingRight:"3.8rem"}}),M.jsxs(cb,{style:{width:"3.5rem"},children:[v?M.jsx(hb,{onClick:()=>h(!1)}):M.jsx(db,{onClick:()=>h(!0)}),M.jsx(dNe,{onClick:a})]})]}),M.jsx(fNe,{value:d.value===0?.01:d.value,label:d.label}),M.jsx(wZ,{error:!!o,children:o||`Password Strength: ${u?d.label:"--"}`}),M.jsxs(RNe,{children:[M.jsx(INe,{children:M.jsxs(MA,{children:[M.jsxs(uT,{children:[M.jsx(pm,{width:24,height:24,fill:"var(--privy-color-accent)"}),"This password is used to secure your account."]}),M.jsxs(uT,{children:[M.jsx(pm,{width:24,height:24,fill:"var(--privy-color-accent)"}),"Use it to log in on a new environment, like another browser or device."]})]})}),M.jsx(ob,{onClick:m,loading:e,disabled:p,$hideAnimations:t,children:"Continue"})]})]}),M.jsx(Mo,{}),M.jsx(dn,{})]})};let INe=ae(MA).withConfig({displayName:"DetailsContainer",componentId:"sc-2da5fe90-0"})(["flex:1;padding-top:1rem;"]),RNe=ae.div.withConfig({displayName:"LowerContainer",componentId:"sc-2da5fe90-1"})(["display:flex;flex-direction:column;height:100%;"]);const ONe=({buttonHideAnimations:t,buttonLoading:e,appName:n,password:i,onSubmit:c,onBack:m})=>{let[s,g]=H.useState(!1),[r,a]=H.useState(!0),v=H.useCallback((()=>{g(!0),i&&navigator.clipboard.writeText(i)}),[i]),h=H.useCallback((()=>{let u=document.createElement("a"),l=n.toLowerCase().replace(/[^a-z\s]/g,"").replace(/\s/g,"-"),o=new Blob([MNe(n,i)],{type:"text/plain"}),d=URL.createObjectURL(o);u.href=d,u.target="_blank",u.download=`${l}-privy-wallet-recovery.txt`,document.body.appendChild(u),u.click(),setTimeout((()=>{u.remove(),URL.revokeObjectURL(d)}),5e3)}),[i]);return M.jsxs(M.Fragment,{children:[M.jsx(Vt,{backFn:m,closeable:!1}),M.jsx(Sl,{}),M.jsxs(ab,{children:[M.jsxs(ub,{children:[M.jsx(bd,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-accent)"}),M.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Save your password"}),M.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"For your security, this password cannot be reset, so keep it somewhere safe."})]}),M.jsxs(lb,{centered:!0,children:[M.jsx(hNe,{children:r?"".repeat(i.length):i}),M.jsx(cb,{style:{right:"0.75rem"},children:r?M.jsx(hb,{onClick:()=>a(!1)}):M.jsx(db,{onClick:()=>a(!0)})})]}),M.jsxs("div",{style:{display:"flex",margin:"12px 0",gap:"12px"},children:[M.jsx(QN,{onClick:v,children:M.jsxs(M.Fragment,s?{children:[M.jsx(DG,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Copied"]}:{children:[M.jsx(s1e,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Copy"]})}),M.jsxs(QN,{onClick:h,children:[M.jsx(n1e,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Download"]})]})]}),M.jsx(ob,{onClick:c,loading:e,$hideAnimations:t,children:"Continue"}),M.jsx(Mo,{}),M.jsx(dn,{})]})};let MNe=(t,e)=>`Your wallet recovery password for ${t} is

${e}

You will need this password to access your ${t} wallet on a new device. Please keep it somewhere safe.`;const $Ne=({error:t,onClose:e})=>M.jsxs(M.Fragment,{children:[M.jsx(Vt,{closeable:!1}),M.jsx(Sl,{}),M.jsxs(nb,t?{children:[M.jsx(o1e,{fill:"var(--privy-color-error)",width:"64px",height:"64px"}),M.jsx(To,{title:"Something went wrong",description:t})]}:{children:[M.jsx(pm,{fill:"var(--privy-color-success)",width:"64px",height:"64px"}),M.jsx(To,{title:"Success"})]}),M.jsx(Cn,{onClick:e,children:"Close"}),M.jsx(Mo,{}),M.jsx(dn,{})]});let FNe=(t,e)=>{switch(t){case"creating":return e==="back"?t:"saving";case"saving":return e==="back"?"creating":"confirming";case"confirming":return e==="back"?"saving":"finalizing";case"finalizing":return e==="back"?"confirming":"done";default:return t}};const PZ=({onSubmit:t,...e})=>{let{lastScreen:n,navigate:i}=lt(),{send:c,state:m}=(()=>{let[a,v]=H.useReducer(FNe,"creating");return{send:v,state:a}})(),s=H.useCallback((async()=>{m==="finalizing"&&await t(),c("next")}),[m,c,t]);H.useEffect((()=>{let a;return m==="done"&&e.config.initiatedBy==="automatic"&&(a=setTimeout((()=>e.onClose?.()),Yn)),()=>{a&&clearTimeout(a)}}),[m,e.config.initiatedBy,e.onClose]);let g=H.useCallback((()=>{c("back")}),[c]),r=H.useCallback((()=>{i(lT)}),[n,i]);return m==="creating"?M.jsx(PNe,{...e,onSubmit:s,onBack:n===lT?r:void 0}):m==="saving"?M.jsx(ONe,{...e,onSubmit:s,onBack:g}):m==="confirming"?M.jsx(pNe,{...e,onSubmit:s,onBack:g}):m==="finalizing"?M.jsx(mNe,{...e,onSubmit:s,onBack:g}):m==="done"?M.jsx($Ne,{...e,onSubmit:s}):null};let LNe={apple_oauth:"apple",custom_auth:"custom",discord_oauth:"discord",email:"email",farcaster:"farcaster",github_oauth:"github",google_oauth:"google",instagram_oauth:"instagram",linkedin_oauth:"linkedin",passkey:"passkey",phone:"sms",spotify_oauth:"spotify",telegram:"telegram",tiktok_oauth:"tiktok",line_oauth:"line",twitch_oauth:"twitch",twitter_oauth:"twitter",wallet:"siwe",smart_wallet:"siwe",cross_app:"privy:"};const fb=t=>{if(r1(t))return{displayName:t.replace("custom:",""),loginMethod:"custom"};let e=LNe[t];return t==="wallet"||t==="phone"?{displayName:t,loginMethod:e}:{displayName:e,loginMethod:e}};let IZ=H.createContext({});const DNe=({children:t})=>{let e=it(),[n,i]=H.useState({});return q3("login",{onComplete:({loginAccount:c})=>{c&&c.type!=="passkey"&&c.type!=="cross_app"&&(c.type!=="wallet"||c.walletClientType!=="privy")&&(Ct.put(qN(e.id),c.type),c.type==="wallet"?(Ct.put(GE(e.id),c.walletClientType),Ct.put(VE(e.id),c.chainType),i({accountType:c.type,walletClientType:c.walletClientType,chainType:c.chainType})):(Ct.del(GE(e.id)),Ct.del(VE(e.id)),i({accountType:c.type})))}}),H.useEffect((()=>{if(!e.id)return;let c=Ct.get(qN(e.id)),m=Ct.get(GE(e.id)),s=Ct.get(VE(e.id));c&&i(c==="wallet"?{accountType:c,walletClientType:m,chainType:s}:{accountType:c})}),[e.id]),M.jsx(IZ.Provider,{value:n,children:t})};let qN=t=>`privy:${t}:recent-login-method`,GE=t=>`privy:${t}:recent-login-wallet-client`,VE=t=>`privy:${t}:recent-login-chain-type`;const Bc=()=>H.useContext(IZ),RZ=()=>{let t=it(),e=t?.appearance?.logo,n=`${t?.name} logo`,i={maxHeight:"90px",maxWidth:"180px"};return e?typeof e=="string"?M.jsx("img",{src:e,alt:n,style:i}):e.type==="svg"||e.type==="img"?Ze.cloneElement(e,{alt:n,style:i}):(console.warn("`config.appearance.logo` must be a string, or an SVG / IMG element. Nothing will be rendered."),null):null},NNe=t=>it()?.appearance.logo?M.jsx(kNe,{...t,children:M.jsx(RZ,{})}):null,kNe=ae.div.withConfig({displayName:"AppLogoContainer",componentId:"sc-b210074-0"})(["display:flex;flex-direction:column;align-items:center;padding:24px 0;flex-grow:1;justify-content:center;"]),BNe=({name:t,logoUrl:e,size:n="38px"})=>typeof e=="string"?M.jsx("img",{src:e,alt:`${t??"Provider app"} logo`,style:{width:n,height:n,maxHeight:"90px",maxWidth:"180px",borderRadius:"8px"}}):M.jsx("span",{}),UNe=({appId:t})=>{let[e,n]=H.useState(void 0),{startCrossAppAuthFlow:i,authenticated:c}=Xt(),{client:m}=et();return H.useEffect((()=>{(async()=>m&&n(await m.getCrossAppProviderDetails(t)))()}),[m]),M.jsx(_n,{onClick:()=>i({appId:t,action:c?"link":"login"}),disabled:!e,children:e?M.jsxs(M.Fragment,{children:[M.jsx(BNe,{name:e.name,logoUrl:e.icon_url||void 0,size:"24px"})," ",e.name]}):M.jsx(kc,{})})};let jNe=ae.a.withConfig({displayName:"StyledLink",componentId:"sc-c8577138-0"})(["&&{color:",";font-weight:400;text-decoration:",";text-underline-offset:4px;text-decoration-thickness:1px;cursor:",";opacity:",";font-size:",";line-height:",";transition:color 200ms ease,text-decoration-color 200ms ease,opacity 200ms ease;&:hover{color:",";text-decoration:",";text-underline-offset:4px;}&:active{color:",";}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;border-radius:2px;}}"],(({$variant:t})=>t==="underlined"?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))"),(({$variant:t})=>t==="underlined"?"underline":"var(--privy-link-navigation-decoration, none)"),(({$disabled:t})=>t?"not-allowed":"pointer"),(({$disabled:t})=>t?.5:1),(({$size:t})=>{switch(t){case"xs":return"12px";case"sm":return"14px";default:return"16px"}}),(({$size:t})=>{switch(t){case"xs":return"18px";case"sm":return"22px";default:return"24px"}}),(({$variant:t,$disabled:e})=>t==="underlined"?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))"),(({$disabled:t})=>t?"none":"underline"),(({$variant:t,$disabled:e})=>e?t==="underlined"?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))":"var(--privy-color-foreground)"));const t0=({size:t="md",variant:e="navigation",disabled:n=!1,as:i,children:c,onClick:m,...s})=>M.jsx(jNe,{as:i,$size:t,$variant:e,$disabled:n,onClick:g=>{n?g.preventDefault():m?.(g)},...s,children:c}),$A=(t,e)=>!nl(t)&&(e==="all-users"||e==="users-without-wallets"&&!zNe(t).length);let zNe=t=>t.linkedAccounts.filter((e=>e.type==="wallet"&&e.chainType==="ethereum"));const FA=(t,e)=>!a3(t)&&(e==="all-users"||e==="users-without-wallets"&&!WNe(t).length);let WNe=t=>t.linkedAccounts.filter((e=>e.type==="wallet"&&e.chainType==="solana"));const Uc=(t,e)=>$A(t,e.ethereum.createOnLogin)||FA(t,e.solana.createOnLogin),GNe=({title:t="Account not found",subtitle:e,appName:n="this app",ctaText:i="Try logging in again",onRetry:c})=>M.jsx(Zt,{title:t,subtitle:e||`Please try logging in again or go to ${n} to create an account.`,icon:Ive,iconVariant:"warning",primaryCta:{label:i,onClick:c},watermark:!0}),S1={component:()=>{let{navigate:t,setModalData:e,data:n}=lt(),i=it(),{getAuthMeta:c,client:m}=et();return M.jsx(GNe,{appName:i?.name,onRetry:()=>{let s=c();e({...n,login:{...n?.login,...s?.disableSignup?{disableSignup:!0}:{}}}),m?.authFlow&&(m.authFlow=void 0),t(Ni)}})}},VNe=ae.span.withConfig({displayName:"CircleBorder",componentId:"sc-9056b8b8-0"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;border-bottom-color:",";}"],(t=>t.color??"var(--privy-color-accent)"),(t=>t.color??"var(--privy-color-accent)")),fs=({address:t,showCopyIcon:e,url:n,className:i})=>{let[c,m]=H.useState(!1);function s(g){g.stopPropagation(),navigator.clipboard.writeText(t).then((()=>m(!0))).catch(console.error)}return H.useEffect((()=>{if(c){let g=setTimeout((()=>m(!1)),3e3);return()=>clearTimeout(g)}}),[c]),M.jsxs(HNe,n?{children:[M.jsx(XNe,{title:t,className:i,href:`${n}/address/${t}`,target:"_blank",children:ji(t)}),e&&M.jsx(So,{onClick:s,size:"sm",style:{gap:"0.375rem"},children:M.jsxs(M.Fragment,c?{children:["Copied",M.jsx(hm,{size:16})]}:{children:["Copy",M.jsx($w,{size:16})]})})]}:{children:[M.jsx(YNe,{title:t,className:i,children:ji(t)}),e&&M.jsx(So,{onClick:s,size:"sm",style:{gap:"0.375rem",fontSize:"14px"},children:M.jsxs(M.Fragment,c?{children:["Copied",M.jsx(hm,{size:14})]}:{children:["Copy",M.jsx($w,{size:14})]})})]})};let HNe=ae.span.withConfig({displayName:"AddressContainer",componentId:"sc-3a987cc8-0"})(["display:inline-flex;align-items:center;gap:0.5rem;"]),YNe=ae.span.withConfig({displayName:"AddressText",componentId:"sc-3a987cc8-1"})(["font-size:14px;font-weight:500;color:var(--privy-color-foreground);"]),XNe=ae.a.withConfig({displayName:"AddressLink",componentId:"sc-3a987cc8-2"})(["font-size:14px;color:var(--privy-color-foreground);text-decoration:none;&:hover{text-decoration:underline;}"]);function KNe(t){return M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",...t,children:[M.jsx("circle",{cx:"12",cy:"12",r:"10"}),M.jsx("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),M.jsx("line",{x1:"12",x2:"12.01",y1:"16",y2:"16"})]})}const cT=792703809,hT="11111111111111111111111111111111";let ek="0x0000000000000000000000000000000000000000";const Rp=({originCurrency:t,destinationCurrency:e,...n})=>({tradeType:"EXPECTED_OUTPUT",originCurrency:t??ek,destinationCurrency:e??ek,...n});let OZ="https://api.relay.link",MZ="https://api.testnets.relay.link";const Rm=async({input:t,isTestnet:e})=>{let n=await fetch((e?MZ:OZ)+"/quote",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),i=await n.json();if(!(n.ok||typeof i.message=="string"&&i.message.startsWith("Invalid address")))throw console.error("Relay error:",i),Error(i.message??"Error fetching quote from relay");return i},gx=t=>{let e=t.steps[0]?.items?.[0];if(e)return{from:e.data.from,to:e.data.to,value:Number(e.data.value),chainId:Number(e.data.chainId),data:e.data.data}};async function ZNe({transactionHash:t,isTestnet:e}){let n=await fetch((e?MZ:OZ)+"/requests/v2?hash="+t),i=await n.json();if(!n.ok)throw"message"in i&&typeof i.message=="string"?Error(i.message):Error("Error fetching request from relay");return i.requests.at(0)?.status??"pending"}function LA({transactionHash:t,isTestnet:e,bridgingStatus:n,setBridgingStatus:i,onSuccess:c,onFailure:m}){H.useEffect((()=>{if(t&&n){if(["delayed","waiting","pending"].includes(n)){let s=setInterval((async()=>{try{let g=await ZNe({transactionHash:t,isTestnet:e});i(g)}catch(g){console.error(g)}}),1e3);return()=>clearInterval(s)}n==="success"?c({transactionHash:t}):["refund","failure"].includes(n)&&m({error:new $Z(t,e)})}}),[n,t,e])}let $Z=class extends ge{constructor(e,n){super("We were unable to complete the bridging transaction. Funds will be refunded on your wallet.",void 0,we.TRANSACTION_FAILURE),this.relayLink=n?`https://testnets.relay.link/transaction/${e}`:`https://relay.link/transaction/${e}`}};const pb=({error:t,allowlistConfig:e,onRetry:n,onCaptchaReset:i,onBack:c})=>{let m=((s,g)=>{if(s instanceof $Z)return{title:"Transaction failed",detail:M.jsxs(M.Fragment,{children:[M.jsx("span",{children:s.message}),M.jsxs("span",{children:[" ","Check the"," ",M.jsx(JNe,{href:s.relayLink,target:"_blank",children:"refund status"}),"."]})]}),ctaText:"Try again",icon:Ls};if(s instanceof ge)switch(s.privyErrorCode){case we.CLIENT_REQUEST_TIMEOUT:return{title:"Timed out",detail:s.message,ctaText:"Try again",icon:Ls};case we.INSUFFICIENT_BALANCE:return{title:"Insufficient balance",detail:s.message,ctaText:"Try again",icon:Ls};case we.TRANSACTION_FAILURE:return{title:"Transaction failure",detail:s.message,ctaText:"Try again",icon:Ls};default:return{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:Ls}}else{if(s instanceof tr&&s.type==="twilio_verification_failed")return{title:"Something went wrong",detail:s.message,ctaText:"Try again",icon:$ve};if(!(s instanceof Di))return s instanceof Vs&&s.status&&[400,422].includes(s.status)?{title:"Something went wrong",detail:s.message,ctaText:"Try again",icon:Ls}:{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:Ls};switch(s.privyErrorCode){case we.INVALID_CAPTCHA:return{title:"Something went wrong",detail:"Please try again.",ctaText:"Try again",icon:Ls};case we.DISALLOWED_LOGIN_METHOD:return{title:"Not allowed",detail:s.message,ctaText:"Try another method",icon:Ls};case we.ALLOWLIST_REJECTED:return{title:g.errorTitle||"You don't have access to this app",detail:g.errorDetail||"Have you been invited?",ctaText:g.errorCtaText||"Try another account",icon:n7};case we.CAPTCHA_FAILURE:return{title:"Something went wrong",detail:"You did not pass CAPTCHA. Please try again.",ctaText:"Try again",icon:null};case we.CAPTCHA_TIMEOUT:return{title:"Something went wrong",detail:"Something went wrong! Please try again later.",ctaText:"Try again",icon:null};case we.LINKED_TO_ANOTHER_USER:return{title:"Authentication failed",detail:"This account has already been linked to another user.",ctaText:"Try again",icon:Ls};case we.NOT_SUPPORTED:return{title:"This region is not supported",detail:"SMS authentication from this region is not available",ctaText:"Try another method",icon:Ls};case we.TOO_MANY_REQUESTS:return{title:"Request failed",detail:"Too many attempts.",ctaText:"Try again later",icon:Ls};default:return{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:Ls}}}})(t,e);return M.jsx(Zt,{title:m.title,subtitle:m.detail,icon:m.icon,onBack:c,iconVariant:"error",primaryCta:{label:m.ctaText,onClick:()=>{t instanceof Di&&(t.privyErrorCode===we.INVALID_CAPTCHA&&i?.(),t.privyErrorCode===we.ALLOWLIST_REJECTED&&e.errorCtaLink)?window.location.href=e.errorCtaLink:n?.()},variant:"error"},watermark:!0})},Xn={component:()=>{let{navigate:t,data:e,lastScreen:n,currentScreen:i}=lt(),c=it(),{reset:m}=As(),s=e?.errorModalData?.previousScreen||(n===i?void 0:n);return M.jsx(pb,{error:e?.errorModalData?.error||Error(),allowlistConfig:c.allowlistConfig,onRetry:()=>{t(s||Ni,!1)},onCaptchaReset:m})}};let JNe=ae.a.withConfig({displayName:"Link",componentId:"sc-e29a7de8-0"})(["color:var(--privy-color-accent) !important;font-weight:600;"]);const FZ=({onTransfer:t,isTransferring:e,transferSuccess:n})=>M.jsx(Cn,{...n?{success:!0,children:"Success!"}:{warn:!0,loading:e,onClick:t,children:"Transfer and delete account"}}),LZ=ae.div.withConfig({displayName:"ConnectContainer",componentId:"sc-3505eb4c-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;width:100%;padding-bottom:16px;"]),dT=ae.div.withConfig({displayName:"GappedContainer",componentId:"sc-3505eb4c-1"})(["display:flex;flex-direction:column;&& p{font-size:14px;}width:100%;gap:16px;"]),DZ=ae.div.withConfig({displayName:"DisclosedAccountContainer",componentId:"sc-3505eb4c-2"})(["display:flex;cursor:pointer;align-items:center;width:100%;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-md);padding:8px 10px;font-size:14px;font-weight:500;gap:8px;"]),_Ne=ae(d7).withConfig({displayName:"StyledExclamationCircleIcon",componentId:"sc-3505eb4c-3"})(["position:relative;width:",";height:",";color:var(--privy-color-foreground-3);margin-left:auto;"],(({$iconSize:t})=>`${t}px`),(({$iconSize:t})=>`${t}px`)),QNe=ae(Mme).withConfig({displayName:"StyledCopyIcon",componentId:"sc-3505eb4c-4"})(["position:relative;width:15px;height:15px;color:var(--privy-color-foreground-3);margin-left:auto;"]),qNe=ae.ol.withConfig({displayName:"ListContainer",componentId:"sc-3505eb4c-5"})(["display:flex;flex-direction:column;font-size:14px;width:100%;text-align:left;"]),tk=ae.li.withConfig({displayName:"ListItem",componentId:"sc-3505eb4c-6"})(["font-size:14px;list-style-type:auto;list-style-position:outside;margin-left:1rem;margin-bottom:0.5rem;&:last-child{margin-bottom:0;}"]),eke=ae.div.withConfig({displayName:"CircleContainer",componentId:"sc-3505eb4c-7"})(["position:relative;width:60px;height:60px;margin:10px;display:flex;justify-content:center;align-items:center;"]);let tke=()=>M.jsx(eke,{children:M.jsx(_Ne,{$iconSize:60})});const nke=({address:t,onClose:e,onRetry:n,onTransfer:i,isTransferring:c,transferSuccess:m})=>{let{defaultChain:s}=it(),g=s.blockExplorers?.default.url??"https://etherscan.io";return M.jsxs(M.Fragment,{children:[M.jsx(Vt,{onClose:e,backFn:n}),M.jsxs(LZ,{children:[M.jsx(tke,{}),M.jsxs(dT,{children:[M.jsx("h3",{children:"Check account assets before transferring"}),M.jsx("p",{children:"Before transferring, ensure there are no assets in the other account. Assets in that account will not transfer automatically and may be lost."}),M.jsxs(qNe,{children:[M.jsx("p",{children:" To check your balance, you can:"}),M.jsx(tk,{children:"Log out and log back into the other account, or "}),M.jsxs(tk,{children:["Copy your wallet address and use a"," ",M.jsx("u",{children:M.jsx("a",{target:"_blank",href:g,children:"block explorer"})})," ","to see if the account holds any assets."]})]}),M.jsxs(DZ,{onClick:()=>navigator.clipboard.writeText(t).catch(console.error),children:[M.jsx(p3,{color:"var(--privy-color-foreground-1)",strokeWidth:2,height:"28px",width:"28px"}),M.jsx(fs,{address:t,showCopyIcon:!1}),M.jsx(QNe,{})]}),M.jsx(FZ,{onTransfer:i,isTransferring:c,transferSuccess:m})]})]}),M.jsx(dn,{})]})},Nd={component:()=>{let{initiateAccountTransfer:t,closePrivyModal:e}=et(),{data:n,navigate:i,lastScreen:c,setModalData:m}=lt(),[s,g]=H.useState(void 0),[r,a]=H.useState(!1),[v,h]=H.useState(!1),u=async()=>{try{if(!n?.accountTransfer?.nonce||!n?.accountTransfer?.account)throw Error("missing account transfer inputs");h(!0),await t({nonce:n?.accountTransfer?.nonce,account:n?.accountTransfer?.account,accountType:n?.accountTransfer?.linkMethod,externalWalletMetadata:n?.accountTransfer?.externalWalletMetadata,telegramWebAppData:n?.accountTransfer?.telegramWebAppData,telegramAuthResult:n?.accountTransfer?.telegramAuthResult,farcasterEmbeddedAddress:n?.accountTransfer?.farcasterEmbeddedAddress,oAuthUserInfo:n?.accountTransfer?.oAuthUserInfo}),a(!0),h(!1),setTimeout(e,1e3)}catch(l){m({errorModalData:{error:l,previousScreen:c||Nd}}),i(Xn,!0)}};return s?M.jsx(nke,{address:s,onClose:e,onRetry:()=>g(void 0),onTransfer:u,isTransferring:v,transferSuccess:r}):M.jsx(rke,{onClose:e,onInfo:()=>g(n?.accountTransfer?.embeddedWalletAddress),onContinue:()=>g(n?.accountTransfer?.embeddedWalletAddress),onTransfer:u,isTransferring:v,transferSuccess:r,data:n})}},rke=({onClose:t,onContinue:e,onInfo:n,onTransfer:i,transferSuccess:c,isTransferring:m,data:s})=>{if(!s?.accountTransfer?.linkMethod||!s?.accountTransfer?.displayName)return;let g={method:s?.accountTransfer?.linkMethod,handle:s?.accountTransfer?.displayName,disclosedAccount:s?.accountTransfer?.embeddedWalletAddress?{type:"wallet",handle:s?.accountTransfer?.embeddedWalletAddress}:void 0};return M.jsxs(M.Fragment,{children:[M.jsx(Vt,{closeable:!0}),M.jsxs(LZ,{children:[M.jsx(hZ,{children:M.jsxs("div",{children:[M.jsx(VNe,{color:"var(--privy-color-error)"}),M.jsx(bd,{height:38,width:38,stroke:"var(--privy-color-error)"})]})}),M.jsxs(dT,{children:[M.jsxs("h3",{children:[(function(r){switch(r){case"sms":return"Phone number";case"email":return"Email address";case"siwe":return"Wallet address";case"siws":return"Solana wallet address";case"linkedin":return"LinkedIn profile";case"google":case"apple":case"discord":case"github":case"instagram":case"spotify":case"tiktok":case"line":case"twitch":case"twitter":case"telegram":case"farcaster":return`${mK(r.replace("_oauth",""))} profile`;default:return r.startsWith("privy:")?"Cross-app account":r}})(g.method)," is associated with another account"]}),M.jsxs("p",{children:["Do you want to transfer",M.jsx("b",{children:g.handle?` ${g.handle}`:""})," to this account instead? This will delete your other account."]}),M.jsx(ike,{onClick:n,disclosedAccount:g.disclosedAccount})]}),M.jsxs(dT,{style:{gap:12,marginTop:12},children:[s?.accountTransfer?.embeddedWalletAddress?M.jsx(Cn,{onClick:e,children:"Continue"}):M.jsx(FZ,{onTransfer:i,transferSuccess:c,isTransferring:m}),M.jsx(So,{onClick:t,children:"No thanks"})]})]}),M.jsx(dn,{})]})};function ike({disclosedAccount:t,onClick:e}){return t?M.jsxs(DZ,{onClick:e,children:[M.jsx(p3,{color:"var(--privy-color-foreground-1)",strokeWidth:2,height:"28px",width:"28px"}),M.jsx(fs,{address:t.handle,showCopyIcon:!1}),M.jsx(KNe,{width:15,height:15,color:"var(--privy-color-foreground-3)",style:{marginLeft:"auto"}})]}):null}const ske=({errorMessage:t,onClose:e})=>M.jsx(Zt,t?{title:"Something went wrong",subtitle:t,icon:i3,iconVariant:"error",primaryCta:{label:"Close",onClick:e},watermark:!0}:{title:"Creating your wallet",subtitle:"Please wait...",iconVariant:"loading",watermark:!1}),Cu={component:()=>{let{setModalData:t,navigate:e,data:n,onUserCloseViaDialogOrKeybindRef:i}=lt(),c=it(),[m,s]=H.useState(""),{embeddedWallets:g}=it(),{authenticated:r,user:a}=Xt(),{closePrivyModal:v,walletProxy:h,client:u}=et(),{onSuccess:l,onFailure:o,callAuthOnSuccessOnClose:d,shouldCreateEth:p,shouldCreateSol:f}=n.createWallet,y=c.embeddedWallets.mode==="legacy-embedded-wallets-only"&&c?.embeddedWallets.requireUserOwnedRecoveryOnCreate===!0,[w,x]=H.useState(null),{create:b}=IA(),E=p??(!!a&&$A(a,c.embeddedWallets.ethereum.createOnLogin)),C=f??(!!a&&FA(a,c.embeddedWallets.solana.createOnLogin)),T=new Gi((async()=>{let S=await u.getAccessToken();if(a&&S&&h)try{let A;if(E&&C)A=await b({chainType:"ethereum",walletIndex:0,latestUser:a}),A=await b({chainType:"solana",walletIndex:0,latestUser:A.user});else if(C)A=await b({chainType:"solana",walletIndex:0,latestUser:a});else{if(!E)return void v({shouldCallAuthOnSuccess:d});A=await b({chainType:"ethereum",walletIndex:0,latestUser:a})}x(A),e(RA)}catch(A){s(A.message)}}));return H.useEffect((()=>r&&a?y?(t({...n,createWallet:{...n.createWallet,shouldCreateEth:E,shouldCreateSol:C},recoverySelection:{...n?.recoverySelection,isInAccountCreateFlow:!0,shouldCreateEth:E,shouldCreateSol:C}}),e(DJ({walletAction:"create",showAutomaticRecovery:!1,availableRecoveryMethods:g.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:!1,isResettingPassword:!1}))):void T.execute():(e(Ni),void o(Error("User must be authenticated before creating a Privy wallet")))),[y,r]),i.current=()=>null,M.jsx(ske,{errorMessage:m||void 0,onClose:()=>{w?(l(w),v({shouldCallAuthOnSuccess:d})):(o(new Ec("User wallet creation failed")),v({shouldCallAuthOnSuccess:!1}))}})}},kd={component:()=>{let{user:t,logout:e}=Xt(),{onUserCloseViaDialogOrKeybindRef:n,setModalData:i,navigate:c}=lt(),m=it(),{acceptTerms:s,closePrivyModal:g,createAnalyticsEvent:r}=et(),a=v=>{v?.preventDefault(),g({shouldCallAuthOnSuccess:!1}),e()};return n.current=a,M.jsx(ake,{termsAndConditionsUrl:m?.legal.termsAndConditionsUrl,privacyPolicyUrl:m?.legal.privacyPolicyUrl,onAccept:async v=>{v?.preventDefault(),await s(),t&&Uc(t,m.embeddedWallets)?(i({createWallet:{onSuccess:()=>{},onFailure:h=>{console.error(h),r({eventName:"embedded_wallet_creation_failure_logout",payload:{error:h,screen:"AffirmativeConsentScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),c(Cu)):g()},onDecline:a})}},ake=({termsAndConditionsUrl:t,privacyPolicyUrl:e,onAccept:n,onDecline:i,title:c="One last step",subtitle:m="By signing up, you agree to our terms and privacy policy."})=>M.jsx(Zt,{title:c,subtitle:m,icon:Mve,primaryCta:{label:"Accept",onClick:n},secondaryCta:{label:"No thanks",onClick:i},watermark:!0,children:(t||e)&&M.jsxs(oke,{children:[t&&M.jsxs(cd,{variant:"muted",href:t,target:"_blank",size:"lg",style:{justifyContent:"space-between"},as:"a",children:["View Terms",M.jsx(IC,{width:16,height:16,strokeWidth:2.25})]}),e&&M.jsxs(cd,{variant:"muted",href:e,target:"_blank",size:"lg",style:{justifyContent:"space-between"},as:"a",children:["View Privacy Policy",M.jsx(IC,{width:16,height:16,strokeWidth:2.25})]})]})});let oke=ae.div.withConfig({displayName:"LinksContainer",componentId:"sc-21e1b98c-0"})(["display:flex;flex-direction:column;gap:12px;margin-top:var(--screen-space);"]);const NZ=({color:t,...e})=>M.jsx("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 115.77 122.88",xmlSpace:"preserve",...e,children:M.jsx("g",{children:M.jsx("path",{fill:t||"currentColor",className:"st0",d:"M89.62,13.96v7.73h12.19h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02v0.02 v73.27v0.01h-0.02c-0.01,3.84-1.57,7.33-4.1,9.86c-2.51,2.5-5.98,4.06-9.82,4.07v0.02h-0.02h-61.7H40.1v-0.02 c-3.84-0.01-7.34-1.57-9.86-4.1c-2.5-2.51-4.06-5.98-4.07-9.82h-0.02v-0.02V92.51H13.96h-0.01v-0.02c-3.84-0.01-7.34-1.57-9.86-4.1 c-2.5-2.51-4.06-5.98-4.07-9.82H0v-0.02V13.96v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07V0h0.02h61.7 h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02V13.96L89.62,13.96z M79.04,21.69v-7.73v-0.02h0.02 c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v64.59v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h12.19V35.65 v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07v-0.02h0.02H79.04L79.04,21.69z M105.18,108.92V35.65v-0.02 h0.02c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v73.27v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h61.7h0.02 v0.02c0.91,0,1.75-0.39,2.37-1.01c0.61-0.61,1-1.46,1-2.37h-0.02V108.92L105.18,108.92z"})})});let lke=ae.button.withConfig({displayName:"CopyTextButton",componentId:"sc-4b0620dc-0"})(["display:flex;align-items:center;gap:0.5rem;&:hover{text-decoration:underline;}svg{width:0.875rem;height:0.875rem;}"]),uke=ae.span.withConfig({displayName:"CopiedText",componentId:"sc-4b0620dc-1"})(["display:flex;align-items:center;gap:0.25rem;font-size:0.875rem;color:var(--privy-color-foreground-2);"]),cke=ae(m1e).withConfig({displayName:"GreenCheck",componentId:"sc-4b0620dc-2"})(["color:var(--privy-color-success);"]),hke=ae(NZ).withConfig({displayName:"StyledCopy",componentId:"sc-4b0620dc-3"})(["color:var(--privy-color-foreground-3);opactiy:0.5;"]);function dke({children:t,iconOnly:e,value:n,hideCopyIcon:i,...c}){let[m,s]=H.useState(!1);return M.jsxs(lke,{...c,onClick:()=>{navigator.clipboard.writeText(n||t).catch(console.error),s(!0),setTimeout((()=>s(!1)),1500)},children:[t," ",m?M.jsxs(uke,{children:[M.jsx(cke,{})," ",!e&&"Copied"]}):!i&&M.jsx(hke,{})]})}const fke=()=>M.jsx("svg",{width:"200",height:"200",viewBox:"-77 -77 200 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px"},children:M.jsx("rect",{width:"50",height:"50",fill:"black",rx:10,ry:10})});let HE=(t,e,n,i,c)=>{for(let m=e;m<e+i;m++)for(let s=n;s<n+c;s++){let g=t?.[s];g&&g[m]&&(g[m]=0)}return t},pke=({x:t,y:e,cellSize:n,bgColor:i,fgColor:c})=>M.jsx(M.Fragment,{children:[0,1,2].map((m=>M.jsx("circle",{r:n*(7-2*m)/2,cx:t+7*n/2,cy:e+7*n/2,fill:m%2!=0?i:c},`finder-${t}-${e}-${m}`)))}),vke=({cellSize:t,matrixSize:e,bgColor:n,fgColor:i})=>M.jsx(M.Fragment,{children:[[0,0],[(e-7)*t,0],[0,(e-7)*t]].map((([c,m])=>M.jsx(pke,{x:c,y:m,cellSize:t,bgColor:n,fgColor:i},`finder-${c}-${m}`)))}),gke=({matrix:t,cellSize:e,color:n})=>M.jsx(M.Fragment,{children:t.map(((i,c)=>i.map(((m,s)=>m?M.jsx("rect",{height:e-.4,width:e-.4,x:c*e+.1*e,y:s*e+.1*e,rx:.5*e,ry:.5*e,fill:n},`cell-${c}-${s}`):M.jsx(Ze.Fragment,{},`circle-${c}-${s}`)))))}),mke=({cellSize:t,matrixSize:e,element:n,sizePercentage:i,bgColor:c})=>{if(!n)return M.jsx(M.Fragment,{});let m=e*(i||.14),s=Math.floor(e/2-m/2),g=Math.floor(e/2+m/2);(g-s)%2!=e%2&&(g+=1);let r=(g-s)*t,a=r-.2*r,v=s*t;return M.jsxs(M.Fragment,{children:[M.jsx("rect",{x:s*t,y:s*t,width:r,height:r,fill:c}),M.jsx(n,{x:v+.1*r,y:v+.1*r,height:a,width:a})]})},yke=t=>{let e=t.outputSize,n=((m,s)=>{let g=mye.create(m,{errorCorrectionLevel:s}).modules,r=((a,v)=>{let h=a.slice(0),u=[];for(;h.length;)u.push(h.splice(0,v));return u})(Array.from(g.data),g.size);return r=HE(r,0,0,7,7),r=HE(r,r.length-7,0,7,7),HE(r,0,r.length-7,7,7)})(t.url,t.errorCorrectionLevel),i=e/n.length,c=(function(m,{min:s,max:g}){return Math.min(Math.max(m,s),g)})(2*i,{min:.025*e,max:.036*e});return M.jsxs("svg",{height:t.outputSize,width:t.outputSize,viewBox:`0 0 ${t.outputSize} ${t.outputSize}`,style:{height:"100%",width:"100%",padding:`${c}px`},children:[M.jsx(gke,{matrix:n,cellSize:i,color:t.fgColor}),M.jsx(vke,{cellSize:i,matrixSize:n.length,fgColor:t.fgColor,bgColor:t.bgColor}),M.jsx(mke,{cellSize:i,element:t.logo?.element,bgColor:t.bgColor,matrixSize:n.length})]})},wke=ae.div.attrs({className:"ph-no-capture"}).withConfig({displayName:"QrContainer",componentId:"sc-597e27f3-0"})(["display:flex;justify-content:center;align-items:center;height:",";width:",";margin:auto;background-color:",";&&{border-width:2px;border-color:",";border-radius:var(--privy-border-radius-md);}"],(t=>`${t.$size}px`),(t=>`${t.$size}px`),(t=>t.$bgColor),(t=>t.$borderColor));const T1=t=>{let{appearance:e}=it(),n=t.bgColor||"#FFFFFF",i=t.fgColor||"#000000",c=t.size||160,m=e.palette.colorScheme==="dark"?n:i;return M.jsx(wke,{$size:c,$bgColor:n,$fgColor:i,$borderColor:m,children:M.jsx(yke,{url:t.url,logo:{element:t.squareLogoElement??fke},outputSize:c,bgColor:n,fgColor:i,errorCorrectionLevel:t.errorCorrectionLevel||"Q"})})},hd=ae.span.withConfig({displayName:"ErrorMessage",componentId:"sc-fcb8cd50-0"})(["text-align:left;font-size:0.75rem;font-weight:500;line-height:1.125rem;color:var(--privy-color-error);"]);let kZ=ae.label.withConfig({displayName:"BaseEmailForm",componentId:"sc-f34af797-0"})(["display:block;position:relative;width:100%;height:56px;&& > :first-child{position:absolute;left:0.75em;top:50%;transform:translate(0,-50%);}&& > input{font-size:16px;line-height:24px;color:var(--privy-color-foreground);padding:12px 88px 12px 52px;flex-grow:1;background:var(--privy-color-background);border:1px solid ",";border-radius:var(--privy-border-radius-md);width:100%;height:100%;@media (min-width:441px){font-size:14px;padding-right:78px;}:focus{outline:none;border-color:",";box-shadow:",";}:autofill,:-webkit-autofill{background:var(--privy-color-background);}&& > input::placeholder{color:var(--privy-color-foreground-3);}&:disabled{opacity:0.4;cursor:not-allowed;}&:disabled,&:disabled:hover,&:disabled > span{color:var(--privy-color-foreground-3);}}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;}&:disabled{opacity:0.4;cursor:not-allowed;}&:disabled,&:disabled:hover,&:disabled > span{color:var(--privy-color-foreground-3);}}"],(({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-foreground-4)"),(({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-accent-light)"),(({$error:t})=>t?"none":"0 0 0 1px var(--privy-color-accent-light)"));const BZ=ae(kZ).withConfig({displayName:"EmailUpdateForm",componentId:"sc-f34af797-1"})(["background-color:var(--privy-color-background);transition:background-color 200ms ease;&& > button{right:0;line-height:24px;position:absolute;padding:13px 17px;background-color:#090;:focus{outline:none;border-color:var(--privy-color-accent);}}"]),xke=ae(kZ).withConfig({displayName:"EmailInputForm",componentId:"sc-f34af797-2"})(["&& > input{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding-right:",";border:1px solid ",";&& > input::placeholder{color:var(--privy-color-foreground-3);}}&& > :last-child{right:16px;position:absolute;top:50%;transform:translate(0,-50%);}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;}}"],(t=>t.$stacked?"16px":"88px"),(({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-foreground-4)")),UZ=ae.div.withConfig({displayName:"InputContainerForm",componentId:"sc-f34af797-3"})(["width:100%;&& > ","{display:block;text-align:left;padding-left:var(--privy-border-radius-md);padding-bottom:5px;}"],hd),jZ=({...t})=>M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[M.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}),M.jsx("path",{d:"M3 9a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2"}),M.jsx("path",{d:"M3 11h3c.8 0 1.6.3 2.1.9l1.1.9c1.6 1.6 4.1 1.6 5.7 0l1.1-.9c.5-.5 1.3-.9 2.1-.9H21"})]}),fp={phantom:{mobile:{native:"phantom://",universal:"https://phantom.app/ul/"}},solflare:{mobile:{native:void 0,universal:"https://solflare.com/ul/v1/"}},metamask:{image_url:{sm:iT,md:iT}}};class Hs{static normalize(e){return e.replace(/[-_]wallet$/,"").replace(/[-_]extension$/,"").toLowerCase()}isEth(e){return e.chains.some((n=>n.startsWith("eip155:")))}isSol(e){return e.chains.some((n=>n.startsWith("solana:")))}inAllowList(e,n){if(!this.normalizedAllowList||this.normalizedAllowList.length===0||n==="listing"&&this.includeWalletConnect)return!0;let i=Hs.normalize(e);return this.normalizedAllowList.some((c=>i===Hs.normalize(c)))}chainMatches(e){return this.chainFilter==="ethereum-only"?e==="ethereum":this.chainFilter!=="solana-only"||e==="solana"}connectorOk(e){return!!(e.connectorType!=="null"&&this.chainMatches(e.chainType)&&(this.inAllowList(e.walletClientType,"connector")||(e.connectorType==="injected"||e.connectorType==="solana_adapter")&&(e.chainType==="ethereum"&&this.detectedEth||e.chainType==="solana"&&this.detectedSol)))}listingOk(e){if(e.slug.includes("coinbase"))return!1;let n=this.isEth(e);if(this.isSol(e)&&!n)return!1;if(this.chainFilter==="ethereum-only"){if(!this.isEth(e))return!1}else if(this.chainFilter==="solana-only"&&!this.isSol(e))return!1;return!!this.inAllowList(e.slug,"listing")}getWallets(e,n){let i=new Map,c=r=>{let a=i.get(r.id);if(a){a.chainType!==r.chainType&&(a.chainType="multi");let v=new Set(a.chains);r.chains.forEach((h=>v.add(h))),a.chains=Array.from(v),!a.icon&&r.icon&&(a.icon=r.icon),!a.url&&r.url&&(a.url=r.url),!a.listing&&r.listing&&(a.listing=r.listing)}else i.set(r.id,r)};e.filter((r=>this.connectorOk(r))).forEach((r=>{let a=Hs.normalize(r.walletClientType);c({id:a,label:r.walletBranding?.name??a,source:"connector",connector:r,chainType:r.chainType,icon:r.walletBranding?.icon,url:void 0,chains:[r.chainType==="ethereum"?"eip155":"solana"]})})),n.filter((r=>this.listingOk(r))).forEach((r=>{let a=r.chains.filter((l=>!l.startsWith("solana:"))),v=Hs.normalize(r.slug),h=fp[r.slug],u=h?.image_url?.sm||r.image_url?.sm;c({id:v,label:r.name||v,source:"listing",listing:r,chainType:"ethereum",icon:u,url:r.homepage,chains:a})}));let m=e.find((r=>r.connectorType==="wallet_connect_v2"));this.includeWalletConnectQr&&m&&c({id:"wallet_connect_qr",label:"WalletConnect",source:"connector",connector:m,chainType:"ethereum",icon:YK,url:void 0,chains:[m.chainType==="ethereum"?"eip155":"solana"]});let s=Array.from(i.values());s.forEach((r=>{let a=fp[r.listing?.slug||r.id];a?.image_url?.sm&&(r.icon=a.image_url.sm)}));let g=new Map;return this.normalizedAllowList?.forEach(((r,a)=>{g.set(Hs.normalize(r),a)})),{wallets:s.slice().sort(((r,a)=>{let v=Hs.normalize(r.id),h=Hs.normalize(a.id);v==="binance-defi"?v="binance":v==="universalprofiles"?v="universal_profile":v==="cryptocom-defi"&&(v="cryptocom"),h==="binance-defi"?h="binance":h==="universalprofiles"?h="universal_profile":h==="cryptocom-defi"&&(h="cryptocom");let u=g.has(v),l=g.has(h);return u&&l?g.get(v)-g.get(h):u?-1:l?1:r.source==="connector"&&a.source==="listing"?-1:r.source==="listing"&&a.source==="connector"?1:r.label.toLowerCase().localeCompare(a.label.toLowerCase())})),walletCount:s.length}}constructor(e,n){this.chainFilter=e,n&&n.length>0&&(this.normalizedAllowList=n.map(String),this.normalizedAllowList.includes("binance")&&this.normalizedAllowList.push("binance-defi-wallet")),this.detectedEth=this.normalizedAllowList?.includes("detected_ethereum_wallets")??!1,this.detectedSol=this.normalizedAllowList?.includes("detected_solana_wallets")??!1,this.includeWalletConnect=this.normalizedAllowList?.includes("wallet_connect")??!1,this.includeWalletConnectQr=this.normalizedAllowList?.includes("wallet_connect_qr")??!1}}var fT=t=>M.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",...t,children:[M.jsx("path",{d:"m0 0h32v32h-32z",fill:"#5469d4"}),M.jsx("path",{d:"m15.997 5.333-.143.486v14.106l.143.143 6.548-3.87z",fill:"#c2ccf4"}),M.jsx("path",{d:"m15.996 5.333-6.548 10.865 6.548 3.87z",fill:"#fff"}),M.jsx("path",{d:"m15.997 21.306-.08.098v5.025l.08.236 6.552-9.227z",fill:"#c2ccf4"}),M.jsx("path",{d:"m15.996 26.665v-5.36l-6.548-3.867z",fill:"#fff"}),M.jsx("path",{d:"m15.995 20.07 6.548-3.87-6.548-2.976v6.847z",fill:"#8698e8"}),M.jsx("path",{d:"m9.448 16.2 6.548 3.87v-6.846z",fill:"#c2ccf4"})]}),pT=t=>M.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",...t,children:[M.jsxs("linearGradient",{id:"a",gradientUnits:"userSpaceOnUse",x1:"7.233",x2:"24.766",y1:"24.766",y2:"7.234",children:[M.jsx("stop",{offset:"0",stopColor:"#9945ff"}),M.jsx("stop",{offset:".2",stopColor:"#7962e7"}),M.jsx("stop",{offset:"1",stopColor:"#00d18c"})]}),M.jsx("path",{d:"m0 0h32v32h-32z",fill:"#10111a"}),M.jsx("path",{clipRule:"evenodd",d:"m9.873 20.41a.645.645 0 0 1 .476-.21l14.662.012a.323.323 0 0 1 .238.54l-3.123 3.438a.643.643 0 0 1 -.475.21l-14.662-.012a.323.323 0 0 1 -.238-.54zm15.376-2.862a.322.322 0 0 1 -.238.54l-14.662.012a.642.642 0 0 1 -.476-.21l-3.122-3.44a.323.323 0 0 1 .238-.54l14.662-.012a.644.644 0 0 1 .475.21zm-15.376-9.738a.644.644 0 0 1 .476-.21l14.662.012a.322.322 0 0 1 .238.54l-3.123 3.438a.643.643 0 0 1 -.475.21l-14.662-.012a.323.323 0 0 1 -.238-.54z",fill:"url(#a)",fillRule:"evenodd"})]});const bke=ae.div.withConfig({displayName:"WalletIconWithActiveIndicator",componentId:"sc-9b65f2b6-2"})(["position:relative;display:inline-flex;align-items:center;&::after{content:' ';border-radius:var(--privy-border-radius-full);height:6px;width:6px;background-color:var(--privy-color-icon-success);position:absolute;right:-3px;top:-3px;}"]),gg=ae.img.withConfig({displayName:"WalletIcon",componentId:"sc-9b65f2b6-3"})(["width:32px;height:32px;border-radius:0.25rem;object-fit:contain;"]),Eke=ae.span.withConfig({displayName:"Chip",componentId:"sc-9b65f2b6-4"})(["display:flex;gap:0.25rem;align-items:center;padding:0.25rem 0.5rem;font-size:0.75rem;font-weight:500;line-height:1.125rem;border-radius:var(--privy-border-radius-sm);background-color:var(--privy-color-background-2);svg{width:100%;max-width:1rem;max-height:1rem;stroke-width:2;}"]),Cke=p0((()=>({isModalOpen:!1,resolvers:null})));p0((()=>({})));const Ske=({address:t,client:e,appId:n})=>{let i=`${e}:${t}`;n&&Ct.put(Tke(n),i),Cke.setState({wallet:i})},Tke=t=>`privy:${t}:active-wallet-connection`;function zZ({walletList:t,walletChainType:e}){let n=it(),{connectors:i}=et(),c=b1((d=>d.listings)),m=e??n.appearance.walletChainType,s=t??n.appearance?.walletList,g=H.useMemo((()=>new Hs(m,s)),[m,s]),{wallets:r,walletCount:a}=H.useMemo((()=>g.getWallets(i,c)),[g,i,c]),[v,h]=H.useState(""),u=H.useMemo((()=>v?r.filter((d=>d.label.toLowerCase().includes(v.toLowerCase()))):r),[v,r]),[l,o]=H.useState();return{selected:l,setSelected:o,search:v,setSearch:h,wallets:u,walletCount:a}}let WZ=t=>!t||typeof t!="string"&&(t instanceof vA||t instanceof yA);const vT=({index:t,style:e,data:n,recent:i})=>{let c=n.wallets[t],{walletChainType:m,handleWalletClick:s}=n,g={...e,boxSizing:"border-box"};return c?M.jsxs(uw,{style:g,onClick:()=>s(c),children:[c.icon&&(c.connector&&!WZ(c.connector)?M.jsx(bke,{children:typeof c.icon=="string"?M.jsx(gg,{src:c.icon}):M.jsx(c.icon,{style:{width:"32px",height:"32px"}})}):typeof c.icon=="string"?M.jsx(gg,{src:c.icon}):M.jsx(c.icon,{style:{width:"32px",height:"32px"}})),M.jsx(cw,{children:c.label}),i?M.jsxs(M.Fragment,{children:[M.jsx(Eke,{children:"Last used"}),M.jsx(mx,{children:M.jsxs(M.Fragment,{children:[m==="ethereum-only"&&M.jsx(fT,{}),m==="solana-only"&&M.jsx(pT,{})]})})]}):M.jsx(mx,{children:!(m==="ethereum-only"||m==="solana-only")&&M.jsxs(M.Fragment,{children:[c.chains?.some((r=>r.startsWith("eip155")))&&M.jsx(fT,{}),c.chains?.some((r=>r.startsWith("solana")))&&M.jsx(pT,{})]})})]}):null};var GZ=({className:t,customDescription:e,connectOnly:n,preSelectedWalletId:i,...c})=>{let m=it(),{connectors:s}=et(),g=c.walletChainType||m.appearance.walletChainType,r=c.walletList||m.appearance?.walletList,{onBack:a,onClose:v,app:h}=c,{selected:u,setSelected:l,qrUrl:o,setQrUrl:d,connecting:p,uiState:f,wallets:y,walletCount:w,handleConnect:x,handleBack:b,showSearchBar:E,isInitialConnectView:C,title:T,search:S,setSearch:A}=(function({onConnect:N,onBack:k,onClose:j,onConnectError:W,walletList:G,walletChainType:K,app:z}){let X=it(),{connectors:U}=et(),{wallets:Z,walletCount:V,search:J,setSearch:Q,selected:ee,setSelected:te}=zZ({walletList:G,walletChainType:K}),[ie,le]=H.useState(),[de,fe]=H.useState(),[oe,Ee]=H.useState(),ye=!ee&&!de&&!oe,Ce=ye&&(V>6||J.length>0),Ie=U.find((Ae=>Ae.connectorType==="wallet_connect_v2")),je=H.useCallback((async(Ae,Xe)=>{if(Ae){if(oe?.connector===Ae)return void console.log("Already connecting to this wallet, skipping duplicate attempt");if(le("loading"),typeof Ae=="string")return Ee({connector:Ae,name:Xe?.name??"Wallet",icon:Xe?.icon}),void window.open(Ae,"_blank");Ee({connector:Ae,name:Xe?.name??Ae.walletBranding.name??"Wallet",icon:Xe?.icon??Ae.walletBranding.icon});try{let st=await Ae.connect({showPrompt:!0});if(!st)return le("error"),void W?.(new Dn("Unable to connect wallet"));le("success"),Ske({address:st.address,client:st.walletClientType,appId:X.id}),setTimeout((()=>{N({connector:Ae,wallet:st})}),Yn)}catch(st){if(console.error("ERROR: ",{e:st}),st?.message?.includes("already pending for origin")||st?.message?.includes("wallet_requestPermissions"))return void console.log("Connection request already pending, maintaining loading state");le("error"),W?.(new Dn("Unable to connect wallet"))}}}),[X.id,N,oe]),Re=H.useCallback((()=>de?(le(void 0),Ee(void 0),void fe(void 0)):oe?(le(void 0),void Ee(void 0)):ee?(le(void 0),Ee(void 0),void te(void 0)):ie==="error"||ie==="loading"?(le(void 0),void Ee(void 0)):void k?.()),[de,oe,ee,ie,k]),Fe=H.useMemo((()=>oe?.connector===Ie&&de&&sn.isMobile?`Go to ${oe.name} to continue`:oe?.connector===Ie&&de?`Scan code to connect to ${oe.name}`:typeof oe?.connector=="string"?`Open or install ${oe.name}`:ee&&!oe?"Select network":oe?null:"Select your wallet"),[oe,de,ee,Ie]);return{selected:ee,setSelected:te,qrUrl:de,setQrUrl:fe,connecting:oe,uiState:ie,search:J,setSearch:Q,wallets:Z,walletCount:V,wc:Ie,isInitialConnectView:ye,showSearchBar:Ce,title:Fe,handleConnect:je,handleBack:Re,onClose:j,onConnect:N,app:z}})({...c,walletList:r,walletChainType:g}),P=s.find((N=>N.connectorType==="wallet_connect_v2")),R=H.useRef(null),L=K1e({count:y.length,getScrollElement:()=>R.current,estimateSize:()=>56,overscan:6,gap:5}),D=H.useCallback((async N=>{let k,j=g!=="solana-only"&&N.chains?.some((K=>K.startsWith("eip155"))),W=g!=="ethereum-only"&&N.chains?.some((K=>K.startsWith("solana"))),G=mA[N.id];if(W&&G)k=G.getMobileRedirect({isSolana:!0,connectOnly:!!n,useUniversalLink:!1});else{let K=N.listing?.mobile?.native;k=N.listing?.mobile?.universal||K||N.url}if(j&&W){let K=Hs.normalize(N.id),z=s.filter((Z=>Hs.normalize(Z.walletClientType)===K&&!(Z.chainType==="ethereum"&&Z instanceof vA||Z.chainType==="solana"&&Z instanceof yA))),X=z.find((Z=>Z.chainType==="ethereum")),U=z.find((Z=>Z.chainType==="solana"));if(!X&&N.listing){let Z=fp[N.listing.slug]?{...N.listing,...fp[N.listing.slug]}:N.listing;P.setWalletEntry(Z,d),await P.resetConnection(N.id),X=P}if(!U&&k&&(U=k),X||U)return void l({eth:X,sol:U,name:N.label,icon:N.icon})}if(!WZ(N.connector))return N.connector?.connectorType==="wallet_connect_v2"&&(await P.resetConnection(N.id),P.setWalletEntry({id:"wallet_connect_qr",name:"WalletConnect",rdns:"",slug:"wallet-connect",homepage:"",chains:["eip155"],mobile:{native:"",universal:void 0}},d)),void await x(N.connector,{name:N.label,icon:N.icon});if(j||W||N.url||N.listing){if(j&&N.listing){let K=fp[N.listing.slug]?{...N.listing,...fp[N.listing.slug]}:N.listing;P.setWalletEntry(K,d),await P.resetConnection(N.id)}if(j&&W)return void l({eth:P,sol:k,name:N.label,icon:N.icon});if(W)return void await x(k,{name:N.label,icon:N.icon});if(j)return void(N.listing?await x(P,{name:N.label,icon:N.icon}):N.url?await x(N.url,{name:N.label,icon:N.icon}):console.warn("Cannot connect to EVM wallet without connector or listing details:",N.label));if(N.url)return void await x(N.url,{name:N.label,icon:N.icon})}}),[P,x,l,d,b,v,h,C,T,e,m,s]),$=a||b,F=!!a||!C;return H.useEffect((()=>{if(!i)return;let N=y.find((({id:k})=>k===i));N&&D(N).catch(console.error)}),[i]),M.jsxs(xn,{className:t,children:[M.jsx(xn.Header,{icon:p&&!o||o&&sn.isMobile&&p?.icon?p.icon:p?void 0:jZ,iconVariant:p&&!o||o&&sn.isMobile?"loading":void 0,iconLoadingStatus:p&&!o||o&&sn.isMobile?{success:f==="success",fail:f==="error"}:void 0,title:p&&!o?`Waiting for ${p.name}`:o&&sn.isMobile?`Waiting for ${p?.name??"connection"}`:T,subtitle:p&&!o&&typeof p.connector=="string"?`To connect to ${p.name}, install and open the app. Then confirm the connection when prompted.`:p&&!o&&typeof p.connector!="string"?f==="error"?"Please try connecting again.":"For the best experience, connect only one wallet at a time.":C?e??(h?`Connect a wallet to your ${h.name} account`:null):null,showBack:F,showClose:!0,onBack:$,onClose:v}),M.jsxs(xn.Body,{ref:R,$colorScheme:m.appearance.palette.colorScheme,style:{marginBottom:o?"0.5rem":void 0},children:[E&&M.jsx(Ake,{children:M.jsxs(BZ,{style:{background:"transparent"},children:[M.jsx(ho,{children:M.jsx(F1e,{})}),M.jsx("input",{className:"login-method-button",type:"text",placeholder:"Search wallets",onChange:N=>A(N.target.value),value:S})]})}),o&&sn.isMobile&&f==="loading"&&M.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:M.jsx(cd,{variant:"primary",onClick:()=>window.open(o.universal??o.native,"_blank"),style:{width:"100%"},children:"Open in app"})}),o&&!sn.isMobile&&f==="loading"&&M.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:M.jsx(Rke,{value:o.universal??o.native,iconOnly:!0,children:"Copy link"})}),o&&!sn.isMobile&&M.jsx(T1,{size:280,url:o.universal??o.native,squareLogoElement:p?.icon?typeof p.icon=="string"?N=>M.jsx("svg",{...N,children:M.jsx("image",{href:p.icon,height:N.height,width:N.width})}):p.icon:SLe}),M.jsxs(Pke,{children:[p&&!o&&typeof p.connector=="string"&&M.jsxs(uw,{onClick:()=>window.open(p.connector,"_blank"),children:[p.icon&&(typeof p.icon=="string"?M.jsx(gg,{src:p.icon}):M.jsx(p.icon,{})),M.jsx(cw,{children:p.name})]}),u?.eth&&!p&&M.jsxs(uw,{onClick:()=>x(u.eth,{name:u.name,icon:u.icon}),children:[u.icon&&(typeof u.icon=="string"?M.jsx(gg,{src:u.icon}):M.jsx(u.icon,{})),M.jsx(cw,{children:u.name}),M.jsx(mx,{children:M.jsx(fT,{})})]}),u?.sol&&!p&&M.jsxs(uw,{onClick:()=>x(u.sol,{name:u.name,icon:u.icon}),children:[u.icon&&(typeof u.icon=="string"?M.jsx(gg,{src:u.icon}):M.jsx(u.icon,{})),M.jsx(cw,{children:u.name}),M.jsx(mx,{children:M.jsx(pT,{})})]}),C&&M.jsxs(M.Fragment,{children:[!(w>0)&&M.jsx(Ike,{children:"No wallets found. Try another search."}),w>0&&!o&&M.jsx("div",{style:{maxHeight:56*Math.min(y.length,5)+5,width:"100%"},children:M.jsx("div",{style:{height:`${L.getTotalSize()}px`,width:"100%",position:"relative"},children:L.getVirtualItems().map((N=>M.jsx(vT,{index:N.index,style:{position:"absolute",top:0,left:0,height:`${N.size}px`,transform:`translateY(${N.start}px)`},data:{wallets:y,walletChainType:g,handleWalletClick:D}},N.key)))})})]})]})]}),M.jsxs(xn.Footer,{children:[p&&!o&&typeof p.connector!="string"&&f==="error"&&M.jsx(xn.Actions,{children:M.jsx(cd,{style:{width:"100%",alignItems:"center"},variant:"error",onClick:()=>x(p.connector,{name:p.name,icon:p.icon}),children:"Retry"})}),!!(h&&h.legal.privacyPolicyUrl&&h.legal.termsAndConditionsUrl)&&M.jsx(xA,{app:h,alwaysShowImplicitConsent:!0}),M.jsx(xn.Watermark,{})]})]})};let Ake=ae.div.withConfig({displayName:"StickySearchContainer",componentId:"sc-850f7dce-0"})(["position:sticky;margin-top:-3px;padding-top:3px;top:-3px;z-index:1;background:var(--privy-color-background);padding-bottom:calc(var(--screen-space) / 2);"]),Pke=ae.div.withConfig({displayName:"WalletListContainer",componentId:"sc-850f7dce-1"})(["display:flex;flex-direction:column;gap:","px;"],5),uw=ae.button.withConfig({displayName:"Button",componentId:"sc-850f7dce-2"})(["&&{gap:0.5rem;align-items:center;display:flex;position:relative;text-align:left;font-weight:500;transition:background 200ms ease-in;width:calc(100% - 4px);border-radius:var(--privy-border-radius-md);padding:0.75em;border:1px solid var(--privy-color-foreground-4);justify-content:space-between;}&:hover{background:var(--privy-color-background-2);}"]),mx=ae.span.withConfig({displayName:"ButtonBadge",componentId:"sc-850f7dce-3"})(["display:flex;align-items:center;justify-content:end;position:relative;& > svg{border-radius:var(--privy-border-radius-full);stroke-width:2.5;width:100%;max-height:1rem;max-width:1rem;flex-shrink:0;}& > svg:not(:last-child){border-radius:var(--privy-border-radius-full);margin-right:-0.375rem;}"]),Ike=ae.div.withConfig({displayName:"EmptyContainer",componentId:"sc-850f7dce-4"})(["height:60px;display:flex;align-items:center;justify-content:center;text-align:center;"]),cw=ae.span.withConfig({displayName:"WalletName",componentId:"sc-850f7dce-5"})(["text-overflow:ellipsis;white-space:nowrap;color:var(--privy-color-foreground);font-weight:400;flex:1;"]),Rke=ae(dke).withConfig({displayName:"StyledCopyableText",componentId:"sc-850f7dce-6"})(["&&{margin:0.5rem auto 0 auto;}"]);const Oke=({...t})=>M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",...t,children:[M.jsxs("g",{clipPath:"url(#clip0_2856_1743)",children:[M.jsx("path",{d:"M22.1673 8.24075V16.3642C22.1673 17.3256 21.3421 18.105 20.3241 18.105H17.0028M22.1673 8.24075C22.1673 7.27936 21.3421 6.5 20.3241 6.5H11.5302M22.1673 8.24075V8.42852C22.1673 9.03302 21.8352 9.59423 21.2901 9.91105L15.1463 13.4818C14.5539 13.8261 13.8067 13.8261 13.2143 13.4818L10.1621 11.5401",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),M.jsx("path",{d:"M3.12913 6.64816C0.508085 12.9507 3.49251 20.1847 9.79504 22.8057L11.5068 23.5176C12.4522 23.9108 13.7783 23.2222 14.1714 22.2768L14.6054 21.2333C14.7687 20.8406 14.6438 20.3871 14.3024 20.1334L11.2872 17.8927C10.9878 17.6702 10.5843 17.6488 10.2632 17.8384L9.11575 18.5156C8.78274 18.7121 8.3597 18.6844 8.07552 18.4221C5.94293 16.4542 4.77629 13.6264 4.90096 10.7273C4.91757 10.3409 5.19796 10.023 5.57269 9.92753L6.86381 9.59869C7.22522 9.50664 7.49627 9.20696 7.55169 8.83815L8.10986 5.12321C8.17306 4.70259 7.94188 4.29293 7.54915 4.1296L6.50564 3.69564C5.56026 3.30248 4.23416 3.99103 3.84101 4.9364L3.12913 6.64816Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),M.jsx("defs",{children:M.jsx("clipPath",{id:"clip0_2856_1743",children:M.jsx("rect",{x:"0.5",y:"0.5",width:"24",height:"24",rx:"6",fill:"white"})})})]}),nk=t=>{let e=localStorage.getItem("-walletlink:https://www.walletlink.org:Addresses")?.split(" ").filter((n=>Li(n,{strict:!0}))).map((n=>Sr(n)));return!!e?.length&&!!t?.linkedAccounts.filter((n=>n.type=="wallet"&&e.includes(n.address))).length};let VZ=H.createContext({plugins:{current:{}}});const Mke=({children:t})=>{let e=H.useRef({});return M.jsx(VZ.Provider,{value:{plugins:e},children:t})},DA=()=>{let{plugins:t}=H.useContext(VZ);return H.useCallback((e=>t.current[e]),[t])},HZ=Symbol("solana-ledger-plugin"),$ke=({title:t="You don't have access to this app",subtitle:e="Have you been invited?",ctaText:n="Try another account",ctaLink:i,onCtaClick:c})=>M.jsx(Zt,{title:t,subtitle:e,icon:n7,iconVariant:"warning",primaryCta:{label:n,onClick:()=>{i?window.open(i,"_blank"):c?.()}},watermark:!0}),vb={component:()=>{let{navigate:t}=lt(),e=it(),n=e?.allowlistConfig.errorTitle||"You don't have access to this app",i=e?.allowlistConfig.errorDetail||"Have you been invited?",c=e?.allowlistConfig.errorCtaText||"Try another account",m=e?.allowlistConfig.errorCtaLink;return M.jsx($ke,{title:n,subtitle:i,ctaText:c,ctaLink:m??void 0,onCtaClick:()=>{t(Ni)}})}},Fke=({status:t,title:e,description:n,userIntentRequired:i,retriesRemaining:c,hasSelectedCta:m,onContinue:s,onRetry:g})=>{let r=H.useMemo((()=>{switch(t){case"loading":default:return;case"success":return i?{label:m?"Continuing...":"Continue",onClick:s,disabled:m,loading:m}:void 0;case"error":return c>0?{label:"Retry",onClick:g}:void 0}}),[t,m,s,g]),a=H.useMemo((()=>({loading:"loading",ready:"subtle",disabled:"subtle",success:"success",error:"error"})[t]||"loading"),[t]);return M.jsx(Zt,{icon:t==="loading"||t==="ready"?void 0:t==="success"?n1:i3,iconVariant:a,title:e,subtitle:n,primaryCta:r,watermark:!0})},Ao={component:()=>{let{lastScreen:t,data:e,navigate:n,setModalData:i}=lt(),{status:c,token:m,waitForResult:s,reset:g,execute:r}=As(),a=H.useRef([]),v=C=>{a.current=[C,...a.current]},[h,u]=H.useState(!0);H.useEffect((()=>(v(setTimeout(u,1e3,!1)),()=>{a.current.forEach((C=>clearTimeout(C))),a.current=[]})),[]);let[l,o]=H.useState(""),[d,p]=H.useState("Checking that you are a human..."),[f,y]=H.useState(!1),[w,x]=H.useState(3),b=e?.captchaModalData,E=async C=>{try{await b?.callback(C),b?.onSuccessNavigateTo&&n(b?.onSuccessNavigateTo,!1)}catch(T){if(T instanceof _3)return;i({errorModalData:{error:T,previousScreen:t||Ni}}),n(b?.onErrorNavigateTo||Xn,!1)}};return H.useEffect((()=>{c==="success"?v(setTimeout((async()=>{let C=await s();!C||b?.userIntentRequired||E(C)}),1e3)):c==="ready"&&v(setTimeout((()=>{c==="ready"&&r()}),500))}),[c]),H.useEffect((()=>{if(!h)switch(c){case"success":o("Success!"),p("CAPTCHA passed successfully."),b?.userIntentRequired||setTimeout((()=>{y(!0),E(m)}),2e3);break;case"loading":o(""),p("Checking that you are a human...");break;case"error":o("Something went wrong"),p(w<=0?"If you use an adblocker or VPN, try disabling and re-attempting.":"You did not pass CAPTCHA. Please try again.")}}),[c,h,f]),M.jsx(Fke,{status:c,title:l,description:d,userIntentRequired:b?.userIntentRequired,retriesRemaining:w,hasSelectedCta:f,onContinue:()=>{y(!0),E(m)},onRetry:async()=>{if(w<=0)return;x((T=>T-1)),g(),r();let C=await s();!C||b?.userIntentRequired||E(C)}})}},Lke=t=>M.jsx("svg",{id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"-0.625 12.48 397.647 399.546",width:"2500",height:"674",preserveAspectRatio:"none",...t,children:M.jsx("g",{children:M.jsx("path",{fill:"#333745",d:"M 333.9 12.8 L 150.9 12.8 L 150.9 258.4 L 396.5 258.4 L 396.5 76.7 C 396.6 42.2 368.4 12.8 333.9 12.8 Z M 94.7 12.8 L 64 12.8 C 29.5 12.8 0 40.9 0 76.8 L 0 107.5 L 94.7 107.5 L 94.7 12.8 Z M 0 165 L 94.7 165 L 94.7 259.7 L 0 259.7 L 0 165 Z M 301.9 410.6 L 332.6 410.6 C 367.1 410.6 396.6 382.5 396.6 346.6 L 396.6 316 L 301.9 316 L 301.9 410.6 Z M 150.9 316 L 245.6 316 L 245.6 410.7 L 150.9 410.7 L 150.9 316 Z M 0 316 L 0 346.7 C 0 381.2 28.1 410.7 64 410.7 L 94.7 410.7 L 94.7 316 L 0 316 Z"})})}),Dke=({onContinueWithLedger:t,onContinueWithoutLedger:e,title:n="Phantom supports Ledger",subtitle:i=`Are you using a Ledger hardware wallet?
Continue to sign with Ledger`})=>M.jsx(Zt,{title:n,subtitle:M.jsx(Bke,{children:i}),primaryCta:{label:"Continue with Ledger",onClick:t},secondaryCta:{label:"Continue without Ledger",onClick:e},watermark:!0,children:M.jsxs(kke,{children:[M.jsx(zK,{style:{width:"48px",height:"48px"}}),M.jsx(Ave,{strokeWidth:2,color:"var(--privy-color-icon-subtle)",width:22,height:22}),M.jsx(Lke,{style:{width:"48px",height:"48px"}})]})}),Nke={component:function(){let{data:t,setModalData:e,navigate:n}=lt();return M.jsx(Dke,{onContinueWithLedger:function(){e({...t,login:{...t?.login,isSigningInWithLedgerSolana:!0}}),n(cu)},onContinueWithoutLedger:function(){e({...t,login:{...t?.login,isSigningInWithLedgerSolana:!1}}),n(cu)}})}};let kke=ae.div.withConfig({displayName:"IconContainer",componentId:"sc-218811f1-0"})(["display:flex;align-items:center;justify-content:center;gap:8px;margin-bottom:var(--screen-space);"]),Bke=ae.span.withConfig({displayName:"SubtitleText",componentId:"sc-218811f1-1"})(["white-space:pre-wrap;"]);const Uke=({style:t,...e})=>M.jsx("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"38px",width:"38px",...t},...e,children:M.jsx("path",{d:"M20 13.6V20M20 26.4H20.016M36 20C36 28.8365 28.8366 36 20 36C11.1635 36 4.00001 28.8365 4.00001 20C4.00001 11.1634 11.1635 3.99999 20 3.99999C28.8366 3.99999 36 11.1634 36 20Z",stroke:"currentColor",strokeWidth:"3.2",strokeLinecap:"round",strokeLinejoin:"round"})}),jke=({title:t="Unable to sign in",subtitle:e="This is a test application that has reached its user limit. To allow more users, this app needs to be upgraded to production.",onGoBack:n})=>M.jsx(Zt,{title:t,subtitle:e,icon:Uke,iconVariant:"subtle",primaryCta:{label:"Go back",onClick:n},showBack:!0,onBack:n,watermark:!0}),A1={component:()=>{let{navigate:t}=lt();return M.jsx(jke,{onGoBack:()=>{t(Ni)}})}},YZ=t=>t?.privyErrorCode===we.LINKED_TO_ANOTHER_USER?Nh.ERROR_USER_EXISTS:t instanceof Ri&&!t.details.default?t.details:t instanceof kK?Nh.ERROR_TIMED_OUT:t?.privyErrorCode===we.CANNOT_LINK_MORE_OF_TYPE?Nh.ERROR_USER_LIMIT_REACHED:Nh.ERROR_WALLET_CONNECTION,zke=({walletLogo:t,title:e,subtitle:n,signSuccess:i,errorMessage:c,connectSuccess:m,separateConnectAndSign:s,signing:g,walletConnectRedirectUri:r,walletConnectFallbackUniversalUri:a,hasTabbedAway:v,showCoinbaseWalletResetCta:h,numRetries:u,onBack:l,onSign:o,onRetry:d,onCoinbaseReset:p,onDifferentWallet:f})=>{let y=h?{label:"Use a different wallet",onClick:p,disabled:i}:c===Nh.ERROR_USER_EXISTS&&l?{label:"Use a different wallet",onClick:f}:m&&!i&&s?{label:g?"Signing":"Sign with your wallet",onClick:o,disabled:g}:!i&&c?.retryable&&u<2?{label:"Retry",onClick:d,disabled:!1}:i||c?void 0:{label:"Connecting",onClick:()=>{},disabled:!0};return M.jsx(Zt,{title:e,subtitle:n,icon:t,iconVariant:"loading",iconLoadingStatus:{success:i,fail:!!c},primaryCta:y,onBack:l,watermark:!0,children:!m&&r&&!v&&M.jsxs(Wke,{children:["Still here?"," ",M.jsx(t0,{href:r,target:"_blank",variant:"underlined",size:"sm",children:"Try connecting again"}),a&&M.jsxs(M.Fragment,{children:[" ","or"," ",M.jsx(t0,{href:a,target:"_blank",variant:"underlined",size:"sm",children:"use this different link"})]})]})})},cu={component:()=>{let t,[e,n]=H.useState(!1),[i,c]=H.useState(!1),[m,s]=H.useState(void 0),{authenticated:g,logout:r}=Xt(),{navigate:a,navigateBack:v,lastScreen:h,currentScreen:u,setModalData:l,data:o}=lt(),d=it(),{getAuthFlow:p,walletConnectionStatus:f,closePrivyModal:y,initLoginWithWallet:w,loginWithWallet:x,updateWallets:b,createAnalyticsEvent:E}=et(),{walletConnectors:C}=Xt(),[T,S]=H.useState(0),{user:A}=Xt(),P=DA(),[R]=H.useState(A?.linkedAccounts.length||0),[L,D]=H.useState(""),[$,F]=H.useState(""),[N,k]=H.useState(!1),{hasTabbedAway:j}=(function(){let[oe,Ee]=H.useState(!1),ye=H.useCallback((()=>{document.hidden&&Ee(!0)}),[]);return H.useEffect((()=>(document.addEventListener("visibilitychange",ye),()=>document.removeEventListener("visibilitychange",ye))),[ye]),{hasTabbedAway:oe,reset:()=>Ee(!1)}})(),{enabled:W,token:G}=As(),K=Nc(f?.connector?.walletClientType||"unknown"),z=sn.isMobile&&f?.connector?.connectorType==="wallet_connect_v2"||sn.isMobile&&f?.connector?.connectorType==="coinbase_wallet"||sn.isMobile&&f?.connector?.connectorType==="base_account"||sn.isMobile&&f?.connector?.connectorType==="injected"&&f?.connector?.walletClientType==="phantom"||sn.isMobile&&f?.connector?.connectorType==="solana_adapter"&&f.connector.walletClientType==="mobile_wallet_adapter",X=f?.status==="connected",U=f?.status==="switching_to_supported_chain";H.useEffect((()=>{let oe=p(),Ee=oe instanceof Ap||oe instanceof hx?oe:void 0;X&&f.connector?.chainType==="solana"&&f.connector?.walletClientType==="phantom"&&P(HZ)&&o?.login?.isSigningInWithLedgerSolana===void 0?a(Nke,!1):(X&&!Ee&&(!W||G||g?w(f.connectedWallet,G,o?.login?.disableSignup,o?.login?.isSigningInWithLedgerSolana?"transaction":"plain").then((()=>{k(!0)})):(l({captchaModalData:{callback:ye=>w(f.connectedWallet,ye,o?.login?.disableSignup,o?.login?.isSigningInWithLedgerSolana?"transaction":"plain").then((()=>{k(!0)})),userIntentRequired:!1,onSuccessNavigateTo:cu,onErrorNavigateTo:Xn}}),a(Ao,!1))),Ee instanceof hx&&o?.login?.isSigningInWithLedgerSolana&&(Ee.messageType="transaction"),Ee&&z&&X&&!Ee.preparedMessage?Ee.buildMessage():Ee&&!z&&X&&(i||(async()=>{c(!0),s(void 0);try{f?.connector?.connectorType==="wallet_connect_v2"&&f?.connector?.walletClientType==="metamask"&&await dx(2500),await V()}catch(ye){console.warn("Auto-prompted signature failed",ye)}finally{c(!1)}})()))}),[T,X,N]),H.useEffect((()=>{if(A&&e){let oe=900;if(d?.legal.requireUsersAcceptTerms&&!A.hasAcceptedTerms){let ye=setTimeout((()=>{a(kd)}),oe);return()=>clearTimeout(ye)}if(Uc(A,d.embeddedWallets)){let ye=setTimeout((()=>{l({createWallet:{onSuccess:()=>{},onFailure:Ce=>{console.error(Ce),E({eventName:"embedded_wallet_creation_failure_logout",payload:{error:Ce,screen:"ConnectionStatusScreen"}}),r()},callAuthOnSuccessOnClose:!0}}),a(Cu)}),oe);return()=>clearTimeout(ye)}b();let Ee=setTimeout((()=>y({shouldCallAuthOnSuccess:!0,isSuccess:!0})),Yn);return()=>clearTimeout(Ee)}}),[A,e]);let Z=oe=>{if(oe?.privyErrorCode!==we.ALLOWLIST_REJECTED){if(oe?.privyErrorCode===we.USER_LIMIT_REACHED)return console.error(new t1(oe).toString()),void a(A1);if(oe?.privyErrorCode!==we.USER_DOES_NOT_EXIST)return oe?.privyErrorCode===we.ACCOUNT_TRANSFER_REQUIRED&&oe.data?.data?.nonce?(l({accountTransfer:{nonce:oe.data?.data?.nonce,account:p()?.meta.address,displayName:oe.data?.data?.account?.displayName,externalWalletMetadata:{walletClientType:p()?.meta.walletClientType,chainId:p()?.meta.chainId,connectorType:p()?.meta.connectorType},linkMethod:p()instanceof Ap?"siwe":"siws",embeddedWalletAddress:oe.data?.data?.otherUser?.embeddedWalletAddress}}),void a(Nd)):void s(YZ(oe));a(S1)}else a(vb)};async function V(){try{await x(),n(!0)}catch(oe){Z(oe)}finally{c(!1)}}H.useEffect((()=>{f?.connectError&&Z(f?.connectError)}),[f]),((oe,Ee)=>{let ye=H.useRef((()=>{}));H.useEffect((()=>{ye.current=oe})),H.useEffect((()=>{if(Ee!==null){let Ce=setInterval((()=>ye.current()),Ee||0);return()=>clearInterval(Ce)}}),[Ee])})((()=>{let oe=J==="wallet_connect_v2"&&f?.connector instanceof Ip?f.connector.redirectUri:void 0;oe&&D(oe);let Ee=J==="wallet_connect_v2"&&f?.connector instanceof Ip?f.connector.fallbackUniversalRedirectUri:void 0;Ee&&F(Ee)}),f?.connector instanceof Ip&&!L?500:null);let J=f?.connector?.connectorType||"injected",Q=f?.connector?.walletClientType||"unknown",ee=K?.metadata?.shortName||K?.name||f?.connector?.walletBranding.name||"Browser Extension",te=K?.image_url?.md||f?.connector?.walletBranding.icon||(oe=>M.jsx(gA,{...oe})),ie=ee==="Browser Extension"?ee.toLowerCase():ee;t=e?`Successfully connected with ${ie}`:m?m.message:U?"Switching networks":X?i&&z?"Signing":"Sign to verify":`Waiting for ${ie}`;let le="Dont see your wallet? Check your other browser windows.";e?le=R===(A?.linkedAccounts.length||0)?"Wallet was already linked.":"Youre good to go!":T>=2&&m?le="Unable to connect wallet":m?le=m.detail:U?le="Switch your wallet to the requested network.":X&&z?le="Sign the message in your wallet to verify it belongs to you.":Q==="metamask"&&sn.isMobile?le="Click continue to open and connect MetaMask.":Q==="metamask"?le="For the best experience, connect only one wallet at a time.":J==="wallet_connect"?le="Open your mobile wallet app to continue":J==="coinbase_wallet"?MK()||(le=nk(A)?"Continue with the Coinbase app. Not the right wallet? Reset your connection below.":"Confirm in the Coinbase app/popup to continue."):o?.login?.isSigningInWithLedgerSolana&&(le="Ledger requires a transaction to verify your identity. Youll sign a transaction that performs no onchain action.");let de=C?.walletConnectors?.find((oe=>oe.walletClientType==="coinbase_wallet")),fe=Q==="coinbase_wallet"&&(nk(A)||m===Nh.ERROR_USER_EXISTS);return M.jsx(zke,{walletLogo:te,title:t,subtitle:le,signSuccess:e,errorMessage:m,connectSuccess:X,separateConnectAndSign:z,signing:i,walletConnectRedirectUri:L,walletConnectFallbackUniversalUri:$,hasTabbedAway:j,showCoinbaseWalletResetCta:fe,numRetries:T,onBack:h&&u!==h?v:void 0,onSign:()=>{c(!0),V()},onRetry:()=>{S(T+1),s(void 0),X?(c(!0),V()):f?.connectRetry()},onCoinbaseReset:()=>{de&&de?.disconnect()},onDifferentWallet:v})}};let Wke=ae.p.withConfig({displayName:"RedirectLinksContainer",componentId:"sc-7b4251f2-0"})(["text-align:center;color:var(--privy-color-foreground-2);font-size:14px;line-height:22px;margin:16px 0;"]);const hw={component:()=>{let{setWalletConnectionStatus:t,closePrivyModal:e,inProgressAuthFlowRef:n}=et(),{data:i,navigate:c}=lt(),m=it(),s=Ld(),g=i?.externalConnectWallet?.description,r=H.useRef(i?.externalConnectWallet?.walletList??m.appearance.walletList),a=H.useRef(i?.externalConnectWallet?.walletChainType??m.appearance.walletChainType),v=r.current,h=a.current,u=n.current==="link"?void 0:()=>c(Ni);return M.jsx(GZ,{walletList:v,walletChainType:h,onClose:e,onConnect:H.useCallback((({connector:l,wallet:o})=>{s("connectWallet","onSuccess",{wallet:o}),t({status:"connected",connectedWallet:o,connector:l,connectError:null,connectRetry:()=>null}),c(cu,!i?.externalConnectWallet?.preSelectedWalletId)}),[t,c,i?.login?.disableSignup,i?.externalConnectWallet?.preSelectedWalletId]),onConnectError:l=>{l instanceof Di?(console.warn(l.cause?l.cause:l.message),s("connectWallet","onError",l.privyErrorCode||we.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(l),s("connectWallet","onError",we.UNKNOWN_CONNECT_WALLET_ERROR))},onBack:u,customDescription:g||"",preSelectedWalletId:i?.externalConnectWallet?.preSelectedWalletId,app:m})},isUnauthenticatedScreem:!0},XZ=({children:t,theme:e})=>M.jsxs(Gke,{$theme:e,children:[M.jsx(M1e,{width:"20px",height:"20px",color:"var(--privy-color-icon-subtle)",strokeWidth:2,style:{flexShrink:0}}),M.jsx(Vke,{$theme:e,children:t})]});let Gke=ae.div.withConfig({displayName:"Container",componentId:"sc-1b5ed8dd-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-background-2);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),Vke=ae.div.withConfig({displayName:"Content",componentId:"sc-1b5ed8dd-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],(t=>t.$theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)"));const dd=ae.span.withConfig({displayName:"Subtitle",componentId:"sc-7a11f796-0"})(["margin-top:4px;color:var(--privy-color-foreground);text-align:center;font-size:0.875rem;font-weight:400;line-height:1.375rem;&& a{color:var(--privy-color-accent);}"]),Oc=ae.span.withConfig({displayName:"Title",componentId:"sc-66de63c-0"})(["color:var(--privy-color-foreground);font-size:1.125rem;font-weight:600;line-height:1.875rem;text-align:center;"]),NA=ae.span.withConfig({displayName:"LabelXs",componentId:"sc-4c43f9fd-0"})(["color:var(--privy-color-foreground-3);font-size:0.75rem;font-weight:500;line-height:1.125rem;"]),KZ=Wr(["&&{border-width:1px;padding:0.5rem 1rem;}width:100%;text-align:left;border:solid 1px var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);display:flex;justify-content:space-between;align-items:center;",""],(t=>t.$state==="error"?`
        border-color: var(--privy-color-error);
        background: var(--privy-color-error-bg);
      `:"")),gb=ae.div.withConfig({displayName:"Box",componentId:"sc-7252360a-0"})(["",""],KZ);let Hke=ae(gb).withConfig({displayName:"StyledBox",componentId:"sc-4010d8f3-0"})(["&&{padding:0.75rem;height:56px;}"]),Yke=ae.div.withConfig({displayName:"WalletContent",componentId:"sc-4010d8f3-1"})(["display:flex;align-items:center;justify-content:space-between;width:100%;"]),Xke=ae.div.withConfig({displayName:"AddressContainer",componentId:"sc-4010d8f3-2"})(["display:flex;flex-direction:column;gap:0;"]),Kke=ae.div.withConfig({displayName:"BalanceText",componentId:"sc-4010d8f3-3"})(["font-size:12px;line-height:1rem;color:var(--privy-color-foreground-3);"]),Zke=ae(NA).withConfig({displayName:"TitleLabel",componentId:"sc-4010d8f3-4"})(["text-align:left;margin-bottom:0.5rem;"]),Jke=ae(hd).withConfig({displayName:"StyledErrorMessage",componentId:"sc-4010d8f3-5"})(["margin-top:0.25rem;"]),_ke=ae(So).withConfig({displayName:"CopyButton",componentId:"sc-4010d8f3-6"})(["&&{gap:0.375rem;font-size:14px;}"]);const mb=({errMsg:t,balance:e,address:n,className:i,title:c,showCopyButton:m=!1})=>{let[s,g]=H.useState(!1);return H.useEffect((()=>{if(s){let r=setTimeout((()=>g(!1)),3e3);return()=>clearTimeout(r)}}),[s]),M.jsxs("div",{children:[c&&M.jsx(Zke,{children:c}),M.jsx(Hke,{className:i,$state:t?"error":void 0,children:M.jsxs(Yke,{children:[M.jsxs(Xke,{children:[M.jsx(fs,{address:n,showCopyIcon:!1}),e!==void 0&&M.jsx(Kke,{children:e})]}),m&&M.jsx(_ke,{onClick:function(r){r.stopPropagation(),navigator.clipboard.writeText(n).then((()=>g(!0))).catch(console.error)},size:"sm",children:M.jsxs(M.Fragment,s?{children:["Copied",M.jsx(hm,{size:14})]}:{children:["Copy",M.jsx($w,{size:14})]})})]})}),t&&M.jsx(Jke,{children:t})]})};function ZZ({rpcConfig:t,appId:e,address:n,chain:i}){let{chains:c}=et(),[m,s]=H.useState(0n),[g,r]=H.useState(!1),a=H.useMemo((()=>{let h=i||c[0];if(h)return vl({chain:i,transport:gl(wu(h,t,e))})}),[i,t,e]),v=H.useCallback((async()=>{if(!n||!a)return;r(!0);let h=await a.getBalance({address:n}).catch(console.error);return h?(s(h),r(!1),h):void 0}),[a,n,s]);return H.useEffect((()=>{v().catch(console.error)}),[]),{balance:m,isLoading:g,reloadBalance:v}}const wl="sdk_fiat_on_ramp_completed_with_status";async function kA({rpc:t,address:e}){return(await t.getBalance(e,{commitment:"confirmed"}).send()).value??0n}function yb(t){switch(t){case"solana:mainnet":return"Solana";case"solana:devnet":return"Devnet";case"solana:testnet":return"Testnet"}}function YE(t){let[e]=Object.entries(TDe[t]).find((([n,i])=>i.symbol==="USDC"))??[];return e}const BA=async({chain:t,address:e,appId:n,rpcConfig:i,erc20Address:c})=>({balance:await vl({chain:t,transport:gl(wu(t,i,n))}).readContract({address:c,abi:Qke,functionName:"balanceOf",args:[e]}).catch((()=>0n)),chain:t});let Qke=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];const yx={component:()=>{let{wallets:t}=Dd(),{connectors:e}=et(),n=e.filter(Q3).flatMap((A=>A.wallets)),{data:i,setModalData:c,navigate:m,lastScreen:s}=lt(),{rpcConfig:g,appId:r,createAnalyticsEvent:a,closePrivyModal:v}=et(),h=it(),[u,l]=H.useState(void 0),[o,d]=H.useState(!1),p=i?.funding,{reloadBalance:f}=ZZ({rpcConfig:g,appId:r,address:p.chainType==="ethereum"?p.address:void 0,chain:p.chainType==="ethereum"?p.chain:void 0}),y=p.chainType==="solana",w=y?p.isUSDC?"USDC":"SOL":p.erc20Address?p.erc20ContractInfo?.symbol:p.chain.nativeCurrency.symbol,x=y?n.find((({address:A})=>A===p.address)):t.find((({address:A})=>ji(A)===ji(p.address)));if(!p)return c({errorModalData:{error:Error("Couldn't find funding config"),previousScreen:s||Pa},funding:i?.funding,solanaFundingData:i?.solanaFundingData,sendTransaction:i?.sendTransaction}),m(Xn),M.jsx(M.Fragment,{});H.useEffect((()=>{let A=y?async function(){if(p.chainType!=="solana")return;let R=h.solanaRpcs[p.chain];R?(p.isUSDC?(async function({rpc:L,address:D,mintAddress:$}){let F=await L.getTokenAccountsByOwner(D,{mint:$},{encoding:"jsonParsed",commitment:"confirmed"}).send(),N=F.value[0]?.account;return N?BigInt(N.data.parsed.info.tokenAmount.amount):0n})({rpc:R.rpc,address:p.address,mintAddress:YE(p.chain)}):kA({rpc:R.rpc,address:p.address})).then((L=>{let D=BigInt(L);u&&D>u&&(d(!0),a({eventName:wl,payload:{provider:"manual",status:"success",chainType:"solana",address:x?.address,value:p.isUSDC?vs(D-u,6):vs(D-u,9),token:p.isUSDC?"USDC":"SOL"}})),l(D)})):console.warn("Unable to load solana rpc, skipping balance")}:async function(){p.chainType==="ethereum"&&(async()=>{if(!p.erc20Address)return await f()??BigInt(0);{let{balance:R}=await BA({chain:p.chain,address:p.address,erc20Address:p.erc20Address,rpcConfig:g,appId:r});return R}})().then((R=>{u&&R>u&&(d(!0),a({eventName:wl,payload:{provider:"manual",status:"success",chainType:"ethereum",address:x?.address,chainId:p.chain.id,value:vs(R-u,p.erc20ContractInfo?.decimals??18),token:p.erc20ContractInfo?.symbol??p.erc20Address??"ETH"}})),l(R)})).catch((()=>l(void 0)))},P=setInterval(A,2e3);return A(),()=>clearInterval(P)}),[u]);let b=H.useMemo((()=>u==null?"":p.isUSDC?AC({amount:u,decimals:6}):y?lw(u,3,!0,!0):p.erc20ContractInfo?.decimals!=null?AC({amount:u,decimals:p.erc20ContractInfo.decimals}):Tpe({wei:u})),[u,y,p]),E=p.chainType==="ethereum"?p.chain.name:yb(p.chain),C=H.useMemo((()=>p.uiConfig?.receiveFundsTitle===""?null:M.jsx(Oc,{children:p.uiConfig?.receiveFundsTitle??`Receive ${p.amount} ${w??""}`.trim()})),[p.uiConfig?.receiveFundsTitle,p.amount,w]),T=H.useMemo((()=>p.uiConfig?.receiveFundsSubtitle===""?null:M.jsx(dd,{children:p.uiConfig?.receiveFundsSubtitle??`Scan this code or copy your wallet address to receive funds on ${E}.`})),[p.uiConfig?.receiveFundsSubtitle,E]),S=p.chainType==="solana"&&p.isUSDC&&YE(p.chain)?`?spl-token=${YE(p.chain)}`:"";return M.jsxs(M.Fragment,{children:[M.jsx(Fa,{}),C,T,M.jsxs(rb,{style:{gap:"1rem",margin:C||T?"1rem 0":"0"},children:[M.jsx(T1,{url:`${p.chainType}:${p.address}${S}`,size:200,squareLogoElement:qke}),M.jsxs(XZ,{theme:h.appearance.palette.colorScheme,children:["Make sure to send funds on ",E,"."]}),M.jsx(mb,{title:"Your wallet",errMsg:void 0,showCopyButton:!0,balance:`${b} ${w}`,address:p.address}),o&&M.jsx(Cn,{onClick:()=>v({shouldCallAuthOnSuccess:!1,isSuccess:!0}),children:"Continue"})]}),M.jsx(dn,{})]})}};let qke=({...t})=>M.jsx(jK,{color:"black",...t}),eBe=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];const JZ=async({address:t,chain:e,rpcConfig:n,privyAppId:i})=>{try{let c=vl({chain:e,transport:gl(wu(e,n,i))}),[m,s]=await Promise.all([c.readContract({abi:rk,address:t,functionName:"symbol"}),c.readContract({abi:rk,address:t,functionName:"decimals"})]);return{decimals:s,symbol:m}}catch(c){return console.log(c),null}};let rk=[{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],tBe=2n**256n-1n;const wx=({amount:t,decimals:e})=>t===tBe?"Maximum":Intl.NumberFormat(void 0,{maximumFractionDigits:e}).format(Number(t)/10**e);let nBe=({data:t})=>{let e=n=>typeof n=="object"&&n!==null?M.jsx(rBe,{children:Object.entries(n).map((([i,c])=>M.jsxs("li",{children:[M.jsxs("strong",{children:[i,":"]})," ",e(c)]},i)))}):M.jsx("span",{children:String(n)});return M.jsx("div",{children:e(t)})};const _Z=ae.div.withConfig({displayName:"Message",componentId:"sc-70ec2a4f-0"})(["margin-top:1.5rem;background-color:var(--privy-color-background-2);border-radius:var(--privy-border-radius-md);padding:12px;text-align:left;max-height:310px;overflow:scroll;white-space:pre-wrap;width:100%;font-size:0.875rem;font-weight:400;color:var(--privy-color-foreground);line-height:1.5;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]);let rBe=ae.ul.withConfig({displayName:"MessageList",componentId:"sc-70ec2a4f-1"})(["margin-left:12px !important;white-space:nowrap;&:first-child{margin-left:0 !important;}strong{font-weight:500 !important;}"]);const QZ=({data:t,className:e})=>M.jsx(_Z,{className:e,children:M.jsx(nBe,{data:t})});let iBe=ae.div.withConfig({displayName:"Container",componentId:"sc-b3a607dd-0"})(["display:flex;flex-direction:column;min-height:72px;"]);var sBe=({onBack:t,details:e})=>M.jsxs(iBe,{children:[M.jsx(Vt,{backFn:t}),M.jsx(QZ,{data:e}),M.jsx(dn,{})]});const wn=ae.span.withConfig({displayName:"LabelSm",componentId:"sc-6c002d6-0"})(["color:var(--privy-color-foreground-3);font-size:0.875rem;font-weight:400;line-height:1.375rem;"]),aBe=ae(wn).withConfig({displayName:"LabelSmPrimary",componentId:"sc-6c002d6-1"})(["color:var(--privy-color-accent);"]),oBe=ae(wn).withConfig({displayName:"InteractiveLabel",componentId:"sc-b57d0824-0"})(["cursor:pointer;display:inline-flex;gap:8px;align-items:center;color:var(--privy-color-accent);svg{fill:var(--privy-color-accent);}"]),UA=ae.span.withConfig({displayName:"Rows",componentId:"sc-b764aab6-0"})(["display:flex;flex-direction:column;gap:0.35rem;width:100%;"]),Ln=ae.span.withConfig({displayName:"Row",componentId:"sc-b764aab6-1"})(["display:flex;width:100%;justify-content:space-between;gap:0.5rem;"]);let lBe=bG(["from,to{background:var(--privy-color-foreground-4);color:var(--privy-color-foreground-4);}50%{background:var(--privy-color-foreground-accent);color:var(--privy-color-foreground-accent);}"]);const wb=Wr(["",""],(t=>t.$isLoading?Wr(["width:35%;animation:"," 2s linear infinite;border-radius:var(--privy-border-radius-sm);"],lBe):"")),pr=ae.span.withConfig({displayName:"Value",componentId:"sc-72aa026-0"})(["color:var(--privy-color-foreground);font-size:0.875rem;font-weight:500;line-height:1.375rem;word-break:break-all;text-align:right;",""],wb);var ik=({iconUrl:t,value:e,symbol:n,usdValue:i,nftName:c,nftCount:m,decimals:s,$isLoading:g})=>{if(g)return M.jsx(sk,{$isLoading:g});let r=e&&i&&s?(function(a,v,h){let u=parseFloat(a),l=parseFloat(h);if(u===0||l===0||Number.isNaN(u)||Number.isNaN(l))return a;let o=Math.ceil(-Math.log10(.01/(l/u))),d=Math.pow(10,o=Math.max(o=Math.min(o,v),1)),p=+(Math.floor(u*d)/d).toFixed(o).replace(/\.?0+$/,"");return Intl.NumberFormat(void 0,{maximumFractionDigits:v}).format(p)})(e,s,i):e;return M.jsxs("div",{children:[M.jsxs(sk,{$isLoading:g,children:[t&&M.jsx(cBe,{src:t,alt:"Token icon"}),m&&m>1?m+"x":void 0," ",c,r," ",n]}),i&&M.jsxs(uBe,{$isLoading:g,children:["$",i]})]})};let sk=ae.span.withConfig({displayName:"Value",componentId:"sc-991db279-0"})(["color:var(--privy-color-foreground);font-size:0.875rem;font-weight:500;line-height:1.375rem;word-break:break-all;text-align:right;display:flex;justify-content:flex-end;",""],wb);const uBe=ae.span.withConfig({displayName:"Subvalue",componentId:"sc-991db279-1"})(["color:var(--privy-color-foreground-2);font-size:12px;font-weight:400;line-height:18px;word-break:break-all;text-align:right;display:flex;justify-content:flex-end;",""],wb);let cBe=ae.img.withConfig({displayName:"TokenIcon",componentId:"sc-991db279-2"})(["height:14px;width:14px;margin-right:4px;object-fit:contain;"]);const hBe=t=>{let{chain:e,transactionDetails:n,isTokenContractInfoLoading:i,symbol:c}=t,{action:m,functionName:s}=n;return M.jsx(gb,{children:M.jsxs(UA,{children:[m!=="transaction"&&M.jsxs(Ln,{children:[M.jsx(wn,{children:"Action"}),M.jsx(pr,{children:s})]}),s==="mint"&&"args"in n&&n.args.filter((g=>g)).map(((g,r)=>M.jsxs(Ln,{children:[M.jsx(wn,{children:`Param ${r}`}),M.jsx(pr,{children:typeof g=="string"&&xs(g)?M.jsx(fs,{address:g,url:e?.blockExplorers?.default?.url,showCopyIcon:!1}):g?.toString()})]},r))),s==="setApprovalForAll"&&n.operator&&M.jsxs(Ln,{children:[M.jsx(wn,{children:"Operator"}),M.jsx(pr,{children:M.jsx(fs,{address:n.operator,url:e?.blockExplorers?.default?.url,showCopyIcon:!1})})]}),s==="setApprovalForAll"&&n.approved!==void 0&&M.jsxs(Ln,{children:[M.jsx(wn,{children:"Set approval to"}),M.jsx(pr,{children:n.approved?"true":"false"})]}),s==="transfer"||s==="transferFrom"||s==="safeTransferFrom"||s==="approve"?M.jsxs(M.Fragment,{children:["formattedAmount"in n&&n.formattedAmount&&M.jsxs(Ln,{children:[M.jsx(wn,{children:"Amount"}),M.jsxs(pr,{$isLoading:i,children:[n.formattedAmount," ",c]})]}),"tokenId"in n&&n.tokenId&&M.jsxs(Ln,{children:[M.jsx(wn,{children:"Token ID"}),M.jsx(pr,{children:n.tokenId.toString()})]})]}):null,s==="safeBatchTransferFrom"&&M.jsxs(M.Fragment,{children:["amounts"in n&&n.amounts&&M.jsxs(Ln,{children:[M.jsx(wn,{children:"Amounts"}),M.jsx(pr,{children:n.amounts.join(", ")})]}),"tokenIds"in n&&n.tokenIds&&M.jsxs(Ln,{children:[M.jsx(wn,{children:"Token IDs"}),M.jsx(pr,{children:n.tokenIds.join(", ")})]})]}),s==="approve"&&n.spender&&M.jsxs(Ln,{children:[M.jsx(wn,{children:"Spender"}),M.jsx(pr,{children:M.jsx(fs,{address:n.spender,url:e?.blockExplorers?.default?.url,showCopyIcon:!1})})]}),(s==="transferFrom"||s==="safeTransferFrom"||s==="safeBatchTransferFrom")&&n.transferFrom&&M.jsxs(Ln,{children:[M.jsx(wn,{children:"Transferring from"}),M.jsx(pr,{children:M.jsx(fs,{address:n.transferFrom,url:e?.blockExplorers?.default?.url,showCopyIcon:!1})})]}),(s==="transferFrom"||s==="safeTransferFrom"||s==="safeBatchTransferFrom")&&n.transferTo&&M.jsxs(Ln,{children:[M.jsx(wn,{children:"Transferring to"}),M.jsx(pr,{children:M.jsx(fs,{address:n.transferTo,url:e?.blockExplorers?.default?.url,showCopyIcon:!1})})]})]})})},qZ=({children:t,theme:e})=>M.jsxs(dBe,{$theme:e,children:[M.jsx(d7,{width:"20px",height:"20px",color:"var(--privy-color-icon-error)",strokeWidth:2,style:{flexShrink:0}}),M.jsx(fBe,{$theme:e,children:t})]});let dBe=ae.div.withConfig({displayName:"Container",componentId:"sc-34910fd1-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-error-bg);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),fBe=ae.div.withConfig({displayName:"Content",componentId:"sc-34910fd1-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],(t=>t.$theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)"));const eJ=({children:t,theme:e})=>M.jsxs(pBe,{$theme:e,children:[M.jsx(bd,{width:"20px",height:"20px",color:"var(--privy-color-icon-warning)",strokeWidth:2,style:{flexShrink:0}}),M.jsx(vBe,{$theme:e,children:t})]});let pBe=ae.div.withConfig({displayName:"Container",componentId:"sc-a77c2854-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-warn-bg);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),vBe=ae.div.withConfig({displayName:"Content",componentId:"sc-a77c2854-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],(t=>t.$theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)"));const gBe=({variant:t,setPreventMaliciousTransaction:e,colorScheme:n="light",preventMaliciousTransaction:i})=>t==="warn"?M.jsx(ak,{children:M.jsxs(eJ,{theme:n,children:[M.jsx("span",{style:{fontWeight:"500"},children:"Warning: Suspicious transaction"}),M.jsx("br",{}),"This has been flagged as a potentially deceptive request. Approving could put your assets or funds at risk."]})}):t==="error"?M.jsx(M.Fragment,{children:M.jsxs(ak,{children:[M.jsx(qZ,{theme:n,children:M.jsxs("div",{children:[M.jsx("strong",{children:"This is a malicious transaction"}),M.jsx("br",{}),"This transaction transfers tokens to a known malicious address. Proceeding may result in the loss of valuable assets."]})}),M.jsxs(mBe,{children:[M.jsx(bZ,{color:"var(--privy-color-error)",checked:!i,readOnly:!0,onClick:()=>e(!i)}),M.jsx("span",{children:"I understand and want to proceed anyways."})]})]})}):null;let ak=ae.div.withConfig({displayName:"BannerContainer",componentId:"sc-ab8a5a0b-0"})(["margin-top:1.5rem;"]),mBe=ae.div.withConfig({displayName:"CheckboxContainer",componentId:"sc-ab8a5a0b-1"})(["display:flex;align-items:center;gap:0.5rem;margin-top:0.75rem;"]);const yBe=({transactionIndex:t,maxIndex:e})=>typeof t!="number"||e===0?"":` (${t+1} / ${e+1})`,wBe=({img:t,submitError:e,prepareError:n,onClose:i,action:c,title:m,subtitle:s,to:g,tokenAddress:r,network:a,missingFunds:v,fee:h,from:u,cta:l,disabled:o,chain:d,isSubmitting:p,isPreparing:f,isTokenPriceLoading:y,isTokenContractInfoLoading:w,isSponsored:x,symbol:b,balance:E,onClick:C,transactionDetails:T,transactionIndex:S,maxIndex:A,onBack:P,chainName:R,validation:L,hasScanDetails:D,setIsScanDetailsOpen:$,preventMaliciousTransaction:F,setPreventMaliciousTransaction:N,tokensSent:k,tokensReceived:j,isScanning:W,isCancellable:G,functionName:K})=>{let{showTransactionDetails:z,setShowTransactionDetails:X,hasMoreDetails:U,isErc20Ish:Z}=(Q=>{let[ee,te]=H.useState(!1),ie=!0,le=!1;return(!Q||Q.isErc20Ish||Q.action==="transaction")&&(ie=!1),ie&&(le=Object.entries(Q||{}).some((([de,fe])=>fe&&!["action","isErc20Ish","isNFTIsh"].includes(de)))),{showTransactionDetails:ee,setShowTransactionDetails:te,hasMoreDetails:ie&&le,isErc20Ish:Q?.isErc20Ish}})(T),V=it(),J=Z&&w||f||y||W;return M.jsxs(M.Fragment,{children:[M.jsx(Vt,{onClose:i,backFn:P}),t&&M.jsx(EBe,{children:t}),M.jsxs(Oc,{style:{marginTop:t?"1.5rem":0},children:[m,M.jsx(yBe,{maxIndex:A,transactionIndex:S})]}),M.jsx(dd,{children:s}),M.jsxs(UA,{style:{marginTop:"2rem"},children:[(!!k[0]||J)&&M.jsxs(Ln,{children:[j.length>0?M.jsx(wn,{children:"Send"}):M.jsx(wn,{children:c==="approve"?"Approval amount":"Amount"}),M.jsx("div",{className:"flex flex-col",children:k.map(((Q,ee)=>M.jsx(ik,{iconUrl:Q.iconUrl,value:K==="setApprovalForAll"?"All":Q.value,usdValue:Q.usdValue,symbol:Q.symbol,nftName:Q.nftName,nftCount:Q.nftCount,decimals:Q.decimals},ee)))})]}),j.length>0&&M.jsxs(Ln,{children:[M.jsx(wn,{children:"Receive"}),M.jsx("div",{className:"flex flex-col",children:j.map(((Q,ee)=>M.jsx(ik,{iconUrl:Q.iconUrl,value:Q.value,usdValue:Q.usdValue,symbol:Q.symbol,nftName:Q.nftName,nftCount:Q.nftCount,decimals:Q.decimals},ee)))})]}),T&&"spender"in T&&T?.spender?M.jsxs(Ln,{children:[M.jsx(wn,{children:"Spender"}),M.jsx(pr,{children:M.jsx(fs,{address:T.spender,url:d?.blockExplorers?.default?.url})})]}):null,g&&M.jsxs(Ln,{children:[M.jsx(wn,{children:"To"}),M.jsx(pr,{children:M.jsx(fs,{address:g,url:d?.blockExplorers?.default?.url,showCopyIcon:!0})})]}),r&&M.jsxs(Ln,{children:[M.jsx(wn,{children:"Token address"}),M.jsx(pr,{children:M.jsx(fs,{address:r,url:d?.blockExplorers?.default?.url})})]}),M.jsxs(Ln,{children:[M.jsx(wn,{children:"Network"}),M.jsx(pr,{children:a})]}),M.jsxs(Ln,{children:[M.jsx(wn,{children:"Estimated fee"}),M.jsx(pr,{$isLoading:f||y||x===void 0,children:x?M.jsxs(CBe,{children:[M.jsxs(SBe,{children:["Sponsored by ",V.name]}),M.jsx(d1e,{height:16,width:16})]}):h})]}),U&&!D&&M.jsxs(M.Fragment,{children:[M.jsx(Ln,{className:"cursor-pointer",onClick:()=>X(!z),children:M.jsxs(aBe,{className:"flex items-center gap-x-1",children:["Details"," ",M.jsx(f7,{style:{width:"0.75rem",marginLeft:"0.25rem",transform:z?"rotate(180deg)":void 0}})]})}),z&&T&&M.jsx(hBe,{action:c,chain:d,transactionDetails:T,isTokenContractInfoLoading:w,symbol:b})]}),D&&M.jsx(Ln,{children:M.jsxs(oBe,{onClick:()=>$(!0),children:[M.jsx("span",{className:"text-color-primary",children:"Details"}),M.jsx(wme,{height:"14px",width:"14px",strokeWidth:"2"})]})})]}),M.jsx(qp,{}),e?M.jsx(hd,{style:{marginTop:"2rem"},children:e.message}):n&&S===0?M.jsx(hd,{style:{marginTop:"2rem"},children:n.shortMessage??bBe}):null,M.jsx(gBe,{variant:L,preventMaliciousTransaction:F,setPreventMaliciousTransaction:N}),M.jsx(xBe,{$useSmallMargins:!(!n&&!e&&L!=="warn"&&L!=="error"),address:u,balance:E,errMsg:f||n||e||!v?void 0:`Add funds on ${d?.name??R} to complete transaction.`}),M.jsx(Cn,{style:{marginTop:"1rem"},loading:p,disabled:o||f,onClick:C,children:l}),G&&M.jsx(tb,{style:{marginTop:"1rem"},onClick:i,isSubmitting:!1,children:"Not now"}),M.jsx(dn,{})]})};let xBe=ae(mb).withConfig({displayName:"StyledWalletInfoCard",componentId:"sc-cbe5ab37-0"})(["",""],(t=>t.$useSmallMargins?"margin-top: 0.5rem;":"margin-top: 2rem;")),bBe="There was an error preparing your transaction. Your transaction request will likely fail.",EBe=ae.div.withConfig({displayName:"ImageContainer",componentId:"sc-cbe5ab37-2"})(["display:flex;width:100%;justify-content:center;max-height:40px;> img{object-fit:contain;border-radius:var(--privy-border-radius-sm);}"]),CBe=ae.span.withConfig({displayName:"SponsoredRow",componentId:"sc-cbe5ab37-3"})(["display:inline-flex;align-items:center;gap:0.3rem;"]),SBe=ae.span.withConfig({displayName:"SponsoredText",componentId:"sc-cbe5ab37-4"})(["font-size:14px;font-weight:500;color:var(--privy-color-foreground);"]),TBe=()=>M.jsxs(OBe,{children:[M.jsx($Be,{}),M.jsx(MBe,{})]});const ABe=({transactionError:t,chainId:e,onClose:n,onRetry:i,chainType:c,transactionHash:m})=>{let{chains:s}=et(),[g,r]=H.useState(!1),{errorCode:a,errorMessage:v}=((u,l)=>{if(l==="ethereum")return{errorCode:u.details??u.message,errorMessage:u.shortMessage};let o=u.txSignature,d=u?.transactionMessage||"Something went wrong.";if(Array.isArray(u.logs)){let p=u.logs.find((f=>/insufficient (lamports|funds)/gi.test(f)));p&&(d=p)}return{transactionHash:o,errorMessage:d}})(t,c),h=(({chains:u,chainId:l,chainType:o,transactionHash:d})=>o==="ethereum"?u.find((p=>p.id===l))?.blockExplorers?.default.url??"https://etherscan.io":(function(p,f){return`https://explorer.solana.com/tx/${p}?chain=${f}`})(d||"",l))({chains:s,chainId:e,chainType:c,transactionHash:m});return M.jsxs(M.Fragment,{children:[M.jsx(Vt,{onClose:n}),M.jsxs(PBe,{children:[M.jsx(TBe,{}),M.jsx(IBe,{children:a}),M.jsx(RBe,{children:"Please try again."}),M.jsxs(lk,{children:[M.jsx(ok,{children:"Error message"}),M.jsx(uk,{$clickable:!1,children:v})]}),m&&M.jsxs(lk,{children:[M.jsx(ok,{children:"Transaction hash"}),M.jsxs(LBe,{children:["Copy this hash to view details about the transaction on a"," ",M.jsx("u",{children:M.jsx("a",{href:h,children:"block explorer"})}),"."]}),M.jsxs(uk,{$clickable:!0,onClick:async()=>{await navigator.clipboard.writeText(m),r(!0)},children:[m,M.jsx(kBe,{clicked:g})]})]}),M.jsx(FBe,{onClick:()=>i({resetNonce:!!m}),children:"Retry transaction"})]}),M.jsx(yr,{})]})};let PBe=ae.div.withConfig({displayName:"TransactionErrorScreenContainer",componentId:"sc-d58f10e6-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;"]),IBe=ae.span.withConfig({displayName:"ErrorCode",componentId:"sc-d58f10e6-1"})(["color:var(--privy-color-foreground);text-align:center;font-size:1.125rem;font-weight:500;line-height:1.25rem;text-align:center;margin:10px;"]),RBe=ae.span.withConfig({displayName:"Subtitle",componentId:"sc-d58f10e6-2"})(["margin-top:4px;margin-bottom:10px;color:var(--privy-color-foreground-3);text-align:center;font-size:0.875rem;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;"]),OBe=ae.div.withConfig({displayName:"CircleContainer",componentId:"sc-d58f10e6-3"})(["position:relative;width:60px;height:60px;margin:10px;display:flex;justify-content:center;align-items:center;"]),MBe=ae(d7).withConfig({displayName:"StyledExclamationCircleIcon",componentId:"sc-d58f10e6-4"})(["position:absolute;width:35px;height:35px;color:var(--privy-color-error);"]),$Be=ae.div.withConfig({displayName:"StyledRedCircle",componentId:"sc-d58f10e6-5"})(["position:absolute;width:60px;height:60px;border-radius:50%;background-color:var(--privy-color-error);opacity:0.1;"]),FBe=ae(Cn).withConfig({displayName:"RetryButton",componentId:"sc-d58f10e6-6"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]),ok=ae.span.withConfig({displayName:"TextBoxTitle",componentId:"sc-d58f10e6-7"})(["width:100%;text-align:left;font-size:0.825rem;color:var(--privy-color-foreground);padding:4px;"]),lk=ae.div.withConfig({displayName:"TextBoxContainer",componentId:"sc-d58f10e6-8"})(["width:100%;margin:5px;display:flex;flex-direction:column;justify-content:center;align-items:center;"]),LBe=ae.text.withConfig({displayName:"HelperText",componentId:"sc-d58f10e6-9"})(["position:relative;width:100%;padding:5px;font-size:0.8rem;color:var(--privy-color-foreground-3);text-align:left;word-wrap:break-word;"]),uk=ae.span.withConfig({displayName:"TextBox",componentId:"sc-d58f10e6-10"})(["position:relative;width:100%;background-color:var(--privy-color-background-2);padding:8px 12px;border-radius:10px;margin-top:5px;font-size:14px;color:var(--privy-color-foreground-3);text-align:left;word-wrap:break-word;",""],(t=>t.$clickable&&`cursor: pointer;
  transition: background-color 0.3s;
  padding-right: 45px;

  &:hover {
    background-color: var(--privy-color-foreground-4);
  }`)),DBe=ae(E1e).withConfig({displayName:"StyledClipboardIcon",componentId:"sc-d58f10e6-11"})(["position:absolute;top:13px;right:13px;width:24px;height:24px;"]),NBe=ae(DG).withConfig({displayName:"StyledClipboardCheckIcon",componentId:"sc-d58f10e6-12"})(["position:absolute;top:13px;right:13px;width:24px;height:24px;"]),kBe=({clicked:t})=>M.jsx(t?NBe:DBe,{}),BBe=({gasUsed:t,effectiveGasPrice:e})=>{if(t&&e)try{return sr(t*e)}catch{return}};const UBe=({txn:t,receipt:e,transactionInfo:n,onClose:i,tokenPrice:c,tokenSymbol:m,receiptHeader:s,receiptDescription:g})=>M.jsxs(M.Fragment,{children:[M.jsx(Vt,{onClose:i}),M.jsx(rNe,{title:s??"Transaction complete!",description:g??"You're all set."}),M.jsx(uZ,{tokenPrice:c,from:e.from,to:e.to,gas:BBe(e),txn:t,transactionInfo:n,tokenSymbol:m}),M.jsx(qp,{}),M.jsx(jBe,{loading:!1,onClick:i,children:"All Done"}),M.jsx(Mo,{}),M.jsx(dn,{})]});let jBe=ae(Cn).withConfig({displayName:"SubmitButton",componentId:"sc-f70d0f7a-0"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]);const zBe=[{constant:!1,inputs:[{name:"_salt",type:"bytes32"},{name:"_initializer",type:"bytes"}],name:"deployAccount",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],WBe=[{name:"from",type:"address"},{name:"param2",type:"address"},{name:"param3",type:"bytes"},{name:"param4",type:"tuple",components:[]},{type:"tuple",components:[{name:"param5",type:"address"},{name:"param6",type:"uint256"},{name:"param7",type:"uint256"},{name:"encodedInitData",type:"bytes"}]}],GBe=[{constant:!1,inputs:[{name:"spender",type:"address"},{name:"value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],gT=[{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],VBe=[{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"quantities",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"quantities",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"batchMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"batchMint",outputs:[],stateMutability:"payable",type:"function"}],HBe=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],YBe=[{constant:!1,inputs:[{name:"_operator",type:"address"},{name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],XBe=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],KBe=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenIds",type:"uint256[]"},{name:"_amounts",type:"uint256[]"},{name:"_data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],ZBe=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"},{name:"_amount",type:"uint256"},{name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],tJ=(t,e)=>{let n=Hl(GBe,t);if(n)return{action:"approve",functionName:"approve",isErc20Ish:!0,isNFTIsh:!1,spender:n.args[0],amount:n.args[1]};let i=Hl(gT,t);if(i)return{action:"transfer",functionName:"transfer",isErc20Ish:!0,isNFTIsh:!1,transferTo:i.args[0],amount:i.args[1]};if(!e)return{action:"transaction",functionName:"",isErc20Ish:!1,isNFTIsh:!1};let c=Hl(zBe,t);if(c&&typeof c.args[1]=="string"){let h=JBe(c.args[1]);if(h&&h[4].encodedInitData)return tJ(h[4].encodedInitData,e)}let m=Hl(YBe,t);if(m)return{action:"approve",functionName:"setApprovalForAll",isNFTIsh:!0,isErc20Ish:!1,operator:m.args[0],approved:m.args[1]};let s=Hl(XBe,t);if(s)return{action:"transfer",functionName:"transferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:s.args[0],transferTo:s.args[1],tokenId:s.args[2]};let g=Hl(HBe,t);if(g)return{action:"transfer",functionName:"safeTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:g.args[0],transferTo:g.args[1],tokenId:g.args[2]};let r=Hl(ZBe,t);if(r)return{action:"transfer",functionName:"safeTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:r.args[0],transferTo:r.args[1],tokenId:r.args[2],amount:r.args[3]};let a=Hl(KBe,t);if(a)return{action:"batch transfer",functionName:"safeBatchTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:a.args[0],transferTo:a.args[1],tokenIds:a.args[2],amounts:a.args[3]};let v=Hl(VBe,t);return v?{action:"mint",functionName:v.functionName,isNFTIsh:!0,isErc20Ish:!1,args:v.args}:{action:"transaction",isErc20Ish:!1,isNFTIsh:!1}};let Hl=(t,e)=>{try{let n=KU({abi:t,data:e});return{functionName:n.functionName,args:n.args||[]}}catch{return null}},JBe=t=>{try{if(typeof t=="string")return u0(WBe,`0x${t.slice(10)}`)}catch{return null}},XE=t=>`${parseFloat(t).toFixed(2)}`;const _Be=(t,e,n,i)=>{let[c,m]=H.useState(null),{walletProxy:s}=et();return H.useEffect((()=>{c&&m(null),(async()=>{if(!s||!e)return null;let g=[],r=!0,a=await vx(t,n,e,i).catch((v=>(v.message&&v.message.includes("Insufficient balance for transaction")||v.details&&v.details.includes("insufficient funds")?r=!1:g.push(v),t)));return{tx:a,totalGasEstimate:a.gas,hasFunds:r,errors:g}})().then(m)}),[t]),c};let ck=new Ri(new Pp("There was an issue preparing your transaction",so.E32603_DEFAULT_INTERNAL_ERROR.eipCode)),hk=(t,e)=>t?.sendTransaction?"transactionRequest"in t.sendTransaction?t.sendTransaction.transactionRequest:t.sendTransaction.transactionRequests[e]:void 0;const nJ={component:()=>{let{data:t,onUserCloseViaDialogOrKeybindRef:e,setModalData:n,navigate:i}=lt(),{client:c,rpcConfig:m,chains:s,closePrivyModal:g,walletProxy:r,showFiatPrices:a}=et(),{user:v}=Xt(),h=it(),[u,l]=H.useState(0),[o,d]=H.useState(0),[p,f]=H.useState(hk(t,u)),[y,w]=H.useState(null),[x,b]=H.useState(),[E,C]=H.useState(!1),[T,S]=H.useState(null),[A,P]=H.useState(null),[R,L]=H.useState(null),[D,$]=H.useState(void 0),[F,N]=H.useState(void 0),[k,j]=H.useState(!1),[W,G]=H.useState(!1),[K,z]=H.useState([]),[X,U]=H.useState([]),[Z,V]=H.useState("uninitiated"),[J,Q]=H.useState(void 0);if(!p||!t?.sendTransaction||!t?.sendTransaction)return M.jsx(pb,{error:Error("Invalid transaction request"),allowlistConfig:h.allowlistConfig,onRetry:()=>{t?.sendTransaction?.onFailure(ck),g({shouldCallAuthOnSuccess:!1})}});let{transactingWalletAddress:ee}=t.sendTransaction,te=H.useMemo((()=>s.find((Ot=>Number(Ot.id)===Number(p.chainId)))),[p.chainId]),ie=te?.nativeCurrency.symbol??"ETH",le=H.useMemo((()=>tJ(p.data,!!h.embeddedWallets.extendedCalldataDecoding)),[p.data]),{action:de,isErc20Ish:fe,isNFTIsh:oe,functionName:Ee}=le,{toAddress:ye,tokenAddress:Ce}=H.useMemo((()=>({toAddress:le.isErc20Ish?le.transferTo:p.to??void 0,tokenAddress:le.isErc20Ish?p.to:void 0})),[le]);H.useEffect((()=>{p.to&&te&&fe&&JZ({address:p.to,chain:te,rpcConfig:h.rpcConfig,privyAppId:h.id}).then(w).catch(console.error)}),[p.to,te]);let{tokenPrice:Ie,isTokenPriceLoading:je}=C1(p.chainId),{balance:Re}=ZZ({rpcConfig:h.rpcConfig,appId:h.id,address:ee,chain:te}),Fe=(function({rpcConfig:Ot,appId:pt,address:Qn,chain:Sn,tokenInfo:Gr}){let{chains:ne}=et(),[se,ue]=H.useState(null),[pe,be]=H.useState(!1),Pe=H.useMemo((()=>{let Ye=Sn||ne[0];if(Ye)return vl({chain:Sn,transport:gl(mW(Ye,Ot,pt))})}),[Sn,Ot,pt]),De=H.useCallback((async()=>{if(Qn&&Pe&&Gr.address)try{return be(!0),await Pe.readContract({address:Gr.address,abi:eBe,functionName:"balanceOf",args:[Qn]})}catch(Ye){console.error(Ye)}finally{be(!1)}}),[Pe,Qn,Gr?.address,Sn]);return H.useEffect((()=>{De().then((Ye=>Ye!=null&&ue(Ye)))}),[De]),{balance:se,isLoading:pe&&se==null,formattedBalance:AC({amount:se??BigInt(0),decimals:Gr.decimals})}})({rpcConfig:h.rpcConfig,appId:h.id,address:ee,tokenInfo:{address:Ce||"",decimals:y?.decimals??18},chain:te}),Ae=H.useMemo((()=>Qp(Number(p.chainId),s,m,{appId:h.id})),[p.chainId,m]),Xe=_Be(p,ee,Ae,t?.sendTransaction?.prepareTransactionRequest);H.useEffect((()=>{f(hk(t,u))}),[u]),H.useEffect((()=>{t.sendTransaction?.getIsSponsored?t.sendTransaction.getIsSponsored().then(b).catch(console.error):b(!1)}),[t.sendTransaction.getIsSponsored]);let st=()=>{if(!E)return T?t?.sendTransaction?.onSuccess({hash:T}):R||Xe?.errors[0]?t?.sendTransaction?.onFailure(R??Xe?.errors[0]??ck):t?.sendTransaction?.onFailure(new Ri(new Pp("The user rejected the request",so.E4001_USER_REJECTED_REQUEST.eipCode))),g({shouldCallAuthOnSuccess:!1})};e.current=st;let vt=!!(t.funding&&t.funding.supportedOptions.length>0),Ge=fo(BigInt(Xe?.totalGasEstimate??0n),ie),nt=a&&Ie?Vh(BigInt(Xe?.totalGasEstimate??0n),Ie):void 0,St=fo(Re??0n,ie,void 0,!0),Je=a&&Ie?Vh(Re??0n,Ie):void 0,He=y&&!Fe.isLoading&&fe&&de!=="approve"?`${Fe.formattedBalance} ${y.symbol}`:void 0,_e=t.sendTransaction?.uiOptions?.transactionInfo?.title;_e||(_e=de==="approve"?fe?"Confirm address":"Confirm action":`Approve ${de}`);let ht=H.useMemo((()=>{if(t.sendTransaction?.uiOptions?.description)return t.sendTransaction?.uiOptions?.description;if(de==="approve"&&Ee==="setApprovalForAll"&&le.approved){let Ot=M.jsx(fs,{address:le.operator||"",url:te?.blockExplorers?.default?.url});return M.jsxs(M.Fragment,{children:[h.name," would like your permission for ",Ot," to transfer tokens on your behalf."]})}if(de==="approve"&&Ee==="setApprovalForAll"&&!le.approved){let Ot=M.jsx(fs,{address:le.operator||"",url:te?.blockExplorers?.default?.url});return M.jsxs(M.Fragment,{children:[h.name," would like your permission to revoke permissions of ",Ot," from transferring tokens on your behalf."]})}return fe&&de==="approve"||fe&&de==="approve"?`${h.name} would like your permission for ${ji(le.spender)} to spend tokens on your behalf.`:`${h.name} wants your permission to approve the following transaction.`}),[h.name,fe,le,t.sendTransaction?.uiOptions.description,Ee]),Dt=t.sendTransaction?.uiOptions?.transactionInfo?.contractInfo?.imgUrl?M.jsx("img",{src:t.sendTransaction.uiOptions.transactionInfo.contractInfo.imgUrl,alt:t.sendTransaction.uiOptions.transactionInfo.contractInfo.imgAltText}):null,ut=!(!Xe||Xe.errors[0]||Xe.hasFunds||x!==!1),xt=ut&&vt,tt=xt?"Add funds":t.sendTransaction?.uiOptions?.buttonText||(u<o?"Continue":"Approve"),fn=Ot=>{if(!Ot)throw Error("Transaction scan failed");if(Ot.validation.status==="Success"&&(Ot.validation.result_type==="Benign"?N("safe"):Ot.validation.result_type==="Warning"?N("warn"):Ot.validation.result_type==="Malicious"&&(N("error"),G(!0))),Ot.simulation.status!=="Success")throw Error("Simulation failed");{$(Ot.simulation.params);let{assetsIn:pt,assetsOut:Qn}=(function(Sn,Gr){let ne=[],se=new Map;if(Sn){for(let ue of Sn)if(ue.in[0]){let pe;pe=ue.asset.type==="ERC721"||ue.in[0].value==="approve_for_all"?{id:`nft:${ue.asset.name}`,nftName:ue.asset.name,nftCount:ue.in.length}:{id:`token:${ue.asset.type}:${ue.asset.symbol}:${ue.asset.name}`,iconUrl:ue.asset.logo_url,value:ue.in[0].value,symbol:ue.asset.symbol,usdValue:ue.in[0].usd_price?XE(ue.in[0].usd_price):void 0,decimals:ue.asset.decimals},ne.push(pe)}else if(ue.out[0]?.value){let pe;pe=ue.asset.type==="ERC721"||ue.out[0].value==="approve_for_all"?{id:`nft:${ue.asset.name}`,nftName:ue.asset.name}:{id:`token:${ue.asset.type}:${ue.asset.symbol}:${ue.asset.name}`,iconUrl:ue.asset.logo_url,value:ue.out[0].value,symbol:ue.asset.symbol,usdValue:ue.out[0].usd_price?XE(ue.out[0].usd_price):void 0,decimals:ue.asset.decimals},se.has(pe.id)||se.set(pe.id,pe)}}for(let ue of Gr)for(let pe of Object.keys(ue.spenders)){let be;be=ue.asset.type==="ERC721"||ue.spenders[pe]?.value==="approve_for_all"?{id:`nft:${ue.asset.name}`,nftName:ue.asset.name}:{id:`token:${ue.asset.type}:${ue.asset.symbol}:${ue.asset.name}`,iconUrl:ue.asset.logo_url,value:ue.spenders[pe]?.value,symbol:ue.asset.symbol,usdValue:ue.spenders[pe]?.usd_price?XE(ue.spenders[pe]?.usd_price):void 0,decimals:ue.asset.decimals},se.has(be.id)||se.set(be.id,be)}return{assetsIn:ne,assetsOut:Array.from(se.values())}})(Ot.simulation.assets_diffs,Ot.simulation.exposures);if(Qn.length===0&&pt.length===0)throw Error("No tokens found");z(Qn),U(pt)}};if(H.useEffect((()=>{t.sendTransaction?.scanTransaction&&h.embeddedWallets.transactionScanning.enabled&&Z==="uninitiated"&&(V("in progress"),t.sendTransaction.scanTransaction().then((Ot=>{fn(Ot),V("completed")})).catch((()=>V("failed"))))}),[!!t.sendTransaction?.scanTransaction]),H.useEffect((()=>{t.sendTransaction?.scanTransaction&&Z!=="failed"||((Ot,pt,Qn)=>{if(d((Sn=>Sn?.sendTransaction?"transactionRequest"in Sn.sendTransaction?0:Sn.sendTransaction.transactionRequests.length-1:0)(t)),pt.isErc20Ish&&pt.amount&&Qn){let Sn=wx({amount:pt.amount,decimals:Qn.decimals});Q(Sn),z([{value:Sn,symbol:Qn?.symbol,decimals:Qn?.decimals}])}else if(Ot.value){let Sn=BigInt(Ot.value),Gr=Ie?Vh(Sn,Ie):void 0;z(a&&Gr?[{value:Gr}]:[{value:eZ(Sn),symbol:ie,decimals:18,usdValue:Gr}])}else z(a?[{value:"$0"}]:[{value:"0",symbol:ie,decimals:18}])})(Xe?.tx??p,le,y)}),[p,Xe?.tx,le,y,Z]),A)return M.jsx(UBe,{txn:Xe?.tx??p,onClose:st,receipt:A,transactionInfo:t.sendTransaction?.uiOptions.transactionInfo,tokenPrice:Ie,tokenSymbol:ie,receiptHeader:t.sendTransaction?.uiOptions.successHeader,receiptDescription:t.sendTransaction?.uiOptions.successDescription});if(R)return M.jsx(ABe,{transactionError:R,transactionHash:T??void 0,chainType:"ethereum",chainId:Xe?.tx.chainId??p.chainId,onClose:st,onRetry:({resetNonce:Ot})=>{L(null);let pt={...Xe?.tx??p};Ot&&(pt.nonce=void 0),f(pt)}});let On=o!==0&&typeof u=="number"&&u!==0?()=>{l(u-1)}:void 0;return k&&D?M.jsx(sBe,{details:D,onBack:()=>j(!1)}):M.jsx(wBe,{transactionIndex:u,onBack:On,maxIndex:o,disabled:ut&&!vt||W,isSubmitting:E,submitError:R,isPreparing:!Xe,isTokenPriceLoading:je,isTokenContractInfoLoading:!oe&&!y,prepareError:Xe?.errors[0],symbol:y?.symbol,chain:te,img:Dt,title:_e,subtitle:ht,txValue:p.value,fee:nt??Ge,isSponsored:x,from:ee??"",to:ye,tokenAddress:Ce??void 0,network:h.chains.find((Ot=>Ot.id===p.chainId))?.name??"",transactionDetails:{...le,formattedAmount:J},cta:tt,missingFunds:ut,action:de,balance:He??Je??St,onClose:st,onClick:xt?async()=>{if(ee){if(!vt)throw Error("Funding wallet is not enabled");n({...t,funding:{...t.funding,methodScreen:Pa,chainType:"ethereum",amount:md(BigInt(Xe?.tx.value??0)+BigInt(Xe?.totalGasEstimate?.toString()??0)),chain:te},solanaFundingData:t?.solanaFundingData}),i(Pa)}}:async()=>{if(u<o)l(u+1);else{C(!0);try{let Ot=await c.getAccessToken();if(E||!Ot||!r||!v)return;let pt=await t.sendTransaction.onConfirm({transactionRequest:Xe?.tx??p});if(S(pt),t.sendTransaction?.signOnly)return await new Promise((Sn=>setTimeout(Sn,Yn))),t?.sendTransaction?.onSuccess({hash:pt}),g({shouldCallAuthOnSuccess:!1});let Qn=await Ae.waitForTransactionReceipt({hash:pt});if(Qn.status==="reverted")throw Error("Transaction failed");P(Qn)}catch(Ot){console.warn({transaction:Xe?.tx??p,error:Ot}),L(Ot)}finally{C(!1)}}},validation:F,hasScanDetails:!!D,setIsScanDetailsOpen:j,preventMaliciousTransaction:W,setPreventMaliciousTransaction:G,tokensSent:K,tokensReceived:X,isScanning:Z==="in progress",isCancellable:t.sendTransaction?.uiOptions?.isCancellable??!1,functionName:Ee})}};function Fa({title:t}){let{currentScreen:e,navigateBack:n,navigate:i,data:c,setModalData:m}=lt();return M.jsx(Vt,{title:t,backFn:e===yx?n:e===c?.funding?.methodScreen?c.funding.comingFromSendTransactionScreen?()=>i(nJ):void 0:c?.funding?.methodScreen?()=>{let s=c.funding;s.usingDefaultFundingMethod&&(s.usingDefaultFundingMethod=!1),m({funding:s,solanaFundingData:c?.solanaFundingData}),i(s.methodScreen)}:void 0})}const QBe=t=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 210.2",xmlSpace:"preserve",...t,children:M.jsx("path",{d:"M93.6,27.1C87.6,34.2,78,39.8,68.4,39c-1.2-9.6,3.5-19.8,9-26.1c6-7.3,16.5-12.5,25-12.9  C103.4,10,99.5,19.8,93.6,27.1 M102.3,40.9c-13.9-0.8-25.8,7.9-32.4,7.9c-6.7,0-16.8-7.5-27.8-7.3c-14.3,0.2-27.6,8.3-34.9,21.2  c-15,25.8-3.9,64,10.6,85c7.1,10.4,15.6,21.8,26.8,21.4c10.6-0.4,14.8-6.9,27.6-6.9c12.9,0,16.6,6.9,27.8,6.7  c11.6-0.2,18.9-10.4,26-20.8c8.1-11.8,11.4-23.3,11.6-23.9c-0.2-0.2-22.4-8.7-22.6-34.3c-0.2-21.4,17.5-31.6,18.3-32.2  C123.3,42.9,107.7,41.3,102.3,40.9 M182.6,11.9v155.9h24.2v-53.3h33.5c30.6,0,52.1-21,52.1-51.4c0-30.4-21.1-51.2-51.3-51.2H182.6z   M206.8,32.3h27.9c21,0,33,11.2,33,30.9c0,19.7-12,31-33.1,31h-27.8V32.3z M336.6,169c15.2,0,29.3-7.7,35.7-19.9h0.5v18.7h22.4V90.2  c0-22.5-18-37-45.7-37c-25.7,0-44.7,14.7-45.4,34.9h21.8c1.8-9.6,10.7-15.9,22.9-15.9c14.8,0,23.1,6.9,23.1,19.6v8.6l-30.2,1.8  c-28.1,1.7-43.3,13.2-43.3,33.2C298.4,155.6,314.1,169,336.6,169z M343.1,150.5c-12.9,0-21.1-6.2-21.1-15.7c0-9.8,7.9-15.5,23-16.4  l26.9-1.7v8.8C371.9,140.1,359.5,150.5,343.1,150.5z M425.1,210.2c23.6,0,34.7-9,44.4-36.3L512,54.7h-24.6l-28.5,92.1h-0.5  l-28.5-92.1h-25.3l41,113.5l-2.2,6.9c-3.7,11.7-9.7,16.2-20.4,16.2c-1.9,0-5.6-0.2-7.1-0.4v18.7C417.3,210,423.3,210.2,425.1,210.2z"})}),qBe=t=>M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 80 38.1",xmlSpace:"preserve",...t,children:[M.jsx("path",{style:{fill:"#5F6368"},d:"M37.8,19.7V29h-3V6h7.8c1.9,0,3.7,0.7,5.1,2c1.4,1.2,2.1,3,2.1,4.9c0,1.9-0.7,3.6-2.1,4.9c-1.4,1.3-3.1,2-5.1,2  L37.8,19.7L37.8,19.7z M37.8,8.8v8h5c1.1,0,2.2-0.4,2.9-1.2c1.6-1.5,1.6-4,0.1-5.5c0,0-0.1-0.1-0.1-0.1c-0.8-0.8-1.8-1.3-2.9-1.2  L37.8,8.8L37.8,8.8z"}),M.jsx("path",{style:{fill:"#5F6368"},d:"M56.7,12.8c2.2,0,3.9,0.6,5.2,1.8s1.9,2.8,1.9,4.8V29H61v-2.2h-0.1c-1.2,1.8-2.9,2.7-4.9,2.7  c-1.7,0-3.2-0.5-4.4-1.5c-1.1-1-1.8-2.4-1.8-3.9c0-1.6,0.6-2.9,1.8-3.9c1.2-1,2.9-1.4,4.9-1.4c1.8,0,3.2,0.3,4.3,1v-0.7  c0-1-0.4-2-1.2-2.6c-0.8-0.7-1.8-1.1-2.9-1.1c-1.7,0-3,0.7-3.9,2.1l-2.6-1.6C51.8,13.8,53.9,12.8,56.7,12.8z M52.9,24.2  c0,0.8,0.4,1.5,1,1.9c0.7,0.5,1.5,0.8,2.3,0.8c1.2,0,2.4-0.5,3.3-1.4c1-0.9,1.5-2,1.5-3.2c-0.9-0.7-2.2-1.1-3.9-1.1  c-1.2,0-2.2,0.3-3,0.9C53.3,22.6,52.9,23.3,52.9,24.2z"}),M.jsx("path",{style:{fill:"#5F6368"},d:"M80,13.3l-9.9,22.7h-3l3.7-7.9l-6.5-14.7h3.2l4.7,11.3h0.1l4.6-11.3H80z"}),M.jsx("path",{style:{fill:"#4285F4"},d:"M25.9,17.7c0-0.9-0.1-1.8-0.2-2.7H13.2v5.1h7.1c-0.3,1.6-1.2,3.1-2.6,4v3.3H22C24.5,25.1,25.9,21.7,25.9,17.7z"}),M.jsx("path",{style:{fill:"#34A853"},d:"M13.2,30.6c3.6,0,6.6-1.2,8.8-3.2l-4.3-3.3c-1.2,0.8-2.7,1.3-4.5,1.3c-3.4,0-6.4-2.3-7.4-5.5H1.4v3.4  C3.7,27.8,8.2,30.6,13.2,30.6z"}),M.jsx("path",{style:{fill:"#FBBC04"},d:"M5.8,19.9c-0.6-1.6-0.6-3.4,0-5.1v-3.4H1.4c-1.9,3.7-1.9,8.1,0,11.9L5.8,19.9z"}),M.jsx("path",{style:{fill:"#EA4335"},d:"M13.2,9.4c1.9,0,3.7,0.7,5.1,2l0,0l3.8-3.8c-2.4-2.2-5.6-3.5-8.8-3.4c-5,0-9.6,2.8-11.8,7.3l4.4,3.4  C6.8,11.7,9.8,9.4,13.2,9.4z"})]}),dk=t=>{let[e,n]=H.useState();return H.useEffect((()=>{t().then((i=>{n(i)})).catch((()=>{}))}),[]),e},xl=({children:t,color:e,isLoading:n,isPulsing:i,...c})=>M.jsx(eUe,{$color:e,$isLoading:n,$isPulsing:i,...c,children:t});let eUe=ae.span.withConfig({displayName:"StyledSpan",componentId:"sc-80725f4-0"})(["padding:0.25rem;font-size:0.75rem;font-weight:500;line-height:1rem;border-radius:var(--privy-border-radius-xs);display:flex;align-items:center;"," ",""],(t=>{let e,n;t.$color==="green"&&(e="var(--privy-color-success-dark)",n="var(--privy-color-success-light)"),t.$color==="red"&&(e="var(--privy-color-error)",n="var(--privy-color-error-light)"),t.$color==="gray"&&(e="var(--privy-color-foreground-2)",n="var(--privy-color-background-2)");let i=bG(["from,to{background-color:",";}50%{background-color:rgba(",",0.8);}"],n,n);return Wr(["color:",";background-color:",";",";"],e,n,t.$isPulsing&&Wr(["animation:"," 3s linear infinite;"],i))}),wb);const rJ=({onClick:t,text:e})=>M.jsxs(_n,{onClick:t,children:[M.jsx(ho,{children:M.jsx(Dve,{})}),M.jsx(qp,{children:e})]}),fk=({chainType:t,withPadding:e})=>{let n="";return n=t==="ethereum-only"||t==="ethereum-and-solana"?"Rainbow, Phantom, or Coinbase Wallet":"Phantom or Solflare",M.jsx(MLe,{$withPadding:e,children:M.jsxs($Le,{children:[M.jsx(Ep,{style:{color:"var(--privy-color-warn)",height:48,width:48}}),M.jsx("h3",{children:"No wallets available"}),M.jsxs("p",{children:["Please download an external wallet provider, like ",n,"."]})]})},"empty-wallet-state")},iJ=({icon:t,name:e})=>typeof t=="string"?M.jsx("img",{alt:`${e||"wallet"} logo`,src:t,style:{height:24,width:24,borderRadius:4}}):t===void 0?M.jsx(p3,{style:{height:24,width:24}}):t?M.jsx(t,{}):null;function mT(t){let e=t.toLowerCase();return!!window?.webkit?.messageHandlers?.ReactNativeWebView||!!window?.ReactNativeWebView||["fbav","fban","instagram","snapchat","linkedinapp"].some((n=>e.includes(n)))}const tUe=({walletLogo:t,success:e,errorMessage:n,title:i,subtitle:c,onRetry:m,onUseDifferentWallet:s,onBack:g,numRetries:r,maxRetries:a})=>M.jsx(Zt,{title:i,subtitle:c,icon:t,iconVariant:"loading",iconLoadingStatus:{success:e,fail:!!n},primaryCta:n===Nh.ERROR_USER_EXISTS?{label:"Use a different wallet",onClick:s}:!e&&n?.retryable&&r<a?{label:"Retry",onClick:m,disabled:!n?.retryable||r>=a}:!e&&n&&r>=a?{label:"Use a different wallet",onClick:s}:void 0,onBack:g,watermark:!0}),yT={component:()=>{let t,{navigateBack:e,navigate:n,lastScreen:i,currentScreen:c,data:m,setModalData:s}=lt(),{walletConnectionStatus:g,closePrivyModal:r}=et(),[a,v]=H.useState(void 0),[h,u]=H.useState(0),l=Nc(g?.connector?.walletClientType||"unknown"),o=g?.status==="connected",d=g?.status==="switching_to_supported_chain";H.useEffect((()=>{if(o){let E;if(m?.externalConnectWallet?.onCompleteNavigateTo){let C=m.externalConnectWallet.onCompleteNavigateTo,T=g.connectedWallet?.address;E=setTimeout((()=>{m.funding&&s({...m,funding:{...m.funding,connectedWalletAddress:T}}),n(C({address:T,walletClientType:g.connector?.walletClientType,walletChainType:g.connector?.chainType}))}),Yn)}else E=setTimeout(r,Yn);return()=>clearTimeout(E)}}),[o]),H.useEffect((()=>{g?.connectError&&(E=>{v(YZ(E))})(g?.connectError)}),[g]);let p=g?.connector?.connectorType||"injected",f=g?.connector?.walletClientType||"unknown",y=l?.metadata?.shortName||l?.name||g?.connector?.walletBranding.name||"Browser Extension",w=l?.image_url?.md||g?.connector?.walletBranding.icon||(E=>M.jsx(gA,{...E})),x=y==="Browser Extension"?y.toLowerCase():y;t=o?`Successfully connected with ${x}`:a?a.message:d?"Switching networks":`Waiting for ${x}`;let b="Dont see your wallet? Check your other browser windows.";return o?b="Youre good to go!":h>=2&&a?b="Unable to connect wallet":a?b=a.detail:d?b="Switch your wallet to the requested network.":f==="metamask"&&sn.isMobile?b="Click to continue to open and connect MetaMask.":f==="metamask"?b="For the best experience, connect only one wallet at a time.":p==="wallet_connect_v2"?b="Open your mobile wallet app to continue":p==="coinbase_wallet"&&(b="Confirm in the Coinbase app/popup to continue."),M.jsx(tUe,{walletName:y,walletLogo:w,success:o,errorMessage:a,title:t,subtitle:b,onRetry:()=>{u(h+1),v(void 0),g?.connectRetry()},onUseDifferentWallet:e,onBack:c===i?void 0:e,numRetries:h,maxRetries:2})}},sJ=ae.div.withConfig({displayName:"TodoList",componentId:"sc-bcc78743-0"})(["display:flex;flex-direction:column;justify-content:flex-start;gap:10px;padding-left:8px;"]),Op=({children:t,variant:e="default",icon:n})=>{let i=()=>{switch(e){case"success":return"var(--privy-color-icon-success)";case"error":return"var(--privy-color-icon-error)";default:return"var(--privy-color-icon-muted)"}};return M.jsxs(rUe,{children:[M.jsx(nUe,{$variant:e,"data-variant":e,children:(()=>{if(n)return Ze.isValidElement(n)?Ze.cloneElement(n,{stroke:i(),strokeWidth:2}):n;switch(e){case"success":default:return M.jsx(hm,{size:12,stroke:i(),strokeWidth:3});case"error":return M.jsx(Nve,{size:12,stroke:i(),strokeWidth:3})}})()}),t]})};let nUe=ae.div.withConfig({displayName:"IconBackground",componentId:"sc-bcc78743-2"})(["display:flex;align-items:center;justify-content:center;width:20px;height:20px;border-radius:50%;background-color:",";flex-shrink:0;"],(({$variant:t})=>{switch(t){case"success":return"var(--privy-color-success-bg, #EAFCEF)";case"error":return"var(--privy-color-error-bg, #FEE2E2)";default:return"var(--privy-color-background-2)"}})),rUe=ae.div.withConfig({displayName:"TodoItemWrapper",componentId:"sc-bcc78743-3"})(["display:flex;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;&&{a{color:var(--privy-color-accent);}}"]);const iUe=({walletName:t,installLink:e,title:n,subtitle:i="Follow the instructions below to get started.",onReload:c,onBack:m})=>{let s=n||`Create a ${t} wallet`.replace(/wallet wallet/gi,"wallet");return M.jsx(Zt,{title:s,subtitle:i,onBack:m,showBack:!0,primaryCta:{label:"Reload the page to use your wallet",onClick:c},helpText:M.jsxs(M.Fragment,{children:[M.jsx("span",{children:"Still not sure? "}),M.jsx(t0,{size:"sm",target:"_blank",href:"https://solana.com/docs/intro/wallets",children:"Learn more"})]}),watermark:!0,children:M.jsxs(sJ,{children:[M.jsx(Op,{children:M.jsxs("div",{children:[M.jsx("span",{children:"Install the "})," ",M.jsxs(t0,{href:e,target:"_blank",children:[t," browser extension"]})]})}),M.jsx(Op,{children:"Set up your first wallet"}),M.jsx(Op,{children:"Store your recovery phrase in a safe place!"})]})})},sUe={component:()=>{let{navigateBack:t,data:e}=lt();if(!e?.installWalletModalData)throw Error("Wallet data is missing");let{walletConfig:n}=e.installWalletModalData;return M.jsx(iUe,{walletName:n.name,installLink:n.installLink,onReload:()=>{window.location.reload()},onBack:t})}},aUe=({title:t,subtitle:e,buttonText:n,buttonHref:i,isLoading:c=!1,helpText:m,onButtonClick:s})=>M.jsx(Zt,{title:t,subtitle:e,primaryCta:{label:n,onClick:()=>{i&&window.open(i,"_self"),s?.()},disabled:c},helpText:m,watermark:!0}),oUe={component:()=>{let{ready:t}=Xt(),{data:e}=lt(),[n,i]=H.useState(!1);if(!e?.installWalletModalData)throw Error("Wallet data is missing");let{walletConfig:c,connectOnly:m,chainType:s}=e.installWalletModalData,g=c.getMobileRedirect({useUniversalLink:!n,isSolana:s==="solana",connectOnly:m}),r=c.name.replace(/ wallet/gi,""),a={title:`Redirecting to ${r} Mobile Wallet`,description:`We'll take you to the ${r} Mobile Wallet app to continue your login experience.`,footnote:""};return t&&(a.description=`For the best experience, we'll automatically log you into the ${r} Mobile Wallet in-app browser.`,a.footnote="You can always return here to login via other methods."),n&&(a.title="Still here?",a.description=`You may need to install the ${c.name} mobile app.`,a.footnote=`Once you're done, you can connect with ${c.name} wallet to complete the login.`),M.jsx(aUe,{title:a.title,subtitle:a.description,buttonText:n?"Go to App Store":"Continue",buttonHref:g,isLoading:t&&!g,helpText:a.footnote||void 0,onButtonClick:()=>{setTimeout((()=>i(!0)),1e3)}})}},Ko=({provider:t,displayName:e,logo:n,connectOnly:i,connector:c})=>{let m,{navigate:s,setModalData:g}=lt(),{connectWallet:r}=et(),a=Bc(),v=Nc(t),h=c.connectorType==="wallet_connect_v2"?t:c.walletClientType,u=window.matchMedia("(display-mode: standalone)").matches,l=WK({connectorType:c.connectorType,walletClientType:h});m=l&&l.chainTypes.includes(c.chainType)?()=>{l.isInstalled||c.chainType==="solana"&&"isInstalled"in c&&c.isInstalled?(r(c,h),s(i?yT:cu)):sn.isMobile?(g({installWalletModalData:{walletConfig:l,chainType:c.chainType,connectOnly:i}}),s(oUe)):(g({installWalletModalData:{walletConfig:l,chainType:c.chainType,connectOnly:i}}),s(sUe))}:c.connectorType!=="coinbase_wallet"||c.coinbaseWalletConfig.preference?.options!=="eoaOnly"||!sn.isMobile||u||MK()?()=>{(!mT(window.navigator.userAgent)||event?.isTrusted)&&(r(c,h),i?c.connectorType==="wallet_connect_v2"?(g((d=>({...d,externalConnectWallet:{...d?.externalConnectWallet,preSelectedWalletId:"wallet_connect_qr"}}))),s(mg)):s(yT):s(cu))}:()=>{window.location.href=`https://go.cb-w.com/dapp?cb_url=${encodeURI(window.location.href)}`};let o=e||v?.metadata?.shortName||v?.name||c.walletClientType;return M.jsxs(lUe,{onClick:m,children:[M.jsx(iJ,{icon:n||v?.image_url?.md,name:o}),M.jsx("span",{children:o}),M.jsxs(uUe,{id:"chip-container",children:[a?.walletClientType===h&&a?.chainType===c.chainType?M.jsx(pk,{color:"gray",children:"Recent"}):M.jsx("span",{id:"connect-text",children:"Connect"}),c.chainType==="solana"&&M.jsx(pk,{color:"gray",children:"Solana"})]})]})};let lUe=ae(_n).withConfig({displayName:"ConnectWalletButton",componentId:"sc-89605346-0"})(["> span{color:var(--privy-color-foreground);}> #chip-container > #connect-text{font-weight:500;color:var(--privy-color-accent);opacity:0;transition:opacity 0.1s ease-out;}:hover > #chip-container > #connect-text{opacity:1;}@media (max-width:440px){> #chip-container > #connect-text{display:none;}}"]),pk=ae(xl).withConfig({displayName:"StyledChip",componentId:"sc-89605346-1"})(["margin-left:auto;"]),uUe=ae.div.withConfig({displayName:"ChipContainer",componentId:"sc-89605346-2"})(["display:flex;flex-wrap:wrap;gap:8px;margin-left:auto;"]);const cUe=["coinbase_wallet","base_account"];let hUe=["metamask","okx_wallet","rainbow","uniswap","bybit_wallet","ronin_wallet","haha_wallet","uniswap_extension","zerion","rabby_wallet","cryptocom","binance"];const dUe=["safe"],fUe=["phantom","backpack","solflare","universal_profile"],aJ=({walletList:t,walletChainType:e,connectors:n,connectOnly:i,ignore:c,walletConnectEnabled:m,forceWallet:s})=>{let g=[],r=[],a=[],v=n.filter((u=>e==="ethereum-only"?u.chainType==="ethereum":e!=="solana-only"||u.chainType==="solana")),h=v.find((u=>u.connectorType==="wallet_connect_v2"));for(let[u,l]of(s?[s.wallet]:t).entries()){if(l==="detected_ethereum_wallets")for(let[o,d]of v.filter((({chainType:p,connectorType:f,walletClientType:y})=>p!=="solana"&&(y==="uniswap_wallet_extension"||y==="uniswap_extension"?!c.includes("uniswap"):y==="crypto.com_wallet_extension"||y==="crypto.com_onchain"?!c.includes("cryptocom"):f==="injected"&&!c.includes(y)))).entries()){let{walletClientType:p,walletBranding:f,chainType:y}=d;(p==="unknown"?r:g).push(M.jsx(Ko,{connectOnly:i,provider:p,logo:f.icon,displayName:f.name,connector:d},`${u}-${l}-${p}-${y}-${o}`))}if(l==="detected_solana_wallets")for(let[o,d]of v.filter((({chainType:p,walletClientType:f})=>{if(p==="solana")return e!=="ethereum-only"&&!c.includes(f)})).entries()){let{walletClientType:p,walletBranding:f,chainType:y}=d;(p==="unknown"?r:g).push(M.jsx(Ko,{connectOnly:i,provider:p,logo:f.icon,displayName:f.name,connector:d},`${u}-${l}-${p}-${y}-${o}`))}if(fUe.includes(l)){let o=v.find((d=>d.connectorType==="injected"&&d.walletClientType===l||d.connectorType===l));if(o&&g.push(M.jsx(Ko,{connectOnly:i,provider:l,connector:o},`${u}-${l}`)),e==="solana-only"||e==="ethereum-and-solana"){let d=v.find((({chainType:p,walletClientType:f})=>p==="solana"&&f===l));d&&g.push(M.jsx(Ko,{connectOnly:i,provider:l,connector:d},`${l}-solana`))}}else if(hUe.includes(l)){let o=v.find((d=>l==="uniswap"?d.walletClientType==="uniswap_wallet_extension"||d.walletClientType==="uniswap_extension":l==="cryptocom"?d.walletClientType==="crypto.com_wallet_extension"||d.walletClientType==="crypto.com_onchain":d.connectorType==="injected"&&d.walletClientType===l));if(m&&!o&&(o=h),o&&g.push(M.jsx(Ko,{connectOnly:i,provider:l,connector:o,logo:o.connectorType==="injected"?o.walletBranding.icon:void 0,displayName:o.connectorType==="injected"?o.walletBranding.name:void 0},`${u}-${l}`)),e==="solana-only"||e==="ethereum-and-solana"){let d=v.find((({chainType:p,walletClientType:f})=>p==="solana"&&f===l));d&&g.push(M.jsx(Ko,{connectOnly:i,provider:l,connector:d},`${l}-solana`))}}else if(cUe.includes(l)){let o=v.find((({connectorType:d})=>d===l));o&&g.push(M.jsx(Ko,{connectOnly:i,provider:l,connector:o,displayName:o.walletClientType==="coinbase_wallet"?"Coinbase":"Base",logo:o.walletClientType==="coinbase_wallet"?DK:NK},`${u}-${l}`))}else if(dUe.includes(l))h&&a.push(M.jsx(Ko,{connectOnly:i,provider:l,connector:h},`${u}-${l}`));else if(l==="wallet_connect")h&&a.push(M.jsx(Ko,{connectOnly:i,provider:l,connector:h,logo:h.walletBranding.icon,displayName:"WalletConnect"},`${u}-${l}`));else if(l===s?.wallet){let o=s.chainType==="ethereum"&&t.includes("detected_ethereum_wallets"),d=s.chainType==="solana"&&t.includes("detected_solana_wallets");if(o||d){let p=v.find((({walletClientType:f})=>f===l));p&&g.push(M.jsx(Ko,{connectOnly:i,provider:l,displayName:p.walletBranding?.name,logo:p.walletBranding?.icon,connector:p},`${u}-${l}`))}}}return[...r,...g,...a]},oJ=({chains:t,appId:e,address:n,rpcConfig:i,includeUsdc:c})=>Promise.all(t.map((async m=>{let s=vl({chain:m,transport:gl(wu(m,i,e))}),g=await s.getBalance({address:n}).catch((()=>0n)),r=null,a=mpe[m.id];if(c&&a){let{balance:v}=await BA({address:n,chain:m,rpcConfig:i,appId:e,erc20Address:a});r=v}return{balance:g,erc20Balance:r,erc20Address:a,chain:m}}))),pUe=t=>M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 397.7 311.7",enableBackground:"new 0 0 397.7 311.7",xmlSpace:"preserve",...t,children:[M.jsxs("linearGradient",{id:"SVGID_1_",gradientUnits:"userSpaceOnUse",x1:"360.8791",y1:"351.4553",x2:"141.213",y2:"-69.2936",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[M.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),M.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),M.jsx("path",{d:"M64.6,237.9c2.4-2.4,5.7-3.8,9.2-3.8h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5  c-5.8,0-8.7-7-4.6-11.1L64.6,237.9z",fill:"url(#SVGID_1_)"}),M.jsxs("linearGradient",{id:"SVGID_2_",gradientUnits:"userSpaceOnUse",x1:"264.8291",y1:"401.6014",x2:"45.163",y2:"-19.1475",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[M.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),M.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),M.jsx("path",{d:"M64.6,3.8C67.1,1.4,70.4,0,73.8,0h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5  c-5.8,0-8.7-7-4.6-11.1L64.6,3.8z",fill:"url(#SVGID_2_)"}),M.jsxs("linearGradient",{id:"SVGID_3_",gradientUnits:"userSpaceOnUse",x1:"312.5484",y1:"376.688",x2:"92.8822",y2:"-44.061",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[M.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),M.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),M.jsx("path",{d:"M333.1,120.1c-2.4-2.4-5.7-3.8-9.2-3.8H6.5c-5.8,0-8.7,7-4.6,11.1l62.7,62.7c2.4,2.4,5.7,3.8,9.2,3.8h317.4  c5.8,0,8.7-7,4.6-11.1L333.1,120.1z",fill:"url(#SVGID_3_)"})]});let vUe={[Po.id]:t=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 2500 2500",xmlSpace:"preserve",...t,children:M.jsx("g",{id:"Layer_x0020_1",children:M.jsxs("g",{id:"_2405588477232",children:[M.jsx("rect",{fill:"none",width:"2500",height:"2500"}),M.jsx("g",{children:M.jsxs("g",{children:[M.jsx("path",{fill:"#213147",d:"M226,760v980c0,63,33,120,88,152l849,490c54,31,121,31,175,0l849-490c54-31,88-89,88-152V760      c0-63-33-120-88-152l-849-490c-54-31-121-31-175,0L314,608c-54,31-87,89-87,152H226z"}),M.jsx("g",{children:M.jsxs("g",{children:[M.jsx("g",{children:M.jsx("path",{fill:"#12AAFF",d:"M1435,1440l-121,332c-3,9-3,19,0,29l208,571l241-139l-289-793C1467,1422,1442,1422,1435,1440z"})}),M.jsx("g",{children:M.jsx("path",{fill:"#12AAFF",d:"M1678,882c-7-18-32-18-39,0l-121,332c-3,9-3,19,0,29l341,935l241-139L1678,883V882z"})})]})}),M.jsx("g",{children:M.jsx("path",{fill:"#9DCCED",d:"M1250,155c6,0,12,2,17,5l918,530c11,6,17,18,17,30v1060c0,12-7,24-17,30l-918,530c-5,3-11,5-17,5       s-12-2-17-5l-918-530c-11-6-17-18-17-30V719c0-12,7-24,17-30l918-530c5-3,11-5,17-5l0,0V155z M1250,0c-33,0-65,8-95,25L237,555       c-59,34-95,96-95,164v1060c0,68,36,130,95,164l918,530c29,17,62,25,95,25s65-8,95-25l918-530c59-34,95-96,95-164V719       c0-68-36-130-95-164L1344,25c-29-17-62-25-95-25l0,0H1250z"})}),M.jsx("polygon",{fill:"#213147",points:"642,2179 727,1947 897,2088 738,2234     "}),M.jsxs("g",{children:[M.jsx("path",{fill:"#FFFFFF",d:"M1172,644H939c-17,0-33,11-39,27L401,2039l241,139l550-1507c5-14-5-28-19-28L1172,644z"}),M.jsx("path",{fill:"#FFFFFF",d:"M1580,644h-233c-17,0-33,11-39,27L738,2233l241,139l620-1701c5-14-5-28-19-28V644z"})]})]})})]})})}),[Io.id]:t=>M.jsxs("svg",{width:"1503",height:"1504",viewBox:"0 0 1503 1504",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[M.jsx("rect",{x:"287",y:"258",width:"928",height:"844",fill:"white"}),M.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1502.5 752C1502.5 1166.77 1166.27 1503 751.5 1503C336.734 1503 0.5 1166.77 0.5 752C0.5 337.234 336.734 1 751.5 1C1166.27 1 1502.5 337.234 1502.5 752ZM538.688 1050.86H392.94C362.314 1050.86 347.186 1050.86 337.962 1044.96C327.999 1038.5 321.911 1027.8 321.173 1015.99C320.619 1005.11 328.184 991.822 343.312 965.255L703.182 330.935C718.495 303.999 726.243 290.531 736.021 285.55C746.537 280.2 759.083 280.2 769.599 285.55C779.377 290.531 787.126 303.999 802.438 330.935L876.42 460.079L876.797 460.738C893.336 489.635 901.723 504.289 905.385 519.669C909.443 536.458 909.443 554.169 905.385 570.958C901.695 586.455 893.393 601.215 876.604 630.549L687.573 964.702L687.084 965.558C670.436 994.693 661.999 1009.46 650.306 1020.6C637.576 1032.78 622.263 1041.63 605.474 1046.62C590.161 1050.86 573.004 1050.86 538.688 1050.86ZM906.75 1050.86H1115.59C1146.4 1050.86 1161.9 1050.86 1171.13 1044.78C1181.09 1038.32 1187.36 1027.43 1187.92 1015.63C1188.45 1005.1 1181.05 992.33 1166.55 967.307C1166.05 966.455 1165.55 965.588 1165.04 964.706L1060.43 785.75L1059.24 783.735C1044.54 758.877 1037.12 746.324 1027.59 741.472C1017.08 736.121 1004.71 736.121 994.199 741.472C984.605 746.453 976.857 759.552 961.544 785.934L857.306 964.891L856.949 965.507C841.69 991.847 834.064 1005.01 834.614 1015.81C835.352 1027.62 841.44 1038.5 851.402 1044.96C860.443 1050.86 875.94 1050.86 906.75 1050.86Z",fill:"#E84142"})]}),[Ro.id]:t=>M.jsxs("svg",{width:"146",height:"146",viewBox:"0 0 146 146",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[M.jsx("circle",{cx:"73",cy:"73",r:"73",fill:"#0052FF"}),M.jsx("path",{d:"M73.323 123.729C101.617 123.729 124.553 100.832 124.553 72.5875C124.553 44.343 101.617 21.4463 73.323 21.4463C46.4795 21.4463 24.4581 42.0558 22.271 68.2887H89.9859V76.8864H22.271C24.4581 103.119 46.4795 123.729 73.323 123.729Z",fill:"white"})]}),[n3.id]:t=>M.jsxs("svg",{fill:"none",height:"400",viewBox:"0 0 400 400",width:"400",xmlns:"http://www.w3.org/2000/svg",...t,children:[M.jsx("path",{d:"m0 0h400v400h-400z",fill:"#fcff52"}),M.jsx("path",{d:"m300 100h-200v200h199.996v-69.813h-33.191c-11.442 25.468-37.194 43.206-66.665 43.206-40.63 0-73.533-33.187-73.533-73.533s32.903-73.249 73.533-73.249c30.043 0 55.795 18.313 67.24 44.349h32.62z",fill:"#000"})]}),[dW.id]:t=>M.jsxs("svg",{width:"200",height:"208",viewBox:"0 0 200 208",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[M.jsx("rect",{width:"199.4",height:"207.623",fill:"#121212"}),M.jsxs("g",{"clip-path":"url(#clip0_2303_643)",children:[M.jsx("path",{d:"M132.369 155.99H49.7001V68.8854H68.6148V139.109H132.369V155.981V155.99Z",fill:"white"}),M.jsx("path",{d:"M132.369 85.7575C141.687 85.7575 149.241 78.2036 149.241 68.8855C149.241 59.5673 141.687 52.0134 132.369 52.0134C123.05 52.0134 115.497 59.5673 115.497 68.8855C115.497 78.2036 123.05 85.7575 132.369 85.7575Z",fill:"white"})]}),M.jsx("defs",{children:M.jsx("clipPath",{id:"clip0_2303_643",children:M.jsx("rect",{width:"99.5407",height:"103.977",fill:"white",transform:"translate(49.7001 52.0134)"})})})]}),[Na.id]:t=>M.jsxs("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 327.5 533.3",enableBackground:"new 0 0 327.5 533.3;",xmlSpace:"preserve",...t,children:[M.jsx("path",{fill:"#8492B2",d:"M163.7,197.2V0L0,271.6L163.7,197.2z"}),M.jsx("path",{fill:"#62688F",d:"M163.7,368.4V197.2L0,271.6L163.7,368.4z M163.7,197.2l163.7,74.4L163.7,0V197.2z"}),M.jsx("path",{fill:"#454A75",d:"M163.7,197.2v171.2l163.7-96.8L163.7,197.2z"}),M.jsx("path",{fill:"#8492B2",d:"M163.7,399.4L0,302.7l163.7,230.7V399.4z"}),M.jsx("path",{fill:"#62688F",d:"M327.5,302.7l-163.8,96.7v134L327.5,302.7z"})]}),[Eu.id]:t=>M.jsxs("svg",{width:"500",height:"500",viewBox:"0 0 500 500",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[M.jsx("circle",{cx:"250",cy:"250",r:"250",fill:"#FF0420"}),M.jsx("path",{d:"M177.133 316.446C162.247 316.446 150.051 312.943 140.544 305.938C131.162 298.808 126.471 288.676 126.471 275.541C126.471 272.789 126.784 269.411 127.409 265.408C129.036 256.402 131.35 245.581 134.352 232.947C142.858 198.547 164.812 181.347 200.213 181.347C209.845 181.347 218.476 182.973 226.107 186.225C233.738 189.352 239.742 194.106 244.12 200.486C248.498 206.74 250.688 214.246 250.688 223.002C250.688 225.629 250.375 228.944 249.749 232.947C247.873 244.08 245.621 254.901 242.994 265.408C238.616 282.546 231.048 295.368 220.29 303.874C209.532 312.255 195.147 316.446 177.133 316.446ZM179.76 289.426C186.766 289.426 192.707 287.362 197.586 283.234C202.59 279.106 206.155 272.789 208.281 264.283C211.158 252.524 213.348 242.266 214.849 233.51C215.349 230.883 215.599 228.194 215.599 225.441C215.599 214.058 209.657 208.366 197.774 208.366C190.768 208.366 184.764 210.43 179.76 214.558C174.882 218.687 171.379 225.004 169.253 233.51C167.001 241.891 164.749 252.149 162.498 264.283C161.997 266.784 161.747 269.411 161.747 272.163C161.747 283.672 167.752 289.426 179.76 289.426Z",fill:"white"}),M.jsx("path",{d:"M259.303 314.57C257.927 314.57 256.863 314.132 256.113 313.256C255.487 312.255 255.3 311.13 255.55 309.879L281.444 187.914C281.694 186.538 282.382 185.412 283.508 184.536C284.634 183.661 285.822 183.223 287.073 183.223H336.985C350.87 183.223 362.003 186.1 370.384 191.854C378.891 197.609 383.144 205.927 383.144 216.81C383.144 219.937 382.769 223.19 382.018 226.567C378.891 240.953 372.574 251.586 363.067 258.466C353.685 265.346 340.8 268.786 324.413 268.786H299.082L290.451 309.879C290.2 311.255 289.512 312.38 288.387 313.256C287.261 314.132 286.072 314.57 284.822 314.57H259.303ZM325.727 242.892C330.98 242.892 335.546 241.453 339.424 238.576C343.427 235.699 346.054 231.571 347.305 226.192C347.68 224.065 347.868 222.189 347.868 220.563C347.868 216.935 346.805 214.183 344.678 212.307C342.551 210.305 338.924 209.305 333.795 209.305H311.278L304.148 242.892H325.727Z",fill:"white"})]}),[ka.id]:t=>M.jsxs("svg",{width:"360",height:"360",viewBox:"0 0 360 360",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[M.jsx("rect",{width:"360",height:"360",rx:"180",fill:"#6C00F6"}),M.jsx("path",{d:"M157.743 154.241L141.052 144.58L90.9766 173.561V231.519L141.052 260.5L191.13 231.519V141.359L218.948 125.26L246.77 141.359V173.561L218.948 189.66L202.257 180.002V205.759L218.948 215.42L269.024 186.439V128.481L218.948 99.5L168.873 128.481V218.641L141.052 234.74L113.233 218.641V186.439L141.052 170.34L157.743 179.998V154.241Z",fill:"white"})]}),[fW.id]:t=>M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",...t,children:[M.jsx("g",{clipPath:"url(#clip0)",children:M.jsx("g",{clipPath:"url(#clip1)",children:M.jsx("path",{d:"M14.9188 29.8373C6.67944 29.8373 0.00012207 23.1581 0.00012207 14.9187C0.00012207 6.67931 6.67944 0 14.9188 0C23.1581 0 29.8373 6.67931 29.8373 14.9187C29.8373 23.1581 23.1581 29.8373 14.9188 29.8373Z",fill:"url(#paint0)"})})}),M.jsxs("defs",{children:[M.jsxs("radialGradient",{id:"paint0",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(21.6921 8.02215) rotate(180) scale(25.2008)",children:[M.jsx("stop",{offset:"0.00682297",stopColor:"#F2CEFE"}),M.jsx("stop",{offset:"0.1913",stopColor:"#AFBAF1"}),M.jsx("stop",{offset:"0.4982",stopColor:"#4281D3"}),M.jsx("stop",{offset:"0.666667",stopColor:"#2E427D"}),M.jsx("stop",{offset:"0.822917",stopColor:"#230101"}),M.jsx("stop",{offset:"1",stopColor:"#8F6B40"})]}),M.jsx("clipPath",{id:"clip0",children:M.jsx("rect",{width:"30",height:"30",fill:"white"})}),M.jsx("clipPath",{id:"clip1",children:M.jsx("rect",{width:"30",height:"30",fill:"white"})})]})]})};const lJ=({chainId:t,...e})=>{if(t==="solana")return M.jsx(pUe,{...e});let n=vUe[t];return M.jsx(n||NG,{...e})},gUe=({balance:t,className:e,chain:n})=>M.jsx(gb,{className:e,$state:void 0,children:M.jsx(wT,{balance:t,chain:n})}),wT=({balance:t,chain:e})=>M.jsxs(M.Fragment,{children:[M.jsxs(mUe,{children:[M.jsx(wUe,{chainId:typeof e=="object"?e.id:"solana"}),M.jsx(pr,{children:typeof e=="object"?e.name:yb(e)})]}),M.jsxs(xl,{isLoading:!1,isPulsing:!1,color:"gray",children:[M.jsx(yUe,{children:M.jsx(p3,{})}),t]})]});let mUe=ae.div.withConfig({displayName:"Container",componentId:"sc-63f80cee-0"})(["display:flex;align-items:center;"]),yUe=ae.div.withConfig({displayName:"IconContainer",componentId:"sc-63f80cee-1"})(["height:0.75rem;width:0.75rem;margin-right:0.2rem;"]),wUe=ae(lJ).withConfig({displayName:"StyledNetworkIcon",componentId:"sc-63f80cee-2"})(["height:1.25rem;width:1.25rem;display:inline-block;margin-right:0.5rem;border-radius:4px;"]);const xUe=({options:t,onSelect:e,selected:n,className:i})=>M.jsxs(nLe,{as:bUe,children:[M.jsxs(aK,{as:SUe,children:[M.jsx(wT,{balance:n.balance,chain:n.chain}),M.jsx(xT,{height:16})]}),M.jsx(oK,{as:EUe,className:i,children:t.map(((c,m)=>M.jsx(lK,{as:CUe,onClick:()=>e(m),children:M.jsx(wT,{balance:c.balance,chain:c.chain})},m)))})]});let bUe=ae.div.withConfig({displayName:"Wrapper",componentId:"sc-31c00f79-0"})(["width:100%;position:relative;"]),EUe=ae.div.withConfig({displayName:"Popover",componentId:"sc-31c00f79-1"})(["width:100%;margin-top:0.5rem;position:absolute;background-color:var(--privy-color-background);border-radius:var(--privy-border-radius-md);overflow-x:hidden;overflow-y:auto;box-shadow:0px 1px 2px 0px rgba(16,24,40,0.05);max-height:11.75rem;&&{border:solid 1px var(--privy-color-foreground-4);}z-index:1;"]),CUe=ae.button.withConfig({displayName:"Button",componentId:"sc-31c00f79-2"})(["width:100%;display:flex;justify-content:space-between;&&{padding:1rem;}:not(:last-child){border-bottom:solid 1px var(--privy-color-foreground-4);}:hover{background:var(--privy-color-background-2);}"]),xT=ae(f7).withConfig({displayName:"StyledChevronIcon",componentId:"sc-31c00f79-3"})(["height:1rem;margin-left:0.5rem;"]),SUe=ae.button.withConfig({displayName:"StyledMenuButton",componentId:"sc-31c00f79-4"})([""," span{margin-left:auto;}","{transition:rotate 100ms ease-in;}&[aria-expanded='true']{","{rotate:-180deg;}}"],KZ,xT,xT);const TUe=ae.div.withConfig({displayName:"FundingMethodContainer",componentId:"sc-eaaa12a-0"})(["display:flex;flex-direction:column;gap:12px;padding-top:24px;padding-bottom:24px;"]),_v=ae.div.withConfig({displayName:"IconContainer",componentId:"sc-eaaa12a-1"})(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;svg{border-radius:var(--privy-border-radius-sm);}"]),uJ=ae.div.withConfig({displayName:"FundingQuantityWrapper",componentId:"sc-eaaa12a-2"})(["display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:8px;"]),cJ=ae.div.withConfig({displayName:"FundingQuantity",componentId:"sc-eaaa12a-3"})(["display:flex;align-items:center;gap:4px;width:100%;padding:0 16px;border-width:1px !important;border-radius:12px;cursor:text;&:focus-within{border-color:var(--privy-color-accent);}"]),hJ=ae.input.withConfig({displayName:"FundingAmountInput",componentId:"sc-eaaa12a-5"})(["background-color:var(--privy-color-background);width:100%;&:focus{outline:none !important;border:none !important;box-shadow:none !important;}&&{font-size:26px;}"]),AUe=ae(hJ).withConfig({displayName:"FundingAmountInputLarge",componentId:"sc-eaaa12a-6"})(["&&{font-size:42px;}"]),dJ=ae.div.withConfig({displayName:"FundingCurrency",componentId:"sc-eaaa12a-8"})(["font-size:18px;"]),fJ=ae.div.withConfig({displayName:"FundingDollars",componentId:"sc-eaaa12a-9"})(["font-size:12px;color:var(--privy-color-foreground-3);height:20px;"]),PUe=ae.div.withConfig({displayName:"InfoButtonText",componentId:"sc-eaaa12a-13"})([""]),IUe=ae.a.withConfig({displayName:"InfoButtonLink",componentId:"sc-eaaa12a-14"})(["&&{color:var(--privy-color-accent);}cursor:pointer;"]),pJ=({displayName:t,errorMessage:e,configuredFundingChain:n,formattedBalance:i,fundingAmount:c,fundingCurrency:m,fundingAmountInUsd:s,options:g,selectedOption:r,isPreparing:a,isSubmitting:v,addressToFund:h,fundingWalletAddress:u,onSubmit:l,onSelect:o,onAmountChange:d,erc20ContractInfo:p})=>{let f=H.useRef(null);return M.jsxs(M.Fragment,{children:[M.jsx(Fa,{}),M.jsx(Sl,{}),M.jsx(Oc,{children:"Transfer from another network"}),M.jsxs(dd,{children:["You need more funds on the"," ",typeof n=="object"?n.name:yb(n)," ","network. Bridge from another blockchain network."]}),M.jsxs(uJ,{style:{marginTop:"2rem"},children:[M.jsxs(cJ,{onClick:()=>f.current?.focus(),children:[M.jsx(hJ,{ref:f,value:c,onChange:y=>{let w=y.target.value;if(/^[0-9.]*$/.test(w)&&w.split(".").length-1<=1){let x=/\.$/.test(w)?".":"",b=Number(w.replace(/\.$/,"")||"0");if(Number.isNaN(b))return void d("0");d(b.toString()+x)}}}),M.jsx(dJ,{children:m})]}),s&&M.jsx(fJ,{children:s})]}),M.jsxs(Ln,{style:{marginTop:"1.5rem"},children:[M.jsx(wn,{children:"From"}),M.jsx(wn,{children:OM(u)})]}),M.jsx(xUe,{selected:{chain:r.chain,balance:r.isErc20Quote?wx({amount:r.erc20Balance??0n,decimals:p?.decimals??6})+` ${p?.symbol||""}`:fo(r.balance,r.chain.nativeCurrency.symbol,3,!0)},options:g.map((({chain:y,balance:w,isErc20Quote:x,erc20Balance:b})=>({chain:y,balance:x?wx({amount:b??0n,decimals:p?.decimals??6})+` ${p?.symbol||""}`:fo(w,y.nativeCurrency.symbol,3,!0)}))),onSelect:o}),M.jsxs(Ln,{style:{marginTop:"1.5rem"},children:[M.jsx(wn,{children:"To"}),M.jsx(wn,{children:OM(h)})]}),M.jsx(gUe,{chain:n,balance:i}),M.jsx(hd,{style:{marginTop:"1rem"},children:e}),M.jsxs(px,{style:{marginTop:"1rem"},loading:v||a,disabled:a||v,onClick:l,children:["Confirm with ",t]}),M.jsx(Mo,{}),M.jsx(dn,{})]})},jA=({walletClientType:t,displayName:e,addressToFund:n,chainId:i,chainName:c,isBridging:m,isErc20Flow:s,totalPriceInNativeCurrency:g,totalPriceInUsd:r,gasPriceInNativeCurrency:a,gasPriceInUsd:v})=>{let h=Nc(t);return M.jsxs(M.Fragment,{children:[M.jsx(Fa,{}),M.jsx(T0,{centerIcon:M.jsx(iJ,{icon:h?.image_url?.md,name:t})}),M.jsx(To,{style:{marginTop:"8px",marginBottom:"12px"},title:`${m?"Bridging":"Confirming"} with ${e}`}),!m&&!s&&M.jsxs(UA,{children:[M.jsxs(Ln,{children:[M.jsx(wn,{children:"Total"}),M.jsx(pr,{children:r||g})]}),M.jsxs(Ln,{children:[M.jsx(wn,{children:"To"}),M.jsx(pr,{children:M.jsx(fs,{address:n,showCopyIcon:!1})})]}),M.jsxs(Ln,{children:[M.jsx(wn,{children:"Network"}),M.jsx(pr,{children:M.jsxs(RUe,{children:[M.jsx(lJ,{chainId:i,height:16,width:16})," ",c]})})]}),a&&M.jsxs(Ln,{children:[M.jsx(wn,{children:"Estimated fee"}),M.jsx(pr,{children:v||a})]})]}),M.jsx(LDe,{height:24}),M.jsx(dn,{})]})};let RUe=ae.div.withConfig({displayName:"NetworkColumn",componentId:"sc-5bdbf842-0"})(["display:flex;flex-direction:row;align-items:center;gap:4px;"]);const vJ={component:()=>{let t=it(),{rpcConfig:e,appId:n,closePrivyModal:i,createAnalyticsEvent:c}=et(),{navigate:m,setModalData:s,data:g}=lt(),r=it(),{wallets:a}=Dd(),[v,h]=H.useState(null),[u,l]=H.useState(null),[o,d]=H.useState([]),[p,f]=H.useState(0),[y,w]=H.useState(!1),[x,b]=H.useState(!1),[E,C]=H.useState(!1),[T,S]=H.useState(!1),[A,P]=H.useState(),[R,L]=H.useState();if(!g?.funding||g.funding.chainType!=="solana")throw Error("Invalid funding data");let{address:D,chain:$,connectedWalletAddress:F}=g.funding,[N,k]=H.useState(g.funding.amount),j=F?a.find((({address:le})=>le===F)):a[0],W=Nc(j?.walletClientType||"unknown"),G=W?.name||"wallet",[K,z]=H.useState(null);H.useEffect((()=>{(async()=>{if(!j)return;let le=await j.getEthereumProvider();z(aW({account:j.address,transport:lW(le)}).extend(V9))})().catch(console.error)}),[j]);let[X,U]=H.useState(0n),Z=lw(X);H.useEffect((()=>{let le=t.solanaRpcs[$];le?kA({rpc:le.rpc,address:D}).then((de=>U(BigInt(de)))).catch(console.error):console.warn("Unable to load solana rpc, skipping balance")}),[]);let[V,J]=H.useState(),{tokenPrice:Q}=C1("solana"),{fundingAmountInBaseUnit:ee,fundingAmountInUsd:te}=(function({amount:le,fee:de,tokenPrice:fe,isUsdc:oe}){let Ee=BigInt(Math.floor(parseFloat(le)*10**(oe?6:9))),ye=oe?Ee:Ee+de;return{fundingAmountInBaseUnit:Ee,fundingAmountInUsd:fe?zE(Ee,fe):void 0,totalPriceInUsd:fe?zE(ye,fe):void 0,totalPriceInNativeCurrency:lw(ye),feePriceInNativeCurrency:lw(de),feePriceInUsd:fe?zE(de,fe):void 0}})({amount:N,fee:0n,tokenPrice:Q,isUsdc:g.funding.isUSDC});if(H.useEffect((()=>{(async()=>{if(!K||!j)return;let le=["solana:testnet","solana:devnet"].includes($);le&&console.warn("Solana testnets are not supported for bridging");let de=_9(r.chains).filter((({testnet:Ce})=>!!Ce===le)),fe=(await oJ({chains:de,address:j.address,appId:n,rpcConfig:e})).filter((Ce=>Ce.balance>0n));if(fe.length<1)return void h(new ge(`Wallet ${ji(j.address)} does not have enough funds.`,void 0,we.INSUFFICIENT_BALANCE));fe.sort(((Ce,Ie)=>Number(Ie.balance-Ce.balance)));let oe=(await Promise.allSettled(fe.map((async Ce=>({...Ce,quote:await Rm({isTestnet:!1,input:Rp({amount:ee.toString(),user:j.address,recipient:D,destinationChainId:cT,destinationCurrency:hT,originChainId:Ce.chain.id})})}))))).filter((Ce=>Ce.status==="fulfilled")).map((Ce=>Ce.value));if(oe.length<1)return void h(new ge(`Unable to fetch quotes for bridging. Wallet ${ji(j.address)} does not have enough funds.`,void 0,we.INSUFFICIENT_BALANCE));let Ee=oe.map((({quote:Ce,balance:Ie,chain:je})=>({bridgeTx:gx(Ce),balance:Ie,chain:je,isErc20Quote:!1}))).filter((({bridgeTx:Ce})=>!!Ce));if(Ee.length>1)return void d(Ee);let ye=Ee.at(0);ye?(b(!0),J({data:ye.bridgeTx.data,to:ye.bridgeTx.to,value:ye.bridgeTx.value,chain:ye.chain})):h(new ge(`Unable to select bridge option from quotes. Wallet ${ji(j.address)} does not have enough funds.`,void 0,we.INSUFFICIENT_BALANCE))})().catch(console.error)}),[K]),H.useEffect((()=>{(async()=>{let le,de;if(!K||!j||y||E||!V)return;w(!0);let fe=vl({chain:V.chain,transport:gl(wu(V.chain,e,n))});try{le=await fe.prepareTransactionRequest({account:j.address,to:V.to,chain:V.chain,data:V.data,value:BigInt(V.value??0)})}catch(oe){console.error(oe),o.length>1&&l(oe.shortMessage??"Something went wrong")}if(le){w(!1),C(!0);try{await K.switchChain({id:V.chain.id})}catch{await K.addChain({chain:V.chain}),await K.switchChain({id:V.chain.id})}try{de=await K.sendTransaction(le)}catch(oe){console.error(oe),oe.name==="TransactionExecutionError"&&(o.length<1?h(new ge(oe.shortMessage,void 0,we.TRANSACTION_FAILURE)):l(oe.shortMessage??"Something went wrong"))}if(de)return await K.waitForTransactionReceipt({hash:de}),x?(L("pending"),void P(de)):(C(!1),S(!0),void c({eventName:wl,payload:{provider:"external",status:"success",txHash:de,address:j.address,chainId:V.chain.id,chainType:"ethereum",value:V.value?vs(BigInt(V.value),18):void 0,token:"ETH",destination:D,destinationClusterName:"mainnet-beta",destinationChainType:"solana",destinationValue:vs(ee,9),destinationToken:"SOL"}}));C(!1)}else w(!1)})().catch(console.error)}),[K,V]),LA({transactionHash:A,isTestnet:!1,bridgingStatus:R,setBridgingStatus:L,onSuccess({transactionHash:le}){b(!1),S(!0),c({eventName:wl,payload:{provider:"external",status:"success",txHash:le,address:j?.address,chainId:V?.chain.id,chainType:"ethereum",value:V?.value?vs(BigInt(V.value),18):void 0,token:"ETH",destination:D,destinationClusterName:"mainnet-beta",destinationChainType:"solana",destinationValue:vs(ee,9),destinationToken:"SOL"}})},onFailure({error:le}){b(!1),h(le)}}),H.useEffect((()=>{v&&(s({funding:g?.funding,solanaFundingData:g?.solanaFundingData,sendTransaction:g?.sendTransaction,errorModalData:{error:v,previousScreen:P1}}),m(Xn,!1))}),[v]),H.useEffect((()=>{if(!T)return;let le=setTimeout(i,hA);return()=>clearTimeout(le)}),[T]),T)return M.jsxs(M.Fragment,{children:[M.jsx(Fa,{}),M.jsx(Sl,{}),M.jsxs(nb,{children:[M.jsx(v3,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),M.jsx(To,{title:"Success!",description:`Youve successfully added ${N} SOL to your ${r.name} wallet. It may take a minute before the funds are available to use.`})]}),M.jsx(Mo,{}),M.jsx(dn,{})]});let ie=o[p];return o.length>1&&ie?M.jsx(pJ,{displayName:G,configuredFundingChain:$,formattedBalance:Z,fundingAmount:N,fundingCurrency:"SOL",fundingAmountInUsd:te,options:o,selectedOption:ie,isPreparing:y,isSubmitting:E,addressToFund:D,fundingWalletAddress:j?.address||"",errorMessage:u,onSubmit:()=>{g.funding?.amount!==N?(async function(){if(j&&ie)try{let le=await Rm({isTestnet:!1,input:Rp({amount:ee.toString(),user:j.address,recipient:D,destinationChainId:cT,destinationCurrency:hT,originChainId:ie.chain.id})}),de=gx(le);if(!de)throw Error("Invalid transaction request");b(!0),J({data:de.data,to:de.to,value:de.value,chain:ie.chain})}catch(le){console.error(le),h(new ge("Unable to fetch quotes for bridging",le,we.INSUFFICIENT_BALANCE))}})().catch(console.error):J({to:ie.bridgeTx.to,data:ie.bridgeTx.data,value:ie.bridgeTx.value,chain:ie.chain})},onSelect:le=>{le!==p&&(l(null),f(le))},onAmountChange:k}):E&&j?M.jsx(jA,{walletClientType:j?.walletClientType||"unknown",displayName:G,addressToFund:D,isBridging:x,isErc20Flow:!1,chainId:"solana",chainName:yb($),totalPriceInUsd:void 0,totalPriceInNativeCurrency:void 0,gasPriceInUsd:void 0,gasPriceInNativeCurrency:void 0}):M.jsxs(M.Fragment,{children:[M.jsx(Fa,{}),M.jsx(T0,{}),M.jsx("div",{style:{marginTop:"1rem"}}),M.jsx(dn,{})]})}},gJ={component:()=>{let{rpcConfig:t,appId:e,closePrivyModal:n,createAnalyticsEvent:i}=et(),{navigate:c,setModalData:m,data:s}=lt(),g=it(),{wallets:r}=Dd(),[a,v]=H.useState(!1),[h,u]=H.useState(0n),[l,o]=H.useState(!1),[d,p]=H.useState(null),[f,y]=H.useState(null),[w,x]=H.useState([]),[b,E]=H.useState(0),[C,T]=H.useState(!1),[S,A]=H.useState(!1),[P,R]=H.useState(!1),[L,D]=H.useState(!1),[$,F]=H.useState(),[N,k]=H.useState();if(!s?.funding||s.funding.chainType!=="ethereum")throw Error("Invalid funding data");let{erc20ContractInfo:j,chain:W,connectedWalletAddress:G}=s.funding,K=s.funding.address,z=s.funding.erc20Address,[X,U]=H.useState(s.funding.amount);H.useEffect((()=>{z&&!j&&p(Error("Unable to fetch token details"))}),[]);let Z=!!z&&!!j,V=Z?BigInt(parseFloat(X)*10**j.decimals):mz(X),J=G?r.find((({address:Ge})=>Ge===G)):r[0],Q=Nc(J?.walletClientType||"unknown"),ee=Q?.name||"wallet",[te,ie]=H.useState(null);H.useEffect((()=>{(async()=>{if(!J)return;let Ge=await J.getEthereumProvider();ie(aW({account:J.address,transport:lW(Ge)}).extend(V9))})().catch(console.error)}),[J]);let[le,de]=H.useState(0n);H.useEffect((()=>{vl({chain:W,transport:gl(wu(W,t,e))}).getBalance({address:K}).then(de).catch(console.error)}),[]);let[fe,oe]=H.useState(0n);H.useEffect((()=>{Z&&BA({chain:W,address:K,appId:e,rpcConfig:t,erc20Address:z}).then((Ge=>oe(Ge.balance))).catch(console.error)}),[]);let{tokenPrice:Ee}=C1(W.id),[ye,Ce]=H.useState({to:K,chain:W,value:V,data:void 0});H.useEffect((()=>{(async()=>{let Ge,nt;if(!te||!J||C||P)return;T(!0);let St=vl({chain:ye.chain,transport:gl(wu(ye.chain,t,e))});if(Z&&!ye.data)return await St.simulateContract({address:z,chain:ye.chain,abi:gT,functionName:"transfer",args:[K,V],account:J.address}).catch((Je=>{console.warn("Simulated token transfer failed with error, fetching bridge options.",Je)}))?(T(!1),void Ce({to:z,chain:ye.chain,data:Es({abi:gT,functionName:"transfer",args:[K,V]}),value:"0x0"})):(T(!1),void o(!0));try{Ge=await St.prepareTransactionRequest({account:J.address,to:ye.to,chain:ye.chain,data:ye.data,value:BigInt(ye.value??0)})}catch(Je){if(console.error(Je),w.length>1)y(Je.shortMessage??"Something went wrong");else if(S&&w.length===0)return void p(new ge(`Wallet ${ji(J.address)} does not have enough funds.`,void 0,we.INSUFFICIENT_BALANCE))}if(!Ge)return T(!1),void o(!0);T(!1),R(!0),v(!0),u(Ge.gas);try{await te.switchChain({id:ye.chain.id})}catch{await te.addChain({chain:ye.chain}),await te.switchChain({id:ye.chain.id})}try{nt=await te.sendTransaction(Ge)}catch(Je){if(console.error(Je),Je.name==="TransactionExecutionError")if(w.length<1){let He=Je.shortMessage;(Je.shortMessage.includes("rejected the request")||Je.details.includes("rejected the request"))&&(He="User rejected the request."),p(new ge(He,void 0,we.TRANSACTION_FAILURE))}else y(Je.shortMessage??"Something went wrong")}if(nt)return await te.waitForTransactionReceipt({hash:nt}),R(!1),S?(F(nt),void k("pending")):(D(!0),void i({eventName:wl,payload:{provider:"external",status:"success",txHash:nt,address:J.address,chainId:ye.chain.id,chainType:"ethereum",value:ye.value?vs(BigInt(ye.value),j?.decimals??18):void 0,token:j?.symbol??z??"ETH",destinationAddress:K,destinationChainId:W.id,destinationChainType:"ethereum",destinationValue:V?vs(V,j?.decimals??18):void 0,destinationToken:j?.symbol??z??W.nativeCurrency.name}}));R(!1)})().catch(console.error)}),[te,ye]),H.useEffect((()=>{(async()=>{if(!l||!te||!J)return;let Ge=_9(g.chains).filter((ut=>ut.id!==W.id&&!!ut.testnet==!!W.testnet));Z&&Ge.unshift(W);let nt=await oJ({chains:Ge,address:J.address,appId:e,rpcConfig:t,includeUsdc:s.funding?.isUSDC}),St=Z?nt.filter((ut=>ut.balance>0n)):nt.filter((ut=>ut.balance>V)),Je=Z&&nt.every((ut=>ut.balance===0n));if(St.length<1)return void p(new ge(Je?`Wallet ${ji(J.address)} doesn't have enough funds to cover gas fees. Top up your wallet and try again.`:`Wallet ${ji(J.address)} does not have enough funds.`,void 0,we.INSUFFICIENT_BALANCE));St.sort(((ut,xt)=>Number(Z?(xt.erc20Balance??0n)-(ut.erc20Balance??0n):xt.balance-ut.balance)));let He=St.flatMap((ut=>{let xt=[{...ut,isErc20Quote:!1,isTestnet:!!W.testnet,input:Rp({amount:V.toString(),user:J.address,recipient:K,destinationChainId:W.id,destinationCurrency:z,originChainId:ut.chain.id})}];return Z&&z&&(ut.erc20Balance??0n)>=V&&xt.push({...ut,isErc20Quote:!0,isTestnet:!!W.testnet,input:Rp({amount:V.toString(),user:J.address,recipient:K,destinationChainId:W.id,destinationCurrency:z,originChainId:ut.chain.id,originCurrency:ut.erc20Address})}),xt})),_e=(await Promise.allSettled(He.map((async ut=>({...ut,quote:await Rm(ut)}))))).filter((ut=>ut.status==="fulfilled")).map((ut=>ut.value));if(_e.length<1)return void p(new ge(`Wallet ${ji(J.address)} does not have enough funds.`,void 0,we.INSUFFICIENT_BALANCE));let ht=_e.map((ut=>({bridgeTx:gx(ut.quote),balance:ut.balance,chain:ut.chain,erc20Balance:ut.erc20Balance,isErc20Quote:ut.isErc20Quote}))).filter((ut=>!!ut.bridgeTx));if(ht.length>1)return void x(ht);let Dt=ht[0];Dt?(A(!0),Ce({data:Dt.bridgeTx.data,to:Dt.bridgeTx.to,value:Dt.bridgeTx.value,chain:Dt.chain})):p(new ge(`Wallet ${ji(J.address)} does not have enough funds.`,void 0,we.INSUFFICIENT_BALANCE))})().catch(console.error)}),[l]),LA({transactionHash:$,isTestnet:!!W.testnet,bridgingStatus:N,setBridgingStatus:k,onSuccess({transactionHash:Ge}){A(!1),D(!0),i({eventName:wl,payload:{provider:"external",status:"success",txHash:Ge,address:J?.address,chainId:ye.chain.id,chainType:"ethereum",value:ye.value?vs(BigInt(ye.value),j?.decimals??18):void 0,token:j?.symbol??z??"ETH",destinationAddress:K,destinationChainId:W.id,destinationChainType:"ethereum",destinationValue:V?vs(V,j?.decimals??18):void 0,destinationToken:j?.symbol??z??W.nativeCurrency.name}})},onFailure({error:Ge}){A(!1),p(Ge)}}),H.useEffect((()=>{d&&(m({funding:s?.funding,solanaFundingData:s?.solanaFundingData,sendTransaction:s?.sendTransaction,errorModalData:{error:d,previousScreen:P1}}),c(Xn,!1))}),[d]);let Ie=!Z&&Ee?qK(X??"0",Ee):void 0,je=Z?h:CA([h,V]),Re=je&&Ee?Vh(je,Ee):void 0,Fe=je?fo(je,s?.funding?.erc20Address?s?.funding?.erc20ContractInfo?.symbol||"ETH":s?.funding?.chain.nativeCurrency.symbol||"ETH"):void 0,Ae=h&&Ee?Vh(h,Ee):void 0,Xe=h?fo(h,W?.nativeCurrency?.symbol||"ETH"):void 0;if(H.useEffect((()=>{if(!L)return;let Ge=setTimeout(n,hA);return()=>clearTimeout(Ge)}),[L]),L)return M.jsxs(M.Fragment,{children:[M.jsx(Fa,{}),M.jsx(Sl,{}),M.jsxs(nb,{children:[M.jsx(v3,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),M.jsx(To,{title:"Success!",description:`Youve successfully added ${X} ${Z?j.symbol:W.nativeCurrency.symbol} to your ${g.name} wallet. It may take a minute before the funds are available to use.`})]}),M.jsx(Mo,{}),M.jsx(dn,{})]});let st=Z?`${wx({amount:fe,decimals:j.decimals})}  ${j.symbol}`:fo(le,W.nativeCurrency.symbol,3,!0),vt=w[b];return w.length>1&&vt?M.jsx(pJ,{displayName:ee,configuredFundingChain:W,erc20ContractInfo:j,formattedBalance:st,fundingAmount:X,fundingCurrency:Z?j.symbol:W.nativeCurrency.symbol,fundingAmountInUsd:Ie,options:w,selectedOption:vt,isPreparing:C,isSubmitting:P,addressToFund:K,fundingWalletAddress:J?.address||"",errorMessage:f,onSubmit:()=>{s.funding?.amount!==X?(async function(){if(J&&vt)try{let Ge=await Rm({isTestnet:!!W.testnet,input:Rp({amount:V.toString(),user:J.address,recipient:K,destinationChainId:W.id,destinationCurrency:z,originChainId:vt.chain.id})}),nt=gx(Ge);if(!nt)throw Error("Invalid transaction request");A(!0),Ce({data:nt.data,to:nt.to,value:nt.value,chain:vt.chain})}catch(Ge){console.error(Ge),p(new ge("Unable to fetch quotes for bridging",Ge,we.INSUFFICIENT_BALANCE))}})().catch(console.error):Ce({to:vt.bridgeTx.to,data:vt.bridgeTx.data,value:vt.bridgeTx.value,chain:vt.chain})},onSelect:Ge=>{Ge!==b&&(y(null),E(Ge))},onAmountChange:U}):a&&h&&J&&s?.funding?M.jsx(jA,{walletClientType:J?.walletClientType||"unknown",displayName:ee,addressToFund:K,isBridging:S,isErc20Flow:Z,totalPriceInUsd:Re,totalPriceInNativeCurrency:Fe,gasPriceInUsd:Ae,gasPriceInNativeCurrency:Xe,chainId:W.id,chainName:W.name}):M.jsxs(M.Fragment,{children:[M.jsx(Fa,{}),M.jsx(T0,{}),M.jsx("div",{style:{marginTop:"1rem"}}),M.jsx(dn,{})]})}},bT=Symbol("solana-funding-plugin"),mJ={component:function(){let t=it(),{closePrivyModal:e,createAnalyticsEvent:n,connectors:i}=et(),{navigate:c,setModalData:m,data:s}=lt(),g=it(),r=H.useRef(!1),a=DA(),[v,h]=H.useState(!1),[u,l]=H.useState(!1),[o,d]=H.useState(null),[p,f]=H.useState(),[y,w]=H.useState();if(!s?.funding||s.funding.chainType!=="ethereum")throw Error("Invalid funding data");let{amount:x,connectedWalletAddress:b,chain:E,solanaChain:C,isUSDC:T}=s.funding,S=s.funding.address,A=s.funding.erc20Address,P=s.funding.isUSDC?"USDC":E.nativeCurrency.symbol,R=H.useMemo((()=>(function({connectors:F,connectedWalletAddress:N}){let k=F.find((W=>W.chainType==="solana"&&W.wallets.some((G=>G.address===N)))),j=k?.wallet.accounts.find((W=>W.address===N));if(!k||!j)throw new ge("Unable to find source wallet connector");return new OW({wallet:k.wallet,account:j})})({connectors:i,connectedWalletAddress:b||""})),[i,b]),L=H.useMemo((()=>{let F=a(bT);if(!F)throw new ge("Unable to load solana plugin");let N=t.solanaRpcs["solana:mainnet"];if(!N)throw new ge("Unable to load mainnet RPC");return F.getSolanaRpcClient({rpc:N.rpc,rpcSubscriptions:N.rpcSubscriptions,chain:"solana:mainnet",blockExplorerUrl:N.blockExplorerUrl??"https://explorer.solana.com"})}),[]),D=Nc(sT(R?.standardWallet.name||"unknown")),$=D?.name||"wallet";return H.useEffect((()=>{(async function(){if(!R||!E||r.current)return;let F=a(bT);if(!F)return void d(new ge("Unable to solana plugin"));r.current=!0,E?.testnet&&console.warn("Solana testnets are not supported for bridging");let N=T?1e6*parseFloat(x):mz(x),k=await Rm({isTestnet:!!E.testnet,input:Rp({amount:N.toString(),user:R.address,recipient:S,destinationChainId:E.id,originChainId:cT,originCurrency:T?"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v":hT,destinationCurrency:T?A:void 0})}).catch(console.error);if(!k)return void d(new ge(`Unable to fetch quotes for bridging. Wallet ${kE(R.address)} does not have enough funds.`,void 0,we.INSUFFICIENT_BALANCE));let j=await F.createTransactionFromRelayQuote({quote:k,source:R.address,solanaClient:L});if(j)try{h(!0);let W=await F.simulateTransaction({solanaClient:L,tx:j});if(W.hasError)return W.hasFunds?(console.error("Transaction failed:",W.error),void d(new ge("Something went wrong",void 0,we.TRANSACTION_FAILURE))):void d(new ge(`Wallet ${kE(R?.address)} does not have enough funds. ${k.details.currencyIn.amountFormatted} ${P} are needed to complete the transaction.`,void 0,we.INSUFFICIENT_BALANCE));let{signature:G}=await R.signAndSendTransaction({chain:"solana:mainnet",transaction:j}),K=F.getAddressFromBuffer(G);f(K),w("pending")}catch(W){if(console.error(W),/user rejected the request/gi.test(W.message||""))return void d(new ge("Transaction was rejected by the user",void 0,we.TRANSACTION_FAILURE));d(new ge("Something went wrong",void 0,we.TRANSACTION_FAILURE))}else d(new ge(`Unable to select bridge option from quotes. Wallet ${kE(R.address)} does not have enough funds.`,void 0,we.INSUFFICIENT_BALANCE))})().catch(console.error)}),[]),LA({transactionHash:p,isTestnet:!1,bridgingStatus:y,setBridgingStatus:w,onSuccess({transactionHash:F}){h(!1),l(!0),n({eventName:wl,payload:{provider:"external",status:"success",txHash:F,address:R.address,chainType:"solana",clusterName:C,token:"SOL",destinationAddress:S,destinationChainId:E.id,destinationChainType:"ethereum",destinationValue:x,destinationToken:T?"USDC":"ETH"}})},onFailure({error:F}){h(!1),d(F)}}),H.useEffect((()=>{if(!u)return;let F=setTimeout(e,hA);return()=>clearTimeout(F)}),[u]),H.useEffect((()=>{o&&(m({funding:s?.funding,solanaFundingData:s?.solanaFundingData,sendTransaction:s?.sendTransaction,errorModalData:{error:o,previousScreen:P1}}),c(Xn,!1))}),[o]),u?M.jsxs(M.Fragment,{children:[M.jsx(Fa,{}),M.jsx(Sl,{}),M.jsxs(nb,{children:[M.jsx(v3,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),M.jsx(To,{title:"Success!",description:`Youve successfully added ${x} ${P} to your ${g.name} wallet. It may take a minute before the funds are available to use.`})]}),M.jsx(Mo,{}),M.jsx(dn,{})]}):v&&R?M.jsx(jA,{walletClientType:sT(R?.standardWallet.name||"unknown"),displayName:$,addressToFund:S,isBridging:v,isErc20Flow:!1,chainId:E.id,chainName:E.name,totalPriceInUsd:void 0,totalPriceInNativeCurrency:void 0,gasPriceInUsd:void 0,gasPriceInNativeCurrency:void 0}):M.jsxs(M.Fragment,{children:[M.jsx(Fa,{}),M.jsx(T0,{}),M.jsx("div",{style:{marginTop:"1rem"}}),M.jsx(dn,{})]})}},vk={component:()=>{let{data:t,setModalData:e}=lt(),n=t?.funding,i=n.chainType==="solana",c=H.useRef(null),{tokenPrice:m}=C1(i?"solana":n.chain.id),s=i?void 0:n,g=!(!s?.erc20Address||s?.erc20ContractInfo),r=i?n.isUSDC?"USDC":"SOL":n.erc20Address?n.erc20ContractInfo?.symbol:n.chain.nativeCurrency.symbol||"ETH",a=parseFloat(n.amount),v=!isNaN(a)&&a>0,h=m?qK(n.amount,m):void 0;return M.jsxs(M.Fragment,{children:[M.jsx(Fa,{}),M.jsx(Oc,{children:"Confirm or edit amount"}),M.jsxs(rb,{style:{marginTop:"32px"},children:[M.jsx(uJ,{children:g?M.jsx(T0,{size:"50px"}):M.jsxs(M.Fragment,{children:[M.jsxs(cJ,{onClick:()=>c.current?.focus(),children:[M.jsx(AUe,{ref:c,value:n.amount,onChange:u=>{let l=u.target.value;/^[0-9.]*$/.test(l)&&l.split(".").length-1<=1&&e({...t,funding:{...n,amount:l},solanaFundingData:t?.solanaFundingData?{...t.solanaFundingData,amount:l}:void 0})}}),M.jsx(dJ,{children:r})]}),!s?.erc20Address&&M.jsx(fJ,{children:h&&v?`${h} USD`:""})]})}),M.jsx(px,{style:{marginTop:"1rem"},disabled:!v,onClick:n.onContinueWithExternalWallet,children:"Continue"})]}),M.jsx(dn,{})]})}},P1={component:()=>{let t,{connectors:e}=et(),{setModalData:n,data:i,navigate:c}=lt(),m=it(),{wallets:s}=Dd(),g=e.filter(Q3).flatMap((b=>b.wallets)),[r,a]=H.useState("default"),v=i?.funding?.chainType==="solana",h=!!i?.funding?.crossChainBridgingEnabled;t=i?.funding?.chainType==="ethereum"?i.funding.erc20Address&&!i.funding.isUSDC?"ethereum-only":h&&!i.funding.chain.testnet?"ethereum-and-solana":"ethereum-only":h&&!i.funding?.isUSDC?"ethereum-and-solana":"solana-only";let u=s.filter((b=>b.walletClientType!=="privy")),l=u.map((b=>b.walletClientType)),o=g.filter((b=>b.walletClientType!=="privy")),d=o.map((b=>b.walletClientType)),p=[],f={...i.funding};f.usingDefaultFundingMethod&&(f.usingDefaultFundingMethod=!1);let y=({address:b,walletChainType:E,walletClientType:C})=>{n({...i,funding:{...f,connectedWalletAddress:b,onContinueWithExternalWallet:()=>c(x({destChainType:v?"solana":"ethereum",sourceChainType:E}))},solanaFundingData:i?.solanaFundingData?{...i.solanaFundingData,sourceWalletData:{address:b,walletClientType:C}}:void 0}),c(vk)};t!=="solana-only"&&p.push(...u.map(((b,E)=>M.jsx(gk,{onClick:()=>y({address:b.address,walletChainType:"ethereum",walletClientType:b.walletClientType}),icon:b.meta.icon,name:b.meta.name,chainType:b.type},E)))),t!=="ethereum-only"&&p.push(...o.map(((b,E)=>M.jsx(gk,{onClick:()=>y({address:b.address,walletChainType:"solana",walletClientType:b.walletClientType}),icon:b.meta.icon,name:b.meta.name,chainType:b.type},E)))),p.push(...aJ({walletList:m.appearance.walletList.filter((b=>!u.some((E=>E.walletClientType===b))&&!o.some((E=>E.walletClientType===b)))),walletChainType:t,connectors:e,connectOnly:!0,ignore:[...m.appearance.walletList,...l,...d],walletConnectEnabled:m.externalWallets.walletConnect.enabled}));let w=M.jsx(rJ,{text:"More wallets",onClick:()=>a("overflow")}),x=({sourceChainType:b,destChainType:E})=>b==="ethereum"&&E==="solana"?vJ:b==="ethereum"&&E==="ethereum"?gJ:b==="solana"&&E==="ethereum"?mJ:f.externalSolanaFundingScreen;return H.useEffect((()=>{n({...i,externalConnectWallet:{onCompleteNavigateTo:({address:b,walletClientType:E,walletChainType:C})=>(n({...i,funding:{...f,connectedWalletAddress:b,onContinueWithExternalWallet:()=>{c(x({destChainType:v?"solana":"ethereum",sourceChainType:C??"ethereum"}))}},solanaFundingData:i?.solanaFundingData?{...i.solanaFundingData,sourceWalletData:{address:b||"",walletClientType:E||""}}:void 0}),vk)}})}),[]),M.jsxs(M.Fragment,r==="overflow"?{children:[M.jsx(Vt,{backFn:()=>a("default")},"header"),M.jsxs(aT,{children:[M.jsx(dd,{style:{color:"var(--privy-color-foreground-3)",textAlign:"left"},children:"More wallets"}),p]}),M.jsx(dn,{})]}:{children:[M.jsx(Fa,{}),M.jsx(To,{title:"Transfer from wallet",description:"Connect a wallet to deposit funds or send funds manually to your wallet address."}),M.jsxs(aT,{children:[p.length>4?p.slice(0,3):p,p.length>4&&w]}),M.jsx(dn,{})]})}};let gk=({onClick:t,icon:e,name:n,chainType:i})=>M.jsxs(_n,{onClick:t,children:[M.jsx(_v,{style:{width:20},children:M.jsx("img",{src:e})}),n,M.jsx(xl,{color:"gray",style:{marginLeft:"auto"},children:"Connected"}),i==="solana"&&M.jsx(xl,{color:"gray",children:"Solana"})]});const OUe={component:()=>{let{data:t,setModalData:e,navigate:n,navigateBack:i}=lt(),{closePrivyModal:c,createAnalyticsEvent:m,client:s}=et(),[g,r]=H.useState("pending-in-flow"),a=H.useRef(0),v={...t?.funding,showAlternateFundingMethod:!0};v.usingDefaultFundingMethod&&(v.usingDefaultFundingMethod=!1);let{partnerUserId:h,popup:u}=t?.coinbaseOnrampStatus??{};return H.useEffect((()=>{if(g==="pending-in-flow"||g==="pending-after-flow"){let l=setInterval((async()=>{if(h)try{let{status:o}=await s.getCoinbaseOnRampStatus({partnerUserId:h});if(o==="success")return void r("success");if(o==="failure")throw Error("There was an error completing Coinbase Onramp flow.");if(a.current>=3)return e({funding:v,solanaFundingData:t?.solanaFundingData}),void n(Pa);u?.closed&&(a.current=a.current+1,r("pending-after-flow"))}catch(o){console.error(o),r("error"),m({eventName:wl,payload:{status:"failure",provider:"coinbase-onramp",error:o.message}}),e({funding:{...v,errorMessage:"Something went wrong adding funds. Please try again or use another method."},solanaFundingData:t?.solanaFundingData}),n(Pa)}}),1500);return()=>clearInterval(l)}}),[h,u,g]),M.jsxs(M.Fragment,{children:[M.jsx(Vt,{title:"Fund account",backFn:()=>{e({funding:v,solanaFundingData:t?.solanaFundingData}),i()}},"header"),M.jsx(MUe,{status:g,onClickCta:c}),M.jsx(dn,{})]})}};let MUe=({status:t,onClickCta:e})=>{let{title:n,body:i,cta:c}=H.useMemo((()=>(m=>{switch(m){case"success":return{title:"You've funded your account!",body:"It may take a few minutes for the assets to appear.",cta:"Continue"};case"pending-after-flow":return{title:"In Progress",body:"Almost done. Retrieving transaction status from Coinbase",cta:""};case"error":case"pending-in-flow":return{title:"In Progress",body:"Go back to Coinbase Onramp to finish funding your account.",cta:""}}})(t)),[t]);return M.jsxs(M.Fragment,{children:[M.jsxs(LUe,{children:[M.jsx($Ue,{isSucccess:t==="success"}),M.jsxs(SA,{children:[M.jsx("h3",{children:n}),M.jsx(FUe,{children:i})]})]}),c&&M.jsx(Cn,{onClick:e,children:c})]})},$Ue=({isSucccess:t})=>{if(!t){let i="var(--privy-color-foreground-4)";return M.jsxs("div",{style:{position:"relative"},children:[M.jsx($a,{color:i,style:{position:"absolute"}}),M.jsx(bA,{color:i}),M.jsx(vLe,{style:{position:"absolute",width:"2.8rem",height:"2.8rem",top:"1.2rem",left:"1.2rem"}})]})}let e=(i=>i?pm:()=>M.jsx(X7,{width:"3rem",height:"3rem",style:{backgroundColor:"var(--privy-color-foreground-4)",color:"var(--privy-color-background)",borderRadius:"100%",padding:"0.5rem",margin:"0.5rem"}}))(t),n=(i=>i?"var(--privy-color-success)":"var(--privy-color-foreground-4)")(t);return M.jsx("div",{style:{borderColor:n,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100%",borderWidth:2,padding:"0.5rem",marginBottom:"0.5rem"},children:e&&M.jsx(e,{width:"4rem",height:"4rem",color:n})})},FUe=ae.p.withConfig({displayName:"StatusBody",componentId:"sc-8428a551-0"})(["font-size:1rem;color:var(--privy-color-foreground-3);margin-bottom:1rem;display:flex;flex-direction:column;gap:1rem;"]),LUe=ae.div.withConfig({displayName:"ConnectContainer",componentId:"sc-8428a551-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:1.75rem;margin-right:1.75rem;padding:2rem 0;"]),DUe={[Na.id]:"ethereum",[Ro.id]:"base",[Eu.id]:"optimism",[ka.id]:"polygon",[Po.id]:"arbitrum",[Io.id]:"avacchain"};const mk=(t,e,n,i,c,m)=>new Promise((async(s,g)=>{let r=sb();if(!r)return void g(Error("Unable to initialize flow"));let a=e.chainType==="ethereum"?(function(o){let d=DUe[o];if(!d)throw new ge(`Unsupported chainId: ${o} for Coinbase Onramp`);return d})(e.chain.id):"solana",v=e.isUSDC?"USDC":e.chainType==="ethereum"?Spe(e.chain.id):"SOL",h=await t.initCoinbaseOnRamp({addresses:[{address:e.address,blockchains:[a]}],assets:[v]}),{url:u}=Epe({appId:t.getAppId(),input:h,amount:e.amount,blockchain:a,asset:v,experience:m});r.location=u.toString();let l={...c?.funding,showAlternateFundingMethod:!0};e.usingDefaultFundingMethod&&(l.usingDefaultFundingMethod=!1),n({funding:l,solanaFundingData:c?.solanaFundingData,coinbaseOnrampStatus:{popup:r}}),i(OUe),t.createAnalyticsEvent({eventName:"sdk_fiat_on_ramp_started",payload:{provider:"coinbase-onramp",value:e.amount,chainType:e.chainType,chainId:e.chainType==="ethereum"?e.chain.id:e.chain}}),setTimeout((()=>{n({funding:l,solanaFundingData:c?.solanaFundingData,coinbaseOnrampStatus:{partnerUserId:h.partner_user_id,popup:r}})}),5e3),s()})),yk="moonpay";function NUe(t){return parseFloat(t)}function kUe(t,e=!1){let[n,i]=H.useState(null),{createAnalyticsEvent:c}=et(),{data:m,navigate:s,setModalData:g}=lt(),r=m?.funding,a=H.useRef(0);return H.useEffect((()=>{let v=setInterval((async()=>{if(t)try{let[h]=await(async function(l,o){return NW(`https://api.moonpay.com/v1/transactions/ext/${l}`,{query:{apiKey:o?"pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI":"pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL"}})})(t,e),u=h.status==="waitingAuthorization"&&h.paymentMethod==="credit_debit_card"?"pending":h.status;if(["failed","completed","awaitingAuthorization"].includes(u)&&(c({eventName:wl,payload:{status:u,provider:yk,paymentMethod:h.paymentMethod,cardPaymentType:h.cardPaymentType,currency:h.currency?.code,baseCurrencyAmount:h.baseCurrencyAmount,quoteCurrencyAmount:h.quoteCurrencyAmount,feeAmount:h.feeAmount,extraFeeAmount:h.extraFeeAmount,networkFeeAmount:h.networkFeeAmount,isSandbox:e}}),clearInterval(v)),u==="failed"||u==="serviceFailure")return g({funding:{...r,errorMessage:"Something went wrong adding funds from Moonpay. Please try again or use another method to fund your wallet."},solanaFundingData:m?.solanaFundingData}),void s(Pa);i(u)}catch(h){h.response?.status!==404&&(a.current+=1),a.current>=3&&(c({eventName:wl,payload:{status:"serviceFailure",provider:yk}}),clearInterval(v),g({funding:{...r,errorMessage:"Something went wrong adding funds from Moonpay. Please try again or use another method to fund your wallet."},solanaFundingData:m?.solanaFundingData}),s(Pa))}}),3e3);return()=>clearInterval(v)}),[t,a]),n}const BUe=({size:t=61,...e})=>M.jsx("svg",{width:t,height:t,viewBox:"0 0 61 61",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:M.jsxs("g",{id:"moonpay_symbol_wht 2",children:[M.jsx("rect",{x:"1.3374",y:"1",width:"59",height:"59",rx:"11.5",fill:"#7715F5"}),M.jsx("path",{id:"Vector",d:"M43.8884 23.3258C45.0203 23.3258 46.1268 22.9901 47.068 22.3613C48.0091 21.7324 48.7427 20.8386 49.1759 19.7928C49.6091 18.747 49.7224 17.5962 49.5016 16.4861C49.2807 15.3759 48.7357 14.3561 47.9353 13.5557C47.1349 12.7553 46.1151 12.2102 45.0049 11.9893C43.8947 11.7685 42.7439 11.8819 41.6982 12.3151C40.6524 12.7482 39.7585 13.4818 39.1297 14.423C38.5008 15.3641 38.1651 16.4707 38.1651 17.6026C38.165 18.3542 38.3131 19.0985 38.6007 19.7929C38.8883 20.4873 39.3098 21.1182 39.8413 21.6496C40.3728 22.1811 41.0037 22.6027 41.6981 22.8903C42.3925 23.1778 43.1367 23.3259 43.8884 23.3258ZM26.3395 49.1017C23.5804 49.1017 20.8832 48.2836 18.5891 46.7507C16.295 45.2178 14.5069 43.039 13.4511 40.49C12.3952 37.9409 12.1189 35.1359 12.6572 32.4298C13.1955 29.7237 14.5241 27.238 16.4751 25.287C18.4262 23.336 20.9118 22.0074 23.6179 21.4691C26.324 20.9308 29.129 21.2071 31.6781 22.2629C34.2272 23.3189 36.406 25.1069 37.9389 27.401C39.4717 29.6952 40.2899 32.3923 40.2899 35.1514C40.2899 36.9835 39.9291 38.7975 39.2281 40.49C38.527 42.1826 37.4994 43.7205 36.204 45.0159C34.9086 46.3113 33.3707 47.3389 31.6781 48.04C29.9856 48.741 28.1715 49.1018 26.3395 49.1017Z",fill:"white"})]})}),yJ={component:()=>{let{data:t,setModalData:e,navigateBack:n}=lt(),i=it(),{closePrivyModal:c}=et(),{externalTransactionId:m}=t?.moonpayStatus,s=kUe(m||null,i.fundingMethodConfig.moonpay.useSandbox??!1);return M.jsxs(M.Fragment,{children:[M.jsx(Vt,{title:"Fund account",backFn:()=>{let g={...t?.funding,showAlternateFundingMethod:!0};g.usingDefaultFundingMethod&&(g.usingDefaultFundingMethod=!1),e({funding:g,solanaFundingData:t?.solanaFundingData}),n()}}),M.jsx(UUe,{status:s,onClickCta:c}),M.jsx(dn,{})]})}};let UUe=({status:t,onClickCta:e})=>{let{title:n,body:i,cta:c}=H.useMemo((()=>(m=>{switch(m){case"completed":return{title:"You've funded your account!",body:"It may take a few minutes for the assets to appear.",cta:"Continue"};case"waitingAuthorization":return{title:"Processing payment",body:"This may take up to a few hours. You will receive an email when the purchase is complete.",cta:"Continue"};default:return{title:"In Progress",body:"Go back to MoonPay to finish funding your account.",cta:""}}})(t)),[t]);return M.jsxs(M.Fragment,{children:[M.jsxs(WUe,{children:[M.jsx(jUe,{status:t}),M.jsxs(SA,{children:[M.jsx("h3",{children:n}),M.jsx(zUe,{children:i})]})]}),c&&M.jsx(Cn,{onClick:e,children:c})]})},jUe=({status:t})=>{if(!t||t==="pending"){let i="var(--privy-color-foreground-4)";return M.jsxs("div",{style:{position:"relative"},children:[M.jsx($a,{color:i,style:{position:"absolute"}}),M.jsx(bA,{color:i}),M.jsx(BUe,{size:"3rem",style:{position:"absolute",top:"1rem",left:"1rem"}})]})}let e=(i=>{switch(i){case"completed":return pm;case"waitingAuthorization":return()=>M.jsx(X7,{width:"3rem",height:"3rem",style:{backgroundColor:"var(--privy-color-foreground-4)",color:"var(--privy-color-background)",borderRadius:"100%",padding:"0.5rem",margin:"0.5rem"}});default:return}})(t),n=(i=>i?{completed:"var(--privy-color-success)",failed:"var(--privy-color-error)",serviceFailure:"var(--privy-color-error)",waitingAuthorization:"var(--privy-color-accent)",pending:"var(--privy-color-foreground-4)"}[i]:"var(--privy-color-foreground-4)")(t);return M.jsx("div",{style:{borderColor:n,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100%",borderWidth:2,padding:"0.5rem",marginBottom:"0.5rem"},children:e&&M.jsx(e,{width:"4rem",height:"4rem",color:n})})},zUe=ae.p.withConfig({displayName:"StatusBody",componentId:"sc-727a5a8d-0"})(["font-size:1rem;color:var(--privy-color-foreground-3);margin-bottom:1rem;display:flex;flex-direction:column;gap:1rem;"]),WUe=ae.div.withConfig({displayName:"ConnectContainer",componentId:"sc-727a5a8d-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:1.75rem;margin-right:1.75rem;padding:2rem 0;"]);const GUe=async(t,e,n,i,c,m,s,g)=>{let r=sb();if(!r)throw Error("Unable to initialize flow");let a=e.chainType==="ethereum"?_fe(e.chain.id,i):e.isUSDC?"USDC_SOL":"SOL",{signedUrl:v,externalTransactionId:h}=await t.signMoonpayOnRampUrl({address:e.address,useSandbox:n.fundingMethodConfig.moonpay.useSandbox??!1,config:{uiConfig:{accentColor:n.appearance.palette.accent,theme:n.appearance.palette.colorScheme},paymentMethod:g,currencyCode:a,quoteCurrencyAmount:NUe(e.amount)}});t.createAnalyticsEvent({eventName:"sdk_fiat_on_ramp_started",payload:{provider:"moonpay",value:e.amount,chainType:e.chainType,chainId:e.chainType==="ethereum"?e.chain.id:e.chain}}),r.location=v;let u={...s?.funding,showAlternateFundingMethod:!0};e.usingDefaultFundingMethod&&(u.usingDefaultFundingMethod=!1),c({moonpayStatus:{},funding:u,solanaFundingData:s?.solanaFundingData}),m(yJ),setTimeout((()=>{c({moonpayStatus:{externalTransactionId:h},funding:u,solanaFundingData:s?.solanaFundingData})}),8e3)};let wJ=async t=>typeof window<"u"&&"PaymentRequest"in window&&await new window.PaymentRequest([{supportedMethods:t}],{id:"0",total:{label:"Item",amount:{currency:"USD",value:"1.00"}}}).canMakePayment();const VUe=()=>wJ("https://apple.com/apple-pay"),HUe=()=>wJ("https://google.com/pay"),Pa={component:()=>{let{wallets:t}=Dd(),{connectors:e}=et(),n=e.filter(Q3).flatMap((x=>x.wallets)),{navigate:i,data:c,setModalData:m}=lt(),{client:s}=et(),g=it(),r=c?.funding,a=dk(VUe),v=dk(HUe),h=r.chainType==="solana",u=h?void 0:r,l=H.useMemo((()=>((x,b,E,C,T,S)=>{let A,P,R=E.chainType==="solana",L=R?void 0:E,D=E.isUSDC?"USDC":L?.erc20Address?void 0:"native-currency",$=!!R||D&&Jfe(Number(E.chain.id),D),F=!!R||D&&Cpe(Number(E.chain.id),D),N=[];for(let k of(E.preferredCardProvider&&E.supportedOptions.sort((j=>j.provider===E.preferredCardProvider?-1:1)),E.supportedOptions))k.method==="card"&&k.provider==="coinbase"&&F&&N.push((()=>mk(b,E,C,T,S,"buy"))),k.method==="card"&&k.provider==="moonpay"&&$&&D&&N.push((()=>GUe(b,E,x,D,C,T,S,"credit_debit_card")));for(let k of E.supportedOptions)k.method==="exchange"&&k.provider==="coinbase"&&F&&(A=()=>mk(b,E,C,T,S,"buy"));for(let k of S?.funding?.supportedOptions??[])k.method==="wallets"&&(P=()=>T(P1));return{onFundWithCard:N,onFundWithExchange:A,onFundWithWallet:P}})(g,s,r,m,i,c)),[g,s,r,c,m,i]),o=h?n.find((({address:x})=>x===r.address)):t.find((({address:x})=>Sr(x)===Sr(r.address))),d=Nc(o?.walletClientType||"unknown"),p=d?.name||"wallet",f=o&&o.walletClientType!=="privy"?p:g.name,y=H.useMemo((()=>r.uiConfig?.landing?.title?r.uiConfig?.landing?.title:`Add funds to your ${f?.toLowerCase().endsWith("wallet")?f:f+" wallet"}`),[r.uiConfig?.landing?.title,f]);H.useEffect((()=>{if(r?.defaultFundingMethod&&r.usingDefaultFundingMethod)switch(m({funding:{...r,usingDefaultFundingMethod:!1},solanaFundingData:c?.solanaFundingData}),r?.defaultFundingMethod){case"card":l.onFundWithCard[0]&&l.onFundWithCard[0]();break;case"exchange":l.onFundWithExchange&&l.onFundWithExchange();break;case"wallet":l.onFundWithWallet&&l.onFundWithWallet();break;case"manual":i(yx)}}),[]),H.useEffect((()=>{u?.erc20Address&&!u.erc20ContractInfo&&JZ({address:u.erc20Address,chain:u.chain,rpcConfig:g.rpcConfig,privyAppId:g.id}).then((x=>{m({...c,funding:{...u,erc20ContractInfo:x?{symbol:x.symbol,decimals:x.decimals}:void 0}})})).catch(console.error)}),[u?.erc20Address,u?.chain]);let w=!(!u?.erc20Address||u?.erc20ContractInfo);return M.jsxs(M.Fragment,{children:[M.jsx(Fa,{}),M.jsx("h3",{children:y}),M.jsxs(TUe,{children:[r.errorMessage&&M.jsx(qZ,{theme:g.appearance.palette.colorScheme,children:r.errorMessage}),l.onFundWithCard?.[0]&&M.jsxs(_n,{disabled:w,onClick:l.onFundWithCard[0],children:[M.jsx(_v,{children:M.jsx(A1e,{style:{width:24}})}),"Pay with card",a?M.jsx(QBe,{style:{marginLeft:"auto",maxWidth:"100%",width:"auto",height:"0.875rem"}}):v?M.jsx(qBe,{style:{marginLeft:"auto",maxWidth:"100%",width:"auto",height:"0.875rem"}}):null]}),l.onFundWithExchange&&M.jsxs(_n,{disabled:w,onClick:l.onFundWithExchange,children:[M.jsx(_v,{children:M.jsx(X7,{style:{width:24}})}),"Transfer from an exchange"]}),l.onFundWithWallet&&M.jsxs(_n,{disabled:w,onClick:l.onFundWithWallet,children:[M.jsx(_v,{children:M.jsx(jZ,{style:{width:24}})}),"Transfer from wallet"]}),M.jsxs(_n,{disabled:w,onClick:()=>i(yx),children:[M.jsx(_v,{children:M.jsx(N1e,{style:{width:24}})}),"Receive funds"]}),r?.showAlternateFundingMethod&&l.onFundWithCard?.[1]&&M.jsx(XZ,{theme:g.appearance.palette.colorScheme,children:M.jsxs(PUe,{children:["Having trouble or facing location restrictions?"," ",M.jsx(IUe,{onClick:l.onFundWithCard[1],children:"Try a different provider."})]})})]}),M.jsx(dn,{})]})}},mg={component:()=>{let{closePrivyModal:t}=et(),{data:e,navigate:n}=lt(),i=it(),c=Ld(),m=e?.externalConnectWallet?.description,s=H.useRef(e?.externalConnectWallet?.walletList??i.appearance.walletList),g=H.useRef(e?.externalConnectWallet?.walletChainType??i.appearance.walletChainType);return M.jsx(GZ,{walletList:s.current,walletChainType:g.current,preSelectedWalletId:e?.externalConnectWallet?.preSelectedWalletId,onBack:e?.funding?()=>n(Pa):void 0,onClose:()=>{c("connectWallet","onError",we.GENERIC_CONNECT_WALLET_ERROR),t()},onConnect:({connector:r,wallet:a})=>{c("connectWallet","onSuccess",{wallet:a});let v=e?.externalConnectWallet?.onCompleteNavigateTo;v?n(v({address:a.address,walletClientType:r?.walletClientType,walletChainType:r?.chainType})):t()},onConnectError:r=>{r instanceof Di?(console.warn(r.cause?r.cause:r.message),c("connectWallet","onError",r.privyErrorCode||we.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(r),c("connectWallet","onError",we.UNKNOWN_CONNECT_WALLET_ERROR))},customDescription:m,app:i})},isUnauthenticatedScreem:!0},Hh=t=>M.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[M.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#855DCD"}),M.jsxs("g",{"clip-path":"url(#clip0_1715_1960)",children:[M.jsx("path",{d:"M4.5 4H28.5V28H4.5V4Z",fill:"#855DCD"}),M.jsx("path",{d:"M11.1072 8.42105H21.6983V23.5789H20.1437V16.6357H20.1284C19.9566 14.7167 18.3542 13.2129 16.4028 13.2129C14.4514 13.2129 12.849 14.7167 12.6771 16.6357H12.6619V23.5789H11.1072V8.42105Z",fill:"white"}),M.jsx("path",{d:"M8.28943 10.5725L8.92101 12.7239H9.45542V21.4275C9.1871 21.4275 8.96959 21.6464 8.96959 21.9165V22.5032H8.87242C8.60411 22.5032 8.38659 22.7221 8.38659 22.9922V23.5789H13.8279V22.9922C13.8279 22.7221 13.6104 22.5032 13.3421 22.5032H13.2449V21.9165C13.2449 21.6464 13.0274 21.4275 12.7591 21.4275H12.1761V10.5725H8.28943Z",fill:"white"}),M.jsx("path",{d:"M20.2408 21.4275C19.9725 21.4275 19.755 21.6464 19.755 21.9165V22.5032H19.6579C19.3895 22.5032 19.172 22.7221 19.172 22.9922V23.5789H24.6133V22.9922C24.6133 22.7221 24.3958 22.5032 24.1275 22.5032H24.0303V21.9165C24.0303 21.6464 23.8128 21.4275 23.5445 21.4275V12.7239H24.0789L24.7105 10.5725H20.8238V21.4275H20.2408Z",fill:"white"})]}),M.jsx("defs",{children:M.jsx("clipPath",{id:"clip0_1715_1960",children:M.jsx("rect",{width:"24",height:"24",fill:"white",transform:"translate(4.5 4)"})})})]}),xJ=t=>{let[e,n]=H.useState(!1);return M.jsx(YUe,{color:t.color,href:t.url,target:"_blank",rel:"noreferrer noopener",onClick:()=>{n(!0),setTimeout((()=>n(!1)),1500)},justOpened:e,children:t.text})};let YUe=ae.a.withConfig({displayName:"StyledOpenLinkButton",componentId:"sc-4e695c83-0"})(["display:flex;align-items:center;gap:6px;&&{margin:8px 2px;font-size:14px;color:",";font-weight:",";transition:color 350ms ease;:focus,:active{background-color:transparent;border:none;outline:none;box-shadow:none;}:hover{color:",";}:active{color:'var(--privy-color-foreground)';font-weight:medium;}@media (max-width:440px){margin:12px 2px;}}svg{width:14px;height:14px;}"],(t=>t.justOpened?"var(--privy-color-foreground)":t.color||"var(--privy-color-foreground-3)"),(t=>t.justOpened?"medium":"normal"),(t=>t.justOpened?"var(--privy-color-foreground)":"var(--privy-color-foreground-2)")),XUe=ae.div.withConfig({displayName:"Container",componentId:"sc-913deead-0"})(["width:100%;"]),KUe=ae.div.withConfig({displayName:"InputContainer",componentId:"sc-913deead-1"})(["display:flex;align-items:center;justify-content:space-between;gap:0.75rem;padding:0.75rem;height:56px;background:",";border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);&:hover{border-color:",";}"],(t=>t.$disabled?"var(--privy-color-background-2)":"var(--privy-color-background)"),(t=>t.$disabled?"var(--privy-color-foreground-4)":"var(--privy-color-foreground-3)")),ZUe=ae.div.withConfig({displayName:"TextContainer",componentId:"sc-913deead-2"})(["flex:1;min-width:0;display:flex;align-items:center;"]),bJ=ae.span.withConfig({displayName:"Text",componentId:"sc-913deead-3"})(["display:block;font-size:16px;line-height:24px;color:",";overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;word-break:break-all;@media (min-width:441px){font-size:14px;line-height:20px;}"],(t=>t.$disabled?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)")),JUe=ae(bJ).withConfig({displayName:"PlaceholderText",componentId:"sc-913deead-4"})(["color:var(--privy-color-foreground-3);font-style:italic;"]),_Ue=ae(NA).withConfig({displayName:"TitleLabel",componentId:"sc-913deead-5"})(["margin-bottom:0.5rem;"]),QUe=ae(So).withConfig({displayName:"CopyButton",componentId:"sc-913deead-6"})(["&&{gap:0.375rem;font-size:14px;flex-shrink:0;}"]);const qUe=({value:t,title:e,placeholder:n,className:i,showCopyButton:c=!0,truncate:m,maxLength:s=40,disabled:g=!1})=>{let[r,a]=H.useState(!1),v=m&&t?((h,u,l)=>{if((h=h.startsWith("https://")?h.slice(8):h).length<=l)return h;if(u==="middle"){let o=Math.ceil(l/2)-2,d=Math.floor(l/2)-1;return`${h.slice(0,o)}...${h.slice(-d)}`}return`${h.slice(0,l-3)}...`})(t,m,s):t;return H.useEffect((()=>{if(r){let h=setTimeout((()=>a(!1)),3e3);return()=>clearTimeout(h)}}),[r]),M.jsxs(XUe,{className:i,children:[e&&M.jsx(_Ue,{children:e}),M.jsxs(KUe,{$disabled:g,children:[M.jsx(ZUe,{children:t?M.jsx(bJ,{$disabled:g,title:t,children:v}):M.jsx(JUe,{$disabled:g,children:n||"No value"})}),c&&t&&M.jsx(QUe,{onClick:function(h){h.stopPropagation(),navigator.clipboard.writeText(t).then((()=>a(!0))).catch(console.error)},size:"sm",children:M.jsxs(M.Fragment,r?{children:["Copied",M.jsx(hm,{size:14})]}:{children:["Copy",M.jsx($w,{size:14})]})})]})]})},eje=({connectUri:t,loading:e,success:n,errorMessage:i,onBack:c,onClose:m,onOpenFarcaster:s})=>M.jsx(Zt,sn.isMobile||e?sn.isIOS?{title:i?i.message:"Sign in with Farcaster",subtitle:i?i.detail:"To sign in with Farcaster, please open the Farcaster app.",icon:Hh,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!i},primaryCta:t&&s?{label:"Open Farcaster app",onClick:s}:void 0,onBack:c,onClose:m,watermark:!0}:{title:i?i.message:"Signing in with Farcaster",subtitle:i?i.detail:"This should only take a moment",icon:Hh,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!i},onBack:c,onClose:m,watermark:!0,children:t&&sn.isMobile&&M.jsx(tje,{children:M.jsx(xJ,{text:"Take me to Farcaster",url:t,color:"#8a63d2"})})}:{title:"Sign in with Farcaster",subtitle:"Scan with your phone's camera to continue.",onBack:c,onClose:m,watermark:!0,children:M.jsxs(nje,{children:[M.jsx(rje,{children:t?M.jsx(T1,{url:t,size:275,squareLogoElement:Hh}):M.jsx(aje,{children:M.jsx($a,{})})}),M.jsxs(ije,{children:[M.jsx(sje,{children:"Or copy this link and paste it into a phone browser to open the Farcaster app."}),t&&M.jsx(qUe,{value:t,truncate:"end",maxLength:30,showCopyButton:!0,disabled:!0})]})]})}),ET={component:()=>{let{authenticated:t,logout:e,ready:n,user:i}=Xt(),{lastScreen:c,navigate:m,navigateBack:s,setModalData:g}=lt(),r=it(),{getAuthFlow:a,loginWithFarcaster:v,closePrivyModal:h,createAnalyticsEvent:u}=et(),[l,o]=H.useState(void 0),[d,p]=H.useState(!1),[f,y]=H.useState(!1),w=H.useRef([]),x=a(),b=x?.meta.connectUri;return H.useEffect((()=>{let E=Date.now(),C=setInterval((async()=>{let T=await x.pollForReady.execute(),S=Date.now()-E;if(T){clearInterval(C),p(!0);try{await v(),y(!0)}catch(A){let P={retryable:!1,message:"Authentication failed"};if(A?.privyErrorCode===we.ALLOWLIST_REJECTED)return void m(vb);if(A?.privyErrorCode===we.USER_LIMIT_REACHED)return console.error(new t1(A).toString()),void m(A1);if(A?.privyErrorCode===we.USER_DOES_NOT_EXIST)return void m(S1);if(A?.privyErrorCode===we.LINKED_TO_ANOTHER_USER)P.detail=A.message??"This account has already been linked to another user.";else{if(A?.privyErrorCode===we.ACCOUNT_TRANSFER_REQUIRED&&A.data?.data?.nonce)return g({accountTransfer:{nonce:A.data?.data?.nonce,account:A.data?.data?.subject,displayName:A.data?.data?.account?.displayName,linkMethod:"farcaster",embeddedWalletAddress:A.data?.data?.otherUser?.embeddedWalletAddress,farcasterEmbeddedAddress:A.data?.data?.otherUser?.farcasterEmbeddedAddress}}),void m(Nd);A?.privyErrorCode===we.INVALID_CREDENTIALS?(P.retryable=!0,P.detail="Something went wrong. Try again."):A?.privyErrorCode===we.TOO_MANY_REQUESTS&&(P.detail="Too many requests. Please wait before trying again.")}o(P)}}else S>12e4&&(clearInterval(C),o({retryable:!0,message:"Authentication failed",detail:"The request timed out. Try again."}))}),2e3);return()=>{clearInterval(C),w.current.forEach((T=>clearTimeout(T)))}}),[]),H.useEffect((()=>{if(n&&t&&f&&i){if(r?.legal.requireUsersAcceptTerms&&!i.hasAcceptedTerms){let E=setTimeout((()=>{m(kd)}),Yn);return()=>clearTimeout(E)}f&&(Uc(i,r.embeddedWallets)?w.current.push(setTimeout((()=>{g({createWallet:{onSuccess:()=>{},onFailure:E=>{console.error(E),u({eventName:"embedded_wallet_creation_failure_logout",payload:{error:E,screen:"FarcasterConnectStatusScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),m(Cu)}),Yn)):w.current.push(setTimeout((()=>h({shouldCallAuthOnSuccess:!0,isSuccess:!0})),Yn)))}}),[f,n,t,i]),M.jsx(eje,{connectUri:b,loading:d,success:f,errorMessage:l,onBack:c?s:void 0,onClose:h,onOpenFarcaster:()=>{b&&(window.location.href=b)}})}};let tje=ae.div.withConfig({displayName:"MobileLinkContainer",componentId:"sc-6e4b180b-0"})(["margin-top:24px;"]),nje=ae.div.withConfig({displayName:"ContentContainer",componentId:"sc-6e4b180b-1"})(["display:flex;flex-direction:column;align-items:center;gap:24px;"]),rje=ae.div.withConfig({displayName:"QrContainer",componentId:"sc-6e4b180b-2"})(["display:flex;align-items:center;justify-content:center;min-height:275px;"]),ije=ae.div.withConfig({displayName:"InstructionsContainer",componentId:"sc-6e4b180b-3"})(["display:flex;flex-direction:column;align-items:center;gap:16px;"]),sje=ae.div.withConfig({displayName:"InstructionText",componentId:"sc-6e4b180b-4"})(["font-size:0.875rem;text-align:center;color:var(--privy-color-foreground-2);"]),aje=ae.div.withConfig({displayName:"LoaderWrapper",componentId:"sc-6e4b180b-5"})(["position:relative;width:82px;height:82px;"]);const EJ=()=>{let[t,e]=H.useState(!1),{currentScreen:n,navigate:i,setModalData:c,data:m}=lt(),{enabled:s,token:g}=As(),{initLoginWithFarcaster:r}=et(),{accountType:a}=Bc();return M.jsxs(_n,{onClick:async()=>{e(!0);try{s&&!g?(c({captchaModalData:{callback:v=>r(v,m?.login?.disableSignup),userIntentRequired:!0,onSuccessNavigateTo:ET,onErrorNavigateTo:Xn}}),i(Ao)):(await r(g,m?.login?.disableSignup),i(ET))}catch(v){c({errorModalData:{error:v,previousScreen:n||Ni}}),i(Xn)}finally{e(!1)}},disabled:!1,children:[M.jsx(Hh,{width:32,height:32})," Farcaster",t&&M.jsx(kc,{}),a==="farcaster"&&M.jsx(oje,{color:"gray",children:"Recent"})]})};let oje=ae(xl).withConfig({displayName:"StyledChip",componentId:"sc-c6317ff9-0"})(["margin-left:auto;"]);const lje=({status:t,passkeySignupFlow:e=!1,error:n,onRetry:i})=>M.jsx(Zt,{title:(()=>{switch(t){case"loading":return"Waiting for passkey";case"success":return"Success";case"error":return"Something went wrong"}})(),subtitle:M.jsx(uje,{children:(()=>{switch(t){case"loading":return e?"Please follow prompts to register your passkey.":`Please follow prompts to verify your passkey.
You will have to sign up with another method first to register a passkey for your account.`;case"success":return"You've successfully logged in with your passkey.";case"error":if(n instanceof Di){if(n.privyErrorCode===we.CANNOT_LINK_MORE_OF_TYPE)return"Cannot link more passkeys to account.";if(n.privyErrorCode===we.PASSKEY_NOT_ALLOWED)return`Passkey request timed out or rejected by user.
You will have to sign up with another method first to register a passkey for your account.`}return`An unknown error occurred.
You will have to sign up with another method first to register a passkey for your account.`}})()}),icon:Fw,iconVariant:"loading",iconLoadingStatus:{success:t==="success",fail:t==="error"},primaryCta:t==="error"&&i?{label:"Retry",onClick:i}:t==="success"?{label:"Continue",disabled:!0}:void 0,watermark:!0}),pp={component:()=>{let{data:t,setModalData:e,navigate:n}=lt(),i=it(),{loginWithPasskey:c,signupWithPasskey:m,closePrivyModal:s,createAnalyticsEvent:g}=et(),{user:r,logout:a}=Xt(),{passkeySignupFlow:v}=t?.passkeyAuthModalData??{},[h,u]=H.useState("loading"),[l,o]=H.useState(null),d=H.useRef([]),p=y=>{d.current=[y,...d.current]};H.useEffect((()=>()=>{d.current.forEach((y=>clearTimeout(y))),d.current=[]}),[]);let f=async()=>{u("loading");try{v?await m():await c(),u("success")}catch(y){o(y),u("error")}};return H.useEffect((()=>{if(h==="success"&&r){if(i?.legal.requireUsersAcceptTerms&&!r.hasAcceptedTerms)return void p(setTimeout((()=>{n(kd)}),900));if(!Uc(r,i?.embeddedWallets))return void p(setTimeout((()=>{s({shouldCallAuthOnSuccess:!0,isSuccess:!0})}),Yn));p(setTimeout((()=>{e({createWallet:{onSuccess:()=>{},onFailure:y=>{console.error(y),g({eventName:"embedded_wallet_creation_failure_logout",payload:{error:y,screen:"PasskeyStatusScreen"}}),a()},callAuthOnSuccessOnClose:!0}}),n(Cu)}),900))}}),[r,h]),H.useEffect((()=>{f()}),[]),M.jsx(lje,{status:h,passkeySignupFlow:v,error:l,onRetry:f})}};let uje=ae.span.withConfig({displayName:"SubtitleText",componentId:"sc-7ff4a13e-0"})(["white-space:pre-wrap;"]);const cje=({title:t="Log in or create a new account?",subtitle:e="Create a new account with a passkey or use a passkey to log in to an existing account.",onSignup:n,onLogin:i})=>M.jsx(Zt,{title:t,subtitle:e,icon:Fw,primaryCta:{label:"Create new account",onClick:n},secondaryCta:{label:"Log in with a passkey",onClick:i},watermark:!0}),hje={component:()=>{let{enabled:t,token:e}=As(),{navigate:n,setModalData:i}=lt(),{initSignupWithPasskey:c,initLoginWithPasskey:m}=et();return M.jsx(cje,{onSignup:async()=>{t&&!e?(i({passkeyAuthModalData:{passkeySignupFlow:!0},captchaModalData:{callback:s=>c({captchaToken:s,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:pp,onErrorNavigateTo:Xn}}),n(Ao)):(await c({withPrivyUi:!0,captchaToken:e}),i({passkeyAuthModalData:{passkeySignupFlow:!0}}),n(pp))},onLogin:async()=>{t&&!e?(i({passkeyAuthModalData:{passkeySignupFlow:!1},captchaModalData:{callback:s=>m({captchaToken:s,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:pp,onErrorNavigateTo:Xn}}),n(Ao)):(await m({withPrivyUi:!0,captchaToken:e}),i({passkeyAuthModalData:{passkeySignupFlow:!1}}),n(pp))}})}},CJ=()=>{let{enabled:t,token:e}=As(),{navigate:n,setModalData:i,data:c}=lt(),m=it(),{initLoginWithPasskey:s}=et(),g=()=>{m.loginConfig.passkeysForSignupEnabled?n(hje):(async()=>t&&!e?(i({passkeyAuthModalData:{passkeySignupFlow:!1},captchaModalData:{callback:r=>s({captchaToken:r,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:pp,onErrorNavigateTo:Xn}}),n(Ao)):(await s({withPrivyUi:!0,captchaToken:e}),i({passkeyAuthModalData:{passkeySignupFlow:!1}}),n(pp)))()};return H.useMemo((()=>{let r=c?.login?.loginMethods;return r?r.filter((a=>a!=="passkey")).length:Object.entries(m.loginMethods).filter((([a,v])=>v)).filter((([a])=>a!=="passkey")).length}),[m.loginMethods,c?.login])===0?M.jsxs(_n,{onClick:g,children:[M.jsx(p7,{})," Continue with passkey"]}):M.jsx(t0,{as:"button",onClick:g,size:"sm",variant:"navigation",style:{width:"100%",justifyContent:"center"},children:"I have a passkey"})},dje=({value:t,onChange:e})=>M.jsx("select",{value:t,onChange:e,children:fpe.map((n=>M.jsxs("option",{value:n.code,children:[n.code," +",n.callCode]},n.code)))}),xb=H.forwardRef(((t,e)=>{let n=it(),[i,c]=H.useState(!1),{accountType:m}=Bc(),[s,g]=H.useState(""),[r,a]=H.useState(n?.intl.defaultCountry??"US"),v=Yy(s,r),h=dpe(r),u=ppe(r),l=e7(r),o=!v,[d,p]=H.useState(!1),f=l.length,y=b=>{let E=b.target.value;a(E),g(""),t.onChange&&t.onChange({rawPhoneNumber:s,qualifiedPhoneNumber:J4(s,E),countryCode:E,isValid:Yy(s,r)})},w=(b,E)=>{try{let C=b.replace(/\D/g,"")===s.replace(/\D/g,"")?b:h.input(b);g(C),t.onChange&&t.onChange({rawPhoneNumber:C,qualifiedPhoneNumber:J4(b,E),countryCode:E,isValid:Yy(b,E)})}catch(C){console.error("Error processing phone number:",C)}},x=()=>{p(!0);let b=J4(s,r);t.onSubmit({rawPhoneNumber:s,qualifiedPhoneNumber:b,countryCode:r,isValid:Yy(s,r)}).finally((()=>p(!1)))};return H.useEffect((()=>{if(t.defaultValue){let b=vpe(t.defaultValue);h.reset(),y({target:{value:b.countryCode}}),w(b.phone,b.countryCode)}}),[t.defaultValue]),M.jsxs(M.Fragment,{children:[M.jsx(fje,{children:M.jsxs(pje,{$callingCodeLength:f,$stacked:t.stacked,children:[M.jsx(dje,{value:r,onChange:y}),M.jsx("input",{ref:e,id:"phone-number-input",className:"login-method-button",type:"tel",placeholder:u,onFocus:()=>c(!0),onChange:b=>{w(b.target.value,r)},onKeyUp:b=>{b.key==="Enter"&&x()},value:s,autoComplete:"tel"}),m!=="phone"||i||t.hideRecent?t.stacked||t.noIncludeSubmitButton?M.jsx("span",{}):M.jsx(tb,{isSubmitting:d,onClick:x,disabled:o,children:"Submit"}):M.jsx(xl,{color:"gray",children:"Recent"})]})}),t.stacked&&!t.noIncludeSubmitButton?M.jsx(Cn,{loading:d,loadingText:null,onClick:x,disabled:o,children:"Submit"}):null]})}));let fje=ae.div.withConfig({displayName:"InputContainer",componentId:"sc-545daacd-0"})(["width:100%;"]),pje=ae.label.withConfig({displayName:"PhoneNumberInput",componentId:"sc-545daacd-1"})(["--country-code-dropdown-width:calc(54px + calc(12 * ","px));--phone-input-extra-padding-left:calc(12px + calc(3 * ","px));display:block;position:relative;width:100%;@media (min-width:441px){--country-code-dropdown-width:calc(52px + calc(10 * ","px));}&& > select{font-size:16px;height:24px;position:absolute;margin:13px calc(var(--country-code-dropdown-width) / 4);line-height:24px;width:var(--country-code-dropdown-width);background-color:var(--privy-color-background);background-size:auto;background-position-x:right;cursor:pointer;@media (min-width:441px){font-size:14px;width:var(--country-code-dropdown-width);}:focus{outline:none;box-shadow:none;}}&& > input{font-size:16px;line-height:24px;color:var(--privy-color-foreground);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:calc(100% - var(--country-code-dropdown-width));padding:12px 88px 12px calc(var(--country-code-dropdown-width) + var(--phone-input-extra-padding-left));padding-right:",";flex-grow:1;background:var(--privy-color-background);border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);width:100%;:focus{outline:none;border-color:var(--privy-color-accent);}:autofill,:-webkit-autofill{background:var(--privy-color-background);}@media (min-width:441px){font-size:14px;padding-right:78px;}}&& > :last-child{right:16px;position:absolute;top:50%;transform:translate(0,-50%);}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;border-color:var(--privy-color-accent);}}&& > input::placeholder{color:var(--privy-color-foreground-3);}"],(t=>t.$callingCodeLength),(t=>t.$callingCodeLength),(t=>t.$callingCodeLength),(t=>t.$stacked?"16px":"88px"));const SJ=({isEditable:t,setIsEditable:e,defaultValue:n})=>{let i=H.useRef(null),{authenticated:c}=Xt(),{navigate:m,setModalData:s,currentScreen:g,data:r}=lt(),{initLoginWithSms:a}=et(),{enabled:v,token:h}=As(),{whatsAppEnabled:u}=it();return M.jsxs(M.Fragment,{children:[M.jsx(e0,{$if:!t,children:M.jsx(xb,{ref:i,onSubmit:async function({qualifiedPhoneNumber:l}){if(!v||h||c)try{await a({phoneNumber:l,captchaToken:h,withPrivyUi:!0,disableSignup:r?.login?.disableSignup}),m(xu)}catch(o){s({errorModalData:{error:o,previousScreen:g||Ni}}),m(Xn)}else s({captchaModalData:{callback:o=>a({phoneNumber:l,captchaToken:o,withPrivyUi:!0,disableSignup:r?.login?.disableSignup}),userIntentRequired:!1,onSuccessNavigateTo:xu,onErrorNavigateTo:Xn}}),m(Ao)},defaultValue:n})}),M.jsx(e0,{$if:t,children:M.jsxs(_n,{onClick:()=>{e(),setTimeout((()=>{i.current?.focus()}),0)},children:[M.jsx(ho,{children:M.jsx(HW,{})}),"Continue with ",u?"WhatsApp":"SMS"]})})]})};let vje={apple:{logo:yK,displayName:"Apple"},discord:{logo:wK,displayName:"Discord"},github:{logo:xK,displayName:"GitHub"},google:{logo:bK,displayName:"Google"},linkedin:{logo:SK,displayName:"LinkedIn"},spotify:{logo:TK,displayName:"Spotify"},instagram:{logo:EK,displayName:"Instagram"},twitter:{logo:IK,displayName:"Twitter"},tiktok:{logo:AK,displayName:"TikTok"},line:{logo:CK,displayName:"LINE"},twitch:{logo:PK,displayName:"Twitch"}};const nr=({provider:t})=>{let{enabled:e,token:n}=As(),{navigate:i,setModalData:c,data:m}=lt(),[s,g]=H.useState(!1),r=it(),{initLoginWithOAuth:a}=et(),{accountType:v}=Bc(),h=H.useMemo((()=>v&&v!=="guest"&&v!=="authorization_key"&&v!=="cross_app"?fb(v):null),[v]),{displayName:u,logo:l}=H.useMemo((()=>{if(r1(t)){let o=r.customOAuthProviders.find((f=>f.provider===t)),d=o.provider_icon_url,p=o.provider_display_name;return{displayName:p,logo:({style:f})=>M.jsx("img",{alt:`${p} logo`,src:d,style:f})}}return vje[t]}),[t,r.customOAuthProviders]);return M.jsxs(_n,{onClick:()=>{g(!0),setTimeout((()=>{g(!1)}),2e3),e&&!n?(c({captchaModalData:{callback:o=>a(t,o,m?.login?.disableSignup),userIntentRequired:!0,onSuccessNavigateTo:null,onErrorNavigateTo:Xn}}),i(Ao)):a(t,void 0,m?.login?.disableSignup)},disabled:s,children:[M.jsx(ho,{$fullSize:!0,children:M.jsx(l,{style:{width:"32px",height:"32px"}})}),u,h?.loginMethod===t&&M.jsx(gje,{color:"gray",children:"Recent"})]})};let gje=ae(xl).withConfig({displayName:"StyledChip",componentId:"sc-45a4e2df-0"})(["margin-left:auto;"]);function TJ(t){return M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",...t,children:[M.jsx("rect",{width:"512",height:"512",rx:"15%",fill:"#37aee2"}),M.jsx("path",{fill:"#c8daea",d:"M199 404c-11 0-10-4-13-14l-32-105 245-144"}),M.jsx("path",{fill:"#a9c9dd",d:"M199 404c7 0 11-4 16-8l45-43-56-34"}),M.jsx("path",{fill:"#f6fbfe",d:"M204 319l135 99c14 9 26 4 30-14l55-258c5-22-9-32-24-25L79 245c-21 8-21 21-4 26l83 26 190-121c9-5 17-3 11 4"})]})}const mje=({success:t,errorMessage:e,onRetry:n})=>{let i=t?"Successfully connected with Telegram":e?e.message:"Verifying connection to Telegram";return M.jsx(Zt,{title:i,subtitle:t?"You're good to go!":e?e.detail:"Just a few moments more",icon:TJ,iconVariant:"loading",iconLoadingStatus:{success:t,fail:!!e},secondaryCta:e?.retryable&&n?{label:"Retry",onClick:n}:void 0,watermark:!0})},dw={component:()=>{let{authenticated:t,logout:e,ready:n,user:i}=Xt(),{setModalData:c,navigate:m,resetNavigation:s,data:g}=lt(),r=it(),{initLoginWithTelegram:a,loginWithTelegram:v,updateWallets:h,setReadyToTrue:u,closePrivyModal:l,createAnalyticsEvent:o,getAuthMeta:d}=et(),[p,f]=H.useState(!1),[y,w]=H.useState(void 0),x=As();async function b(){try{let E=await(async function(){let C;if(!t){if(x.enabled&&x.status==="error")throw new _3(x.error,null,we.CAPTCHA_FAILURE);return x.enabled&&x.status!=="success"&&(x.execute(),C=await x.waitForResult()),C}})();await v({captchaToken:E}),f(!0),u(!0)}catch(E){if(E?.privyErrorCode===we.ALLOWLIST_REJECTED)return w(void 0),s(),void m(vb);if(E?.privyErrorCode===we.USER_LIMIT_REACHED)return console.error(new t1(E).toString()),w(void 0),s(),void m(A1);if(E?.privyErrorCode===we.USER_DOES_NOT_EXIST)return w(void 0),s(),void m(S1);if(E?.privyErrorCode===we.ACCOUNT_TRANSFER_REQUIRED&&E.data?.data?.nonce)return w(void 0),s(),c({accountTransfer:{nonce:E.data?.data?.nonce,account:E.data?.data?.subject,telegramAuthResult:d()?.telegramAuthResult,telegramWebAppData:d()?.telegramWebAppData,displayName:E.data?.data?.account?.displayName,linkMethod:"telegram",embeddedWalletAddress:E.data?.data?.otherUser?.embeddedWalletAddress}}),void m(Nd);let{retryable:C,detail:T}=jN(E);w({retryable:C,detail:T,message:"Authentication failed"})}}return H.useEffect((()=>{b()}),[]),H.useEffect((()=>{if(!(n&&t&&p&&i))return;if(r?.legal.requireUsersAcceptTerms&&!i.hasAcceptedTerms){let C=setTimeout((()=>{m(kd)}),Yn);return()=>clearTimeout(C)}if(Uc(i,r.embeddedWallets)){let C=setTimeout((()=>{c({createWallet:{onSuccess:()=>{},onFailure:T=>{console.error(T),o({eventName:"embedded_wallet_creation_failure_logout",payload:{error:T,provider:"telegram",screen:"TelegramAuthScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),m(Cu)}),Yn);return()=>clearTimeout(C)}h();let E=setTimeout((()=>l({shouldCallAuthOnSuccess:!0,isSuccess:!0})),Yn);return()=>clearTimeout(E)}),[n,t,p,i]),M.jsx(mje,{success:p,errorMessage:y,onRetry:y?.retryable?async()=>{try{w(void 0),g?.telegramAuthModalData?.seamlessAuth||await a(void 0,g?.login?.disableSignup),await b()}catch(E){let{retryable:C,detail:T}=jN(E);w({retryable:C,detail:T,message:"Authentication failed"})}}:void 0})},isCaptchaRequired:!0},AJ=()=>{let{enabled:t,token:e}=As(),{navigate:n,setModalData:i,data:c}=lt(),[m,s]=H.useState(!1),{initLoginWithTelegram:g}=et(),{accountType:r}=Bc();async function a(v){try{await g(v,c?.login?.disableSignup),i({telegramAuthModalData:{seamlessAuth:!1}}),n(dw)}catch(h){console.error(h),s(!1)}}return M.jsxs(_n,{onClick:async function(){if(s(!0),t&&!e)return i({captchaModalData:{callback:a,userIntentRequired:!0,onSuccessNavigateTo:null,onErrorNavigateTo:Xn}}),void n(Ao);await a(e)},disabled:m,children:[M.jsx(TJ,{width:32,height:32}),"Telegram",r==="telegram"&&M.jsx(yje,{color:"gray",children:"Recent"})]})};let yje=ae(xl).withConfig({displayName:"StyledChip",componentId:"sc-4b233cf1-0"})(["margin-left:auto;"]);const PJ=({onClick:t,text:e,icon:n})=>M.jsxs(_n,{onClick:t,children:[M.jsx(ho,{children:n}),M.jsx(qp,{children:e})]}),IJ=({connectOnly:t})=>{let{closePrivyModal:e}=et(),{data:n,setModalData:i,onUserCloseViaDialogOrKeybindRef:c,navigate:m}=lt(),s=it(),g=n?.login,r=s.appearance.walletList,a=g?.walletChainType??s.appearance.walletChainType,{accountType:v,walletClientType:h,chainType:u}=Bc(),{wallets:l}=zZ({walletList:r,walletChainType:a}),o=H.useMemo((()=>v&&v!=="guest"&&v!=="authorization_key"&&v!=="cross_app"?fb(v):null),[v]),{email:d,sms:p,google:f,twitter:y,discord:w,github:x,spotify:b,instagram:E,tiktok:C,line:T,twitch:S,linkedin:A,apple:P,wallet:R,farcaster:L,telegram:D}=H.useMemo((()=>g?.loginMethods?gpe(g.loginMethods,!0):null),[g])??s.loginMethods,$=s.customOAuthProviders,{passkey:F}=s.loginMethods,N=[d&&"email",p&&"sms",f&&"google",y&&"twitter",w&&"discord",x&&"github",b&&"spotify",E&&"instagram",C&&"tiktok",T&&"line",S&&"twitch",A&&"linkedin",P&&"apple",L&&"farcaster",D&&"telegram",...$.map((Ae=>Ae.provider))].filter((Ae=>!!Ae)),k=N.length>0,j=H.useMemo((()=>R&&!k?"web3-first":R&&s?.appearance.loginGroupPriority||"web2-first"),[R,k,s?.appearance.loginGroupPriority]),W=s?.appearance.hideDirectWeb2Inputs,[G,K]=H.useState("default"),[z,X]=H.useState(xx({mostRecentlyUsedAccountType:v,smsAvailable:p,emailAvailable:d,prefilledType:g?.prefill?.type}));H.useEffect((()=>{X(xx({mostRecentlyUsedAccountType:v,smsAvailable:p,emailAvailable:d,prefilledType:g?.prefill?.type}))}),[d,p,v]);let U=()=>{e({shouldCallAuthOnSuccess:!0}),setTimeout((()=>{K("default")}),150)};c.current=U;let Z=[];h&&R?Z.push(h):o?.loginMethod&&N.includes(o.loginMethod)&&Z.push(o.loginMethod);let V=Ae=>{if(Ae==="email")return M.jsx(MJ,{isEditable:z==="email",setIsEditable:()=>{X("email")},defaultValue:g?.prefill?.type==="email"?g.prefill.value:void 0},Ae);if(Ae==="sms")return M.jsx(SJ,{isEditable:z==="sms",setIsEditable:()=>{X("sms")},defaultValue:g?.prefill?.type==="phone"?g.prefill.value:void 0},Ae);if(Ae==="apple")return M.jsx(nr,{provider:"apple"},Ae);if(Ae==="discord")return M.jsx(nr,{provider:"discord"},Ae);if(Ae==="farcaster")return M.jsx(EJ,{},Ae);if(Ae==="github")return M.jsx(nr,{provider:"github"},Ae);if(Ae==="google")return M.jsx(nr,{provider:"google"},Ae);if(Ae==="linkedin")return M.jsx(nr,{provider:"linkedin"},Ae);if(Ae==="tiktok")return M.jsx(nr,{provider:"tiktok"},Ae);if(Ae==="line")return M.jsx(nr,{provider:"line"},Ae);if(Ae==="twitch")return M.jsx(nr,{provider:"twitch"},Ae);if(Ae==="spotify")return M.jsx(nr,{provider:"spotify"},Ae);if(Ae==="instagram")return M.jsx(nr,{provider:"instagram"},Ae);if(Ae==="twitter")return M.jsx(nr,{provider:"twitter"},Ae);if(Ae==="telegram")return M.jsx(AJ,{},Ae);if(r1(Ae))return M.jsx(nr,{provider:Ae},Ae);let Xe=l.findIndex((({id:vt})=>vt===Hs.normalize(Ae))),st=u==="solana"?"solana-only":"ethereum-only";return M.jsx(vT,{recent:!0,index:Xe,data:{wallets:l,walletChainType:st,handleWalletClick(vt){i((Ge=>({...Ge,externalConnectWallet:{walletList:r,walletChainType:st,preSelectedWalletId:vt.id}}))),m(t?mg:hw)}}})},J=l.filter((Ae=>Ae.id!==Hs.normalize(h||""))),Q=J.map(((Ae,Xe)=>M.jsx(vT,{index:Xe,data:{walletChainType:a,wallets:J,handleWalletClick(st){i((vt=>({...vt,externalConnectWallet:{walletList:r,walletChainType:a,preSelectedWalletId:st.id}}))),m(t?mg:hw)}}},Ae.id))),ee=N.filter((Ae=>Ae!==o?.loginMethod)).flatMap(V),te=Z.flatMap(V);j==="web3-first"&&G==="default"?Q.unshift(...te):j==="web2-first"&&ee.unshift(...te);let ie=G==="web2-overflow"?()=>K("default"):void 0,le=N.filter((Ae=>Ae!=="email"&&Ae!=="sms")),de=bje({priority:j,email:d,sms:p,social:le}),fe=Eje({priority:j,email:d,sms:p,social:le}),oe=M.jsx(rJ,{text:Cje({priority:j}),onClick:()=>{i({...n,externalConnectWallet:{walletChainType:g?.walletChainType??s.appearance.walletChainType}}),m(t?mg:hw)}}),Ee=M.jsx(PJ,{text:de,icon:fe,onClick:()=>K("web2-overflow")}),ye=W?0:1,Ce=R&&Q.length>0,Ie=ee.length===0&&R&&Q.length===0,je=5-(Ce?1:0),Re=G==="default"&&s?.appearance.logo,Fe=G==="default"&&s.appearance.loginMessage;return M.jsxs(Zt,{title:s.appearance.landingHeader,icon:Re?M.jsx(RZ,{}):void 0,iconVariant:Re?"logo":void 0,onClose:U,showClose:!0,onBack:ie,showBack:!!ie,helpText:s||F&&G==="default"?M.jsxs(M.Fragment,{children:[F&&G==="default"&&M.jsx(CJ,{}),s&&M.jsx(xA,{app:s})]}):void 0,watermark:!0,children:[Fe&&(typeof s.appearance.loginMessage=="string"?M.jsx(wje,{children:s.appearance.loginMessage}):M.jsx(xje,{children:s.appearance.loginMessage})),M.jsx(JK,{$colorScheme:s.appearance.palette.colorScheme,children:G==="default"&&j==="web2-first"?M.jsxs(M.Fragment,{children:[ee.length>je?ee.slice(0,je-1):ee,ee.length>je&&Ee,Ce&&oe,Ie&&M.jsx(fk,{chainType:s.appearance.walletChainType})]}):G==="default"&&j==="web3-first"?M.jsxs(M.Fragment,{children:[R&&M.jsxs(M.Fragment,{children:[Q.length>je?Q.slice(0,je-1):Q,Q.length>je&&oe]}),ee.length>ye&&Ee,ee.length===ye&&ee[0],Ie&&M.jsx(fk,{chainType:s.appearance.walletChainType})]}):G==="web2-overflow"?M.jsx(M.Fragment,{children:j==="web3-first"?ee:ee.slice(3)}):null})]})};let wje=ae.div.withConfig({displayName:"StyledSubtitle",componentId:"sc-b9aad528-0"})(["text-align:center;font-size:14px;margin-bottom:24px;"]),xje=ae.div.withConfig({displayName:"MessageContainer",componentId:"sc-b9aad528-1"})(["margin-bottom:24px;"]),bje=({priority:t,email:e,sms:n,social:i})=>t==="web2-first"?"Other socials":e&&n&&i.length>0||e&&i.length>0?"Log in with email or socials":n&&i.length>0?"Log in with sms or socials":e&&n?"Continue with email or sms":e?"Continue with email":n?"Continue with sms":"Log in with a social account",Eje=({priority:t,email:e,sms:n,social:i})=>t==="web2-first"||i.length>0?M.jsx(Rve,{}):e&&n?M.jsx(Oke,{}):e?M.jsx(s3,{}):n?M.jsx(HW,{}):null,Cje=({priority:t})=>t==="web2-first"?"Continue with a wallet":"Other wallets";const xx=({mostRecentlyUsedAccountType:t,smsAvailable:e,emailAvailable:n,prefilledType:i})=>n&&(t==="email"&&i!=="phone"||i==="email")||!e||t!=="phone"&&i!=="phone"?"email":"sms",RJ={component:()=>{let t=it();return t.loginMethodsAndOrder&&t.loginMethodsAndOrder.primary.length>0?M.jsx($J,{connectOnly:!0}):M.jsx(IJ,{connectOnly:!0})}},Sje=({contactMethod:t,authFlow:e,appName:n="Privy",whatsAppEnabled:i=!1,onBack:c,onCodeSubmit:m,onResend:s,errorMessage:g,success:r=!1,resendCountdown:a=0,onInvalidInput:v,onClearError:h})=>{let[u,l]=H.useState(xk);H.useEffect((()=>{g||l(xk)}),[g]);let o=async d=>{d.preventDefault();let p=d.currentTarget.value.replace(" ","");if(p==="")return;if(isNaN(Number(p)))return void v?.("Code should be numeric");h?.();let f=Number(d.currentTarget.name?.charAt(5)),y=[...p||[""]].slice(0,wk-f),w=[...u.slice(0,f),...y,...u.slice(f+y.length)];l(w);let x=Math.min(Math.max(f+y.length,0),wk-1);isNaN(Number(d.currentTarget.value))||document.querySelector(`input[name=code-${x}]`)?.focus(),w.every((b=>b&&!isNaN(+b)))&&(document.querySelector(`input[name=code-${x}]`)?.blur(),await m?.(w.join("")))};return M.jsx(Zt,{title:"Enter confirmation code",subtitle:M.jsxs("span",e==="email"?{children:["Please check ",M.jsx(bk,{children:t})," for an email from privy.io and enter your code below."]}:{children:["Please check ",M.jsx(bk,{children:t})," for a",i?" WhatsApp":""," message from ",n," and enter your code below."]}),icon:e==="email"?h7:Ac,onBack:c,showBack:!0,helpText:M.jsxs(Oje,{children:[M.jsxs("span",{children:["Didn't get ",e==="email"?"an email":"a message","?"]}),a?M.jsxs(Mje,{children:[M.jsx(Sme,{color:"var(--privy-color-foreground)",strokeWidth:1.33,height:"12px",width:"12px"}),M.jsx("span",{children:"Code sent"})]}):M.jsx(t0,{as:"button",size:"sm",onClick:s,children:"Resend code"})]}),children:M.jsx(Pje,{children:M.jsx(MDe,{children:M.jsxs(Ije,{children:[M.jsx("div",{children:u.map(((d,p)=>M.jsx("input",{name:`code-${p}`,type:"text",value:u[p],onChange:o,onKeyUp:f=>{f.key==="Backspace"&&(y=>{h?.(),l([...u.slice(0,y),"",...u.slice(y+1)]),y>0&&document.querySelector(`input[name=code-${y-1}]`)?.focus()})(p)},inputMode:"numeric",autoFocus:p===0,pattern:"[0-9]",className:`${r?"success":""} ${g?"fail":""}`,autoComplete:sn.isMobile?"one-time-code":"off"},p)))}),M.jsx(Rje,{$fail:!!g,$success:r,children:M.jsx("span",{children:g==="Invalid or expired verification code"?"Incorrect code":g||(r?"Success!":"")})})]})})})})};let wk=6,xk=Array(6).fill("");var Mv,$v,Tje=((Mv=Tje||{})[Mv.RESET_AFTER_DELAY=0]="RESET_AFTER_DELAY",Mv[Mv.CLEAR_ON_NEXT_VALID_INPUT=1]="CLEAR_ON_NEXT_VALID_INPUT",Mv),Aje=(($v=Aje||{})[$v.EMAIL=0]="EMAIL",$v[$v.SMS=1]="SMS",$v);const xu={component:()=>{let{navigate:t,lastScreen:e,navigateBack:n,setModalData:i,onUserCloseViaDialogOrKeybindRef:c}=lt(),m=it(),{closePrivyModal:s,resendEmailCode:g,resendSmsCode:r,getAuthMeta:a,loginWithCode:v,updateWallets:h,createAnalyticsEvent:u}=et(),{authenticated:l,logout:o,user:d}=Xt(),{whatsAppEnabled:p}=it(),[f,y]=H.useState(!1),[w,x]=H.useState(null),[b,E]=H.useState(null),[C,T]=H.useState(0);c.current=()=>null;let S=a()?.email?0:1,A=S===0?a()?.email||"":a()?.phoneNumber||"";return H.useEffect((()=>{if(C){let P=setTimeout((()=>{T(C-1)}),1e3);return()=>clearTimeout(P)}}),[C]),H.useEffect((()=>{if(l&&f&&d){if(m?.legal.requireUsersAcceptTerms&&!d.hasAcceptedTerms){let P=setTimeout((()=>{t(kd)}),900);return()=>clearTimeout(P)}if(Uc(d,m.embeddedWallets)){let P=setTimeout((()=>{i({createWallet:{onSuccess:()=>{},onFailure:R=>{console.error(R),u({eventName:"embedded_wallet_creation_failure_logout",payload:{error:R,screen:"AwaitingPasswordlessCodeScreen"}}),o()},callAuthOnSuccessOnClose:!0}}),t(Cu)}),900);return()=>clearTimeout(P)}{h();let P=setTimeout((()=>s({shouldCallAuthOnSuccess:!0,isSuccess:!0})),Yn);return()=>clearTimeout(P)}}}),[l,f,d]),H.useEffect((()=>{if(w&&b===0){let P=setTimeout((()=>{x(null),E(null),document.querySelector("input[name=code-0]")?.focus()}),1400);return()=>clearTimeout(P)}}),[w,b]),M.jsx(Sje,{contactMethod:A,authFlow:S===0?"email":"sms",appName:m?.name,whatsAppEnabled:p,onBack:()=>n(),onCodeSubmit:async P=>{try{await v(P),y(!0)}catch(R){if(R instanceof Vs&&R.privyErrorCode===we.INVALID_CREDENTIALS)x("Invalid or expired verification code"),E(0);else if(R instanceof Vs&&R.privyErrorCode===we.CANNOT_LINK_MORE_OF_TYPE)x(R.message);else{if(R instanceof Vs&&R.privyErrorCode===we.USER_LIMIT_REACHED)return console.error(new t1(R).toString()),void t(A1);if(R instanceof Vs&&R.privyErrorCode===we.USER_DOES_NOT_EXIST)return void t(S1);if(R instanceof Vs&&R.privyErrorCode===we.LINKED_TO_ANOTHER_USER)return i({errorModalData:{error:R,previousScreen:e??xu}}),void t(Xn,!1);if(R instanceof Vs&&R.privyErrorCode===we.DISALLOWED_PLUS_EMAIL)return i({inlineError:{error:R}}),void t(RJ,!1);if(R instanceof Vs&&R.privyErrorCode===we.ACCOUNT_TRANSFER_REQUIRED&&R.data?.data?.nonce)return i({accountTransfer:{nonce:R.data?.data?.nonce,account:A,displayName:R.data?.data?.account?.displayName,linkMethod:S===0?"email":"sms",embeddedWalletAddress:R.data?.data?.otherUser?.embeddedWalletAddress}}),void t(Nd);x("Issue verifying code"),E(0)}}},onResend:async()=>{T(30),S===0?await g():await r()},errorMessage:w||void 0,success:f,resendCountdown:C,onInvalidInput:P=>{x(P),E(1)},onClearError:()=>{b===1&&(x(null),E(null))}})}};let Pje=ae.div.withConfig({displayName:"PasswordlessCodeContainer",componentId:"sc-63a7dae3-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin:auto;gap:16px;flex-grow:1;width:100%;"]),Ije=ae.div.withConfig({displayName:"CodeInput",componentId:"sc-63a7dae3-1"})(["display:flex;flex-direction:column;width:100%;gap:12px;> div:first-child{display:flex;justify-content:center;gap:0.5rem;width:100%;border-radius:var(--privy-border-radius-sm);> input{border:1px solid var(--privy-color-foreground-4);background:var(--privy-color-background);border-radius:var(--privy-border-radius-sm);padding:8px 10px;height:48px;width:40px;text-align:center;font-size:18px;font-weight:600;color:var(--privy-color-foreground);transition:all 0.2s ease;}> input:focus{border:1px solid var(--privy-color-foreground);box-shadow:0 0 0 1px var(--privy-color-foreground);}> input:invalid{border:1px solid var(--privy-color-error);}> input.success{border:1px solid var(--privy-color-border-success);background:var(--privy-color-success-bg);}> input.fail{border:1px solid var(--privy-color-border-error);background:var(--privy-color-error-bg);animation:shake 180ms;animation-iteration-count:2;}}@keyframes shake{0%{transform:translate(1px,0px);}33%{transform:translate(-1px,0px);}67%{transform:translate(-1px,0px);}100%{transform:translate(1px,0px);}}"]),Rje=ae.div.withConfig({displayName:"InputHelp",componentId:"sc-63a7dae3-2"})(["line-height:20px;min-height:20px;font-size:14px;font-weight:400;color:",";display:flex;justify-content:center;width:100%;text-align:center;"],(t=>t.$success?"var(--privy-color-success-dark)":t.$fail?"var(--privy-color-error-dark)":"transparent")),Oje=ae.div.withConfig({displayName:"HelpTextContainer",componentId:"sc-63a7dae3-3"})(["display:flex;gap:8px;align-items:center;justify-content:center;width:100%;color:var(--privy-color-foreground-2);"]),Mje=ae.div.withConfig({displayName:"Badge",componentId:"sc-63a7dae3-4"})(["display:flex;align-items:center;justify-content:center;border-radius:var(--privy-border-radius-sm);padding:2px 8px;gap:4px;background:var(--privy-color-background-2);color:var(--privy-color-foreground-2);"]),bk=ae.span.withConfig({displayName:"BoldWrappingSpan",componentId:"sc-63a7dae3-5"})(["font-weight:500;word-break:break-all;color:var(--privy-color-foreground);"]);const OJ=H.forwardRef(((t,e)=>{let[n,i]=H.useState(t.defaultValue||""),[c,m]=H.useState(""),[s,g]=H.useState(!1),{authenticated:r}=Xt(),{initLoginWithEmail:a}=et(),{navigate:v,setModalData:h,currentScreen:u,data:l}=lt(),{enabled:o,token:d}=As(),[p,f]=H.useState(!1),{accountType:y}=Bc(),w=it();H.useEffect((()=>{!n&&w.disablePlusEmails&&l?.inlineError?.error instanceof Di&&l?.inlineError?.error.privyErrorCode===we.DISALLOWED_PLUS_EMAIL&&!c&&m("Please enter a valid email address without a '+'."),c&&m("")}),[n]);let x=$K(n),b=s||!x,E=()=>{h({login:l?.login,inlineError:void 0}),!o||d||r?(C=>{g(!0),a({email:n,captchaToken:C,disableSignup:l?.login?.disableSignup,withPrivyUi:!0}).then((()=>{v(xu)})).catch((T=>{h({errorModalData:{error:T,previousScreen:u||Ni}}),v(Xn)})).finally((()=>{g(!1)}))})(d):(h({captchaModalData:{callback:C=>a({email:n,captchaToken:C,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:xu,onErrorNavigateTo:Xn}}),v(Ao))};return M.jsxs(M.Fragment,{children:[M.jsxs($je,{children:[c&&M.jsx(hd,{style:{display:"block",marginTop:"0.25rem",textAlign:"left"},children:c}),M.jsxs(Fje,{stacked:t.stacked,$error:!!c,children:[M.jsx(Lje,{children:M.jsx(s3,{})}),M.jsx("input",{ref:e,id:"email-input",className:"login-method-button",type:"email",placeholder:"your@email.com",onFocus:()=>f(!0),onChange:C=>i(C.target.value),onKeyUp:C=>{C.key==="Enter"&&E()},value:n,autoComplete:"email"}),y!=="email"||p?t.stacked?M.jsx("span",{}):M.jsx(tb,{isSubmitting:s,onClick:E,disabled:b,children:"Submit"}):M.jsx(xl,{color:"gray",children:"Recent"})]})]}),t.stacked?M.jsx(Cn,{loadingText:null,loading:s,disabled:b,onClick:E,style:{width:"100%"},children:"Submit"}):null]})}));let $je=UZ,Fje=xke,Lje=ae(ho).withConfig({displayName:"StyledLoginMethodIconWrapper",componentId:"sc-e33d938a-0"})(["display:inline-flex;"]);const MJ=({isEditable:t,setIsEditable:e,defaultValue:n})=>{let i=H.useRef(null);return M.jsxs(M.Fragment,{children:[M.jsx(e0,{$if:!t,children:M.jsx(OJ,{ref:i,defaultValue:n})}),M.jsx(e0,{$if:t,children:M.jsxs(_n,{onClick:()=>{e(),setTimeout((()=>{i.current?.focus()}),0)},children:[M.jsx(ho,{children:M.jsx(s3,{})}),"Continue with Email"]})})]})},$J=({connectOnly:t})=>{let{closePrivyModal:e,connectors:n}=et(),{onUserCloseViaDialogOrKeybindRef:i,data:c}=lt(),m=it(),{appearance:{palette:{colorScheme:s}}}=it(),{accountType:g,walletClientType:r,chainType:a}=Bc(),v=H.useMemo((()=>g&&g!=="guest"&&g!=="authorization_key"&&g!=="cross_app"?fb(g):null),[g]),h=m.loginMethodsAndOrder?.primary??[],u=m.loginMethodsAndOrder?.overflow??[],l=H.useMemo((()=>[...h,...u]),[h,u]),o=m.loginMethods.passkey,d=c?.login,p=[];r&&l.includes(r)?p.push(r):g&&l.includes(v?.loginMethod)&&p.push(v?.loginMethod);let[f,y]=H.useState("default"),[w,x]=H.useState(xx({mostRecentlyUsedAccountType:g,smsAvailable:l.includes("sms"),emailAvailable:l.includes("email"),prefilledType:d?.prefill?.type}));H.useEffect((()=>{x(xx({mostRecentlyUsedAccountType:g,smsAvailable:l.includes("sms"),emailAvailable:l.includes("email"),prefilledType:d?.prefill?.type}))}),[l,g]),H.useEffect((()=>{g==="phone"&&x("sms");let R=l.indexOf("sms"),L=l.indexOf("email");R>-1&&R<L&&x("sms")}),[g,h,u]);let b=()=>{e({shouldCallAuthOnSuccess:!0}),setTimeout((()=>{y("default")}),150)};i.current=b;let E=R=>R==="email"?M.jsx(MJ,{isEditable:w==="email",setIsEditable:()=>{x("email")},defaultValue:d?.prefill?.type==="email"?d.prefill.value:void 0},R):R==="sms"?M.jsx(SJ,{isEditable:w==="sms",setIsEditable:()=>{x("sms")},defaultValue:d?.prefill?.type==="phone"?d.prefill.value:void 0},R):R==="apple"?M.jsx(nr,{provider:"apple"},R):R==="discord"?M.jsx(nr,{provider:"discord"},R):R==="farcaster"?M.jsx(EJ,{},R):R==="github"?M.jsx(nr,{provider:"github"},R):R==="google"?M.jsx(nr,{provider:"google"},R):R==="linkedin"?M.jsx(nr,{provider:"linkedin"},R):R==="spotify"?M.jsx(nr,{provider:"spotify"},R):R==="instagram"?M.jsx(nr,{provider:"instagram"},R):R==="tiktok"?M.jsx(nr,{provider:"tiktok"},R):R==="line"?M.jsx(nr,{provider:"line"},R):R==="twitch"?M.jsx(nr,{provider:"twitch"},R):R==="twitter"?M.jsx(nr,{provider:"twitter"},R):R==="telegram"?M.jsx(AJ,{},R):R.startsWith("privy:")?M.jsx(UNe,{appId:R.replace("privy:","")},R):aJ({walletList:m.appearance.walletList,walletChainType:d?.walletChainType??m.appearance.walletChainType,connectors:n,connectOnly:t,ignore:l,walletConnectEnabled:m.externalWallets.walletConnect.enabled,forceWallet:{wallet:R,chainType:a??"ethereum"}}),C=p.flatMap(E),T=h.filter((R=>R!==r&&R!==v?.loginMethod)).flatMap(E),S=u.filter((R=>R!==r&&R!==v?.loginMethod)).flatMap(E),[A,P]=((R,L)=>{let D=[],$=[];for(let[F,N]of R.entries())F<L?D.push(N):$.push(N);return[D,$]})([...C,...T,...S],Dje({primary:T.length+C.length,overflow:S.length}));return M.jsxs(M.Fragment,{children:[M.jsx(Vt,{title:m.appearance.landingHeader,onClose:b,backFn:f==="default"?void 0:()=>{y("default")}}),f==="default"&&M.jsx(Nje,{}),f==="default"&&(typeof m.appearance.loginMessage=="string"?M.jsx(OLe,{children:m.appearance.loginMessage}):m.appearance.loginMessage),M.jsx(ILe,{style:{overflow:"hidden"},children:M.jsxs(JK,{$colorScheme:s,children:[f==="default"&&M.jsxs(M.Fragment,{children:[A,P.length>0&&M.jsx(PJ,{text:"More options",icon:M.jsx(vme,{}),onClick:()=>y("overflow")})]}),f==="overflow"&&M.jsx(M.Fragment,{children:P}),o&&f==="default"&&M.jsx(CJ,{})]})}),m&&M.jsx(xA,{app:m}),M.jsx(dn,{})]})};let Dje=({primary:t,overflow:e})=>t<5?t:t===5&&e===0?5:4,Nje=ae(NNe).withConfig({displayName:"StyledAppLogoHeader",componentId:"sc-7cdadd41-0"})(["margin-bottom:16px;"]);const Ni={component:()=>{let t=it();return t.loginMethodsAndOrder&&t.loginMethodsAndOrder.primary.length>0?M.jsx($J,{connectOnly:!1}):M.jsx(IJ,{connectOnly:!1})},isCaptchaRequired:!0,isUnauthenticatedScreem:!0},FJ={component:()=>{let[t,e]=H.useState(null),[n,i]=H.useState(!1),[c,m]=H.useState(null),[s,g]=H.useState(""),{authenticated:r,user:a}=Xt(),{client:v,walletProxy:h,refreshSessionAndUser:u,closePrivyModal:l,createAnalyticsEvent:o}=et(),{navigate:d,data:p,onUserCloseViaDialogOrKeybindRef:f}=lt(),y=it(),{onSuccess:w,onFailure:x}=p.setWalletPassword,b=bo(a),E=t?.recoveryMethod==="user-passcode",C=b?.recoveryMethod==="user-passcode";H.useEffect((()=>{r||(d(Ni),x(new x0e("User must be authenticated before setting a password on a Privy wallet")))}),[r]);let T=()=>c?(x(c),void l({shouldCallAuthOnSuccess:!1})):E?(w(t),void l({shouldCallAuthOnSuccess:!1})):(x(new Ec("Exited before password was added to wallet")),void l({shouldCallAuthOnSuccess:!1}));return f.current=T,M.jsx(PZ,{appName:y?.name||"privy",config:{initiatedBy:"user",onCancel:T},error:c?"An error has occurred, please try again.":void 0,buttonLoading:n,buttonHideAnimations:!1,password:s,isResettingPassword:C,onPasswordGenerate:()=>g(AZ()),onPasswordChange:g,onSubmit:async()=>{E?(w(t),l({shouldCallAuthOnSuccess:!1})):(i(!0),m(null),await(async()=>{let S=await v.getAccessToken();if(S&&a&&b?.address&&s&&h)try{o({eventName:"embedded_wallet_set_recovery_started",payload:{walletAddress:b.address,existingRecoveryMethod:b.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:C}});let{entropyId:A,entropyIdVerifier:P}=io(a);if(!(await h.setRecovery({accessToken:S,entropyId:A,entropyIdVerifier:P,recoveryPassword:s,recoveryMethod:"user-passcode"})).entropyId)return m(new Ec("Error setting password on privy wallet")),void o({eventName:"embedded_wallet_set_recovery_failed",payload:{walletAddress:b.address,existingRecoveryMethod:b.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:C,reason:"error setting password"}});let R=await u(),L=bo(R);if(!L)return m(new Ec("Error setting password on privy wallet")),void o({eventName:"embedded_wallet_set_recovery_failed",payload:{walletAddress:b.address,existingRecoveryMethod:b.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:C,reason:"wallet disconnected"}});e(L),o({eventName:"embedded_wallet_set_recovery_completed",payload:{walletAddress:b.address,existingRecoveryMethod:b.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:C}})}catch(A){console.warn(A),m(A instanceof Error?A:Error("Error setting password on privy wallet")),o({eventName:"embedded_wallet_set_password_failed",payload:{walletAddress:b.address,reason:A}})}})(),i(!1))},onClose:T})}},kje=({onClose:t,onProceed:e})=>M.jsx(Zt,{title:"Secure Your Account",subtitle:M.jsxs(M.Fragment,{children:["Please set a password to secure your account.",M.jsx("br",{}),"Losing access to this password and this device will make your account inaccessible."]}),icon:n7,primaryCta:{label:"Add password",onClick:e},onClose:t,watermark:!0}),Bje={component:()=>{let{closePrivyModal:t}=et(),{data:e,navigate:n,onUserCloseViaDialogOrKeybindRef:i}=lt(),{onFailure:c}=e.setWalletPassword,m=()=>{c(new Ec("Exited before password was added to wallet")),t({shouldCallAuthOnSuccess:!1})};return i.current=m,M.jsx(kje,{onClose:m,onProceed:()=>{n(FJ)}})}},Uje={component:()=>{let[t,e]=H.useState(!0),{authenticated:n,user:i}=Xt(),{walletProxy:c,closePrivyModal:m,createAnalyticsEvent:s,client:g}=et(),{navigate:r,data:a,onUserCloseViaDialogOrKeybindRef:v}=lt(),[h,u]=H.useState(void 0),[l,o]=H.useState(""),[d,p]=H.useState(!1),{entropyId:f,entropyIdVerifier:y,onCompleteNavigateTo:w,onSuccess:x,onFailure:b}=a.recoverWallet,E=(C="User exited before their wallet could be recovered")=>{m({shouldCallAuthOnSuccess:!1}),b(typeof C=="string"?new Ec(C):C)};return v.current=E,H.useEffect((()=>{if(!n)return E("User must be authenticated and have a Privy wallet before it can be recovered")}),[n]),M.jsxs(xn,{children:[M.jsx(xn.Header,{icon:nd,title:"Enter your password",subtitle:"Please provision your account on this new device. To continue, enter your recovery password.",showClose:!0,onClose:E}),M.jsx(xn.Body,{children:M.jsx(jje,{children:M.jsxs("div",{children:[M.jsxs(lb,{children:[M.jsx(OA,{type:t?"password":"text",onChange:C=>(T=>{T&&u(T)})(C.target.value),disabled:d,style:{paddingRight:"2.3rem"}}),M.jsx(cb,{style:{right:"0.75rem"},children:t?M.jsx(hb,{onClick:()=>e(!1)}):M.jsx(db,{onClick:()=>e(!0)})})]}),!!l&&M.jsx(zje,{children:l})]})})}),M.jsxs(xn.Footer,{children:[M.jsx(xn.HelpText,{children:M.jsxs(FDe,{children:[M.jsx("h4",{children:"Why is this necessary?"}),M.jsx("p",{children:"You previously set a password for this wallet. This helps ensure only you can access it"})]})}),M.jsx(xn.Actions,{children:M.jsx(Wje,{loading:d||!c,disabled:!h,onClick:async()=>{p(!0);let C=await g.getAccessToken(),T=Ql(i,f);if(!C||!T||h===null)return E("User must be authenticated and have a Privy wallet before it can be recovered");try{s({eventName:"embedded_wallet_recovery_started",payload:{walletAddress:T.address}}),await c?.recover({accessToken:C,entropyId:f,entropyIdVerifier:y,recoveryPassword:h}),o(""),w?r(w):m({shouldCallAuthOnSuccess:!1}),x?.(T),s({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:T.address}})}catch(S){(function(A){return A0(A)&&(A.type==="invalid_recovery_pin"||A.type==="invalid_request_arguments")})(S)?o("Invalid recovery password, please try again."):o("An error has occurred, please try again.")}finally{p(!1)}},$hideAnimations:!f&&d,children:"Recover your account"})}),M.jsx(xn.Watermark,{})]})]})}};let jje=ae.div.withConfig({displayName:"Content",componentId:"sc-f366413c-0"})(["display:flex;flex-direction:column;gap:1.5rem;"]),zje=ae.div.withConfig({displayName:"ErrorMessage",componentId:"sc-f366413c-1"})(["line-height:20px;height:20px;font-size:13px;color:var(--privy-color-error);text-align:left;margin-top:0.5rem;"]),Wje=ae(Cn).withConfig({displayName:"NoAnimationPrimaryButton",componentId:"sc-f366413c-2"})(["",""],(({$hideAnimations:t})=>t&&Wr(["&&{transition:none;}"])));const Gje={component:()=>{let{navigate:t,data:e,onUserCloseViaDialogOrKeybindRef:n}=lt(),i=it(),[c,m]=H.useState(""),[s,g]=H.useState(!1),[r,a]=H.useState(),[v,h]=H.useState(null),{create:u}=IA(),{authenticated:l,user:o}=Xt(),{closePrivyModal:d,isNewUserThisSession:p,initializeWalletProxy:f}=et(),{onSuccess:y,onFailure:w,callAuthOnSuccessOnClose:x,shouldCreateEth:b,shouldCreateSol:E}=e.createWallet,[C,T]=H.useState(null),S=new Gi((async()=>{try{let A;if(b&&E)A=await u({recoveryMethod:"user-passcode",recoveryPassword:r,chainType:"ethereum",walletIndex:0,latestUser:o}),A=await u({chainType:"solana",walletIndex:0,latestUser:A.user});else if(E)A=await u({recoveryMethod:"user-passcode",recoveryPassword:r,chainType:"solana",walletIndex:0,latestUser:o});else{if(!b)throw Error("Invalid args to create wallet");A=await u({recoveryMethod:"user-passcode",recoveryPassword:r,chainType:"ethereum",walletIndex:0,latestUser:o})}T(A),p?t(RA):(y(A),d({shouldCallAuthOnSuccess:x}))}catch(A){m(A.message)}}));return H.useEffect((()=>{v||f(3e4).then((A=>h(A)))}),[v]),H.useEffect((()=>{if(!l||!o)return t(Ni),void w(Error("User must be authenticated before creating a Privy wallet"))}),[l]),n.current=()=>null,M.jsx(PZ,{config:{initiatedBy:"automatic"},appName:i?.name||"privy",loading:!v,buttonLoading:s,buttonHideAnimations:!C&&s,isResettingPassword:!1,error:c,password:r||"",onClose:()=>{C&&C.account.recoveryMethod!=="user-passcode"?(w(new Ec("User created a wallet but failed to set a password for it")),d({shouldCallAuthOnSuccess:!1})):C?(y(C),d({shouldCallAuthOnSuccess:x})):(w(new Ec("User wallet creation failed")),d({shouldCallAuthOnSuccess:!1}))},onPasswordChange:a,onPasswordGenerate:()=>a(AZ()),onSubmit:async()=>(g(!0),S.execute().then((()=>new Promise((A=>setTimeout(A,250))))).finally((()=>g(!1))))})}},Vje=ae.div.withConfig({displayName:"WithCircleBorder",componentId:"sc-e4fc5563-0"})(["&&{border-width:4px;}display:flex;justify-content:center;align-items:center;padding:1rem;aspect-ratio:1;border-style:solid;border-color:",";border-radius:50%;"],(t=>t.$color??"var(--privy-color-accent)")),Hje={component:()=>{let{user:t}=Xt(),{client:e,walletProxy:n,refreshSessionAndUser:i,closePrivyModal:c}=et(),m=lt(),{entropyId:s,entropyIdVerifier:g}=m.data?.recoverWallet,[r,a]=H.useState(!1),[v,h]=H.useState(null),[u,l]=H.useState(null);function o(){if(!r){if(u)return m.data?.setWalletPassword?.onFailure(u),void c();if(!v)return m.data?.setWalletPassword?.onFailure(Error("User exited set recovery flow")),void c()}}m.onUserCloseViaDialogOrKeybindRef.current=o;let d=!(!r&&!v);return M.jsxs(M.Fragment,u?{children:[M.jsx(Vt,{onClose:o},"header"),M.jsx(Vje,{$color:"var(--privy-color-error)",style:{alignSelf:"center"},children:M.jsx(bd,{height:38,width:38,stroke:"var(--privy-color-error)"})}),M.jsx(Oc,{style:{marginTop:"0.5rem"},children:"Something went wrong"}),M.jsx(qp,{style:{minHeight:"2rem"}}),M.jsx(px,{onClick:()=>l(null),children:"Try again"}),M.jsx(dn,{})]}:{children:[M.jsx(Vt,{onClose:o},"header"),M.jsx(LG,{style:{width:"3rem",height:"3rem",alignSelf:"center"}}),M.jsx(Oc,{style:{marginTop:"0.5rem"},children:"Automatically secure your account"}),M.jsx(dd,{style:{marginTop:"1rem"},children:"When you log into a new device, youll only need to authenticate to access your account. Never get logged out if you forget your password."}),M.jsx(qp,{style:{minHeight:"2rem"}}),M.jsx(px,{loading:r,disabled:d,onClick:()=>(async function(){a(!0);try{let p=await e.getAccessToken(),f=Ql(t,s);if(!p||!n||!f)return;if(!(await n.setRecovery({accessToken:p,entropyId:s,entropyIdVerifier:g,existingRecoveryMethod:f.recoveryMethod,recoveryMethod:"privy"})).entropyId)throw Error("Unable to set recovery on wallet");let y=await i();if(!y)throw Error("Unable to set recovery on wallet");let w=Ql(y,f.address);if(!w)throw Error("Unabled to set recovery on wallet");h(!!y),setTimeout((()=>{m.data?.setWalletPassword?.onSuccess(w),c()}),Yn)}catch(p){l(p)}finally{a(!1)}})(),children:v?"Success":"Confirm"}),M.jsx(dn,{})]})}};function LJ({isCreatingWallet:t,skipSplashScreen:e}){return t?Gje:e?FJ:Bje}function DJ({walletAction:t,availableRecoveryMethods:e,legacySetWalletPasswordFlow:n,isResettingPassword:i,showAutomaticRecovery:c}){return c?Hje:n||e.length===1?LJ({isCreatingWallet:t==="create",skipSplashScreen:i}):lT}function NJ(t){switch(t){case"user-passcode":return Uje;case"google-drive":case"icloud":return yZ;default:throw Error("Recovery method not supported")}}const Yje=({address:t,accessToken:e,appConfigTheme:n,onClose:i,isLoading:c=!1,exportButtonProps:m})=>M.jsx(Zt,{title:"Export wallet",subtitle:M.jsxs(M.Fragment,{children:["Copy either your private key or seed phrase to export your wallet."," ",M.jsx("a",{href:"https://privy-io.notion.site/Transferring-your-account-9dab9e16c6034a7ab1ff7fa479b02828",target:"blank",rel:"noopener noreferrer",children:"Learn more"})]}),onClose:i,watermark:!0,children:M.jsxs(Xje,{children:[M.jsx(eJ,{theme:n,children:"Never share your private key or seed phrase with anyone."}),M.jsx(mb,{title:"Your wallet",address:t,showCopyButton:!0}),M.jsx("div",{style:{width:"100%"},children:c?M.jsx(Kje,{}):e&&m&&M.jsx(_je,{accessToken:e,dimensions:{height:"44px"},...m})})]})});let Xje=ae.div.withConfig({displayName:"ContentContainer",componentId:"sc-39a41d8e-0"})(["display:flex;flex-direction:column;gap:1.25rem;text-align:left;"]),Kje=()=>M.jsx(Zje,{children:M.jsx(Jje,{children:"Loading..."})}),Zje=ae.div.withConfig({displayName:"PlaceholderContainer",componentId:"sc-39a41d8e-1"})(["display:flex;gap:12px;height:44px;"]),Jje=ae.div.withConfig({displayName:"PlaceholderButton",componentId:"sc-39a41d8e-2"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:16px;font-weight:500;border-radius:var(--privy-border-radius-md);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);"]);function _je(t){let[e,n]=H.useState(t.dimensions.width),[i,c]=H.useState(void 0),m=H.useRef(null);H.useEffect((()=>{if(m.current&&e===void 0){let{width:r}=m.current.getBoundingClientRect();n(r)}let g=getComputedStyle(document.documentElement);c({background:g.getPropertyValue("--privy-color-background"),background2:g.getPropertyValue("--privy-color-background-2"),foreground3:g.getPropertyValue("--privy-color-foreground-3"),foregroundAccent:g.getPropertyValue("--privy-color-foreground-accent"),accent:g.getPropertyValue("--privy-color-accent"),accentDark:g.getPropertyValue("--privy-color-accent-dark"),success:g.getPropertyValue("--privy-color-success"),colorScheme:g.getPropertyValue("color-scheme")})}),[]);let s=t.chainType==="ethereum"&&!t.imported&&!t.isUnifiedWallet;return M.jsx("div",{ref:m,children:e&&M.jsxs(Qje,{children:[M.jsx("iframe",{style:{position:"absolute",zIndex:1},width:e,height:t.dimensions.height,allow:"clipboard-write self *",src:EG({origin:t.origin,path:`/apps/${t.appId}/embedded-wallets/export`,query:t.isUnifiedWallet?{v:"1-unified",wallet_id:t.walletId,client_id:t.appClientId,width:`${e}px`,caid:t.clientAnalyticsId,phrase_export:s,...i}:{v:"1",entropy_id:t.entropyId,entropy_id_verifier:t.entropyIdVerifier,hd_wallet_index:t.hdWalletIndex,chain_type:t.chainType,client_id:t.appClientId,width:`${e}px`,caid:t.clientAnalyticsId,phrase_export:s,...i},hash:{token:t.accessToken}})}),M.jsx(Ek,{children:"Loading..."}),s&&M.jsx(Ek,{children:"Loading..."})]})})}const kJ={component:()=>{let[t,e]=H.useState(null),{authenticated:n,user:i}=Xt(),{closePrivyModal:c,createAnalyticsEvent:m,clientAnalyticsId:s,client:g}=et(),r=it(),{data:a,onUserCloseViaDialogOrKeybindRef:v}=lt(),{onFailure:h,onSuccess:u,origin:l,appId:o,appClientId:d,entropyId:p,entropyIdVerifier:f,walletId:y,hdWalletIndex:w,chainType:x,address:b,isUnifiedWallet:E,imported:C}=a.keyExport,T=A=>{c({shouldCallAuthOnSuccess:!1}),h(typeof A=="string"?Error(A):A)},S=()=>{c({shouldCallAuthOnSuccess:!1}),u(),m({eventName:"embedded_wallet_key_export_completed",payload:{walletAddress:b}})};return H.useEffect((()=>{if(!n)return T("User must be authenticated before exporting their wallet");g.getAccessToken().then(e).catch(T)}),[n,i]),v.current=S,M.jsx(Yje,{address:b,accessToken:t,appConfigTheme:r.appearance.palette.colorScheme,onClose:S,isLoading:!t,exportButtonProps:t?{origin:l,appId:o,appClientId:d,clientAnalyticsId:s,entropyId:p,entropyIdVerifier:f,walletId:y,hdWalletIndex:w,isUnifiedWallet:E,imported:C,chainType:x}:void 0})}};let Qje=ae.div.withConfig({displayName:"ButtonContainer",componentId:"sc-39a41d8e-3"})(["overflow:visible;position:relative;overflow:none;height:44px;display:flex;gap:12px;"]),Ek=ae.div.withConfig({displayName:"LoadingButton",componentId:"sc-39a41d8e-4"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:16px;font-weight:500;border-radius:var(--privy-border-radius-md);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);"]);const qje=({connectionFailed:t,onClose:e})=>M.jsx(Zt,t?{title:"Something went wrong",subtitle:"We're on it. Please try again later.",icon:i3,iconVariant:"error",primaryCta:{label:"Close",onClick:e},watermark:!0}:{title:"Connecting to your wallet",subtitle:"Please wait...",iconVariant:"loading",showClose:!0,onClose:e,watermark:!1}),Fv={component:()=>{let{authenticated:t,user:e}=Xt(),{client:n,closePrivyModal:i,createAnalyticsEvent:c,walletProxy:m}=et(),{navigate:s,data:g,setModalData:r,onUserCloseViaDialogOrKeybindRef:a}=lt(),v=H.useMemo((()=>Date.now()),[]),[h,u]=H.useState(!1),{onCompleteNavigateTo:l,onFailure:o,shouldForceMFA:d,entropyId:p,entropyIdVerifier:f,recoveryMethod:y,connectingWalletAddress:w,isUnifiedWallet:x=!1}=g?.connectWallet,b=E=>{h||(u(!0),o(typeof E=="string"?Error(E):E))};return H.useEffect((()=>{let E;return t?m?((async()=>{let C=await n.getAccessToken();if(!C)return b("User must be authenticated and have a Privy wallet before it can be connected");try{x||await m.connect({accessToken:C,entropyId:p,entropyIdVerifier:f}),d&&await m.verifyMfa({accessToken:C});let T=(Date.now()-v)/1e3;l===kJ&&T<1?E=setTimeout((()=>{s(l,!1)}),1e3*(1-T)):s(l,!1)}catch(T){if(Im(T)&&y==="privy"){let S=await n.getAccessToken();if(!S)return b("User must be authenticated and have a Privy wallet before it can be recovered");try{c({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:w}}),(await m?.recover({accessToken:S,entropyId:p,entropyIdVerifier:f}))?.entropyId||b(Error("Unable to recover wallet")),l?s(l):i({shouldCallAuthOnSuccess:!1}),c({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:w}}),s(l)}catch{b("An error has occurred, please try again.")}}else Im(T)&&y!=="privy"&&y!=="privy-v2"?(r({...g,recoverWallet:{entropyId:p,entropyIdVerifier:f,onCompleteNavigateTo:l,onFailure:o},recoveryOAuthStatus:{provider:y,action:"recover",isInAccountCreateFlow:!1,shouldCreateEth:!1,shouldCreateSol:!1}}),s(NJ(y))):b(T)}})(),()=>clearTimeout(E)):void 0:b("User must be authenticated and have a Privy wallet before it can be connected")}),[t,e,m]),a.current=()=>{b("User exited before wallet could be connected"),i({shouldCallAuthOnSuccess:!1})},M.jsx(qje,{connectionFailed:h,onClose:()=>i({shouldCallAuthOnSuccess:!1})})}},eze=({style:t,color:e,...n})=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:e||"currentColor",style:{height:"1.5rem",width:"1.5rem",...t},...n,children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),zA=t=>{let[e,n]=H.useState(!1);return M.jsxs(tze,{color:t.color,onClick:()=>{n(!0),navigator.clipboard.writeText(t.text),setTimeout((()=>n(!1)),1500)},$justCopied:e,children:[e?M.jsx(eze,{style:{height:"14px",width:"14px"},strokeWidth:"2"}):M.jsx(NZ,{style:{height:"14px",width:"14px"}}),e?"Copied":"Copy"," ",t.itemName?t.itemName:"to Clipboard"]})};let tze=ae.button.withConfig({displayName:"StyledCopytoClipboardButton",componentId:"sc-46f4187f-0"})(["display:flex;align-items:center;gap:6px;&&{margin:8px 2px;font-size:14px;color:",";font-weight:",";transition:color 350ms ease;:focus,:active{background-color:transparent;border:none;outline:none;box-shadow:none;}:hover{color:",";}:active{color:'var(--privy-color-foreground)';font-weight:medium;}@media (max-width:440px){margin:12px 2px;}}svg{width:14px;height:14px;}"],(t=>t.$justCopied?"var(--privy-color-foreground)":t.color||"var(--privy-color-foreground-3)"),(t=>t.$justCopied?"medium":"normal"),(t=>t.$justCopied?"var(--privy-color-foreground)":"var(--privy-color-foreground-2)"));const nze=ae.img.withConfig({displayName:"StyledLogo",componentId:"sc-68c1b1ea-0"})(["&&{height:",";width:",";border-radius:16px;margin-bottom:12px;}"],(t=>t.size==="sm"?"65px":"140px"),(t=>t.size==="sm"?"65px":"140px"));let rze=t=>{if(!Li(t))return t;try{let e=Ste(t);return e.includes("")?t:e}catch{return t}},ize=t=>{try{let e=Z2.decode(t),n=new TextDecoder().decode(e);return n.includes("")?t:n}catch{return t}},sze=t=>JSON.stringify(t,null,2),aze=t=>{let{types:e,primaryType:n,...i}=t.typedData;return M.jsxs(M.Fragment,{children:[M.jsx(cze,{data:i}),M.jsx(zA,{text:sze(t.typedData),itemName:"full payload to clipboard"})," "]})};const oze=({method:t,messageData:e,copy:n,iconUrl:i,isLoading:c,success:m,walletProxyIsLoading:s,errorMessage:g,isCancellable:r,onSign:a,onCancel:v,onClose:h})=>M.jsx(Zt,{title:n.title,subtitle:n.description,showClose:!0,onClose:h,icon:Fve,iconVariant:"subtle",helpText:g?M.jsx(uze,{children:g}):void 0,primaryCta:{label:n.buttonText,onClick:a,disabled:c||m||s,loading:c},secondaryCta:r?{label:"Not now",onClick:v,disabled:c||m||s}:void 0,watermark:!0,children:M.jsxs(SA,{children:[i?M.jsx(nze,{style:{alignSelf:"center"},size:"sm",src:i,alt:"app image"}):null,M.jsxs(lze,{children:[t==="personal_sign"&&M.jsx(Sk,{children:rze(e)}),t==="eth_signTypedData_v4"&&M.jsx(aze,{typedData:e}),t==="solana_signMessage"&&M.jsx(Sk,{children:ize(e)})]})]})}),Ck={component:()=>{let{authenticated:t}=Xt(),{initializeWalletProxy:e,closePrivyModal:n}=et(),{navigate:i,data:c,onUserCloseViaDialogOrKeybindRef:m}=lt(),[s,g]=H.useState(!0),[r,a]=H.useState(""),[v,h]=H.useState(),[u,l]=H.useState(null),[o,d]=H.useState(!1);H.useEffect((()=>{t||i(Ni)}),[t]),H.useEffect((()=>{e(3e4).then((T=>{g(!1),T||(a("An error has occurred, please try again."),h(new Ri(new Pp(r,so.E32603_DEFAULT_INTERNAL_ERROR.eipCode))))}))}),[]);let{method:p,data:f,confirmAndSign:y,onSuccess:w,onFailure:x,uiOptions:b}=c.signMessage,E={title:b?.title||"Sign message",description:b?.description||"Signing this message will not cost you any fees.",buttonText:b?.buttonText||"Sign and continue"},C=T=>{T?w(T):x(v||new Ri(new Pp("The user rejected the request.",so.E4001_USER_REJECTED_REQUEST.eipCode))),n({shouldCallAuthOnSuccess:!1}),setTimeout((()=>{l(null),a(""),h(void 0)}),200)};return m.current=()=>{C(u)},M.jsx(oze,{method:p,messageData:f,copy:E,iconUrl:b?.iconUrl&&typeof b.iconUrl=="string"?b.iconUrl:void 0,isLoading:o,success:u!==null,walletProxyIsLoading:s,errorMessage:r,isCancellable:b?.isCancellable,onSign:async()=>{d(!0),a("");try{let T=await y();l(T),d(!1),setTimeout((()=>{C(T)}),Yn)}catch(T){console.error(T),a("An error has occurred, please try again."),h(new Ri(new Pp(r,so.E32603_DEFAULT_INTERNAL_ERROR.eipCode))),d(!1)}},onCancel:()=>C(null),onClose:()=>C(u)})}};let lze=ae.div.withConfig({displayName:"MessageContainer",componentId:"sc-e01d451f-0"})(["flex:1;display:flex;flex-direction:column;gap:16px;"]),uze=ae.p.withConfig({displayName:"ErrorText",componentId:"sc-e01d451f-1"})(["&&{margin:0;width:100%;text-align:center;color:var(--privy-color-error-dark);font-size:14px;line-height:22px;}"]),cze=ae(QZ).withConfig({displayName:"StyledDisplayJsonTree",componentId:"sc-e01d451f-2"})(["margin-top:0;"]),Sk=ae(_Z).withConfig({displayName:"StyledMessage",componentId:"sc-e01d451f-3"})(["margin-top:0;"]);class bl{constructor(e,n){this.scope=e,this.module=n}storeObject(e,n){this.setItem(e,JSON.stringify(n))}loadObject(e){const n=this.getItem(e);return n?JSON.parse(n):void 0}setItem(e,n){localStorage.setItem(this.scopedKey(e),n)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),n=[];for(let i=0;i<localStorage.length;i++){const c=localStorage.key(i);typeof c=="string"&&c.startsWith(e)&&n.push(c)}n.forEach(i=>localStorage.removeItem(i))}scopedKey(e){return`-${this.scope}${this.module?`:${this.module}`:""}:${e}`}static clearAll(){new bl("CBWSDK").clear(),new bl("walletlink").clear()}}const dr={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}},CT={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}},BJ="Unspecified error message.",hze="Unspecified server error.";function WA(t,e=BJ){if(t&&Number.isInteger(t)){const n=t.toString();if(ST(CT,n))return CT[n].message;if(UJ(t))return hze}return e}function dze(t){if(!Number.isInteger(t))return!1;const e=t.toString();return!!(CT[e]||UJ(t))}function fze(t,{shouldIncludeStack:e=!1}={}){const n={};if(t&&typeof t=="object"&&!Array.isArray(t)&&ST(t,"code")&&dze(t.code)){const i=t;n.code=i.code,i.message&&typeof i.message=="string"?(n.message=i.message,ST(i,"data")&&(n.data=i.data)):(n.message=WA(n.code),n.data={originalError:Tk(t)})}else n.code=dr.rpc.internal,n.message=Ak(t,"message")?t.message:BJ,n.data={originalError:Tk(t)};return e&&(n.stack=Ak(t,"stack")?t.stack:void 0),n}function UJ(t){return t>=-32099&&t<=-32e3}function Tk(t){return t&&typeof t=="object"&&!Array.isArray(t)?Object.assign({},t):t}function ST(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ak(t,e){return typeof t=="object"&&t!==null&&e in t&&typeof t[e]=="string"}const rn={rpc:{parse:t=>va(dr.rpc.parse,t),invalidRequest:t=>va(dr.rpc.invalidRequest,t),invalidParams:t=>va(dr.rpc.invalidParams,t),methodNotFound:t=>va(dr.rpc.methodNotFound,t),internal:t=>va(dr.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return va(e,t)},invalidInput:t=>va(dr.rpc.invalidInput,t),resourceNotFound:t=>va(dr.rpc.resourceNotFound,t),resourceUnavailable:t=>va(dr.rpc.resourceUnavailable,t),transactionRejected:t=>va(dr.rpc.transactionRejected,t),methodNotSupported:t=>va(dr.rpc.methodNotSupported,t),limitExceeded:t=>va(dr.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Vf(dr.provider.userRejectedRequest,t),unauthorized:t=>Vf(dr.provider.unauthorized,t),unsupportedMethod:t=>Vf(dr.provider.unsupportedMethod,t),disconnected:t=>Vf(dr.provider.disconnected,t),chainDisconnected:t=>Vf(dr.provider.chainDisconnected,t),unsupportedChain:t=>Vf(dr.provider.unsupportedChain,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:n,data:i}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new WJ(e,n,i)}}};function va(t,e){const[n,i]=jJ(e);return new zJ(t,n||WA(t),i)}function Vf(t,e){const[n,i]=jJ(e);return new WJ(t,n||WA(t),i)}function jJ(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,n]}}return[]}class zJ extends Error{constructor(e,n,i){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string.');super(n),this.code=e,i!==void 0&&(this.data=i)}}class WJ extends zJ{constructor(e,n,i){if(!pze(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,n,i)}}function pze(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function GA(){return t=>t}const Om=GA(),vze=GA(),gze=GA();function eu(t){return Math.floor(t)}const GJ=/^[0-9]*$/,VJ=/^[a-f0-9]*$/;function Ch(t){return VA(crypto.getRandomValues(new Uint8Array(t)))}function VA(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}function fw(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>Number.parseInt(e,16)))}function yg(t,e=!1){const n=t.toString("hex");return Om(e?`0x${n}`:n)}function KE(t){return yg(TT(t),!0)}function Zo(t){return gze(t.toString(10))}function wc(t){return Om(`0x${BigInt(t).toString(16)}`)}function HJ(t){return t.startsWith("0x")||t.startsWith("0X")}function HA(t){return HJ(t)?t.slice(2):t}function YJ(t){return HJ(t)?`0x${t.slice(2)}`:`0x${t}`}function bb(t){if(typeof t!="string")return!1;const e=HA(t).toLowerCase();return VJ.test(e)}function mze(t,e=!1){if(typeof t=="string"){const n=HA(t).toLowerCase();if(VJ.test(n))return Om(e?`0x${n}`:n)}throw rn.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}function YA(t,e=!1){let n=mze(t,!1);return n.length%2===1&&(n=Om(`0${n}`)),e?Om(`0x${n}`):n}function qu(t){if(typeof t=="string"){const e=HA(t).toLowerCase();if(bb(e)&&e.length===40)return vze(YJ(e))}throw rn.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}function TT(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string"){if(bb(t)){const e=YA(t,!1);return Buffer.from(e,"hex")}return Buffer.from(t,"utf8")}throw rn.rpc.invalidParams(`Not binary data: ${String(t)}`)}function wg(t){if(typeof t=="number"&&Number.isInteger(t))return eu(t);if(typeof t=="string"){if(GJ.test(t))return eu(Number(t));if(bb(t))return eu(Number(BigInt(YA(t,!0))))}throw rn.rpc.invalidParams(`Not an integer: ${String(t)}`)}function Lv(t){if(t!==null&&(typeof t=="bigint"||wze(t)))return BigInt(t.toString(10));if(typeof t=="number")return BigInt(wg(t));if(typeof t=="string"){if(GJ.test(t))return BigInt(t);if(bb(t))return BigInt(YA(t,!0))}throw rn.rpc.invalidParams(`Not an integer: ${String(t)}`)}function yze(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw rn.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}function wze(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}async function xze(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}async function bze(t,e){return crypto.subtle.deriveKey({name:"ECDH",public:e},t,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function Eze(t,e){const n=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.encrypt({name:"AES-GCM",iv:n},t,new TextEncoder().encode(e));return{iv:n,cipherText:i}}async function Cze(t,{iv:e,cipherText:n}){const i=await crypto.subtle.decrypt({name:"AES-GCM",iv:e},t,n);return new TextDecoder().decode(i)}function XJ(t){switch(t){case"public":return"spki";case"private":return"pkcs8"}}async function KJ(t,e){const n=XJ(t),i=await crypto.subtle.exportKey(n,e);return VA(new Uint8Array(i))}async function ZJ(t,e){const n=XJ(t),i=fw(e).buffer;return await crypto.subtle.importKey(n,new Uint8Array(i),{name:"ECDH",namedCurve:"P-256"},!0,t==="private"?["deriveKey"]:[])}async function Sze(t,e){const n=JSON.stringify(t,(i,c)=>{if(!(c instanceof Error))return c;const m=c;return Object.assign(Object.assign({},m.code?{code:m.code}:{}),{message:m.message})});return Eze(e,n)}async function Tze(t,e){return JSON.parse(await Cze(e,t))}const ZE={storageKey:"ownPrivateKey",keyType:"private"},JE={storageKey:"ownPublicKey",keyType:"public"},_E={storageKey:"peerPublicKey",keyType:"public"};class Aze{constructor(){this.storage=new bl("CBWSDK","SCWKeyManager"),this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(e){this.sharedSecret=null,this.peerPublicKey=e,await this.storeKey(_E,e),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,this.storage.removeItem(JE.storageKey),this.storage.removeItem(ZE.storageKey),this.storage.removeItem(_E.storageKey)}async generateKeyPair(){const e=await xze();this.ownPrivateKey=e.privateKey,this.ownPublicKey=e.publicKey,await this.storeKey(ZE,e.privateKey),await this.storeKey(JE,e.publicKey)}async loadKeysIfNeeded(){if(this.ownPrivateKey===null&&(this.ownPrivateKey=await this.loadKey(ZE)),this.ownPublicKey===null&&(this.ownPublicKey=await this.loadKey(JE)),(this.ownPrivateKey===null||this.ownPublicKey===null)&&await this.generateKeyPair(),this.peerPublicKey===null&&(this.peerPublicKey=await this.loadKey(_E)),this.sharedSecret===null){if(this.ownPrivateKey===null||this.peerPublicKey===null)return;this.sharedSecret=await bze(this.ownPrivateKey,this.peerPublicKey)}}async loadKey(e){const n=this.storage.getItem(e.storageKey);return n?ZJ(e.keyType,n):null}async storeKey(e,n){const i=await KJ(e.keyType,n);this.storage.setItem(e.storageKey,i)}}const I1="4.3.2",JJ="@coinbase/wallet-sdk";async function XA(t,e){const n=Object.assign(Object.assign({},t),{jsonrpc:"2.0",id:crypto.randomUUID()}),i=await window.fetch(e,{method:"POST",body:JSON.stringify(n),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":I1,"X-Cbw-Sdk-Platform":JJ}}),{result:c,error:m}=await i.json();if(m)throw m;return c}function Pze(){return globalThis.coinbaseWalletExtension}function Ize(){var t,e;try{const n=globalThis;return(t=n.ethereum)!==null&&t!==void 0?t:(e=n.top)===null||e===void 0?void 0:e.ethereum}catch{return}}function Rze({metadata:t,preference:e}){var n,i;const{appName:c,appLogoUrl:m,appChainIds:s}=t;if(e.options!=="smartWalletOnly"){const r=Pze();if(r)return(n=r.setAppInfo)===null||n===void 0||n.call(r,c,m,s,e),r}const g=Ize();if(g?.isCoinbaseBrowser)return(i=g.setAppInfo)===null||i===void 0||i.call(g,c,m,s,e),g}function Oze(t){if(!t||typeof t!="object"||Array.isArray(t))throw rn.rpc.invalidParams({message:"Expected a single, non-array, object argument.",data:t});const{method:e,params:n}=t;if(typeof e!="string"||e.length===0)throw rn.rpc.invalidParams({message:"'args.method' must be a non-empty string.",data:t});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw rn.rpc.invalidParams({message:"'args.params' must be an object or array if provided.",data:t});switch(e){case"eth_sign":case"eth_signTypedData_v2":case"eth_subscribe":case"eth_unsubscribe":throw rn.provider.unsupportedMethod()}}const Pk="accounts",Ik="activeChain",Rk="availableChains",Ok="walletCapabilities";class Mze{constructor(e){var n,i,c;this.metadata=e.metadata,this.communicator=e.communicator,this.callback=e.callback,this.keyManager=new Aze,this.storage=new bl("CBWSDK","SCWStateManager"),this.accounts=(n=this.storage.loadObject(Pk))!==null&&n!==void 0?n:[],this.chain=this.storage.loadObject(Ik)||{id:(c=(i=e.metadata.appChainIds)===null||i===void 0?void 0:i[0])!==null&&c!==void 0?c:1},this.handshake=this.handshake.bind(this),this.request=this.request.bind(this),this.createRequestMessage=this.createRequestMessage.bind(this),this.decryptResponseMessage=this.decryptResponseMessage.bind(this)}async handshake(e){var n,i,c,m;await((i=(n=this.communicator).waitForPopupLoaded)===null||i===void 0?void 0:i.call(n));const s=await this.createRequestMessage({handshake:{method:e.method,params:Object.assign({},this.metadata,(c=e.params)!==null&&c!==void 0?c:{})}}),g=await this.communicator.postRequestAndWaitForResponse(s);if("failure"in g.content)throw g.content.failure;const r=await ZJ("public",g.sender);await this.keyManager.setPeerPublicKey(r);const v=(await this.decryptResponseMessage(g)).result;if("error"in v)throw v.error;switch(e.method){case"eth_requestAccounts":{const h=v.value;this.accounts=h,this.storage.storeObject(Pk,h),(m=this.callback)===null||m===void 0||m.call(this,"accountsChanged",h);break}}}async request(e){var n;if(this.accounts.length===0)switch(e.method){case"wallet_sendCalls":return this.sendRequestToPopup(e);default:throw rn.provider.unauthorized()}switch(e.method){case"eth_requestAccounts":return(n=this.callback)===null||n===void 0||n.call(this,"connect",{chainId:wc(this.chain.id)}),this.accounts;case"eth_accounts":return this.accounts;case"eth_coinbase":return this.accounts[0];case"net_version":return this.chain.id;case"eth_chainId":return wc(this.chain.id);case"wallet_getCapabilities":return this.storage.loadObject(Ok);case"wallet_switchEthereumChain":return this.handleSwitchChainRequest(e);case"eth_ecRecover":case"personal_sign":case"wallet_sign":case"personal_ecRecover":case"eth_signTransaction":case"eth_sendTransaction":case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"wallet_sendCalls":case"wallet_showCallsStatus":case"wallet_grantPermissions":return this.sendRequestToPopup(e);default:if(!this.chain.rpcUrl)throw rn.rpc.internal("No RPC URL set for chain");return XA(e,this.chain.rpcUrl)}}async sendRequestToPopup(e){var n,i;await((i=(n=this.communicator).waitForPopupLoaded)===null||i===void 0?void 0:i.call(n));const c=await this.sendEncryptedRequest(e),s=(await this.decryptResponseMessage(c)).result;if("error"in s)throw s.error;return s.value}async cleanup(){var e,n;this.storage.clear(),await this.keyManager.clear(),this.accounts=[],this.chain={id:(n=(e=this.metadata.appChainIds)===null||e===void 0?void 0:e[0])!==null&&n!==void 0?n:1}}async handleSwitchChainRequest(e){var n;const i=e.params;if(!i||!(!((n=i[0])===null||n===void 0)&&n.chainId))throw rn.rpc.invalidParams();const c=wg(i[0].chainId);if(this.updateChain(c))return null;const s=await this.sendRequestToPopup(e);return s===null&&this.updateChain(c),s}async sendEncryptedRequest(e){const n=await this.keyManager.getSharedSecret();if(!n)throw rn.provider.unauthorized("No valid session found, try requestAccounts before other methods");const i=await Sze({action:e,chainId:this.chain.id},n),c=await this.createRequestMessage({encrypted:i});return this.communicator.postRequestAndWaitForResponse(c)}async createRequestMessage(e){const n=await KJ("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),sender:n,content:e,timestamp:new Date}}async decryptResponseMessage(e){var n,i;const c=e.content;if("failure"in c)throw c.failure;const m=await this.keyManager.getSharedSecret();if(!m)throw rn.provider.unauthorized("Invalid session");const s=await Tze(c.encrypted,m),g=(n=s.data)===null||n===void 0?void 0:n.chains;if(g){const a=Object.entries(g).map(([v,h])=>({id:Number(v),rpcUrl:h}));this.storage.storeObject(Rk,a),this.updateChain(this.chain.id,a)}const r=(i=s.data)===null||i===void 0?void 0:i.capabilities;return r&&this.storage.storeObject(Ok,r),s}updateChain(e,n){var i;const c=n??this.storage.loadObject(Rk),m=c?.find(s=>s.id===e);return m?(m!==this.chain&&(this.chain=m,this.storage.storeObject(Ik,m),(i=this.callback)===null||i===void 0||i.call(this,"chainChanged",wc(m.id))),!0):!1}}var Pn={},_r={},Mk;function _J(){if(Mk)return _r;Mk=1,Object.defineProperty(_r,"__esModule",{value:!0}),_r.output=_r.exists=_r.hash=_r.bytes=_r.bool=_r.number=_r.isBytes=void 0;function t(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`positive integer expected, not ${r}`)}_r.number=t;function e(r){if(typeof r!="boolean")throw new Error(`boolean expected, not ${r}`)}_r.bool=e;function n(r){return r instanceof Uint8Array||r!=null&&typeof r=="object"&&r.constructor.name==="Uint8Array"}_r.isBytes=n;function i(r,...a){if(!n(r))throw new Error("Uint8Array expected");if(a.length>0&&!a.includes(r.length))throw new Error(`Uint8Array expected of length ${a}, not of length=${r.length}`)}_r.bytes=i;function c(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");t(r.outputLen),t(r.blockLen)}_r.hash=c;function m(r,a=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(a&&r.finished)throw new Error("Hash#digest() has already been called")}_r.exists=m;function s(r,a){i(r);const v=a.outputLen;if(r.length<v)throw new Error(`digestInto() expects output buffer of length at least ${v}`)}_r.output=s;const g={number:t,bool:e,bytes:i,hash:c,exists:m,output:s};return _r.default=g,_r}var $t={},$k;function $ze(){if($k)return $t;$k=1,Object.defineProperty($t,"__esModule",{value:!0}),$t.add5L=$t.add5H=$t.add4H=$t.add4L=$t.add3H=$t.add3L=$t.add=$t.rotlBL=$t.rotlBH=$t.rotlSL=$t.rotlSH=$t.rotr32L=$t.rotr32H=$t.rotrBL=$t.rotrBH=$t.rotrSL=$t.rotrSH=$t.shrSL=$t.shrSH=$t.toBig=$t.split=$t.fromBig=void 0;const t=BigInt(2**32-1),e=BigInt(32);function n(S,A=!1){return A?{h:Number(S&t),l:Number(S>>e&t)}:{h:Number(S>>e&t)|0,l:Number(S&t)|0}}$t.fromBig=n;function i(S,A=!1){let P=new Uint32Array(S.length),R=new Uint32Array(S.length);for(let L=0;L<S.length;L++){const{h:D,l:$}=n(S[L],A);[P[L],R[L]]=[D,$]}return[P,R]}$t.split=i;const c=(S,A)=>BigInt(S>>>0)<<e|BigInt(A>>>0);$t.toBig=c;const m=(S,A,P)=>S>>>P;$t.shrSH=m;const s=(S,A,P)=>S<<32-P|A>>>P;$t.shrSL=s;const g=(S,A,P)=>S>>>P|A<<32-P;$t.rotrSH=g;const r=(S,A,P)=>S<<32-P|A>>>P;$t.rotrSL=r;const a=(S,A,P)=>S<<64-P|A>>>P-32;$t.rotrBH=a;const v=(S,A,P)=>S>>>P-32|A<<64-P;$t.rotrBL=v;const h=(S,A)=>A;$t.rotr32H=h;const u=(S,A)=>S;$t.rotr32L=u;const l=(S,A,P)=>S<<P|A>>>32-P;$t.rotlSH=l;const o=(S,A,P)=>A<<P|S>>>32-P;$t.rotlSL=o;const d=(S,A,P)=>A<<P-32|S>>>64-P;$t.rotlBH=d;const p=(S,A,P)=>S<<P-32|A>>>64-P;$t.rotlBL=p;function f(S,A,P,R){const L=(A>>>0)+(R>>>0);return{h:S+P+(L/2**32|0)|0,l:L|0}}$t.add=f;const y=(S,A,P)=>(S>>>0)+(A>>>0)+(P>>>0);$t.add3L=y;const w=(S,A,P,R)=>A+P+R+(S/2**32|0)|0;$t.add3H=w;const x=(S,A,P,R)=>(S>>>0)+(A>>>0)+(P>>>0)+(R>>>0);$t.add4L=x;const b=(S,A,P,R,L)=>A+P+R+L+(S/2**32|0)|0;$t.add4H=b;const E=(S,A,P,R,L)=>(S>>>0)+(A>>>0)+(P>>>0)+(R>>>0)+(L>>>0);$t.add5L=E;const C=(S,A,P,R,L,D)=>A+P+R+L+D+(S/2**32|0)|0;$t.add5H=C;const T={fromBig:n,split:i,toBig:c,shrSH:m,shrSL:s,rotrSH:g,rotrSL:r,rotrBH:a,rotrBL:v,rotr32H:h,rotr32L:u,rotlSH:l,rotlSL:o,rotlBH:d,rotlBL:p,add:f,add3L:y,add3H:w,add4L:x,add4H:b,add5H:C,add5L:E};return $t.default=T,$t}var QE={},Dv={},Fk;function Fze(){return Fk||(Fk=1,Object.defineProperty(Dv,"__esModule",{value:!0}),Dv.crypto=void 0,Dv.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),Dv}var Lk;function Lze(){return Lk||(Lk=1,(function(t){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.byteSwap32=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=t.isBytes=void 0;const e=Fze(),n=_J();function i(R){return R instanceof Uint8Array||R!=null&&typeof R=="object"&&R.constructor.name==="Uint8Array"}t.isBytes=i;const c=R=>new Uint8Array(R.buffer,R.byteOffset,R.byteLength);t.u8=c;const m=R=>new Uint32Array(R.buffer,R.byteOffset,Math.floor(R.byteLength/4));t.u32=m;const s=R=>new DataView(R.buffer,R.byteOffset,R.byteLength);t.createView=s;const g=(R,L)=>R<<32-L|R>>>L;t.rotr=g;const r=(R,L)=>R<<L|R>>>32-L>>>0;t.rotl=r,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;const a=R=>R<<24&4278190080|R<<8&16711680|R>>>8&65280|R>>>24&255;t.byteSwap=a,t.byteSwapIfBE=t.isLE?R=>R:R=>(0,t.byteSwap)(R);function v(R){for(let L=0;L<R.length;L++)R[L]=(0,t.byteSwap)(R[L])}t.byteSwap32=v;const h=Array.from({length:256},(R,L)=>L.toString(16).padStart(2,"0"));function u(R){(0,n.bytes)(R);let L="";for(let D=0;D<R.length;D++)L+=h[R[D]];return L}t.bytesToHex=u;const l={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function o(R){if(R>=l._0&&R<=l._9)return R-l._0;if(R>=l._A&&R<=l._F)return R-(l._A-10);if(R>=l._a&&R<=l._f)return R-(l._a-10)}function d(R){if(typeof R!="string")throw new Error("hex string expected, got "+typeof R);const L=R.length,D=L/2;if(L%2)throw new Error("padded hex string expected, got unpadded hex of length "+L);const $=new Uint8Array(D);for(let F=0,N=0;F<D;F++,N+=2){const k=o(R.charCodeAt(N)),j=o(R.charCodeAt(N+1));if(k===void 0||j===void 0){const W=R[N]+R[N+1];throw new Error('hex string expected, got non-hex character "'+W+'" at index '+N)}$[F]=k*16+j}return $}t.hexToBytes=d;const p=async()=>{};t.nextTick=p;async function f(R,L,D){let $=Date.now();for(let F=0;F<R;F++){D(F);const N=Date.now()-$;N>=0&&N<L||(await(0,t.nextTick)(),$+=N)}}t.asyncLoop=f;function y(R){if(typeof R!="string")throw new Error(`utf8ToBytes expected string, got ${typeof R}`);return new Uint8Array(new TextEncoder().encode(R))}t.utf8ToBytes=y;function w(R){return typeof R=="string"&&(R=y(R)),(0,n.bytes)(R),R}t.toBytes=w;function x(...R){let L=0;for(let $=0;$<R.length;$++){const F=R[$];(0,n.bytes)(F),L+=F.length}const D=new Uint8Array(L);for(let $=0,F=0;$<R.length;$++){const N=R[$];D.set(N,F),F+=N.length}return D}t.concatBytes=x;class b{clone(){return this._cloneInto()}}t.Hash=b;const E={}.toString;function C(R,L){if(L!==void 0&&E.call(L)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(R,L)}t.checkOpts=C;function T(R){const L=$=>R().update(w($)).digest(),D=R();return L.outputLen=D.outputLen,L.blockLen=D.blockLen,L.create=()=>R(),L}t.wrapConstructor=T;function S(R){const L=($,F)=>R(F).update(w($)).digest(),D=R({});return L.outputLen=D.outputLen,L.blockLen=D.blockLen,L.create=$=>R($),L}t.wrapConstructorWithOpts=S;function A(R){const L=($,F)=>R(F).update(w($)).digest(),D=R({});return L.outputLen=D.outputLen,L.blockLen=D.blockLen,L.create=$=>R($),L}t.wrapXOFConstructorWithOpts=A;function P(R=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(R));throw new Error("crypto.getRandomValues must be defined")}t.randomBytes=P})(QE)),QE}var Dk;function Dze(){if(Dk)return Pn;Dk=1,Object.defineProperty(Pn,"__esModule",{value:!0}),Pn.shake256=Pn.shake128=Pn.keccak_512=Pn.keccak_384=Pn.keccak_256=Pn.keccak_224=Pn.sha3_512=Pn.sha3_384=Pn.sha3_256=Pn.sha3_224=Pn.Keccak=Pn.keccakP=void 0;const t=_J(),e=$ze(),n=Lze(),i=[],c=[],m=[],s=BigInt(0),g=BigInt(1),r=BigInt(2),a=BigInt(7),v=BigInt(256),h=BigInt(113);for(let x=0,b=g,E=1,C=0;x<24;x++){[E,C]=[C,(2*E+3*C)%5],i.push(2*(5*C+E)),c.push((x+1)*(x+2)/2%64);let T=s;for(let S=0;S<7;S++)b=(b<<g^(b>>a)*h)%v,b&r&&(T^=g<<(g<<BigInt(S))-g);m.push(T)}const[u,l]=(0,e.split)(m,!0),o=(x,b,E)=>E>32?(0,e.rotlBH)(x,b,E):(0,e.rotlSH)(x,b,E),d=(x,b,E)=>E>32?(0,e.rotlBL)(x,b,E):(0,e.rotlSL)(x,b,E);function p(x,b=24){const E=new Uint32Array(10);for(let C=24-b;C<24;C++){for(let A=0;A<10;A++)E[A]=x[A]^x[A+10]^x[A+20]^x[A+30]^x[A+40];for(let A=0;A<10;A+=2){const P=(A+8)%10,R=(A+2)%10,L=E[R],D=E[R+1],$=o(L,D,1)^E[P],F=d(L,D,1)^E[P+1];for(let N=0;N<50;N+=10)x[A+N]^=$,x[A+N+1]^=F}let T=x[2],S=x[3];for(let A=0;A<24;A++){const P=c[A],R=o(T,S,P),L=d(T,S,P),D=i[A];T=x[D],S=x[D+1],x[D]=R,x[D+1]=L}for(let A=0;A<50;A+=10){for(let P=0;P<10;P++)E[P]=x[A+P];for(let P=0;P<10;P++)x[A+P]^=~E[(P+2)%10]&E[(P+4)%10]}x[0]^=u[C],x[1]^=l[C]}E.fill(0)}Pn.keccakP=p;class f extends n.Hash{constructor(b,E,C,T=!1,S=24){if(super(),this.blockLen=b,this.suffix=E,this.outputLen=C,this.enableXOF=T,this.rounds=S,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,t.number)(C),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,n.u32)(this.state)}keccak(){n.isLE||(0,n.byteSwap32)(this.state32),p(this.state32,this.rounds),n.isLE||(0,n.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(b){(0,t.exists)(this);const{blockLen:E,state:C}=this;b=(0,n.toBytes)(b);const T=b.length;for(let S=0;S<T;){const A=Math.min(E-this.pos,T-S);for(let P=0;P<A;P++)C[this.pos++]^=b[S++];this.pos===E&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:b,suffix:E,pos:C,blockLen:T}=this;b[C]^=E,(E&128)!==0&&C===T-1&&this.keccak(),b[T-1]^=128,this.keccak()}writeInto(b){(0,t.exists)(this,!1),(0,t.bytes)(b),this.finish();const E=this.state,{blockLen:C}=this;for(let T=0,S=b.length;T<S;){this.posOut>=C&&this.keccak();const A=Math.min(C-this.posOut,S-T);b.set(E.subarray(this.posOut,this.posOut+A),T),this.posOut+=A,T+=A}return b}xofInto(b){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(b)}xof(b){return(0,t.number)(b),this.xofInto(new Uint8Array(b))}digestInto(b){if((0,t.output)(b,this),this.finished)throw new Error("digest() was already called");return this.writeInto(b),this.destroy(),b}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(b){const{blockLen:E,suffix:C,outputLen:T,rounds:S,enableXOF:A}=this;return b||(b=new f(E,C,T,A,S)),b.state32.set(this.state32),b.pos=this.pos,b.posOut=this.posOut,b.finished=this.finished,b.rounds=S,b.suffix=C,b.outputLen=T,b.enableXOF=A,b.destroyed=this.destroyed,b}}Pn.Keccak=f;const y=(x,b,E)=>(0,n.wrapConstructor)(()=>new f(b,x,E));Pn.sha3_224=y(6,144,224/8),Pn.sha3_256=y(6,136,256/8),Pn.sha3_384=y(6,104,384/8),Pn.sha3_512=y(6,72,512/8),Pn.keccak_224=y(1,144,224/8),Pn.keccak_256=y(1,136,256/8),Pn.keccak_384=y(1,104,384/8),Pn.keccak_512=y(1,72,512/8);const w=(x,b,E)=>(0,n.wrapXOFConstructorWithOpts)((C={})=>new f(b,x,C.dkLen===void 0?E:C.dkLen,!0));return Pn.shake128=w(31,168,128/8),Pn.shake256=w(31,136,256/8),Pn}var qE,Nk;function QJ(){if(Nk)return qE;Nk=1;const{keccak_256:t}=Dze();function e(l){return Buffer.allocUnsafe(l).fill(0)}function n(l){return l.toString(2).length}function i(l,o){let d=l.toString(16);d.length%2!==0&&(d="0"+d);const p=d.match(/.{1,2}/g).map(f=>parseInt(f,16));for(;p.length<o;)p.unshift(0);return Buffer.from(p)}function c(l,o){const d=l<0n;let p;if(d){const f=(1n<<BigInt(o))-1n;p=(~l&f)+1n}else p=l;return p&=(1n<<BigInt(o))-1n,p}function m(l,o,d){const p=e(o);return l=g(l),d?l.length<o?(l.copy(p),p):l.slice(0,o):l.length<o?(l.copy(p,o-l.length),p):l.slice(-o)}function s(l,o){return m(l,o,!0)}function g(l){if(!Buffer.isBuffer(l))if(Array.isArray(l))l=Buffer.from(l);else if(typeof l=="string")h(l)?l=Buffer.from(v(u(l)),"hex"):l=Buffer.from(l);else if(typeof l=="number")l=intToBuffer(l);else if(l==null)l=Buffer.allocUnsafe(0);else if(typeof l=="bigint")l=i(l);else if(l.toArray)l=Buffer.from(l.toArray());else throw new Error("invalid type");return l}function r(l){return l=g(l),"0x"+l.toString("hex")}function a(l,o){if(l=g(l),o||(o=256),o!==256)throw new Error("unsupported");return Buffer.from(t(new Uint8Array(l)))}function v(l){return l.length%2?"0"+l:l}function h(l){return typeof l=="string"&&l.match(/^0x[0-9A-Fa-f]*$/)}function u(l){return typeof l=="string"&&l.startsWith("0x")?l.slice(2):l}return qE={zeros:e,setLength:m,setLengthRight:s,isHexString:h,stripHexPrefix:u,toBuffer:g,bufferToHex:r,keccak:a,bitLengthFromBigInt:n,bufferBEFromBigInt:i,twosFromBigInt:c},qE}var e8,kk;function Nze(){if(kk)return e8;kk=1;const t=QJ();function e(u){return u.startsWith("int[")?"int256"+u.slice(3):u==="int"?"int256":u.startsWith("uint[")?"uint256"+u.slice(4):u==="uint"?"uint256":u.startsWith("fixed[")?"fixed128x128"+u.slice(5):u==="fixed"?"fixed128x128":u.startsWith("ufixed[")?"ufixed128x128"+u.slice(6):u==="ufixed"?"ufixed128x128":u}function n(u){return Number.parseInt(/^\D+(\d+)$/.exec(u)[1],10)}function i(u){var l=/^\D+(\d+)x(\d+)$/.exec(u);return[Number.parseInt(l[1],10),Number.parseInt(l[2],10)]}function c(u){var l=u.match(/(.*)\[(.*?)\]$/);return l?l[2]===""?"dynamic":Number.parseInt(l[2],10):null}function m(u){var l=typeof u;if(l==="string"||l==="number")return BigInt(u);if(l==="bigint")return u;throw new Error("Argument is not a number")}function s(u,l){var o,d,p,f;if(u==="address")return s("uint160",m(l));if(u==="bool")return s("uint8",l?1:0);if(u==="string")return s("bytes",new Buffer(l,"utf8"));if(r(u)){if(typeof l.length>"u")throw new Error("Not an array?");if(o=c(u),o!=="dynamic"&&o!==0&&l.length>o)throw new Error("Elements exceed array size: "+o);p=[],u=u.slice(0,u.lastIndexOf("[")),typeof l=="string"&&(l=JSON.parse(l));for(f in l)p.push(s(u,l[f]));if(o==="dynamic"){var y=s("uint256",l.length);p.unshift(y)}return Buffer.concat(p)}else{if(u==="bytes")return l=new Buffer(l),p=Buffer.concat([s("uint256",l.length),l]),l.length%32!==0&&(p=Buffer.concat([p,t.zeros(32-l.length%32)])),p;if(u.startsWith("bytes")){if(o=n(u),o<1||o>32)throw new Error("Invalid bytes<N> width: "+o);return t.setLengthRight(l,32)}else if(u.startsWith("uint")){if(o=n(u),o%8||o<8||o>256)throw new Error("Invalid uint<N> width: "+o);d=m(l);const w=t.bitLengthFromBigInt(d);if(w>o)throw new Error("Supplied uint exceeds width: "+o+" vs "+w);if(d<0)throw new Error("Supplied uint is negative");return t.bufferBEFromBigInt(d,32)}else if(u.startsWith("int")){if(o=n(u),o%8||o<8||o>256)throw new Error("Invalid int<N> width: "+o);d=m(l);const w=t.bitLengthFromBigInt(d);if(w>o)throw new Error("Supplied int exceeds width: "+o+" vs "+w);const x=t.twosFromBigInt(d,256);return t.bufferBEFromBigInt(x,32)}else if(u.startsWith("ufixed")){if(o=i(u),d=m(l),d<0)throw new Error("Supplied ufixed is negative");return s("uint256",d*BigInt(2)**BigInt(o[1]))}else if(u.startsWith("fixed"))return o=i(u),s("int256",m(l)*BigInt(2)**BigInt(o[1]))}throw new Error("Unsupported or invalid type: "+u)}function g(u){return u==="string"||u==="bytes"||c(u)==="dynamic"}function r(u){return u.lastIndexOf("]")===u.length-1}function a(u,l){var o=[],d=[],p=32*u.length;for(var f in u){var y=e(u[f]),w=l[f],x=s(y,w);g(y)?(o.push(s("uint256",p)),d.push(x),p+=x.length):o.push(x)}return Buffer.concat(o.concat(d))}function v(u,l){if(u.length!==l.length)throw new Error("Number of types are not matching the values");for(var o,d,p=[],f=0;f<u.length;f++){var y=e(u[f]),w=l[f];if(y==="bytes")p.push(w);else if(y==="string")p.push(new Buffer(w,"utf8"));else if(y==="bool")p.push(new Buffer(w?"01":"00","hex"));else if(y==="address")p.push(t.setLength(w,20));else if(y.startsWith("bytes")){if(o=n(y),o<1||o>32)throw new Error("Invalid bytes<N> width: "+o);p.push(t.setLengthRight(w,o))}else if(y.startsWith("uint")){if(o=n(y),o%8||o<8||o>256)throw new Error("Invalid uint<N> width: "+o);d=m(w);const x=t.bitLengthFromBigInt(d);if(x>o)throw new Error("Supplied uint exceeds width: "+o+" vs "+x);p.push(t.bufferBEFromBigInt(d,o/8))}else if(y.startsWith("int")){if(o=n(y),o%8||o<8||o>256)throw new Error("Invalid int<N> width: "+o);d=m(w);const x=t.bitLengthFromBigInt(d);if(x>o)throw new Error("Supplied int exceeds width: "+o+" vs "+x);const b=t.twosFromBigInt(d,o);p.push(t.bufferBEFromBigInt(b,o/8))}else throw new Error("Unsupported or invalid type: "+y)}return Buffer.concat(p)}function h(u,l){return t.keccak(v(u,l))}return e8={rawEncode:a,solidityPack:v,soliditySHA3:h},e8}var t8,Bk;function kze(){if(Bk)return t8;Bk=1;const t=QJ(),e=Nze(),n={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},i={encodeData(m,s,g,r=!0){const a=["bytes32"],v=[this.hashType(m,g)];if(r){const h=(u,l,o)=>{if(g[l]!==void 0)return["bytes32",o==null?"0x0000000000000000000000000000000000000000000000000000000000000000":t.keccak(this.encodeData(l,o,g,r))];if(o===void 0)throw new Error(`missing value for field ${u} of type ${l}`);if(l==="bytes")return["bytes32",t.keccak(o)];if(l==="string")return typeof o=="string"&&(o=Buffer.from(o,"utf8")),["bytes32",t.keccak(o)];if(l.lastIndexOf("]")===l.length-1){const d=l.slice(0,l.lastIndexOf("[")),p=o.map(f=>h(u,d,f));return["bytes32",t.keccak(e.rawEncode(p.map(([f])=>f),p.map(([,f])=>f)))]}return[l,o]};for(const u of g[m]){const[l,o]=h(u.name,u.type,s[u.name]);a.push(l),v.push(o)}}else for(const h of g[m]){let u=s[h.name];if(u!==void 0)if(h.type==="bytes")a.push("bytes32"),u=t.keccak(u),v.push(u);else if(h.type==="string")a.push("bytes32"),typeof u=="string"&&(u=Buffer.from(u,"utf8")),u=t.keccak(u),v.push(u);else if(g[h.type]!==void 0)a.push("bytes32"),u=t.keccak(this.encodeData(h.type,u,g,r)),v.push(u);else{if(h.type.lastIndexOf("]")===h.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");a.push(h.type),v.push(u)}}return e.rawEncode(a,v)},encodeType(m,s){let g="",r=this.findTypeDependencies(m,s).filter(a=>a!==m);r=[m].concat(r.sort());for(const a of r){if(!s[a])throw new Error("No type definition specified: "+a);g+=a+"("+s[a].map(({name:h,type:u})=>u+" "+h).join(",")+")"}return g},findTypeDependencies(m,s,g=[]){if(m=m.match(/^\w*/)[0],g.includes(m)||s[m]===void 0)return g;g.push(m);for(const r of s[m])for(const a of this.findTypeDependencies(r.type,s,g))!g.includes(a)&&g.push(a);return g},hashStruct(m,s,g,r=!0){return t.keccak(this.encodeData(m,s,g,r))},hashType(m,s){return t.keccak(this.encodeType(m,s))},sanitizeData(m){const s={};for(const g in n.properties)m[g]&&(s[g]=m[g]);return s.types&&(s.types=Object.assign({EIP712Domain:[]},s.types)),s},hash(m,s=!0){const g=this.sanitizeData(m),r=[Buffer.from("1901","hex")];return r.push(this.hashStruct("EIP712Domain",g.domain,g.types,s)),g.primaryType!=="EIP712Domain"&&r.push(this.hashStruct(g.primaryType,g.message,g.types,s)),t.keccak(Buffer.concat(r))}};t8={TYPED_MESSAGE_SCHEMA:n,TypedDataUtils:i,hashForSignTypedDataLegacy:function(m){return c(m.data)},hashForSignTypedData_v3:function(m){return i.hash(m.data,!1)},hashForSignTypedData_v4:function(m){return i.hash(m.data)}};function c(m){const s=new Error("Expect argument to be non-empty array");if(typeof m!="object"||!m.length)throw s;const g=m.map(function(v){return v.type==="bytes"?t.toBuffer(v.value):v.value}),r=m.map(function(v){return v.type}),a=m.map(function(v){if(!v.name)throw s;return v.type+" "+v.name});return e.soliditySHA3(["bytes32","bytes32"],[e.soliditySHA3(new Array(m.length).fill("string"),a),e.soliditySHA3(r,g)])}return t8}var Bze=kze();const T2=La(Bze),Uze="walletUsername",AT="Addresses",jze="AppVersion";function fi(t){return t.errorMessage!==void 0}class zze{constructor(e){this.secret=e}async encrypt(e){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");const i=crypto.getRandomValues(new Uint8Array(12)),c=await crypto.subtle.importKey("raw",fw(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),m=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:i},c,m.encode(e)),g=16,r=s.slice(s.byteLength-g),a=s.slice(0,s.byteLength-g),v=new Uint8Array(r),h=new Uint8Array(a),u=new Uint8Array([...i,...v,...h]);return VA(u)}async decrypt(e){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");return new Promise((i,c)=>{(async function(){const m=await crypto.subtle.importKey("raw",fw(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=fw(e),g=s.slice(0,12),r=s.slice(12,28),a=s.slice(28),v=new Uint8Array([...a,...r]),h={name:"AES-GCM",iv:new Uint8Array(g)};try{const u=await window.crypto.subtle.decrypt(h,m,v),l=new TextDecoder;i(l.decode(u))}catch(u){c(u)}})()})}}class Wze{constructor(e,n,i){this.linkAPIUrl=e,this.sessionId=n;const c=`${n}:${i}`;this.auth=`Basic ${btoa(c)}`}async markUnseenEventsAsSeen(e){return Promise.all(e.map(n=>fetch(`${this.linkAPIUrl}/events/${n.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(n=>console.error("Unabled to mark event as failed:",n))}async fetchUnseenEvents(){var e;const n=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(n.ok){const{events:i,error:c}=await n.json();if(c)throw new Error(`Check unseen events failed: ${c}`);const m=(e=i?.filter(s=>s.event==="Web3Response").map(s=>({type:"Event",sessionId:this.sessionId,eventId:s.id,event:s.event,data:s.data})))!==null&&e!==void 0?e:[];return this.markUnseenEventsAsSeen(m),m}throw new Error(`Check unseen events failed: ${n.status}`)}}var iu;(function(t){t[t.DISCONNECTED=0]="DISCONNECTED",t[t.CONNECTING=1]="CONNECTING",t[t.CONNECTED=2]="CONNECTED"})(iu||(iu={}));class Gze{setConnectionStateListener(e){this.connectionStateListener=e}setIncomingDataListener(e){this.incomingDataListener=e}constructor(e,n=WebSocket){this.WebSocketClass=n,this.webSocket=null,this.pendingData=[],this.url=e.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((e,n)=>{var i;let c;try{this.webSocket=c=new this.WebSocketClass(this.url)}catch(m){n(m);return}(i=this.connectionStateListener)===null||i===void 0||i.call(this,iu.CONNECTING),c.onclose=m=>{var s;this.clearWebSocket(),n(new Error(`websocket error ${m.code}: ${m.reason}`)),(s=this.connectionStateListener)===null||s===void 0||s.call(this,iu.DISCONNECTED)},c.onopen=m=>{var s;e(),(s=this.connectionStateListener)===null||s===void 0||s.call(this,iu.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(r=>this.sendData(r)),this.pendingData=[])},c.onmessage=m=>{var s,g;if(m.data==="h")(s=this.incomingDataListener)===null||s===void 0||s.call(this,{type:"Heartbeat"});else try{const r=JSON.parse(m.data);(g=this.incomingDataListener)===null||g===void 0||g.call(this,r)}catch{}}})}disconnect(){var e;const{webSocket:n}=this;if(n){this.clearWebSocket(),(e=this.connectionStateListener)===null||e===void 0||e.call(this,iu.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{n.close()}catch{}}}sendData(e){const{webSocket:n}=this;if(!n){this.pendingData.push(e),this.connect();return}n.send(e)}clearWebSocket(){const{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}}const Uk=1e4,Vze=6e4;class Hze{constructor({session:e,linkAPIUrl:n,listener:i}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=eu(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=m=>{if(!m)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",g=>m.JsonRpcUrl&&this.handleChainUpdated(g,m.JsonRpcUrl)]]).forEach((g,r)=>{const a=m[r];a!==void 0&&g(a)})},this.handleDestroyed=m=>{var s;m==="1"&&((s=this.listener)===null||s===void 0||s.resetAndReload())},this.handleAccountUpdated=async m=>{var s;const g=await this.cipher.decrypt(m);(s=this.listener)===null||s===void 0||s.accountUpdated(g)},this.handleMetadataUpdated=async(m,s)=>{var g;const r=await this.cipher.decrypt(s);(g=this.listener)===null||g===void 0||g.metadataUpdated(m,r)},this.handleWalletUsernameUpdated=async m=>{this.handleMetadataUpdated(Uze,m)},this.handleAppVersionUpdated=async m=>{this.handleMetadataUpdated(jze,m)},this.handleChainUpdated=async(m,s)=>{var g;const r=await this.cipher.decrypt(m),a=await this.cipher.decrypt(s);(g=this.listener)===null||g===void 0||g.chainUpdated(r,a)},this.session=e,this.cipher=new zze(e.secret),this.listener=i;const c=new Gze(`${n}/rpc`,WebSocket);c.setConnectionStateListener(async m=>{let s=!1;switch(m){case iu.DISCONNECTED:if(!this.destroyed){const g=async()=>{await new Promise(r=>setTimeout(r,5e3)),this.destroyed||c.connect().catch(()=>{g()})};g()}break;case iu.CONNECTED:s=await this.handleConnected(),this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},Uk),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case iu.CONNECTING:break}this.connected!==s&&(this.connected=s)}),c.setIncomingDataListener(m=>{var s;switch(m.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const g=m.type==="IsLinkedOK"?m.linked:void 0;this.linked=g||m.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{this.handleSessionMetadataUpdated(m.metadata);break}case"Event":{this.handleIncomingEvent(m);break}}m.id!==void 0&&((s=this.requestResolutions.get(m.id))===null||s===void 0||s(m))}),this.ws=c,this.http=new Wze(n,e.id,e.key)}connect(){if(this.destroyed)throw new Error("instance is destroyed");this.ws.connect()}async destroy(){this.destroyed||(await this.makeRequest({type:"SetSessionConfig",id:eu(this.nextReqId++),sessionId:this.session.id,metadata:{__destroyed:"1"}},{timeout:1e3}),this.destroyed=!0,this.ws.disconnect(),this.listener=void 0)}get connected(){return this._connected}set connected(e){this._connected=e}get linked(){return this._linked}set linked(e){var n,i;this._linked=e,e&&((n=this.onceLinked)===null||n===void 0||n.call(this)),(i=this.listener)===null||i===void 0||i.linkedUpdated(e)}setOnceLinked(e){return new Promise(n=>{this.linked?e().then(n):this.onceLinked=()=>{e().then(n),this.onceLinked=void 0}})}async handleIncomingEvent(e){var n;if(e.type!=="Event"||e.event!=="Web3Response")return;const i=await this.cipher.decrypt(e.data),c=JSON.parse(i);if(c.type!=="WEB3_RESPONSE")return;const{id:m,response:s}=c;(n=this.listener)===null||n===void 0||n.handleWeb3ResponseMessage(m,s)}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(e=>setTimeout(e,250));try{await this.fetchUnseenEventsAPI()}catch(e){console.error("Unable to check for unseen events",e)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(n=>this.handleIncomingEvent(n))}async publishEvent(e,n,i=!1){const c=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},n),{origin:location.origin,location:location.href,relaySource:"coinbaseWalletExtension"in window&&window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),m={type:"PublishEvent",id:eu(this.nextReqId++),sessionId:this.session.id,event:e,data:c,callWebhook:i};return this.setOnceLinked(async()=>{const s=await this.makeRequest(m);if(s.type==="Fail")throw new Error(s.error||"failed to publish event");return s.eventId})}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>Uk*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(e,n={timeout:Vze}){const i=e.id;this.sendData(e);let c;return Promise.race([new Promise((m,s)=>{c=window.setTimeout(()=>{s(new Error(`request ${i} timed out`))},n.timeout)}),new Promise(m=>{this.requestResolutions.set(i,s=>{clearTimeout(c),m(s),this.requestResolutions.delete(i)})})])}async handleConnected(){return(await this.makeRequest({type:"HostSession",id:eu(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key})).type==="Fail"?!1:(this.sendData({type:"IsLinked",id:eu(this.nextReqId++),sessionId:this.session.id}),this.sendData({type:"GetSessionConfig",id:eu(this.nextReqId++),sessionId:this.session.id}),!0)}}class Yze{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,n=YJ(e.toString(16));return this.callbacks.get(n)&&this.callbacks.delete(n),e}}function Xze(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function KA(t,...e){if(!Xze(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function jk(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Kze(t,e){KA(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const n8=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Jo=(t,e)=>t<<32-e|t>>>e;new Uint8Array(new Uint32Array([287454020]).buffer)[0];const Zze=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Jze(t){KA(t);let e="";for(let n=0;n<t.length;n++)e+=Zze[t[n]];return e}function _ze(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function qJ(t){return typeof t=="string"&&(t=_ze(t)),KA(t),t}class Qze{clone(){return this._cloneInto()}}function qze(t){const e=i=>t().update(qJ(i)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function eWe(t,e,n,i){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,i);const c=BigInt(32),m=BigInt(4294967295),s=Number(n>>c&m),g=Number(n&m),r=i?4:0,a=i?0:4;t.setUint32(e+r,s,i),t.setUint32(e+a,g,i)}const tWe=(t,e,n)=>t&e^~t&n,nWe=(t,e,n)=>t&e^t&n^e&n;class rWe extends Qze{constructor(e,n,i,c){super(),this.blockLen=e,this.outputLen=n,this.padOffset=i,this.isLE=c,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=n8(this.buffer)}update(e){jk(this);const{view:n,buffer:i,blockLen:c}=this;e=qJ(e);const m=e.length;for(let s=0;s<m;){const g=Math.min(c-this.pos,m-s);if(g===c){const r=n8(e);for(;c<=m-s;s+=c)this.process(r,s);continue}i.set(e.subarray(s,s+g),this.pos),this.pos+=g,s+=g,this.pos===c&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){jk(this),Kze(e,this),this.finished=!0;const{buffer:n,view:i,blockLen:c,isLE:m}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>c-s&&(this.process(i,0),s=0);for(let h=s;h<c;h++)n[h]=0;eWe(i,c-8,BigInt(this.length*8),m),this.process(i,0);const g=n8(e),r=this.outputLen;if(r%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const a=r/4,v=this.get();if(a>v.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<a;h++)g.setUint32(4*h,v[h],m)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const i=e.slice(0,n);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:i,length:c,finished:m,destroyed:s,pos:g}=this;return e.length=c,e.pos=g,e.finished=m,e.destroyed=s,c%n&&e.buffer.set(i),e}}const iWe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ec=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),tc=new Uint32Array(64);class sWe extends rWe{constructor(){super(64,32,8,!1),this.A=ec[0]|0,this.B=ec[1]|0,this.C=ec[2]|0,this.D=ec[3]|0,this.E=ec[4]|0,this.F=ec[5]|0,this.G=ec[6]|0,this.H=ec[7]|0}get(){const{A:e,B:n,C:i,D:c,E:m,F:s,G:g,H:r}=this;return[e,n,i,c,m,s,g,r]}set(e,n,i,c,m,s,g,r){this.A=e|0,this.B=n|0,this.C=i|0,this.D=c|0,this.E=m|0,this.F=s|0,this.G=g|0,this.H=r|0}process(e,n){for(let h=0;h<16;h++,n+=4)tc[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const u=tc[h-15],l=tc[h-2],o=Jo(u,7)^Jo(u,18)^u>>>3,d=Jo(l,17)^Jo(l,19)^l>>>10;tc[h]=d+tc[h-7]+o+tc[h-16]|0}let{A:i,B:c,C:m,D:s,E:g,F:r,G:a,H:v}=this;for(let h=0;h<64;h++){const u=Jo(g,6)^Jo(g,11)^Jo(g,25),l=v+u+tWe(g,r,a)+iWe[h]+tc[h]|0,d=(Jo(i,2)^Jo(i,13)^Jo(i,22))+nWe(i,c,m)|0;v=a,a=r,r=g,g=s+l|0,s=m,m=c,c=i,i=l+d|0}i=i+this.A|0,c=c+this.B|0,m=m+this.C|0,s=s+this.D|0,g=g+this.E|0,r=r+this.F|0,a=a+this.G|0,v=v+this.H|0,this.set(i,c,m,s,g,r,a,v)}roundClean(){tc.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const aWe=qze(()=>new sWe),zk="session:id",Wk="session:secret",Gk="session:linked";class Mp{constructor(e,n,i,c=!1){this.storage=e,this.id=n,this.secret=i,this.key=Jze(aWe(`${n}, ${i} WalletLink`)),this._linked=!!c}static create(e){const n=Ch(16),i=Ch(32);return new Mp(e,n,i).save()}static load(e){const n=e.getItem(zk),i=e.getItem(Gk),c=e.getItem(Wk);return n&&c?new Mp(e,n,c,i==="1"):null}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this.storage.setItem(zk,this.id),this.storage.setItem(Wk,this.secret),this.persistLinked(),this}persistLinked(){this.storage.setItem(Gk,this._linked?"1":"0")}}function oWe(){try{return window.frameElement!==null}catch{return!1}}function lWe(){try{return oWe()&&window.top?window.top.location:window.location}catch{return window.location}}function uWe(){var t;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((t=window?.navigator)===null||t===void 0?void 0:t.userAgent)}function e_(){var t,e;return(e=(t=window?.matchMedia)===null||t===void 0?void 0:t.call(window,"(prefers-color-scheme: dark)").matches)!==null&&e!==void 0?e:!1}const cWe='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';function t_(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(cWe)),document.documentElement.appendChild(t)}function n_(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=n_(t[e]))&&(i&&(i+=" "),i+=n);else for(e in t)t[e]&&(i&&(i+=" "),i+=e);return i}function xg(){for(var t,e,n=0,i="";n<arguments.length;)(t=arguments[n++])&&(e=n_(t))&&(i&&(i+=" "),i+=e);return i}var Eb,Vn,r_,Sh,Vk,i_,PT,ZA,IT,RT,Mm={},s_=[],hWe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,JA=Array.isArray;function xc(t,e){for(var n in e)t[n]=e[n];return t}function a_(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function En(t,e,n){var i,c,m,s={};for(m in e)m=="key"?i=e[m]:m=="ref"?c=e[m]:s[m]=e[m];if(arguments.length>2&&(s.children=arguments.length>3?Eb.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(m in t.defaultProps)s[m]===void 0&&(s[m]=t.defaultProps[m]);return pw(t,s,i,c,null)}function pw(t,e,n,i,c){var m={type:t,props:e,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:c??++r_,__i:-1,__u:0};return c==null&&Vn.vnode!=null&&Vn.vnode(m),m}function Cb(t){return t.children}function vw(t,e){this.props=t,this.context=e}function n0(t,e){if(e==null)return t.__?n0(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?n0(t):null}function o_(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return o_(t)}}function Hk(t){(!t.__d&&(t.__d=!0)&&Sh.push(t)&&!bx.__r++||Vk!==Vn.debounceRendering)&&((Vk=Vn.debounceRendering)||i_)(bx)}function bx(){var t,e,n,i,c,m,s,g;for(Sh.sort(PT);t=Sh.shift();)t.__d&&(e=Sh.length,i=void 0,m=(c=(n=t).__v).__e,s=[],g=[],n.__P&&((i=xc({},c)).__v=c.__v+1,Vn.vnode&&Vn.vnode(i),_A(n.__P,i,c,n.__n,n.__P.namespaceURI,32&c.__u?[m]:null,s,m??n0(c),!!(32&c.__u),g),i.__v=c.__v,i.__.__k[i.__i]=i,c_(s,i,g),i.__e!=m&&o_(i)),Sh.length>e&&Sh.sort(PT));bx.__r=0}function l_(t,e,n,i,c,m,s,g,r,a,v){var h,u,l,o,d,p=i&&i.__k||s_,f=e.length;for(n.__d=r,dWe(n,e,p),r=n.__d,h=0;h<f;h++)(l=n.__k[h])!=null&&(u=l.__i===-1?Mm:p[l.__i]||Mm,l.__i=h,_A(t,l,u,c,m,s,g,r,a,v),o=l.__e,l.ref&&u.ref!=l.ref&&(u.ref&&QA(u.ref,null,l),v.push(l.ref,l.__c||o,l)),d==null&&o!=null&&(d=o),65536&l.__u||u.__k===l.__k?r=u_(l,r,t):typeof l.type=="function"&&l.__d!==void 0?r=l.__d:o&&(r=o.nextSibling),l.__d=void 0,l.__u&=-196609);n.__d=r,n.__e=d}function dWe(t,e,n){var i,c,m,s,g,r=e.length,a=n.length,v=a,h=0;for(t.__k=[],i=0;i<r;i++)(c=e[i])!=null&&typeof c!="boolean"&&typeof c!="function"?(s=i+h,(c=t.__k[i]=typeof c=="string"||typeof c=="number"||typeof c=="bigint"||c.constructor==String?pw(null,c,null,null,null):JA(c)?pw(Cb,{children:c},null,null,null):c.constructor===void 0&&c.__b>0?pw(c.type,c.props,c.key,c.ref?c.ref:null,c.__v):c).__=t,c.__b=t.__b+1,m=null,(g=c.__i=fWe(c,n,s,v))!==-1&&(v--,(m=n[g])&&(m.__u|=131072)),m==null||m.__v===null?(g==-1&&h--,typeof c.type!="function"&&(c.__u|=65536)):g!==s&&(g==s-1?h--:g==s+1?h++:(g>s?h--:h++,c.__u|=65536))):c=t.__k[i]=null;if(v)for(i=0;i<a;i++)(m=n[i])!=null&&(131072&m.__u)==0&&(m.__e==t.__d&&(t.__d=n0(m)),h_(m,m))}function u_(t,e,n){var i,c;if(typeof t.type=="function"){for(i=t.__k,c=0;i&&c<i.length;c++)i[c]&&(i[c].__=t,e=u_(i[c],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=n0(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function fWe(t,e,n,i){var c=t.key,m=t.type,s=n-1,g=n+1,r=e[n];if(r===null||r&&c==r.key&&m===r.type&&(131072&r.__u)==0)return n;if(i>(r!=null&&(131072&r.__u)==0?1:0))for(;s>=0||g<e.length;){if(s>=0){if((r=e[s])&&(131072&r.__u)==0&&c==r.key&&m===r.type)return s;s--}if(g<e.length){if((r=e[g])&&(131072&r.__u)==0&&c==r.key&&m===r.type)return g;g++}}return-1}function Yk(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||hWe.test(e)?n:n+"px"}function A2(t,e,n,i,c){var m;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof i=="string"&&(t.style.cssText=i=""),i)for(e in i)n&&e in n||Yk(t.style,e,"");if(n)for(e in n)i&&n[e]===i[e]||Yk(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")m=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+m]=n,n?i?n.u=i.u:(n.u=ZA,t.addEventListener(e,m?RT:IT,m)):t.removeEventListener(e,m?RT:IT,m);else{if(c=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function Xk(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=ZA++;else if(e.t<n.u)return;return n(Vn.event?Vn.event(e):e)}}}function _A(t,e,n,i,c,m,s,g,r,a){var v,h,u,l,o,d,p,f,y,w,x,b,E,C,T,S,A=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(r=!!(32&n.__u),m=[g=e.__e=n.__e]),(v=Vn.__b)&&v(e);e:if(typeof A=="function")try{if(f=e.props,y="prototype"in A&&A.prototype.render,w=(v=A.contextType)&&i[v.__c],x=v?w?w.props.value:v.__:i,n.__c?p=(h=e.__c=n.__c).__=h.__E:(y?e.__c=h=new A(f,x):(e.__c=h=new vw(f,x),h.constructor=A,h.render=vWe),w&&w.sub(h),h.props=f,h.state||(h.state={}),h.context=x,h.__n=i,u=h.__d=!0,h.__h=[],h._sb=[]),y&&h.__s==null&&(h.__s=h.state),y&&A.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=xc({},h.__s)),xc(h.__s,A.getDerivedStateFromProps(f,h.__s))),l=h.props,o=h.state,h.__v=e,u)y&&A.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),y&&h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(y&&A.getDerivedStateFromProps==null&&f!==l&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(f,x),!h.__e&&(h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(f,h.__s,x)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(h.props=f,h.state=h.__s,h.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(P){P&&(P.__=e)}),b=0;b<h._sb.length;b++)h.__h.push(h._sb[b]);h._sb=[],h.__h.length&&s.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(f,h.__s,x),y&&h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(l,o,d)})}if(h.context=x,h.props=f,h.__P=t,h.__e=!1,E=Vn.__r,C=0,y){for(h.state=h.__s,h.__d=!1,E&&E(e),v=h.render(h.props,h.state,h.context),T=0;T<h._sb.length;T++)h.__h.push(h._sb[T]);h._sb=[]}else do h.__d=!1,E&&E(e),v=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++C<25);h.state=h.__s,h.getChildContext!=null&&(i=xc(xc({},i),h.getChildContext())),y&&!u&&h.getSnapshotBeforeUpdate!=null&&(d=h.getSnapshotBeforeUpdate(l,o)),l_(t,JA(S=v!=null&&v.type===Cb&&v.key==null?v.props.children:v)?S:[S],e,n,i,c,m,s,g,r,a),h.base=e.__e,e.__u&=-161,h.__h.length&&s.push(h),p&&(h.__E=h.__=null)}catch(P){if(e.__v=null,r||m!=null){for(e.__u|=r?160:32;g&&g.nodeType===8&&g.nextSibling;)g=g.nextSibling;m[m.indexOf(g)]=null,e.__e=g}else e.__e=n.__e,e.__k=n.__k;Vn.__e(P,e,n)}else m==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=pWe(n.__e,e,n,i,c,m,s,r,a);(v=Vn.diffed)&&v(e)}function c_(t,e,n){e.__d=void 0;for(var i=0;i<n.length;i++)QA(n[i],n[++i],n[++i]);Vn.__c&&Vn.__c(e,t),t.some(function(c){try{t=c.__h,c.__h=[],t.some(function(m){m.call(c)})}catch(m){Vn.__e(m,c.__v)}})}function pWe(t,e,n,i,c,m,s,g,r){var a,v,h,u,l,o,d,p=n.props,f=e.props,y=e.type;if(y==="svg"?c="http://www.w3.org/2000/svg":y==="math"?c="http://www.w3.org/1998/Math/MathML":c||(c="http://www.w3.org/1999/xhtml"),m!=null){for(a=0;a<m.length;a++)if((l=m[a])&&"setAttribute"in l==!!y&&(y?l.localName===y:l.nodeType===3)){t=l,m[a]=null;break}}if(t==null){if(y===null)return document.createTextNode(f);t=document.createElementNS(c,y,f.is&&f),g&&(Vn.__m&&Vn.__m(e,m),g=!1),m=null}if(y===null)p===f||g&&t.data===f||(t.data=f);else{if(m=m&&Eb.call(t.childNodes),p=n.props||Mm,!g&&m!=null)for(p={},a=0;a<t.attributes.length;a++)p[(l=t.attributes[a]).name]=l.value;for(a in p)if(l=p[a],a!="children"){if(a=="dangerouslySetInnerHTML")h=l;else if(!(a in f)){if(a=="value"&&"defaultValue"in f||a=="checked"&&"defaultChecked"in f)continue;A2(t,a,null,l,c)}}for(a in f)l=f[a],a=="children"?u=l:a=="dangerouslySetInnerHTML"?v=l:a=="value"?o=l:a=="checked"?d=l:g&&typeof l!="function"||p[a]===l||A2(t,a,l,p[a],c);if(v)g||h&&(v.__html===h.__html||v.__html===t.innerHTML)||(t.innerHTML=v.__html),e.__k=[];else if(h&&(t.innerHTML=""),l_(t,JA(u)?u:[u],e,n,i,y==="foreignObject"?"http://www.w3.org/1999/xhtml":c,m,s,m?m[0]:n.__k&&n0(n,0),g,r),m!=null)for(a=m.length;a--;)a_(m[a]);g||(a="value",y==="progress"&&o==null?t.removeAttribute("value"):o!==void 0&&(o!==t[a]||y==="progress"&&!o||y==="option"&&o!==p[a])&&A2(t,a,o,p[a],c),a="checked",d!==void 0&&d!==t[a]&&A2(t,a,d,p[a],c))}return t}function QA(t,e,n){try{if(typeof t=="function"){var i=typeof t.__u=="function";i&&t.__u(),i&&e==null||(t.__u=t(e))}else t.current=e}catch(c){Vn.__e(c,n)}}function h_(t,e,n){var i,c;if(Vn.unmount&&Vn.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.__e||QA(i,null,e)),(i=t.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(m){Vn.__e(m,e)}i.base=i.__P=null}if(i=t.__k)for(c=0;c<i.length;c++)i[c]&&h_(i[c],e,n||typeof t.type!="function");n||a_(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function vWe(t,e,n){return this.constructor(t,n)}function OT(t,e,n){var i,c,m,s;Vn.__&&Vn.__(t,e),c=(i=!1)?null:e.__k,m=[],s=[],_A(e,t=e.__k=En(Cb,null,[t]),c||Mm,Mm,e.namespaceURI,c?null:e.firstChild?Eb.call(e.childNodes):null,m,c?c.__e:e.firstChild,i,s),c_(m,t,s)}Eb=s_.slice,Vn={__e:function(t,e,n,i){for(var c,m,s;e=e.__;)if((c=e.__c)&&!c.__)try{if((m=c.constructor)&&m.getDerivedStateFromError!=null&&(c.setState(m.getDerivedStateFromError(t)),s=c.__d),c.componentDidCatch!=null&&(c.componentDidCatch(t,i||{}),s=c.__d),s)return c.__E=c}catch(g){t=g}throw t}},r_=0,vw.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=xc({},this.state),typeof t=="function"&&(t=t(xc({},n),this.props)),t&&xc(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Hk(this))},vw.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Hk(this))},vw.prototype.render=Cb,Sh=[],i_=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,PT=function(t,e){return t.__v.__b-e.__v.__b},bx.__r=0,ZA=0,IT=Xk(!1),RT=Xk(!0);var $m,gr,r8,Kk,MT=0,d_=[],Tr=Vn,Zk=Tr.__b,Jk=Tr.__r,_k=Tr.diffed,Qk=Tr.__c,qk=Tr.unmount,eB=Tr.__;function qA(t,e){Tr.__h&&Tr.__h(gr,t,MT||e),MT=0;var n=gr.__H||(gr.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function tB(t){return MT=1,gWe(p_,t)}function gWe(t,e,n){var i=qA($m++,2);if(i.t=t,!i.__c&&(i.__=[p_(void 0,e),function(g){var r=i.__N?i.__N[0]:i.__[0],a=i.t(r,g);r!==a&&(i.__N=[a,i.__[1]],i.__c.setState({}))}],i.__c=gr,!gr.u)){var c=function(g,r,a){if(!i.__c.__H)return!0;var v=i.__c.__H.__.filter(function(u){return!!u.__c});if(v.every(function(u){return!u.__N}))return!m||m.call(this,g,r,a);var h=!1;return v.forEach(function(u){if(u.__N){var l=u.__[0];u.__=u.__N,u.__N=void 0,l!==u.__[0]&&(h=!0)}}),!(!h&&i.__c.props===g)&&(!m||m.call(this,g,r,a))};gr.u=!0;var m=gr.shouldComponentUpdate,s=gr.componentWillUpdate;gr.componentWillUpdate=function(g,r,a){if(this.__e){var v=m;m=void 0,c(g,r,a),m=v}s&&s.call(this,g,r,a)},gr.shouldComponentUpdate=c}return i.__N||i.__}function mWe(t,e){var n=qA($m++,3);!Tr.__s&&f_(n.__H,e)&&(n.__=t,n.i=e,gr.__H.__h.push(n))}function U_e(t,e){var n=qA($m++,7);return f_(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function yWe(){for(var t;t=d_.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(gw),t.__H.__h.forEach($T),t.__H.__h=[]}catch(e){t.__H.__h=[],Tr.__e(e,t.__v)}}Tr.__b=function(t){gr=null,Zk&&Zk(t)},Tr.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),eB&&eB(t,e)},Tr.__r=function(t){Jk&&Jk(t),$m=0;var e=(gr=t.__c).__H;e&&(r8===gr?(e.__h=[],gr.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(gw),e.__h.forEach($T),e.__h=[],$m=0)),r8=gr},Tr.diffed=function(t){_k&&_k(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(d_.push(e)!==1&&Kk===Tr.requestAnimationFrame||((Kk=Tr.requestAnimationFrame)||wWe)(yWe)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),r8=gr=null},Tr.__c=function(t,e){e.some(function(n){try{n.__h.forEach(gw),n.__h=n.__h.filter(function(i){return!i.__||$T(i)})}catch(i){e.some(function(c){c.__h&&(c.__h=[])}),e=[],Tr.__e(i,n.__v)}}),Qk&&Qk(t,e)},Tr.unmount=function(t){qk&&qk(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{gw(i)}catch(c){e=c}}),n.__H=void 0,e&&Tr.__e(e,n.__v))};var nB=typeof requestAnimationFrame=="function";function wWe(t){var e,n=function(){clearTimeout(i),nB&&cancelAnimationFrame(e),setTimeout(t)},i=setTimeout(n,100);nB&&(e=requestAnimationFrame(n))}function gw(t){var e=gr,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),gr=e}function $T(t){var e=gr;t.__c=t.__(),gr=e}function f_(t,e){return!t||t.length!==e.length||e.some(function(n,i){return n!==t[i]})}function p_(t,e){return typeof e=="function"?e(t):e}const xWe=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}",bWe="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",EWe="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class v_{constructor(){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=e_()}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",e.appendChild(this.root),this.render()}presentItem(e){const n=this.nextItemKey++;return this.items.set(n,e),this.render(),()=>{this.items.delete(n),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&OT(En("div",null,En(g_,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([e,n])=>En(CWe,Object.assign({},n,{key:e}))))),this.root)}}const g_=t=>En("div",{class:xg("-cbwsdk-snackbar-container")},En("style",null,xWe),En("div",{class:"-cbwsdk-snackbar"},t.children)),CWe=({autoExpand:t,message:e,menuItems:n})=>{const[i,c]=tB(!0),[m,s]=tB(t??!1);mWe(()=>{const r=[window.setTimeout(()=>{c(!1)},1),window.setTimeout(()=>{s(!0)},1e4)];return()=>{r.forEach(window.clearTimeout)}});const g=()=>{s(!m)};return En("div",{class:xg("-cbwsdk-snackbar-instance",i&&"-cbwsdk-snackbar-instance-hidden",m&&"-cbwsdk-snackbar-instance-expanded")},En("div",{class:"-cbwsdk-snackbar-instance-header",onClick:g},En("img",{src:bWe,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",En("div",{class:"-cbwsdk-snackbar-instance-header-message"},e),En("div",{class:"-gear-container"},!m&&En("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},En("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),En("img",{src:EWe,class:"-gear-icon",title:"Expand"}))),n&&n.length>0&&En("div",{class:"-cbwsdk-snackbar-instance-menu"},n.map((r,a)=>En("div",{class:xg("-cbwsdk-snackbar-instance-menu-item",r.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:r.onClick,key:a},En("svg",{width:r.svgWidth,height:r.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},En("path",{"fill-rule":r.defaultFillRule,"clip-rule":r.defaultClipRule,d:r.path,fill:"#AAAAAA"})),En("span",{class:xg("-cbwsdk-snackbar-instance-menu-item-info",r.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},r.info)))))},m_="M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z";class SWe{constructor(){this.attached=!1,this.snackbar=new v_}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,n=document.createElement("div");n.className="-cbwsdk-css-reset",e.appendChild(n),this.snackbar.attach(n),this.attached=!0,t_()}showConnecting(e){let n;return e.isUnlinkedErrorState?n={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:n={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:m_,defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(n)}}const TWe=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}";class AWe{constructor(){this.root=null,this.darkMode=e_()}attach(){const e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),t_()}present(e){this.render(e)}clear(){this.render(null)}render(e){this.root&&(OT(null,this.root),e&&OT(En(PWe,Object.assign({},e,{onDismiss:()=>{this.clear()},darkMode:this.darkMode})),this.root))}}const PWe=({title:t,buttonText:e,darkMode:n,onButtonClick:i,onDismiss:c})=>{const m=n?"dark":"light";return En(g_,{darkMode:n},En("div",{class:"-cbwsdk-redirect-dialog"},En("style",null,TWe),En("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:c}),En("div",{class:xg("-cbwsdk-redirect-dialog-box",m)},En("p",null,t),En("button",{onClick:i},e))))},IWe="https://keys.coinbase.com/connect",RWe="https://rpc.wallet.coinbase.com",rB="https://www.walletlink.org",OWe="https://go.cb-w.com/walletlink";class iB{constructor(){this.attached=!1,this.redirectDialog=new AWe}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}redirectToCoinbaseWallet(e){const n=new URL(OWe);n.searchParams.append("redirect_url",lWe().href),e&&n.searchParams.append("wl_url",e);const i=document.createElement("a");i.target="cbw-opener",i.href=n.href,i.rel="noreferrer noopener",i.click()}openCoinbaseWalletDeeplink(e){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",onButtonClick:()=>{this.redirectToCoinbaseWallet(e)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(e)},99)}showConnecting(e){return()=>{this.redirectDialog.clear()}}}class tu{constructor(e){this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.isMobileWeb=uWe(),this.linkedUpdated=m=>{this.isLinked=m;const s=this.storage.getItem(AT);if(m&&(this._session.linked=m),this.isUnlinkedErrorState=!1,s){const g=s.split(" "),r=this.storage.getItem("IsStandaloneSigning")==="true";g[0]!==""&&!m&&this._session.linked&&!r&&(this.isUnlinkedErrorState=!0)}},this.metadataUpdated=(m,s)=>{this.storage.setItem(m,s)},this.chainUpdated=(m,s)=>{this.chainCallbackParams.chainId===m&&this.chainCallbackParams.jsonRpcUrl===s||(this.chainCallbackParams={chainId:m,jsonRpcUrl:s},this.chainCallback&&this.chainCallback(s,Number.parseInt(m,10)))},this.accountUpdated=m=>{this.accountsCallback&&this.accountsCallback([m]),tu.accountRequestCallbackIds.size>0&&(Array.from(tu.accountRequestCallbackIds.values()).forEach(s=>{this.invokeCallback(s,{method:"requestEthereumAccounts",result:[m]})}),tu.accountRequestCallbackIds.clear())},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.metadata=e.metadata,this.accountsCallback=e.accountsCallback,this.chainCallback=e.chainCallback;const{session:n,ui:i,connection:c}=this.subscribe();this._session=n,this.connection=c,this.relayEventManager=new Yze,this.ui=i,this.ui.attach()}subscribe(){const e=Mp.load(this.storage)||Mp.create(this.storage),{linkAPIUrl:n}=this,i=new Hze({session:e,linkAPIUrl:n,listener:this}),c=this.isMobileWeb?new iB:new SWe;return i.connect(),{session:e,ui:c,connection:i}}resetAndReload(){this.connection.destroy().then(()=>{const e=Mp.load(this.storage);e?.id===this._session.id&&bl.clearAll(),document.location.reload()}).catch(e=>{})}signEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:Zo(e.weiValue),data:yg(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?Zo(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?Zo(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?Zo(e.gasPriceInWei):null,gasLimit:e.gasLimit?Zo(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:Zo(e.weiValue),data:yg(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?Zo(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?Zo(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?Zo(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?Zo(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,n){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:yg(e,!0),chainId:n}})}getWalletLinkSession(){return this._session}sendRequest(e){let n=null;const i=Ch(8),c=m=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,e.method,m),n?.()};return new Promise((m,s)=>{n=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:c,onResetConnection:this.resetAndReload}),this.relayEventManager.callbacks.set(i,g=>{if(n?.(),fi(g))return s(new Error(g.errorMessage));m(g)}),this.publishWeb3RequestEvent(i,e)})}publishWeb3RequestEvent(e,n){const i={type:"WEB3_REQUEST",id:e,request:n};this.publishEvent("Web3Request",i,!0).then(c=>{}).catch(c=>{this.handleWeb3ResponseMessage(i.id,{method:n.method,errorMessage:c.message})}),this.isMobileWeb&&this.openCoinbaseWalletDeeplink(n.method)}openCoinbaseWalletDeeplink(e){if(this.ui instanceof iB)switch(e){case"requestEthereumAccounts":case"switchEthereumChain":return;default:window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0}),this.ui.openCoinbaseWalletDeeplink();break}}publishWeb3RequestCanceledEvent(e){const n={type:"WEB3_REQUEST_CANCELED",id:e};this.publishEvent("Web3RequestCanceled",n,!1).then()}publishEvent(e,n,i){return this.connection.publishEvent(e,n,i)}handleWeb3ResponseMessage(e,n){if(n.method==="requestEthereumAccounts"){tu.accountRequestCallbackIds.forEach(i=>this.invokeCallback(i,n)),tu.accountRequestCallbackIds.clear();return}this.invokeCallback(e,n)}handleErrorResponse(e,n,i){var c;const m=(c=i?.message)!==null&&c!==void 0?c:"Unspecified error message.";this.handleWeb3ResponseMessage(e,{method:n,errorMessage:m})}invokeCallback(e,n){const i=this.relayEventManager.callbacks.get(e);i&&(i(n),this.relayEventManager.callbacks.delete(e))}requestEthereumAccounts(){const{appName:e,appLogoUrl:n}=this.metadata,i={method:"requestEthereumAccounts",params:{appName:e,appLogoUrl:n}},c=Ch(8);return new Promise((m,s)=>{this.relayEventManager.callbacks.set(c,g=>{if(fi(g))return s(new Error(g.errorMessage));m(g)}),tu.accountRequestCallbackIds.add(c),this.publishWeb3RequestEvent(c,i)})}watchAsset(e,n,i,c,m,s){const g={method:"watchAsset",params:{type:e,options:{address:n,symbol:i,decimals:c,image:m},chainId:s}};let r=null;const a=Ch(8),v=h=>{this.publishWeb3RequestCanceledEvent(a),this.handleErrorResponse(a,g.method,h),r?.()};return r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:v,onResetConnection:this.resetAndReload}),new Promise((h,u)=>{this.relayEventManager.callbacks.set(a,l=>{if(r?.(),fi(l))return u(new Error(l.errorMessage));h(l)}),this.publishWeb3RequestEvent(a,g)})}addEthereumChain(e,n,i,c,m,s){const g={method:"addEthereumChain",params:{chainId:e,rpcUrls:n,blockExplorerUrls:c,chainName:m,iconUrls:i,nativeCurrency:s}};let r=null;const a=Ch(8),v=h=>{this.publishWeb3RequestCanceledEvent(a),this.handleErrorResponse(a,g.method,h),r?.()};return r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:v,onResetConnection:this.resetAndReload}),new Promise((h,u)=>{this.relayEventManager.callbacks.set(a,l=>{if(r?.(),fi(l))return u(new Error(l.errorMessage));h(l)}),this.publishWeb3RequestEvent(a,g)})}switchEthereumChain(e,n){const i={method:"switchEthereumChain",params:Object.assign({chainId:e},{address:n})};let c=null;const m=Ch(8),s=g=>{this.publishWeb3RequestCanceledEvent(m),this.handleErrorResponse(m,i.method,g),c?.()};return c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:s,onResetConnection:this.resetAndReload}),new Promise((g,r)=>{this.relayEventManager.callbacks.set(m,a=>{if(c?.(),fi(a)&&a.errorCode)return r(rn.provider.custom({code:a.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(fi(a))return r(new Error(a.errorMessage));g(a)}),this.publishWeb3RequestEvent(m,i)})}}tu.accountRequestCallbackIds=new Set;const sB="DefaultChainId",aB="DefaultJsonRpcUrl";class y_{constructor(e){this._relay=null,this._addresses=[],this.metadata=e.metadata,this._storage=new bl("walletlink",rB),this.callback=e.callback||null;const n=this._storage.getItem(AT);if(n){const i=n.split(" ");i[0]!==""&&(this._addresses=i.map(c=>qu(c)))}this.initializeRelay()}getSession(){const e=this.initializeRelay(),{id:n,secret:i}=e.getWalletLinkSession();return{id:n,secret:i}}async handshake(){await this._eth_requestAccounts()}get selectedAddress(){return this._addresses[0]||void 0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(aB))!==null&&e!==void 0?e:void 0}set jsonRpcUrl(e){this._storage.setItem(aB,e)}updateProviderInfo(e,n){var i;this.jsonRpcUrl=e;const c=this.getChainId();this._storage.setItem(sB,n.toString(10)),wg(n)!==c&&((i=this.callback)===null||i===void 0||i.call(this,"chainChanged",wc(n)))}async watchAsset(e){const n=Array.isArray(e)?e[0]:e;if(!n.type)throw rn.rpc.invalidParams("Type is required");if(n?.type!=="ERC20")throw rn.rpc.invalidParams(`Asset of type '${n.type}' is not supported`);if(!n?.options)throw rn.rpc.invalidParams("Options are required");if(!n?.options.address)throw rn.rpc.invalidParams("Address is required");const i=this.getChainId(),{address:c,symbol:m,image:s,decimals:g}=n.options,a=await this.initializeRelay().watchAsset(n.type,c,m,g,s,i?.toString());return fi(a)?!1:!!a.result}async addEthereumChain(e){var n,i;const c=e[0];if(((n=c.rpcUrls)===null||n===void 0?void 0:n.length)===0)throw rn.rpc.invalidParams("please pass in at least 1 rpcUrl");if(!c.chainName||c.chainName.trim()==="")throw rn.rpc.invalidParams("chainName is a required field");if(!c.nativeCurrency)throw rn.rpc.invalidParams("nativeCurrency is a required field");const m=Number.parseInt(c.chainId,16);if(m===this.getChainId())return!1;const s=this.initializeRelay(),{rpcUrls:g=[],blockExplorerUrls:r=[],chainName:a,iconUrls:v=[],nativeCurrency:h}=c,u=await s.addEthereumChain(m.toString(),g,v,r,a,h);if(fi(u))return!1;if(((i=u.result)===null||i===void 0?void 0:i.isApproved)===!0)return this.updateProviderInfo(g[0],m),null;throw rn.rpc.internal("unable to add ethereum chain")}async switchEthereumChain(e){const n=e[0],i=Number.parseInt(n.chainId,16),m=await this.initializeRelay().switchEthereumChain(i.toString(10),this.selectedAddress||void 0);if(fi(m))throw m;const s=m.result;return s.isApproved&&s.rpcUrl.length>0&&this.updateProviderInfo(s.rpcUrl,i),null}async cleanup(){this.callback=null,this._relay&&this._relay.resetAndReload(),this._storage.clear()}_setAddresses(e,n){var i;if(!Array.isArray(e))throw new Error("addresses is not an array");const c=e.map(m=>qu(m));JSON.stringify(c)!==JSON.stringify(this._addresses)&&(this._addresses=c,(i=this.callback)===null||i===void 0||i.call(this,"accountsChanged",c),this._storage.setItem(AT,c.join(" ")))}async request(e){const n=e.params||[];switch(e.method){case"eth_accounts":return[...this._addresses];case"eth_coinbase":return this.selectedAddress||null;case"net_version":return this.getChainId().toString(10);case"eth_chainId":return wc(this.getChainId());case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_ecRecover":case"personal_ecRecover":return this.ecRecover(e);case"personal_sign":return this.personalSign(e);case"eth_signTransaction":return this._eth_signTransaction(n);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(n);case"eth_sendTransaction":return this._eth_sendTransaction(n);case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":return this.signTypedData(e);case"wallet_addEthereumChain":return this.addEthereumChain(n);case"wallet_switchEthereumChain":return this.switchEthereumChain(n);case"wallet_watchAsset":return this.watchAsset(n);default:if(!this.jsonRpcUrl)throw rn.rpc.internal("No RPC URL set for chain");return XA(e,this.jsonRpcUrl)}}_ensureKnownAddress(e){const n=qu(e);if(!this._addresses.map(c=>qu(c)).includes(n))throw new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const n=e.from?qu(e.from):this.selectedAddress;if(!n)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(n);const i=e.to?qu(e.to):null,c=e.value!=null?Lv(e.value):BigInt(0),m=e.data?TT(e.data):Buffer.alloc(0),s=e.nonce!=null?wg(e.nonce):null,g=e.gasPrice!=null?Lv(e.gasPrice):null,r=e.maxFeePerGas!=null?Lv(e.maxFeePerGas):null,a=e.maxPriorityFeePerGas!=null?Lv(e.maxPriorityFeePerGas):null,v=e.gas!=null?Lv(e.gas):null,h=e.chainId?wg(e.chainId):this.getChainId();return{fromAddress:n,toAddress:i,weiValue:c,data:m,nonce:s,gasPriceInWei:g,maxFeePerGas:r,maxPriorityFeePerGas:a,gasLimit:v,chainId:h}}async ecRecover(e){const{method:n,params:i}=e;if(!Array.isArray(i))throw rn.rpc.invalidParams();const m=await this.initializeRelay().sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:KE(i[0]),signature:KE(i[1]),addPrefix:n==="personal_ecRecover"}});if(fi(m))throw m;return m.result}getChainId(){var e;return Number.parseInt((e=this._storage.getItem(sB))!==null&&e!==void 0?e:"1",10)}async _eth_requestAccounts(){var e,n;if(this._addresses.length>0)return(e=this.callback)===null||e===void 0||e.call(this,"connect",{chainId:wc(this.getChainId())}),this._addresses;const c=await this.initializeRelay().requestEthereumAccounts();if(fi(c))throw c;if(!c.result)throw new Error("accounts received is empty");return this._setAddresses(c.result),(n=this.callback)===null||n===void 0||n.call(this,"connect",{chainId:wc(this.getChainId())}),this._addresses}async personalSign({params:e}){if(!Array.isArray(e))throw rn.rpc.invalidParams();const n=e[1],i=e[0];this._ensureKnownAddress(n);const m=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:qu(n),message:KE(i),addPrefix:!0,typedDataJson:null}});if(fi(m))throw m;return m.result}async _eth_signTransaction(e){const n=this._prepareTransactionParams(e[0]||{}),c=await this.initializeRelay().signEthereumTransaction(n);if(fi(c))throw c;return c.result}async _eth_sendRawTransaction(e){const n=TT(e[0]),c=await this.initializeRelay().submitEthereumTransaction(n,this.getChainId());if(fi(c))throw c;return c.result}async _eth_sendTransaction(e){const n=this._prepareTransactionParams(e[0]||{}),c=await this.initializeRelay().signAndSubmitEthereumTransaction(n);if(fi(c))throw c;return c.result}async signTypedData(e){const{method:n,params:i}=e;if(!Array.isArray(i))throw rn.rpc.invalidParams();const c=a=>{const v={eth_signTypedData_v1:T2.hashForSignTypedDataLegacy,eth_signTypedData_v3:T2.hashForSignTypedData_v3,eth_signTypedData_v4:T2.hashForSignTypedData_v4,eth_signTypedData:T2.hashForSignTypedData_v4};return yg(v[n]({data:yze(a)}),!0)},m=i[n==="eth_signTypedData_v1"?1:0],s=i[n==="eth_signTypedData_v1"?0:1];this._ensureKnownAddress(m);const r=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:qu(m),message:c(s),typedDataJson:JSON.stringify(s,null,2),addPrefix:!1}});if(fi(r))throw r;return r.result}initializeRelay(){return this._relay||(this._relay=new tu({linkAPIUrl:rB,storage:this._storage,metadata:this.metadata,accountsCallback:this._setAddresses.bind(this),chainCallback:this.updateProviderInfo.bind(this)})),this._relay}}const w_="SignerType",x_=new bl("CBWSDK","SignerConfigurator");function MWe(){return x_.getItem(w_)}function $We(t){x_.setItem(w_,t)}async function FWe(t){const{communicator:e,metadata:n,handshakeRequest:i,callback:c}=t;DWe(e,n,c).catch(()=>{});const m={id:crypto.randomUUID(),event:"selectSignerType",data:Object.assign(Object.assign({},t.preference),{handshakeRequest:i})},{data:s}=await e.postRequestAndWaitForResponse(m);return s}function LWe(t){const{signerType:e,metadata:n,communicator:i,callback:c}=t;switch(e){case"scw":return new Mze({metadata:n,callback:c,communicator:i});case"walletlink":return new y_({metadata:n,callback:c})}}async function DWe(t,e,n){await t.onMessage(({event:c})=>c==="WalletLinkSessionRequest");const i=new y_({metadata:e,callback:n});t.postMessage({event:"WalletLinkUpdate",data:{session:i.getSession()}}),await i.handshake(),t.postMessage({event:"WalletLinkUpdate",data:{connected:!0}})}const NWe=`Coinbase Wallet SDK requires the Cross-Origin-Opener-Policy header to not be set to 'same-origin'. This is to ensure that the SDK can communicate with the Coinbase Smart Wallet app.

Please see https://www.smartwallet.dev/guides/tips/popup-tips#cross-origin-opener-policy for more information.`,kWe=()=>{let t;return{getCrossOriginOpenerPolicy:()=>t===void 0?"undefined":t,checkCrossOriginOpenerPolicy:async()=>{if(typeof window>"u"){t="non-browser-env";return}try{const e=`${window.location.origin}${window.location.pathname}`,n=await fetch(e,{method:"HEAD"});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const i=n.headers.get("Cross-Origin-Opener-Policy");t=i??"null",t==="same-origin"&&console.error(NWe)}catch(e){console.error("Error checking Cross-Origin-Opener-Policy:",e.message),t="error"}}}},{checkCrossOriginOpenerPolicy:BWe,getCrossOriginOpenerPolicy:UWe}=kWe(),oB=420,lB=540,jWe={isRed:!1,info:"Retry",svgWidth:"10",svgHeight:"11",path:m_,defaultFillRule:"evenodd",defaultClipRule:"evenodd"},zWe="Popup was blocked. Try again.";let P2=null;function WWe(t){const e=(window.innerWidth-oB)/2+window.screenX,n=(window.innerHeight-lB)/2+window.screenY;VWe(t);function i(){const m=`wallet_${crypto.randomUUID()}`,s=window.open(t,m,`width=${oB}, height=${lB}, left=${e}, top=${n}`);return s?.focus(),s||null}let c=i();if(!c){const m=HWe();return new Promise((s,g)=>{m.presentItem({autoExpand:!0,message:zWe,menuItems:[Object.assign(Object.assign({},jWe),{onClick:()=>{c=i(),c?s(c):g(rn.rpc.internal("Popup window was blocked")),m.clear()}})]})})}return Promise.resolve(c)}function GWe(t){t&&!t.closed&&t.close()}function VWe(t){const e={sdkName:JJ,sdkVersion:I1,origin:window.location.origin,coop:UWe()};for(const[n,i]of Object.entries(e))t.searchParams.append(n,i.toString())}function HWe(){if(!P2){const t=document.createElement("div");t.className="-cbwsdk-css-reset",document.body.appendChild(t),P2=new v_,P2.attach(t)}return P2}class YWe{constructor({url:e=IWe,metadata:n,preference:i}){this.popup=null,this.listeners=new Map,this.postMessage=async c=>{(await this.waitForPopupLoaded()).postMessage(c,this.url.origin)},this.postRequestAndWaitForResponse=async c=>{const m=this.onMessage(({requestId:s})=>s===c.id);return this.postMessage(c),await m},this.onMessage=async c=>new Promise((m,s)=>{const g=r=>{if(r.origin!==this.url.origin)return;const a=r.data;c(a)&&(m(a),window.removeEventListener("message",g),this.listeners.delete(g))};window.addEventListener("message",g),this.listeners.set(g,{reject:s})}),this.disconnect=()=>{GWe(this.popup),this.popup=null,this.listeners.forEach(({reject:c},m)=>{c(rn.provider.userRejectedRequest("Request rejected")),window.removeEventListener("message",m)}),this.listeners.clear()},this.waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?(this.popup.focus(),this.popup):(this.popup=await WWe(this.url),this.onMessage(({event:c})=>c==="PopupUnload").then(this.disconnect).catch(()=>{}),this.onMessage(({event:c})=>c==="PopupLoaded").then(c=>{this.postMessage({requestId:c.id,data:{version:I1,metadata:this.metadata,preference:this.preference,location:window.location.toString()}})}).then(()=>{if(!this.popup)throw rn.rpc.internal();return this.popup})),this.url=new URL(e),this.metadata=n,this.preference=i}}function XWe(t){const e=fze(KWe(t),{shouldIncludeStack:!0}),n=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");return n.searchParams.set("version",I1),n.searchParams.set("code",e.code.toString()),n.searchParams.set("message",e.message),Object.assign(Object.assign({},e),{docUrl:n.href})}function KWe(t){var e;if(typeof t=="string")return{message:t,code:dr.rpc.internal};if(fi(t)){const n=t.errorMessage,i=(e=t.errorCode)!==null&&e!==void 0?e:n.match(/(denied|rejected)/i)?dr.provider.userRejectedRequest:void 0;return Object.assign(Object.assign({},t),{message:n,code:i,data:{method:t.method}})}return t}class ZWe extends xd{}var JWe=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(t);c<i.length;c++)e.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(t,i[c])&&(n[i[c]]=t[i[c]]);return n};class _We extends ZWe{constructor(e){var{metadata:n}=e,i=e.preference,{keysUrl:c}=i,m=JWe(i,["keysUrl"]);super(),this.signer=null,this.isCoinbaseWallet=!0,this.metadata=n,this.preference=m,this.communicator=new YWe({url:c,metadata:n,preference:m});const s=MWe();s&&(this.signer=this.initSigner(s))}async request(e){try{if(Oze(e),!this.signer)switch(e.method){case"eth_requestAccounts":{const n=await this.requestSignerSelection(e),i=this.initSigner(n);await i.handshake(e),this.signer=i,$We(n);break}case"wallet_sendCalls":{const n=this.initSigner("scw");await n.handshake({method:"handshake"});const i=await n.request(e);return await n.cleanup(),i}case"wallet_getCallsStatus":return XA(e,RWe);case"net_version":return 1;case"eth_chainId":return wc(1);default:throw rn.provider.unauthorized("Must call 'eth_requestAccounts' before other methods")}return await this.signer.request(e)}catch(n){const{code:i}=n;return i===dr.provider.unauthorized&&this.disconnect(),Promise.reject(XWe(n))}}async enable(){return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'),await this.request({method:"eth_requestAccounts"})}async disconnect(){var e;await((e=this.signer)===null||e===void 0?void 0:e.cleanup()),this.signer=null,bl.clearAll(),this.emit("disconnect",rn.provider.disconnected("User initiated disconnection"))}requestSignerSelection(e){return FWe({communicator:this.communicator,preference:this.preference,metadata:this.metadata,handshakeRequest:e,callback:this.emit.bind(this)})}initSigner(e){return LWe({signerType:e,metadata:this.metadata,communicator:this.communicator,callback:this.emit.bind(this)})}}function QWe(t){if(t){if(!["all","smartWalletOnly","eoaOnly"].includes(t.options))throw new Error(`Invalid options: ${t.options}`);if(t.attribution&&t.attribution.auto!==void 0&&t.attribution.dataSuffix!==void 0)throw new Error("Attribution cannot contain both auto and dataSuffix properties")}}function qWe(t){var e;const n={metadata:t.metadata,preference:t.preference};return(e=Rze(n))!==null&&e!==void 0?e:new _We(n)}const eGe={options:"all"};function uB(t){var e;new bl("CBWSDK").setItem("VERSION",I1),BWe();const i={metadata:{appName:t.appName||"Dapp",appLogoUrl:t.appLogoUrl||"",appChainIds:t.appChainIds||[]},preference:Object.assign(eGe,(e=t.preference)!==null&&e!==void 0?e:{})};QWe(i.preference);let c=null;return{getProvider:()=>(c||(c=qWe(i)),c)}}var tGe=({as:t="div",...e},n)=>M.jsx(t,{...e,ref:n}),nGe=H.forwardRef(tGe),rGe="https://challenges.cloudflare.com/turnstile/v0/api.js",eP="cf-turnstile-script",iGe="cf-turnstile",tP="onloadTurnstileCallback",b_=t=>!!document.getElementById(t),sGe=({render:t="explicit",onLoadCallbackName:e=tP,scriptOptions:{nonce:n="",defer:i=!0,async:c=!0,id:m="",appendTo:s,onError:g,crossOrigin:r=""}={}})=>{let a=m||eP;if(b_(a))return;let v=document.createElement("script");v.id=a,v.src=`${rGe}?onload=${e}&render=${t}`,!document.querySelector(`script[src="${v.src}"]`)&&(v.defer=!!i,v.async=!!c,n&&(v.nonce=n),r&&(v.crossOrigin=r),g&&(v.onerror=g,delete window[e]),(s==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(v))},hh={normal:{width:300,height:65},compact:{width:150,height:140},invisible:{width:0,height:0,overflow:"hidden"},flexible:{minWidth:300,width:"100%",height:65},interactionOnly:{width:"fit-content",height:"auto",display:"flex"}};function aGe(t){if(t!=="invisible"&&t!=="interactionOnly")return t}function oGe(t=eP){let[e,n]=H.useState(!1);return H.useEffect(()=>{let i=()=>{b_(t)&&n(!0)},c=new MutationObserver(i);return c.observe(document,{childList:!0,subtree:!0}),i(),()=>{c.disconnect()}},[t]),e}var bg="unloaded",E_,lGe=new Promise((t,e)=>{E_={resolve:t,reject:e},bg==="ready"&&t(void 0)}),uGe=(t=tP)=>(bg==="unloaded"&&(bg="loading",window[t]=()=>{E_.resolve(),bg="ready",delete window[t]}),lGe),C_=H.forwardRef((t,e)=>{let{scriptOptions:n,options:i={},siteKey:c,onWidgetLoad:m,onSuccess:s,onExpire:g,onError:r,onBeforeInteractive:a,onAfterInteractive:v,onUnsupported:h,onTimeout:u,onLoadScript:l,id:o,style:d,as:p="div",injectScript:f=!0,rerenderOnCallbackChange:y=!1,...w}=t,x=i.size,b=H.useCallback(()=>typeof x>"u"?{}:i.execution==="execute"?hh.invisible:i.appearance==="interaction-only"?hh.interactionOnly:hh[x],[i.execution,x,i.appearance]),[E,C]=H.useState(b()),T=H.useRef(null),[S,A]=H.useState(!1),P=H.useRef(),R=H.useRef(!1),L=o||iGe,D=H.useRef({onSuccess:s,onError:r,onExpire:g,onBeforeInteractive:a,onAfterInteractive:v,onUnsupported:h,onTimeout:u});H.useEffect(()=>{y||(D.current={onSuccess:s,onError:r,onExpire:g,onBeforeInteractive:a,onAfterInteractive:v,onUnsupported:h,onTimeout:u})});let $=n?.id||eP,F=oGe($),N=n?.onLoadCallbackName||tP,k=i.appearance||"always",j=H.useMemo(()=>({sitekey:c,action:i.action,cData:i.cData,theme:i.theme||"auto",language:i.language||"auto",tabindex:i.tabIndex,"response-field":i.responseField,"response-field-name":i.responseFieldName,size:aGe(x),retry:i.retry||"auto","retry-interval":i.retryInterval||8e3,"refresh-expired":i.refreshExpired||"auto","refresh-timeout":i.refreshTimeout||"auto",execution:i.execution||"render",appearance:i.appearance||"always","feedback-enabled":i.feedbackEnabled||!0,callback:G=>{R.current=!0,y?s?.(G):D.current.onSuccess?.(G)},"error-callback":y?r:(...G)=>D.current.onError?.(...G),"expired-callback":y?g:(...G)=>D.current.onExpire?.(...G),"before-interactive-callback":y?a:(...G)=>D.current.onBeforeInteractive?.(...G),"after-interactive-callback":y?v:(...G)=>D.current.onAfterInteractive?.(...G),"unsupported-callback":y?h:(...G)=>D.current.onUnsupported?.(...G),"timeout-callback":y?u:(...G)=>D.current.onTimeout?.(...G)}),[i.action,i.appearance,i.cData,i.execution,i.language,i.refreshExpired,i.responseField,i.responseFieldName,i.retry,i.retryInterval,i.tabIndex,i.theme,i.feedbackEnabled,i.refreshTimeout,c,x,y,y?s:null,y?r:null,y?g:null,y?a:null,y?v:null,y?h:null,y?u:null]),W=H.useCallback(()=>typeof window<"u"&&!!window.turnstile,[]);return H.useEffect(function(){f&&!S&&sGe({onLoadCallbackName:N,scriptOptions:{...n,id:$}})},[f,S,n,$]),H.useEffect(function(){bg!=="ready"&&uGe(N).then(()=>A(!0)).catch(console.error)},[]),H.useEffect(function(){if(!T.current||!S)return;let G=!1;return(async()=>{if(G||!T.current)return;let K=window.turnstile.render(T.current,j);P.current=K,P.current&&m?.(P.current)})(),()=>{G=!0,P.current&&(window.turnstile.remove(P.current),R.current=!1)}},[L,S,j]),H.useImperativeHandle(e,()=>{let{turnstile:G}=window;return{getResponse(){if(!G?.getResponse||!P.current||!W()){console.warn("Turnstile has not been loaded");return}return G.getResponse(P.current)},async getResponsePromise(K=3e4,z=100){return new Promise((X,U)=>{let Z,V=async()=>{if(R.current&&window.turnstile&&P.current)try{let J=window.turnstile.getResponse(P.current);return Z&&clearTimeout(Z),J?X(J):U(new Error("No response received"))}catch(J){return Z&&clearTimeout(Z),console.warn("Failed to get response",J),U(new Error("Failed to get response"))}Z||(Z=setTimeout(()=>{Z&&clearTimeout(Z),U(new Error("Timeout"))},K)),await new Promise(J=>setTimeout(J,z)),await V()};V()})},reset(){if(!G?.reset||!P.current||!W()){console.warn("Turnstile has not been loaded");return}i.execution==="execute"&&C(hh.invisible);try{R.current=!1,G.reset(P.current)}catch(K){console.warn(`Failed to reset Turnstile widget ${P}`,K)}},remove(){if(!G?.remove||!P.current||!W()){console.warn("Turnstile has not been loaded");return}C(hh.invisible),R.current=!1,G.remove(P.current),P.current=null},render(){if(!G?.render||!T.current||!W()||P.current){console.warn("Turnstile has not been loaded or container not found");return}let K=G.render(T.current,j);return P.current=K,P.current&&m?.(P.current),i.execution!=="execute"&&C(x?hh[x]:{}),K},execute(){if(i.execution!=="execute"){console.warn('Execution mode is not set to "execute"');return}if(!G?.execute||!T.current||!P.current||!W()){console.warn("Turnstile has not been loaded or container not found");return}G.execute(T.current,j),C(x?hh[x]:{})},isExpired(){return!G?.isExpired||!P.current||!W()?(console.warn("Turnstile has not been loaded"),!1):G.isExpired(P.current)}}},[P,i.execution,x,j,T,W,S,m]),H.useEffect(()=>{F&&!S&&window.turnstile&&A(!0)},[S,F]),H.useEffect(()=>{C(b())},[i.execution,x,k]),H.useEffect(()=>{!F||typeof l!="function"||l()},[F]),M.jsx(nGe,{ref:T,as:p,id:L,style:{...E,...d},...w})});C_.displayName="Turnstile";const cGe=t=>{let[e,n]=H.useState("auto");return H.useEffect((()=>{let i=new ResizeObserver((c=>{n(c[0]?.contentRect.height??"auto")}));return t.current&&i.observe(t.current),()=>{t.current&&i.unobserve(t.current)}}),[t.current]),e};function hGe(t){let{logout:e}=H.useContext(d0);return q3("logout",t),{logout:e}}const dGe=ae.div.withConfig({displayName:"Column",componentId:"sc-cfc52180-0"})(["display:flex;flex-direction:column;"]);function Fm(t){return["ethereum","solana"].includes(t.chainType)}function S_(t){let e=t.replace("eip155:","");if(e)return parseInt(e);throw Error("Chain ID not compatible with CAIP-2 format.")}const T_=t=>t.filter((e=>e.method==="wallets"||(e.method==="exchange"?e.provider==="coinbase":e.method==="card"||e.method==="payment-request"?e.provider==="coinbase"||e.provider==="moonpay":(e.method,!1)))),cB={[Na.id]:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",[J9.id]:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",[Eu.id]:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",[K9.id]:"0x5fd84259d66Cd46123540766Be93DFE6D43130D7",[ka.id]:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",[Z9.id]:"0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582",[Ro.id]:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",[X9.id]:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",[Io.id]:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",[Y9.id]:"0x5425890298aed601595a70ab815c96711a31bc65",[Po.id]:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",[H9.id]:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"},hB=({address:t,appConfig:e,fundWalletConfig:n,methodScreen:i,chainIdOverride:c,comingFromSendTransactionScreen:m=!1})=>{let s,g;if(!e.fundingConfig)throw Error("Wallet funding is not enabled");let r=T_(e.fundingConfig.options);if(r.length<1)throw Error("Wallet funding is not enabled");s=c||(n?.chain?n.chain.id:S_(e.fundingConfig.defaultRecommendedCurrency.chain));let a=e.chains.find((d=>d.id===s));if(!a)throw new ge(`Funding chain ${s} is not in PrivyProvider chains list`);let v=n?.amount??e.fundingConfig.defaultRecommendedAmount,h=!1;function u(){if(!s)return;let d=cB[s];r.find((p=>p.method==="wallets"))&&!d&&console.warn("Attempting to fund with USDC on chain where USDC address is not known. Funding via external wallet will be disabled."),g=d,h=!0}var l;n&&"asset"in n?n.asset==="USDC"?u():typeof n.asset!="string"&&"erc20"in n.asset&&(l=g=n.asset.erc20,h=l===cB[a.id]):e.fundingConfig.defaultRecommendedCurrency.asset==="USDC"&&u();let o=n?.defaultFundingMethod;return{chainType:"ethereum",address:t,amount:v,chain:a,erc20Address:g,erc20ContractInfo:h?{symbol:"USDC",decimals:6}:void 0,isUSDC:h,methodScreen:i,supportedOptions:r,comingFromSendTransactionScreen:m,defaultFundingMethod:o,usingDefaultFundingMethod:!!o,preferredCardProvider:n?.card?.preferredProvider,crossChainBridgingEnabled:e.fundingConfig.crossChainBridgingEnabled??!1,solanaChain:"solana:mainnet",uiConfig:n&&"uiConfig"in n?n.uiConfig:void 0,externalSolanaFundingScreen:null}},fGe=t=>t.reduce(((e,n)=>!e||e.walletIndex<n.walletIndex?n:e),null),pGe=async({appConfig:t,getAccessToken:e,initializeWalletProxy:n,user:i,privy:c,emitPrivyEvent:m,recoverEmbeddedWallet:s,setModalData:g,openModal:r,setUser:a,options:v,timeoutDuration:h,refreshSessionAndUser:u,chainType:l})=>{let[o,d]=await Promise.all([n(h),e()]);if(!d||!i)throw m("createWallet","onError",we.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");if(!o&&t.customAuth?.enabled)throw m("createWallet","onError",we.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");if(v&&"walletIndex"in v&&typeof v.walletIndex=="number"){if(t.embeddedWallets.mode==="user-controlled-server-wallets-only")throw m("createWallet","onError",we.INVALID_DATA),Error("Invalid input, use `createAdditional` instead of `walletIndex` to create additional wallets.");return dB({accessToken:d,appConfig:t,privy:c,emitPrivyEvent:m,openModal:r,proxy:o,refreshSessionAndUser:u,recoverEmbeddedWallet:s,setModalData:g,user:i,walletIndex:v.walletIndex,chainType:l,setUser:a})}let p=v&&"createAdditional"in v&&v.createAdditional,f=PA(i,{chainType:l});if(f[0]&&!p)throw m("createWallet","onError",we.EMBEDDED_WALLET_ALREADY_EXISTS),Error("User already has an embedded wallet.");return dB({accessToken:d,appConfig:t,privy:c,emitPrivyEvent:m,openModal:r,proxy:o,recoverEmbeddedWallet:s,setModalData:g,user:i,walletIndex:(fGe(f)?.walletIndex??-1)+1,chainType:l,refreshSessionAndUser:u,setUser:a})};let dB=async({accessToken:t,appConfig:e,privy:n,emitPrivyEvent:i,proxy:c,refreshSessionAndUser:m,recoverEmbeddedWallet:s,user:g,walletIndex:r,setModalData:a,openModal:v,chainType:h,setUser:u})=>{if(r<0)throw i("createWallet","onError",we.EMBEDDED_WALLET_CREATE_ERROR),Error(`A negative walletIndex (${r}) is invalid.`);let l=bo(g);if(r>0&&!l)throw i("createWallet","onError",we.EMBEDDED_WALLET_NOT_FOUND),Error("Must have an existing embedded wallet to create an additional wallet.");if(e.embeddedWallets.requireUserOwnedRecoveryOnCreate&&e.embeddedWallets.mode==="user-controlled-server-wallets-only")throw i("createWallet","onError",we.EMBEDDED_WALLET_CREATE_ERROR),Error("User owned recovery not yet supported for this app.");if(!l&&e.embeddedWallets.requireUserOwnedRecoveryOnCreate)return await fB({emitPrivyEvent:i,setModalData:a,openModal:v,chainType:h});let o=PA(g,{chainType:h,walletIndex:r})[0];if(o)return{user:g,account:o};if(r===0&&!c)return fB({emitPrivyEvent:i,setModalData:a,openModal:v,chainType:h});if(!c)throw i("createWallet","onError",we.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");return mZ({appConfig:e,walletIndex:r,chainType:h,user:g,accessToken:t,proxy:c,refreshSessionAndUser:m,privy:n,recoverEmbeddedWallet:s,setUser:u})},fB=async({emitPrivyEvent:t,setModalData:e,openModal:n,chainType:i})=>new Promise(((c,m)=>{e({createWallet:{onSuccess:({user:s,account:g})=>{t("createWallet","onSuccess",{wallet:g}),c({user:s,account:g})},onFailure:s=>{t("createWallet","onError",we.UNKNOWN_EMBEDDED_WALLET_ERROR),m(s)},callAuthOnSuccessOnClose:!1,shouldCreateEth:i==="ethereum",shouldCreateSol:i==="solana"}}),n(Cu)}));const vGe=()=>{let t=it(),e=Ld(),{setModalData:n}=lt(),{initializeWalletProxy:i,recoverEmbeddedWallet:c,setUser:m,openModal:s,refreshSessionAndUser:g,privy:r,client:a}=et();return{create:async({chainType:v,options:h,latestUser:u})=>{let l=u;if(l||(l=await g()),!l)throw e("createWallet","onError",we.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");return await pGe({appConfig:t,privy:r,getAccessToken:()=>a.getAccessToken(),refreshSessionAndUser:g,initializeWalletProxy:i,user:l,emitPrivyEvent:e,recoverEmbeddedWallet:c,setModalData:n,openModal:s,setUser:m,options:h,timeoutDuration:aLe,chainType:v})}}};function gGe(t){let{create:e}=vGe();return q3("createWallet",t),{createWallet:async n=>{n&&"target"in n&&n&&(n=void 0);let{account:i}=await e({chainType:"ethereum",options:n});return i}}}const mGe=async({emitPrivyEvent:t,getAccessToken:e,initializeWalletProxy:n,refreshSessionAndUser:i,user:c,appConfig:m},{privateKey:s,chainType:g,additionalSigners:r})=>{if(!c)throw t("linkAccount","onError",we.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new ge("User must be authenticated before linking an account.");let a=m.embeddedWallets.mode==="user-controlled-server-wallets-only"?"tee":"on-device";if(r&&a==="on-device")throw new ge("Specifying additionalSigners is only supported for TEE execution and this app uses On-device execution. Learn more https://docs.privy.io/recipes/tee-wallet-migration-guide");let[v,h]=await Promise.all([e(),n(15e3)]);if(!h||!v)throw t("linkAccount","onError",we.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new ge("User must be authenticated before linking an account.");let{address:u}=await h.importWallet({privateKey:s,accessToken:v,chainType:g,mode:a,additionalSigners:r}),l=await i(),o=RC(l),d=o?.find((p=>p.address===u));if(!d)throw t("createWallet","onError",we.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to import wallet");return t("createWallet","onSuccess",{wallet:d}),d},yGe=()=>{let{user:t}=Xt(),{client:e,refreshSessionAndUser:n,initializeWalletProxy:i}=et(),c=Ld(),m=it();return{importWallet:H.useCallback((({privateKey:s,additionalSigners:g})=>mGe({getAccessToken:()=>e.getAccessToken(),user:t,initializeWalletProxy:i,refreshSessionAndUser:n,emitPrivyEvent:c,appConfig:m},{privateKey:s,chainType:"ethereum",additionalSigners:g})),[t,e,n,i,c,m])}},A_=()=>{let{importWallet:t}=yGe(),{createWallet:e}=gGe();return{...H.useContext(d0),importWallet:t,createWallet:e}};function wGe({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{fillRule:"evenodd",d:"M8.603 3.799A4.49 4.49 0 0 1 12 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 0 1 3.498 1.307 4.491 4.491 0 0 1 1.307 3.497A4.49 4.49 0 0 1 21.75 12a4.49 4.49 0 0 1-1.549 3.397 4.491 4.491 0 0 1-1.307 3.497 4.491 4.491 0 0 1-3.497 1.307A4.49 4.49 0 0 1 12 21.75a4.49 4.49 0 0 1-3.397-1.549 4.49 4.49 0 0 1-3.498-1.306 4.491 4.491 0 0 1-1.307-3.498A4.49 4.49 0 0 1 2.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 0 1 1.307-3.497 4.49 4.49 0 0 1 3.497-1.307Zm7.007 6.387a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const xGe=H.forwardRef(wGe);function bGe({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{fillRule:"evenodd",d:"M4.5 3.75a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-15Zm4.125 3a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Zm-3.873 8.703a4.126 4.126 0 0 1 7.746 0 .75.75 0 0 1-.351.92 7.47 7.47 0 0 1-3.522.877 7.47 7.47 0 0 1-3.522-.877.75.75 0 0 1-.351-.92ZM15 8.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15ZM14.25 12a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H15a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15Z",clipRule:"evenodd"}))}const EGe=H.forwardRef(bGe);function CGe({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{fillRule:"evenodd",d:"M12.516 2.17a.75.75 0 0 0-1.032 0 11.209 11.209 0 0 1-7.877 3.08.75.75 0 0 0-.722.515A12.74 12.74 0 0 0 2.25 9.75c0 5.942 4.064 10.933 9.563 12.348a.749.749 0 0 0 .374 0c5.499-1.415 9.563-6.406 9.563-12.348 0-1.39-.223-2.73-.635-3.985a.75.75 0 0 0-.722-.516l-.143.001c-2.996 0-5.717-1.17-7.734-3.08Zm3.094 8.016a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const SGe=H.forwardRef(CGe);function Lm(t){return t?{"privy-ui":"t"}:void 0}class vp{async authenticate(){if(!this.api)throw new ge("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new ge("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(U0e,{email:this.meta.email,code:this.meta.emailCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Kt(e)}}async link(){if(!this.api)throw new ge("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new ge("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(j0e,{email:this.meta.email,code:this.meta.emailCode})}catch(e){throw Kt(e)}}async sendCodeEmail({email:e,captchaToken:n,withPrivyUi:i}){if(!this.api)throw new ge("Auth flow has no API instance");if(e&&(this.meta.email=e),n&&(this.meta.captchaToken=n),!this.meta.email)throw new ge("Email must be set when initialzing authentication.");let c=Lm(i);try{return await this.api.post(B0e,{email:this.meta.email,token:this.meta.captchaToken},{headers:{...c}})}catch(m){throw Kt(m)}}constructor({email:e,captchaToken:n,disableSignup:i}){this.meta={email:e,captchaToken:n,disableSignup:i??!1}}}class TGe extends vp{async link(){if(!this.api)throw new ge("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode||!this.meta.oldAddress)throw new ge("Email, email code, and an old email address must be set prior to calling update.");try{return await this.api.post(W0e,{oldAddress:this.meta.oldAddress,newAddress:this.meta.email,code:this.meta.emailCode})}catch(e){throw Kt(e)}}constructor(e,n,i){super({email:n,captchaToken:i}),this.meta={email:n,captchaToken:i,oldAddress:e,disableSignup:!1}}}class pB{get meta(){return this._meta}async authenticate(){if(!this.api)throw new ge("Auth flow has no API instance");if(!this.meta.channelToken)throw new ge("Auth flow must be initialized first");try{let e=await this.api.post(F0e,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});if(!e)throw new ge("No response from authentication");return e}catch(e){throw Kt(e)}}async link(){if(!this.api)throw new ge("Auth flow has no API instance");try{return await this.api.post(L0e,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid})}catch(e){throw Kt(e)}}async _startChannelOnce(){if(!this.api)throw new ge("Auth flow has no API instance");let e=await this.api.post($0e,{token:this.captchaToken});sn.isMobile&&!sn.isIOS&&e.connect_uri&&fK(e.connect_uri,"_blank"),this._meta={...this._meta,connectUri:e.connect_uri,channelToken:e.channel_token}}async initializeFarcasterConnect(){if(!this.api)throw new ge("Auth flow has no API instance");await this.startChannelOnce.execute()}async _pollForReady(){if(!this.api)throw new ge("Auth flow has no API instance");if(!this.meta.channelToken)throw new ge("Auth flow must be initialized first");let e=await this.api.get(D0e,{headers:{"farcaster-channel-token":this.meta.channelToken}});return e.state==="completed"&&(this.message=e.message,this.signature=e.signature,this.fid=e.fid,!0)}constructor(e,n=!1){this._meta={disableSignup:!1},this.captchaToken=e,this.startChannelOnce=new Gi(this._startChannelOnce.bind(this)),this.pollForReady=new Gi(this._pollForReady.bind(this)),this._meta.disableSignup=n}}function nP(){return typeof window<"u"&&window.location.protocol==="chrome-extension:"&&"chrome"in window}function P_(){return nP()?window.chrome?.runtime?.id:void 0}function FT(){return nP()?typeof window.chrome?.identity?.launchWebAuthFlow=="function":!1}async function vB(t){return new Promise(((e,n)=>{FT()?window.chrome.identity.launchWebAuthFlow({url:t,interactive:!0},(async i=>{try{let c=(function(){return nP()?window.chrome?.runtime?.lastError?.message:void 0})();if(c||!i){let a=`WebAuthFlow failed: ${c||"Response URI missing"}`;throw Error(a)}let m=new URL(i),s=P_();if(!s)throw Error("Invalid extension context");if(m.protocol==="chrome-extension:"){if(m.hostname!==s)throw Error("Invalid responseUri origin")}else{if(m.protocol!=="https:")throw Error("Invalid responseUri protocol");{let a=m.hostname.split(".");if(a.length!==3||a[1]!=="chromiumapp"||a[2]!=="org"||a[0]!==s)throw Error("Invalid responseUri origin")}}let g=m.searchParams.get("privy_oauth_state"),r=m.searchParams.get("privy_oauth_code");if(!g||!r)throw Error("Invalid responseUri - missing required parameters");e({privyOAuthState:g,privyOAuthCode:r})}catch(c){n(c)}})):n(Error("Chrome identity API not available"))}))}class tp{addCaptchaToken(e){this.meta.captchaToken=e}isActive(){return!!(this.meta.authorizationCode&&this.meta.stateCode&&this.meta.provider)}async authenticate(){if(!this.api)throw new ge("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new ge("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenticate.");if(this.meta.authorizationCode==="undefined")throw new ge("User denied confirmation during OAuth flow");let e=lLe();try{let n=await this.api.post(jW,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});return Ct.del(Jv),Ct.del(cx),Ct.del(pg),n}catch(n){let i=Kt(n);throw i.privyErrorCode?new ge(i.message||"Invalid code during OAuth flow.",void 0,i.privyErrorCode):i.message==="User denied confirmation during OAuth flow"?new ge("Invalid code during oauth flow.",void 0,we.OAUTH_USER_DENIED):new ge("Invalid code during OAuth flow.",void 0,we.UNKNOWN_AUTH_ERROR)}}async link(){if(!this.api)throw new ge("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new ge("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling link.");if(this.meta.authorizationCode==="undefined")throw new ge("User denied confirmation during OAuth flow");let e=Ct.get(Jv);if(!e)throw new ge("Authentication error.");try{let n=await this.api.post(zW,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e});return Ct.del(Jv),n}catch(n){throw Kt(n)}}async getAuthorizationUrl(){if(!this.api)throw new ge("Auth flow has no API instance");if(!this.meta.provider)throw new ge("Provider must be set when initializing OAuth authentication.");let e=J3();Ct.put(Jv,e);let n=dA();Ct.put(ux,n);let i=await fA(e);this.meta.withPrivyUi||Ct.put(cx,!0),this.meta.disableSignup?Ct.put(pg,!0):Ct.del(pg);let c=Lm(this.meta.withPrivyUi),m=window.location.href,s=(function(){let g=P_();if(g)return`https://${g}.chromiumapp.org`})();s&&(m=s);try{return await this.api.post(UW,{provider:this.meta.provider,redirect_to:this.meta.customOAuthRedirectUrl||m,token:this.meta.captchaToken,code_challenge:i,state_code:n},{headers:{...c}})}catch(g){throw Kt(g)}}constructor(e){this.meta=e}}const AGe=({style:t})=>M.jsx(NG,{style:{color:"var(--privy-color-error)",...t}});let gB={google:{name:"Google",component:bK},discord:{name:"Discord",component:wK},github:{name:"Github",component:xK},linkedin:{name:"LinkedIn",component:SK},twitter:{name:"Twitter",component:IK},spotify:{name:"Spotify",component:TK},instagram:{name:"Instagram",component:EK},tiktok:{name:"Tiktok",component:AK},line:{name:"LINE",component:CK},twitch:{name:"Twitch",component:PK},apple:{name:"Apple",component:yK}},PGe=({iconUrl:t,...e})=>Ze.createElement("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},Ze.createElement("foreignObject",{x:"2",y:"2",width:"29",height:"28"},Ze.createElement("img",{src:t,width:"29",height:"28",style:{display:"block",objectFit:"contain",borderRadius:"4px"},alt:"Provider icon"})));const i8=(t,e)=>{if(t in gB)return gB[t];if(r1(t)&&e){let n=e.find((i=>i.provider===t));if(n)return{name:n.provider_display_name,component:i=>Ze.createElement(PGe,{...i,iconUrl:n.provider_icon_url})}}return{name:"Unknown",component:AGe}};function IGe(){let t=new URLSearchParams(window.location.search),e=t.get("privy_oauth_code"),n=t.get("privy_oauth_state"),i=t.get("privy_oauth_provider");if(!e||!n||!i)return{inProgress:!1};let c=!1;try{c=!!window.opener.location.origin}catch{}return{inProgress:!0,authorizationCode:e,stateCode:n,provider:i,withPrivyUi:!Ct.get(cx),popupFlow:window.opener!==null&&c,disableSignup:!!Ct.get(pg)}}class Hf{async initRegisterFlow(e){if(!this.api)throw new ge("Auth flow has no API instance");this.authenticateForRegistration=!0,this.meta.initRegisterResponse=await this.initRegisterOnce.execute(e)}async initAuthenticationFlow(e){if(!this.api)throw new ge("Auth flow has no API instance");this.authenticateForRegistration=!1,this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute(e)}async initLinkFlow(){if(!this.api)throw new ge("Auth flow has no API instance");this.meta.initLinkResponse=await this.initLinkOnce.execute()}async register(){let e=await Fi(()=>import("./index-D9std1Z8.js"),[]);if(!this.api)throw new ge("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new ge("WebAuthn is not supported in this browser");this.meta.initRegisterResponse||(this.meta.initRegisterResponse=await this.initRegisterOnce.execute());try{let n=this.meta.initRegisterResponse.options,i=await e.startRegistration({optionsJSON:this._transformInitLinkOptionsToCamelCase(n)});return this.meta.setPasskeyAuthState?.({status:"submitting-response"}),await this.api.post(ave,{relying_party:this.meta.initRegisterResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(i)})}catch(n){throw n.name==="NotAllowedError"?new ge("Passkey request timed out or rejected by user.",void 0,we.PASSKEY_NOT_ALLOWED):Kt(n)}}async authenticate(){if(this.authenticateForRegistration)return this.register();let e=await Fi(()=>import("./index-D9std1Z8.js"),[]);if(!this.api)throw new ge("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new ge("WebAuthn is not supported in this browser");this.meta.initAuthenticateResponse||(this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute());let n=this.meta.allowedCredentialsIds?.map((i=>({type:"public-key",id:i})))??this.meta.initAuthenticateResponse.options.allow_credentials;try{let i=await e.startAuthentication({optionsJSON:this._transformInitAuthenticateOptionsToCamelCase({...this.meta.initAuthenticateResponse.options,allow_credentials:n})});return this.meta.setPasskeyAuthState?.({status:"submitting-response"}),await this.api.post(sve,{relying_party:this.meta.initAuthenticateResponse.relying_party,challenge:this.meta.initAuthenticateResponse.options.challenge,authenticator_response:this._transformAuthenticationResponseToSnakeCase(i)})}catch(i){throw i.name==="NotAllowedError"?new ge("Passkey request timed out or rejected by user.",void 0,we.PASSKEY_NOT_ALLOWED):Kt(i)}}async link(){let e=await Fi(()=>import("./index-D9std1Z8.js"),[]);if(!this.api)throw new ge("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new ge("WebAuthn is not supported in this browser");this.meta.initLinkResponse||(this.meta.initLinkResponse=await this.initLinkOnce.execute());try{let n=this.meta.initLinkResponse.options,i=await e.startRegistration({optionsJSON:this._transformInitLinkOptionsToCamelCase(n)});return this.meta.setPasskeyAuthState?.({status:"submitting-response"}),await this.api.post(ive,{relying_party:this.meta.initLinkResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(i)})}catch(n){throw n.name==="NotAllowedError"?new ge("Passkey request timed out or rejected by user.",void 0,we.PASSKEY_NOT_ALLOWED):Kt(n)}}async _initRegisterOnce(e){if(!this.api)throw new ge("Auth flow has no API instance");let n=Lm(e);return await this.api.post(rve,{token:this.meta.captchaToken},{headers:{...n}})}async _initAuthenticateOnce(e){if(!this.api)throw new ge("Auth flow has no API instance");let n=Lm(e);return await this.api.post(nve,{token:this.meta.captchaToken},{headers:{...n}})}async _initLinkOnce(){if(!this.api)throw new ge("Auth flow has no API instance");return await this.api.post(tve,{})}_transformInitLinkOptionsToCamelCase(e){return{rp:e.rp,user:{id:e.user.id,name:e.user.name,displayName:e.user.display_name},challenge:e.challenge,pubKeyCredParams:e.pub_key_cred_params.map((n=>({type:n.type,alg:n.alg}))),timeout:e.timeout,excludeCredentials:e.exclude_credentials?.map((n=>({id:n.id,type:n.type,transports:n.transports}))),authenticatorSelection:{authenticatorAttachment:e.authenticator_selection?.authenticator_attachment,requireResidentKey:e.authenticator_selection?.require_resident_key,residentKey:e.authenticator_selection?.resident_key,userVerification:e.authenticator_selection?.user_verification},attestation:e.attestation,extensions:{appid:e.extensions?.app_id,credProps:e.extensions?.cred_props?.rk,hmacCreateSecret:e.extensions?.hmac_create_secret},hints:this.meta.hints}}_transformRegistrationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}_transformInitAuthenticateOptionsToCamelCase(e){return{rpId:e.rp_id,challenge:e.challenge,allowCredentials:e.allow_credentials?.map((n=>({id:n.id,type:n.type,transports:n.transports})))||[],timeout:e.timeout,extensions:{appid:e.extensions?.app_id,credProps:e.extensions?.cred_props,hmacCreateSecret:e.extensions?.hmac_create_secret},userVerification:e.user_verification}}_transformAuthenticationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,signature:e.response.signature,user_handle:e.response.userHandle},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}constructor({captchaToken:e,setPasskeyAuthState:n,hints:i}){this.authenticateForRegistration=!1,this.initRegisterOnce=new Gi(this._initRegisterOnce.bind(this)),this.initAuthenticateOnce=new Gi(this._initAuthenticateOnce.bind(this)),this.initLinkOnce=new Gi(this._initLinkOnce.bind(this)),this.meta={captchaToken:e,setPasskeyAuthState:n,hints:i}}}class gp{async authenticate(){if(!this.api)throw new ge("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new ge("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(X0e,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Kt(e)}}async link(){if(!this.api)throw new ge("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new ge("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(H0e,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw Kt(e)}}async sendSmsCode({phoneNumber:e,captchaToken:n,withPrivyUi:i}){if(!this.api)throw new ge("Auth flow has no API instance");if(e&&(this.meta.phoneNumber=e),n&&(this.meta.captchaToken=n),!this.meta.phoneNumber)throw new ge("phone nNumber must be set when initialzing authentication.");let c=Lm(i);try{return await this.api.post(V0e,{phoneNumber:this.meta.phoneNumber,token:this.meta.captchaToken},{headers:{...c}})}catch(m){throw Kt(m)}}constructor({phoneNumber:e,captchaToken:n,disableSignup:i}){this.meta={phoneNumber:e,captchaToken:n,disableSignup:i??!1}}}class RGe extends gp{async link(){if(!this.api)throw new ge("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode||!this.meta.oldPhoneNumber)throw new ge("Phone number, sms code, and an old phone number must be set prior to calling update.");try{return await this.api.post(K0e,{old_phone_number:this.meta.oldPhoneNumber,new_phone_number:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw Kt(e)}}constructor(e,n,i){super({phoneNumber:n,captchaToken:i}),this.meta={phoneNumber:n,captchaToken:i,oldPhoneNumber:e,disableSignup:!1}}}class vc{static parse(e){try{return new vc(e)}catch{return null}}static throwIfNotWellFormedJwt(e){return xC(e),e}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=xC(e)}}class rP extends vc{static parse(e){try{return new rP(e)}catch{return null}}get appId(){return this._decoded.aid?this._decoded.aid:this.audience}}let Yf,Nv;class OGe extends $d{async initialize(){await this.importPromise,await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:NK,id:"com.coinbase.wallet"}}async promptConnection(){try{await this.importPromise;let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new Dn("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw Dc(e)}}constructor(e,n,i,c,m){super("base_account",e,n,i),this.connectorType="base_account",this.walletClientType="base_account",this.displayName="Base",this.setBaseAccountSdk=m,this.proxyProvider=new Fd(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.baseAccountConfig={...c,appChainIds:[n.id].concat(e.map((s=>s.id)))},Yf?(this.proxyProvider.setWalletProvider(Yf.getProvider()),this.setBaseAccountSdk(Yf),console.log("Base Account SDK Initialized")):this.importPromise=Fi(()=>import("./index-CQJbDlCw.js"),[]).then((({createBaseAccountSDK:s})=>{Yf=s(this.baseAccountConfig),this.proxyProvider.setWalletProvider(Yf.getProvider()),this.setBaseAccountSdk(Yf),console.log("Base Account SDK Initialized")})).catch(console.error)}}let MGe=[1,11155111,137,10,8453,84532,42161,7777777,43114,56];class $Ge extends $d{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:DK,id:"com.coinbase.wallet"}}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new Dn("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw Dc(e)}}updateConnectionPreference(e){this.coinbaseWalletConfig={...this.coinbaseWalletConfig,preference:{...this.coinbaseWalletConfig.preference,options:e}},this.walletClientType=e==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",Nv=uB({...this.coinbaseWalletConfig}),this.proxyProvider.setWalletProvider(Nv.getProvider())}constructor(e,n,i,c){if(super("coinbase_wallet",e,n,i),this.connectorType="coinbase_wallet",this.displayName="Coinbase Wallet",this.proxyProvider=new Fd(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.coinbaseWalletConfig={...c,appChainIds:[n.id].concat(e.map((m=>m.id)))},this.walletClientType=this.coinbaseWalletConfig.preference?.options==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",this.walletClientType==="coinbase_smart_wallet"&&(this.displayName="Coinbase Smart Wallet"),!Nv){let m=this.coinbaseWalletConfig.preference?.options!=="eoaOnly"?(this.coinbaseWalletConfig.appChainIds??[]).filter((s=>!MGe.includes(s))):[];m.length>0&&!m.every((s=>pW.has(s)))&&console.info(`The configured chains are not supported by Coinbase Smart Wallet: ${m.join(", ")}`),Nv=uB(this.coinbaseWalletConfig)}this.proxyProvider.setWalletProvider(Nv.getProvider())}}class mB extends $d{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return await this.isConnected()?(await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[rT(e?.chainId||"0x1")]}),this.getConnectedWallet()):null}get walletBranding(){return{name:"Privy Wallet",icon:jK,id:"io.privy.wallet"}}disconnect(){this.connected=!1}async promptConnection(){}constructor({provider:e,chains:n,defaultChain:i,rpcConfig:c,imported:m,walletIndex:s}){super("privy",n,i,c),this.connectorType="embedded",this.proxyProvider=e,this.walletIndex=s,m&&(this.connectorType="embedded_imported"),this.subscribeListeners()}}const FGe=["eth_sign","eth_populateTransactionRequest","eth_signTransaction","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"];class Za extends Error{constructor(e,n,i){super(e),this.code=n,this.data=i}}class yB extends xd{async handleSendTransaction(e){if(!e.params||!Array.isArray(e.params))throw new Za(`Invalid params for ${e.method}`,4200);let n=e.params[0];if(!await In()||!this.address)throw new Za("Disconnected",4900);let{hash:i}=await LHe(n,{address:this.address});return i}async handleSignTransaction(e){if(!e.params||!Array.isArray(e.params))throw new Za(`Invalid params for ${e.method}`,4200);let n=e.params[0];if(!await In()||!this.address)throw new Za("Disconnected",4900);let{signature:i}=await FHe(n,{address:this.address});return i}handleSwitchEthereumChain(e){let n;if(!e.params||!Array.isArray(e.params))throw new Za(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")n=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new Za(`Invalid params for ${e.method}`,4200);n=e.params[0].chainId}this.chainId=Number(n),this.publicClient=Qp(this.chainId,this.chains,this.rpcConfig,{appId:this.appId}),this.emit("chainChanged",n)}async handlePersonalSign(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for personal_sign");let n=e.params[0],i=e.params[1],{signature:c}=await MHe({message:n},{address:i});return c}async handleSignedTypedData(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_signTypedData_v4");let n=e.params[0],i=typeof e.params[1]=="string"?JSON.parse(e.params[1]):e.params[1],{signature:c}=await $He(aw(i),{address:n});return c}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");delete e.params[0].gasPrice,delete e.params[0].maxFeePerGas,delete e.params[0].maxPriorityFeePerGas;let n={...e.params[0],chainId:rT(this.chainId)};return await this.publicClient.estimateGas({account:n.from??this.address,...Iw(n)})}async request(e){switch(console.debug("Embedded1193Provider.request() called with args",e),e.method){case"eth_accounts":case"eth_requestAccounts":return this.address?[this.address]:[];case"eth_chainId":return rT(this.chainId);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_sendTransaction":return this.handleSendTransaction(e);case"eth_signTransaction":return this.handleSignTransaction(e);case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"personal_sign":return this.handlePersonalSign(e);case"eth_signTypedData_v4":return this.handleSignedTypedData(e)}if(!(n=>FGe.includes(n))(e.method))return this.publicClient.request({method:e.method,params:e.params});{let n=await In();if(await DHe({address:this.address}),!n||!this.address)throw new Za("Disconnected",4900);try{let i={method:e.method,params:e.params},c=this.walletAccount;return c&&Us(c)?this.handleWalletApiRequest(i,c,n):(await this.walletProxy.rpc({accessToken:n,entropyId:this.entropyId,entropyIdVerifier:this.entropyIdVerifier,chainType:"ethereum",hdWalletIndex:this.walletIndex,request:i})).response.data}catch(i){throw console.error(i),new Za("Disconnected",4900)}}}async handleWalletApiRequest(e,n,i){let c=this.privyClient;if(!c)throw new Za("Disconnected",4900);if(e.method==="secp256k1_sign"){let m=await ro(c,(async({message:s})=>this.walletProxy.signWithUserSigner({accessToken:i,message:s})),{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:n.id,params:{hash:e.params[0]}});if(m.method!=="secp256k1_sign")throw new Za(`Invalid params for ${e.method}`,4200);return m.data.signature}throw new Za(`Method not supported: ${e.method}`,4200)}constructor({walletProxy:e,address:n,entropyId:i,entropyIdVerifier:c,rpcConfig:m,chains:s,appId:g,chainId:r=1,walletIndex:a,privyClient:v,walletAccount:h}){super(),this.walletProxy=e,this.address=n,this.entropyId=i,this.entropyIdVerifier=c,this.chainId=r,this.rpcConfig=m,this.chains=s,this.publicClient=Qp(r,this.chains,m,{appId:g}),this.rpcTimeoutDuration=pA(m,"privy"),this.appId=g,this.walletIndex=a,this.privyClient=v,this.walletAccount=h}}function s8(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var LGe=0;class I_ extends $d{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return{name:this.providerDetail.info.name,icon:this.providerDetail.info.icon,id:this.providerDetail.info.rdns}}disconnect(){console.warn(`Programmatic disconnect with ${this.providerDetail.info.name} is not yet supported.`)}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new Dn("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw Dc(e)}}constructor(e,n,i,c,m){super(m||"unknown",e,n,i),this.connectorType="injected",this.proxyProvider=new Fd(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.providerDetail=c;let s=c.provider;this.proxyProvider.setWalletProvider(s)}}var dh="__private_"+LGe+++"__walletBranding";class a8 extends $d{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return s8(this,dh)[dh]??{name:"Browser Extension",icon:gA,id:"extension"}}disconnect(){console.warn("Programmatic disconnect with browser wallets is not yet supported.")}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new Dn("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw Dc(e)}}constructor(e,n,i,c,m){super(m??"unknown",e,n,i),Object.defineProperty(this,dh,{writable:!0,value:void 0}),this.connectorType="injected",this.proxyProvider=new Fd(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.proxyProvider.setWalletProvider(c),m==="metamask"?s8(this,dh)[dh]={name:"MetaMask",icon:iT,id:"io.metamask"}:m==="phantom"&&(s8(this,dh)[dh]={name:"Phantom",icon:zK,id:"phantom"})}}class DGe extends I_{disconnect(){console.warn("MetaMask does not support programmatic disconnect.")}async promptConnection(){try{sn.isMobile||await this.proxyProvider.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new Dn("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw Dc(e)}}}class NGe extends xd{get wallets(){let e=new Set;return this.walletConnectors.flatMap((n=>n.wallets)).sort(((n,i)=>n.connectedAt&&i.connectedAt?i.connectedAt-n.connectedAt:0)).filter((n=>{let i=`${n.address}${n.walletClientType}${n.connectorType}${n.meta.id}`;return!e.has(i)&&(e.add(i),!0)}))}async initialize(e){if(this.initialized&&!e||(e&&this.removeAllConnectors(),this.externalWalletConfig.disableAllExternalWallets))return;let n=hLe({store:this.store,walletList:this.walletList,externalWalletConfig:this.externalWalletConfig,walletChainType:this.walletChainType}).then((i=>{i.forEach((({type:c,eip6963InjectedProvider:m,legacyInjectedProvider:s})=>{this.createEthereumWalletConnector({connectorType:"injected",walletClientType:c,providers:{eip6963InjectedProvider:m,legacyInjectedProvider:s}})}))}));for(let i of(this.walletList.includes("coinbase_wallet")&&this.createEthereumWalletConnector({connectorType:"coinbase_wallet",walletClientType:"coinbase_wallet"}),this.walletList.includes("base_account")&&this.createEthereumWalletConnector({connectorType:"base_account",walletClientType:"base_account"}),Object.values(mA)))!i.isInstalled&&this.walletList.includes(i.client)&&(["ethereum-only","ethereum-and-solana"].includes(this.walletChainType)&&i.chainTypes.includes("ethereum")&&this.createEthereumWalletConnector({connectorType:"null",walletClientType:i.client,walletConfig:i}),["ethereum-and-solana","solana-only"].includes(this.walletChainType)&&i.chainTypes.includes("solana")&&this.addSolanaWalletConnector(new yA({id:i.client,name:i.name})));this.externalWalletConfig.walletConnect.enabled&&this.createEthereumWalletConnector({connectorType:"wallet_connect_v2",walletClientType:"unknown"}),this.externalWalletConfig.solana.connectors?.get().forEach(this.addSolanaWalletConnector),this.externalWalletConfig.solana.connectors?._setOnConnectorsUpdated?.((i=>{i?.forEach(this.addSolanaWalletConnector)})),await n,this.initialized=!0}findWalletConnector(e,n,i){return e==="wallet_connect_v2"?this.walletConnectors.filter(Rv).find((c=>c.connectorType===e&&(!i||c.wallets.some((m=>m.address===i)))))??null:this.walletConnectors.filter(Rv).find((c=>c.connectorType===e&&c.walletClientType===n&&(!i||c.wallets.some((m=>m.address===i)))))??null}findSolanaWalletConnector(e){return this.walletConnectors.filter(Q3).find((n=>n.walletClientType==="unknown"?n.walletBranding.id===e:n.walletClientType===e))??null}findEmbeddedWalletConnectors(){return this.walletConnectors.filter((e=>e.connectorType==="embedded"))}findImportedWalletConnectors(){return this.walletConnectors.filter((e=>e.connectorType==="embedded_imported"))}onInitialized(e){e.wallets.forEach((n=>{let i=this.storedConnections.find((c=>c.address===n.address&&c.connectorType===n.connectorType&&(n.type==="solana"&&c.walletClientType==="unknown"&&n.walletClientType==="unknown"?n.meta.id===c.id:c.walletClientType===n.walletClientType)));i&&(n.connectedAt=i.connectedAt)})),this.emit("walletsUpdated"),this.emit("connectorInitialized")}onWalletsUpdated(e){e.initialized&&this.emit("walletsUpdated")}addEmbeddedWalletConnectors({walletProxy:e,user:n,embeddedWallets:i,defaultChain:c,appId:m,privyClient:s}){let{entropyId:g,entropyIdVerifier:r}=io(n);for(let a of i){let v=this.findEmbeddedWalletConnectors().find((h=>h.walletIndex===a.walletIndex));if(v&&Rv(v))v.proxyProvider.walletProxy=e;else{let h=new mB({provider:new yB({walletProxy:e,address:a.address,entropyId:g,entropyIdVerifier:r,rpcConfig:this.rpcConfig,chains:this.chains,appId:m,chainId:c.id,walletIndex:a.walletIndex,privyClient:s,walletAccount:a}),chains:this.chains,defaultChain:c,rpcConfig:this.rpcConfig,imported:!1,walletIndex:a.walletIndex});this.addWalletConnector(h)}}}addImportedWalletConnector(e,n,i,c){let m=this.findWalletConnector("embedded_imported","privy",n);if(m&&Rv(m))m.proxyProvider.walletProxy=e;else{let s=new mB({provider:new yB({walletProxy:e,address:n,entropyId:n,entropyIdVerifier:"ethereum-address-verifier",walletIndex:0,rpcConfig:this.rpcConfig,chains:this.chains,appId:c,chainId:i.id}),chains:this.chains,walletIndex:0,defaultChain:i,rpcConfig:this.rpcConfig,imported:!0});this.addWalletConnector(s)}}removeEmbeddedWalletConnectors(){this.walletConnectors=this.walletConnectors.filter((e=>e.connectorType!=="embedded")),this.storedConnections=ow(),this.emit("walletsUpdated")}removeImportedWalletConnectors(){let e=this.findImportedWalletConnectors();e.length&&(e.forEach((n=>{let i=this.walletConnectors.indexOf(n);this.walletConnectors.splice(i,1)})),this.storedConnections=ow(),this.emit("walletsUpdated"))}async createEthereumWalletConnector({connectorType:e,walletClientType:n,providers:i,walletConfig:c}){let m=this.findWalletConnector(e,n);if(m&&Rv(m))return m instanceof Ip&&m.resetConnection(n),m;let s=e!=="injected"?e==="coinbase_wallet"?new $Ge(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.coinbaseWallet.config):e==="base_account"?new OGe(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.baseAccount.config,this.setBaseAccountSdk):e!=="null"?new Ip({walletConnectCloudProjectId:this.walletConnectCloudProjectId,rpcConfig:this.rpcConfig,chains:this.chains,defaultChain:this.defaultChain,shouldEnforceDefaultChainOnConnect:this.shouldEnforceDefaultChainOnConnect,privyAppId:this.privyAppId,privyAppName:this.privyAppName,walletClientType:n}):c?new vA({id:c.client,name:c.name,defaultChain:this.defaultChain,walletClientType:c.client}):null:n==="metamask"&&i?.eip6963InjectedProvider?new DGe(this.chains,this.defaultChain,this.rpcConfig,i?.eip6963InjectedProvider,"metamask"):n==="metamask"&&i?.legacyInjectedProvider?new a8(this.chains,this.defaultChain,this.rpcConfig,i?.legacyInjectedProvider,"metamask"):n==="phantom"&&i?.legacyInjectedProvider?new a8(this.chains,this.defaultChain,this.rpcConfig,i?.legacyInjectedProvider,"phantom"):i?.legacyInjectedProvider&&n==="unknown_browser_extension"?new a8(this.chains,this.defaultChain,this.rpcConfig,i?.legacyInjectedProvider):i?.eip6963InjectedProvider?new I_(this.chains,this.defaultChain,this.rpcConfig,i?.eip6963InjectedProvider,n):void 0;return s&&this.addWalletConnector(s),s||null}addWalletConnector(e){this.walletConnectors.push(e),e.on("initialized",(()=>this.onInitialized(e))),e.on("walletsUpdated",(()=>this.onWalletsUpdated(e))),e.initialize().catch((n=>{console.debug("Failed to initialize connector",n)}))}setWalletList(e){this.walletList=e,this.initialized&&this.initialize(!0).catch(console.error)}removeAllConnectors(){for(let e of this.walletConnectors)e.removeAllListeners();this.walletConnectors=[]}constructor(e,n,i,c,m,s,g,r,a,v,h,u){super(),this.addSolanaWalletConnector=async l=>{let o=this.findSolanaWalletConnector(l.walletClientType);if(!o||o.connectorType==="null"){if(o?.connectorType==="null"){let d=this.walletConnectors.indexOf(o);this.walletConnectors.splice(d,1)}this.addWalletConnector(l)}},this.privyAppId=e,this.walletConnectCloudProjectId=n,this.rpcConfig=i,this.chains=c,this.defaultChain=m,this.walletConnectors=[],this.initialized=!1,this.store=s,this.walletList=g,this.shouldEnforceDefaultChainOnConnect=r,this.externalWalletConfig=a,this.privyAppName=v,this.walletChainType=u||"ethereum-only",this.setBaseAccountSdk=h,this.storedConnections=ow()}}let kGe=[kW,BW,WW];class BGe{async get(e,n){try{return await this.baseFetch(e,n)}catch(i){throw Kt(i)}}async post(e,n,i){try{return await this.baseFetch(e,{method:"POST",...n?{body:n}:{},...i})}catch(c){throw Kt(c)}}async delete(e,n){try{return await this.baseFetch(e,{method:"DELETE",...n})}catch(i){throw Kt(i)}}constructor({appId:e,appClientId:n,client:i,defaults:c}){this.appId=e,this.appClientId=n,this.clientAnalyticsId=i.clientAnalyticsId,this.sdkVersion=iLe,this.client=i,this.defaults=c,this.fallbackApiUrl=i.fallbackApiUrl,this.baseFetch=NW.create({baseURL:this.defaults.baseURL,timeout:this.defaults.timeout,retry:3,retryDelay:500,retryStatusCodes:[408,409,425,500,502,503,504],credentials:"include",onRequest:async({request:m,options:s})=>{let g=new Headers(s.headers);g.set("privy-app-id",this.appId),this.appClientId&&g.set("privy-client-id",this.appClientId),g.set("privy-ca-id",this.clientAnalyticsId||""),g.set("privy-client",`react-auth:${this.sdkVersion}`);let r=kGe.includes(m.toString());if(!g.has("authorization")){let a=await this.client.getAccessToken({disableAutoRefresh:r});a!==null&&g.set("authorization",`Bearer ${a}`)}s.headers=g,s.retryDelay&&typeof s.retryDelay=="number"&&(s.retryDelay=3*s.retryDelay)},onRequestError:({error:m})=>{if(m instanceof DOMException&&m.name==="AbortError")throw new w0e}})}}let UGe=/paymaster\.biconomy\.io\/api/i,jGe={mode:"SPONSORED",calculateGasLimits:!0,expiryDuration:300,sponsorshipInfo:{webhookData:{},smartAccountInfo:{name:"BICONOMY",version:"2.0.0"}}};const zGe=(t,e)=>t&&UGe.test(t)?jGe:e&&e.policy_id?{policyId:e.policy_id}:void 0,WGe=t=>({rpId:t.rp_id,challenge:t.challenge,allowCredentials:t.allow_credentials?.map((e=>({id:e.id,type:e.type,transports:e.transports})))||[],timeout:t.timeout,extensions:{appid:t.extensions?.app_id,credProps:t.extensions?.cred_props,hmacCreateSecret:t.extensions?.hmac_create_secret},userVerification:t.user_verification});class R_{async authenticate(){if(!this.api)throw new ge("Auth flow has no API instance");try{return await this.api.post(pve,{token:this.meta.token})}catch(e){throw Kt(e)}}async link(){if(!this.api)throw new ge("Auth flow has no API instance");try{return await this.api.post(vve,{token:this.meta.token})}catch(e){throw Kt(e)}}constructor(e){this.meta={token:e}}}class GGe{getOrCreateGuestCredential(e){let n=vK(e);if(JS()){if(Ct.get(n))return Ct.get(n);{let i=td(qS(32));return Ct.put(n,i),i}}return td(qS(32))}async authenticate(){if(!this.api)throw new ge("Auth flow has no API instance");try{return await this.api.post(gve,{guest_credential:this.meta.guestCredential})}catch(e){throw Kt(e)}}async link(){throw Error("Linking is not supported for the guest flow")}constructor(e){this.meta={guestCredential:this.getOrCreateGuestCredential(e)}}}function o8(){return!(sn.isSafari&&window.location.origin.startsWith("http://localhost"))}const wB=p0((()=>({identityToken:null})));var l8,xB=((l8={}).PRIVY="privy_access_token",l8.CUSTOMER="customer_access_token",l8);class VGe{get token(){return this.privyAccessToken||this.customerAccessToken}getToken(e){return e==="privy_access_token"?this.privyAccessToken:this.customerAccessToken}get customerAccessToken(){return this._getToken(Zv)}get privyAccessToken(){return this._getToken(sw)}_getToken(e){try{let n=Ct.get(e);return typeof n=="string"?vc.throwIfNotWellFormedJwt(n):null}catch(n){return console.error(n),this.destroyLocalState(),null}}get refreshToken(){try{let e=Ct.get(LE);return typeof e=="string"?e:null}catch(e){return console.error(e),this.destroyLocalState(),null}}getProviderAccessToken(e){try{let n=Ct.get(b2(e));if(typeof n!="string")return null;{let i=new vc(n);return i.isExpired()?(Ct.del(b2(e)),null):i.value}}catch(n){return console.error(n),null}}get mightHaveServerCookies(){try{let e=fr.get(DE);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e="privy_access_token"){let n=typeof this.getToken(e)=="string",i=typeof this.refreshToken=="string"&&this.refreshToken!==oLe;return this.mightHaveServerCookies||n&&i}hasActiveAccessToken(e){let n=vc.parse(this.getToken(e));return n!==null&&!n.isExpired(30)}authenticate(e){return this.authenticateOnce.execute(e)}link(e){return this.linkOnce.execute(e)}refresh(){return this.refreshOnce.execute()}destroy(){return this.destroyOnce.execute()}storeProviderAccessToken(e,n){typeof n=="string"?Ct.put(b2(e),n):Ct.del(b2(e))}updateIdentityToken(e){typeof e=="string"?this.storeIdentityToken(e):this.clearIdentityToken()}async _authenticate(e){try{let n=await e.authenticate(),{user:i,is_new_user:c,oauth_tokens:m}=n;this.handleTokenResponse(n);let s=m?{provider:m.provider,accessToken:m.access_token,accessTokenExpiresInSeconds:m.access_token_expires_in_seconds,refreshToken:m.refresh_token,refreshTokenExpiresInSeconds:m.refresh_token_expires_in_seconds,scopes:m.scopes}:void 0;return this._trackAuthenticateEvents(e,c),{user:di(i),isNewUser:c,oAuthTokens:s}}catch(n){throw console.warn("Error authenticating session"),zn(n)}}_trackAuthenticateEvents(e,n){let i=(function(c){return c instanceof vp?"email":c instanceof gp?"sms":c instanceof Ap?"siwe":c instanceof GGe?"guest":c instanceof R_?"custom_auth":c instanceof tp?c.meta.provider:null})(e);i&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate",payload:{method:i,isNewUser:n}}),i==="siwe"&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate_siwe",payload:{connectorType:e.meta.connectorType,walletClientType:e.meta.walletClientType}})}async _link(e){try{let n=await e.link(),i=n.oauth_tokens,c=i?{provider:i.provider,accessToken:i.access_token,accessTokenExpiresInSeconds:i.access_token_expires_in_seconds,refreshToken:i.refresh_token,refreshTokenExpiresInSeconds:i.refresh_token_expires_in_seconds,scopes:i.scopes}:void 0;return{user:di(n),oAuthTokens:c}}catch(n){throw console.warn("Error linking account"),zn(n)}}async _refresh(){if(!this.api)throw new ge("Session has no API instance");if(!this.client)throw new ge("Session has no PrivyClient instance");await this.client.getAccessToken({disableAutoRefresh:!0});let e=this.token,n=this.refreshToken;if(this.client.useServerCookies&&!this.mightHaveServerCookies&&this.token&&window.location.origin===this.client.apiUrl)return this.destroyLocalState(),null;try{let i;if(!(e&&n||this.mightHaveServerCookies))return null;{let c={};e&&(c.authorization=`Bearer ${e}`),i=await this.api.post(kW,n?{refresh_token:n}:{},{headers:c})}return this.handleTokenResponse(i),di(i.user)}catch(i){if(i instanceof Vs&&i.privyErrorCode===we.MISSING_OR_INVALID_TOKEN)return console.warn("Unable to refresh tokens - token is missing or no longer valid"),this.destroyLocalState(),null;throw zn(i)}}handleTokenResponse(e){e.session_update_action&&e.session_update_action!=="set"?e.session_update_action==="clear"?this.destroyLocalState():e.session_update_action==="ignore"&&(e.token&&(this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token)),e.identity_token&&this.storeIdentityToken(e.identity_token)):this._storeAllTokens(e)}_storeAllTokens(e){this.storeRefreshToken(e.refresh_token),this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token),e.identity_token&&this.storeIdentityToken(e.identity_token)}async _destroy(){try{await this.api?.post(BW,{refresh_token:this.refreshToken})}catch{console.warn("Error destroying session")}this.destroyLocalState()}destroyLocalState(){this.storeRefreshToken(null),this.storeCustomerAccessToken(null),this.storePrivyAccessToken(null),this.clearIdentityToken()}storeCustomerAccessToken(e){if(typeof e=="string"){let n=Ct.get(Zv);if(Ct.put(Zv,e),!this.client?.useServerCookies){let i=vc.parse(e)?.expiration;fr.set(kN,e,{sameSite:"Strict",secure:o8(),expires:i?new Date(1e3*i):void 0})}n!==e&&this.client?.onStoreCustomerAccessToken?.(e)}else Ct.del(Zv),fr.remove(kN),this.client?.onDeleteCustomerAccessToken?.()}storeRefreshToken(e){typeof e=="string"?(Ct.put(LE,e),this.client?.useServerCookies||fr.set(DE,"t",{sameSite:"Strict",secure:o8(),expires:30})):(Ct.del(LE),fr.remove(sLe),fr.remove(DE))}storePrivyAccessToken(e){typeof e=="string"?Ct.put(sw,e):Ct.del(sw)}storeIdentityToken(e){if(wB.setState({identityToken:e}),this.client?.useServerCookies)return;Ct.put(BN,e);let n=vc.parse(e)?.expiration;fr.set(UN,e,{sameSite:"Strict",secure:o8(),expires:n?new Date(1e3*n):void 0})}clearIdentityToken(){Ct.del(BN),wB.setState({identityToken:null}),fr.remove(UN)}constructor(){this.authenticateOnce=new Gi((async e=>this._authenticate(e))),this.linkOnce=new Gi((async e=>this._link(e))),this.refreshOnce=new Gi(this._refresh.bind(this)),this.destroyOnce=new Gi(this._destroy.bind(this))}}let u8;var HGe=0,c8="__private_"+HGe+++"__getOrGenerateClientAnalyticsId";class YGe{getAppId(){return this.appId}initializeConnectorManager({walletConnectCloudProjectId:e,rpcConfig:n,chains:i,defaultChain:c,store:m,walletList:s,shouldEnforceDefaultChainOnConnect:g,externalWalletConfig:r,appName:a,walletChainType:v,setBaseAccountSdk:h}){this.connectors||(this.connectors=new NGe(this.appId,e,n,i,c,m,s,g,r,a,h,v))}generateApi(){let e=new BGe({appId:this.appId,appClientId:this.appClientId,client:this,defaults:{baseURL:this.apiUrl,timeout:this.timeout}});return this.session.api=e,e}updateApiUrl(e){this.apiUrl=e||this.fallbackApiUrl,this.api=this.generateApi(),e&&(this.useServerCookies=!0)}authenticate(){if(!this.authFlow)throw new ge("No auth flow in progress.");return this.session.authenticate(this.authFlow)}async link(){if(!this.authFlow)throw new ge("No auth flow in progress.");let{oAuthTokens:e}=await this.session.link(this.authFlow);return{user:await this.getAuthenticatedUser(),oAuthTokens:e}}storeProviderAccessToken(e,n){this.session.storeProviderAccessToken(e,n)}getProviderAccessToken(e){return this.session.getProviderAccessToken(e)}async logout(){await this.session.destroy(),this.authFlow=void 0}clearProviderAcccessTokens(e){e.linkedAccounts.filter((n=>n.type==="cross_app")).forEach((n=>{this.storeProviderAccessToken(n.providerApp.id,null)}))}startAuthFlow(e){return e.api=this.api,this.authFlow=e,this.authFlow}async initMfaSmsVerification(){try{await this.api.post(hve,{action:"verify"})}catch(e){throw Kt(e)}}async initMfaPasskeyVerification(){try{let e=await this.api.post(dve,{});return WGe(e.options)}catch(e){throw Kt(e)}}async getCrossAppProviderDetails(e){try{return this._cachedProviderAppDetails[e]||(this._cachedProviderAppDetails[e]=await this.api.get(`/api/v1/apps/${e}/cross-app/details`)),this._cachedProviderAppDetails[e]}catch(n){console.error("Error fetching cross app provider details",n)}}async acceptTerms(){try{let e=await this.api.post(fve,{});return di(e)}catch(e){throw zn(e)}}async unlinkEmail(e){try{let n=await this.api.post(z0e,{address:e});return await this.getAuthenticatedUser()??di(n)}catch(n){throw zn(n)}}async unlinkPhone(e){try{let n=await this.api.post(Y0e,{phoneNumber:e});return await this.getAuthenticatedUser()??di(n)}catch(n){throw zn(n)}}async unlinkEthereumWallet(e){try{let n=await this.api.post(T0e,{address:e});return await this.getAuthenticatedUser()??di(n)}catch(n){throw zn(n)}}async unlinkSolanaWallet(e){try{let n=await this.api.post(O0e,{address:e});return await this.getAuthenticatedUser()??di(n)}catch(n){throw zn(n)}}async unlinkOAuth(e,n){try{let i=await this.api.post(J0e,{provider:e,subject:n});return await this.getAuthenticatedUser()??di(i)}catch(i){throw zn(i)}}async unlinkFarcaster(e){try{let n=await this.api.post(N0e,{fid:e});return await this.getAuthenticatedUser()??di(n)}catch(n){throw zn(n)}}async unlinkTelegram(e){try{let n=await this.api.post(uve,{telegram_user_id:e});return await this.getAuthenticatedUser()??di(n)}catch(n){throw zn(n)}}async revokeDelegatedWallet(){try{await this.api.post(xve,{})}catch(e){throw zn(e)}}async createAnalyticsEvent({eventName:e,payload:n,timestamp:i,options:c}){if(typeof window<"u")try{this.clientAnalyticsId||console.warn("No client analytics id set, refusing to send analytics event"),await this.api.post(WW,{event_name:e,client_id:this.clientAnalyticsId,payload:{...n||{},clientTimestamp:i?i.toISOString():new Date().toISOString()}},{retry:-1,keepalive:c?.keepAlive??!1})}catch{console.log("Unable to submit event. This is not an issue.")}}async signMoonpayOnRampUrl(e){try{return this.api.post(mve,e)}catch(n){throw zn(n)}}async initCoinbaseOnRamp(e){try{return this.api.post(yve,e)}catch(n){throw zn(n)}}async getCoinbaseOnRampStatus({partnerUserId:e}){try{return this.api.get(`${wve}?partnerUserId=${e}`)}catch(n){throw zn(n)}}async getAuthenticatedUser(){return this.session.hasRefreshCredentials()?this.session.refresh():null}async getAccessToken(e){return await this.getPrivyAccessToken(e)||await this.getCustomerAccessToken(e)}async getCustomerAccessToken(e){return await this._getToken(xB.CUSTOMER,e)}async getPrivyAccessToken(e){return await this._getToken(xB.PRIVY,e)}async _getToken(e,n){return this.session.getToken(e)?this.session.hasActiveAccessToken(e)?this.session.hasRefreshCredentials(e)?rP.parse(this.session.getToken(e))?.appId!==this.appId?(await this.logout(),null):this.session.getToken(e):(this.session.destroyLocalState(),null):!n?.disableAutoRefresh&&this.session.hasRefreshCredentials(e)?(await this.session.refresh(),this.session.getToken(e)):null:null}async getSmartWalletsConfig(){try{let e={},n=this.session.token;n&&(e.authorization=`Bearer ${n}`);let i=await this.api.get(`/api/v1/apps/${this.appId}/smart_wallets`,{baseURL:this.fallbackApiUrl,headers:e});return i.enabled?{enabled:i.enabled,smartWalletVersion:i.smart_wallet_version,smartWalletType:i.smart_wallet_type,configuredNetworks:i.configured_networks.map((c=>({chainId:c.chain_id,bundlerUrl:c.bundler_url,paymasterUrl:c.paymaster_url,paymasterContext:zGe(c.paymaster_url,c.paymaster_context)})))}:{enabled:i.enabled}}catch(e){throw zn(e)}}async getUsdTokenPrice(e){try{return(await this.api.get(`/api/v1/token_price?chainId=${e.id}&tokenSymbol=${e.nativeCurrency.symbol}`)).usd}catch{return void console.error(`Unable to fetch token price for chain with id ${e.id}`)}}async getUsdPriceForSol(){try{return(await this.api.get("/api/v1/token_price?chainId=0&tokenSymbol=SOL")).usd}catch{return void console.error("Unable to fetch token price for SOL")}}async getSplTokenMetadata({mintAddress:e,cluster:n}){try{return await this.api.get(`/api/v1/spl_token_info?mint_address=${e}&cluster=${n}`)}catch{return void console.error(`Unable to fetch token metadata for ${n}:${e}`)}}async requestFarcasterSignerStatus(e){try{return await this.api.post("/api/v1/farcaster/signer/status",{ed25519_public_key:e})}catch(n){throw console.error("Unable to fetch Farcaster signer status"),n}}async generateSiweNonce({address:e,captchaToken:n}){try{return(await this.api.post(b0e,{address:e,token:n})).nonce}catch(i){throw zn(i)}}async authenticateWithSiweInternal({message:e,signature:n,chainId:i,walletClientType:c,connectorType:m,mode:s}){return await this.api.post(E0e,{message:e,signature:n,chainId:i,walletClientType:c,connectorType:m,mode:s})}async linkWithSiweInternal({message:e,signature:n,chainId:i,walletClientType:c,connectorType:m}){return await this.api.post(C0e,{message:e,signature:n,chainId:i,walletClientType:c,connectorType:m})}async linkSmartWallet({message:e,signature:n,smartWalletType:i,smartWalletVersion:c}){try{let m=await this.api.post(S0e,{message:e,signature:n,smart_wallet_type:i,smart_wallet_version:c});return di(m)}catch(m){throw zn(m)}}async linkWithSiwe({message:e,signature:n,chainId:i,walletClientType:c,connectorType:m}){try{let s=await this.linkWithSiweInternal({message:e,signature:n,chainId:i,walletClientType:c,connectorType:m});return di(s)}catch(s){throw zn(s)}}async generateSiwsNonce({address:e,captchaToken:n}){try{return(await this.api.post(P0e,{address:e,token:n})).nonce}catch(i){throw zn(i)}}async authenticateWithSiwsInternal({message:e,signature:n,walletClientType:i,connectorType:c,mode:m,messageType:s="plain"}){return await this.api.post(I0e,{message:e,signature:n,walletClientType:i,connectorType:c,mode:m,message_type:s})}async authenticateWithSiws({message:e,signature:n,walletClientType:i,connectorType:c,mode:m,messageType:s="plain"}){let g=await this.authenticateWithSiwsInternal({message:e,signature:n,walletClientType:i,connectorType:c,mode:m,messageType:s});this.session.handleTokenResponse(g);let r=di(g.user);if(!r)throw Error("Authentication failed - no user returned");return{user:r,isNewUser:g.is_new_user||!1}}async sendAccountTransferRequest({nonce:e,account:n,accountType:i,externalWalletMetadata:c,telegramAuthResult:m,telegramWebAppData:s,farcasterEmbeddedAddress:g,oAuthUserInfo:r}){try{let a,v;switch(i){case"email":a=G0e,v={nonce:e,email:n};break;case"sms":a=Z0e,v={nonce:e,phoneNumber:n};break;case"siwe":if(a=A0e,!c)throw Error("Wallet parameters must be defined");v={nonce:e,address:n,...c};break;case"farcaster":a=k0e,v={nonce:e,farcaster_id:n,farcaster_embedded_address:g};break;case"telegram":a=cve,v={nonce:e,telegram_auth_result:m,telegram_web_app_data:s};break;case"siws":a=M0e,v={nonce:e,address:n,...c};break;case"custom":case"guest":case"passkey":throw Error("Invalid transfer account type");default:a=_0e,v={nonce:e,userInfo:r}}let h=await this.api.post(a,v);return await this.getAuthenticatedUser()??di(h)}catch(a){throw zn(a)}}async linkWithSiwsInternal({message:e,signature:n,walletClientType:i,connectorType:c,messageType:m="plain"}){return await this.api.post(R0e,{message:e,signature:n,walletClientType:i,connectorType:c,message_type:m})}async linkWithSiws({message:e,signature:n,walletClientType:i,connectorType:c,messageType:m="plain"}){try{let s=await this.linkWithSiwsInternal({message:e,signature:n,walletClientType:i,connectorType:c,messageType:m});return di(s)}catch(s){throw zn(s)}}async updateUserAndIdToken(){try{let e=await this.api.get(bve);return this.session.updateIdentityToken(e.identity_token),di(e.user)}catch(e){throw zn(e)}}async scanTransaction(e){try{return await this.api.post(Eve,e)}catch(n){throw zn(n)}}constructor({apiUrl:e=_S,appId:n,appClientId:i,timeout:c=rLe}){Object.defineProperty(this,c8,{value:XGe}),this._cachedProviderAppDetails={},this.apiUrl=e,this.fallbackApiUrl=this.apiUrl,this.useServerCookies=e!==_S&&e.startsWith("https://privy."),this.timeout=c,this.appId=n,this.appClientId=i,this.clientAnalyticsId=(function(m,s){if(!Object.prototype.hasOwnProperty.call(m,s))throw TypeError("attempted to use private field on non-instance");return m})(this,c8)[c8](),u8||(u8=new VGe),this.session=u8,this.api=this.generateApi(),this.session.client=this}}function XGe(){if(typeof window>"u")return null;try{let e=Ct.get(QS);if(typeof e=="string"&&e.length>0)return e}catch{}let t=SC();try{return Ct.put(QS,t),t}catch{return t}}const KGe=({delayedExecution:t,...e})=>{let{enabled:n,siteKey:i,appId:c,setError:m,setToken:s,setExecuting:g,ref:r}=As(),[,a]=H.useMemo((()=>i?.split("t:")||[]),[i]);if(H.useEffect((()=>r.current?.remove),[]),!n)return null;if(!a)throw Error("Unsupported captcha site key");return M.jsx("div",{className:"hidden h-0 w-0",children:M.jsx(C_,{...e,ref:r,siteKey:a,options:{action:c,size:"invisible",...t?{appearance:"execute",execution:"execute"}:{appearance:"always",execution:"render"}},onUnsupported:()=>{e.onUnsupported?.(),console.warn("Browser does not support Turnstile.")},onError:v=>{e.onError?.(v),m("Captcha failed"),g(!1)},onSuccess:v=>{e.onSuccess?.(v),s(v),g(!1)},onExpire:v=>{e.onExpire?.(v);try{r.current?.reset(),m(void 0),s(void 0)}catch{m("expired_and_failed_reset")}}})})};function ZGe(t){q3("configureMfa",t)}const iP=ae.div.withConfig({displayName:"AppLogoContainer",componentId:"sc-ba98f772-0"})(["display:flex;flex-direction:column;align-items:center;padding:0px 0px 30px;@media (max-width:440px){padding:10px 10px 20px;}"]),ps=ae.div.withConfig({displayName:"Title",componentId:"sc-ba98f772-1"})(["font-size:18px;line-height:30px;text-align:center;font-weight:600;margin-bottom:10px;"]),Ca=ae.div.withConfig({displayName:"SubTitle",componentId:"sc-ba98f772-2"})(["font-size:0.875rem;text-align:center;"]),fd=ae.div.withConfig({displayName:"Container",componentId:"sc-ba98f772-3"})(["display:flex;flex-direction:column;align-items:center;gap:10px;flex-grow:1;padding:20px 0;@media (max-width:440px){padding:10px 10px 20px;}"]),Sb=ae.div.withConfig({displayName:"List",componentId:"sc-ba98f772-4"})(["display:flex;flex-direction:column;align-items:stretch;gap:0.75rem;padding:1rem 0rem 0rem;flex-grow:1;width:100%;"]),Yh=ae.div.withConfig({displayName:"ListItemIcon",componentId:"sc-ba98f772-5"})(["width:25px;display:flex;align-items:center;justify-content:flex-start;> svg{z-index:2;height:25px !important;width:25px !important;color:var(--privy-color-accent);}"]),Xh=ae.div.withConfig({displayName:"ListItem",componentId:"sc-ba98f772-6"})(["display:flex;align-items:center;gap:10px;font-size:0.875rem;line-height:1rem;text-align:left;"]),np=ae.div.withConfig({displayName:"BottomSection",componentId:"sc-ba98f772-7"})(["display:flex;flex-direction:column;gap:10px;padding-top:20px;"]),O_=ae.div.withConfig({displayName:"MethodList",componentId:"sc-ba98f772-8"})(["display:flex;flex-direction:column;align-items:stretch;gap:1rem;padding:1rem 0rem 0rem;flex-grow:1;width:100%;"]),h8=ae.div.withConfig({displayName:"MethodListItem",componentId:"sc-ba98f772-9"})(["display:flex;gap:5px;width:100%;position:relative;"]),d8=ae.button.withConfig({displayName:"RemoveMethodButton",componentId:"sc-ba98f772-10"})(["&&{background-color:transparent;color:var(--privy-color-foreground-3);padding:0 0.75rem;display:flex;align-items:center;height:100%;> svg{z-index:2;height:20px !important;width:20px !important;}}&&:hover{color:var(--privy-color-error);}"]),f8=ae.div.withConfig({displayName:"MethodText",componentId:"sc-ba98f772-11"})(["display:flex;align-items:center;gap:0.5rem;> svg{z-index:2;height:20px !important;width:20px !important;}"]),bB=ae.div.withConfig({displayName:"ExtraText",componentId:"sc-ba98f772-12"})(["display:flex;align-items:center;gap:6px;font-weight:400 !important;color:",";> svg{z-index:2;height:18px !important;width:18px !important;display:flex !important;align-items:flex-end;}"],(t=>t.$isAccent?"var(--privy-color-accent)":"var(--privy-color-foreground-3)")),p8=ae.div.withConfig({displayName:"SmsInsecureText",componentId:"sc-ba98f772-13"})(["width:100%;display:flex;justify-content:space-between;"]),M_=ae.p.withConfig({displayName:"TermsText",componentId:"sc-ba98f772-14"})(["text-align:left;width:100%;color:var(--privy-color-foreground-3) !important;"]),LT=ae.button.withConfig({displayName:"PrimaryTextButton",componentId:"sc-ba98f772-15"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none;&{width:100%;cursor:pointer;border-radius:var(--privy-border-radius-md);font-size:0.875rem;line-height:1rem;font-style:normal;font-weight:500;line-height:22px;letter-spacing:-0.016px;}&&{color:",";background-color:transparent;padding:0.5rem 0px;}&:hover{text-decoration:underline;}"],(t=>t.theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-accent)")),Sa=ae.div.withConfig({displayName:"IconWrapper",componentId:"sc-ba98f772-16"})(["display:flex;align-items:center;justify-content:center;color:var(--privy-color-accent);width:100%;> svg{z-index:2;width:3rem;height:3rem;}"]),$_=ae.div.withConfig({displayName:"ErrorMessage",componentId:"sc-ba98f772-17"})(["color:var(--privy-color-error);"]),F_=({handleClose:t,user:e,onSelect:n})=>M.jsxs(Zt,{title:"Verify your identity",subtitle:"Choose a verification method",icon:nd,iconVariant:"subtle",onClose:t,showClose:!0,watermark:!0,children:[M.jsxs(O_,{children:[e.mfaMethods.includes("totp")&&M.jsxs(_n,{onClick:()=>n("totp"),children:[M.jsx(ho,{children:M.jsx(g3,{})}),"Authenticator app"]},"totp"),e.mfaMethods.includes("sms")&&M.jsxs(_n,{onClick:()=>n("sms"),children:[M.jsx(ho,{children:M.jsx(Ac,{})}),"SMS"]},"sms"),e.mfaMethods.includes("passkey")&&M.jsxs(_n,{onClick:()=>n("passkey"),children:[M.jsx(ho,{children:M.jsx(p7,{})}),"Passkey"]},"passkey")]}),M.jsx(yr,{})]}),DT=({pendingTransaction:t})=>{let{wallets:e}=Dd(),{walletProxy:n,rpcConfig:i,chains:c,appId:m,nativeTokenSymbolForChainId:s}=et(),[g,r]=H.useState(null),[a,v]=H.useState(t),{tokenPrice:h}=C1(a.chainId),u=s(t.chainId)||"ETH",l=H.useMemo((()=>e.find((o=>o.walletClientType==="privy"))),[e]);return H.useEffect((()=>{(async function(){if(!n||!l)return a;let o=Qp(a.chainId,c,i,{appId:m}),d=await vx(a,o,l.address);return r(sr(BigInt(d.gas??0))),d})().then(v).catch(console.error)}),[n]),l?M.jsx(JGe,{children:M.jsx(uZ,{from:l.address,to:a.to,txn:a,gas:g??void 0,tokenPrice:h,tokenSymbol:u})}):null};let JGe=ae.div.withConfig({displayName:"TransactionInfoWrapper",componentId:"sc-8d9a2f57-0"})(["width:100%;padding:1rem 0;"]);const sP=({style:t,...e})=>M.jsx("svg",{x:0,y:0,width:"65",height:"64",viewBox:"0 0 65 64",style:{height:"64px",width:"65px",...t},fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:M.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.71369 17.5625V10.375C3.71369 6.44625 6.85845 3.25 10.7238 3.25H17.7953C18.6783 3.25 19.3941 2.52244 19.3941 1.625C19.3941 0.727562 18.6783 0 17.7953 0H10.7238C5.09529 0 0.516113 4.65419 0.516113 10.375V17.5625C0.516113 18.4599 1.23194 19.1875 2.1149 19.1875C2.99787 19.1875 3.71369 18.4599 3.71369 17.5625ZM17.7953 60.7501C18.6783 60.7501 19.3941 61.4777 19.3941 62.3751C19.3941 63.2726 18.6783 64.0001 17.7953 64.0001H10.7238C5.09529 64.0001 0.516113 59.3459 0.516113 53.6251V46.4376C0.516113 45.5402 1.23194 44.8126 2.1149 44.8126C2.99787 44.8126 3.71369 45.5402 3.71369 46.4376V53.6251C3.71369 57.5538 6.85845 60.7501 10.7238 60.7501H17.7953ZM63.4839 46.4376V53.6251C63.4839 59.3459 58.9048 64.0001 53.2763 64.0001H46.2047C45.3217 64.0001 44.6059 63.2726 44.6059 62.3751C44.6059 61.4777 45.3217 60.7501 46.2047 60.7501H53.2763C57.1416 60.7501 60.2864 57.5538 60.2864 53.6251V46.4376C60.2864 45.5402 61.0022 44.8126 61.8851 44.8126C62.7681 44.8126 63.4839 45.5402 63.4839 46.4376ZM63.4839 10.375V17.5625C63.4839 18.4599 62.7681 19.1875 61.8851 19.1875C61.0022 19.1875 60.2864 18.4599 60.2864 17.5625V10.375C60.2864 6.44625 57.1416 3.25 53.2763 3.25H46.2047C45.3217 3.25 44.6059 2.52244 44.6059 1.625C44.6059 0.727562 45.3217 0 46.2047 0H53.2763C58.9048 0 63.4839 4.65419 63.4839 10.375ZM43.0331 47.3022C43.7067 46.6698 43.7483 45.6022 43.1262 44.9176C42.5039 44.233 41.4536 44.1906 40.78 44.823C38.3832 47.0732 35.265 48.3125 31.9997 48.3125C28.7344 48.3125 25.6162 47.0732 23.2194 44.823C22.5457 44.1906 21.4955 44.233 20.8732 44.9176C20.251 45.6022 20.2927 46.6698 20.9663 47.3022C23.9784 50.1301 27.8968 51.6875 31.9997 51.6875C36.1026 51.6875 40.021 50.1301 43.0331 47.3022ZM35.3207 24.1249V36.1249C35.3207 38.5029 33.4173 40.4374 31.0777 40.4374H29.7249C28.8079 40.4374 28.0646 39.6819 28.0646 38.7499C28.0646 37.8179 28.8079 37.0624 29.7249 37.0624H31.0777C31.5863 37.0624 32.0001 36.6419 32.0001 36.1249V24.1249C32.0001 23.1929 32.7434 22.4374 33.6604 22.4374C34.5774 22.4374 35.3207 23.1929 35.3207 24.1249ZM46.7581 28.8437V24.0312C46.7581 23.151 46.056 22.4374 45.19 22.4374C44.324 22.4374 43.622 23.151 43.622 24.0312V28.8437C43.622 29.7239 44.324 30.4374 45.19 30.4374C46.056 30.4374 46.7581 29.7239 46.7581 28.8437ZM17.6109 28.8437C17.6109 29.7239 18.313 30.4374 19.1789 30.4374C20.0449 30.4374 20.747 29.7239 20.747 28.8437V24.0312C20.747 23.151 20.0449 22.4374 19.1789 22.4374C18.313 22.4374 17.6109 23.151 17.6109 24.0312V28.8437Z"})}),L_=({hasBlockingError:t,error:e,onClose:n,onBack:i,handleSubmit:c,account:m,submitSuccess:s})=>{let{pendingTransaction:g}=et();return M.jsxs(M.Fragment,{children:[M.jsx(Vt,{onClose:n},"header"),M.jsx(hZ,{children:M.jsxs("div",{children:[M.jsx(_K,{success:s,fail:!!e}),M.jsx(e?bd:sP,{style:{width:"38px",height:"38px"}})]})}),M.jsx(ps,{style:{marginTop:"1rem"},children:"Verifying with passkey"}),M.jsxs(Sb,{children:[M.jsxs(Xh,{children:[M.jsx(Yh,{children:M.jsx(nd,{})}),"Approve this action using your touch, face, PIN, or hardware key."]}),M.jsxs(Xh,{children:[M.jsx(Yh,{children:M.jsx(p1e,{})}),"You last added a passkey on"," ",m?.firstVerifiedAt?.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}),"."]})]}),g&&M.jsx(fd,{children:M.jsx(DT,{pendingTransaction:g})}),e&&M.jsxs(M.Fragment,{children:[M.jsx($_,{style:{marginTop:"1.25rem"},children:e.message}),M.jsx(Cn,{disabled:t,onClick:c,style:{margin:"1.25rem auto 0"},children:"Try again"})]}),i&&M.jsx(LT,{style:{marginTop:"1rem"},onClick:i,children:"Choose another method"}),M.jsx(yr,{})]})};let _Ge=Array(6).fill("");var kv,QGe=((kv=QGe||{})[kv.RESET_AFTER_DELAY=0]="RESET_AFTER_DELAY",kv[kv.CLEAR_ON_NEXT_VALID_INPUT=1]="CLEAR_ON_NEXT_VALID_INPUT",kv);function NT(t){return/^[0-9]{1}$/.test(t)}function EB(t){return t.length===6&&t.every(NT)}const Ex=({onChange:t,disabled:e,errorReasonOverride:n,success:i})=>{let[c,m]=H.useState(_Ge),[s,g]=H.useState(null),[r,a]=H.useState(null),v=async u=>{u.preventDefault();let l=u.currentTarget.value.replace(/\s+/g,"");if(l==="")return;let o=c.reduce(((C,T)=>C+Number(NT(T))),0),d=l.split(""),p=!d.every(NT),f=d.length+o>6;if(p)return g("Passcode can only be numbers"),void a(1);if(f)return g("Passcode must be exactly 6 numbers"),void a(1);g(null),a(null);let y=Number(u.currentTarget.name?.charAt(4)),w=[...l||[""]].slice(0,6-y),x=[...c.slice(0,y),...w,...c.slice(y+w.length)];m(x);let b=Math.min(Math.max(y+w.length,0),5);if(document.querySelector(`input[name=pin-${b}]`)?.focus(),EB(x))try{await t(x.join("")),document.querySelector(`input[name=pin-${b}]`)?.blur()}catch(C){a(1),g(C.message)}else try{await t(null)}catch(C){a(1),g(C.message)}},h=i?"success":!n&&!s?"":"fail";return M.jsx(M.Fragment,{children:M.jsxs(qGe,{children:[M.jsx("div",{children:c.map(((u,l)=>M.jsx("input",{name:`pin-${l}`,type:"text",value:c[l],onChange:v,onKeyUp:o=>{o.key==="Backspace"&&(d=>{r===1&&(g(null),a(null));let p=[...c.slice(0,d),"",...c.slice(d+1)];m(p),d>0&&document.querySelector(`input[name=pin-${d-1}]`)?.focus(),EB(p)?t(p.join("")):t(null)})(l)},inputMode:"numeric",autoFocus:l===0,pattern:"[0-9]",className:h,autoComplete:sn.isMobile?"one-time-code":"off",disabled:e},l)))}),M.jsx("div",{children:M.jsx(eVe,{$fail:!!n||!!s,children:n||s})})]})})};let qGe=ae.div.withConfig({displayName:"PinInputContainer",componentId:"sc-7a171f6-0"})(["display:flex;flex-direction:column;width:100%;gap:8px;@media (max-width:440px){margin-top:8px;margin-bottom:8px;}> div:nth-child(1){display:flex;justify-content:center;gap:0.5rem;width:100%;border-radius:var(--privy-border-radius-md);> input{border:1px solid var(--privy-color-foreground-4);background:var(--privy-color-background);border-radius:var(--privy-border-radius-md);padding:8px 10px;height:58px;width:46px;text-align:center;font-size:18px;}> input:disabled{background:var(--privy-color-background-2);}> input:focus{border:1px solid var(--privy-color-accent);}> input:invalid{border:1px solid var(--privy-color-error);}> input.success{border:1px solid var(--privy-color-success);}> input.fail{border:1px solid var(--privy-color-error);animation:shake 180ms;animation-iteration-count:2;}}@keyframes shake{0%{transform:translate(1px,0px);}33%{transform:translate(-1px,0px);}67%{transform:translate(-1px,0px);}100%{transform:translate(1px,0px);}}"]),eVe=ae.div.withConfig({displayName:"InputHelp",componentId:"sc-7a171f6-1"})(["line-height:20px;font-size:13px;display:flex;justify-content:flex-start;width:100%;color:",";"],(t=>t.$fail?"var(--privy-color-error)":"var(--privy-color-foreground-3)"));const D_=({selectedMethod:t,submitSuccess:e,hasBlockingError:n,onClose:i,onBack:c,handleSubmitCode:m})=>{let s=it(),{pendingTransaction:g}=et();switch(t){case"sms":return M.jsxs(M.Fragment,{children:[M.jsx(Vt,{onClose:i},"header"),M.jsx(Sa,{style:{marginBottom:"1.5rem"},children:M.jsx(Ac,{})}),M.jsx(ps,{children:"Enter verification code"}),M.jsxs(fd,{children:[M.jsx(Ex,{success:e,disabled:n,onChange:m}),M.jsxs(Ca,{children:["To continue, please enter the 6-digit code sent to your ",M.jsx("strong",{children:"mobile device"})]}),g&&M.jsx(DT,{pendingTransaction:g})]}),c&&M.jsx(LT,{theme:s?.appearance.palette.colorScheme,onClick:c,children:"Choose another method"}),M.jsx(So,{onClick:i,children:"Cancel"}),M.jsx(yr,{})]});case"totp":return M.jsxs(M.Fragment,{children:[M.jsx(Vt,{onClose:i},"header"),M.jsx(Sa,{style:{marginBottom:"1.5rem"},children:M.jsx(g3,{})}),M.jsx(ps,{children:"Enter verification code"}),M.jsxs(fd,{children:[M.jsx(Ex,{success:e,disabled:n,onChange:m}),M.jsxs(Ca,{children:["To continue, please enter the 6-digit code generated from your"," ",M.jsx("strong",{children:"authenticator app"})]}),g&&M.jsx(DT,{pendingTransaction:g})]}),c&&M.jsx(LT,{theme:s?.appearance.palette.colorScheme,onClick:c,children:"Choose another method"}),M.jsx(So,{onClick:i,children:"Cancel"}),M.jsx(yr,{})]});default:return null}},Cx=t=>tNe(t)?{isBlocking:!0,error:Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds.")}:AA(t)?{isBlocking:!1,error:Error("The code you entered is not valid")}:TA(t)?{isBlocking:!0,error:Error("You have exceeded the time limit for code entry. Please try again in 30 seconds.")}:(console.error(t),{isBlocking:!1,error:Error("Something went wrong.")}),tVe={component:()=>{let{user:t}=Xt(),{data:e}=lt(),[n,i]=H.useState(t?.mfaMethods[0]),[c,m]=H.useState(!1),[s,g]=H.useState(),[r,a]=H.useState();if(H.useEffect((()=>{i(t?.mfaMethods[0])}),[t?.mfaMethods]),!e?.mfaVerify)throw Error("Missing modal data for MFA verification screen.");let{onFailure:v,onSuccess:h,generateOptions:u,verifyTotpCode:l,verifyPasskey:o,verifySmsCode:d,sendSmsCode:p}=e.mfaVerify,f=async b=>{if(b!=="passkey")try{i(b),b==="sms"&&(i(b),await p()),b==="totp"&&i(b)}catch(E){console.error(E)}else try{i(b);let E=await u();if(!E)throw Error("something went wrong");g(E),await o(E),m(!0),a(void 0),h()}catch(E){a(Cx(E))}},y=async b=>{a(void 0);try{if(!b||!n)return;if(n==="passkey"){if(!s)throw Error("Missing passkey challenge");await o(s)}else n==="sms"?await d(b):n==="totp"&&await l(b);a(void 0),m(!0),h()}catch(E){throw Cx(E).error}},w=()=>{r||!c?v(r?.error??Error("Canceled MFA verification.")):h()},x=H.useRef(!1);return H.useEffect((()=>{!x.current&&n&&(x.current=!0,f(n).finally((()=>{x.current=!1})))}),[open]),t?n==="passkey"?M.jsx(L_,{account:t.linkedAccounts.filter((b=>b.type==="passkey"&&b.enrolledInMfa)).sort(((b,E)=>E.firstVerifiedAt.valueOf()-b.firstVerifiedAt.valueOf()))[0],submitSuccess:c,hasBlockingError:r?.isBlocking??!1,error:r?.error,onClose:w,onBack:()=>{i(void 0),a(void 0)},handleSubmit:()=>y(s).catch(a)}):n==="sms"||n==="totp"?M.jsx(D_,{selectedMethod:n,submitSuccess:c,hasBlockingError:r?.isBlocking??!1,handleSubmitCode:y,onClose:w,onBack:t.mfaMethods.length>1?()=>i(void 0):void 0}):M.jsx(F_,{user:t,onSelect:f,handleClose:w}):null}};function N_(){let{promptMfa:t,init:e,submit:n,cancel:i,mfaMethods:c}=H.useContext(d0);return{promptMfa:t,init:e,submit:n,cancel:i,mfaMethods:c}}const CB=({onClose:t})=>{let{user:e}=Xt(),[n,i]=H.useState(e?.mfaMethods[0]??null),{init:c,cancel:m,submit:s}=N_(),[g,r]=H.useState(!1),[a,v]=H.useState(null),[h,u]=H.useState();H.useEffect((()=>{i(e?.mfaMethods[0]??null)}),[e?.mfaMethods]);let l=H.useRef(!1);async function o(f){u(void 0);try{if(!f||!n)return;await s(n,f),r(!0),u(void 0),t()}catch(y){throw Cx(y).error}}async function d(f){if(f!=="passkey")try{i(f),await c(f)}catch(y){console.error(y)}else try{i(f);let y=await c(f);if(!y)throw Error("something went wrong");v(y),await s(f,y),r(!0),u(void 0),t()}catch(y){u(Cx(y))}}H.useEffect((()=>{!l.current&&n&&(l.current=!0,d(n).finally((()=>{l.current=!1})))}),[]);let p=()=>{i(null),u(void 0),m(),t()};return e?n==="passkey"?M.jsx(L_,{account:e.linkedAccounts.filter((f=>f.type==="passkey"&&f.enrolledInMfa)).sort(((f,y)=>y.firstVerifiedAt.valueOf()-f.firstVerifiedAt.valueOf()))[0],submitSuccess:g,hasBlockingError:h?.isBlocking??!1,error:h?.error,onClose:p,onBack:()=>{i(null),u(void 0)},handleSubmit:()=>o(a).catch(u)}):n?M.jsx(D_,{submitSuccess:g,hasBlockingError:h?.isBlocking??!1,handleSubmitCode:o,selectedMethod:n,onClose:p,onBack:e.mfaMethods.length>1?()=>i(null):void 0}):M.jsx(F_,{user:e,onSelect:d,handleClose:p}):null},Dm=p0((()=>({inProgressMfaFlow:void 0}))),nVe=Bge([":root{","};"],(t=>rVe(t.palette))),rVe=t=>Wr(["",""],Object.entries((function(e){return{"--privy-color-background":e.background,"--privy-color-background-2":e.background2,"--privy-color-background-3":e.background3,"--privy-color-foreground":e.foreground,"--privy-color-foreground-2":e.foreground2,"--privy-color-foreground-3":e.foreground3,"--privy-color-foreground-4":e.foreground4,"--privy-color-foreground-accent":e.foregroundAccent,"--privy-color-accent":e.accent,"--privy-color-accent-light":e.accentLight,"--privy-color-accent-hover":e.accentHover,"--privy-color-accent-dark":e.accentDark,"--privy-color-accent-darkest":e.accentDarkest,"--privy-color-success":e.success,"--privy-color-success-dark":e.successDark,"--privy-color-success-light":e.successLight,"--privy-color-success-bg":e.successBg,"--privy-color-error":e.error,"--privy-color-error-light":e.errorLight,"--privy-color-error-bg":e.errorBg,"--privy-color-error-bg-hover":e.errorBgHover,"--privy-color-warn":e.warn,"--privy-color-warn-light":e.warnLight,"--privy-color-warn-bg":e.warnBg,"--privy-color-warning-dark":e.warningDark,"--privy-color-error-dark":e.errorDark,"--privy-color-info-bg":e.infoBg,"--privy-color-info-bg-hover":e.infoBgHover,"--privy-color-border-default":e.borderDefault,"--privy-color-border-hover":e.borderHover,"--privy-color-border-focus":e.borderFocus,"--privy-color-border-error":e.borderError,"--privy-color-border-success":e.borderSuccess,"--privy-color-border-warning":e.borderWarning,"--privy-color-border-info":e.borderInfo,"--privy-color-border-interactive":e.borderInteractive,"--privy-color-border-interactive-hover":e.borderInteractiveHover,"--privy-color-background-hover":e.backgroundHover,"--privy-color-background-clicked":e.backgroundClicked,"--privy-color-background-disabled":e.backgroundDisabled,"--privy-color-background-interactive":e.backgroundInteractive,"--privy-color-background-interactive-hover":e.backgroundInteractiveHover,"--privy-color-background-interactive-clicked":e.backgroundInteractiveClicked,"--privy-color-background-interactive-disabled":e.backgroundInteractiveDisabled,"--privy-color-foreground-hover":e.foregroundHover,"--privy-color-foreground-clicked":e.foregroundClicked,"--privy-color-foreground-disabled":e.foregroundDisabled,"--privy-color-foreground-interactive":e.foregroundInteractive,"--privy-color-foreground-interactive-hover":e.foregroundInteractiveHover,"--privy-link-navigation-color":e.linkNavigationColor,"--privy-link-navigation-decoration":e.linkNavigationDecoration,"--privy-accent-has-good-contrast":e.accentHasGoodContrast,"--privy-color-icon-default":e.iconDefault,"--privy-color-icon-muted":e.iconMuted,"--privy-color-icon-subtle":e.iconSubtle,"--privy-color-icon-inverse":e.iconInverse,"--privy-color-icon-success":e.iconSuccess,"--privy-color-icon-warning":e.iconWarning,"--privy-color-icon-error":e.iconError,"--privy-color-icon-interactive":e.iconInteractive,"--privy-color-icon-default-hover":e.iconDefaultHover,"--privy-color-icon-muted-hover":e.iconMutedHover,"--privy-color-icon-subtle-hover":e.iconSubtleHover,"--privy-color-icon-default-clicked":e.iconDefaultClicked,"--privy-color-icon-muted-clicked":e.iconMutedClicked,"--privy-color-icon-subtle-clicked":e.iconSubtleClicked,"--privy-color-icon-default-disabled":e.iconDefaultDisabled,"--privy-color-icon-muted-disabled":e.iconMutedDisabled,"--privy-color-icon-subtle-disabled":e.iconSubtleDisabled,"--privy-color-icon-error-hover":e.iconErrorHover,"--privy-color-icon-interactive-hover":e.iconInteractiveHover,"--privy-color-icon-error-clicked":e.iconErrorClicked,"--privy-color-icon-interactive-clicked":e.iconInteractiveClicked,"--privy-color-icon-muted-disabled-alt":e.iconMutedDisabledAlt,"--privy-color-icon-subtle-disabled-alt":e.iconSubtleDisabledAlt,"--privy-border-radius-xs":"6px","--privy-border-radius-sm":"8px","--privy-border-radius-md":"12px","--privy-border-radius-mdlg":"16px","--privy-border-radius-lg":"24px","--privy-border-radius-full":"9999px","--privy-height-modal-full":"620px","--privy-height-modal-compact":"480px"}})(t)).map((([e,n])=>`${e}: ${n};`)).join(`
`)),SB=ae.div.withConfig({displayName:"StylesWrapper",componentId:"sc-188229e4-0"})([""," color:var(--privy-color-foreground-2);h3{font-size:16px;line-height:24px;font-weight:500;color:var(--privy-color-foreground-2);}h4{font-size:14px;line-height:20px;font-weight:500;color:var(--privy-color-foreground);}p{font-size:13px;line-height:20px;color:var(--privy-color-foreground-2);}button:focus,input:focus,optgroup:focus,select:focus,textarea:focus{outline:none;border-color:var(--privy-color-accent-light);box-shadow:0 0 0 3px var(--privy-color-border-focus);}.mobile-only{@media (min-width:441px){display:none;}}@keyframes fadein{0%{opacity:0;}100%{opacity:1;}}"],`
  *,
  ::before,
  ::after {
    box-sizing: border-box;
    border-width: 0;
    border-style: solid;
  }

  line-height: 1.15;
  -webkit-text-size-adjust: 100%;
  -moz-tab-size: 4;
  tab-size: 4;
  font-feature-settings: normal;

  margin: 0;
  font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';

  hr {
    height: 0;
    color: inherit;
    border-top-width: 1px;
  }

  abbr:where([title]) {
    text-decoration: underline dotted;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-size: inherit;
    font-weight: inherit;
    font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';
    display: inline;
  }

  a {
    color: inherit;
    text-decoration: inherit;
  }

  b,
  strong {
    font-weight: bolder;
  }

  code,
  kbd,
  samp,
  pre {
    font-family: ui-monospace, SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace;
    font-size: 1em;
  }

  small {
    font-size: 80%;
  }

  sub,
  sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
  }

  sub {
    bottom: -0.25em;
  }

  sup {
    top: -0.5em;
  }

  table {
    text-indent: 0;
    border-color: inherit;
    border-collapse: collapse;
  }

  button,
  input,
  optgroup,
  select,
  textarea {
    font-family: inherit;
    font-size: 100%;
    font-weight: inherit;
    line-height: inherit;
    color: inherit;
    margin: 0;
    padding: 0;
  }

  button,
  select {
    text-transform: none;
  }

  button,
  [type='button'],
  [type='reset'],
  [type='submit'] {
    -webkit-appearance: button;
    background-color: transparent;
    background-image: none;
  }

  ::-moz-focus-inner {
    border-style: none;
    padding: 0;
  }

  :-moz-focusring {
    outline: 1px dotted ButtonText;
  }

  :-moz-ui-invalid {
    box-shadow: none;
  }

  legend {
    padding: 0;
  }

  progress {
    vertical-align: baseline;
  }

  ::-webkit-inner-spin-button,
  ::-webkit-outer-spin-button {
    height: auto;
  }

  [type='search'] {
    -webkit-appearance: textfield;
    outline-offset: -2px;
  }

  ::-webkit-search-decoration {
    -webkit-appearance: none;
  }

  ::-webkit-file-upload-button {
    -webkit-appearance: button;
    font: inherit;
  }

  summary {
    display: list-item;
  }

  blockquote,
  dl,
  dd,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  hr,
  figure,
  p,
  pre {
    margin: 0;
  }

  fieldset {
    margin: 0;
    padding: 0;
  }

  legend {
    padding: 0;
  }

  ol,
  ul,
  menu {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  textarea {
    resize: vertical;
  }

  input::placeholder,
  textarea::placeholder {
    opacity: 1;
    color: #9ca3af;
  }

  button,
  [role='button'] {
    cursor: pointer;
  }

  :disabled {
    cursor: default;
  }

  img,
  svg,
  video,
  canvas,
  audio,
  iframe,
  embed,
  object {
    display: block;
  }

  img,
  video {
    max-width: 100%;
    height: auto;
  }

  [hidden] {
    display: none;
  }
`),iVe=({children:t,open:e,onClick:n,...i})=>M.jsx(tK,{show:e,as:Ze.Fragment,children:M.jsxs(OFe,{onClose:n,...i,as:aVe,children:[M.jsx(Pm,{as:Ze.Fragment,enterFrom:"entering",leaveTo:"leaving",children:M.jsx(sVe,{id:"privy-dialog-backdrop","aria-hidden":"true"})}),M.jsx(oVe,{children:M.jsx(Pm,{as:Ze.Fragment,enterFrom:"entering",leaveTo:"leaving",children:M.jsx(nK,{as:lVe,children:t})})})]})});let sVe=ae.div.withConfig({displayName:"Backdrop",componentId:"sc-3cfde0b5-0"})(["position:fixed;inset:0;transition:backdrop-filter 100ms ease;backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px);&.entering,&.leaving{backdrop-filter:unset;-webkit-backdrop-filter:unset;}"]),aVe=ae.div.withConfig({displayName:"DialogWrapper",componentId:"sc-3cfde0b5-1"})(["position:relative;z-index:999999;"]),oVe=ae.div.withConfig({displayName:"DialogContainer",componentId:"sc-3cfde0b5-2"})(["position:fixed;inset:0;display:flex;align-items:center;justify-content:center;width:100vw;min-height:100vh;"]);const lVe=ae.div.withConfig({displayName:"Panel",componentId:"sc-3cfde0b5-3"})(["padding:0;background:transparent;border:none;width:100%;pointer-events:auto;outline:none;display:block;@media (max-width:440px){opacity:1;transform:translate3d(0,0,0);transition:transform 200ms ease-in;position:fixed;bottom:0;&.entering,&.leaving{opacity:0;transform:translate3d(0,100%,0);transition:transform 150ms ease-in 0ms,opacity 0ms ease 150ms;}}@media (min-width:441px){opacity:1;transition:opacity 100ms ease-in;&.entering,&.leaving{opacity:0;transition-delay:5ms;}margin:auto;width:360px;box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]),uVe=ae.div.withConfig({displayName:"CenterItem",componentId:"sc-3cfde0b5-4"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;"]);let k_=()=>{let{ready:t,isModalOpen:e}=Xt(),{headless:n}=it(),{currentScreen:i}=lt(),{status:c,execute:m,reset:s,enabled:g}=As(),r=Dm((h=>h.inProgressMfaFlow)),a=()=>Dm.setState({inProgressMfaFlow:void 0}),v=e&&i&&i.isCaptchaRequired&&!n&&c==="ready";return H.useEffect((()=>{v&&m()}),[v]),H.useEffect((()=>{!e&&g&&s()}),[e,g]),i&&!t&&i.isShownBeforeReady?M.jsxs(M.Fragment,{children:[M.jsx(Vt,{}),M.jsx(Sl,{}),M.jsx(uVe,{children:M.jsx($a,{})}),M.jsx(Mo,{}),M.jsx(yr,{})]}):i||r!=="txn"?i?M.jsxs(M.Fragment,{children:[M.jsx(e0,{$if:!!r,children:M.jsx(i.component,{})}),r==="txn"&&M.jsx(CB,{onClose:a}),r==="auth"&&M.jsx(tVe.component,{})]}):null:M.jsx(CB,{onClose:a})},cVe=()=>{let t=H.useRef(null);return M.jsx(dVe,{style:{height:cGe(t)},id:"privy-modal-content",children:M.jsx("div",{ref:t,children:M.jsx(k_,{})})})};const hVe=({open:t})=>{let e=it(),{gracefulClosePrivyModal:n}=(()=>{let{closePrivyModal:c}=et(),{onUserCloseViaDialogOrKeybindRef:m}=lt();return{gracefulClosePrivyModal:H.useCallback((()=>{if(!m?.current)return c({shouldCallAuthOnSuccess:!1});m.current()}),[c])}})(),i=Dm((c=>c.inProgressMfaFlow));return ZGe({onMfaRequired:()=>{e.mfa.noPromptOnMfaRequired||Dm.setState({inProgressMfaFlow:"txn"})}}),e.render.standalone?M.jsx(SB,{children:M.jsx(B_,{id:"privy-modal-content",children:M.jsx(k_,{})})}):M.jsx(iVe,{open:!(!t&&!i),id:"privy-dialog","aria-label":"log in or sign up","aria-labelledby":"privy-dialog-title",onClick:()=>n(),children:M.jsx(SB,{children:M.jsx(cVe,{})})})};let B_=ae.div.withConfig({displayName:"ContentWrapper",componentId:"sc-b220e1ee-0"})(["display:flex;flex-direction:column;text-align:center;font-size:14px;line-height:20px;width:100%;background:var(--privy-color-background);padding:0 16px;"]),dVe=ae(B_).withConfig({displayName:"BaseModal",componentId:"sc-b220e1ee-1"})(["transition:height 150ms ease-out;overflow-x:hidden;overflow-y:auto;scrollbar-width:none;max-height:calc(100svh - 32px);border-radius:var(--privy-border-radius-lg) var(--privy-border-radius-lg) 0 0;box-shadow:0px 0px 36px rgba(55,65,81,0.15);@media (min-width:441px){box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]);function fVe(t){let e=H.useRef(null),n=H.useRef();return H.useEffect((()=>{n.current?.remove(),n.current=(function({botUsername:i,scriptHost:c}){let m=document.createElement("script"),{origin:s}=new URL(c);return m.async=!0,m.src=`${s}/js/telegram-login.js`,m.setAttribute("data-telegram-login",i),m.setAttribute("data-request-access","write"),m.setAttribute("data-lang","en"),m})(t),e.current?.after(n.current)}),[t]),M.jsx("div",{ref:e,hidden:!0})}const pVe=()=>{let{ready:t}=Dd(),{client:e}=et();return H.useEffect((()=>{let n=()=>{if(!e.connectors||!t)return;let i=e.connectors.wallets.map((c=>({address:c.address,connectorType:c.connectorType,walletClientType:c.walletClientType,connectedAt:c.connectedAt,id:c.meta.id})));Ct.put(gK,i)};return e.connectors?.on("walletsUpdated",n),()=>{e.connectors?.off("walletsUpdated",n)}}),[t,e.connectors]),null};async function ga(t,e,n,i,c,m=!1){let s=m,g=async a=>{if(s&&e&&e.length>0){a===(m?0:1)?c("configureMfa","onMfaRequired",{mfaMethods:e}):i.current?.reject(new tr("missing_or_invalid_mfa","MFA verification failed, retry."));let v=await new Promise(((h,u)=>{n.current={resolve:h,reject:u},setTimeout((()=>{let l=new tr("mfa_timeout","Timed out waiting for MFA code");i.current?.reject(l),u(l)}),3e5)}));return await t(v)}return await t()},r=null;for(let a=0;a<4;a++)try{r=await g(a),i.current?.resolve(void 0);break}catch(v){if(v.type!=="missing_or_invalid_mfa")throw i.current?.resolve(void 0),v;s=!0}if(r===null){let a=new tr("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw i.current?.reject(a),a}return r}var TB;let vVe=(TB=0,()=>"id-"+TB++);function Fr(t){return t.error!==void 0}let Er=new class{enqueue(t,e){this.callbacks[t]=e}dequeue(t,e){let n=this.callbacks[e];if(!n)throw Error(`cannot dequeue ${t} event: no event found for id ${e}`);switch(delete this.callbacks[e],t){case"privy:iframe:ready":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:import":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":case"privy:auth:unlink-passkey":case"privy:farcaster:init-signer":case"privy:farcaster:sign":case"privy:solana-wallet:create":case"privy:delegated-actions:consent":return n;default:throw Error(`invalid wallet event type ${t}`)}}constructor(){this.callbacks={}}},v8=new Map,gVe=(t,e)=>typeof e=="bigint"?e.toString():e;function Lr(t,e,n,i){let c=n.contentWindow;if(!c)throw Error("iframe not initialized");let m=((g,r)=>`${g}${JSON.stringify(r,gVe)}`)(t,e);if(t==="privy:wallet:create"){let g=v8.get(m);if(g)return g}let s=new Promise(((g,r)=>{let a=vVe();Er.enqueue(a,{resolve:g,reject:r}),c.postMessage({id:a,event:t,data:e},i)})).finally((()=>{v8.delete(m)}));return v8.set(m,s),s}function mVe(t){let e=HK(),n=H.useRef(null),i=H.useRef(t.mfaMethods),c=Ld(),[m,s]=H.useState(!1);return H.useEffect((()=>{i.current=t.mfaMethods}),[t.mfaMethods]),H.useEffect((()=>{if(!m)return;let g=n.current;if(!g)return;function r(h){var u;h&&h.origin===t.origin&&typeof(u=h.data).event=="string"&&/^privy:.+/.test(u.event)&&(function(l){switch(l.event){case"privy:iframe:ready":let o=Er.dequeue(l.event,l.id);return Fr(l)?o.reject(new tr(l.error.type,l.error.message)):o.resolve(l.data);case"privy:user-signer:sign":{let w=Er.dequeue(l.event,l.id);return Fr(l)?w.reject(new tr(l.error.type,l.error.message)):w.resolve(l.data)}case"privy:wallets:add":{let w=Er.dequeue(l.event,l.id);return Fr(l)?w.reject(new tr(l.error.type,l.error.message)):w.resolve(l.data)}case"privy:wallets:set-recovery":{let w=Er.dequeue(l.event,l.id);return Fr(l)?w.reject(new tr(l.error.type,l.error.message)):w.resolve(l.data)}case"privy:wallets:connect":{let w=Er.dequeue(l.event,l.id);return Fr(l)?w.reject(new tr(l.error.type,l.error.message)):w.resolve(l.data)}case"privy:wallets:recover":{let w=Er.dequeue(l.event,l.id);return Fr(l)?w.reject(new tr(l.error.type,l.error.message)):w.resolve(l.data)}case"privy:wallets:rpc":{let w=Er.dequeue(l.event,l.id);return Fr(l)?w.reject(new tr(l.error.type,l.error.message)):w.resolve(l.data)}case"privy:wallet:create":let d=Er.dequeue(l.event,l.id);return Fr(l)?d.reject(new tr(l.error.type,l.error.message)):d.resolve(l.data);case"privy:wallets:import":let p=Er.dequeue(l.event,l.id);return Fr(l)?p.reject(new tr(l.error.type,l.error.message)):p.resolve(l.data);case"privy:mfa:verify":let f=Er.dequeue(l.event,l.id);return Fr(l)?f.reject(new tr(l.error.type,l.error.message)):f.resolve(l.data);case"privy:mfa:init-enrollment":{let w=Er.dequeue(l.event,l.id);return Fr(l)?w.reject(new tr(l.error.type,l.error.message)):w.resolve(l.data)}case"privy:mfa:submit-enrollment":{let w=Er.dequeue(l.event,l.id);return Fr(l)?w.reject(new tr(l.error.type,l.error.message)):w.resolve(l.data)}case"privy:mfa:unenroll":{let w=Er.dequeue(l.event,l.id);return Fr(l)?w.reject(new tr(l.error.type,l.error.message)):w.resolve(l.data)}case"privy:mfa:clear":{let w=Er.dequeue(l.event,l.id);return Fr(l)?w.reject(new tr(l.error.type,l.error.message)):w.resolve(l.data)}case"privy:auth:unlink-passkey":{let w=Er.dequeue(l.event,l.id);return Fr(l)?w.reject(new tr(l.error.type,l.error.message)):w.resolve(l.data)}case"privy:solana-wallet:create":let y=Er.dequeue(l.event,l.id);return Fr(l)?y.reject(new tr(l.error.type,l.error.message)):y.resolve(l.data);case"privy:farcaster:init-signer":{let w=Er.dequeue(l.event,l.id);return Fr(l)?w.reject(new tr(l.error.type,l.error.message)):w.resolve(l.data)}case"privy:farcaster:sign":{let w=Er.dequeue(l.event,l.id);return Fr(l)?w.reject(new tr(l.error.type,l.error.message)):w.resolve(l.data)}case"privy:delegated-actions:consent":{let w=Er.dequeue(l.event,l.id);return Fr(l)?w.reject(new tr(l.error.type,l.error.message)):w.resolve(l.data)}default:console.warn("Unsupported wallet proxy method:",l)}})(h.data)}let a={signWithUserSigner:h=>ga((u=>Lr("privy:user-signer:sign",{...h,...u},g,t.origin)),i.current,t.mfaPromise,t.mfaSubmitPromise,c),addWallet:h=>ga((u=>Lr("privy:wallets:add",{...h,...u},g,t.origin)),i.current,t.mfaPromise,t.mfaSubmitPromise,c),setRecovery:h=>ga((u=>Lr("privy:wallets:set-recovery",{...h,...u},g,t.origin)),i.current,t.mfaPromise,t.mfaSubmitPromise,c),connect:h=>ga((u=>Lr("privy:wallets:connect",{...h,...u},g,t.origin)),i.current,t.mfaPromise,t.mfaSubmitPromise,c),recover:h=>ga((u=>Lr("privy:wallets:recover",{...h,...u},g,t.origin)),i.current,t.mfaPromise,t.mfaSubmitPromise,c,!h.recoveryAccessToken&&!h.recoveryPassword&&!h.recoverySecretOverride),rpc:h=>ga((u=>Lr("privy:wallets:rpc",{...h,...u},g,t.origin)),i.current,t.mfaPromise,t.mfaSubmitPromise,c),create:h=>Lr("privy:wallet:create",h,g,t.origin),importWallet:h=>Lr("privy:wallets:import",h,g,t.origin),createSolana:h=>ga((u=>Lr("privy:solana-wallet:create",{...h,...u},g,t.origin)),i.current,t.mfaPromise,t.mfaSubmitPromise,c),createDelegatedAction:h=>Lr("privy:delegated-actions:consent",h,g,t.origin),verifyMfa:h=>ga((u=>Lr("privy:mfa:verify",{...h,...u},g,t.origin)),i.current,t.mfaPromise,t.mfaSubmitPromise,c,!0),initEnrollMfa:h=>ga((u=>Lr("privy:mfa:init-enrollment",{...h,...u},g,t.origin)),i.current,t.mfaPromise,t.mfaSubmitPromise,c),submitEnrollMfa:h=>ga((u=>Lr("privy:mfa:submit-enrollment",{...h,...u},g,t.origin)),i.current,t.mfaPromise,t.mfaSubmitPromise,c),unenrollMfa:h=>ga((u=>Lr("privy:mfa:unenroll",{...h,...u},g,t.origin)),i.current,t.mfaPromise,t.mfaSubmitPromise,c),clearMfa:h=>Lr("privy:mfa:clear",h,g,t.origin),unlinkPasskeyAccount:h=>ga((u=>Lr("privy:auth:unlink-passkey",{...h,...u},g,t.origin)),i.current,t.mfaPromise,t.mfaSubmitPromise,c),initFarcasterSigner:h=>Lr("privy:farcaster:init-signer",h,g,t.origin),signFarcasterMessage:h=>Lr("privy:farcaster:sign",h,g,t.origin)};window.addEventListener("message",r);let v=new AbortController;return nT((()=>Lr("privy:iframe:ready",{},g,t.origin)),{abortSignal:v.signal}).then((()=>t.onLoad(a)),((...h)=>{console.warn("Privy iframe failed to load: ",...h),t.onLoadFailed()})),()=>{window.removeEventListener("message",r),v.abort()}}),[m]),e?M.jsx("iframe",{ref:n,width:"0",height:"0",style:{display:"none",height:"0px",width:"0px"},onLoad:()=>s(!0),src:EG({origin:t.origin,path:`/apps/${t.appId}/embedded-wallets`,query:{caid:t.clientAnalyticsId,client_id:t.appClientId}})}):null}const yVe=({address:t,user:e})=>{let n=e.linkedAccounts.find((i=>i.type==="wallet"&&i.walletClientType==="privy"&&i.address===t));if(!n)throw new ge("Address to delegate is not associated with current user.");if(!Fm(n))throw new ge(`useDelegatedActions is not supported for ${n.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:n.address,chainType:n.chainType,walletIndex:n.walletIndex??0}},wVe=({address:t,user:e})=>{let n=e.linkedAccounts.find((c=>c.type==="wallet"&&c.walletClientType==="privy"&&c.address===t));if(!n)throw new ge("Address to delegate is not associated with current user.");let i=n.imported?n:bo(e);if(!i)throw new ge("Unable to determine root address for delegated address.");if(!Fm(i))throw new ge(`useDelegatedActions is not supported for ${i.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:i.address,chainType:i.chainType,imported:i.imported}},AB=t=>t.linkedAccounts.filter((e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.delegated)),xVe=()=>{let t=it();H.useEffect((()=>{(async e=>{let n=new URL("v3/wallets","https://explorer-api.walletconnect.com");n.searchParams.append("projectId",e);let i=await fetch(n);return i.ok?Object.values((await i.json()).listings).sort((({slug:c},{slug:m})=>c==="rainbow"&&m==="metamask"?1:c==="metamask"||c==="rainbow"?-1:1)):(console.debug(`Failed to fetch WalletConnect listings: ${await i.text().catch((()=>"No response."))}`),[])})(t.walletConnectCloudProjectId).then((e=>xLe({listings:e}))).catch(console.error)}),[t.walletConnectCloudProjectId])},PB="popup-privy-oauth",IB="PRIVY_OAUTH_USE_BROADCAST_CHANNEL";class bVe{async authenticate(){if(!this.api)throw new ge("Auth flow has no API instance");try{return await this.api.post(jW,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw Kt(e)}}async link(){if(!this.api)throw new ge("Auth flow has no API instance");try{return await this.api.post(zW,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw Kt(e)}}constructor({authorizationCode:e,stateCode:n,codeVerifier:i,provider:c}){this.meta={authorizationCode:e,stateCode:n,codeVerifier:i,provider:c}}}async function U_({api:t,requesterAppId:e,providerAppId:n}){let i=(await t.get(`/api/v1/apps/${e}/cross-app/connections`)).connections.find((c=>c.provider_app_id===n));if(!i)throw new ge("Invalid connected app");return{name:i.provider_app_name,logoUrl:i.provider_app_icon_url||void 0,apiUrl:i.provider_app_custom_api_url,readOnly:i.read_only,customAuthAuthorizeUrl:i.provider_app_custom_auth_authorize_url,customAuthTransactUrl:i.provider_app_custom_auth_transact_url}}const I2=async({user:t,address:e,client:n,request:i,requesterAppId:c,reconnect:m})=>{n.createAnalyticsEvent({eventName:"cross_app_request_started",payload:{address:e,method:i.method}});let s=t?.linkedAccounts.find((h=>h.type==="cross_app"&&(h.embeddedWallets.some((u=>u.address===e))||h.smartWallets.some((u=>u.address===e)))));if(!t||!s)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Cannot request a signature with this wallet address",address:e}}),new ge("Cannot request a signature with this wallet address");let g=n.getProviderAccessToken(s.providerApp.id),r=await U_({api:n.api,requesterAppId:c,providerAppId:s.providerApp.id});if(!g){if(r.readOnly)throw console.error("cannot transact against a read-only provider app"),new ge("Cannot transact against a read-only provider app");await m({appId:s.providerApp.id,action:"link"})&&(g=n.getProviderAccessToken(s.providerApp.id))}if(!g)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Transactions require a valid token",address:e}}),new ge("Transactions require a valid token");let a=sb();if(!a)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Missing token",address:e}}),new ge("Failed to initialize signature request");let v=new URL(r.customAuthTransactUrl||`${r.apiUrl}/oauth/transact`);return v.searchParams.set("token",g||""),v.searchParams.set("request",EVe(i)),a.location=v.href,new Promise(((h,u)=>{let l=setTimeout((()=>{p(),u(new ge("Request timeout")),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Request timeout",address:e}})}),12e4),o=setInterval((()=>{a.closed&&(p(),u(new ge("User rejected request")),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"User rejected request",address:e}}))}),300),d=f=>{f.data&&(f.data.token?.action==="set"&&f.data.token?.value!==void 0?n.storeProviderAccessToken(s.providerApp.id,f.data.token.value):f.data.token?.action==="clear"&&n.storeProviderAccessToken(s.providerApp.id,null),f.data.type==="PRIVY_CROSS_APP_ACTION_RESPONSE"&&f.data.result&&(p(),h(f.data.result),n.createAnalyticsEvent({eventName:"cross_app_request_success",payload:{address:e,method:i.method}})),f.data.type==="PRIVY_CROSS_APP_ACTION_ERROR"&&f.data.error&&(p(),u(f.data.error),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:f.data.error,address:e}})))};window.addEventListener("message",d);let p=()=>{a.close(),clearInterval(o),clearTimeout(l),window.removeEventListener("message",d)}}))};let EVe=t=>JSON.stringify({content:{request:{request:kT(t,sr)}},timestamp:Date.now(),callbackUrl:window.origin});const kT=(t,e)=>typeof t=="bigint"?e(t):Array.isArray(t)?t.map((n=>kT(n,e))):t&&typeof t=="object"?Object.fromEntries(Object.entries(t).map((([n,i])=>[n,kT(i,e)]))):t,CVe=({passkeys:t,isLoading:e,errorReason:n,success:i,expanded:c,onLinkPasskey:m,onUnlinkPasskey:s,onExpand:g,onBack:r,onClose:a})=>M.jsx(Zt,i?{title:"Passkeys updated",icon:n1,iconVariant:"success",primaryCta:{label:"Done",onClick:a},onClose:a,watermark:!0}:c?{icon:Fw,title:"Your passkeys",onBack:r,onClose:a,watermark:!0,children:M.jsx(RB,{passkeys:t,expanded:c,onUnlink:s,onExpand:g})}:{icon:Fw,title:"Set up passkey verification",subtitle:"Verify with passkey",primaryCta:{label:"Add new passkey",onClick:m,loading:e},onClose:a,watermark:!0,helpText:n||void 0,children:t.length===0?M.jsx(TVe,{}):M.jsx(SVe,{children:M.jsx(RB,{passkeys:t,expanded:c,onUnlink:s,onExpand:g})})});let SVe=ae.div.withConfig({displayName:"ContentContainer",componentId:"sc-d4c46a0c-0"})(["margin-bottom:12px;"]),RB=({passkeys:t,expanded:e,onUnlink:n,onExpand:i})=>{let[c,m]=H.useState([]),s=e?t.length:2,g=r=>r.authenticatorName?r.createdWithBrowser?`${r.authenticatorName} on ${r.createdWithBrowser}`:r.authenticatorName:r.createdWithBrowser?r.createdWithOs?`${r.createdWithBrowser} on ${r.createdWithOs}`:`${r.createdWithBrowser}`:"Unknown device";return M.jsxs("div",{children:[M.jsx(OVe,{children:"Your passkeys"}),M.jsxs(RVe,{children:[t.slice(0,s).map((r=>M.jsxs(FVe,{children:[M.jsxs("div",{children:[M.jsx(MVe,{children:g(r)}),M.jsxs($Ve,{children:["Last used:"," ",(r.latestVerifiedAt??r.firstVerifiedAt)?.toLocaleString()??"N/A"]})]}),M.jsx(DVe,{disabled:c.includes(r.credentialId),onClick:()=>(async a=>{m((v=>v.concat([a]))),await n(a),m((v=>v.filter((h=>h!==a))))})(r.credentialId),children:c.includes(r.credentialId)?M.jsx(kc,{}):M.jsx(Lve,{size:16})})]},r.credentialId))),t.length>2&&!e&&M.jsx(IVe,{onClick:i,children:"View all"})]})]})},TVe=()=>M.jsxs(sJ,{style:{color:"var(--privy-color-foreground)"},children:[M.jsx(Op,{children:"Verify with Touch ID, Face ID, PIN, or hardware key"}),M.jsx(Op,{children:"Takes seconds to set up and use"}),M.jsx(Op,{children:"Use your passkey to verify transactions and login to your account"})]});const AVe={component:()=>{let{user:t,unlinkPasskey:e}=Xt(),{linkWithPasskey:n,closePrivyModal:i}=et(),c=t?.linkedAccounts.filter((l=>l.type==="passkey")),[m,s]=H.useState(!1),[g,r]=H.useState(""),[a,v]=H.useState(!1),[h,u]=H.useState(!1);return H.useEffect((()=>{c.length===0&&u(!1)}),[c.length]),M.jsx(CVe,{passkeys:c,isLoading:m,errorReason:g,success:a,expanded:h,onLinkPasskey:()=>{s(!0),n().then((()=>v(!0))).catch((l=>{if(l instanceof Di){if(l.privyErrorCode===we.CANNOT_LINK_MORE_OF_TYPE)return void r("Cannot link more passkeys to account.");if(l.privyErrorCode===we.PASSKEY_NOT_ALLOWED)return void r("Passkey request timed out or rejected by user.")}r("Unknown error occurred.")})).finally((()=>{s(!1)}))},onUnlinkPasskey:async l=>(s(!0),await e(l).then((()=>v(!0))).catch((o=>{o instanceof Di&&o.privyErrorCode===we.MISSING_MFA_CREDENTIALS?r("Cannot unlink a passkey enrolled in MFA"):r("Unknown error occurred.")})).finally((()=>{s(!1)}))),onExpand:()=>u(!0),onBack:()=>u(!1),onClose:()=>i()})}},j_=ae.div.withConfig({displayName:"DoubleIconWrapper",componentId:"sc-d4c46a0c-1"})(["display:flex;align-items:center;justify-content:center;width:180px;height:90px;border-radius:50%;svg + svg{margin-left:12px;}> svg{z-index:2;color:var(--privy-color-accent) !important;stroke:var(--privy-color-accent) !important;fill:var(--privy-color-accent) !important;}"]);let PVe=Wr(["&&{width:100%;font-size:0.875rem;line-height:1rem;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;justify-content:center;padding:6px 8px;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent) !important;:focus{outline:none;box-shadow:none;}}"]);const IVe=ae.button.withConfig({displayName:"LinkButton",componentId:"sc-d4c46a0c-2"})(["",""],PVe);let RVe=ae.div.withConfig({displayName:"List",componentId:"sc-d4c46a0c-3"})(["display:flex;flex-direction:column;align-items:stretch;gap:0.8rem;padding:0.5rem 0rem 0rem;flex-grow:1;width:100%;"]),OVe=ae.div.withConfig({displayName:"PasskeyListTitle",componentId:"sc-d4c46a0c-4"})(["line-height:20px;height:20px;font-size:1em;font-weight:450;display:flex;justify-content:flex-beginning;width:100%;"]),MVe=ae.div.withConfig({displayName:"PasskeyItemTitle",componentId:"sc-d4c46a0c-5"})(["font-size:1em;line-height:1.3em;font-weight:500;color:var(--privy-color-foreground-2);padding:0.2em 0;"]),$Ve=ae.div.withConfig({displayName:"PasskeyItemSubtitle",componentId:"sc-d4c46a0c-6"})(["font-size:0.875rem;line-height:1rem;color:#64668b;padding:0.2em 0;"]),FVe=ae.div.withConfig({displayName:"PasskeyListItem",componentId:"sc-d4c46a0c-7"})(["display:flex;align-items:center;justify-content:space-between;padding:1em;gap:10px;font-size:0.875rem;line-height:1rem;text-align:left;border-radius:8px;border:1px solid #e2e3f0 !important;width:100%;height:5em;"]),LVe=Wr([":focus,:hover,:active{outline:none;}display:flex;width:2em;height:2em;justify-content:center;align-items:center;svg{color:var(--privy-color-error);}svg:hover{color:var(--privy-color-foreground-3);}"]),DVe=ae.button.withConfig({displayName:"PasskeyItemUnlinkButton",componentId:"sc-d4c46a0c-8"})(["",""],LVe);const g8=new Map([[Pa,null],[P1,"external"],[gJ,"external"],[vJ,"external"],[mJ,"external"],[yx,"manual"],[yJ,"moonpay"]]),NVe=()=>{let t=it(),{user:e}=Xt(),{client:n,refreshSessionAndUser:i,walletProxy:c}=et();return{migrate:H.useCallback((async()=>{if(t.embeddedWallets.mode==="legacy-embedded-wallets-only")return{success:!0};if(!e)throw new ge("User must be authenticated before migrating wallets",we.MUST_BE_AUTHENTICATED);let m=bo(e);if(!m||Us(m)||!Fm(m))return{success:!0};if(!c)throw new ge("Cannot connect to wallet proxy");let s=await n.getAccessToken();if(!s)throw new ge("User must be authenticated before migrating wallets",we.MUST_BE_AUTHENTICATED);let g=m.imported?[m]:e.linkedAccounts.filter((v=>v.type==="wallet"&&v.walletClientType==="privy"&&!v.imported)).filter(Fm),{entropyId:r,entropyIdVerifier:a}=io(e,m);try{await c.connect({accessToken:s,entropyId:r,entropyIdVerifier:a})}catch(v){if(!Im(v)||m.recoveryMethod!=="privy")throw v;await c.recover({accessToken:s,entropyId:r,entropyIdVerifier:a})}return await c.createDelegatedAction({accessToken:s,rootWallet:{address:m.address,chainType:m.chainType,imported:m.imported},delegatedWallets:g}),await i(),{success:!0}}),[t.embeddedWallets.mode,e,c,n,i])}},kVe=({disabled:t})=>{let{migrate:e}=NVe(),{user:n}=Xt(),{walletProxy:i}=et();return H.useEffect((()=>{!t&&n&&i&&e().catch((c=>{console.debug("Unable to migrate wallets: ",c)}))}),[n,i,t,e]),null},BVe=t=>({id:t.id,raw_id:t.rawId,response:{client_data_json:t.response.clientDataJSON,authenticator_data:t.response.authenticatorData,signature:t.response.signature,user_handle:t.response.userHandle},authenticator_attachment:t.authenticatorAttachment,client_extension_results:{app_id:t.clientExtensionResults.appid,cred_props:t.clientExtensionResults.credProps,hmac_create_secret:t.clientExtensionResults.hmacCreateSecret},type:t.type}),UVe=({providerApp:t,success:e,error:n,onClose:i})=>{let{title:c,subtitle:m}=H.useMemo((()=>e?{title:`Successfully connected with ${t.name}`,subtitle:"You're good to go!"}:n?{title:"Authentication failed",subtitle:n.message}:{title:`Connecting to ${t.name}`,subtitle:`Please check the pop-up from ${t.name} to continue`}),[e,n,t.name]);return M.jsx(Zt,{title:c,subtitle:m,icon:t.logoUrl,iconVariant:"loading",iconLoadingStatus:{success:e,fail:!!n},onBack:i,watermark:!0})},jVe={component:()=>{let t=it(),{data:e,navigate:n,setModalData:i,onUserCloseViaDialogOrKeybindRef:c}=lt(),{crossAppAuthFlow:m,updateWallets:s,closePrivyModal:g,createAnalyticsEvent:r}=et(),{logout:a}=hGe(),[v,h]=H.useState({}),u=e?.crossAppAuth,l={id:u.appId,name:u.name,logoUrl:u.logoUrl},o=new ge(`There was an issue connecting your ${l.name} account. Please try again.`),d=new Gi((async f=>{if(u.popup)try{let y=await m({appId:f,popup:u.popup,action:u.action});h({data:y})}catch(y){if(y instanceof ge)h({error:y});else if(y instanceof Vs){if(y.privyErrorCode===we.ACCOUNT_TRANSFER_REQUIRED&&y.data?.data?.nonce)return i({accountTransfer:{nonce:y.data?.data?.nonce,account:y.data?.data?.subject,displayName:y.data?.data?.account?.displayName,linkMethod:`privy:${l.id}`,embeddedWalletAddress:y.data?.data?.otherUser?.embeddedWalletAddress,oAuthUserInfo:y.data?.data?.otherUser?.oAuthUserInfo}}),void n(Nd);u.popup&&u.popup.close(),h({error:o})}else h({error:o})}else h({error:o})})),p=()=>{v.data&&(s(),u.onSuccess(v.data),g({shouldCallAuthOnSuccess:!0,isSuccess:!0})),u.onError(v.error??new ge("User canceled flow")),g({shouldCallAuthOnSuccess:!1,isSuccess:!1})};return c.current=p,H.useEffect((()=>{l.id.length&&d.execute(l.id)}),[l.id]),H.useEffect((()=>{if(!v.data)return;let f=v.data;if(t.legal.requireUsersAcceptTerms&&!f.hasAcceptedTerms){let w=setTimeout((()=>{n(kd)}),Yn);return()=>clearTimeout(w)}if(Uc(f,t.embeddedWallets)){let w=setTimeout((()=>{i({createWallet:{onSuccess:()=>{},onFailure:x=>{console.error(x),r({eventName:"embedded_wallet_creation_failure_logout",payload:{error:x,provider:`privy:${l.id}`,screen:"CrossAppAuthScreen"}}),a()},callAuthOnSuccessOnClose:!0}}),n(Cu)}),Yn);return()=>clearTimeout(w)}let y=setTimeout(p,Yn);return()=>clearTimeout(y)}),[v.data]),M.jsx(UVe,{providerApp:l,success:!!v.data,error:v.error,onClose:p})}},zVe=({appName:t,address:e,success:n,error:i,onAccept:c,onDecline:m,onClose:s})=>M.jsx(Zt,n||i?{title:i?"Something went wrong":"Success!",subtitle:i?"Please try again.":`You've successfully granted delegated action permissions to ${t}.`,icon:i?VW:n1,iconVariant:i?"error":"success",onBack:s,watermark:!0}:{title:"Enable offline access",subtitle:`By confirming, ${t} will be able to use your wallet for you even when you're not around. You can revoke this later.`,icon:Ove,primaryCta:{label:"Accept",onClick:c},secondaryCta:{label:"Not now",onClick:m},onBack:s,watermark:!0,children:M.jsx(mb,{address:e,title:"Wallet"})}),WVe={component:()=>{let{data:t}=lt(),e=it(),{closePrivyModal:n}=et(),[i,c]=H.useState(!1),[m,s]=H.useState(),{address:g,onDelegate:r,onSuccess:a,onError:v}=t.delegatedActions.consent,h=async()=>{i?a():v(m??new ge("User declined delegating actions.")),n({shouldCallAuthOnSuccess:!1})};return H.useEffect((()=>{if(!i&&!m)return;let u=setTimeout(h,pK);return()=>clearTimeout(u)}),[i,m]),M.jsx(zVe,{appName:e.name,address:g,success:i,error:m,onAccept:async()=>{try{await r(),c(!0)}catch(u){s(u)}},onDecline:()=>{h()},onClose:h})}},GVe=({appName:t,success:e,error:n,onRevoke:i,onDeny:c,onClose:m})=>M.jsx(Zt,e||n?{title:n?"Something went wrong":"Success!",subtitle:n?"Please try again.":"You've successfully revoked permissions.",icon:n?VW:n1,iconVariant:n?"error":"success",onBack:m,watermark:!0}:{title:"Revoke offline access to wallet",subtitle:`By confirming, ${t} will no longer be able to use this wallet on your behalf when you are not online.`,icon:Pve,primaryCta:{label:"Confirm",onClick:i},secondaryCta:{label:"Deny",onClick:c},onBack:m,watermark:!0}),VVe={component:()=>{let{data:t}=lt(),e=it(),{closePrivyModal:n}=et(),[i,c]=H.useState(!1),[m,s]=H.useState(),{onRevoke:g,onSuccess:r,onError:a}=t.delegatedActions.revoke,v=async()=>{i?r():a(m??new ge("User declined revoking access to their delegated wallet.")),n({shouldCallAuthOnSuccess:!1})};return H.useEffect((()=>{if(!i&&!m)return;let h=setTimeout(v,pK);return()=>clearTimeout(h)}),[i,m]),M.jsx(GVe,{appName:e.name,success:i,error:m,onRevoke:async()=>{try{await g(),c(!0)}catch(h){s(h)}},onDeny:()=>{v()},onClose:v})}};let OB="#8a63d2";const HVe=({appName:t,loading:e,success:n,errorMessage:i,connectUri:c,onBack:m,onClose:s,onOpenFarcaster:g})=>M.jsx(Zt,sn.isMobile||e?sn.isIOS?{title:i?i.message:"Add a signer to Farcaster",subtitle:i?i.detail:`This will allow ${t} to add casts, likes, follows, and more on your behalf.`,icon:Hh,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!i},primaryCta:c&&g?{label:"Open Farcaster app",onClick:g}:void 0,onBack:m,onClose:s,watermark:!0}:{title:i?i.message:"Requesting signer from Farcaster",subtitle:i?i.detail:"This should only take a moment",icon:Hh,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!i},onBack:m,onClose:s,watermark:!0,children:c&&sn.isMobile&&M.jsx(YVe,{children:M.jsx(xJ,{text:"Take me to Farcaster",url:c,color:OB})})}:{title:"Add a signer to Farcaster",subtitle:`This will allow ${t} to add casts, likes, follows, and more on your behalf.`,onBack:m,onClose:s,watermark:!0,children:M.jsxs(XVe,{children:[M.jsx(KVe,{children:c?M.jsx(T1,{url:c,size:275,squareLogoElement:Hh}):M.jsx(_Ve,{children:M.jsx($a,{})})}),M.jsxs(ZVe,{children:[M.jsx(JVe,{children:"Or copy this link and paste it into a phone browser to open the Farcaster app."}),c&&M.jsx(zA,{text:c,itemName:"link",color:OB})]})]})});let YVe=ae.div.withConfig({displayName:"MobileLinkContainer",componentId:"sc-75c99bb6-0"})(["margin-top:24px;"]),XVe=ae.div.withConfig({displayName:"ContentContainer",componentId:"sc-75c99bb6-1"})(["display:flex;flex-direction:column;align-items:center;gap:24px;"]),KVe=ae.div.withConfig({displayName:"QrContainer",componentId:"sc-75c99bb6-2"})(["padding:24px;position:relative;display:flex;align-items:center;justify-content:center;min-height:275px;"]),ZVe=ae.div.withConfig({displayName:"InstructionsContainer",componentId:"sc-75c99bb6-3"})(["display:flex;flex-direction:column;align-items:center;gap:16px;"]),JVe=ae.div.withConfig({displayName:"InstructionText",componentId:"sc-75c99bb6-4"})(["font-size:0.875rem;text-align:center;color:var(--privy-color-foreground-2);"]),_Ve=ae.div.withConfig({displayName:"LoaderWrapper",componentId:"sc-75c99bb6-5"})(["position:relative;width:82px;height:82px;"]);const QVe={component:()=>{let{lastScreen:t,navigateBack:e,data:n}=lt(),i=it(),{requestFarcasterSignerStatus:c,closePrivyModal:m}=et(),[s,g]=H.useState(void 0),[r,a]=H.useState(!1),[v,h]=H.useState(!1),u=H.useRef([]),l=n?.farcasterSigner;H.useEffect((()=>{let d=Date.now(),p=setInterval((async()=>{if(!l?.public_key)return clearInterval(p),void g({retryable:!0,message:"Connect failed",detail:"Something went wrong. Please try again."});l.status==="approved"&&(clearInterval(p),a(!1),h(!0),u.current.push(setTimeout((()=>m({shouldCallAuthOnSuccess:!1,isSuccess:!0})),Yn)));let f=await c(l?.public_key),y=Date.now()-d;f.status==="approved"?(clearInterval(p),a(!1),h(!0),u.current.push(setTimeout((()=>m({shouldCallAuthOnSuccess:!1,isSuccess:!0})),Yn))):y>3e5?(clearInterval(p),g({retryable:!0,message:"Connect failed",detail:"The request timed out. Try again."})):f.status==="revoked"&&(clearInterval(p),g({retryable:!0,message:"Request rejected",detail:"The request was rejected. Please try again."}))}),2e3);return()=>{clearInterval(p),u.current.forEach((f=>clearTimeout(f)))}}),[]);let o=l?.status==="pending_approval"?l.signer_approval_url:void 0;return M.jsx(HVe,{appName:i.name,loading:r,success:v,errorMessage:s,connectUri:o,onBack:t?e:void 0,onClose:m,onOpenFarcaster:()=>{o&&(window.location.href=o)}})}},qVe=({onClose:t})=>M.jsx(Zt,{title:"Could not log in with provider",subtitle:"It looks like you're using an in-app browser. To log in, please try again using an external browser.",icon:IC,primaryCta:{label:"Close",onClick:t},watermark:!0}),MB={component:()=>{let{closePrivyModal:t}=et();return M.jsx(qVe,{onClose:()=>t()})}},eHe=({title:t="Connect your email",subtitle:e="Add your email to your account"})=>M.jsx(Zt,{title:t,subtitle:e,icon:h7,watermark:!0,children:M.jsx(rZ,{children:M.jsx(OJ,{stacked:!0})})}),tHe={component:()=>{let t=it();return M.jsx(eHe,{subtitle:`Add your email to your ${t?.name} account`})}},nHe=({title:t="Connect your phone",subtitle:e="Add your number to your account",onSubmit:n,isSubmitting:i=!1})=>{let[c,m]=H.useState(null),s=async()=>{c?.qualifiedPhoneNumber&&await n(c)};return M.jsx(Zt,{title:t,subtitle:e,icon:Ac,primaryCta:{label:i?"Submitting":"Submit",onClick:s,disabled:!c?.isValid||i},watermark:!0,children:M.jsx(xb,{onChange:g=>{m(g)},onSubmit:s,noIncludeSubmitButton:!0,hideRecent:!0})})},aP={component:()=>{let{currentScreen:t,data:e,navigate:n,setModalData:i}=lt(),c=it(),{initLoginWithSms:m}=et(),[s,g]=H.useState(!1);return M.jsx(nHe,{subtitle:`Add your number to your ${c?.name} account`,onSubmit:async r=>{g(!0);try{await m({phoneNumber:r.qualifiedPhoneNumber,withPrivyUi:!0}),n(xu)}catch(a){i({errorModalData:{error:a,previousScreen:e?.errorModalData?.previousScreen||t||aP}}),n(Xn)}finally{g(!1)}},isSubmitting:s})}},rHe=({title:t="Could not connect with wallet",subtitle:e="Please check that Phantom multichain is enabled and try again.",primaryCtaText:n="Try again",secondaryCtaText:i="Cancel",onTryAgain:c,onCancel:m})=>M.jsx(Zt,{title:t,subtitle:e,icon:i3,iconVariant:"error",primaryCta:{label:n,onClick:c},secondaryCta:{label:i,onClick:m},watermark:!0}),iHe={component:()=>{let{closePrivyModal:t}=et(),{navigate:e}=lt();return M.jsx(rHe,{onTryAgain:()=>{e(Ni)},onCancel:async()=>{await t()}})}};function z_(){let{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:n,submitEnrollmentWithSms:i,submitEnrollmentWithTotp:c,submitEnrollmentWithPasskey:m,unenroll:s,enrollInMfa:g}=H.useContext(d0);return{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:n,submitEnrollmentWithSms:i,submitEnrollmentWithTotp:c,submitEnrollmentWithPasskey:m,unenrollWithSms:()=>s("sms"),unenrollWithTotp:()=>s("totp"),unenrollWithPasskey:r=>s("passkey",r),showMfaEnrollmentModal:()=>g(!0),closeMfaEnrollmentModal:()=>g(!1)}}const sHe=t=>M.jsxs(aHe,{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:"88",height:"89",viewBox:"0 0 88 89",...t,children:[M.jsx("rect",{y:"0.666016",width:"88",height:"88",rx:"44"}),M.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M45.2463 20.9106C44.5473 20.2486 43.4527 20.2486 42.7537 20.9106C37.8798 25.5263 31.3034 28.3546 24.0625 28.3546C23.9473 28.3546 23.8323 28.3539 23.7174 28.3525C22.9263 28.3427 22.2202 28.8471 21.9731 29.5987C20.9761 32.6311 20.4375 35.8693 20.4375 39.2297C20.4375 53.5896 30.259 65.651 43.5482 69.0714C43.8446 69.1477 44.1554 69.1477 44.4518 69.0714C57.741 65.651 67.5625 53.5896 67.5625 39.2297C67.5625 35.8693 67.0239 32.6311 66.0269 29.5987C65.7798 28.8471 65.0737 28.3427 64.2826 28.3525C64.1677 28.3539 64.0527 28.3546 63.9375 28.3546C56.6966 28.3546 50.1202 25.5263 45.2463 20.9106ZM52.7249 40.2829C53.3067 39.4683 53.1181 38.3363 52.3035 37.7545C51.4889 37.1726 50.3569 37.3613 49.7751 38.1759L41.9562 49.1223L38.0316 45.1977C37.3238 44.4899 36.1762 44.4899 35.4684 45.1977C34.7605 45.9056 34.7605 47.0532 35.4684 47.761L40.9059 53.1985C41.2826 53.5752 41.806 53.7671 42.337 53.7232C42.868 53.6792 43.3527 53.4039 43.6624 52.9704L52.7249 40.2829Z"})]});let aHe=ae.svg.withConfig({displayName:"StyledSvg",componentId:"sc-59fa943f-0"})(["height:90px;width:90px;> rect{","}> path{fill:white;}"],(t=>t.color==="success"?"fill: var(--privy-color-success);":"fill: var(--privy-color-accent);"));const oHe=({showIntro:t,userMfaMethods:e,appMfaMethods:n,userHasAuthSms:i,isTotpLoading:c,isPasskeyLoading:m,error:s,onClose:g,backFn:r,handleSelectMethod:a,setRemovingMfaMethod:v})=>{let h=e.reduce(((l,o)=>({...l,[o]:!0})),{}),u=n.reduce(((l,o)=>({...l,[o]:!0})),{});return M.jsxs(M.Fragment,{children:[M.jsx(Vt,{backFn:t?r:void 0,onClose:g},"header"),M.jsx(Sa,{style:{marginBottom:"1.5rem"},children:M.jsx(nd,{})}),M.jsx(ps,{children:"Choose a verification method"}),e.length>0?M.jsx(Ca,{children:"To add or delete verification methods, verification is required."}):M.jsx(Ca,{children:"How would you like to verify your identity?"}),s&&M.jsx($_,{style:{marginTop:"1.25rem"},children:s.message}),M.jsxs(O_,{children:[(u.passkey||h.passkey)&&M.jsxs(h8,{children:[M.jsx(_n,{style:{justifyContent:"center"},onClick:()=>a("passkey"),disabled:h.passkey||m,children:m?M.jsx($a,{style:{height:24,width:24,borderWidth:2},color:"var(--privy-color-foreground-3)"}):M.jsxs(p8,{children:[M.jsxs(f8,{children:[M.jsx(p7,{}),"Passkey"]}),h.passkey?M.jsx(m8,{color:"green",children:"Enabled"}):M.jsx(bB,{$isAccent:!0,children:M.jsx(x1e,{})})]})}),h.passkey&&M.jsx(d8,{style:{position:"absolute",right:0},onClick:()=>v("passkey"),children:M.jsx(s6,{})})]},"passkey"),(u.totp||h.totp)&&M.jsxs(h8,{children:[M.jsx(_n,{style:{justifyContent:"center"},disabled:h.totp||c,onClick:()=>a("totp"),children:c?M.jsx($a,{style:{height:24,width:24,borderWidth:2},color:"var(--privy-color-foreground-3)"}):M.jsxs(p8,{children:[M.jsxs(f8,{children:[M.jsx(g3,{}),"Authenticator app"]}),h.totp&&M.jsx(m8,{color:"green",children:"Enabled"})]})}),h.totp&&M.jsx(d8,{style:{position:"absolute",right:0},onClick:()=>v("totp"),children:M.jsx(s6,{})})]},"totp"),(u.sms||h.sms)&&M.jsxs(h8,{children:[M.jsx(_n,{disabled:h.sms||i,onClick:()=>a("sms"),children:M.jsxs(p8,{children:[M.jsxs(f8,{children:[M.jsx(Ac,{}),"SMS"]}),h.sms&&M.jsx(m8,{color:"green",children:"Enabled"}),i&&M.jsx(bB,{children:"Disabled"})]})}),h.sms&&M.jsx(d8,{style:{position:"absolute",right:0},onClick:()=>v("sms"),children:M.jsx(s6,{})})]},"sms")]}),M.jsx(lHe,{children:"You can always change your selection later"}),M.jsx(yr,{})]})};let m8=ae(xl).withConfig({displayName:"StyledChip",componentId:"sc-5f06df7f-0"})(["margin-right:1.5rem;"]),lHe=ae(M_).withConfig({displayName:"StyledTerms",componentId:"sc-5f06df7f-1"})(["&&{margin-top:1rem;}text-align:center;"]);const W_=({style:t,...e})=>M.jsxs("svg",{x:0,y:0,width:"65",height:"64",viewBox:"0 0 65 64",style:{height:"64px",width:"65px",...t},xmlns:"http://www.w3.org/2000/svg",...e,children:[M.jsxs("g",{clipPath:"url(#clip0_113_33841)",children:[M.jsx("path",{d:"M39.1193 0.943398C34.636 -0.174912 29.9185 -0.334713 25.328 0.656273C24.9732 0.732859 24.7477 1.08253 24.8243 1.43729C24.9009 1.79205 25.2506 2.01756 25.6053 1.94097C30.0015 0.991934 34.53 1.14842 38.8375 2.22802C49.1385 4.80983 57.7129 12.5548 60.9786 22.6718C62.2416 26.5843 62.7781 30.7505 62.8855 35.1167C62.8945 35.4795 63.1958 35.7664 63.5586 35.7575C63.9215 35.7485 64.2083 35.4472 64.1994 35.0843C64.0905 30.6582 63.5477 26.3849 62.2536 22.3432C58.8621 11.7515 49.9005 3.63265 39.1193 0.943398Z"}),M.jsx("path",{d:"M21.9931 2.93163C22.343 2.83511 22.5484 2.47325 22.4518 2.12339C22.3553 1.77352 21.9935 1.56815 21.6436 1.66466C16.8429 2.98903 10.0898 7.56519 5.91628 13.6786C5.91465 13.681 5.91304 13.6834 5.91145 13.6858C2.24684 19.2083 -0.0503572 26.1484 0.591012 32.8828C0.591623 32.8892 0.592328 32.8956 0.593127 32.902C0.746837 34.1317 1.00488 35.3591 1.26323 36.5879C1.80735 39.1761 2.35282 41.7706 1.92765 44.4064C1.86986 44.7647 2.11347 45.102 2.47177 45.1598C2.83007 45.2176 3.16738 44.974 3.22518 44.6157C3.66961 41.8605 3.11776 39.173 2.56581 36.4851C2.31054 35.2419 2.05525 33.9987 1.89847 32.7486C1.29525 26.3851 3.46802 19.7466 7.00418 14.416C11.0189 8.5373 17.5201 4.16562 21.9931 2.93163Z"}),M.jsx("path",{d:"M30.6166 4.39985C38.8671 3.89603 47.1159 7.26314 52.6556 13.7139C52.8921 13.9893 52.8605 14.4042 52.5852 14.6406C52.3099 14.8771 51.895 14.8455 51.6585 14.5702C46.3904 8.43576 38.541 5.23144 30.6927 5.71195C30.6899 5.71212 30.6871 5.71227 30.6843 5.71241C20.7592 6.19265 11.4643 12.9257 8.04547 22.3603C7.92183 22.7016 7.54498 22.8779 7.20375 22.7543C6.86253 22.6306 6.68616 22.2538 6.80981 21.9126C10.4114 11.9735 20.1717 4.90702 30.6166 4.39985Z"}),M.jsx("path",{d:"M54.6576 16.5848C54.4553 16.2836 54.047 16.2033 53.7457 16.4057C53.4444 16.608 53.3642 17.0163 53.5665 17.3176C56.6376 21.8904 57.9074 26.8665 58.4094 32.7717C58.4401 33.1333 58.7582 33.4016 59.1199 33.3708C59.4815 33.3401 59.7497 33.022 59.719 32.6604C59.206 26.6261 57.8965 21.4076 54.6576 16.5848Z"}),M.jsx("path",{d:"M59.2796 35.4504C59.6419 35.4277 59.9539 35.703 59.9765 36.0653C60.2242 40.0279 60.2265 44.5112 59.7881 47.8243C59.7405 48.1841 59.4102 48.4372 59.0504 48.3896C58.6906 48.342 58.4376 48.0117 58.4852 47.6519C58.9077 44.4586 58.91 40.0704 58.6648 36.1473C58.6421 35.785 58.9174 35.473 59.2796 35.4504Z"}),M.jsx("path",{d:"M7.05311 25.5432C7.13829 25.1904 6.92135 24.8354 6.56855 24.7502C6.21576 24.665 5.86071 24.882 5.77553 25.2348C5.2932 27.2325 5.0428 29.2847 5.03288 31.3388C5.02266 33.4559 5.41742 35.5225 5.81234 37.5899C6.1354 39.2811 6.45855 40.9728 6.5602 42.6932C6.69373 44.9531 6.21839 47.2163 5.39698 49.3703C5.26766 49.7094 5.43774 50.0891 5.77685 50.2184C6.11596 50.3477 6.4957 50.1777 6.62502 49.8386C7.49325 47.5617 8.01954 45.1092 7.87221 42.6157C7.77126 40.9071 7.44813 39.2252 7.12512 37.5439C6.73099 35.4925 6.33704 33.442 6.34716 31.3451C6.35659 29.3933 6.59455 27.4425 7.05311 25.5432Z"}),M.jsx("path",{d:"M24.2964 10.94C24.4317 11.2768 24.2683 11.6595 23.9315 11.7947C17.1187 14.5307 12.0027 20.7047 10.959 27.9852C10.523 31.0269 10.9941 34.0398 11.465 37.052C11.7303 38.7483 11.9954 40.4443 12.0985 42.1451C12.3221 45.833 11.902 49.8839 9.50192 53.5696C9.30387 53.8737 8.89677 53.9597 8.59264 53.7617C8.28851 53.5636 8.20251 53.1565 8.40056 52.8524C10.5873 49.4944 11.0012 45.7644 10.7867 42.2246C10.6821 40.499 10.4185 38.7833 10.1552 37.0686C9.68265 33.9923 9.21067 30.9195 9.65804 27.7987C10.7724 20.025 16.221 13.4748 23.4417 10.5751C23.7785 10.4399 24.1612 10.6032 24.2964 10.94Z"}),M.jsx("path",{d:"M47.3662 14.6814C41.9915 9.64741 34.2017 7.89046 27.122 9.4433C26.7675 9.52105 26.5432 9.87147 26.6209 10.226C26.6987 10.5805 27.0491 10.8048 27.4036 10.7271C34.1075 9.25665 41.4426 10.934 46.4677 15.6406C50.7033 19.6077 53.1628 25.38 53.8066 31.6779C53.8435 32.0389 54.1661 32.3017 54.5272 32.2648C54.8883 32.2279 55.151 31.9053 55.1141 31.5442C54.4456 25.0047 51.8822 18.9111 47.3662 14.6814Z"}),M.jsx("path",{d:"M54.9766 34.6738C55.3376 34.6368 55.6604 34.8994 55.6975 35.2604C56.3216 41.337 56.0526 47.9003 55.1104 54.2496C55.0571 54.6086 54.7229 54.8565 54.3639 54.8032C54.0049 54.7499 53.7571 54.4157 53.8103 54.0567C54.7394 47.7957 55.001 41.3439 54.39 35.3947C54.353 35.0336 54.6156 34.7109 54.9766 34.6738Z"}),M.jsx("path",{d:"M32.0659 13.3553C21.9959 13.3553 13.814 21.3892 13.814 31.3219C13.814 32.3829 13.9081 33.4225 14.0876 34.4334C14.1511 34.7907 14.4922 35.029 14.8495 34.9655C15.2069 34.9021 15.4451 34.561 15.3817 34.2036C15.2155 33.2677 15.1283 32.305 15.1283 31.3219C15.1283 22.1352 22.7014 14.6696 32.0659 14.6696C36.2978 14.6696 40.1642 16.1949 43.1319 18.7152C43.4086 18.9501 43.8233 18.9163 44.0582 18.6396C44.2931 18.363 44.2593 17.9483 43.9827 17.7134C40.7847 14.9975 36.6188 13.3553 32.0659 13.3553Z"}),M.jsx("path",{d:"M45.455 20.1635C45.717 19.9123 46.133 19.921 46.3842 20.183C49.2843 23.2072 50.2126 27.9605 50.8269 31.9494C51.5188 36.4426 51.6244 40.826 51.6244 42.8585C51.6244 43.2214 51.3302 43.5156 50.9673 43.5156C50.6044 43.5156 50.3101 43.2214 50.3101 42.8585C50.3101 40.8589 50.2055 36.5497 49.5279 32.1494C48.9577 28.4462 48.1356 23.9082 45.4356 21.0927C45.1844 20.8307 45.1931 20.4147 45.455 20.1635Z"}),M.jsx("path",{d:"M51.4576 46.6219C51.4864 46.2601 51.2165 45.9435 50.8547 45.9146C50.493 45.8858 50.1763 46.1557 50.1474 46.5175C49.8247 50.5654 49.403 54.6088 48.5474 58.3439C48.4663 58.6977 48.6874 59.0502 49.0412 59.1312C49.3949 59.2123 49.7474 58.9912 49.8285 58.6374C50.7067 54.8039 51.134 50.6806 51.4576 46.6219Z"}),M.jsx("path",{d:"M15.1454 36.852C15.5015 36.7819 15.847 37.0137 15.9171 37.3698C17.3066 44.4257 16.3467 50.8355 12.6672 56.4502C12.4682 56.7537 12.0609 56.8385 11.7573 56.6396C11.4538 56.4407 11.369 56.0333 11.5679 55.7298C15.0299 50.4469 15.9617 44.3985 14.6276 37.6238C14.5575 37.2677 14.7893 36.9221 15.1454 36.852Z"}),M.jsx("path",{d:"M32.0659 17.631C25.5291 17.631 19.1165 22.691 18.462 29.0504C18.1754 31.8345 18.578 34.5769 18.9807 37.3204C19.3323 39.7159 19.684 42.1124 19.5772 44.5381C19.3328 50.0898 17.7039 54.6726 14.905 58.4471C14.6888 58.7386 14.7499 59.1502 15.0414 59.3663C15.333 59.5825 15.7445 59.5214 15.9607 59.2299C18.9293 55.2266 20.6354 50.386 20.8903 44.5959C20.9966 42.1811 20.6438 39.7923 20.2912 37.4051C19.888 34.6752 19.4851 31.9473 19.7694 29.1849C20.3444 23.5983 26.0946 18.9453 32.0659 18.9453C34.851 18.9453 42.057 20.4534 44.3492 27.9205C45.7856 32.5998 46.1774 38.9326 45.8295 45.0849C45.4816 51.2364 44.3994 57.12 42.9442 60.8928C42.8136 61.2314 42.9822 61.6118 43.3208 61.7424C43.6594 61.873 44.0398 61.7044 44.1704 61.3658C45.6929 57.4186 46.7895 51.386 47.1417 45.1591C47.4938 38.9329 47.1068 32.4249 45.6056 27.5348C43.0612 19.2461 35.0851 17.631 32.0659 17.631Z"}),M.jsx("path",{d:"M21.9529 56.4512C22.2569 56.6494 22.3426 57.0566 22.1444 57.3606C21.7369 57.9854 21.3784 58.6391 21.0199 59.2928C20.6614 59.9465 20.3028 60.6004 19.8953 61.2253C19.697 61.5293 19.2898 61.615 18.9858 61.4167C18.6819 61.2184 18.5962 60.8113 18.7944 60.5073C19.2019 59.8825 19.5604 59.2288 19.9189 58.5751C20.2774 57.9213 20.636 57.2675 21.0435 56.6426C21.2418 56.3386 21.649 56.2529 21.9529 56.4512Z"}),M.jsx("path",{d:"M27.5799 24.4525C27.8816 24.2508 27.9625 23.8426 27.7608 23.541C27.559 23.2393 27.1509 23.1583 26.8492 23.3601C24.247 25.1006 22.6505 27.494 22.6505 31.0002C22.6505 33.088 23.0203 34.7946 23.3997 36.5449C23.9674 39.1641 24.3524 41.7777 24.2832 44.468C24.1992 47.7349 23.56 50.7201 22.3313 53.564C22.1873 53.8971 22.3407 54.2839 22.6739 54.4278C23.0071 54.5718 23.3938 54.4184 23.5378 54.0852C24.8369 51.0784 25.509 47.9266 25.5971 44.5018C25.6689 41.7062 25.2732 38.9892 24.6845 36.267C24.3042 34.509 23.9648 32.9394 23.9648 31.0002C23.9648 27.9961 25.2863 25.9866 27.5799 24.4525Z"}),M.jsx("path",{d:"M30.1447 22.1436C32.8717 21.5877 35.8061 22.2746 37.966 24.0228C41.8241 27.1455 42.3372 32.8403 42.753 37.4549L42.7742 37.69C43.3115 43.6385 42.6964 49.4163 41.4575 55.2186C41.3817 55.5736 41.0326 55.7999 40.6776 55.7241C40.3227 55.6483 40.0964 55.2991 40.1722 54.9442C41.3926 49.2288 41.9873 43.5885 41.4652 37.8082C41.4479 37.6169 41.4307 37.4228 41.4133 37.2264L41.4131 37.2235C41.0438 33.0534 40.5812 27.8304 37.1392 25.0444C35.2926 23.5498 32.7599 22.9518 30.4073 23.4314C30.0517 23.5039 29.7046 23.2744 29.6321 22.9188C29.5596 22.5632 29.7891 22.2161 30.1447 22.1436Z"}),M.jsx("path",{d:"M40.5287 58.4885C40.6183 58.1368 40.4057 57.7791 40.054 57.6896C39.7023 57.6 39.3446 57.8126 39.2551 58.1643C38.8578 59.7247 38.2456 61.1333 37.4695 62.4301C37.2831 62.7415 37.3844 63.145 37.6958 63.3314C38.0072 63.5178 38.4108 63.4165 38.5972 63.1051C39.4336 61.7075 40.0977 60.1816 40.5287 58.4885Z"}),M.jsx("path",{d:"M37.3152 48.9521C37.6756 48.9948 37.9332 49.3215 37.8906 49.682C37.2699 54.9267 35.8688 59.6042 33.6205 63.6613C33.4446 63.9787 33.0446 64.0934 32.7272 63.9175C32.4097 63.7416 32.295 63.3417 32.4709 63.0242C34.6226 59.1416 35.9811 54.6339 36.5854 49.5275C36.6281 49.1671 36.9548 48.9095 37.3152 48.9521Z"}),M.jsx("path",{d:"M37.1798 30.6556C36.7242 28.2212 34.6349 26.3591 32.0985 26.3591C28.6638 26.3591 26.254 29.8212 27.1032 33.0422C28.54 38.7279 28.7759 44.2077 27.8032 49.4855L27.8025 49.4893C26.9584 54.228 25.3374 58.4908 23.1263 62.1031C22.9368 62.4127 23.0342 62.8172 23.3437 63.0067C23.6533 63.1962 24.0578 63.0988 24.2473 62.7893C26.5488 59.0292 28.2249 54.6109 29.0961 49.7218C30.106 44.2403 29.8558 38.5684 28.3765 32.7168L28.3748 32.7099C27.7378 30.3005 29.5133 27.6734 32.0985 27.6734C33.9641 27.6734 35.5393 29.0459 35.8871 30.8929C36.8436 36.4411 37.3418 41.5862 36.9871 46.016C36.9581 46.3778 37.2279 46.6945 37.5897 46.7235C37.9515 46.7525 38.2682 46.4827 38.2972 46.1209C38.6649 41.5294 38.1459 36.2576 37.1815 30.6648C37.1809 30.6617 37.1804 30.6586 37.1798 30.6556Z"}),M.jsx("path",{d:"M30.1376 59.1171C30.4604 59.283 30.5876 59.6792 30.4217 60.002L28.6804 63.3906C28.5145 63.7134 28.1184 63.8406 27.7956 63.6747C27.4728 63.5088 27.3456 63.1127 27.5114 62.7899L29.2527 59.4013C29.4186 59.0785 29.8147 58.9513 30.1376 59.1171Z"}),M.jsx("path",{d:"M32.5872 31.2892C32.5042 30.9359 32.1505 30.7168 31.7972 30.7998C31.4439 30.8828 31.2247 31.2365 31.3077 31.5898C33.5238 41.0232 33.2194 49.3066 30.5201 56.363C30.3905 56.702 30.5602 57.0819 30.8991 57.2115C31.2381 57.3412 31.618 57.1715 31.7477 56.8326C34.5622 49.475 34.8483 40.9141 32.5872 31.2892Z"})]}),M.jsx("defs",{children:M.jsx("clipPath",{id:"clip0_113_33841",children:M.jsx("rect",{width:"64",height:"64",fill:"white",transform:"translate(0.483887)"})})})]}),uHe=({onClose:t,onReset:e,submitEnrollmentWithPasskey:n})=>{let{user:i}=Xt(),{initLinkWithPasskey:c,linkWithPasskey:m}=et(),s=it(),[g,r]=H.useState(!1),[a,v]=H.useState(!1),[h,u]=H.useState(null),l=H.useMemo((()=>i?.linkedAccounts.filter((p=>p.type==="passkey"))??[]),[i]),o=async p=>{r(!0);try{await n(p)}catch(f){u(f)}finally{r(!1)}},d=async()=>{v(!0),u(null);try{await c();let p=await m(),f=p?.linkedAccounts.filter((y=>y.type==="passkey")).map((y=>y.credentialId))??[];await o(f)}catch(p){u(p)}finally{v(!1)}};return l.length===0||a?M.jsx(cHe,{onReset:e,onClose:t,onClick:d,isCreating:a}):h?M.jsx(pb,{allowlistConfig:s.allowlistConfig,error:h,onBack:()=>u(null),onRetry:()=>u(null)}):M.jsx(hHe,{passkeys:l,isSubmitting:g,isCreating:a,onReset:e,onClose:t,onSubmitEnrollment:()=>o(l.map((p=>p.credentialId))),onAddPasskey:d})};let cHe=({onReset:t,onClose:e,onClick:n,isCreating:i})=>M.jsxs(M.Fragment,{children:[M.jsx(Vt,{backFn:t,onClose:e},"header"),M.jsx(iP,{children:M.jsxs(j_,{children:[M.jsx(sP,{}),M.jsx(W_,{})]})}),M.jsx(ps,{children:"Set up passkey verification"}),M.jsxs(Sb,{children:[M.jsxs(Xh,{children:[M.jsx(Yh,{children:M.jsx(nd,{})}),"Verify with Touch ID, Face ID, PIN, or hardware key"]}),M.jsxs(Xh,{children:[M.jsx(Yh,{children:M.jsx(S1e,{})}),"Takes seconds to set up and use"]}),M.jsxs(Xh,{children:[M.jsx(Yh,{children:M.jsx(c1e,{})}),"Use your passkey to verify transactions and login to your account"]})]}),M.jsx(Cn,{style:{marginTop:"2.25rem"},onClick:n,loading:i,children:"Add a new passkey"}),M.jsx(yr,{})]}),hHe=({onReset:t,onClose:e,onAddPasskey:n,onSubmitEnrollment:i,passkeys:c,isSubmitting:m,isCreating:s})=>{let[g,r]=H.useState(!1),a=g?c.length:c.length>3?2:3;return M.jsxs(M.Fragment,{children:[M.jsx(Vt,{backFn:g?()=>r(!1):t,onClose:e},"header"),!g&&M.jsx(iP,{children:M.jsxs(j_,{children:[M.jsx(sP,{}),M.jsx(W_,{})]})}),M.jsx(ps,{children:"Enable your passkeys for verification"}),M.jsxs(Sb,{children:[c.slice(0,a).map((v=>M.jsxs(dHe,{children:[M.jsx(fHe,{children:vHe(v)}),M.jsxs(pHe,{children:["Last used: ",v.latestVerifiedAt?.toLocaleString()]})]},v.credentialId))),!g&&c.length>3&&M.jsx($B,{onClick:()=>r(!0),children:"View All"})]}),M.jsx(Cn,{style:{marginTop:"1.5rem"},onClick:i,loading:m,children:"Enable passkeys"}),c.length<5&&M.jsx($B,{style:{marginTop:"0.5rem"},onClick:n,disabled:s,children:s?M.jsx($a,{style:{height:"1rem",width:"1rem",borderWidth:2}}):"Add new passkey"}),M.jsx(yr,{})]})},dHe=ae.div.withConfig({displayName:"PasskeyItem",componentId:"sc-23451ce2-0"})(["&&{padding:0.75rem 1rem;text-align:left;border-radius:0.5rem;border:1px solid var(--privy-color-foreground-4);width:100%;}"]),fHe=ae.div.withConfig({displayName:"PasskeyItemTitle",componentId:"sc-23451ce2-1"})(["font-size:0.875rem;line-height:1.375rem;font-weight:500;color:var(--privy-color-foreground-1);"]),pHe=ae.div.withConfig({displayName:"PasskeyItemSubtitle",componentId:"sc-23451ce2-2"})(["font-size:0.75rem;font-weight:400;line-height:1.125rem;color:var(--privy-color-foreground-2);"]),vHe=t=>t.authenticatorName?t.createdWithBrowser?`${t.authenticatorName} on ${t.createdWithBrowser}`:t.authenticatorName:t.createdWithBrowser?t.createdWithOs?`${t.createdWithBrowser} on ${t.createdWithOs}`:`${t.createdWithBrowser}`:"Unknown device";const $B=ae.button.withConfig({displayName:"StyledLink",componentId:"sc-23451ce2-3"})(["&&{width:100%;font-size:0.875rem;line-height:1rem;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;justify-content:center;padding:0.75rem 1rem;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent);:focus{outline:none;box-shadow:none;}}"]),gHe=({appName:t,onComplete:e,onReset:n,onClose:i})=>{let[c,m]=H.useState(""),[s,g]=H.useState(!1),[r,a]=H.useState(null),[v,h]=H.useState("enroll"),{initEnrollmentWithSms:u,submitEnrollmentWithSms:l}=z_(),{data:o}=lt(),d=it();function p(){o?.mfaEnrollmentFlow?.onSuccess(),e()}return r?M.jsx(pb,{allowlistConfig:d.allowlistConfig,error:r,onBack:()=>a(null),onRetry:()=>a(null)}):M.jsxs(M.Fragment,v==="enroll"?{children:[M.jsx(Vt,{backFn:n,onClose:i},"header"),M.jsx(Sa,{style:{marginBottom:"1.5rem"},children:M.jsx(Ac,{})}),M.jsx(ps,{children:"Set up SMS verification"}),M.jsxs(Ca,{children:["We'll text a verification code to this mobile device whenever you use your ",t," ","wallet."]}),M.jsxs(fd,{children:[M.jsx(xb,{onSubmit:async function({qualifiedPhoneNumber:f}){try{await u({phoneNumber:f}),m(f),h("verify")}catch(y){a(y)}},hideRecent:!0}),M.jsxs(M_,{children:["By providing your mobile number, you agree to receive text messages from ",d?.name,". Some carrier charges may apply"]})]}),M.jsx(yr,{})]}:s?{children:[M.jsx(Vt,{onClose:p},"header"),M.jsx(Sa,{style:{marginBottom:"1.5rem"},children:M.jsx(v3,{})}),M.jsx(ps,{children:"SMS verification added"}),M.jsxs(Ca,{children:["From now on, you'll enter the verification code sent to your mobile device whenever you use your ",t," wallet."]}),M.jsx(np,{children:M.jsx(Cn,{onClick:p,children:"Done"})}),M.jsx(yr,{})]}:{children:[M.jsx(Vt,{backFn:function(){v==="verify"?h("enroll"):n()},onClose:i},"header"),M.jsx(Sa,{style:{marginBottom:"1.5rem"},children:M.jsx(Ac,{})}),M.jsx(ps,{children:"Enter enrollment code"}),M.jsxs(fd,{children:[M.jsx(Ex,{onChange:async function(f){try{if(!f)return;await l({phoneNumber:c,mfaCode:f}),g(!0)}catch(y){throw dZ(y)?Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds."):AA(y)?Error("The code you entered is not valid"):TA(y)?Error("You have exceeded the time limit for code entry. Please try again in 30 seconds."):fZ(y)?Error("Verification canceled"):Error("Unknown error")}}}),M.jsxs(Ca,{children:["To continue, enter the 6-digit code sent to ",M.jsx("strong",{children:hpe(c)})]})]}),M.jsx(yr,{})]})},mHe=({size:t,authUrl:e})=>M.jsx(T1,{url:e,squareLogoElement:SGe,size:t,fgColor:"#1F1F1F"}),yHe=({onClose:t,onReset:e,totpInfo:n,submitEnrollmentWithTotp:i,error:c})=>{let[m,s]=H.useState("enroll");return M.jsxs(M.Fragment,m==="enroll"?{children:[M.jsx(Vt,{backFn:e,onClose:t},"header"),M.jsx(Oc,{children:"Scan QR code"}),M.jsx(dd,{children:"Open your authenticator app and scan this code to continue"}),M.jsx($De,{children:M.jsx(mHe,{authUrl:n.authUrl,size:240})}),M.jsx(NA,{style:{textAlign:"left"},children:"Setup key"}),M.jsxs(gb,{style:{marginTop:"0.25rem"},children:[M.jsx(dGe,{children:"".repeat(16)}),M.jsx(zA,{itemName:" ",text:n.secret})]}),M.jsx(Cn,{style:{marginTop:"1rem"},onClick:function(){s("verify")},children:"Continue"}),M.jsx(yr,{})]}:{children:[M.jsx(Vt,{backFn:function(){m==="verify"?s("enroll"):e()},onClose:t},"header"),M.jsx(Sa,{style:{marginBottom:"1.5rem"},children:M.jsx(g3,{})}),M.jsx(Oc,{children:"Enter enrollment code"}),M.jsx(dd,{children:"To continue, enter the 6-digit code generated from your authenticator app"}),M.jsx(fd,{children:M.jsx(Ex,{onChange:async function(g){try{if(!g)return;await i({mfaCode:g})}catch(r){throw dZ(r)?Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds."):AA(r)?Error("The code you entered is not valid"):TA(r)?Error("You have exceeded the time limit for code entry. Please try again in 30 seconds."):fZ(r)?Error("Verification canceled"):Error("Unknown error")}},errorReasonOverride:c?.message})}),M.jsx(yr,{})]})},wHe={component:()=>{let{user:t,enrollInMfa:e,ready:n}=Xt(),[i,c]=H.useState(null),{unenrollWithSms:m,unenrollWithTotp:s,unenrollWithPasskey:g,submitEnrollmentWithTotp:r,initEnrollmentWithPasskey:a,submitEnrollmentWithPasskey:v,initEnrollmentWithTotp:h}=z_(),{data:u,onUserCloseViaDialogOrKeybindRef:l}=lt(),o=it(),{closePrivyModal:d}=et(),{promptMfa:p}=N_(),[f,y]=H.useState(!1),[w,x]=H.useState(null),[b,E]=H.useState(null),C=()=>{d({shouldCallAuthOnSuccess:!0}),e(!1),setTimeout((()=>{c(null),x(null)}),500)},[T,S]=H.useState(!1),[A,P]=H.useState();l.current=C;let R=t?.mfaMethods.includes("sms"),L=!!t?.phone,D=t?.mfaMethods.includes("totp"),$=t?.mfaMethods.includes("passkey"),F=R||D||$,N=t?.linkedAccounts.filter((G=>G.type==="passkey")).map((G=>G.credentialId))??[];function k(){c(null),x(null)}async function j(G=N){S(!0);try{return await a(),await v({credentialIds:G},{removeForLogin:u?.mfaEnrollmentFlow?.shouldUnlinkOnUnenrollMfa}),u?.mfaEnrollmentFlow?.onSuccess(),C()}catch(K){P(K)}finally{S(!1)}}if(H.useEffect((()=>{F&&y(!0)}),[F]),!n||!t||!o)return M.jsxs(M.Fragment,{children:[M.jsx(Vt,{onClose:C},"header"),M.jsx(iP,{children:M.jsx(sHe,{})}),M.jsx(fd,{children:M.jsx($a,{})}),M.jsx(yr,{})]});if(i==="sms")return M.jsxs(M.Fragment,{children:[M.jsx(Vt,{backFn:k,onClose:C},"header"),M.jsx(Sa,{style:{marginBottom:"1.5rem"},children:M.jsx(Ep,{})}),M.jsx(ps,{children:"Remove SMS verification?"}),M.jsxs(Ca,{children:["MFA adds an extra layer of security to your ",o?.name," account. Make sure you have other methods to secure your account."]}),M.jsx(np,{children:M.jsx(Cn,{$warn:!0,onClick:async function(){c(null);try{await m()}catch{c(null)}},children:"Remove"})}),M.jsx(yr,{})]});if(i==="totp")return M.jsxs(M.Fragment,{children:[M.jsx(Vt,{backFn:k,onClose:C},"header"),M.jsx(Sa,{style:{marginBottom:"1.5rem"},children:M.jsx(Ep,{})}),M.jsx(ps,{children:"Remove authenticator app verification?"}),M.jsxs(Ca,{children:["MFA adds an extra layer of security to your ",o?.name," account. Make sure you have other methods to secure your account."]}),M.jsx(np,{children:M.jsx(Cn,{$warn:!0,onClick:async function(){c(null);try{await s()}catch{c(null)}},children:"Remove"})}),M.jsx(yr,{})]});if(i==="passkey"){let G=u?.mfaEnrollmentFlow?.shouldUnlinkOnUnenrollMfa??!0;return M.jsxs(M.Fragment,{children:[M.jsx(Vt,{backFn:k,onClose:C},"header"),M.jsx(Sa,{style:{marginBottom:"1.5rem"},children:M.jsx(Ep,{})}),M.jsx(ps,{children:"Are you sure you want to remove this passkey?"}),M.jsx(Ca,{children:G?"Removing your passkey will remove as both a verification method and a login method.":"Removing your passkey will remove as a verification method."}),M.jsx(np,{children:M.jsx(Cn,{$warn:!0,onClick:async function(){c(null);try{await g({removeForLogin:u?.mfaEnrollmentFlow?.shouldUnlinkOnUnenrollMfa})}catch{c(null)}},children:"Remove"})}),M.jsx(yr,{})]})}if(u.mfaEnrollmentFlow.mfaMethods.length===0&&!F)return M.jsxs(M.Fragment,{children:[M.jsx(Vt,{onClose:C},"header"),M.jsx(Sa,{style:{marginBottom:"1.5rem"},children:M.jsx(nd,{})}),M.jsx(ps,{children:"Add more security"}),M.jsxs(Ca,{children:[o?.name," does not have any verification methods enabled."]}),M.jsx(np,{children:M.jsx(Cn,{onClick:C,children:"Close"})}),M.jsx(yr,{})]});let W=!F&&!f;return W?M.jsxs(M.Fragment,{children:[M.jsx(Vt,{onClose:C},"header"),M.jsx(Sa,{style:{marginBottom:"1.5rem"},children:M.jsx(nd,{})}),M.jsx(ps,{children:"Transaction Protection"}),M.jsx(Ca,{children:"Set up transaction protection to add an extra layer of security to your account"}),M.jsxs(Sb,{children:[M.jsxs(Xh,{children:[M.jsx(Yh,{children:M.jsx(xGe,{})}),"Enable 2-Step verification for your ",o?.name," wallet."]}),M.jsxs(Xh,{children:[M.jsx(Yh,{children:M.jsx(EGe,{})}),"You'll be prompted to authenticate to complete transactions."]})]}),M.jsxs(np,{children:[M.jsx(Cn,{onClick:()=>y(!0),children:"Continue"}),M.jsx(So,{onClick:C,children:"Not now"})]}),M.jsx(yr,{})]}):w==="sms"?M.jsx(gHe,{appName:o?.name||"Privy",onComplete:C,onReset:k,onClose:C}):w==="totp"&&b?M.jsx(yHe,{onClose:C,onReset:k,submitEnrollmentWithTotp:({mfaCode:G})=>(async function(K){try{return P(void 0),await r({mfaCode:K}),u?.mfaEnrollmentFlow?.onSuccess(),C()}catch(z){P(z)}finally{c(null)}})(G),totpInfo:{...b,appName:o?.name||"Privy"}}):w==="passkey"?M.jsx(uHe,{onReset:k,onClose:C,submitEnrollmentWithPasskey:j}):M.jsx(oHe,{showIntro:W,userMfaMethods:t.mfaMethods,appMfaMethods:o.mfa.methods,userHasAuthSms:L,backFn:function(){y(!1)},handleSelectMethod:async function(G){try{await p()}catch(K){return void P(K)}return G==="totp"?(x(G),E(null),void h().then((K=>{E(K)})).catch((()=>{E(null),k()}))):G==="passkey"&&N.length===1?await j():void x(G)},isTotpLoading:w==="totp"&&!b,isPasskeyLoading:T,error:A,onClose:C,setRemovingMfaMethod:async G=>{try{await p()}catch(K){return void P(K)}c(G)}})}},xHe=({providerName:t,ProviderLogo:e,success:n,errorMessage:i,onRetry:c})=>{let m=n?`Successfully connected with ${t}`:i?i.message:`Verifying connection to ${t}`;return M.jsx(Zt,{title:m,subtitle:n?"You're good to go!":i?i.detail:"Just a few moments more",icon:e,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!i},secondaryCta:i?.retryable&&c?{label:"Retry",onClick:c}:void 0,watermark:!0})},FB={component:()=>{let{authenticated:t,logout:e,ready:n,user:i}=Xt(),{setModalData:c,navigate:m,resetNavigation:s}=lt(),g=it(),{getAuthMeta:r,initLoginWithOAuth:a,loginWithOAuth:v,updateWallets:h,setReadyToTrue:u,closePrivyModal:l,createAnalyticsEvent:o}=et(),[d,p]=H.useState(!1),[f,y]=H.useState(void 0),w=r()?.provider||"google",{name:x,component:b}=i8(w,g.customOAuthProviders);return H.useEffect((()=>{v(w).then((()=>{p(!0),u(!0)})).catch((E=>{if(u(!1),E?.privyErrorCode===we.ALLOWLIST_REJECTED)return y(void 0),s(),void m(vb);if(E?.privyErrorCode===we.USER_LIMIT_REACHED)return console.error(new t1(E).toString()),y(void 0),s(),void m(A1);if(E?.privyErrorCode===we.USER_DOES_NOT_EXIST)return y(void 0),s(),void m(S1);if(E?.privyErrorCode===we.ACCOUNT_TRANSFER_REQUIRED&&E.data?.data?.nonce)return y(void 0),s(),c({accountTransfer:{nonce:E.data?.data?.nonce,account:E.data?.data?.subject,displayName:E.data?.data?.account?.displayName,linkMethod:r()?.provider,embeddedWalletAddress:E.data?.data?.otherUser?.embeddedWalletAddress,oAuthUserInfo:E.data?.data?.otherUser?.oAuthUserInfo}}),void m(Nd);let{retryable:C,detail:T}=(function(S,A,P){let R={detail:"",retryable:!1},L=mK(A);if(S?.privyErrorCode===we.LINKED_TO_ANOTHER_USER&&(R.detail="This account has already been linked to another user."),S?.privyErrorCode===we.INVALID_CREDENTIALS&&(R.retryable=!0,R.detail="Something went wrong. Try again."),S.privyErrorCode===we.OAUTH_USER_DENIED&&(R.detail=`Retry and check ${L} to finish connecting your account.`,R.retryable=!0),S?.privyErrorCode===we.TOO_MANY_REQUESTS&&(R.detail="Too many requests. Please wait before trying again."),S?.privyErrorCode===we.TOO_MANY_REQUESTS&&S.message.includes("provider rate limit")){let D=i8(A,P).name;R.detail=`Request limit reached for ${D}. Please wait a moment and try again.`}if(S?.privyErrorCode===we.OAUTH_ACCOUNT_SUSPENDED){let D=i8(A,P).name;R.detail=`Your ${D} account is suspended. Please try another login method.`}return S?.privyErrorCode===we.CANNOT_LINK_MORE_OF_TYPE&&(R.detail="You cannot authorize more than one account for this user."),S?.privyErrorCode===we.OAUTH_UNEXPECTED&&A.startsWith("privy:")&&(R.detail="Something went wrong. Please try again."),R})(E,w,g.customOAuthProviders);y({retryable:C,detail:T,message:"Authentication failed"})})).finally((()=>{eT()}))}),[x,w]),H.useEffect((()=>{if(n&&t&&d&&i){if(g?.legal.requireUsersAcceptTerms&&!i.hasAcceptedTerms){let E=setTimeout((()=>{m(kd)}),Yn);return()=>clearTimeout(E)}if(Uc(i,g.embeddedWallets)){let E=setTimeout((()=>{c({createWallet:{onSuccess:()=>{},onFailure:C=>{console.error(C),o({eventName:"embedded_wallet_creation_failure_logout",payload:{error:C,provider:w,screen:"OAuthStatusScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),m(Cu)}),Yn);return()=>clearTimeout(E)}{let E=setTimeout((()=>l({shouldCallAuthOnSuccess:!0,isSuccess:!0})),Yn);return h(),()=>clearTimeout(E)}}}),[n,t,d,i]),M.jsx(xHe,{providerName:x,ProviderLogo:b,success:d,errorMessage:f,onRetry:f?.retryable?()=>{eT(),a(w),y(void 0)}:void 0})}},bHe=H.forwardRef(((t,e)=>{let[n,i]=H.useState(""),[c,m]=H.useState(""),[s,g]=H.useState(!1),{authenticated:r,user:a}=Xt(),{initUpdateEmail:v}=et(),{navigate:h,setModalData:u,currentScreen:l}=lt(),{enabled:o,token:d}=As(),p=it(),f=$K(n)&&(p.disablePlusEmails&&n.includes("+")?(c||m("Please enter a valid email address without a '+'."),!1):(c&&m(""),!0)),y=s||!f,w=()=>{!o||d||r?(async x=>{if(!a?.email)throw Error("User is required to have an email address to update it.");g(!0);try{await v({oldAddress:a.email.address,newAddress:n,captchaToken:x}),h(xu)}catch(b){u({errorModalData:{error:b,previousScreen:l||Ni}}),h(Xn)}g(!1)})(d):(u({captchaModalData:{callback:x=>{if(!a?.email)throw Error("User is required to have an email address to update it.");return v({oldAddress:a.email.address,newAddress:n,captchaToken:x})},userIntentRequired:!1,onSuccessNavigateTo:xu,onErrorNavigateTo:Xn}}),h(Ao))};return M.jsxs(M.Fragment,{children:[M.jsxs(EHe,{children:[c&&M.jsx(hd,{style:{marginTop:"0.25rem",textAlign:"left"},children:c}),M.jsxs(CHe,{$error:!!c,children:[M.jsx(ho,{children:M.jsx(s3,{})}),M.jsx("input",{ref:e,id:"email-input",type:"email",placeholder:"your@email.com",onChange:x=>i(x.target.value),onKeyUp:x=>{x.key==="Enter"&&w()},value:n,autoComplete:"email"}),t.stacked?null:M.jsx(tb,{isSubmitting:s,onClick:w,disabled:y,children:"Submit"})]})]}),t.stacked?M.jsx(Cn,{loadingText:null,loading:s,disabled:y,onClick:w,style:{width:"100%"},children:"Submit"}):null]})}));let EHe=UZ,CHe=BZ;const SHe=({title:t="Update your email",subtitle:e="Add the email address you'd like to use going forward. We'll send you a confirmation code"})=>M.jsx(Zt,{title:t,subtitle:e,icon:h7,watermark:!0,children:M.jsx(rZ,{children:M.jsx(bHe,{stacked:!0})})}),THe={component:()=>M.jsx(SHe,{})},AHe=({title:t="Update your phone number",subtitle:e="Add the phone number you'd like to use going forward. We'll send you a confirmation code",onSubmit:n,isSubmitting:i=!1})=>{let[c,m]=H.useState(null);return M.jsx(Zt,{title:t,subtitle:e,icon:Ac,primaryCta:{label:i?"Submitting":"Update",onClick:async()=>{c?.qualifiedPhoneNumber&&await n(c)},disabled:!c?.isValid||i},watermark:!0,children:M.jsx(xb,{onChange:s=>{m(s)},onSubmit:async()=>{},noIncludeSubmitButton:!0,hideRecent:!0})})},PHe={component:()=>{let{currentScreen:t,data:e,navigate:n,setModalData:i}=lt(),{user:c}=Xt(),{initUpdatePhone:m}=et(),[s,g]=H.useState(!1);return M.jsx(AHe,{onSubmit:async r=>{g(!0);try{if(!c?.phone?.number)throw Error("User is required to have an phone number to update it.");await m(c?.phone?.number,r.qualifiedPhoneNumber),n(xu)}catch(a){i({errorModalData:{error:a,previousScreen:e?.errorModalData?.previousScreen||t||aP}}),n(Xn)}finally{g(!1)}},isSubmitting:s})}};function IHe({subscribe:t,getExternalJwt:e,enabled:n=!0,onAuthenticated:i,onUnauthenticated:c,onError:m}){let{client:s,onCustomAuthAuthenticated:g}=et(),{logout:r,authenticated:a,ready:v}=A_();if(!s)throw new ge("`useSyncJwtBasedAuthState` must be used within a `PrivyProvider`");let[h,u]=H.useState({status:"initial"}),l=H.useRef(),o=H.useRef(!1),d=H.useRef(e);H.useEffect((()=>{d.current=e}),[e]);let p=H.useRef(i);H.useEffect((()=>{p.current=i}),[i]);let f=H.useRef(c);H.useEffect((()=>{f.current=c}),[c]);let y=H.useRef(m);return H.useEffect((()=>{y.current=m}),[m]),H.useEffect((()=>{if(!n||!v)return;let w=async()=>{if(!o.current){o.current=!0;try{u({status:"loading"});let x=await d.current();if(l.current!==void 0&&l.current===x)return void u({status:"done"});if(!x)return a&&(await r(),f.current?.()),l.current=x,void u({status:"done"});s.startAuthFlow(new R_(x));let{user:b,isNewUser:E=!1}=await s.authenticate();if(!b)throw new ge("Failed to sync with custom auth provider");p.current?.({user:b,isNewUser:E}),g(b,E),l.current=x,u({status:"done"})}catch(x){if(console.warn(x),await r().catch((()=>{})),f.current?.(),x instanceof Vs&&x.privyErrorCode===we.LINKED_TO_ANOTHER_USER)return u({status:"initial"}),void setTimeout((()=>{w()}),0);y.current?.(x),u({status:"error",error:x})}finally{o.current=!1}}};return w(),t(w)}),[t,s,g,a,r,n,v]),n?{state:h}:{state:{status:"not-enabled"}}}let RHe=p0((()=>({jwtAuthFlowState:{status:"not-enabled"}})));function OHe({customAuth:t}){let{jwtAuthFlowState:e}=(function({customAuth:n}){let i=Ld(),c=H.useRef(),m=H.useCallback((r=>(c.current=r,()=>{c.current=void 0})),[]),s=n?.getCustomAccessToken??(()=>Promise.resolve(void 0)),{state:g}=IHe({enabled:n?.enabled===!0,subscribe:m,getExternalJwt:s,onAuthenticated:({user:r,isNewUser:a})=>{i("login","onComplete",{user:r,isNewUser:a,wasAlreadyAuthenticated:!1,loginMethod:"custom",loginAccount:null}),i("customAuth","onAuthenticated",{user:r})},onUnauthenticated:()=>{i("customAuth","onUnauthenticated")},onError:r=>{i("login","onError",r.privyErrorCode||we.UNKNOWN_AUTH_ERROR)}});return H.useEffect((()=>{(async()=>n&&!n.isLoading&&c.current?.())()}),[n?.enabled,n?.getCustomAccessToken,n?.isLoading]),{jwtAuthFlowState:g}})({customAuth:t});return H.useEffect((()=>{RHe.setState({jwtAuthFlowState:e})}),[e]),null}const G_=H.createContext(!1);let mp,V_,H_,Y_,X_,K_;async function In(){return mp?mp.getAccessToken():Promise.resolve(Ct.get(sw)||Ct.get(Zv)||null)}const MHe=(t,e)=>V_(t,e),$He=(t,e)=>H_(t,e),FHe=(t,e)=>Y_(t,e),LHe=(t,e)=>X_(t,e),DHe=t=>K_(t),NHe=({config:t,...e})=>{var n;if((()=>{if(H.useContext(G_))throw new ge("Multiple PrivyProvider instances found","Found multiple instances of PrivyProvider, ensure there is only one mounted in your application tree.")})(),typeof window<"u"&&0>["localhost","127.0.0.1"].indexOf(window.location.hostname)&&window.location.protocol!=="https:"&&window.location.protocol!=="chrome-extension:")throw new ge("Embedded wallet is only available over HTTPS");if(typeof(n=e.appId)!="string"||n.length!==25)throw new ge("Cannot initialize the Privy provider with an invalid Privy app ID");mp||(mp=new YGe({appId:e.appId,appClientId:e.clientId,apiUrl:e.apiUrl}));let i=Object.assign({},t),c=H.useMemo((()=>new ape({appId:e.appId,clientId:e.clientId,storage:Ct,baseUrl:e.apiUrl,sdkVersion:"react-auth:3.4.1"})),[]);return M.jsx(CLe,{client:c,legacyClient:mp,appClientId:e.clientId,clientConfig:i,children:M.jsx(Mke,{children:M.jsx(kHe,{...e,client:mp,privy:c})})})};let kHe=t=>{let e=t.client,n=t.privy,i=DA();xVe();let[c,m]=H.useState(!1),s=Dm((ne=>ne.inProgressMfaFlow)),[g,r]=H.useState(!1),[a,v]=H.useState(!1),[h,u]=H.useState(null),[l,o]=H.useState([]),[d,p]=H.useState(void 0),[f,y]=H.useState(!1),[w,x]=H.useState(null),[b,E]=H.useState(!1),[C,T]=H.useState({status:"disconnected",connectedWallet:null,connectError:null,connector:null,connectRetry:Me}),[S,A]=H.useState({status:"initial"}),[P,R]=H.useState({status:"initial"}),[L,D]=H.useState({status:"initial"}),[$,F]=H.useState({status:"initial"}),[N,k]=H.useState({status:"initial"}),[j,W]=H.useState({status:"initial"}),[G,K]=H.useState(null),z=it(),X=HK(),[U,Z]=H.useState({}),[V,J]=H.useState(null),Q=H.useRef(null),[ee,te]=H.useState(!1),[ie,le]=H.useState(!1),de=H.useRef(null),fe=H.useRef(null),oe=H.useRef(PLe),[Ee,ye]=H.useState(!1);e.onStoreCustomerAccessToken=ne=>{ne&&ke(oe,"accessToken","onAccessTokenGranted",{accessToken:ne})},e.onDeleteCustomerAccessToken=()=>{u(null),v(!1),ke(oe,"accessToken","onAccessTokenRemoved")};let Ce=H.useRef(null),Ie=H.useRef(null),je=H.useRef(!1),Re=({showWalletUIs:ne})=>je.current?je.current:ne!==void 0?!ne:!z.embeddedWallets.showWalletUIs,Fe=ne=>{x(ne),setTimeout((()=>{m(!0)}),15)};H.useEffect((()=>{if(!h)return void e.connectors?.removeEmbeddedWalletConnectors();let ne=nl(h),se=XW(h),ue=RC(h);ne&&se.length||e.connectors?.removeEmbeddedWalletConnectors(),ue.length||e.connectors?.removeImportedWalletConnectors(),e.connectors?G?(ne&&e.connectors.addEmbeddedWalletConnectors({walletProxy:G,user:h,embeddedWallets:se,defaultChain:z.defaultChain,appId:t.appId,privyClient:n}),ue.forEach((pe=>e.connectors?.addImportedWalletConnector(G,pe.address,z.defaultChain,t.appId)))):console.debug("Failed to add embedded wallet connector: Wallet proxy not initialized"):console.debug("Failed to add embedded wallet connector: Client connectors not initialized")}),[G,h]),H.useEffect((()=>{G&&Q.current?.(G)}),[G]);let Ae=H.useCallback(((ne,se)=>{u(ne),y(se),v(!0),le(!0)}),[]);H.useEffect((()=>{ie&&G&&h&&(async()=>{let ne=$A(h,z.embeddedWallets.ethereum.createOnLogin),se=FA(h,z.embeddedWallets.solana.createOnLogin),ue=await In();if(ue){if(ne&&se){let pe=await G.create({accessToken:ue});return await G.createSolana({accessToken:ue,ethereumAddress:pe?.address}),void le(!1)}if(se)return await G.createSolana({accessToken:ue,ethereumAddress:nl(h)?.address}),await pt.refreshSessionAndUser(),void le(!1);if(ne)return await G.create({accessToken:ue}),void le(!1)}})().catch(console.error)}),[ie&&G&&h]),H.useEffect((()=>{if(z.externalWallets.solana.connectors)return z.externalWallets.solana.connectors.onMount(),()=>z.externalWallets.solana.connectors?.onUnmount()}),[z.externalWallets.solana.connectors]),H.useEffect((()=>{!g&&X&&(async function(){let ne,se=Xe(),ue=st(),pe=Iee();e.initializeConnectorManager({walletConnectCloudProjectId:z.walletConnectCloudProjectId,rpcConfig:z.rpcConfig,chains:z.chains,defaultChain:z.defaultChain,store:pe,walletList:z.appearance.walletList,shouldEnforceDefaultChainOnConnect:z.shouldEnforceDefaultChainOnConnect,externalWalletConfig:z.externalWallets,appName:z.name??"Privy",walletChainType:z.appearance.walletChainType,setBaseAccountSdk:p}),e.connectors?.on("connectorInitialized",(()=>{ne&&clearTimeout(ne);let De=e.connectors.walletConnectors.length,Ye=e.connectors.walletConnectors.reduce(((jt,zt)=>jt+(zt.initialized?1:0)),0);Ye===De?ye(!0):ne=setTimeout((()=>{console.debug({message:"Unable to initialize all expected connectors before timeout",initialized:Ye,expected:De}),ye(!0)}),1500)})),e.connectors?.initialize().then((()=>{Je()}));let be=await e.getAuthenticatedUser(),Pe=!!be;z.legal.requireUsersAcceptTerms&&be&&!be.hasAcceptedTerms?(await e.logout(),pt.setReadyToTrue(!0),ke(oe,"logout","onSuccess")):(z.customAuth?.enabled||(v(!!be),be&&ke(oe,"login","onComplete",{user:be,isNewUser:!1,wasAlreadyAuthenticated:!0,loginMethod:null,loginAccount:null}),u(be)),se?Ie.current=Pe?"link":"login":ue&&!Pe?(Ie.current="login",Z({telegramAuthModalData:{seamlessAuth:!0}}),Fe(dw)):pt.setReadyToTrue(!!be))})()}),[e,V,g,X]),H.useEffect((()=>{if(g){if(!h||!h.linkedAccounts.find((ne=>ne.type==="wallet"&&ne.walletClientType==="privy")))return void te(!!G);if([...l].some((ne=>ne.walletClientType==="privy")))return void te(!0);te(!!G)}}),[g,h,l,G]),H.useEffect((()=>{e.connectors?.setWalletList(z.appearance.walletList)}),[z.appearance.walletList.join()]);let Xe=()=>{let ne=IGe();return ne.inProgress&&ne.popupFlow?window.opener.location.origin!==window.location.origin?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Origins between parent and child windows do not match."}):ne.authorizationCode==="error"?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Something went wrong. Try again."}):void window.opener.postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:ne.stateCode,authorizationCode:ne.authorizationCode}):(ne.inProgress&&(function(se){return se.startsWith("privy:")})(ne.provider)&&!ne.popupFlow&&(new BroadcastChannel(PB).postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:ne.stateCode,authorizationCode:ne.authorizationCode}),window.close()),!!ne.inProgress&&!!ne.withPrivyUi&&(e.startAuthFlow(new tp({...ne,customOAuthRedirectUrl:z.customOAuthRedirectUrl})),Fe(FB),!0))},st=()=>{let ne=pLe();if(!ne||!z.loginMethods.telegram||!z.loginConfig.telegramAuthConfiguration?.seamlessAuthEnabled)return;let se=new Iv;return e.startAuthFlow(se),ne.flowType==="login-url"&&(se.meta.telegramWebAppData=void 0,se.meta.telegramAuthResult=ne.authData),ne.flowType==="web-app"&&(se.meta.telegramAuthResult=void 0,se.meta.telegramWebAppData=ne.authData),!0},vt=async(ne,se,ue,pe)=>{if(ne!=="solana_adapter")Ge(await e.connectors?.createEthereumWalletConnector({connectorType:ne,walletClientType:se})||null,se,ue,pe);else{let be=e.connectors?.findSolanaWalletConnector(se);if(!be)return;Ge(be,se,ue,pe)}};async function Ge(ne,se,ue,pe){if(!ne)return T({status:"disconnected",connectedWallet:null,connectError:new Dn("Unable to connect to wallet."),connector:null,connectRetry:Me}),pe?.(null,ue);T({status:"disconnected",connectedWallet:null,connectError:null,connector:ne,connectRetry:Me}),ne instanceof Ip&&se&&await ne.resetConnection(se),T({connector:ne,status:"connecting",connectedWallet:null,connectError:null,connectRetry:()=>Ge(ne,se,ue,pe)});try{let be=await ne.connect({showPrompt:!0});if((!be||uc(be))&&z.shouldEnforceDefaultChainOnConnect&&!z.chains.find((Pe=>Pe.id===Number(be?.chainId.replace("eip155:",""))))&&(be?.connectorType!=="wallet_connect_v2"||be?.walletClientType!=="metamask")){T((Pe=>({...Pe,connector:ne,status:"switching_to_supported_chain",connectedWallet:null,connectError:null,connectRetry:Me})));try{await be?.switchChain(z.defaultChain.id),be&&(be.chainId=vg(sr(z.defaultChain.id)))}catch{console.warn(`Unable to switch to default chain: ${z.defaultChain.id}`)}}return T((Pe=>({...Pe,status:"connected",connectedWallet:be,connectError:null,connectRetry:Me}))),be&&ke(oe,"connectWallet","onSuccess",{wallet:be}),pe?.(be,ue)}catch(be){return be instanceof Di?(console.warn(be.cause?be.cause:be.message),ke(oe,"connectWallet","onError",be.privyErrorCode||we.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(be),ke(oe,"connectWallet","onError",we.UNKNOWN_CONNECT_WALLET_ERROR)),T((Pe=>({...Pe,status:"disconnected",connectedWallet:null,connectError:be}))),pe?.(null,ue)}}let nt=async(ne,se,ue)=>{if(ne===null||!uc(ne))return;let pe=new Ap(e,ne,se,ue);e.startAuthFlow(pe)},St=async(ne,se,ue,pe="plain")=>{let be=i(HZ);if(pe==="transaction"&&!be)throw new ge("useSolanaLedger plugin hook must be mounted");if(ne===null||!wLe(ne))return;let Pe=new hx(ne,e,se,ue,pe,be);e.startAuthFlow(Pe)},Je=()=>{let ne=new URLSearchParams(window.location.search),se=ne.get("privy_connector"),ue=ne.get("privy_wallet_client"),pe=ne.get("privy_connect_only")==="true";if(!se||!ue)return;let be=WK({connectorType:se,walletClientType:ue});if(!be||!be.isInstalled)return Fe(iHe);if(!e.connectors)throw new ge("Connector not initialized");Fe(pe?yT:cu);let Pe=new URL(window.location.href);Pe.searchParams.delete("privy_connector"),Pe.searchParams.delete("privy_wallet_client"),Pe.searchParams.delete("privy_connect_only"),window.history.pushState({},"",Pe),vt(se,ue,void 0,pe?void 0:se==="solana_adapter"?St:nt)};H.useEffect((()=>{g&&a&&h===null&&e.getAuthenticatedUser().then(u)}),[g,a,h,e]);let He=ne=>{if(!a)throw ke(oe,"linkAccount","onError",we.MUST_BE_AUTHENTICATED,{linkMethod:ne}),new ge("User must be authenticated before linking an account.")},_e=ne=>{if(!a||!h)return!1;if(ne.walletClientType==="privy")return!0;for(let se of h.linkedAccounts)if(se.type==="wallet"&&se.address===ne.address&&se.walletClientType!=="privy")return!0;return!1},ht=()=>{o((ne=>{let se=e.connectors?.wallets.filter(uc).map((ue=>({...ue,linked:_e(ue),loginOrLink:async()=>{if(!await ue.isConnected())throw new ge("Wallet is not connected");if(ue.connectorType==="embedded"&&ue.walletClientType==="privy")throw new ge("Cannot link or login with embedded wallet");(async pe=>{let be;if(!e.connectors)throw new ge("Connector not initialized");be=pe.type==="ethereum"?e.connectors.findWalletConnector(pe.connectorType,pe.walletClientType)||null:e.connectors.findSolanaWalletConnector(pe.walletClientType)||null,T((Pe=>({...Pe,connector:be,status:"connected",connectedWallet:pe,connectError:null,connectRetry:Me}))),z.captchaEnabled&&!a?(Z({captchaModalData:{callback:Pe=>uc(pe)?nt(pe,Pe):St(pe,Pe),userIntentRequired:!1,onSuccessNavigateTo:cu,onErrorNavigateTo:Xn}}),Fe(Ao)):(uc(pe)?await nt(pe):await St(pe),Fe(cu))})(ue)},fund:async pe=>{await pt.fundWallet(ue.address,pe)},unlink:async()=>{if(!a)throw new ge("User is not authenticated.");if(ue.connectorType==="embedded"&&ue.walletClientType==="privy")throw new ge("Cannot unlink an embedded wallet");u(await e.unlinkEthereumWallet(ue.address))}})))||[];return BK(ne,se)?ne:se}))};H.useEffect((()=>{ht()}),[h?.linkedAccounts,a,g]),H.useEffect((()=>{if(g){if(!e.connectors)throw new ge("Connector not initialized");ht(),e.connectors.on("walletsUpdated",ht)}}),[g]),H.useEffect((()=>{[...z.loginMethodsAndOrder?.primary??[],...z.loginMethodsAndOrder?.overflow??[]].filter((ne=>ne.startsWith("privy:"))).forEach((ne=>e.getCrossAppProviderDetails(ne.replace("privy:",""))))}),[!!e]);let Dt=({transaction:ne,sponsor:se,uiOptions:ue,fundWalletConfig:pe,address:be,signOnly:Pe})=>new Promise((async(De,Ye)=>{let{requesterAppId:jt}=ue||{},zt=Pe?"signTransaction":"sendTransaction",Jt=be?Ql(h,be):nl(h);if(!Jt&&be){let Yt=Q4(l,be);if(Yt){if(se)throw new ge("Cannot sponsor transactions for externally connected wallet.");try{let Lt=await Yt.getEthereumProvider(),Ut={...ne,from:be,chainId:ne.chainId||Number(Yt.chainId.replace("eip155:","")),value:ne.value!==void 0?sr(ne.value):void 0},Kn=await Lt.request({method:zt==="sendTransaction"?"eth_sendTransaction":"eth_signTransaction",params:[Ut]});return ke(oe,zt,"onSuccess",{hash:Kn}),void De({hash:Kn})}catch(Lt){return ke(oe,zt,"onError",we.TRANSACTION_FAILURE),void Ye(Lt??new Ri("Unable to "+zt+Lt))}}}if(!Jt)return ke(oe,zt,"onError",we.EMBEDDED_WALLET_NOT_FOUND),void Ye(new ge("No embedded or connected wallet found for address."));if(!a||!h)return ke(oe,zt,"onError",we.MUST_BE_AUTHENTICATED),void Ye(Error("User must be authenticated before signing with a Privy wallet"));let en=Jt.address,pn=Jt.walletIndex??0,{entropyId:Et,entropyIdVerifier:bn}=io(h,Jt),tn=Qn.wallets.find((Yt=>Yt.walletClientType==="privy"&&Sr(Yt.address)===Sr(en)));if(!tn)return ke(oe,zt,"onError",we.EMBEDDED_WALLET_NOT_FOUND),void Ye(Error("Must have a Privy wallet before signing"));let wr=await tn.getEthereumProvider(),cr=await wr.request({method:"eth_chainId"}),Vr=ne.chainId?Number(ne.chainId):S_(cr);(Yt=>{if(!z.chains.map((Lt=>Lt.id)).includes(Yt))throw new Dn(`Chain ID ${Yt} is not supported. It must be added to the config.supportedChains property of the PrivyProvider.`,we.UNSUPPORTED_CHAIN_ID)})(Vr);let mn={...ne,from:ne.from??en,chainId:Vr},Hr=await In();if(!Hr||!G)return ke(oe,zt,"onError",we.EMBEDDED_WALLET_NOT_FOUND),void Ye(Error("Must have valid access token and Privy wallet to send transaction"));let ri=Qp(mn.chainId,z.chains,z.rpcConfig,{appId:t.appId}),Tl=Us(Jt),zc=async({transactionRequest:Yt})=>{try{let Lt;if(!await pt.recoverEmbeddedWallet({address:en}))throw ke(oe,zt,"onError",we.UNKNOWN_CONNECT_WALLET_ERROR),Ye(Error("Unable to connect to wallet")),Error("Unable to connect to wallet");if(se){let Ut=await(async({transactionRequest:Kn})=>{if(!Tl)throw new ge("Sponsoring is only supported for wallets on the TEE stack");if(Pe)throw new ge("Cannot sponsor a sign transaction request");let Ji=$o=>$o==null?void 0:sr($o),Ps=await ro(n,(async({message:$o})=>await G.signWithUserSigner({accessToken:Hr,requesterAppId:jt,message:$o})),{chain_type:"ethereum",method:"eth_sendTransaction",caip2:vg(sr(Kn.chainId)),sponsor:!0,params:{transaction:{from:Kn.from,to:Kn.to,chain_id:Ji(Kn.chainId),data:Li(Kn.data)?Kn.data?Kn.data:sr(Uint8Array.from(Kn.data)):void 0,value:Ji(Kn.value)}},wallet_id:Jt.id});if(Ps.data&&"hash"in Ps.data)return Ps.data.hash;throw new Ri("Unable to sign transaction")})({transactionRequest:Yt});return ke(oe,"sendTransaction","onSuccess",{hash:Ut}),Ut}if(Tl){let Ut=Ji=>Ji==null?void 0:sr(Ji),Kn=await ro(n,(async({message:Ji})=>await G.signWithUserSigner({accessToken:Hr,requesterAppId:jt,message:Ji})),{chain_type:"ethereum",method:"eth_signTransaction",params:{transaction:{from:Yt.from,to:Yt.to,nonce:Ut(Yt.nonce),chain_id:Ut(Yt.chainId),data:Li(Yt.data)?Yt.data?Yt.data:sr(Uint8Array.from(Yt.data)):void 0,value:Ut(Yt.value),type:Yt.type,gas_limit:Ut(Yt.gasLimit??Yt.gas),gas_price:Ut(Yt.gasPrice??Yt.gas),max_fee_per_gas:Ut(Yt.maxFeePerGas),max_priority_fee_per_gas:Ut(Yt.maxPriorityFeePerGas)}},wallet_id:Jt.id});if(!Kn.data||!("signed_transaction"in Kn.data))throw new Ri("Unable to sign transaction");Lt=Kn.data.signed_transaction}else Lt=await(async function({accessToken:Ut,entropyId:Kn,entropyIdVerifier:Ji,transactingWalletIndex:Ps,walletProxy:$o,transactionRequest:Ud,requesterAppId:Su}){return(await $o.rpc({entropyId:Kn,entropyIdVerifier:Ji,hdWalletIndex:Ps??0,chainType:"ethereum",accessToken:Ut,requesterAppId:Su,request:{method:"eth_signTransaction",params:[Ud]}})).response.data})({accessToken:Hr,entropyId:Et,entropyIdVerifier:bn,transactingWalletIndex:pn,walletProxy:G,transactionRequest:Yt,requesterAppId:jt});if(Pe)return ke(oe,"signTransaction","onSuccess",{signature:Lt}),Lt;{let Ut=await ri.sendRawTransaction({serializedTransaction:Lt});return ke(oe,"sendTransaction","onSuccess",{hash:Ut}),Ut}}catch(Lt){throw ke(oe,zt,"onError",we.TRANSACTION_FAILURE),Lt}};if(Re({showWalletUIs:ue?.showWalletUIs})){let Yt=Pe||se?mn:await vx(mn,ri,mn.from);try{let Lt=await zc({transactionRequest:Yt});Pe?ke(oe,"signTransaction","onSuccess",{signature:Lt}):ke(oe,"sendTransaction","onSuccess",{hash:Lt}),De({hash:Lt})}catch(Lt){ke(oe,zt,"onError",we.TRANSACTION_FAILURE),Ye(Lt)}}else{let Yt={connectingWalletAddress:en,recoveryMethod:Jt.recoveryMethod,entropyId:Et,entropyIdVerifier:bn,onCompleteNavigateTo:nJ,isUnifiedWallet:Tl,onFailure:Ut=>{ke(oe,zt,"onError",we.UNKNOWN_CONNECT_WALLET_ERROR),Ye(Ut)}},Lt=(Ut=>!!Ut.fundingConfig&&T_(Ut.fundingConfig.options).length>=1)(z)?hB({address:en,appConfig:z,fundWalletConfig:pe,methodScreen:Pa,chainIdOverride:mn.chainId,comingFromSendTransactionScreen:!0}):void 0;Z({connectWallet:Yt,sendTransaction:{transactionRequest:mn,transactingWalletIndex:pn,transactingWalletAddress:en,entropyId:Et,entropyIdVerifier:bn,signOnly:Pe,scanTransaction:async()=>{let Ut=await vx(mn,ri,mn.from);return await e.scanTransaction({metadata:{domain:z.embeddedWallets.transactionScanning.domain},chain_id:Ut.chainId.toString(),request:{method:"eth_sendTransaction",params:[{from:Ut.from,to:Ut.to,value:Ut.value?.toString(),gas:Ut.gas?.toString(),gasPrice:Ut.gasPrice?.toString(),nonce:Ut.nonce?.toString(),data:Ut.data}]}})},getIsSponsored:async()=>!!se,onConfirm:({transactionRequest:Ut})=>zc({transactionRequest:Ut}),onSuccess:Ut=>{Pe?ke(oe,"signTransaction","onSuccess",{signature:Ut.hash}):ke(oe,"sendTransaction","onSuccess",{hash:Ut.hash}),De(Ut)},onFailure:Ut=>{ke(oe,zt,"onError",we.TRANSACTION_FAILURE),Ye(Ut)},uiOptions:ue||{},fundWalletConfig:pe,requesterAppId:jt},funding:Lt}),Fe(Fv)}}));function ut(){return new Promise((async(ne,se)=>{let ue=await In();if(!ue||!G)throw Error("Must have valid access token to enroll in MFA");try{await G.verifyMfa({accessToken:ue}),ne()}catch(pe){se(pe)}}))}let xt=ne=>ne?.linkedAccounts.filter((se=>se.latestVerifiedAt!==null&&!(se.type==="wallet"&&se.walletClientType==="privy"))).sort(((se,ue)=>ue.latestVerifiedAt.getTime()-se.latestVerifiedAt.getTime()))[0],tt=ne=>{let se=h?.linkedAccounts.filter((be=>be.type===ne)).length??0,{displayName:ue,loginMethod:pe}=fb(ne);if(ne==="passkey"&&se>=5||ne!=="passkey"&&se>=1)throw ke(oe,"linkAccount","onError",we.CANNOT_LINK_MORE_OF_TYPE,{linkMethod:pe}),new ge(`User already has an account of type ${ue} linked.`)};async function fn({showAutomaticRecovery:ne=!1,legacySetWalletPasswordFlow:se=!1}){x(null);let ue=se?"setWalletPassword":"setWalletRecovery";if(!a||!h)throw ke(oe,ue,"onError",we.MUST_BE_AUTHENTICATED),Error("User must be authenticated before adding recovery method to Privy wallet");let pe=bo(h);if(!pe||!G)throw ke(oe,ue,"onError",we.EMBEDDED_WALLET_NOT_FOUND),Error("Must have a Privy wallet to add a recovery method");let be=Us(pe);if(be)throw ke(oe,ue,"onError",we.UNSUPPORTED_WALLET_TYPE),new ge("User owned wallet recovery is only supported for on-device execution and this app uses TEE execution. Learn more https://docs.privy.io/recipes/tee-wallet-migration-guide");try{await ut()}catch(Pe){throw ke(oe,ue,"onError",we.MISSING_MFA_CREDENTIALS),Pe}return new Promise(((Pe,De)=>{let Ye=pe.recoveryMethod==="user-passcode",jt=DJ({walletAction:"update",availableRecoveryMethods:z.embeddedWallets.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:se,isResettingPassword:Ye,showAutomaticRecovery:ne}),{entropyId:zt,entropyIdVerifier:Jt}=io(h),en={recoveryMethod:pe.recoveryMethod,connectingWalletAddress:pe.address,onCompleteNavigateTo:jt,shouldForceMFA:!1,entropyId:zt,isUnifiedWallet:be,entropyIdVerifier:Jt,onFailure:pn=>{ke(oe,ue,"onError",we.UNKNOWN_CONNECT_WALLET_ERROR),De(pn)}};Z({setWalletPassword:{onSuccess:pn=>{ke(oe,ue,"onSuccess",{method:"user-passcode",wallet:pn}),Pe(pn)},onFailure:pn=>{ke(oe,ue,"onError",we.USER_EXITED_SET_PASSWORD_FLOW),De(pn)},callAuthOnSuccessOnClose:!1},recoverWallet:{entropyId:zt,entropyIdVerifier:Jt,onFailure:De},connectWallet:en,recoverySelection:{isInAccountCreateFlow:!1,isResettingPassword:Ye,shouldCreateEth:!1,shouldCreateSol:!1}}),Fe(Fv)}))}async function On({appId:ne,action:se}){let ue=await In();if(se==="link"&&!ue)throw ke(oe,"linkAccount","onError",we.MUST_BE_AUTHENTICATED,{linkMethod:`privy:${ne}`}),new ge("User must be authenticated before linking an account.");if(se==="login"&&ue)throw ke(oe,"login","onError",we.UNKNOWN_AUTH_ERROR),new ge("Attempted to log in, but user is already logged in. Use a `link` helper instead.");Ce.current=`privy:${ne}`,Ie.current=se;let pe=sb();return e.createAnalyticsEvent({eventName:"cross_app_auth_started",payload:{providerAppId:ne}}),new Promise((async(be,Pe)=>{let{name:De,logoUrl:Ye}=await U_({api:e.api,providerAppId:ne,requesterAppId:z.id});Z({crossAppAuth:{appId:ne,name:De,logoUrl:Ye,action:se,popup:pe,onSuccess:be,onError:Pe}}),Fe(jVe)}))}let Ot={ready:g,authenticated:a,user:h,walletConnectors:e.connectors||null,connectWallet:ne=>{ne&&"target"in ne&&ne&&(ne=void 0),Z({externalConnectWallet:{walletList:ne?.walletList&&ne?.walletList.length>0?ne.walletList:void 0,walletChainType:ne?.walletChainType,description:ne?.description}}),Fe(mg)},linkWallet:ne=>{ne&&"target"in ne&&ne&&(ne=void 0),He("siwe"),Ce.current="siwe",Ie.current="link",Z({...U,externalConnectWallet:{...U.externalConnectWallet,walletList:ne?.walletList,walletChainType:ne?.walletChainType,description:ne?.description||`Link a wallet to your ${z?.name} account`}}),Fe(hw)},startCrossAppAuthFlow:On,linkEmail:()=>{He("email"),tt("email"),Ce.current="email",Ie.current="link",Fe(tHe)},linkPhone:()=>{He("sms"),tt("phone"),Ce.current="sms",Ie.current="link",Fe(aP)},linkGoogle:async()=>{He("google"),tt("google_oauth"),Ie.current="link",await pt.initLoginWithOAuth("google")},linkTwitter:async()=>{He("twitter"),tt("twitter_oauth"),Ie.current="link",await pt.initLoginWithOAuth("twitter")},linkTwitch:async()=>{He("twitch"),tt("twitch_oauth"),Ie.current="link",await pt.initLoginWithOAuth("twitch")},linkDiscord:async()=>{He("discord"),tt("discord_oauth"),Ie.current="link",await pt.initLoginWithOAuth("discord")},linkGithub:async()=>{He("github"),tt("github_oauth"),Ie.current="link",await pt.initLoginWithOAuth("github")},linkSpotify:async()=>{He("spotify"),tt("spotify_oauth"),Ie.current="link",await pt.initLoginWithOAuth("spotify")},linkInstagram:async()=>{He("instagram"),tt("instagram_oauth"),Ie.current="link",await pt.initLoginWithOAuth("instagram")},linkTiktok:async()=>{He("tiktok"),tt("tiktok_oauth"),Ie.current="link",await pt.initLoginWithOAuth("tiktok")},linkLine:async()=>{He("line"),tt("line_oauth"),Ie.current="link",await pt.initLoginWithOAuth("line")},linkLinkedIn:async()=>{He("linkedin"),tt("linkedin_oauth"),Ie.current="link",await pt.initLoginWithOAuth("linkedin")},linkApple:async()=>{He("apple"),tt("apple_oauth"),Ie.current="link",await pt.initLoginWithOAuth("apple")},linkPasskey:async()=>{He("passkey"),tt("passkey"),await pt.initLinkWithPasskey(),Fe(AVe)},linkTelegram:async ne=>{if(He("telegram"),tt("telegram"),Ie.current="link",Ce.current="telegram",ne?.launchParams)if(ne.launchParams.initDataRaw){let se=new Iv;e.startAuthFlow(se),se.meta.telegramAuthResult=void 0,se.meta.telegramWebAppData=LK(ne.launchParams.initDataRaw),Z({telegramAuthModalData:{seamlessAuth:!0}}),Fe(dw)}else ke(oe,"linkAccount","onError",we.INVALID_DATA,{linkMethod:"telegram"});else await pt.initLoginWithTelegram();Fe(dw)},linkFarcaster:async()=>{He("farcaster"),tt("farcaster"),await pt.initLoginWithFarcaster(),Ie.current="link",Ce.current="farcaster",Fe(ET)},updateEmail:()=>{if(He("email"),!h?.email)throw new ge("User does not have an email linked to their account.");Ie.current="update",Ce.current="email",Fe(THe)},updatePhone:()=>{if(He("sms"),!h?.phone)throw new ge("User does not have a phone number linked to their account.");Ie.current="update",Ce.current="sms",Fe(PHe)},login:async ne=>{ne&&"target"in ne&&ne&&(ne=void 0);let se="Attempted to log in, but user is already logged in. Use a `link` helper instead.";if(!g){let ue=await new Promise((pe=>{J((be=>pe.bind(be)))}));if(J(null),ue)return void console.warn(se)}!h||h.isGuest?(Ie.current="login",Z({login:ne}),Fe(Ni)):console.warn(se)},connectOrCreateWallet:async()=>{g||(await new Promise((ne=>{J((()=>ne))})),J(null)),a?console.warn("User must be unauthenticated to `connectOrCreateWallet`"):(Ie.current="connect-or-create",Fe(RJ))},logout:async()=>{if(Ie.current=null,Ce.current=null,h&&e.clearProviderAcccessTokens(h),x(null),await e.logout(),h&&G)try{await G.clearMfa({userId:h.id})}catch{}u(null),v(!1),R({status:"initial"}),D({status:"initial"}),A({status:"initial"}),F({status:"initial"}),k({status:"initial"}),W({status:"initial"}),ke(oe,"logout","onSuccess"),m(!1),Ct.del(QS),Ct.del(vK(z.id))},getAccessToken:H.useCallback((()=>e.getCustomerAccessToken()),[e]),unlinkWallet:async ne=>{let se;return u(se=ne.startsWith("0x")?await e.unlinkEthereumWallet(ne):await e.unlinkSolanaWallet(ne)),se},unlinkEmail:async ne=>{let se=await e.unlinkEmail(ne);return u(se),se},unlinkPhone:async ne=>{let se=await e.unlinkPhone(ne);return u(se),se},unlinkGoogle:async ne=>{let se=await e.unlinkOAuth("google",ne);return u(se),se},unlinkTwitter:async ne=>{let se=await e.unlinkOAuth("twitter",ne);return u(se),se},unlinkTwitch:async ne=>{let se=await e.unlinkOAuth("twitch",ne);return u(se),se},unlinkDiscord:async ne=>{let se=await e.unlinkOAuth("discord",ne);return u(se),se},unlinkGithub:async ne=>{let se=await e.unlinkOAuth("github",ne);return u(se),se},unlinkSpotify:async ne=>{let se=await e.unlinkOAuth("spotify",ne);return u(se),se},unlinkInstagram:async ne=>{let se=await e.unlinkOAuth("instagram",ne);return u(se),se},unlinkTiktok:async ne=>{let se=await e.unlinkOAuth("tiktok",ne);return u(se),se},unlinkLine:async ne=>{let se=await e.unlinkOAuth("line",ne);return u(se),se},unlinkLinkedIn:async ne=>{let se=await e.unlinkOAuth("linkedin",ne);return u(se),se},unlinkApple:async ne=>{let se=await e.unlinkOAuth("apple",ne);return u(se),se},unlinkFarcaster:async ne=>{let se=await e.unlinkFarcaster(ne);return u(se),se},unlinkTelegram:async ne=>{let se=await e.unlinkTelegram(ne);return u(se),se},unlinkPasskey:async ne=>{let se=await In();if(!se)throw Error("Must have valid access token to enroll in MFA");if(!G)throw Error("Wallet proxy not initialized.");let ue=z.passkeys.shouldUnenrollMfaOnUnlink;await G.unlinkPasskeyAccount({credentialId:ne,accessToken:se,removeAsMfa:ue});let pe=await e.getAuthenticatedUser();return u(pe),pe},unlinkCrossAppAccount:async({subject:ne})=>{let se=h?.linkedAccounts.find((pe=>pe.type==="cross_app"&&pe.subject===ne))?.providerApp;if(!se)throw new ge("Invalid subject");e.storeProviderAccessToken(se.id,null);let ue=await e.unlinkOAuth(`privy:${se.id}`,ne);return u(ue),ue},setWalletRecovery:async ne=>fn({legacySetWalletPasswordFlow:!1,showAutomaticRecovery:ne?.showAutomaticRecovery??!1}),setWalletPassword:async()=>fn({legacySetWalletPasswordFlow:!0,showAutomaticRecovery:!1}),signMessage:(ne,se)=>new Promise((async(ue,pe)=>{let{requesterAppId:be}=se?.uiOptions||{},Pe=ne.message,De=se?.address?Ql(h,se.address):nl(h);if(!De&&se?.address!==void 0){let Et=Q4(l,se.address);if(Et)try{let bn=await Et.getEthereumProvider(),tn=await bn.request({method:"personal_sign",params:[Pe,Et.address]});return ke(oe,"signMessage","onSuccess",{signature:tn}),void ue({signature:tn})}catch(bn){return ke(oe,"signMessage","onError",we.UNABLE_TO_SIGN),void pe(bn??new Ri("Unable to sign message"))}}if(!De)throw new ge("No embedded or connected wallet found for address.");if(!a||!h)return ke(oe,"signMessage","onError",we.MUST_BE_AUTHENTICATED),void pe(Error("User must be authenticated before signing with a Privy wallet"));let Ye=De.address,jt=De.walletIndex??0,{entropyId:zt,entropyIdVerifier:Jt}=io(h,De),en=Us(De);if(typeof Pe!="string"||Pe.length<1)return ke(oe,"signMessage","onError",we.INVALID_MESSAGE),void pe(Error("Message must be a non-empty string"));let pn=async()=>{let Et;if(!a)throw Error("User must be authenticated before signing with a Privy wallet");let bn=await In();if(!G||!bn||!await pt.recoverEmbeddedWallet({address:Ye}))throw Error("Unable to connect to wallet");if(e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_started",payload:{walletAddress:Ye,requesterAppId:be}}),en){let tn=Li(ne.message,{strict:!0}),wr=await ro(n,(async({message:cr})=>await G.signWithUserSigner({accessToken:bn,requesterAppId:be,message:cr})),{chain_type:"ethereum",method:"personal_sign",params:tn?{message:Pe.slice(2),encoding:"hex"}:{message:Pe,encoding:"utf-8"},wallet_id:De.id});if(!wr.data||!("signature"in wr.data))throw new Ri("Unable to sign message");Et=wr.data.signature}else{let{response:tn}=await G.rpc({accessToken:bn,entropyId:zt,entropyIdVerifier:Jt,chainType:"ethereum",hdWalletIndex:jt,requesterAppId:be,request:{method:"personal_sign",params:[Pe,Ye]}});Et=tn.data}return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_completed",payload:{walletAddress:Ye,requesterAppId:be}}),Et};if(Re({showWalletUIs:se?.uiOptions?.showWalletUIs}))try{let Et=await pn();ke(oe,"signMessage","onSuccess",{signature:Et}),ue({signature:Et})}catch(Et){ke(oe,"signMessage","onError",we.UNABLE_TO_SIGN),pe(Et??new Ri("Unable to sign message"))}else Z({signMessage:{method:"personal_sign",data:Pe,confirmAndSign:pn,onSuccess:Et=>{ke(oe,"signMessage","onSuccess",{signature:Et}),ue({signature:Et})},onFailure:Et=>{ke(oe,"signMessage","onError",we.UNABLE_TO_SIGN),pe(Et)},uiOptions:se?.uiOptions||{}},connectWallet:{recoveryMethod:De.recoveryMethod,connectingWalletAddress:Ye,entropyId:zt,entropyIdVerifier:Jt,onCompleteNavigateTo:Ck,isUnifiedWallet:en,onFailure:Et=>{ke(oe,"signMessage","onError",we.UNKNOWN_CONNECT_WALLET_ERROR),pe(Et)}}}),Fe(Fv)})),signTypedData:(ne,se)=>new Promise((async(ue,pe)=>{let{requesterAppId:be}=se?.uiOptions||{},Pe=se?.address?Ql(h,se.address):nl(h);if(!Pe&&se?.address){let Et=Q4(l,se.address);if(Et)try{let bn=await Et.getEthereumProvider(),tn=aw(ne),wr=await bn.request({method:"eth_signTypedData_v4",params:[Et.address,tn]});return ke(oe,"signTypedData","onSuccess",{signature:wr}),void ue({signature:wr})}catch(bn){return ke(oe,"signTypedData","onError",we.UNABLE_TO_SIGN),void pe(bn??new Ri("Unable to sign typed data "+bn))}}if(!Pe)throw new ge("No embedded or connected wallet found for address.");if(!a||!h)return ke(oe,"signTypedData","onError",we.MUST_BE_AUTHENTICATED),void pe(Error("User must be authenticated before signing with a Privy wallet"));let De=Pe.address,Ye=Pe.walletIndex??0,{entropyId:jt,entropyIdVerifier:zt}=io(h,Pe),Jt=Us(Pe),en=aw(ne),pn=async()=>{let Et;if(!a)throw Error("User must be authenticated before signing with a Privy wallet");let bn=await In();if(!G||!bn||!await pt.recoverEmbeddedWallet({address:De}))throw Error("Unable to connect to wallet");if(e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_started",payload:{walletAddress:De,requesterAppId:be}}),Jt){let{domain:tn,types:wr,primaryType:cr,message:Vr}=en,mn=await ro(n,(async({message:Hr})=>await G.signWithUserSigner({accessToken:bn,requesterAppId:be,message:Hr})),{chain_type:"ethereum",method:"eth_signTypedData_v4",params:{typed_data:{domain:tn,types:wr,primary_type:cr,message:Vr}},wallet_id:Pe.id});if(!mn.data||!("signature"in mn.data))throw new Ri("Unable to sign message");Et=mn.data.signature}else{let{response:tn}=await G.rpc({accessToken:bn,entropyId:jt,entropyIdVerifier:zt,chainType:"ethereum",hdWalletIndex:Ye,requesterAppId:be,request:{method:"eth_signTypedData_v4",params:[De,en]}});Et=tn.data}return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_completed",payload:{walletAddress:De,requesterAppId:be}}),Et};if(Re({showWalletUIs:se?.uiOptions?.showWalletUIs}))try{let Et=await pn();ke(oe,"signTypedData","onSuccess",{signature:Et}),ue({signature:Et})}catch(Et){ke(oe,"signTypedData","onError",we.UNABLE_TO_SIGN),pe(Et??new Ri("Unable to sign message"))}else Z({signMessage:{method:"eth_signTypedData_v4",data:en,confirmAndSign:pn,onSuccess:Et=>{ke(oe,"signTypedData","onSuccess",{signature:Et}),ue({signature:Et})},onFailure:Et=>{ke(oe,"signTypedData","onError",we.UNABLE_TO_SIGN),pe(Et)},uiOptions:se?.uiOptions||{}},connectWallet:{recoveryMethod:Pe.recoveryMethod,connectingWalletAddress:Pe.address,entropyId:jt,isUnifiedWallet:Jt,entropyIdVerifier:zt,onCompleteNavigateTo:Ck,onFailure:Et=>{ke(oe,"signMessage","onError",we.UNKNOWN_CONNECT_WALLET_ERROR),pe(Et)}}}),Fe(Fv)})),sendTransaction:async(ne,se)=>await Dt({transaction:ne,sponsor:se?.sponsor,uiOptions:se?.uiOptions,fundWalletConfig:se?.fundWalletConfig,address:se?.address,signOnly:!1}),signTransaction:async(ne,se)=>({signature:(await Dt({transaction:ne,uiOptions:se?.uiOptions,address:se?.address,signOnly:!0})).hash}),exportWallet:ne=>new Promise((async(se,ue)=>{if(!a||!h)return void ue(Error("User must be authenticated before exporting their Privy wallet"));ne&&"target"in ne&&ne&&(ne=void 0);let pe=ne?.address?Ql(h,ne.address):nl(h);if(!pe)return void ue(new ge("User must have an embedded wallet."));let be=pe.address,{entropyId:Pe,entropyIdVerifier:De}=io(h,pe),Ye=Us(pe);if(!be)return void ue(Error("User does not have an HD Ethereum wallet. To export an imported wallet, pass the `address` of the wallet to `exportWallet`."));if(!xs(be))return void ue(Error("Must provide a valid Ethereum address."));let jt={recoveryMethod:pe.recoveryMethod,connectingWalletAddress:pe.address,isUnifiedWallet:Ye,entropyId:Pe,entropyIdVerifier:De,onCompleteNavigateTo:kJ,onFailure:ue,shouldForceMFA:!0};Z(U),await In()&&G?G?Fm(pe)?(Z({keyExport:{appId:t.appId,appClientId:t.clientId,origin:e.apiUrl,address:pe.address,entropyId:Pe,entropyIdVerifier:De,hdWalletIndex:pe.walletIndex,chainType:pe.chainType,walletId:pe.id,isUnifiedWallet:Ye,imported:pe.imported,onSuccess:se,onFailure:ue},connectWallet:jt}),Fe(Fv)):ue(Error(`Export is not supported for ${pe.chainType} wallets`)):ue(Error("Must have a Privy wallet before exporting")):ue(Error("Must have valid access token to enroll in MFA"))})),promptMfa:ut,async init(ne){switch(ne){case"sms":return void await e.initMfaSmsVerification();case"passkey":return await e.initMfaPasskeyVerification();case"totp":return;default:throw Error(`Unsupported MFA method: ${ne}`)}},async submit(ne,se){switch(ne){case"totp":case"sms":if(typeof se!="string")throw new ge("Invalid MFA code");de.current?.resolve({mfaMethod:ne,mfaCode:se,relyingParty:window.origin}),await new Promise(((be,Pe)=>{fe.current={resolve:be,reject:Pe}}));break;case"passkey":if(typeof se=="string")throw new ge("Invalid authenticator response");let ue=await Fi(()=>import("./index-D9std1Z8.js"),[]),pe=BVe(await ue.startAuthentication({optionsJSON:se}));de.current?.resolve({mfaMethod:ne,mfaCode:pe,relyingParty:window.origin}),await new Promise(((be,Pe)=>{fe.current={resolve:be,reject:Pe}}));break;default:throw de.current?.reject(new ge("Unsupported MFA method")),new ge(`Unsupported MFA method: ${ne}`)}},cancel(){de.current?.reject(new ge("MFA canceled"))},async initEnrollmentWithSms(ne){let se=await In();if(!se||!G)throw Error("Must have valid access token to enroll in MFA");await G.initEnrollMfa({method:"sms",accessToken:se,phoneNumber:ne.phoneNumber})},enrollInMfa:ne=>new Promise(((se,ue)=>{if(!ne)return pt.closePrivyModal(),void se();z.mfa.noPromptOnMfaRequired&&console.warn("[Privy Warning] Triggering the 'showMfaEnrollmentModal' function when 'noPromptOnMfaRequired' is set to true is unexpected. If this is intentional, ensure that you are building custom UIs for MFA verification."),Z({mfaEnrollmentFlow:{mfaMethods:z.mfa.methods,shouldUnlinkOnUnenrollMfa:z.passkeys.shouldUnlinkOnUnenrollMfa,onSuccess:se,onFailure:ue}}),Fe(wHe)})),async initEnrollmentWithTotp(){let ne=await In();if(!ne||!G)throw Error("Must have valid access token to enroll in MFA");let se=await G.initEnrollMfa({method:"totp",accessToken:ne});return{secret:se.secret,authUrl:se.authUrl}},async submitEnrollmentWithSms(ne){let se=await In();if(!se||!G)throw Error("Must have valid access token to enroll in MFA");await G.submitEnrollMfa({method:"sms",accessToken:se,phoneNumber:ne.phoneNumber,code:ne.mfaCode}),u(await e.getAuthenticatedUser())},async submitEnrollmentWithTotp(ne){let se=await In();if(!se||!G)throw Error("Must have valid access token to enroll in MFA");await G.submitEnrollMfa({method:"totp",accessToken:se,code:ne.mfaCode}),u(await e.getAuthenticatedUser())},async initEnrollmentWithPasskey(){},async submitEnrollmentWithPasskey({credentialIds:ne},se={}){let ue=await In();if(!ue||!G)throw Error("Must have valid access token to enroll in MFA");await G.submitEnrollMfa({method:"passkey",accessToken:ue,credentialIds:ne,removeForLogin:se.removeForLogin}),u(await e.getAuthenticatedUser())},async unenroll(ne,se={}){let ue=await In();if(!ue||!G)throw Error("Must have valid access token to remove MFA");ne==="passkey"?await G.submitEnrollMfa({method:"passkey",accessToken:ue,credentialIds:[],removeForLogin:se.removeForLogin}):await G.unenrollMfa({method:ne,accessToken:ue}),u(await e.getAuthenticatedUser())},requestFarcasterSignerFromWarpcast:async()=>{let ne=await In(),se=h?.linkedAccounts.find((pe=>pe.type==="wallet"&&pe.walletClientType==="privy"));if(!ne)throw Error("Must have valid access token to connect with Farcaster");if(!G||!se)throw Error("Must have an embedded wallet to use Farcaster signers");if(Us(se))throw new ge("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!h?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");if(!await pt.recoverEmbeddedWallet({address:se.address}))throw Error("Unable to connect to wallet");let ue=await G.initFarcasterSigner({address:se.address,hdWalletIndex:null,accessToken:ne,mfaCode:null,mfaMethod:null,relyingParty:window.origin});ue.status==="approved"&&u(await e.getAuthenticatedUser()||h||null),Z({farcasterSigner:ue}),Fe(QVe)},getFarcasterSignerPublicKey:async()=>{let ne,se=await In(),ue=h?.linkedAccounts.find((pe=>pe.type==="wallet"&&pe.walletClientType==="privy"));if(!se)throw Error("Must have valid access token to connect with Farcaster");if(!G||!ue)throw Error("Must have an embedded wallet to use Farcaster signers");if(Us(ue))throw new ge("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!h?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");if(!await pt.recoverEmbeddedWallet({address:ue.address}))throw Error("Unable to connect to wallet");if(!h.farcaster?.signerPublicKey)throw Error("Must have a Farcaster signer public key to sign");return ne=h.farcaster.signerPublicKey.slice(2),Uint8Array.from(ne.match(/.{1,2}/g).map((pe=>parseInt(pe,16))))},signFarcasterMessage:async ne=>{let se=await In(),ue=h?.linkedAccounts.find((Pe=>Pe.type==="wallet"&&Pe.walletClientType==="privy"));if(!se)throw Error("Must have valid access token to connect with Farcaster");if(!G||!ue)throw Error("Must have an embedded wallet to use Farcaster signers");if(Us(ue))throw new ge("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!h?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");if(!await pt.recoverEmbeddedWallet({address:ue.address}))throw Error("Unable to connect to wallet");if(!h.farcaster?.signerPublicKey)throw Error("Must have a Farcaster signer public key to sign");let pe=await Fi(()=>import("./index-D9std1Z8.js"),[]),be=await G.signFarcasterMessage({address:ue.address,hdWalletIndex:null,accessToken:se,mfaCode:null,mfaMethod:null,payload:{hash:pe.bufferToBase64URLString(ne)},fid:BigInt(h.farcaster.fid),relyingParty:window.origin});return new Uint8Array(pe.base64URLStringToBuffer(be.signature))},signMessageWithCrossAppWallet(ne,{address:se,chainId:ue}){let pe=h?.linkedAccounts.some((be=>be.type==="cross_app"&&be.smartWallets.some((Pe=>Pe.address===se))));return I2({user:h,client:e,address:se,requesterAppId:z.id,request:{method:pe?"privy_signSmartWalletMessage":"personal_sign",params:[ne,se],chainId:ue},reconnect:On})},signTypedDataWithCrossAppWallet(ne,{address:se,chainId:ue}){let pe=h?.linkedAccounts.some((Pe=>Pe.type==="cross_app"&&Pe.smartWallets.some((De=>De.address===se)))),be=aw(ne);return I2({user:h,client:e,address:se,requesterAppId:z.id,request:{method:pe?"privy_signSmartWalletTypedData":"eth_signTypedData_v4",params:[se,be],chainId:ue},reconnect:On})},sendTransactionWithCrossAppWallet(ne,{address:se}){let ue=h?.linkedAccounts.some((pe=>pe.type==="cross_app"&&pe.smartWallets.some((be=>be.address===se))));return I2({user:h,client:e,address:se,requesterAppId:z.id,request:{method:ue?"privy_sendSmartWalletTx":"eth_sendTransaction",params:[ne],chainId:ne.chainId},reconnect:On})},signTransactionWithCrossAppWallet(ne,{address:se}){let ue=h?.linkedAccounts.some((pe=>pe.type==="cross_app"&&pe.smartWallets.some((be=>be.address===se))));return I2({user:h,client:e,address:se,requesterAppId:z.id,request:{method:ue?"privy_signSmartWalletTx":"eth_signTransaction",params:[ne],chainId:ne.chainId},reconnect:On})},isModalOpen:c||!!s,mfaMethods:z.mfa.methods};V_=Ot.signMessage,H_=Ot.signTypedData,X_=async(ne,se)=>await Dt({transaction:ne,...se,signOnly:!1}),Y_=async(ne,se)=>({signature:(await Dt({transaction:ne,...se,signOnly:!0})).hash});let pt={privy:n,setAuthenticated:v,setUser:u,setIsNewUser:y,isNewUserThisSession:f,pendingTransaction:null,walletConnectionStatus:C,setWalletConnectionStatus:T,connectors:e.connectors?.walletConnectors??[],rpcConfig:z.rpcConfig,chains:z.chains,appId:t.appId,showFiatPrices:z.embeddedWallets.priceDisplay.primary!=="native-token",clientAnalyticsId:e.clientAnalyticsId,onCustomAuthAuthenticated:Ae,hideWalletUIs:je,isHeadlessSigning:H.useCallback(Re,[z.embeddedWallets.showWalletUIs]),emailOtpState:P,setEmailOtpState:R,smsOtpState:L,setSmsOtpState:D,oAuthState:N,setOAuthState:k,telegramAuthState:j,setTelegramAuthState:W,siweState:$,setSiweState:F,isHeadlessOAuthLoading:b,baseAccountSdk:d,setBaseAccountSdk:p,nativeTokenSymbolForChainId:ne=>z.chains.find((se=>se.id===Number(ne)))?.nativeCurrency.symbol,initializeWalletProxy:async ne=>{if(G)return G;let se=new Promise((be=>{Q.current=be})),ue=new Promise((be=>setTimeout((()=>be(null)),ne))),pe=await Promise.race([se,ue]);return Q.current=null,pe},getAuthFlow:()=>e.authFlow,getAuthMeta:()=>e.authFlow?.meta,client:e,closePrivyModal:async(ne={shouldCallAuthOnSuccess:!0,isSuccess:!1})=>{let se,ue=g&&a&&h;ue&&Ce.current&&(se=xt(h)),Ie.current==="login"?ne.shouldCallAuthOnSuccess&&ue&&Ce.current?ke(oe,"login","onComplete",{user:h,isNewUser:f,wasAlreadyAuthenticated:!1,loginMethod:Ce.current,loginAccount:se??null}):ke(oe,"login","onError",we.USER_EXITED_AUTH_FLOW):Ie.current==="link"&&se?ne.isSuccess&&ue&&Ce.current?ke(oe,"linkAccount","onSuccess",{user:h,linkMethod:Ce.current,linkedAccount:se}):Ce.current&&ke(oe,"linkAccount","onError",we.USER_EXITED_LINK_FLOW,{linkMethod:Ce.current}):Ie.current==="update"&&se?ne.isSuccess&&ue&&Ce.current?ke(oe,"update","onSuccess",{user:h,updateMethod:Ce.current,updatedAccount:se}):Ce.current&&ke(oe,"update","onError",we.USER_EXITED_UPDATE_FLOW,{linkMethod:Ce.current}):Ie.current==="connect-or-create"&&(l[0]?ke(oe,"connectOrCreateWallet","onSuccess",{wallet:l[0]}):ke(oe,"connectOrCreateWallet","onError",we.USER_EXITED_AUTH_FLOW));let pe=w&&g8.has(w),be=w===Xn&&U.errorModalData&&g8.has(U.errorModalData.previousScreen);if((pe||be)&&U.funding){let Pe,De=g8.get(w)??null;if(U.funding.chainType==="solana"){let Ye=z.solanaRpcs[U.funding.chain];if(!Ye)return void console.warn("Unable to load solana rpc, skipping balance");if(i(bT))try{Pe=await kA({rpc:Ye.rpc,address:U.funding.address})}catch{console.error("Unable to pull wallet balance")}else console.warn("Unable to load solana plugin, skipping balance");ke(oe,"fundSolanaWallet","onUserExited",{address:U.funding.address,fundingMethod:De,chain:U.funding.chain,balance:Pe})}else{let Ye=Qp(U.funding.chain.id,z.chains,z.rpcConfig,{appId:t.appId});try{Pe=await Ye.getBalance({address:U.funding.address})}catch{console.error("Unable to pull wallet balance")}ke(oe,"fundWallet","onUserExited",{address:U.funding.address,chain:U.funding.chain,fundingMethod:De,balance:Pe})}}Z((Pe=>({...Pe,externalConnectWallet:{}}))),Ie.current=null,Ce.current=null,y(!1),m(!1),setTimeout((()=>{e.authFlow=void 0}),200)},openPrivyModal:Fe,connectWallet:Ge,initLoginWithWallet:async(ne,se,ue,pe)=>{uc(ne)?(Ce.current="siwe",nt(ne,se,ue)):(Ce.current="siws",St(ne,se,ue,pe))},loginWithWallet:async()=>{let ne,se,ue;if(!g)throw new oh;if(e.authFlow instanceof Ap?ne="siwe":e.authFlow instanceof hx&&(ne="siws"),!ne)throw new ge("Must initialize SIWE/SIWS flow first.");if(await e.getAccessToken()!==null)try{({user:se}=await e.link()),Ce.current=ne}catch(pe){throw ke(oe,"linkAccount","onError",pe.privyErrorCode||we.FAILED_TO_LINK_ACCOUNT,{linkMethod:ne}),pe}else try{({user:se,isNewUser:ue}=await e.authenticate()),Ce.current=ne}catch(pe){throw ke(oe,"login","onError",pe.privyErrorCode||we.GENERIC_CONNECT_WALLET_ERROR),pe}u(se||h||null),y(ue||!1),v(!0)},delegateWallet:async({address:ne,chainType:se,showDelegationUIs:ue})=>new Promise((async(pe,be)=>{let Pe=await In();if(!a||!h||!Pe)throw new ge("User must be authenticated and have an embedded wallet to delegate actions.");if(se!=="solana"&&se!=="ethereum")throw new ge("Only Solana and Ethereum embedded wallets are supported for delegation and revocation.");let De=pt.walletProxy??await pt.initializeWalletProxy(15e3);if(!De)throw new ge("Wallet proxy not initialized.");if((({address:en,user:pn})=>!!AB(pn).find((Et=>Et.address===en)))({address:ne,user:h}))return pe();let Ye=Ql(h,ne);if(!Ye)throw new ge("Address to delegate is not associated with current user.");if(Us(Ye))throw new ge("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let jt=yVe({address:ne,user:h}),zt=wVe({address:ne,user:h}),Jt=async()=>{await De.createDelegatedAction({accessToken:Pe,rootWallet:zt,delegatedWallets:[jt]}),await pt.refreshSessionAndUser()};if(await pt.recoverEmbeddedWallet({address:ne}),ue)Z({delegatedActions:{consent:{address:ne,onDelegate:Jt,onSuccess:async()=>{pe()},onError:async en=>{be(en)}}}}),Fe(WVe);else try{await Jt(),pe()}catch(en){be(en)}})),revokeDelegatedWallets:async({showDelegationUIs:ne})=>new Promise((async(se,ue)=>{if(!a||!h)throw new ge("User must be authenticated and have an embedded wallet to revoke a delegated wallet.");let pe=AB(h);if(pe.length===0)throw new ge("User has no delegated wallets to revoke.");if(pe.some(Us))throw new ge("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let be=async()=>{await e.revokeDelegatedWallet(),await pt.refreshSessionAndUser()};if(ne)Z({delegatedActions:{revoke:{onRevoke:be,onSuccess:async()=>{se()},onError:async Pe=>{ue(Pe)}}}}),Fe(VVe);else try{await be(),se()}catch(Pe){ue(Pe)}})),initLoginWithFarcaster:async(ne,se)=>{let ue=new pB(ne,se);e.startAuthFlow(ue);try{Ce.current="farcaster",await ue.initializeFarcasterConnect()}catch(pe){throw Ie.current==="login"?ke(oe,"login","onError",pe.privyErrorCode||we.UNKNOWN_AUTH_ERROR):Ie.current==="link"&&ke(oe,"linkAccount","onError",pe.privyErrorCode||we.UNKNOWN_AUTH_ERROR,{linkMethod:"farcaster"}),pe}},loginWithFarcaster:async()=>{let ne,se;if(!g)throw new oh;if(!(e.authFlow instanceof pB))throw new ge("Must initialize Farcaster flow first.");if(await e.getAccessToken()!==null)try{({user:ne}=await e.link()),Ce.current="farcaster"}catch(ue){throw ke(oe,"linkAccount","onError",ue.privyErrorCode||we.FAILED_TO_LINK_ACCOUNT,{linkMethod:"farcaster"}),ue}else try{({user:ne,isNewUser:se}=await e.authenticate()),Ce.current="farcaster"}catch(ue){throw ke(oe,"login","onError",ue.privyErrorCode||we.UNKNOWN_AUTH_ERROR),ue}u(ne||null),y(se||!1),v(!0)},async crossAppAuthFlow({appId:ne,popup:se,action:ue}){let pe=`privy:${ne}`;Ce.current=pe;let{url:be,stateCode:Pe,codeVerifier:De}=await(async function({api:Ye,appId:jt}){let zt=J3(),Jt=dA(),en=await fA(zt);try{let{url:pn}=await Ye.post(UW,{provider:`privy:${jt}`,redirect_to:window.location.href,code_challenge:en,state_code:Jt});return{url:pn,stateCode:Jt,codeVerifier:zt}}catch(pn){throw Kt(pn)}})({api:e.api,appId:ne});if(!be)throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:"Unable to open cross-app auth popup",appId:ne}}),new ge("No authorization URL returned for cross-app auth.");try{let Ye=await(async function({url:pn,popup:Et}){return Et.location=pn,new Promise(((bn,tn)=>{let wr,cr=setTimeout((()=>{tn(new ge("Authorization request timed out after 2 minutes.")),Vr()}),12e4);function Vr(){Et?.close(),window.removeEventListener("message",Hr)}let mn=setInterval((()=>{Et?.closed&&!wr&&(Vr(),clearInterval(mn),clearTimeout(cr),tn(new ge("User rejected request")))}),300);function Hr(ri){ri.data&&(ri.data.type==="PRIVY_OAUTH_RESPONSE"&&ri.data.stateCode&&ri.data.authorizationCode&&(clearTimeout(cr),bn(ri.data),Vr()),ri.data.type==="PRIVY_OAUTH_ERROR"&&(clearTimeout(cr),tn(new ge(ri.data.error)),Vr()),ri.data.type===IB&&((wr=new BroadcastChannel(PB)).onmessage=Hr))}window.addEventListener("message",Hr)}))})({url:be,popup:se,provider:pe}),jt=Ye.stateCode,zt=Ye.authorizationCode;if(jt!==Pe)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:pe,storedStateCode:Pe??"",returnedStateCode:jt??""}}),new ge("Unexpected auth flow. This may be a phishing attempt.",void 0,we.OAUTH_UNEXPECTED);let Jt=await(async function({appId:pn,stateCode:Et,codeVerifier:bn,authorizationCode:tn,action:wr,client:cr}){if(!tn||!Et)throw new ge("[Cross-App AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if(tn==="undefined")throw new ge("User denied confirmation during cross-app auth flow");try{let Vr=new bVe({authorizationCode:tn,stateCode:Et,codeVerifier:bn,provider:`privy:${pn}`});cr.startAuthFlow(Vr);let mn=wr==="link"?await cr.link():await cr.authenticate(),Hr=mn.oAuthTokens?.accessToken;return console.debug(),Hr}catch(Vr){let mn=Kt(Vr);throw mn.privyErrorCode===we.ACCOUNT_TRANSFER_REQUIRED?mn:mn.privyErrorCode?new ge(mn.message||"Invalid code during cross-app auth flow.",void 0,mn.privyErrorCode):mn.message==="User denied confirmation during cross-app auth flow"?new ge("Invalid code during cross-app auth flow.",void 0,we.OAUTH_USER_DENIED):new ge("Invalid code during cross-app auth flow.",void 0,we.UNKNOWN_AUTH_ERROR)}})({appId:ne,codeVerifier:De,stateCode:jt,authorizationCode:zt,action:ue,client:e});Jt&&e.storeProviderAccessToken(ne,Jt);let en=await pt.refreshSessionAndUser();if(!en)throw new ge("Unable to update user");return e.createAnalyticsEvent({eventName:"cross_app_auth_completed",payload:{providerAppId:ne}}),en}catch(Ye){throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:Ye.toString(),provider:pe}}),Ye}},async initLoginWithOAuth(ne,se,ue){if(Ce.current=ne,!JS()||ne==="google"&&mT(window.navigator.userAgent))return void Fe(MB);ne==="twitter"&&window.opener&&window.opener.postMessage({type:IB},"*"),Ct.del(cx),Ct.del(pg);let pe=new tp({provider:ne,disableSignup:!!ue,withPrivyUi:!0,customOAuthRedirectUrl:z.customOAuthRedirectUrl});se&&pe.addCaptchaToken(se),e.startAuthFlow(pe);let be=await e.authFlow.getAuthorizationUrl();if(be&&be.url)if(ne==="twitter"&&sn.isAndroid&&(be.url=be.url.replace("x.com","twitter.com")),window.location.protocol==="chrome-extension:"&&FT())try{let{privyOAuthCode:Pe,privyOAuthState:De}=await vB(be.url);Fe(FB),pe.meta.stateCode=De,pe.meta.authorizationCode=Pe}catch(Pe){throw console.error("OAuth in chrome extension flow failed:",Pe),Pe}else window.location.assign(be.url)},async initLoginWithTelegram(ne,se){if(!g)throw new oh;Ce.current="telegram";let ue=new Iv(ne,se);e.startAuthFlow(ue),W({status:"loading"}),ue.meta.telegramWebAppData=void 0,ue.meta.telegramAuthResult=await new Promise(((pe,be)=>z.loginConfig.telegramAuthConfiguration?window.Telegram?void window.Telegram.Login.auth({bot_id:z.loginConfig.telegramAuthConfiguration.botId,request_access:!0},(Pe=>Pe?pe(Pe):(Ie.current==="link"?ke(oe,"linkAccount","onError",we.FAILED_TO_LINK_ACCOUNT,{linkMethod:"telegram"}):Ie.current==="login"?ke(oe,"login","onError",we.INVALID_CREDENTIALS):Ie.current==="update"&&ke(oe,"login","onError",we.FAILED_TO_UPDATE_ACCOUNT),be(new ge("Telegram auth failed or was canceled by the client"))))):be(new ge("Telegram was not initialized")):be(new ge("Telegram Auth configuration is not loaded"))))},async loginWithTelegram(ne){let se,ue;if(!(e.authFlow instanceof Iv))throw new ge("Must initialize Telegram flow before calling loginWithTelegram");e.authFlow.meta.captchaToken||=ne?.captchaToken;let pe=await In(),be=ne?.intent||Ie.current;if(be==="login")try{let De=await e.authenticate();se=De.user,ue=De.isNewUser,Ce.current="telegram"}catch(De){throw ke(oe,"login","onError",De.privyErrorCode||we.UNKNOWN_AUTH_ERROR),De}else{if(be!=="link")throw new ge("Unknown auth intent");try{se=(await e.link()).user,Ce.current="telegram"}catch(De){throw ke(oe,"linkAccount","onError",De.privyErrorCode||we.FAILED_TO_LINK_ACCOUNT,{linkMethod:"telegram"}),De}}u(se),y(ue||!1),v(!0),W({status:"done"});let Pe=se?.linkedAccounts.find((({type:De})=>De==="telegram"))||null;return{user:se,isNewUser:ue||!1,wasAlreadyAuthenticated:!!pe,loginAccount:Pe}},async loginWithOAuth(ne){let se,ue,pe;if(!(e.authFlow instanceof tp))throw new ge("Must initialize OAuth flow before calling loginWithOAuth");let be=Ct.get(ux),Pe=e.authFlow.meta.stateCode;if(be!==Pe)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:ne,storedStateCode:be??"",returnedStateCode:Pe??""}}),new ge("Unexpected auth flow. This may be a phishing attempt.",void 0,we.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{let De=await e.link();se=De.user,pe=De.oAuthTokens,Ce.current=ne}catch(De){throw ke(oe,"linkAccount","onError",De.privyErrorCode||we.FAILED_TO_LINK_ACCOUNT,{linkMethod:ne}),De}else try{let De=await e.authenticate();se=De.user,ue=De.isNewUser,pe=De.oAuthTokens,Ce.current=ne}catch(De){throw Ie.current==="login"?ke(oe,"login","onError",De.privyErrorCode||we.UNKNOWN_AUTH_ERROR):Ie.current==="link"&&ke(oe,"linkAccount","onError",De.privyErrorCode||we.FAILED_TO_LINK_ACCOUNT,{linkMethod:ne}),De}return u(se),y(ue||!1),v(!0),pe&&se&&ke(oe,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:pe,user:se}),pe},passkeyAuthState:S,setPasskeyAuthState:A,async initSignupWithPasskey({captchaToken:ne,withPrivyUi:se}){let ue=new Hf({captchaToken:ne,setPasskeyAuthState:A,hints:z.passkeys.registration?.hints});e.startAuthFlow(ue),Ie.current="login";try{Ce.current="passkey",A({status:"generating-challenge"}),await ue.initRegisterFlow(se),A({status:"awaiting-passkey"})}catch(pe){throw A({status:"error",error:pe}),ke(oe,"login","onError",pe.privyErrorCode||we.UNKNOWN_AUTH_ERROR),pe}},async signupWithPasskey(){let ne,se;if(!g)throw new oh;if(!(e.authFlow instanceof Hf))throw new ge("Must initialize Passkey flow first.");if(Ce.current!=="passkey"){let be=new ge("Must init login with Passkey flow first.");throw A({status:"error",error:be}),be}let ue=await In();try{Ce.current="passkey",A({status:"awaiting-passkey"}),{user:ne,isNewUser:se}=await e.authenticate()}catch(be){throw A({status:"error",error:be}),ke(oe,"login","onError",be.privyErrorCode||we.UNKNOWN_AUTH_ERROR),be}u(ne),y(se||!1),v(!0),A({status:"done"});let pe=ne?.linkedAccounts.find((({type:be})=>be==="passkey"))||null;return{user:ne,isNewUser:se||!1,wasAlreadyAuthenticated:!!ue,loginAccount:pe}},async initLoginWithPasskey({captchaToken:ne,withPrivyUi:se}){let ue=new Hf({captchaToken:ne,setPasskeyAuthState:A,hints:void 0});e.startAuthFlow(ue),Ie.current="login";try{Ce.current="passkey",A({status:"generating-challenge"}),await ue.initAuthenticationFlow(se),A({status:"awaiting-passkey"})}catch(pe){throw A({status:"error",error:pe}),ke(oe,"login","onError",pe.privyErrorCode||we.UNKNOWN_AUTH_ERROR),pe}},async loginWithPasskey(ne){let se,ue;if(!g)throw new oh;if(!(e.authFlow instanceof Hf))throw new ge("Must initialize Passkey flow first.");if(ne?.credentialIds&&(e.authFlow.meta.allowedCredentialsIds=ne.credentialIds),Ce.current!=="passkey"){let Pe=new ge("Must init login with Passkey flow first.");throw A({status:"error",error:Pe}),Pe}let pe=await In();try{Ce.current="passkey",A({status:"awaiting-passkey"}),{user:se,isNewUser:ue}=await e.authenticate()}catch(Pe){throw A({status:"error",error:Pe}),ke(oe,"login","onError",Pe.privyErrorCode||we.UNKNOWN_AUTH_ERROR),Pe}u(se),y(ue||!1),v(!0),A({status:"done"});let be=se?.linkedAccounts.find((({type:Pe})=>Pe==="passkey"))||null;return{user:se,isNewUser:ue||!1,wasAlreadyAuthenticated:!!pe,loginAccount:be}},async initLinkWithPasskey(ne){let se=new Hf({captchaToken:ne,hints:z.passkeys.registration?.hints});e.startAuthFlow(se),Ie.current="link",Ce.current="passkey",A({status:"generating-challenge"});try{await se.initLinkFlow(),A({status:"awaiting-passkey"})}catch(ue){throw ke(oe,"linkAccount","onError",ue.privyErrorCode||we.UNKNOWN_AUTH_ERROR,{linkMethod:"passkey"}),A({status:"error",error:ue}),ue}},async linkWithPasskey(){let ne;if(!g)throw new oh;if(!(e.authFlow instanceof Hf))throw new ge("Must initialize Passkey flow first.");if(Ce.current!=="passkey")throw new ge("Must init login with Passkey flow first.");try{Ce.current="passkey",{user:ne}=await e.link()}catch(se){throw ke(oe,"linkAccount","onError",se.privyErrorCode||we.FAILED_TO_LINK_ACCOUNT,{linkMethod:"passkey"}),se}return u(ne||h||null),A({status:"done"}),ne},async initLoginWithHeadlessOAuth(ne,se,ue){if(!JS()||ne==="google"&&mT(window.navigator.userAgent))throw Error("It looks like you're using an in-app browser.  To log in, please try again using an external browser.");let pe=new tp({provider:ne,withPrivyUi:!1,disableSignup:ue??!1,customOAuthRedirectUrl:z.customOAuthRedirectUrl});se&&pe.addCaptchaToken(se),k({status:"loading"});let be=await e.startAuthFlow(pe).getAuthorizationUrl();if(be?.url)if(window.location.protocol==="chrome-extension:"&&FT())try{let{privyOAuthCode:Pe,privyOAuthState:De}=await vB(be.url);pe.meta.stateCode=De,pe.meta.authorizationCode=Pe,await this.loginWithHeadlessOAuth(pe.meta)}catch(Pe){throw k({status:"error",error:Pe}),Pe}else window.location.assign(be.url)},async loginWithHeadlessOAuth(ne){let se,ue,pe;E(!0),k({status:"loading"}),e.startAuthFlow(new tp({...ne,customOAuthRedirectUrl:z.customOAuthRedirectUrl}));let be=Ct.get(ux),Pe=ne.stateCode;if(be!==Pe)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:ne.provider,storedStateCode:be??"",returnedStateCode:Pe??""}}),E(!1),new ge("Unexpected auth flow. This may be a phishing attempt.",void 0,we.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{({user:se,oAuthTokens:pe}=await e.link()),Ce.current=ne.provider;let De=xt(se);se&&De&&ke(oe,"linkAccount","onSuccess",{user:se,linkMethod:Ce.current,linkedAccount:De})}catch(De){throw E(!1),ke(oe,"linkAccount","onError",De.privyErrorCode||we.FAILED_TO_LINK_ACCOUNT,{linkMethod:ne.provider}),De}else try{({user:se,isNewUser:ue,oAuthTokens:pe}=await e.authenticate()),Ce.current=ne.provider;let De=xt(se);se&&De&&ue!==void 0&&ke(oe,"login","onComplete",{user:se,isNewUser:ue,wasAlreadyAuthenticated:!1,loginMethod:Ce.current,loginAccount:De})}catch(De){throw E(!1),k({status:"error",error:De}),ke(oe,"login","onError",De.privyErrorCode||we.UNKNOWN_AUTH_ERROR),De}return u(se),y(ue||!1),v(!0),E(!1),k({status:"done"}),pe&&se&&ke(oe,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:pe,user:se}),se??void 0},initLoginWithEmail:async({email:ne,captchaToken:se,disableSignup:ue,withPrivyUi:pe})=>{let be=new vp({email:ne,captchaToken:se,disableSignup:ue});e.startAuthFlow(be);try{Ce.current="email",R({status:"sending-code"}),await be.sendCodeEmail({withPrivyUi:pe}),R({status:"awaiting-code-input"})}catch(Pe){throw R({status:"error",error:Pe}),Ie.current==="login"?ke(oe,"login","onError",Pe.privyErrorCode||we.UNKNOWN_AUTH_ERROR):Ie.current==="link"&&ke(oe,"linkAccount","onError",Pe.privyErrorCode||we.FAILED_TO_LINK_ACCOUNT,{linkMethod:"email"}),Pe}},initUpdateEmail:async({oldAddress:ne,newAddress:se,captchaToken:ue})=>{let pe=new TGe(ne,se,ue);e.startAuthFlow(pe);try{await pe.sendCodeEmail({withPrivyUi:!0})}catch(be){throw ke(oe,"update","onError",be.privyErrorCode||we.UNKNOWN_AUTH_ERROR,{linkMethod:Ce.current}),be}},initUpdatePhone:async(ne,se,ue)=>{let pe=new RGe(ne,se,ue);e.startAuthFlow(pe);try{await pe.sendSmsCode({withPrivyUi:!0})}catch(be){ke(oe,"update","onError",be.privyErrorCode||we.UNKNOWN_AUTH_ERROR,{linkMethod:Ce.current})}},initLoginWithSms:async({phoneNumber:ne,captchaToken:se,disableSignup:ue,withPrivyUi:pe})=>{D({status:"sending-code"});let be=new gp({phoneNumber:ne,captchaToken:se,disableSignup:ue});e.startAuthFlow(be);try{Ce.current="sms",await be.sendSmsCode({withPrivyUi:pe}),D({status:"awaiting-code-input"})}catch(Pe){throw D({status:"error",error:Pe}),Ie.current==="login"?ke(oe,"login","onError",Pe.privyErrorCode||we.UNKNOWN_AUTH_ERROR):Ie.current==="link"&&ke(oe,"linkAccount","onError",Pe.privyErrorCode||we.FAILED_TO_LINK_ACCOUNT,{linkMethod:"sms"}),Pe}},resendEmailCode:async()=>{await e.authFlow?.sendCodeEmail({withPrivyUi:!0})},resendSmsCode:async()=>{await e.authFlow?.sendSmsCode({withPrivyUi:!0})},loginWithCode:async ne=>{let se,ue;function pe(Ye){e.authFlow instanceof vp?R(Ye):e.authFlow instanceof gp&&D(Ye)}if(pe({status:"submitting-code"}),!g){let Ye=new oh;throw pe({status:"error",error:Ye}),Ye}if(e.authFlow instanceof vp)e.authFlow.meta.emailCode=ne.trim();else{if(!(e.authFlow instanceof gp)){let Ye=new ge("Must initialize a passwordless code flow first");throw pe({status:"error",error:Ye}),Ye}e.authFlow.meta.smsCode=ne.trim()}let be=await In();if(Ie.current==="link")try{({user:se}=await e.link())}catch(Ye){throw pe({status:"error",error:Ye}),ke(oe,"linkAccount","onError",Ye.privyErrorCode||we.FAILED_TO_LINK_ACCOUNT,{linkMethod:Ce.current}),Ye}else if(Ie.current==="update")try{({user:se}=await e.link())}catch(Ye){throw pe({status:"error",error:Ye}),ke(oe,"update","onError",Ye.privyErrorCode||we.FAILED_TO_UPDATE_ACCOUNT,{linkMethod:Ce.current}),Ye}else try{({user:se,isNewUser:ue}=await e.authenticate())}catch(Ye){throw pe({status:"error",error:Ye}),ke(oe,"login","onError",Ye.privyErrorCode||we.UNKNOWN_AUTH_ERROR),Ye}let Pe=se||h;u(Pe||null),y(ue||!1),v(!0),pe({status:"done"});let De=null;return e.authFlow instanceof vp?De=Pe?.linkedAccounts.find((({type:Ye})=>Ye==="email"))||null:e.authFlow instanceof gp&&(De=Pe?.linkedAccounts.find((({type:Ye})=>Ye==="phone"))||null),{user:Pe,isNewUser:ue||!1,wasAlreadyAuthenticated:!!be,linkedAccount:De}},generateSiweMessage:async({address:ne,chainId:se,captchaToken:ue})=>{Ie.current=a?"link":"login",Ce.current="siwe",F({status:"generating-message"});let pe=await e.generateSiweNonce({address:ne,captchaToken:ue});return F({status:"awaiting-signature"}),tT({address:ne,chainId:se.replace("eip155:",""),nonce:pe})},generateSiweMessageForSmartWallet:async({address:ne,chainId:se})=>{let ue=await e.generateSiweNonce({address:ne});return tT({address:ne,chainId:se.replace("eip155:",""),nonce:ue})},linkSmartWallet:async({message:ne,signature:se,smartWalletType:ue,smartWalletVersion:pe})=>{let be;be=await e.linkSmartWallet({message:ne,signature:se,smartWalletType:ue,smartWalletVersion:pe}),u((be=await pt.refreshSessionAndUser()??be)||h||null)},loginWithSiwe:async({message:ne,signature:se,captchaToken:ue,disableSignup:pe})=>{let be,Pe=null;try{if(h)throw Error("User already authenticated");let De=new Ap(e,void 0,ue,pe,{message:ne,signature:se});if(e.startAuthFlow(De),Ce.current="siwe",Ie.current="login",F({status:"submitting-signature"}),{user:Pe,isNewUser:be}=await e.authenticate(),!Pe)throw Error("Authentication failed - no user returned")}catch(De){throw ke(oe,"login","onError",De.privyErrorCode||we.UNKNOWN_AUTH_ERROR),F({status:"error",error:De}),De}return u(Pe),y(be||!1),v(!0),F({status:"done"}),Ie.current=null,Ce.current=null,{user:Pe,isNewUser:be||!1}},linkWithSiwe:async({message:ne,signature:se,chainId:ue,walletClientType:pe,connectorType:be})=>{let Pe;He("siwe");let De=null;try{F({status:"submitting-signature"}),Pe=await e.linkWithSiwe({message:ne,signature:se,chainId:ue,walletClientType:pe,connectorType:be}),Pe=await pt.refreshSessionAndUser()??Pe,F({status:"done"}),(De=xt(Pe)||null)&&ke(oe,"linkAccount","onSuccess",{user:Pe,linkMethod:"siwe",linkedAccount:De})}catch(jt){throw ke(oe,"linkAccount","onError",jt.privyErrorCode||we.FAILED_TO_LINK_ACCOUNT,{linkMethod:"siwe"}),Ie.current=null,Ce.current=null,F({status:"error",error:jt}),jt}let Ye=Pe||h;return u(Ye||null),Ie.current=null,Ce.current=null,{user:Ye,linkedAccount:De}},refreshSessionAndUser:async()=>{let ne=await e.getAuthenticatedUser();return v(!!ne),u(ne),ne},walletProxy:G,createAnalyticsEvent:({eventName:ne,payload:se,timestamp:ue})=>e.createAnalyticsEvent({eventName:ne,payload:se,timestamp:ue}),acceptTerms:async()=>{let ne=await e.acceptTerms();return u(ne),ne},getUsdTokenPrice:ne=>e.getUsdTokenPrice(ne),getUsdPriceForSol:()=>e.getUsdPriceForSol(),getSplTokenMetadata:ne=>e.getSplTokenMetadata(ne),recoverEmbeddedWallet:async ne=>new Promise((async(se,ue)=>{if(!h)return void se(!0);let pe=ne?.address?Ql(h,ne.address):bo(h)||RC(h).at(0)||Bve(h).at(0);if(!pe||Us(pe))return void se(!0);let be=await In();if(!be||!G||!pe)return void ue(Error("Must have valid access token and Privy wallet to recover wallet"));let{entropyId:Pe,entropyIdVerifier:De}=io(h,pe);try{await G.connect({accessToken:be,entropyId:Pe,entropyIdVerifier:De}),se(!0)}catch(Ye){if(Im(Ye)&&pe.recoveryMethod==="privy"){let jt;e.createAnalyticsEvent({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:pe.address}});try{jt=await G.recover({entropyId:Pe,entropyIdVerifier:De,accessToken:be})}catch(zt){return void ue(zt)}jt.entropyId||ue(Error("Unable to recover wallet")),e.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:pe.address}}),se(!0)}else Im(Ye)&&pe.recoveryMethod!=="privy"&&pe.recoveryMethod!=="privy-v2"?(Z({recoverWallet:{entropyId:Pe,entropyIdVerifier:De,onFailure:ue,onSuccess:()=>se(!0)},recoveryOAuthStatus:{provider:pe.recoveryMethod,action:"recover",shouldCreateEth:!1,shouldCreateSol:!1}}),Fe(NJ(pe.recoveryMethod))):ue(Ye)}})),setReadyToTrue:ne=>{r(!0),V?.(ne)},updateWallets:()=>ht(),fundWallet:async(ne,se)=>{Z({funding:hB({address:ne,appConfig:z,fundWalletConfig:se,methodScreen:Pa})}),Fe(Pa)},openModal:Fe,requestFarcasterSignerStatus:async ne=>{let se=await In(),ue=h?.linkedAccounts.find((be=>be.type==="wallet"&&be.walletClientType==="privy"));if(!se)throw Error("Must have valid access token to connect with Farcaster");if(!G||!ue)throw Error("Must have an embedded wallet to use Farcaster signers");if(!h?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");let pe=await e.requestFarcasterSignerStatus(ne);return pe.status==="approved"&&u(await e.getAuthenticatedUser()||h||null),pe},connectCoinbaseSmartWallet:async()=>{z.externalWallets.coinbaseWallet.config.preference={...z.externalWallets.coinbaseWallet.config.preference,options:"smartWalletOnly"};let ne=e.connectors?.findWalletConnector("coinbase_wallet","coinbase_smart_wallet")||e.connectors?.findWalletConnector("coinbase_wallet","coinbase_wallet");if(ne)return ne.updateConnectionPreference("smartWalletOnly"),Ge(ne);await vt("coinbase_wallet","coinbase_smart_wallet")},connectBaseAccount:async()=>{let ne=e.connectors?.findWalletConnector("base_account","base_account");if(ne)return Ge(ne);await vt("base_account","base_account")},initiateAccountTransfer:async({nonce:ne,account:se,accountType:ue,externalWalletMetadata:pe,telegramAuthResult:be,telegramWebAppData:Pe,farcasterEmbeddedAddress:De,oAuthUserInfo:Ye})=>{let jt=await e.sendAccountTransferRequest({nonce:ne,account:se,accountType:ue,externalWalletMetadata:pe,telegramAuthResult:be,telegramWebAppData:Pe,farcasterEmbeddedAddress:De,oAuthUserInfo:Ye});return u(jt),jt},inProgressAuthFlowRef:Ie,inProgressLoginOrLinkMethodRef:Ce};K_=pt.recoverEmbeddedWallet,pt.recoverEmbeddedWallet;let Qn=H.useMemo((()=>({wallets:l,ready:ee&&Ee})),[l,ee,Ee]),Sn=e.authFlow instanceof Iv,Gr=!z.headless&&z.captchaEnabled&&!a&&(g||Sn);return M.jsx(G_.Provider,{value:!0,children:M.jsx(d0.Provider,{value:Ot,children:M.jsx(KK.Provider,{value:oe,children:M.jsx(cZ.Provider,{value:Qn,children:M.jsx(fLe,{...z,children:M.jsxs(YW.Provider,{value:pt,children:[M.jsx(DNe,{children:M.jsxs(ALe,{data:U,setModalData:Z,setInitialScreen:x,initialScreen:w,authenticated:a,open:c,children:[t.children,M.jsx(OHe,{customAuth:z.customAuth}),Gr&&M.jsx(KGe,{delayedExecution:!1}),M.jsx(pVe,{}),M.jsx(kVe,{disabled:z.embeddedWallets.disableAutomaticMigration}),M.jsx(nVe,{palette:z.appearance.palette||{}}),!z.render.standalone&&M.jsx(hVe,{open:c})]})}),M.jsx(mVe,{appId:t.appId,appClientId:t.clientId,clientAnalyticsId:e.clientAnalyticsId,origin:e.apiUrl,mfaMethods:h?.mfaMethods,mfaPromise:de,mfaSubmitPromise:fe,onLoad:K,onLoadFailed:()=>null}),z.loginConfig.telegramAuthConfiguration&&M.jsx(e0,{$if:!0,children:M.jsx(fVe,{scriptHost:t.apiUrl||_S,botUsername:z.loginConfig.telegramAuthConfiguration.botName})})]})})})})})})};const BHe="cmh7hev2x001ri70b4z4jmf8q";function UHe({onAuthenticated:t}){const{ready:e,authenticated:n,user:i,login:c}=A_(),[m,s]=Ze.useState(!1);return H.useEffect(()=>{e&&n&&i&&!m&&(s(!0),t(i))},[e,n,i,m]),e?n?M.jsx("div",{style:as.container,children:M.jsxs("div",{style:as.content,children:[M.jsx("h1",{style:as.title,children:" DEGEN MILITIA"}),M.jsx("p",{style:as.subtitle,children:"Loading game..."})]})}):M.jsx("div",{style:as.container,children:M.jsxs("div",{style:as.content,children:[M.jsx("h1",{style:as.title,children:" DEGEN MILITIA"}),M.jsx("p",{style:as.subtitle,children:"Mobile Multiplayer Shooter"}),M.jsx("button",{onClick:c,style:as.loginButton,onMouseEnter:g=>{g.target.style.transform="scale(1.05)",g.target.style.boxShadow="0 6px 30px rgba(157, 78, 221, 0.6)"},onMouseLeave:g=>{g.target.style.transform="scale(1)",g.target.style.boxShadow="0 4px 20px rgba(157, 78, 221, 0.4)"},onMouseDown:g=>{g.target.style.transform="scale(0.98)"},onMouseUp:g=>{g.target.style.transform="scale(1.05)"},children:" LOGIN WITH X"}),M.jsx("p",{style:as.info,children:"Secure sign-in powered by Privy"})]})}):M.jsx("div",{style:as.container,children:M.jsxs("div",{style:as.content,children:[M.jsx("h1",{style:as.title,children:" DEGEN MILITIA"}),M.jsx("p",{style:as.subtitle,children:"Initializing..."})]})})}function jHe({onAuthenticated:t}){return M.jsx(NHe,{appId:BHe,config:{loginMethods:["twitter","wallet"],appearance:{theme:"dark",accentColor:"#9D4EDD",logo:void 0},embeddedWallets:{createOnLogin:"users-without-wallets"}},children:M.jsx(UHe,{onAuthenticated:t})})}const as={container:{width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",background:"linear-gradient(135deg, #10002B 0%, #240046 50%, #3C096C 100%)",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},content:{textAlign:"center",padding:"40px"},title:{fontSize:"56px",fontWeight:"bold",color:"#9D4EDD",textShadow:"0 0 20px rgba(157, 78, 221, 0.5)",marginBottom:"20px",letterSpacing:"2px"},subtitle:{fontSize:"22px",color:"#00F5FF",marginBottom:"40px"},loginButton:{padding:"18px 56px",fontSize:"22px",fontWeight:"bold",color:"#FFFFFF",background:"linear-gradient(135deg, #9D4EDD 0%, #7B2CBF 100%)",border:"none",borderRadius:"16px",cursor:"pointer",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 4px 20px rgba(157, 78, 221, 0.4)",outline:"none",letterSpacing:"0.5px"},info:{marginTop:"30px",fontSize:"14px",color:"#888888"}};var BT=function(t,e){return BT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(n[c]=i[c])},BT(t,e)};function Z_(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");BT(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Sx=function(){return Sx=Object.assign||function(e){for(var n,i=1,c=arguments.length;i<c;i++){n=arguments[i];for(var m in n)Object.prototype.hasOwnProperty.call(n,m)&&(e[m]=n[m])}return e},Sx.apply(this,arguments)};function P0(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(t);c<i.length;c++)e.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(t,i[c])&&(n[i[c]]=t[i[c]]);return n}function J_(t,e,n,i){var c=arguments.length,m=c<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(t,e,n,i);else for(var g=t.length-1;g>=0;g--)(s=t[g])&&(m=(c<3?s(m):c>3?s(e,n,m):s(e,n))||m);return c>3&&m&&Object.defineProperty(e,n,m),m}function __(t,e){return function(n,i){e(n,i,t)}}function Q_(t,e,n,i,c,m){function s(f){if(f!==void 0&&typeof f!="function")throw new TypeError("Function expected");return f}for(var g=i.kind,r=g==="getter"?"get":g==="setter"?"set":"value",a=!e&&t?i.static?t:t.prototype:null,v=e||(a?Object.getOwnPropertyDescriptor(a,i.name):{}),h,u=!1,l=n.length-1;l>=0;l--){var o={};for(var d in i)o[d]=d==="access"?{}:i[d];for(var d in i.access)o.access[d]=i.access[d];o.addInitializer=function(f){if(u)throw new TypeError("Cannot add initializers after decoration has completed");m.push(s(f||null))};var p=(0,n[l])(g==="accessor"?{get:v.get,set:v.set}:v[r],o);if(g==="accessor"){if(p===void 0)continue;if(p===null||typeof p!="object")throw new TypeError("Object expected");(h=s(p.get))&&(v.get=h),(h=s(p.set))&&(v.set=h),(h=s(p.init))&&c.unshift(h)}else(h=s(p))&&(g==="field"?c.unshift(h):v[r]=h)}a&&Object.defineProperty(a,i.name,v),u=!0}function q_(t,e,n){for(var i=arguments.length>2,c=0;c<e.length;c++)n=i?e[c].call(t,n):e[c].call(t);return i?n:void 0}function eQ(t){return typeof t=="symbol"?t:"".concat(t)}function tQ(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function nQ(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function mt(t,e,n,i){function c(m){return m instanceof n?m:new n(function(s){s(m)})}return new(n||(n=Promise))(function(m,s){function g(v){try{a(i.next(v))}catch(h){s(h)}}function r(v){try{a(i.throw(v))}catch(h){s(h)}}function a(v){v.done?m(v.value):c(v.value).then(g,r)}a((i=i.apply(t,e||[])).next())})}function rQ(t,e){var n={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},i,c,m,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=g(0),s.throw=g(1),s.return=g(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function g(a){return function(v){return r([a,v])}}function r(a){if(i)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(n=0)),n;)try{if(i=1,c&&(m=a[0]&2?c.return:a[0]?c.throw||((m=c.return)&&m.call(c),0):c.next)&&!(m=m.call(c,a[1])).done)return m;switch(c=0,m&&(a=[a[0]&2,m.value]),a[0]){case 0:case 1:m=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,c=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(m=n.trys,!(m=m.length>0&&m[m.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!m||a[1]>m[0]&&a[1]<m[3])){n.label=a[1];break}if(a[0]===6&&n.label<m[1]){n.label=m[1],m=a;break}if(m&&n.label<m[2]){n.label=m[2],n.ops.push(a);break}m[2]&&n.ops.pop(),n.trys.pop();continue}a=e.call(t,n)}catch(v){a=[6,v],c=0}finally{i=m=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}var Tb=Object.create?(function(t,e,n,i){i===void 0&&(i=n);var c=Object.getOwnPropertyDescriptor(e,n);(!c||("get"in c?!e.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,c)}):(function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]});function iQ(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Tb(e,t,n)}function Tx(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function oP(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var i=n.call(t),c,m=[],s;try{for(;(e===void 0||e-- >0)&&!(c=i.next()).done;)m.push(c.value)}catch(g){s={error:g}}finally{try{c&&!c.done&&(n=i.return)&&n.call(i)}finally{if(s)throw s.error}}return m}function sQ(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(oP(arguments[e]));return t}function aQ(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),c=0,e=0;e<n;e++)for(var m=arguments[e],s=0,g=m.length;s<g;s++,c++)i[c]=m[s];return i}function oQ(t,e,n){if(n||arguments.length===2)for(var i=0,c=e.length,m;i<c;i++)(m||!(i in e))&&(m||(m=Array.prototype.slice.call(e,0,i)),m[i]=e[i]);return t.concat(m||Array.prototype.slice.call(e))}function r0(t){return this instanceof r0?(this.v=t,this):new r0(t)}function lQ(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),c,m=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",s),c[Symbol.asyncIterator]=function(){return this},c;function s(l){return function(o){return Promise.resolve(o).then(l,h)}}function g(l,o){i[l]&&(c[l]=function(d){return new Promise(function(p,f){m.push([l,d,p,f])>1||r(l,d)})},o&&(c[l]=o(c[l])))}function r(l,o){try{a(i[l](o))}catch(d){u(m[0][3],d)}}function a(l){l.value instanceof r0?Promise.resolve(l.value.v).then(v,h):u(m[0][2],l)}function v(l){r("next",l)}function h(l){r("throw",l)}function u(l,o){l(o),m.shift(),m.length&&r(m[0][0],m[0][1])}}function uQ(t){var e,n;return e={},i("next"),i("throw",function(c){throw c}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(c,m){e[c]=t[c]?function(s){return(n=!n)?{value:r0(t[c](s)),done:!1}:m?m(s):s}:m}}function cQ(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Tx=="function"?Tx(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(m){n[m]=t[m]&&function(s){return new Promise(function(g,r){s=t[m](s),c(g,r,s.done,s.value)})}}function c(m,s,g,r){Promise.resolve(r).then(function(a){m({value:a,done:g})},s)}}function hQ(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var zHe=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},UT=function(t){return UT=Object.getOwnPropertyNames||function(e){var n=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[n.length]=i);return n},UT(t)};function dQ(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=UT(t),i=0;i<n.length;i++)n[i]!=="default"&&Tb(e,t,n[i]);return zHe(e,t),e}function fQ(t){return t&&t.__esModule?t:{default:t}}function pQ(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)}function vQ(t,e,n,i,c){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!c:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?c.call(t,n):c?c.value=n:e.set(t,n),n}function gQ(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function mQ(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i,c;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose],n&&(c=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");c&&(i=function(){try{c.call(this)}catch(m){return Promise.reject(m)}}),t.stack.push({value:e,dispose:i,async:n})}else n&&t.stack.push({async:!0});return e}var WHe=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var i=new Error(n);return i.name="SuppressedError",i.error=t,i.suppressed=e,i};function yQ(t){function e(m){t.error=t.hasError?new WHe(m,t.error,"An error was suppressed during disposal."):m,t.hasError=!0}var n,i=0;function c(){for(;n=t.stack.pop();)try{if(!n.async&&i===1)return i=0,t.stack.push(n),Promise.resolve().then(c);if(n.dispose){var m=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(m).then(c,function(s){return e(s),c()})}else i|=1}catch(s){e(s)}if(i===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return c()}function wQ(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,i,c,m,s){return i?e?".jsx":".js":c&&(!m||!s)?n:c+m+"."+s.toLowerCase()+"js"}):t}const GHe={__extends:Z_,__assign:Sx,__rest:P0,__decorate:J_,__param:__,__esDecorate:Q_,__runInitializers:q_,__propKey:eQ,__setFunctionName:tQ,__metadata:nQ,__awaiter:mt,__generator:rQ,__createBinding:Tb,__exportStar:iQ,__values:Tx,__read:oP,__spread:sQ,__spreadArrays:aQ,__spreadArray:oQ,__await:r0,__asyncGenerator:lQ,__asyncDelegator:uQ,__asyncValues:cQ,__makeTemplateObject:hQ,__importStar:dQ,__importDefault:fQ,__classPrivateFieldGet:pQ,__classPrivateFieldSet:vQ,__classPrivateFieldIn:gQ,__addDisposableResource:mQ,__disposeResources:yQ,__rewriteRelativeImportExtension:wQ},VHe=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:mQ,get __assign(){return Sx},__asyncDelegator:uQ,__asyncGenerator:lQ,__asyncValues:cQ,__await:r0,__awaiter:mt,__classPrivateFieldGet:pQ,__classPrivateFieldIn:gQ,__classPrivateFieldSet:vQ,__createBinding:Tb,__decorate:J_,__disposeResources:yQ,__esDecorate:Q_,__exportStar:iQ,__extends:Z_,__generator:rQ,__importDefault:fQ,__importStar:dQ,__makeTemplateObject:hQ,__metadata:nQ,__param:__,__propKey:eQ,__read:oP,__rest:P0,__rewriteRelativeImportExtension:wQ,__runInitializers:q_,__setFunctionName:tQ,__spread:sQ,__spreadArray:oQ,__spreadArrays:aQ,__values:Tx,default:GHe},Symbol.toStringTag,{value:"Module"})),HHe=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Fi(async()=>{const{default:i}=await Promise.resolve().then(()=>Bd);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)};class lP extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class LB extends lP{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class DB extends lP{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class NB extends lP{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var jT;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(jT||(jT={}));class YHe{constructor(e,{headers:n={},customFetch:i,region:c=jT.Any}={}){this.url=e,this.headers=n,this.region=c,this.fetch=HHe(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return mt(this,arguments,void 0,function*(n,i={}){var c;try{const{headers:m,method:s,body:g,signal:r}=i;let a={},{region:v}=i;v||(v=this.region);const h=new URL(`${this.url}/${n}`);v&&v!=="any"&&(a["x-region"]=v,h.searchParams.set("forceFunctionRegion",v));let u;g&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=g):typeof g=="string"?(a["Content-Type"]="text/plain",u=g):typeof FormData<"u"&&g instanceof FormData?u=g:(a["Content-Type"]="application/json",u=JSON.stringify(g)):u=g;const l=yield this.fetch(h.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),m),body:u,signal:r}).catch(f=>{throw f.name==="AbortError"?f:new LB(f)}),o=l.headers.get("x-relay-error");if(o&&o==="true")throw new DB(l);if(!l.ok)throw new NB(l);let d=((c=l.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),p;return d==="application/json"?p=yield l.json():d==="application/octet-stream"||d==="application/pdf"?p=yield l.blob():d==="text/event-stream"?p=l:d==="multipart/form-data"?p=yield l.formData():p=yield l.text(),{data:p,error:null,response:l}}catch(m){return m instanceof Error&&m.name==="AbortError"?{data:null,error:new LB(m)}:{data:null,error:m,response:m instanceof NB||m instanceof DB?m.context:void 0}}})}}var Ii={};const I0=Rx(VHe);var R2={},O2={},M2={},$2={},F2={},XHe=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},i0=XHe();const KHe=i0.fetch,xQ=i0.fetch.bind(i0),bQ=i0.Headers,ZHe=i0.Request,JHe=i0.Response,Bd=Object.freeze(Object.defineProperty({__proto__:null,Headers:bQ,Request:ZHe,Response:JHe,default:xQ,fetch:KHe},Symbol.toStringTag,{value:"Module"})),_He=Rx(Bd);var L2={},kB;function EQ(){if(kB)return L2;kB=1,Object.defineProperty(L2,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return L2.default=t,L2}var BB;function CQ(){if(BB)return F2;BB=1,Object.defineProperty(F2,"__esModule",{value:!0});const t=I0,e=t.__importDefault(_He),n=t.__importDefault(EQ());class i{constructor(m){var s,g;this.shouldThrowOnError=!1,this.method=m.method,this.url=m.url,this.headers=new Headers(m.headers),this.schema=m.schema,this.body=m.body,this.shouldThrowOnError=(s=m.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=m.signal,this.isMaybeSingle=(g=m.isMaybeSingle)!==null&&g!==void 0?g:!1,m.fetch?this.fetch=m.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(m,s){return this.headers=new Headers(this.headers),this.headers.set(m,s),this}then(m,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const g=this.fetch;let r=g(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var v,h,u,l;let o=null,d=null,p=null,f=a.status,y=a.statusText;if(a.ok){if(this.method!=="HEAD"){const E=await a.text();E===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((v=this.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?d=E:d=JSON.parse(E))}const x=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),b=(u=a.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");x&&b&&b.length>1&&(p=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(o={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,p=null,f=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await a.text();try{o=JSON.parse(x),Array.isArray(o)&&a.status===404&&(d=[],o=null,f=200,y="OK")}catch{a.status===404&&x===""?(f=204,y="No Content"):o={message:x}}if(o&&this.isMaybeSingle&&(!((l=o?.details)===null||l===void 0)&&l.includes("0 rows"))&&(o=null,f=200,y="OK"),o&&this.shouldThrowOnError)throw new n.default(o)}return{error:o,data:d,count:p,status:f,statusText:y}});return this.shouldThrowOnError||(r=r.catch(a=>{var v,h,u;return{error:{message:`${(v=a?.name)!==null&&v!==void 0?v:"FetchError"}: ${a?.message}`,details:`${(h=a?.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(u=a?.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),r.then(m,s)}returns(){return this}overrideTypes(){return this}}return F2.default=i,F2}var UB;function SQ(){if(UB)return $2;UB=1,Object.defineProperty($2,"__esModule",{value:!0});const e=I0.__importDefault(CQ());class n extends e.default{select(c){let m=!1;const s=(c??"*").split("").map(g=>/\s/.test(g)&&!m?"":(g==='"'&&(m=!m),g)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(c,{ascending:m=!0,nullsFirst:s,foreignTable:g,referencedTable:r=g}={}){const a=r?`${r}.order`:"order",v=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${v?`${v},`:""}${c}.${m?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(c,{foreignTable:m,referencedTable:s=m}={}){const g=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(g,`${c}`),this}range(c,m,{foreignTable:s,referencedTable:g=s}={}){const r=typeof g>"u"?"offset":`${g}.offset`,a=typeof g>"u"?"limit":`${g}.limit`;return this.url.searchParams.set(r,`${c}`),this.url.searchParams.set(a,`${m-c+1}`),this}abortSignal(c){return this.signal=c,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:c=!1,verbose:m=!1,settings:s=!1,buffers:g=!1,wal:r=!1,format:a="text"}={}){var v;const h=[c?"analyze":null,m?"verbose":null,s?"settings":null,g?"buffers":null,r?"wal":null].filter(Boolean).join("|"),u=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${u}"; options=${h};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(c){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${c}`),this}}return $2.default=n,$2}var jB;function uP(){if(jB)return M2;jB=1,Object.defineProperty(M2,"__esModule",{value:!0});const e=I0.__importDefault(SQ());class n extends e.default{eq(c,m){return this.url.searchParams.append(c,`eq.${m}`),this}neq(c,m){return this.url.searchParams.append(c,`neq.${m}`),this}gt(c,m){return this.url.searchParams.append(c,`gt.${m}`),this}gte(c,m){return this.url.searchParams.append(c,`gte.${m}`),this}lt(c,m){return this.url.searchParams.append(c,`lt.${m}`),this}lte(c,m){return this.url.searchParams.append(c,`lte.${m}`),this}like(c,m){return this.url.searchParams.append(c,`like.${m}`),this}likeAllOf(c,m){return this.url.searchParams.append(c,`like(all).{${m.join(",")}}`),this}likeAnyOf(c,m){return this.url.searchParams.append(c,`like(any).{${m.join(",")}}`),this}ilike(c,m){return this.url.searchParams.append(c,`ilike.${m}`),this}ilikeAllOf(c,m){return this.url.searchParams.append(c,`ilike(all).{${m.join(",")}}`),this}ilikeAnyOf(c,m){return this.url.searchParams.append(c,`ilike(any).{${m.join(",")}}`),this}is(c,m){return this.url.searchParams.append(c,`is.${m}`),this}in(c,m){const s=Array.from(new Set(m)).map(g=>typeof g=="string"&&new RegExp("[,()]").test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(c,`in.(${s})`),this}contains(c,m){return typeof m=="string"?this.url.searchParams.append(c,`cs.${m}`):Array.isArray(m)?this.url.searchParams.append(c,`cs.{${m.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(m)}`),this}containedBy(c,m){return typeof m=="string"?this.url.searchParams.append(c,`cd.${m}`):Array.isArray(m)?this.url.searchParams.append(c,`cd.{${m.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(m)}`),this}rangeGt(c,m){return this.url.searchParams.append(c,`sr.${m}`),this}rangeGte(c,m){return this.url.searchParams.append(c,`nxl.${m}`),this}rangeLt(c,m){return this.url.searchParams.append(c,`sl.${m}`),this}rangeLte(c,m){return this.url.searchParams.append(c,`nxr.${m}`),this}rangeAdjacent(c,m){return this.url.searchParams.append(c,`adj.${m}`),this}overlaps(c,m){return typeof m=="string"?this.url.searchParams.append(c,`ov.${m}`):this.url.searchParams.append(c,`ov.{${m.join(",")}}`),this}textSearch(c,m,{config:s,type:g}={}){let r="";g==="plain"?r="pl":g==="phrase"?r="ph":g==="websearch"&&(r="w");const a=s===void 0?"":`(${s})`;return this.url.searchParams.append(c,`${r}fts${a}.${m}`),this}match(c){return Object.entries(c).forEach(([m,s])=>{this.url.searchParams.append(m,`eq.${s}`)}),this}not(c,m,s){return this.url.searchParams.append(c,`not.${m}.${s}`),this}or(c,{foreignTable:m,referencedTable:s=m}={}){const g=s?`${s}.or`:"or";return this.url.searchParams.append(g,`(${c})`),this}filter(c,m,s){return this.url.searchParams.append(c,`${m}.${s}`),this}}return M2.default=n,M2}var zB;function TQ(){if(zB)return O2;zB=1,Object.defineProperty(O2,"__esModule",{value:!0});const e=I0.__importDefault(uP());class n{constructor(c,{headers:m={},schema:s,fetch:g}){this.url=c,this.headers=new Headers(m),this.schema=s,this.fetch=g}select(c,m){const{head:s=!1,count:g}=m??{},r=s?"HEAD":"GET";let a=!1;const v=(c??"*").split("").map(h=>/\s/.test(h)&&!a?"":(h==='"'&&(a=!a),h)).join("");return this.url.searchParams.set("select",v),g&&this.headers.append("Prefer",`count=${g}`),new e.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(c,{count:m,defaultToNull:s=!0}={}){var g;const r="POST";if(m&&this.headers.append("Prefer",`count=${m}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const a=c.reduce((v,h)=>v.concat(Object.keys(h)),[]);if(a.length>0){const v=[...new Set(a)].map(h=>`"${h}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}upsert(c,{onConflict:m,ignoreDuplicates:s=!1,count:g,defaultToNull:r=!0}={}){var a;const v="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),m!==void 0&&this.url.searchParams.set("on_conflict",m),g&&this.headers.append("Prefer",`count=${g}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const h=c.reduce((u,l)=>u.concat(Object.keys(l)),[]);if(h.length>0){const u=[...new Set(h)].map(l=>`"${l}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(c,{count:m}={}){var s;const g="PATCH";return m&&this.headers.append("Prefer",`count=${m}`),new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:c}={}){var m;const s="DELETE";return c&&this.headers.append("Prefer",`count=${c}`),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}}return O2.default=n,O2}var WB;function QHe(){if(WB)return R2;WB=1,Object.defineProperty(R2,"__esModule",{value:!0});const t=I0,e=t.__importDefault(TQ()),n=t.__importDefault(uP());class i{constructor(m,{headers:s={},schema:g,fetch:r}={}){this.url=m,this.headers=new Headers(s),this.schemaName=g,this.fetch=r}from(m){const s=new URL(`${this.url}/${m}`);return new e.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(m){return new i(this.url,{headers:this.headers,schema:m,fetch:this.fetch})}rpc(m,s={},{head:g=!1,get:r=!1,count:a}={}){var v;let h;const u=new URL(`${this.url}/rpc/${m}`);let l;g||r?(h=g?"HEAD":"GET",Object.entries(s).filter(([d,p])=>p!==void 0).map(([d,p])=>[d,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([d,p])=>{u.searchParams.append(d,p)})):(h="POST",l=s);const o=new Headers(this.headers);return a&&o.set("Prefer",`count=${a}`),new n.default({method:h,url:u,headers:o,schema:this.schemaName,body:l,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return R2.default=i,R2}var GB;function qHe(){if(GB)return Ii;GB=1,Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.PostgrestError=Ii.PostgrestBuilder=Ii.PostgrestTransformBuilder=Ii.PostgrestFilterBuilder=Ii.PostgrestQueryBuilder=Ii.PostgrestClient=void 0;const t=I0,e=t.__importDefault(QHe());Ii.PostgrestClient=e.default;const n=t.__importDefault(TQ());Ii.PostgrestQueryBuilder=n.default;const i=t.__importDefault(uP());Ii.PostgrestFilterBuilder=i.default;const c=t.__importDefault(SQ());Ii.PostgrestTransformBuilder=c.default;const m=t.__importDefault(CQ());Ii.PostgrestBuilder=m.default;const s=t.__importDefault(EQ());return Ii.PostgrestError=s.default,Ii.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:c.default,PostgrestBuilder:m.default,PostgrestError:s.default},Ii}var eYe=qHe();const tYe=La(eYe),{PostgrestClient:nYe,PostgrestQueryBuilder:j_e,PostgrestFilterBuilder:z_e,PostgrestTransformBuilder:W_e,PostgrestBuilder:G_e,PostgrestError:V_e}=tYe;class rYe{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const i=n.node,c=parseInt(i.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const i=this.getWebSocketConstructor();return new i(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const iYe="2.76.1",sYe=`realtime-js/${iYe}`,aYe="1.0.0",zT=1e4,oYe=1e3,lYe=100;var Eg;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Eg||(Eg={}));var Dr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Dr||(Dr={}));var no;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(no||(no={}));var WT;(function(t){t.websocket="websocket"})(WT||(WT={}));var Th;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Th||(Th={}));class uYe{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,n,i)}_decodeBroadcast(e,n,i){const c=n.getUint8(1),m=n.getUint8(2);let s=this.HEADER_LENGTH+2;const g=i.decode(e.slice(s,s+c));s=s+c;const r=i.decode(e.slice(s,s+m));s=s+m;const a=JSON.parse(i.decode(e.slice(s,e.byteLength)));return{ref:null,topic:g,event:r,payload:a}}}class AQ{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Fn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Fn||(Fn={}));const VB=(t,e,n={})=>{var i;const c=(i=n.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((m,s)=>(m[s]=cYe(s,t,e,c),m),{}):{}},cYe=(t,e,n,i)=>{const c=e.find(g=>g.name===t),m=c?.type,s=n[t];return m&&!i.includes(m)?PQ(m,s):GT(s)},PQ=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return pYe(e,n)}switch(t){case Fn.bool:return hYe(e);case Fn.float4:case Fn.float8:case Fn.int2:case Fn.int4:case Fn.int8:case Fn.numeric:case Fn.oid:return dYe(e);case Fn.json:case Fn.jsonb:return fYe(e);case Fn.timestamp:return vYe(e);case Fn.abstime:case Fn.date:case Fn.daterange:case Fn.int4range:case Fn.int8range:case Fn.money:case Fn.reltime:case Fn.text:case Fn.time:case Fn.timestamptz:case Fn.timetz:case Fn.tsrange:case Fn.tstzrange:return GT(e);default:return GT(e)}},GT=t=>t,hYe=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},dYe=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},fYe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},pYe=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,i=t[n];if(t[0]==="{"&&i==="}"){let m;const s=t.slice(1,n);try{m=JSON.parse("["+s+"]")}catch{m=s?s.split(","):[]}return m.map(g=>PQ(e,g))}return t},vYe=t=>typeof t=="string"?t.replace(" ","T"):t,IQ=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class y8{constructor(e,n,i={},c=zT){this.channel=e,this.event=n,this.payload=i,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var HB;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(HB||(HB={}));class Cg{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},c=>{const{onJoin:m,onLeave:s,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Cg.syncState(this.state,c,m,s),this.pendingDiffs.forEach(r=>{this.state=Cg.syncDiff(this.state,r,m,s)}),this.pendingDiffs=[],g()}),this.channel._on(i.diff,{},c=>{const{onJoin:m,onLeave:s,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Cg.syncDiff(this.state,c,m,s),g())}),this.onJoin((c,m,s)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:m,newPresences:s})}),this.onLeave((c,m,s)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:m,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,c){const m=this.cloneDeep(e),s=this.transformState(n),g={},r={};return this.map(m,(a,v)=>{s[a]||(r[a]=v)}),this.map(s,(a,v)=>{const h=m[a];if(h){const u=v.map(p=>p.presence_ref),l=h.map(p=>p.presence_ref),o=v.filter(p=>l.indexOf(p.presence_ref)<0),d=h.filter(p=>u.indexOf(p.presence_ref)<0);o.length>0&&(g[a]=o),d.length>0&&(r[a]=d)}else g[a]=v}),this.syncDiff(m,{joins:g,leaves:r},i,c)}static syncDiff(e,n,i,c){const{joins:m,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),c||(c=()=>{}),this.map(m,(g,r)=>{var a;const v=(a=e[g])!==null&&a!==void 0?a:[];if(e[g]=this.cloneDeep(r),v.length>0){const h=e[g].map(l=>l.presence_ref),u=v.filter(l=>h.indexOf(l.presence_ref)<0);e[g].unshift(...u)}i(g,v,r)}),this.map(s,(g,r)=>{let a=e[g];if(!a)return;const v=r.map(h=>h.presence_ref);a=a.filter(h=>v.indexOf(h.presence_ref)<0),e[g]=a,c(g,a,r),a.length===0&&delete e[g]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const c=e[i];return"metas"in c?n[i]=c.metas.map(m=>(m.presence_ref=m.phx_ref,delete m.phx_ref,delete m.phx_ref_prev,m)):n[i]=c,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var YB;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(YB||(YB={}));var Sg;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Sg||(Sg={}));var Zl;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Zl||(Zl={}));class cP{constructor(e,n={config:{}},i){var c,m;if(this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=Dr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new y8(this,no.join,this.params,this.timeout),this.rejoinTimer=new AQ(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Dr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Dr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Dr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Dr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Dr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(no.reply,{},(s,g)=>{this._trigger(this._replyEventName(g),s)}),this.presence=new Cg(this),this.broadcastEndpointURL=IQ(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((m=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||m===void 0)&&m.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var i,c,m;if(this.socket.isConnected()||this.socket.connect(),this.state==Dr.closed){const{config:{broadcast:s,presence:g,private:r}}=this.params,a=(c=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(l=>l.filter))!==null&&c!==void 0?c:[],v=!!this.bindings[Sg.PRESENCE]&&this.bindings[Sg.PRESENCE].length>0||((m=this.params.config.presence)===null||m===void 0?void 0:m.enabled)===!0,h={},u={broadcast:s,presence:Object.assign(Object.assign({},g),{enabled:v}),postgres_changes:a,private:r};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(l=>e?.(Zl.CHANNEL_ERROR,l)),this._onClose(()=>e?.(Zl.CLOSED)),this.updateJoinPayload(Object.assign({config:u},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:l})=>{var o;if(this.socket.setAuth(),l===void 0){e?.(Zl.SUBSCRIBED);return}else{const d=this.bindings.postgres_changes,p=(o=d?.length)!==null&&o!==void 0?o:0,f=[];for(let y=0;y<p;y++){const w=d[y],{filter:{event:x,schema:b,table:E,filter:C}}=w,T=l&&l[y];if(T&&T.event===x&&T.schema===b&&T.table===E&&T.filter===C)f.push(Object.assign(Object.assign({},w),{id:T.id}));else{this.unsubscribe(),this.state=Dr.errored,e?.(Zl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=f,e&&e(Zl.SUBSCRIBED);return}}).receive("error",l=>{this.state=Dr.errored,e?.(Zl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(l).join(", ")||"error")))}).receive("timeout",()=>{e?.(Zl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this.state===Dr.joined&&e===Sg.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,i)}async httpSend(e,n,i={}){var c;const m=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:m,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(c=i.timeout)!==null&&c!==void 0?c:this.timeout);if(g.status===202)return{success:!0};let r=g.statusText;try{const a=await g.json();r=a.error||a.message||r}catch{}return Promise.reject(new Error(r))}async send(e,n={}){var i,c;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:m,payload:s}=e,r={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:m,payload:s,private:this.private}]})};try{const a=await this._fetchWithTimeout(this.broadcastEndpointURL,r,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((c=a.body)===null||c===void 0?void 0:c.cancel()),a.ok?"ok":"error"}catch(a){return a.name==="AbortError"?"timed out":"error"}}else return new Promise(m=>{var s,g,r;const a=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((r=(g=(s=this.params)===null||s===void 0?void 0:s.config)===null||g===void 0?void 0:g.broadcast)===null||r===void 0)&&r.ack)&&m("ok"),a.receive("ok",()=>m("ok")),a.receive("error",()=>m("error")),a.receive("timeout",()=>m("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Dr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(no.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(c=>{i=new y8(this,no.leave,{},e),i.receive("ok",()=>{n(),c("ok")}).receive("timeout",()=>{n(),c("timed out")}).receive("error",()=>{c("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Dr.closed,this.bindings={}}async _fetchWithTimeout(e,n,i){const c=new AbortController,m=setTimeout(()=>c.abort(),i),s=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:c.signal}));return clearTimeout(m),s}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new y8(this,e,n,i);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>lYe){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var c,m;const s=e.toLocaleLowerCase(),{close:g,error:r,leave:a,join:v}=no;if(i&&[g,r,a,v].indexOf(s)>=0&&i!==this._joinRef())return;let u=this._onMessage(s,n,i);if(n&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(l=>{var o,d,p;return((o=l.filter)===null||o===void 0?void 0:o.event)==="*"||((p=(d=l.filter)===null||d===void 0?void 0:d.event)===null||p===void 0?void 0:p.toLocaleLowerCase())===s}).map(l=>l.callback(u,i)):(m=this.bindings[s])===null||m===void 0||m.filter(l=>{var o,d,p,f,y,w;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in l){const x=l.id,b=(o=l.filter)===null||o===void 0?void 0:o.event;return x&&((d=n.ids)===null||d===void 0?void 0:d.includes(x))&&(b==="*"||b?.toLocaleLowerCase()===((p=n.data)===null||p===void 0?void 0:p.type.toLocaleLowerCase()))}else{const x=(y=(f=l?.filter)===null||f===void 0?void 0:f.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return x==="*"||x===((w=n?.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return l.type.toLocaleLowerCase()===s}).map(l=>{if(typeof u=="object"&&"ids"in u){const o=u.data,{schema:d,table:p,commit_timestamp:f,type:y,errors:w}=o;u=Object.assign(Object.assign({},{schema:d,table:p,commit_timestamp:f,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(o))}l.callback(u,i)})}_isClosed(){return this.state===Dr.closed}_isJoined(){return this.state===Dr.joined}_isJoining(){return this.state===Dr.joining}_isLeaving(){return this.state===Dr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,i){const c=e.toLocaleLowerCase(),m={type:c,filter:n,callback:i};return this.bindings[c]?this.bindings[c].push(m):this.bindings[c]=[m],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(c=>{var m;return!(((m=c.type)===null||m===void 0?void 0:m.toLocaleLowerCase())===i&&cP.isEqual(c.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(no.close,{},e)}_onError(e){this._on(no.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Dr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=VB(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=VB(e.columns,e.old_record)),n}}const w8=()=>{},D2={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},gYe=[1e3,2e3,5e3,1e4],mYe=1e4,yYe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class wYe{constructor(e,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=zT,this.transport=null,this.heartbeatIntervalMs=D2.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=w8,this.ref=0,this.reconnectTimer=null,this.logger=w8,this.conn=null,this.sendBuffer=[],this.serializer=new uYe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>{let m;return c?m=c:typeof fetch>"u"?m=(...s)=>Fi(async()=>{const{default:g}=await Promise.resolve().then(()=>Bd);return{default:g}},void 0).then(({default:g})=>g(...s)).catch(g=>{throw new Error(`Failed to load @supabase/node-fetch: ${g.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):m=fetch,(...s)=>m(...s)},!(!((i=n?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${WT.websocket}`,this.httpEndpoint=IQ(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=rYe.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:aYe}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Eg.connecting:return Th.Connecting;case Eg.open:return Th.Open;case Eg.closing:return Th.Closing;default:return Th.Closed}}isConnected(){return this.connectionState()===Th.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const i=`realtime:${e}`,c=this.getChannels().find(m=>m.topic===i);if(c)return c;{const m=new cP(`realtime:${e}`,n,this);return this.channels.push(m),m}}push(e){const{topic:n,event:i,payload:c,ref:m}=e,s=()=>{this.encode(e,g=>{var r;(r=this.conn)===null||r===void 0||r.send(g)})};this.log("push",`${n} ${i} (${m})`,c),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(oYe,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},D2.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(a){this.log("error","error in heartbeat callback",a)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:c,payload:m,ref:s}=n,g=s?`(${s})`:"",r=m.status||"";this.log("receive",`${r} ${i} ${c} ${g}`.trim(),m),this.channels.filter(a=>a._isMember(i)).forEach(a=>a._trigger(c,m,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(no.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",c=new URLSearchParams(n);return`${e}${i}${c}`}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([yYe],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const c={access_token:n,version:sYe};n&&i.updateJoinPayload(c),i.joinedOnce&&i._isJoined()&&i._push(no.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(n)}catch(c){this.log("error",`error in ${e} callback`,c)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new AQ(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},D2.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,i,c,m,s,g,r,a,v;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:zT,this.heartbeatIntervalMs=(c=e?.heartbeatIntervalMs)!==null&&c!==void 0?c:D2.HEARTBEAT_INTERVAL,this.worker=(m=e?.worker)!==null&&m!==void 0?m:!1,this.accessToken=(s=e?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(g=e?.heartbeatCallback)!==null&&g!==void 0?g:w8,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(r=e?.reconnectAfterMs)!==null&&r!==void 0?r:(h=>gYe[h-1]||mYe),this.encode=(a=e?.encode)!==null&&a!==void 0?a:((h,u)=>u(JSON.stringify(h))),this.decode=(v=e?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class hP extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function rr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class xYe extends hP{constructor(e,n,i){super(e),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class VT extends hP{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const dP=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Fi(async()=>{const{default:i}=await Promise.resolve().then(()=>Bd);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},bYe=()=>mt(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Fi(()=>Promise.resolve().then(()=>Bd),void 0)).Response:Response}),HT=t=>{if(Array.isArray(t))return t.map(n=>HT(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,i])=>{const c=n.replace(/([-_][a-z])/gi,m=>m.toUpperCase().replace(/[-_]/g,""));e[c]=HT(i)}),e},EYe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},x8=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),CYe=(t,e,n)=>mt(void 0,void 0,void 0,function*(){const i=yield bYe();t instanceof i&&!n?.noResolveJson?t.json().then(c=>{const m=t.status||500,s=c?.statusCode||m+"";e(new xYe(x8(c),m,s))}).catch(c=>{e(new VT(x8(c),c))}):e(new VT(x8(t),t))}),SYe=(t,e,n,i)=>{const c={method:t,headers:e?.headers||{}};return t==="GET"||!i?c:(EYe(i)?(c.headers=Object.assign({"Content-Type":"application/json"},e?.headers),c.body=JSON.stringify(i)):c.body=i,e?.duplex&&(c.duplex=e.duplex),Object.assign(Object.assign({},c),n))};function R1(t,e,n,i,c,m){return mt(this,void 0,void 0,function*(){return new Promise((s,g)=>{t(n,SYe(e,i,c,m)).then(r=>{if(!r.ok)throw r;return i?.noResolveJson?r:r.json()}).then(r=>s(r)).catch(r=>CYe(r,g,i))})})}function Nm(t,e,n,i){return mt(this,void 0,void 0,function*(){return R1(t,"GET",e,n,i)})}function to(t,e,n,i,c){return mt(this,void 0,void 0,function*(){return R1(t,"POST",e,i,c,n)})}function YT(t,e,n,i,c){return mt(this,void 0,void 0,function*(){return R1(t,"PUT",e,i,c,n)})}function TYe(t,e,n,i){return mt(this,void 0,void 0,function*(){return R1(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function fP(t,e,n,i,c){return mt(this,void 0,void 0,function*(){return R1(t,"DELETE",e,i,c,n)})}class AYe{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return mt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(rr(e))return{data:null,error:e};throw e}})}}var RQ;class PYe{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[RQ]="BlobDownloadBuilder",this.promise=null}asStream(){return new AYe(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return mt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(rr(e))return{data:null,error:e};throw e}})}}RQ=Symbol.toStringTag;const IYe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},XB={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class RYe{constructor(e,n={},i,c){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=i,this.fetch=dP(c)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,i,c){return mt(this,void 0,void 0,function*(){try{let m;const s=Object.assign(Object.assign({},XB),c);let g=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const r=s.metadata;typeof Blob<"u"&&i instanceof Blob?(m=new FormData,m.append("cacheControl",s.cacheControl),r&&m.append("metadata",this.encodeMetadata(r)),m.append("",i)):typeof FormData<"u"&&i instanceof FormData?(m=i,m.append("cacheControl",s.cacheControl),r&&m.append("metadata",this.encodeMetadata(r))):(m=i,g["cache-control"]=`max-age=${s.cacheControl}`,g["content-type"]=s.contentType,r&&(g["x-metadata"]=this.toBase64(this.encodeMetadata(r)))),c?.headers&&(g=Object.assign(Object.assign({},g),c.headers));const a=this._removeEmptyFolders(n),v=this._getFinalPath(a),h=yield(e=="PUT"?YT:to)(this.fetch,`${this.url}/object/${v}`,m,Object.assign({headers:g},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:a,id:h.Id,fullPath:h.Key},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(rr(m))return{data:null,error:m};throw m}})}upload(e,n,i){return mt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,i)})}uploadToSignedUrl(e,n,i,c){return mt(this,void 0,void 0,function*(){const m=this._removeEmptyFolders(e),s=this._getFinalPath(m),g=new URL(this.url+`/object/upload/sign/${s}`);g.searchParams.set("token",n);try{let r;const a=Object.assign({upsert:XB.upsert},c),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(a.upsert)});typeof Blob<"u"&&i instanceof Blob?(r=new FormData,r.append("cacheControl",a.cacheControl),r.append("",i)):typeof FormData<"u"&&i instanceof FormData?(r=i,r.append("cacheControl",a.cacheControl)):(r=i,v["cache-control"]=`max-age=${a.cacheControl}`,v["content-type"]=a.contentType);const h=yield YT(this.fetch,g.toString(),r,{headers:v});return{data:{path:m,fullPath:h.Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}})}createSignedUploadUrl(e,n){return mt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const c=Object.assign({},this.headers);n?.upsert&&(c["x-upsert"]="true");const m=yield to(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:c}),s=new URL(this.url+m.url),g=s.searchParams.get("token");if(!g)throw new hP("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:g},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rr(i))return{data:null,error:i};throw i}})}update(e,n,i){return mt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,i)})}move(e,n,i){return mt(this,void 0,void 0,function*(){try{return{data:yield to(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(rr(c))return{data:null,error:c};throw c}})}copy(e,n,i){return mt(this,void 0,void 0,function*(){try{return{data:{path:(yield to(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(rr(c))return{data:null,error:c};throw c}})}createSignedUrl(e,n,i){return mt(this,void 0,void 0,function*(){try{let c=this._getFinalPath(e),m=yield to(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:n},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const s=i?.download?`&download=${i.download===!0?"":i.download}`:"";return m={signedUrl:encodeURI(`${this.url}${m.signedURL}${s}`)},{data:m,error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(rr(c))return{data:null,error:c};throw c}})}createSignedUrls(e,n,i){return mt(this,void 0,void 0,function*(){try{const c=yield to(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),m=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:c.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${m}`):null})),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(rr(c))return{data:null,error:c};throw c}})}download(e,n){const c=typeof n?.transform<"u"?"render/image/authenticated":"object",m=this.transformOptsToQueryString(n?.transform||{}),s=m?`?${m}`:"",g=this._getFinalPath(e),r=()=>Nm(this.fetch,`${this.url}/${c}/${g}${s}`,{headers:this.headers,noResolveJson:!0});return new PYe(r,this.shouldThrowOnError)}info(e){return mt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const i=yield Nm(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:HT(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rr(i))return{data:null,error:i};throw i}})}exists(e){return mt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield TYe(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rr(i)&&i instanceof VT){const c=i.originalError;if([400,404].includes(c?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,n){const i=this._getFinalPath(e),c=[],m=n?.download?`download=${n.download===!0?"":n.download}`:"";m!==""&&c.push(m);const g=typeof n?.transform<"u"?"render/image":"object",r=this.transformOptsToQueryString(n?.transform||{});r!==""&&c.push(r);let a=c.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${g}/public/${i}${a}`)}}}remove(e){return mt(this,void 0,void 0,function*(){try{return{data:yield fP(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}list(e,n,i){return mt(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},IYe),n),{prefix:e||""});return{data:yield to(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},i),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(rr(c))return{data:null,error:c};throw c}})}listV2(e,n){return mt(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield to(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rr(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const OQ="2.76.1",MQ={"X-Client-Info":`storage-js/${OQ}`};class OYe{constructor(e,n={},i,c){this.shouldThrowOnError=!1;const m=new URL(e);c?.useNewHostname&&/supabase\.(co|in|red)$/.test(m.hostname)&&!m.hostname.includes("storage.supabase.")&&(m.hostname=m.hostname.replace("supabase.","storage.supabase.")),this.url=m.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},MQ),n),this.fetch=dP(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return mt(this,void 0,void 0,function*(){try{return{data:yield Nm(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(rr(e))return{data:null,error:e};throw e}})}getBucket(e){return mt(this,void 0,void 0,function*(){try{return{data:yield Nm(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}createBucket(e){return mt(this,arguments,void 0,function*(n,i={public:!1}){try{return{data:yield to(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(rr(c))return{data:null,error:c};throw c}})}updateBucket(e,n){return mt(this,void 0,void 0,function*(){try{return{data:yield YT(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rr(i))return{data:null,error:i};throw i}})}emptyBucket(e){return mt(this,void 0,void 0,function*(){try{return{data:yield to(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}deleteBucket(e){return mt(this,void 0,void 0,function*(){try{return{data:yield fP(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}}class MYe{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},MQ),n),this.fetch=dP(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return mt(this,void 0,void 0,function*(){try{return{data:yield to(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}listBuckets(e){return mt(this,void 0,void 0,function*(){try{const n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const i=n.toString(),c=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`,m=yield Nm(this.fetch,c,{headers:this.headers});return{data:Array.isArray(m)?m.filter(g=>g.type==="ANALYTICS"):[],error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}deleteBucket(e){return mt(this,void 0,void 0,function*(){try{return{data:yield fP(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}}const pP={"X-Client-Info":`storage-js/${OQ}`,"Content-Type":"application/json"};class $Q extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Xs(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class b8 extends $Q{constructor(e,n,i){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class $Ye extends $Q{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var KB;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(KB||(KB={}));const vP=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Fi(async()=>{const{default:i}=await Promise.resolve().then(()=>Bd);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},FYe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ZB=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),LYe=(t,e,n)=>mt(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const c=t.status||500,m=t;if(typeof m.json=="function")m.json().then(s=>{const g=s?.statusCode||s?.code||c+"";e(new b8(ZB(s),c,g))}).catch(()=>{const s=c+"",g=m.statusText||`HTTP ${c} error`;e(new b8(g,c,s))});else{const s=c+"",g=m.statusText||`HTTP ${c} error`;e(new b8(g,c,s))}}else e(new $Ye(ZB(t),t))}),DYe=(t,e,n,i)=>{const c={method:t,headers:e?.headers||{}};return i?(FYe(i)?(c.headers=Object.assign({"Content-Type":"application/json"},e?.headers),c.body=JSON.stringify(i)):c.body=i,Object.assign(Object.assign({},c),n)):c};function NYe(t,e,n,i,c,m){return mt(this,void 0,void 0,function*(){return new Promise((s,g)=>{t(n,DYe(e,i,c,m)).then(r=>{if(!r.ok)throw r;if(i?.noResolveJson)return r;const a=r.headers.get("content-type");return!a||!a.includes("application/json")?{}:r.json()}).then(r=>s(r)).catch(r=>LYe(r,g,i))})})}function Ks(t,e,n,i,c){return mt(this,void 0,void 0,function*(){return NYe(t,"POST",e,i,c,n)})}class kYe{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},pP),n),this.fetch=vP(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return mt(this,void 0,void 0,function*(){try{return{data:(yield Ks(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xs(n))return{data:null,error:n};throw n}})}getIndex(e,n){return mt(this,void 0,void 0,function*(){try{return{data:yield Ks(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xs(i))return{data:null,error:i};throw i}})}listIndexes(e){return mt(this,void 0,void 0,function*(){try{return{data:yield Ks(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xs(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return mt(this,void 0,void 0,function*(){try{return{data:(yield Ks(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xs(i))return{data:null,error:i};throw i}})}}class BYe{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},pP),n),this.fetch=vP(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return mt(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ks(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xs(n))return{data:null,error:n};throw n}})}getVectors(e){return mt(this,void 0,void 0,function*(){try{return{data:yield Ks(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xs(n))return{data:null,error:n};throw n}})}listVectors(e){return mt(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Ks(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xs(n))return{data:null,error:n};throw n}})}queryVectors(e){return mt(this,void 0,void 0,function*(){try{return{data:yield Ks(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xs(n))return{data:null,error:n};throw n}})}deleteVectors(e){return mt(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ks(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xs(n))return{data:null,error:n};throw n}})}}class UYe{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},pP),n),this.fetch=vP(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return mt(this,void 0,void 0,function*(){try{return{data:(yield Ks(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xs(n))return{data:null,error:n};throw n}})}getBucket(e){return mt(this,void 0,void 0,function*(){try{return{data:yield Ks(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xs(n))return{data:null,error:n};throw n}})}listBuckets(){return mt(this,arguments,void 0,function*(e={}){try{return{data:yield Ks(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xs(n))return{data:null,error:n};throw n}})}deleteBucket(e){return mt(this,void 0,void 0,function*(){try{return{data:(yield Ks(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xs(n))return{data:null,error:n};throw n}})}}class jYe extends UYe{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new zYe(this.url,this.headers,e,this.fetch)}}class zYe extends kYe{constructor(e,n,i,c){super(e,n,c),this.vectorBucketName=i}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return mt(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return mt(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return mt(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return mt(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new WYe(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class WYe extends BYe{constructor(e,n,i,c,m){super(e,n,m),this.vectorBucketName=i,this.indexName=c}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return mt(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return mt(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return mt(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return mt(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return mt(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class GYe extends OYe{constructor(e,n={},i,c){super(e,n,i,c)}from(e){return new RYe(this.url,this.headers,e,this.fetch)}get vectors(){return new jYe(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new MYe(this.url+"/iceberg",this.headers,this.fetch)}}const VYe="2.76.1";let Qv="";typeof Deno<"u"?Qv="deno":typeof document<"u"?Qv="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Qv="react-native":Qv="node";const HYe={"X-Client-Info":`supabase-js-${Qv}/${VYe}`},YYe={headers:HYe},XYe={schema:"public"},KYe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ZYe={},JYe=t=>{let e;return t?e=t:typeof fetch>"u"?e=xQ:e=fetch,(...n)=>e(...n)},_Ye=()=>typeof Headers>"u"?bQ:Headers,QYe=(t,e,n)=>{const i=JYe(n),c=_Ye();return async(m,s)=>{var g;const r=(g=await e())!==null&&g!==void 0?g:t;let a=new c(s?.headers);return a.has("apikey")||a.set("apikey",t),a.has("Authorization")||a.set("Authorization",`Bearer ${r}`),i(m,Object.assign(Object.assign({},s),{headers:a}))}};function qYe(t){return t.endsWith("/")?t:t+"/"}function eXe(t,e){var n,i;const{db:c,auth:m,realtime:s,global:g}=t,{db:r,auth:a,realtime:v,global:h}=e,u={db:Object.assign(Object.assign({},r),c),auth:Object.assign(Object.assign({},a),m),realtime:Object.assign(Object.assign({},v),s),storage:{},global:Object.assign(Object.assign(Object.assign({},h),g),{headers:Object.assign(Object.assign({},(n=h?.headers)!==null&&n!==void 0?n:{}),(i=g?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}function tXe(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(qYe(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const FQ="2.76.1",rp=30*1e3,XT=3,E8=XT*rp,nXe="http://localhost:9999",rXe="supabase.auth.token",iXe={"X-Client-Info":`gotrue-js/${FQ}`},KT="X-Supabase-Api-Version",LQ={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},sXe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,aXe=600*1e3;class km extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function Rt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class oXe extends km{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function lXe(t){return Rt(t)&&t.name==="AuthApiError"}class Ah extends km{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class jc extends km{constructor(e,n,i,c){super(e,i,c),this.name=n,this.status=i}}class ic extends jc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function uXe(t){return Rt(t)&&t.name==="AuthSessionMissingError"}class Xf extends jc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class N2 extends jc{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class k2 extends jc{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function cXe(t){return Rt(t)&&t.name==="AuthImplicitGrantRedirectError"}class JB extends jc{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ZT extends jc{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function C8(t){return Rt(t)&&t.name==="AuthRetryableFetchError"}class _B extends jc{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class JT extends jc{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ax="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),QB=` 	
\r=`.split(""),hXe=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<QB.length;e+=1)t[QB[e].charCodeAt(0)]=-2;for(let e=0;e<Ax.length;e+=1)t[Ax[e].charCodeAt(0)]=e;return t})();function qB(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(Ax[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(Ax[i]),e.queuedBits-=6}}function DQ(t,e,n){const i=hXe[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function eU(t){const e=[],n=s=>{e.push(String.fromCodePoint(s))},i={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},m=s=>{pXe(s,i,n)};for(let s=0;s<t.length;s+=1)DQ(t.charCodeAt(s),c,m);return e.join("")}function dXe(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function fXe(t,e){for(let n=0;n<t.length;n+=1){let i=t.charCodeAt(n);if(i>55295&&i<=56319){const c=(i-55296)*1024&65535;i=(t.charCodeAt(n+1)-56320&65535|c)+65536,n+=1}dXe(i,e)}}function pXe(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function $p(t){const e=[],n={queue:0,queuedBits:0},i=c=>{e.push(c)};for(let c=0;c<t.length;c+=1)DQ(t.charCodeAt(c),n,i);return new Uint8Array(e)}function vXe(t){const e=[];return fXe(t,n=>e.push(n)),new Uint8Array(e)}function kh(t){const e=[],n={queue:0,queuedBits:0},i=c=>{e.push(c)};return t.forEach(c=>qB(c,n,i)),qB(null,n,i),e.join("")}function gXe(t){return Math.round(Date.now()/1e3)+t}function mXe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const zs=()=>typeof window<"u"&&typeof document<"u",fh={tested:!1,writable:!1},NQ=()=>{if(!zs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fh.tested)return fh.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),fh.tested=!0,fh.writable=!0}catch{fh.tested=!0,fh.writable=!1}return fh.writable};function yXe(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((c,m)=>{e[m]=c})}catch{}return n.searchParams.forEach((i,c)=>{e[c]=i}),e}const kQ=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Fi(async()=>{const{default:i}=await Promise.resolve().then(()=>Bd);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},wXe=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ip=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},ph=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},nc=async(t,e)=>{await t.removeItem(e)};class Ab{constructor(){this.promise=new Ab.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ab.promiseConstructor=Promise;function S8(t){const e=t.split(".");if(e.length!==3)throw new JT("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!sXe.test(e[i]))throw new JT("JWT not in base64url format");return{header:JSON.parse(eU(e[0])),payload:JSON.parse(eU(e[1])),signature:$p(e[2]),raw:{header:e[0],payload:e[1]}}}async function xXe(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function bXe(t,e){return new Promise((i,c)=>{(async()=>{for(let m=0;m<1/0;m++)try{const s=await t(m);if(!e(m,null,s)){i(s);return}}catch(s){if(!e(m,s)){c(s);return}}})()})}function EXe(t){return("0"+t.toString(16)).substr(-2)}function CXe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let c="";for(let m=0;m<56;m++)c+=n.charAt(Math.floor(Math.random()*i));return c}return crypto.getRandomValues(e),Array.from(e,EXe).join("")}async function SXe(t){const n=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",n),c=new Uint8Array(i);return Array.from(c).map(m=>String.fromCharCode(m)).join("")}async function TXe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await SXe(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Kf(t,e,n=!1){const i=CXe();let c=i;n&&(c+="/PASSWORD_RECOVERY"),await ip(t,`${e}-code-verifier`,c);const m=await TXe(i);return[m,i===m?"plain":"s256"]}const AXe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function PXe(t){const e=t.headers.get(KT);if(!e||!e.match(AXe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function IXe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function RXe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const OXe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Zf(t){if(!OXe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function T8(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function tU(t){return JSON.parse(JSON.stringify(t))}const yh=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),MXe=[502,503,504];async function nU(t){var e;if(!wXe(t))throw new ZT(yh(t),0);if(MXe.includes(t.status))throw new ZT(yh(t),t.status);let n;try{n=await t.json()}catch(m){throw new Ah(yh(m),m)}let i;const c=PXe(t);if(c&&c.getTime()>=LQ["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new _B(yh(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new ic}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((m,s)=>m&&typeof s=="string",!0))throw new _B(yh(n),t.status,n.weak_password.reasons);throw new oXe(yh(n),t.status||500,i)}const $Xe=(t,e,n,i)=>{const c={method:t,headers:e?.headers||{}};return t==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),c.body=JSON.stringify(i),Object.assign(Object.assign({},c),n))};async function Bt(t,e,n,i){var c;const m=Object.assign({},i?.headers);m[KT]||(m[KT]=LQ["2024-01-01"].name),i?.jwt&&(m.Authorization=`Bearer ${i.jwt}`);const s=(c=i?.query)!==null&&c!==void 0?c:{};i?.redirectTo&&(s.redirect_to=i.redirectTo);const g=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",r=await FXe(t,e,n+g,{headers:m,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(r):{data:Object.assign({},r),error:null}}async function FXe(t,e,n,i,c,m){const s=$Xe(e,i,c,m);let g;try{g=await t(n,Object.assign({},s))}catch(r){throw console.error(r),new ZT(yh(r),0)}if(g.ok||await nU(g),i?.noResolveJson)return g;try{return await g.json()}catch(r){await nU(r)}}function Qa(t){var e;let n=null;NXe(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=gXe(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:i},error:null}}function rU(t){const e=Qa(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function gc(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function LXe(t){return{data:t,error:null}}function DXe(t){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:c,verification_type:m}=t,s=P0(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:e,email_otp:n,hashed_token:i,redirect_to:c,verification_type:m},r=Object.assign({},s);return{data:{properties:g,user:r},error:null}}function iU(t){return t}function NXe(t){return t.access_token&&t.refresh_token&&t.expires_in}const A8=["global","local","others"];class kXe{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=kQ(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=A8[0]){if(A8.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${A8.join(", ")}`);try{return await Bt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Rt(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await Bt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:gc})}catch(i){if(Rt(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=P0(e,["options"]),c=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(c.new_email=i?.newEmail,delete c.newEmail),await Bt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:DXe,redirectTo:n?.redirectTo})}catch(n){if(Rt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Bt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:gc})}catch(n){if(Rt(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,c,m,s,g,r;try{const a={nextPage:null,lastPage:0,total:0},v=await Bt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(m=(c=e?.perPage)===null||c===void 0?void 0:c.toString())!==null&&m!==void 0?m:""},xform:iU});if(v.error)throw v.error;const h=await v.json(),u=(s=v.headers.get("x-total-count"))!==null&&s!==void 0?s:0,l=(r=(g=v.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&r!==void 0?r:[];return l.length>0&&(l.forEach(o=>{const d=parseInt(o.split(";")[0].split("=")[1].substring(0,1)),p=JSON.parse(o.split(";")[1].split("=")[1]);a[`${p}Page`]=d}),a.total=parseInt(u)),{data:Object.assign(Object.assign({},h),a),error:null}}catch(a){if(Rt(a))return{data:{users:[]},error:a};throw a}}async getUserById(e){Zf(e);try{return await Bt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:gc})}catch(n){if(Rt(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Zf(e);try{return await Bt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:gc})}catch(i){if(Rt(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){Zf(e);try{return await Bt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:gc})}catch(i){if(Rt(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Zf(e.userId);try{const{data:n,error:i}=await Bt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:n,error:i}}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Zf(e.userId),Zf(e.id);try{return{data:await Bt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,i,c,m,s,g,r;try{const a={nextPage:null,lastPage:0,total:0},v=await Bt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(m=(c=e?.perPage)===null||c===void 0?void 0:c.toString())!==null&&m!==void 0?m:""},xform:iU});if(v.error)throw v.error;const h=await v.json(),u=(s=v.headers.get("x-total-count"))!==null&&s!==void 0?s:0,l=(r=(g=v.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&r!==void 0?r:[];return l.length>0&&(l.forEach(o=>{const d=parseInt(o.split(";")[0].split("=")[1].substring(0,1)),p=JSON.parse(o.split(";")[1].split("=")[1]);a[`${p}Page`]=d}),a.total=parseInt(u)),{data:Object.assign(Object.assign({},h),a),error:null}}catch(a){if(Rt(a))return{data:{clients:[]},error:a};throw a}}async _createOAuthClient(e){try{return await Bt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Bt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Bt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Bt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Rt(n))return{data:null,error:n};throw n}}}function sU(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Jf={debug:!!(globalThis&&NQ()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class BQ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class BXe extends BQ{}async function UXe(t,e,n){Jf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Jf.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async c=>{if(c){Jf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,c.name);try{return await n()}finally{Jf.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,c.name)}}else{if(e===0)throw Jf.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new BXe(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Jf.debug)try{const m=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(m,null,"  "))}catch(m){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",m)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function jXe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function UQ(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function zXe(t){return parseInt(t,16)}function WXe(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function GXe(t){var e;const{chainId:n,domain:i,expirationTime:c,issuedAt:m=new Date,nonce:s,notBefore:g,requestId:r,resources:a,scheme:v,uri:h,version:u}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(u!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${u}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const l=UQ(t.address),o=v?`${v}://${i}`:i,d=t.statement?`${t.statement}
`:"",p=`${o} wants you to sign in with your Ethereum account:
${l}

${d}`;let f=`URI: ${h}
Version: ${u}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${m.toISOString()}`;if(c&&(f+=`
Expiration Time: ${c.toISOString()}`),g&&(f+=`
Not Before: ${g.toISOString()}`),r&&(f+=`
Request ID: ${r}`),a){let y=`
Resources:`;for(const w of a){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);y+=`
- ${w}`}f+=y}return`${p}
${f}`}class Cr extends Error{constructor({message:e,code:n,cause:i,name:c}){var m;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(m=c??(i instanceof Error?i.name:void 0))!==null&&m!==void 0?m:"Unknown Error",this.code=n}}class Px extends Cr{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function VXe({error:t,options:e}){var n,i,c;const{publicKey:m}=e;if(!m)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Cr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=m.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Cr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((i=m.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Cr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((c=m.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Cr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Cr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Cr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return m.pubKeyCredParams.filter(g=>g.type==="public-key").length===0?new Cr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Cr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(jQ(s)){if(m.rp.id!==s)return new Cr({message:`The RP ID "${m.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Cr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(m.user.id.byteLength<1||m.user.id.byteLength>64)return new Cr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Cr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Cr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function HXe({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Cr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Cr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(jQ(i)){if(n.rpId!==i)return new Cr({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Cr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Cr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Cr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class YXe{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const XXe=new YXe;function KXe(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:i}=t,c=P0(t,["challenge","user","excludeCredentials"]),m=$p(e).buffer,s=Object.assign(Object.assign({},n),{id:$p(n.id).buffer}),g=Object.assign(Object.assign({},c),{challenge:m,user:s});if(i&&i.length>0){g.excludeCredentials=new Array(i.length);for(let r=0;r<i.length;r++){const a=i[r];g.excludeCredentials[r]=Object.assign(Object.assign({},a),{id:$p(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return g}function ZXe(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,i=P0(t,["challenge","allowCredentials"]),c=$p(e).buffer,m=Object.assign(Object.assign({},i),{challenge:c});if(n&&n.length>0){m.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){const g=n[s];m.allowCredentials[s]=Object.assign(Object.assign({},g),{id:$p(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return m}function JXe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:kh(new Uint8Array(t.response.attestationObject)),clientDataJSON:kh(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function _Xe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,i=t.getClientExtensionResults(),c=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:kh(new Uint8Array(c.authenticatorData)),clientDataJSON:kh(new Uint8Array(c.clientDataJSON)),signature:kh(new Uint8Array(c.signature)),userHandle:c.userHandle?kh(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function jQ(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function aU(){var t,e;return!!(zs()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function QXe(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Px("Browser returned unexpected credential type",e)}:{data:null,error:new Px("Empty credential response",e)}}catch(e){return{data:null,error:VXe({error:e,options:t})}}}async function qXe(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Px("Browser returned unexpected credential type",e)}:{data:null,error:new Px("Empty credential response",e)}}catch(e){return{data:null,error:HXe({error:e,options:t})}}}const eKe={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},tKe={userVerification:"preferred",hints:["security-key"]};function Ix(...t){const e=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),n=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),i={};for(const c of t)if(c)for(const m in c){const s=c[m];if(s!==void 0)if(Array.isArray(s))i[m]=s;else if(n(s))i[m]=s;else if(e(s)){const g=i[m];e(g)?i[m]=Ix(g,s):i[m]=Ix(s)}else i[m]=s}return i}function nKe(t,e){return Ix(eKe,t,e||{})}function rKe(t,e){return Ix(tKe,t,e||{})}class iKe{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:i,signal:c},m){try{const{data:s,error:g}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!s)return{data:null,error:g};const r=c??XXe.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:a}=s.webauthn.credential_options.publicKey;a.name||(a.name=`${a.id}:${i}`),a.displayName||(a.displayName=a.name)}switch(s.webauthn.type){case"create":{const a=nKe(s.webauthn.credential_options.publicKey,m?.create),{data:v,error:h}=await QXe({publicKey:a,signal:r});return v?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:v}},error:null}:{data:null,error:h}}case"request":{const a=rKe(s.webauthn.credential_options.publicKey,m?.request),{data:v,error:h}=await qXe(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:a,signal:r}));return v?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:v}},error:null}:{data:null,error:h}}}}catch(s){return Rt(s)?{data:null,error:s}:{data:null,error:new Ah("Unexpected error in challenge",s)}}}async _verify({challengeId:e,factorId:n,webauthn:i}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:c}},m){if(!n)return{data:null,error:new km("rpId is required for WebAuthn authentication")};try{if(!aU())return{data:null,error:new Ah("Browser does not support WebAuthn",null)};const{data:s,error:g}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:i},signal:c},{request:m});if(!s)return{data:null,error:g};const{webauthn:r}=s;return this._verify({factorId:e,challengeId:s.challengeId,webauthn:{type:r.type,rpId:n,rpOrigins:i,credential_response:r.credential_response}})}catch(s){return Rt(s)?{data:null,error:s}:{data:null,error:new Ah("Unexpected error in authenticate",s)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:c},m){if(!n)return{data:null,error:new km("rpId is required for WebAuthn registration")};try{if(!aU())return{data:null,error:new Ah("Browser does not support WebAuthn",null)};const{data:s,error:g}=await this._enroll({friendlyName:e});if(!s)return await this.client.mfa.listFactors().then(v=>{var h;return(h=v.data)===null||h===void 0?void 0:h.all.find(u=>u.factor_type==="webauthn"&&u.friendly_name===e&&u.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:g};const{data:r,error:a}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:n,rpOrigins:i},signal:c},{create:m});return r?this._verify({factorId:s.id,challengeId:r.challengeId,webauthn:{rpId:n,rpOrigins:i,type:r.webauthn.type,credential_response:r.webauthn.credential_response}}):{data:null,error:a}}catch(s){return Rt(s)?{data:null,error:s}:{data:null,error:new Ah("Unexpected error in register",s)}}}}jXe();const sKe={url:nXe,storageKey:rXe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:iXe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function oU(t,e,n){return await n()}const _f={};class Bm{get jwks(){var e,n;return(n=(e=_f[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){_f[this.storageKey]=Object.assign(Object.assign({},_f[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=_f[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){_f[this.storageKey]=Object.assign(Object.assign({},_f[this.storageKey]),{cachedAt:e})}constructor(e){var n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Bm.nextInstanceID,Bm.nextInstanceID+=1,this.instanceID>0&&zs()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const c=Object.assign(Object.assign({},sKe),e);if(this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.persistSession=c.persistSession,this.storageKey=c.storageKey,this.autoRefreshToken=c.autoRefreshToken,this.admin=new kXe({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=kQ(c.fetch),this.lock=c.lock||oU,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,c.lock?this.lock=c.lock:zs()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=UXe:this.lock=oU,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new iKe(this)},this.persistSession?(c.storage?this.storage=c.storage:NQ()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=sU(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=sU(this.memoryStorage)),zs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(m){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",m)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async m=>{this._debug("received broadcast notification from other tab or client",m),await this._notifyAllSubscribers(m.data.event,m.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${FQ}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=yXe(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),zs()&&this.detectSessionInUrl&&i!=="none"){const{data:c,error:m}=await this._getSessionFromURL(n,i);if(m){if(this._debug("#_initialize()","error detecting session from URL",m),cXe(m)){const r=(e=m.details)===null||e===void 0?void 0:e.code;if(r==="identity_already_exists"||r==="identity_not_found"||r==="single_identity_not_deletable")return{error:m}}return await this._removeSession(),{error:m}}const{session:s,redirectType:g}=c;return this._debug("#_initialize()","detected session in URL",s,"redirect type",g),await this._saveSession(s),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Rt(n)?{error:n}:{error:new Ah("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,c;try{const m=await Bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(c=e?.options)===null||c===void 0?void 0:c.captchaToken}},xform:Qa}),{data:s,error:g}=m;if(g||!s)return{data:{user:null,session:null},error:g};const r=s.session,a=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",r)),{data:{user:a,session:r},error:null}}catch(m){if(Rt(m))return{data:{user:null,session:null},error:m};throw m}}async signUp(e){var n,i,c;try{let m;if("email"in e){const{email:v,password:h,options:u}=e;let l=null,o=null;this.flowType==="pkce"&&([l,o]=await Kf(this.storage,this.storageKey)),m=await Bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:u?.emailRedirectTo,body:{email:v,password:h,data:(n=u?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:l,code_challenge_method:o},xform:Qa})}else if("phone"in e){const{phone:v,password:h,options:u}=e;m=await Bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:h,data:(i=u?.data)!==null&&i!==void 0?i:{},channel:(c=u?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Qa})}else throw new N2("You must provide either an email or phone number and a password");const{data:s,error:g}=m;if(g||!s)return{data:{user:null,session:null},error:g};const r=s.session,a=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",r)),{data:{user:a,session:r},error:null}}catch(m){if(Rt(m))return{data:{user:null,session:null},error:m};throw m}}async signInWithPassword(e){try{let n;if("email"in e){const{email:m,password:s,options:g}=e;n=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:m,password:s,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:rU})}else if("phone"in e){const{phone:m,password:s,options:g}=e;n=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:m,password:s,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:rU})}else throw new N2("You must provide either an email or phone number and a password");const{data:i,error:c}=n;return c?{data:{user:null,session:null},error:c}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Xf}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:c})}catch(n){if(Rt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,i,c,m;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(m=e.options)===null||m===void 0?void 0:m.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,i,c,m,s,g,r,a,v,h,u;let l,o;if("message"in e)l=e.message,o=e.signature;else{const{chain:d,wallet:p,statement:f,options:y}=e;let w;if(zs())if(typeof p=="object")w=p;else{const S=window;if("ethereum"in S&&typeof S.ethereum=="object"&&"request"in S.ethereum&&typeof S.ethereum.request=="function")w=S.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!y?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=p}const x=new URL((n=y?.url)!==null&&n!==void 0?n:window.location.href),b=await w.request({method:"eth_requestAccounts"}).then(S=>S).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!b||b.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=UQ(b[0]);let C=(i=y?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!C){const S=await w.request({method:"eth_chainId"});C=zXe(S)}const T={domain:x.host,address:E,statement:f,uri:x.href,version:"1",chainId:C,nonce:(c=y?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(s=(m=y?.signInWithEthereum)===null||m===void 0?void 0:m.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(g=y?.signInWithEthereum)===null||g===void 0?void 0:g.expirationTime,notBefore:(r=y?.signInWithEthereum)===null||r===void 0?void 0:r.notBefore,requestId:(a=y?.signInWithEthereum)===null||a===void 0?void 0:a.requestId,resources:(v=y?.signInWithEthereum)===null||v===void 0?void 0:v.resources};l=GXe(T),o=await w.request({method:"personal_sign",params:[WXe(l),E]})}try{const{data:d,error:p}=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:l,signature:o},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(u=e.options)===null||u===void 0?void 0:u.captchaToken}}:null),xform:Qa});if(p)throw p;return!d||!d.session||!d.user?{data:{user:null,session:null},error:new Xf}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:Object.assign({},d),error:p})}catch(d){if(Rt(d))return{data:{user:null,session:null},error:d};throw d}}async signInWithSolana(e){var n,i,c,m,s,g,r,a,v,h,u,l;let o,d;if("message"in e)o=e.message,d=e.signature;else{const{chain:p,wallet:f,statement:y,options:w}=e;let x;if(zs())if(typeof f=="object")x=f;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))x=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof f!="object"||!w?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=f}const b=new URL((n=w?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in x&&x.signIn){const E=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w?.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),y?{statement:y}:null));let C;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")C=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)C=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)o=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),d=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");o=[`${b.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${(c=(i=w?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((m=w?.signInWithSolana)===null||m===void 0)&&m.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((s=w?.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((g=w?.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((r=w?.signInWithSolana)===null||r===void 0)&&r.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((a=w?.signInWithSolana)===null||a===void 0)&&a.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(v=w?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const E=await x.signMessage(new TextEncoder().encode(o),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");d=E}}try{const{data:p,error:f}=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:o,signature:kh(d)},!((u=e.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:(l=e.options)===null||l===void 0?void 0:l.captchaToken}}:null),xform:Qa});if(f)throw f;return!p||!p.session||!p.user?{data:{user:null,session:null},error:new Xf}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:Object.assign({},p),error:f})}catch(p){if(Rt(p))return{data:{user:null,session:null},error:p};throw p}}async _exchangeCodeForSession(e){const n=await ph(this.storage,`${this.storageKey}-code-verifier`),[i,c]=(n??"").split("/");try{const{data:m,error:s}=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Qa});if(await nc(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!m||!m.session||!m.user?{data:{user:null,session:null,redirectType:null},error:new Xf}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign(Object.assign({},m),{redirectType:c??null}),error:s})}catch(m){if(Rt(m))return{data:{user:null,session:null,redirectType:null},error:m};throw m}}async signInWithIdToken(e){try{const{options:n,provider:i,token:c,access_token:m,nonce:s}=e,g=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:c,access_token:m,nonce:s,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Qa}),{data:r,error:a}=g;return a?{data:{user:null,session:null},error:a}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Xf}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:r,error:a})}catch(n){if(Rt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,i,c,m,s;try{if("email"in e){const{email:g,options:r}=e;let a=null,v=null;this.flowType==="pkce"&&([a,v]=await Kf(this.storage,this.storageKey));const{error:h}=await Bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(n=r?.data)!==null&&n!==void 0?n:{},create_user:(i=r?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:r?.captchaToken},code_challenge:a,code_challenge_method:v},redirectTo:r?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:g,options:r}=e,{data:a,error:v}=await Bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(c=r?.data)!==null&&c!==void 0?c:{},create_user:(m=r?.shouldCreateUser)!==null&&m!==void 0?m:!0,gotrue_meta_security:{captcha_token:r?.captchaToken},channel:(s=r?.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:a?.message_id},error:v}}throw new N2("You must provide either an email or phone number.")}catch(g){if(Rt(g))return{data:{user:null,session:null},error:g};throw g}}async verifyOtp(e){var n,i;try{let c,m;"options"in e&&(c=(n=e.options)===null||n===void 0?void 0:n.redirectTo,m=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:s,error:g}=await Bt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:m}}),redirectTo:c,xform:Qa});if(g)throw g;if(!s)throw new Error("An error occurred on token verification.");const r=s.session,a=s.user;return r?.access_token&&(await this._saveSession(r),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",r)),{data:{user:a,session:r},error:null}}catch(c){if(Rt(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithSSO(e){var n,i,c;try{let m=null,s=null;return this.flowType==="pkce"&&([m,s]=await Kf(this.storage,this.storageKey)),await Bt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((c=e?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:s}),headers:this.headers,xform:LXe})}catch(m){if(Rt(m))return{data:null,error:m};throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new ic;const{error:c}=await Bt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:c}})}catch(e){if(Rt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:i,type:c,options:m}=e,{error:s}=await Bt(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:c,gotrue_meta_security:{captcha_token:m?.captchaToken}},redirectTo:m?.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:i,type:c,options:m}=e,{data:s,error:g}=await Bt(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:c,gotrue_meta_security:{captcha_token:m?.captchaToken}}});return{data:{user:null,session:null,messageId:s?.message_id},error:g}}throw new N2("You must provide either an email or phone number and a type")}catch(n){if(Rt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await ph(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<E8:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const s=await ph(this.userStorage,this.storageKey+"-user");s?.user?e.user=s.user:e.user=T8()}if(this.storage.isServer&&e.user){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(r,a,v)=>(!s&&a==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(r,a,v))})}return{data:{session:e},error:null}}const{data:c,error:m}=await this._callRefreshToken(e.refresh_token);return m?{data:{session:null},error:m}:{data:{session:c},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:gc}):await this._useSession(async n=>{var i,c,m;const{data:s,error:g}=n;if(g)throw g;return!(!((i=s.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ic}:await Bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(m=(c=s.session)===null||c===void 0?void 0:c.access_token)!==null&&m!==void 0?m:void 0,xform:gc})})}catch(n){if(Rt(n))return uXe(n)&&(await this._removeSession(),await nc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:c,error:m}=i;if(m)throw m;if(!c.session)throw new ic;const s=c.session;let g=null,r=null;this.flowType==="pkce"&&e.email!=null&&([g,r]=await Kf(this.storage,this.storageKey));const{data:a,error:v}=await Bt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:g,code_challenge_method:r}),jwt:s.access_token,xform:gc});if(v)throw v;return s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(i){if(Rt(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ic;const n=Date.now()/1e3;let i=n,c=!0,m=null;const{payload:s}=S8(e.access_token);if(s.exp&&(i=s.exp,c=i<=n),c){const{data:g,error:r}=await this._callRefreshToken(e.refresh_token);if(r)return{data:{user:null,session:null},error:r};if(!g)return{data:{user:null,session:null},error:null};m=g}else{const{data:g,error:r}=await this._getUser(e.access_token);if(r)throw r;m={access_token:e.access_token,refresh_token:e.refresh_token,user:g.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(m),await this._notifyAllSubscribers("SIGNED_IN",m)}return{data:{user:m.user,session:m},error:null}}catch(n){if(Rt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:s,error:g}=n;if(g)throw g;e=(i=s.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new ic;const{data:c,error:m}=await this._callRefreshToken(e.refresh_token);return m?{data:{user:null,session:null},error:m}:c?{data:{user:c.user,session:c},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Rt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!zs())throw new k2("No browser detected.");if(e.error||e.error_description||e.error_code)throw new k2(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new JB("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new k2("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new JB("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:c,access_token:m,refresh_token:s,expires_in:g,expires_at:r,token_type:a}=e;if(!m||!g||!s||!a)throw new k2("No session defined in URL");const v=Math.round(Date.now()/1e3),h=parseInt(g);let u=v+h;r&&(u=parseInt(r));const l=u-v;l*1e3<=rp&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${l}s, should have been closer to ${h}s`);const o=u-h;v-o>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",o,u,v):v-o<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",o,u,v);const{data:d,error:p}=await this._getUser(m);if(p)throw p;const f={provider_token:i,provider_refresh_token:c,access_token:m,expires_in:h,expires_at:u,refresh_token:s,token_type:a,user:d.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:f,redirectType:e.type},error:null}}catch(i){if(Rt(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await ph(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:c,error:m}=n;if(m)return{error:m};const s=(i=c.session)===null||i===void 0?void 0:i.access_token;if(s){const{error:g}=await this.admin.signOut(s,e);if(g&&!(lXe(g)&&(g.status===404||g.status===401||g.status===403)))return{error:g}}return e!=="others"&&(await this._removeSession(),await nc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=mXe(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,c;try{const{data:{session:m},error:s}=n;if(s)throw s;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",m)),this._debug("INITIAL_SESSION","callback id",e,"session",m)}catch(m){await((c=this.stateChangeEmitters.get(e))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",m),console.error(m)}})}async resetPasswordForEmail(e,n={}){let i=null,c=null;this.flowType==="pkce"&&([i,c]=await Kf(this.storage,this.storageKey,!0));try{return await Bt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:c,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(m){if(Rt(m))return{data:null,error:m};throw m}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:i,error:c}=await this._useSession(async m=>{var s,g,r,a,v;const{data:h,error:u}=m;if(u)throw u;const l=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(g=e.options)===null||g===void 0?void 0:g.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:!0});return await Bt(this.fetch,"GET",l,{headers:this.headers,jwt:(v=(a=h.session)===null||a===void 0?void 0:a.access_token)!==null&&v!==void 0?v:void 0})});if(c)throw c;return zs()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:e.provider,url:i?.url},error:null}}catch(i){if(Rt(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var i;try{const{error:c,data:{session:m}}=n;if(c)throw c;const{options:s,provider:g,token:r,access_token:a,nonce:v}=e,h=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=m?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:g,id_token:r,access_token:a,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Qa}),{data:u,error:l}=h;return l?{data:{user:null,session:null},error:l}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Xf}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("USER_UPDATED",u.session)),{data:u,error:l})}catch(c){if(Rt(c))return{data:{user:null,session:null},error:c};throw c}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,c;const{data:m,error:s}=n;if(s)throw s;return await Bt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(c=(i=m.session)===null||i===void 0?void 0:i.access_token)!==null&&c!==void 0?c:void 0})})}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await bXe(async c=>(c>0&&await xXe(200*Math.pow(2,c-1)),this._debug(n,"refreshing attempt",c),await Bt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Qa})),(c,m)=>{const s=200*Math.pow(2,c);return m&&C8(m)&&Date.now()+s-i<rp})}catch(i){if(this._debug(n,"error",i),Rt(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),zs()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const c=await ph(this.storage,this.storageKey);if(c&&this.userStorage){let s=await ph(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:c.user},await ip(this.userStorage,this.storageKey+"-user",s)),c.user=(e=s?.user)!==null&&e!==void 0?e:T8()}else if(c&&!c.user&&!c.user){const s=await ph(this.storage,this.storageKey+"-user");s&&s?.user?(c.user=s.user,await nc(this.storage,this.storageKey+"-user"),await ip(this.storage,this.storageKey,c)):c.user=T8()}if(this._debug(i,"session from storage",c),!this._isValidSession(c)){this._debug(i,"session is not valid"),c!==null&&await this._removeSession();return}const m=((n=c.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<E8;if(this._debug(i,`session has${m?"":" not"} expired with margin of ${E8}s`),m){if(this.autoRefreshToken&&c.refresh_token){const{error:s}=await this._callRefreshToken(c.refresh_token);s&&(console.error(s),C8(s)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:g}=await this._getUser(c.access_token);!g&&s?.user?(c.user=s.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(i,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(i,"error",c),console.error(c);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new ic;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Ab;const{data:m,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!m.session)throw new ic;await this._saveSession(m.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",m.session);const g={data:m.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(m){if(this._debug(c,"error",m),Rt(m)){const s={data:null,error:m};return C8(m)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(m),m}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(e,n,i=!0){const c=`#_notifyAllSubscribers(${e})`;this._debug(c,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const m=[],s=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(e,n)}catch(r){m.push(r)}});if(await Promise.all(s),m.length>0){for(let g=0;g<m.length;g+=1)console.error(m[g]);throw m[0]}}finally{this._debug(c,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await ip(this.userStorage,this.storageKey+"-user",{user:n.user});const c=Object.assign({},n);delete c.user;const m=tU(c);await ip(this.storage,this.storageKey,m)}else{const c=tU(n);await ip(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),await nc(this.storage,this.storageKey),await nc(this.storage,this.storageKey+"-code-verifier"),await nc(this.storage,this.storageKey+"-user"),this.userStorage&&await nc(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&zs()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),rp);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((i.expires_at*1e3-e)/rp);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${rp}ms, refresh threshold is ${XT} ticks`),c<=XT&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof BQ)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!zs()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const c=[`provider=${encodeURIComponent(n)}`];if(i?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&c.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[m,s]=await Kf(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(m)}`,code_challenge_method:`${encodeURIComponent(s)}`});c.push(g.toString())}if(i?.queryParams){const m=new URLSearchParams(i.queryParams);c.push(m.toString())}return i?.skipBrowserRedirect&&c.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${c.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:c,error:m}=n;return m?{data:null,error:m}:await Bt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,c;const{data:m,error:s}=n;if(s)return{data:null,error:s};const g=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:r,error:a}=await Bt(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(i=m?.session)===null||i===void 0?void 0:i.access_token});return a?{data:null,error:a}:(e.factorType==="totp"&&r.type==="totp"&&(!((c=r?.totp)===null||c===void 0)&&c.qr_code)&&(r.totp.qr_code=`data:image/svg+xml;utf-8,${r.totp.qr_code}`),{data:r,error:null})})}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:c,error:m}=n;if(m)return{data:null,error:m};const s=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?JXe(e.webauthn.credential_response):_Xe(e.webauthn.credential_response)})}:{code:e.code}),{data:g,error:r}=await Bt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:s,headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token});return r?{data:null,error:r}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),{data:g,error:r})})}catch(n){if(Rt(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:c,error:m}=n;if(m)return{data:null,error:m};const s=await Bt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token});if(s.error)return s;const{data:g}=s;if(g.type!=="webauthn")return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:KXe(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:ZXe(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Rt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const c={all:[],phone:[],totp:[],webauthn:[]};for(const m of(e=n?.factors)!==null&&e!==void 0?e:[])c.all.push(m),m.status==="verified"&&c[m.factor_type].push(m);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,i;const{data:{session:c},error:m}=e;if(m)return{data:null,error:m};if(!c)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=S8(c.access_token);let g=null;s.aal&&(g=s.aal);let r=g;((i=(n=c.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(r="aal2");const v=s.amr||[];return{data:{currentLevel:g,nextLevel:r,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(g=>g.kid===e);if(i)return i;const c=Date.now();if(i=this.jwks.keys.find(g=>g.kid===e),i&&this.jwks_cached_at+aXe>c)return i;const{data:m,error:s}=await Bt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!m.keys||m.keys.length===0||(this.jwks=m,this.jwks_cached_at=c,i=m.keys.find(g=>g.kid===e),!i)?null:i}async getClaims(e,n={}){try{let i=e;if(!i){const{data:l,error:o}=await this.getSession();if(o||!l.session)return{data:null,error:o};i=l.session.access_token}const{header:c,payload:m,signature:s,raw:{header:g,payload:r}}=S8(i);n?.allowExpired||IXe(m.exp);const a=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!a){const{error:l}=await this.getUser(i);if(l)throw l;return{data:{claims:m,header:c,signature:s},error:null}}const v=RXe(c.alg),h=await crypto.subtle.importKey("jwk",a,v,!0,["verify"]);if(!await crypto.subtle.verify(v,h,s,vXe(`${g}.${r}`)))throw new JT("Invalid JWT signature");return{data:{claims:m,header:c,signature:s},error:null}}catch(i){if(Rt(i))return{data:null,error:i};throw i}}}Bm.nextInstanceID=0;const aKe=Bm;class oKe extends aKe{constructor(e){super(e)}}class lKe{constructor(e,n,i){var c,m,s;this.supabaseUrl=e,this.supabaseKey=n;const g=tXe(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const r=`sb-${g.hostname.split(".")[0]}-auth-token`,a={db:XYe,realtime:ZYe,auth:Object.assign(Object.assign({},KYe),{storageKey:r}),global:YYe},v=eXe(i??{},a);this.storageKey=(c=v.auth.storageKey)!==null&&c!==void 0?c:"",this.headers=(m=v.global.headers)!==null&&m!==void 0?m:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(h,u)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(u)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=v.auth)!==null&&s!==void 0?s:{},this.headers,v.global.fetch),this.fetch=QYe(n,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new nYe(new URL("rest/v1",g).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new GYe(this.storageUrl.href,this.headers,this.fetch,i?.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new YHe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,i)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(n=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:c,userStorage:m,storageKey:s,flowType:g,lock:r,debug:a},v,h){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new oKe({url:this.authUrl.href,headers:Object.assign(Object.assign({},u),v),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:c,userStorage:m,flowType:g,lock:r,debug:a,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(l=>l.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new wYe(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i?.access_token)})}_handleTokenChanged(e,n,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const uKe=(t,e,n)=>new lKe(t,e,n);function cKe(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}cKe()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const B2={supabase:{url:"https://gmapyfpcljfeddljnucb.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdtYXB5ZnBjbGpmZWRkbGpudWNiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE0Njk1NjIsImV4cCI6MjA3NzA0NTU2Mn0.vQR39HeV91PzEcmvspWTqORSXNyMTtMrQHcAffULAEc"}};let P8=null;const zQ=()=>(!P8&&B2.supabase.url&&B2.supabase.anonKey&&(P8=uKe(B2.supabase.url,B2.supabase.anonKey,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}}})),P8),Bv=zQ();class hKe{constructor(){this.currentUser=null,this.privyUser=null}async initPrivy(){const e=localStorage.getItem("degen_militia_user");return e?(this.currentUser=JSON.parse(e),this.currentUser):null}async loginWithWallet(e){try{if(!Bv){console.warn("Supabase not initialized, using local-only mode");const c={id:`local_${Date.now()}`,wallet_address:e,username:`Player${Math.floor(Math.random()*1e4)}`,created_at:new Date().toISOString(),last_login:new Date().toISOString(),is_local:!0};return this.currentUser=c,localStorage.setItem("degen_militia_user",JSON.stringify(this.currentUser)),this.currentUser}const{data:n,error:i}=await Bv.from("players").select("*").eq("wallet_address",e).maybeSingle();if(i){console.warn("Supabase query error:",i);const c={id:`local_${Date.now()}`,wallet_address:e,username:`Player${Math.floor(Math.random()*1e4)}`,created_at:new Date().toISOString(),last_login:new Date().toISOString(),is_local:!0};return this.currentUser=c,localStorage.setItem("degen_militia_user",JSON.stringify(this.currentUser)),this.currentUser}if(n)await Bv.from("players").update({last_login:new Date().toISOString()}).eq("id",n.id),this.currentUser=n;else{const c={wallet_address:e,username:`Player${Math.floor(Math.random()*1e4)}`,created_at:new Date().toISOString(),last_login:new Date().toISOString()},{data:m,error:s}=await Bv.from("players").insert([c]).select().single();s?(console.warn("Error creating user in database:",s),this.currentUser={...c,id:`local_${Date.now()}`,is_local:!0}):this.currentUser=m}return localStorage.setItem("degen_militia_user",JSON.stringify(this.currentUser)),this.currentUser}catch(n){console.error("Login error:",n);const i={id:`local_${Date.now()}`,wallet_address:e,username:`Player${Math.floor(Math.random()*1e4)}`,created_at:new Date().toISOString(),last_login:new Date().toISOString(),is_local:!0};return this.currentUser=i,localStorage.setItem("degen_militia_user",JSON.stringify(this.currentUser)),this.currentUser}}async loginAsGuest(){const e=`guest_${Date.now()}_${Math.floor(Math.random()*1e3)}`,n=`Guest${Math.floor(Math.random()*1e4)}`;return this.currentUser={id:e,username:n,is_guest:!0,wallet_address:null},localStorage.setItem("degen_militia_user",JSON.stringify(this.currentUser)),this.currentUser}logout(){this.currentUser=null,this.privyUser=null,localStorage.removeItem("degen_militia_user")}getCurrentUser(){return this.currentUser}isLoggedIn(){return this.currentUser!==null}async updateProfile(e){if(!this.currentUser||this.currentUser.is_guest)throw new Error("Cannot update guest profile");try{const{data:n,error:i}=await Bv.from("players").update(e).eq("id",this.currentUser.id).select().single();if(i)throw i;return this.currentUser={...this.currentUser,...n},localStorage.setItem("degen_militia_user",JSON.stringify(this.currentUser)),this.currentUser}catch(n){throw console.error("Update profile error:",n),n}}}const ll=new hKe;var mw={exports:{}},dKe=mw.exports,lU;function fKe(){return lU||(lU=1,(function(t,e){(function(i,c){t.exports=c()})(dKe,()=>(()=>{var n={50792:(s=>{var g=Object.prototype.hasOwnProperty,r="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(r=!1));function v(o,d,p){this.fn=o,this.context=d,this.once=p||!1}function h(o,d,p,f,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var w=new v(p,f||o,y),x=r?r+d:d;return o._events[x]?o._events[x].fn?o._events[x]=[o._events[x],w]:o._events[x].push(w):(o._events[x]=w,o._eventsCount++),o}function u(o,d){--o._eventsCount===0?o._events=new a:delete o._events[d]}function l(){this._events=new a,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],p,f;if(this._eventsCount===0)return d;for(f in p=this._events)g.call(p,f)&&d.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},l.prototype.listeners=function(d){var p=r?r+d:d,f=this._events[p];if(!f)return[];if(f.fn)return[f.fn];for(var y=0,w=f.length,x=new Array(w);y<w;y++)x[y]=f[y].fn;return x},l.prototype.listenerCount=function(d){var p=r?r+d:d,f=this._events[p];return f?f.fn?1:f.length:0},l.prototype.emit=function(d,p,f,y,w,x){var b=r?r+d:d;if(!this._events[b])return!1;var E=this._events[b],C=arguments.length,T,S;if(E.fn){switch(E.once&&this.removeListener(d,E.fn,void 0,!0),C){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,p),!0;case 3:return E.fn.call(E.context,p,f),!0;case 4:return E.fn.call(E.context,p,f,y),!0;case 5:return E.fn.call(E.context,p,f,y,w),!0;case 6:return E.fn.call(E.context,p,f,y,w,x),!0}for(S=1,T=new Array(C-1);S<C;S++)T[S-1]=arguments[S];E.fn.apply(E.context,T)}else{var A=E.length,P;for(S=0;S<A;S++)switch(E[S].once&&this.removeListener(d,E[S].fn,void 0,!0),C){case 1:E[S].fn.call(E[S].context);break;case 2:E[S].fn.call(E[S].context,p);break;case 3:E[S].fn.call(E[S].context,p,f);break;case 4:E[S].fn.call(E[S].context,p,f,y);break;default:if(!T)for(P=1,T=new Array(C-1);P<C;P++)T[P-1]=arguments[P];E[S].fn.apply(E[S].context,T)}}return!0},l.prototype.on=function(d,p,f){return h(this,d,p,f,!1)},l.prototype.once=function(d,p,f){return h(this,d,p,f,!0)},l.prototype.removeListener=function(d,p,f,y){var w=r?r+d:d;if(!this._events[w])return this;if(!p)return u(this,w),this;var x=this._events[w];if(x.fn)x.fn===p&&(!y||x.once)&&(!f||x.context===f)&&u(this,w);else{for(var b=0,E=[],C=x.length;b<C;b++)(x[b].fn!==p||y&&!x[b].once||f&&x[b].context!==f)&&E.push(x[b]);E.length?this._events[w]=E.length===1?E[0]:E:u(this,w)}return this},l.prototype.removeAllListeners=function(d){var p;return d?(p=r?r+d:d,this._events[p]&&u(this,p)):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,s.exports=l}),11517:((s,g,r)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(38829),v=function(h,u,l,o){for(var d=h[0],p=1;p<h.length;p++){var f=h[p];a(f,d,u,l,o),d=f}return h};s.exports=v}),80318:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(66979),v=function(h,u,l,o,d){return a(h,"angle",u,l,o,d)};s.exports=v}),60757:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){for(var h=0;h<r.length;h++){var u=r[h];a.call(v,u)}return r};s.exports=g}),69927:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){v===void 0&&(v=0);for(var h=v;h<r.length;h++){var u=r[h],l=!0;for(var o in a)u[o]!==a[o]&&(l=!1);if(l)return u}return null};s.exports=g}),32265:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){v===void 0&&(v=0);for(var h=r.length-1;h>=v;h--){var u=r[h],l=!0;for(var o in a)u[o]!==a[o]&&(l=!1);if(l)return u}return null};s.exports=g}),94420:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(11879),v=r(60461),h=r(95540),u=r(29747),l=r(41481),o=new l({sys:{queueDepthSort:u,events:{once:u}}},0,0,1,1).setOrigin(0,0),d=function(p,f){f===void 0&&(f={});var y=f.hasOwnProperty("width"),w=f.hasOwnProperty("height"),x=h(f,"width",-1),b=h(f,"height",-1),E=h(f,"cellWidth",1),C=h(f,"cellHeight",E),T=h(f,"position",v.TOP_LEFT),S=h(f,"x",0),A=h(f,"y",0),P=0,R=0,L=x*E,D=b*C;o.setPosition(S,A),o.setSize(E,C);for(var $=0;$<p.length;$++)if(a(p[$],o,T),y&&x===-1)o.x+=E;else if(w&&b===-1)o.y+=C;else if(w&&!y){if(R+=C,o.y+=C,R===D&&(R=0,P+=E,o.y=A,o.x+=E,P===L))break}else if(P+=E,o.x+=E,P===L&&(P=0,R+=C,o.x=S,o.y+=C,R===D))break;return p};s.exports=d}),41721:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(66979),v=function(h,u,l,o,d){return a(h,"alpha",u,l,o,d)};s.exports=v}),67285:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(66979),v=function(h,u,l,o,d){return a(h,"x",u,l,o,d)};s.exports=v}),9074:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(66979),v=function(h,u,l,o,d,p,f){return l==null&&(l=u),a(h,"x",u,o,p,f),a(h,"y",l,d,p,f)};s.exports=v}),75222:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(66979),v=function(h,u,l,o,d){return a(h,"y",u,l,o,d)};s.exports=v}),22983:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h){v===void 0&&(v=0),h===void 0&&(h=6.28);for(var u=v,l=(h-v)/r.length,o=a.x,d=a.y,p=a.radius,f=0;f<r.length;f++)r[f].x=o+p*Math.cos(u),r[f].y=d+p*Math.sin(u),u+=l;return r};s.exports=g}),95253:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h){v===void 0&&(v=0),h===void 0&&(h=6.28);for(var u=v,l=(h-v)/r.length,o=a.width/2,d=a.height/2,p=0;p<r.length;p++)r[p].x=a.x+o*Math.cos(u),r[p].y=a.y+d*Math.sin(u),u+=l;return r};s.exports=g}),88505:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(15258),v=r(26708),h=function(u,l,o){var d;o?d=v(l,o,u.length):d=a(l,u.length);for(var p=0;p<u.length;p++){var f=u[p],y=d[p];f.x=y.x,f.y=y.y}return u};s.exports=h}),41346:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(14649),v=r(86003),h=r(49498),u=function(l,o,d){d===void 0&&(d=0);var p=a(o,!1,l.length);d>0?v(p,d):d<0&&h(p,Math.abs(d));for(var f=0;f<l.length;f++)l[f].x=p[f].x,l[f].y=p[f].y;return l};s.exports=u}),11575:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(84993),v=function(h,u,l){var o=a({x1:u.x1,y1:u.y1,x2:u.x2,y2:u.y2},l),d=a({x1:u.x2,y1:u.y2,x2:u.x3,y2:u.y3},l),p=a({x1:u.x3,y1:u.y3,x2:u.x1,y2:u.y1},l);o.pop(),d.pop(),p.pop(),o=o.concat(d,p);for(var f=o.length/h.length,y=0,w=0;w<h.length;w++){var x=h[w],b=o[Math.floor(y)];x.x=b.x,x.y=b.y,y+=f}return h};s.exports=v}),29953:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){for(var h=0;h<r.length;h++){var u=r[h];u.anims&&u.anims.play(a,v)}return r};s.exports=g}),66979:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h,u,l){h===void 0&&(h=0),u===void 0&&(u=0),l===void 0&&(l=1);var o,d=0,p=r.length;if(l===1)for(o=u;o<p;o++)r[o][a]+=v+d*h,d++;else for(o=u;o>=0;o--)r[o][a]+=v+d*h,d++;return r};s.exports=g}),43967:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h,u,l){h===void 0&&(h=0),u===void 0&&(u=0),l===void 0&&(l=1);var o,d=0,p=r.length;if(l===1)for(o=u;o<p;o++)r[o][a]=v+d*h,d++;else for(o=u;o>=0;o--)r[o][a]=v+d*h,d++;return r};s.exports=g}),88926:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(28176),v=function(h,u){for(var l=0;l<h.length;l++)a(u,h[l]);return h};s.exports=v}),33286:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(24820),v=function(h,u){for(var l=0;l<h.length;l++)a(u,h[l]);return h};s.exports=v}),96e3:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(65822),v=function(h,u){for(var l=0;l<h.length;l++)a(u,h[l]);return h};s.exports=v}),28789:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(26597),v=function(h,u){for(var l=0;l<h.length;l++)a(u,h[l]);return h};s.exports=v}),97154:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(90260),v=function(h,u){for(var l=0;l<h.length;l++)a(u,h[l]);return h};s.exports=v}),20510:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(66979),v=function(h,u,l,o,d){return a(h,"rotation",u,l,o,d)};s.exports=v}),91051:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(1163),v=r(20339),h=function(u,l,o){for(var d=l.x,p=l.y,f=0;f<u.length;f++){var y=u[f];a(y,d,p,o,Math.max(1,v(y.x,y.y,d,p)))}return u};s.exports=h}),76332:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(1163),v=function(h,u,l,o){var d=u.x,p=u.y;if(o===0)return h;for(var f=0;f<h.length;f++)a(h[f],d,p,l,o);return h};s.exports=v}),61619:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(66979),v=function(h,u,l,o,d){return a(h,"scaleX",u,l,o,d)};s.exports=v}),94868:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(66979),v=function(h,u,l,o,d,p,f){return l==null&&(l=u),a(h,"scaleX",u,o,p,f),a(h,"scaleY",l,d,p,f)};s.exports=v}),95532:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(66979),v=function(h,u,l,o,d){return a(h,"scaleY",u,l,o,d)};s.exports=v}),8689:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(43967),v=function(h,u,l,o,d){return a(h,"alpha",u,l,o,d)};s.exports=v}),2645:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(43967),v=function(h,u,l,o){return a(h,"blendMode",u,0,l,o)};s.exports=v}),32372:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(43967),v=function(h,u,l,o,d){return a(h,"depth",u,l,o,d)};s.exports=v}),85373:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){for(var h=0;h<r.length;h++)r[h].setInteractive(a,v);return r};s.exports=g}),81583:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(43967),v=function(h,u,l,o,d,p,f){return l==null&&(l=u),a(h,"originX",u,o,p,f),a(h,"originY",l,d,p,f),h.forEach(function(y){y.updateDisplayOrigin()}),h};s.exports=v}),79939:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(43967),v=function(h,u,l,o,d){return a(h,"rotation",u,l,o,d)};s.exports=v}),2699:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(43967),v=function(h,u,l,o,d,p,f){return l==null&&(l=u),a(h,"scaleX",u,o,p,f),a(h,"scaleY",l,d,p,f)};s.exports=v}),98739:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(43967),v=function(h,u,l,o,d){return a(h,"scaleX",u,l,o,d)};s.exports=v}),98476:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(43967),v=function(h,u,l,o,d){return a(h,"scaleY",u,l,o,d)};s.exports=v}),6207:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(43967),v=function(h,u,l,o,d,p,f){return l==null&&(l=u),a(h,"scrollFactorX",u,o,p,f),a(h,"scrollFactorY",l,d,p,f)};s.exports=v}),6607:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(43967),v=function(h,u,l,o,d){return a(h,"scrollFactorX",u,l,o,d)};s.exports=v}),72248:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(43967),v=function(h,u,l,o,d){return a(h,"scrollFactorY",u,l,o,d)};s.exports=v}),14036:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h,u){for(var l=0;l<r.length;l++)r[l].setTint(a,v,h,u);return r};s.exports=g}),50159:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(43967),v=function(h,u,l,o){return a(h,"visible",u,0,l,o)};s.exports=v}),77597:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(43967),v=function(h,u,l,o,d){return a(h,"x",u,l,o,d)};s.exports=v}),83194:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(43967),v=function(h,u,l,o,d,p,f){return l==null&&(l=u),a(h,"x",u,o,p,f),a(h,"y",l,d,p,f)};s.exports=v}),67678:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(43967),v=function(h,u,l,o,d){return a(h,"y",u,l,o,d)};s.exports=v}),35850:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(26099),v=function(h,u,l,o,d){o===void 0&&(o=0),d===void 0&&(d=new a);var p,f,y=h.length;if(y===1)p=h[0].x,f=h[0].y,h[0].x=u,h[0].y=l;else{var w=1,x=0;o===0&&(x=y-1,w=y-2),p=h[x].x,f=h[x].y,h[x].x=u,h[x].y=l;for(var b=0;b<y;b++)if(!(w>=y||w===-1)){var E=h[w],C=E.x,T=E.y;E.x=p,E.y=f,p=C,f=T,o===0?w--:w++}}return d.x=p,d.y=f,d};s.exports=v}),8628:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(33680),v=function(h){return a(h)};s.exports=v}),21837:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(7602),v=function(h,u,l,o,d){d===void 0&&(d=!1);var p=Math.abs(o-l)/h.length,f;if(d)for(f=0;f<h.length;f++)h[f][u]+=a(f*p,l,o);else for(f=0;f<h.length;f++)h[f][u]=a(f*p,l,o);return h};s.exports=v}),21910:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(54261),v=function(h,u,l,o,d){d===void 0&&(d=!1);var p=Math.abs(o-l)/h.length,f;if(d)for(f=0;f<h.length;f++)h[f][u]+=a(f*p,l,o);else for(f=0;f<h.length;f++)h[f][u]=a(f*p,l,o);return h};s.exports=v}),62054:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h,u){if(u===void 0&&(u=!1),r.length===0)return r;if(r.length===1)return u?r[0][a]+=(h+v)/2:r[0][a]=(h+v)/2,r;var l=Math.abs(h-v)/(r.length-1),o;if(u)for(o=0;o<r.length;o++)r[o][a]+=o*l+v;else for(o=0;o<r.length;o++)r[o][a]=o*l+v;return r};s.exports=g}),79815:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){for(var a=0;a<r.length;a++)r[a].visible=!r[a].visible;return r};s.exports=g}),39665:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(15994),v=function(h,u,l){l===void 0&&(l=0);for(var o=0;o<h.length;o++){var d=h[o];d.x=a(d.x,u.left-l,u.right+l),d.y=a(d.y,u.top-l,u.bottom+l)}return h};s.exports=v}),61061:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={AlignTo:r(11517),Angle:r(80318),Call:r(60757),GetFirst:r(69927),GetLast:r(32265),GridAlign:r(94420),IncAlpha:r(41721),IncX:r(67285),IncXY:r(9074),IncY:r(75222),PlaceOnCircle:r(22983),PlaceOnEllipse:r(95253),PlaceOnLine:r(88505),PlaceOnRectangle:r(41346),PlaceOnTriangle:r(11575),PlayAnimation:r(29953),PropertyValueInc:r(66979),PropertyValueSet:r(43967),RandomCircle:r(88926),RandomEllipse:r(33286),RandomLine:r(96e3),RandomRectangle:r(28789),RandomTriangle:r(97154),Rotate:r(20510),RotateAround:r(91051),RotateAroundDistance:r(76332),ScaleX:r(61619),ScaleXY:r(94868),ScaleY:r(95532),SetAlpha:r(8689),SetBlendMode:r(2645),SetDepth:r(32372),SetHitArea:r(85373),SetOrigin:r(81583),SetRotation:r(79939),SetScale:r(2699),SetScaleX:r(98739),SetScaleY:r(98476),SetScrollFactor:r(6207),SetScrollFactorX:r(6607),SetScrollFactorY:r(72248),SetTint:r(14036),SetVisible:r(50159),SetX:r(77597),SetXY:r(83194),SetY:r(67678),ShiftPosition:r(35850),Shuffle:r(8628),SmootherStep:r(21910),SmoothStep:r(21837),Spread:r(62054),ToggleVisible:r(79815),WrapInRectangle:r(39665)}}),42099:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(45319),v=r(83419),h=r(74943),u=r(81957),l=r(41138),o=r(35154),d=r(90126),p=new v({initialize:function(y,w,x){this.manager=y,this.key=w,this.type="frame",this.frames=this.getFrames(y.textureManager,o(x,"frames",[]),o(x,"defaultTextureKey",null),o(x,"sortFrames",!0)),this.frameRate=o(x,"frameRate",null),this.duration=o(x,"duration",null),this.msPerFrame,this.skipMissedFrames=o(x,"skipMissedFrames",!0),this.delay=o(x,"delay",0),this.repeat=o(x,"repeat",0),this.repeatDelay=o(x,"repeatDelay",0),this.yoyo=o(x,"yoyo",!1),this.showBeforeDelay=o(x,"showBeforeDelay",!1),this.showOnStart=o(x,"showOnStart",!1),this.hideOnComplete=o(x,"hideOnComplete",!1),this.randomFrame=o(x,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(h.PAUSE_ALL,this.pause,this),this.manager.on(h.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(f,y,w,x){w===null&&x===null?(f.frameRate=24,f.duration=24/y*1e3):w&&x===null?(f.duration=w,f.frameRate=y/(w/1e3)):(f.frameRate=x,f.duration=y/x*1e3),f.msPerFrame=1e3/f.frameRate},addFrame:function(f){return this.addFrameAt(this.frames.length,f)},addFrameAt:function(f,y){var w=this.getFrames(this.manager.textureManager,y);if(w.length>0){if(f===0)this.frames=w.concat(this.frames);else if(f===this.frames.length)this.frames=this.frames.concat(w);else{var x=this.frames.slice(0,f),b=this.frames.slice(f);this.frames=x.concat(w,b)}this.updateFrameSequence()}return this},checkFrame:function(f){return f>=0&&f<this.frames.length},getFirstTick:function(f){f.accumulator=0,f.nextTick=f.frameRate===f.currentAnim.frameRate&&f.currentFrame.duration||f.msPerFrame},getFrameAt:function(f){return this.frames[f]},getFrames:function(f,y,w,x){x===void 0&&(x=!0);var b=[],E,C,T=1,S,A;if(typeof y=="string"){if(A=y,!f.exists(A))return console.warn('Texture "%s" not found',A),b;var P=f.get(A),R=P.getFrameNames();x&&d(R),y=[],R.forEach(function(k){y.push({key:A,frame:k})})}if(!Array.isArray(y)||y.length===0)return b;for(S=0;S<y.length;S++){var L=y[S],D=o(L,"key",w);if(D){var $=o(L,"frame",0),F=f.getFrame(D,$);if(!F){console.warn('Texture "%s" not found',D);continue}C=new l(D,$,T,F),C.duration=o(L,"duration",0),C.isFirst=!E,E&&(E.nextFrame=C,C.prevFrame=E),b.push(C),E=C,T++}}if(b.length>0){C.isLast=!0,C.nextFrame=b[0],b[0].prevFrame=C;var N=1/(b.length-1);for(S=0;S<b.length;S++)b[S].progress=S*N}return b},getNextTick:function(f){f.accumulator-=f.nextTick,f.nextTick=f.frameRate===f.currentAnim.frameRate&&f.currentFrame.duration||f.msPerFrame},getFrameByProgress:function(f){return f=a(f,0,1),u(f,this.frames,"progress")},nextFrame:function(f){var y=f.currentFrame;y.isLast?f.yoyo?this.handleYoyoFrame(f,!1):f.repeatCounter>0?f.inReverse&&f.forward?f.forward=!1:this.repeatAnimation(f):f.complete():this.updateAndGetNextTick(f,y.nextFrame)},handleYoyoFrame:function(f,y){if(y||(y=!1),f.inReverse===!y&&f.repeatCounter>0){(f.repeatDelay===0||f.pendingRepeat)&&(f.forward=y),this.repeatAnimation(f);return}if(f.inReverse!==y&&f.repeatCounter===0){f.complete();return}f.forward=y;var w=y?f.currentFrame.nextFrame:f.currentFrame.prevFrame;this.updateAndGetNextTick(f,w)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(f){var y=f.currentFrame;y.isFirst?f.yoyo?this.handleYoyoFrame(f,!0):f.repeatCounter>0?f.inReverse&&!f.forward?this.repeatAnimation(f):(f.forward=!0,this.repeatAnimation(f)):f.complete():this.updateAndGetNextTick(f,y.prevFrame)},updateAndGetNextTick:function(f,y){f.setCurrentFrame(y),this.getNextTick(f)},removeFrame:function(f){var y=this.frames.indexOf(f);return y!==-1&&this.removeFrameAt(y),this},removeFrameAt:function(f){return this.frames.splice(f,1),this.updateFrameSequence(),this},repeatAnimation:function(f){if(f._pendingStop===2){if(f._pendingStopValue===0)return f.stop();f._pendingStopValue--}f.repeatDelay>0&&!f.pendingRepeat?(f.pendingRepeat=!0,f.accumulator-=f.nextTick,f.nextTick+=f.repeatDelay):(f.repeatCounter--,f.forward?f.setCurrentFrame(f.currentFrame.nextFrame):f.setCurrentFrame(f.currentFrame.prevFrame),f.isPlaying&&(this.getNextTick(f),f.handleRepeat()))},toJSON:function(){var f={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(y){f.frames.push(y.toJSON())}),f},updateFrameSequence:function(){for(var f=this.frames.length,y=1/(f-1),w,x=0;x<f;x++)w=this.frames[x],w.index=x+1,w.isFirst=!1,w.isLast=!1,w.progress=x*y,x===0?(w.isFirst=!0,f===1?(w.isLast=!0,w.nextFrame=w,w.prevFrame=w):(w.isLast=!1,w.prevFrame=this.frames[f-1],w.nextFrame=this.frames[x+1])):x===f-1&&f>1?(w.isLast=!0,w.prevFrame=this.frames[f-2],w.nextFrame=this.frames[0]):f>1&&(w.prevFrame=this.frames[x-1],w.nextFrame=this.frames[x+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(h.PAUSE_ALL,this.pause,this),this.manager.off(h.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var f=0;f<this.frames.length;f++)this.frames[f].destroy();this.frames=[],this.manager=null}});s.exports=p}),41138:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=new a({initialize:function(u,l,o,d,p){p===void 0&&(p=!1),this.textureKey=u,this.textureFrame=l,this.index=o,this.frame=d,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=p},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});s.exports=v}),60848:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(42099),v=r(83419),h=r(90330),u=r(50792),l=r(74943),o=r(8443),d=r(95540),p=r(35154),f=r(36383),y=r(20283),w=r(41836),x=new v({Extends:u,initialize:function(E){u.call(this),this.game=E,this.textureManager=null,this.globalTimeScale=1,this.anims=new h,this.mixes=new h,this.paused=!1,this.name="AnimationManager",E.events.once(o.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(o.DESTROY,this.destroy,this)},addMix:function(b,E,C){var T=this.anims,S=this.mixes,A=typeof b=="string"?b:b.key,P=typeof E=="string"?E:E.key;if(T.has(A)&&T.has(P)){var R=S.get(A);R||(R={}),R[P]=C,S.set(A,R)}return this},removeMix:function(b,E){var C=this.mixes,T=typeof b=="string"?b:b.key,S=C.get(T);if(S)if(E){var A=typeof E=="string"?E:E.key;S.hasOwnProperty(A)&&delete S[A]}else E||C.delete(T);return this},getMix:function(b,E){var C=this.mixes,T=typeof b=="string"?b:b.key,S=typeof E=="string"?E:E.key,A=C.get(T);return A&&A.hasOwnProperty(S)?A[S]:0},add:function(b,E){return this.anims.has(b)?(console.warn("Animation key exists: "+b),this):(E.key=b,this.anims.set(b,E),this.emit(l.ADD_ANIMATION,b,E),this)},exists:function(b){return this.anims.has(b)},createFromAseprite:function(b,E,C){var T=[],S=this.game.cache.json.get(b);if(!S)return console.warn("No Aseprite data found for: "+b),T;var A=this,P=p(S,"meta",null),R=p(S,"frames",null);if(P&&R){var L=p(P,"frameTags",[]);L.forEach(function(D){var $=[],F=d(D,"name",null),N=d(D,"from",0),k=d(D,"to",0),j=d(D,"direction","forward");if(F&&(!E||E&&E.indexOf(F)>-1)){for(var W=0,G=N;G<=k;G++){var K=G.toString(),z=R[K];if(z){var X=d(z,"duration",f.MAX_SAFE_INTEGER);$.push({key:b,frame:K,duration:X}),W+=X}}j==="reverse"&&($=$.reverse());var U={key:F,frames:$,duration:W,yoyo:j==="pingpong"},Z;C?C.anims&&(Z=C.anims.create(U)):Z=A.create(U),Z&&T.push(Z)}})}return T},create:function(b){var E=b.key,C=!1;return E&&(C=this.get(E),C?console.warn("AnimationManager key already exists: "+E):(C=new a(this,E,b),this.anims.set(E,C),this.emit(l.ADD_ANIMATION,E,C))),C},fromJSON:function(b,E){E===void 0&&(E=!1),E&&this.anims.clear(),typeof b=="string"&&(b=JSON.parse(b));var C=[];if(b.hasOwnProperty("anims")&&Array.isArray(b.anims)){for(var T=0;T<b.anims.length;T++)C.push(this.create(b.anims[T]));b.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=b.globalTimeScale)}else b.hasOwnProperty("key")&&b.type==="frame"&&C.push(this.create(b));return C},generateFrameNames:function(b,E){var C=p(E,"prefix",""),T=p(E,"start",0),S=p(E,"end",0),A=p(E,"suffix",""),P=p(E,"zeroPad",0),R=p(E,"outputArray",[]),L=p(E,"frames",!1);if(!this.textureManager.exists(b))return console.warn('Texture "%s" not found',b),R;var D=this.textureManager.get(b);if(!D)return R;var $;if(E)for(L||(L=y(T,S)),$=0;$<L.length;$++){var F=C+w(L[$],P,"0",1)+A;D.has(F)?R.push({key:b,frame:F}):console.warn('Frame "%s" not found in texture "%s"',F,b)}else for(L=D.getFrameNames(),$=0;$<L.length;$++)R.push({key:b,frame:L[$]});return R},generateFrameNumbers:function(b,E){var C=p(E,"start",0),T=p(E,"end",-1),S=p(E,"first",!1),A=p(E,"outputArray",[]),P=p(E,"frames",!1);if(!this.textureManager.exists(b))return console.warn('Texture "%s" not found',b),A;var R=this.textureManager.get(b);if(!R)return A;S&&R.has(S)&&A.push({key:b,frame:S}),P||(T===-1&&(T=R.frameTotal-2),P=y(C,T));for(var L=0;L<P.length;L++){var D=P[L];R.has(D)?A.push({key:b,frame:D}):console.warn('Frame "%s" not found in texture "%s"',D,b)}return A},get:function(b){return this.anims.get(b)},getAnimsFromTexture:function(b){for(var E=this.textureManager.get(b),C=E.key,T=this.anims.getArray(),S=[],A=0;A<T.length;A++)for(var P=T[A],R=P.frames,L=0;L<R.length;L++)if(R[L].textureKey===C){S.push(P.key);break}return S},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(l.PAUSE_ALL)),this},play:function(b,E){Array.isArray(E)||(E=[E]);for(var C=0;C<E.length;C++)E[C].anims.play(b);return this},staggerPlay:function(b,E,C,T){C===void 0&&(C=0),T===void 0&&(T=!0),Array.isArray(E)||(E=[E]);var S=E.length;T||S--;for(var A=0;A<E.length;A++){var P=C<0?Math.abs(C)*(S-A):C*A;E[A].anims.playAfterDelay(b,P)}return this},remove:function(b){var E=this.get(b);return E&&(this.emit(l.REMOVE_ANIMATION,b,E),this.anims.delete(b),this.removeMix(b)),E},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(l.RESUME_ALL)),this},toJSON:function(b){var E={anims:[],globalTimeScale:this.globalTimeScale};return b!==void 0&&b!==""?E.anims.push(this.anims.get(b).toJSON()):this.anims.each(function(C,T){E.anims.push(T.toJSON())}),E},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});s.exports=x}),9674:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(42099),v=r(30976),h=r(83419),u=r(90330),l=r(74943),o=r(95540),d=new h({initialize:function(f){this.parent=f,this.animationManager=f.scene.sys.anims,this.animationManager.on(l.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(p){var f=this.parent;if(p===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,f;Array.isArray(p)||(p=[p]);for(var y=0;y<p.length;y++){var w=p[y];this.nextAnim?this.nextAnimsQueue.push(w):this.nextAnim=w}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(p){this.isPlaying&&this.stop();var f=this.animationManager,y=typeof p=="string"?p:o(p,"key",null),w=this.exists(y)?this.get(y):f.get(y);if(!w)console.warn("Missing animation: "+y);else{this.currentAnim=w;var x=w.getTotalFrames(),b=o(p,"frameRate",w.frameRate),E=o(p,"duration",w.duration);w.calculateDuration(this,x,E,b),this.delay=o(p,"delay",w.delay),this.repeat=o(p,"repeat",w.repeat),this.repeatDelay=o(p,"repeatDelay",w.repeatDelay),this.yoyo=o(p,"yoyo",w.yoyo),this.showBeforeDelay=o(p,"showBeforeDelay",w.showBeforeDelay),this.showOnStart=o(p,"showOnStart",w.showOnStart),this.hideOnComplete=o(p,"hideOnComplete",w.hideOnComplete),this.skipMissedFrames=o(p,"skipMissedFrames",w.skipMissedFrames),this.randomFrame=o(p,"randomFrame",w.randomFrame),this.timeScale=o(p,"timeScale",this.timeScale);var C=o(p,"startFrame",0);C>x&&(C=0),this.randomFrame&&(C=v(0,x-1));var T=w.frames[C];C===0&&!this.forward&&(T=w.getLastFrame()),this.currentFrame=T}return this.parent},pause:function(p){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),p!==void 0&&this.setCurrentFrame(p),this.parent},resume:function(p){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),p!==void 0&&this.setCurrentFrame(p),this.parent},playAfterDelay:function(p,f){if(!this.isPlaying)this.delayCounter=f,this.play(p,!0);else{var y=this.nextAnim,w=this.nextAnimsQueue;y&&w.unshift(y),this.nextAnim=p,this._pendingStop=1,this._pendingStopValue=f}return this.parent},playAfterRepeat:function(p,f){if(f===void 0&&(f=1),!this.isPlaying)this.play(p);else{var y=this.nextAnim,w=this.nextAnimsQueue;y&&w.unshift(y),this.repeatCounter!==-1&&f>this.repeatCounter&&(f=this.repeatCounter),this.nextAnim=p,this._pendingStop=2,this._pendingStopValue=f}return this.parent},play:function(p,f){f===void 0&&(f=!1);var y=this.currentAnim,w=this.parent,x=typeof p=="string"?p:p.key;if(f&&this.isPlaying&&y.key===x)return w;if(y&&this.isPlaying){var b=this.animationManager.getMix(y.key,p);if(b>0)return this.playAfterDelay(p,b)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(p)},playReverse:function(p,f){f===void 0&&(f=!1);var y=typeof p=="string"?p:p.key;return f&&this.isPlaying&&this.currentAnim.key===y?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(p))},startAnimation:function(p){this.load(p);var f=this.currentAnim,y=this.parent;return f&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,f.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),y},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(l.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(l.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(l.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(l.ANIMATION_COMPLETE,l.ANIMATION_COMPLETE_KEY)},emitEvents:function(p,f){var y=this.currentAnim;if(y){var w=this.currentFrame,x=this.parent,b=w.textureFrame;x.emit(p,y,w,x,b),f&&x.emit(f+y.key,y,w,x,b)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var p=this.currentFrame;if(!p)return 0;var f=p.progress;return this.inReverse&&(f*=-1),f},setProgress:function(p){return this.forward||(p=1-p),this.setCurrentFrame(this.currentAnim.getFrameByProgress(p)),this.parent},setRepeat:function(p){return this.repeatCounter=p===-1?Number.MAX_VALUE:p,this.parent},globalRemove:function(p,f){f===void 0&&(f=this.currentAnim),this.isPlaying&&f.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(p,f){p===void 0&&(p=!1),f===void 0&&(f=!1);var y=this.currentAnim,w=this.parent;return y?(f&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),y.getFirstTick(this),this.emitEvents(l.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!p,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(y.frames[0]),this.parent):w},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var p=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(p)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var p=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(p)}return this.parent},stopAfterDelay:function(p){return this._pendingStop=1,this._pendingStopValue=p,this.parent},stopAfterRepeat:function(p){return p===void 0&&(p=1),this.repeatCounter!==-1&&p>this.repeatCounter&&(p=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=p,this.parent},stopOnFrame:function(p){return this._pendingStop=3,this._pendingStopValue=p,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(p,f){var y=this.currentAnim;if(!(!this.isPlaying||!y||y.paused)){if(this.accumulator+=f*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=f,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?y.nextFrame(this):y.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var w=0;do this.forward?y.nextFrame(this):y.previousFrame(this),w++;while(this.isPlaying&&this.accumulator>this.nextTick&&w<60)}}},setCurrentFrame:function(p){var f=this.parent;return this.currentFrame=p,f.texture=p.frame.texture,f.frame=p.frame,f.isCropped&&f.frame.updateCropUVs(f._crop,f.flipX,f.flipY),p.setAlpha&&(f.alpha=p.alpha),f.setSizeToFrame(),f._originComponent&&(p.frame.customPivot?f.setOrigin(p.frame.pivotX,p.frame.pivotY):f.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(l.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===p&&this.stop()),f},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(p){return this.anims?this.anims.get(p):null},exists:function(p){return this.anims?this.anims.has(p):!1},create:function(p){var f=p.key,y=!1;return f&&(y=this.get(f),y?console.warn("Animation key already exists: "+f):(y=new a(this,f,p),this.anims||(this.anims=new u),this.anims.set(f,y))),y},createFromAseprite:function(p,f){return this.animationManager.createFromAseprite(p,f,this.parent)},generateFrameNames:function(p,f){return this.animationManager.generateFrameNames(p,f)},generateFrameNumbers:function(p,f){return this.animationManager.generateFrameNumbers(p,f)},remove:function(p){var f=this.get(p);return f&&(this.currentAnim===f&&this.stop(),this.anims.delete(p)),f},destroy:function(){this.animationManager.off(l.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});s.exports=d}),57090:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="add"}),25312:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="animationcomplete"}),89580:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="animationcomplete-"}),52860:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="animationrepeat"}),63850:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="animationrestart"}),99085:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="animationstart"}),28087:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="animationstop"}),1794:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="animationupdate"}),52562:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pauseall"}),57953:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="remove"}),68339:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="resumeall"}),74943:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={ADD_ANIMATION:r(57090),ANIMATION_COMPLETE:r(25312),ANIMATION_COMPLETE_KEY:r(89580),ANIMATION_REPEAT:r(52860),ANIMATION_RESTART:r(63850),ANIMATION_START:r(99085),ANIMATION_STOP:r(28087),ANIMATION_UPDATE:r(1794),PAUSE_ALL:r(52562),REMOVE_ANIMATION:r(57953),RESUME_ALL:r(68339)}}),60421:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Animation:r(42099),AnimationFrame:r(41138),AnimationManager:r(60848),AnimationState:r(9674),Events:r(74943)}}),2161:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(90330),h=r(50792),u=r(24736),l=new a({initialize:function(){this.entries=new v,this.events=new h},add:function(o,d){return this.entries.set(o,d),this.events.emit(u.ADD,this,o,d),this},has:function(o){return this.entries.has(o)},exists:function(o){return this.entries.has(o)},get:function(o){return this.entries.get(o)},remove:function(o){var d=this.get(o);return d&&(this.entries.delete(o),this.events.emit(u.REMOVE,this,o,d.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});s.exports=l}),24047:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(2161),v=r(83419),h=r(8443),u=new v({initialize:function(o){this.game=o,this.binary=new a,this.bitmapFont=new a,this.json=new a,this.physics=new a,this.shader=new a,this.audio=new a,this.video=new a,this.text=new a,this.html=new a,this.obj=new a,this.tilemap=new a,this.xml=new a,this.custom={},this.game.events.once(h.DESTROY,this.destroy,this)},addCustom:function(l){return this.custom.hasOwnProperty(l)||(this.custom[l]=new a),this.custom[l]},destroy:function(){for(var l=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],o=0;o<l.length;o++)this[l[o]].destroy(),this[l[o]]=null;for(var d in this.custom)this.custom[d].destroy();this.custom=null,this.game=null}});s.exports=u}),51464:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="add"}),59261:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="remove"}),24736:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={ADD:r(51464),REMOVE:r(59261)}}),83388:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={BaseCache:r(2161),CacheManager:r(24047),Events:r(24736)}}),71911:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(31401),h=r(39506),u=r(50792),l=r(19715),o=r(87841),d=r(61340),p=r(80333),f=r(26099),y=new a({Extends:u,Mixins:[v.AlphaSingle,v.Visible],initialize:function(x,b,E,C){x===void 0&&(x=0),b===void 0&&(b=0),E===void 0&&(E=0),C===void 0&&(C=0),u.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new o,this.dirty=!0,this._x=x,this._y=b,this._width=E,this._height=C,this._bounds=new o,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new d,this.transparent=!0,this.backgroundColor=p("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new f(E/2,C/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},addToRenderList:function(w){this.renderList.push(w)},setOrigin:function(w,x){return w===void 0&&(w=.5),x===void 0&&(x=w),this.originX=w,this.originY=x,this},getScroll:function(w,x,b){b===void 0&&(b=new f);var E=this.width*.5,C=this.height*.5;return b.x=w-E,b.y=x-C,this.useBounds&&(b.x=this.clampX(b.x),b.y=this.clampY(b.y)),b},centerOnX:function(w){var x=this.width*.5;return this.midPoint.x=w,this.scrollX=w-x,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(w){var x=this.height*.5;return this.midPoint.y=w,this.scrollY=w-x,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(w,x){return this.centerOnX(w),this.centerOnY(x),this},centerToBounds:function(){if(this.useBounds){var w=this._bounds,x=this.width*.5,b=this.height*.5;this.midPoint.set(w.centerX,w.centerY),this.scrollX=w.centerX-x,this.scrollY=w.centerY-b}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(w){if(this.disableCull)return w;var x=this.matrix.matrix,b=x[0],E=x[1],C=x[2],T=x[3],S=b*T-E*C;if(!S)return w;var A=x[4],P=x[5],R=this.scrollX,L=this.scrollY,D=this.width,$=this.height,F=this.y,N=F+$,k=this.x,j=k+D,W=this.culledObjects,G=w.length;S=1/S,W.length=0;for(var K=0;K<G;++K){var z=w[K];if(!z.hasOwnProperty("width")||z.parentContainer){W.push(z);continue}var X=z.width,U=z.height,Z=z.x-R*z.scrollFactorX-X*z.originX,V=z.y-L*z.scrollFactorY-U*z.originY,J=Z*b+V*C+A,Q=Z*E+V*T+P,ee=(Z+X)*b+(V+U)*C+A,te=(Z+X)*E+(V+U)*T+P;ee>k&&J<j&&te>F&&Q<N&&W.push(z)}return W},getWorldPoint:function(w,x,b){b===void 0&&(b=new f);var E=this.matrix.matrix,C=E[0],T=E[1],S=E[2],A=E[3],P=E[4],R=E[5],L=C*A-T*S;if(!L)return b.x=w,b.y=x,b;L=1/L;var D=A*L,$=-T*L,F=-S*L,N=C*L,k=(S*R-A*P)*L,j=(T*P-C*R)*L,W=Math.cos(this.rotation),G=Math.sin(this.rotation),K=this.zoomX,z=this.zoomY,X=this.scrollX,U=this.scrollY,Z=w+(X*W-U*G)*K,V=x+(X*G+U*W)*z;return b.x=Z*D+V*F+k,b.y=Z*$+V*N+j,b},ignore:function(w){var x=this.id;Array.isArray(w)||(w=[w]);for(var b=0;b<w.length;b++){var E=w[b];Array.isArray(E)?this.ignore(E):E.isParent?this.ignore(E.getChildren()):E.cameraFilter|=x}return this},clampX:function(w){var x=this._bounds,b=this.displayWidth,E=x.x+(b-this.width)/2,C=Math.max(E,E+x.width-b);return w<E?w=E:w>C&&(w=C),w},clampY:function(w){var x=this._bounds,b=this.displayHeight,E=x.y+(b-this.height)/2,C=Math.max(E,E+x.height-b);return w<E?w=E:w>C&&(w=C),w},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(w){return w===void 0&&(w=0),this.rotation=h(w),this},setBackgroundColor:function(w){return w===void 0&&(w="rgba(0,0,0,0)"),this.backgroundColor=p(w),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(w,x,b,E,C){return C===void 0&&(C=!1),this._bounds.setTo(w,x,b,E),this.dirty=!0,this.useBounds=!0,C?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(w){w===void 0&&(w=new o);var x=this._bounds;return w.setTo(x.x,x.y,x.width,x.height),w},setName:function(w){return w===void 0&&(w=""),this.name=w,this},setPosition:function(w,x){return x===void 0&&(x=w),this.x=w,this.y=x,this},setRotation:function(w){return w===void 0&&(w=0),this.rotation=w,this},setRoundPixels:function(w){return this.roundPixels=w,this},setScene:function(w,x){x===void 0&&(x=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=w,this.isSceneCamera=x;var b=w.sys;return this.sceneManager=b.game.scene,this.scaleManager=b.scale,this.cameraManager=b.cameras,this.updateSystem(),this},setScroll:function(w,x){return x===void 0&&(x=w),this.scrollX=w,this.scrollY=x,this},setSize:function(w,x){return x===void 0&&(x=w),this.width=w,this.height=x,this},setViewport:function(w,x,b,E){return this.x=w,this.y=x,this.width=b,this.height=E,this},setZoom:function(w,x){return w===void 0&&(w=1),x===void 0&&(x=w),w===0&&(w=.001),x===0&&(x=.001),this.zoomX=w,this.zoomY=x,this},setMask:function(w,x){return x===void 0&&(x=!0),this.mask=w,this._maskCamera=x?this.cameraManager.default:this,this},clearMask:function(w){return w===void 0&&(w=!1),w&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var w={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(w.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),w},update:function(){},setIsSceneCamera:function(w){return this.isSceneCamera=w,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var w=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,x=this.sceneManager;w&&!this._customViewport?x.customViewports++:!w&&this._customViewport&&x.customViewports--,this.dirty=!0,this._customViewport=w}},destroy:function(){this.emit(l.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(w){this._x=w,this.updateSystem()}},y:{get:function(){return this._y},set:function(w){this._y=w,this.updateSystem()}},width:{get:function(){return this._width},set:function(w){this._width=w,this.updateSystem()}},height:{get:function(){return this._height},set:function(w){this._height=w,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(w){w!==this._scrollX&&(this._scrollX=w,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(w){w!==this._scrollY&&(this._scrollY=w,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(w){this._zoomX=w,this._zoomY=w,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(w){this._zoomX=w,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(w){this._zoomY=w,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(w){this._rotation=w,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});s.exports=y}),38058:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(71911),v=r(67502),h=r(45319),u=r(83419),l=r(31401),o=r(20052),d=r(19715),p=r(28915),f=r(87841),y=r(26099),w=new u({Extends:a,Mixins:[l.PostPipeline],initialize:function(b,E,C,T){a.call(this,b,E,C,T),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new o.Fade(this),this.flashEffect=new o.Flash(this),this.shakeEffect=new o.Shake(this),this.panEffect=new o.Pan(this),this.rotateToEffect=new o.RotateTo(this),this.zoomEffect=new o.Zoom(this),this.lerp=new y(1,1),this.followOffset=new y,this.deadzone=null,this._follow=null},setDeadzone:function(x,b){if(x===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=x,this.deadzone.height=b):this.deadzone=new f(0,0,x,b),this._follow){var E=this.width/2,C=this.height/2,T=this._follow.x-this.followOffset.x,S=this._follow.y-this.followOffset.y;this.midPoint.set(T,S),this.scrollX=T-E,this.scrollY=S-C}v(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(x,b,E,C,T,S){return this.fadeEffect.start(!1,x,b,E,C,!0,T,S)},fadeOut:function(x,b,E,C,T,S){return this.fadeEffect.start(!0,x,b,E,C,!0,T,S)},fadeFrom:function(x,b,E,C,T,S,A){return this.fadeEffect.start(!1,x,b,E,C,T,S,A)},fade:function(x,b,E,C,T,S,A){return this.fadeEffect.start(!0,x,b,E,C,T,S,A)},flash:function(x,b,E,C,T,S,A){return this.flashEffect.start(x,b,E,C,T,S,A)},shake:function(x,b,E,C,T){return this.shakeEffect.start(x,b,E,C,T)},pan:function(x,b,E,C,T,S,A){return this.panEffect.start(x,b,E,C,T,S,A)},rotateTo:function(x,b,E,C,T,S,A){return this.rotateToEffect.start(x,b,E,C,T,S,A)},zoomTo:function(x,b,E,C,T,S){return this.zoomEffect.start(x,b,E,C,T,S)},preRender:function(){this.renderList.length=0;var x=this.width,b=this.height,E=x*.5,C=b*.5,T=this.zoomX,S=this.zoomY,A=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(T)&&Number.isInteger(S);var P=x*this.originX,R=b*this.originY,L=this._follow,D=this.deadzone,$=this.scrollX,F=this.scrollY;D&&v(D,this.midPoint.x,this.midPoint.y);var N=!1;if(L&&!this.panEffect.isRunning){var k=this.lerp,j=L.x-this.followOffset.x,W=L.y-this.followOffset.y;D?(j<D.x?$=p($,$-(D.x-j),k.x):j>D.right&&($=p($,$+(j-D.right),k.x)),W<D.y?F=p(F,F-(D.y-W),k.y):W>D.bottom&&(F=p(F,F+(W-D.bottom),k.y))):($=p($,j-P,k.x),F=p(F,W-R,k.y)),N=!0}this.roundPixels&&($=Math.floor($),F=Math.floor(F)),this.useBounds&&($=this.clampX($),F=this.clampY(F)),this.scrollX=$,this.scrollY=F;var G=$+E,K=F+C;this.midPoint.set(G,K);var z=Math.floor(x/T+.5),X=Math.floor(b/S+.5),U=Math.floor(G-z/2+.5),Z=Math.floor(K-X/2+.5);this.worldView.setTo(U,Z,z,X),A.applyITRS(Math.floor(this.x+P+.5),Math.floor(this.y+R+.5),this.rotation,T,S),A.translate(-P,-R),this.shakeEffect.preRender(),N&&this.emit(d.FOLLOW_UPDATE,this,L)},setLerp:function(x,b){return x===void 0&&(x=1),b===void 0&&(b=x),this.lerp.set(x,b),this},setFollowOffset:function(x,b){return x===void 0&&(x=0),b===void 0&&(b=0),this.followOffset.set(x,b),this},startFollow:function(x,b,E,C,T,S){b===void 0&&(b=!1),E===void 0&&(E=1),C===void 0&&(C=E),T===void 0&&(T=0),S===void 0&&(S=T),this._follow=x,this.roundPixels=b,E=h(E,0,1),C=h(C,0,1),this.lerp.set(E,C),this.followOffset.set(T,S);var A=this.width/2,P=this.height/2,R=x.x-T,L=x.y-S;return this.midPoint.set(R,L),this.scrollX=R-A,this.scrollY=L-P,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(x,b){this.visible&&(this.rotateToEffect.update(x,b),this.panEffect.update(x,b),this.zoomEffect.update(x,b),this.shakeEffect.update(x,b),this.flashEffect.update(x,b),this.fadeEffect.update(x,b))},destroy:function(){this.resetFX(),a.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});s.exports=w}),32743:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(38058),v=r(83419),h=r(95540),u=r(37277),l=r(37303),o=r(97480),d=r(44594),p=new v({initialize:function(y){this.scene=y,this.systems=y.sys,this.roundPixels=y.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,y.sys.events.once(d.BOOT,this.boot,this),y.sys.events.on(d.START,this.start,this)},boot:function(){var f=this.systems;f.settings.cameras?this.fromJSON(f.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new a(0,0,f.scale.width,f.scale.height).setScene(this.scene),f.game.scale.on(o.RESIZE,this.onResize,this),this.systems.events.once(d.DESTROY,this.destroy,this)},start:function(){if(!this.main){var f=this.systems;f.settings.cameras?this.fromJSON(f.settings.cameras):this.add(),this.main=this.cameras[0]}var y=this.systems.events;y.on(d.UPDATE,this.update,this),y.once(d.SHUTDOWN,this.shutdown,this)},add:function(f,y,w,x,b,E){f===void 0&&(f=0),y===void 0&&(y=0),w===void 0&&(w=this.scene.sys.scale.width),x===void 0&&(x=this.scene.sys.scale.height),b===void 0&&(b=!1),E===void 0&&(E="");var C=new a(f,y,w,x);return C.setName(E),C.setScene(this.scene),C.setRoundPixels(this.roundPixels),C.id=this.getNextID(),this.cameras.push(C),b&&(this.main=C),C},addExisting:function(f,y){y===void 0&&(y=!1);var w=this.cameras.indexOf(f);return w===-1?(f.id=this.getNextID(),f.setRoundPixels(this.roundPixels),this.cameras.push(f),y&&(this.main=f),f):null},getNextID:function(){for(var f=this.cameras,y=1,w=0;w<32;w++){for(var x=!1,b=0;b<f.length;b++){var E=f[b];if(E&&E.id===y){x=!0;continue}}if(x)y=y<<1;else return y}return 0},getTotal:function(f){f===void 0&&(f=!1);for(var y=0,w=this.cameras,x=0;x<w.length;x++){var b=w[x];(!f||f&&b.visible)&&y++}return y},fromJSON:function(f){Array.isArray(f)||(f=[f]);for(var y=this.scene.sys.scale.width,w=this.scene.sys.scale.height,x=0;x<f.length;x++){var b=f[x],E=h(b,"x",0),C=h(b,"y",0),T=h(b,"width",y),S=h(b,"height",w),A=this.add(E,C,T,S);A.name=h(b,"name",""),A.zoom=h(b,"zoom",1),A.rotation=h(b,"rotation",0),A.scrollX=h(b,"scrollX",0),A.scrollY=h(b,"scrollY",0),A.roundPixels=h(b,"roundPixels",!1),A.visible=h(b,"visible",!0);var P=h(b,"backgroundColor",!1);P&&A.setBackgroundColor(P);var R=h(b,"bounds",null);if(R){var L=h(R,"x",0),D=h(R,"y",0),$=h(R,"width",y),F=h(R,"height",w);A.setBounds(L,D,$,F)}}return this},getCamera:function(f){for(var y=this.cameras,w=0;w<y.length;w++)if(y[w].name===f)return y[w];return null},getCamerasBelowPointer:function(f){for(var y=this.cameras,w=f.x,x=f.y,b=[],E=0;E<y.length;E++){var C=y[E];C.visible&&C.inputEnabled&&l(C,w,x)&&b.unshift(C)}return b},remove:function(f,y){y===void 0&&(y=!0),Array.isArray(f)||(f=[f]);for(var w=0,x=this.cameras,b=0;b<f.length;b++){var E=x.indexOf(f[b]);E!==-1&&(y?x[E].destroy():x[E].renderList=[],x.splice(E,1),w++)}return!this.main&&x[0]&&(this.main=x[0]),w},render:function(f,y){for(var w=this.scene,x=this.cameras,b=0;b<x.length;b++){var E=x[b];if(E.visible&&E.alpha>0){E.preRender();var C=this.getVisibleChildren(y.getChildren(),E);f.render(w,C,E)}}},getVisibleChildren:function(f,y){return f.filter(function(w){return w.willRender(y)})},resetAll:function(){for(var f=0;f<this.cameras.length;f++)this.cameras[f].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(f,y){for(var w=0;w<this.cameras.length;w++)this.cameras[w].update(f,y)},onResize:function(f,y,w,x,b){for(var E=0;E<this.cameras.length;E++){var C=this.cameras[E];C._x===0&&C._y===0&&C._width===x&&C._height===b&&C.setSize(y.width,y.height)}},resize:function(f,y){for(var w=0;w<this.cameras.length;w++)this.cameras[w].setSize(f,y)},shutdown:function(){this.main=void 0;for(var f=0;f<this.cameras.length;f++)this.cameras[f].destroy();this.cameras=[];var y=this.systems.events;y.off(d.UPDATE,this.update,this),y.off(d.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(d.START,this.start,this),this.systems.events.off(d.DESTROY,this.destroy,this),this.systems.game.scale.off(o.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});u.register("CameraManager",p,"cameras"),s.exports=p}),5020:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(45319),v=r(83419),h=r(19715),u=new v({initialize:function(o){this.camera=o,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(l,o,d,p,f,y,w,x){if(l===void 0&&(l=!0),o===void 0&&(o=1e3),d===void 0&&(d=0),p===void 0&&(p=0),f===void 0&&(f=0),y===void 0&&(y=!1),w===void 0&&(w=null),x===void 0&&(x=this.camera.scene),!y&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=o,this.direction=l,this.progress=0,this.red=d,this.green=p,this.blue=f,this.alpha=l?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=w,this._onUpdateScope=x;var b=l?h.FADE_OUT_START:h.FADE_IN_START;return this.camera.emit(b,this.camera,this,o,d,p,f),this.camera},update:function(l,o){this.isRunning&&(this._elapsed+=o,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(l){if(!this.isRunning&&!this.isComplete)return!1;var o=this.camera;return l.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",l.fillRect(o.x,o.y,o.width,o.height),!0},postRenderWebGL:function(l,o){if(!this.isRunning&&!this.isComplete)return!1;var d=this.camera,p=this.red/255,f=this.green/255,y=this.blue/255;return l.drawFillRect(d.x,d.y,d.width,d.height,o(y,f,p,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var l=this.direction?h.FADE_OUT_COMPLETE:h.FADE_IN_COMPLETE;this.camera.emit(l,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});s.exports=u}),10662:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(45319),v=r(83419),h=r(19715),u=new v({initialize:function(o){this.camera=o,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(l,o,d,p,f,y,w){return l===void 0&&(l=250),o===void 0&&(o=255),d===void 0&&(d=255),p===void 0&&(p=255),f===void 0&&(f=!1),y===void 0&&(y=null),w===void 0&&(w=this.camera.scene),!f&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=l,this.progress=0,this.red=o,this.green=d,this.blue=p,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=y,this._onUpdateScope=w,this.camera.emit(h.FLASH_START,this.camera,this,l,o,d,p),this.camera)},update:function(l,o){this.isRunning&&(this._elapsed+=o,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(l){if(!this.isRunning)return!1;var o=this.camera;return l.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",l.fillRect(o.x,o.y,o.width,o.height),!0},postRenderWebGL:function(l,o){if(!this.isRunning)return!1;var d=this.camera,p=this.red/255,f=this.green/255,y=this.blue/255;return l.drawFillRect(d.x,d.y,d.width,d.height,o(y,f,p,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(h.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});s.exports=u}),20359:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(45319),v=r(83419),h=r(62640),u=r(19715),l=r(26099),o=new v({initialize:function(p){this.camera=p,this.isRunning=!1,this.duration=0,this.source=new l,this.current=new l,this.destination=new l,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(d,p,f,y,w,x,b){f===void 0&&(f=1e3),y===void 0&&(y=h.Linear),w===void 0&&(w=!1),x===void 0&&(x=null),b===void 0&&(b=this.camera.scene);var E=this.camera;return!w&&this.isRunning||(this.isRunning=!0,this.duration=f,this.progress=0,this.source.set(E.scrollX,E.scrollY),this.destination.set(d,p),E.getScroll(d,p,this.current),typeof y=="string"&&h.hasOwnProperty(y)?this.ease=h[y]:typeof y=="function"&&(this.ease=y),this._elapsed=0,this._onUpdate=x,this._onUpdateScope=b,this.camera.emit(u.PAN_START,this.camera,this,f,d,p)),E},update:function(d,p){if(this.isRunning){this._elapsed+=p;var f=a(this._elapsed/this.duration,0,1);this.progress=f;var y=this.camera;if(this._elapsed<this.duration){var w=this.ease(f);y.getScroll(this.destination.x,this.destination.y,this.current);var x=this.source.x+(this.current.x-this.source.x)*w,b=this.source.y+(this.current.y-this.source.y)*w;y.setScroll(x,b),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,y,f,x,b)}else y.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,y,f,y.scrollX,y.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(u.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});s.exports=o}),34208:((s,g,r)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var a=r(45319),v=r(83419),h=r(19715),u=r(62640),l=new v({initialize:function(d){this.camera=d,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(o,d,p,f,y,w,x){p===void 0&&(p=1e3),f===void 0&&(f=u.Linear),y===void 0&&(y=!1),w===void 0&&(w=null),x===void 0&&(x=this.camera.scene),d===void 0&&(d=!1),this.shortestPath=d;var b=o;o<0?(b=-1*o,this.clockwise=!1):this.clockwise=!0;var E=360*Math.PI/180;b=b-Math.floor(b/E)*E;var C=this.camera;if(!y&&this.isRunning)return C;if(this.isRunning=!0,this.duration=p,this.progress=0,this.source=C.rotation,this.destination=b,typeof f=="string"&&u.hasOwnProperty(f)?this.ease=u[f]:typeof f=="function"&&(this.ease=f),this._elapsed=0,this._onUpdate=w,this._onUpdateScope=x,this.shortestPath){var T=0,S=0;this.destination>this.source?T=Math.abs(this.destination-this.source):T=Math.abs(this.destination+E)-this.source,this.source>this.destination?S=Math.abs(this.source-this.destination):S=Math.abs(this.source+E)-this.destination,T<S?this.clockwise=!0:T>S&&(this.clockwise=!1)}return this.camera.emit(h.ROTATE_START,this.camera,this,p,b),C},update:function(o,d){if(this.isRunning){this._elapsed+=d;var p=a(this._elapsed/this.duration,0,1);this.progress=p;var f=this.camera;if(this._elapsed<this.duration){var y=this.ease(p);this.current=f.rotation;var w=0,x=360*Math.PI/180,b=this.destination,E=this.current;this.clockwise===!1&&(b=this.current,E=this.destination),b>=E?w=Math.abs(b-E):w=Math.abs(b+x)-E;var C=0;this.clockwise?C=f.rotation+w*y:C=f.rotation-w*y,f.rotation=C,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,f,p,C)}else f.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,f,p,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(h.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});s.exports=l}),30330:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(45319),v=r(83419),h=r(19715),u=r(26099),l=new v({initialize:function(d){this.camera=d,this.isRunning=!1,this.duration=0,this.intensity=new u,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(o,d,p,f,y){return o===void 0&&(o=100),d===void 0&&(d=.05),p===void 0&&(p=!1),f===void 0&&(f=null),y===void 0&&(y=this.camera.scene),!p&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=o,this.progress=0,typeof d=="number"?this.intensity.set(d):this.intensity.set(d.x,d.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=f,this._onUpdateScope=y,this.camera.emit(h.SHAKE_START,this.camera,this,o,d),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(o,d){if(this.isRunning)if(this._elapsed+=d,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var p=this.intensity,f=this.camera.width,y=this.camera.height,w=this.camera.zoom;this._offsetX=(Math.random()*p.x*f*2-p.x*f)*w,this._offsetY=(Math.random()*p.y*y*2-p.y*y)*w,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(h.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});s.exports=l}),45641:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(45319),v=r(83419),h=r(62640),u=r(19715),l=new v({initialize:function(d){this.camera=d,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(o,d,p,f,y,w){d===void 0&&(d=1e3),p===void 0&&(p=h.Linear),f===void 0&&(f=!1),y===void 0&&(y=null),w===void 0&&(w=this.camera.scene);var x=this.camera;return!f&&this.isRunning||(this.isRunning=!0,this.duration=d,this.progress=0,this.source=x.zoom,this.destination=o,typeof p=="string"&&h.hasOwnProperty(p)?this.ease=h[p]:typeof p=="function"&&(this.ease=p),this._elapsed=0,this._onUpdate=y,this._onUpdateScope=w,this.camera.emit(u.ZOOM_START,this.camera,this,d,o)),x},update:function(o,d){this.isRunning&&(this._elapsed+=d,this.progress=a(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(u.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});s.exports=l}),20052:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Fade:r(5020),Flash:r(10662),Pan:r(20359),Shake:r(30330),RotateTo:r(34208),Zoom:r(45641)}}),16438:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="cameradestroy"}),32726:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="camerafadeincomplete"}),87807:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="camerafadeinstart"}),45917:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="camerafadeoutcomplete"}),95666:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="camerafadeoutstart"}),47056:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="cameraflashcomplete"}),91261:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="cameraflashstart"}),45047:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="followupdate"}),81927:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="camerapancomplete"}),74264:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="camerapanstart"}),54419:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="postrender"}),79330:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="prerender"}),93183:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="camerarotatecomplete"}),80112:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="camerarotatestart"}),62252:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="camerashakecomplete"}),86017:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="camerashakestart"}),539:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="camerazoomcomplete"}),51892:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="camerazoomstart"}),19715:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={DESTROY:r(16438),FADE_IN_COMPLETE:r(32726),FADE_IN_START:r(87807),FADE_OUT_COMPLETE:r(45917),FADE_OUT_START:r(95666),FLASH_COMPLETE:r(47056),FLASH_START:r(91261),FOLLOW_UPDATE:r(45047),PAN_COMPLETE:r(81927),PAN_START:r(74264),POST_RENDER:r(54419),PRE_RENDER:r(79330),ROTATE_COMPLETE:r(93183),ROTATE_START:r(80112),SHAKE_COMPLETE:r(62252),SHAKE_START:r(86017),ZOOM_COMPLETE:r(539),ZOOM_START:r(51892)}}),87969:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Camera:r(38058),BaseCamera:r(71911),CameraManager:r(32743),Effects:r(20052),Events:r(19715)}}),63091:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(35154),h=new a({initialize:function(l){this.camera=v(l,"camera",null),this.left=v(l,"left",null),this.right=v(l,"right",null),this.up=v(l,"up",null),this.down=v(l,"down",null),this.zoomIn=v(l,"zoomIn",null),this.zoomOut=v(l,"zoomOut",null),this.zoomSpeed=v(l,"zoomSpeed",.01),this.minZoom=v(l,"minZoom",.001),this.maxZoom=v(l,"maxZoom",1e3),this.speedX=0,this.speedY=0;var o=v(l,"speed",null);typeof o=="number"?(this.speedX=o,this.speedY=o):(this.speedX=v(l,"speed.x",0),this.speedY=v(l,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(u){return this.camera=u,this},update:function(u){if(this.active){u===void 0&&(u=1);var l=this.camera;this.up&&this.up.isDown?l.scrollY-=this.speedY*u|0:this.down&&this.down.isDown&&(l.scrollY+=this.speedY*u|0),this.left&&this.left.isDown?l.scrollX-=this.speedX*u|0:this.right&&this.right.isDown&&(l.scrollX+=this.speedX*u|0),this.zoomIn&&this.zoomIn.isDown?(l.zoom-=this.zoomSpeed,l.zoom<this.minZoom&&(l.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(l.zoom+=this.zoomSpeed,l.zoom>this.maxZoom&&(l.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});s.exports=h}),58818:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(35154),h=new a({initialize:function(l){this.camera=v(l,"camera",null),this.left=v(l,"left",null),this.right=v(l,"right",null),this.up=v(l,"up",null),this.down=v(l,"down",null),this.zoomIn=v(l,"zoomIn",null),this.zoomOut=v(l,"zoomOut",null),this.zoomSpeed=v(l,"zoomSpeed",.01),this.minZoom=v(l,"minZoom",.001),this.maxZoom=v(l,"maxZoom",1e3),this.accelX=0,this.accelY=0;var o=v(l,"acceleration",null);typeof o=="number"?(this.accelX=o,this.accelY=o):(this.accelX=v(l,"acceleration.x",0),this.accelY=v(l,"acceleration.y",0)),this.dragX=0,this.dragY=0;var d=v(l,"drag",null);typeof d=="number"?(this.dragX=d,this.dragY=d):(this.dragX=v(l,"drag.x",0),this.dragY=v(l,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var p=v(l,"maxSpeed",null);typeof p=="number"?(this.maxSpeedX=p,this.maxSpeedY=p):(this.maxSpeedX=v(l,"maxSpeed.x",0),this.maxSpeedY=v(l,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(u){return this.camera=u,this},update:function(u){if(this.active){u===void 0&&(u=1);var l=this.camera;this._speedX>0?(this._speedX-=this.dragX*u,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*u,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*u,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*u,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(l.scrollX-=this._speedX*u|0),this._speedY!==0&&(l.scrollY-=this._speedY*u|0),this._zoom!==0&&(l.zoom+=this._zoom,l.zoom<this.minZoom?l.zoom=this.minZoom:l.zoom>this.maxZoom&&(l.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});s.exports=h}),38865:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={FixedKeyControl:r(63091),SmoothedKeyControl:r(58818)}}),26638:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Controls:r(38865),Scene2D:r(87969)}}),8054:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={VERSION:"3.90.0",LOG_VERSION:"v390",BlendModes:r(10312),ScaleModes:r(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};s.exports=a}),69547:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(8054),h=r(42363),u=r(82264),l=r(95540),o=r(35154),d=r(41212),p=r(29747),f=r(75508),y=r(36060),w=r(80333),x=new a({initialize:function(E){E===void 0&&(E={});var C=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],T="#ffffff",S=o(E,"scale",null);this.width=o(S,"width",1024,E),this.height=o(S,"height",768,E),this.zoom=o(S,"zoom",1,E),this.parent=o(S,"parent",void 0,E),this.scaleMode=o(S,S?"mode":"scaleMode",0,E),this.expandParent=o(S,"expandParent",!0,E),this.autoRound=o(S,"autoRound",!1,E),this.autoCenter=o(S,"autoCenter",0,E),this.resizeInterval=o(S,"resizeInterval",500,E),this.fullscreenTarget=o(S,"fullscreenTarget",null,E),this.minWidth=o(S,"min.width",0,E),this.maxWidth=o(S,"max.width",0,E),this.minHeight=o(S,"min.height",0,E),this.maxHeight=o(S,"max.height",0,E),this.snapWidth=o(S,"snap.width",0,E),this.snapHeight=o(S,"snap.height",0,E),this.renderType=o(E,"type",v.AUTO),this.canvas=o(E,"canvas",null),this.context=o(E,"context",null),this.canvasStyle=o(E,"canvasStyle",null),this.customEnvironment=o(E,"customEnvironment",!1),this.sceneConfig=o(E,"scene",null),this.seed=o(E,"seed",[(Date.now()*Math.random()).toString()]),f.RND=new f.RandomDataGenerator(this.seed),this.gameTitle=o(E,"title",""),this.gameURL=o(E,"url","https://phaser.io/"+v.LOG_VERSION),this.gameVersion=o(E,"version",""),this.autoFocus=o(E,"autoFocus",!0),this.stableSort=o(E,"stableSort",-1),this.stableSort===-1&&(this.stableSort=u.browser.es2019?1:0),u.features.stableSort=this.stableSort,this.domCreateContainer=o(E,"dom.createContainer",!1),this.domPointerEvents=o(E,"dom.pointerEvents","none"),this.inputKeyboard=o(E,"input.keyboard",!0),this.inputKeyboardEventTarget=o(E,"input.keyboard.target",window),this.inputKeyboardCapture=o(E,"input.keyboard.capture",[]),this.inputMouse=o(E,"input.mouse",!0),this.inputMouseEventTarget=o(E,"input.mouse.target",null),this.inputMousePreventDefaultDown=o(E,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=o(E,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=o(E,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=o(E,"input.mouse.preventDefaultWheel",!0),this.inputTouch=o(E,"input.touch",u.input.touch),this.inputTouchEventTarget=o(E,"input.touch.target",null),this.inputTouchCapture=o(E,"input.touch.capture",!0),this.inputActivePointers=o(E,"input.activePointers",1),this.inputSmoothFactor=o(E,"input.smoothFactor",0),this.inputWindowEvents=o(E,"input.windowEvents",!0),this.inputGamepad=o(E,"input.gamepad",!1),this.inputGamepadEventTarget=o(E,"input.gamepad.target",window),this.disableContextMenu=o(E,"disableContextMenu",!1),this.audio=o(E,"audio",{}),this.hideBanner=o(E,"banner",null)===!1,this.hidePhaser=o(E,"banner.hidePhaser",!1),this.bannerTextColor=o(E,"banner.text",T),this.bannerBackgroundColor=o(E,"banner.background",C),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=o(E,"fps",null),this.disablePreFX=o(E,"disablePreFX",!1),this.disablePostFX=o(E,"disablePostFX",!1);var A=o(E,"render",null);this.pipeline=o(A,"pipeline",null,E),this.autoMobilePipeline=o(A,"autoMobilePipeline",!0,E),this.defaultPipeline=o(A,"defaultPipeline",y.MULTI_PIPELINE,E),this.antialias=o(A,"antialias",!0,E),this.antialiasGL=o(A,"antialiasGL",!0,E),this.mipmapFilter=o(A,"mipmapFilter","",E),this.desynchronized=o(A,"desynchronized",!1,E),this.roundPixels=o(A,"roundPixels",!1,E),this.pixelArt=o(A,"pixelArt",this.zoom!==1,E),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=o(A,"transparent",!1,E),this.clearBeforeRender=o(A,"clearBeforeRender",!0,E),this.preserveDrawingBuffer=o(A,"preserveDrawingBuffer",!1,E),this.premultipliedAlpha=o(A,"premultipliedAlpha",!0,E),this.failIfMajorPerformanceCaveat=o(A,"failIfMajorPerformanceCaveat",!1,E),this.powerPreference=o(A,"powerPreference","default",E),this.batchSize=o(A,"batchSize",4096,E),this.maxTextures=o(A,"maxTextures",-1,E),this.maxLights=o(A,"maxLights",10,E);var P=o(E,"backgroundColor",0);this.backgroundColor=w(P),this.transparent&&(this.backgroundColor=w(0),this.backgroundColor.alpha=0),this.preBoot=o(E,"callbacks.preBoot",p),this.postBoot=o(E,"callbacks.postBoot",p),this.physics=o(E,"physics",{}),this.defaultPhysicsSystem=o(this.physics,"default",!1),this.loaderBaseURL=o(E,"loader.baseURL",""),this.loaderPath=o(E,"loader.path",""),this.loaderMaxParallelDownloads=o(E,"loader.maxParallelDownloads",u.os.android?6:32),this.loaderCrossOrigin=o(E,"loader.crossOrigin",void 0),this.loaderResponseType=o(E,"loader.responseType",""),this.loaderAsync=o(E,"loader.async",!0),this.loaderUser=o(E,"loader.user",""),this.loaderPassword=o(E,"loader.password",""),this.loaderTimeout=o(E,"loader.timeout",0),this.loaderMaxRetries=o(E,"loader.maxRetries",2),this.loaderWithCredentials=o(E,"loader.withCredentials",!1),this.loaderImageLoadType=o(E,"loader.imageLoadType","XHR"),this.loaderLocalScheme=o(E,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=o(E,"fx.glow.quality",.1),this.glowFXDistance=o(E,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var R=o(E,"plugins",null),L=h.DefaultScene;R&&(Array.isArray(R)?this.defaultPlugins=R:d(R)&&(this.installGlobalPlugins=l(R,"global",[]),this.installScenePlugins=l(R,"scene",[]),Array.isArray(R.default)?L=R.default:Array.isArray(R.defaultMerge)&&(L=L.concat(R.defaultMerge)))),this.defaultPlugins=L;var D="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=o(E,"images.default",D+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=o(E,"images.missing",D+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=o(E,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=v.WEBGL:window.FORCE_CANVAS&&(this.renderType=v.CANVAS))}});s.exports=x}),86054:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(20623),v=r(27919),h=r(8054),u=r(89357),l=function(o){var d=o.config;if((d.customEnvironment||d.canvas)&&d.renderType===h.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!d.customEnvironment&&!d.canvas&&d.renderType!==h.HEADLESS)if(d.renderType===h.AUTO&&(d.renderType=u.webGL?h.WEBGL:h.CANVAS),d.renderType===h.WEBGL){if(!u.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(d.renderType===h.CANVAS){if(!u.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+d.renderType);d.antialias||v.disableSmoothing();var p=o.scale.baseSize,f=p.width,y=p.height;if(d.canvas?(o.canvas=d.canvas,o.canvas.width=f,o.canvas.height=y):o.canvas=v.create(o,f,y,d.renderType),d.canvasStyle&&(o.canvas.style=d.canvasStyle),d.antialias||a.setCrisp(o.canvas),d.renderType!==h.HEADLESS){var w,x;w=r(68627),x=r(74797),d.renderType===h.WEBGL?o.renderer=new x(o):(o.renderer=new w(o),o.context=o.renderer.gameContext)}};s.exports=l}),96391:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(8054),v=function(h){var u=h.config;if(!u.hideBanner){var l="WebGL";u.renderType===a.CANVAS?l="Canvas":u.renderType===a.HEADLESS&&(l="Headless");var o=u.audio,d=h.device.audio,p;if(d.webAudio&&!o.disableWebAudio?p="Web Audio":o.noAudio||!d.webAudio&&!d.audioData?p="No Audio":p="HTML5 Audio",h.device.browser.ie)window.console&&console.log("Phaser v"+a.VERSION+" / https://phaser.io");else{var f="",y=[f];if(Array.isArray(u.bannerBackgroundColor)){var w;u.bannerBackgroundColor.forEach(function(b){f=f.concat("%c "),y.push("background: "+b),w=b}),y[y.length-1]="color: "+u.bannerTextColor+"; background: "+w}else f=f.concat("%c "),y.push("color: "+u.bannerTextColor+"; background: "+u.bannerBackgroundColor);y.push("background: transparent"),u.gameTitle&&(f=f.concat(u.gameTitle),u.gameVersion&&(f=f.concat(" v"+u.gameVersion)),u.hidePhaser||(f=f.concat(" / ")));var x="";u.hidePhaser||(f=f.concat("Phaser v"+a.VERSION+x+" ("+l+" | "+p+")")),f=f.concat(" %c "+u.gameURL),y[0]=f,console.log.apply(console,y)}}};s.exports=v}),50127:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(40366),v=r(60848),h=r(24047),u=r(27919),l=r(83419),o=r(69547),d=r(83719),p=r(86054),f=r(45893),y=r(96391),w=r(82264),x=r(57264),b=r(50792),E=r(8443),C=r(7003),T=r(37277),S=r(77332),A=r(76531),P=r(60903),R=r(69442),L=r(17130),D=r(65898),$=r(51085),F=r(14747),N=new l({initialize:function(j){this.config=new o(j),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new b,this.anims=new v(this),this.textures=new L(this),this.cache=new h(this),this.registry=new f(this,new b),this.input=new C(this,this.config),this.scene=new P(this,this.config.sceneConfig),this.device=w,this.scale=new A(this,this.config),this.sound=null,this.sound=F.create(this),this.loop=new D(this,this.config.fps),this.plugins=new S(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,x(this.boot.bind(this))},boot:function(){if(!T.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),p(this),d(this),y(this),a(this.canvas,this.config.parent),this.textures.once(R.READY,this.texturesReady,this),this.events.emit(E.BOOT)},texturesReady:function(){this.events.emit(E.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),$(this);var k=this.events;k.on(E.HIDDEN,this.onHidden,this),k.on(E.VISIBLE,this.onVisible,this),k.on(E.BLUR,this.onBlur,this),k.on(E.FOCUS,this.onFocus,this)},step:function(k,j){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var W=this.events;W.emit(E.PRE_STEP,k,j),W.emit(E.STEP,k,j),this.scene.update(k,j),W.emit(E.POST_STEP,k,j);var G=this.renderer;G.preRender(),W.emit(E.PRE_RENDER,G,k,j),this.scene.render(G),G.postRender(),W.emit(E.POST_RENDER,G,k,j)}},headlessStep:function(k,j){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var W=this.events;W.emit(E.PRE_STEP,k,j),W.emit(E.STEP,k,j),this.scene.update(k,j),W.emit(E.POST_STEP,k,j),this.scene.isProcessing=!1,W.emit(E.PRE_RENDER,null,k,j),W.emit(E.POST_RENDER,null,k,j)}},onHidden:function(){this.loop.pause(),this.events.emit(E.PAUSE)},pause:function(){var k=this.isPaused;this.isPaused=!0,k||this.events.emit(E.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(E.RESUME,this.loop.pauseDuration)},resume:function(){var k=this.isPaused;this.isPaused=!1,k&&this.events.emit(E.RESUME,0)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(k,j){j===void 0&&(j=!1),this.pendingDestroy=!0,this.removeCanvas=k,this.noReturn=j},runDestroy:function(){this.scene.destroy(),this.events.emit(E.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(u.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});s.exports=N}),65898:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(35154),h=r(29747),u=r(43092),l=new a({initialize:function(d,p){this.game=d,this.raf=new u,this.started=!1,this.running=!1,this.minFps=v(p,"min",5),this.targetFps=v(p,"target",60),this.fpsLimit=v(p,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=h,this.forceSetTimeOut=v(p,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=v(p,"deltaHistory",10),this.panicMax=v(p,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=v(p,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},resetDelta:function(){var o=window.performance.now();this.time=o,this.lastTime=o,this.nextFpsUpdate=o+1e3,this.framesThisSecond=0;for(var d=0;d<this.deltaSmoothingMax;d++)this.deltaHistory[d]=Math.min(this._target,this.deltaHistory[d]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(o){if(this.started)return this;this.started=!0,this.running=!0;for(var d=0;d<this.deltaSmoothingMax;d++)this.deltaHistory[d]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=o;var p=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(p,this.forceSetTimeOut,this._target)},smoothDelta:function(o){var d=this.deltaIndex,p=this.deltaHistory,f=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,o=Math.min(o,this._target)),o>this._min&&(o=p[d],o=Math.min(o,this._min)),p[d]=o,this.deltaIndex++,this.deltaIndex>=f&&(this.deltaIndex=0);for(var y=0,w=0;w<f;w++)y+=p[w];return y/=f,y},updateFPS:function(o){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=o+1e3,this.framesThisSecond=0},stepLimitFPS:function(o){this.now=o;var d=Math.max(0,o-this.lastTime);this.rawDelta=d,this.time+=this.rawDelta,this.smoothStep&&(d=this.smoothDelta(d)),this.delta+=d,o>=this.nextFpsUpdate&&this.updateFPS(o),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(o,this.delta),this.delta=0),this.lastTime=o,this.frame++},step:function(o){this.now=o;var d=Math.max(0,o-this.lastTime);this.rawDelta=d,this.time+=this.rawDelta,this.smoothStep&&(d=this.smoothDelta(d)),this.delta=d,o>=this.nextFpsUpdate&&this.updateFPS(o),this.framesThisSecond++,this.callback(o,d),this.lastTime=o,this.frame++},tick:function(){var o=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(o):this.step(o)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(o){o===void 0&&(o=!1);var d=window.performance.now();if(!this.running){o&&(this.startTime+=-this.lastTime+(this.lastTime+d));var p=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(p,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=d+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});s.exports=l}),51085:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(8443),v=function(h){var u,l=h.events;if(document.hidden!==void 0)u="visibilitychange";else{var o=["webkit","moz","ms"];o.forEach(function(p){document[p+"Hidden"]!==void 0&&(document.hidden=function(){return document[p+"Hidden"]},u=p+"visibilitychange")})}var d=function(p){document.hidden||p.type==="pause"?l.emit(a.HIDDEN):l.emit(a.VISIBLE)};u&&document.addEventListener(u,d,!1),window.onblur=function(){l.emit(a.BLUR)},window.onfocus=function(){l.emit(a.FOCUS)},window.focus&&h.config.autoFocus&&window.focus()};s.exports=v}),97217:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="blur"}),47548:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="boot"}),19814:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="contextlost"}),68446:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="destroy"}),41700:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="focus"}),25432:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="hidden"}),65942:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pause"}),59211:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="postrender"}),47789:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="poststep"}),39066:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="prerender"}),460:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="prestep"}),16175:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="ready"}),42331:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="resume"}),11966:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="step"}),32969:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="systemready"}),94830:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="visible"}),8443:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={BLUR:r(97217),BOOT:r(47548),CONTEXT_LOST:r(19814),DESTROY:r(68446),FOCUS:r(41700),HIDDEN:r(25432),PAUSE:r(65942),POST_RENDER:r(59211),POST_STEP:r(47789),PRE_RENDER:r(39066),PRE_STEP:r(460),READY:r(16175),RESUME:r(42331),STEP:r(11966),SYSTEM_READY:r(32969),VISIBLE:r(94830)}}),42857:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Config:r(69547),CreateRenderer:r(86054),DebugHeader:r(96391),Events:r(8443),TimeStep:r(65898),VisibilityHandler:r(51085)}}),99584:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(5290),v=r(27919),h=r(35154),u=function(l){var o=h(l,"data",[]),d=h(l,"canvas",null),p=h(l,"palette",a),f=h(l,"pixelWidth",1),y=h(l,"pixelHeight",f),w=h(l,"resizeCanvas",!0),x=h(l,"clearCanvas",!0),b=h(l,"preRender",null),E=h(l,"postRender",null),C=Math.floor(Math.abs(o[0].length*f)),T=Math.floor(Math.abs(o.length*y));d||(d=v.create2D(this,C,T),w=!1,x=!1),w&&(d.width=C,d.height=T);var S=d.getContext("2d",{willReadFrequently:!0});x&&S.clearRect(0,0,C,T),b&&b(d,S);for(var A=0;A<o.length;A++)for(var P=o[A],R=0;R<P.length;R++){var L=P[R];L!=="."&&L!==" "&&(S.fillStyle=p[L],S.fillRect(R*f,A*y,f,y))}return E&&E(d,S),d};s.exports=u}),15822:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={GenerateTexture:r(99584),Palettes:r(57763)}}),5290:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}}),23816:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}}),9866:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}}),77552:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}}),92259:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}}),57763:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={ARNE16:r(5290),C64:r(23816),CGA:r(9866),JMP:r(77552),MSX:r(92259)}}),46728:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(36316),h=r(80021),u=r(26099),l=new a({Extends:h,initialize:function(d,p,f,y){h.call(this,"CubicBezierCurve"),Array.isArray(d)&&(y=new u(d[6],d[7]),f=new u(d[4],d[5]),p=new u(d[2],d[3]),d=new u(d[0],d[1])),this.p0=d,this.p1=p,this.p2=f,this.p3=y},getStartPoint:function(o){return o===void 0&&(o=new u),o.copy(this.p0)},getResolution:function(o){return o},getPoint:function(o,d){d===void 0&&(d=new u);var p=this.p0,f=this.p1,y=this.p2,w=this.p3;return d.set(v(o,p.x,f.x,y.x,w.x),v(o,p.y,f.y,y.y,w.y))},draw:function(o,d){d===void 0&&(d=32);var p=this.getPoints(d);o.beginPath(),o.moveTo(this.p0.x,this.p0.y);for(var f=1;f<p.length;f++)o.lineTo(p[f].x,p[f].y);return o.strokePath(),o},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});l.fromJSON=function(o){var d=o.points,p=new u(d[0],d[1]),f=new u(d[2],d[3]),y=new u(d[4],d[5]),w=new u(d[6],d[7]);return new l(p,f,y,w)},s.exports=l}),80021:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(19217),h=r(87841),u=r(26099),l=new a({initialize:function(d){this.type=d,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new u,this._tmpVec2B=new u},draw:function(o,d){return d===void 0&&(d=32),o.strokePoints(this.getPoints(d))},getBounds:function(o,d){o||(o=new h),d===void 0&&(d=16);var p=this.getLength();d>p&&(d=p/2);var f=Math.max(1,Math.round(p/d));return v(this.getSpacedPoints(f),o)},getDistancePoints:function(o){var d=this.getLength(),p=Math.max(1,d/o);return this.getSpacedPoints(p)},getEndPoint:function(o){return o===void 0&&(o=new u),this.getPointAt(1,o)},getLength:function(){var o=this.getLengths();return o[o.length-1]},getLengths:function(o){if(o===void 0&&(o=this.arcLengthDivisions),this.cacheArcLengths.length===o+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var d=[],p,f=this.getPoint(0,this._tmpVec2A),y=0;d.push(0);for(var w=1;w<=o;w++)p=this.getPoint(w/o,this._tmpVec2B),y+=p.distance(f),d.push(y),f.copy(p);return this.cacheArcLengths=d,d},getPointAt:function(o,d){var p=this.getUtoTmapping(o);return this.getPoint(p,d)},getPoints:function(o,d,p){p===void 0&&(p=[]),o||(d?o=this.getLength()/d:o=this.defaultDivisions);for(var f=0;f<=o;f++)p.push(this.getPoint(f/o));return p},getRandomPoint:function(o){return o===void 0&&(o=new u),this.getPoint(Math.random(),o)},getSpacedPoints:function(o,d,p){p===void 0&&(p=[]),o||(d?o=this.getLength()/d:o=this.defaultDivisions);for(var f=0;f<=o;f++){var y=this.getUtoTmapping(f/o,null,o);p.push(this.getPoint(y))}return p},getStartPoint:function(o){return o===void 0&&(o=new u),this.getPointAt(0,o)},getTangent:function(o,d){d===void 0&&(d=new u);var p=1e-4,f=o-p,y=o+p;return f<0&&(f=0),y>1&&(y=1),this.getPoint(f,this._tmpVec2A),this.getPoint(y,d),d.subtract(this._tmpVec2A).normalize()},getTangentAt:function(o,d){var p=this.getUtoTmapping(o);return this.getTangent(p,d)},getTFromDistance:function(o,d){return o<=0?0:this.getUtoTmapping(0,o,d)},getUtoTmapping:function(o,d,p){var f=this.getLengths(p),y=0,w=f.length,x;d?x=Math.min(d,f[w-1]):x=o*f[w-1];for(var b=0,E=w-1,C;b<=E;)if(y=Math.floor(b+(E-b)/2),C=f[y]-x,C<0)b=y+1;else if(C>0)E=y-1;else{E=y;break}if(y=E,f[y]===x)return y/(w-1);var T=f[y],S=f[y+1],A=S-T,P=(x-T)/A;return(y+P)/(w-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});s.exports=l}),73825:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(80021),h=r(39506),u=r(35154),l=r(43396),o=r(26099),d=new a({Extends:v,initialize:function(f,y,w,x,b,E,C,T){if(typeof f=="object"){var S=f;f=u(S,"x",0),y=u(S,"y",0),w=u(S,"xRadius",0),x=u(S,"yRadius",w),b=u(S,"startAngle",0),E=u(S,"endAngle",360),C=u(S,"clockwise",!1),T=u(S,"rotation",0)}else x===void 0&&(x=w),b===void 0&&(b=0),E===void 0&&(E=360),C===void 0&&(C=!1),T===void 0&&(T=0);v.call(this,"EllipseCurve"),this.p0=new o(f,y),this._xRadius=w,this._yRadius=x,this._startAngle=h(b),this._endAngle=h(E),this._clockwise=C,this._rotation=h(T)},getStartPoint:function(p){return p===void 0&&(p=new o),this.getPoint(0,p)},getResolution:function(p){return p*2},getPoint:function(p,f){f===void 0&&(f=new o);for(var y=Math.PI*2,w=this._endAngle-this._startAngle,x=Math.abs(w)<Number.EPSILON;w<0;)w+=y;for(;w>y;)w-=y;w<Number.EPSILON&&(x?w=0:w=y),this._clockwise&&!x&&(w===y?w=-y:w=w-y);var b=this._startAngle+p*w,E=this.p0.x+this._xRadius*Math.cos(b),C=this.p0.y+this._yRadius*Math.sin(b);if(this._rotation!==0){var T=Math.cos(this._rotation),S=Math.sin(this._rotation),A=E-this.p0.x,P=C-this.p0.y;E=A*T-P*S+this.p0.x,C=A*S+P*T+this.p0.y}return f.set(E,C)},setXRadius:function(p){return this.xRadius=p,this},setYRadius:function(p){return this.yRadius=p,this},setWidth:function(p){return this.xRadius=p/2,this},setHeight:function(p){return this.yRadius=p/2,this},setStartAngle:function(p){return this.startAngle=p,this},setEndAngle:function(p){return this.endAngle=p,this},setClockwise:function(p){return this.clockwise=p,this},setRotation:function(p){return this.rotation=p,this},x:{get:function(){return this.p0.x},set:function(p){this.p0.x=p}},y:{get:function(){return this.p0.y},set:function(p){this.p0.y=p}},xRadius:{get:function(){return this._xRadius},set:function(p){this._xRadius=p}},yRadius:{get:function(){return this._yRadius},set:function(p){this._yRadius=p}},startAngle:{get:function(){return l(this._startAngle)},set:function(p){this._startAngle=h(p)}},endAngle:{get:function(){return l(this._endAngle)},set:function(p){this._endAngle=h(p)}},clockwise:{get:function(){return this._clockwise},set:function(p){this._clockwise=p}},angle:{get:function(){return l(this._rotation)},set:function(p){this._rotation=h(p)}},rotation:{get:function(){return this._rotation},set:function(p){this._rotation=p}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:l(this._startAngle),endAngle:l(this._endAngle),clockwise:this._clockwise,rotation:l(this._rotation)}}});d.fromJSON=function(p){return new d(p)},s.exports=d}),33951:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(80021),h=r(19217),u=r(87841),l=r(26099),o=new a({Extends:v,initialize:function(p,f){v.call(this,"LineCurve"),Array.isArray(p)&&(f=new l(p[2],p[3]),p=new l(p[0],p[1])),this.p0=p,this.p1=f,this.arcLengthDivisions=1},getBounds:function(d){return d===void 0&&(d=new u),h([this.p0,this.p1],d)},getStartPoint:function(d){return d===void 0&&(d=new l),d.copy(this.p0)},getResolution:function(d){return d===void 0&&(d=1),d},getPoint:function(d,p){return p===void 0&&(p=new l),d===1?p.copy(this.p1):(p.copy(this.p1).subtract(this.p0).scale(d).add(this.p0),p)},getPointAt:function(d,p){return this.getPoint(d,p)},getTangent:function(d,p){return p===void 0&&(p=new l),p.copy(this.p1).subtract(this.p0).normalize(),p},getUtoTmapping:function(d,p,f){var y;if(p){var w=this.getLengths(f),x=w[w.length-1],b=Math.min(p,x);y=b/x}else y=d;return y},draw:function(d){return d.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),d},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});o.fromJSON=function(d){var p=d.points,f=new l(p[0],p[1]),y=new l(p[2],p[3]);return new o(f,y)},s.exports=o}),14744:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(80021),h=r(32112),u=r(26099),l=new a({Extends:v,initialize:function(d,p,f){v.call(this,"QuadraticBezierCurve"),Array.isArray(d)&&(f=new u(d[4],d[5]),p=new u(d[2],d[3]),d=new u(d[0],d[1])),this.p0=d,this.p1=p,this.p2=f},getStartPoint:function(o){return o===void 0&&(o=new u),o.copy(this.p0)},getResolution:function(o){return o},getPoint:function(o,d){d===void 0&&(d=new u);var p=this.p0,f=this.p1,y=this.p2;return d.set(h(o,p.x,f.x,y.x),h(o,p.y,f.y,y.y))},draw:function(o,d){d===void 0&&(d=32);var p=this.getPoints(d);o.beginPath(),o.moveTo(this.p0.x,this.p0.y);for(var f=1;f<p.length;f++)o.lineTo(p[f].x,p[f].y);return o.strokePath(),o},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});l.fromJSON=function(o){var d=o.points,p=new u(d[0],d[1]),f=new u(d[2],d[3]),y=new u(d[4],d[5]);return new l(p,f,y)},s.exports=l}),42534:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(87842),v=r(83419),h=r(80021),u=r(26099),l=new v({Extends:h,initialize:function(d){d===void 0&&(d=[]),h.call(this,"SplineCurve"),this.points=[],this.addPoints(d)},addPoints:function(o){for(var d=0;d<o.length;d++){var p=new u;typeof o[d]=="number"?(p.x=o[d],p.y=o[d+1],d++):Array.isArray(o[d])?(p.x=o[d][0],p.y=o[d][1]):(p.x=o[d].x,p.y=o[d].y),this.points.push(p)}return this},addPoint:function(o,d){var p=new u(o,d);return this.points.push(p),p},getStartPoint:function(o){return o===void 0&&(o=new u),o.copy(this.points[0])},getResolution:function(o){return o*this.points.length},getPoint:function(o,d){d===void 0&&(d=new u);var p=this.points,f=(p.length-1)*o,y=Math.floor(f),w=f-y,x=p[y===0?y:y-1],b=p[y],E=p[y>p.length-2?p.length-1:y+1],C=p[y>p.length-3?p.length-1:y+2];return d.set(a(w,x.x,b.x,E.x,C.x),a(w,x.y,b.y,E.y,C.y))},toJSON:function(){for(var o=[],d=0;d<this.points.length;d++)o.push(this.points[d].x),o.push(this.points[d].y);return{type:this.type,points:o}}});l.fromJSON=function(o){return new l(o.points)},s.exports=l}),25410:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Path:r(46669),MoveTo:r(68618),CubicBezier:r(46728),Curve:r(80021),Ellipse:r(73825),Line:r(33951),QuadraticBezier:r(14744),Spline:r(42534)}}),68618:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(26099),h=new a({initialize:function(l,o){this.active=!1,this.p0=new v(l,o)},getPoint:function(u,l){return l===void 0&&(l=new v),l.copy(this.p0)},getPointAt:function(u,l){return this.getPoint(u,l)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});s.exports=h}),46669:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(46728),h=r(73825),u=r(39429),l=r(33951),o=r(68618),d=r(14744),p=r(87841),f=r(42534),y=r(26099),w=r(36383),x=new a({initialize:function(E,C){E===void 0&&(E=0),C===void 0&&(C=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new y,this._tmpVec2A=new y,this._tmpVec2B=new y,typeof E=="object"?this.fromJSON(E):this.startPoint.set(E,C)},add:function(b){return this.curves.push(b),this},circleTo:function(b,E,C){return E===void 0&&(E=!1),this.ellipseTo(b,b,0,360,E,C)},closePath:function(){var b=this.curves[0].getPoint(0),E=this.curves[this.curves.length-1].getPoint(1);return b.equals(E)||this.curves.push(new l(E,b)),this},cubicBezierTo:function(b,E,C,T,S,A){var P=this.getEndPoint(),R,L,D;return b instanceof y?(R=b,L=E,D=C):(R=new y(C,T),L=new y(S,A),D=new y(b,E)),this.add(new v(P,R,L,D))},quadraticBezierTo:function(b,E,C,T){var S=this.getEndPoint(),A,P;return b instanceof y?(A=b,P=E):(A=new y(C,T),P=new y(b,E)),this.add(new d(S,A,P))},draw:function(b,E){for(var C=0;C<this.curves.length;C++){var T=this.curves[C];T.active&&T.draw(b,E)}return b},ellipseTo:function(b,E,C,T,S,A){var P=new h(0,0,b,E,C,T,S,A),R=this.getEndPoint(this._tmpVec2A),L=P.getStartPoint(this._tmpVec2B);return R.subtract(L),P.x=R.x,P.y=R.y,this.add(P)},fromJSON:function(b){this.curves=[],this.cacheLengths=[],this.startPoint.set(b.x,b.y),this.autoClose=b.autoClose;for(var E=0;E<b.curves.length;E++){var C=b.curves[E];switch(C.type){case"LineCurve":this.add(l.fromJSON(C));break;case"EllipseCurve":this.add(h.fromJSON(C));break;case"SplineCurve":this.add(f.fromJSON(C));break;case"CubicBezierCurve":this.add(v.fromJSON(C));break;case"QuadraticBezierCurve":this.add(d.fromJSON(C));break}}return this},getBounds:function(b,E){b===void 0&&(b=new p),E===void 0&&(E=16),b.x=Number.MAX_VALUE,b.y=Number.MAX_VALUE;for(var C=new p,T=w.MIN_SAFE_INTEGER,S=w.MIN_SAFE_INTEGER,A=0;A<this.curves.length;A++){var P=this.curves[A];P.active&&(P.getBounds(C,E),b.x=Math.min(b.x,C.x),b.y=Math.min(b.y,C.y),T=Math.max(T,C.right),S=Math.max(S,C.bottom))}return b.right=T,b.bottom=S,b},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var b=[],E=0,C=0;C<this.curves.length;C++)E+=this.curves[C].getLength(),b.push(E);return this.cacheLengths=b,b},getCurveAt:function(b){for(var E=b*this.getLength(),C=this.getCurveLengths(),T=0;T<C.length;){if(C[T]>=E)return this.curves[T];T++}return null},getEndPoint:function(b){return b===void 0&&(b=new y),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,b):b.copy(this.startPoint),b},getLength:function(){var b=this.getCurveLengths();return b[b.length-1]},getPoint:function(b,E){E===void 0&&(E=new y);for(var C=b*this.getLength(),T=this.getCurveLengths(),S=0;S<T.length;){if(T[S]>=C){var A=T[S]-C,P=this.curves[S],R=P.getLength(),L=R===0?0:1-A/R;return P.getPointAt(L,E)}S++}return null},getPoints:function(b,E){!b&&!E&&(b=this.defaultDivisions);for(var C=[],T,S=0;S<this.curves.length;S++){var A=this.curves[S];if(A.active)for(var P=A.getResolution(b),R=A.getPoints(P,E),L=0;L<R.length;L++){var D=R[L];T&&T.equals(D)||(C.push(D),T=D)}}return this.autoClose&&C.length>1&&!C[C.length-1].equals(C[0])&&C.push(C[0]),C},getRandomPoint:function(b){return b===void 0&&(b=new y),this.getPoint(Math.random(),b)},getSpacedPoints:function(b){b===void 0&&(b=40);for(var E=[],C=0;C<=b;C++)E.push(this.getPoint(C/b));return this.autoClose&&E.push(E[0]),E},getStartPoint:function(b){return b===void 0&&(b=new y),b.copy(this.startPoint)},getTangent:function(b,E){E===void 0&&(E=new y);for(var C=b*this.getLength(),T=this.getCurveLengths(),S=0;S<T.length;){if(T[S]>=C){var A=T[S]-C,P=this.curves[S],R=P.getLength(),L=R===0?0:1-A/R;return P.getTangentAt(L,E)}S++}return null},lineTo:function(b,E){b instanceof y?this._tmpVec2B.copy(b):typeof b=="object"?this._tmpVec2B.setFromObject(b):this._tmpVec2B.set(b,E);var C=this.getEndPoint(this._tmpVec2A);return this.add(new l([C.x,C.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(b){return b.unshift(this.getEndPoint()),this.add(new f(b))},moveTo:function(b,E){return b instanceof y?this.add(new o(b.x,b.y)):this.add(new o(b,E))},toJSON:function(){for(var b=[],E=0;E<this.curves.length;E++)b.push(this.curves[E].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:b}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});u.register("path",function(b,E){return new x(b,E)}),s.exports=x}),45893:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(24882),h=new a({initialize:function(l,o){this.parent=l,this.events=o,o||(this.events=l.events?l.events:l),this.list={},this.values={},this._frozen=!1,!l.hasOwnProperty("sys")&&this.events&&this.events.once(v.DESTROY,this.destroy,this)},get:function(u){var l=this.list;if(Array.isArray(u)){for(var o=[],d=0;d<u.length;d++)o.push(l[u[d]]);return o}else return l[u]},getAll:function(){var u={};for(var l in this.list)this.list.hasOwnProperty(l)&&(u[l]=this.list[l]);return u},query:function(u){var l={};for(var o in this.list)this.list.hasOwnProperty(o)&&o.match(u)&&(l[o]=this.list[o]);return l},set:function(u,l){if(this._frozen)return this;if(typeof u=="string")return this.setValue(u,l);for(var o in u)this.setValue(o,u[o]);return this},inc:function(u,l){if(this._frozen)return this;l===void 0&&(l=1);var o=this.get(u);return o===void 0&&(o=0),this.set(u,o+l),this},toggle:function(u){return this._frozen?this:(this.set(u,!this.get(u)),this)},setValue:function(u,l){if(this._frozen)return this;if(this.has(u))this.values[u]=l;else{var o=this,d=this.list,p=this.events,f=this.parent;Object.defineProperty(this.values,u,{enumerable:!0,configurable:!0,get:function(){return d[u]},set:function(y){if(!o._frozen){var w=d[u];d[u]=y,p.emit(v.CHANGE_DATA,f,u,y,w),p.emit(v.CHANGE_DATA_KEY+u,f,y,w)}}}),d[u]=l,p.emit(v.SET_DATA,f,u,l)}return this},each:function(u,l){for(var o=[this.parent,null,void 0],d=1;d<arguments.length;d++)o.push(arguments[d]);for(var p in this.list)o[1]=p,o[2]=this.list[p],u.apply(l,o);return this},merge:function(u,l){l===void 0&&(l=!0);for(var o in u)u.hasOwnProperty(o)&&(l||!l&&!this.has(o))&&this.setValue(o,u[o]);return this},remove:function(u){if(this._frozen)return this;if(Array.isArray(u))for(var l=0;l<u.length;l++)this.removeValue(u[l]);else return this.removeValue(u);return this},removeValue:function(u){if(this.has(u)){var l=this.list[u];delete this.list[u],delete this.values[u],this.events.emit(v.REMOVE_DATA,this.parent,u,l)}return this},pop:function(u){var l=void 0;return!this._frozen&&this.has(u)&&(l=this.list[u],delete this.list[u],delete this.values[u],this.events.emit(v.REMOVE_DATA,this.parent,u,l)),l},has:function(u){return this.list.hasOwnProperty(u)},setFreeze:function(u){return this._frozen=u,this},reset:function(){for(var u in this.list)delete this.list[u],delete this.values[u];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(v.CHANGE_DATA),this.events.off(v.SET_DATA),this.events.off(v.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(u){this._frozen=!!u}},count:{get:function(){var u=0;for(var l in this.list)this.list[l]!==void 0&&u++;return u}}});s.exports=h}),63646:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(45893),h=r(37277),u=r(44594),l=new a({Extends:v,initialize:function(d){v.call(this,d,d.sys.events),this.scene=d,this.systems=d.sys,d.sys.events.once(u.BOOT,this.boot,this),d.sys.events.on(u.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(u.DESTROY,this.destroy,this)},start:function(){this.events.once(u.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(u.SHUTDOWN,this.shutdown,this)},destroy:function(){v.prototype.destroy.call(this),this.events.off(u.START,this.start,this),this.scene=null,this.systems=null}});h.register("DataManagerPlugin",l,"data"),s.exports=l}),10700:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="changedata"}),93608:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="changedata-"}),60883:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="destroy"}),69780:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="removedata"}),22166:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="setdata"}),24882:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={CHANGE_DATA:r(10700),CHANGE_DATA_KEY:r(93608),DESTROY:r(60883),REMOVE_DATA:r(69780),SET_DATA:r(22166)}}),44965:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={DataManager:r(45893),DataManagerPlugin:r(63646),Events:r(24882)}}),7098:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(84148),v={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function h(){if(typeof importScripts=="function")return v;v.audioData=!!window.Audio,v.webAudio=!!(window.AudioContext||window.webkitAudioContext);var u=document.createElement("audio"),l=!!u.canPlayType;try{if(l){var o=function(f,y){var w=u.canPlayType("audio/"+f).replace(/^no$/,"");return y?!!(w||u.canPlayType("audio/"+y).replace(/^no$/,"")):!!w};if(v.ogg=o('ogg; codecs="vorbis"'),v.opus=o('ogg; codecs="opus"',"opus"),v.mp3=o("mpeg"),v.wav=o("wav"),v.m4a=o("x-m4a"),v.aac=o("aac"),v.flac=o("flac","x-flac"),v.webm=o('webm; codecs="vorbis"'),u.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(a.edge)v.dolby=!0;else if(a.safari&&a.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var d=parseInt(RegExp.$1,10),p=parseInt(RegExp.$2,10);(d===10&&p>=11||d>10)&&(v.dolby=!0)}}}}catch{}return v}s.exports=h()}),84148:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(25892),v={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function h(){var u=navigator.userAgent;return/Edg\/\d+/.test(u)?(v.edge=!0,v.es2019=!0):/OPR/.test(u)?(v.opera=!0,v.es2019=!0):/Chrome\/(\d+)/.test(u)&&!a.windowsPhone?(v.chrome=!0,v.chromeVersion=parseInt(RegExp.$1,10),v.es2019=v.chromeVersion>69):/Firefox\D+(\d+)/.test(u)?(v.firefox=!0,v.firefoxVersion=parseInt(RegExp.$1,10),v.es2019=v.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(u)&&a.iOS?(v.mobileSafari=!0,v.es2019=!0):/MSIE (\d+\.\d+);/.test(u)?(v.ie=!0,v.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(u)&&!a.windowsPhone?(v.safari=!0,v.safariVersion=parseInt(RegExp.$1,10),v.es2019=v.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(u)&&(v.ie=!0,v.trident=!0,v.tridentVersion=parseInt(RegExp.$1,10),v.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(u)&&(v.silk=!0),v}s.exports=h()}),89289:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(27919),v={supportInverseAlpha:!1,supportNewBlendModes:!1};function h(){var o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",d="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",p=new Image;return p.onload=function(){var f=new Image;f.onload=function(){var y=a.create2D(f,6),w=y.getContext("2d",{willReadFrequently:!0});if(w.globalCompositeOperation="multiply",w.drawImage(p,0,0),w.drawImage(f,2,0),!w.getImageData(2,0,1,1))return!1;var x=w.getImageData(2,0,1,1).data;a.remove(f),v.supportNewBlendModes=x[0]===255&&x[1]===0&&x[2]===0},f.src=o+"/wCKxvRF"+d},p.src=o+"AP804Oa6"+d,!1}function u(){var o=a.create2D(this,2),d=o.getContext("2d",{willReadFrequently:!0});d.fillStyle="rgba(10, 20, 30, 0.5)",d.fillRect(0,0,1,1);var p=d.getImageData(0,0,1,1);if(p===null)return!1;d.putImageData(p,1,0);var f=d.getImageData(1,0,1,1),y=f.data[0]===p.data[0]&&f.data[1]===p.data[1]&&f.data[2]===p.data[2]&&f.data[3]===p.data[3];return a.remove(this),y}function l(){return typeof importScripts!="function"&&document!==void 0&&(v.supportNewBlendModes=h(),v.supportInverseAlpha=u()),v}s.exports=l()}),89357:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(25892),v=r(84148),h=r(27919),u={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function l(){var d=new ArrayBuffer(4),p=new Uint8Array(d),f=new Uint32Array(d);return p[0]=161,p[1]=178,p[2]=195,p[3]=212,f[0]===3569595041?!0:f[0]===2712847316?!1:null}function o(){if(typeof importScripts=="function")return u;u.canvas=!!window.CanvasRenderingContext2D;try{u.localStorage=!!localStorage.getItem}catch{u.localStorage=!1}u.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,u.fileSystem=!!window.requestFileSystem;var d=!1,p=function(){if(window.WebGLRenderingContext)try{var f=h.createWebGL(this),y=f.getContext("webgl")||f.getContext("experimental-webgl"),w=h.create2D(this),x=w.getContext("2d",{willReadFrequently:!0}),b=x.createImageData(1,1);return d=b.data instanceof Uint8ClampedArray,h.remove(f),h.remove(w),!!y}catch{return!1}return!1};return u.webGL=p(),u.worker=!!window.Worker,u.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,u.getUserMedia=u.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,v.firefox&&v.firefoxVersion<21&&(u.getUserMedia=!1),!a.iOS&&(v.ie||v.firefox||v.chrome)&&(u.canvasBitBltShift=!0),(v.safari||v.mobileSafari)&&(u.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(u.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(u.littleEndian=l()),u.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&u.littleEndian!==null&&d,u}s.exports=o()}),91639:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={available:!1,cancel:"",keyboard:!1,request:""};function r(){if(typeof importScripts=="function")return g;var a,v="Fullscreen",h="FullScreen",u=["request"+v,"request"+h,"webkitRequest"+v,"webkitRequest"+h,"msRequest"+v,"msRequest"+h,"mozRequest"+h,"mozRequest"+v];for(a=0;a<u.length;a++)if(document.documentElement[u[a]]){g.available=!0,g.request=u[a];break}var l=["cancel"+h,"exit"+v,"webkitCancel"+h,"webkitExit"+v,"msCancel"+h,"msExit"+v,"mozCancel"+h,"mozExit"+v];if(g.available){for(a=0;a<l.length;a++)if(document[l[a]]){g.cancel=l[a];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(g.keyboard=!0),Object.defineProperty(g,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),g}s.exports=r()}),31784:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(84148),v={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function h(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(v.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(v.mspointer=!0),navigator.getGamepads&&(v.gamepads=!0),"onwheel"in window||a.ie&&"WheelEvent"in window?v.wheelEvent="wheel":"onmousewheel"in window?v.wheelEvent="mousewheel":a.firefox&&"MouseScrollEvent"in window&&(v.wheelEvent="DOMMouseScroll")),v}s.exports=h()}),25892:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function r(){if(typeof importScripts=="function")return g;var a=navigator.userAgent;/Windows/.test(a)?g.windows=!0:/Mac OS/.test(a)&&!/like Mac OS/.test(a)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(g.iOS=!0,g.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),g.iOSVersion=parseInt(RegExp.$1,10)):g.macOS=!0:/Android/.test(a)?g.android=!0:/Linux/.test(a)?g.linux=!0:/iP[ao]d|iPhone/i.test(a)?(g.iOS=!0,navigator.appVersion.match(/OS (\d+)/),g.iOSVersion=parseInt(RegExp.$1,10),g.iPhone=a.toLowerCase().indexOf("iphone")!==-1,g.iPad=a.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(a)||/\bKF[A-Z][A-Z]+/.test(a)||/Silk.*Mobile Safari/.test(a)?g.kindle=!0:/CrOS/.test(a)&&(g.chromeOS=!0),(/Windows Phone/i.test(a)||/IEMobile/i.test(a))&&(g.android=!1,g.iOS=!1,g.macOS=!1,g.windows=!0,g.windowsPhone=!0);var v=/Silk/.test(a);return(g.windows||g.macOS||g.linux&&!v||g.chromeOS)&&(g.desktop=!0),(g.windowsPhone||/Windows NT/i.test(a)&&/Touch/i.test(a))&&(g.desktop=!1),navigator.standalone&&(g.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(g.cordova=!0),window.ejecta!==void 0&&(g.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(g.node=!0),g.node&&typeof process.versions=="object"&&(g.nodeWebkit=!!process.versions["node-webkit"],g.electron=!!process.versions.electron),/Crosswalk/.test(a)&&(g.crosswalk=!0),g.pixelRatio=window.devicePixelRatio||1,g}s.exports=r()}),43267:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(95540),v={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function h(){if(typeof importScripts=="function")return v;var u=document.createElement("video"),l=!!u.canPlayType,o=/^no$/;try{l&&(u.canPlayType('video/ogg; codecs="theora"').replace(o,"")&&(v.ogg=!0),u.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(o,"")&&(v.h264=!0,v.mp4=!0),u.canPlayType("video/x-m4v").replace(o,"")&&(v.m4v=!0),u.canPlayType('video/webm; codecs="vp8, vorbis"').replace(o,"")&&(v.webm=!0),u.canPlayType('video/webm; codecs="vp9"').replace(o,"")&&(v.vp9=!0),u.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(o,"")&&(v.hls=!0))}catch{}return u.parentNode&&u.parentNode.removeChild(u),v.getVideoURL=function(d){Array.isArray(d)||(d=[d]);for(var p=0;p<d.length;p++){var f=a(d[p],"url",d[p]);if(f.indexOf("blob:")===0)return{url:f,type:""};var y;if(f.indexOf("data:")===0?y=f.split(",")[0].match(/\/(.*?);/):y=f.match(/\.([a-zA-Z0-9]+)($|\?)/),y=a(d[p],"type",y?y[1]:"").toLowerCase(),v[y])return{url:f,type:y}}return null},v}s.exports=h()}),82264:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={os:r(25892),browser:r(84148),features:r(89357),input:r(31784),audio:r(7098),video:r(43267),fullscreen:r(91639),canvasFeatures:r(89289)}}),89422:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=new Float32Array(20),h=new a({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(u){return this._matrix.set(u),this._dirty=!0,this},reset:function(){var u=this._matrix;return u.fill(0),u[0]=1,u[6]=1,u[12]=1,u[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var u=this._data;return this._dirty&&(u.set(this._matrix),u[4]/=255,u[9]/=255,u[14]/=255,u[19]/=255,this._dirty=!1),u},brightness:function(u,l){u===void 0&&(u=0),l===void 0&&(l=!1);var o=u;return this.multiply([o,0,0,0,0,0,o,0,0,0,0,0,o,0,0,0,0,0,1,0],l)},saturate:function(u,l){u===void 0&&(u=0),l===void 0&&(l=!1);var o=u*2/3+1,d=(o-1)*-.5;return this.multiply([o,d,d,0,0,d,o,d,0,0,d,d,o,0,0,0,0,0,1,0],l)},desaturate:function(u){return u===void 0&&(u=!1),this.saturate(-1,u)},hue:function(u,l){u===void 0&&(u=0),l===void 0&&(l=!1),u=u/180*Math.PI;var o=Math.cos(u),d=Math.sin(u),p=.213,f=.715,y=.072;return this.multiply([p+o*(1-p)+d*-p,f+o*-f+d*-f,y+o*-y+d*(1-y),0,0,p+o*-p+d*.143,f+o*(1-f)+d*.14,y+o*-y+d*-.283,0,0,p+o*-p+d*-.787,f+o*-f+d*f,y+o*(1-y)+d*y,0,0,0,0,0,1,0],l)},grayscale:function(u,l){return u===void 0&&(u=1),l===void 0&&(l=!1),this.saturate(-u,l)},blackWhite:function(u){return u===void 0&&(u=!1),this.multiply(h.BLACK_WHITE,u)},contrast:function(u,l){u===void 0&&(u=0),l===void 0&&(l=!1);var o=u+1,d=-.5*(o-1);return this.multiply([o,0,0,0,d,0,o,0,0,d,0,0,o,0,d,0,0,0,1,0],l)},negative:function(u){return u===void 0&&(u=!1),this.multiply(h.NEGATIVE,u)},desaturateLuminance:function(u){return u===void 0&&(u=!1),this.multiply(h.DESATURATE_LUMINANCE,u)},sepia:function(u){return u===void 0&&(u=!1),this.multiply(h.SEPIA,u)},night:function(u,l){return u===void 0&&(u=.1),l===void 0&&(l=!1),this.multiply([u*-2,-u,0,0,0,-u,0,u,0,0,0,u,u*2,0,0,0,0,0,1,0],l)},lsd:function(u){return u===void 0&&(u=!1),this.multiply(h.LSD,u)},brown:function(u){return u===void 0&&(u=!1),this.multiply(h.BROWN,u)},vintagePinhole:function(u){return u===void 0&&(u=!1),this.multiply(h.VINTAGE,u)},kodachrome:function(u){return u===void 0&&(u=!1),this.multiply(h.KODACHROME,u)},technicolor:function(u){return u===void 0&&(u=!1),this.multiply(h.TECHNICOLOR,u)},polaroid:function(u){return u===void 0&&(u=!1),this.multiply(h.POLAROID,u)},shiftToBGR:function(u){return u===void 0&&(u=!1),this.multiply(h.SHIFT_BGR,u)},multiply:function(u,l){l===void 0&&(l=!1),l||this.reset();var o=this._matrix,d=v;return d.set(o),o.set([d[0]*u[0]+d[1]*u[5]+d[2]*u[10]+d[3]*u[15],d[0]*u[1]+d[1]*u[6]+d[2]*u[11]+d[3]*u[16],d[0]*u[2]+d[1]*u[7]+d[2]*u[12]+d[3]*u[17],d[0]*u[3]+d[1]*u[8]+d[2]*u[13]+d[3]*u[18],d[0]*u[4]+d[1]*u[9]+d[2]*u[14]+d[3]*u[19]+d[4],d[5]*u[0]+d[6]*u[5]+d[7]*u[10]+d[8]*u[15],d[5]*u[1]+d[6]*u[6]+d[7]*u[11]+d[8]*u[16],d[5]*u[2]+d[6]*u[7]+d[7]*u[12]+d[8]*u[17],d[5]*u[3]+d[6]*u[8]+d[7]*u[13]+d[8]*u[18],d[5]*u[4]+d[6]*u[9]+d[7]*u[14]+d[8]*u[19]+d[9],d[10]*u[0]+d[11]*u[5]+d[12]*u[10]+d[13]*u[15],d[10]*u[1]+d[11]*u[6]+d[12]*u[11]+d[13]*u[16],d[10]*u[2]+d[11]*u[7]+d[12]*u[12]+d[13]*u[17],d[10]*u[3]+d[11]*u[8]+d[12]*u[13]+d[13]*u[18],d[10]*u[4]+d[11]*u[9]+d[12]*u[14]+d[13]*u[19]+d[14],d[15]*u[0]+d[16]*u[5]+d[17]*u[10]+d[18]*u[15],d[15]*u[1]+d[16]*u[6]+d[17]*u[11]+d[18]*u[16],d[15]*u[2]+d[16]*u[7]+d[17]*u[12]+d[18]*u[17],d[15]*u[3]+d[16]*u[8]+d[17]*u[13]+d[18]*u[18],d[15]*u[4]+d[16]*u[9]+d[17]*u[14]+d[18]*u[19]+d[19]]),this._dirty=!0,this}});h.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],h.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],h.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],h.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],h.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],h.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],h.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],h.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],h.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],h.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],h.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],s.exports=h}),51767:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(29747),h=new a({initialize:function(l,o,d){this._rgb=[0,0,0],this.onChangeCallback=v,this.dirty=!1,this.set(l,o,d)},set:function(u,l,o){return u===void 0&&(u=0),l===void 0&&(l=0),o===void 0&&(o=0),this._rgb=[u,l,o],this.onChange(),this},equals:function(u,l,o){var d=this._rgb;return d[0]===u&&d[1]===l&&d[2]===o},onChange:function(){this.dirty=!0;var u=this._rgb;this.onChangeCallback.call(this,u[0],u[1],u[2])},r:{get:function(){return this._rgb[0]},set:function(u){this._rgb[0]=u,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(u){this._rgb[1]=u,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(u){this._rgb[2]=u,this.onChange()}},destroy:function(){this.onChangeCallback=null}});s.exports=h}),60461:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};s.exports=g}),54312:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(62235),v=r(35893),h=r(86327),u=r(88417),l=function(o,d,p,f){return p===void 0&&(p=0),f===void 0&&(f=0),u(o,v(d)+p),h(o,a(d)+f),o};s.exports=l}),46768:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(62235),v=r(26541),h=r(86327),u=r(385),l=function(o,d,p,f){return p===void 0&&(p=0),f===void 0&&(f=0),u(o,v(d)-p),h(o,a(d)+f),o};s.exports=l}),35827:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(62235),v=r(54380),h=r(86327),u=r(40136),l=function(o,d,p,f){return p===void 0&&(p=0),f===void 0&&(f=0),u(o,v(d)+p),h(o,a(d)+f),o};s.exports=l}),46871:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(66786),v=r(35893),h=r(7702),u=function(l,o,d,p){return d===void 0&&(d=0),p===void 0&&(p=0),a(l,v(o)+d,h(o)+p),l};s.exports=u}),5198:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(7702),v=r(26541),h=r(20786),u=r(385),l=function(o,d,p,f){return p===void 0&&(p=0),f===void 0&&(f=0),u(o,v(d)-p),h(o,a(d)+f),o};s.exports=l}),11879:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(60461),v=[];v[a.BOTTOM_CENTER]=r(54312),v[a.BOTTOM_LEFT]=r(46768),v[a.BOTTOM_RIGHT]=r(35827),v[a.CENTER]=r(46871),v[a.LEFT_CENTER]=r(5198),v[a.RIGHT_CENTER]=r(80503),v[a.TOP_CENTER]=r(89698),v[a.TOP_LEFT]=r(922),v[a.TOP_RIGHT]=r(21373),v[a.LEFT_BOTTOM]=v[a.BOTTOM_LEFT],v[a.LEFT_TOP]=v[a.TOP_LEFT],v[a.RIGHT_BOTTOM]=v[a.BOTTOM_RIGHT],v[a.RIGHT_TOP]=v[a.TOP_RIGHT];var h=function(u,l,o,d,p){return v[o](u,l,d,p)};s.exports=h}),80503:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(7702),v=r(54380),h=r(20786),u=r(40136),l=function(o,d,p,f){return p===void 0&&(p=0),f===void 0&&(f=0),u(o,v(d)+p),h(o,a(d)+f),o};s.exports=l}),89698:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(35893),v=r(17717),h=r(88417),u=r(66737),l=function(o,d,p,f){return p===void 0&&(p=0),f===void 0&&(f=0),h(o,a(d)+p),u(o,v(d)-f),o};s.exports=l}),922:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(26541),v=r(17717),h=r(385),u=r(66737),l=function(o,d,p,f){return p===void 0&&(p=0),f===void 0&&(f=0),h(o,a(d)-p),u(o,v(d)-f),o};s.exports=l}),21373:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(54380),v=r(17717),h=r(40136),u=r(66737),l=function(o,d,p,f){return p===void 0&&(p=0),f===void 0&&(f=0),h(o,a(d)+p),u(o,v(d)-f),o};s.exports=l}),91660:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={BottomCenter:r(54312),BottomLeft:r(46768),BottomRight:r(35827),Center:r(46871),LeftCenter:r(5198),QuickSet:r(11879),RightCenter:r(80503),TopCenter:r(89698),TopLeft:r(922),TopRight:r(21373)}}),71926:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(60461),v=r(79291),h={In:r(91660),To:r(16694)};h=v(!1,h,a),s.exports=h}),21578:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(62235),v=r(35893),h=r(88417),u=r(66737),l=function(o,d,p,f){return p===void 0&&(p=0),f===void 0&&(f=0),h(o,v(d)+p),u(o,a(d)+f),o};s.exports=l}),10210:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(62235),v=r(26541),h=r(385),u=r(66737),l=function(o,d,p,f){return p===void 0&&(p=0),f===void 0&&(f=0),h(o,v(d)-p),u(o,a(d)+f),o};s.exports=l}),82341:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(62235),v=r(54380),h=r(40136),u=r(66737),l=function(o,d,p,f){return p===void 0&&(p=0),f===void 0&&(f=0),h(o,v(d)+p),u(o,a(d)+f),o};s.exports=l}),87958:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(62235),v=r(26541),h=r(86327),u=r(40136),l=function(o,d,p,f){return p===void 0&&(p=0),f===void 0&&(f=0),u(o,v(d)-p),h(o,a(d)+f),o};s.exports=l}),40080:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(7702),v=r(26541),h=r(20786),u=r(40136),l=function(o,d,p,f){return p===void 0&&(p=0),f===void 0&&(f=0),u(o,v(d)-p),h(o,a(d)+f),o};s.exports=l}),88466:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(26541),v=r(17717),h=r(40136),u=r(66737),l=function(o,d,p,f){return p===void 0&&(p=0),f===void 0&&(f=0),h(o,a(d)-p),u(o,v(d)-f),o};s.exports=l}),38829:((s,g,r)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(60461),v=[];v[a.BOTTOM_CENTER]=r(21578),v[a.BOTTOM_LEFT]=r(10210),v[a.BOTTOM_RIGHT]=r(82341),v[a.LEFT_BOTTOM]=r(87958),v[a.LEFT_CENTER]=r(40080),v[a.LEFT_TOP]=r(88466),v[a.RIGHT_BOTTOM]=r(19211),v[a.RIGHT_CENTER]=r(34609),v[a.RIGHT_TOP]=r(48741),v[a.TOP_CENTER]=r(49440),v[a.TOP_LEFT]=r(81288),v[a.TOP_RIGHT]=r(61323);var h=function(u,l,o,d,p){return v[o](u,l,d,p)};s.exports=h}),19211:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(62235),v=r(54380),h=r(86327),u=r(385),l=function(o,d,p,f){return p===void 0&&(p=0),f===void 0&&(f=0),u(o,v(d)+p),h(o,a(d)+f),o};s.exports=l}),34609:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(7702),v=r(54380),h=r(20786),u=r(385),l=function(o,d,p,f){return p===void 0&&(p=0),f===void 0&&(f=0),u(o,v(d)+p),h(o,a(d)+f),o};s.exports=l}),48741:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(54380),v=r(17717),h=r(385),u=r(66737),l=function(o,d,p,f){return p===void 0&&(p=0),f===void 0&&(f=0),h(o,a(d)+p),u(o,v(d)-f),o};s.exports=l}),49440:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(35893),v=r(17717),h=r(86327),u=r(88417),l=function(o,d,p,f){return p===void 0&&(p=0),f===void 0&&(f=0),u(o,a(d)+p),h(o,v(d)-f),o};s.exports=l}),81288:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(26541),v=r(17717),h=r(86327),u=r(385),l=function(o,d,p,f){return p===void 0&&(p=0),f===void 0&&(f=0),u(o,a(d)-p),h(o,v(d)-f),o};s.exports=l}),61323:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(54380),v=r(17717),h=r(86327),u=r(40136),l=function(o,d,p,f){return p===void 0&&(p=0),f===void 0&&(f=0),u(o,a(d)+p),h(o,v(d)-f),o};s.exports=l}),16694:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={BottomCenter:r(21578),BottomLeft:r(10210),BottomRight:r(82341),LeftBottom:r(87958),LeftCenter:r(40080),LeftTop:r(88466),QuickSet:r(38829),RightBottom:r(19211),RightCenter:r(34609),RightTop:r(48741),TopCenter:r(49440),TopLeft:r(81288),TopRight:r(61323)}}),66786:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(88417),v=r(20786),h=function(u,l,o){return a(u,l),v(u,o)};s.exports=h}),62235:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r.y+r.height-r.height*r.originY};s.exports=g}),72873:((s,g,r)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(62235),v=r(26541),h=r(54380),u=r(17717),l=r(87841),o=function(d,p){p===void 0&&(p=new l);var f=v(d),y=u(d);return p.x=f,p.y=y,p.width=h(d)-f,p.height=a(d)-y,p};s.exports=o}),35893:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r.x-r.width*r.originX+r.width*.5};s.exports=g}),7702:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r.y-r.height*r.originY+r.height*.5};s.exports=g}),26541:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r.x-r.width*r.originX};s.exports=g}),87431:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r.width*r.originX};s.exports=g}),46928:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r.height*r.originY};s.exports=g}),54380:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r.x+r.width-r.width*r.originX};s.exports=g}),17717:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r.y-r.height*r.originY};s.exports=g}),86327:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return r.y=a-r.height+r.height*r.originY,r};s.exports=g}),88417:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){var v=r.width*r.originX;return r.x=a+v-r.width*.5,r};s.exports=g}),20786:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){var v=r.height*r.originY;return r.y=a+v-r.height*.5,r};s.exports=g}),385:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return r.x=a+r.width*r.originX,r};s.exports=g}),40136:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return r.x=a-r.width+r.width*r.originX,r};s.exports=g}),66737:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return r.y=a+r.height*r.originY,r};s.exports=g}),58724:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={CenterOn:r(66786),GetBottom:r(62235),GetBounds:r(72873),GetCenterX:r(35893),GetCenterY:r(7702),GetLeft:r(26541),GetOffsetX:r(87431),GetOffsetY:r(46928),GetRight:r(54380),GetTop:r(17717),SetBottom:r(86327),SetCenterX:r(88417),SetCenterY:r(20786),SetLeft:r(385),SetRight:r(40136),SetTop:r(66737)}}),20623:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={setCrisp:function(r){var a=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return a.forEach(function(v){r.style["image-rendering"]=v}),r.style.msInterpolationMode="nearest-neighbor",r},setBicubic:function(r){return r.style["image-rendering"]="auto",r.style.msInterpolationMode="bicubic",r}};s.exports=g}),27919:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(8054),v=r(68703),h=[],u=!1,l=function(){var o=function(C,T,S,A,P){T===void 0&&(T=1),S===void 0&&(S=1),A===void 0&&(A=a.CANVAS),P===void 0&&(P=!1);var R,L=f(A);return L===null?(L={parent:C,canvas:document.createElement("canvas"),type:A},A===a.CANVAS&&h.push(L),R=L.canvas):(L.parent=C,R=L.canvas),P&&(L.parent=R),R.width=T,R.height=S,u&&A===a.CANVAS&&v.disable(R.getContext("2d",{willReadFrequently:!1})),R},d=function(C,T,S){return o(C,T,S,a.CANVAS)},p=function(C,T,S){return o(C,T,S,a.WEBGL)},f=function(C){if(C===void 0&&(C=a.CANVAS),C===a.WEBGL)return null;for(var T=0;T<h.length;T++){var S=h[T];if(!S.parent&&S.type===C)return S}return null},y=function(C){var T=C instanceof HTMLCanvasElement;h.forEach(function(S){(T&&S.canvas===C||!T&&S.parent===C)&&(S.parent=null,S.canvas.width=1,S.canvas.height=1)})},w=function(){var C=0;return h.forEach(function(T){T.parent&&C++}),C},x=function(){return h.length-w()},b=function(){u=!0},E=function(){u=!1};return{create2D:d,create:o,createWebGL:p,disableSmoothing:b,enableSmoothing:E,first:f,free:x,pool:h,remove:y,total:w}};s.exports=l()}),68703:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g="",r=function(){var a=function(l){for(var o=["i","webkitI","msI","mozI","oI"],d=0;d<o.length;d++){var p=o[d]+"mageSmoothingEnabled";if(p in l)return p}return null},v=function(l){return g===""&&(g=a(l)),g&&(l[g]=!0),l},h=function(l){return g===""&&(g=a(l)),g&&(l[g]=!1),l},u=function(l){return g!==null?l[g]:null};return{disable:h,enable:v,getPrefix:a,isEnabled:u}};s.exports=r()}),65208:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return a===void 0&&(a="none"),r.style.msTouchAction=a,r.style["ms-touch-action"]=a,r.style["touch-action"]=a,r};s.exports=g}),91610:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){a===void 0&&(a="none");var v=["-webkit-","-khtml-","-moz-","-ms-",""];return v.forEach(function(h){r.style[h+"user-select"]=a}),r.style["-webkit-touch-callout"]=a,r.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",r};s.exports=g}),26253:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={CanvasInterpolation:r(20623),CanvasPool:r(27919),Smoothing:r(68703),TouchAction:r(65208),UserSelect:r(91610)}}),40987:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(37589),h=r(1e3),u=r(7537),l=r(87837),o=new a({initialize:function(p,f,y,w){p===void 0&&(p=0),f===void 0&&(f=0),y===void 0&&(y=0),w===void 0&&(w=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(p,f,y,w)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(d,p,f,y,w){return y===void 0&&(y=255),w===void 0&&(w=!0),this._locked=!0,this.red=d,this.green=p,this.blue=f,this.alpha=y,this._locked=!1,this.update(w)},setGLTo:function(d,p,f,y){return y===void 0&&(y=1),this._locked=!0,this.redGL=d,this.greenGL=p,this.blueGL=f,this.alphaGL=y,this._locked=!1,this.update(!0)},setFromRGB:function(d){return this._locked=!0,this.red=d.r,this.green=d.g,this.blue=d.b,d.hasOwnProperty("a")&&(this.alpha=d.a),this._locked=!1,this.update(!0)},setFromHSV:function(d,p,f){return u(d,p,f,this)},update:function(d){if(d===void 0&&(d=!1),this._locked)return this;var p=this.r,f=this.g,y=this.b,w=this.a;return this._color=v(p,f,y),this._color32=h(p,f,y,w),this._rgba="rgba("+p+","+f+","+y+","+w/255+")",d&&l(p,f,y,this),this},updateHSV:function(){var d=this.r,p=this.g,f=this.b;return l(d,p,f,this),this},clone:function(){return new o(this.r,this.g,this.b,this.a)},gray:function(d){return this.setTo(d,d,d)},random:function(d,p){d===void 0&&(d=0),p===void 0&&(p=255);var f=Math.floor(d+Math.random()*(p-d)),y=Math.floor(d+Math.random()*(p-d)),w=Math.floor(d+Math.random()*(p-d));return this.setTo(f,y,w)},randomGray:function(d,p){d===void 0&&(d=0),p===void 0&&(p=255);var f=Math.floor(d+Math.random()*(p-d));return this.setTo(f,f,f)},saturate:function(d){return this.s+=d/100,this},desaturate:function(d){return this.s-=d/100,this},lighten:function(d){return this.v+=d/100,this},darken:function(d){return this.v-=d/100,this},brighten:function(d){var p=this.r,f=this.g,y=this.b;return p=Math.max(0,Math.min(255,p-Math.round(255*-(d/100)))),f=Math.max(0,Math.min(255,f-Math.round(255*-(d/100)))),y=Math.max(0,Math.min(255,y-Math.round(255*-(d/100)))),this.setTo(p,f,y)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(d){this.gl[0]=Math.min(Math.abs(d),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(d){this.gl[1]=Math.min(Math.abs(d),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(d){this.gl[2]=Math.min(Math.abs(d),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(d){this.gl[3]=Math.min(Math.abs(d),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(d){d=Math.floor(Math.abs(d)),this.r=Math.min(d,255),this.gl[0]=d/255,this.update(!0)}},green:{get:function(){return this.g},set:function(d){d=Math.floor(Math.abs(d)),this.g=Math.min(d,255),this.gl[1]=d/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(d){d=Math.floor(Math.abs(d)),this.b=Math.min(d,255),this.gl[2]=d/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(d){d=Math.floor(Math.abs(d)),this.a=Math.min(d,255),this.gl[3]=d/255,this.update()}},h:{get:function(){return this._h},set:function(d){this._h=d,u(d,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(d){this._s=d,u(this._h,d,this._v,this)}},v:{get:function(){return this._v},set:function(d){this._v=d,u(this._h,this._s,d,this)}}});s.exports=o}),92728:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(37589),v=function(h){h===void 0&&(h=1024);var u=[],l=255,o,d=255,p=0,f=0;for(o=0;o<=l;o++)u.push({r:d,g:o,b:f,color:a(d,o,f)});for(p=255,o=l;o>=0;o--)u.push({r:o,g:p,b:f,color:a(o,p,f)});for(d=0,o=0;o<=l;o++,p--)u.push({r:d,g:p,b:o,color:a(d,p,o)});for(p=0,f=255,o=0;o<=l;o++,f--,d++)u.push({r:d,g:p,b:f,color:a(d,p,f)});if(h===1024)return u;var y=[],w=0,x=1024/h;for(o=0;o<h;o++)y.push(u[Math.floor(w)]),w+=x;return y};s.exports=v}),91588:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){var a={r:r>>16&255,g:r>>8&255,b:r&255,a:255};return r>16777215&&(a.a=r>>>24),a};s.exports=g}),62957:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){var a=r.toString(16);return a.length===1?"0"+a:a};s.exports=g}),37589:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){return r<<16|a<<8|v};s.exports=g}),1e3:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h){return h<<24|r<<16|a<<8|v};s.exports=g}),62183:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(40987),v=r(89528),h=function(u,l,o){var d=o,p=o,f=o;if(l!==0){var y=o<.5?o*(1+l):o+l-o*l,w=2*o-y;d=v(w,y,u+1/3),p=v(w,y,u),f=v(w,y,u-1/3)}var x=new a;return x.setGLTo(d,p,f,1)};s.exports=h}),27939:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(7537),v=function(h,u){h===void 0&&(h=1),u===void 0&&(u=1);for(var l=[],o=0;o<=359;o++)l.push(a(o/359,h,u));return l};s.exports=v}),7537:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(37589);function v(u,l,o,d){var p=(u+l*6)%6,f=Math.min(p,4-p,1);return Math.round(255*(d-d*o*Math.max(0,f)))}var h=function(u,l,o,d){l===void 0&&(l=1),o===void 0&&(o=1);var p=v(5,u,l,o),f=v(3,u,l,o),y=v(1,u,l,o);return d?d.setTo?d.setTo(p,f,y,d.alpha,!0):(d.r=p,d.g=f,d.b=y,d.color=a(p,f,y),d):{r:p,g:f,b:y,color:a(p,f,y)}};s.exports=h}),70238:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(40987),v=function(h){var u=new a;h=h.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(f,y,w,x){return y+y+w+w+x+x});var l=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(h);if(l){var o=parseInt(l[1],16),d=parseInt(l[2],16),p=parseInt(l[3],16);u.setTo(o,d,p)}return u};s.exports=v}),89528:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){return v<0&&(v+=1),v>1&&(v-=1),v<.16666666666666666?r+(a-r)*6*v:v<.5?a:v<.6666666666666666?r+(a-r)*(.6666666666666666-v)*6:r};s.exports=g}),30100:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(40987),v=r(90664),h=function(u){var l=v(u);return new a(l.r,l.g,l.b,l.a)};s.exports=h}),90664:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r>16777215?{a:r>>>24,r:r>>16&255,g:r>>8&255,b:r&255}:{a:255,r:r>>16&255,g:r>>8&255,b:r&255}};s.exports=g}),13699:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(28915),v=r(37589),h=function(o,d,p,f,y,w,x,b){x===void 0&&(x=100),b===void 0&&(b=0);var E=b/x,C=a(o,f,E),T=a(d,y,E),S=a(p,w,E);return{r:C,g:T,b:S,a:255,color:v(C,T,S)}},u=function(o,d,p,f){return p===void 0&&(p=100),f===void 0&&(f=0),h(o.r,o.g,o.b,d.r,d.g,d.b,p,f)},l=function(o,d,p,f,y,w){return y===void 0&&(y=100),w===void 0&&(w=0),h(o.r,o.g,o.b,d,p,f,y,w)};s.exports={RGBWithRGB:h,ColorWithRGB:l,ColorWithColor:u}}),68957:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(40987),v=function(h){return new a(h.r,h.g,h.b,h.a)};s.exports=v}),87388:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(40987),v=function(h){var u=new a,l=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(h.toLowerCase());if(l){var o=parseInt(l[1],10),d=parseInt(l[2],10),p=parseInt(l[3],10),f=l[4]!==void 0?parseFloat(l[4]):1;u.setTo(o,d,p,f*255)}return u};s.exports=v}),87837:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h){h===void 0&&(h={h:0,s:0,v:0}),r/=255,a/=255,v/=255;var u=Math.min(r,a,v),l=Math.max(r,a,v),o=l-u,d=0,p=l===0?0:o/l,f=l;return l!==u&&(l===r?d=(a-v)/o+(a<v?6:0):l===a?d=(v-r)/o+2:l===v&&(d=(r-a)/o+4),d/=6),h.hasOwnProperty("_h")?(h._h=d,h._s=p,h._v=f):(h.h=d,h.s=p,h.v=f),h};s.exports=g}),75723:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(62957),v=function(h,u,l,o,d){return o===void 0&&(o=255),d===void 0&&(d="#"),d==="#"?"#"+((1<<24)+(h<<16)+(u<<8)+l).toString(16).slice(1,7):"0x"+a(o)+a(h)+a(u)+a(l)};s.exports=v}),85386:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(30976),v=r(40987),h=function(u,l){return u===void 0&&(u=0),l===void 0&&(l=255),new v(a(u,l),a(u,l),a(u,l))};s.exports=h}),80333:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(70238),v=r(30100),h=r(68957),u=r(87388),l=function(o){var d=typeof o;switch(d){case"string":return o.substr(0,3).toLowerCase()==="rgb"?u(o):a(o);case"number":return v(o);case"object":return h(o)}};s.exports=l}),3956:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(40987);a.ColorSpectrum=r(92728),a.ColorToRGBA=r(91588),a.ComponentToHex=r(62957),a.GetColor=r(37589),a.GetColor32=r(1e3),a.HexStringToColor=r(70238),a.HSLToColor=r(62183),a.HSVColorWheel=r(27939),a.HSVToRGB=r(7537),a.HueToComponent=r(89528),a.IntegerToColor=r(30100),a.IntegerToRGB=r(90664),a.Interpolate=r(13699),a.ObjectToColor=r(68957),a.RandomRGB=r(85386),a.RGBStringToColor=r(87388),a.RGBToHSV=r(87837),a.RGBToString=r(75723),a.ValueToColor=r(80333),s.exports=a}),27460:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Align:r(71926),BaseShader:r(73894),Bounds:r(58724),Canvas:r(26253),Color:r(3956),ColorMatrix:r(89422),Masks:r(69781),RGB:r(51767)}}),6858:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(39429),h=new a({initialize:function(l,o,d,p,f,y){o||(o=l.sys.make.image({x:d,y:p,key:f,frame:y,add:!1})),this.bitmapMask=o,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(u){this.bitmapMask=u},preRenderWebGL:function(u,l,o){u.pipelines.BITMAPMASK_PIPELINE.beginMask(this,l,o)},postRenderWebGL:function(u,l,o){u.pipelines.BITMAPMASK_PIPELINE.endMask(this,l,o)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});v.register("bitmapMask",function(u,l,o,d,p){return new h(this.scene,u,l,o,d,p)}),s.exports=h}),80661:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=new a({initialize:function(u,l){this.geometryMask=l,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(h){return this.geometryMask=h,this},setInvertAlpha:function(h){return h===void 0&&(h=!0),this.invertAlpha=h,this},preRenderWebGL:function(h,u,l){var o=h.gl;h.flush(),h.maskStack.length===0&&(o.enable(o.STENCIL_TEST),o.clear(o.STENCIL_BUFFER_BIT),h.maskCount=0),h.currentCameraMask.mask!==this&&(h.currentMask.mask=this),h.maskStack.push({mask:this,camera:l}),this.applyStencil(h,l,!0),h.maskCount++},applyStencil:function(h,u,l){var o=h.gl,d=this.geometryMask,p=h.maskCount,f=255;o.colorMask(!1,!1,!1,!1),l?(o.stencilFunc(o.EQUAL,p,f),o.stencilOp(o.KEEP,o.KEEP,o.INCR),p++):(o.stencilFunc(o.EQUAL,p+1,f),o.stencilOp(o.KEEP,o.KEEP,o.DECR)),this.level=p,d.renderWebGL(h,d,u),h.flush(),o.colorMask(!0,!0,!0,!0),o.stencilOp(o.KEEP,o.KEEP,o.KEEP),this.invertAlpha?o.stencilFunc(o.NOTEQUAL,p,f):o.stencilFunc(o.EQUAL,p,f)},postRenderWebGL:function(h){var u=h.gl;h.maskStack.pop(),h.maskCount--,h.flush();var l=h.currentMask;if(h.maskStack.length===0)l.mask=null,u.disable(u.STENCIL_TEST);else{var o=h.maskStack[h.maskStack.length-1];o.mask.applyStencil(h,o.camera,!1),h.currentCameraMask.mask!==o.mask?(l.mask=o.mask,l.camera=o.camera):l.mask=null}},preRenderCanvas:function(h,u,l){var o=this.geometryMask;h.currentContext.save(),o.renderCanvas(h,o,l,null,null,!0),h.currentContext.clip()},postRenderCanvas:function(h){h.currentContext.restore()},destroy:function(){this.geometryMask=null}});s.exports=v}),69781:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={BitmapMask:r(6858),GeometryMask:r(80661)}}),73894:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=new a({initialize:function(u,l,o,d){(!l||l==="")&&(l=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!o||o==="")&&(o=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),d===void 0&&(d=null),this.key=u,this.fragmentSrc=l,this.vertexSrc=o,this.uniforms=d}});s.exports=v}),40366:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){var v;if(a)typeof a=="string"?v=document.getElementById(a):typeof a=="object"&&a.nodeType===1&&(v=a);else if(r.parentElement||a===null)return r;return v||(v=document.body),v.appendChild(r),r};s.exports=g}),83719:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(40366),v=function(h){var u=h.config;if(!(!u.parent||!u.domCreateContainer)){var l=document.createElement("div");l.style.cssText=["display: block;","width: "+h.scale.width+"px;","height: "+h.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+u.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),h.domContainer=l,a(l,u.parent)}};s.exports=v}),57264:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(25892),v=function(h){if(document.readyState==="complete"||document.readyState==="interactive"){h();return}var u=function(){document.removeEventListener("deviceready",u,!0),document.removeEventListener("DOMContentLoaded",u,!0),window.removeEventListener("load",u,!0),h()};document.body?a.cordova?document.addEventListener("deviceready",u,!1):(document.addEventListener("DOMContentLoaded",u,!0),window.addEventListener("load",u,!0)):window.setTimeout(u,20)};s.exports=v}),57811:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){if(!r)return window.innerHeight;var a=Math.abs(window.orientation),v={w:0,h:0},h=document.createElement("div");return h.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(h),v.w=a===90?h.offsetHeight:window.innerWidth,v.h=a===90?window.innerWidth:h.offsetHeight,document.documentElement.removeChild(h),h=null,Math.abs(window.orientation)!==90?v.h:v.w};s.exports=g}),45818:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(13560),v=function(h,u){var l=window.screen,o=l?l.orientation||l.mozOrientation||l.msOrientation:!1;if(o&&typeof o.type=="string")return o.type;if(typeof o=="string")return o;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?a.ORIENTATION.PORTRAIT:a.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return a.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return a.ORIENTATION.LANDSCAPE}else return u>h?a.ORIENTATION.PORTRAIT:a.ORIENTATION.LANDSCAPE};s.exports=v}),74403:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){var a;return r!==""&&(typeof r=="string"?a=document.getElementById(r):r&&r.nodeType===1&&(a=r)),a||(a=document.body),a};s.exports=g}),56836:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){var a="";try{if(window.DOMParser){var v=new DOMParser;a=v.parseFromString(r,"text/xml")}else a=new ActiveXObject("Microsoft.XMLDOM"),a.loadXML(r)}catch{a=null}return!a||!a.documentElement||a.getElementsByTagName("parsererror").length?null:a};s.exports=g}),35846:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){r.parentNode&&r.parentNode.removeChild(r)};s.exports=g}),43092:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(29747),h=new a({initialize:function(){this.isRunning=!1,this.callback=v,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var l=this;this.step=function o(d){l.callback(d),l.isRunning&&(l.timeOutID=window.requestAnimationFrame(o))},this.stepTimeout=function o(){l.isRunning&&(l.timeOutID=window.setTimeout(o,l.delay)),l.callback(window.performance.now())}},start:function(u,l,o){this.isRunning||(this.callback=u,this.isSetTimeOut=l,this.delay=o,this.isRunning=!0,this.timeOutID=l?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=v}});s.exports=h}),84902:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={AddToDOM:r(40366),DOMContentLoaded:r(57264),GetInnerHeight:r(57811),GetScreenOrientation:r(45818),GetTarget:r(74403),ParseXML:r(56836),RemoveFromDOM:r(35846),RequestAnimationFrame:r(43092)};s.exports=a}),47565:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(50792),h=r(37277),u=new a({Extends:v,initialize:function(){v.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});h.register("EventEmitter",u,"events"),s.exports=u}),93055:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={EventEmitter:r(47565)}}),20122:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(72898),h=r(14811),u=new a({Extends:v,initialize:function(o,d){d===void 0&&(d=1),v.call(this,h.BARREL,o),this.amount=d}});s.exports=u}),32251:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(72898),h=r(14811),u=new a({Extends:v,initialize:function(o,d,p,f,y,w,x){p===void 0&&(p=1),f===void 0&&(f=1),y===void 0&&(y=1),w===void 0&&(w=1),x===void 0&&(x=4),v.call(this,h.BLOOM,o),this.steps=x,this.offsetX=p,this.offsetY=f,this.blurStrength=y,this.strength=w,this.glcolor=[1,1,1],d!=null&&(this.color=d)},color:{get:function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var o=this.glcolor;o[0]=(l>>16&255)/255,o[1]=(l>>8&255)/255,o[2]=(l&255)/255}}});s.exports=u}),9047:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(72898),h=r(14811),u=new a({Extends:v,initialize:function(o,d,p,f,y,w,x){d===void 0&&(d=0),p===void 0&&(p=2),f===void 0&&(f=2),y===void 0&&(y=1),x===void 0&&(x=4),v.call(this,h.BLUR,o),this.quality=d,this.x=p,this.y=f,this.steps=x,this.strength=y,this.glcolor=[1,1,1],w!=null&&(this.color=w)},color:{get:function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var o=this.glcolor;o[0]=(l>>16&255)/255,o[1]=(l>>8&255)/255,o[2]=(l&255)/255}}});s.exports=u}),27885:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(72898),h=r(14811),u=new a({Extends:v,initialize:function(o,d,p,f,y,w,x,b){d===void 0&&(d=.5),p===void 0&&(p=1),f===void 0&&(f=.2),y===void 0&&(y=!1),w===void 0&&(w=1),x===void 0&&(x=1),b===void 0&&(b=1),v.call(this,h.BOKEH,o),this.radius=d,this.amount=p,this.contrast=f,this.isTiltShift=y,this.strength=b,this.blurX=w,this.blurY=x}});s.exports=u}),12578:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(72898),h=r(14811),u=new a({Extends:v,initialize:function(o,d,p,f,y,w){d===void 0&&(d=8),y===void 0&&(y=1),w===void 0&&(w=.005),v.call(this,h.CIRCLE,o),this.scale=y,this.feather=w,this.thickness=d,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],p!=null&&(this.color=p),f!=null&&(this.backgroundColor=f)},color:{get:function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var o=this.glcolor;o[0]=(l>>16&255)/255,o[1]=(l>>8&255)/255,o[2]=(l&255)/255}},backgroundColor:{get:function(){var l=this.glcolor2;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var o=this.glcolor2;o[0]=(l>>16&255)/255,o[1]=(l>>8&255)/255,o[2]=(l&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(l){this.glcolor2[3]=l}}});s.exports=u}),15802:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(89422),h=r(14811),u=new a({Extends:v,initialize:function(o){v.call(this),this.type=h.COLOR_MATRIX,this.gameObject=o,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});s.exports=u}),72898:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=new a({initialize:function(u,l){this.type=u,this.gameObject=l,this.active=!0},setActive:function(h){return this.active=h,this},destroy:function(){this.gameObject=null,this.active=!1}});s.exports=v}),44553:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(72898),h=r(14811),u=new a({Extends:v,initialize:function(o,d,p,f){d===void 0&&(d="__WHITE"),p===void 0&&(p=.005),f===void 0&&(f=.005),v.call(this,h.DISPLACEMENT,o),this.x=p,this.y=f,this.glTexture,this.setTexture(d)},setTexture:function(l){var o=this.gameObject.scene.sys.textures.getFrame(l);return o&&(this.glTexture=o.glTexture),this}});s.exports=u}),68531:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(72898),h=r(14811),u=new a({Extends:v,initialize:function(o,d,p,f,y){p===void 0&&(p=4),f===void 0&&(f=0),y===void 0&&(y=!1),v.call(this,h.GLOW,o),this.outerStrength=p,this.innerStrength=f,this.knockout=y,this.glcolor=[1,1,1,1],d!==void 0&&(this.color=d)},color:{get:function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var o=this.glcolor;o[0]=(l>>16&255)/255,o[1]=(l>>8&255)/255,o[2]=(l&255)/255}}});s.exports=u}),37102:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(72898),h=r(14811),u=new a({Extends:v,initialize:function(o,d,p,f,y,w,x,b,E){f===void 0&&(f=.2),y===void 0&&(y=0),w===void 0&&(w=0),x===void 0&&(x=0),b===void 0&&(b=1),E===void 0&&(E=0),v.call(this,h.GRADIENT,o),this.alpha=f,this.size=E,this.fromX=y,this.fromY=w,this.toX=x,this.toY=b,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],d!=null&&(this.color1=d),p!=null&&(this.color2=p)},color1:{get:function(){var l=this.glcolor1;return(l[0]<<16)+(l[1]<<8)+(l[2]|0)},set:function(l){var o=this.glcolor1;o[0]=l>>16&255,o[1]=l>>8&255,o[2]=l&255}},color2:{get:function(){var l=this.glcolor2;return(l[0]<<16)+(l[1]<<8)+(l[2]|0)},set:function(l){var o=this.glcolor2;o[0]=l>>16&255,o[1]=l>>8&255,o[2]=l&255}}});s.exports=u}),86886:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(72898),h=r(14811),u=new a({Extends:v,initialize:function(o,d){d===void 0&&(d=1),v.call(this,h.PIXELATE,o),this.amount=d}});s.exports=u}),92322:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(72898),h=r(14811),u=new a({Extends:v,initialize:function(o,d,p,f,y,w,x,b){d===void 0&&(d=0),p===void 0&&(p=0),f===void 0&&(f=.1),y===void 0&&(y=1),x===void 0&&(x=6),b===void 0&&(b=1),v.call(this,h.SHADOW,o),this.x=d,this.y=p,this.decay=f,this.power=y,this.glcolor=[0,0,0,1],this.samples=x,this.intensity=b,w!==void 0&&(this.color=w)},color:{get:function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var o=this.glcolor;o[0]=(l>>16&255)/255,o[1]=(l>>8&255)/255,o[2]=(l&255)/255}}});s.exports=u}),39563:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(72898),h=r(14811),u=new a({Extends:v,initialize:function(o,d,p,f,y){d===void 0&&(d=.5),p===void 0&&(p=.5),f===void 0&&(f=3),y===void 0&&(y=!1),v.call(this,h.SHINE,o),this.speed=d,this.lineWidth=p,this.gradient=f,this.reveal=y}});s.exports=u}),56448:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(72898),h=r(14811),u=new a({Extends:v,initialize:function(o,d,p,f,y){d===void 0&&(d=.5),p===void 0&&(p=.5),f===void 0&&(f=.5),y===void 0&&(y=.5),v.call(this,h.VIGNETTE,o),this.x=d,this.y=p,this.radius=f,this.strength=y}});s.exports=u}),38433:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(72898),h=r(14811),u=new a({Extends:v,initialize:function(o,d,p,f,y){d===void 0&&(d=.1),p===void 0&&(p=0),f===void 0&&(f=0),y===void 0&&(y=!1),v.call(this,h.WIPE,o),this.progress=0,this.wipeWidth=d,this.direction=p,this.axis=f,this.reveal=y}});s.exports=u}),14811:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};s.exports=g}),66064:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(79291),v=r(14811),h={Barrel:r(20122),Controller:r(72898),Bloom:r(32251),Blur:r(9047),Bokeh:r(27885),Circle:r(12578),ColorMatrix:r(15802),Displacement:r(44553),Glow:r(68531),Gradient:r(37102),Pixelate:r(86886),Shadow:r(92322),Shine:r(39563),Vignette:r(56448),Wipe:r(38433)};h=a(!1,h,v),s.exports=h}),25305:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(10312),v=r(23568),h=function(u,l,o){l.x=v(o,"x",0),l.y=v(o,"y",0),l.depth=v(o,"depth",0),l.flipX=v(o,"flipX",!1),l.flipY=v(o,"flipY",!1);var d=v(o,"scale",null);typeof d=="number"?l.setScale(d):d!==null&&(l.scaleX=v(d,"x",1),l.scaleY=v(d,"y",1));var p=v(o,"scrollFactor",null);typeof p=="number"?l.setScrollFactor(p):p!==null&&(l.scrollFactorX=v(p,"x",1),l.scrollFactorY=v(p,"y",1)),l.rotation=v(o,"rotation",0);var f=v(o,"angle",null);f!==null&&(l.angle=f),l.alpha=v(o,"alpha",1);var y=v(o,"origin",null);if(typeof y=="number")l.setOrigin(y);else if(y!==null){var w=v(y,"x",.5),x=v(y,"y",.5);l.setOrigin(w,x)}l.blendMode=v(o,"blendMode",a.NORMAL),l.visible=v(o,"visible",!0);var b=v(o,"add",!0);return b&&u.sys.displayList.add(l),l.preUpdate&&u.sys.updateList.add(l),l};s.exports=h}),13059:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(23568),v=function(h,u){var l=a(u,"anims",null);if(l===null)return h;if(typeof l=="string")h.anims.play(l);else if(typeof l=="object"){var o=h.anims,d=a(l,"key",void 0);if(d){var p=a(l,"startFrame",void 0),f=a(l,"delay",0),y=a(l,"repeat",0),w=a(l,"repeatDelay",0),x=a(l,"yoyo",!1),b=a(l,"play",!1),E=a(l,"delayedPlay",0),C={key:d,delay:f,repeat:y,repeatDelay:w,yoyo:x,startFrame:p};b?o.play(C):E>0?o.playAfterDelay(C,E):o.load(C)}}return h};s.exports=v}),8050:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(73162),h=r(37277),u=r(51708),l=r(44594),o=r(19186),d=new a({Extends:v,initialize:function(f){v.call(this,f),this.sortChildrenFlag=!1,this.scene=f,this.systems=f.sys,this.events=f.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(l.BOOT,this.boot,this),this.events.on(l.START,this.start,this)},boot:function(){this.events.once(l.DESTROY,this.destroy,this)},addChildCallback:function(p){p.displayList&&p.displayList!==this&&p.removeFromDisplayList(),p.parentContainer&&p.parentContainer.remove(p),p.displayList||(this.queueDepthSort(),p.displayList=this,p.emit(u.ADDED_TO_SCENE,p,this.scene),this.events.emit(l.ADDED_TO_SCENE,p,this.scene))},removeChildCallback:function(p){this.queueDepthSort(),p.displayList=null,p.emit(u.REMOVED_FROM_SCENE,p,this.scene),this.events.emit(l.REMOVED_FROM_SCENE,p,this.scene)},start:function(){this.events.once(l.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(o(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(p,f){return p._depth-f._depth},getChildren:function(){return this.list},shutdown:function(){for(var p=this.list,f=p.length;f--;)p[f]&&p[f].destroy(!0);p.length=0,this.events.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(l.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});h.register("DisplayList",d,"displayList"),s.exports=d}),95643:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(53774),h=r(45893),u=r(50792),l=r(51708),o=r(44594),d=new a({Extends:u,initialize:function(f,y){u.call(this),this.scene=f,this.displayList=null,this.type=y,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(l.ADDED_TO_SCENE,this.addedToScene,this),this.on(l.REMOVED_FROM_SCENE,this.removedFromScene,this),f.sys.queueDepthSort()},setActive:function(p){return this.active=p,this},setName:function(p){return this.name=p,this},setState:function(p){return this.state=p,this},setDataEnabled:function(){return this.data||(this.data=new h(this)),this},setData:function(p,f){return this.data||(this.data=new h(this)),this.data.set(p,f),this},incData:function(p,f){return this.data||(this.data=new h(this)),this.data.inc(p,f),this},toggleData:function(p){return this.data||(this.data=new h(this)),this.data.toggle(p),this},getData:function(p){return this.data||(this.data=new h(this)),this.data.get(p)},setInteractive:function(p,f,y){return this.scene.sys.input.enable(this,p,f,y),this},disableInteractive:function(p){return p===void 0&&(p=!1),this.scene.sys.input.disable(this,p),this},removeInteractive:function(p){return p===void 0&&(p=!1),this.scene.sys.input.clear(this),p&&this.scene.sys.input.resetCursor(),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return v(this)},willRender:function(p){var f=this.displayList&&this.displayList.active?this.displayList.willRender(p):!0;return!(!f||d.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&p.id)},getIndexList:function(){for(var p=this,f=this.parentContainer,y=[];f&&(y.unshift(f.getIndex(p)),p=f,f.parentContainer);)f=f.parentContainer;return this.displayList?y.unshift(this.displayList.getIndex(p)):y.unshift(this.scene.sys.displayList.getIndex(p)),y},addToDisplayList:function(p){return p===void 0&&(p=this.scene.sys.displayList),this.displayList&&this.displayList!==p&&this.removeFromDisplayList(),p.exists(this)||(this.displayList=p,p.add(this,!0),p.queueDepthSort(),this.emit(l.ADDED_TO_SCENE,this,this.scene),p.events.emit(o.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var p=this.displayList||this.scene.sys.displayList;return p&&p.exists(this)&&(p.remove(this,!0),p.queueDepthSort(),this.displayList=null,this.emit(l.REMOVED_FROM_SCENE,this,this.scene),p.events.emit(o.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},getDisplayList:function(){var p=null;return this.parentContainer?p=this.parentContainer.list:this.displayList&&(p=this.displayList.list),p},destroy:function(p){!this.scene||this.ignoreDestroy||(p===void 0&&(p=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(l.DESTROY,this,p),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});d.RENDER_MASK=15,s.exports=d}),44603:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(37277),h=r(44594),u=new a({initialize:function(o){this.scene=o,this.systems=o.sys,this.events=o.sys.events,this.displayList,this.updateList,this.events.once(h.BOOT,this.boot,this),this.events.on(h.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(h.DESTROY,this.destroy,this)},start:function(){this.events.once(h.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(h.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});u.register=function(l,o){u.prototype.hasOwnProperty(l)||(u.prototype[l]=o)},u.remove=function(l){u.prototype.hasOwnProperty(l)&&delete u.prototype[l]},v.register("GameObjectCreator",u,"make"),s.exports=u}),39429:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(37277),h=r(44594),u=new a({initialize:function(o){this.scene=o,this.systems=o.sys,this.events=o.sys.events,this.displayList,this.updateList,this.events.once(h.BOOT,this.boot,this),this.events.on(h.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(h.DESTROY,this.destroy,this)},start:function(){this.events.once(h.SHUTDOWN,this.shutdown,this)},existing:function(l){return(l.renderCanvas||l.renderWebGL)&&this.displayList.add(l),l.preUpdate&&this.updateList.add(l),l},shutdown:function(){this.events.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(h.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});u.register=function(l,o){u.prototype.hasOwnProperty(l)||(u.prototype[l]=o)},u.remove=function(l){u.prototype.hasOwnProperty(l)&&delete u.prototype[l]},v.register("GameObjectFactory",u,"add"),s.exports=u}),91296:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(61340),v=new a,h=new a,u=new a,l={camera:v,sprite:h,calc:u},o=function(d,p,f){var y=v,w=h,x=u;return w.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY),y.copyFrom(p.matrix),f?(y.multiplyWithOffset(f,-p.scrollX*d.scrollFactorX,-p.scrollY*d.scrollFactorY),w.e=d.x,w.f=d.y):(w.e-=p.scrollX*d.scrollFactorX,w.f-=p.scrollY*d.scrollFactorY),y.multiply(w,x),l};s.exports=o}),45027:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(25774),h=r(37277),u=r(44594),l=new a({Extends:v,initialize:function(d){v.call(this),this.checkQueue=!0,this.scene=d,this.systems=d.sys,d.sys.events.once(u.BOOT,this.boot,this),d.sys.events.on(u.START,this.start,this)},boot:function(){this.systems.events.once(u.DESTROY,this.destroy,this)},start:function(){var o=this.systems.events;o.on(u.PRE_UPDATE,this.update,this),o.on(u.UPDATE,this.sceneUpdate,this),o.once(u.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(o,d){for(var p=this._active,f=p.length,y=0;y<f;y++){var w=p[y];w.active&&w.preUpdate.call(w,o,d)}},shutdown:function(){for(var o=this._active.length;o--;)this._active[o].destroy(!0);for(o=this._pending.length;o--;)this._pending[o].destroy(!0);for(o=this._destroy.length;o--;)this._destroy[o].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var d=this.systems.events;d.off(u.PRE_UPDATE,this.update,this),d.off(u.UPDATE,this.sceneUpdate,this),d.off(u.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(u.START,this.start,this),this.scene=null,this.systems=null}});h.register("UpdateList",l,"updateList"),s.exports=l}),3217:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h,u,l,o,d,p,f,y,w,x,b,E){var C=v.x-a.displayOriginX+u,T=v.y-a.displayOriginY+l,S=C+v.w,A=T+v.h,P=o.a,R=o.b,L=o.c,D=o.d,$=o.e,F=o.f,N=C*P+T*L+$,k=C*R+T*D+F,j=C*P+A*L+$,W=C*R+A*D+F,G=S*P+A*L+$,K=S*R+A*D+F,z=S*P+T*L+$,X=S*R+T*D+F;d&&(N=Math.round(N),k=Math.round(k),j=Math.round(j),W=Math.round(W),G=Math.round(G),K=Math.round(K),z=Math.round(z),X=Math.round(X)),r.batchQuad(a,N,k,j,W,G,K,z,X,h.u0,h.v0,h.u1,h.v1,p,f,y,w,x,b,E)};s.exports=g}),53048:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h){if(v===void 0&&(v=!1),h===void 0)return h={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},h;var u=r.text,l=u.length,o=r.maxWidth,d=r.wordWrapCharCode,p=Number.MAX_VALUE,f=Number.MAX_VALUE,y=0,w=0,x=r.fontData.chars,b=r.fontData.lineHeight,E=r.letterSpacing,C=r.lineSpacing,T=0,S=0,A=0,P=null,R=r._align,L=0,D=0,$=r.fontSize/r.fontData.size,F=$*r.scaleX,N=$*r.scaleY,k=null,j=0,W=[],G=Number.MAX_VALUE,K=0,z=0,X=0,U,Z,V,J=[],Q=[],ee=null,te=function(St,Je){for(var He=0,_e=0;_e<St.length;_e++){var ht=St.charCodeAt(_e),Dt=Je.chars[ht];Dt&&(He+=Dt.xAdvance)}return He*F};if(o>0){V=u.split(`
`);var ie=[];for(U=0;U<V.length;U++){var le=V[U],de="",fe="",oe="",Ee="";for(Z=0;Z<le.length;Z++)if(A=le.charCodeAt(Z),de+=le[Z],A===d||Z===le.length-1){Ee=oe+de;var ye=te(Ee,r.fontData);ye<=o?oe=Ee:(fe=fe.slice(0,-1),fe+=(fe?`
`:"")+oe,oe=de),de=""}fe=fe.slice(0,-1),fe+=(fe?`
`:"")+oe,ie.push(fe)}u=ie.join(`
`),h.wrappedText=u,l=u.length}var Ce=0;for(U=0;U<l;U++){if(A=u.charCodeAt(U),A===10){ee!==null&&(J.push({word:ee.word,i:ee.i,x:ee.x*F,y:ee.y*N,w:ee.w*F,h:ee.h*N}),ee=null),k=null,W[z]=X,X>K&&(K=X),X<G&&(G=X),z++,X=0,T=0,S=(b+C)*z;continue}if(P=x[A],!!P){if(L=T,D=S,k!==null){var Ie=P.kerning[j];L+=Ie!==void 0?Ie:0}p>L&&(p=L),f>D&&(f=D);var je=L+P.xAdvance,Re=D+b;y<je&&(y=je),w<Re&&(w=Re);var Fe=P.xOffset+P.xAdvance+(Ie!==void 0?Ie:0);A===d?ee!==null&&(J.push({word:ee.word,i:ee.i,x:ee.x*F,y:ee.y*N,w:ee.w*F,h:ee.h*N}),ee=null):(ee===null&&(ee={word:"",i:Ce,x:T,y:S,w:0,h:b}),ee.word=ee.word.concat(u[U]),ee.w+=Fe),Q.push({i:Ce,idx:U,char:u[U],code:A,x:(P.xOffset+L)*$,y:(P.yOffset+S)*$,w:P.width*$,h:P.height*$,t:S*$,r:je*$,b:b*$,line:z,glyph:P}),T+=P.xAdvance+E+(Ie!==void 0?Ie:0),k=P,j=A,X=je*$,Ce++}}if(ee!==null&&J.push({word:ee.word,i:ee.i,x:ee.x*F,y:ee.y*N,w:ee.w*F,h:ee.h*N}),W[z]=X,X>K&&(K=X),X<G&&(G=X),R>0)for(var Ae=0;Ae<Q.length;Ae++){var Xe=Q[Ae];if(R===1){var st=(K-W[Xe.line])/2;Xe.x+=st,Xe.r+=st}else if(R===2){var vt=K-W[Xe.line];Xe.x+=vt,Xe.r+=vt}}var Ge=h.local,nt=h.global;return V=h.lines,Ge.x=p*$,Ge.y=f*$,Ge.width=y*$,Ge.height=w*$,nt.x=r.x-r._displayOriginX+p*F,nt.y=r.y-r._displayOriginY+f*N,nt.width=y*F,nt.height=w*N,V.shortest=G,V.longest=K,V.lengths=W,a&&(Ge.x=Math.ceil(Ge.x),Ge.y=Math.ceil(Ge.y),Ge.width=Math.ceil(Ge.width),Ge.height=Math.ceil(Ge.height),nt.x=Math.ceil(nt.x),nt.y=Math.ceil(nt.y),nt.width=Math.ceil(nt.width),nt.height=Math.ceil(nt.height),V.shortest=Math.ceil(G),V.longest=Math.ceil(K)),v&&(r._displayOriginX=r.originX*Ge.width,r._displayOriginY=r.originY*Ge.height,nt.x=r.x-r._displayOriginX*r.scaleX,nt.y=r.y-r._displayOriginY*r.scaleY,a&&(nt.x=Math.ceil(nt.x),nt.y=Math.ceil(nt.y))),h.words=J,h.characters=Q,h.lines.height=b,h.scale=$,h.scaleX=r.scaleX,h.scaleY=r.scaleY,h};s.exports=g}),61327:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(21859),v=function(h,u,l,o,d,p,f){var y=h.sys.textures.get(l),w=y.get(o),x=h.sys.cache.xml.get(d);if(w&&x){var b=a(x,w,p,f,y);return h.sys.cache.bitmapFont.add(u,{data:b,texture:l,frame:o,fromAtlas:!0}),!0}else return!1};s.exports=v}),6925:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(35154),v=function(h,u){var l=u.width,o=u.height,d=Math.floor(l/2),p=Math.floor(o/2),f=a(u,"chars","");if(f!==""){var y=a(u,"image",""),w=h.sys.textures.getFrame(y),x=w.cutX,b=w.cutY,E=w.source.width,C=w.source.height,T=a(u,"offset.x",0),S=a(u,"offset.y",0),A=a(u,"spacing.x",0),P=a(u,"spacing.y",0),R=a(u,"lineSpacing",0),L=a(u,"charsPerRow",null);L===null&&(L=E/l,L>f.length&&(L=f.length));for(var D=T,$=S,F={retroFont:!0,font:y,size:l,lineHeight:o+R,chars:{}},N=0,k=0;k<f.length;k++){var j=f.charCodeAt(k),W=(x+D)/E,G=(b+$)/C,K=(x+D+l)/E,z=(b+$+o)/C;F.chars[j]={x:D,y:$,width:l,height:o,centerX:d,centerY:p,xOffset:0,yOffset:0,xAdvance:l,data:{},kerning:{},u0:W,v0:G,u1:K,v1:z},N++,N===L?(N=0,D=T,$+=o+P):D+=l+A}var X={data:F,frame:null,texture:y};return X}};s.exports=v}),21859:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function g(a,v){return parseInt(a.getAttribute(v),10)}var r=function(a,v,h,u,l){h===void 0&&(h=0),u===void 0&&(u=0);var o=v.cutX,d=v.cutY,p=v.source.width,f=v.source.height,y=v.sourceIndex,w={},x=a.getElementsByTagName("info")[0],b=a.getElementsByTagName("common")[0];w.font=x.getAttribute("face"),w.size=g(x,"size"),w.lineHeight=g(b,"lineHeight")+u,w.chars={};var E=a.getElementsByTagName("char"),C=v!==void 0&&v.trimmed;if(C)var T=v.height,S=v.width;for(var A=0;A<E.length;A++){var P=E[A],R=g(P,"id"),L=String.fromCharCode(R),D=g(P,"x"),$=g(P,"y"),F=g(P,"width"),N=g(P,"height");C&&(D<S&&(S=D),$<T&&(T=$)),C&&T!==0&&S!==0&&(D-=v.x,$-=v.y);var k=(o+D)/p,j=(d+$)/f,W=(o+D+F)/p,G=(d+$+N)/f;if(w.chars[R]={x:D,y:$,width:F,height:N,centerX:Math.floor(F/2),centerY:Math.floor(N/2),xOffset:g(P,"xoffset"),yOffset:g(P,"yoffset"),xAdvance:g(P,"xadvance")+h,data:{},kerning:{},u0:k,v0:j,u1:W,v1:G},l&&F!==0&&N!==0){var K=l.add(L,y,D,$,F,N);K&&K.setUVs(F,N,k,j,W,G)}}var z=a.getElementsByTagName("kerning");for(A=0;A<z.length;A++){var X=z[A],U=g(X,"first"),Z=g(X,"second"),V=g(X,"amount");w.chars[Z].kerning[U]=V}return w};s.exports=r}),196:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(87662),v=r(79291),h={Parse:r(6925)};h=v(!1,h,a),s.exports=h}),87662:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};s.exports=g}),2638:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(22186),v=r(83419),h=r(12310),u=new v({Extends:a,Mixins:[h],initialize:function(o,d,p,f,y,w,x){a.call(this,o,d,p,f,y,w,x),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(l,o){return this.cropWidth=l,this.cropHeight=o,this},setDisplayCallback:function(l){return this.displayCallback=l,this},setScrollX:function(l){return this.scrollX=l,this},setScrollY:function(l){return this.scrollY=l,this}});s.exports=u}),86741:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(20926),v=function(h,u,l,o){var d=u._text,p=d.length,f=h.currentContext;if(!(p===0||!a(h,f,u,l,o))){l.addToRenderList(u);var y=u.fromAtlas?u.frame:u.texture.frames.__BASE,w=u.displayCallback,x=u.callbackData,b=u.fontData.chars,E=u.fontData.lineHeight,C=u._letterSpacing,T=0,S=0,A=0,P=null,R=0,L=0,D=0,$=0,F=0,N=0,k=null,j=0,W=u.frame.source.image,G=y.cutX,K=y.cutY,z=0,X=0,U=u._fontSize/u.fontData.size,Z=u._align,V=0,J=0;u.getTextBounds(!1);var Q=u._bounds.lines;Z===1?J=(Q.longest-Q.lengths[0])/2:Z===2&&(J=Q.longest-Q.lengths[0]),f.translate(-u.displayOriginX,-u.displayOriginY);var ee=l.roundPixels;u.cropWidth>0&&u.cropHeight>0&&(f.beginPath(),f.rect(0,0,u.cropWidth,u.cropHeight),f.clip());for(var te=0;te<p;te++){if(X=U,z=0,A=d.charCodeAt(te),A===10){V++,Z===1?J=(Q.longest-Q.lengths[V])/2:Z===2&&(J=Q.longest-Q.lengths[V]),T=0,S+=E,k=null;continue}if(P=b[A],!!P){if(R=G+P.x,L=K+P.y,D=P.width,$=P.height,F=P.xOffset+T-u.scrollX,N=P.yOffset+S-u.scrollY,k!==null){var ie=P.kerning[j];F+=ie!==void 0?ie:0}if(w){x.index=te,x.charCode=A,x.x=F,x.y=N,x.scale=X,x.rotation=z,x.data=P.data;var le=w(x);F=le.x,N=le.y,X=le.scale,z=le.rotation}F*=X,N*=X,F+=J,T+=P.xAdvance+C+(ie!==void 0?ie:0),k=P,j=A,!(D===0||$===0||A===32)&&(ee&&(F=Math.round(F),N=Math.round(N)),f.save(),f.translate(F,N),f.rotate(z),f.scale(X,X),f.drawImage(W,R,L,D,$,0,0,D,$),f.restore())}}f.restore()}};s.exports=v}),11164:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(2638),v=r(25305),h=r(44603),u=r(23568);h.register("dynamicBitmapText",function(l,o){l===void 0&&(l={});var d=u(l,"font",""),p=u(l,"text",""),f=u(l,"size",!1),y=new a(this.scene,0,0,d,p,f);return o!==void 0&&(l.add=o),v(this.scene,y,l),y})}),72566:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(2638),v=r(39429);v.register("dynamicBitmapText",function(h,u,l,o,d){return this.displayList.add(new a(this.scene,h,u,l,o,d))})}),12310:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(29747),v=a,h=a;v=r(73482),h=r(86741),s.exports={renderWebGL:v,renderCanvas:h}}),73482:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(91296),v=r(61340),h=r(70554),u=new v,l=function(o,d,p,f){var y=d.text,w=y.length;if(w!==0){p.addToRenderList(d);var x=o.pipelines.set(d.pipeline,d),b=a(d,p,f);o.pipelines.preBatch(d);var E=b.sprite,C=b.calc,T=u,S=d.cropWidth>0||d.cropHeight>0;S&&(x.flush(),o.pushScissor(C.tx,C.ty,d.cropWidth*C.scaleX,d.cropHeight*C.scaleY));var A=d.frame,P=A.glTexture,R=d.tintFill,L=h.getTintAppendFloatAlpha(d.tintTopLeft,p.alpha*d._alphaTL),D=h.getTintAppendFloatAlpha(d.tintTopRight,p.alpha*d._alphaTR),$=h.getTintAppendFloatAlpha(d.tintBottomLeft,p.alpha*d._alphaBL),F=h.getTintAppendFloatAlpha(d.tintBottomRight,p.alpha*d._alphaBR),N=x.setGameObject(d),k=0,j=0,W=0,G=0,K=d.letterSpacing,z,X=0,U=0,Z,V=d.scrollX,J=d.scrollY,Q=d.fontData,ee=Q.chars,te=Q.lineHeight,ie=d.fontSize/Q.size,le=0,de=d._align,fe=0,oe=0,Ee=d.getTextBounds(!1);d.maxWidth>0&&(y=Ee.wrappedText,w=y.length);var ye=d._bounds.lines;de===1?oe=(ye.longest-ye.lengths[0])/2:de===2&&(oe=ye.longest-ye.lengths[0]);for(var Ce=p.roundPixels,Ie=d.displayCallback,je=d.callbackData,Re=0;Re<w;Re++){if(W=y.charCodeAt(Re),W===10){fe++,de===1?oe=(ye.longest-ye.lengths[fe])/2:de===2&&(oe=ye.longest-ye.lengths[fe]),k=0,j+=te,Z=null;continue}if(z=ee[W],!!z){X=z.width,U=z.height;var Fe=z.xOffset+k-V,Ae=z.yOffset+j-J;if(Z!==null){var Xe=z.kerning[G]||0;Fe+=Xe,k+=Xe}if(k+=z.xAdvance+K,Z=z,G=W,!(X===0||U===0||W===32)){if(ie=d.fontSize/d.fontData.size,le=0,Ie){je.color=0,je.tint.topLeft=L,je.tint.topRight=D,je.tint.bottomLeft=$,je.tint.bottomRight=F,je.index=Re,je.charCode=W,je.x=Fe,je.y=Ae,je.scale=ie,je.rotation=le,je.data=z.data;var st=Ie(je);Fe=st.x,Ae=st.y,ie=st.scale,le=st.rotation,st.color?(L=st.color,D=st.color,$=st.color,F=st.color):(L=st.tint.topLeft,D=st.tint.topRight,$=st.tint.bottomLeft,F=st.tint.bottomRight),L=h.getTintAppendFloatAlpha(L,p.alpha*d._alphaTL),D=h.getTintAppendFloatAlpha(D,p.alpha*d._alphaTR),$=h.getTintAppendFloatAlpha($,p.alpha*d._alphaBL),F=h.getTintAppendFloatAlpha(F,p.alpha*d._alphaBR)}Fe*=ie,Ae*=ie,Fe-=d.displayOriginX,Ae-=d.displayOriginY,Fe+=oe,T.applyITRS(Fe,Ae,le,ie,ie),C.multiply(T,E);var vt=z.u0,Ge=z.v0,nt=z.u1,St=z.v1,Je=X,He=U,_e=E.e,ht=E.f,Dt=He*E.c+E.e,ut=He*E.d+E.f,xt=Je*E.a+He*E.c+E.e,tt=Je*E.b+He*E.d+E.f,fn=Je*E.a+E.e,On=Je*E.b+E.f;Ce&&(_e=Math.round(_e),ht=Math.round(ht),Dt=Math.round(Dt),ut=Math.round(ut),xt=Math.round(xt),tt=Math.round(tt),fn=Math.round(fn),On=Math.round(On)),x.shouldFlush(6)&&(x.flush(),N=x.setGameObject(d)),x.batchQuad(d,_e,ht,Dt,ut,xt,tt,fn,On,vt,Ge,nt,St,L,D,$,F,R,P,N)}}}S&&(x.flush(),o.popScissor()),o.pipelines.postBatch(d)}};s.exports=l}),22186:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(45319),h=r(31401),u=r(95643),l=r(53048),o=r(61327),d=r(21859),p=r(87841),f=r(18658),y=new a({Extends:u,Mixins:[h.Alpha,h.BlendMode,h.Depth,h.GetBounds,h.Mask,h.Origin,h.Pipeline,h.PostPipeline,h.ScrollFactor,h.Texture,h.Tint,h.Transform,h.Visible,f],initialize:function(x,b,E,C,T,S,A){T===void 0&&(T=""),A===void 0&&(A=0),u.call(this,x,"BitmapText"),this.font=C;var P=this.scene.sys.cache.bitmapFont.get(C);if(!P)throw new Error("Invalid BitmapText key: "+C);this.fontData=P.data,this._text="",this._fontSize=S||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=A,this._bounds=l(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=P.fromAtlas,this.setTexture(P.texture,P.frame),this.setPosition(b,E),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(T)},setLeftAlign:function(){return this._align=y.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=y.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=y.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(w){return this._fontSize=w,this._dirty=!0,this},setLetterSpacing:function(w){return w===void 0&&(w=0),this._letterSpacing=w,this._dirty=!0,this},setLineSpacing:function(w){return w===void 0&&(w=0),this.lineSpacing=w,this},setText:function(w){return!w&&w!==0&&(w=""),Array.isArray(w)&&(w=w.join(`
`)),w!==this.text&&(this._text=w.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(w,x,b,E){return w===void 0&&(w=0),x===void 0&&(x=0),b===void 0&&(b=0),E===void 0&&(E=.5),this.dropShadowX=w,this.dropShadowY=x,this.dropShadowColor=b,this.dropShadowAlpha=E,this},setCharacterTint:function(w,x,b,E,C,T,S){w===void 0&&(w=0),x===void 0&&(x=1),b===void 0&&(b=!1),E===void 0&&(E=-1),C===void 0&&(C=E,T=E,S=E);var A=this.text.length;x===-1&&(x=A),w<0&&(w=A+w),w=v(w,0,A-1);for(var P=v(w+x,w,A),R=this.charColors,L=w;L<P;L++){var D=R[L];if(E===-1)R[L]=null;else{var $=b?1:0;D?(D.tintEffect=$,D.tintTL=E,D.tintTR=C,D.tintBL=T,D.tintBR=S):R[L]={tintEffect:$,tintTL:E,tintTR:C,tintBL:T,tintBR:S}}}return this},setWordTint:function(w,x,b,E,C,T,S){x===void 0&&(x=1);for(var A=this.getTextBounds(),P=A.words,R=typeof w=="number",L=0,D=0;D<P.length;D++){var $=P[D];if((R&&D===w||!R&&$.word===w)&&(this.setCharacterTint($.i,$.word.length,b,E,C,T,S),L++,L===x))return this}return this},getTextBounds:function(w){var x=this._bounds;return(this._dirty||w||this.scaleX!==x.scaleX||this.scaleY!==x.scaleY)&&(l(this,w,!0,x),this._dirty=!1),x},getCharacterAt:function(w,x,b){for(var E=this.getLocalPoint(w,x,null,b),C=this.getTextBounds(),T=C.characters,S=new p,A=0;A<T.length;A++){var P=T[A];if(S.setTo(P.x,P.t,P.r-P.x,P.b),S.contains(E.x,E.y))return P}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(w,x,b){x===void 0&&(x=this._fontSize),b===void 0&&(b=this._align);var E=this.scene.sys.cache.bitmapFont.get(w);return E&&(this.font=w,this.fontData=E.data,this._fontSize=x,this._align=b,this.fromAtlas=E.fromAtlas===!0,this.setTexture(E.texture,E.frame),l(this,!1,!0,this._bounds)),this},setMaxWidth:function(w,x){return this._maxWidth=w,this._dirty=!0,x!==void 0&&(this.wordWrapCharCode=x),this},setDisplaySize:function(w,x){this.setScale(1,1),this.getTextBounds(!1);var b=w/this.width,E=x/this.height;return this.setScale(b,E),this},align:{set:function(w){this._align=w,this._dirty=!0},get:function(){return this._align}},text:{set:function(w){this.setText(w)},get:function(){return this._text}},fontSize:{set:function(w){this._fontSize=w,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(w){this._letterSpacing=w,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(w){this._lineSpacing=w,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(w){this._maxWidth=w,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{set:function(w){this.setScaleX(1),this.getTextBounds(!1);var x=w/this.width;this.setScaleX(x)},get:function(){return this.width}},displayHeight:{set:function(w){this.setScaleY(1),this.getTextBounds(!1);var x=w/this.height;this.setScaleY(x)},get:function(){return this.height}},toJSON:function(){var w=h.ToJSON(this),x={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return w.data=x,w},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});y.ALIGN_LEFT=0,y.ALIGN_CENTER=1,y.ALIGN_RIGHT=2,y.ParseFromAtlas=o,y.ParseXMLBitmapFont=d,s.exports=y}),37289:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(20926),v=function(h,u,l,o){var d=u._text,p=d.length,f=h.currentContext;if(!(p===0||!a(h,f,u,l,o))){l.addToRenderList(u);var y=u.fromAtlas?u.frame:u.texture.frames.__BASE,w=u.fontData.chars,x=u.fontData.lineHeight,b=u._letterSpacing,E=u._lineSpacing,C=0,T=0,S=0,A=null,P=0,R=0,L=0,D=0,$=0,F=0,N=null,k=0,j=y.source.image,W=y.cutX,G=y.cutY,K=u._fontSize/u.fontData.size,z=u._align,X=0,U=0,Z=u.getTextBounds(!1);u.maxWidth>0&&(d=Z.wrappedText,p=d.length);var V=u._bounds.lines;z===1?U=(V.longest-V.lengths[0])/2:z===2&&(U=V.longest-V.lengths[0]),f.translate(-u.displayOriginX,-u.displayOriginY);for(var J=l.roundPixels,Q=0;Q<p;Q++){if(S=d.charCodeAt(Q),S===10){X++,z===1?U=(V.longest-V.lengths[X])/2:z===2&&(U=V.longest-V.lengths[X]),C=0,T+=x+E,N=null;continue}if(A=w[S],!!A){if(P=W+A.x,R=G+A.y,L=A.width,D=A.height,$=A.xOffset+C,F=A.yOffset+T,N!==null){var ee=A.kerning[k];$+=ee!==void 0?ee:0}$*=K,F*=K,$+=U,C+=A.xAdvance+b+(ee!==void 0?ee:0),N=A,k=S,!(L===0||D===0||S===32)&&(J&&($=Math.round($),F=Math.round(F)),f.save(),f.translate($,F),f.scale(K,K),f.drawImage(j,P,R,L,D,0,0,L,D),f.restore())}}f.restore()}};s.exports=v}),57336:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(22186),v=r(25305),h=r(44603),u=r(23568),l=r(35154);h.register("bitmapText",function(o,d){o===void 0&&(o={});var p=l(o,"font",""),f=u(o,"text",""),y=u(o,"size",!1),w=l(o,"align",0),x=new a(this.scene,0,0,p,f,y,w);return d!==void 0&&(o.add=d),v(this.scene,x,o),x})}),34914:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(22186),v=r(39429);v.register("bitmapText",function(h,u,l,o,d,p){return this.displayList.add(new a(this.scene,h,u,l,o,d,p))})}),18658:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(29747),v=a,h=a;v=r(33590),h=r(37289),s.exports={renderWebGL:v,renderCanvas:h}}),33590:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(3217),v=r(91296),h=r(70554),u=function(l,o,d,p){var f=o._text,y=f.length;if(y!==0){d.addToRenderList(o);var w=l.pipelines.set(o.pipeline,o),x=v(o,d,p).calc;l.pipelines.preBatch(o);var b=d.roundPixels,E=d.alpha,C=o.charColors,T=o.tintFill,S=h.getTintAppendFloatAlpha,A=S(o.tintTopLeft,E*o._alphaTL),P=S(o.tintTopRight,E*o._alphaTR),R=S(o.tintBottomLeft,E*o._alphaBL),L=S(o.tintBottomRight,E*o._alphaBR),D=o.frame.glTexture,$=w.setGameObject(o),F=o.getTextBounds(!1),N,k,j,W=F.characters,G=o.dropShadowX,K=o.dropShadowY,z=G!==0||K!==0;if(z){var X=o.dropShadowColor,U=o.dropShadowAlpha,Z=S(X,E*U*o._alphaTL),V=S(X,E*U*o._alphaTR),J=S(X,E*U*o._alphaBL),Q=S(X,E*U*o._alphaBR);for(N=0;N<W.length;N++)k=W[N],j=k.glyph,!(k.code===32||j.width===0||j.height===0)&&a(w,o,k,j,G,K,x,b,Z,V,J,Q,1,D,$)}for(N=0;N<W.length;N++)if(k=W[N],j=k.glyph,!(k.code===32||j.width===0||j.height===0))if(w.shouldFlush(6)&&(w.flush(),$=w.setGameObject(o)),C[k.i]){var ee=C[k.i],te=ee.tintEffect,ie=S(ee.tintTL,E*o._alphaTL),le=S(ee.tintTR,E*o._alphaTR),de=S(ee.tintBL,E*o._alphaBL),fe=S(ee.tintBR,E*o._alphaBR);a(w,o,k,j,0,0,x,b,ie,le,de,fe,te,D,$)}else a(w,o,k,j,0,0,x,b,A,P,R,L,T,D,$);l.pipelines.postBatch(o)}};s.exports=u}),6107:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(48011),v=r(46590),h=r(83419),u=r(31401),l=r(4327),o=r(95643),d=r(73162),p=new h({Extends:o,Mixins:[u.Alpha,u.BlendMode,u.Depth,u.Mask,u.Pipeline,u.PostPipeline,u.ScrollFactor,u.Size,u.Texture,u.Transform,u.Visible,a],initialize:function(y,w,x,b,E){o.call(this,y,"Blitter"),this.setTexture(b,E),this.setPosition(w,x),this.initPipeline(),this.initPostPipeline(),this.children=new d,this.renderList=[],this.dirty=!1},create:function(f,y,w,x,b){x===void 0&&(x=!0),b===void 0&&(b=this.children.length),w===void 0?w=this.frame:w instanceof l||(w=this.texture.get(w));var E=new v(this,f,y,w,x);return this.children.addAt(E,b,!1),this.dirty=!0,E},createFromCallback:function(f,y,w,x){for(var b=this.createMultiple(y,w,x),E=0;E<b.length;E++){var C=b[E];f.call(this,C,E)}return b},createMultiple:function(f,y,w){y===void 0&&(y=this.frame.name),w===void 0&&(w=!0),Array.isArray(y)||(y=[y]);var x=[],b=this;return y.forEach(function(E){for(var C=0;C<f;C++)x.push(b.create(0,0,E,w))}),x},childCanRender:function(f){return f.visible&&f.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});s.exports=p}),72396:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h){var u=a.getRenderList();if(u.length!==0){var l=r.currentContext,o=v.alpha*a.alpha;if(o!==0){v.addToRenderList(a),l.globalCompositeOperation=r.blendModes[a.blendMode],l.imageSmoothingEnabled=!a.frame.source.scaleMode;var d=a.x-v.scrollX*a.scrollFactorX,p=a.y-v.scrollY*a.scrollFactorY;l.save(),h&&h.copyToContext(l);for(var f=v.roundPixels,y=0;y<u.length;y++){var w=u[y],x=w.flipX||w.flipY,b=w.frame,E=b.canvasData,C=b.x,T=b.y,S=1,A=1,P=w.alpha*o;P!==0&&(l.globalAlpha=P,x?(w.flipX&&(S=-1,C-=E.width),w.flipY&&(A=-1,T-=E.height),E.width>0&&E.height>0&&(l.save(),l.translate(w.x+d,w.y+p),l.scale(S,A),l.drawImage(b.source.image,E.x,E.y,E.width,E.height,C,T,E.width,E.height),l.restore())):(f&&(C=Math.round(C),T=Math.round(T)),E.width>0&&E.height>0&&l.drawImage(b.source.image,E.x,E.y,E.width,E.height,C+w.x+d,T+w.y+p,E.width,E.height)))}l.restore()}}};s.exports=g}),9403:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(6107),v=r(25305),h=r(44603),u=r(23568);h.register("blitter",function(l,o){l===void 0&&(l={});var d=u(l,"key",null),p=u(l,"frame",null),f=new a(this.scene,0,0,d,p);return o!==void 0&&(l.add=o),v(this.scene,f,l),f})}),12709:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(6107),v=r(39429);v.register("blitter",function(h,u,l,o){return this.displayList.add(new a(this.scene,h,u,l,o))})}),48011:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(29747),v=a,h=a;v=r(99485),h=r(72396),s.exports={renderWebGL:v,renderCanvas:h}}),99485:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(61340),v=r(70554),h=new a,u=function(l,o,d,p){var f=o.getRenderList(),y=d.alpha*o.alpha;if(!(f.length===0||y===0)){d.addToRenderList(o);var w=l.pipelines.set(this.pipeline,o),x=d.scrollX*o.scrollFactorX,b=d.scrollY*o.scrollFactorY,E=h.copyFrom(d.matrix);p&&(E.multiplyWithOffset(p,-x,-b),x=0,b=0);var C=o.x-x,T=o.y-b,S=-1,A=!1,P=d.roundPixels;l.pipelines.preBatch(o);for(var R=0;R<f.length;R++){var L=f[R],D=L.frame,$=L.alpha*y;if($!==0){var F=D.width,N=D.height,k=C+L.x+D.x,j=T+L.y+D.y;L.flipX&&(F*=-1,k+=D.width),L.flipY&&(N*=-1,j+=D.height);var W=E.setQuad(k,j,k+F,j+N,P),G=v.getTintAppendFloatAlpha(L.tint,$);if(D.sourceIndex!==S){var K=w.setGameObject(o,D);S=D.sourceIndex}w.batchQuad(o,W[0],W[1],W[2],W[3],W[4],W[5],W[6],W[7],D.u0,D.v0,D.u1,D.v1,G,G,G,G,A,D.glTexture,K)&&(S=-1)}}l.pipelines.postBatch(o)}};s.exports=u}),46590:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(4327),h=new a({initialize:function(l,o,d,p,f){this.parent=l,this.x=o,this.y=d,this.frame=p,this.data={},this.tint=16777215,this._visible=f,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(u){return u===void 0?this.frame=this.parent.frame:u instanceof v&&u.texture===this.parent.texture?this.frame=u:this.frame=this.parent.texture.get(u),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(u,l,o){return this.x=u,this.y=l,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,o&&this.setFrame(o),this},setPosition:function(u,l){return this.x=u,this.y=l,this},setFlipX:function(u){return this.flipX=u,this},setFlipY:function(u){return this.flipY=u,this},setFlip:function(u,l){return this.flipX=u,this.flipY=l,this},setVisible:function(u){return this.visible=u,this},setAlpha:function(u){return this.alpha=u,this},setTint:function(u){return this.tint=u,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(u){this.parent.dirty|=this._visible!==u,this._visible=u}},alpha:{get:function(){return this._alpha},set:function(u){this.parent.dirty|=this._alpha>0!=u>0,this._alpha=u}}});s.exports=h}),16005:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(45319),v=2,h={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(u,l,o,d){return u===void 0&&(u=1),l===void 0?this.alpha=u:(this._alphaTL=a(u,0,1),this._alphaTR=a(l,0,1),this._alphaBL=a(o,0,1),this._alphaBR=a(d,0,1)),this},alpha:{get:function(){return this._alpha},set:function(u){var l=a(u,0,1);this._alpha=l,this._alphaTL=l,this._alphaTR=l,this._alphaBL=l,this._alphaBR=l,l===0?this.renderFlags&=~v:this.renderFlags|=v}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(u){var l=a(u,0,1);this._alphaTL=l,l!==0&&(this.renderFlags|=v)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(u){var l=a(u,0,1);this._alphaTR=l,l!==0&&(this.renderFlags|=v)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(u){var l=a(u,0,1);this._alphaBL=l,l!==0&&(this.renderFlags|=v)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(u){var l=a(u,0,1);this._alphaBR=l,l!==0&&(this.renderFlags|=v)}}};s.exports=h}),88509:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(45319),v=2,h={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(u){return u===void 0&&(u=1),this.alpha=u,this},alpha:{get:function(){return this._alpha},set:function(u){var l=a(u,0,1);this._alpha=l,l===0?this.renderFlags&=~v:this.renderFlags|=v}}};s.exports=h}),90065:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(10312),v={_blendMode:a.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(h){typeof h=="string"&&(h=a[h]),h|=0,h>=-1&&(this._blendMode=h)}},setBlendMode:function(h){return this.blendMode=h,this}};s.exports=v}),94215:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(r){this.scaleX=r/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(r){this.scaleY=r/this.height}},setSize:function(r,a){return this.width=r,this.height=a,this},setDisplaySize:function(r,a){return this.displayWidth=r,this.displayHeight=a,this}};s.exports=g}),61683:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={texture:null,frame:null,isCropped:!1,setCrop:function(r,a,v,h){if(r===void 0)this.isCropped=!1;else if(this.frame){if(typeof r=="number")this.frame.setCropUVs(this._crop,r,a,v,h,this.flipX,this.flipY);else{var u=r;this.frame.setCropUVs(this._crop,u.x,u.y,u.width,u.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};s.exports=g}),89272:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(37105),v={_depth:0,depth:{get:function(){return this._depth},set:function(h){this.displayList&&this.displayList.queueDepthSort(),this._depth=h}},setDepth:function(h){return h===void 0&&(h=0),this.depth=h,this},setToTop:function(){var h=this.getDisplayList();return h&&a.BringToTop(h,this),this},setToBack:function(){var h=this.getDisplayList();return h&&a.SendToBack(h,this),this},setAbove:function(h){var u=this.getDisplayList();return u&&h&&a.MoveAbove(u,this,h),this},setBelow:function(h){var u=this.getDisplayList();return u&&h&&a.MoveBelow(u,this,h),this}};s.exports=v}),47059:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(66064),h=r(19133),u=new a({initialize:function(o,d){this.gameObject=o,this.isPost=d,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(l){return l===void 0&&(l=0),this.padding=l,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(l){if(!this.isPost){var o=this.gameObject.scene.sys.renderer;o&&o.pipelines?(this.gameObject.pipeline=o.pipelines.FX_PIPELINE,l!==void 0&&(this.padding=l),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var l=this.list,o=0;o<l.length;o++)l[o].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(l){var o;if(this.isPost){var d=this.gameObject.getPostPipeline(String(l.type));for(Array.isArray(d)||(d=[d]),o=0;o<d.length;o++){var p=d[o];if(p.controller===l){this.gameObject.removePostPipeline(p),l.destroy();break}}}else{var f=this.list;for(o=0;o<f.length;o++)f[o]===l&&(h(f,o),l.destroy())}return this.gameObject},disable:function(l){return l===void 0&&(l=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,l&&this.clear(),this.gameObject},add:function(l,o){if(this.isPost){var d=String(l.type);this.gameObject.setPostPipeline(d,o);var p=this.gameObject.getPostPipeline(d);if(p)return Array.isArray(p)&&(p=p.pop()),p&&(p.controller=l),l}else return this.enabled||this.enable(),this.list.push(l),l},addGlow:function(l,o,d,p,f,y){return this.add(new v.Glow(this.gameObject,l,o,d,p),{quality:f,distance:y})},addShadow:function(l,o,d,p,f,y,w){return this.add(new v.Shadow(this.gameObject,l,o,d,p,f,y,w))},addPixelate:function(l){return this.add(new v.Pixelate(this.gameObject,l))},addVignette:function(l,o,d,p){return this.add(new v.Vignette(this.gameObject,l,o,d,p))},addShine:function(l,o,d,p){return this.add(new v.Shine(this.gameObject,l,o,d,p))},addBlur:function(l,o,d,p,f,y){return this.add(new v.Blur(this.gameObject,l,o,d,p,f,y))},addGradient:function(l,o,d,p,f,y,w,x){return this.add(new v.Gradient(this.gameObject,l,o,d,p,f,y,w,x))},addBloom:function(l,o,d,p,f,y){return this.add(new v.Bloom(this.gameObject,l,o,d,p,f,y))},addColorMatrix:function(){return this.add(new v.ColorMatrix(this.gameObject))},addCircle:function(l,o,d,p,f){return this.add(new v.Circle(this.gameObject,l,o,d,p,f))},addBarrel:function(l){return this.add(new v.Barrel(this.gameObject,l))},addDisplacement:function(l,o,d){return this.add(new v.Displacement(this.gameObject,l,o,d))},addWipe:function(l,o,d){return this.add(new v.Wipe(this.gameObject,l,o,d))},addReveal:function(l,o,d){return this.add(new v.Wipe(this.gameObject,l,o,d,!0))},addBokeh:function(l,o,d){return this.add(new v.Bokeh(this.gameObject,l,o,d))},addTiltShift:function(l,o,d,p,f,y){return this.add(new v.Bokeh(this.gameObject,l,o,d,!0,p,f,y))},destroy:function(){this.clear(),this.gameObject=null}});s.exports=u}),54434:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(r){return this.flipX=r,this},setFlipY:function(r){return this.flipY=r,this},setFlip:function(r,a){return this.flipX=r,this.flipY=a,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};s.exports=g}),8004:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(87841),v=r(11520),h=r(26099),u={prepareBoundsOutput:function(l,o){if(o===void 0&&(o=!1),this.rotation!==0&&v(l,this.x,this.y,this.rotation),o&&this.parentContainer){var d=this.parentContainer.getBoundsTransformMatrix();d.transformPoint(l.x,l.y,l)}return l},getCenter:function(l,o){return l===void 0&&(l=new h),l.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,l.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(l,o)},getTopLeft:function(l,o){return l||(l=new h),l.x=this.x-this.displayWidth*this.originX,l.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(l,o)},getTopCenter:function(l,o){return l||(l=new h),l.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,l.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(l,o)},getTopRight:function(l,o){return l||(l=new h),l.x=this.x-this.displayWidth*this.originX+this.displayWidth,l.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(l,o)},getLeftCenter:function(l,o){return l||(l=new h),l.x=this.x-this.displayWidth*this.originX,l.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(l,o)},getRightCenter:function(l,o){return l||(l=new h),l.x=this.x-this.displayWidth*this.originX+this.displayWidth,l.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(l,o)},getBottomLeft:function(l,o){return l||(l=new h),l.x=this.x-this.displayWidth*this.originX,l.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(l,o)},getBottomCenter:function(l,o){return l||(l=new h),l.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,l.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(l,o)},getBottomRight:function(l,o){return l||(l=new h),l.x=this.x-this.displayWidth*this.originX+this.displayWidth,l.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(l,o)},getBounds:function(l){l===void 0&&(l=new a);var o,d,p,f,y,w,x,b;if(this.parentContainer){var E=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(l),E.transformPoint(l.x,l.y,l),o=l.x,d=l.y,this.getTopRight(l),E.transformPoint(l.x,l.y,l),p=l.x,f=l.y,this.getBottomLeft(l),E.transformPoint(l.x,l.y,l),y=l.x,w=l.y,this.getBottomRight(l),E.transformPoint(l.x,l.y,l),x=l.x,b=l.y}else this.getTopLeft(l),o=l.x,d=l.y,this.getTopRight(l),p=l.x,f=l.y,this.getBottomLeft(l),y=l.x,w=l.y,this.getBottomRight(l),x=l.x,b=l.y;return l.x=Math.min(o,p,y,x),l.y=Math.min(d,f,w,b),l.width=Math.max(o,p,y,x)-l.x,l.height=Math.max(d,f,w,b)-l.y,l}};s.exports=u}),8573:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(6858),v=r(80661),h={mask:null,setMask:function(u){return this.mask=u,this},clearMask:function(u){return u===void 0&&(u=!1),u&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(u,l,o,d,p){return u===void 0&&(this.texture||this.shader||this.geom)&&(u=this),new a(this.scene,u,l,o,d,p)},createGeometryMask:function(u){return u===void 0&&(this.type==="Graphics"||this.geom)&&(u=this),new v(this.scene,u)}};s.exports=h}),27387:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(r){this._displayOriginX=r,this.originX=r/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(r){this._displayOriginY=r,this.originY=r/this.height}},setOrigin:function(r,a){return r===void 0&&(r=.5),a===void 0&&(a=r),this.originX=r,this.originY=a,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(r,a){return r===void 0&&(r=0),a===void 0&&(a=r),this.displayOriginX=r,this.displayOriginY=a,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};s.exports=g}),37640:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(39506),v=r(57355),h=r(35154),u=r(86353),l=r(26099),o={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:u.PLAYING_FORWARD,setPath:function(d,p){p===void 0&&(p=this.pathConfig);var f=this.pathTween;return f&&f.isPlaying()&&f.stop(),this.path=d,p&&this.startFollow(p),this},setRotateToPath:function(d,p){return p===void 0&&(p=0),this.rotateToPath=d,this.pathRotationOffset=p,this},isFollowing:function(){var d=this.pathTween;return d&&d.isPlaying()},startFollow:function(d,p){d===void 0&&(d={}),p===void 0&&(p=0);var f=this.pathTween;f&&f.isPlaying()&&f.stop(),typeof d=="number"&&(d={duration:d}),d.from=h(d,"from",0),d.to=h(d,"to",1);var y=v(d,"positionOnPath",!1);this.rotateToPath=v(d,"rotateToPath",!1),this.pathRotationOffset=h(d,"rotationOffset",0);var w=h(d,"startAt",p);if(w&&(d.onStart=function(b){var E=b.data[0];E.progress=w,E.elapsed=E.duration*w;var C=E.ease(E.progress);E.current=E.start+(E.end-E.start)*C,E.setTargetValue()}),this.pathOffset||(this.pathOffset=new l(this.x,this.y)),this.pathVector||(this.pathVector=new l),this.pathDelta||(this.pathDelta=new l),this.pathDelta.reset(),d.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(d),this.path.getStartPoint(this.pathOffset),y&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=u.PLAYING_FORWARD,this.rotateToPath){var x=this.path.getPoint(.1);this.rotation=Math.atan2(x.y-this.y,x.x-this.x)+a(this.pathRotationOffset)}return this.pathConfig=d,this},pauseFollow:function(){var d=this.pathTween;return d&&d.isPlaying()&&d.pause(),this},resumeFollow:function(){var d=this.pathTween;return d&&d.isPaused()&&d.resume(),this},stopFollow:function(){var d=this.pathTween;return d&&d.isPlaying()&&d.stop(),this},pathUpdate:function(){var d=this.pathTween;if(d&&d.data){var p=d.data[0],f=this.pathDelta,y=this.pathVector;if(f.copy(y).negate(),p.state===u.COMPLETE){this.path.getPoint(p.end,y),f.add(y),y.add(this.pathOffset),this.setPosition(y.x,y.y);return}else if(p.state!==u.PLAYING_FORWARD&&p.state!==u.PLAYING_BACKWARD)return;this.path.getPoint(d.getValue(),y),f.add(y),y.add(this.pathOffset);var w=this.x,x=this.y;this.setPosition(y.x,y.y);var b=this.x-w,E=this.y-x;if(b===0&&E===0)return;if(p.state!==this._prevDirection){this._prevDirection=p.state;return}this.rotateToPath&&(this.rotation=Math.atan2(E,b)+a(this.pathRotationOffset))}}};s.exports=o}),72699:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(62644),v={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(h){this.pipelineData={};var u=this.scene.sys.renderer;if(!u)return!1;var l=u.pipelines;if(l){h===void 0&&(h=l.default);var o=l.get(h);if(o)return this.defaultPipeline=o,this.pipeline=o,!0}return!1},setPipeline:function(h,u,l){var o=this.scene.sys.renderer;if(!o)return this;var d=o.pipelines;if(d){var p=d.get(h);p&&(this.pipeline=p),u&&(this.pipelineData=l?a(u):u)}return this},setPipelineData:function(h,u){var l=this.pipelineData;return u===void 0?delete l[h]:l[h]=u,this},resetPipeline:function(h){return h===void 0&&(h=!1),this.pipeline=this.defaultPipeline,h&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline===null?null:this.pipeline.name}};s.exports=v}),17581:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(62644),v=r(47059),h=r(19133),u={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(l){this.postPipelines=[],this.postPipelineData={},this.postFX=new v(this,!0),l&&(this.preFX=new v(this,!1))},setPostPipeline:function(l,o,d){var p=this.scene.sys.renderer;if(!p)return this;var f=p.pipelines;if(f){Array.isArray(l)||(l=[l]);for(var y=0;y<l.length;y++){var w=f.getPostPipeline(l[y],this,o);w&&this.postPipelines.push(w)}o&&(this.postPipelineData=d?a(o):o)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(l,o){var d=this.postPipelineData;return o===void 0?delete d[l]:d[l]=o,this},getPostPipeline:function(l){for(var o=typeof l=="string",d=this.postPipelines,p=[],f=0;f<d.length;f++){var y=d[f];(o&&y.name===l||!o&&y instanceof l)&&p.push(y)}return p.length===1?p[0]:p},resetPostPipeline:function(l){l===void 0&&(l=!1);for(var o=this.postPipelines,d=0;d<o.length;d++)o[d].destroy();this.postPipelines=[],this.hasPostPipeline=!1,l&&(this.postPipelineData={})},removePostPipeline:function(l){for(var o=typeof l=="string",d=this.postPipelines,p=d.length-1;p>=0;p--){var f=d[p];(o&&f.name===l||!o&&f===l)&&(f.destroy(),h(d,p))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};s.exports=u}),80227:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(r,a){return a===void 0&&(a=r),this.scrollFactorX=r,this.scrollFactorY=a,this}};s.exports=g}),16736:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(r){this.scaleX=r/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(r){this.scaleY=r/this.frame.realHeight}},setSizeToFrame:function(r){r||(r=this.frame),this.width=r.realWidth,this.height=r.realHeight;var a=this.input;return a&&!a.customHitArea&&(a.hitArea.width=this.width,a.hitArea.height=this.height),this},setSize:function(r,a){return this.width=r,this.height=a,this},setDisplaySize:function(r,a){return this.displayWidth=r,this.displayHeight=a,this}};s.exports=g}),37726:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(4327),v=8,h={texture:null,frame:null,isCropped:!1,setTexture:function(u,l,o,d){return this.texture=this.scene.sys.textures.get(u),this.setFrame(l,o,d)},setFrame:function(u,l,o){return l===void 0&&(l=!0),o===void 0&&(o=!0),u instanceof a?(this.texture=this.scene.sys.textures.get(u.texture.key),this.frame=u):this.frame=this.texture.get(u),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~v:this.renderFlags|=v,this._sizeComponent&&l&&this.setSizeToFrame(),this._originComponent&&o&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};s.exports=h}),79812:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(4327),v=8,h={texture:null,frame:null,isCropped:!1,setCrop:function(u,l,o,d){if(u===void 0)this.isCropped=!1;else if(this.frame){if(typeof u=="number")this.frame.setCropUVs(this._crop,u,l,o,d,this.flipX,this.flipY);else{var p=u;this.frame.setCropUVs(this._crop,p.x,p.y,p.width,p.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(u,l){return this.texture=this.scene.sys.textures.get(u),this.setFrame(l)},setFrame:function(u,l,o){return l===void 0&&(l=!0),o===void 0&&(o=!0),u instanceof a?(this.texture=this.scene.sys.textures.get(u.texture.key),this.frame=u):this.frame=this.texture.get(u),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~v:this.renderFlags|=v,this._sizeComponent&&l&&this.setSizeToFrame(),this._originComponent&&o&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};s.exports=h}),27472:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(r,a,v,h){return r===void 0&&(r=16777215),a===void 0&&(a=r,v=r,h=r),this.tintTopLeft=r,this.tintTopRight=a,this.tintBottomLeft=v,this.tintBottomRight=h,this.tintFill=!1,this},setTintFill:function(r,a,v,h){return this.setTint(r,a,v,h),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(r){this.setTint(r,r,r,r)}},isTinted:{get:function(){var r=16777215;return this.tintFill||this.tintTopLeft!==r||this.tintTopRight!==r||this.tintBottomLeft!==r||this.tintBottomRight!==r}}};s.exports=g}),53774:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){var a={name:r.name,type:r.type,x:r.x,y:r.y,depth:r.depth,scale:{x:r.scaleX,y:r.scaleY},origin:{x:r.originX,y:r.originY},flipX:r.flipX,flipY:r.flipY,rotation:r.rotation,alpha:r.alpha,visible:r.visible,blendMode:r.blendMode,textureKey:"",frameKey:"",data:{}};return r.texture&&(a.textureKey=r.texture.key,a.frameKey=r.frame.name),a};s.exports=g}),16901:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(36383),v=r(61340),h=r(85955),u=r(86554),l=r(30954),o=r(26099),d=4,p={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(f){this._scaleX=f,this._scaleY=f,f===0?this.renderFlags&=~d:this.renderFlags|=d}},scaleX:{get:function(){return this._scaleX},set:function(f){this._scaleX=f,f===0?this.renderFlags&=~d:this._scaleY!==0&&(this.renderFlags|=d)}},scaleY:{get:function(){return this._scaleY},set:function(f){this._scaleY=f,f===0?this.renderFlags&=~d:this._scaleX!==0&&(this.renderFlags|=d)}},angle:{get:function(){return l(this._rotation*a.RAD_TO_DEG)},set:function(f){this.rotation=l(f)*a.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(f){this._rotation=u(f)}},setPosition:function(f,y,w,x){return f===void 0&&(f=0),y===void 0&&(y=f),w===void 0&&(w=0),x===void 0&&(x=0),this.x=f,this.y=y,this.z=w,this.w=x,this},copyPosition:function(f){return f.x!==void 0&&(this.x=f.x),f.y!==void 0&&(this.y=f.y),f.z!==void 0&&(this.z=f.z),f.w!==void 0&&(this.w=f.w),this},setRandomPosition:function(f,y,w,x){return f===void 0&&(f=0),y===void 0&&(y=0),w===void 0&&(w=this.scene.sys.scale.width),x===void 0&&(x=this.scene.sys.scale.height),this.x=f+Math.random()*w,this.y=y+Math.random()*x,this},setRotation:function(f){return f===void 0&&(f=0),this.rotation=f,this},setAngle:function(f){return f===void 0&&(f=0),this.angle=f,this},setScale:function(f,y){return f===void 0&&(f=1),y===void 0&&(y=f),this.scaleX=f,this.scaleY=y,this},setX:function(f){return f===void 0&&(f=0),this.x=f,this},setY:function(f){return f===void 0&&(f=0),this.y=f,this},setZ:function(f){return f===void 0&&(f=0),this.z=f,this},setW:function(f){return f===void 0&&(f=0),this.w=f,this},getLocalTransformMatrix:function(f){return f===void 0&&(f=new v),f.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(f,y){f===void 0&&(f=new v);var w=this.parentContainer;if(!w)return this.getLocalTransformMatrix(f);var x=!1;for(y||(y=new v,x=!0),f.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);w;)y.applyITRS(w.x,w.y,w._rotation,w._scaleX,w._scaleY),y.multiply(f,f),w=w.parentContainer;return x&&y.destroy(),f},getLocalPoint:function(f,y,w,x){w||(w=new o),x||(x=this.scene.sys.cameras.main);var b=x.scrollX,E=x.scrollY,C=f+b*this.scrollFactorX-b,T=y+E*this.scrollFactorY-E;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(C,T,w):h(C,T,this.x,this.y,this.rotation,this.scaleX,this.scaleY,w),this._originComponent&&(w.x+=this._displayOriginX,w.y+=this._displayOriginY),w},getWorldPoint:function(f,y,w){f===void 0&&(f=new o);var x=this.parentContainer;if(!x)return f.x=this.x,f.y=this.y,f;var b=this.getWorldTransformMatrix(y,w);return f.x=b.tx,f.y=b.ty,f},getParentRotation:function(){for(var f=0,y=this.parentContainer;y;)f+=y.rotation,y=y.parentContainer;return f}};s.exports=p}),61340:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(36383),h=r(26099),u=new a({initialize:function(o,d,p,f,y,w){o===void 0&&(o=1),d===void 0&&(d=0),p===void 0&&(p=0),f===void 0&&(f=1),y===void 0&&(y=0),w===void 0&&(w=0),this.matrix=new Float32Array([o,d,p,f,y,w,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(l){this.matrix[0]=l}},b:{get:function(){return this.matrix[1]},set:function(l){this.matrix[1]=l}},c:{get:function(){return this.matrix[2]},set:function(l){this.matrix[2]=l}},d:{get:function(){return this.matrix[3]},set:function(l){this.matrix[3]=l}},e:{get:function(){return this.matrix[4]},set:function(l){this.matrix[4]=l}},f:{get:function(){return this.matrix[5]},set:function(l){this.matrix[5]=l}},tx:{get:function(){return this.matrix[4]},set:function(l){this.matrix[4]=l}},ty:{get:function(){return this.matrix[5]},set:function(l){this.matrix[5]=l}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var l=this.matrix,o=l[0],d=l[1],p=l[2],f=l[3];return o||d?d>0?Math.acos(o/this.scaleX):-Math.acos(o/this.scaleX):p||f?v.TAU-(f>0?Math.acos(-p/this.scaleY):-Math.acos(p/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var l=this.matrix;return l[0]=1,l[1]=0,l[2]=0,l[3]=1,l[4]=0,l[5]=0,this},translate:function(l,o){var d=this.matrix;return d[4]=d[0]*l+d[2]*o+d[4],d[5]=d[1]*l+d[3]*o+d[5],this},scale:function(l,o){var d=this.matrix;return d[0]*=l,d[1]*=l,d[2]*=o,d[3]*=o,this},rotate:function(l){var o=Math.sin(l),d=Math.cos(l),p=this.matrix,f=p[0],y=p[1],w=p[2],x=p[3];return p[0]=f*d+w*o,p[1]=y*d+x*o,p[2]=f*-o+w*d,p[3]=y*-o+x*d,this},multiply:function(l,o){var d=this.matrix,p=l.matrix,f=d[0],y=d[1],w=d[2],x=d[3],b=d[4],E=d[5],C=p[0],T=p[1],S=p[2],A=p[3],P=p[4],R=p[5],L=o===void 0?d:o.matrix;return L[0]=C*f+T*w,L[1]=C*y+T*x,L[2]=S*f+A*w,L[3]=S*y+A*x,L[4]=P*f+R*w+b,L[5]=P*y+R*x+E,L},multiplyWithOffset:function(l,o,d){var p=this.matrix,f=l.matrix,y=p[0],w=p[1],x=p[2],b=p[3],E=p[4],C=p[5],T=o*y+d*x+E,S=o*w+d*b+C,A=f[0],P=f[1],R=f[2],L=f[3],D=f[4],$=f[5];return p[0]=A*y+P*x,p[1]=A*w+P*b,p[2]=R*y+L*x,p[3]=R*w+L*b,p[4]=D*y+$*x+T,p[5]=D*w+$*b+S,this},transform:function(l,o,d,p,f,y){var w=this.matrix,x=w[0],b=w[1],E=w[2],C=w[3],T=w[4],S=w[5];return w[0]=l*x+o*E,w[1]=l*b+o*C,w[2]=d*x+p*E,w[3]=d*b+p*C,w[4]=f*x+y*E+T,w[5]=f*b+y*C+S,this},transformPoint:function(l,o,d){d===void 0&&(d={x:0,y:0});var p=this.matrix,f=p[0],y=p[1],w=p[2],x=p[3],b=p[4],E=p[5];return d.x=l*f+o*w+b,d.y=l*y+o*x+E,d},invert:function(){var l=this.matrix,o=l[0],d=l[1],p=l[2],f=l[3],y=l[4],w=l[5],x=o*f-d*p;return l[0]=f/x,l[1]=-d/x,l[2]=-p/x,l[3]=o/x,l[4]=(p*w-f*y)/x,l[5]=-(o*w-d*y)/x,this},copyFrom:function(l){var o=this.matrix;return o[0]=l.a,o[1]=l.b,o[2]=l.c,o[3]=l.d,o[4]=l.e,o[5]=l.f,this},copyFromArray:function(l){var o=this.matrix;return o[0]=l[0],o[1]=l[1],o[2]=l[2],o[3]=l[3],o[4]=l[4],o[5]=l[5],this},copyToContext:function(l){var o=this.matrix;return l.transform(o[0],o[1],o[2],o[3],o[4],o[5]),l},setToContext:function(l){return l.setTransform(this.a,this.b,this.c,this.d,this.e,this.f),l},copyToArray:function(l){var o=this.matrix;return l===void 0?l=[o[0],o[1],o[2],o[3],o[4],o[5]]:(l[0]=o[0],l[1]=o[1],l[2]=o[2],l[3]=o[3],l[4]=o[4],l[5]=o[5]),l},setTransform:function(l,o,d,p,f,y){var w=this.matrix;return w[0]=l,w[1]=o,w[2]=d,w[3]=p,w[4]=f,w[5]=y,this},decomposeMatrix:function(){var l=this.decomposedMatrix,o=this.matrix,d=o[0],p=o[1],f=o[2],y=o[3],w=d*y-p*f;if(l.translateX=o[4],l.translateY=o[5],d||p){var x=Math.sqrt(d*d+p*p);l.rotation=p>0?Math.acos(d/x):-Math.acos(d/x),l.scaleX=x,l.scaleY=w/x}else if(f||y){var b=Math.sqrt(f*f+y*y);l.rotation=Math.PI*.5-(y>0?Math.acos(-f/b):-Math.acos(f/b)),l.scaleX=w/b,l.scaleY=b}else l.rotation=0,l.scaleX=0,l.scaleY=0;return l},applyITRS:function(l,o,d,p,f){var y=this.matrix,w=Math.sin(d),x=Math.cos(d);return y[4]=l,y[5]=o,y[0]=x*p,y[1]=w*p,y[2]=-w*f,y[3]=x*f,this},applyInverse:function(l,o,d){d===void 0&&(d=new h);var p=this.matrix,f=p[0],y=p[1],w=p[2],x=p[3],b=p[4],E=p[5],C=1/(f*x+w*-y);return d.x=x*C*l+-w*C*o+(E*w-b*x)*C,d.y=f*C*o+-y*C*l+(-E*f+b*y)*C,d},setQuad:function(l,o,d,p,f,y){f===void 0&&(f=!1),y===void 0&&(y=this.quad);var w=this.matrix,x=w[0],b=w[1],E=w[2],C=w[3],T=w[4],S=w[5],A=l*x+o*E+T,P=l*b+o*C+S,R=l*x+p*E+T,L=l*b+p*C+S,D=d*x+p*E+T,$=d*b+p*C+S,F=d*x+o*E+T,N=d*b+o*C+S;if(f){var k=Math.floor(A+.5),j=Math.floor(P+.5),W=k-A,G=j-P;y[0]=k,y[1]=j,y[2]=R+W,y[3]=L+G,y[4]=D+W,y[5]=$+G,y[6]=F+W,y[7]=N+G}else y[0]=A,y[1]=P,y[2]=R,y[3]=L,y[4]=D,y[5]=$,y[6]=F,y[7]=N;return y},getX:function(l,o){return l*this.a+o*this.c+this.e},getY:function(l,o){return l*this.b+o*this.d+this.f},getXRound:function(l,o,d){var p=this.getX(l,o);return d&&(p=Math.floor(p+.5)),p},getYRound:function(l,o,d){var p=this.getY(l,o);return d&&(p=Math.floor(p+.5)),p},getCSSMatrix:function(){var l=this.matrix;return"matrix("+l[0]+","+l[1]+","+l[2]+","+l[3]+","+l[4]+","+l[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});s.exports=u}),59715:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=1,r={_visible:!0,visible:{get:function(){return this._visible},set:function(a){a?(this._visible=!0,this.renderFlags|=g):(this._visible=!1,this.renderFlags&=~g)}},setVisible:function(a){return this.visible=a,this}};s.exports=r}),31401:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Alpha:r(16005),AlphaSingle:r(88509),BlendMode:r(90065),ComputedSize:r(94215),Crop:r(61683),Depth:r(89272),Flip:r(54434),FX:r(47059),GetBounds:r(8004),Mask:r(8573),Origin:r(27387),PathFollower:r(37640),Pipeline:r(72699),PostPipeline:r(17581),ScrollFactor:r(80227),Size:r(16736),Texture:r(37726),TextureCrop:r(79812),Tint:r(27472),ToJSON:r(53774),Transform:r(16901),TransformMatrix:r(61340),Visible:r(59715)}}),31559:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(37105),v=r(10312),h=r(83419),u=r(31401),l=r(51708),o=r(95643),d=r(87841),p=r(29959),f=r(36899),y=r(26099),w=new u.TransformMatrix,x=new h({Extends:o,Mixins:[u.AlphaSingle,u.BlendMode,u.ComputedSize,u.Depth,u.Mask,u.PostPipeline,u.Transform,u.Visible,p],initialize:function(E,C,T,S){o.call(this,E,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new u.TransformMatrix,this._sortKey="",this._sysEvents=E.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(C,T),this.setBlendMode(v.SKIP_CHECK),S&&this.add(S)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(b){return b===void 0&&(b=!0),this.exclusive=b,this},getBounds:function(b){if(b===void 0&&(b=new d),b.setTo(this.x,this.y,0,0),this.parentContainer){var E=this.parentContainer.getBoundsTransformMatrix(),C=E.transformPoint(this.x,this.y);b.setTo(C.x,C.y,0,0)}if(this.list.length>0){var T=this.list,S=new d,A=!1;b.setEmpty();for(var P=0;P<T.length;P++){var R=T[P];R.getBounds&&(R.getBounds(S),A?f(S,b,b):(b.setTo(S.x,S.y,S.width,S.height),A=!0))}}return b},addHandler:function(b){b.once(l.DESTROY,this.onChildDestroyed,this),this.exclusive&&(b.parentContainer&&b.parentContainer.remove(b),b.parentContainer=this,b.removeFromDisplayList(),b.addedToScene())},removeHandler:function(b){b.off(l.DESTROY,this.remove,this),this.exclusive&&(b.parentContainer=null,b.removedFromScene(),b.addToDisplayList())},pointToContainer:function(b,E){E===void 0&&(E=new y),this.parentContainer?this.parentContainer.pointToContainer(b,E):(E.x=b.x,E.y=b.y);var C=w;return C.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),C.invert(),C.transformPoint(b.x,b.y,E),E},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(w,this.localTransform)},add:function(b){return a.Add(this.list,b,this.maxSize,this.addHandler,this),this},addAt:function(b,E){return a.AddAt(this.list,b,E,this.maxSize,this.addHandler,this),this},getAt:function(b){return this.list[b]},getIndex:function(b){return this.list.indexOf(b)},sort:function(b,E){return b?(E===void 0&&(E=function(C,T){return C[b]-T[b]}),a.StableSort(this.list,E),this):this},getByName:function(b){return a.GetFirst(this.list,"name",b)},getRandom:function(b,E){return a.GetRandom(this.list,b,E)},getFirst:function(b,E,C,T){return a.GetFirst(this.list,b,E,C,T)},getAll:function(b,E,C,T){return a.GetAll(this.list,b,E,C,T)},count:function(b,E,C,T){return a.CountAllMatching(this.list,b,E,C,T)},swap:function(b,E){return a.Swap(this.list,b,E),this},moveTo:function(b,E){return a.MoveTo(this.list,b,E),this},moveAbove:function(b,E){return a.MoveAbove(this.list,b,E),this},moveBelow:function(b,E){return a.MoveBelow(this.list,b,E),this},remove:function(b,E){var C=a.Remove(this.list,b,this.removeHandler,this);if(E&&C){Array.isArray(C)||(C=[C]);for(var T=0;T<C.length;T++)C[T].destroy()}return this},removeAt:function(b,E){var C=a.RemoveAt(this.list,b,this.removeHandler,this);return E&&C&&C.destroy(),this},removeBetween:function(b,E,C){var T=a.RemoveBetween(this.list,b,E,this.removeHandler,this);if(C)for(var S=0;S<T.length;S++)T[S].destroy();return this},removeAll:function(b){var E=this.list;if(b){for(var C=0;C<E.length;C++)E[C]&&E[C].scene&&(E[C].off(l.DESTROY,this.onChildDestroyed,this),E[C].destroy());this.list=[]}else a.RemoveBetween(E,0,E.length,this.removeHandler,this);return this},bringToTop:function(b){return a.BringToTop(this.list,b),this},sendToBack:function(b){return a.SendToBack(this.list,b),this},moveUp:function(b){return a.MoveUp(this.list,b),this},moveDown:function(b){return a.MoveDown(this.list,b),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return a.Shuffle(this.list),this},replace:function(b,E,C){var T=a.Replace(this.list,b,E);return T&&(this.addHandler(E),this.removeHandler(b),C&&b.destroy()),this},exists:function(b){return this.list.indexOf(b)>-1},setAll:function(b,E,C,T){return a.SetAll(this.list,b,E,C,T),this},each:function(b,E){var C=[null],T,S=this.list.slice(),A=S.length;for(T=2;T<arguments.length;T++)C.push(arguments[T]);for(T=0;T<A;T++)C[0]=S[T],b.apply(E,C);return this},iterate:function(b,E){var C=[null],T;for(T=2;T<arguments.length;T++)C.push(arguments[T]);for(T=0;T<this.list.length;T++)C[0]=this.list[T],b.apply(E,C);return this},setScrollFactor:function(b,E,C){return E===void 0&&(E=b),C===void 0&&(C=!1),this.scrollFactorX=b,this.scrollFactorY=E,C&&(a.SetAll(this.list,"scrollFactorX",b),a.SetAll(this.list,"scrollFactorY",E)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},onChildDestroyed:function(b){a.Remove(this.list,b),this.exclusive&&(b.parentContainer=null,b.removedFromScene())}});s.exports=x}),53584:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h){v.addToRenderList(a);var u=a.list;if(u.length!==0){var l=a.localTransform;h?(l.loadIdentity(),l.multiply(h),l.translate(a.x,a.y),l.rotate(a.rotation),l.scale(a.scaleX,a.scaleY)):l.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY);var o=a.blendMode!==-1;o||r.setBlendMode(0);var d=a._alpha,p=a.scrollFactorX,f=a.scrollFactorY;a.mask&&a.mask.preRenderCanvas(r,null,v);for(var y=0;y<u.length;y++){var w=u[y];if(w.willRender(v)){var x=w.alpha,b=w.scrollFactorX,E=w.scrollFactorY;!o&&w.blendMode!==r.currentBlendMode&&r.setBlendMode(w.blendMode),w.setScrollFactor(b*p,E*f),w.setAlpha(x*d),w.renderCanvas(r,w,v,l),w.setAlpha(x),w.setScrollFactor(b,E)}}a.mask&&a.mask.postRenderCanvas(r)}};s.exports=g}),77143:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(25305),v=r(31559),h=r(44603),u=r(23568),l=r(95540);h.register("container",function(o,d){o===void 0&&(o={});var p=u(o,"x",0),f=u(o,"y",0),y=l(o,"children",null),w=new v(this.scene,p,f,y);return d!==void 0&&(o.add=d),a(this.scene,w,o),w})}),24961:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(31559),v=r(39429);v.register("container",function(h,u,l){return this.displayList.add(new a(this.scene,h,u,l))})}),29959:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(29747),v=a,h=a;v=r(72249),h=r(53584),s.exports={renderWebGL:v,renderCanvas:h}}),72249:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h){v.addToRenderList(a);var u=a.list,l=u.length;if(l!==0){var o=a.localTransform;h?(o.loadIdentity(),o.multiply(h),o.translate(a.x,a.y),o.rotate(a.rotation),o.scale(a.scaleX,a.scaleY)):o.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY),r.pipelines.preBatch(a);var d=a.blendMode!==-1;d||r.setBlendMode(0);for(var p=a.alpha,f=a.scrollFactorX,y=a.scrollFactorY,w=0;w<l;w++){var x=u[w];if(x.willRender(v)){var b,E,C,T;if(x.alphaTopLeft!==void 0)b=x.alphaTopLeft,E=x.alphaTopRight,C=x.alphaBottomLeft,T=x.alphaBottomRight;else{var S=x.alpha;b=S,E=S,C=S,T=S}var A=x.scrollFactorX,P=x.scrollFactorY;!d&&x.blendMode!==r.currentBlendMode&&r.setBlendMode(x.blendMode);var R=x.mask;R&&R.preRenderWebGL(r,x,v);var L=x.type;L!==r.currentType&&(r.newType=!0,r.currentType=L),r.nextTypeMatch=w<l-1?u[w+1].type===r.currentType:!1,x.setScrollFactor(A*f,P*y),x.setAlpha(b*p,E*p,C*p,T*p),x.renderWebGL(r,x,v,o,a),x.setAlpha(b,E,C,T),x.setScrollFactor(A,P),R&&R.postRenderWebGL(r,v),r.newType=!1}}r.pipelines.postBatch(a)}};s.exports=g}),47407:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}),3069:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(31401),h=r(441),u=r(95643),l=r(41212),o=r(35846),d=r(44594),p=r(61369),f=new a({Extends:u,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Origin,v.ScrollFactor,v.Transform,v.Visible,h],initialize:function(w,x,b,E,C,T){if(u.call(this,w,"DOMElement"),this.parent=w.sys.game.domContainer,!this.parent)throw new Error("No DOM Container set in game config");this.cache=w.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new p,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(x,b),typeof E=="string"?E[0]==="#"?this.setElement(E.substr(1),C,T):this.createElement(E,C,T):E&&this.setElement(E,C,T),w.sys.events.on(d.SLEEP,this.handleSceneEvent,this),w.sys.events.on(d.WAKE,this.handleSceneEvent,this),w.sys.events.on(d.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(y){var w=this.node,x=w.style;w&&(x.display=y.settings.visible?"block":"none")},setSkew:function(y,w){return y===void 0&&(y=0),w===void 0&&(w=y),this.skewX=y,this.skewY=w,this},setPerspective:function(y){return this.parent.style.perspective=y+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(y){this.parent.style.perspective=y+"px"}},addListener:function(y){if(this.node){y=y.split(" ");for(var w=0;w<y.length;w++)this.node.addEventListener(y[w],this.handler,!1)}return this},removeListener:function(y){if(this.node){y=y.split(" ");for(var w=0;w<y.length;w++)this.node.removeEventListener(y[w],this.handler)}return this},dispatchNativeEvent:function(y){this.emit(y.type,y)},createElement:function(y,w,x){return this.setElement(document.createElement(y),w,x)},setElement:function(y,w,x){this.removeElement();var b;if(typeof y=="string"?(y[0]==="#"&&(y=y.substr(1)),b=document.getElementById(y)):typeof y=="object"&&y.nodeType===1&&(b=y),!b)return this;if(this.node=b,w&&l(w))for(var E in w)b.style[E]=w[E];else typeof w=="string"&&(b.style=w);return b.style.zIndex="0",b.style.display="inline",b.style.position="absolute",b.phaser=this,this.parent.appendChild(b),x&&(b.innerText=x),this.updateSize()},createFromCache:function(y,w){var x=this.cache.get(y);return x&&this.createFromHTML(x,w),this},createFromHTML:function(y,w){w===void 0&&(w="div"),this.removeElement();var x=document.createElement(w);return this.node=x,x.style.zIndex="0",x.style.display="inline",x.style.position="absolute",x.phaser=this,this.parent.appendChild(x),x.innerHTML=y,this.updateSize()},removeElement:function(){return this.node&&(o(this.node),this.node=null),this},updateSize:function(){var y=this.node;return this.width=y.clientWidth,this.height=y.clientHeight,this.displayWidth=this.width*this.scaleX,this.displayHeight=this.height*this.scaleY,this},getChildByProperty:function(y,w){if(this.node){for(var x=this.node.querySelectorAll("*"),b=0;b<x.length;b++)if(x[b][y]===w)return x[b]}return null},getChildByID:function(y){return this.getChildByProperty("id",y)},getChildByName:function(y){return this.getChildByProperty("name",y)},setClassName:function(y){return this.node&&(this.node.className=y,this.updateSize()),this},setText:function(y){return this.node&&(this.node.innerText=y,this.updateSize()),this},setHTML:function(y){return this.node&&(this.node.innerHTML=y,this.updateSize()),this},preRender:function(){var y=this.parentContainer,w=this.node;w&&y&&!y.willRender()&&(w.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(d.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(d.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(d.PRE_RENDER,this.preRender,this)}});s.exports=f}),49381:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(47407),v=r(95643),h=r(61340),u=new h,l=new h,o=new h,d=function(p,f,y,w){if(f.node){var x=f.node.style,b=f.scene.sys.settings;if(!x||!b.visible||v.RENDER_MASK!==f.renderFlags||f.cameraFilter!==0&&f.cameraFilter&y.id||f.parentContainer&&!f.parentContainer.willRender()){x.display="none";return}var E=f.parentContainer,C=y.alpha*f.alpha;E&&(C*=E.alpha);var T=u,S=l,A=o,P=0,R=0,L="0%",D="0%";w?(P=f.width*f.scaleX*f.originX,R=f.height*f.scaleY*f.originY,S.applyITRS(f.x-P,f.y-R,f.rotation,f.scaleX,f.scaleY),T.copyFrom(y.matrix),T.multiplyWithOffset(w,-y.scrollX*f.scrollFactorX,-y.scrollY*f.scrollFactorY),S.e=f.x-P,S.f=f.y-R,T.multiply(S,A)):(P=f.width*f.originX,R=f.height*f.originY,S.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY),T.copyFrom(y.matrix),L=100*f.originX+"%",D=100*f.originY+"%",S.e-=y.scrollX*f.scrollFactorX,S.f-=y.scrollY*f.scrollFactorY,T.multiply(S,A),A.e-=P,A.f-=R),f.transformOnly||(x.display="block",x.opacity=C,x.zIndex=f._depth,x.pointerEvents=f.pointerEvents,x.mixBlendMode=a[f._blendMode]),x.transform=A.getCSSMatrix()+" skew("+f.skewX+"rad, "+f.skewY+"rad) rotate3d("+f.rotate3d.x+","+f.rotate3d.y+","+f.rotate3d.z+","+f.rotate3d.w+f.rotate3dAngle+")",x.transformOrigin=L+" "+D}};s.exports=d}),2611:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(3069),v=r(39429);v.register("dom",function(h,u,l,o,d){var p=new a(this.scene,h,u,l,o,d);return this.displayList.add(p),p})}),441:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(29747),v=a,h=a;v=r(49381),h=r(49381),s.exports={renderWebGL:v,renderCanvas:h}}),62980:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="addedtoscene"}),41337:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="destroy"}),44947:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="removedfromscene"}),49358:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="complete"}),35163:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="created"}),97249:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="error"}),19483:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="locked"}),56059:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="loop"}),26772:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="metadata"}),64437:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="playing"}),83411:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="play"}),75780:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="seeked"}),67799:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="seeking"}),63500:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="stalled"}),55541:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="stop"}),53208:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="textureready"}),4992:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="unlocked"}),12:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="unsupported"}),51708:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={ADDED_TO_SCENE:r(62980),DESTROY:r(41337),REMOVED_FROM_SCENE:r(44947),VIDEO_COMPLETE:r(49358),VIDEO_CREATED:r(35163),VIDEO_ERROR:r(97249),VIDEO_LOCKED:r(19483),VIDEO_LOOP:r(56059),VIDEO_METADATA:r(26772),VIDEO_PLAY:r(83411),VIDEO_PLAYING:r(64437),VIDEO_SEEKED:r(75780),VIDEO_SEEKING:r(67799),VIDEO_STALLED:r(63500),VIDEO_STOP:r(55541),VIDEO_TEXTURE:r(53208),VIDEO_UNLOCKED:r(4992),VIDEO_UNSUPPORTED:r(12)}}),42421:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(31401),h=r(95643),u=r(64993),l=new a({Extends:h,Mixins:[v.Alpha,v.BlendMode,v.Depth,v.Flip,v.Origin,v.ScrollFactor,v.Size,v.Texture,v.Tint,v.Transform,v.Visible,u],initialize:function(d){h.call(this,d,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});s.exports=l}),70217:(()=>{}),56315:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(42421),v=r(39429);v.register("extern",function(){var h=new a(this.scene);return this.displayList.add(h),h})}),64993:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(29747),v=a,h=a;v=r(80287),h=r(70217),s.exports={renderWebGL:v,renderCanvas:h}}),80287:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(91296),v=function(h,u,l,o){h.pipelines.clear();var d=a(u,l,o).calc;u.render.call(u,h,l,d),h.pipelines.rebind()};s.exports=v}),85592:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}}),43831:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(71911),v=r(83419),h=r(85592),u=r(31401),l=r(8497),o=r(95643),d=r(95540),p=r(35154),f=r(36383),y=r(84503),w=new v({Extends:o,Mixins:[u.AlphaSingle,u.BlendMode,u.Depth,u.Mask,u.Pipeline,u.PostPipeline,u.Transform,u.Visible,u.ScrollFactor,y],initialize:function(b,E){var C=p(E,"x",0),T=p(E,"y",0);o.call(this,b,"Graphics"),this.setPosition(C,T),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(E)},setDefaultStyles:function(x){return p(x,"lineStyle",null)&&(this.defaultStrokeWidth=p(x,"lineStyle.width",1),this.defaultStrokeColor=p(x,"lineStyle.color",16777215),this.defaultStrokeAlpha=p(x,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),p(x,"fillStyle",null)&&(this.defaultFillColor=p(x,"fillStyle.color",16777215),this.defaultFillAlpha=p(x,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(x,b,E){return E===void 0&&(E=1),this.commandBuffer.push(h.LINE_STYLE,x,b,E),this._lineWidth=x,this},fillStyle:function(x,b){return b===void 0&&(b=1),this.commandBuffer.push(h.FILL_STYLE,x,b),this},fillGradientStyle:function(x,b,E,C,T,S,A,P){return T===void 0&&(T=1),S===void 0&&(S=T),A===void 0&&(A=T),P===void 0&&(P=T),this.commandBuffer.push(h.GRADIENT_FILL_STYLE,T,S,A,P,x,b,E,C),this},lineGradientStyle:function(x,b,E,C,T,S){return S===void 0&&(S=1),this.commandBuffer.push(h.GRADIENT_LINE_STYLE,x,S,b,E,C,T),this},beginPath:function(){return this.commandBuffer.push(h.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(h.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(h.FILL_PATH),this},fill:function(){return this.commandBuffer.push(h.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(h.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(h.STROKE_PATH),this},fillCircleShape:function(x){return this.fillCircle(x.x,x.y,x.radius)},strokeCircleShape:function(x){return this.strokeCircle(x.x,x.y,x.radius)},fillCircle:function(x,b,E){return this.beginPath(),this.arc(x,b,E,0,f.PI2),this.fillPath(),this},strokeCircle:function(x,b,E){return this.beginPath(),this.arc(x,b,E,0,f.PI2),this.strokePath(),this},fillRectShape:function(x){return this.fillRect(x.x,x.y,x.width,x.height)},strokeRectShape:function(x){return this.strokeRect(x.x,x.y,x.width,x.height)},fillRect:function(x,b,E,C){return this.commandBuffer.push(h.FILL_RECT,x,b,E,C),this},strokeRect:function(x,b,E,C){var T=this._lineWidth/2,S=x-T,A=x+T;return this.beginPath(),this.moveTo(x,b),this.lineTo(x,b+C),this.strokePath(),this.beginPath(),this.moveTo(x+E,b),this.lineTo(x+E,b+C),this.strokePath(),this.beginPath(),this.moveTo(S,b),this.lineTo(A+E,b),this.strokePath(),this.beginPath(),this.moveTo(S,b+C),this.lineTo(A+E,b+C),this.strokePath(),this},fillRoundedRect:function(x,b,E,C,T){T===void 0&&(T=20);var S=T,A=T,P=T,R=T;typeof T!="number"&&(S=d(T,"tl",20),A=d(T,"tr",20),P=d(T,"bl",20),R=d(T,"br",20));var L=S>=0,D=A>=0,$=P>=0,F=R>=0;return S=Math.abs(S),A=Math.abs(A),P=Math.abs(P),R=Math.abs(R),this.beginPath(),this.moveTo(x+S,b),this.lineTo(x+E-A,b),D?this.arc(x+E-A,b+A,A,-f.TAU,0):this.arc(x+E,b,A,Math.PI,f.TAU,!0),this.lineTo(x+E,b+C-R),F?this.arc(x+E-R,b+C-R,R,0,f.TAU):this.arc(x+E,b+C,R,-f.TAU,Math.PI,!0),this.lineTo(x+P,b+C),$?this.arc(x+P,b+C-P,P,f.TAU,Math.PI):this.arc(x,b+C,P,0,-f.TAU,!0),this.lineTo(x,b+S),L?this.arc(x+S,b+S,S,-Math.PI,-f.TAU):this.arc(x,b,S,f.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(x,b,E,C,T){T===void 0&&(T=20);var S=T,A=T,P=T,R=T,L=Math.min(E,C)/2;typeof T!="number"&&(S=d(T,"tl",20),A=d(T,"tr",20),P=d(T,"bl",20),R=d(T,"br",20));var D=S>=0,$=A>=0,F=P>=0,N=R>=0;return S=Math.min(Math.abs(S),L),A=Math.min(Math.abs(A),L),P=Math.min(Math.abs(P),L),R=Math.min(Math.abs(R),L),this.beginPath(),this.moveTo(x+S,b),this.lineTo(x+E-A,b),this.moveTo(x+E-A,b),$?this.arc(x+E-A,b+A,A,-f.TAU,0):this.arc(x+E,b,A,Math.PI,f.TAU,!0),this.lineTo(x+E,b+C-R),this.moveTo(x+E,b+C-R),N?this.arc(x+E-R,b+C-R,R,0,f.TAU):this.arc(x+E,b+C,R,-f.TAU,Math.PI,!0),this.lineTo(x+P,b+C),this.moveTo(x+P,b+C),F?this.arc(x+P,b+C-P,P,f.TAU,Math.PI):this.arc(x,b+C,P,0,-f.TAU,!0),this.lineTo(x,b+S),this.moveTo(x,b+S),D?this.arc(x+S,b+S,S,-Math.PI,-f.TAU):this.arc(x,b,S,f.TAU,0,!0),this.strokePath(),this},fillPointShape:function(x,b){return this.fillPoint(x.x,x.y,b)},fillPoint:function(x,b,E){return!E||E<1?E=1:(x-=E/2,b-=E/2),this.commandBuffer.push(h.FILL_RECT,x,b,E,E),this},fillTriangleShape:function(x){return this.fillTriangle(x.x1,x.y1,x.x2,x.y2,x.x3,x.y3)},strokeTriangleShape:function(x){return this.strokeTriangle(x.x1,x.y1,x.x2,x.y2,x.x3,x.y3)},fillTriangle:function(x,b,E,C,T,S){return this.commandBuffer.push(h.FILL_TRIANGLE,x,b,E,C,T,S),this},strokeTriangle:function(x,b,E,C,T,S){return this.commandBuffer.push(h.STROKE_TRIANGLE,x,b,E,C,T,S),this},strokeLineShape:function(x){return this.lineBetween(x.x1,x.y1,x.x2,x.y2)},lineBetween:function(x,b,E,C){return this.beginPath(),this.moveTo(x,b),this.lineTo(E,C),this.strokePath(),this},lineTo:function(x,b){return this.commandBuffer.push(h.LINE_TO,x,b),this},moveTo:function(x,b){return this.commandBuffer.push(h.MOVE_TO,x,b),this},strokePoints:function(x,b,E,C){b===void 0&&(b=!1),E===void 0&&(E=!1),C===void 0&&(C=x.length),this.beginPath(),this.moveTo(x[0].x,x[0].y);for(var T=1;T<C;T++)this.lineTo(x[T].x,x[T].y);return b&&this.lineTo(x[0].x,x[0].y),E&&this.closePath(),this.strokePath(),this},fillPoints:function(x,b,E,C){b===void 0&&(b=!1),E===void 0&&(E=!1),C===void 0&&(C=x.length),this.beginPath(),this.moveTo(x[0].x,x[0].y);for(var T=1;T<C;T++)this.lineTo(x[T].x,x[T].y);return b&&this.lineTo(x[0].x,x[0].y),E&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(x,b){b===void 0&&(b=32);var E=x.getPoints(b);return this.strokePoints(E,!0)},strokeEllipse:function(x,b,E,C,T){T===void 0&&(T=32);var S=new l(x,b,E,C),A=S.getPoints(T);return this.strokePoints(A,!0)},fillEllipseShape:function(x,b){b===void 0&&(b=32);var E=x.getPoints(b);return this.fillPoints(E,!0)},fillEllipse:function(x,b,E,C,T){T===void 0&&(T=32);var S=new l(x,b,E,C),A=S.getPoints(T);return this.fillPoints(A,!0)},arc:function(x,b,E,C,T,S,A){return S===void 0&&(S=!1),A===void 0&&(A=0),this.commandBuffer.push(h.ARC,x,b,E,C,T,S,A),this},slice:function(x,b,E,C,T,S,A){return S===void 0&&(S=!1),A===void 0&&(A=0),this.commandBuffer.push(h.BEGIN_PATH),this.commandBuffer.push(h.MOVE_TO,x,b),this.commandBuffer.push(h.ARC,x,b,E,C,T,S,A),this.commandBuffer.push(h.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(h.SAVE),this},restore:function(){return this.commandBuffer.push(h.RESTORE),this},translateCanvas:function(x,b){return this.commandBuffer.push(h.TRANSLATE,x,b),this},scaleCanvas:function(x,b){return this.commandBuffer.push(h.SCALE,x,b),this},rotateCanvas:function(x){return this.commandBuffer.push(h.ROTATE,x),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(x,b,E){var C=this.scene.sys,T=C.game.renderer;b===void 0&&(b=C.scale.width),E===void 0&&(E=C.scale.height),w.TargetCamera.setScene(this.scene),w.TargetCamera.setViewport(0,0,b,E),w.TargetCamera.scrollX=this.x,w.TargetCamera.scrollY=this.y;var S,A,P={willReadFrequently:!0};if(typeof x=="string")if(C.textures.exists(x)){S=C.textures.get(x);var R=S.getSourceImage();R instanceof HTMLCanvasElement&&(A=R.getContext("2d",P))}else S=C.textures.createCanvas(x,b,E),A=S.getSourceImage().getContext("2d",P);else x instanceof HTMLCanvasElement&&(A=x.getContext("2d",P));return A&&(this.renderCanvas(T,this,w.TargetCamera,null,A,!1),S&&S.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});w.TargetCamera=new a,s.exports=w}),32768:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(85592),v=r(20926),h=function(u,l,o,d,p,f){var y=l.commandBuffer,w=y.length,x=p||u.currentContext;if(!(w===0||!v(u,x,l,o,d))){o.addToRenderList(l);var b=1,E=1,C=0,T=0,S=1,A=0,P=0,R=0;x.beginPath();for(var L=0;L<w;++L){var D=y[L];switch(D){case a.ARC:x.arc(y[L+1],y[L+2],y[L+3],y[L+4],y[L+5],y[L+6]),L+=7;break;case a.LINE_STYLE:S=y[L+1],C=y[L+2],b=y[L+3],A=(C&16711680)>>>16,P=(C&65280)>>>8,R=C&255,x.strokeStyle="rgba("+A+","+P+","+R+","+b+")",x.lineWidth=S,L+=3;break;case a.FILL_STYLE:T=y[L+1],E=y[L+2],A=(T&16711680)>>>16,P=(T&65280)>>>8,R=T&255,x.fillStyle="rgba("+A+","+P+","+R+","+E+")",L+=2;break;case a.BEGIN_PATH:x.beginPath();break;case a.CLOSE_PATH:x.closePath();break;case a.FILL_PATH:f||x.fill();break;case a.STROKE_PATH:f||x.stroke();break;case a.FILL_RECT:f?x.rect(y[L+1],y[L+2],y[L+3],y[L+4]):x.fillRect(y[L+1],y[L+2],y[L+3],y[L+4]),L+=4;break;case a.FILL_TRIANGLE:x.beginPath(),x.moveTo(y[L+1],y[L+2]),x.lineTo(y[L+3],y[L+4]),x.lineTo(y[L+5],y[L+6]),x.closePath(),f||x.fill(),L+=6;break;case a.STROKE_TRIANGLE:x.beginPath(),x.moveTo(y[L+1],y[L+2]),x.lineTo(y[L+3],y[L+4]),x.lineTo(y[L+5],y[L+6]),x.closePath(),f||x.stroke(),L+=6;break;case a.LINE_TO:x.lineTo(y[L+1],y[L+2]),L+=2;break;case a.MOVE_TO:x.moveTo(y[L+1],y[L+2]),L+=2;break;case a.LINE_FX_TO:x.lineTo(y[L+1],y[L+2]),L+=5;break;case a.MOVE_FX_TO:x.moveTo(y[L+1],y[L+2]),L+=5;break;case a.SAVE:x.save();break;case a.RESTORE:x.restore();break;case a.TRANSLATE:x.translate(y[L+1],y[L+2]),L+=2;break;case a.SCALE:x.scale(y[L+1],y[L+2]),L+=2;break;case a.ROTATE:x.rotate(y[L+1]),L+=1;break;case a.GRADIENT_FILL_STYLE:L+=5;break;case a.GRADIENT_LINE_STYLE:L+=6;break}}x.restore()}};s.exports=h}),87079:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(44603),v=r(43831);a.register("graphics",function(h,u){h===void 0&&(h={}),u!==void 0&&(h.add=u);var l=new v(this.scene,h);return h.add&&this.scene.sys.displayList.add(l),l})}),1201:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(43831),v=r(39429);v.register("graphics",function(h){return this.displayList.add(new a(this.scene,h))})}),84503:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(29747),v=a,h=a;v=r(77545),h=r(32768),h=r(32768),s.exports={renderWebGL:v,renderCanvas:h}}),77545:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(85592),v=r(91296),h=r(61340),u=r(70554),l=function(y,w,x){this.x=y,this.y=w,this.width=x},o=function(y,w,x){this.points=[],this.pointsLength=1,this.points[0]=new l(y,w,x)},d=[],p=new h,f=function(y,w,x,b){if(w.commandBuffer.length!==0){x.addToRenderList(w);var E=y.pipelines.set(w.pipeline,w);y.pipelines.preBatch(w);for(var C=v(w,x,b).calc,T=p.loadIdentity(),S=w.commandBuffer,A=x.alpha*w.alpha,P=1,R=E.fillTint,L=E.strokeTint,D=0,$=0,F=0,N=.01,k=Math.PI*2,j,W=[],G=0,K=!0,z=null,X=u.getTintAppendFloatAlpha,U=0;U<S.length;U++)switch(j=S[U],j){case a.BEGIN_PATH:{W.length=0,z=null,K=!0;break}case a.CLOSE_PATH:{K=!1,z&&z.points.length&&z.points.push(z.points[0]);break}case a.FILL_PATH:{for(G=0;G<W.length;G++)E.batchFillPath(W[G].points,T,C);break}case a.STROKE_PATH:{for(G=0;G<W.length;G++)E.batchStrokePath(W[G].points,P,K,T,C);break}case a.LINE_STYLE:{P=S[++U];var Z=S[++U],V=S[++U]*A,J=X(Z,V);L.TL=J,L.TR=J,L.BL=J,L.BR=J;break}case a.FILL_STYLE:{var Q=S[++U],ee=S[++U]*A,te=X(Q,ee);R.TL=te,R.TR=te,R.BL=te,R.BR=te;break}case a.GRADIENT_FILL_STYLE:{var ie=S[++U]*A,le=S[++U]*A,de=S[++U]*A,fe=S[++U]*A;R.TL=X(S[++U],ie),R.TR=X(S[++U],le),R.BL=X(S[++U],de),R.BR=X(S[++U],fe);break}case a.GRADIENT_LINE_STYLE:{P=S[++U];var oe=S[++U]*A;L.TL=X(S[++U],oe),L.TR=X(S[++U],oe),L.BL=X(S[++U],oe),L.BR=X(S[++U],oe);break}case a.ARC:{var Ee=0,ye=S[++U],Ce=S[++U],Ie=S[++U],je=S[++U],Re=S[++U],Fe=S[++U],Ae=S[++U];for(Re-=je,Fe?Re<-k?Re=-k:Re>0&&(Re=-k+Re%k):Re>k?Re=k:Re<0&&(Re=k+Re%k),z===null&&(z=new o(ye+Math.cos(je)*Ie,Ce+Math.sin(je)*Ie,P),W.push(z),Ee+=N);Ee<1+Ae;)F=Re*Ee+je,D=ye+Math.cos(F)*Ie,$=Ce+Math.sin(F)*Ie,z.points.push(new l(D,$,P)),Ee+=N;F=Re+je,D=ye+Math.cos(F)*Ie,$=Ce+Math.sin(F)*Ie,z.points.push(new l(D,$,P));break}case a.FILL_RECT:{E.batchFillRect(S[++U],S[++U],S[++U],S[++U],T,C);break}case a.FILL_TRIANGLE:{E.batchFillTriangle(S[++U],S[++U],S[++U],S[++U],S[++U],S[++U],T,C);break}case a.STROKE_TRIANGLE:{E.batchStrokeTriangle(S[++U],S[++U],S[++U],S[++U],S[++U],S[++U],P,T,C);break}case a.LINE_TO:{z!==null?z.points.push(new l(S[++U],S[++U],P)):(z=new o(S[++U],S[++U],P),W.push(z));break}case a.MOVE_TO:{z=new o(S[++U],S[++U],P),W.push(z);break}case a.SAVE:{d.push(T.copyToArray());break}case a.RESTORE:{T.copyFromArray(d.pop());break}case a.TRANSLATE:{ye=S[++U],Ce=S[++U],T.translate(ye,Ce);break}case a.SCALE:{ye=S[++U],Ce=S[++U],T.scale(ye,Ce);break}case a.ROTATE:{T.rotate(S[++U]);break}}y.pipelines.postBatch(w)}};s.exports=f}),26479:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(61061),v=r(83419),h=r(51708),u=r(50792),l=r(46710),o=r(95540),d=r(35154),p=r(97022),f=r(41212),y=r(88492),w=r(35072),x=r(68287),b=new v({Extends:u,initialize:function(C,T,S){u.call(this),S?T&&!Array.isArray(T)&&(T=[T]):Array.isArray(T)?f(T[0])&&(S=T,T=null):f(T)&&(S=T,T=null),this.scene=C,this.children=new w,this.isParent=!0,this.type="Group",this.classType=o(S,"classType",x),this.name=o(S,"name",""),this.active=o(S,"active",!0),this.maxSize=o(S,"maxSize",-1),this.defaultKey=o(S,"defaultKey",null),this.defaultFrame=o(S,"defaultFrame",null),this.runChildUpdate=o(S,"runChildUpdate",!1),this.createCallback=o(S,"createCallback",null),this.removeCallback=o(S,"removeCallback",null),this.createMultipleCallback=o(S,"createMultipleCallback",null),this.internalCreateCallback=o(S,"internalCreateCallback",null),this.internalRemoveCallback=o(S,"internalRemoveCallback",null),T&&this.addMultiple(T),S&&this.createMultiple(S),this.on(h.ADDED_TO_SCENE,this.addedToScene,this),this.on(h.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(E,C,T,S,A,P){if(E===void 0&&(E=0),C===void 0&&(C=0),T===void 0&&(T=this.defaultKey),S===void 0&&(S=this.defaultFrame),A===void 0&&(A=!0),P===void 0&&(P=!0),this.isFull())return null;var R=new this.classType(this.scene,E,C,T,S);return R.addToDisplayList(this.scene.sys.displayList),R.addToUpdateList(),R.visible=A,R.setActive(P),this.add(R),R},createMultiple:function(E){if(this.isFull())return[];Array.isArray(E)||(E=[E]);var C=[];if(E[0].key)for(var T=0;T<E.length;T++){var S=this.createFromConfig(E[T]);C=C.concat(S)}return C},createFromConfig:function(E){if(this.isFull())return[];this.classType=o(E,"classType",this.classType);var C=o(E,"key",void 0),T=o(E,"frame",null),S=o(E,"visible",!0),A=o(E,"active",!0),P=[];if(C===void 0)return P;Array.isArray(C)||(C=[C]),Array.isArray(T)||(T=[T]);var R=o(E,"repeat",0),L=o(E,"randomKey",!1),D=o(E,"randomFrame",!1),$=o(E,"yoyo",!1),F=o(E,"quantity",!1),N=o(E,"frameQuantity",1),k=o(E,"max",0),j=y(C,T,{max:k,qty:F||N,random:L,randomB:D,repeat:R,yoyo:$});E.createCallback&&(this.createCallback=E.createCallback),E.removeCallback&&(this.removeCallback=E.removeCallback),E.internalCreateCallback&&(this.internalCreateCallback=E.internalCreateCallback),E.internalRemoveCallback&&(this.internalRemoveCallback=E.internalRemoveCallback);for(var W=0;W<j.length;W++){var G=this.create(0,0,j[W].a,j[W].b,S,A);if(!G)break;P.push(G)}if(p(E,"setXY")){var K=d(E,"setXY.x",0),z=d(E,"setXY.y",0),X=d(E,"setXY.stepX",0),U=d(E,"setXY.stepY",0);a.SetXY(P,K,z,X,U)}if(p(E,"setRotation")){var Z=d(E,"setRotation.value",0),V=d(E,"setRotation.step",0);a.SetRotation(P,Z,V)}if(p(E,"setScale")){var J=d(E,"setScale.x",1),Q=d(E,"setScale.y",J),ee=d(E,"setScale.stepX",0),te=d(E,"setScale.stepY",0);a.SetScale(P,J,Q,ee,te)}if(p(E,"setOrigin")){var ie=d(E,"setOrigin.x",.5),le=d(E,"setOrigin.y",ie),de=d(E,"setOrigin.stepX",0),fe=d(E,"setOrigin.stepY",0);a.SetOrigin(P,ie,le,de,fe)}if(p(E,"setAlpha")){var oe=d(E,"setAlpha.value",1),Ee=d(E,"setAlpha.step",0);a.SetAlpha(P,oe,Ee)}if(p(E,"setDepth")){var ye=d(E,"setDepth.value",0),Ce=d(E,"setDepth.step",0);a.SetDepth(P,ye,Ce)}if(p(E,"setScrollFactor")){var Ie=d(E,"setScrollFactor.x",1),je=d(E,"setScrollFactor.y",Ie),Re=d(E,"setScrollFactor.stepX",0),Fe=d(E,"setScrollFactor.stepY",0);a.SetScrollFactor(P,Ie,je,Re,Fe)}var Ae=o(E,"hitArea",null),Xe=o(E,"hitAreaCallback",null);Ae&&a.SetHitArea(P,Ae,Xe);var st=o(E,"gridAlign",!1);return st&&a.GridAlign(P,st),this.createMultipleCallback&&this.createMultipleCallback.call(this,P),P},preUpdate:function(E,C){if(!(!this.runChildUpdate||this.children.size===0))for(var T=this.children.entries.slice(),S=0;S<T.length;S++){var A=T[S];A.active&&A.update(E,C)}},add:function(E,C){return C===void 0&&(C=!1),this.isFull()?this:(this.children.set(E),this.internalCreateCallback&&this.internalCreateCallback.call(this,E),this.createCallback&&this.createCallback.call(this,E),C&&(E.addToDisplayList(this.scene.sys.displayList),E.addToUpdateList()),E.on(h.DESTROY,this.remove,this),this)},addMultiple:function(E,C){if(C===void 0&&(C=!1),Array.isArray(E))for(var T=0;T<E.length;T++)this.add(E[T],C);return this},remove:function(E,C,T){return C===void 0&&(C=!1),T===void 0&&(T=!1),this.children.contains(E)?(this.children.delete(E),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,E),this.removeCallback&&this.removeCallback.call(this,E),E.off(h.DESTROY,this.remove,this),T?E.destroy():C&&(E.removeFromDisplayList(),E.removeFromUpdateList()),this):this},clear:function(E,C){E===void 0&&(E=!1),C===void 0&&(C=!1);for(var T=this.children,S=0;S<T.size;S++){var A=T.entries[S];A.off(h.DESTROY,this.remove,this),C?A.destroy():E&&(A.removeFromDisplayList(),A.removeFromUpdateList())}return this.children.clear(),this},contains:function(E){return this.children.contains(E)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(E,C,T,S){return l(this.children.entries,E,C,T,S)},getFirst:function(E,C,T,S,A,P,R){return this.getHandler(!0,1,E,C,T,S,A,P,R)},getFirstNth:function(E,C,T,S,A,P,R,L){return this.getHandler(!0,E,C,T,S,A,P,R,L)},getLast:function(E,C,T,S,A,P,R){return this.getHandler(!1,1,E,C,T,S,A,P,R)},getLastNth:function(E,C,T,S,A,P,R,L){return this.getHandler(!1,E,C,T,S,A,P,R,L)},getHandler:function(E,C,T,S,A,P,R,L,D){T===void 0&&(T=!1),S===void 0&&(S=!1);var $,F,N=0,k=this.children.entries;if(E)for(F=0;F<k.length;F++)if($=k[F],$.active===T){if(N++,N===C)break}else $=null;else for(F=k.length-1;F>=0;F--)if($=k[F],$.active===T){if(N++,N===C)break}else $=null;return $?(typeof A=="number"&&($.x=A),typeof P=="number"&&($.y=P),$):S?this.create(A,P,R,L,D):null},get:function(E,C,T,S,A){return this.getFirst(!1,!0,E,C,T,S,A)},getFirstAlive:function(E,C,T,S,A,P){return this.getFirst(!0,E,C,T,S,A,P)},getFirstDead:function(E,C,T,S,A,P){return this.getFirst(!1,E,C,T,S,A,P)},playAnimation:function(E,C){return a.PlayAnimation(this.children.entries,E,C),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(E){E===void 0&&(E=!0);for(var C=0,T=0;T<this.children.size;T++)this.children.entries[T].active===E&&C++;return C},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var E=this.getTotalUsed(),C=this.maxSize===-1?999999999999:this.maxSize;return C-E},setActive:function(E){return this.active=E,this},setName:function(E){return this.name=E,this},propertyValueSet:function(E,C,T,S,A){return a.PropertyValueSet(this.children.entries,E,C,T,S,A),this},propertyValueInc:function(E,C,T,S,A){return a.PropertyValueInc(this.children.entries,E,C,T,S,A),this},setX:function(E,C){return a.SetX(this.children.entries,E,C),this},setY:function(E,C){return a.SetY(this.children.entries,E,C),this},setXY:function(E,C,T,S){return a.SetXY(this.children.entries,E,C,T,S),this},incX:function(E,C){return a.IncX(this.children.entries,E,C),this},incY:function(E,C){return a.IncY(this.children.entries,E,C),this},incXY:function(E,C,T,S){return a.IncXY(this.children.entries,E,C,T,S),this},shiftPosition:function(E,C,T){return a.ShiftPosition(this.children.entries,E,C,T),this},angle:function(E,C){return a.Angle(this.children.entries,E,C),this},rotate:function(E,C){return a.Rotate(this.children.entries,E,C),this},rotateAround:function(E,C){return a.RotateAround(this.children.entries,E,C),this},rotateAroundDistance:function(E,C,T){return a.RotateAroundDistance(this.children.entries,E,C,T),this},setAlpha:function(E,C){return a.SetAlpha(this.children.entries,E,C),this},setTint:function(E,C,T,S){return a.SetTint(this.children.entries,E,C,T,S),this},setOrigin:function(E,C,T,S){return a.SetOrigin(this.children.entries,E,C,T,S),this},scaleX:function(E,C){return a.ScaleX(this.children.entries,E,C),this},scaleY:function(E,C){return a.ScaleY(this.children.entries,E,C),this},scaleXY:function(E,C,T,S){return a.ScaleXY(this.children.entries,E,C,T,S),this},setDepth:function(E,C){return a.SetDepth(this.children.entries,E,C),this},setBlendMode:function(E){return a.SetBlendMode(this.children.entries,E),this},setHitArea:function(E,C){return a.SetHitArea(this.children.entries,E,C),this},shuffle:function(){return a.Shuffle(this.children.entries),this},kill:function(E){this.children.contains(E)&&E.setActive(!1)},killAndHide:function(E){this.children.contains(E)&&(E.setActive(!1),E.setVisible(!1))},setVisible:function(E,C,T){return a.SetVisible(this.children.entries,E,C,T),this},toggleVisible:function(){return a.ToggleVisible(this.children.entries),this},destroy:function(E,C){E===void 0&&(E=!1),C===void 0&&(C=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(h.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(C,E),this.scene=void 0,this.children=void 0)}});s.exports=b}),94975:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(44603),v=r(26479);a.register("group",function(h){return new v(this.scene,null,h)})}),3385:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(26479),v=r(39429);v.register("group",function(h,u){return this.updateList.add(new a(this.scene,h,u))})}),88571:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(31401),h=r(95643),u=r(59819),l=new a({Extends:h,Mixins:[v.Alpha,v.BlendMode,v.Depth,v.Flip,v.GetBounds,v.Mask,v.Origin,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Size,v.TextureCrop,v.Tint,v.Transform,v.Visible,u],initialize:function(d,p,f,y,w){h.call(this,d,"Image"),this._crop=this.resetCropObject(),this.setTexture(y,w),this.setPosition(p,f),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});s.exports=l}),40652:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h){v.addToRenderList(a),r.batchSprite(a,a.frame,v,h)};s.exports=g}),82459:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(25305),v=r(44603),h=r(23568),u=r(88571);v.register("image",function(l,o){l===void 0&&(l={});var d=h(l,"key",null),p=h(l,"frame",null),f=new u(this.scene,0,0,d,p);return o!==void 0&&(l.add=o),a(this.scene,f,l),f})}),2117:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(88571),v=r(39429);v.register("image",function(h,u,l,o){return this.displayList.add(new a(this.scene,h,u,l,o))})}),59819:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(29747),v=a,h=a;v=r(99517),h=r(40652),s.exports={renderWebGL:v,renderCanvas:h}}),99517:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h){v.addToRenderList(a),this.pipeline.batchSprite(a,v,h)};s.exports=g}),77856:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={Events:r(51708),DisplayList:r(8050),GameObjectCreator:r(44603),GameObjectFactory:r(39429),UpdateList:r(45027),Components:r(31401),GetCalcMatrix:r(91296),BuildGameObject:r(25305),BuildGameObjectAnimation:r(13059),GameObject:r(95643),BitmapText:r(22186),Blitter:r(6107),Bob:r(46590),Container:r(31559),DOMElement:r(3069),DynamicBitmapText:r(2638),Extern:r(42421),Graphics:r(43831),Group:r(26479),Image:r(88571),Layer:r(93595),Particles:r(18404),PathFollower:r(1159),RenderTexture:r(591),RetroFont:r(196),Rope:r(77757),Sprite:r(68287),Text:r(50171),GetTextSize:r(14220),MeasureText:r(79557),TextStyle:r(35762),TileSprite:r(20839),Zone:r(41481),Video:r(18471),Shape:r(17803),Arc:r(23629),Curve:r(89),Ellipse:r(19921),Grid:r(30479),IsoBox:r(61475),IsoTriangle:r(16933),Line:r(57847),Polygon:r(24949),Rectangle:r(74561),Star:r(55911),Triangle:r(36931),Factories:{Blitter:r(12709),Container:r(24961),DOMElement:r(2611),DynamicBitmapText:r(72566),Extern:r(56315),Graphics:r(1201),Group:r(3385),Image:r(2117),Layer:r(20005),Particles:r(676),PathFollower:r(90145),RenderTexture:r(60505),Rope:r(96819),Sprite:r(46409),StaticBitmapText:r(34914),Text:r(68005),TileSprite:r(91681),Zone:r(84175),Video:r(89025),Arc:r(42563),Curve:r(40511),Ellipse:r(1543),Grid:r(34137),IsoBox:r(3933),IsoTriangle:r(49803),Line:r(2481),Polygon:r(64827),Rectangle:r(87959),Star:r(93697),Triangle:r(45245)},Creators:{Blitter:r(9403),Container:r(77143),DynamicBitmapText:r(11164),Graphics:r(87079),Group:r(94975),Image:r(82459),Layer:r(25179),Particles:r(92730),RenderTexture:r(34495),Rope:r(26209),Sprite:r(15567),StaticBitmapText:r(57336),Text:r(71259),TileSprite:r(14167),Zone:r(95261),Video:r(11511)}};a.Shader=r(20071),a.Mesh=r(4703),a.NineSlice=r(28103),a.PointLight=r(80321),a.Plane=r(33663),a.Factories.Shader=r(74177),a.Factories.Mesh=r(9225),a.Factories.NineSlice=r(47521),a.Factories.PointLight=r(71255),a.Factories.Plane=r(30985),a.Creators.Shader=r(54935),a.Creators.Mesh=r(20527),a.Creators.NineSlice=r(28279),a.Creators.PointLight=r(39829),a.Creators.Plane=r(56015),a.Light=r(41432),a.LightsManager=r(61356),a.LightsPlugin=r(88992),s.exports=a}),93595:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(10312),v=r(83419),h=r(31401),u=r(53774),l=r(45893),o=r(50792),d=r(51708),p=r(73162),f=r(33963),y=r(44594),w=r(19186),x=new v({Extends:p,Mixins:[h.AlphaSingle,h.BlendMode,h.Depth,h.Mask,h.PostPipeline,h.Visible,o,f],initialize:function(E,C){p.call(this,E),o.call(this),this.scene=E,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=E.sys,this.events=E.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(a.SKIP_CHECK),C&&this.add(C),E.sys.queueDepthSort()},setActive:function(b){return this.active=b,this},setName:function(b){return this.name=b,this},setState:function(b){return this.state=b,this},setDataEnabled:function(){return this.data||(this.data=new l(this)),this},setData:function(b,E){return this.data||(this.data=new l(this)),this.data.set(b,E),this},incData:function(b,E){return this.data||(this.data=new l(this)),this.data.inc(b,E),this},toggleData:function(b){return this.data||(this.data=new l(this)),this.data.toggle(b),this},getData:function(b){return this.data||(this.data=new l(this)),this.data.get(b)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return u(this)},willRender:function(b){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&b.id)},getIndexList:function(){for(var b=this,E=this.parentContainer,C=[];E&&(C.unshift(E.getIndex(b)),b=E,E.parentContainer);)E=E.parentContainer;return C.unshift(this.displayList.getIndex(b)),C},addChildCallback:function(b){var E=b.displayList;E&&E!==this&&b.removeFromDisplayList(),b.displayList||(this.queueDepthSort(),b.displayList=this,b.emit(d.ADDED_TO_SCENE,b,this.scene),this.events.emit(y.ADDED_TO_SCENE,b,this.scene))},removeChildCallback:function(b){this.queueDepthSort(),b.displayList=null,b.emit(d.REMOVED_FROM_SCENE,b,this.scene),this.events.emit(y.REMOVED_FROM_SCENE,b,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(w(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(b,E){return b._depth-E._depth},getChildren:function(){return this.list},addToDisplayList:function(b){return b===void 0&&(b=this.scene.sys.displayList),this.displayList&&this.displayList!==b&&this.removeFromDisplayList(),b.exists(this)||(this.displayList=b,b.add(this,!0),b.queueDepthSort(),this.emit(d.ADDED_TO_SCENE,this,this.scene),b.events.emit(y.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var b=this.displayList||this.scene.sys.displayList;return b.exists(this)&&(b.remove(this,!0),b.queueDepthSort(),this.displayList=null,this.emit(d.REMOVED_FROM_SCENE,this,this.scene),b.events.emit(y.REMOVED_FROM_SCENE,this,this.scene)),this},getDisplayList:function(){var b=null;return this.parentContainer?b=this.parentContainer.list:this.displayList&&(b=this.displayList.list),b},destroy:function(b){if(!(!this.scene||this.ignoreDestroy)){this.emit(d.DESTROY,this);for(var E=this.list;E.length;)E[0].destroy(b);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});s.exports=x}),2956:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){var h=a.list;if(h.length!==0){a.depthSort();var u=a.blendMode!==-1;u||r.setBlendMode(0);var l=a._alpha;a.mask&&a.mask.preRenderCanvas(r,null,v);for(var o=0;o<h.length;o++){var d=h[o];if(d.willRender(v)){var p=d.alpha;!u&&d.blendMode!==r.currentBlendMode&&r.setBlendMode(d.blendMode),d.setAlpha(p*l),d.renderCanvas(r,d,v),d.setAlpha(p)}}a.mask&&a.mask.postRenderCanvas(r)}};s.exports=g}),25179:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(25305),v=r(93595),h=r(44603),u=r(23568);h.register("layer",function(l,o){l===void 0&&(l={});var d=u(l,"children",null),p=new v(this.scene,d);return o!==void 0&&(l.add=o),a(this.scene,p,l),p})}),20005:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(93595),v=r(39429);v.register("layer",function(h){return this.displayList.add(new a(this.scene,h))})}),33963:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(29747),v=a,h=a;v=r(15869),h=r(2956),s.exports={renderWebGL:v,renderCanvas:h}}),15869:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){var h=a.list,u=h.length;if(u!==0){a.depthSort(),r.pipelines.preBatch(a);var l=a.blendMode!==-1;l||r.setBlendMode(0);for(var o=a.alpha,d=0;d<u;d++){var p=h[d];if(p.willRender(v)){var f,y,w,x;if(p.alphaTopLeft!==void 0)f=p.alphaTopLeft,y=p.alphaTopRight,w=p.alphaBottomLeft,x=p.alphaBottomRight;else{var b=p.alpha;f=b,y=b,w=b,x=b}!l&&p.blendMode!==r.currentBlendMode&&r.setBlendMode(p.blendMode);var E=p.mask;E&&E.preRenderWebGL(r,p,v);var C=p.type;C!==r.currentType&&(r.newType=!0,r.currentType=C),r.nextTypeMatch=d<u-1?h[d+1].type===r.currentType:!1,p.setAlpha(f*o,y*o,w*o,x*o),p.renderWebGL(r,p,v),p.setAlpha(f,y,w,x),E&&E.postRenderWebGL(r,v),r.newType=!1}}r.pipelines.postBatch(a)}};s.exports=g}),41432:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(96503),v=r(83419),h=r(31401),u=r(51767),l=r(70554),o=new v({Extends:a,Mixins:[h.Origin,h.ScrollFactor,h.Visible],initialize:function(p,f,y,w,x,b,E){a.call(this,p,f,y),this.color=new u(w,x,b),this.intensity=E,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(y)},displayWidth:{get:function(){return this.diameter},set:function(d){this.diameter=d}},displayHeight:{get:function(){return this.diameter},set:function(d){this.diameter=d}},width:{get:function(){return this.diameter},set:function(d){this.diameter=d}},height:{get:function(){return this.diameter},set:function(d){this.diameter=d}},willRender:function(d){return!(o.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&d.id)},setColor:function(d){var p=l.getFloatsFromUintRGB(d);return this.color.set(p[0],p[1],p[2]),this},setIntensity:function(d){return this.intensity=d,this},setRadius:function(d){return this.radius=d,this}});o.RENDER_MASK=15,s.exports=o}),61356:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(81491),v=r(83419),h=r(20339),u=r(41432),l=r(80321),o=r(51767),d=r(19133),p=r(19186),f=r(70554),y=new v({initialize:function(){this.lights=[],this.ambientColor=new o(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(w,x,b,E,C,T){return this.systems.displayList.add(new l(this.scene,w,x,b,E,C,T))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(w){for(var x=this.lights,b=w.worldView,E=[],C=0;C<x.length;C++){var T=x[C];T.willRender(w)&&a(T,b)&&E.push({light:T,distance:h(T.x,T.y,b.centerX,b.centerY)})}return E.length>this.maxLights&&(p(E,this.sortByDistance),E=E.slice(0,this.maxLights)),this.visibleLights=E.length,E},sortByDistance:function(w,x){return w.distance>=x.distance},setAmbientColor:function(w){var x=f.getFloatsFromUintRGB(w);return this.ambientColor.set(x[0],x[1],x[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(w,x,b,E,C){w===void 0&&(w=0),x===void 0&&(x=0),b===void 0&&(b=128),E===void 0&&(E=16777215),C===void 0&&(C=1);var T=f.getFloatsFromUintRGB(E),S=new u(w,x,b,T[0],T[1],T[2],C);return this.lights.push(S),S},removeLight:function(w){var x=this.lights.indexOf(w);return x>=0&&d(this.lights,x),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});s.exports=y}),88992:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(61356),h=r(37277),u=r(44594),l=new a({Extends:v,initialize:function(d){this.scene=d,this.systems=d.sys,d.sys.settings.isBooted||d.sys.events.once(u.BOOT,this.boot,this),v.call(this)},boot:function(){var o=this.systems.events;o.on(u.SHUTDOWN,this.shutdown,this),o.on(u.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});h.register("LightsPlugin",l,"lights"),s.exports=l}),4703:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(31401),h=r(39506),u=r(83997),l=r(95643),o=r(34684),d=r(92515),p=r(91296),f=r(37867),y=r(29807),w=r(43396),x=r(19186),b=r(25836),E=r(39318),C=new a({Extends:l,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Mask,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Size,v.Texture,v.Transform,v.Visible,y],initialize:function(S,A,P,R,L,D,$,F,N,k,j,W){A===void 0&&(A=0),P===void 0&&(P=0),R===void 0&&(R="__WHITE"),l.call(this,S,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new b,this.modelScale=new b(1,1,1),this.modelRotation=new b,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new f,this.viewPosition=new b,this.viewMatrix=new f,this.projectionMatrix=new f,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var G=S.sys.renderer;this.setPosition(A,P),this.setTexture(R,L),this.setSize(G.width,G.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(G.width,G.height),D&&this.addVertices(D,$,F,N,k,j,W)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(T){return this.viewPosition.addScale(b.LEFT,T),this.dirtyCache[10]=1,this},panY:function(T){return this.viewPosition.y+=b.DOWN.y*T,this.dirtyCache[10]=1,this},panZ:function(T){return this.viewPosition.z+=T,this.dirtyCache[10]=1,this},setPerspective:function(T,S,A,P,R){return A===void 0&&(A=45),P===void 0&&(P=.01),R===void 0&&(R=1e3),this.fov=A,this.projectionMatrix.perspective(h(A),T/S,P,R),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(T,S,A,P){return T===void 0&&(T=this.scene.sys.renderer.getAspectRatio()),S===void 0&&(S=1),A===void 0&&(A=-1e3),P===void 0&&(P=1e3),this.fov=0,this.projectionMatrix.ortho(-T,T,-S,S,A,P),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(T){T.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(T,S,A,P,R,L,D,$,F){var N=this.scene.sys.cache.obj.get(T),k;return N&&(k=o(N,this,S,A,P,R,L,D,$,F)),(!k||k.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",T),this},sortByDepth:function(T,S){return T.depth-S.depth},depthSort:function(){return x(this.faces,this.sortByDepth),this},addVertex:function(T,S,A,P,R,L,D){var $=new E(T,S,A,P,R,L,D);return this.vertices.push($),$},addFace:function(T,S,A){var P=new u(T,S,A);return this.faces.push(P),this.dirtyCache[9]=-1,P},addVertices:function(T,S,A,P,R,L,D){var $=d(T,S,A,P,R,L,D);return $?(this.faces=this.faces.concat($.faces),this.vertices=this.vertices.concat($.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(T){return this.faces[T]},hasFaceAt:function(T,S,A){A===void 0&&(A=this.scene.sys.cameras.main);for(var P=p(this,A).calc,R=this.faces,L=0;L<R.length;L++){var D=R[L];if(D.contains(T,S,P))return!0}return!1},getFaceAt:function(T,S,A){A===void 0&&(A=this.scene.sys.cameras.main);for(var P=p(this,A).calc,R=this.faces,L=[],D=0;D<R.length;D++){var $=R[D];$.contains(T,S,P)&&L.push($)}return x(L,this.sortByDepth)},setDebug:function(T,S){return this.debugGraphic=T,!T&&!S?this.debugCallback=null:S?this.debugCallback=S:this.debugCallback=this.renderDebug,this},isDirty:function(){var T=this.modelPosition,S=this.modelRotation,A=this.modelScale,P=this.dirtyCache,R=T.x,L=T.y,D=T.z,$=S.x,F=S.y,N=S.z,k=A.x,j=A.y,W=A.z,G=this.getFaceCount(),K=P[0],z=P[1],X=P[2],U=P[3],Z=P[4],V=P[5],J=P[6],Q=P[7],ee=P[8],te=P[9];return P[0]=R,P[1]=L,P[2]=D,P[3]=$,P[4]=F,P[5]=N,P[6]=k,P[7]=j,P[8]=W,P[9]=G,K!==R||z!==L||X!==D||U!==$||Z!==F||V!==N||J!==k||Q!==j||ee!==W||te!==G},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var T=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!T[10]&&!this.isDirty())){var S=this.width,A=this.height,P=this.viewMatrix,R=this.viewPosition;T[10]&&(P.identity(),P.translate(R),P.invert(),T[10]=0);var L=this.transformMatrix;L.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var D=R.z,$=this.faces,F=0;F<$.length;F++)$[F].transformCoordinatesLocal(L,S,A,D);this.depthSort()}},renderDebug:function(T,S){for(var A=T.debugGraphic,P=0;P<S.length;P++){var R=S[P],L=R.vertex1.tx,D=R.vertex1.ty,$=R.vertex2.tx,F=R.vertex2.ty,N=R.vertex3.tx,k=R.vertex3.ty;A.strokeTriangle(L,D,$,F,N,k)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(T){T===void 0&&(T={});var S=(function(A,P,R){for(var L=this.faces,D=0;D<L.length;D++){var $=L[D];if($.contains(P,R))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,T,S),this},setTint:function(T){T===void 0&&(T=16777215);for(var S=this.vertices,A=0;A<S.length;A++)S[A].color=T;return this},uvScroll:function(T,S){for(var A=this.faces,P=0;P<A.length;P++)A[P].scrollUV(T,S);return this},uvScale:function(T,S){for(var A=this.faces,P=0;P<A.length;P++)A[P].scaleUV(T,S);return this},tint:{set:function(T){this.setTint(T)}},rotateX:{get:function(){return w(this.modelRotation.x)},set:function(T){this.modelRotation.x=h(T)}},rotateY:{get:function(){return w(this.modelRotation.y)},set:function(T){this.modelRotation.y=h(T)}},rotateZ:{get:function(){return w(this.modelRotation.z)},set:function(T){this.modelRotation.z=h(T)}}});s.exports=C}),36488:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(){};s.exports=g}),20527:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(25305),v=r(44603),h=r(23568),u=r(35154),l=r(4703);v.register("mesh",function(o,d){o===void 0&&(o={});var p=h(o,"key",null),f=h(o,"frame",null),y=u(o,"vertices",[]),w=u(o,"uvs",[]),x=u(o,"indicies",[]),b=u(o,"containsZ",!1),E=u(o,"normals",[]),C=u(o,"colors",16777215),T=u(o,"alphas",1),S=new l(this.scene,0,0,p,f,y,w,x,b,E,C,T);return d!==void 0&&(o.add=d),a(this.scene,S,o),S})}),9225:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(4703),v=r(39429);v.register("mesh",function(h,u,l,o,d,p,f,y,w,x,b){return this.displayList.add(new a(this.scene,h,u,l,o,d,p,f,y,w,x,b))})}),29807:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(29747),v=a,h=a;v=r(48833),h=r(36488),s.exports={renderWebGL:v,renderCanvas:h}}),48833:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(91296),v=function(h,u,l,o){var d=u.faces,p=d.length;if(p!==0){l.addToRenderList(u);var f=h.pipelines.set(u.pipeline,u),y=a(u,l,o).calc;h.pipelines.preBatch(u);for(var w=f.setGameObject(u),x=f.vertexViewF32,b=f.vertexViewU32,E=f.vertexCount*f.currentShader.vertexComponentCount-1,C=u.tintFill,T=[],S=u.debugCallback,A=y.a,P=y.b,R=y.c,L=y.d,D=y.e,$=y.f,F=u.viewPosition.z,N=u.hideCCW,k=l.roundPixels,j=l.alpha*u.alpha,W=0,G=0;G<p;G++){var K=d[G];K.isInView(l,N,F,j,A,P,R,L,D,$,k)&&(f.shouldFlush(3)&&(f.flush(),w=f.setGameObject(u),E=f.vertexCount*f.currentShader.vertexComponentCount-1),E=K.load(x,b,E,w,C),W++,f.vertexCount+=3,f.currentBatch.count=f.vertexCount-f.currentBatch.start,S&&T.push(K))}u.totalFrame+=W,S&&S.call(u,u,T),h.pipelines.postBatch(u)}};s.exports=v}),28103:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(31401),h=r(95643),u=r(78023),l=r(39318),o=new a({Extends:h,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.GetBounds,v.Mask,v.Origin,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Texture,v.Transform,v.Visible,u],initialize:function(p,f,y,w,x,b,E,C,T,S,A){h.call(this,p,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var P=p.textures.getFrame(w,x);this.is3Slice=!S&&!A,P&&P.scale9&&(this.is3Slice=P.is3Slice);for(var R=this.is3Slice?18:54,L=0;L<R;L++)this.vertices.push(new l);this.setPosition(f,y),this.setTexture(w,x),this.setSlices(b,E,C,T,S,A,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(d,p,f,y,w,x,b){f===void 0&&(f=10),y===void 0&&(y=10),w===void 0&&(w=0),x===void 0&&(x=0),b===void 0&&(b=!1);var E=this.frame,C=!1;if(this.is3Slice&&b&&w!==0&&x!==0&&(C=!0),C)console.warn("Cannot change 9 slice to 3 slice");else{if(E&&E.scale9&&!b){var T=E.data.scale9Borders,S=T.x,A=T.y;f=S,y=E.width-T.w-S,w=A,x=E.height-T.h-A,d===void 0&&(d=E.width),p===void 0&&(p=E.height)}else d===void 0&&(d=256),p===void 0&&(p=256);this._width=d,this._height=p,this.leftWidth=f,this.rightWidth=y,this.topHeight=w,this.bottomHeight=x,this.is3Slice&&(p=E.height,this._height=p,this.topHeight=p,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var d=this.leftWidth,p=this.rightWidth,f=this.topHeight,y=this.bottomHeight,w=this.frame.width,x=this.frame.height;this.updateQuadUVs(0,0,0,d/w,f/x),this.updateQuadUVs(6,d/w,0,1-p/w,f/x),this.updateQuadUVs(12,1-p/w,0,1,f/x),this.is3Slice||(this.updateQuadUVs(18,0,f/x,d/w,1-y/x),this.updateQuadUVs(24,d/w,f/x,1-p/w,1-y/x),this.updateQuadUVs(30,1-p/w,f/x,1,1-y/x),this.updateQuadUVs(36,0,1-y/x,d/w,1),this.updateQuadUVs(42,d/w,1-y/x,1-p/w,1),this.updateQuadUVs(48,1-p/w,1-y/x,1,1))},updateVertices:function(){var d=this.leftWidth,p=this.rightWidth,f=this.topHeight,y=this.bottomHeight,w=this.width,x=this.height;this.updateQuad(0,-.5,.5,-.5+d/w,.5-f/x),this.updateQuad(6,-.5+d/w,.5,.5-p/w,.5-f/x),this.updateQuad(12,.5-p/w,.5,.5,.5-f/x),this.is3Slice||(this.updateQuad(18,-.5,.5-f/x,-.5+d/w,-.5+y/x),this.updateQuad(24,-.5+d/w,.5-f/x,.5-p/w,-.5+y/x),this.updateQuad(30,.5-p/w,.5-f/x,.5,-.5+y/x),this.updateQuad(36,-.5,-.5+y/x,-.5+d/w,-.5),this.updateQuad(42,-.5+d/w,-.5+y/x,.5-p/w,-.5),this.updateQuad(48,.5-p/w,-.5+y/x,.5,-.5))},updateQuad:function(d,p,f,y,w){var x=this.width,b=this.height,E=this.originX,C=this.originY,T=this.vertices;T[d+0].resize(p,f,x,b,E,C),T[d+1].resize(p,w,x,b,E,C),T[d+2].resize(y,f,x,b,E,C),T[d+3].resize(p,w,x,b,E,C),T[d+4].resize(y,w,x,b,E,C),T[d+5].resize(y,f,x,b,E,C)},updateQuadUVs:function(d,p,f,y,w){var x=this.vertices,b=this.frame,E=b.u0,C=b.v0,T=b.u1,S=b.v1;if(E!==0||T!==1){var A=T-E;p=E+p*A,y=E+y*A}if(C!==0||S!==1){var P=S-C;f=C+f*P,w=C+w*P}x[d+0].setUVs(p,f),x[d+1].setUVs(p,w),x[d+2].setUVs(y,f),x[d+3].setUVs(p,w),x[d+4].setUVs(y,w),x[d+5].setUVs(y,f)},clearTint:function(){return this.setTint(16777215),this},setTint:function(d){return d===void 0&&(d=16777215),this.tint=d,this.tintFill=!1,this},setTintFill:function(d){return this.setTint(d),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(d){this._width=Math.max(d,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(d){this.is3Slice||(this._height=Math.max(d,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(d){this.scaleX=d/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(d){this.scaleY=d/this.height}},setSize:function(d,p){this.width=d,this.height=p,this.updateDisplayOrigin();var f=this.input;return f&&!f.customHitArea&&(f.hitArea.width=this.width,f.hitArea.height=this.height),this},setDisplaySize:function(d,p){return this.displayWidth=d,this.displayHeight=p,this},originX:{get:function(){return this._originX},set:function(d){this._originX=d,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(d){this._originY=d,this.updateVertices()}},setOrigin:function(d,p){return d===void 0&&(d=.5),p===void 0&&(p=d),this._originX=d,this._originY=p,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var d=this.frame.height;this._height=d,this.topHeight=d,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});s.exports=o}),28279:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(25305),v=r(44603),h=r(23568),u=r(35154),l=r(28103);v.register("nineslice",function(o,d){o===void 0&&(o={});var p=h(o,"key",null),f=h(o,"frame",null),y=u(o,"width",256),w=u(o,"height",256),x=u(o,"leftWidth",10),b=u(o,"rightWidth",10),E=u(o,"topHeight",0),C=u(o,"bottomHeight",0),T=new l(this.scene,0,0,p,f,y,w,x,b,E,C);return d!==void 0&&(o.add=d),a(this.scene,T,o),T})}),47521:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(28103),v=r(39429);v.register("nineslice",function(h,u,l,o,d,p,f,y,w,x){return this.displayList.add(new a(this.scene,h,u,l,o,d,p,f,y,w,x))})}),78023:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(29747),v=a,h=a;v=r(52230),s.exports={renderWebGL:v,renderCanvas:h}}),52230:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(91296),v=r(70554),h=function(u,l,o,d){var p=l.vertices,f=p.length;if(f!==0){o.addToRenderList(l);var y=u.pipelines.set(l.pipeline,l),w=a(l,o,d,!1).calc;u.pipelines.preBatch(l);var x=y.setGameObject(l),b=y.vertexViewF32,E=y.vertexViewU32,C=y.vertexCount*y.currentShader.vertexComponentCount-1,T=o.roundPixels,S=l.tintFill,A=o.alpha*l.alpha,P=v.getTintAppendFloatAlpha(l.tint,A),R=y.vertexAvailable(),L=-1;R<f&&(L=R);for(var D=0;D<f;D++){var $=p[D];D===L&&(y.flush(),x=y.setGameObject(l),C=0),b[++C]=w.getXRound($.vx,$.vy,T),b[++C]=w.getYRound($.vx,$.vy,T),b[++C]=$.u,b[++C]=$.v,b[++C]=x,b[++C]=S,E[++C]=P,y.vertexCount++,y.currentBatch.count=y.vertexCount-y.currentBatch.start}u.pipelines.postBatch(l)}};s.exports=h}),76472:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(44777),h=r(37589),u=r(6113),l=r(91389),o=r(90664),d=new a({Extends:v,initialize:function(f){v.call(this,f,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var p=this.propertyValue,f=p,y=this.defaultEmit,w=this.defaultUpdate;if(this.method===9){this.start=p[0],this.ease=u("Linear"),this.interpolation=l("linear"),y=this.easedValueEmit,w=this.easeValueUpdate,f=p[0],this.active=!0,this.r.length=0,this.g.length=0,this.b.length=0;for(var x=0;x<p.length;x++){var b=o(p[x]);this.r.push(b.r),this.g.push(b.g),this.b.push(b.b)}}return this.onEmit=y,this.onUpdate=w,this.current=f,this},setEase:function(p){this.easeName=p,this.ease=u(p)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(p,f,y){var w=this.ease(y),x=this.interpolation(this.r,w),b=this.interpolation(this.g,w),E=this.interpolation(this.b,w),C=h(x,b,E);return this.current=C,C}});s.exports=d}),44777:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(30976),v=r(45319),h=r(83419),u=r(99472),l=r(6113),o=r(95540),d=r(91389),p=r(77720),f=r(15994),y=new h({initialize:function(x,b,E){E===void 0&&(E=!1),this.propertyKey=x,this.propertyValue=b,this.defaultValue=b,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=E,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(w,x){w===void 0&&(w={}),x&&(this.propertyKey=x),this.propertyValue=o(w,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(w){var x;switch(this.method){case 1:case 3:case 8:x=w;break;case 2:this.propertyValue.indexOf(w)>=0&&(x=w);break;case 4:var b=(this.end-this.start)/this.steps;x=p(w,b),this.counter=x;break;case 5:case 6:case 7:x=v(w,this.start,this.end);break;case 9:x=this.start[0];break}return this.current=x,this},getMethod:function(){var w=this.propertyValue;if(w===null)return 0;var x=typeof w;if(x==="number")return 1;if(Array.isArray(w))return 2;if(x==="function")return 3;if(x==="object"){if(this.hasBoth(w,"start","end"))return this.has(w,"steps")?4:5;if(this.hasBoth(w,"min","max"))return 6;if(this.has(w,"random"))return 7;if(this.hasEither(w,"onEmit","onUpdate"))return 8;if(this.hasEither(w,"values","interpolation"))return 9}return 0},setMethods:function(){var w=this.propertyValue,x=w,b=this.defaultEmit,E=this.defaultUpdate;switch(this.method){case 1:b=this.staticValueEmit;break;case 2:b=this.randomStaticValueEmit,x=w[0];break;case 3:this._onEmit=w,b=this.proxyEmit,x=this.defaultValue;break;case 4:this.start=w.start,this.end=w.end,this.steps=w.steps,this.counter=this.start,this.yoyo=this.has(w,"yoyo")?w.yoyo:!1,this.direction=0,b=this.steppedEmit,x=this.start;break;case 5:this.start=w.start,this.end=w.end;var C=this.has(w,"ease")?w.ease:"Linear";this.ease=l(C,w.easeParams),b=this.has(w,"random")&&w.random?this.randomRangedValueEmit:this.easedValueEmit,E=this.easeValueUpdate,x=this.start;break;case 6:this.start=w.min,this.end=w.max,b=this.has(w,"int")&&w.int?this.randomRangedIntEmit:this.randomRangedValueEmit,x=this.start;break;case 7:var T=w.random;Array.isArray(T)&&(this.start=T[0],this.end=T[1]),b=this.randomRangedIntEmit,x=this.start;break;case 8:this._onEmit=this.has(w,"onEmit")?w.onEmit:this.defaultEmit,this._onUpdate=this.has(w,"onUpdate")?w.onUpdate:this.defaultUpdate,b=this.proxyEmit,E=this.proxyUpdate,x=this.defaultValue;break;case 9:this.start=w.values;var S=this.has(w,"ease")?w.ease:"Linear";this.ease=l(S,w.easeParams),this.interpolation=d(w.interpolation),b=this.easedValueEmit,E=this.easeValueUpdate,x=this.start[0];break}return this.onEmit=b,this.onUpdate=E,this.current=x,this},has:function(w,x){return w.hasOwnProperty(x)},hasBoth:function(w,x,b){return w.hasOwnProperty(x)&&w.hasOwnProperty(b)},hasEither:function(w,x,b){return w.hasOwnProperty(x)||w.hasOwnProperty(b)},defaultEmit:function(){return this.defaultValue},defaultUpdate:function(w,x,b,E){return E},proxyEmit:function(w,x,b){var E=this._onEmit(w,x,b);return this.current=E,E},proxyUpdate:function(w,x,b,E){var C=this._onUpdate(w,x,b,E);return this.current=C,C},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var w=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[w],this.current},randomRangedValueEmit:function(w,x){var b=u(this.start,this.end);return w&&w.data[x]&&(w.data[x].min=b,w.data[x].max=this.end),this.current=b,b},randomRangedIntEmit:function(w,x){var b=a(this.start,this.end);return w&&w.data[x]&&(w.data[x].min=b,w.data[x].max=this.end),this.current=b,b},steppedEmit:function(){var w=this.counter,x=w,b=(this.end-this.start)/this.steps;if(this.yoyo){var E;this.direction===0?(x+=b,x>=this.end&&(E=x-this.end,x=this.end-E,this.direction=1)):(x-=b,x<=this.start&&(E=this.start-x,x=this.start+E,this.direction=0)),this.counter=x}else this.counter=f(x+b,this.start,this.end);return this.current=w,w},easedValueEmit:function(w,x){if(w&&w.data[x]){var b=w.data[x];b.min=this.start,b.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(w,x,b){var E=w.data[x],C,T=this.ease(b);return this.interpolation?C=this.interpolation(this.start,T):C=(E.max-E.min)*T+E.min,this.current=C,C},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});s.exports=y}),24502:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(95540),h=r(20286),u=new a({Extends:h,initialize:function(o,d,p,f,y){if(typeof o=="object"){var w=o;o=v(w,"x",0),d=v(w,"y",0),p=v(w,"power",0),f=v(w,"epsilon",100),y=v(w,"gravity",50)}else o===void 0&&(o=0),d===void 0&&(d=0),p===void 0&&(p=0),f===void 0&&(f=100),y===void 0&&(y=50);h.call(this,o,d,!0),this._gravity=y,this._power=p*y,this._epsilon=f*f},update:function(l,o){var d=this.x-l.x,p=this.y-l.y,f=d*d+p*p;if(f!==0){var y=Math.sqrt(f);f<this._epsilon&&(f=this._epsilon);var w=this._power*o/(f*y)*100;l.velocityX+=d*w,l.velocityY+=p*w}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(l){this._epsilon=l*l}},power:{get:function(){return this._power/this._gravity},set:function(l){this._power=l*this._gravity}},gravity:{get:function(){return this._gravity},set:function(l){var o=this.power;this._gravity=l,this.power=o}}});s.exports=u}),56480:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(9674),v=r(45319),h=r(83419),u=r(39506),l=r(87841),o=r(11520),d=r(26099),p=new h({initialize:function(y){this.emitter=y,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new d,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=y.scene,this.anims=null,this.emitter.anims.length>0&&(this.anims=new a(this)),this.bounds=new l},emit:function(f,y,w,x,b,E){return this.emitter.emit(f,y,w,x,b,E)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(f,y){f===void 0&&(f=0),y===void 0&&(y=0),this.x=f,this.y=y},fire:function(f,y){var w=this.emitter,x=w.ops,b=w.getAnim();if(b?this.anims.play(b):(this.frame=w.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(w.getEmitZone(this),f===void 0?this.x+=x.x.onEmit(this,"x"):x.x.steps>0?this.x+=f+x.x.onEmit(this,"x"):this.x+=f,y===void 0?this.y+=x.y.onEmit(this,"y"):x.y.steps>0?this.y+=y+x.y.onEmit(this,"y"):this.y+=y,this.life=x.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=x.delay.onEmit(this,"delay"),this.holdCurrent=x.hold.onEmit(this,"hold"),this.scaleX=x.scaleX.onEmit(this,"scaleX"),this.scaleY=x.scaleY.active?x.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=x.rotate.onEmit(this,"rotate"),this.rotation=u(this.angle),w.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&w.getDeathZone(this))return this.lifeCurrent=0,!1;var E=x.speedX.onEmit(this,"speedX"),C=x.speedY.active?x.speedY.onEmit(this,"speedY"):E;if(w.radial){var T=u(x.angle.onEmit(this,"angle"));this.velocityX=Math.cos(T)*Math.abs(E),this.velocityY=Math.sin(T)*Math.abs(C)}else if(w.moveTo){var S=x.moveToX.onEmit(this,"moveToX"),A=x.moveToY.onEmit(this,"moveToY"),P=this.life/1e3;this.velocityX=(S-this.x)/P,this.velocityY=(A-this.y)/P}else this.velocityX=E,this.velocityY=C;return w.acceleration&&(this.accelerationX=x.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=x.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=x.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=x.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=x.bounce.onEmit(this,"bounce"),this.alpha=x.alpha.onEmit(this,"alpha"),x.color.active?this.tint=x.color.onEmit(this,"tint"):this.tint=x.tint.onEmit(this,"tint"),!0},update:function(f,y,w){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=f,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=f,!1;this.anims&&this.anims.update(0,f);var x=this.emitter,b=x.ops,E=1-this.lifeCurrent/this.life;if(this.lifeT=E,this.x=b.x.onUpdate(this,"x",E,this.x),this.y=b.y.onUpdate(this,"y",E,this.y),x.moveTo){var C=b.moveToX.onUpdate(this,"moveToX",E,x.moveToX),T=b.moveToY.onUpdate(this,"moveToY",E,x.moveToY),S=this.lifeCurrent/1e3;this.velocityX=(C-this.x)/S,this.velocityY=(T-this.y)/S}return this.computeVelocity(x,f,y,w,E),this.scaleX=b.scaleX.onUpdate(this,"scaleX",E,this.scaleX),b.scaleY.active?this.scaleY=b.scaleY.onUpdate(this,"scaleY",E,this.scaleY):this.scaleY=this.scaleX,this.angle=b.rotate.onUpdate(this,"rotate",E,this.angle),this.rotation=u(this.angle),x.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=v(b.alpha.onUpdate(this,"alpha",E,this.alpha),0,1),b.color.active?this.tint=b.color.onUpdate(this,"color",E,this.tint):this.tint=b.tint.onUpdate(this,"tint",E,this.tint),this.lifeCurrent-=f,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(f,y,w,x,b){var E=f.ops,C=this.velocityX,T=this.velocityY,S=E.accelerationX.onUpdate(this,"accelerationX",b,this.accelerationX),A=E.accelerationY.onUpdate(this,"accelerationY",b,this.accelerationY),P=E.maxVelocityX.onUpdate(this,"maxVelocityX",b,this.maxVelocityX),R=E.maxVelocityY.onUpdate(this,"maxVelocityY",b,this.maxVelocityY);this.bounce=E.bounce.onUpdate(this,"bounce",b,this.bounce),C+=f.gravityX*w+S*w,T+=f.gravityY*w+A*w,C=v(C,-P,P),T=v(T,-R,R),this.velocityX=C,this.velocityY=T,this.x+=C*w,this.y+=T*w,f.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var L=0;L<x.length;L++){var D=x[L];D.active&&D.update(this,y,w,b)}},setSizeToFrame:function(){},getBounds:function(f){f===void 0&&(f=this.emitter.getWorldTransformMatrix());var y=Math.abs(f.scaleX)*this.scaleX,w=Math.abs(f.scaleY)*this.scaleY,x=this.x,b=this.y,E=this.rotation,C=this.frame.width*y/2,T=this.frame.height*w/2,S=this.bounds,A=new d(x-C,b-T),P=new d(x+C,b-T),R=new d(x-C,b+T),L=new d(x+C,b+T);return E!==0&&(o(A,x,b,E),o(P,x,b,E),o(R,x,b,E),o(L,x,b,E)),f.transformPoint(A.x,A.y,A),f.transformPoint(P.x,P.y,P),f.transformPoint(R.x,R.y,R),f.transformPoint(L.x,L.y,L),S.x=Math.min(A.x,P.x,R.x,L.x),S.y=Math.min(A.y,P.y,R.y,L.y),S.width=Math.max(A.x,P.x,R.x,L.x)-S.x,S.height=Math.max(A.y,P.y,R.y,L.y)-S.y,S},destroy:function(){this.anims&&this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});s.exports=p}),69601:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(20286),h=r(87841),u=new a({Extends:v,initialize:function(o,d,p,f,y,w,x,b){y===void 0&&(y=!0),w===void 0&&(w=!0),x===void 0&&(x=!0),b===void 0&&(b=!0),v.call(this,o,d,!0),this.bounds=new h(o,d,p,f),this.collideLeft=y,this.collideRight=w,this.collideTop=x,this.collideBottom=b},update:function(l){var o=this.bounds,d=-l.bounce,p=l.worldPosition;p.x<o.x&&this.collideLeft?(l.x+=o.x-p.x,l.velocityX*=d):p.x>o.right&&this.collideRight&&(l.x-=p.x-o.right,l.velocityX*=d),p.y<o.y&&this.collideTop?(l.y+=o.y-p.y,l.velocityY*=d):p.y>o.bottom&&this.collideBottom&&(l.y-=p.y-o.bottom,l.velocityY*=d)}});s.exports=u}),31600:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(31401),h=r(53774),u=r(43459),l=r(26388),o=r(19909),d=r(76472),p=r(44777),f=r(20696),y=r(95643),w=r(95540),x=r(26546),b=r(24502),E=r(69036),C=r(1985),T=r(97022),S=r(86091),A=r(73162),P=r(20074),R=r(269),L=r(56480),D=r(69601),$=r(68875),F=r(87841),N=r(59996),k=r(72905),j=r(90668),W=r(19186),G=r(61340),K=r(26099),z=r(15994),X=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],U=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],Z=new a({Extends:y,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Mask,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Texture,v.Transform,v.Visible,j],initialize:function(J,Q,ee,te,ie){y.call(this,J,"ParticleEmitter"),this.particleClass=L,this.config=null,this.ops={accelerationX:new p("accelerationX",0),accelerationY:new p("accelerationY",0),alpha:new p("alpha",1),angle:new p("angle",{min:0,max:360},!0),bounce:new p("bounce",0),color:new d("color"),delay:new p("delay",0,!0),hold:new p("hold",0,!0),lifespan:new p("lifespan",1e3,!0),maxVelocityX:new p("maxVelocityX",1e4),maxVelocityY:new p("maxVelocityY",1e4),moveToX:new p("moveToX",0),moveToY:new p("moveToY",0),quantity:new p("quantity",1,!0),rotate:new p("rotate",0),scaleX:new p("scaleX",1),scaleY:new p("scaleY",1),speedX:new p("speedX",0,!0),speedY:new p("speedY",0,!0),tint:new p("tint",16777215),x:new p("x",0),y:new p("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new K,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new G,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new A(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(Q,ee),this.setTexture(te),ie&&this.setConfig(ie)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(V){if(!V)return this;this.config=V;var J=0,Q="",ee=this.ops;for(J=0;J<U.length;J++)Q=U[J],ee[Q].loadConfig(V);for(J=0;J<X.length;J++)Q=X[J],T(V,Q)&&(this[Q]=w(V,Q));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=E(V,["moveToX","moveToY"]),T(V,"speed")&&(ee.speedX.loadConfig(V,"speed"),ee.speedY.active=!1),(C(V,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),T(V,"scale")&&(ee.scaleX.loadConfig(V,"scale"),ee.scaleY.active=!1),T(V,"callbackScope")){var te=w(V,"callbackScope",null);this.emitCallbackScope=te,this.deathCallbackScope=te}if(T(V,"emitZone")&&this.addEmitZone(V.emitZone),T(V,"deathZone")&&this.addDeathZone(V.deathZone),T(V,"bounds")){var ie=this.addParticleBounds(V.bounds);ie.collideLeft=w(V,"collideLeft",!0),ie.collideRight=w(V,"collideRight",!0),ie.collideTop=w(V,"collideTop",!0),ie.collideBottom=w(V,"collideBottom",!0)}return T(V,"followOffset")&&this.followOffset.setFromObject(w(V,"followOffset",0)),T(V,"texture")&&this.setTexture(V.texture),T(V,"frame")?this.setEmitterFrame(V.frame):T(V,"anim")&&this.setAnim(V.anim),T(V,"reserve")&&this.reserve(V.reserve),T(V,"advance")&&this.fastForward(V.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(f.START,this),this},updateConfig:function(V){return V&&(this.config?this.setConfig(R(this.config,V)):this.setConfig(V)),this},toJSON:function(){var V=h(this),J=0,Q="";for(J=0;J<X.length;J++)Q=X[J],V[Q]=this[Q];var ee=this.ops;for(J=0;J<U.length;J++)Q=U[J],ee[Q]&&(V[Q]=ee[Q].toJSON());return ee.speedY.active||(delete V.speedX,V.speed=ee.speedX.toJSON()),this.scaleX===this.scaleY&&(delete V.scaleX,delete V.scaleY,V.scale=ee.scaleX.toJSON()),V},resetCounters:function(V,J){var Q=this.counters;Q.fill(0),Q[0]=V,J&&(Q[5]=1)},startFollow:function(V,J,Q,ee){return J===void 0&&(J=0),Q===void 0&&(Q=0),ee===void 0&&(ee=!1),this.follow=V,this.followOffset.set(J,Q),this.trackVisible=ee,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var V=this.frames,J=V.length,Q;return J===1?Q=V[0]:this.randomFrame?Q=x(V):(Q=V[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===J&&(this.currentFrame=0))),this.texture.get(Q)},setEmitterFrame:function(V,J,Q){J===void 0&&(J=!0),Q===void 0&&(Q=1),this.randomFrame=J,this.frameQuantity=Q,this.currentFrame=0;var ee=typeof V;if(this.frames.length=0,Array.isArray(V))this.frames=this.frames.concat(V);else if(ee==="string"||ee==="number")this.frames.push(V);else if(ee==="object"){var te=V;V=w(te,"frames",null),V&&(this.frames=this.frames.concat(V));var ie=w(te,"cycle",!1);this.randomFrame=!ie,this.frameQuantity=w(te,"quantity",Q)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var V=this.anims,J=V.length;if(J===0)return null;if(J===1)return V[0];if(this.randomAnim)return x(V);var Q=V[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=z(this.currentAnim+1,0,J)),Q},setAnim:function(V,J,Q){J===void 0&&(J=!0),Q===void 0&&(Q=1),this.randomAnim=J,this.animQuantity=Q,this.currentAnim=0;var ee=typeof V;if(this.anims.length=0,Array.isArray(V))this.anims=this.anims.concat(V);else if(ee==="string")this.anims.push(V);else if(ee==="object"){var te=V;V=w(te,"anims",null),V&&(this.anims=this.anims.concat(V));var ie=w(te,"cycle",!1);this.randomAnim=!ie,this.animQuantity=w(te,"quantity",Q)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(V){return V===void 0&&(V=!0),this.radial=V,this},addParticleBounds:function(V,J,Q,ee,te,ie,le,de){if(typeof V=="object"){var fe=V;V=fe.x,J=fe.y,Q=T(fe,"w")?fe.w:fe.width,ee=T(fe,"h")?fe.h:fe.height}return this.addParticleProcessor(new D(V,J,Q,ee,te,ie,le,de))},setParticleSpeed:function(V,J){return J===void 0&&(J=V),this.ops.speedX.onChange(V),V===J?this.ops.speedY.active=!1:this.ops.speedY.onChange(J),this.radial=!0,this},setParticleScale:function(V,J){return V===void 0&&(V=1),J===void 0&&(J=V),this.ops.scaleX.onChange(V),this.ops.scaleY.onChange(J),this},setParticleGravity:function(V,J){return this.gravityX=V,this.gravityY=J,this},setParticleAlpha:function(V){return this.ops.alpha.onChange(V),this},setParticleTint:function(V){return this.ops.tint.onChange(V),this},setEmitterAngle:function(V){return this.ops.angle.onChange(V),this},setParticleLifespan:function(V){return this.ops.lifespan.onChange(V),this},setQuantity:function(V){return this.quantity=V,this},setFrequency:function(V,J){return this.frequency=V,this.flowCounter=V>0?V:0,J&&(this.quantity=J),this},addDeathZone:function(V){Array.isArray(V)||(V=[V]);for(var J,Q=[],ee=0;ee<V.length;ee++)if(J=V[ee],J instanceof l)Q.push(J);else if(typeof J.contains=="function")J=new l(J,!0),Q.push(J);else{var te=w(J,"type","onEnter"),ie=w(J,"source",null);if(ie&&typeof ie.contains=="function"){var le=te==="onEnter";J=new l(ie,le),Q.push(J)}}return this.deathZones=this.deathZones.concat(Q),Q},removeDeathZone:function(V){return k(this.deathZones,V),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(V){Array.isArray(V)||(V=[V]);for(var J,Q=[],ee=0;ee<V.length;ee++)if(J=V[ee],J instanceof $||J instanceof o)Q.push(J);else{var te=w(J,"source",null);if(te){var ie=w(J,"type","random");if(ie==="random"&&typeof te.getRandomPoint=="function")J=new $(te),Q.push(J);else if(ie==="edge"&&typeof te.getPoints=="function"){var le=w(J,"quantity",1),de=w(J,"stepRate",0),fe=w(J,"yoyo",!1),oe=w(J,"seamless",!0),Ee=w(J,"total",-1);J=new o(te,le,de,fe,oe,Ee),Q.push(J)}}}return this.emitZones=this.emitZones.concat(Q),Q},removeEmitZone:function(V){return k(this.emitZones,V),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(V){var J=this.emitZones,Q=J.length;if(Q!==0){var ee=J[this.zoneIndex];ee.getPoint(V),ee.total>-1&&(this.zoneTotal++,this.zoneTotal===ee.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===Q&&(this.zoneIndex=0)))}},getDeathZone:function(V){for(var J=this.deathZones,Q=0;Q<J.length;Q++){var ee=J[Q];if(ee.willKill(V))return this.emit(f.DEATH_ZONE,this,V,ee),!0}return!1},setEmitZone:function(V){var J;return isFinite(V)?J=V:J=this.emitZones.indexOf(V),J>=0&&(this.zoneIndex=J),this},addParticleProcessor:function(V){return this.processors.exists(V)||(V.emitter&&V.emitter.removeParticleProcessor(V),this.processors.add(V),V.emitter=this),V},removeParticleProcessor:function(V){return this.processors.exists(V)&&(this.processors.remove(V,!0),V.emitter=null),V},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(V){return this.addParticleProcessor(new b(V))},reserve:function(V){var J=this.dead;if(this.maxParticles>0){var Q=this.getParticleCount();Q+V>this.maxParticles&&(V=this.maxParticles-(Q+V))}for(var ee=0;ee<V;ee++)J.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(V,J){return V===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof V=="function"&&(this.emitCallback=V,J&&(this.emitCallbackScope=J)),this},onParticleDeath:function(V,J){return V===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof V=="function"&&(this.deathCallback=V,J&&(this.deathCallbackScope=J)),this},killAll:function(){for(var V=this.dead,J=this.alive;J.length>0;)V.push(J.pop());return this},forEachAlive:function(V,J){for(var Q=this.alive,ee=Q.length,te=0;te<ee;te++)V.call(J,Q[te],this);return this},forEachDead:function(V,J){for(var Q=this.dead,ee=Q.length,te=0;te<ee;te++)V.call(J,Q[te],this);return this},start:function(V,J){return V===void 0&&(V=0),this.emitting||(V>0&&this.fastForward(V),this.emitting=!0,this.resetCounters(this.frequency,!0),J!==void 0&&(this.duration=Math.abs(J)),this.emit(f.START,this)),this},stop:function(V){return V===void 0&&(V=!1),this.emitting&&(this.emitting=!1,V&&this.killAll(),this.emit(f.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(V,J){return V===void 0&&(V=""),J===void 0&&(J=this.true),this.sortProperty=V,this.sortOrderAsc=J,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(V){return this.sortProperty!==""?V=this.depthSortCallback:V=null,this.sortCallback=V,this},depthSort:function(){return W(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(V,J){var Q=this.sortProperty;return this.sortOrderAsc?V[Q]-J[Q]:J[Q]-V[Q]},flow:function(V,J,Q){return J===void 0&&(J=1),this.emitting=!1,this.frequency=V,this.quantity=J,Q!==void 0&&(this.stopAfter=Q),this.start()},explode:function(V,J,Q){this.frequency=-1,this.resetCounters(-1,!0);var ee=this.emitParticle(V,J,Q);return this.emit(f.EXPLODE,this,ee),ee},emitParticleAt:function(V,J,Q){return this.emitParticle(Q,V,J)},emitParticle:function(V,J,Q){if(!this.atLimit()){V===void 0&&(V=this.ops.quantity.onEmit());for(var ee=this.dead,te=this.stopAfter,ie=this.follow?this.follow.x+this.followOffset.x:J,le=this.follow?this.follow.y+this.followOffset.y:Q,de=0;de<V;de++){var fe=ee.pop();if(fe||(fe=new this.particleClass(this)),fe.fire(ie,le)?(this.particleBringToTop?this.alive.push(fe):this.alive.unshift(fe),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,fe,this)):this.dead.push(fe),te>0&&(this.stopCounter++,this.stopCounter>=te)||this.atLimit())break}return fe}},fastForward:function(V,J){J===void 0&&(J=1e3/60);var Q=0;for(this.skipping=!0;Q<Math.abs(V);)this.preUpdate(0,J),Q+=J;return this.skipping=!1,this},preUpdate:function(V,J){J*=this.timeScale;var Q=J/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var ee=this.getProcessors(),te=this.alive,ie=this.dead,le=0,de=[],fe=te.length;for(le=0;le<fe;le++){var oe=te[le];oe.update(J,Q,ee)&&de.push({index:le,particle:oe})}if(fe=de.length,fe>0){var Ee=this.deathCallback,ye=this.deathCallbackScope;for(le=fe-1;le>=0;le--){var Ce=de[le];te.splice(Ce.index,1),ie.push(Ce.particle),Ee&&Ee.call(ye,Ce.particle),Ce.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&te.length===0&&(this.completeFlag=0,this.emit(f.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=J;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=J,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(V){for(var J=this.getWorldTransformMatrix(),Q=this.alive,ee=Q.length,te=[],ie=0;ie<ee;ie++){var le=Q[ie];N(V,le.getBounds(J))&&te.push(le)}return te},getBounds:function(V,J,Q,ee){V===void 0&&(V=0),J===void 0&&(J=0),Q===void 0&&(Q=1e3/60),ee===void 0&&(ee=new F);var te=this.getWorldTransformMatrix(),ie,le,de=this.alive,fe=!1;if(ee.setTo(0,0,0,0),J>0){var oe=0;for(this.skipping=!0;oe<Math.abs(J);){for(this.preUpdate(0,Q),ie=0;ie<de.length;ie++)le=de[ie].getBounds(te),fe?P(ee,le):(fe=!0,u(le,ee));oe+=Q}this.skipping=!1}else for(ie=0;ie<de.length;ie++)le=de[ie].getBounds(te),fe?P(ee,le):(fe=!0,u(le,ee));return V>0&&S(ee,V,V),ee},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(V){this.ops.x.onChange(V)}},particleY:{get:function(){return this.ops.y.current},set:function(V){this.ops.y.onChange(V)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(V){this.ops.accelerationX.onChange(V)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(V){this.ops.accelerationY.onChange(V)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(V){this.ops.maxVelocityX.onChange(V)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(V){this.ops.maxVelocityY.onChange(V)}},speed:{get:function(){return this.ops.speedX.current},set:function(V){this.ops.speedX.onChange(V),this.ops.speedY.onChange(V)}},speedX:{get:function(){return this.ops.speedX.current},set:function(V){this.ops.speedX.onChange(V)}},speedY:{get:function(){return this.ops.speedY.current},set:function(V){this.ops.speedY.onChange(V)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(V){this.ops.moveToX.onChange(V)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(V){this.ops.moveToY.onChange(V)}},bounce:{get:function(){return this.ops.bounce.current},set:function(V){this.ops.bounce.onChange(V)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(V){this.ops.scaleX.onChange(V)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(V){this.ops.scaleY.onChange(V)}},particleColor:{get:function(){return this.ops.color.current},set:function(V){this.ops.color.onChange(V)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(V){this.ops.color.setEase(V)}},particleTint:{get:function(){return this.ops.tint.current},set:function(V){this.ops.tint.onChange(V)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(V){this.ops.alpha.onChange(V)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(V){this.ops.lifespan.onChange(V)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(V){this.ops.angle.onChange(V)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(V){this.ops.rotate.onChange(V)}},quantity:{get:function(){return this.ops.quantity.current},set:function(V){this.ops.quantity.onChange(V)}},delay:{get:function(){return this.ops.delay.current},set:function(V){this.ops.delay.onChange(V)}},hold:{get:function(){return this.ops.hold.current},set:function(V){this.ops.hold.onChange(V)}},flowCounter:{get:function(){return this.counters[0]},set:function(V){this.counters[0]=V}},frameCounter:{get:function(){return this.counters[1]},set:function(V){this.counters[1]=V}},animCounter:{get:function(){return this.counters[2]},set:function(V){this.counters[2]=V}},elapsed:{get:function(){return this.counters[3]},set:function(V){this.counters[3]=V}},stopCounter:{get:function(){return this.counters[4]},set:function(V){this.counters[4]=V}},completeFlag:{get:function(){return this.counters[5]},set:function(V){this.counters[5]=V}},zoneIndex:{get:function(){return this.counters[6]},set:function(V){this.counters[6]=V}},zoneTotal:{get:function(){return this.counters[7]},set:function(V){this.counters[7]=V}},currentFrame:{get:function(){return this.counters[8]},set:function(V){this.counters[8]=V}},currentAnim:{get:function(){return this.counters[9]},set:function(V){this.counters[9]=V}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var V,J=this.ops;for(V=0;V<U.length;V++){var Q=U[V];J[Q].destroy()}for(V=0;V<this.alive.length;V++)this.alive[V].destroy();for(V=0;V<this.dead.length;V++)this.dead[V].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});s.exports=Z}),9871:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(59996),v=r(61340),h=new v,u=new v,l=new v,o=new v,d=function(p,f,y,w){var x=h,b=u,E=l,C=o;w?(C.loadIdentity(),C.multiply(w),C.translate(f.x,f.y),C.rotate(f.rotation),C.scale(f.scaleX,f.scaleY)):C.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY);var T=p.currentContext,S=y.roundPixels,A=y.alpha,P=f.alpha,R=f.alive,L=R.length,D=f.viewBounds;if(!(!f.visible||L===0||D&&!a(D,y.worldView))){f.sortCallback&&f.depthSort(),y.addToRenderList(f);var $=f.scrollFactorX,F=f.scrollFactorY;T.save(),T.globalCompositeOperation=p.blendModes[f.blendMode];for(var N=0;N<L;N++){var k=R[N],j=k.alpha*P*A;if(!(j<=0||k.scaleX===0||k.scaleY===0)){E.applyITRS(k.x,k.y,k.rotation,k.scaleX,k.scaleY),x.copyFrom(y.matrix),x.multiplyWithOffset(C,-y.scrollX*$,-y.scrollY*F),E.e=k.x,E.f=k.y,x.multiply(E,b);var W=k.frame,G=W.canvasData;if(G.width>0&&G.height>0){var K=-W.halfWidth,z=-W.halfHeight;T.globalAlpha=j,T.save(),b.setToContext(T),S&&(K=Math.round(K),z=Math.round(z)),T.imageSmoothingEnabled=!W.source.scaleMode,T.drawImage(W.source.image,G.x,G.y,G.width,G.height,K,z,G.width,G.height),T.restore()}}}T.restore()}};s.exports=d}),92730:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(25305),v=r(44603),h=r(23568),u=r(95540),l=r(31600);v.register("particles",function(o,d){o===void 0&&(o={});var p=h(o,"key",null),f=u(o,"config",null),y=new l(this.scene,0,0,p);return d!==void 0&&(o.add=d),a(this.scene,y,o),f&&y.setConfig(f),y})}),676:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(39429),v=r(31600);a.register("particles",function(h,u,l,o){return h!==void 0&&typeof h=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new v(this.scene,h,u,l,o))})}),90668:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(29747),v=a,h=a;v=r(21188),h=r(9871),s.exports={renderWebGL:v,renderCanvas:h}}),21188:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(59996),v=r(61340),h=r(70554),u=new v,l=new v,o=new v,d=new v,p=function(f,y,w,x){var b=f.pipelines.set(y.pipeline),E=u,C=l,T=o,S=d;x?(S.loadIdentity(),S.multiply(x),S.translate(y.x,y.y),S.rotate(y.rotation),S.scale(y.scaleX,y.scaleY)):S.applyITRS(y.x,y.y,y.rotation,y.scaleX,y.scaleY);var A=h.getTintAppendFloatAlpha,P=w.alpha,R=y.alpha;f.pipelines.preBatch(y);var L=y.alive,D=L.length,$=y.viewBounds;if(!(D===0||$&&!a($,w.worldView))){y.sortCallback&&y.depthSort(),w.addToRenderList(y),E.copyFrom(w.matrix),E.multiplyWithOffset(S,-w.scrollX*y.scrollFactorX,-w.scrollY*y.scrollFactorY),f.setBlendMode(y.blendMode),y.mask&&(y.mask.preRenderWebGL(f,y,w),f.pipelines.set(y.pipeline));for(var F=y.tintFill,N,k,j=0;j<D;j++){var W=L[j],G=W.alpha*R*P;if(!(G<=0||W.scaleX===0||W.scaleY===0)){T.applyITRS(W.x,W.y,W.rotation,W.scaleX,W.scaleY),T.e=W.x,T.f=W.y,E.multiply(T,C);var K=W.frame;K.glTexture!==k&&(k=K.glTexture,N=b.setGameObject(y,K));var z=-K.halfWidth,X=-K.halfHeight,U=C.setQuad(z,X,z+K.width,X+K.height),Z=A(W.tint,G);b.shouldFlush(6)&&(b.flush(),N=b.setGameObject(y,K)),b.batchQuad(y,U[0],U[1],U[2],U[3],U[4],U[5],U[6],U[7],K.u0,K.v0,K.u1,K.v1,Z,Z,Z,Z,F,k,N)}}y.mask&&y.mask.postRenderWebGL(f,w),f.pipelines.postBatch(y)}};s.exports=p}),20286:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=new a({initialize:function(u,l,o){u===void 0&&(u=0),l===void 0&&(l=0),o===void 0&&(o=!0),this.emitter,this.x=u,this.y=l,this.active=o},update:function(){},destroy:function(){this.emitter=null}});s.exports=v}),9774:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="complete"}),812:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="deathzone"}),30522:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="explode"}),96695:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="start"}),18677:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="stop"}),20696:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={COMPLETE:r(9774),DEATH_ZONE:r(812),EXPLODE:r(30522),START:r(96695),STOP:r(18677)}}),18404:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={EmitterColorOp:r(76472),EmitterOp:r(44777),Events:r(20696),GravityWell:r(24502),Particle:r(56480),ParticleBounds:r(69601),ParticleEmitter:r(31600),ParticleProcessor:r(20286),Zones:r(21024)}}),26388:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=new a({initialize:function(u,l){this.source=u,this.killOnEnter=l},willKill:function(h){var u=h.worldPosition,l=this.source.contains(u.x,u.y);return l&&this.killOnEnter||!l&&!this.killOnEnter}});s.exports=v}),19909:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=new a({initialize:function(u,l,o,d,p,f){d===void 0&&(d=!1),p===void 0&&(p=!0),f===void 0&&(f=-1),this.source=u,this.points=[],this.quantity=l,this.stepRate=o,this.yoyo=d,this.counter=-1,this.seamless=p,this._length=0,this._direction=0,this.total=f,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var h=this.points[0],u=this.points[this.points.length-1];h.x===u.x&&h.y===u.y&&this.points.pop()}var l=this._length;return this._length=this.points.length,this._length<l&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(h){return this.source=h,this.updateSource()},getPoint:function(h){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var u=this.points[this.counter];u&&(h.x=u.x,h.y=u.y)}});s.exports=v}),68875:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(26099),h=new a({initialize:function(l){this.source=l,this._tempVec=new v,this.total=-1},getPoint:function(u){var l=this._tempVec;this.source.getRandomPoint(l),u.x=l.x,u.y=l.y}});s.exports=h}),21024:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={DeathZone:r(26388),EdgeZone:r(19909),RandomZone:r(68875)}}),1159:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(31401),h=r(68287),u=new a({Extends:h,Mixins:[v.PathFollower],initialize:function(o,d,p,f,y,w){h.call(this,o,p,f,y,w),this.path=d},preUpdate:function(l,o){this.anims.update(l,o),this.pathUpdate(l)}});s.exports=u}),90145:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(39429),v=r(1159);a.register("follower",function(h,u,l,o,d){var p=new v(this.scene,h,u,l,o,d);return this.displayList.add(p),this.updateList.add(p),p})}),33663:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(9674),v=r(83419),h=r(48803),u=r(90664),l=r(4703),o=r(45650),d=new v({Extends:l,initialize:function(f,y,w,x,b,E,C,T){x||(x="__DEFAULT"),l.call(this,f,y,w,x,b),this.type="Plane",this.anims=new a(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(E,C,T),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(p,f,y){p===void 0&&(p=8),f===void 0&&(f=8),y===void 0&&(y=!1);var w=!1;return y&&(w=!0),this.gridWidth=p,this.gridHeight=f,this.isTiled=y,this.clear(),h({mesh:this,widthSegments:p,heightSegments:f,isOrtho:!1,tile:y,flipY:w}),this},setSizeToFrame:function(p){p===void 0&&(p=!0);var f=this.frame;if(this.setPerspective(this.width/f.width,this.height/f.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!p)return this;var y=this.gridWidth,w=this.gridHeight,x=this.vertices,b=f.u0,E=f.u1,C=f.v0,T=f.v1,S,A,P=0;if(this.isTiled)for(C=f.v1,T=f.v0,A=0;A<w;A++)for(S=0;S<y;S++)x[P++].setUVs(b,T),x[P++].setUVs(b,C),x[P++].setUVs(E,T),x[P++].setUVs(b,C),x[P++].setUVs(E,C),x[P++].setUVs(E,T);else{var R=y+1,L=w+1,D=E-b,$=T-C,F=[];for(A=0;A<L;A++)for(S=0;S<R;S++){var N=b+D*(S/y),k=C+$*(A/w);F.push(N,k)}for(A=0;A<w;A++)for(S=0;S<y;S++){var j=(S+R*A)*2,W=(S+R*(A+1))*2,G=(S+1+R*(A+1))*2,K=(S+1+R*A)*2;x[P++].setUVs(F[j],F[j+1]),x[P++].setUVs(F[W],F[W+1]),x[P++].setUVs(F[K],F[K+1]),x[P++].setUVs(F[W],F[W+1]),x[P++].setUVs(F[G],F[G+1]),x[P++].setUVs(F[K],F[K+1])}}return this},setViewHeight:function(p){p===void 0&&(p=this.frame.height);var f=this.fov*(Math.PI/180);this.viewPosition.z=this.height/p/Math.tan(f/2),this.dirtyCache[10]=1},createCheckerboard:function(p,f,y,w,x){p===void 0&&(p=16777215),f===void 0&&(f=255),y===void 0&&(y=255),w===void 0&&(w=255),x===void 0&&(x=128);for(var b=u(p),E=u(f),C=[],T=0;T<16;T++)for(var S=0;S<16;S++)T<8&&S<8||T>7&&S>7?C.push(b.r,b.g,b.b,y):C.push(E.r,E.g,E.b,w);var A=this.scene.sys.textures.addUint8Array(o(),new Uint8Array(C),16,16);return this.removeCheckerboard(),this.setTexture(A),this.setSizeToFrame(),this.setViewHeight(x),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(p,f){return this.anims.play(p,f)},playReverse:function(p,f){return this.anims.playReverse(p,f)},playAfterDelay:function(p,f){return this.anims.playAfterDelay(p,f)},playAfterRepeat:function(p,f){return this.anims.playAfterRepeat(p,f)},stop:function(){return this.anims.stop()},stopAfterDelay:function(p){return this.anims.stopAfterDelay(p)},stopAfterRepeat:function(p){return this.anims.stopAfterRepeat(p)},stopOnFrame:function(p){return this.anims.stopOnFrame(p)},preUpdate:function(p,f){l.prototype.preUpdate.call(this,p,f),this.anims.update(p,f)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});s.exports=d}),56015:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(25305),v=r(13059),h=r(44603),u=r(23568),l=r(35154),o=r(33663);h.register("plane",function(d,p){d===void 0&&(d={});var f=u(d,"key",null),y=u(d,"frame",null),w=l(d,"width",8),x=l(d,"height",8),b=l(d,"tile",!1),E=new o(this.scene,0,0,f,y,w,x,b);p!==void 0&&(d.add=p);var C=l(d,"checkerboard",null);if(C){var T=l(C,"color1",16777215),S=l(C,"color2",255),A=l(C,"alpha1",255),P=l(C,"alpha2",255),R=l(C,"height",128);E.createCheckerboard(T,S,A,P,R)}return a(this.scene,E,d),v(E,d),E})}),30985:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(33663),v=r(39429);v.register("plane",function(h,u,l,o,d,p,f){return this.displayList.add(new a(this.scene,h,u,l,o,d,p,f))})}),80321:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(31401),h=r(95643),u=r(30100),l=r(36060),o=r(67277),d=new a({Extends:h,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Mask,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Transform,v.Visible,o],initialize:function(f,y,w,x,b,E,C){x===void 0&&(x=16777215),b===void 0&&(b=128),E===void 0&&(E=1),C===void 0&&(C=.1),h.call(this,f,"PointLight"),this.initPipeline(l.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(y,w),this.color=u(x),this.intensity=E,this.attenuation=C,this.width=b*2,this.height=b*2,this._radius=b},radius:{get:function(){return this._radius},set:function(p){this._radius=p,this.width=p*2,this.height=p*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});s.exports=d}),39829:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(25305),v=r(44603),h=r(23568),u=r(80321);v.register("pointlight",function(l,o){l===void 0&&(l={});var d=h(l,"color",16777215),p=h(l,"radius",128),f=h(l,"intensity",1),y=h(l,"attenuation",.1),w=new u(this.scene,0,0,d,p,f,y);return o!==void 0&&(l.add=o),a(this.scene,w,l),w})}),71255:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(39429),v=r(80321);a.register("pointlight",function(h,u,l,o,d,p){return this.displayList.add(new v(this.scene,h,u,l,o,d,p))})}),67277:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(29747),v=a,h=a;v=r(57787),s.exports={renderWebGL:v,renderCanvas:h}}),57787:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(91296),v=function(h,u,l,o){l.addToRenderList(u);var d=h.pipelines.set(u.pipeline),p=a(u,l,o).calc,f=u.width,y=u.height,w=-u._radius,x=-u._radius,b=w+f,E=x+y,C=p.getX(0,0),T=p.getY(0,0),S=p.getX(w,x),A=p.getY(w,x),P=p.getX(w,E),R=p.getY(w,E),L=p.getX(b,E),D=p.getY(b,E),$=p.getX(b,x),F=p.getY(b,x);h.pipelines.preBatch(u),d.batchPointLight(u,l,S,A,P,R,L,D,$,F,C,T),h.pipelines.postBatch(u)};s.exports=v}),591:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(81320),h=r(88571),u=new a({Extends:h,initialize:function(o,d,p,f,y,w){d===void 0&&(d=0),p===void 0&&(p=0),f===void 0&&(f=32),y===void 0&&(y=32),w===void 0&&(w=!0);var x=new v(o.sys.textures,"",f,y,w);h.call(this,o,d,p,x),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(l,o){this.width=l,this.height=o,this.updateDisplayOrigin();var d=this.input;return d&&!d.customHitArea&&(d.hitArea.width=l,d.hitArea.height=o),this},resize:function(l,o,d){return this.texture.setSize(l,o,d),this.setSize(this.texture.width,this.texture.height),this},saveTexture:function(l){var o=this.texture;return o.key=l,o.manager.addDynamicTexture(o)&&(this._saved=!0),o},fill:function(l,o,d,p,f,y){return this.texture.fill(l,o,d,p,f,y),this},clear:function(){return this.texture.clear(),this},stamp:function(l,o,d,p,f){return this.texture.stamp(l,o,d,p,f),this},erase:function(l,o,d){return this.texture.erase(l,o,d),this},draw:function(l,o,d,p,f){return this.texture.draw(l,o,d,p,f),this},drawFrame:function(l,o,d,p,f,y){return this.texture.drawFrame(l,o,d,p,f,y),this},repeat:function(l,o,d,p,f,y,w,x,b){return this.texture.repeat(l,o,d,p,f,y,w,x,b),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(l,o,d,p,f){return this.texture.batchDraw(l,o,d,p,f),this},batchDrawFrame:function(l,o,d,p,f,y){return this.texture.batchDrawFrame(l,o,d,p,f,y),this},endDraw:function(l){return this.texture.endDraw(l),this},snapshotArea:function(l,o,d,p,f,y,w){return this.texture.snapshotArea(l,o,d,p,f,y,w),this},snapshot:function(l,o,d){return this.snapshotArea(0,0,this.width,this.height,l,o,d)},snapshotPixel:function(l,o,d){return this.snapshotArea(l,o,1,1,d,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});s.exports=u}),34495:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(25305),v=r(44603),h=r(23568),u=r(591);v.register("renderTexture",function(l,o){l===void 0&&(l={});var d=h(l,"x",0),p=h(l,"y",0),f=h(l,"width",32),y=h(l,"height",32),w=new u(this.scene,d,p,f,y);return o!==void 0&&(l.add=o),a(this.scene,w,l),w})}),60505:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(39429),v=r(591);a.register("renderTexture",function(h,u,l,o){return this.displayList.add(new v(this.scene,h,u,l,o))})}),77757:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(9674),v=r(83419),h=r(31401),u=r(95643),l=r(36060),o=r(38745),d=r(26099),p=new v({Extends:u,Mixins:[h.AlphaSingle,h.BlendMode,h.Depth,h.Flip,h.Mask,h.Pipeline,h.PostPipeline,h.Size,h.Texture,h.Transform,h.Visible,h.ScrollFactor,o],initialize:function(y,w,x,b,E,C,T,S,A){b===void 0&&(b="__DEFAULT"),C===void 0&&(C=2),T===void 0&&(T=!0),u.call(this,y,"Rope"),this.anims=new a(this),this.points=C,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=b==="__DEFAULT",this.dirty=!1,this.horizontal=T,this._flipX=!1,this._flipY=!1,this._perp=new d,this.debugCallback=null,this.debugGraphic=null,this.setTexture(b,E),this.setPosition(w,x),this.setSizeToFrame(),this.initPipeline(l.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(C)&&this.resizeArrays(C.length),this.setPoints(C,S,A),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(f,y){var w=this.anims.currentFrame;this.anims.update(f,y),this.anims.currentFrame!==w&&(this.updateUVs(),this.updateVertices())},play:function(f,y,w){return this.anims.play(f,y,w),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(f,y,w){return f===void 0&&(f=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(f,y,w))},setVertical:function(f,y,w){return f===void 0&&(f=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(f,y,w)):this},setTintFill:function(f){return f===void 0&&(f=!1),this.tintFill=f,this},setAlphas:function(f,y){var w=this.points.length;if(w<1)return this;var x=this.alphas;f===void 0?f=[1]:!Array.isArray(f)&&y===void 0&&(f=[f]);var b,E=0;if(y!==void 0)for(b=0;b<w;b++)E=b*2,x[E]=f,x[E+1]=y;else if(f.length===w)for(b=0;b<w;b++)E=b*2,x[E]=f[b],x[E+1]=f[b];else{var C=f[0];for(b=0;b<w;b++)E=b*2,f.length>E&&(C=f[E]),x[E]=C,f.length>E+1&&(C=f[E+1]),x[E+1]=C}return this},setColors:function(f){var y=this.points.length;if(y<1)return this;var w=this.colors;f===void 0?f=[16777215]:Array.isArray(f)||(f=[f]);var x,b=0;if(f.length===y)for(x=0;x<y;x++)b=x*2,w[b]=f[x],w[b+1]=f[x];else{var E=f[0];for(x=0;x<y;x++)b=x*2,f.length>b&&(E=f[b]),w[b]=E,f.length>b+1&&(E=f[b+1]),w[b+1]=E}return this},setPoints:function(f,y,w){if(f===void 0&&(f=2),typeof f=="number"){var x=f;x<2&&(x=2),f=[];var b,E,C;if(this.horizontal)for(C=-this.frame.halfWidth,E=this.frame.width/(x-1),b=0;b<x;b++)f.push({x:C+b*E,y:0});else for(C=-this.frame.halfHeight,E=this.frame.height/(x-1),b=0;b<x;b++)f.push({x:0,y:C+b*E})}var T=f.length,S=this.points.length;return T<1?(console.warn("Rope: Not enough points given"),this):(T===1&&(f.unshift({x:0,y:0}),T++),S!==T&&this.resizeArrays(T),this.dirty=!0,this.points=f,this.updateUVs(),y!=null&&this.setColors(y),w!=null&&this.setAlphas(w),this)},updateUVs:function(){for(var f=this.uv,y=this.points.length,w=this.frame.u0,x=this.frame.v0,b=this.frame.u1,E=this.frame.v1,C=(b-w)/(y-1),T=(E-x)/(y-1),S=0;S<y;S++){var A=S*4,P,R,L,D;this.horizontal?(this._flipX?(P=b-S*C,L=b-S*C):(P=w+S*C,L=w+S*C),this._flipY?(R=E,D=x):(R=x,D=E)):(this._flipX?(P=w,L=b):(P=b,L=w),this._flipY?(R=E-S*T,D=E-S*T):(R=x+S*T,D=x+S*T)),f[A+0]=P,f[A+1]=R,f[A+2]=L,f[A+3]=D}return this},resizeArrays:function(f){var y=this.colors,w=this.alphas;this.vertices=new Float32Array(f*4),this.uv=new Float32Array(f*4),y=new Uint32Array(f*2),w=new Float32Array(f*2);for(var x=0;x<f*2;x++)y[x]=16777215,w[x]=1;return this.colors=y,this.alphas=w,this.dirty=!0,this},updateVertices:function(){var f=this._perp,y=this.points,w=this.vertices,x=y.length;if(this.dirty=!1,!(x<1)){for(var b,E=y[0],C=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,T=0;T<x;T++){var S=y[T],A=T*4;T<x-1?b=y[T+1]:b=S,f.x=b.y-E.y,f.y=-(b.x-E.x);var P=f.length();f.x/=P,f.y/=P,f.x*=C,f.y*=C,w[A]=S.x+f.x,w[A+1]=S.y+f.y,w[A+2]=S.x-f.x,w[A+3]=S.y-f.y,E=S}return this}},setDebug:function(f,y){return this.debugGraphic=f,!f&&!y?this.debugCallback=null:y?this.debugCallback=y:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(f,y,w){var x=f.debugGraphic,b=w[0],E=w[1],C=w[2],T=w[3];x.lineBetween(b,E,C,T);for(var S=4;S<y;S+=4){var A=w[S+0],P=w[S+1],R=w[S+2],L=w[S+3];x.lineBetween(b,E,A,P),x.lineBetween(C,T,R,L),x.lineBetween(C,T,A,P),x.lineBetween(A,P,R,L),b=A,E=P,C=R,T=L}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(f){return this._flipX=f,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(f){return this._flipY=f,this.updateUVs()}}});s.exports=p}),95262:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(){};s.exports=g}),26209:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(25305),v=r(44603),h=r(23568),u=r(35154),l=r(77757);v.register("rope",function(o,d){o===void 0&&(o={});var p=h(o,"key",null),f=h(o,"frame",null),y=h(o,"horizontal",!0),w=u(o,"points",void 0),x=u(o,"colors",void 0),b=u(o,"alphas",void 0),E=new l(this.scene,0,0,p,f,w,y,x,b);return d!==void 0&&(o.add=d),a(this.scene,E,o),E})}),96819:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(77757),v=r(39429);v.register("rope",function(h,u,l,o,d,p,f,y){return this.displayList.add(new a(this.scene,h,u,l,o,d,p,f,y))})}),38745:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(29747),v=a,h=a;v=r(20439),h=r(95262),s.exports={renderWebGL:v,renderCanvas:h}}),20439:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(91296),v=r(70554),h=function(u,l,o,d){o.addToRenderList(l);var p=u.pipelines.set(l.pipeline,l),f=a(l,o,d).calc,y=l.vertices,w=l.uv,x=l.colors,b=l.alphas,E=l.alpha,C=v.getTintAppendFloatAlpha,T=o.roundPixels,S=y.length,A=Math.floor(S*.5);p.flush(),u.pipelines.preBatch(l);var P=p.setGameObject(l),R=p.vertexViewF32,L=p.vertexViewU32,D=p.vertexCount*p.currentShader.vertexComponentCount-1,$=0,F=l.tintFill;l.dirty&&l.updateVertices();for(var N=l.debugCallback,k=[],j=0;j<S;j+=2){var W=y[j+0],G=y[j+1],K=W*f.a+G*f.c+f.e,z=W*f.b+G*f.d+f.f;T&&(K=Math.round(K),z=Math.round(z)),R[++D]=K,R[++D]=z,R[++D]=w[j+0],R[++D]=w[j+1],R[++D]=P,R[++D]=F,L[++D]=C(x[$],o.alpha*(b[$]*E)),$++,N&&(k[j+0]=K,k[j+1]=z)}N&&N.call(l,l,S,k),p.vertexCount+=A,p.currentBatch.count=p.vertexCount-p.currentBatch.start,u.pipelines.postBatch(l)};s.exports=h}),20071:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(31401),h=r(95643),u=r(95540),l=r(79291),o=r(61622),d=r(25479),p=r(61340),f=r(95428),y=r(92503),w=new a({Extends:h,Mixins:[v.ComputedSize,v.Depth,v.GetBounds,v.Mask,v.Origin,v.ScrollFactor,v.Transform,v.Visible,d],initialize:function(b,E,C,T,S,A,P,R){C===void 0&&(C=0),T===void 0&&(T=0),S===void 0&&(S=128),A===void 0&&(A=128),h.call(this,b,"Shader"),this.blendMode=-1,this.shader;var L=b.sys.renderer;this.renderer=L,this.gl=L.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=L.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new p,this._tempMatrix2=new p,this._tempMatrix3=new p,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=L.width,this._rendererHeight=L.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(C,T),this.setSize(S,A),this.setOrigin(.5,.5),this.setShader(E,P,R),this.renderer.on(y.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(x){return this.renderToTexture?!0:!(h.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&x.id)},setRenderToTexture:function(x,b){if(!this.renderToTexture){var E=this.width,C=this.height,T=this.renderer;this.glTexture=T.createTextureFromSource(null,E,C,0),this.framebuffer=T.createFramebuffer(E,C,this.glTexture,!1),this._rendererWidth=E,this._rendererHeight=C,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),x&&(this.texture=this.scene.sys.textures.addGLTexture(x,this.glTexture))}return this.shader&&(T.pipelines.clear(),this.load(),this.flush(),T.pipelines.rebind()),this},setShader:function(x,b,E){if(this.renderer.contextLost)return this._deferSetShader={key:x,textures:b,textureData:E},this;if(b===void 0&&(b=[]),typeof x=="string"){var C=this.scene.sys.cache.shader;if(!C.has(x))return console.warn("Shader missing: "+x),this;this.shader=C.get(x)}else this.shader=x;var T=this.gl,S=this.renderer;this.program&&S.deleteProgram(this.program);var A=S.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);T.uniformMatrix4fv(T.getUniformLocation(A.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),T.uniformMatrix4fv(T.getUniformLocation(A.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),T.uniform2f(T.getUniformLocation(A.webGLProgram,"uResolution"),this.width,this.height),this.program=A;var P=new Date,R={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[P.getFullYear(),P.getMonth(),P.getDate(),P.getHours()*60*60+P.getMinutes()*60+P.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=l(!0,{},this.shader.uniforms,R):this.uniforms=R;for(var L=0;L<4;L++)b[L]&&this.setSampler2D("iChannel"+L,b[L],L,E);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(x){return this.pointer=x,this},projOrtho:function(x,b,E,C){if(this.renderer.contextLost){this._deferProjOrtho={left:x,right:b,bottom:E,top:C};return}var T=-1e3,S=1e3,A=1/(x-b),P=1/(E-C),R=1/(T-S),L=this.projectionMatrix;L[0]=-2*A,L[5]=-2*P,L[10]=2*R,L[12]=(x+b)*A,L[13]=(C+E)*P,L[14]=(S+T)*R;var D=this.program,$=this.gl,F=this.renderer;F.setProgram(D),$.uniformMatrix4fv($.getUniformLocation(D.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=b,this._rendererHeight=E},initUniforms:function(){var x=this.renderer.glFuncMap,b=this.program;this._textureCount=0;for(var E in this.uniforms){var C=this.uniforms[E],T=C.type,S=x[T];C.uniformLocation=this.renderer.createUniformLocation(b,E),T!=="sampler2D"&&(C.glMatrix=S.matrix,C.glValueLength=S.length,C.glFunc=S.func)}},setSampler2DBuffer:function(x,b,E,C,T,S){T===void 0&&(T=0),S===void 0&&(S={});var A=this.uniforms[x];return A.value=b,S.width=E,S.height=C,A.textureData=S,this._textureCount=T,this.initSampler2D(A),this},setSampler2D:function(x,b,E,C){E===void 0&&(E=0);var T=this.scene.sys.textures;if(T.exists(b)){var S=T.getFrame(b);if(S.glTexture&&S.glTexture.isRenderTexture)return this.setSampler2DBuffer(x,S.glTexture,S.width,S.height,E,C);var A=this.uniforms[x],P=S.source;A.textureKey=b,A.source=P.image,A.value=S.glTexture,P.isGLTexture&&(C||(C={}),C.width=P.width,C.height=P.height),C&&(A.textureData=C),this._textureCount=E,this.initSampler2D(A)}return this},setUniform:function(x,b){return o(this.uniforms,x,b),this},getUniform:function(x){return u(this.uniforms,x,null)},setChannel0:function(x,b){return this.setSampler2D("iChannel0",x,0,b)},setChannel1:function(x,b){return this.setSampler2D("iChannel1",x,1,b)},setChannel2:function(x,b){return this.setSampler2D("iChannel2",x,2,b)},setChannel3:function(x,b){return this.setSampler2D("iChannel3",x,3,b)},initSampler2D:function(x){if(x.value){var b=x.textureData;if(b&&!x.value.isRenderTexture){var E=this.gl,C=x.value,T=E[u(b,"magFilter","linear").toUpperCase()],S=E[u(b,"minFilter","linear").toUpperCase()],A=E[u(b,"wrapS","repeat").toUpperCase()],P=E[u(b,"wrapT","repeat").toUpperCase()],R=E[u(b,"format","rgba").toUpperCase()],L=u(b,"flipY",!1),D=u(b,"width",C.width),$=u(b,"height",C.height),F=u(b,"source",C.pixels);b.repeat&&(A=E.REPEAT,P=E.REPEAT),b.width&&(F=null),C.update(F,D,$,L,A,P,S,T,R)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var x=this.gl,b=this.uniforms,E,C,T,S,A,P=0;for(var R in b)E=b[R],T=E.glFunc,C=E.glValueLength,S=E.uniformLocation,A=E.value,A!==null&&(C===1?E.glMatrix?T.call(x,S.webGLUniformLocation,E.transpose,A):T.call(x,S.webGLUniformLocation,A):C===2?T.call(x,S.webGLUniformLocation,A.x,A.y):C===3?T.call(x,S.webGLUniformLocation,A.x,A.y,A.z):C===4?T.call(x,S.webGLUniformLocation,A.x,A.y,A.z,A.w):E.type==="sampler2D"&&(x.activeTexture(x.TEXTURE0+P),x.bindTexture(x.TEXTURE_2D,A.webGLTexture),x.uniform1i(S.webGLUniformLocation,P),P++))},load:function(x){var b=this.gl,E=this.width,C=this.height,T=this.renderer,S=this.program,A=this.viewMatrix;if(!this.renderToTexture){var P=-this._displayOriginX,R=-this._displayOriginY;A[0]=x[0],A[1]=x[1],A[4]=x[2],A[5]=x[3],A[8]=x[4],A[9]=x[5],A[12]=A[0]*P+A[4]*R,A[13]=A[1]*P+A[5]*R}b.useProgram(S.webGLProgram),b.uniformMatrix4fv(b.getUniformLocation(S.webGLProgram,"uViewMatrix"),!1,A),b.uniformMatrix4fv(b.getUniformLocation(S.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),b.uniform2f(b.getUniformLocation(S.webGLProgram,"uResolution"),this.width,this.height);var L=this.uniforms,D=L.resolution;D.value.x=E,D.value.y=C,L.time.value=T.game.loop.getDuration();var $=this.pointer;if($){var F=L.mouse,N=$.x/E,k=1-$.y/C;F.value.x=N.toFixed(2),F.value.y=k.toFixed(2)}this.syncUniforms()},flush:function(){var x=this.width,b=this.height,E=this.program,C=this.gl,T=this.vertexBuffer,S=this.renderer,A=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(S.setFramebuffer(this.framebuffer),C.clearColor(0,0,0,0),C.clear(C.COLOR_BUFFER_BIT)),C.bindBuffer(C.ARRAY_BUFFER,T.webGLBuffer);var P=C.getAttribLocation(E.webGLProgram,"inPosition");P!==-1&&(C.enableVertexAttribArray(P),C.vertexAttribPointer(P,2,C.FLOAT,!1,A,0));var R=this.vertexViewF32;R[3]=b,R[4]=x,R[5]=b,R[8]=x,R[9]=b,R[10]=x;var L=6;C.bufferSubData(C.ARRAY_BUFFER,0,this.bytes.subarray(0,L*A)),C.drawArrays(C.TRIANGLES,0,L),this.renderToTexture&&S.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var x=this._deferSetShader.key,b=this._deferSetShader.textures,E=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(x,b,E)}if(this._deferProjOrtho!==null){var C=this._deferProjOrtho.left,T=this._deferProjOrtho.right,S=this._deferProjOrtho.bottom,A=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(C,T,S,A)}},preDestroy:function(){var x=this.renderer;x.off(y.RESTORE_WEBGL,this.onContextRestored,this),x.deleteProgram(this.program),x.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(x.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),f(this.uniforms,function(b){x.deleteUniformLocation(b.uniformLocation),b.uniformLocation=null})}});s.exports=w}),80464:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(){};s.exports=g}),54935:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(25305),v=r(44603),h=r(23568),u=r(20071);v.register("shader",function(l,o){l===void 0&&(l={});var d=h(l,"key",null),p=h(l,"x",0),f=h(l,"y",0),y=h(l,"width",128),w=h(l,"height",128),x=new u(this.scene,d,p,f,y,w);return o!==void 0&&(l.add=o),a(this.scene,x,l),x})}),74177:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(20071),v=r(39429);v.register("shader",function(h,u,l,o,d,p,f){return this.displayList.add(new a(this.scene,h,u,l,o,d,p,f))})}),25479:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(29747),v=a,h=a;v=r(19257),h=r(80464),s.exports={renderWebGL:v,renderCanvas:h}}),19257:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(91296),v=function(h,u,l,o){if(u.shader){if(l.addToRenderList(u),h.pipelines.clear(),u.renderToTexture)u.load(),u.flush();else{var d=a(u,l,o).calc;(h.width!==u._rendererWidth||h.height!==u._rendererHeight)&&u.projOrtho(0,h.width,h.height,0),u.load(d.matrix),u.flush()}h.pipelines.rebind()}};s.exports=v}),10441:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(70554),v=function(h,u,l,o,d,p){for(var f=a.getTintAppendFloatAlpha(l.fillColor,l.fillAlpha*o),y=l.pathData,w=l.pathIndexes,x=0;x<w.length;x+=3){var b=w[x]*2,E=w[x+1]*2,C=w[x+2]*2,T=y[b+0]-d,S=y[b+1]-p,A=y[E+0]-d,P=y[E+1]-p,R=y[C+0]-d,L=y[C+1]-p,D=u.getX(T,S),$=u.getY(T,S),F=u.getX(A,P),N=u.getY(A,P),k=u.getX(R,L),j=u.getY(R,L);h.batchTri(l,D,$,F,N,k,j,0,0,1,1,f,f,f,2)}};s.exports=v}),65960:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h){var u=v||a.fillColor,l=h||a.fillAlpha,o=(u&16711680)>>>16,d=(u&65280)>>>8,p=u&255;r.fillStyle="rgba("+o+","+d+","+p+","+l+")"};s.exports=g}),75177:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h){var u=v||a.strokeColor,l=h||a.strokeAlpha,o=(u&16711680)>>>16,d=(u&65280)>>>8,p=u&255;r.strokeStyle="rgba("+o+","+d+","+p+","+l+")",r.lineWidth=a.lineWidth};s.exports=g}),17803:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(31401),h=r(95643),u=r(23031),l=new a({Extends:h,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.GetBounds,v.Mask,v.Origin,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Transform,v.Visible],initialize:function(d,p,f){p===void 0&&(p="Shape"),h.call(this,d,p),this.geom=f,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new u,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(o,d){return d===void 0&&(d=1),o===void 0?this.isFilled=!1:(this.fillColor=o,this.fillAlpha=d,this.isFilled=!0),this},setStrokeStyle:function(o,d,p){return p===void 0&&(p=1),o===void 0?this.isStroked=!1:(this.lineWidth=o,this.strokeColor=d,this.strokeAlpha=p,this.isStroked=!0),this},setClosePath:function(o){return this.closePath=o,this},setSize:function(o,d){return this.width=o,this.height=d,this},setDisplaySize:function(o,d){return this.displayWidth=o,this.displayHeight=d,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(o){this.scaleX=o/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(o){this.scaleY=o/this.height}}});s.exports=l}),34682:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(70554),v=function(h,u,l,o,d){var p=h.strokeTint,f=a.getTintAppendFloatAlpha(u.strokeColor,u.strokeAlpha*l);p.TL=f,p.TR=f,p.BL=f,p.BR=f;var y=u.pathData,w=y.length-1,x=u.lineWidth,b=x/2,E=y[0]-o,C=y[1]-d;u.closePath||(w-=2);for(var T=2;T<w;T+=2){var S=y[T]-o,A=y[T+1]-d;h.batchLine(E,C,S,A,b,b,x,T-2,u.closePath?T===w-1:!1),E=S,C=A}};s.exports=v}),23629:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(13609),v=r(83419),h=r(39506),u=r(94811),l=r(96503),o=r(36383),d=r(17803),p=new v({Extends:d,Mixins:[a],initialize:function(y,w,x,b,E,C,T,S,A){w===void 0&&(w=0),x===void 0&&(x=0),b===void 0&&(b=128),E===void 0&&(E=0),C===void 0&&(C=360),T===void 0&&(T=!1),d.call(this,y,"Arc",new l(0,0,b)),this._startAngle=E,this._endAngle=C,this._anticlockwise=T,this._iterations=.01,this.setPosition(w,x);var P=this.geom.radius*2;this.setSize(P,P),S!==void 0&&this.setFillStyle(S,A),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(f){this._iterations=f,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(f){this.geom.radius=f;var y=f*2;this.setSize(y,y),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(f){this._startAngle=f,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(f){this._endAngle=f,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(f){this._anticlockwise=f,this.updateData()}},setRadius:function(f){return this.radius=f,this},setIterations:function(f){return f===void 0&&(f=.01),this.iterations=f,this},setStartAngle:function(f,y){return this._startAngle=f,y!==void 0&&(this._anticlockwise=y),this.updateData()},setEndAngle:function(f,y){return this._endAngle=f,y!==void 0&&(this._anticlockwise=y),this.updateData()},updateData:function(){var f=this._iterations,y=f,w=this.geom.radius,x=h(this._startAngle),b=h(this._endAngle),E=this._anticlockwise,C=w,T=w;b-=x,E?b<-o.PI2?b=-o.PI2:b>0&&(b=-o.PI2+b%o.PI2):b>o.PI2?b=o.PI2:b<0&&(b=o.PI2+b%o.PI2);for(var S=[C+Math.cos(x)*w,T+Math.sin(x)*w],A;y<1;)A=b*y+x,S.push(C+Math.cos(A)*w,T+Math.sin(A)*w),y+=f;return A=b+x,S.push(C+Math.cos(A)*w,T+Math.sin(A)*w),S.push(C+Math.cos(x)*w,T+Math.sin(x)*w),this.pathIndexes=u(S),this.pathData=S,this}});s.exports=p}),42542:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(39506),v=r(65960),h=r(75177),u=r(20926),l=function(o,d,p,f){p.addToRenderList(d);var y=o.currentContext;if(u(o,y,d,p,f)){var w=d.radius;y.beginPath(),y.arc(w-d.originX*(w*2),w-d.originY*(w*2),w,a(d._startAngle),a(d._endAngle),d.anticlockwise),d.closePath&&y.closePath(),d.isFilled&&(v(y,d),y.fill()),d.isStroked&&(h(y,d),y.stroke()),y.restore()}};s.exports=l}),42563:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(23629),v=r(39429);v.register("arc",function(h,u,l,o,d,p,f,y){return this.displayList.add(new a(this.scene,h,u,l,o,d,p,f,y))}),v.register("circle",function(h,u,l,o,d){return this.displayList.add(new a(this.scene,h,u,l,0,360,!1,o,d))})}),13609:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(29747),v=a,h=a;v=r(41447),h=r(42542),s.exports={renderWebGL:v,renderCanvas:h}}),41447:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(91296),v=r(10441),h=r(34682),u=function(l,o,d,p){d.addToRenderList(o);var f=l.pipelines.set(o.pipeline),y=a(o,d,p),w=f.calcMatrix.copyFrom(y.calc),x=o._displayOriginX,b=o._displayOriginY,E=d.alpha*o.alpha;l.pipelines.preBatch(o),o.isFilled&&v(f,w,o,E,x,b),o.isStroked&&h(f,o,E,x,b),l.pipelines.postBatch(o)};s.exports=u}),89:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(33141),h=r(94811),u=r(87841),l=r(17803),o=new a({Extends:l,Mixins:[v],initialize:function(p,f,y,w,x,b){f===void 0&&(f=0),y===void 0&&(y=0),l.call(this,p,"Curve",w),this._smoothness=32,this._curveBounds=new u,this.closePath=!1,this.setPosition(f,y),x!==void 0&&this.setFillStyle(x,b),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(d){this._smoothness=d,this.updateData()}},setSmoothness:function(d){return this._smoothness=d,this.updateData()},updateData:function(){var d=this._curveBounds,p=this._smoothness;this.geom.getBounds(d,p),this.setSize(d.width,d.height),this.updateDisplayOrigin();for(var f=[],y=this.geom.getPoints(p),w=0;w<y.length;w++)f.push(y[w].x,y[w].y);return f.push(y[0].x,y[0].y),this.pathIndexes=h(f),this.pathData=f,this}});s.exports=o}),3170:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(65960),v=r(75177),h=r(20926),u=function(l,o,d,p){d.addToRenderList(o);var f=l.currentContext;if(h(l,f,o,d,p)){var y=o._displayOriginX+o._curveBounds.x,w=o._displayOriginY+o._curveBounds.y,x=o.pathData,b=x.length-1,E=x[0]-y,C=x[1]-w;f.beginPath(),f.moveTo(E,C),o.closePath||(b-=2);for(var T=2;T<b;T+=2){var S=x[T]-y,A=x[T+1]-w;f.lineTo(S,A)}o.closePath&&f.closePath(),o.isFilled&&(a(f,o),f.fill()),o.isStroked&&(v(f,o),f.stroke()),f.restore()}};s.exports=u}),40511:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(39429),v=r(89);a.register("curve",function(h,u,l,o,d){return this.displayList.add(new v(this.scene,h,u,l,o,d))})}),33141:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(29747),v=a,h=a;v=r(53987),h=r(3170),s.exports={renderWebGL:v,renderCanvas:h}}),53987:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(10441),v=r(91296),h=r(34682),u=function(l,o,d,p){d.addToRenderList(o);var f=l.pipelines.set(o.pipeline),y=v(o,d,p),w=f.calcMatrix.copyFrom(y.calc),x=o._displayOriginX+o._curveBounds.x,b=o._displayOriginY+o._curveBounds.y,E=d.alpha*o.alpha;l.pipelines.preBatch(o),o.isFilled&&a(f,w,o,E,x,b),o.isStroked&&h(f,o,E,x,b),l.pipelines.postBatch(o)};s.exports=u}),19921:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(94811),h=r(54205),u=r(8497),l=r(17803),o=new a({Extends:l,Mixins:[h],initialize:function(p,f,y,w,x,b,E){f===void 0&&(f=0),y===void 0&&(y=0),w===void 0&&(w=128),x===void 0&&(x=128),l.call(this,p,"Ellipse",new u(w/2,x/2,w,x)),this._smoothness=64,this.setPosition(f,y),this.width=w,this.height=x,b!==void 0&&this.setFillStyle(b,E),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(d){this._smoothness=d,this.updateData()}},setSize:function(d,p){return this.width=d,this.height=p,this.geom.setPosition(d/2,p/2),this.geom.setSize(d,p),this.updateDisplayOrigin(),this.updateData()},setSmoothness:function(d){return this._smoothness=d,this.updateData()},updateData:function(){for(var d=[],p=this.geom.getPoints(this._smoothness),f=0;f<p.length;f++)d.push(p[f].x,p[f].y);return d.push(p[0].x,p[0].y),this.pathIndexes=v(d),this.pathData=d,this}});s.exports=o}),7930:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(65960),v=r(75177),h=r(20926),u=function(l,o,d,p){d.addToRenderList(o);var f=l.currentContext;if(h(l,f,o,d,p)){var y=o._displayOriginX,w=o._displayOriginY,x=o.pathData,b=x.length-1,E=x[0]-y,C=x[1]-w;f.beginPath(),f.moveTo(E,C),o.closePath||(b-=2);for(var T=2;T<b;T+=2){var S=x[T]-y,A=x[T+1]-w;f.lineTo(S,A)}f.closePath(),o.isFilled&&(a(f,o),f.fill()),o.isStroked&&(v(f,o),f.stroke()),f.restore()}};s.exports=u}),1543:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(19921),v=r(39429);v.register("ellipse",function(h,u,l,o,d,p){return this.displayList.add(new a(this.scene,h,u,l,o,d,p))})}),54205:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(29747),v=a,h=a;v=r(19467),h=r(7930),s.exports={renderWebGL:v,renderCanvas:h}}),19467:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(10441),v=r(91296),h=r(34682),u=function(l,o,d,p){d.addToRenderList(o);var f=l.pipelines.set(o.pipeline),y=v(o,d,p),w=f.calcMatrix.copyFrom(y.calc),x=o._displayOriginX,b=o._displayOriginY,E=d.alpha*o.alpha;l.pipelines.preBatch(o),o.isFilled&&a(f,w,o,E,x,b),o.isStroked&&h(f,o,E,x,b),l.pipelines.postBatch(o)};s.exports=u}),30479:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(17803),h=r(26015),u=new a({Extends:v,Mixins:[h],initialize:function(o,d,p,f,y,w,x,b,E,C,T){d===void 0&&(d=0),p===void 0&&(p=0),f===void 0&&(f=128),y===void 0&&(y=128),w===void 0&&(w=32),x===void 0&&(x=32),v.call(this,o,"Grid",null),this.cellWidth=w,this.cellHeight=x,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(d,p),this.setSize(f,y),this.setFillStyle(b,E),C!==void 0&&this.setOutlineStyle(C,T),this.updateDisplayOrigin()},setFillStyle:function(l,o){return o===void 0&&(o=1),l===void 0?this.showCells=!1:(this.fillColor=l,this.fillAlpha=o,this.showCells=!0),this},setAltFillStyle:function(l,o){return o===void 0&&(o=1),l===void 0?this.showAltCells=!1:(this.altFillColor=l,this.altFillAlpha=o,this.showAltCells=!0),this},setOutlineStyle:function(l,o){return o===void 0&&(o=1),l===void 0?this.showOutline=!1:(this.outlineFillColor=l,this.outlineFillAlpha=o,this.showOutline=!0),this}});s.exports=u}),49912:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(65960),v=r(75177),h=r(20926),u=function(l,o,d,p){d.addToRenderList(o);var f=l.currentContext;if(h(l,f,o,d,p)){var y=-o._displayOriginX,w=-o._displayOriginY,x=d.alpha*o.alpha,b=o.width,E=o.height,C=o.cellWidth,T=o.cellHeight,S=Math.ceil(b/C),A=Math.ceil(E/T),P=C,R=T,L=C-(S*C-b),D=T-(A*T-E),$=o.showCells,F=o.showAltCells,N=o.showOutline,k=0,j=0,W=0,G=0,K=0;if(N&&(P--,R--,L===C&&L--,D===T&&D--),$&&o.fillAlpha>0)for(a(f,o),j=0;j<A;j++)for(F&&(W=j%2),k=0;k<S;k++){if(F&&W){W=0;continue}W++,G=k<S-1?P:L,K=j<A-1?R:D,f.fillRect(y+k*C,w+j*T,G,K)}if(F&&o.altFillAlpha>0)for(a(f,o,o.altFillColor,o.altFillAlpha*x),j=0;j<A;j++)for(F&&(W=j%2),k=0;k<S;k++){if(F&&!W){W=1;continue}W=0,G=k<S-1?P:L,K=j<A-1?R:D,f.fillRect(y+k*C,w+j*T,G,K)}if(N&&o.outlineFillAlpha>0){for(v(f,o,o.outlineFillColor,o.outlineFillAlpha*x),k=1;k<S;k++){var z=k*C;f.beginPath(),f.moveTo(z+y,w),f.lineTo(z+y,E+w),f.stroke()}for(j=1;j<A;j++){var X=j*T;f.beginPath(),f.moveTo(y,X+w),f.lineTo(y+b,X+w),f.stroke()}}f.restore()}};s.exports=u}),34137:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(39429),v=r(30479);a.register("grid",function(h,u,l,o,d,p,f,y,w,x){return this.displayList.add(new v(this.scene,h,u,l,o,d,p,f,y,w,x))})}),26015:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(29747),v=a,h=a;v=r(46161),h=r(49912),s.exports={renderWebGL:v,renderCanvas:h}}),46161:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(91296),v=r(70554),h=function(u,l,o,d){o.addToRenderList(l);var p=u.pipelines.set(l.pipeline),f=a(l,o,d),y=p.calcMatrix.copyFrom(f.calc);y.translate(-l._displayOriginX,-l._displayOriginY);var w=o.alpha*l.alpha,x=l.width,b=l.height,E=l.cellWidth,C=l.cellHeight,T=Math.ceil(x/E),S=Math.ceil(b/C),A=E,P=C,R=E-(T*E-x),L=C-(S*C-b),D,$,F=l.showCells,N=l.showAltCells,k=l.showOutline,j=0,W=0,G=0,K=0,z=0;if(k&&(A--,P--,R===E&&R--,L===C&&L--),u.pipelines.preBatch(l),F&&l.fillAlpha>0)for(D=p.fillTint,$=v.getTintAppendFloatAlpha(l.fillColor,l.fillAlpha*w),D.TL=$,D.TR=$,D.BL=$,D.BR=$,W=0;W<S;W++)for(N&&(G=W%2),j=0;j<T;j++){if(N&&G){G=0;continue}G++,K=j<T-1?A:R,z=W<S-1?P:L,p.batchFillRect(j*E,W*C,K,z)}if(N&&l.altFillAlpha>0)for(D=p.fillTint,$=v.getTintAppendFloatAlpha(l.altFillColor,l.altFillAlpha*w),D.TL=$,D.TR=$,D.BL=$,D.BR=$,W=0;W<S;W++)for(N&&(G=W%2),j=0;j<T;j++){if(N&&!G){G=1;continue}G=0,K=j<T-1?A:R,z=W<S-1?P:L,p.batchFillRect(j*E,W*C,K,z)}if(k&&l.outlineFillAlpha>0){var X=p.strokeTint,U=v.getTintAppendFloatAlpha(l.outlineFillColor,l.outlineFillAlpha*w);for(X.TL=U,X.TR=U,X.BL=U,X.BR=U,j=1;j<T;j++){var Z=j*E;p.batchLine(Z,0,Z,b,l.lineWidth,l.lineWidth,1,0,!1)}for(W=1;W<S;W++){var V=W*C;p.batchLine(0,V,x,V,l.lineWidth,l.lineWidth,1,0,!1)}}u.pipelines.postBatch(l)};s.exports=h}),61475:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(99651),v=r(83419),h=r(17803),u=new v({Extends:h,Mixins:[a],initialize:function(o,d,p,f,y,w,x,b){d===void 0&&(d=0),p===void 0&&(p=0),f===void 0&&(f=48),y===void 0&&(y=32),w===void 0&&(w=15658734),x===void 0&&(x=10066329),b===void 0&&(b=13421772),h.call(this,o,"IsoBox",null),this.projection=4,this.fillTop=w,this.fillLeft=x,this.fillRight=b,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(d,p),this.setSize(f,y),this.updateDisplayOrigin()},setProjection:function(l){return this.projection=l,this},setFaces:function(l,o,d){return l===void 0&&(l=!0),o===void 0&&(o=!0),d===void 0&&(d=!0),this.showTop=l,this.showLeft=o,this.showRight=d,this},setFillStyle:function(l,o,d){return this.fillTop=l,this.fillLeft=o,this.fillRight=d,this.isFilled=!0,this}});s.exports=u}),11508:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(65960),v=r(20926),h=function(u,l,o,d){o.addToRenderList(l);var p=u.currentContext;if(v(u,p,l,o,d)&&l.isFilled){var f=l.width,y=l.height,w=f/2,x=f/l.projection;l.showTop&&(a(p,l,l.fillTop),p.beginPath(),p.moveTo(-w,-y),p.lineTo(0,-x-y),p.lineTo(w,-y),p.lineTo(w,-1),p.lineTo(0,x-1),p.lineTo(-w,-1),p.lineTo(-w,-y),p.fill()),l.showLeft&&(a(p,l,l.fillLeft),p.beginPath(),p.moveTo(-w,0),p.lineTo(0,x),p.lineTo(0,x-y),p.lineTo(-w,-y),p.lineTo(-w,0),p.fill()),l.showRight&&(a(p,l,l.fillRight),p.beginPath(),p.moveTo(w,0),p.lineTo(0,x),p.lineTo(0,x-y),p.lineTo(w,-y),p.lineTo(w,0),p.fill()),p.restore()}};s.exports=h}),3933:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(39429),v=r(61475);a.register("isobox",function(h,u,l,o,d,p,f){return this.displayList.add(new v(this.scene,h,u,l,o,d,p,f))})}),99651:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(29747),v=a,h=a;v=r(68149),h=r(11508),s.exports={renderWebGL:v,renderCanvas:h}}),68149:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(91296),v=r(70554),h=function(u,l,o,d){o.addToRenderList(l);var p=u.pipelines.set(l.pipeline),f=a(l,o,d),y=p.calcMatrix.copyFrom(f.calc),w=l.width,x=l.height,b=w/2,E=w/l.projection,C=o.alpha*l.alpha;if(l.isFilled){var T,S,A,P,R,L,D,$,F;u.pipelines.preBatch(l),l.showTop&&(T=v.getTintAppendFloatAlpha(l.fillTop,C),S=y.getX(-b,-x),A=y.getY(-b,-x),P=y.getX(0,-E-x),R=y.getY(0,-E-x),L=y.getX(b,-x),D=y.getY(b,-x),$=y.getX(0,E-x),F=y.getY(0,E-x),p.batchQuad(l,S,A,P,R,L,D,$,F,0,0,1,1,T,T,T,T,2)),l.showLeft&&(T=v.getTintAppendFloatAlpha(l.fillLeft,C),S=y.getX(-b,0),A=y.getY(-b,0),P=y.getX(0,E),R=y.getY(0,E),L=y.getX(0,E-x),D=y.getY(0,E-x),$=y.getX(-b,-x),F=y.getY(-b,-x),p.batchQuad(l,S,A,P,R,L,D,$,F,0,0,1,1,T,T,T,T,2)),l.showRight&&(T=v.getTintAppendFloatAlpha(l.fillRight,C),S=y.getX(b,0),A=y.getY(b,0),P=y.getX(0,E),R=y.getY(0,E),L=y.getX(0,E-x),D=y.getY(0,E-x),$=y.getX(b,-x),F=y.getY(b,-x),p.batchQuad(l,S,A,P,R,L,D,$,F,0,0,1,1,T,T,T,T,2)),u.pipelines.postBatch(l)}};s.exports=h}),16933:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(60561),h=r(17803),u=new a({Extends:h,Mixins:[v],initialize:function(o,d,p,f,y,w,x,b,E){d===void 0&&(d=0),p===void 0&&(p=0),f===void 0&&(f=48),y===void 0&&(y=32),w===void 0&&(w=!1),x===void 0&&(x=15658734),b===void 0&&(b=10066329),E===void 0&&(E=13421772),h.call(this,o,"IsoTriangle",null),this.projection=4,this.fillTop=x,this.fillLeft=b,this.fillRight=E,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=w,this.isFilled=!0,this.setPosition(d,p),this.setSize(f,y),this.updateDisplayOrigin()},setProjection:function(l){return this.projection=l,this},setReversed:function(l){return this.isReversed=l,this},setFaces:function(l,o,d){return l===void 0&&(l=!0),o===void 0&&(o=!0),d===void 0&&(d=!0),this.showTop=l,this.showLeft=o,this.showRight=d,this},setFillStyle:function(l,o,d){return this.fillTop=l,this.fillLeft=o,this.fillRight=d,this.isFilled=!0,this}});s.exports=u}),79590:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(65960),v=r(20926),h=function(u,l,o,d){o.addToRenderList(l);var p=u.currentContext;if(v(u,p,l,o,d)&&l.isFilled){var f=l.width,y=l.height,w=f/2,x=f/l.projection,b=l.isReversed;l.showTop&&b&&(a(p,l,l.fillTop),p.beginPath(),p.moveTo(-w,-y),p.lineTo(0,-x-y),p.lineTo(w,-y),p.lineTo(0,x-y),p.fill()),l.showLeft&&(a(p,l,l.fillLeft),p.beginPath(),b?(p.moveTo(-w,-y),p.lineTo(0,x),p.lineTo(0,x-y)):(p.moveTo(-w,0),p.lineTo(0,x),p.lineTo(0,x-y)),p.fill()),l.showRight&&(a(p,l,l.fillRight),p.beginPath(),b?(p.moveTo(w,-y),p.lineTo(0,x),p.lineTo(0,x-y)):(p.moveTo(w,0),p.lineTo(0,x),p.lineTo(0,x-y)),p.fill()),p.restore()}};s.exports=h}),49803:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(39429),v=r(16933);a.register("isotriangle",function(h,u,l,o,d,p,f,y){return this.displayList.add(new v(this.scene,h,u,l,o,d,p,f,y))})}),60561:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(29747),v=a,h=a;v=r(51503),h=r(79590),s.exports={renderWebGL:v,renderCanvas:h}}),51503:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(91296),v=r(70554),h=function(u,l,o,d){o.addToRenderList(l);var p=u.pipelines.set(l.pipeline),f=a(l,o,d),y=p.calcMatrix.copyFrom(f.calc),w=l.width,x=l.height,b=w/2,E=w/l.projection,C=l.isReversed,T=o.alpha*l.alpha;if(l.isFilled){u.pipelines.preBatch(l);var S,A,P,R,L,D,$;if(l.showTop&&C){S=v.getTintAppendFloatAlpha(l.fillTop,T),A=y.getX(-b,-x),P=y.getY(-b,-x),R=y.getX(0,-E-x),L=y.getY(0,-E-x),D=y.getX(b,-x),$=y.getY(b,-x);var F=y.getX(0,E-x),N=y.getY(0,E-x);p.batchQuad(l,A,P,R,L,D,$,F,N,0,0,1,1,S,S,S,S,2)}l.showLeft&&(S=v.getTintAppendFloatAlpha(l.fillLeft,T),C?(A=y.getX(-b,-x),P=y.getY(-b,-x),R=y.getX(0,E),L=y.getY(0,E),D=y.getX(0,E-x),$=y.getY(0,E-x)):(A=y.getX(-b,0),P=y.getY(-b,0),R=y.getX(0,E),L=y.getY(0,E),D=y.getX(0,E-x),$=y.getY(0,E-x)),p.batchTri(l,A,P,R,L,D,$,0,0,1,1,S,S,S,2)),l.showRight&&(S=v.getTintAppendFloatAlpha(l.fillRight,T),C?(A=y.getX(b,-x),P=y.getY(b,-x),R=y.getX(0,E),L=y.getY(0,E),D=y.getX(0,E-x),$=y.getY(0,E-x)):(A=y.getX(b,0),P=y.getY(b,0),R=y.getX(0,E),L=y.getY(0,E),D=y.getX(0,E-x),$=y.getY(0,E-x)),p.batchTri(l,A,P,R,L,D,$,0,0,1,1,S,S,S,2)),u.pipelines.postBatch(l)}};s.exports=h}),57847:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(17803),h=r(23031),u=r(36823),l=new a({Extends:v,Mixins:[u],initialize:function(d,p,f,y,w,x,b,E,C){p===void 0&&(p=0),f===void 0&&(f=0),y===void 0&&(y=0),w===void 0&&(w=0),x===void 0&&(x=128),b===void 0&&(b=0),v.call(this,d,"Line",new h(y,w,x,b));var T=Math.max(1,this.geom.right-this.geom.left),S=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(p,f),this.setSize(T,S),E!==void 0&&this.setStrokeStyle(1,E,C),this.updateDisplayOrigin()},setLineWidth:function(o,d){return d===void 0&&(d=o),this._startWidth=o,this._endWidth=d,this.lineWidth=o,this},setTo:function(o,d,p,f){return this.geom.setTo(o,d,p,f),this}});s.exports=l}),17440:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(75177),v=r(20926),h=function(u,l,o,d){o.addToRenderList(l);var p=u.currentContext;if(v(u,p,l,o,d)){var f=l._displayOriginX,y=l._displayOriginY;l.isStroked&&(a(p,l),p.beginPath(),p.moveTo(l.geom.x1-f,l.geom.y1-y),p.lineTo(l.geom.x2-f,l.geom.y2-y),p.stroke()),p.restore()}};s.exports=h}),2481:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(39429),v=r(57847);a.register("line",function(h,u,l,o,d,p,f,y){return this.displayList.add(new v(this.scene,h,u,l,o,d,p,f,y))})}),36823:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(29747),v=a,h=a;v=r(77385),h=r(17440),s.exports={renderWebGL:v,renderCanvas:h}}),77385:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(91296),v=r(70554),h=function(u,l,o,d){o.addToRenderList(l);var p=u.pipelines.set(l.pipeline),f=a(l,o,d);p.calcMatrix.copyFrom(f.calc);var y=l._displayOriginX,w=l._displayOriginY,x=o.alpha*l.alpha;if(u.pipelines.preBatch(l),l.isStroked){var b=p.strokeTint,E=v.getTintAppendFloatAlpha(l.strokeColor,l.strokeAlpha*x);b.TL=E,b.TR=E,b.BL=E,b.BR=E,p.batchLine(l.geom.x1-y,l.geom.y1-w,l.geom.x2-y,l.geom.y2-w,l._startWidth/2,l._endWidth/2,1,0,!1,f.sprite,f.camera)}u.pipelines.postBatch(l)};s.exports=h}),24949:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(90273),v=r(83419),h=r(94811),u=r(13829),l=r(25717),o=r(17803),d=r(5469),p=new v({Extends:o,Mixins:[a],initialize:function(y,w,x,b,E,C){w===void 0&&(w=0),x===void 0&&(x=0),o.call(this,y,"Polygon",new l(b));var T=u(this.geom);this.setPosition(w,x),this.setSize(T.width,T.height),E!==void 0&&this.setFillStyle(E,C),this.updateDisplayOrigin(),this.updateData()},smooth:function(f){f===void 0&&(f=1);for(var y=0;y<f;y++)d(this.geom);return this.updateData()},setTo:function(f){this.geom.setTo(f);var y=u(this.geom);return this.setSize(y.width,y.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var f=[],y=this.geom.points,w=0;w<y.length;w++)f.push(y[w].x,y[w].y);return f.push(y[0].x,y[0].y),this.pathIndexes=h(f),this.pathData=f,this}});s.exports=p}),38710:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(65960),v=r(75177),h=r(20926),u=function(l,o,d,p){d.addToRenderList(o);var f=l.currentContext;if(h(l,f,o,d,p)){var y=o._displayOriginX,w=o._displayOriginY,x=o.pathData,b=x.length-1,E=x[0]-y,C=x[1]-w;f.beginPath(),f.moveTo(E,C),o.closePath||(b-=2);for(var T=2;T<b;T+=2){var S=x[T]-y,A=x[T+1]-w;f.lineTo(S,A)}o.closePath&&f.closePath(),o.isFilled&&(a(f,o),f.fill()),o.isStroked&&(v(f,o),f.stroke()),f.restore()}};s.exports=u}),64827:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(39429),v=r(24949);a.register("polygon",function(h,u,l,o,d){return this.displayList.add(new v(this.scene,h,u,l,o,d))})}),90273:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(29747),v=a,h=a;v=r(73695),h=r(38710),s.exports={renderWebGL:v,renderCanvas:h}}),73695:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(10441),v=r(91296),h=r(34682),u=function(l,o,d,p){d.addToRenderList(o);var f=l.pipelines.set(o.pipeline),y=v(o,d,p),w=f.calcMatrix.copyFrom(y.calc),x=o._displayOriginX,b=o._displayOriginY,E=d.alpha*o.alpha;l.pipelines.preBatch(o),o.isFilled&&a(f,w,o,E,x,b),o.isStroked&&h(f,o,E,x,b),l.pipelines.postBatch(o)};s.exports=u}),74561:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(94811),h=r(87841),u=r(17803),l=r(95597),o=new a({Extends:u,Mixins:[l],initialize:function(p,f,y,w,x,b,E){f===void 0&&(f=0),y===void 0&&(y=0),w===void 0&&(w=128),x===void 0&&(x=128),u.call(this,p,"Rectangle",new h(0,0,w,x)),this.radius=20,this.isRounded=!1,this.setPosition(f,y),this.setSize(w,x),b!==void 0&&this.setFillStyle(b,E),this.updateDisplayOrigin(),this.updateData()},setRounded:function(d){return d===void 0&&(d=16),this.radius=d,this.isRounded=d>0,this.updateRoundedData()},setSize:function(d,p){this.width=d,this.height=p,this.geom.setSize(d,p),this.updateData(),this.updateDisplayOrigin();var f=this.input;return f&&!f.customHitArea&&(f.hitArea.width=d,f.hitArea.height=p),this},updateData:function(){if(this.isRounded)return this.updateRoundedData();var d=[],p=this.geom,f=this._tempLine;return p.getLineA(f),d.push(f.x1,f.y1,f.x2,f.y2),p.getLineB(f),d.push(f.x2,f.y2),p.getLineC(f),d.push(f.x2,f.y2),p.getLineD(f),d.push(f.x2,f.y2),this.pathData=d,this},updateRoundedData:function(){var d=[],p=this.width/2,f=this.height/2,y=Math.min(p,f),w=Math.min(this.radius,y),x=p,b=f,E=Math.max(1,Math.floor(w/5));return this.arcTo(d,x-p+w,b-f+w,w,Math.PI,Math.PI*1.5,E),d.push(x+p-w,b-f),this.arcTo(d,x+p-w,b-f+w,w,Math.PI*1.5,Math.PI*2,E),d.push(x+p,b+f-w),this.arcTo(d,x+p-w,b+f-w,w,0,Math.PI*.5,E),d.push(x-p+w,b+f),this.arcTo(d,x-p+w,b+f-w,w,Math.PI*.5,Math.PI,E),d.push(x-p,b-f+w),this.pathIndexes=v(d),this.pathData=d,this},arcTo:function(d,p,f,y,w,x,b){for(var E=(x-w)/b,C=0;C<=b;C++){var T=w+E*C;d.push(p+Math.cos(T)*y,f+Math.sin(T)*y)}}});s.exports=o}),48682:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(65960),v=r(75177),h=r(20926),u=function(o,d,p,f,y,w){var x=Math.min(f/2,y/2),b=Math.min(w,x);if(b===0){o.rect(d,p,f,y);return}o.moveTo(d+b,p),o.lineTo(d+f-b,p),o.arcTo(d+f,p,d+f,p+b,b),o.lineTo(d+f,p+y-b),o.arcTo(d+f,p+y,d+f-b,p+y,b),o.lineTo(d+b,p+y),o.arcTo(d,p+y,d,p+y-b,b),o.lineTo(d,p+b),o.arcTo(d,p,d+b,p,b),o.closePath()},l=function(o,d,p,f){p.addToRenderList(d);var y=o.currentContext;if(h(o,y,d,p,f)){var w=d._displayOriginX,x=d._displayOriginY;d.isFilled&&(a(y,d),d.isRounded?(y.beginPath(),u(y,-w,-x,d.width,d.height,d.radius),y.fill()):y.fillRect(-w,-x,d.width,d.height)),d.isStroked&&(v(y,d),y.beginPath(),d.isRounded?u(y,-w,-x,d.width,d.height,d.radius):y.rect(-w,-x,d.width,d.height),y.stroke()),y.restore()}};s.exports=l}),87959:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(39429),v=r(74561);a.register("rectangle",function(h,u,l,o,d,p){return this.displayList.add(new v(this.scene,h,u,l,o,d,p))})}),95597:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(29747),v=a,h=a;v=r(52059),h=r(48682),s.exports={renderWebGL:v,renderCanvas:h}}),52059:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(10441),v=r(91296),h=r(34682),u=r(70554),l=function(o,d,p,f){p.addToRenderList(d);var y=o.pipelines.set(d.pipeline),w=v(d,p,f);y.calcMatrix.copyFrom(w.calc);var x=d._displayOriginX,b=d._displayOriginY,E=p.alpha*d.alpha;if(o.pipelines.preBatch(d),d.isRounded&&d.isFilled)a(y,w.calc,d,E,x,b);else if(d.isFilled){var C=y.fillTint,T=u.getTintAppendFloatAlpha(d.fillColor,d.fillAlpha*E);C.TL=T,C.TR=T,C.BL=T,C.BR=T,y.batchFillRect(-x,-b,d.width,d.height)}d.isStroked&&h(y,d,E,x,b),o.pipelines.postBatch(d)};s.exports=l}),55911:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(81991),v=r(83419),h=r(94811),u=r(17803),l=new v({Extends:u,Mixins:[a],initialize:function(d,p,f,y,w,x,b,E){p===void 0&&(p=0),f===void 0&&(f=0),y===void 0&&(y=5),w===void 0&&(w=32),x===void 0&&(x=64),u.call(this,d,"Star",null),this._points=y,this._innerRadius=w,this._outerRadius=x,this.setPosition(p,f),this.setSize(x*2,x*2),b!==void 0&&this.setFillStyle(b,E),this.updateDisplayOrigin(),this.updateData()},setPoints:function(o){return this._points=o,this.updateData()},setInnerRadius:function(o){return this._innerRadius=o,this.updateData()},setOuterRadius:function(o){return this._outerRadius=o,this.updateData()},points:{get:function(){return this._points},set:function(o){this._points=o,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(o){this._innerRadius=o,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(o){this._outerRadius=o,this.updateData()}},updateData:function(){var o=[],d=this._points,p=this._innerRadius,f=this._outerRadius,y=Math.PI/2*3,w=Math.PI/d,x=f,b=f;o.push(x,b+-f);for(var E=0;E<d;E++)o.push(x+Math.cos(y)*f,b+Math.sin(y)*f),y+=w,o.push(x+Math.cos(y)*p,b+Math.sin(y)*p),y+=w;return o.push(x,b+-f),this.pathIndexes=h(o),this.pathData=o,this}});s.exports=l}),64272:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(65960),v=r(75177),h=r(20926),u=function(l,o,d,p){d.addToRenderList(o);var f=l.currentContext;if(h(l,f,o,d,p)){var y=o._displayOriginX,w=o._displayOriginY,x=o.pathData,b=x.length-1,E=x[0]-y,C=x[1]-w;f.beginPath(),f.moveTo(E,C),o.closePath||(b-=2);for(var T=2;T<b;T+=2){var S=x[T]-y,A=x[T+1]-w;f.lineTo(S,A)}f.closePath(),o.isFilled&&(a(f,o),f.fill()),o.isStroked&&(v(f,o),f.stroke()),f.restore()}};s.exports=u}),93697:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(55911),v=r(39429);v.register("star",function(h,u,l,o,d,p,f){return this.displayList.add(new a(this.scene,h,u,l,o,d,p,f))})}),81991:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(29747),v=a,h=a;v=r(57017),h=r(64272),s.exports={renderWebGL:v,renderCanvas:h}}),57017:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(10441),v=r(91296),h=r(34682),u=function(l,o,d,p){d.addToRenderList(o);var f=l.pipelines.set(o.pipeline),y=v(o,d,p),w=f.calcMatrix.copyFrom(y.calc),x=o._displayOriginX,b=o._displayOriginY,E=d.alpha*o.alpha;l.pipelines.preBatch(o),o.isFilled&&a(f,w,o,E,x,b),o.isStroked&&h(f,o,E,x,b),l.pipelines.postBatch(o)};s.exports=u}),36931:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(17803),h=r(16483),u=r(96195),l=new a({Extends:v,Mixins:[u],initialize:function(d,p,f,y,w,x,b,E,C,T,S){p===void 0&&(p=0),f===void 0&&(f=0),y===void 0&&(y=0),w===void 0&&(w=128),x===void 0&&(x=64),b===void 0&&(b=0),E===void 0&&(E=128),C===void 0&&(C=128),v.call(this,d,"Triangle",new h(y,w,x,b,E,C));var A=this.geom.right-this.geom.left,P=this.geom.bottom-this.geom.top;this.setPosition(p,f),this.setSize(A,P),T!==void 0&&this.setFillStyle(T,S),this.updateDisplayOrigin(),this.updateData()},setTo:function(o,d,p,f,y,w){return this.geom.setTo(o,d,p,f,y,w),this.updateData()},updateData:function(){var o=[],d=this.geom,p=this._tempLine;return d.getLineA(p),o.push(p.x1,p.y1,p.x2,p.y2),d.getLineB(p),o.push(p.x2,p.y2),d.getLineC(p),o.push(p.x2,p.y2),this.pathData=o,this}});s.exports=l}),85172:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(65960),v=r(75177),h=r(20926),u=function(l,o,d,p){d.addToRenderList(o);var f=l.currentContext;if(h(l,f,o,d,p)){var y=o._displayOriginX,w=o._displayOriginY,x=o.geom.x1-y,b=o.geom.y1-w,E=o.geom.x2-y,C=o.geom.y2-w,T=o.geom.x3-y,S=o.geom.y3-w;f.beginPath(),f.moveTo(x,b),f.lineTo(E,C),f.lineTo(T,S),f.closePath(),o.isFilled&&(a(f,o),f.fill()),o.isStroked&&(v(f,o),f.stroke()),f.restore()}};s.exports=u}),45245:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(39429),v=r(36931);a.register("triangle",function(h,u,l,o,d,p,f,y,w,x){return this.displayList.add(new v(this.scene,h,u,l,o,d,p,f,y,w,x))})}),96195:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(29747),v=a,h=a;v=r(83253),h=r(85172),s.exports={renderWebGL:v,renderCanvas:h}}),83253:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(91296),v=r(34682),h=r(70554),u=function(l,o,d,p){d.addToRenderList(o);var f=l.pipelines.set(o.pipeline),y=a(o,d,p);f.calcMatrix.copyFrom(y.calc);var w=o._displayOriginX,x=o._displayOriginY,b=d.alpha*o.alpha;if(l.pipelines.preBatch(o),o.isFilled){var E=f.fillTint,C=h.getTintAppendFloatAlpha(o.fillColor,o.fillAlpha*b);E.TL=C,E.TR=C,E.BL=C,E.BR=C;var T=o.geom.x1-w,S=o.geom.y1-x,A=o.geom.x2-w,P=o.geom.y2-x,R=o.geom.x3-w,L=o.geom.y3-x;f.batchFillTriangle(T,S,A,P,R,L,y.sprite,y.camera)}o.isStroked&&v(f,o,b,w,x),l.pipelines.postBatch(o)};s.exports=u}),68287:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(9674),v=r(83419),h=r(31401),u=r(95643),l=r(92751),o=new v({Extends:u,Mixins:[h.Alpha,h.BlendMode,h.Depth,h.Flip,h.GetBounds,h.Mask,h.Origin,h.Pipeline,h.PostPipeline,h.ScrollFactor,h.Size,h.TextureCrop,h.Tint,h.Transform,h.Visible,l],initialize:function(p,f,y,w,x){u.call(this,p,"Sprite"),this._crop=this.resetCropObject(),this.anims=new a(this),this.setTexture(w,x),this.setPosition(f,y),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(d,p){this.anims.update(d,p)},play:function(d,p){return this.anims.play(d,p)},playReverse:function(d,p){return this.anims.playReverse(d,p)},playAfterDelay:function(d,p){return this.anims.playAfterDelay(d,p)},playAfterRepeat:function(d,p){return this.anims.playAfterRepeat(d,p)},chain:function(d){return this.anims.chain(d)},stop:function(){return this.anims.stop()},stopAfterDelay:function(d){return this.anims.stopAfterDelay(d)},stopAfterRepeat:function(d){return this.anims.stopAfterRepeat(d)},stopOnFrame:function(d){return this.anims.stopOnFrame(d)},toJSON:function(){return h.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});s.exports=o}),76552:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h){v.addToRenderList(a),r.batchSprite(a,a.frame,v,h)};s.exports=g}),15567:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(25305),v=r(13059),h=r(44603),u=r(23568),l=r(68287);h.register("sprite",function(o,d){o===void 0&&(o={});var p=u(o,"key",null),f=u(o,"frame",null),y=new l(this.scene,0,0,p,f);return d!==void 0&&(o.add=d),a(this.scene,y,o),v(y,o),y})}),46409:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(39429),v=r(68287);a.register("sprite",function(h,u,l,o){return this.displayList.add(new v(this.scene,h,u,l,o))})}),92751:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(29747),v=a,h=a;v=r(9409),h=r(76552),s.exports={renderWebGL:v,renderCanvas:h}}),9409:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h){v.addToRenderList(a),a.pipeline.batchSprite(a,v,h)};s.exports=g}),14220:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){var h=r.canvas,u=r.context,l=r.style,o=[],d=0,p=v.length;l.maxLines>0&&l.maxLines<v.length&&(p=l.maxLines),l.syncFont(h,u);for(var f=r.letterSpacing,y=0;y<p;y++){var w=l.strokeThickness;if(f===0)w+=u.measureText(v[y]).width;else{for(var x=v[y],b=0;b<x.length;b++)w+=u.measureText(x[b]).width;x.length>1&&(w+=f*(x.length-1))}l.wordWrap&&(w-=u.measureText(" ").width),o[y]=Math.ceil(w),d=Math.max(d,o[y])}var E=a.fontSize+l.strokeThickness,C=E*p,T=r.lineSpacing;return p>1&&(C+=T*(p-1)),{width:d,height:C,lines:p,lineWidths:o,lineSpacing:T,lineHeight:E}};s.exports=g}),79557:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(27919),v=function(h){var u=a.create(this),l=u.getContext("2d",{willReadFrequently:!0});h.syncFont(u,l);var o=l.measureText(h.testString);if("actualBoundingBoxAscent"in o){var d=o.actualBoundingBoxAscent,p=o.actualBoundingBoxDescent;return a.remove(u),{ascent:d,descent:p,fontSize:d+p}}var f=Math.ceil(o.width*h.baselineX),y=f,w=2*y;y=y*h.baselineY|0,u.width=f,u.height=w,l.fillStyle="#f00",l.fillRect(0,0,f,w),l.font=h._font,l.textBaseline="alphabetic",l.fillStyle="#000",l.fillText(h.testString,0,y);var x={ascent:0,descent:0,fontSize:0},b=l.getImageData(0,0,f,w);if(!b)return x.ascent=y,x.descent=y+6,x.fontSize=x.ascent+x.descent,a.remove(u),x;var E=b.data,C=E.length,T=f*4,S,A,P=0,R=!1;for(S=0;S<y;S++){for(A=0;A<T;A+=4)if(E[P+A]!==255){R=!0;break}if(!R)P+=T;else break}for(x.ascent=y-S,P=C-T,R=!1,S=w;S>y;S--){for(A=0;A<T;A+=4)if(E[P+A]!==255){R=!0;break}if(!R)P-=T;else break}return x.descent=S-y,x.fontSize=x.ascent+x.descent,a.remove(u),x};s.exports=v}),50171:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(40366),v=r(27919),h=r(83419),u=r(31401),l=r(95643),o=r(14220),d=r(35154),p=r(35846),f=r(61771),y=r(35762),w=r(45650),x=new h({Extends:l,Mixins:[u.Alpha,u.BlendMode,u.ComputedSize,u.Crop,u.Depth,u.Flip,u.GetBounds,u.Mask,u.Origin,u.Pipeline,u.PostPipeline,u.ScrollFactor,u.Tint,u.Transform,u.Visible,f],initialize:function(E,C,T,S,A){C===void 0&&(C=0),T===void 0&&(T=0),l.call(this,E,"Text"),this.renderer=E.sys.renderer,this.setPosition(C,T),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=v.create(this),this.context,this.style=new y(this,A),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=w(),this.texture=E.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(S),A&&A.padding&&this.setPadding(A.padding),A&&A.lineSpacing&&this.setLineSpacing(A.lineSpacing),A&&A.letterSpacing&&this.setLetterSpacing(A.letterSpacing)},initRTL:function(){if(!this.style.rtl){this.canvas.dir="ltr",this.context.direction="ltr";return}this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",a(this.canvas,this.scene.sys.canvas),this.originX=1},runWordWrap:function(b){var E=this.style;if(E.wordWrapCallback){var C=E.wordWrapCallback.call(E.wordWrapCallbackScope,b,this);return Array.isArray(C)&&(C=C.join(`
`)),C}else return E.wordWrapWidth?E.wordWrapUseAdvanced?this.advancedWordWrap(b,this.context,this.style.wordWrapWidth):this.basicWordWrap(b,this.context,this.style.wordWrapWidth):b},advancedWordWrap:function(b,E,C){for(var T="",S=b.replace(/ +/gi," ").split(this.splitRegExp),A=S.length,P=0;P<A;P++){var R=S[P],L="";R=R.replace(/^ *|\s*$/gi,"");var D=R.length*this.letterSpacing,$=E.measureText(R).width+D;if($<C){T+=R+`
`;continue}for(var F=C,N=R.split(" "),k=0;k<N.length;k++){var j=N[k],W=j+" ",G=W.length*this.letterSpacing,K=E.measureText(W).width+G;if(K>F){if(k===0){for(var z=W;z.length;){z=z.slice(0,-1);var X=z.length*this.letterSpacing;if(K=E.measureText(z).width+X,K<=F)break}if(!z.length)throw new Error("wordWrapWidth < a single character");var U=j.substr(z.length);N[k]=U,L+=z}var Z=N[k].length?k:k+1,V=N.slice(Z).join(" ").replace(/[ \n]*$/gi,"");S.splice(P+1,0,V),A=S.length;break}else L+=W,F-=K}T+=L.replace(/[ \n]*$/gi,"")+`
`}return T=T.replace(/[\s|\n]*$/gi,""),T},basicWordWrap:function(b,E,C){for(var T="",S=b.split(this.splitRegExp),A=S.length-1,P=E.measureText(" ").width,R=0;R<=A;R++){for(var L=C,D=S[R].split(" "),$=D.length-1,F=0;F<=$;F++){var N=D[F],k=N.length*this.letterSpacing,j=E.measureText(N).width+k,W=j;F<$&&(W+=P),W>L&&F>0&&(T+=`
`,L=C),T+=N,F<$?(T+=" ",L-=W):L-=j}R<A&&(T+=`
`)}return T},getWrappedText:function(b){b===void 0&&(b=this._text),this.style.syncFont(this.canvas,this.context);var E=this.runWordWrap(b);return E.split(this.splitRegExp)},setText:function(b){return!b&&b!==0&&(b=""),Array.isArray(b)&&(b=b.join(`
`)),b!==this._text&&(this._text=b.toString(),this.updateText()),this},appendText:function(b,E){E===void 0&&(E=!0),!b&&b!==0&&(b=""),Array.isArray(b)&&(b=b.join(`
`)),b=b.toString();var C=this._text.concat(E?`
`+b:b);return C!==this._text&&(this._text=C,this.updateText()),this},setStyle:function(b){return this.style.setStyle(b)},setFont:function(b){return this.style.setFont(b)},setFontFamily:function(b){return this.style.setFontFamily(b)},setFontSize:function(b){return this.style.setFontSize(b)},setFontStyle:function(b){return this.style.setFontStyle(b)},setFixedSize:function(b,E){return this.style.setFixedSize(b,E)},setBackgroundColor:function(b){return this.style.setBackgroundColor(b)},setFill:function(b){return this.style.setFill(b)},setColor:function(b){return this.style.setColor(b)},setStroke:function(b,E){return this.style.setStroke(b,E)},setShadow:function(b,E,C,T,S,A){return this.style.setShadow(b,E,C,T,S,A)},setShadowOffset:function(b,E){return this.style.setShadowOffset(b,E)},setShadowColor:function(b){return this.style.setShadowColor(b)},setShadowBlur:function(b){return this.style.setShadowBlur(b)},setShadowStroke:function(b){return this.style.setShadowStroke(b)},setShadowFill:function(b){return this.style.setShadowFill(b)},setWordWrapWidth:function(b,E){return this.style.setWordWrapWidth(b,E)},setWordWrapCallback:function(b,E){return this.style.setWordWrapCallback(b,E)},setAlign:function(b){return this.style.setAlign(b)},setResolution:function(b){return this.style.setResolution(b)},setLineSpacing:function(b){return this.lineSpacing=b,this.updateText()},setLetterSpacing:function(b){return this.letterSpacing=b,this.updateText()},setPadding:function(b,E,C,T){if(typeof b=="object"){var S=b,A=d(S,"x",null);A!==null?(b=A,C=A):(b=d(S,"left",0),C=d(S,"right",b));var P=d(S,"y",null);P!==null?(E=P,T=P):(E=d(S,"top",0),T=d(S,"bottom",E))}else b===void 0&&(b=0),E===void 0&&(E=b),C===void 0&&(C=b),T===void 0&&(T=E);return this.padding.left=b,this.padding.top=E,this.padding.right=C,this.padding.bottom=T,this.updateText()},setMaxLines:function(b){return this.style.setMaxLines(b)},setRTL:function(b){b===void 0&&(b=!0);var E=this.style;return E.rtl===b?this:(E.rtl=b,b?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",a(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),E.align==="left"?E.align="right":E.align==="right"&&(E.align="left"),this)},updateText:function(){var b=this.canvas,E=this.context,C=this.style,T=C.resolution,S=C.metrics;C.syncFont(b,E);var A=this._text;(C.wordWrapWidth||C.wordWrapCallback)&&(A=this.runWordWrap(this._text));var P=A.split(this.splitRegExp),R=o(this,S,P),L=this.padding,D;C.fixedWidth===0?(this.width=R.width+L.left+L.right,D=R.width):(this.width=C.fixedWidth,D=this.width-L.left-L.right,D<R.width&&(D=R.width)),C.fixedHeight===0?this.height=R.height+L.top+L.bottom:this.height=C.fixedHeight;var $=this.width,F=this.height;this.updateDisplayOrigin(),$*=T,F*=T,$=Math.max($,1),F=Math.max(F,1),b.width!==$||b.height!==F?(b.width=$,b.height=F,this.frame.setSize($,F),C.syncFont(b,E),C.rtl&&(E.direction="rtl")):E.clearRect(0,0,$,F),E.save(),E.scale(T,T),C.backgroundColor&&(E.fillStyle=C.backgroundColor,E.fillRect(0,0,$,F)),C.syncStyle(b,E),E.translate(L.left,L.top);for(var N,k,j=0;j<R.lines;j++){if(N=C.strokeThickness/2,k=C.strokeThickness/2+j*R.lineHeight+S.ascent,j>0&&(k+=R.lineSpacing*j),C.rtl)N=$-N-L.left-L.right;else if(C.align==="right")N+=D-R.lineWidths[j];else if(C.align==="center")N+=(D-R.lineWidths[j])/2;else if(C.align==="justify"){var W=.85;if(R.lineWidths[j]/R.width>=W){var G=R.width-R.lineWidths[j],K=E.measureText(" ").width,z=P[j].trim(),X=z.split(" ");G+=(P[j].length-z.length)*K;for(var U=Math.floor(G/K),Z=0;U>0;)X[Z]+=" ",Z=(Z+1)%(X.length-1||1),--U;P[j]=X.join(" ")}}this.autoRound&&(N=Math.round(N),k=Math.round(k));var V=this.letterSpacing;if(C.strokeThickness&&V===0&&(C.syncShadow(E,C.shadowStroke),E.strokeText(P[j],N,k)),C.color)if(C.syncShadow(E,C.shadowFill),V!==0)for(var J=0,Q=P[j].split(""),ee=0;ee<Q.length;ee++)C.strokeThickness&&(C.syncShadow(E,C.shadowStroke),E.strokeText(Q[ee],N+J,k),C.syncShadow(E,C.shadowFill)),E.fillText(Q[ee],N+J,k),J+=E.measureText(Q[ee]).width+V;else E.fillText(P[j],N,k)}E.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(b,this.frame.source.glTexture,!0));var te=this.input;return te&&!te.customHitArea&&(te.hitArea.width=this.width,te.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(b){this.setText(b)}},toJSON:function(){var b=u.ToJSON(this),E={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return b.data=E,b},preDestroy:function(){p(this.canvas),v.remove(this.canvas);var b=this.texture;b&&b.destroy()}});s.exports=x}),79724:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h){a.width===0||a.height===0||(v.addToRenderList(a),r.batchSprite(a,a.frame,v,h))};s.exports=g}),71259:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(25305),v=r(44603),h=r(23568),u=r(50171);v.register("text",function(l,o){l===void 0&&(l={});var d=h(l,"text",""),p=h(l,"style",null),f=h(l,"padding",null);f!==null&&(p.padding=f);var y=new u(this.scene,0,0,d,p);return o!==void 0&&(l.add=o),a(this.scene,y,l),y.autoRound=h(l,"autoRound",!0),y.resolution=h(l,"resolution",1),y})}),68005:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(50171),v=r(39429);v.register("text",function(h,u,l,o){return this.displayList.add(new a(this.scene,h,u,l,o))})}),61771:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(29747),v=a,h=a;v=r(34397),h=r(79724),s.exports={renderWebGL:v,renderCanvas:h}}),35762:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(23568),h=r(35154),u=r(79557),l={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},o=new a({initialize:function(p,f){this.parent=p,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(f,!1,!0)},setStyle:function(d,p,f){p===void 0&&(p=!0),f===void 0&&(f=!1);for(var y in l){var w=f?l[y][1]:this[y];y==="wordWrapCallback"||y==="wordWrapCallbackScope"?this[y]=h(d,l[y][0],w):d&&y==="fontSize"&&typeof d.fontSize=="number"?this[y]=d.fontSize.toString()+"px":this[y]=v(d,l[y][0],w)}var x=h(d,"font",null);x!==null&&this.setFont(x,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var b=h(d,"fill",null);b!==null&&(this.color=b);var E=h(d,"metrics",!1);return E?this.metrics={ascent:h(E,"ascent",0),descent:h(E,"descent",0),fontSize:h(E,"fontSize",0)}:(p||!this.metrics)&&(this.metrics=u(this)),p?this.parent.updateText():this.parent},syncFont:function(d,p){p.font=this._font},syncStyle:function(d,p){p.textBaseline="alphabetic",p.fillStyle=this.color,p.strokeStyle=this.stroke,p.lineWidth=this.strokeThickness,p.lineCap="round",p.lineJoin="round"},syncShadow:function(d,p){p?(d.shadowOffsetX=this.shadowOffsetX,d.shadowOffsetY=this.shadowOffsetY,d.shadowColor=this.shadowColor,d.shadowBlur=this.shadowBlur):(d.shadowOffsetX=0,d.shadowOffsetY=0,d.shadowColor=0,d.shadowBlur=0)},update:function(d){return d&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=u(this)),this.parent.updateText()},setFont:function(d,p){p===void 0&&(p=!0);var f=d,y="",w="";if(typeof d!="string")f=h(d,"fontFamily","Courier"),y=h(d,"fontSize","16px"),w=h(d,"fontStyle","");else{var x=d.split(" "),b=0;w=x.length>2?x[b++]:"",y=x[b++]||"16px",f=x[b++]||"Courier"}return(f!==this.fontFamily||y!==this.fontSize||w!==this.fontStyle)&&(this.fontFamily=f,this.fontSize=y,this.fontStyle=w,p&&this.update(!0)),this.parent},setFontFamily:function(d){return this.fontFamily!==d&&(this.fontFamily=d,this.update(!0)),this.parent},setFontStyle:function(d){return this.fontStyle!==d&&(this.fontStyle=d,this.update(!0)),this.parent},setFontSize:function(d){return typeof d=="number"&&(d=d.toString()+"px"),this.fontSize!==d&&(this.fontSize=d,this.update(!0)),this.parent},setTestString:function(d){return this.testString=d,this.update(!0)},setFixedSize:function(d,p){return this.fixedWidth=d,this.fixedHeight=p,d&&(this.parent.width=d),p&&(this.parent.height=p),this.update(!1)},setBackgroundColor:function(d){return this.backgroundColor=d,this.update(!1)},setFill:function(d){return this.color=d,this.update(!1)},setColor:function(d){return this.color=d,this.update(!1)},setResolution:function(d){return this.resolution=d,this.update(!1)},setStroke:function(d,p){return p===void 0&&(p=this.strokeThickness),d===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==d||this.strokeThickness!==p)&&(this.stroke=d,this.strokeThickness=p,this.update(!0)),this.parent},setShadow:function(d,p,f,y,w,x){return d===void 0&&(d=0),p===void 0&&(p=0),f===void 0&&(f="#000"),y===void 0&&(y=0),w===void 0&&(w=!1),x===void 0&&(x=!0),this.shadowOffsetX=d,this.shadowOffsetY=p,this.shadowColor=f,this.shadowBlur=y,this.shadowStroke=w,this.shadowFill=x,this.update(!1)},setShadowOffset:function(d,p){return d===void 0&&(d=0),p===void 0&&(p=d),this.shadowOffsetX=d,this.shadowOffsetY=p,this.update(!1)},setShadowColor:function(d){return d===void 0&&(d="#000"),this.shadowColor=d,this.update(!1)},setShadowBlur:function(d){return d===void 0&&(d=0),this.shadowBlur=d,this.update(!1)},setShadowStroke:function(d){return this.shadowStroke=d,this.update(!1)},setShadowFill:function(d){return this.shadowFill=d,this.update(!1)},setWordWrapWidth:function(d,p){return p===void 0&&(p=!1),this.wordWrapWidth=d,this.wordWrapUseAdvanced=p,this.update(!1)},setWordWrapCallback:function(d,p){return p===void 0&&(p=null),this.wordWrapCallback=d,this.wordWrapCallbackScope=p,this.update(!1)},setAlign:function(d){return d===void 0&&(d="left"),this.align=d,this.update(!1)},setMaxLines:function(d){return d===void 0&&(d=0),this.maxLines=d,this.update(!1)},getTextMetrics:function(){var d=this.metrics;return{ascent:d.ascent,descent:d.descent,fontSize:d.fontSize}},toJSON:function(){var d={};for(var p in l)d[p]=this[p];return d.metrics=this.getTextMetrics(),d},destroy:function(){this.parent=void 0}});s.exports=o}),34397:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(70554),v=function(h,u,l,o){if(!(u.width===0||u.height===0)){l.addToRenderList(u);var d=u.frame,p=d.width,f=d.height,y=a.getTintAppendFloatAlpha,w=h.pipelines.set(u.pipeline,u),x=w.setTexture2D(d.glTexture,u);w.batchTexture(u,d.glTexture,p,f,u.x,u.y,p/u.style.resolution,f/u.style.resolution,u.scaleX,u.scaleY,u.rotation,u.flipX,u.flipY,u.scrollFactorX,u.scrollFactorY,u.displayOriginX,u.displayOriginY,0,0,p,f,y(u.tintTopLeft,l.alpha*u._alphaTL),y(u.tintTopRight,l.alpha*u._alphaTR),y(u.tintBottomLeft,l.alpha*u._alphaBL),y(u.tintBottomRight,l.alpha*u._alphaBR),u.tintFill,0,0,l,o,!1,x)}};s.exports=v}),20839:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(27919),v=r(83419),h=r(31401),u=r(95643),l=r(98439),o=r(68703),d=r(56295),p=r(45650),f=r(26099),y=8,w=new v({Extends:u,Mixins:[h.Alpha,h.BlendMode,h.ComputedSize,h.Crop,h.Depth,h.Flip,h.GetBounds,h.Mask,h.Origin,h.Pipeline,h.PostPipeline,h.ScrollFactor,h.Tint,h.Transform,h.Visible,d],initialize:function(b,E,C,T,S,A,P){var R=b.sys.renderer;u.call(this,b,"TileSprite");var L=b.sys.textures.get(A),D=L.get(P);D.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),L=b.sys.textures.get("__MISSING"),D=L.get()),L.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),L=b.sys.textures.get("__MISSING"),D=L.get()),!T||!S?(T=T||D.width,S=S||D.height):(T=Math.floor(T),S=Math.floor(S)),this._tilePosition=new f,this._tileScale=new f(1,1),this.dirty=!1,this.renderer=R,this.canvas=a.create(this,T,S),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=L,this.displayFrame=D,this._crop=this.resetCropObject(),this._textureKey=p(),this.texture=b.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=l(D.width),this.potHeight=l(D.height),this.fillCanvas=a.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(E,C),this.setSize(T,S),this.setFrame(P),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(x,b){return this.displayTexture=this.scene.sys.textures.get(x),this.setFrame(b)},setFrame:function(x){var b=this.displayTexture.get(x);return this.potWidth=l(b.width),this.potHeight=l(b.height),this.canvas.width=0,!b.cutWidth||!b.cutHeight?this.renderFlags&=~y:this.renderFlags|=y,this.displayFrame=b,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(x,b){return x!==void 0&&(this.tilePositionX=x),b!==void 0&&(this.tilePositionY=b),this},setTileScale:function(x,b){return x===void 0&&(x=this.tileScaleX),b===void 0&&(b=x),this.tileScaleX=x,this.tileScaleY=b,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var x=this.displayFrame;if(x.source.isRenderTexture||x.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var b=this.fillContext,E=this.fillCanvas,C=this.potWidth,T=this.potHeight;(!this.renderer||!this.renderer.gl)&&(C=x.cutWidth,T=x.cutHeight),b.clearRect(0,0,C,T),E.width=C,E.height=T,b.drawImage(x.source.image,x.cutX,x.cutY,x.cutWidth,x.cutHeight,0,0,C,T),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(E,this.fillPattern):this.fillPattern=b.createPattern(E,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var x=this.canvas;if((x.width!==this.width||x.height!==this.height)&&(x.width=this.width,x.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var b=this.context;this.scene.sys.game.config.antialias||o.disable(b);var E=this._tileScale.x,C=this._tileScale.y,T=this._tilePosition.x,S=this._tilePosition.y;b.clearRect(0,0,this.width,this.height),b.save(),b.scale(E,C),b.translate(-T,-S),b.fillStyle=this.fillPattern,b.fillRect(T,S,this.width/E,this.height/C),b.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),a.remove(this.canvas),a.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var x=this.texture;x&&x.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(x){this._tilePosition.x=x,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(x){this._tilePosition.y=x,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(x){this._tileScale.x=x,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(x){this._tileScale.y=x,this.dirty=!0}}});s.exports=w}),46992:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h){a.updateCanvas(),v.addToRenderList(a),r.batchSprite(a,a.frame,v,h)};s.exports=g}),14167:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(25305),v=r(44603),h=r(23568),u=r(20839);v.register("tileSprite",function(l,o){l===void 0&&(l={});var d=h(l,"x",0),p=h(l,"y",0),f=h(l,"width",512),y=h(l,"height",512),w=h(l,"key",""),x=h(l,"frame",""),b=new u(this.scene,d,p,f,y,w,x);return o!==void 0&&(l.add=o),a(this.scene,b,l),b})}),91681:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(20839),v=r(39429);v.register("tileSprite",function(h,u,l,o,d,p){return this.displayList.add(new a(this.scene,h,u,l,o,d,p))})}),56295:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(29747),v=a,h=a;v=r(18553),h=r(46992),s.exports={renderWebGL:v,renderCanvas:h}}),18553:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(70554),v=function(h,u,l,o){u.updateCanvas();var d=u.width,p=u.height;if(!(d===0||p===0)){l.addToRenderList(u);var f=a.getTintAppendFloatAlpha,y=h.pipelines.set(u.pipeline,u),w=y.setTexture2D(u.fillPattern,u);y.batchTexture(u,u.fillPattern,u.displayFrame.width*u.tileScaleX,u.displayFrame.height*u.tileScaleY,u.x,u.y,d,p,u.scaleX,u.scaleY,u.rotation,u.flipX,u.flipY,u.scrollFactorX,u.scrollFactorY,u.originX*d,u.originY*p,0,0,d,p,f(u.tintTopLeft,l.alpha*u._alphaTL),f(u.tintTopRight,l.alpha*u._alphaTR),f(u.tintBottomLeft,l.alpha*u._alphaBL),f(u.tintBottomRight,l.alpha*u._alphaBR),u.tintFill,u.tilePositionX%u.displayFrame.width/u.displayFrame.width,u.tilePositionY%u.displayFrame.height/u.displayFrame.height,l,o,!1,w)}};s.exports=v}),18471:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(45319),v=r(83419),h=r(31401),u=r(51708),l=r(8443),o=r(95643),d=r(36383),p=r(14463),f=r(45650),y=r(10247),w=new v({Extends:o,Mixins:[h.Alpha,h.BlendMode,h.ComputedSize,h.Depth,h.Flip,h.GetBounds,h.Mask,h.Origin,h.Pipeline,h.PostPipeline,h.ScrollFactor,h.TextureCrop,h.Tint,h.Transform,h.Visible,y],initialize:function(b,E,C,T){o.call(this,b,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=f(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var S=b.sys.game;this._device=S.device.video,this.setPosition(E,C),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),S.events.on(l.PAUSE,this.globalPause,this),S.events.on(l.RESUME,this.globalResume,this);var A=b.sys.sound;A&&A.on(p.GLOBAL_MUTE,this.globalMute,this),T&&this.load(T)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(x){var b=this.scene.sys.cache.video.get(x);return b?(this.cacheKey=x,this.loadHandler(b.url,b.noAudio,b.crossOrigin)):console.warn("No video in cache for key: "+x),this},changeSource:function(x,b,E,C,T){b===void 0&&(b=!0),E===void 0&&(E=!1),this.cacheKey!==x&&(this.load(x),b&&this.play(E,C,T))},getVideoKey:function(){return this.cacheKey},loadURL:function(x,b,E){b===void 0&&(b=!1);var C=this._device.getVideoURL(x);return C?(this.cacheKey="",this.loadHandler(C.url,b,E)):console.warn("No supported video format found for "+x),this},loadMediaStream:function(x,b,E){return this.loadHandler(null,b,E,x)},loadHandler:function(x,b,E,C){b||(b=!1);var T=this.video;if(T?(this.removeLoadEventHandlers(),this.stop()):(T=document.createElement("video"),T.controls=!1,T.setAttribute("playsinline","playsinline"),T.setAttribute("preload","auto"),T.setAttribute("disablePictureInPicture","true")),b?(T.muted=!0,T.defaultMuted=!0,T.setAttribute("autoplay","autoplay")):(T.muted=!1,T.defaultMuted=!1,T.removeAttribute("autoplay")),E?T.setAttribute("crossorigin",E):T.removeAttribute("crossorigin"),C)if("srcObject"in T)try{T.srcObject=C}catch(A){if(A.name!=="TypeError")throw A;T.src=URL.createObjectURL(C)}else T.src=URL.createObjectURL(C);else T.src=x;this.retry=0,this.video=T,this._playCalled=!1,T.load(),this.addLoadEventHandlers();var S=this.scene.sys.textures.get(this._key);return this.setTexture(S),this},requestVideoFrame:function(x,b){var E=this.video;if(E){var C=b.width,T=b.height,S=this.videoTexture,A=this.videoTextureSource,P=!S||A.source!==E;P?(this._codePaused=E.paused,this._codeMuted=E.muted,S?(A.source=E,A.width=C,A.height=T,S.get().setSize(C,T)):(S=this.scene.sys.textures.create(this._key,E,C,T),S.add("__BASE",0,0,0,C,T),this.setTexture(S),this.videoTexture=S,this.videoTextureSource=S.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(u.VIDEO_TEXTURE,this,S)),this.setSizeToFrame(),this.updateDisplayOrigin()):A.update(),this.isStalled=!1,this.metadata=b;var R=b.mediaTime;P&&(this._lastUpdate=R,this.emit(u.VIDEO_CREATED,this,C,T),this.frameReady||(this.frameReady=!0,this.emit(u.VIDEO_PLAY,this))),this._playingMarker?R>=this._markerOut&&(E.loop?(E.currentTime=this._markerIn,this.emit(u.VIDEO_LOOP,this)):(this.stop(!1),this.emit(u.VIDEO_COMPLETE,this))):R<this._lastUpdate&&this.emit(u.VIDEO_LOOP,this),this._lastUpdate=R,this._getFrame?(this.removeEventHandlers(),E.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(x,b,E){b===void 0&&(b=-1),E===void 0&&(E=d.MAX_SAFE_INTEGER);var C=this.video;return!C||this.isPlaying()?(C||console.warn("Video not loaded"),this):(x===void 0&&(x=C.loop),C.loop=x,this._markerIn=b,this._markerOut=E,this._playingMarker=b>-1&&E>b&&E<d.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=C.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},getFirstFrame:function(){var x=this.video;return!x||this.isPlaying()?(x||console.warn("Video not loaded"),this):(this._playCalled||(this._getFrame=!0,this._rfvCallbackId=x.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this)},addLoadEventHandlers:function(){var x=this.video;x&&(x.addEventListener("error",this._loadCallbackHandler),x.addEventListener("abort",this._loadCallbackHandler),x.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var x=this.video;x&&(x.removeEventListener("error",this._loadCallbackHandler),x.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var x=this.video;if(x){var b=this._callbacks;for(var E in b)x.addEventListener(E,b[E])}},removeEventHandlers:function(){var x=this.video;if(x){var b=this._callbacks;for(var E in b)x.removeEventListener(E,b[E])}},createPlayPromise:function(x){x===void 0&&(x=!0);var b=this.video,E=b.play();if(E!==void 0){var C=this.playSuccess.bind(this),T=this.playError.bind(this);if(!x){var S=this;T=function(){S.failedPlayAttempts++}}E.then(C).catch(T)}else b.addEventListener("playing",this._callbacks.legacy),x||this.failedPlayAttempts++},addMarker:function(x,b,E){return!isNaN(b)&&b>=0&&!isNaN(E)&&E>b&&(this.markers[x]=[b,E]),this},playMarker:function(x,b){var E=this.markers[x];return E&&this.play(b,E[0],E[1]),this},removeMarker:function(x){return delete this.markers[x],this},snapshot:function(x,b){return x===void 0&&(x=this.width),b===void 0&&(b=this.height),this.snapshotArea(0,0,this.width,this.height,x,b)},snapshotArea:function(x,b,E,C,T,S){x===void 0&&(x=0),b===void 0&&(b=0),E===void 0&&(E=this.width),C===void 0&&(C=this.height),T===void 0&&(T=E),S===void 0&&(S=C);var A=this.video,P=this.snapshotTexture;return P?(P.setSize(T,S),A&&P.context.drawImage(A,x,b,E,C,0,0,T,S)):(P=this.scene.sys.textures.createCanvas(f(),T,S),this.snapshotTexture=P,A&&P.context.drawImage(A,x,b,E,C,0,0,T,S)),P.update()},saveSnapshotTexture:function(x){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,x):this.snapshotTexture=this.scene.sys.textures.createCanvas(x,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(u.VIDEO_UNLOCKED,this));var x=this.scene.sys.sound;x&&x.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(x){var b=x.name;b==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(u.VIDEO_LOCKED,this)):b==="NotSupportedError"?(this.stop(!1),this.emit(u.VIDEO_UNSUPPORTED,this,x)):(this.stop(!1),this.emit(u.VIDEO_ERROR,this,x))},legacyPlayHandler:function(){var x=this.video;x&&(this.playSuccess(),x.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(u.VIDEO_PLAYING,this)},loadErrorHandler:function(x){this.stop(!1),this.emit(u.VIDEO_ERROR,this,x)},metadataHandler:function(x){this.emit(u.VIDEO_METADATA,this,x)},setSizeToFrame:function(x){x||(x=this.frame),this.width=x.realWidth,this.height=x.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var b=this.input;return b&&!b.customHitArea&&(b.hitArea.width=this.width,b.hitArea.height=this.height),this},stalledHandler:function(x){this.isStalled=!0,this.emit(u.VIDEO_STALLED,this,x)},completeHandler:function(){this._playCalled=!1,this.emit(u.VIDEO_COMPLETE,this)},preUpdate:function(x,b){var E=this.video;!E||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=b,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(x){var b=this.video;if(b){var E=b.duration;if(E!==1/0&&!isNaN(E)){var C=E*x;this.setCurrentTime(C)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(x){var b=this.video;if(b){if(typeof x=="string"){var E=x[0],C=parseFloat(x.substr(1));E==="+"?x=b.currentTime+C:E==="-"&&(x=b.currentTime-C)}b.currentTime=x}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(u.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(u.VIDEO_SEEKED,this)},getProgress:function(){var x=this.video;if(x){var b=x.duration;if(b!==1/0&&!isNaN(b))return x.currentTime/b}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(x){x===void 0&&(x=!0),this._codeMuted=x;var b=this.video;return b&&(b.muted=this._systemMuted?!0:x),this},isMuted:function(){return this._codeMuted},globalMute:function(x,b){this._systemMuted=b;var E=this.video;E&&(E.muted=this._codeMuted?!0:b)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(x){x===void 0&&(x=!0);var b=this.video;return this._codePaused=x,b&&!b.ended&&(x?b.paused||(this.removeEventHandlers(),b.pause()):x||(this._playCalled?b.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(x){return x===void 0&&(x=1),this.video&&(this.video.volume=a(x,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(x){return this.video&&(this.video.playbackRate=x),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(x){return x===void 0&&(x=!0),this.video&&(this.video.loop=x),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(x,b){return b===void 0&&(b=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,x),this.videoTextureSource.setFlipY(b)),this._key=x,this.flipY=b,!!this.videoTexture},stop:function(x){x===void 0&&(x=!0);var b=this.video;return b&&(this.removeEventHandlers(),b.cancelVideoFrameCallback(this._rfvCallbackId),b.pause()),this.retry=0,this._playCalled=!1,x&&this.emit(u.VIDEO_STOP,this),this},removeVideoElement:function(){var x=this.video;if(x){for(x.parentNode&&x.parentNode.removeChild(x);x.hasChildNodes();)x.removeChild(x.firstChild);x.removeAttribute("autoplay"),x.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var x=this.scene.sys.game.events;x.off(l.PAUSE,this.globalPause,this),x.off(l.RESUME,this.globalResume,this);var b=this.scene.sys.sound;b&&b.off(p.GLOBAL_MUTE,this.globalMute,this)}});s.exports=w}),58352:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h){a.videoTexture&&(v.addToRenderList(a),r.batchSprite(a,a.frame,v,h))};s.exports=g}),11511:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(25305),v=r(44603),h=r(23568),u=r(18471);v.register("video",function(l,o){l===void 0&&(l={});var d=h(l,"key",null),p=new u(this.scene,0,0,d);return o!==void 0&&(l.add=o),a(this.scene,p,l),p})}),89025:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(18471),v=r(39429);v.register("video",function(h,u,l){return this.displayList.add(new a(this.scene,h,u,l))})}),10247:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(29747),v=a,h=a;v=r(29849),h=r(58352),s.exports={renderWebGL:v,renderCanvas:h}}),29849:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h){a.videoTexture&&(v.addToRenderList(a),a.pipeline.batchSprite(a,v,h))};s.exports=g}),41481:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(10312),v=r(96503),h=r(87902),u=r(83419),l=r(31401),o=r(95643),d=r(87841),p=r(37303),f=new u({Extends:o,Mixins:[l.Depth,l.GetBounds,l.Origin,l.Transform,l.ScrollFactor,l.Visible],initialize:function(w,x,b,E,C){E===void 0&&(E=1),C===void 0&&(C=E),o.call(this,w,"Zone"),this.setPosition(x,b),this.width=E,this.height=C,this.blendMode=a.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(y){this.scaleX=y/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(y){this.scaleY=y/this.height}},setSize:function(y,w,x){x===void 0&&(x=!0),this.width=y,this.height=w,this.updateDisplayOrigin();var b=this.input;return x&&b&&!b.customHitArea&&(b.hitArea.width=y,b.hitArea.height=w),this},setDisplaySize:function(y,w){return this.displayWidth=y,this.displayHeight=w,this},setCircleDropZone:function(y){return this.setDropZone(new v(0,0,y),h)},setRectangleDropZone:function(y,w){return this.setDropZone(new d(0,0,y,w),p)},setDropZone:function(y,w){return this.input||this.setInteractive(y,w,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(y,w,x){x.addToRenderList(w)},renderWebGL:function(y,w,x){x.addToRenderList(w)}});s.exports=f}),95261:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(44603),v=r(23568),h=r(41481);a.register("zone",function(u){var l=v(u,"x",0),o=v(u,"y",0),d=v(u,"width",1),p=v(u,"height",d);return new h(this.scene,l,o,d,p)})}),84175:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(41481),v=r(39429);v.register("zone",function(h,u,l,o){return this.displayList.add(new a(this.scene,h,u,l,o))})}),95166:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r.radius>0?Math.PI*r.radius*r.radius:0};s.exports=g}),96503:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(87902),h=r(26241),u=r(79124),l=r(23777),o=r(28176),d=new a({initialize:function(f,y,w){f===void 0&&(f=0),y===void 0&&(y=0),w===void 0&&(w=0),this.type=l.CIRCLE,this.x=f,this.y=y,this._radius=w,this._diameter=w*2},contains:function(p,f){return v(this,p,f)},getPoint:function(p,f){return h(this,p,f)},getPoints:function(p,f,y){return u(this,p,f,y)},getRandomPoint:function(p){return o(this,p)},setTo:function(p,f,y){return this.x=p,this.y=f,this._radius=y,this._diameter=y*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(p,f){return f===void 0&&(f=p),this.x=p,this.y=f,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(p){this._radius=p,this._diameter=p*2}},diameter:{get:function(){return this._diameter},set:function(p){this._diameter=p,this._radius=p*.5}},left:{get:function(){return this.x-this._radius},set:function(p){this.x=p+this._radius}},right:{get:function(){return this.x+this._radius},set:function(p){this.x=p-this._radius}},top:{get:function(){return this.y-this._radius},set:function(p){this.y=p+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(p){this.y=p-this._radius}}});s.exports=d}),71562:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return 2*(Math.PI*r.radius)};s.exports=g}),92110:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(2141),v=function(h,u,l){return l===void 0&&(l=new a),l.x=h.x+h.radius*Math.cos(u),l.y=h.y+h.radius*Math.sin(u),l};s.exports=v}),42250:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(96503),v=function(h){return new a(h.x,h.y,h.radius)};s.exports=v}),87902:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){if(r.radius>0&&a>=r.left&&a<=r.right&&v>=r.top&&v<=r.bottom){var h=(r.x-a)*(r.x-a),u=(r.y-v)*(r.y-v);return h+u<=r.radius*r.radius}else return!1};s.exports=g}),5698:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(87902),v=function(h,u){return a(h,u.x,u.y)};s.exports=v}),70588:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(87902),v=function(h,u){return a(h,u.x,u.y)&&a(h,u.right,u.y)&&a(h,u.x,u.bottom)&&a(h,u.right,u.bottom)};s.exports=v}),26394:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return a.setTo(r.x,r.y,r.radius)};s.exports=g}),76278:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return r.x===a.x&&r.y===a.y&&r.radius===a.radius};s.exports=g}),2074:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(87841),v=function(h,u){return u===void 0&&(u=new a),u.x=h.left,u.y=h.top,u.width=h.diameter,u.height=h.diameter,u};s.exports=v}),26241:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(92110),v=r(62945),h=r(36383),u=r(2141),l=function(o,d,p){p===void 0&&(p=new u);var f=v(d,0,h.PI2);return a(o,f,p)};s.exports=l}),79124:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(71562),v=r(92110),h=r(62945),u=r(36383),l=function(o,d,p,f){f===void 0&&(f=[]),!d&&p>0&&(d=a(o)/p);for(var y=0;y<d;y++){var w=h(y/d,0,u.PI2);f.push(v(o,w))}return f};s.exports=l}),50884:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){return r.x+=a,r.y+=v,r};s.exports=g}),39212:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return r.x+=a.x,r.y+=a.y,r};s.exports=g}),28176:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(2141),v=function(h,u){u===void 0&&(u=new a);var l=2*Math.PI*Math.random(),o=Math.random()+Math.random(),d=o>1?2-o:o,p=d*Math.cos(l),f=d*Math.sin(l);return u.x=h.x+p*h.radius,u.y=h.y+f*h.radius,u};s.exports=v}),88911:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(96503);a.Area=r(95166),a.Circumference=r(71562),a.CircumferencePoint=r(92110),a.Clone=r(42250),a.Contains=r(87902),a.ContainsPoint=r(5698),a.ContainsRect=r(70588),a.CopyFrom=r(26394),a.Equals=r(76278),a.GetBounds=r(2074),a.GetPoint=r(26241),a.GetPoints=r(79124),a.Offset=r(50884),a.OffsetPoint=r(39212),a.Random=r(28176),s.exports=a}),23777:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};s.exports=g}),78874:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r.isEmpty()?0:r.getMajorRadius()*r.getMinorRadius()*Math.PI};s.exports=g}),92990:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){var a=r.width/2,v=r.height/2,h=Math.pow(a-v,2)/Math.pow(a+v,2);return Math.PI*(a+v)*(1+3*h/(10+Math.sqrt(4-3*h)))};s.exports=g}),79522:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(2141),v=function(h,u,l){l===void 0&&(l=new a);var o=h.width/2,d=h.height/2;return l.x=h.x+o*Math.cos(u),l.y=h.y+d*Math.sin(u),l};s.exports=v}),58102:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(8497),v=function(h){return new a(h.x,h.y,h.width,h.height)};s.exports=v}),81154:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){if(r.width<=0||r.height<=0)return!1;var h=(a-r.x)/r.width,u=(v-r.y)/r.height;return h*=h,u*=u,h+u<.25};s.exports=g}),46662:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(81154),v=function(h,u){return a(h,u.x,u.y)};s.exports=v}),1632:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(81154),v=function(h,u){return a(h,u.x,u.y)&&a(h,u.right,u.y)&&a(h,u.x,u.bottom)&&a(h,u.right,u.bottom)};s.exports=v}),65534:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return a.setTo(r.x,r.y,r.width,r.height)};s.exports=g}),8497:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(81154),h=r(90549),u=r(48320),l=r(23777),o=r(24820),d=new a({initialize:function(f,y,w,x){f===void 0&&(f=0),y===void 0&&(y=0),w===void 0&&(w=0),x===void 0&&(x=0),this.type=l.ELLIPSE,this.x=f,this.y=y,this.width=w,this.height=x},contains:function(p,f){return v(this,p,f)},getPoint:function(p,f){return h(this,p,f)},getPoints:function(p,f,y){return u(this,p,f,y)},getRandomPoint:function(p){return o(this,p)},setTo:function(p,f,y,w){return this.x=p,this.y=f,this.width=y,this.height=w,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(p,f){return f===void 0&&(f=p),this.x=p,this.y=f,this},setSize:function(p,f){return f===void 0&&(f=p),this.width=p,this.height=f,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(p){this.x=p+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(p){this.x=p-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(p){this.y=p+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(p){this.y=p-this.height/2}}});s.exports=d}),36146:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return r.x===a.x&&r.y===a.y&&r.width===a.width&&r.height===a.height};s.exports=g}),23694:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(87841),v=function(h,u){return u===void 0&&(u=new a),u.x=h.left,u.y=h.top,u.width=h.width,u.height=h.height,u};s.exports=v}),90549:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(79522),v=r(62945),h=r(36383),u=r(2141),l=function(o,d,p){p===void 0&&(p=new u);var f=v(d,0,h.PI2);return a(o,f,p)};s.exports=l}),48320:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(92990),v=r(79522),h=r(62945),u=r(36383),l=function(o,d,p,f){f===void 0&&(f=[]),!d&&p>0&&(d=a(o)/p);for(var y=0;y<d;y++){var w=h(y/d,0,u.PI2);f.push(v(o,w))}return f};s.exports=l}),73424:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){return r.x+=a,r.y+=v,r};s.exports=g}),44808:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return r.x+=a.x,r.y+=a.y,r};s.exports=g}),24820:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(2141),v=function(h,u){u===void 0&&(u=new a);var l=Math.random()*Math.PI*2,o=Math.sqrt(Math.random());return u.x=h.x+o*Math.cos(l)*h.width/2,u.y=h.y+o*Math.sin(l)*h.height/2,u};s.exports=v}),49203:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(8497);a.Area=r(78874),a.Circumference=r(92990),a.CircumferencePoint=r(79522),a.Clone=r(58102),a.Contains=r(81154),a.ContainsPoint=r(46662),a.ContainsRect=r(1632),a.CopyFrom=r(65534),a.Equals=r(36146),a.GetBounds=r(23694),a.GetPoint=r(90549),a.GetPoints=r(48320),a.Offset=r(73424),a.OffsetPoint=r(44808),a.Random=r(24820),s.exports=a}),55738:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(23777),v=r(79291),h={Circle:r(88911),Ellipse:r(49203),Intersects:r(91865),Line:r(2529),Mesh:r(73090),Point:r(43711),Polygon:r(58423),Rectangle:r(93232),Triangle:r(84435)};h=v(!1,h,a),s.exports=h}),2044:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(20339),v=function(h,u){return a(h.x,h.y,u.x,u.y)<=h.radius+u.radius};s.exports=v}),81491:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){var v=a.width/2,h=a.height/2,u=Math.abs(r.x-a.x-v),l=Math.abs(r.y-a.y-h),o=v+r.radius,d=h+r.radius;if(u>o||l>d)return!1;if(u<=v||l<=h)return!0;var p=u-v,f=l-h,y=p*p,w=f*f,x=r.radius*r.radius;return y+w<=x};s.exports=g}),63376:((s,g,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(2141),v=r(2044),h=function(u,l,o){if(o===void 0&&(o=[]),v(u,l)){var d=u.x,p=u.y,f=u.radius,y=l.x,w=l.y,x=l.radius,b,E,C,T,S;if(p===w)S=(x*x-f*f-y*y+d*d)/(2*(d-y)),b=1,E=-2*w,C=y*y+S*S-2*y*S+w*w-x*x,T=E*E-4*b*C,T===0?o.push(new a(S,-E/(2*b))):T>0&&(o.push(new a(S,(-E+Math.sqrt(T))/(2*b))),o.push(new a(S,(-E-Math.sqrt(T))/(2*b))));else{var A=(d-y)/(p-w),P=(x*x-f*f-y*y+d*d-w*w+p*p)/(2*(p-w));b=A*A+1,E=2*p*A-2*P*A-2*d,C=d*d+p*p+P*P-f*f-2*p*P,T=E*E-4*b*C,T===0?(S=-E/(2*b),o.push(new a(S,P-S*A))):T>0&&(S=(-E+Math.sqrt(T))/(2*b),o.push(new a(S,P-S*A)),S=(-E-Math.sqrt(T))/(2*b),o.push(new a(S,P-S*A)))}}return o};s.exports=h}),97439:((s,g,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(4042),v=r(81491),h=function(u,l,o){if(o===void 0&&(o=[]),v(u,l)){var d=l.getLineA(),p=l.getLineB(),f=l.getLineC(),y=l.getLineD();a(d,u,o),a(p,u,o),a(f,u,o),a(y,u,o)}return o};s.exports=h}),4042:((s,g,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(2141),v=r(80462),h=function(u,l,o){if(o===void 0&&(o=[]),v(u,l)){var d=u.x1,p=u.y1,f=u.x2,y=u.y2,w=l.x,x=l.y,b=l.radius,E=f-d,C=y-p,T=d-w,S=p-x,A=E*E+C*C,P=2*(E*T+C*S),R=T*T+S*S-b*b,L=P*P-4*A*R,D,$;if(L===0){var F=-P/(2*A);D=d+F*E,$=p+F*C,F>=0&&F<=1&&o.push(new a(D,$))}else if(L>0){var N=(-P-Math.sqrt(L))/(2*A);D=d+N*E,$=p+N*C,N>=0&&N<=1&&o.push(new a(D,$));var k=(-P+Math.sqrt(L))/(2*A);D=d+k*E,$=p+k*C,k>=0&&k<=1&&o.push(new a(D,$))}}return o};s.exports=h}),36100:((s,g,r)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(25836),v=function(h,u,l,o){l===void 0&&(l=!1);var d=h.x1,p=h.y1,f=h.x2,y=h.y2,w=u.x1,x=u.y1,b=u.x2,E=u.y2,C=f-d,T=y-p,S=b-w,A=E-x,P=C*A-T*S;if(P===0)return null;var R,L,D;if(l){if(R=(C*(x-p)+T*(d-w))/(S*T-A*C),C!==0)L=(w+S*R-d)/C;else if(T!==0)L=(x+A*R-p)/T;else return null;if(L<0||R<0||R>1)return null;D=L}else{if(R=((w-d)*A-(x-p)*S)/P,L=((p-x)*C-(d-w)*T)/P,R<0||R>1||L<0||L>1)return null;D=R}return o===void 0&&(o=new a),o.set(d+C*D,p+T*D,D)};s.exports=v}),3073:((s,g,r)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(36100),v=r(23031),h=r(25836),u=new v,l=new h,o=function(d,p,f,y){f===void 0&&(f=!1),y===void 0&&(y=new h);var w=!1;y.set(),l.set();for(var x=p[p.length-1],b=0;b<p.length;b++){var E=p[b];u.setTo(x.x,x.y,E.x,E.y),x=E,a(d,u,f,l)&&(!w||l.z<y.z)&&(y.copy(l),w=!0)}return w?y:null};s.exports=o}),56362:((s,g,r)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(25836),v=r(61369),h=r(3073),u=new a,l=function(o,d,p,f){f===void 0&&(f=new v),Array.isArray(d)||(d=[d]);var y=!1;f.set(),u.set();for(var w=0;w<d.length;w++)h(o,d[w].points,p,u)&&(!y||u.z<f.z)&&(f.set(u.x,u.y,u.z,w),y=!0);return y?f:null};s.exports=l}),60646:((s,g,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(2141),v=r(76112),h=r(92773),u=function(l,o,d){if(d===void 0&&(d=[]),h(l,o))for(var p=o.getLineA(),f=o.getLineB(),y=o.getLineC(),w=o.getLineD(),x=[new a,new a,new a,new a],b=[v(p,l,x[0]),v(f,l,x[1]),v(y,l,x[2]),v(w,l,x[3])],E=0;E<4;E++)b[E]&&d.push(x[E]);return d};s.exports=u}),71147:((s,g,r)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(61369),v=r(56362),h=r(23031),u=new h;function l(p,f,y,w,x){var b=Math.cos(p),E=Math.sin(p);u.setTo(f,y,f+b,y+E);var C=v(u,w,!0);C&&x.push(new a(C.x,C.y,p,C.w))}function o(p,f){return p.z-f.z}var d=function(p,f,y){Array.isArray(y)||(y=[y]);for(var w=[],x=[],b=0;b<y.length;b++)for(var E=y[b].points,C=0;C<E.length;C++){var T=Math.atan2(E[C].y-f,E[C].x-p);x.indexOf(T)===-1&&(l(T,p,f,y,w),l(T-1e-5,p,f,y,w),l(T+1e-5,p,f,y,w),x.push(T))}return w.sort(o)};s.exports=d}),68389:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(87841),v=r(59996),h=function(u,l,o){return o===void 0&&(o=new a),v(u,l)&&(o.x=Math.max(u.x,l.x),o.y=Math.max(u.y,l.y),o.width=Math.min(u.right,l.right)-o.x,o.height=Math.min(u.bottom,l.bottom)-o.y),o};s.exports=h}),52784:((s,g,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(60646),v=r(59996),h=function(u,l,o){if(o===void 0&&(o=[]),v(u,l)){var d=u.getLineA(),p=u.getLineB(),f=u.getLineC(),y=u.getLineD();a(d,l,o),a(p,l,o),a(f,l,o),a(y,l,o)}return o};s.exports=h}),26341:((s,g,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(89265),v=r(60646),h=function(u,l,o){if(o===void 0&&(o=[]),a(u,l)){var d=l.getLineA(),p=l.getLineB(),f=l.getLineC();v(d,u,o),v(p,u,o),v(f,u,o)}return o};s.exports=h}),38720:((s,g,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(4042),v=r(67636),h=function(u,l,o){if(o===void 0&&(o=[]),v(u,l)){var d=u.getLineA(),p=u.getLineB(),f=u.getLineC();a(d,l,o),a(p,l,o),a(f,l,o)}return o};s.exports=h}),13882:((s,g,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(2141),v=r(2822),h=r(76112),u=function(l,o,d){if(d===void 0&&(d=[]),v(l,o))for(var p=l.getLineA(),f=l.getLineB(),y=l.getLineC(),w=[new a,new a,new a],x=[h(p,o,w[0]),h(f,o,w[1]),h(y,o,w[2])],b=0;b<3;b++)x[b]&&d.push(w[b]);return d};s.exports=u}),75636:((s,g,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(82944),v=r(13882),h=function(u,l,o){if(o===void 0&&(o=[]),a(u,l)){var d=l.getLineA(),p=l.getLineB(),f=l.getLineC();v(u,d,o),v(u,p,o),v(u,f,o)}return o};s.exports=h}),80462:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(87902),v=r(2141),h=new v,u=function(l,o,d){if(d===void 0&&(d=h),a(o,l.x1,l.y1))return d.x=l.x1,d.y=l.y1,!0;if(a(o,l.x2,l.y2))return d.x=l.x2,d.y=l.y2,!0;var p=l.x2-l.x1,f=l.y2-l.y1,y=o.x-l.x1,w=o.y-l.y1,x=p*p+f*f,b=p,E=f;if(x>0){var C=(y*p+w*f)/x;b*=C,E*=C}d.x=l.x1+b,d.y=l.y1+E;var T=b*b+E*E;return T<=x&&b*p+E*f>=0&&a(o,d.x,d.y)};s.exports=u}),76112:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){var h=r.x1,u=r.y1,l=r.x2,o=r.y2,d=a.x1,p=a.y1,f=a.x2,y=a.y2;if(h===l&&u===o||d===f&&p===y)return!1;var w=(y-p)*(l-h)-(f-d)*(o-u);if(w===0)return!1;var x=((f-d)*(u-p)-(y-p)*(h-d))/w,b=((l-h)*(u-p)-(o-u)*(h-d))/w;return x<0||x>1||b<0||b>1?!1:(v&&(v.x=h+x*(l-h),v.y=u+x*(o-u)),!0)};s.exports=g}),92773:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){var v=r.x1,h=r.y1,u=r.x2,l=r.y2,o=a.x,d=a.y,p=a.right,f=a.bottom,y=0;if(v>=o&&v<=p&&h>=d&&h<=f||u>=o&&u<=p&&l>=d&&l<=f)return!0;if(v<o&&u>=o){if(y=h+(l-h)*(o-v)/(u-v),y>d&&y<=f)return!0}else if(v>p&&u<=p&&(y=h+(l-h)*(p-v)/(u-v),y>=d&&y<=f))return!0;if(h<d&&l>=d){if(y=v+(u-v)*(d-h)/(l-h),y>=o&&y<=p)return!0}else if(h>f&&l<=f&&(y=v+(u-v)*(f-h)/(l-h),y>=o&&y<=p))return!0;return!1};s.exports=g}),16204:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){v===void 0&&(v=1);var h=a.x1,u=a.y1,l=a.x2,o=a.y2,d=r.x,p=r.y,f=(l-h)*(l-h)+(o-u)*(o-u);if(f===0)return!1;var y=((d-h)*(l-h)+(p-u)*(o-u))/f;if(y<0)return Math.sqrt((h-d)*(h-d)+(u-p)*(u-p))<=v;if(y>=0&&y<=1){var w=((u-p)*(l-h)-(h-d)*(o-u))/f;return Math.abs(w)*Math.sqrt(f)<=v}else return Math.sqrt((l-d)*(l-d)+(o-p)*(o-p))<=v};s.exports=g}),14199:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(16204),v=function(h,u){if(!a(h,u))return!1;var l=Math.min(u.x1,u.x2),o=Math.max(u.x1,u.x2),d=Math.min(u.y1,u.y2),p=Math.max(u.y1,u.y2);return h.x>=l&&h.x<=o&&h.y>=d&&h.y<=p};s.exports=v}),59996:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return r.width<=0||r.height<=0||a.width<=0||a.height<=0?!1:!(r.right<a.x||r.bottom<a.y||r.x>a.right||r.y>a.bottom)};s.exports=g}),89265:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(76112),v=r(37303),h=r(48653),u=r(77493),l=function(o,d){if(d.left>o.right||d.right<o.left||d.top>o.bottom||d.bottom<o.top)return!1;var p=d.getLineA(),f=d.getLineB(),y=d.getLineC();if(v(o,p.x1,p.y1)||v(o,p.x2,p.y2)||v(o,f.x1,f.y1)||v(o,f.x2,f.y2)||v(o,y.x1,y.y1)||v(o,y.x2,y.y2))return!0;var w=o.getLineA(),x=o.getLineB(),b=o.getLineC(),E=o.getLineD();if(a(p,w)||a(p,x)||a(p,b)||a(p,E)||a(f,w)||a(f,x)||a(f,b)||a(f,E)||a(y,w)||a(y,x)||a(y,b)||a(y,E))return!0;var C=u(o),T=h(d,C,!0);return T.length>0};s.exports=l}),84411:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h,u,l){return l===void 0&&(l=0),!(a>r.right+l||v<r.left-l||h>r.bottom+l||u<r.top-l)};s.exports=g}),67636:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(80462),v=r(10690),h=function(u,l){return u.left>l.right||u.right<l.left||u.top>l.bottom||u.bottom<l.top?!1:!!(v(u,l.x,l.y)||a(u.getLineA(),l)||a(u.getLineB(),l)||a(u.getLineC(),l))};s.exports=h}),2822:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(76112),v=function(h,u){return!!(h.contains(u.x1,u.y1)||h.contains(u.x2,u.y2)||a(h.getLineA(),u)||a(h.getLineB(),u)||a(h.getLineC(),u))};s.exports=v}),82944:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(48653),v=r(71694),h=r(76112),u=function(l,o){if(l.left>o.right||l.right<o.left||l.top>o.bottom||l.bottom<o.top)return!1;var d=l.getLineA(),p=l.getLineB(),f=l.getLineC(),y=o.getLineA(),w=o.getLineB(),x=o.getLineC();if(h(d,y)||h(d,w)||h(d,x)||h(p,y)||h(p,w)||h(p,x)||h(f,y)||h(f,w)||h(f,x))return!0;var b=v(l),E=a(o,b,!0);return E.length>0||(b=v(o),E=a(l,b,!0),E.length>0)};s.exports=u}),91865:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={CircleToCircle:r(2044),CircleToRectangle:r(81491),GetCircleToCircle:r(63376),GetCircleToRectangle:r(97439),GetLineToCircle:r(4042),GetLineToLine:r(36100),GetLineToPoints:r(3073),GetLineToPolygon:r(56362),GetLineToRectangle:r(60646),GetRaysFromPointToPolygon:r(71147),GetRectangleIntersection:r(68389),GetRectangleToRectangle:r(52784),GetRectangleToTriangle:r(26341),GetTriangleToCircle:r(38720),GetTriangleToLine:r(13882),GetTriangleToTriangle:r(75636),LineToCircle:r(80462),LineToLine:r(76112),LineToRectangle:r(92773),PointToLine:r(16204),PointToLineSegment:r(14199),RectangleToRectangle:r(59996),RectangleToTriangle:r(89265),RectangleToValues:r(84411),TriangleToCircle:r(67636),TriangleToLine:r(2822),TriangleToTriangle:r(82944)}}),91938:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return Math.atan2(r.y2-r.y1,r.x2-r.x1)};s.exports=g}),84993:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){a===void 0&&(a=1),v===void 0&&(v=[]);var h=Math.round(r.x1),u=Math.round(r.y1),l=Math.round(r.x2),o=Math.round(r.y2),d=Math.abs(l-h),p=Math.abs(o-u),f=h<l?1:-1,y=u<o?1:-1,w=d-p;v.push({x:h,y:u});for(var x=1;!(h===l&&u===o);){var b=w<<1;b>-p&&(w-=p,h+=f),b<d&&(w+=d,u+=y),x%a===0&&v.push({x:h,y:u}),x++}return v};s.exports=g}),36469:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){var h=a-(r.x1+r.x2)/2,u=v-(r.y1+r.y2)/2;return r.x1+=h,r.y1+=u,r.x2+=h,r.y2+=u,r};s.exports=g}),31116:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(23031),v=function(h){return new a(h.x1,h.y1,h.x2,h.y2)};s.exports=v}),59944:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return a.setTo(r.x1,r.y1,r.x2,r.y2)};s.exports=g}),59220:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return r.x1===a.x1&&r.y1===a.y1&&r.x2===a.x2&&r.y2===a.y2};s.exports=g}),78177:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(35001),v=function(h,u,l){l===void 0&&(l=u);var o=a(h),d=h.x2-h.x1,p=h.y2-h.y1;return u&&(h.x1=h.x1-d/o*u,h.y1=h.y1-p/o*u),l&&(h.x2=h.x2+d/o*l,h.y2=h.y2+p/o*l),h};s.exports=v}),26708:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(52816),v=r(6113),h=r(2141),u=function(l,o,d,p,f){p===void 0&&(p=0),f===void 0&&(f=[]);var y=[],w=l.x1,x=l.y1,b=l.x2-w,E=l.y2-x,C=v(o,f),T,S,A=d-1;for(T=0;T<A;T++)S=C(T/A),y.push(new h(w+b*S,x+E*S));if(S=C(1),y.push(new h(w+b*S,x+E*S)),p>0){var P=y[0],R=[P];for(T=1;T<y.length-1;T++){var L=y[T];a(P,L)>=p&&(R.push(L),P=L)}var D=y[y.length-1];return a(P,D)<p&&R.pop(),R.push(D),R}else return y};s.exports=u}),32125:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(2141),v=function(h,u){return u===void 0&&(u=new a),u.x=(h.x1+h.x2)/2,u.y=(h.y1+h.y2)/2,u};s.exports=v}),99569:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(2141),v=function(h,u,l){l===void 0&&(l=new a);var o=h.x1,d=h.y1,p=h.x2,f=h.y2,y=(p-o)*(p-o)+(f-d)*(f-d);if(y===0)return l;var w=((u.x-o)*(p-o)+(u.y-d)*(f-d))/y;return l.x=o+w*(p-o),l.y=d+w*(f-d),l};s.exports=v}),34638:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(36383),v=r(91938),h=r(2141),u=function(l,o){o===void 0&&(o=new h);var d=v(l)-a.TAU;return o.x=Math.cos(d),o.y=Math.sin(d),o};s.exports=u}),13151:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(2141),v=function(h,u,l){return l===void 0&&(l=new a),l.x=h.x1+(h.x2-h.x1)*u,l.y=h.y1+(h.y2-h.y1)*u,l};s.exports=v}),15258:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(35001),v=r(2141),h=function(u,l,o,d){d===void 0&&(d=[]),!l&&o>0&&(l=a(u)/o);for(var p=u.x1,f=u.y1,y=u.x2,w=u.y2,x=0;x<l;x++){var b=x/l,E=p+(y-p)*b,C=f+(w-f)*b;d.push(new v(E,C))}return d};s.exports=h}),26408:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){var v=r.x1,h=r.y1,u=r.x2,l=r.y2,o=(u-v)*(u-v)+(l-h)*(l-h);if(o===0)return!1;var d=((h-a.y)*(u-v)-(v-a.x)*(l-h))/o;return Math.abs(d)*Math.sqrt(o)};s.exports=g}),98770:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return Math.abs(r.y1-r.y2)};s.exports=g}),35001:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return Math.sqrt((r.x2-r.x1)*(r.x2-r.x1)+(r.y2-r.y1)*(r.y2-r.y1))};s.exports=g}),23031:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(13151),h=r(15258),u=r(23777),l=r(65822),o=r(26099),d=new a({initialize:function(f,y,w,x){f===void 0&&(f=0),y===void 0&&(y=0),w===void 0&&(w=0),x===void 0&&(x=0),this.type=u.LINE,this.x1=f,this.y1=y,this.x2=w,this.y2=x},getPoint:function(p,f){return v(this,p,f)},getPoints:function(p,f,y){return h(this,p,f,y)},getRandomPoint:function(p){return l(this,p)},setTo:function(p,f,y,w){return p===void 0&&(p=0),f===void 0&&(f=0),y===void 0&&(y=0),w===void 0&&(w=0),this.x1=p,this.y1=f,this.x2=y,this.y2=w,this},setFromObjects:function(p,f){return this.x1=p.x,this.y1=p.y,this.x2=f.x,this.y2=f.y,this},getPointA:function(p){return p===void 0&&(p=new o),p.set(this.x1,this.y1),p},getPointB:function(p){return p===void 0&&(p=new o),p.set(this.x2,this.y2),p},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(p){this.x1<=this.x2?this.x1=p:this.x2=p}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(p){this.x1>this.x2?this.x1=p:this.x2=p}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(p){this.y1<=this.y2?this.y1=p:this.y2=p}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(p){this.y1>this.y2?this.y1=p:this.y2=p}}});s.exports=d}),64795:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(36383),v=r(15994),h=r(91938),u=function(l){var o=h(l)-a.TAU;return v(o,-Math.PI,Math.PI)};s.exports=u}),52616:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(36383),v=r(91938),h=function(u){return Math.cos(v(u)-a.TAU)};s.exports=h}),87231:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(36383),v=r(91938),h=function(u){return Math.sin(v(u)-a.TAU)};s.exports=h}),89662:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){return r.x1+=a,r.y1+=v,r.x2+=a,r.y2+=v,r};s.exports=g}),71165:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return-((r.x2-r.x1)/(r.y2-r.y1))};s.exports=g}),65822:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(2141),v=function(h,u){u===void 0&&(u=new a);var l=Math.random();return u.x=h.x1+l*(h.x2-h.x1),u.y=h.y1+l*(h.y2-h.y1),u};s.exports=v}),69777:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(91938),v=r(64795),h=function(u,l){return 2*v(l)-Math.PI-a(u)};s.exports=h}),39706:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(64400),v=function(h,u){var l=(h.x1+h.x2)/2,o=(h.y1+h.y2)/2;return a(h,l,o,u)};s.exports=v}),82585:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(64400),v=function(h,u,l){return a(h,u.x,u.y,l)};s.exports=v}),64400:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h){var u=Math.cos(h),l=Math.sin(h),o=r.x1-a,d=r.y1-v;return r.x1=o*u-d*l+a,r.y1=o*l+d*u+v,o=r.x2-a,d=r.y2-v,r.x2=o*u-d*l+a,r.y2=o*l+d*u+v,r};s.exports=g}),62377:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h,u){return r.x1=a,r.y1=v,r.x2=a+Math.cos(h)*u,r.y2=v+Math.sin(h)*u,r};s.exports=g}),71366:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return(r.y2-r.y1)/(r.x2-r.x1)};s.exports=g}),10809:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return Math.abs(r.x1-r.x2)};s.exports=g}),2529:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(23031);a.Angle=r(91938),a.BresenhamPoints=r(84993),a.CenterOn=r(36469),a.Clone=r(31116),a.CopyFrom=r(59944),a.Equals=r(59220),a.Extend=r(78177),a.GetEasedPoints=r(26708),a.GetMidPoint=r(32125),a.GetNearestPoint=r(99569),a.GetNormal=r(34638),a.GetPoint=r(13151),a.GetPoints=r(15258),a.GetShortestDistance=r(26408),a.Height=r(98770),a.Length=r(35001),a.NormalAngle=r(64795),a.NormalX=r(52616),a.NormalY=r(87231),a.Offset=r(89662),a.PerpSlope=r(71165),a.Random=r(65822),a.ReflectAngle=r(69777),a.Rotate=r(39706),a.RotateAroundPoint=r(82585),a.RotateAroundXY=r(64400),a.SetToAngle=r(62377),a.Slope=r(71366),a.Width=r(10809),s.exports=a}),83997:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(87841),h=r(26099);function u(o,d,p,f){var y=o-p,w=d-f,x=y*y+w*w;return Math.sqrt(x)}var l=new a({initialize:function(d,p,f){this.vertex1=d,this.vertex2=p,this.vertex3=f,this.bounds=new v,this._inCenter=new h},getInCenter:function(o){o===void 0&&(o=!0);var d=this.vertex1,p=this.vertex2,f=this.vertex3,y,w,x,b,E,C;o?(y=d.x,w=d.y,x=p.x,b=p.y,E=f.x,C=f.y):(y=d.vx,w=d.vy,x=p.vx,b=p.vy,E=f.vx,C=f.vy);var T=u(E,C,x,b),S=u(y,w,E,C),A=u(x,b,y,w),P=T+S+A;return this._inCenter.set((y*T+x*S+E*A)/P,(w*T+b*S+C*A)/P)},contains:function(o,d,p){var f=this.vertex1,y=this.vertex2,w=this.vertex3,x=f.vx,b=f.vy,E=y.vx,C=y.vy,T=w.vx,S=w.vy;if(p){var A=p.a,P=p.b,R=p.c,L=p.d,D=p.e,$=p.f;x=f.vx*A+f.vy*R+D,b=f.vx*P+f.vy*L+$,E=y.vx*A+y.vy*R+D,C=y.vx*P+y.vy*L+$,T=w.vx*A+w.vy*R+D,S=w.vx*P+w.vy*L+$}var F=T-x,N=S-b,k=E-x,j=C-b,W=o-x,G=d-b,K=F*F+N*N,z=F*k+N*j,X=F*W+N*G,U=k*k+j*j,Z=k*W+j*G,V=K*U-z*z,J=V===0?0:1/V,Q=(U*X-z*Z)*J,ee=(K*Z-z*X)*J;return Q>=0&&ee>=0&&Q+ee<1},isCounterClockwise:function(o){var d=this.vertex1,p=this.vertex2,f=this.vertex3,y=(p.vx-d.vx)*(f.vy-d.vy)-(p.vy-d.vy)*(f.vx-d.vx);return o<=0?y>=0:y<0},load:function(o,d,p,f,y){return p=this.vertex1.load(o,d,p,f,y),p=this.vertex2.load(o,d,p,f,y),p=this.vertex3.load(o,d,p,f,y),p},transformCoordinatesLocal:function(o,d,p,f){return this.vertex1.transformCoordinatesLocal(o,d,p,f),this.vertex2.transformCoordinatesLocal(o,d,p,f),this.vertex3.transformCoordinatesLocal(o,d,p,f),this},updateBounds:function(){var o=this.vertex1,d=this.vertex2,p=this.vertex3,f=this.bounds;return f.x=Math.min(o.vx,d.vx,p.vx),f.y=Math.min(o.vy,d.vy,p.vy),f.width=Math.max(o.vx,d.vx,p.vx)-f.x,f.height=Math.max(o.vy,d.vy,p.vy)-f.y,this},isInView:function(o,d,p,f,y,w,x,b,E,C,T){this.update(f,y,w,x,b,E,C,T);var S=this.vertex1,A=this.vertex2,P=this.vertex3;if(S.ta<=0&&A.ta<=0&&P.ta<=0||d&&!this.isCounterClockwise(p))return!1;var R=this.bounds;R.x=Math.min(S.tx,A.tx,P.tx),R.y=Math.min(S.ty,A.ty,P.ty),R.width=Math.max(S.tx,A.tx,P.tx)-R.x,R.height=Math.max(S.ty,A.ty,P.ty)-R.y;var L=o.x+o.width,D=o.y+o.height;return R.width<=0||R.height<=0||o.width<=0||o.height<=0?!1:!(R.right<o.x||R.bottom<o.y||R.x>L||R.y>D)},scrollUV:function(o,d){return this.vertex1.scrollUV(o,d),this.vertex2.scrollUV(o,d),this.vertex3.scrollUV(o,d),this},scaleUV:function(o,d){return this.vertex1.scaleUV(o,d),this.vertex2.scaleUV(o,d),this.vertex3.scaleUV(o,d),this},setColor:function(o){return this.vertex1.color=o,this.vertex2.color=o,this.vertex3.color=o,this},update:function(o,d,p,f,y,w,x,b){return this.vertex1.update(d,p,f,y,w,x,b,o),this.vertex2.update(d,p,f,y,w,x,b,o),this.vertex3.update(d,p,f,y,w,x,b,o),this},translate:function(o,d){d===void 0&&(d=0);var p=this.vertex1,f=this.vertex2,y=this.vertex3;return p.x+=o,p.y+=d,f.x+=o,f.y+=d,y.x+=o,y.y+=d,this},x:{get:function(){return this.getInCenter().x},set:function(o){var d=this.getInCenter();this.translate(o-d.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(o){var d=this.getInCenter();this.translate(0,o-d.y)}},alpha:{get:function(){var o=this.vertex1,d=this.vertex2,p=this.vertex3;return(o.alpha+d.alpha+p.alpha)/3},set:function(o){this.vertex1.alpha=o,this.vertex2.alpha=o,this.vertex3.alpha=o}},depth:{get:function(){var o=this.vertex1,d=this.vertex2,p=this.vertex3;return(o.vz+d.vz+p.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});s.exports=l}),48803:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83997),v=r(95540),h=r(37867),u=r(25836),l=r(39318),o=new u,d=new u,p=new h,f=function(y){var w=v(y,"mesh"),x=v(y,"texture",null),b=v(y,"frame"),E=v(y,"width",1),C=v(y,"height",E),T=v(y,"widthSegments",1),S=v(y,"heightSegments",T),A=v(y,"x",0),P=v(y,"y",0),R=v(y,"z",0),L=v(y,"rotateX",0),D=v(y,"rotateY",0),$=v(y,"rotateZ",0),F=v(y,"zIsUp",!0),N=v(y,"isOrtho",w?w.dirtyCache[11]:!1),k=v(y,"colors",[16777215]),j=v(y,"alphas",[1]),W=v(y,"tile",!1),G=v(y,"flipY",!1),K=v(y,"width",null),z={faces:[],verts:[]};o.set(A,P,R),d.set(L,D,$),p.fromRotationXYTranslation(d,o,F);var X;if(!x&&w)x=w.texture,b||(X=w.frame);else if(w&&typeof x=="string")x=w.scene.sys.textures.get(x);else if(!x)return z;X||(X=x.get(b)),!K&&N&&x&&w&&(E=X.width/w.height,C=X.height/w.height);var U=E/2,Z=C/2,V=Math.floor(T),J=Math.floor(S),Q=V+1,ee=J+1,te=E/V,ie=C/J,le=[],de=[],fe,oe,Ee=0,ye=1,Ce=0,Ie=1;X&&(Ee=X.u0,ye=X.u1,G?(Ce=X.v1,Ie=X.v0):(Ce=X.v0,Ie=X.v1));var je=ye-Ee,Re=Ie-Ce;for(oe=0;oe<ee;oe++){var Fe=oe*ie-Z;for(fe=0;fe<Q;fe++){var Ae=fe*te-U;de.push(Ae,-Fe);var Xe=Ee+je*(fe/V),st=Ce+Re*(oe/J);le.push(Xe,st)}}Array.isArray(k)||(k=[k]),Array.isArray(j)||(j=[j]);var vt=0,Ge=0;for(oe=0;oe<J;oe++)for(fe=0;fe<V;fe++){var nt=(fe+Q*oe)*2,St=(fe+Q*(oe+1))*2,Je=(fe+1+Q*(oe+1))*2,He=(fe+1+Q*oe)*2,_e=k[Ge],ht=j[vt],Dt=new l(de[nt],de[nt+1],0,le[nt],le[nt+1],_e,ht).transformMat4(p),ut=new l(de[St],de[St+1],0,le[St],le[St+1],_e,ht).transformMat4(p),xt=new l(de[He],de[He+1],0,le[He],le[He+1],_e,ht).transformMat4(p),tt=new l(de[St],de[St+1],0,le[St],le[St+1],_e,ht).transformMat4(p),fn=new l(de[Je],de[Je+1],0,le[Je],le[Je+1],_e,ht).transformMat4(p),On=new l(de[He],de[He+1],0,le[He],le[He+1],_e,ht).transformMat4(p);W&&(Dt.setUVs(Ee,Ie),ut.setUVs(Ee,Ce),xt.setUVs(ye,Ie),tt.setUVs(Ee,Ce),fn.setUVs(ye,Ce),On.setUVs(ye,Ie)),Ge++,Ge===k.length&&(Ge=0),vt++,vt===j.length&&(vt=0),z.verts.push(Dt,ut,xt,tt,fn,On),z.faces.push(new a(Dt,ut,xt),new a(tt,fn,On))}return w&&(w.faces=w.faces.concat(z.faces),w.vertices=w.vertices.concat(z.verts)),z};s.exports=f}),34684:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83997),v=r(37867),h=r(25836),u=r(39318),l=new h,o=new h,d=new v,p=function(f,y,w,x,b,E,C,T,S,A){w===void 0&&(w=1),x===void 0&&(x=0),b===void 0&&(b=0),E===void 0&&(E=0),C===void 0&&(C=0),T===void 0&&(T=0),S===void 0&&(S=0),A===void 0&&(A=!0);var P={faces:[],verts:[]},R=f.materials;l.set(x,b,E),o.set(C,T,S),d.fromRotationXYTranslation(o,l,A);for(var L=0;L<f.models.length;L++)for(var D=f.models[L],$=D.vertices,F=D.textureCoords,N=D.faces,k=0;k<N.length;k++){var j=N[k],W=j.vertices[0],G=j.vertices[1],K=j.vertices[2],z=$[W.vertexIndex],X=$[G.vertexIndex],U=$[K.vertexIndex],Z=W.textureCoordsIndex,V=G.textureCoordsIndex,J=K.textureCoordsIndex,Q=Z===-1?{u:0,v:1}:F[Z],ee=V===-1?{u:0,v:0}:F[V],te=J===-1?{u:1,v:1}:F[J],ie=16777215;j.material!==""&&R[j.material]&&(ie=R[j.material]);var le=new u(z.x*w,z.y*w,z.z*w,Q.u,Q.v,ie).transformMat4(d),de=new u(X.x*w,X.y*w,X.z*w,ee.u,ee.v,ie).transformMat4(d),fe=new u(U.x*w,U.y*w,U.z*w,te.u,te.v,ie).transformMat4(d);P.verts.push(le,de,fe),P.faces.push(new a(le,de,fe))}return y&&(y.faces=y.faces.concat(P.faces),y.vertices=y.vertices.concat(P.verts)),P};s.exports=p}),92515:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83997),v=r(39318),h=function(u,l,o,d,p,f,y,w){if(d===void 0&&(d=!1),f===void 0&&(f=16777215),y===void 0&&(y=1),w===void 0&&(w=!1),u.length!==l.length&&!d){console.warn("GenerateVerts: vertices and uvs count not equal");return}var x={faces:[],vertices:[]},b,E,C,T,S,A,P,R,L,D,$,F=d?3:2,N=Array.isArray(f),k=Array.isArray(y);if(Array.isArray(o)&&o.length>0)for(b=0;b<o.length;b++){var j=o[b],W=o[b]*2,G=o[b]*F;E=u[G],C=u[G+1],T=d?u[G+2]:0,S=l[W],A=l[W+1],w&&(A=1-A),P=N?f[j]:f,R=k?y[j]:y,L=0,D=0,$=0,p&&(L=p[G],D=p[G+1],$=d?p[G+2]:0),x.vertices.push(new v(E,C,T,S,A,P,R,L,D,$))}else{var K=0,z=0;for(b=0;b<u.length;b+=F)E=u[b],C=u[b+1],T=d?u[b+2]:0,S=l[K],A=l[K+1],P=N?f[z]:f,R=k?y[z]:y,L=0,D=0,$=0,p&&(L=p[b],D=p[b+1],$=d?p[b+2]:0),x.vertices.push(new v(E,C,T,S,A,P,R,L,D,$)),K+=2,z++}for(b=0;b<x.vertices.length;b+=3){var X=x.vertices[b],U=x.vertices[b+1],Z=x.vertices[b+2];x.faces.push(new a(X,U,Z))}return x};s.exports=h}),85048:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=!0,r="untitled",a="",v="";function h(E){var C=E.indexOf("#");return C>-1?E.substring(0,C):E}function u(E){return E.models.length===0&&E.models.push({faces:[],name:r,textureCoords:[],vertexNormals:[],vertices:[]}),a="",E.models[E.models.length-1]}function l(E,C){var T=E.length>=2?E[1]:r;C.models.push({faces:[],name:T,textureCoords:[],vertexNormals:[],vertices:[]}),a=""}function o(E){E.length===2&&(a=E[1])}function d(E,C){var T=E.length,S=T>=2?parseFloat(E[1]):0,A=T>=3?parseFloat(E[2]):0,P=T>=4?parseFloat(E[3]):0;u(C).vertices.push({x:S,y:A,z:P})}function p(E,C){var T=E.length,S=T>=2?parseFloat(E[1]):0,A=T>=3?parseFloat(E[2]):0,P=T>=4?parseFloat(E[3]):0;isNaN(S)&&(S=0),isNaN(A)&&(A=0),isNaN(P)&&(P=0),g&&(A=1-A),u(C).textureCoords.push({u:S,v:A,w:P})}function f(E,C){var T=E.length,S=T>=2?parseFloat(E[1]):0,A=T>=3?parseFloat(E[2]):0,P=T>=4?parseFloat(E[3]):0;u(C).vertexNormals.push({x:S,y:A,z:P})}function y(E,C){var T=E.length-1;if(!(T<3)){for(var S={group:a,material:v,vertices:[]},A=0;A<T;A++){var P=E[A+1],R=P.split("/"),L=R.length;if(!(L<1||L>3)){var D=0,$=0,F=0;D=parseInt(R[0],10),L>1&&R[1]!==""&&($=parseInt(R[1],10)),L>2&&(F=parseInt(R[2],10)),D!==0&&(D<0&&(D=u(C).vertices.length+1+D),$-=1,D-=1,F-=1,S.vertices.push({textureCoordsIndex:$,vertexIndex:D,vertexNormalIndex:F}))}}u(C).faces.push(S)}}function w(E,C){E.length>=2&&C.materialLibraries.push(E[1])}function x(E){E.length>=2&&(v=E[1])}var b=function(E,C){C===void 0&&(C=!0),g=C;var T={materials:{},materialLibraries:[],models:[]};a="",v="";for(var S=E.split(`
`),A=0;A<S.length;A++){var P=h(S[A]),R=P.replace(/\s\s+/g," ").trim().split(" ");switch(R[0].toLowerCase()){case"o":l(R,T);break;case"g":o(R);break;case"v":d(R,T);break;case"vt":p(R,T);break;case"vn":f(R,T);break;case"f":y(R,T);break;case"mtllib":w(R,T);break;case"usemtl":x(R);break}}return T};s.exports=b}),61485:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(37589),v=function(h){for(var u={},l=h.split(`
`),o="",d=0;d<l.length;d++){var p=l[d].trim();if(!(p.indexOf("#")===0||p==="")){var f=p.replace(/\s\s+/g," ").trim().split(" ");switch(f[0].toLowerCase()){case"newmtl":{o=f[1];break}case"kd":{var y=Math.floor(f[1]*255),w=f.length>=2?Math.floor(f[2]*255):y,x=f.length>=3?Math.floor(f[3]*255):y;u[o]=a(y,w,x);break}}}}return u};s.exports=v}),92570:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h){var u,l;if(v===void 0&&h===void 0){var o=r.getInCenter();u=o.x,l=o.y}var d=Math.cos(a),p=Math.sin(a),f=r.vertex1,y=r.vertex2,w=r.vertex3,x=f.x-u,b=f.y-l;f.set(x*d-b*p+u,x*p+b*d+l),x=y.x-u,b=y.y-l,y.set(x*d-b*p+u,x*p+b*d+l),x=w.x-u,b=w.y-l,w.set(x*d-b*p+u,x*p+b*d+l)};s.exports=g}),39318:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(70554),h=r(25836),u=new a({Extends:h,initialize:function(o,d,p,f,y,w,x,b,E,C){w===void 0&&(w=16777215),x===void 0&&(x=1),b===void 0&&(b=0),E===void 0&&(E=0),C===void 0&&(C=0),h.call(this,o,d,p),this.vx=0,this.vy=0,this.vz=0,this.nx=b,this.ny=E,this.nz=C,this.u=f,this.v=y,this.color=w,this.alpha=x,this.tx=0,this.ty=0,this.ta=0,this.tu=f,this.tv=y},setUVs:function(l,o){return this.u=l,this.v=o,this.tu=l,this.tv=o,this},scrollUV:function(l,o){return this.tu+=l,this.tv+=o,this},scaleUV:function(l,o){return this.tu=this.u*l,this.tv=this.v*o,this},transformCoordinatesLocal:function(l,o,d,p){var f=this.x,y=this.y,w=this.z,x=l.val,b=f*x[0]+y*x[4]+w*x[8]+x[12],E=f*x[1]+y*x[5]+w*x[9]+x[13],C=f*x[2]+y*x[6]+w*x[10]+x[14],T=f*x[3]+y*x[7]+w*x[11]+x[15];this.vx=b/T*o,this.vy=-(E/T)*d,p<=0?this.vz=C/T:this.vz=-(C/T)},resize:function(l,o,d,p,f,y){return this.x=l,this.y=o,this.vx=this.x*d,this.vy=-this.y*p,this.vz=0,f<.5?this.vx+=d*(.5-f):f>.5&&(this.vx-=d*(f-.5)),y<.5?this.vy+=p*(.5-y):y>.5&&(this.vy-=p*(y-.5)),this},update:function(l,o,d,p,f,y,w,x){var b=this.vx*l+this.vy*d+f,E=this.vx*o+this.vy*p+y;return w&&(b=Math.round(b),E=Math.round(E)),this.tx=b,this.ty=E,this.ta=this.alpha*x,this},load:function(l,o,d,p,f){return l[++d]=this.tx,l[++d]=this.ty,l[++d]=this.tu,l[++d]=this.tv,l[++d]=p,l[++d]=f,o[++d]=v.getTintAppendFloatAlpha(this.color,this.ta),d}});s.exports=u}),73090:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={Face:r(83997),GenerateGridVerts:r(48803),GenerateObjVerts:r(34684),GenerateVerts:r(92515),ParseObj:r(85048),ParseObjMaterial:r(61485),RotateFace:r(92570),Vertex:r(39318)};s.exports=a}),96550:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r.setTo(Math.ceil(r.x),Math.ceil(r.y))};s.exports=g}),99706:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(2141),v=function(h){return new a(h.x,h.y)};s.exports=v}),68010:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return a.setTo(r.x,r.y)};s.exports=g}),27814:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return r.x===a.x&&r.y===a.y};s.exports=g}),73565:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r.setTo(Math.floor(r.x),Math.floor(r.y))};s.exports=g}),87555:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(2141),v=function(h,u){if(u===void 0&&(u=new a),!Array.isArray(h))throw new Error("GetCentroid points argument must be an array");var l=h.length;if(l<1)throw new Error("GetCentroid points array must not be empty");if(l===1)u.x=h[0].x,u.y=h[0].y;else{for(var o=0;o<l;o++)u.x+=h[o].x,u.y+=h[o].y;u.x/=l,u.y/=l}return u};s.exports=v}),28793:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return Math.sqrt(r.x*r.x+r.y*r.y)};s.exports=g}),44405:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r.x*r.x+r.y*r.y};s.exports=g}),20873:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(87841),v=function(h,u){u===void 0&&(u=new a);for(var l=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY,p=Number.POSITIVE_INFINITY,f=0;f<h.length;f++){var y=h[f];y.x>l&&(l=y.x),y.x<o&&(o=y.x),y.y>d&&(d=y.y),y.y<p&&(p=y.y)}return u.x=o,u.y=p,u.width=l-o,u.height=d-p,u};s.exports=v}),26152:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(2141),v=function(h,u,l,o){return l===void 0&&(l=0),o===void 0&&(o=new a),o.x=h.x+(u.x-h.x)*l,o.y=h.y+(u.y-h.y)*l,o};s.exports=v}),55767:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r.setTo(r.y,r.x)};s.exports=g}),79432:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(2141),v=function(h,u){return u===void 0&&(u=new a),u.setTo(-h.x,-h.y)};s.exports=v}),2141:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(23777),h=new a({initialize:function(l,o){l===void 0&&(l=0),o===void 0&&(o=l),this.type=v.POINT,this.x=l,this.y=o},setTo:function(u,l){return u===void 0&&(u=0),l===void 0&&(l=u),this.x=u,this.y=l,this}});s.exports=h}),72930:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(2141),v=r(44405),h=function(u,l,o){o===void 0&&(o=new a);var d=u.x*l.x+u.y*l.y,p=d/v(l);return p!==0&&(o.x=p*l.x,o.y=p*l.y),o};s.exports=h}),62880:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(2141),v=function(h,u,l){l===void 0&&(l=new a);var o=h.x*u.x+h.y*u.y;return o!==0&&(l.x=o*u.x,l.y=o*u.y),l};s.exports=v}),15093:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(28793),v=function(h,u){if(h.x!==0||h.y!==0){var l=a(h);h.x/=l,h.y/=l}return h.x*=u,h.y*=u,h};s.exports=v}),43711:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(2141);a.Ceil=r(96550),a.Clone=r(99706),a.CopyFrom=r(68010),a.Equals=r(27814),a.Floor=r(73565),a.GetCentroid=r(87555),a.GetMagnitude=r(28793),a.GetMagnitudeSq=r(44405),a.GetRectangleFromPoints=r(20873),a.Interpolate=r(26152),a.Invert=r(55767),a.Negative=r(79432),a.Project=r(72930),a.ProjectUnit=r(62880),a.SetMagnitude=r(15093),s.exports=a}),12306:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(25717),v=function(h){return new a(h.points)};s.exports=v}),63814:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){for(var h=!1,u=-1,l=r.points.length-1;++u<r.points.length;l=u){var o=r.points[u].x,d=r.points[u].y,p=r.points[l].x,f=r.points[l].y;(d<=v&&v<f||f<=v&&v<d)&&a<(p-o)*(v-d)/(f-d)+o&&(h=!h)}return h};s.exports=g}),99338:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(63814),v=function(h,u){return a(h,u.x,u.y)};s.exports=v}),94811:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function g(z,X,U){U=U||2;var Z=X&&X.length,V=Z?X[0]*U:z.length,J=r(z,0,V,U,!0),Q=[];if(!J||J.next===J.prev)return Q;var ee,te,ie,le,de,fe,oe;if(Z&&(J=d(z,X,J,U)),z.length>80*U){ee=ie=z[0],te=le=z[1];for(var Ee=U;Ee<V;Ee+=U)de=z[Ee],fe=z[Ee+1],de<ee&&(ee=de),fe<te&&(te=fe),de>ie&&(ie=de),fe>le&&(le=fe);oe=Math.max(ie-ee,le-te),oe=oe!==0?32767/oe:0}return v(J,Q,U,ee,te,oe,0),Q}function r(z,X,U,Z,V){var J,Q;if(V===K(z,X,U,Z)>0)for(J=X;J<U;J+=Z)Q=j(J,z[J],z[J+1],Q);else for(J=U-Z;J>=X;J-=Z)Q=j(J,z[J],z[J+1],Q);return Q&&P(Q,Q.next)&&(W(Q),Q=Q.next),Q}function a(z,X){if(!z)return z;X||(X=z);var U=z,Z;do if(Z=!1,!U.steiner&&(P(U,U.next)||A(U.prev,U,U.next)===0)){if(W(U),U=X=U.prev,U===U.next)break;Z=!0}else U=U.next;while(Z||U!==X);return X}function v(z,X,U,Z,V,J,Q){if(z){!Q&&J&&x(z,Z,V,J);for(var ee=z,te,ie;z.prev!==z.next;){if(te=z.prev,ie=z.next,J?u(z,Z,V,J):h(z)){X.push(te.i/U|0),X.push(z.i/U|0),X.push(ie.i/U|0),W(z),z=ie.next,ee=ie.next;continue}if(z=ie,z===ee){Q?Q===1?(z=l(a(z),X,U),v(z,X,U,Z,V,J,2)):Q===2&&o(z,X,U,Z,V,J):v(a(z),X,U,Z,V,J,1);break}}}}function h(z){var X=z.prev,U=z,Z=z.next;if(A(X,U,Z)>=0)return!1;for(var V=X.x,J=U.x,Q=Z.x,ee=X.y,te=U.y,ie=Z.y,le=V<J?V<Q?V:Q:J<Q?J:Q,de=ee<te?ee<ie?ee:ie:te<ie?te:ie,fe=V>J?V>Q?V:Q:J>Q?J:Q,oe=ee>te?ee>ie?ee:ie:te>ie?te:ie,Ee=Z.next;Ee!==X;){if(Ee.x>=le&&Ee.x<=fe&&Ee.y>=de&&Ee.y<=oe&&T(V,ee,J,te,Q,ie,Ee.x,Ee.y)&&A(Ee.prev,Ee,Ee.next)>=0)return!1;Ee=Ee.next}return!0}function u(z,X,U,Z){var V=z.prev,J=z,Q=z.next;if(A(V,J,Q)>=0)return!1;for(var ee=V.x,te=J.x,ie=Q.x,le=V.y,de=J.y,fe=Q.y,oe=ee<te?ee<ie?ee:ie:te<ie?te:ie,Ee=le<de?le<fe?le:fe:de<fe?de:fe,ye=ee>te?ee>ie?ee:ie:te>ie?te:ie,Ce=le>de?le>fe?le:fe:de>fe?de:fe,Ie=E(oe,Ee,X,U,Z),je=E(ye,Ce,X,U,Z),Re=z.prevZ,Fe=z.nextZ;Re&&Re.z>=Ie&&Fe&&Fe.z<=je;){if(Re.x>=oe&&Re.x<=ye&&Re.y>=Ee&&Re.y<=Ce&&Re!==V&&Re!==Q&&T(ee,le,te,de,ie,fe,Re.x,Re.y)&&A(Re.prev,Re,Re.next)>=0||(Re=Re.prevZ,Fe.x>=oe&&Fe.x<=ye&&Fe.y>=Ee&&Fe.y<=Ce&&Fe!==V&&Fe!==Q&&T(ee,le,te,de,ie,fe,Fe.x,Fe.y)&&A(Fe.prev,Fe,Fe.next)>=0))return!1;Fe=Fe.nextZ}for(;Re&&Re.z>=Ie;){if(Re.x>=oe&&Re.x<=ye&&Re.y>=Ee&&Re.y<=Ce&&Re!==V&&Re!==Q&&T(ee,le,te,de,ie,fe,Re.x,Re.y)&&A(Re.prev,Re,Re.next)>=0)return!1;Re=Re.prevZ}for(;Fe&&Fe.z<=je;){if(Fe.x>=oe&&Fe.x<=ye&&Fe.y>=Ee&&Fe.y<=Ce&&Fe!==V&&Fe!==Q&&T(ee,le,te,de,ie,fe,Fe.x,Fe.y)&&A(Fe.prev,Fe,Fe.next)>=0)return!1;Fe=Fe.nextZ}return!0}function l(z,X,U){var Z=z;do{var V=Z.prev,J=Z.next.next;!P(V,J)&&R(V,Z,Z.next,J)&&F(V,J)&&F(J,V)&&(X.push(V.i/U|0),X.push(Z.i/U|0),X.push(J.i/U|0),W(Z),W(Z.next),Z=z=J),Z=Z.next}while(Z!==z);return a(Z)}function o(z,X,U,Z,V,J){var Q=z;do{for(var ee=Q.next.next;ee!==Q.prev;){if(Q.i!==ee.i&&S(Q,ee)){var te=k(Q,ee);Q=a(Q,Q.next),te=a(te,te.next),v(Q,X,U,Z,V,J,0),v(te,X,U,Z,V,J,0);return}ee=ee.next}Q=Q.next}while(Q!==z)}function d(z,X,U,Z){var V=[],J,Q,ee,te,ie;for(J=0,Q=X.length;J<Q;J++)ee=X[J]*Z,te=J<Q-1?X[J+1]*Z:z.length,ie=r(z,ee,te,Z,!1),ie===ie.next&&(ie.steiner=!0),V.push(C(ie));for(V.sort(p),J=0;J<V.length;J++)U=f(V[J],U);return U}function p(z,X){return z.x-X.x}function f(z,X){var U=y(z,X);if(!U)return X;var Z=k(U,z);return a(Z,Z.next),a(U,U.next)}function y(z,X){var U=X,Z=z.x,V=z.y,J=-1/0,Q;do{if(V<=U.y&&V>=U.next.y&&U.next.y!==U.y){var ee=U.x+(V-U.y)*(U.next.x-U.x)/(U.next.y-U.y);if(ee<=Z&&ee>J&&(J=ee,Q=U.x<U.next.x?U:U.next,ee===Z))return Q}U=U.next}while(U!==X);if(!Q)return null;var te=Q,ie=Q.x,le=Q.y,de=1/0,fe;U=Q;do Z>=U.x&&U.x>=ie&&Z!==U.x&&T(V<le?Z:J,V,ie,le,V<le?J:Z,V,U.x,U.y)&&(fe=Math.abs(V-U.y)/(Z-U.x),F(U,z)&&(fe<de||fe===de&&(U.x>Q.x||U.x===Q.x&&w(Q,U)))&&(Q=U,de=fe)),U=U.next;while(U!==te);return Q}function w(z,X){return A(z.prev,z,X.prev)<0&&A(X.next,z,z.next)<0}function x(z,X,U,Z){var V=z;do V.z===0&&(V.z=E(V.x,V.y,X,U,Z)),V.prevZ=V.prev,V.nextZ=V.next,V=V.next;while(V!==z);V.prevZ.nextZ=null,V.prevZ=null,b(V)}function b(z){var X,U,Z,V,J,Q,ee,te,ie=1;do{for(U=z,z=null,J=null,Q=0;U;){for(Q++,Z=U,ee=0,X=0;X<ie&&(ee++,Z=Z.nextZ,!!Z);X++);for(te=ie;ee>0||te>0&&Z;)ee!==0&&(te===0||!Z||U.z<=Z.z)?(V=U,U=U.nextZ,ee--):(V=Z,Z=Z.nextZ,te--),J?J.nextZ=V:z=V,V.prevZ=J,J=V;U=Z}J.nextZ=null,ie*=2}while(Q>1);return z}function E(z,X,U,Z,V){return z=(z-U)*V|0,X=(X-Z)*V|0,z=(z|z<<8)&16711935,z=(z|z<<4)&252645135,z=(z|z<<2)&858993459,z=(z|z<<1)&1431655765,X=(X|X<<8)&16711935,X=(X|X<<4)&252645135,X=(X|X<<2)&858993459,X=(X|X<<1)&1431655765,z|X<<1}function C(z){var X=z,U=z;do(X.x<U.x||X.x===U.x&&X.y<U.y)&&(U=X),X=X.next;while(X!==z);return U}function T(z,X,U,Z,V,J,Q,ee){return(V-Q)*(X-ee)>=(z-Q)*(J-ee)&&(z-Q)*(Z-ee)>=(U-Q)*(X-ee)&&(U-Q)*(J-ee)>=(V-Q)*(Z-ee)}function S(z,X){return z.next.i!==X.i&&z.prev.i!==X.i&&!$(z,X)&&(F(z,X)&&F(X,z)&&N(z,X)&&(A(z.prev,z,X.prev)||A(z,X.prev,X))||P(z,X)&&A(z.prev,z,z.next)>0&&A(X.prev,X,X.next)>0)}function A(z,X,U){return(X.y-z.y)*(U.x-X.x)-(X.x-z.x)*(U.y-X.y)}function P(z,X){return z.x===X.x&&z.y===X.y}function R(z,X,U,Z){var V=D(A(z,X,U)),J=D(A(z,X,Z)),Q=D(A(U,Z,z)),ee=D(A(U,Z,X));return!!(V!==J&&Q!==ee||V===0&&L(z,U,X)||J===0&&L(z,Z,X)||Q===0&&L(U,z,Z)||ee===0&&L(U,X,Z))}function L(z,X,U){return X.x<=Math.max(z.x,U.x)&&X.x>=Math.min(z.x,U.x)&&X.y<=Math.max(z.y,U.y)&&X.y>=Math.min(z.y,U.y)}function D(z){return z>0?1:z<0?-1:0}function $(z,X){var U=z;do{if(U.i!==z.i&&U.next.i!==z.i&&U.i!==X.i&&U.next.i!==X.i&&R(U,U.next,z,X))return!0;U=U.next}while(U!==z);return!1}function F(z,X){return A(z.prev,z,z.next)<0?A(z,X,z.next)>=0&&A(z,z.prev,X)>=0:A(z,X,z.prev)<0||A(z,z.next,X)<0}function N(z,X){var U=z,Z=!1,V=(z.x+X.x)/2,J=(z.y+X.y)/2;do U.y>J!=U.next.y>J&&U.next.y!==U.y&&V<(U.next.x-U.x)*(J-U.y)/(U.next.y-U.y)+U.x&&(Z=!Z),U=U.next;while(U!==z);return Z}function k(z,X){var U=new G(z.i,z.x,z.y),Z=new G(X.i,X.x,X.y),V=z.next,J=X.prev;return z.next=X,X.prev=z,U.next=V,V.prev=U,Z.next=U,U.prev=Z,J.next=Z,Z.prev=J,Z}function j(z,X,U,Z){var V=new G(z,X,U);return Z?(V.next=Z.next,V.prev=Z,Z.next.prev=V,Z.next=V):(V.prev=V,V.next=V),V}function W(z){z.next.prev=z.prev,z.prev.next=z.next,z.prevZ&&(z.prevZ.nextZ=z.nextZ),z.nextZ&&(z.nextZ.prevZ=z.prevZ)}function G(z,X,U){this.i=z,this.x=X,this.y=U,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}g.deviation=function(z,X,U,Z){var V=X&&X.length,J=V?X[0]*U:z.length,Q=Math.abs(K(z,0,J,U));if(V)for(var ee=0,te=X.length;ee<te;ee++){var ie=X[ee]*U,le=ee<te-1?X[ee+1]*U:z.length;Q-=Math.abs(K(z,ie,le,U))}var de=0;for(ee=0;ee<Z.length;ee+=3){var fe=Z[ee]*U,oe=Z[ee+1]*U,Ee=Z[ee+2]*U;de+=Math.abs((z[fe]-z[Ee])*(z[oe+1]-z[fe+1])-(z[fe]-z[oe])*(z[Ee+1]-z[fe+1]))}return Q===0&&de===0?0:Math.abs((de-Q)/Q)};function K(z,X,U,Z){for(var V=0,J=X,Q=U-Z;J<U;J+=Z)V+=(z[Q]-z[J])*(z[J+1]+z[Q+1]),Q=J;return V}g.flatten=function(z){for(var X=z[0][0].length,U={vertices:[],holes:[],dimensions:X},Z=0,V=0;V<z.length;V++){for(var J=0;J<z[V].length;J++)for(var Q=0;Q<X;Q++)U.vertices.push(z[V][J][Q]);V>0&&(Z+=z[V-1].length,U.holes.push(Z))}return U},s.exports=g}),13829:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(87841),v=function(h,u){u===void 0&&(u=new a);for(var l=1/0,o=1/0,d=-l,p=-o,f,y=0;y<h.points.length;y++)f=h.points[y],l=Math.min(l,f.x),o=Math.min(o,f.y),d=Math.max(d,f.x),p=Math.max(p,f.y);return u.x=l,u.y=o,u.width=d-l,u.height=p-o,u};s.exports=v}),26173:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){a===void 0&&(a=[]);for(var v=0;v<r.points.length;v++)a.push(r.points[v].x),a.push(r.points[v].y);return a};s.exports=g}),9564:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(35001),v=r(23031),h=r(30052),u=function(l,o,d,p){p===void 0&&(p=[]);var f=l.points,y=h(l);!o&&d>0&&(o=y/d);for(var w=0;w<o;w++)for(var x=y*(w/o),b=0,E=0;E<f.length;E++){var C=f[E],T=f[(E+1)%f.length],S=new v(C.x,C.y,T.x,T.y),A=a(S);if(x<b||x>b+A){b+=A;continue}var P=S.getPoint((x-b)/A);p.push(P);break}return p};s.exports=u}),30052:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(35001),v=r(23031),h=function(u){for(var l=u.points,o=0,d=0;d<l.length;d++){var p=l[d],f=l[(d+1)%l.length],y=new v(p.x,p.y,f.x,f.y);o+=a(y)}return o};s.exports=h}),25717:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(63814),h=r(9564),u=r(23777),l=new a({initialize:function(d){this.type=u.POLYGON,this.area=0,this.points=[],d&&this.setTo(d)},contains:function(o,d){return v(this,o,d)},setTo:function(o){if(this.area=0,this.points=[],typeof o=="string"&&(o=o.split(" ")),!Array.isArray(o))return this;for(var d,p=0;p<o.length;p++)d={x:0,y:0},typeof o[p]=="number"||typeof o[p]=="string"?(d.x=parseFloat(o[p]),d.y=parseFloat(o[p+1]),p++):Array.isArray(o[p])?(d.x=o[p][0],d.y=o[p][1]):(d.x=o[p].x,d.y=o[p].y),this.points.push(d);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var o=0,d,p,f=0;f<this.points.length-1;f++)d=this.points[f],p=this.points[f+1],o+=(p.x-d.x)*(d.y+p.y);return d=this.points[0],p=this.points[this.points.length-1],o+=(d.x-p.x)*(p.y+d.y),this.area=-o*.5,this.area},getPoints:function(o,d,p){return h(this,o,d,p)}});s.exports=l}),8133:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r.points.reverse(),r};s.exports=g}),29524:(s=>{function g(l,o){var d=l.x-o.x,p=l.y-o.y;return d*d+p*p}function r(l,o,d){var p=o.x,f=o.y,y=d.x-p,w=d.y-f;if(y!==0||w!==0){var x=((l.x-p)*y+(l.y-f)*w)/(y*y+w*w);x>1?(p=d.x,f=d.y):x>0&&(p+=y*x,f+=w*x)}return y=l.x-p,w=l.y-f,y*y+w*w}function a(l,o){for(var d=l[0],p=[d],f,y=1,w=l.length;y<w;y++)f=l[y],g(f,d)>o&&(p.push(f),d=f);return d!==f&&p.push(f),p}function v(l,o,d,p,f){for(var y=p,w,x=o+1;x<d;x++){var b=r(l[x],l[o],l[d]);b>y&&(w=x,y=b)}y>p&&(w-o>1&&v(l,o,w,p,f),f.push(l[w]),d-w>1&&v(l,w,d,p,f))}function h(l,o){var d=l.length-1,p=[l[0]];return v(l,0,d,o,p),p.push(l[d]),p}var u=function(l,o,d){o===void 0&&(o=1),d===void 0&&(d=!1);var p=l.points;if(p.length>2){var f=o*o;d||(p=a(p,f)),l.setTo(h(p,f))}return l};s.exports=u}),5469:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(a,v){return a[0]=v[0],a[1]=v[1],a},r=function(a){var v,h=[],u=a.points;for(v=0;v<u.length;v++)h.push([u[v].x,u[v].y]);var l=[];for(h.length>0&&l.push(g([0,0],h[0])),v=0;v<h.length-1;v++){var o=h[v],d=h[v+1],p=o[0],f=o[1],y=d[0],w=d[1];l.push([.85*p+.15*y,.85*f+.15*w]),l.push([.15*p+.85*y,.15*f+.85*w])}return h.length>1&&l.push(g([0,0],h[h.length-1])),a.setTo(l)};s.exports=r}),24709:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){for(var h=r.points,u=0;u<h.length;u++)h[u].x+=a,h[u].y+=v;return r};s.exports=g}),58423:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(25717);a.Clone=r(12306),a.Contains=r(63814),a.ContainsPoint=r(99338),a.Earcut=r(94811),a.GetAABB=r(13829),a.GetNumberArray=r(26173),a.GetPoints=r(9564),a.Perimeter=r(30052),a.Reverse=r(8133),a.Simplify=r(29524),a.Smooth=r(5469),a.Translate=r(24709),s.exports=a}),62224:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r.width*r.height};s.exports=g}),98615:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r.x=Math.ceil(r.x),r.y=Math.ceil(r.y),r};s.exports=g}),31688:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r.x=Math.ceil(r.x),r.y=Math.ceil(r.y),r.width=Math.ceil(r.width),r.height=Math.ceil(r.height),r};s.exports=g}),67502:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){return r.x=a-r.width/2,r.y=v-r.height/2,r};s.exports=g}),65085:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(87841),v=function(h){return new a(h.x,h.y,h.width,h.height)};s.exports=v}),37303:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){return r.width<=0||r.height<=0?!1:r.x<=a&&r.x+r.width>=a&&r.y<=v&&r.y+r.height>=v};s.exports=g}),96553:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(37303),v=function(h,u){return a(h,u.x,u.y)};s.exports=v}),70273:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return a.width*a.height>r.width*r.height?!1:a.x>r.x&&a.x<r.right&&a.right>r.x&&a.right<r.right&&a.y>r.y&&a.y<r.bottom&&a.bottom>r.y&&a.bottom<r.bottom};s.exports=g}),43459:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return a.setTo(r.x,r.y,r.width,r.height)};s.exports=g}),77493:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return a===void 0&&(a=[]),a.push({x:r.x,y:r.y}),a.push({x:r.right,y:r.y}),a.push({x:r.right,y:r.bottom}),a.push({x:r.x,y:r.bottom}),a};s.exports=g}),9219:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return r.x===a.x&&r.y===a.y&&r.width===a.width&&r.height===a.height};s.exports=g}),53751:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(8249),v=function(h,u){var l=a(h);return l<a(u)?h.setSize(u.height*l,u.height):h.setSize(u.width,u.width/l),h.setPosition(u.centerX-h.width/2,u.centerY-h.height/2)};s.exports=v}),16088:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(8249),v=function(h,u){var l=a(h);return l>a(u)?h.setSize(u.height*l,u.height):h.setSize(u.width,u.width/l),h.setPosition(u.centerX-h.width/2,u.centerY-h.height/2)};s.exports=v}),80774:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r.x=Math.floor(r.x),r.y=Math.floor(r.y),r};s.exports=g}),83859:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r.x=Math.floor(r.x),r.y=Math.floor(r.y),r.width=Math.floor(r.width),r.height=Math.floor(r.height),r};s.exports=g}),19217:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(87841),v=r(36383),h=function(u,l){if(l===void 0&&(l=new a),u.length===0)return l;for(var o=Number.MAX_VALUE,d=Number.MAX_VALUE,p=v.MIN_SAFE_INTEGER,f=v.MIN_SAFE_INTEGER,y,w,x,b=0;b<u.length;b++)y=u[b],Array.isArray(y)?(w=y[0],x=y[1]):(w=y.x,x=y.y),o=Math.min(o,w),d=Math.min(d,x),p=Math.max(p,w),f=Math.max(f,x);return l.x=o,l.y=d,l.width=p-o,l.height=f-d,l};s.exports=h}),9477:((s,g,r)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(87841),v=function(h,u,l,o,d){return d===void 0&&(d=new a),d.setTo(Math.min(h,l),Math.min(u,o),Math.abs(h-l),Math.abs(u-o))};s.exports=v}),8249:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r.height===0?NaN:r.width/r.height};s.exports=g}),27165:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(2141),v=function(h,u){return u===void 0&&(u=new a),u.x=h.centerX,u.y=h.centerY,u};s.exports=v}),20812:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(13019),v=r(2141),h=function(u,l,o){if(o===void 0&&(o=new v),l<=0||l>=1)return o.x=u.x,o.y=u.y,o;var d=a(u)*l;return l>.5?(d-=u.width+u.height,d<=u.width?(o.x=u.right-d,o.y=u.bottom):(o.x=u.x,o.y=u.bottom-(d-u.width))):d<=u.width?(o.x=u.x+d,o.y=u.y):(o.x=u.right,o.y=u.y+(d-u.width)),o};s.exports=h}),34819:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(20812),v=r(13019),h=function(u,l,o,d){d===void 0&&(d=[]),!l&&o>0&&(l=v(u)/o);for(var p=0;p<l;p++){var f=p/l;d.push(a(u,f))}return d};s.exports=h}),51313:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(2141),v=function(h,u){return u===void 0&&(u=new a),u.x=h.width,u.y=h.height,u};s.exports=v}),86091:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(67502),v=function(h,u,l){var o=h.centerX,d=h.centerY;return h.setSize(h.width+u*2,h.height+l*2),a(h,o,d)};s.exports=v}),53951:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(87841),v=r(59996),h=function(u,l,o){return o===void 0&&(o=new a),v(u,l)?(o.x=Math.max(u.x,l.x),o.y=Math.max(u.y,l.y),o.width=Math.min(u.right,l.right)-o.x,o.height=Math.min(u.bottom,l.bottom)-o.y):o.setEmpty(),o};s.exports=h}),14649:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(13019),v=r(2141),h=function(u,l,o,d){if(d===void 0&&(d=[]),!l&&!o)return d;l?o=Math.round(a(u)/l):l=a(u)/o;for(var p=u.x,f=u.y,y=0,w=0;w<o;w++)switch(d.push(new v(p,f)),y){case 0:p+=l,p>=u.right&&(y=1,f+=p-u.right,p=u.right);break;case 1:f+=l,f>=u.bottom&&(y=2,p-=f-u.bottom,f=u.bottom);break;case 2:p-=l,p<=u.left&&(y=3,f-=u.left-p,p=u.left);break;case 3:f-=l,f<=u.top&&(y=0,f=u.top);break}return d};s.exports=h}),33595:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){for(var v=r.x,h=r.right,u=r.y,l=r.bottom,o=0;o<a.length;o++)v=Math.min(v,a[o].x),h=Math.max(h,a[o].x),u=Math.min(u,a[o].y),l=Math.max(l,a[o].y);return r.x=v,r.y=u,r.width=h-v,r.height=l-u,r};s.exports=g}),20074:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){var v=Math.min(r.x,a.x),h=Math.max(r.right,a.right);r.x=v,r.width=h-v;var u=Math.min(r.y,a.y),l=Math.max(r.bottom,a.bottom);return r.y=u,r.height=l-u,r};s.exports=g}),92171:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){var h=Math.min(r.x,a),u=Math.max(r.right,a);r.x=h,r.width=u-h;var l=Math.min(r.y,v),o=Math.max(r.bottom,v);return r.y=l,r.height=o-l,r};s.exports=g}),42981:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){return r.x+=a,r.y+=v,r};s.exports=g}),46907:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return r.x+=a.x,r.y+=a.y,r};s.exports=g}),60170:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return r.x<a.right&&r.right>a.x&&r.y<a.bottom&&r.bottom>a.y};s.exports=g}),13019:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return 2*(r.width+r.height)};s.exports=g}),85133:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(2141),v=r(39506),h=function(u,l,o){o===void 0&&(o=new a),l=v(l);var d=Math.sin(l),p=Math.cos(l),f=p>0?u.width/2:u.width/-2,y=d>0?u.height/2:u.height/-2;return Math.abs(f*d)<Math.abs(y*p)?y=f*d/p:f=y*p/d,o.x=f+u.centerX,o.y=y+u.centerY,o};s.exports=h}),26597:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(2141),v=function(h,u){return u===void 0&&(u=new a),u.x=h.x+Math.random()*h.width,u.y=h.y+Math.random()*h.height,u};s.exports=v}),86470:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(30976),v=r(70273),h=r(2141),u=function(l,o,d){if(d===void 0&&(d=new h),v(l,o))switch(a(0,3)){case 0:d.x=l.x+Math.random()*(o.right-l.x),d.y=l.y+Math.random()*(o.top-l.y);break;case 1:d.x=o.x+Math.random()*(l.right-o.x),d.y=o.bottom+Math.random()*(l.bottom-o.bottom);break;case 2:d.x=l.x+Math.random()*(o.x-l.x),d.y=o.y+Math.random()*(l.bottom-o.y);break;case 3:d.x=o.right+Math.random()*(l.right-o.right),d.y=l.y+Math.random()*(o.bottom-l.y);break}return d};s.exports=u}),87841:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(37303),h=r(20812),u=r(34819),l=r(23777),o=r(23031),d=r(26597),p=new a({initialize:function(y,w,x,b){y===void 0&&(y=0),w===void 0&&(w=0),x===void 0&&(x=0),b===void 0&&(b=0),this.type=l.RECTANGLE,this.x=y,this.y=w,this.width=x,this.height=b},contains:function(f,y){return v(this,f,y)},getPoint:function(f,y){return h(this,f,y)},getPoints:function(f,y,w){return u(this,f,y,w)},getRandomPoint:function(f){return d(this,f)},setTo:function(f,y,w,x){return this.x=f,this.y=y,this.width=w,this.height=x,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(f,y){return y===void 0&&(y=f),this.x=f,this.y=y,this},setSize:function(f,y){return y===void 0&&(y=f),this.width=f,this.height=y,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(f){return f===void 0&&(f=new o),f.setTo(this.x,this.y,this.right,this.y),f},getLineB:function(f){return f===void 0&&(f=new o),f.setTo(this.right,this.y,this.right,this.bottom),f},getLineC:function(f){return f===void 0&&(f=new o),f.setTo(this.right,this.bottom,this.x,this.bottom),f},getLineD:function(f){return f===void 0&&(f=new o),f.setTo(this.x,this.bottom,this.x,this.y),f},left:{get:function(){return this.x},set:function(f){f>=this.right?this.width=0:this.width=this.right-f,this.x=f}},right:{get:function(){return this.x+this.width},set:function(f){f<=this.x?this.width=0:this.width=f-this.x}},top:{get:function(){return this.y},set:function(f){f>=this.bottom?this.height=0:this.height=this.bottom-f,this.y=f}},bottom:{get:function(){return this.y+this.height},set:function(f){f<=this.y?this.height=0:this.height=f-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(f){this.x=f-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(f){this.y=f-this.height/2}}});s.exports=p}),94845:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return r.width===a.width&&r.height===a.height};s.exports=g}),31730:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){return v===void 0&&(v=a),r.width*=a,r.height*=v,r};s.exports=g}),36899:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(87841),v=function(h,u,l){l===void 0&&(l=new a);var o=Math.min(h.x,u.x),d=Math.min(h.y,u.y),p=Math.max(h.right,u.right)-o,f=Math.max(h.bottom,u.bottom)-d;return l.setTo(o,d,p,f)};s.exports=v}),93232:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(87841);a.Area=r(62224),a.Ceil=r(98615),a.CeilAll=r(31688),a.CenterOn=r(67502),a.Clone=r(65085),a.Contains=r(37303),a.ContainsPoint=r(96553),a.ContainsRect=r(70273),a.CopyFrom=r(43459),a.Decompose=r(77493),a.Equals=r(9219),a.FitInside=r(53751),a.FitOutside=r(16088),a.Floor=r(80774),a.FloorAll=r(83859),a.FromPoints=r(19217),a.FromXY=r(9477),a.GetAspectRatio=r(8249),a.GetCenter=r(27165),a.GetPoint=r(20812),a.GetPoints=r(34819),a.GetSize=r(51313),a.Inflate=r(86091),a.Intersection=r(53951),a.MarchingAnts=r(14649),a.MergePoints=r(33595),a.MergeRect=r(20074),a.MergeXY=r(92171),a.Offset=r(42981),a.OffsetPoint=r(46907),a.Overlaps=r(60170),a.Perimeter=r(13019),a.PerimeterPoint=r(85133),a.Random=r(26597),a.RandomOutside=r(86470),a.SameDimensions=r(94845),a.Scale=r(31730),a.Union=r(36899),s.exports=a}),41658:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){var a=r.x1,v=r.y1,h=r.x2,u=r.y2,l=r.x3,o=r.y3;return Math.abs(((l-a)*(u-v)-(h-a)*(o-v))/2)};s.exports=g}),39208:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(16483),v=function(h,u,l){var o=l*(Math.sqrt(3)/2),d=h,p=u,f=h+l/2,y=u+o,w=h-l/2,x=u+o;return new a(d,p,f,y,w,x)};s.exports=v}),39545:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(94811),v=r(16483),h=function(u,l,o,d,p){l===void 0&&(l=null),o===void 0&&(o=1),d===void 0&&(d=1),p===void 0&&(p=[]);for(var f=a(u,l),y,w,x,b,E,C,T,S,A,P=0;P<f.length;P+=3)y=f[P],w=f[P+1],x=f[P+2],b=u[y*2]*o,E=u[y*2+1]*d,C=u[w*2]*o,T=u[w*2+1]*d,S=u[x*2]*o,A=u[x*2+1]*d,p.push(new v(b,E,C,T,S,A));return p};s.exports=h}),90301:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(16483),v=function(h,u,l,o){o===void 0&&(o=l);var d=h,p=u,f=h,y=u-o,w=h+l,x=u;return new a(d,p,f,y,w,x)};s.exports=v}),23707:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(97523),v=r(13584),h=function(u,l,o,d){d===void 0&&(d=a);var p=d(u),f=l-p.x,y=o-p.y;return v(u,f,y)};s.exports=h}),97523:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(2141),v=function(h,u){return u===void 0&&(u=new a),u.x=(h.x1+h.x2+h.x3)/3,u.y=(h.y1+h.y2+h.y3)/3,u};s.exports=v}),24951:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(26099);function v(u,l,o,d){return u*d-l*o}var h=function(u,l){l===void 0&&(l=new a);var o=u.x3,d=u.y3,p=u.x1-o,f=u.y1-d,y=u.x2-o,w=u.y2-d,x=2*v(p,f,y,w),b=v(f,p*p+f*f,w,y*y+w*w),E=v(p,p*p+f*f,y,y*y+w*w);return l.x=o-b/x,l.y=d+E/x,l};s.exports=h}),85614:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(96503),v=function(h,u){u===void 0&&(u=new a);var l=h.x1,o=h.y1,d=h.x2,p=h.y2,f=h.x3,y=h.y3,w=d-l,x=p-o,b=f-l,E=y-o,C=w*(l+d)+x*(o+p),T=b*(l+f)+E*(o+y),S=2*(w*(y-p)-x*(f-d)),A,P;if(Math.abs(S)<1e-6){var R=Math.min(l,d,f),L=Math.min(o,p,y);A=(Math.max(l,d,f)-R)*.5,P=(Math.max(o,p,y)-L)*.5,u.x=R+A,u.y=L+P,u.radius=Math.sqrt(A*A+P*P)}else u.x=(E*C-x*T)/S,u.y=(w*T-b*C)/S,A=u.x-l,P=u.y-o,u.radius=Math.sqrt(A*A+P*P);return u};s.exports=v}),74422:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(16483),v=function(h){return new a(h.x1,h.y1,h.x2,h.y2,h.x3,h.y3)};s.exports=v}),10690:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){var h=r.x3-r.x1,u=r.y3-r.y1,l=r.x2-r.x1,o=r.y2-r.y1,d=a-r.x1,p=v-r.y1,f=h*h+u*u,y=h*l+u*o,w=h*d+u*p,x=l*l+o*o,b=l*d+o*p,E=f*x-y*y,C=E===0?0:1/E,T=(x*w-y*b)*C,S=(f*b-y*w)*C;return T>=0&&S>=0&&T+S<1};s.exports=g}),48653:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h){v===void 0&&(v=!1),h===void 0&&(h=[]);for(var u=r.x3-r.x1,l=r.y3-r.y1,o=r.x2-r.x1,d=r.y2-r.y1,p=u*u+l*l,f=u*o+l*d,y=o*o+d*d,w=p*y-f*f,x=w===0?0:1/w,b,E,C,T,S,A,P=r.x1,R=r.y1,L=0;L<a.length&&(C=a[L].x-P,T=a[L].y-R,S=u*C+l*T,A=o*C+d*T,b=(y*S-f*A)*x,E=(p*A-f*S)*x,!(b>=0&&E>=0&&b+E<1&&(h.push({x:a[L].x,y:a[L].y}),v)));L++);return h};s.exports=g}),96006:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(10690),v=function(h,u){return a(h,u.x,u.y)};s.exports=v}),71326:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return a.setTo(r.x1,r.y1,r.x2,r.y2,r.x3,r.y3)};s.exports=g}),71694:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return a===void 0&&(a=[]),a.push({x:r.x1,y:r.y1}),a.push({x:r.x2,y:r.y2}),a.push({x:r.x3,y:r.y3}),a};s.exports=g}),33522:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return r.x1===a.x1&&r.y1===a.y1&&r.x2===a.x2&&r.y2===a.y2&&r.x3===a.x3&&r.y3===a.y3};s.exports=g}),20437:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(2141),v=r(35001),h=function(u,l,o){o===void 0&&(o=new a);var d=u.getLineA(),p=u.getLineB(),f=u.getLineC();if(l<=0||l>=1)return o.x=d.x1,o.y=d.y1,o;var y=v(d),w=v(p),x=v(f),b=y+w+x,E=b*l,C=0;return E<y?(C=E/y,o.x=d.x1+(d.x2-d.x1)*C,o.y=d.y1+(d.y2-d.y1)*C):E>y+w?(E-=y+w,C=E/x,o.x=f.x1+(f.x2-f.x1)*C,o.y=f.y1+(f.y2-f.y1)*C):(E-=y,C=E/w,o.x=p.x1+(p.x2-p.x1)*C,o.y=p.y1+(p.y2-p.y1)*C),o};s.exports=h}),80672:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(35001),v=r(2141),h=function(u,l,o,d){d===void 0&&(d=[]);var p=u.getLineA(),f=u.getLineB(),y=u.getLineC(),w=a(p),x=a(f),b=a(y),E=w+x+b;!l&&o>0&&(l=E/o);for(var C=0;C<l;C++){var T=E*(C/l),S=0,A=new v;T<w?(S=T/w,A.x=p.x1+(p.x2-p.x1)*S,A.y=p.y1+(p.y2-p.y1)*S):T>w+x?(T-=w+x,S=T/b,A.x=y.x1+(y.x2-y.x1)*S,A.y=y.y1+(y.y2-y.y1)*S):(T-=w,S=T/x,A.x=f.x1+(f.x2-f.x1)*S,A.y=f.y1+(f.y2-f.y1)*S),d.push(A)}return d};s.exports=h}),39757:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(2141);function v(u,l,o,d){var p=u-o,f=l-d,y=p*p+f*f;return Math.sqrt(y)}var h=function(u,l){l===void 0&&(l=new a);var o=u.x1,d=u.y1,p=u.x2,f=u.y2,y=u.x3,w=u.y3,x=v(y,w,p,f),b=v(o,d,y,w),E=v(p,f,o,d),C=x+b+E;return l.x=(o*x+p*b+y*E)/C,l.y=(d*x+f*b+w*E)/C,l};s.exports=h}),13584:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){return r.x1+=a,r.y1+=v,r.x2+=a,r.y2+=v,r.x3+=a,r.y3+=v,r};s.exports=g}),1376:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(35001),v=function(h){var u=h.getLineA(),l=h.getLineB(),o=h.getLineC();return a(u)+a(l)+a(o)};s.exports=v}),90260:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(2141),v=function(h,u){u===void 0&&(u=new a);var l=h.x2-h.x1,o=h.y2-h.y1,d=h.x3-h.x1,p=h.y3-h.y1,f=Math.random(),y=Math.random();return f+y>=1&&(f=1-f,y=1-y),u.x=h.x1+(l*f+d*y),u.y=h.y1+(o*f+p*y),u};s.exports=v}),52172:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(99614),v=r(39757),h=function(u,l){var o=v(u);return a(u,o.x,o.y,l)};s.exports=h}),49907:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(99614),v=function(h,u,l){return a(h,u.x,u.y,l)};s.exports=v}),99614:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h){var u=Math.cos(h),l=Math.sin(h),o=r.x1-a,d=r.y1-v;return r.x1=o*u-d*l+a,r.y1=o*l+d*u+v,o=r.x2-a,d=r.y2-v,r.x2=o*u-d*l+a,r.y2=o*l+d*u+v,o=r.x3-a,d=r.y3-v,r.x3=o*u-d*l+a,r.y3=o*l+d*u+v,r};s.exports=g}),16483:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(10690),h=r(20437),u=r(80672),l=r(23777),o=r(23031),d=r(90260),p=new a({initialize:function(y,w,x,b,E,C){y===void 0&&(y=0),w===void 0&&(w=0),x===void 0&&(x=0),b===void 0&&(b=0),E===void 0&&(E=0),C===void 0&&(C=0),this.type=l.TRIANGLE,this.x1=y,this.y1=w,this.x2=x,this.y2=b,this.x3=E,this.y3=C},contains:function(f,y){return v(this,f,y)},getPoint:function(f,y){return h(this,f,y)},getPoints:function(f,y,w){return u(this,f,y,w)},getRandomPoint:function(f){return d(this,f)},setTo:function(f,y,w,x,b,E){return f===void 0&&(f=0),y===void 0&&(y=0),w===void 0&&(w=0),x===void 0&&(x=0),b===void 0&&(b=0),E===void 0&&(E=0),this.x1=f,this.y1=y,this.x2=w,this.y2=x,this.x3=b,this.y3=E,this},getLineA:function(f){return f===void 0&&(f=new o),f.setTo(this.x1,this.y1,this.x2,this.y2),f},getLineB:function(f){return f===void 0&&(f=new o),f.setTo(this.x2,this.y2,this.x3,this.y3),f},getLineC:function(f){return f===void 0&&(f=new o),f.setTo(this.x3,this.y3,this.x1,this.y1),f},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(f){var y=0;this.x1<=this.x2&&this.x1<=this.x3?y=this.x1-f:this.x2<=this.x1&&this.x2<=this.x3?y=this.x2-f:y=this.x3-f,this.x1-=y,this.x2-=y,this.x3-=y}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(f){var y=0;this.x1>=this.x2&&this.x1>=this.x3?y=this.x1-f:this.x2>=this.x1&&this.x2>=this.x3?y=this.x2-f:y=this.x3-f,this.x1-=y,this.x2-=y,this.x3-=y}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(f){var y=0;this.y1<=this.y2&&this.y1<=this.y3?y=this.y1-f:this.y2<=this.y1&&this.y2<=this.y3?y=this.y2-f:y=this.y3-f,this.y1-=y,this.y2-=y,this.y3-=y}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(f){var y=0;this.y1>=this.y2&&this.y1>=this.y3?y=this.y1-f:this.y2>=this.y1&&this.y2>=this.y3?y=this.y2-f:y=this.y3-f,this.y1-=y,this.y2-=y,this.y3-=y}}});s.exports=p}),84435:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(16483);a.Area=r(41658),a.BuildEquilateral=r(39208),a.BuildFromPolygon=r(39545),a.BuildRight=r(90301),a.CenterOn=r(23707),a.Centroid=r(97523),a.CircumCenter=r(24951),a.CircumCircle=r(85614),a.Clone=r(74422),a.Contains=r(10690),a.ContainsArray=r(48653),a.ContainsPoint=r(96006),a.CopyFrom=r(71326),a.Decompose=r(71694),a.Equals=r(33522),a.GetPoint=r(20437),a.GetPoints=r(80672),a.InCenter=r(39757),a.Perimeter=r(1376),a.Offset=r(13584),a.Random=r(90260),a.Rotate=r(52172),a.RotateAroundPoint=r(49907),a.RotateAroundXY=r(99614),s.exports=a}),74457:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){return{gameObject:r,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:a,hitAreaCallback:v,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}};s.exports=g}),84409:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return function(v,h,u,l){var o=r.getPixelAlpha(h,u,l.texture.key,l.frame.name);return o&&o>=a}};s.exports=g}),7003:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(93301),h=r(50792),u=r(8214),l=r(8443),o=r(78970),d=r(85098),p=r(42515),f=r(36210),y=r(61340),w=r(85955),x=new a({initialize:function(E,C){this.game=E,this.scaleManager,this.canvas,this.config=C,this.enabled=!0,this.events=new h,this.isOver=!0,this.defaultCursor="",this.keyboard=C.inputKeyboard?new o(this):null,this.mouse=C.inputMouse?new d(this):null,this.touch=C.inputTouch?new f(this):null,this.pointers=[],this.pointersTotal=C.inputActivePointers;for(var T=0;T<=this.pointersTotal;T++){var S=new p(this,T);S.smoothFactor=C.inputSmoothFactor,this.pointers.push(S)}this.mousePointer=C.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new y,this._tempMatrix2=new y,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],E.events.once(l.BOOT,this.boot,this)},boot:function(){var b=this.game,E=b.events;this.canvas=b.canvas,this.scaleManager=b.scale,this.events.emit(u.MANAGER_BOOT),E.on(l.PRE_RENDER,this.preRender,this),E.once(l.DESTROY,this.destroy,this)},setCanvasOver:function(b){this.isOver=!0,this.events.emit(u.GAME_OVER,b)},setCanvasOut:function(b){this.isOver=!1,this.events.emit(u.GAME_OUT,b)},preRender:function(){var b=this.game.loop.now,E=this.game.loop.delta,C=this.game.scene.getScenes(!0,!0);this.time=b,this.events.emit(u.MANAGER_UPDATE);for(var T=0;T<C.length;T++){var S=C[T];if(S.sys.input&&S.sys.input.updatePoll(b,E)&&this.globalTopOnly)return}},setDefaultCursor:function(b){this.defaultCursor=b,this.canvas.style.cursor!==b&&(this.canvas.style.cursor=b)},setCursor:function(b){b.cursor&&(this.canvas.style.cursor=b.cursor)},resetCursor:function(b,E){(E||b&&b.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(b){b===void 0&&(b=1);var E=[];this.pointersTotal+b>10&&(b=10-this.pointersTotal);for(var C=0;C<b;C++){var T=this.pointers.length,S=new p(this,T);S.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(S),this.pointersTotal++,E.push(S)}return E},updateInputPlugins:function(b,E){var C=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var T=0;T<C.length;T++){var S=C[T];if(S.sys.input){var A=S.sys.input.update(b,E);if(A&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(b){for(var E=this.pointers,C=[],T=0;T<b.changedTouches.length;T++)for(var S=b.changedTouches[T],A=1;A<E.length;A++){var P=E[A];if(!P.active){P.touchstart(S,b),this.activePointer=P,C.push(P);break}}this.updateInputPlugins(v.TOUCH_START,C)},onTouchMove:function(b){for(var E=this.pointers,C=[],T=0;T<b.changedTouches.length;T++)for(var S=b.changedTouches[T],A=1;A<E.length;A++){var P=E[A];if(P.active&&P.identifier===S.identifier){var R=document.elementFromPoint(S.clientX,S.clientY),L=R===this.canvas;!this.isOver&&L?this.setCanvasOver(b):this.isOver&&!L&&this.setCanvasOut(b),this.isOver&&(P.touchmove(S,b),this.activePointer=P,C.push(P));break}}this.updateInputPlugins(v.TOUCH_MOVE,C)},onTouchEnd:function(b){for(var E=this.pointers,C=[],T=0;T<b.changedTouches.length;T++)for(var S=b.changedTouches[T],A=1;A<E.length;A++){var P=E[A];if(P.active&&P.identifier===S.identifier){P.touchend(S,b),C.push(P);break}}this.updateInputPlugins(v.TOUCH_END,C)},onTouchCancel:function(b){for(var E=this.pointers,C=[],T=0;T<b.changedTouches.length;T++)for(var S=b.changedTouches[T],A=1;A<E.length;A++){var P=E[A];if(P.active&&P.identifier===S.identifier){P.touchcancel(S,b),C.push(P);break}}this.updateInputPlugins(v.TOUCH_CANCEL,C)},onMouseDown:function(b){var E=this.mousePointer;E.down(b),E.updateMotion(),this.activePointer=E,this.updateInputPlugins(v.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(b){var E=this.mousePointer;E.move(b),E.updateMotion(),this.activePointer=E,this.updateInputPlugins(v.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(b){var E=this.mousePointer;E.up(b),E.updateMotion(),this.activePointer=E,this.updateInputPlugins(v.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(b){var E=this.mousePointer;E.wheel(b),this.activePointer=E,this.updateInputPlugins(v.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(b){var E=this.mouse.locked;this.mousePointer.locked=E,this.events.emit(u.POINTERLOCK_CHANGE,b,E)},inputCandidate:function(b,E){var C=b.input;if(!C||!C.enabled||!b.willRender(E))return!1;var T=!0,S=b.parentContainer;if(S)do{if(!S.willRender(E)){T=!1;break}S=S.parentContainer}while(S);return T},hitTest:function(b,E,C,T){T===void 0&&(T=this._tempHitTest);var S=this._tempPoint,A=C.scrollX,P=C.scrollY;T.length=0;var R=b.x,L=b.y;C.getWorldPoint(R,L,S),b.worldX=S.x,b.worldY=S.y;for(var D={x:0,y:0},$=this._tempMatrix,F=this._tempMatrix2,N=0;N<E.length;N++){var k=E[N];if(this.inputCandidate(k,C)){var j=S.x+A*k.scrollFactorX-A,W=S.y+P*k.scrollFactorY-P;k.parentContainer?(k.getWorldTransformMatrix($,F),$.applyInverse(j,W,D)):w(j,W,k.x,k.y,k.rotation,k.scaleX,k.scaleY,D),this.pointWithinHitArea(k,D.x,D.y)&&T.push(k)}}return T},pointWithinHitArea:function(b,E,C){E+=b.displayOriginX,C+=b.displayOriginY;var T=b.input;return T&&T.hitAreaCallback(T.hitArea,E,C,b)?(T.localX=E,T.localY=C,!0):!1},pointWithinInteractiveObject:function(b,E,C){return b.hitArea?(E+=b.gameObject.displayOriginX,C+=b.gameObject.displayOriginY,b.localX=E,b.localY=C,b.hitAreaCallback(b.hitArea,E,C,b)):!1},transformPointer:function(b,E,C,T){var S=b.position,A=b.prevPosition;A.x=S.x,A.y=S.y;var P=this.scaleManager.transformX(E),R=this.scaleManager.transformY(C),L=b.smoothFactor;!T||L===0?(S.x=P,S.y=R):(S.x=P*L+A.x*(1-L),S.y=R*L+A.y*(1-L))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(l.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var b=0;b<this.pointers.length;b++)this.pointers[b].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});s.exports=x}),48205:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(96503),v=r(87902),h=r(83419),u=r(93301),l=r(74457),o=r(84409),d=r(20339),p=r(8497),f=r(81154),y=r(8214),w=r(50792),x=r(95540),b=r(23777),E=r(89639),C=r(41212),T=r(37277),S=r(87841),A=r(37303),P=r(44594),R=r(16483),L=r(10690),D=new h({Extends:w,initialize:function(F){w.call(this),this.scene=F,this.systems=F.sys,this.settings=F.sys.settings,this.manager=F.sys.game.input,this.pluginEvents=new w,this.enabled=!0,this.displayList,this.cameras,E.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var N={cancelled:!1};this._eventContainer={stopPropagation:function(){N.cancelled=!0}},this._eventData=N,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,F.sys.events.once(P.BOOT,this.boot,this),F.sys.events.on(P.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(P.DESTROY,this.destroy,this),this.pluginEvents.emit(y.BOOT)},start:function(){var $=this.systems.events;$.on(P.TRANSITION_START,this.transitionIn,this),$.on(P.TRANSITION_OUT,this.transitionOut,this),$.on(P.TRANSITION_COMPLETE,this.transitionComplete,this),$.on(P.PRE_UPDATE,this.preUpdate,this),$.once(P.SHUTDOWN,this.shutdown,this),this.manager.events.on(y.GAME_OUT,this.onGameOut,this),this.manager.events.on(y.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(y.START)},onGameOver:function($){this.isActive()&&this.emit(y.GAME_OVER,$.timeStamp,$)},onGameOut:function($){this.isActive()&&this.emit(y.GAME_OUT,$.timeStamp,$)},preUpdate:function(){this.pluginEvents.emit(y.PRE_UPDATE);var $=this._pendingRemoval,F=this._pendingInsertion,N=$.length,k=F.length;if(!(N===0&&k===0)){for(var j=this._list,W=0;W<N;W++){var G=$[W],K=j.indexOf(G);K>-1&&(j.splice(K,1),this.clear(G,!0))}this._pendingRemoval.length=0,this._list=j.concat(F.splice(0))}},isActive:function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},setCursor:function($){this.manager&&this.manager.setCursor($)},resetCursor:function(){this.manager&&this.manager.resetCursor(null,!0)},updatePoll:function($,F){if(!this.isActive())return!1;if(this.pluginEvents.emit(y.UPDATE,$,F),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var N,k=this.manager,j=k.pointers;for(N=0;N<j.length;N++)j[N].updateMotion();if(this._list.length===0)return!1;var W=this.pollRate;if(W===-1)return!1;if(W>0)if(this._pollTimer-=F,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var G=!1;for(N=0;N<j.length;N++){var K=0,z=j[N];this._tempZones=[],this._temp=this.hitTestPointer(z),this.sortGameObjects(this._temp,z),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),K+=this.processOverOutEvents(z),this.getDragState(z)===2&&this.processDragThresholdEvent(z,$),K>0&&(G=!0)}return G},update:function($,F){if(!this.isActive())return!1;for(var N=!1,k=0;k<F.length;k++){var j=0,W=F[k];switch(this._tempZones=[],this._temp=this.hitTestPointer(W),this.sortGameObjects(this._temp,W),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),$){case u.MOUSE_DOWN:j+=this.processDragDownEvent(W),j+=this.processDownEvents(W),j+=this.processOverOutEvents(W);break;case u.MOUSE_UP:j+=this.processDragUpEvent(W),j+=this.processUpEvents(W),j+=this.processOverOutEvents(W);break;case u.TOUCH_START:j+=this.processDragDownEvent(W),j+=this.processDownEvents(W),j+=this.processOverEvents(W);break;case u.TOUCH_END:case u.TOUCH_CANCEL:j+=this.processDragUpEvent(W),j+=this.processUpEvents(W),j+=this.processOutEvents(W);break;case u.MOUSE_MOVE:case u.TOUCH_MOVE:j+=this.processDragMoveEvent(W),j+=this.processMoveEvents(W),j+=this.processOverOutEvents(W);break;case u.MOUSE_WHEEL:j+=this.processWheelEvent(W);break}j>0&&(N=!0)}return this._updatedThisFrame=!0,N},clear:function($,F){F===void 0&&(F=!1),this.disable($);var N=$.input;N&&(this.removeDebug($),this.manager.resetCursor(N),N.gameObject=void 0,N.target=void 0,N.hitArea=void 0,N.hitAreaCallback=void 0,N.callbackContext=void 0,$.input=null),F||this.queueForRemoval($);var k=this._draggable.indexOf($);return k>-1&&this._draggable.splice(k,1),$},disable:function($,F){F===void 0&&(F=!1);var N=$.input;N&&(N.enabled=!1,N.dragState=0);for(var k=this._drag,j=this._over,W=this.manager,G=0,K;G<W.pointers.length;G++)K=k[G].indexOf($),K>-1&&k[G].splice(K,1),K=j[G].indexOf($),K>-1&&j[G].splice(K,1);return F&&this.resetCursor(),this},enable:function($,F,N,k){return k===void 0&&(k=!1),$.input?$.input.enabled=!0:this.setHitArea($,F,N),$.input&&k&&!$.input.dropZone&&($.input.dropZone=k),this},hitTestPointer:function($){for(var F=this.cameras.getCamerasBelowPointer($),N=0;N<F.length;N++){for(var k=F[N],j=this.manager.hitTest($,this._list,k),W=0;W<j.length;W++){var G=j[W];G.input.dropZone&&this._tempZones.push(G)}if(j.length>0)return $.camera=k,j}return $.camera=F[0],[]},processDownEvents:function($){var F=0,N=this._temp,k=this._eventData,j=this._eventContainer;k.cancelled=!1;for(var W=0;W<N.length;W++){var G=N[W];if(!(!G.input||!G.input.enabled)&&(F++,G.emit(y.GAMEOBJECT_POINTER_DOWN,$,G.input.localX,G.input.localY,j),k.cancelled||!this.isActive()||G.input&&G.input.enabled&&(this.emit(y.GAMEOBJECT_DOWN,$,G,j),k.cancelled||!this.isActive())))break}return!k.cancelled&&this.isActive()&&($.downElement===this.manager.game.canvas?this.emit(y.POINTER_DOWN,$,N):this.emit(y.POINTER_DOWN_OUTSIDE,$)),F},getDragState:function($){return this._dragState[$.id]},setDragState:function($,F){this._dragState[$.id]=F},processDragThresholdEvent:function($,F){var N=!1,k=this.dragTimeThreshold,j=this.dragDistanceThreshold;if((j>0&&d($.x,$.y,$.downX,$.downY)>=j||k>0&&F>=$.downTime+k)&&(N=!0),N)return this.setDragState($,3),this.processDragStartList($)},processDragStartList:function($){if(this.getDragState($)!==3)return 0;var F=this._drag[$.id];F.length>1&&(F=F.slice(0));for(var N=0;N<F.length;N++){var k=F[N],j=k.input;j.dragState=2,j.dragStartX=k.x,j.dragStartY=k.y,j.dragStartXGlobal=$.worldX,j.dragStartYGlobal=$.worldY,j.dragStartCamera=$.camera,j.dragX=j.dragStartXGlobal-j.dragStartX,j.dragY=j.dragStartYGlobal-j.dragStartY,k.emit(y.GAMEOBJECT_DRAG_START,$,j.dragX,j.dragY),this.emit(y.DRAG_START,$,k)}return this.setDragState($,4),F.length},processDragDownEvent:function($){var F=this._temp;if(this._draggable.length===0||F.length===0||!$.primaryDown||this.getDragState($)!==0)return 0;this.setDragState($,1);for(var N=[],k=0;k<F.length;k++){var j=F[k];j.input.draggable&&j.input.dragState===0&&N.push(j)}return N.length===0?(this.setDragState($,0),0):(N.length>1&&(this.sortGameObjects(N,$),this.topOnly&&N.splice(1)),this._drag[$.id]=N,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState($,3),this.processDragStartList($)):(this.setDragState($,2),0))},processDragMoveEvent:function($){if(this.getDragState($)===2&&this.processDragThresholdEvent($,this.manager.game.loop.now),this.getDragState($)!==4)return 0;var F=this._tempZones,N=this._drag[$.id];N.length>1&&(N=N.slice(0));for(var k=0;k<N.length;k++){var j=N[k],W=j.input,G=W.target;if(G){var K=F.indexOf(G);K===0?(j.emit(y.GAMEOBJECT_DRAG_OVER,$,G),this.emit(y.DRAG_OVER,$,j,G)):K>0?(j.emit(y.GAMEOBJECT_DRAG_LEAVE,$,G),this.emit(y.DRAG_LEAVE,$,j,G),W.target=F[0],G=W.target,j.emit(y.GAMEOBJECT_DRAG_ENTER,$,G),this.emit(y.DRAG_ENTER,$,j,G)):(j.emit(y.GAMEOBJECT_DRAG_LEAVE,$,G),this.emit(y.DRAG_LEAVE,$,j,G),F[0]?(W.target=F[0],G=W.target,j.emit(y.GAMEOBJECT_DRAG_ENTER,$,G),this.emit(y.DRAG_ENTER,$,j,G)):W.target=null)}else!G&&F[0]&&(W.target=F[0],G=W.target,j.emit(y.GAMEOBJECT_DRAG_ENTER,$,G),this.emit(y.DRAG_ENTER,$,j,G));var z,X,U=$.positionToCamera(W.dragStartCamera);if(!j.parentContainer)z=U.x-W.dragX,X=U.y-W.dragY;else{var Z=U.x-W.dragStartXGlobal,V=U.y-W.dragStartYGlobal,J=j.getParentRotation(),Q=Z*Math.cos(J)+V*Math.sin(J),ee=V*Math.cos(J)-Z*Math.sin(J);Q*=1/j.parentContainer.scaleX,ee*=1/j.parentContainer.scaleY,z=Q+W.dragStartX,X=ee+W.dragStartY}j.emit(y.GAMEOBJECT_DRAG,$,z,X),this.emit(y.DRAG,$,j,z,X)}return N.length},processDragUpEvent:function($){var F=this._drag[$.id];F.length>1&&(F=F.slice(0));for(var N=0;N<F.length;N++){var k=F[N],j=k.input;if(j&&j.dragState===2){j.dragState=0,j.dragX=j.localX-k.displayOriginX,j.dragY=j.localY-k.displayOriginY,j.dragStartCamera=null;var W=!1,G=j.target;G&&(k.emit(y.GAMEOBJECT_DROP,$,G),this.emit(y.DROP,$,k,G),j.target=null,W=!0),k.input&&k.input.enabled&&(k.emit(y.GAMEOBJECT_DRAG_END,$,j.dragX,j.dragY,W),this.emit(y.DRAG_END,$,k,W))}}return this.setDragState($,0),F.splice(0),0},processMoveEvents:function($){var F=0,N=this._temp,k=this._eventData,j=this._eventContainer;k.cancelled=!1;for(var W=0;W<N.length;W++){var G=N[W];if(!(!G.input||!G.input.enabled)&&(F++,G.emit(y.GAMEOBJECT_POINTER_MOVE,$,G.input.localX,G.input.localY,j),k.cancelled||!this.isActive()||G.input&&G.input.enabled&&(this.emit(y.GAMEOBJECT_MOVE,$,G,j),k.cancelled||!this.isActive()||this.topOnly)))break}return!k.cancelled&&this.isActive()&&this.emit(y.POINTER_MOVE,$,N),F},processWheelEvent:function($){var F=0,N=this._temp,k=this._eventData,j=this._eventContainer;k.cancelled=!1;for(var W=$.deltaX,G=$.deltaY,K=$.deltaZ,z=0;z<N.length;z++){var X=N[z];if(!(!X.input||!X.input.enabled)&&(F++,X.emit(y.GAMEOBJECT_POINTER_WHEEL,$,W,G,K,j),k.cancelled||!this.isActive()||X.input&&X.input.enabled&&(this.emit(y.GAMEOBJECT_WHEEL,$,X,W,G,K,j),k.cancelled||!this.isActive())))break}return!k.cancelled&&this.isActive()&&this.emit(y.POINTER_WHEEL,$,N,W,G,K),F},processOverEvents:function($){var F=this._temp,N=0,k=F.length,j=[];if(k>0){var W=this.manager,G=this._eventData,K=this._eventContainer;G.cancelled=!1;for(var z=0;z<k;z++){var X=F[z];if(!(!X.input||!X.input.enabled)&&(j.push(X),W.setCursor(X.input),X.emit(y.GAMEOBJECT_POINTER_OVER,$,X.input.localX,X.input.localY,K),N++,G.cancelled||!this.isActive()||X.input&&X.input.enabled&&(this.emit(y.GAMEOBJECT_OVER,$,X,K),G.cancelled||!this.isActive())))break}!G.cancelled&&this.isActive()&&this.emit(y.POINTER_OVER,$,j)}return this._over[$.id]=j,N},processOutEvents:function($){var F=this._over[$.id],N=0,k=F.length;if(k>0){var j=this.manager,W=this._eventData,G=this._eventContainer;W.cancelled=!1,this.sortGameObjects(F,$);for(var K=0;K<k;K++){var z=F[K];if(z=F[K],!(!z.input||!z.input.enabled)&&(j.resetCursor(z.input),z.emit(y.GAMEOBJECT_POINTER_OUT,$,G),N++,W.cancelled||!this.isActive()||z.input&&z.input.enabled&&(this.emit(y.GAMEOBJECT_OUT,$,z,G),W.cancelled||!this.isActive())))break}!W.cancelled&&this.isActive()&&this.emit(y.POINTER_OUT,$,F),this._over[$.id]=[]}return N},processOverOutEvents:function($){var F=this._temp,N,k,j=[],W=[],G=[],K=this._over[$.id],z=this._drag[$.id],X=this.manager;for(N=0;N<K.length;N++)k=K[N],F.indexOf(k)===-1&&z.indexOf(k)===-1?j.push(k):G.push(k);for(N=0;N<F.length;N++)k=F[N],K.indexOf(k)===-1&&W.push(k);var U=j.length,Z=0,V=this._eventData,J=this._eventContainer;if(V.cancelled=!1,U>0){for(this.sortGameObjects(j,$),N=0;N<U&&(k=j[N],!(!(!k.input||!k.input.enabled)&&(X.resetCursor(k.input),k.emit(y.GAMEOBJECT_POINTER_OUT,$,J),Z++,V.cancelled||!this.isActive()||k.input&&k.input.enabled&&(this.emit(y.GAMEOBJECT_OUT,$,k,J),V.cancelled||!this.isActive()))));N++);(!V.cancelled||this.isActive())&&this.emit(y.POINTER_OUT,$,j)}if(U=W.length,V.cancelled=!1,U>0){for(this.sortGameObjects(W,$),N=0;N<U&&(k=W[N],!(!(!k.input||!k.input.enabled)&&(X.setCursor(k.input),k.emit(y.GAMEOBJECT_POINTER_OVER,$,k.input.localX,k.input.localY,J),Z++,V.cancelled||!this.isActive()||k.input&&k.input.enabled&&(this.emit(y.GAMEOBJECT_OVER,$,k,J),V.cancelled||!this.isActive()))));N++);!V.cancelled&&this.isActive()&&this.emit(y.POINTER_OVER,$,W)}return K=G.concat(W),this._over[$.id]=this.sortGameObjects(K,$),Z},processUpEvents:function($){var F=this._temp,N=this._eventData,k=this._eventContainer;N.cancelled=!1;for(var j=0;j<F.length;j++){var W=F[j];if(!(!W.input||!W.input.enabled)&&(W.emit(y.GAMEOBJECT_POINTER_UP,$,W.input.localX,W.input.localY,k),N.cancelled||!this.isActive()||W.input&&W.input.enabled&&(this.emit(y.GAMEOBJECT_UP,$,W,k),N.cancelled||!this.isActive())))break}return!N.cancelled&&this.isActive()&&($.upElement===this.manager.game.canvas?this.emit(y.POINTER_UP,$,F):this.emit(y.POINTER_UP_OUTSIDE,$)),F.length},forceDownState:function($,F){this.forceState($,F,y.GAMEOBJECT_POINTER_DOWN,y.GAMEOBJECT_DOWN,!1)},forceUpState:function($,F){this.forceState($,F,y.GAMEOBJECT_POINTER_UP,y.GAMEOBJECT_UP,!1)},forceOverState:function($,F){this.forceState($,F,y.GAMEOBJECT_POINTER_OVER,y.GAMEOBJECT_OVER,!0)},forceOutState:function($,F){this.forceState($,F,y.GAMEOBJECT_POINTER_OUT,y.GAMEOBJECT_OUT,!1)},forceState:function($,F,N,k,j){var W=this._eventData,G=this._eventContainer;W.cancelled=!1,F.input&&F.input.enabled&&(F.emit(N,$,F.input.localX,F.input.localY,G),j&&this.setCursor(F.input),!W.cancelled&&this.isActive()&&F.input&&F.input.enabled&&this.emit(k,$,F,G))},queueForInsertion:function($){return this._pendingInsertion.indexOf($)===-1&&this._list.indexOf($)===-1&&this._pendingInsertion.push($),this},queueForRemoval:function($){return this._pendingRemoval.push($),this},setDraggable:function($,F){F===void 0&&(F=!0),Array.isArray($)||($=[$]);for(var N=0;N<$.length;N++){var k=$[N];k.input.draggable=F;var j=this._draggable.indexOf(k);F&&j===-1?this._draggable.push(k):!F&&j>-1&&this._draggable.splice(j,1)}return this},makePixelPerfect:function($){$===void 0&&($=1);var F=this.systems.textures;return o(F,$)},setHitArea:function($,F,N){if(F===void 0)return this.setHitAreaFromTexture($);Array.isArray($)||($=[$]);var k=!1,j=!1,W=!1,G=!1,K=!1,z=!0;if(C(F)&&Object.keys(F).length){var X=F,U=$.some(function(ee){return ee.hasOwnProperty("faces")});if(!U){F=x(X,"hitArea",null),N=x(X,"hitAreaCallback",null),K=x(X,"pixelPerfect",!1);var Z=x(X,"alphaTolerance",1);K&&(F={},N=this.makePixelPerfect(Z))}k=x(X,"draggable",!1),j=x(X,"dropZone",!1),W=x(X,"cursor",!1),G=x(X,"useHandCursor",!1),(!F||!N)&&(this.setHitAreaFromTexture($),z=!1)}else typeof F=="function"&&!N&&(N=F,F={});for(var V=0;V<$.length;V++){var J=$[V];if(K&&J.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var Q=J.input?J.input:l(J,F,N);Q.customHitArea=z,Q.dropZone=j,Q.cursor=G?"pointer":W,J.input=Q,k&&this.setDraggable(J),this.queueForInsertion(J)}return this},setHitAreaCircle:function($,F,N,k,j){j===void 0&&(j=v);var W=new a(F,N,k);return this.setHitArea($,W,j)},setHitAreaEllipse:function($,F,N,k,j,W){W===void 0&&(W=f);var G=new p(F,N,k,j);return this.setHitArea($,G,W)},setHitAreaFromTexture:function($,F){F===void 0&&(F=A),Array.isArray($)||($=[$]);for(var N=0;N<$.length;N++){var k=$[N],j=k.frame,W=0,G=0;if(k.width?(W=k.width,G=k.height):j&&(W=j.realWidth,G=j.realHeight),k.type==="Container"&&(W===0||G===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}W!==0&&G!==0&&(k.input=l(k,new S(0,0,W,G),F),this.queueForInsertion(k))}return this},setHitAreaRectangle:function($,F,N,k,j,W){W===void 0&&(W=A);var G=new S(F,N,k,j);return this.setHitArea($,G,W)},setHitAreaTriangle:function($,F,N,k,j,W,G,K){K===void 0&&(K=L);var z=new R(F,N,k,j,W,G);return this.setHitArea($,z,K)},enableDebug:function($,F){F===void 0&&(F=65280);var N=$.input;if(!N||!N.hitArea)return this;var k=N.hitArea,j=k.type,W=N.hitAreaDebug,G=this.systems.add,K=this.systems.updateList;W&&(K.remove(W),W.destroy(),W=null);var z=0,X=0;switch(j){case b.CIRCLE:W=G.arc(0,0,k.radius),z=k.x-k.radius,X=k.y-k.radius;break;case b.ELLIPSE:W=G.ellipse(0,0,k.width,k.height),z=k.x-k.width/2,X=k.y-k.height/2;break;case b.LINE:W=G.line(0,0,k.x1,k.y1,k.x2,k.y2);break;case b.POLYGON:W=G.polygon(0,0,k.points);break;case b.RECTANGLE:W=G.rectangle(0,0,k.width,k.height),z=k.x,X=k.y;break;case b.TRIANGLE:W=G.triangle(0,0,k.x1,k.y1,k.x2,k.y2,k.x3,k.y3);break}return W&&(W.isFilled=!1,W.strokeColor=F,W.preUpdate=function(){W.setVisible($.visible),W.setStrokeStyle(1/$.scale,W.strokeColor),W.setDisplayOrigin($.displayOriginX,$.displayOriginY);var U=$.x,Z=$.y,V=$.rotation,J=$.scaleX,Q=$.scaleY;if($.parentContainer){var ee=$.getWorldTransformMatrix();U=ee.tx,Z=ee.ty,V=ee.rotation,J=ee.scaleX,Q=ee.scaleY}W.setRotation(V),W.setScale(J,Q),W.setPosition(U+z*J,Z+X*Q),W.setScrollFactor($.scrollFactorX,$.scrollFactorY),W.setDepth($.depth)},K.add(W),N.hitAreaDebug=W),this},removeDebug:function($){var F=$.input;if(F&&F.hitAreaDebug){var N=F.hitAreaDebug;N.destroy(),F.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function($){return this.pollRate=$,this._pollTimer=0,this},setGlobalTopOnly:function($){return this.manager.globalTopOnly=$,this},setTopOnly:function($){return this.topOnly=$,this},sortGameObjects:function($,F){if($.length<2||!F.camera)return $;var N=F.camera.renderList;return $.sort(function(k,j){var W=Math.max(N.indexOf(k),0),G=Math.max(N.indexOf(j),0);return G-W})},sortDropZones:function($){return $.length<2?$:(this.scene.sys.depthSort(),$.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function($,F){if(!$.parentContainer&&!F.parentContainer)return this.displayList.getIndex(F)-this.displayList.getIndex($);if($.parentContainer===F.parentContainer)return F.parentContainer.getIndex(F)-$.parentContainer.getIndex($);if($.parentContainer===F)return-1;if(F.parentContainer===$)return 1;for(var N=$.getIndexList(),k=F.getIndexList(),j=Math.min(N.length,k.length),W=0;W<j;W++){var G=N[W],K=k[W];if(G!==K)return K-G}return k.length-N.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function($){return this.manager.addPointer($)},setDefaultCursor:function($){return this.manager.setDefaultCursor($),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(y.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var $=0;$<10;$++)this._drag[$]=[],this._over[$]=[];this.removeAllListeners();var F=this.manager;F.canvas.style.cursor=F.defaultCursor;var N=this.systems.events;N.off(P.TRANSITION_START,this.transitionIn,this),N.off(P.TRANSITION_OUT,this.transitionOut,this),N.off(P.TRANSITION_COMPLETE,this.transitionComplete,this),N.off(P.PRE_UPDATE,this.preUpdate,this),F.events.off(y.GAME_OUT,this.onGameOut,this),F.events.off(y.GAME_OVER,this.onGameOver,this),N.off(P.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var $=this.manager.pointers,F=0;F<$.length;F++)$[F].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(y.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(P.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});T.register("InputPlugin",D,"input"),s.exports=D}),89639:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(35154),v={},h={};h.register=function(u,l,o,d,p){v[u]={plugin:l,mapping:o,settingsKey:d,configKey:p}},h.getPlugin=function(u){return v[u]},h.install=function(u){var l=u.scene.sys,o=l.settings.input,d=l.game.config;for(var p in v){var f=v[p].plugin,y=v[p].mapping,w=v[p].settingsKey,x=v[p].configKey;a(o,w,d[x])&&(u[y]=new f(u))}},h.remove=function(u){v.hasOwnProperty(u)&&delete v[u]},s.exports=h}),42515:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(31040),v=r(83419),h=r(20339),u=r(43855),l=r(47235),o=r(26099),d=r(25892),p=new v({initialize:function(y,w){this.manager=y,this.id=w,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new o,this.prevPosition=new o,this.midPoint=new o(-1,-1),this.velocity=new o,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=w===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(f){var y=f.getWorldPoint(this.x,this.y);return this.worldX=y.x,this.worldY=y.y,this},positionToCamera:function(f,y){return f.getWorldPoint(this.x,this.y,y)},updateMotion:function(){var f=this.position.x,y=this.position.y,w=this.midPoint.x,x=this.midPoint.y;if(!(f===w&&y===x)){var b=l(this.motionFactor,w,f),E=l(this.motionFactor,x,y);u(b,f,.1)&&(b=f),u(E,y,.1)&&(E=y),this.midPoint.set(b,E);var C=f-b,T=y-E;this.velocity.set(C,T),this.angle=a(b,E,f,y),this.distance=Math.sqrt(C*C+T*T)}},up:function(f){"buttons"in f&&(this.buttons=f.buttons),this.event=f,this.button=f.button,this.upElement=f.target,this.manager.transformPointer(this,f.pageX,f.pageY,!1),f.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=f.timeStamp,this.wasTouch=!1)},down:function(f){"buttons"in f&&(this.buttons=f.buttons),this.event=f,this.button=f.button,this.downElement=f.target,this.manager.transformPointer(this,f.pageX,f.pageY,!1),f.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),d.macOS&&f.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=f.timeStamp),this.wasTouch=!1},move:function(f){"buttons"in f&&(this.buttons=f.buttons),this.event=f,this.manager.transformPointer(this,f.pageX,f.pageY,!0),this.locked&&(this.movementX=f.movementX||f.mozMovementX||f.webkitMovementX||0,this.movementY=f.movementY||f.mozMovementY||f.webkitMovementY||0),this.moveTime=f.timeStamp,this.wasTouch=!1},wheel:function(f){"buttons"in f&&(this.buttons=f.buttons),this.event=f,this.manager.transformPointer(this,f.pageX,f.pageY,!1),this.deltaX=f.deltaX,this.deltaY=f.deltaY,this.deltaZ=f.deltaZ,this.wasTouch=!1},touchstart:function(f,y){f.pointerId&&(this.pointerId=f.pointerId),this.identifier=f.identifier,this.target=f.target,this.active=!0,this.buttons=1,this.event=y,this.downElement=f.target,this.manager.transformPointer(this,f.pageX,f.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=y.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(f,y){this.event=y,this.manager.transformPointer(this,f.pageX,f.pageY,!0),this.moveTime=y.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(f,y){this.buttons=0,this.event=y,this.upElement=f.target,this.manager.transformPointer(this,f.pageX,f.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=y.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(f,y){this.buttons=0,this.event=y,this.upElement=f.target,this.manager.transformPointer(this,f.pageX,f.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=y.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.buttons===0?this.button===0&&!this.isDown:this.button===0},rightButtonReleased:function(){return this.buttons===0?this.button===2&&!this.isDown:this.button===2},middleButtonReleased:function(){return this.buttons===0?this.button===1&&!this.isDown:this.button===1},backButtonReleased:function(){return this.buttons===0?this.button===3&&!this.isDown:this.button===3},forwardButtonReleased:function(){return this.buttons===0?this.button===4&&!this.isDown:this.button===4},getDistance:function(){return this.isDown?h(this.downX,this.downY,this.x,this.y):h(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?a(this.downX,this.downY,this.x,this.y):a(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(f,y){f===void 0&&(f=10),y===void 0&&(y=[]);for(var w=this.prevPosition.x,x=this.prevPosition.y,b=this.position.x,E=this.position.y,C=0;C<f;C++){var T=1/f*C;y[C]={x:l(T,w,b),y:l(T,x,E)}}return y},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(f){this.position.x=f}},y:{get:function(){return this.position.y},set:function(f){this.position.y=f}},time:{get:function(){return this.event?this.event.timeStamp:0}}});s.exports=p}),93301:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};s.exports=g}),7179:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="boot"}),85375:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="destroy"}),39843:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="dragend"}),23388:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="dragenter"}),16133:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="drag"}),27829:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="dragleave"}),53904:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="dragover"}),56058:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="dragstart"}),2642:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="drop"}),88171:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="gameobjectdown"}),36147:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="dragend"}),71692:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="dragenter"}),96149:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="drag"}),81285:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="dragleave"}),74048:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="dragover"}),21322:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="dragstart"}),49378:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="drop"}),86754:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="gameobjectmove"}),86433:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="gameobjectout"}),60709:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="gameobjectover"}),24081:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pointerdown"}),11172:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pointermove"}),18907:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pointerout"}),95579:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pointerover"}),35368:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pointerup"}),26972:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="wheel"}),47078:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="gameobjectup"}),73802:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="gameobjectwheel"}),56718:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="gameout"}),25936:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="gameover"}),27503:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="boot"}),50852:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="process"}),96438:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="update"}),59152:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pointerlockchange"}),47777:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pointerdown"}),27957:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pointerdownoutside"}),19444:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pointermove"}),54251:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pointerout"}),18667:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pointerover"}),27192:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pointerup"}),24652:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pointerupoutside"}),45132:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="wheel"}),44512:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="preupdate"}),15757:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="shutdown"}),41637:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="start"}),93802:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="update"}),8214:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={BOOT:r(7179),DESTROY:r(85375),DRAG_END:r(39843),DRAG_ENTER:r(23388),DRAG:r(16133),DRAG_LEAVE:r(27829),DRAG_OVER:r(53904),DRAG_START:r(56058),DROP:r(2642),GAME_OUT:r(56718),GAME_OVER:r(25936),GAMEOBJECT_DOWN:r(88171),GAMEOBJECT_DRAG_END:r(36147),GAMEOBJECT_DRAG_ENTER:r(71692),GAMEOBJECT_DRAG:r(96149),GAMEOBJECT_DRAG_LEAVE:r(81285),GAMEOBJECT_DRAG_OVER:r(74048),GAMEOBJECT_DRAG_START:r(21322),GAMEOBJECT_DROP:r(49378),GAMEOBJECT_MOVE:r(86754),GAMEOBJECT_OUT:r(86433),GAMEOBJECT_OVER:r(60709),GAMEOBJECT_POINTER_DOWN:r(24081),GAMEOBJECT_POINTER_MOVE:r(11172),GAMEOBJECT_POINTER_OUT:r(18907),GAMEOBJECT_POINTER_OVER:r(95579),GAMEOBJECT_POINTER_UP:r(35368),GAMEOBJECT_POINTER_WHEEL:r(26972),GAMEOBJECT_UP:r(47078),GAMEOBJECT_WHEEL:r(73802),MANAGER_BOOT:r(27503),MANAGER_PROCESS:r(50852),MANAGER_UPDATE:r(96438),POINTER_DOWN:r(47777),POINTER_DOWN_OUTSIDE:r(27957),POINTER_MOVE:r(19444),POINTER_OUT:r(54251),POINTER_OVER:r(18667),POINTER_UP:r(27192),POINTER_UP_OUTSIDE:r(24652),POINTER_WHEEL:r(45132),POINTERLOCK_CHANGE:r(59152),PRE_UPDATE:r(44512),SHUTDOWN:r(15757),START:r(41637),UPDATE:r(93802)}}),97421:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=new a({initialize:function(u,l){this.pad=u,this.events=u.events,this.index=l,this.value=0,this.threshold=.1},update:function(h){this.value=h},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});s.exports=v}),28884:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(92734),h=new a({initialize:function(l,o){this.pad=l,this.events=l.manager,this.index=o,this.value=0,this.threshold=1,this.pressed=!1},update:function(u){this.value=u;var l=this.pad,o=this.index;u>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(v.BUTTON_DOWN,l,this,u),this.pad.emit(v.GAMEPAD_BUTTON_DOWN,o,u,this)):this.pressed&&(this.pressed=!1,this.events.emit(v.BUTTON_UP,l,this,u),this.pad.emit(v.GAMEPAD_BUTTON_UP,o,u,this))},destroy:function(){this.pad=null,this.events=null}});s.exports=h}),99125:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(97421),v=r(28884),h=r(83419),u=r(50792),l=r(26099),o=new h({Extends:u,initialize:function(p,f){u.call(this),this.manager=p,this.pad=f,this.id=f.id,this.index=f.index;for(var y=[],w=0;w<f.buttons.length;w++)y.push(new v(this,w));this.buttons=y;var x=[];for(w=0;w<f.axes.length;w++)x.push(new a(this,w));this.axes=x,this.vibration=f.vibrationActuator;var b={value:0,pressed:!1};this._LCLeft=y[14]?y[14]:b,this._LCRight=y[15]?y[15]:b,this._LCTop=y[12]?y[12]:b,this._LCBottom=y[13]?y[13]:b,this._RCLeft=y[2]?y[2]:b,this._RCRight=y[1]?y[1]:b,this._RCTop=y[3]?y[3]:b,this._RCBottom=y[0]?y[0]:b,this._FBLeftTop=y[4]?y[4]:b,this._FBLeftBottom=y[6]?y[6]:b,this._FBRightTop=y[5]?y[5]:b,this._FBRightBottom=y[7]?y[7]:b;var E={value:0};this._HAxisLeft=x[0]?x[0]:E,this._VAxisLeft=x[1]?x[1]:E,this._HAxisRight=x[2]?x[2]:E,this._VAxisRight=x[3]?x[3]:E,this.leftStick=new l,this.rightStick=new l,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(d){return this.axes[d].getValue()},setAxisThreshold:function(d){for(var p=0;p<this.axes.length;p++)this.axes[p].threshold=d},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(d){return this.buttons[d].value},isButtonDown:function(d){return this.buttons[d].pressed},update:function(d){if(!(d.timestamp<this._created)){var p,f=this.buttons,y=d.buttons,w=f.length;for(p=0;p<w;p++)f[p].update(y[p].value);var x=this.axes,b=d.axes;for(w=x.length,p=0;p<w;p++)x[p].update(b[p]);w>=2&&(this.leftStick.set(x[0].getValue(),x[1].getValue()),w>=4&&this.rightStick.set(x[2].getValue(),x[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var d;for(d=0;d<this.buttons.length;d++)this.buttons[d].destroy();for(d=0;d<this.axes.length;d++)this.axes[d].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});s.exports=o}),56654:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(50792),h=r(92734),u=r(99125),l=r(35154),o=r(89639),d=r(8214),p=new a({Extends:v,initialize:function(y){v.call(this),this.scene=y.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=y,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,y.pluginEvents.once(d.BOOT,this.boot,this),y.pluginEvents.on(d.START,this.start,this)},boot:function(){var f=this.scene.sys.game,y=this.settings.input,w=f.config;this.enabled=l(y,"gamepad",w.inputGamepad)&&f.device.input.gamepads,this.target=l(y,"gamepad.target",w.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(d.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(d.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var f=this,y=this.target,w=function(x){x.defaultPrevented||!f.isActive()||(f.refreshPads(),f.queue.push(x))};this.onGamepadHandler=w,y.addEventListener("gamepadconnected",w,!1),y.addEventListener("gamepaddisconnected",w,!1),this.sceneInputPlugin.pluginEvents.on(d.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(d.UPDATE,this.update);for(var f=0;f<this.gamepads.length;f++)this.gamepads[f].removeAllListeners()},disconnectAll:function(){for(var f=0;f<this.gamepads.length;f++)this.gamepads[f].pad.connected=!1},refreshPads:function(){var f=navigator.getGamepads();if(!f)this.disconnectAll();else for(var y=this.gamepads,w=0;w<f.length;w++){var x=f[w];if(x){var b=x.id,E=x.index,C=y[E];if(C)C.id!==b?(C.destroy(),y[E]=new u(this,x)):C.update(x);else{var T=new u(this,x);y[E]=T,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=T):this._pad3=T:this._pad2=T:this._pad1=T}}}},getAll:function(){for(var f=[],y=this.gamepads,w=0;w<y.length;w++)y[w]&&f.push(y[w]);return f},getPad:function(f){for(var y=this.gamepads,w=0;w<y.length;w++)if(y[w]&&y[w].index===f)return y[w]},update:function(){if(this.enabled){this.refreshPads();var f=this.queue.length;if(f!==0)for(var y=this.queue.splice(0,f),w=0;w<f;w++){var x=y[w],b=this.getPad(x.gamepad.index);x.type==="gamepadconnected"?this.emit(h.CONNECTED,b,x):x.type==="gamepaddisconnected"&&this.emit(h.DISCONNECTED,b,x)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var f=0;f<this.gamepads.length;f++)this.gamepads[f]&&this.gamepads[f].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});o.register("GamepadPlugin",p,"gamepad","gamepad","inputGamepad"),s.exports=p}),89651:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}}),65294:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}}),90089:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}}),64894:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={DUALSHOCK_4:r(65294),SNES_USB:r(89651),XBOX_360:r(90089)}}),46008:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="down"}),7629:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="up"}),42206:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="connected"}),86544:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="disconnected"}),94784:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="down"}),14325:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="up"}),92734:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={BUTTON_DOWN:r(46008),BUTTON_UP:r(7629),CONNECTED:r(42206),DISCONNECTED:r(86544),GAMEPAD_BUTTON_DOWN:r(94784),GAMEPAD_BUTTON_UP:r(14325)}}),48646:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Axis:r(97421),Button:r(28884),Events:r(92734),Gamepad:r(99125),GamepadPlugin:r(56654),Configs:r(64894)}}),14350:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(93301),v=r(79291),h={CreatePixelPerfectHandler:r(84409),CreateInteractiveObject:r(74457),Events:r(8214),Gamepad:r(48646),InputManager:r(7003),InputPlugin:r(48205),InputPluginCache:r(89639),Keyboard:r(51442),Mouse:r(87078),Pointer:r(42515),Touch:r(95618)};h=v(!1,h,a),s.exports=h}),78970:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(72905),v=r(83419),h=r(8443),u=r(8214),l=r(46032),o=r(29747),d=new v({initialize:function(f){this.manager=f,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=o,this.onKeyUp=o,f.events.once(u.MANAGER_BOOT,this.boot,this)},boot:function(){var p=this.manager.config;this.enabled=p.inputKeyboard,this.target=p.inputKeyboardEventTarget,this.addCapture(p.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(h.POST_STEP,this.postUpdate,this)},startListeners:function(){var p=this;this.onKeyDown=function(y){if(!(y.defaultPrevented||!p.enabled||!p.manager)){p.queue.push(y),p.manager.events.emit(u.MANAGER_PROCESS);var w=y.altKey||y.ctrlKey||y.shiftKey||y.metaKey;p.preventDefault&&!w&&p.captures.indexOf(y.keyCode)>-1&&y.preventDefault()}},this.onKeyUp=function(y){if(!(y.defaultPrevented||!p.enabled||!p.manager)){p.queue.push(y),p.manager.events.emit(u.MANAGER_PROCESS);var w=y.altKey||y.ctrlKey||y.shiftKey||y.metaKey;p.preventDefault&&!w&&p.captures.indexOf(y.keyCode)>-1&&y.preventDefault()}};var f=this.target;f&&(f.addEventListener("keydown",this.onKeyDown,!1),f.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var p=this.target;p.removeEventListener("keydown",this.onKeyDown,!1),p.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(p){typeof p=="string"&&(p=p.split(",")),Array.isArray(p)||(p=[p]);for(var f=this.captures,y=0;y<p.length;y++){var w=p[y];typeof w=="string"&&(w=l[w.trim().toUpperCase()]),f.indexOf(w)===-1&&f.push(w)}this.preventDefault=f.length>0},removeCapture:function(p){typeof p=="string"&&(p=p.split(",")),Array.isArray(p)||(p=[p]);for(var f=this.captures,y=0;y<p.length;y++){var w=p[y];typeof w=="string"&&(w=l[w.toUpperCase()]),a(f,w)}this.preventDefault=f.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(h.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});s.exports=d}),28846:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(50792),h=r(95922),u=r(8443),l=r(35154),o=r(8214),d=r(89639),p=r(30472),f=r(46032),y=r(87960),w=r(74600),x=r(44594),b=r(56583),E=new a({Extends:v,initialize:function(T){v.call(this),this.game=T.systems.game,this.scene=T.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=T,this.manager=T.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,T.pluginEvents.once(o.BOOT,this.boot,this),T.pluginEvents.on(o.START,this.start,this)},boot:function(){var C=this.settings.input;this.enabled=l(C,"keyboard",!0);var T=l(C,"keyboard.capture",null);T&&this.addCaptures(T),this.sceneInputPlugin.pluginEvents.once(o.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(o.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(o.SHUTDOWN,this.shutdown,this),this.game.events.on(u.BLUR,this.resetKeys,this),this.scene.sys.events.on(x.PAUSE,this.resetKeys,this),this.scene.sys.events.on(x.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(C){return this.manager.addCapture(C),this},removeCapture:function(C){return this.manager.removeCapture(C),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:f.UP,down:f.DOWN,left:f.LEFT,right:f.RIGHT,space:f.SPACE,shift:f.SHIFT})},addKeys:function(C,T,S){T===void 0&&(T=!0),S===void 0&&(S=!1);var A={};if(typeof C=="string"){C=C.split(",");for(var P=0;P<C.length;P++){var R=C[P].trim();R&&(A[R]=this.addKey(R,T,S))}}else for(var L in C)A[L]=this.addKey(C[L],T,S);return A},addKey:function(C,T,S){T===void 0&&(T=!0),S===void 0&&(S=!1);var A=this.keys;if(C instanceof p){var P=A.indexOf(C);return P>-1?A[P]=C:A[C.keyCode]=C,T&&this.addCapture(C.keyCode),C.setEmitOnRepeat(S),C}return typeof C=="string"&&(C=f[C.toUpperCase()]),A[C]||(A[C]=new p(this,C),T&&this.addCapture(C),A[C].setEmitOnRepeat(S)),A[C]},removeKey:function(C,T,S){T===void 0&&(T=!1),S===void 0&&(S=!1);var A=this.keys,P;if(C instanceof p){var R=A.indexOf(C);R>-1&&(P=this.keys[R],this.keys[R]=void 0)}else typeof C=="string"&&(C=f[C.toUpperCase()]);return A[C]&&(P=A[C],A[C]=void 0),P&&(P.plugin=null,S&&this.removeCapture(P.keyCode),T&&P.destroy()),this},removeAllKeys:function(C,T){C===void 0&&(C=!1),T===void 0&&(T=!1);for(var S=this.keys,A=0;A<S.length;A++){var P=S[A];P&&(S[A]=void 0,T&&this.removeCapture(P.keyCode),C&&P.destroy())}return this},createCombo:function(C,T){return new y(this,C,T)},checkDown:function(C,T){if(T===void 0&&(T=0),this.enabled&&C.isDown){var S=b(this.time-C.timeDown,T);if(S>C._tick)return C._tick=S,!0}return!1},update:function(){var C=this.manager.queue,T=C.length;if(!(!this.isActive()||T===0))for(var S=this.keys,A=0;A<T;A++){var P=C[A],R=P.keyCode,L=S[R],D=!1;P.cancelled===void 0&&(P.cancelled=0,P.stopImmediatePropagation=function(){P.cancelled=1},P.stopPropagation=function(){P.cancelled=-1}),P.cancelled!==-1&&(R===this.prevCode&&P.timeStamp===this.prevTime&&P.type===this.prevType||(this.prevCode=R,this.prevTime=P.timeStamp,this.prevType=P.type,P.type==="keydown"?(L&&(D=L.isDown,L.onDown(P)),!P.cancelled&&(!L||!D)&&(w[R]&&this.emit(h.KEY_DOWN+w[R],P),P.cancelled||this.emit(h.ANY_KEY_DOWN,P))):(L&&L.onUp(P),P.cancelled||(w[R]&&this.emit(h.KEY_UP+w[R],P),P.cancelled||this.emit(h.ANY_KEY_UP,P))),P.cancelled===1&&(P.cancelled=0)))}},resetKeys:function(){for(var C=this.keys,T=0;T<C.length;T++)C[T]&&C[T].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(o.MANAGER_PROCESS,this.update,this),this.game.events.off(u.BLUR,this.resetKeys),this.scene.sys.events.off(x.PAUSE,this.resetKeys,this),this.scene.sys.events.off(x.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var C=this.keys,T=0;T<C.length;T++)C[T]&&C[T].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});d.register("KeyboardPlugin",E,"keyboard","keyboard","inputKeyboard"),s.exports=E}),66970:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return a.timeLastMatched=r.timeStamp,a.index++,a.index===a.size?!0:(a.current=a.keyCodes[a.index],!1)};s.exports=g}),87960:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(95922),h=r(95540),u=r(68769),l=r(92803),o=new a({initialize:function(p,f,y){if(y===void 0&&(y={}),f.length<2)return!1;this.manager=p,this.enabled=!0,this.keyCodes=[];for(var w=0;w<f.length;w++){var x=f[w];typeof x=="string"?this.keyCodes.push(x.toUpperCase().charCodeAt(0)):typeof x=="number"?this.keyCodes.push(x):x.hasOwnProperty("keyCode")&&this.keyCodes.push(x.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=h(y,"resetOnWrongKey",!0),this.maxKeyDelay=h(y,"maxKeyDelay",0),this.resetOnMatch=h(y,"resetOnMatch",!1),this.deleteOnMatch=h(y,"deleteOnMatch",!1);var b=this,E=function(C){if(!(b.matched||!b.enabled)){var T=u(C,b);T&&(b.manager.emit(v.COMBO_MATCH,b,C),b.resetOnMatch?l(b):b.deleteOnMatch&&b.destroy())}};this.onKeyDown=E,this.manager.on(v.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(v.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});s.exports=o}),68769:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(66970),v=function(h,u){if(u.matched)return!0;var l=!1,o=!1;if(h.keyCode===u.current)if(u.index>0&&u.maxKeyDelay>0){var d=u.timeLastMatched+u.maxKeyDelay;h.timeStamp<=d&&(o=!0,l=a(h,u))}else o=!0,l=a(h,u);return!o&&u.resetOnWrongKey&&(u.index=0,u.current=u.keyCodes[0]),l&&(u.timeLastMatched=h.timeStamp,u.matched=!0,u.timeMatched=h.timeStamp),l};s.exports=v}),92803:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r.current=r.keyCodes[0],r.index=0,r.timeLastMatched=0,r.matched=!1,r.timeMatched=0,r};s.exports=g}),92612:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="keydown"}),23345:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="keyup"}),21957:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="keycombomatch"}),44743:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="down"}),3771:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="keydown-"}),46358:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="keyup-"}),75674:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="up"}),95922:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={ANY_KEY_DOWN:r(92612),ANY_KEY_UP:r(23345),COMBO_MATCH:r(21957),DOWN:r(44743),KEY_DOWN:r(3771),KEY_UP:r(46358),UP:r(75674)}}),51442:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Events:r(95922),KeyboardManager:r(78970),KeyboardPlugin:r(28846),Key:r(30472),KeyCodes:r(46032),KeyCombo:r(87960),AdvanceKeyCombo:r(66970),ProcessKeyCombo:r(68769),ResetKeyCombo:r(92803),JustDown:r(90229),JustUp:r(38796),DownDuration:r(37015),UpDuration:r(41170)}}),37015:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){a===void 0&&(a=50);var v=r.plugin.game.loop.time-r.timeDown;return r.isDown&&v<a};s.exports=g}),90229:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r._justDown?(r._justDown=!1,!0):!1};s.exports=g}),38796:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r._justUp?(r._justUp=!1,!0):!1};s.exports=g}),30472:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(50792),h=r(95922),u=new a({Extends:v,initialize:function(o,d){v.call(this),this.plugin=o,this.keyCode=d,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(l){return this.emitOnRepeat=l,this},onDown:function(l){this.originalEvent=l,this.enabled&&(this.altKey=l.altKey,this.ctrlKey=l.ctrlKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.location=l.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(h.DOWN,this,l):(this.isDown=!0,this.isUp=!1,this.timeDown=l.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(h.DOWN,this,l)))},onUp:function(l){this.originalEvent=l,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=l.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(h.UP,this,l))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});s.exports=u}),46032:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};s.exports=g}),74600:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(46032),v={};for(var h in a)v[a[h]]=h;s.exports=v}),41170:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){a===void 0&&(a=50);var v=r.plugin.game.loop.time-r.timeUp;return r.isUp&&v<a};s.exports=g}),85098:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(89357),h=r(8214),u=r(29747),l=new a({initialize:function(d){this.manager=d,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=u,this.onMouseDown=u,this.onMouseUp=u,this.onMouseDownWindow=u,this.onMouseUpWindow=u,this.onMouseOver=u,this.onMouseOut=u,this.onMouseWheel=u,this.pointerLockChange=u,this.isTop=!0,d.events.once(h.MANAGER_BOOT,this.boot,this)},boot:function(){var o=this.manager.config;this.enabled=o.inputMouse,this.target=o.inputMouseEventTarget,this.passive=o.inputMousePassive,this.preventDefaultDown=o.inputMousePreventDefaultDown,this.preventDefaultUp=o.inputMousePreventDefaultUp,this.preventDefaultMove=o.inputMousePreventDefaultMove,this.preventDefaultWheel=o.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,o.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(o){return o.preventDefault(),!1}),this},requestPointerLock:function(){if(v.pointerLock){var o=this.target;o.requestPointerLock=o.requestPointerLock||o.mozRequestPointerLock||o.webkitRequestPointerLock,o.requestPointerLock()}},releasePointerLock:function(){v.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var o=this.target;if(o){var d=this,p=this.manager,f=p.canvas,y=window&&window.focus&&p.game.config.autoFocus;this.onMouseMove=function(x){!x.defaultPrevented&&d.enabled&&p&&p.enabled&&(p.onMouseMove(x),d.preventDefaultMove&&x.preventDefault())},this.onMouseDown=function(x){y&&window.focus(),!x.defaultPrevented&&d.enabled&&p&&p.enabled&&(p.onMouseDown(x),d.preventDefaultDown&&x.target===f&&x.preventDefault())},this.onMouseDownWindow=function(x){x.sourceCapabilities&&x.sourceCapabilities.firesTouchEvents||!x.defaultPrevented&&d.enabled&&p&&p.enabled&&x.target!==f&&p.onMouseDown(x)},this.onMouseUp=function(x){!x.defaultPrevented&&d.enabled&&p&&p.enabled&&(p.onMouseUp(x),d.preventDefaultUp&&x.target===f&&x.preventDefault())},this.onMouseUpWindow=function(x){x.sourceCapabilities&&x.sourceCapabilities.firesTouchEvents||!x.defaultPrevented&&d.enabled&&p&&p.enabled&&x.target!==f&&p.onMouseUp(x)},this.onMouseOver=function(x){!x.defaultPrevented&&d.enabled&&p&&p.enabled&&p.setCanvasOver(x)},this.onMouseOut=function(x){!x.defaultPrevented&&d.enabled&&p&&p.enabled&&p.setCanvasOut(x)},this.onMouseWheel=function(x){!x.defaultPrevented&&d.enabled&&p&&p.enabled&&p.onMouseWheel(x),d.preventDefaultWheel&&x.target===f&&x.preventDefault()};var w={passive:!0};if(o.addEventListener("mousemove",this.onMouseMove),o.addEventListener("mousedown",this.onMouseDown),o.addEventListener("mouseup",this.onMouseUp),o.addEventListener("mouseover",this.onMouseOver,w),o.addEventListener("mouseout",this.onMouseOut,w),this.preventDefaultWheel?o.addEventListener("wheel",this.onMouseWheel,{passive:!1}):o.addEventListener("wheel",this.onMouseWheel,w),window&&p.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,w),window.top.addEventListener("mouseup",this.onMouseUpWindow,w)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,w),window.addEventListener("mouseup",this.onMouseUpWindow,w),this.isTop=!1}v.pointerLock&&(this.pointerLockChange=function(x){var b=d.target;d.locked=document.pointerLockElement===b||document.mozPointerLockElement===b||document.webkitPointerLockElement===b,p.onPointerLockChange(x)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var o=this.target;o.removeEventListener("mousemove",this.onMouseMove),o.removeEventListener("mousedown",this.onMouseDown),o.removeEventListener("mouseup",this.onMouseUp),o.removeEventListener("mouseover",this.onMouseOver),o.removeEventListener("mouseout",this.onMouseOut),window&&(o=this.isTop?window.top:window,o.removeEventListener("mousedown",this.onMouseDownWindow),o.removeEventListener("mouseup",this.onMouseUpWindow)),v.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});s.exports=l}),87078:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={MouseManager:r(85098)}}),36210:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(8214),h=r(29747),u=new a({initialize:function(o){this.manager=o,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=h,this.onTouchStartWindow=h,this.onTouchMove=h,this.onTouchEnd=h,this.onTouchEndWindow=h,this.onTouchCancel=h,this.onTouchCancelWindow=h,this.isTop=!0,o.events.once(v.MANAGER_BOOT,this.boot,this)},boot:function(){var l=this.manager.config;this.enabled=l.inputTouch,this.target=l.inputTouchEventTarget,this.capture=l.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,l.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(l){return l.preventDefault(),!1}),this},startListeners:function(){var l=this.target;if(l){var o=this,d=this.manager,p=d.canvas,f=window&&window.focus&&d.game.config.autoFocus;this.onTouchMove=function(b){!b.defaultPrevented&&o.enabled&&d&&d.enabled&&(d.onTouchMove(b),o.capture&&b.cancelable&&b.preventDefault())},this.onTouchStart=function(b){f&&window.focus(),!b.defaultPrevented&&o.enabled&&d&&d.enabled&&(d.onTouchStart(b),o.capture&&b.cancelable&&b.target===p&&b.preventDefault())},this.onTouchStartWindow=function(b){!b.defaultPrevented&&o.enabled&&d&&d.enabled&&b.target!==p&&d.onTouchStart(b)},this.onTouchEnd=function(b){!b.defaultPrevented&&o.enabled&&d&&d.enabled&&(d.onTouchEnd(b),o.capture&&b.cancelable&&b.target===p&&b.preventDefault())},this.onTouchEndWindow=function(b){!b.defaultPrevented&&o.enabled&&d&&d.enabled&&b.target!==p&&d.onTouchEnd(b)},this.onTouchCancel=function(b){!b.defaultPrevented&&o.enabled&&d&&d.enabled&&(d.onTouchCancel(b),o.capture&&b.preventDefault())},this.onTouchCancelWindow=function(b){!b.defaultPrevented&&o.enabled&&d&&d.enabled&&d.onTouchCancel(b)};var y=this.capture,w={passive:!0},x={passive:!1};if(l.addEventListener("touchstart",this.onTouchStart,y?x:w),l.addEventListener("touchmove",this.onTouchMove,y?x:w),l.addEventListener("touchend",this.onTouchEnd,y?x:w),l.addEventListener("touchcancel",this.onTouchCancel,y?x:w),window&&d.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,x),window.top.addEventListener("touchend",this.onTouchEndWindow,x),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,x)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,x),window.addEventListener("touchend",this.onTouchEndWindow,x),window.addEventListener("touchcancel",this.onTouchCancelWindow,x),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var l=this.target;l.removeEventListener("touchstart",this.onTouchStart),l.removeEventListener("touchmove",this.onTouchMove),l.removeEventListener("touchend",this.onTouchEnd),l.removeEventListener("touchcancel",this.onTouchCancel),window&&(l=this.isTop?window.top:window,l.removeEventListener("touchstart",this.onTouchStartWindow),l.removeEventListener("touchend",this.onTouchEndWindow),l.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});s.exports=u}),95618:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={TouchManager:r(36210)}}),41299:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(23906),h=r(54899),u=r(95540),l=r(98356),o=r(3374),d=r(84376),p=r(92638),f=new a({initialize:function(w,x){if(this.loader=w,this.cache=u(x,"cache",!1),this.type=u(x,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=u(x,"key",!1);var b=this.key;if(w.prefix&&w.prefix!==""&&(this.key=w.prefix+b),!this.key)throw new Error("Invalid File key: "+this.key);var E=u(x,"url");E===void 0?E=w.path+b+"."+u(x,"extension",""):typeof E=="string"&&!E.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(E=w.path+E),this.url=E,this.src="",this.xhrSettings=p(u(x,"responseType",void 0)),u(x,"xhrSettings",!1)&&(this.xhrSettings=o(this.xhrSettings,u(x,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?v.FILE_POPULATED:v.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=u(x,"config",{}),this.multiFile,this.linkFile,this.base64=typeof E=="string"&&E.indexOf("data:")===0,this.retryAttempts=u(x,"maxRetries",w.maxRetries)},setLink:function(y){this.linkFile=y,y.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){if(this.state===v.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=v.FILE_LOADING,this.src=l(this,this.loader.baseURL),!this.src)throw new Error("URL Error in File: "+this.key+" from: "+this.url);this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=d(this,this.loader.xhr)}},onLoad:function(y,w){var x=y.responseURL&&this.loader.localSchemes.some(function(C){return y.responseURL.indexOf(C)===0}),b=x&&w.target.status===0,E=!(w.target&&w.target.status!==200)||b;y.readyState===4&&y.status>=400&&y.status<=599&&(E=!1),this.state=v.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,E)},onBase64Load:function(y){this.xhrLoader=y,this.state=v.FILE_LOADED,this.percentComplete=1,this.loader.emit(h.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},onProgress:function(y){y.lengthComputable&&(this.bytesLoaded=y.loaded,this.bytesTotal=y.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(h.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=v.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=v.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=v.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(y){if(this.state!==v.FILE_PENDING_DESTROY){y===void 0&&(y=this.data);var w=this.key,x=this.type;this.loader.emit(h.FILE_COMPLETE,w,x,y),this.loader.emit(h.FILE_KEY_COMPLETE+x+"-"+w,w,x,y),this.loader.flagForRemoval(this),this.state=v.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});f.createObjectURL=function(y,w,x){if(typeof URL=="function")y.src=URL.createObjectURL(w);else{var b=new FileReader;b.onload=function(){y.removeAttribute("crossOrigin"),y.src="data:"+(w.type||x)+";base64,"+b.result.split(",")[1]},b.onerror=y.onerror,b.readAsDataURL(w)}},f.revokeObjectURL=function(y){typeof URL=="function"&&URL.revokeObjectURL(y.src)},s.exports=f}),74099:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={},r={install:function(a){for(var v in g)a[v]=g[v]},register:function(a,v){g[a]=v},destroy:function(){g={}}};s.exports=r}),98356:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return r.url?r.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?r.url:a+r.url:!1};s.exports=g}),74261:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(23906),h=r(35072),u=r(50792),l=r(54899),o=r(74099),d=r(95540),p=r(35154),f=r(41212),y=r(37277),w=r(44594),x=r(92638),b=new a({Extends:u,initialize:function(C){u.call(this);var T=C.sys.game.config,S=C.sys.settings.loader;this.scene=C,this.systems=C.sys,this.cacheManager=C.sys.cache,this.textureManager=C.sys.textures,this.sceneManager=C.sys.game.scene,o.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(d(S,"baseURL",T.loaderBaseURL)),this.setPath(d(S,"path",T.loaderPath)),this.setPrefix(d(S,"prefix",T.loaderPrefix)),this.maxParallelDownloads=d(S,"maxParallelDownloads",T.loaderMaxParallelDownloads),this.xhr=x(d(S,"responseType",T.loaderResponseType),d(S,"async",T.loaderAsync),d(S,"user",T.loaderUser),d(S,"password",T.loaderPassword),d(S,"timeout",T.loaderTimeout),d(S,"withCredentials",T.loaderWithCredentials)),this.crossOrigin=d(S,"crossOrigin",T.loaderCrossOrigin),this.imageLoadType=d(S,"imageLoadType",T.loaderImageLoadType),this.localSchemes=d(S,"localScheme",T.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new h,this.inflight=new h,this.queue=new h,this._deleteQueue=new h,this.totalFailed=0,this.totalComplete=0,this.state=v.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=d(S,"maxRetries",T.loaderMaxRetries),C.sys.events.once(w.BOOT,this.boot,this),C.sys.events.on(w.START,this.pluginStart,this)},boot:function(){this.systems.events.once(w.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(w.SHUTDOWN,this.shutdown,this)},setBaseURL:function(E){return E===void 0&&(E=""),E!==""&&E.substr(-1)!=="/"&&(E=E.concat("/")),this.baseURL=E,this},setPath:function(E){return E===void 0&&(E=""),E!==""&&E.substr(-1)!=="/"&&(E=E.concat("/")),this.path=E,this},setPrefix:function(E){return E===void 0&&(E=""),this.prefix=E,this},setCORS:function(E){return this.crossOrigin=E,this},addFile:function(E){Array.isArray(E)||(E=[E]);for(var C=0;C<E.length;C++){var T=E[C];this.keyExists(T)||(this.list.set(T),this.emit(l.ADD,T.key,T.type,this,T),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(E){var C=E.hasCacheConflict();return C||this.list.iterate(function(T){if(T.type===E.type&&T.key===E.key)return C=!0,!1}),!C&&this.isLoading()&&(this.inflight.iterate(function(T){if(T.type===E.type&&T.key===E.key)return C=!0,!1}),this.queue.iterate(function(T){if(T.type===E.type&&T.key===E.key)return C=!0,!1})),C},addPack:function(E,C){if(typeof C=="string"){var T=p(E,C);T&&(E={packKey:T})}var S=0,A=this.baseURL,P=this.path,R=this.prefix;for(var L in E)if(Object.prototype.hasOwnProperty.call(E,L)){var D=E[L],$=d(D,"baseURL",A),F=d(D,"path",P),N=d(D,"prefix",R),k=d(D,"files",null),j=d(D,"defaultType","void");if(Array.isArray(k)){this.setBaseURL($),this.setPath(F),this.setPrefix(N);for(var W=0;W<k.length;W++){var G=k[W],K=G.hasOwnProperty("type")?G.type:j;this[K]&&(this[K](G),S++)}}}return this.setBaseURL(A),this.setPath(P),this.setPrefix(R),S>0},removePack:function(E,C){var T=this.systems.anims,S=this.cacheManager,A=this.textureManager,P={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"},R;if(f(E))R=E;else if(R=S.json.get(E),!R){console.warn("Asset Pack not found in JSON cache:",E);return}C&&(R={_:R[C]});for(var L in R){var D=R[L],$=d(D,"prefix",""),F=d(D,"files"),N=d(D,"defaultType");if(Array.isArray(F))for(var k=0;k<F.length;k++){var j=F[k],W=j.hasOwnProperty("type")?j.type:N;if(!W){console.warn("No type:",j);continue}var G=$+j.key;if(W==="animation"&&T.remove(G),!((W==="aseprite"||W==="atlas"||W==="atlasXML"||W==="htmlTexture"||W==="image"||W==="multiatlas"||W==="spritesheet"||W==="svg"||W==="texture"||W==="unityAtlas")&&(A.remove(G),!P[W]))){if(W==="pack"){this.removePack(G,j.dataKey);continue}if(W==="spine"){var K=S.custom.spine.get(G);if(!K)continue;var z=K.prefix===void 0?"":K.prefix;S.custom.spine.remove(G);var X=S.custom.spineTextures.get(G);if(!X)continue;S.custom.spineTextures.remove(G);for(var U=0;U<X.pages.length;U++){var Z=X.pages[U],V=z+Z.name,J=G+":"+V;A.exists(J)?A.remove(J):A.remove(V)}}var Q=P[W];if(Q!==null){if(!Q){console.warn("Unknown type:",W);continue}var ee=S[Q];ee.remove(G)}}}}},isLoading:function(){return this.state===v.LOADER_LOADING||this.state===v.LOADER_PROCESSING},isReady:function(){return this.state===v.LOADER_IDLE||this.state===v.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(l.START,this),this.list.size===0?this.loadComplete():(this.state=v.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(w.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(l.PROGRESS,this.progress)},update:function(){this.state===v.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(E){if((E.state===v.FILE_POPULATED||E.state===v.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(E),this.list.delete(E),E.crossOrigin||(E.crossOrigin=this.crossOrigin),E.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(E,C){this.inflight&&(this.inflight.delete(E),this.updateProgress(),C?(this.totalComplete++,this.queue.set(E),this.emit(l.FILE_LOAD,E),E.onProcess()):(this.totalFailed++,this._deleteQueue.set(E),this.emit(l.FILE_LOAD_ERROR,E),this.fileProcessComplete(E)))},fileProcessComplete:function(E){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(E.state===v.FILE_ERRORED?E.multiFile&&E.multiFile.onFileFailed(E):E.state===v.FILE_COMPLETE&&(E.multiFile?E.multiFile.isReadyToProcess()&&(E.multiFile.addToCache(),E.multiFile.pendingDestroy()):(E.addToCache(),E.pendingDestroy())),this.queue.delete(E),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(l.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=v.LOADER_COMPLETE,this.systems.events.off(w.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(l.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(E){this._deleteQueue.set(E)},saveJSON:function(E,C){return this.save(JSON.stringify(E),C)},save:function(E,C,T){C===void 0&&(C="file.json"),T===void 0&&(T="application/json");var S=new Blob([E],{type:T}),A=URL.createObjectURL(S),P=document.createElement("a");return P.download=C,P.textContent="Download "+C,P.href=A,P.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var E=this.systems.game.config,C=this.systems.settings.loader;this.setBaseURL(d(C,"baseURL",E.loaderBaseURL)),this.setPath(d(C,"path",E.loaderPath)),this.setPrefix(d(C,"prefix",E.loaderPrefix)),this.state=v.LOADER_IDLE},shutdown:function(){this.reset(),this.state=v.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(w.UPDATE,this.update,this),this.systems.events.off(w.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=v.LOADER_DESTROYED,this.systems.events.off(w.UPDATE,this.update,this),this.systems.events.off(w.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});y.register("Loader",b,"load"),s.exports=b}),3374:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(79291),v=r(92638),h=function(u,l){var o=u===void 0?v():a({},u);if(l)for(var d in l)l[d]!==void 0&&(o[d]=l[d]);return o};s.exports=h}),26430:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(23906),h=r(54899),u=new a({initialize:function(o,d,p,f){var y=[];f.forEach(function(b){b&&y.push(b)}),this.loader=o,this.type=d,this.key=p;var w=this.key;o.prefix&&o.prefix!==""&&(this.key=o.prefix+w),this.multiKeyIndex=o.multiKeyIndex++,this.files=y,this.state=v.FILE_PENDING,this.complete=!1,this.pending=y.length,this.failed=0,this.config={},this.baseURL=o.baseURL,this.path=o.path,this.prefix=o.prefix;for(var x=0;x<y.length;x++)y[x].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(l){return this.files.push(l),l.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(l){var o=this.files.indexOf(l);o!==-1&&this.pending--},onFileFailed:function(l){var o=this.files.indexOf(l);o!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,l.type,l.key))},pendingDestroy:function(){if(this.state!==v.FILE_PENDING_DESTROY){var l=this.key,o=this.type;this.loader.emit(h.FILE_COMPLETE,l,o),this.loader.emit(h.FILE_KEY_COMPLETE+o+"-"+l,l,o),this.loader.flagForRemoval(this);for(var d=0;d<this.files.length;d++)this.files[d].pendingDestroy();this.state=v.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});s.exports=u}),84376:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(3374),v=function(h,u){var l=a(u,h.xhrSettings);if(h.base64){var o=h.url.split(";base64,").pop()||h.url.split(",").pop(),d;h.xhrSettings.responseType==="arraybuffer"?d={response:Uint8Array.from(atob(o),function(y){return y.charCodeAt(0)}).buffer}:d={responseText:atob(o)},h.onBase64Load(d);return}var p=new XMLHttpRequest;if(p.open("GET",h.src,l.async,l.user,l.password),p.responseType=h.xhrSettings.responseType,p.timeout=l.timeout,l.headers)for(var f in l.headers)p.setRequestHeader(f,l.headers[f]);return l.header&&l.headerValue&&p.setRequestHeader(l.header,l.headerValue),l.requestedWith&&p.setRequestHeader("X-Requested-With",l.requestedWith),l.overrideMimeType&&p.overrideMimeType(l.overrideMimeType),l.withCredentials&&(p.withCredentials=!0),p.onload=h.onLoad.bind(h,p),p.onerror=h.onError.bind(h,p),p.onprogress=h.onProgress.bind(h),p.ontimeout=h.onError.bind(h,p),p.send(),p};s.exports=v}),92638:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h,u,l){return r===void 0&&(r=""),a===void 0&&(a=!0),v===void 0&&(v=""),h===void 0&&(h=""),u===void 0&&(u=0),l===void 0&&(l=!1),{responseType:r,async:a,user:v,password:h,timeout:u,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:l}};s.exports=g}),23906:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};s.exports=g}),42155:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="addfile"}),38991:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="complete"}),27540:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="filecomplete"}),87464:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="filecomplete-"}),94486:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="loaderror"}),13035:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="load"}),38144:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="fileprogress"}),97520:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="postprocess"}),85595:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="progress"}),55680:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="start"}),54899:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={ADD:r(42155),COMPLETE:r(38991),FILE_COMPLETE:r(27540),FILE_KEY_COMPLETE:r(87464),FILE_LOAD_ERROR:r(94486),FILE_LOAD:r(13035),FILE_PROGRESS:r(38144),POST_PROCESS:r(97520),PROGRESS:r(85595),START:r(55680)}}),14135:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(74099),h=r(518),u=r(54899),l=new a({Extends:h,initialize:function(d,p,f,y,w){h.call(this,d,p,f,y,w),this.type="animationJSON"},onProcess:function(){this.loader.once(u.POST_PROCESS,this.onLoadComplete,this),h.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});v.register("animation",function(o,d,p,f){if(Array.isArray(o))for(var y=0;y<o.length;y++)this.addFile(new l(this,o[y]));else this.addFile(new l(this,o,d,f,p));return this}),s.exports=l}),76272:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(74099),h=r(95540),u=r(19550),l=r(41212),o=r(518),d=r(26430),p=new a({Extends:d,initialize:function(y,w,x,b,E,C){var T,S;if(l(w)){var A=w;w=h(A,"key"),T=new u(y,{key:w,url:h(A,"textureURL"),extension:h(A,"textureExtension","png"),normalMap:h(A,"normalMap"),xhrSettings:h(A,"textureXhrSettings")}),S=new o(y,{key:w,url:h(A,"atlasURL"),extension:h(A,"atlasExtension","json"),xhrSettings:h(A,"atlasXhrSettings")})}else T=new u(y,w,x,E),S=new o(y,w,b,C);T.linkFile?d.call(this,y,"atlasjson",w,[T,S,T.linkFile]):d.call(this,y,"atlasjson",w,[T,S])},addToCache:function(){if(this.isReadyToProcess()){var f=this.files[0],y=this.files[1],w=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(f.key,f.data,y.data,w),y.addToCache(),this.complete=!0}}});v.register("aseprite",function(f,y,w,x,b){var E;if(Array.isArray(f))for(var C=0;C<f.length;C++)E=new p(this,f[C]),this.addFile(E.files);else E=new p(this,f,y,w,x,b),this.addFile(E.files);return this}),s.exports=p}),38734:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(74099),h=r(95540),u=r(19550),l=r(41212),o=r(518),d=r(26430),p=new a({Extends:d,initialize:function(y,w,x,b,E,C){var T,S;if(l(w)){var A=w;w=h(A,"key"),T=new u(y,{key:w,url:h(A,"textureURL"),extension:h(A,"textureExtension","png"),normalMap:h(A,"normalMap"),xhrSettings:h(A,"textureXhrSettings")}),S=new o(y,{key:w,url:h(A,"atlasURL"),extension:h(A,"atlasExtension","json"),xhrSettings:h(A,"atlasXhrSettings")})}else T=new u(y,w,x,E),S=new o(y,w,b,C);T.linkFile?d.call(this,y,"atlasjson",w,[T,S,T.linkFile]):d.call(this,y,"atlasjson",w,[T,S])},addToCache:function(){if(this.isReadyToProcess()){var f=this.files[0],y=this.files[1],w=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(f.key,f.data,y.data,w),this.complete=!0}}});v.register("atlas",function(f,y,w,x,b){var E;if(Array.isArray(f))for(var C=0;C<f.length;C++)E=new p(this,f[C]),this.addFile(E.files);else E=new p(this,f,y,w,x,b),this.addFile(E.files);return this}),s.exports=p}),74599:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(74099),h=r(95540),u=r(19550),l=r(41212),o=r(26430),d=r(57318),p=new a({Extends:o,initialize:function(y,w,x,b,E,C){var T,S;if(l(w)){var A=w;w=h(A,"key"),T=new u(y,{key:w,url:h(A,"textureURL"),extension:h(A,"textureExtension","png"),normalMap:h(A,"normalMap"),xhrSettings:h(A,"textureXhrSettings")}),S=new d(y,{key:w,url:h(A,"atlasURL"),extension:h(A,"atlasExtension","xml"),xhrSettings:h(A,"atlasXhrSettings")})}else T=new u(y,w,x,E),S=new d(y,w,b,C);T.linkFile?o.call(this,y,"atlasxml",w,[T,S,T.linkFile]):o.call(this,y,"atlasxml",w,[T,S])},addToCache:function(){if(this.isReadyToProcess()){var f=this.files[0],y=this.files[1],w=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(f.key,f.data,y.data,w),this.complete=!0}}});v.register("atlasXML",function(f,y,w,x,b){var E;if(Array.isArray(f))for(var C=0;C<f.length;C++)E=new p(this,f[C]),this.addFile(E.files);else E=new p(this,f,y,w,x,b),this.addFile(E.files);return this}),s.exports=p}),21097:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(23906),h=r(41299),u=r(74099),l=r(95540),o=r(89749),d=r(41212),p=new a({Extends:h,initialize:function(y,w,x,b,E){if(d(w)){var C=w;w=l(C,"key"),b=l(C,"xhrSettings"),E=l(C,"context",E)}var T={type:"audio",cache:y.cacheManager.audio,extension:x.type,responseType:"arraybuffer",key:w,url:x.url,xhrSettings:b,config:{context:E}};h.call(this,y,T)},onProcess:function(){this.state=v.FILE_PROCESSING;var f=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(y){f.data=y,f.onProcessComplete()},function(y){console.error("Error decoding audio: "+f.key+" - ",y?y.message:null),f.onProcessError()}),this.config.context=null}});p.create=function(f,y,w,x,b){var E=f.systems.game,C=E.config.audio,T=E.device.audio;d(y)&&(w=l(y,"url",[]),x=l(y,"config",{}));var S=p.getAudioURL(E,w);return S?T.webAudio&&!C.disableWebAudio?new p(f,y,S,b,E.sound.context):new o(f,y,S,x):(console.warn('No audio URLs for "%s" can play on this device',y),null)},p.getAudioURL=function(f,y){Array.isArray(y)||(y=[y]);for(var w=0;w<y.length;w++){var x=l(y[w],"url",y[w]);if(x.indexOf("blob:")===0||x.indexOf("data:")===0)return{url:x,type:""};var b=x.match(/\.([a-zA-Z0-9]+)($|\?)/);if(b=l(y[w],"type",b?b[1]:"").toLowerCase(),f.device.audio[b])return{url:x,type:b}}return null},u.register("audio",function(f,y,w,x){var b=this.systems.game,E=b.config.audio,C=b.device.audio;if(E.noAudio||!C.webAudio&&!C.audioData)return this;var T;if(Array.isArray(f))for(var S=0;S<f.length;S++)T=p.create(this,f[S]),T&&this.addFile(T);else T=p.create(this,f,y,w,x),T&&this.addFile(T);return this}),s.exports=p}),89524:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(21097),v=r(83419),h=r(74099),u=r(95540),l=r(41212),o=r(518),d=r(26430),p=new v({Extends:d,initialize:function(y,w,x,b,E,C,T){if(l(w)){var S=w;w=u(S,"key"),x=u(S,"jsonURL"),b=u(S,"audioURL"),E=u(S,"audioConfig"),C=u(S,"audioXhrSettings"),T=u(S,"jsonXhrSettings")}var A;if(!b)A=new o(y,w,x,T),d.call(this,y,"audiosprite",w,[A]),this.config.resourceLoad=!0,this.config.audioConfig=E,this.config.audioXhrSettings=C;else{var P=a.create(y,w,b,E,C);P&&(A=new o(y,w,x,T),d.call(this,y,"audiosprite",w,[P,A]),this.config.resourceLoad=!1)}},onFileComplete:function(f){var y=this.files.indexOf(f);if(y!==-1&&(this.pending--,this.config.resourceLoad&&f.type==="json"&&f.data.hasOwnProperty("resources"))){var w=f.data.resources,x=u(this.config,"audioConfig"),b=u(this.config,"audioXhrSettings"),E=a.create(this.loader,f.key,w,x,b);E&&(this.addToMultiFile(E),this.loader.addFile(E))}},addToCache:function(){if(this.isReadyToProcess()){var f=this.files[0],y=this.files[1];f.addToCache(),y.addToCache(),this.complete=!0}}});h.register("audioSprite",function(f,y,w,x,b,E){var C=this.systems.game,T=C.config.audio,S=C.device.audio;if(T&&T.noAudio||!S.webAudio&&!S.audioData)return this;var A;if(Array.isArray(f))for(var P=0;P<f.length;P++)A=new p(this,f[P]),A.files&&this.addFile(A.files);else A=new p(this,f,y,w,x,b,E),A.files&&this.addFile(A.files);return this})}),85722:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(23906),h=r(41299),u=r(74099),l=r(95540),o=r(41212),d=new a({Extends:h,initialize:function(f,y,w,x,b){var E="bin";if(o(y)){var C=y;y=l(C,"key"),w=l(C,"url"),x=l(C,"xhrSettings"),E=l(C,"extension",E),b=l(C,"dataType",b)}var T={type:"binary",cache:f.cacheManager.binary,extension:E,responseType:"arraybuffer",key:y,url:w,xhrSettings:x,config:{dataType:b}};h.call(this,f,T)},onProcess:function(){this.state=v.FILE_PROCESSING;var p=this.config.dataType;this.data=p?new p(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});u.register("binary",function(p,f,y,w){if(Array.isArray(p))for(var x=0;x<p.length;x++)this.addFile(new d(this,p[x]));else this.addFile(new d(this,p,f,w,y));return this}),s.exports=d}),97025:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(74099),h=r(95540),u=r(19550),l=r(41212),o=r(26430),d=r(21859),p=r(57318),f=new a({Extends:o,initialize:function(w,x,b,E,C,T){var S,A;if(l(x)){var P=x;x=h(P,"key"),S=new u(w,{key:x,url:h(P,"textureURL"),extension:h(P,"textureExtension","png"),normalMap:h(P,"normalMap"),xhrSettings:h(P,"textureXhrSettings")}),A=new p(w,{key:x,url:h(P,"fontDataURL"),extension:h(P,"fontDataExtension","xml"),xhrSettings:h(P,"fontDataXhrSettings")})}else S=new u(w,x,b,C),A=new p(w,x,E,T);S.linkFile?o.call(this,w,"bitmapfont",x,[S,A,S.linkFile]):o.call(this,w,"bitmapfont",x,[S,A])},addToCache:function(){if(this.isReadyToProcess()){var y=this.files[0],w=this.files[1];y.addToCache();var x=y.cache.get(y.key),b=d(w.data,y.cache.getFrame(y.key),0,0,x);this.loader.cacheManager.bitmapFont.add(y.key,{data:b,texture:y.key,frame:null}),this.complete=!0}}});v.register("bitmapFont",function(y,w,x,b,E){var C;if(Array.isArray(y))for(var T=0;T<y.length;T++)C=new f(this,y[T]),this.addFile(C.files);else C=new f(this,y,w,x,b,E),this.addFile(C.files);return this}),s.exports=f}),16024:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(23906),h=r(41299),u=r(74099),l=r(95540),o=r(41212),d=new a({Extends:h,initialize:function(f,y,w,x){var b="css";if(o(y)){var E=y;y=l(E,"key"),w=l(E,"url"),x=l(E,"xhrSettings"),b=l(E,"extension",b)}var C={type:"script",cache:!1,extension:b,responseType:"text",key:y,url:w,xhrSettings:x};h.call(this,f,C)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});u.register("css",function(p,f,y){if(Array.isArray(p))for(var w=0;w<p.length;w++)this.addFile(new d(this,p[w]));else this.addFile(new d(this,p,f,y));return this}),s.exports=d}),69559:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(38734),v=r(85722),h=r(83419),u=r(74099),l=r(95540),o=r(19550),d=r(41212),p=r(518),f=r(31403),y=r(46975),w=r(59327),x=r(26430),b=r(82038),E=r(55222),C=new h({Extends:x,initialize:function(S,A,P,R){if(P.multiAtlasURL){var L=new p(S,{key:A,url:P.multiAtlasURL,xhrSettings:R,config:P});x.call(this,S,"texture",A,[L])}else{var D=P.textureURL.substr(P.textureURL.length-3);P.type||(P.type=D.toLowerCase()==="ktx"?"KTX":"PVR");var $=new v(S,{key:A,url:P.textureURL,extension:D,xhrSettings:R,config:P});if(P.atlasURL){var F=new p(S,{key:A,url:P.atlasURL,xhrSettings:R,config:P});x.call(this,S,"texture",A,[$,F])}else x.call(this,S,"texture",A,[$])}this.config=P},onFileComplete:function(T){var S=this.files.indexOf(T);if(S!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(T.type==="json"&&T.data.hasOwnProperty("textures")){var A=T.data.textures,P=this.config,R=this.loader,L=R.baseURL,D=R.path,$=R.prefix,F=l(P,"multiBaseURL",this.baseURL),N=l(P,"multiPath",this.path),k=l(P,"prefix",this.prefix),j=l(P,"textureXhrSettings");F&&R.setBaseURL(F),N&&R.setPath(N),k&&R.setPrefix(k);for(var W=0;W<A.length;W++){var G=A[W].image,K="CMA"+this.multiKeyIndex+"_"+G,z=new v(R,K,G,j);if(this.addToMultiFile(z),R.addFile(z),A[W].normalMap){var X=new v(R,K,A[W].normalMap,j);X.type="normalMap",z.setLink(X),this.addToMultiFile(X),R.addFile(X)}}R.setBaseURL(L),R.setPath(D),R.setPrefix($)}}},addToCache:function(){function T(F){console.warn('Compressed Texture Invalid: "'+L.key+'". '+F)}if(this.isReadyToProcess()){var S=this.config;if(S.multiAtlasURL)this.addMultiToCache();else{var A=this.loader.systems.renderer,P=this.loader.textureManager,R,L=this.files[0],D=this.files[1];if(S.type==="PVR"?R=b(L.data):S.type==="KTX"&&(R=f(L.data),R||T("KTX file contains unsupported format.")),R&&!E(R)&&(T("Texture dimensions failed verification. Check the texture format specifications for "+S.format+" 0x"+R.internalFormat.toString(16)+"."),R=null),R&&!A.supportsCompressedTexture(S.format,R.internalFormat)&&(T("Texture format "+S.format+" with internal format "+R.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),R=null),R){R.format=A.getCompressedTextureName(S.format,R.internalFormat);var $=D&&D.data?D.data:null;P.addCompressedTexture(L.key,R,$)}}this.complete=!0}},addMultiToCache:function(){for(var T=this.config,S=this.files[0],A=[],P=[],R=[],L=this.loader.systems.renderer,D=this.loader.textureManager,$,F=1;F<this.files.length;F++){var N=this.files[F];if(N.type!=="normalMap")for(var k=N.key.indexOf("_"),j=N.key.substr(k+1),W=N.data,G=0;G<S.data.textures.length;G++){var K=S.data.textures[G];if(K.image===j){T.type==="PVR"?$=b(W):T.type==="KTX"&&($=f(W)),$&&L.supportsCompressedTexture(T.format,$.internalFormat)&&($.format=L.getCompressedTextureName(T.format,$.internalFormat),P.push($),A.push(K),N.linkFile&&R.push(N.linkFile.data));break}}}R.length===0&&(R=void 0),D.addAtlasJSONArray(this.key,P,A,R),this.complete=!0}});u.register("texture",function(T,S,A){var P=this.systems.renderer,R=function(D,$,F,N){var k={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(d($)){var j=$;$=l(j,"key"),F=l(j,"url"),N=l(j,"xhrSettings")}var W=!1;for(var G in F)if(P.supportsCompressedTexture(G)){var K=F[G];typeof K=="string"?k.textureURL=K:k=y(K,k),k.format=G.toUpperCase(),W=!0;break}if(!W)console.warn("No supported compressed texture format or IMG fallback",$);else if(k.format==="IMG"){var z,X;k.multiAtlasURL?(X=new w(D,$,k.multiAtlasURL,k.multiPath,k.multiBaseURL,N),z=X.files):k.atlasURL?(X=new a(D,$,k.textureURL,k.atlasURL,N),z=X.files):z=new o(D,$,k.textureURL,N),D.addFile(z)}else{var U=new C(D,$,k,N);D.addFile(U.files)}};if(Array.isArray(T))for(var L=0;L<T.length;L++)R(this,T[L]);else R(this,T,S,A);return this}),s.exports=C}),87674:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(23906),h=r(41299),u=r(74099),l=r(95540),o=r(98356),d=r(41212),p=new a({Extends:h,initialize:function(y,w,x,b,E,C){var T="ttf";if(d(w)){var S=w;w=l(S,"key"),x=l(S,"url"),b=l(S,"format","truetype"),E=l(S,"descriptors",null),C=l(S,"xhrSettings"),T=l(S,"extension",T)}else b===void 0&&(b="truetype");var A={type:"font",cache:!1,extension:T,responseType:"text",key:w,url:x,xhrSettings:C};h.call(this,y,A),this.data={format:b,descriptors:E},this.state=v.FILE_POPULATED},onProcess:function(){this.state=v.FILE_PROCESSING,this.src=o(this,this.loader.baseURL);var f,y=this.key,w="url("+this.src+') format("'+this.data.format+'")';this.data.descriptors?f=new FontFace(y,w,this.data.descriptors):f=new FontFace(y,w);var x=this;f.load().then(function(){document.fonts.add(f),document.body.classList.add("fonts-loaded"),x.onProcessComplete()}).catch(function(){console.warn("Font failed to load",w),x.onProcessComplete()})}});u.register("font",function(f,y,w,x,b){if(Array.isArray(f))for(var E=0;E<f.length;E++)this.addFile(new p(this,f[E]));else this.addFile(new p(this,f,y,w,x,b));return this}),s.exports=p}),47931:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(23906),h=r(41299),u=r(74099),l=r(95540),o=r(41212),d=r(73894),p=new a({Extends:h,initialize:function(y,w,x,b,E){var C="glsl";if(o(w)){var T=w;w=l(T,"key"),x=l(T,"url"),b=l(T,"shaderType","fragment"),E=l(T,"xhrSettings"),C=l(T,"extension",C)}else b===void 0&&(b="fragment");var S={type:"glsl",cache:y.cacheManager.shader,extension:C,responseType:"text",key:w,url:x,config:{shaderType:b},xhrSettings:E};h.call(this,y,S)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var f=this.data.split(`
`),y=this.extractBlock(f,0);if(y)for(;y;){var w=this.getShaderName(y.header),x=this.getShaderType(y.header),b=this.getShaderUniforms(y.header),E=y.shader;if(this.cache.has(w)){var C=this.cache.get(w);x==="fragment"?C.fragmentSrc=E:C.vertexSrc=E,C.uniforms||(C.uniforms=b)}else x==="fragment"?this.cache.add(w,new d(w,E,"",b)):this.cache.add(w,new d(w,"",E,b));y=this.extractBlock(f,y.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new d(this.key,this.data)):this.cache.add(this.key,new d(this.key,"",this.data))},getShaderName:function(f){for(var y=0;y<f.length;y++){var w=f[y].trim();if(w.substring(0,5)==="name:")return w.substring(5).trim()}return this.key},getShaderType:function(f){for(var y=0;y<f.length;y++){var w=f[y].trim();if(w.substring(0,5)==="type:")return w.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(f){for(var y={},w=0;w<f.length;w++){var x=f[w].trim();if(x.substring(0,8)==="uniform."){var b=x.indexOf(":");if(b){var E=x.substring(8,b);try{y[E]=JSON.parse(x.substring(b+1))}catch{console.warn("Invalid uniform JSON: "+E)}}}}return y},extractBlock:function(f,y){for(var w=-1,x=-1,b=-1,E=!1,C=!1,T=[],S=[],A=y;A<f.length;A++){var P=f[A].trim();if(P==="---")if(w===-1)w=A,E=!0;else if(E)x=A,E=!1,C=!0;else{C=!1;break}else E?T.push(P):C&&(S.push(P),b=A)}return!E&&x!==-1?{header:T,shader:S.join(`
`),offset:b}:null}});u.register("glsl",function(f,y,w,x){if(Array.isArray(f))for(var b=0;b<f.length;b++)this.addFile(new p(this,f[b]));else this.addFile(new p(this,f,y,w,x));return this}),s.exports=p}),89749:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(54899),h=r(41299),u=r(95540),l=r(98356),o=r(41212),d=new a({Extends:h,initialize:function(f,y,w,x){if(o(y)){var b=y;y=u(b,"key"),x=u(b,"config",x)}var E={type:"audio",cache:f.cacheManager.audio,extension:w.type,key:y,url:w.url,config:x};h.call(this,f,E),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var p=0;p<this.data.length;p++){var f=this.data[p];f.oncanplaythrough=null,f.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(p){var f=p.target;f.oncanplaythrough=null,f.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(v.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var p=this.config&&this.config.instances||1;this.filesTotal=p,this.filesLoaded=0,this.percentComplete=0;for(var f=0;f<p;f++){var y=new Audio;y.dataset||(y.dataset={}),y.dataset.name=this.key+("0"+f).slice(-2),y.dataset.used="false",this.locked?y.dataset.locked="true":(y.dataset.locked="false",y.preload="auto",y.oncanplaythrough=this.onProgress.bind(this),y.onerror=this.onError.bind(this)),this.data.push(y)}for(f=0;f<this.data.length;f++)y=this.data[f],y.src=l(this,this.loader.baseURL),this.locked||y.load();this.locked&&setTimeout(this.onLoad.bind(this))}});s.exports=d}),88470:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(23906),h=r(41299),u=r(74099),l=r(95540),o=r(41212),d=new a({Extends:h,initialize:function(f,y,w,x){var b="html";if(o(y)){var E=y;y=l(E,"key"),w=l(E,"url"),x=l(E,"xhrSettings"),b=l(E,"extension",b)}var C={type:"text",cache:f.cacheManager.html,extension:b,responseType:"text",key:y,url:w,xhrSettings:x};h.call(this,f,C)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});u.register("html",function(p,f,y){if(Array.isArray(p))for(var w=0;w<p.length;w++)this.addFile(new d(this,p[w]));else this.addFile(new d(this,p,f,y));return this}),s.exports=d}),14643:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(23906),h=r(41299),u=r(74099),l=r(95540),o=r(41212),d=new a({Extends:h,initialize:function(f,y,w,x,b,E){x===void 0&&(x=512),b===void 0&&(b=512);var C="html";if(o(y)){var T=y;y=l(T,"key"),w=l(T,"url"),E=l(T,"xhrSettings"),C=l(T,"extension",C),x=l(T,"width",x),b=l(T,"height",b)}var S={type:"html",cache:f.textureManager,extension:C,responseType:"text",key:y,url:w,xhrSettings:E,config:{width:x,height:b}};h.call(this,f,S)},onProcess:function(){this.state=v.FILE_PROCESSING;var p=this.config.width,f=this.config.height,y=[];y.push('<svg width="'+p+'px" height="'+f+'px" viewBox="0 0 '+p+" "+f+'" xmlns="http://www.w3.org/2000/svg">'),y.push('<foreignObject width="100%" height="100%">'),y.push('<body xmlns="http://www.w3.org/1999/xhtml">'),y.push(this.xhrLoader.responseText),y.push("</body>"),y.push("</foreignObject>"),y.push("</svg>");var w=[y.join(`
`)],x=this;try{var b=new window.Blob(w,{type:"image/svg+xml;charset=utf-8"})}catch{x.state=v.FILE_ERRORED,x.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){h.revokeObjectURL(x.data),x.onProcessComplete()},this.data.onerror=function(){h.revokeObjectURL(x.data),x.onProcessError()},h.createObjectURL(this.data,b,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});u.register("htmlTexture",function(p,f,y,w,x){if(Array.isArray(p))for(var b=0;b<p.length;b++)this.addFile(new d(this,p[b]));else this.addFile(new d(this,p,f,y,w,x));return this}),s.exports=d}),19550:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(23906),h=r(41299),u=r(74099),l=r(95540),o=r(41212),d=r(98356),p=new a({Extends:h,initialize:function f(y,w,x,b,E){var C="png",T;if(o(w)){var S=w;w=l(S,"key"),x=l(S,"url"),T=l(S,"normalMap"),b=l(S,"xhrSettings"),C=l(S,"extension",C),E=l(S,"frameConfig")}Array.isArray(x)&&(T=x[1],x=x[0]);var A={type:"image",cache:y.textureManager,extension:C,responseType:"blob",key:w,url:x,xhrSettings:b,config:E};if(h.call(this,y,A),T){var P=new f(y,this.key,T,b,E);P.type="normalMap",this.setLink(P),y.addFile(P)}this.useImageElementLoad=y.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var f=this;this.data.onload=function(){h.revokeObjectURL(f.data),f.onProcessComplete()},this.data.onerror=function(){h.revokeObjectURL(f.data),f.onProcessError()},h.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var f=this.state;this.state=v.FILE_PROCESSING,f===v.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=v.FILE_LOADING,this.src=d(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var f=this;this.data.onload=function(){f.state=v.FILE_LOADED,f.loader.nextFile(f,!0)},this.data.onerror=function(){f.loader.nextFile(f,!1)},this.data.src=this.src},addToCache:function(){var f=this.linkFile;f?f.state>=v.FILE_COMPLETE&&(f.type==="spritesheet"?f.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,f.data,this.data):this.cache.addImage(this.key,this.data,f.data)):this.cache.addImage(this.key,this.data)}});u.register("image",function(f,y,w){if(Array.isArray(f))for(var x=0;x<f.length;x++)this.addFile(new p(this,f[x]));else this.addFile(new p(this,f,y,w));return this}),s.exports=p}),518:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(23906),h=r(41299),u=r(74099),l=r(95540),o=r(35154),d=r(41212),p=new a({Extends:h,initialize:function(y,w,x,b,E){var C="json";if(d(w)){var T=w;w=l(T,"key"),x=l(T,"url"),b=l(T,"xhrSettings"),C=l(T,"extension",C),E=l(T,"dataKey",E)}var S={type:"json",cache:y.cacheManager.json,extension:C,responseType:"text",key:w,url:x,xhrSettings:b,config:E};h.call(this,y,S),d(x)&&(E?this.data=o(x,E):this.data=x,this.state=v.FILE_POPULATED)},onProcess:function(){if(this.state!==v.FILE_POPULATED){this.state=v.FILE_PROCESSING;try{var f=JSON.parse(this.xhrLoader.responseText)}catch(w){throw this.onProcessError(),w}var y=this.config;typeof y=="string"?this.data=o(f,y,f):this.data=f}this.onProcessComplete()}});u.register("json",function(f,y,w,x){if(Array.isArray(f))for(var b=0;b<f.length;b++)this.addFile(new p(this,f[b]));else this.addFile(new p(this,f,y,x,w));return this}),s.exports=p}),59327:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(74099),h=r(95540),u=r(19550),l=r(41212),o=r(518),d=r(26430),p=new a({Extends:d,initialize:function(y,w,x,b,E,C,T){if(l(w)){var S=w;w=h(S,"key"),h(S,"url",!1)?x=h(S,"url"):x=h(S,"atlasURL"),C=h(S,"xhrSettings"),b=h(S,"path"),E=h(S,"baseURL"),T=h(S,"textureXhrSettings")}var A=new o(y,w,x,C);d.call(this,y,"multiatlas",w,[A]),this.config.path=b,this.config.baseURL=E,this.config.textureXhrSettings=T},onFileComplete:function(f){var y=this.files.indexOf(f);if(y!==-1&&(this.pending--,f.type==="json"&&f.data.hasOwnProperty("textures"))){var w=f.data.textures,x=this.config,b=this.loader,E=b.baseURL,C=b.path,T=b.prefix,S=h(x,"baseURL",this.baseURL),A=h(x,"path",this.path),P=h(x,"prefix",this.prefix),R=h(x,"textureXhrSettings");b.setBaseURL(S),b.setPath(A),b.setPrefix(P);for(var L=0;L<w.length;L++){var D=w[L].image,$="MA"+this.multiKeyIndex+"_"+D,F=new u(b,$,D,R);if(this.addToMultiFile(F),b.addFile(F),w[L].normalMap){var N=new u(b,$,w[L].normalMap,R);N.type="normalMap",F.setLink(N),this.addToMultiFile(N),b.addFile(N)}}b.setBaseURL(E),b.setPath(C),b.setPrefix(T)}},addToCache:function(){if(this.isReadyToProcess()){for(var f=this.files[0],y=[],w=[],x=[],b=1;b<this.files.length;b++){var E=this.files[b];if(E.type!=="normalMap")for(var C=E.key.indexOf("_"),T=E.key.substr(C+1),S=E.data,A=0;A<f.data.textures.length;A++){var P=f.data.textures[A];if(P.image===T){w.push(S),y.push(P),E.linkFile&&x.push(E.linkFile.data);break}}}x.length===0&&(x=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,w,y,x),this.complete=!0}}});v.register("multiatlas",function(f,y,w,x,b){var E;if(Array.isArray(f))for(var C=0;C<f.length;C++)E=new p(this,f[C]),this.addFile(E.files);else E=new p(this,f,y,w,x,b),this.addFile(E.files);return this}),s.exports=p}),99297:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(74099),h=r(95540),u=r(41212),l=r(26430),o=r(34328),d=new a({Extends:l,initialize:function(f,y,w,x){var b="js",E=[];if(u(y)){var C=y;y=h(C,"key"),w=h(C,"url"),x=h(C,"xhrSettings"),b=h(C,"extension",b)}Array.isArray(w)||(w=[w]);for(var T=0;T<w.length;T++){var S=new o(f,{key:y+"_"+T.toString(),url:w[T],extension:b,xhrSettings:x});S.onProcess=function(){this.onProcessComplete()},E.push(S)}l.call(this,f,"scripts",y,E)},addToCache:function(){if(this.isReadyToProcess()){for(var p=0;p<this.files.length;p++){var f=this.files[p];f.data=document.createElement("script"),f.data.language="javascript",f.data.type="text/javascript",f.data.defer=!1,f.data.text=f.xhrLoader.responseText,document.head.appendChild(f.data)}this.complete=!0}}});v.register("scripts",function(p,f,y){var w;if(Array.isArray(p))for(var x=0;x<p.length;x++)w=new d(this,p[x]),this.addFile(w.files);else w=new d(this,p,f,y),this.addFile(w.files);return this}),s.exports=d}),41846:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(74099),h=r(95540),u=r(41212),l=r(26430),o=r(85048),d=r(61485),p=r(78776),f=new a({Extends:l,initialize:function(w,x,b,E,C,T){var S,A,P=w.cacheManager.obj;if(u(x)){var R=x;x=h(R,"key"),S=new p(w,{key:x,type:"obj",cache:P,url:h(R,"url"),extension:h(R,"extension","obj"),xhrSettings:h(R,"xhrSettings"),config:{flipUV:h(R,"flipUV",C)}}),E=h(R,"matURL"),E&&(A=new p(w,{key:x,type:"mat",cache:P,url:E,extension:h(R,"matExtension","mat"),xhrSettings:h(R,"xhrSettings")}))}else S=new p(w,{key:x,url:b,type:"obj",cache:P,extension:"obj",xhrSettings:T,config:{flipUV:C}}),E&&(A=new p(w,{key:x,url:E,type:"mat",cache:P,extension:"mat",xhrSettings:T}));l.call(this,w,"obj",x,[S,A])},addToCache:function(){if(this.isReadyToProcess()){var y=this.files[0],w=this.files[1],x=o(y.data,y.config.flipUV);w&&(x.materials=d(w.data)),y.cache.add(y.key,x),this.complete=!0}}});v.register("obj",function(y,w,x,b,E){var C;if(Array.isArray(y))for(var T=0;T<y.length;T++)C=new f(this,y[T]),this.addFile(C.files);else C=new f(this,y,w,x,b,E),this.addFile(C.files);return this}),s.exports=f}),58610:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(23906),h=r(74099),u=r(518),l=new a({Extends:u,initialize:function(d,p,f,y,w){u.call(this,d,p,f,y,w),this.type="packfile"},onProcess:function(){if(this.state!==v.FILE_POPULATED&&(this.state=v.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var o={};o[this.config]=this.data,this.data=o}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});h.register("pack",function(o,d,p,f){if(Array.isArray(o))for(var y=0;y<o.length;y++)this.addFile(new l(this,o[y]));else this.addFile(new l(this,o,d,f,p));return this}),s.exports=l}),48988:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(23906),h=r(41299),u=r(74099),l=r(95540),o=r(41212),d=new a({Extends:h,initialize:function(f,y,w,x,b,E){var C="js";if(o(y)){var T=y;y=l(T,"key"),w=l(T,"url"),E=l(T,"xhrSettings"),C=l(T,"extension",C),x=l(T,"start"),b=l(T,"mapping")}var S={type:"plugin",cache:!1,extension:C,responseType:"text",key:y,url:w,xhrSettings:E,config:{start:x,mapping:b}};h.call(this,f,S),typeof w=="function"&&(this.data=w,this.state=v.FILE_POPULATED)},onProcess:function(){var p=this.loader.systems.plugins,f=this.config,y=l(f,"start",!1),w=l(f,"mapping",null);if(this.state===v.FILE_POPULATED)p.install(this.key,this.data,y,w);else{this.state=v.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var x=p.install(this.key,window[this.key],y,w);(y||w)&&(this.loader.systems[w]=x,this.loader.scene[w]=x)}this.onProcessComplete()}});u.register("plugin",function(p,f,y,w,x){if(Array.isArray(p))for(var b=0;b<p.length;b++)this.addFile(new d(this,p[b]));else this.addFile(new d(this,p,f,y,w,x));return this}),s.exports=d}),67397:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(23906),h=r(41299),u=r(74099),l=r(95540),o=r(41212),d=new a({Extends:h,initialize:function(f,y,w,x,b){var E="svg";if(o(y)){var C=y;y=l(C,"key"),w=l(C,"url"),x=l(C,"svgConfig",{}),b=l(C,"xhrSettings"),E=l(C,"extension",E)}var T={type:"svg",cache:f.textureManager,extension:E,responseType:"text",key:y,url:w,xhrSettings:b,config:{width:l(x,"width"),height:l(x,"height"),scale:l(x,"scale")}};h.call(this,f,T)},onProcess:function(){this.state=v.FILE_PROCESSING;var p=this.xhrLoader.responseText,f=[p],y=this.config.width,w=this.config.height,x=this.config.scale;e:if(y&&w||x){var b=null,E=new DOMParser;b=E.parseFromString(p,"text/xml");var C=b.getElementsByTagName("svg")[0],T=C.hasAttribute("viewBox"),S=parseFloat(C.getAttribute("width")),A=parseFloat(C.getAttribute("height"));if(!T&&S&&A)C.setAttribute("viewBox","0  0 "+S+" "+A);else if(T&&!S&&!A){var P=C.getAttribute("viewBox").split(/\s+|,/);S=P[2],A=P[3]}if(x)if(S&&A)y=S*x,w=A*x;else break e;C.setAttribute("width",y.toString()+"px"),C.setAttribute("height",w.toString()+"px"),f=[new XMLSerializer().serializeToString(C)]}try{var R=new window.Blob(f,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var L=this,D=!1;this.data.onload=function(){D||h.revokeObjectURL(L.data),L.onProcessComplete()},this.data.onerror=function(){D?L.onProcessError():(D=!0,h.revokeObjectURL(L.data),L.data.src="data:image/svg+xml,"+encodeURIComponent(f.join("")))},h.createObjectURL(this.data,R,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});u.register("svg",function(p,f,y,w){if(Array.isArray(p))for(var x=0;x<p.length;x++)this.addFile(new d(this,p[x]));else this.addFile(new d(this,p,f,y,w));return this}),s.exports=d}),88423:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(23906),h=r(41299),u=r(74099),l=r(95540),o=r(41212),d=new a({Extends:h,initialize:function(f,y,w,x){var b="js";if(o(y)){var E=y;y=l(E,"key"),w=l(E,"url"),x=l(E,"xhrSettings"),b=l(E,"extension",b)}var C={type:"text",extension:b,responseType:"text",key:y,url:w,xhrSettings:x};h.call(this,f,C)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var p=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),f=eval;this.loader.sceneManager.add(this.key,f(p)),this.complete=!0}});u.register("sceneFile",function(p,f,y){if(Array.isArray(p))for(var w=0;w<p.length;w++)this.addFile(new d(this,p[w]));else this.addFile(new d(this,p,f,y));return this}),s.exports=d}),56812:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(23906),h=r(41299),u=r(74099),l=r(95540),o=r(41212),d=new a({Extends:h,initialize:function(f,y,w,x,b,E){var C="js";if(o(y)){var T=y;y=l(T,"key"),w=l(T,"url"),E=l(T,"xhrSettings"),C=l(T,"extension",C),x=l(T,"systemKey"),b=l(T,"sceneKey")}var S={type:"scenePlugin",cache:!1,extension:C,responseType:"text",key:y,url:w,xhrSettings:E,config:{systemKey:x,sceneKey:b}};h.call(this,f,S),typeof w=="function"&&(this.data=w,this.state=v.FILE_POPULATED)},onProcess:function(){var p=this.loader.systems.plugins,f=this.config,y=this.key,w=l(f,"systemKey",y),x=l(f,"sceneKey",y);this.state===v.FILE_POPULATED?p.installScenePlugin(w,this.data,x,this.loader.scene,!0):(this.state=v.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),p.installScenePlugin(w,window[this.key],x,this.loader.scene,!0)),this.onProcessComplete()}});u.register("scenePlugin",function(p,f,y,w,x){if(Array.isArray(p))for(var b=0;b<p.length;b++)this.addFile(new d(this,p[b]));else this.addFile(new d(this,p,f,y,w,x));return this}),s.exports=d}),34328:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(23906),h=r(41299),u=r(74099),l=r(95540),o=r(41212),d=new a({Extends:h,initialize:function(f,y,w,x,b){var E="js";if(o(y)){var C=y;y=l(C,"key"),w=l(C,"url"),x=l(C,"type","script"),b=l(C,"xhrSettings"),E=l(C,"extension",E)}else x===void 0&&(x="script");var T={type:x,cache:!1,extension:E,responseType:"text",key:y,url:w,xhrSettings:b};h.call(this,f,T)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});u.register("script",function(p,f,y,w){if(Array.isArray(p))for(var x=0;x<p.length;x++)this.addFile(new d(this,p[x]));else this.addFile(new d(this,p,f,y,w));return this}),s.exports=d}),85035:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(23906),h=r(74099),u=r(19550),l=new a({Extends:u,initialize:function(d,p,f,y,w){u.call(this,d,p,f,w,y),this.type="spritesheet"},addToCache:function(){var o=this.linkFile;o?o.state>=v.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,o.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,o.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});h.register("spritesheet",function(o,d,p,f){if(Array.isArray(o))for(var y=0;y<o.length;y++)this.addFile(new l(this,o[y]));else this.addFile(new l(this,o,d,p,f));return this}),s.exports=l}),78776:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(23906),h=r(41299),u=r(74099),l=r(95540),o=r(41212),d=new a({Extends:h,initialize:function(f,y,w,x){var b="text",E="txt",C=f.cacheManager.text;if(o(y)){var T=y;y=l(T,"key"),w=l(T,"url"),x=l(T,"xhrSettings"),E=l(T,"extension",E),b=l(T,"type",b),C=l(T,"cache",C)}var S={type:b,cache:C,extension:E,responseType:"text",key:y,url:w,xhrSettings:x};h.call(this,f,S)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});u.register("text",function(p,f,y){if(Array.isArray(p))for(var w=0;w<p.length;w++)this.addFile(new d(this,p[w]));else this.addFile(new d(this,p,f,y));return this}),s.exports=d}),49477:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(23906),h=r(41299),u=r(74099),l=r(95540),o=r(41212),d=r(80341),p=new a({Extends:h,initialize:function(y,w,x,b){var E="csv";if(o(w)){var C=w;w=l(C,"key"),x=l(C,"url"),b=l(C,"xhrSettings"),E=l(C,"extension",E)}var T={type:"tilemapCSV",cache:y.cacheManager.tilemap,extension:E,responseType:"text",key:w,url:x,xhrSettings:b};h.call(this,y,T),this.tilemapFormat=d.CSV},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var f={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,f)}});u.register("tilemapCSV",function(f,y,w){if(Array.isArray(f))for(var x=0;x<f.length;x++)this.addFile(new p(this,f[x]));else this.addFile(new p(this,f,y,w));return this}),s.exports=p}),40807:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(74099),h=r(518),u=r(80341),l=new a({Extends:h,initialize:function(d,p,f,y){h.call(this,d,p,f,y),this.type="tilemapJSON",this.cache=d.cacheManager.tilemap},addToCache:function(){var o={format:u.WELTMEISTER,data:this.data};this.cache.add(this.key,o)}});v.register("tilemapImpact",function(o,d,p){if(Array.isArray(o))for(var f=0;f<o.length;f++)this.addFile(new l(this,o[f]));else this.addFile(new l(this,o,d,p));return this}),s.exports=l}),56775:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(74099),h=r(518),u=r(80341),l=new a({Extends:h,initialize:function(d,p,f,y){h.call(this,d,p,f,y),this.type="tilemapJSON",this.cache=d.cacheManager.tilemap},addToCache:function(){var o={format:u.TILED_JSON,data:this.data};this.cache.add(this.key,o)}});v.register("tilemapTiledJSON",function(o,d,p){if(Array.isArray(o))for(var f=0;f<o.length;f++)this.addFile(new l(this,o[f]));else this.addFile(new l(this,o,d,p));return this}),s.exports=l}),25771:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(74099),h=r(95540),u=r(19550),l=r(41212),o=r(26430),d=r(78776),p=new a({Extends:o,initialize:function(y,w,x,b,E,C){var T,S;if(l(w)){var A=w;w=h(A,"key"),T=new u(y,{key:w,url:h(A,"textureURL"),extension:h(A,"textureExtension","png"),normalMap:h(A,"normalMap"),xhrSettings:h(A,"textureXhrSettings")}),S=new d(y,{key:w,url:h(A,"atlasURL"),extension:h(A,"atlasExtension","txt"),xhrSettings:h(A,"atlasXhrSettings")})}else T=new u(y,w,x,E),S=new d(y,w,b,C);T.linkFile?o.call(this,y,"unityatlas",w,[T,S,T.linkFile]):o.call(this,y,"unityatlas",w,[T,S])},addToCache:function(){if(this.isReadyToProcess()){var f=this.files[0],y=this.files[1],w=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(f.key,f.data,y.data,w),this.complete=!0}}});v.register("unityAtlas",function(f,y,w,x,b){var E;if(Array.isArray(f))for(var C=0;C<f.length;C++)E=new p(this,f[C]),this.addFile(E.files);else E=new p(this,f,y,w,x,b),this.addFile(E.files);return this}),s.exports=p}),33720:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(23906),h=r(41299),u=r(74099),l=r(98356),o=r(95540),d=r(41212),p=new a({Extends:h,initialize:function(y,w,x,b){if(b===void 0&&(b=!1),d(w)){var E=w;w=o(E,"key"),x=o(E,"url",[]),b=o(E,"noAudio",!1)}var C=y.systems.game.device.video.getVideoURL(x);C||console.warn("VideoFile: No supported format for "+w);var T={type:"video",cache:y.cacheManager.video,extension:C.type,key:w,url:C.url,config:{noAudio:b}};h.call(this,y,T)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=l(this,this.loader.baseURL),this.state=v.FILE_LOADED,this.loader.nextFile(this,!0)}});u.register("video",function(f,y,w){if(Array.isArray(f))for(var x=0;x<f.length;x++)this.addFile(new p(this,f[x]));else this.addFile(new p(this,f,y,w));return this}),s.exports=p}),57318:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(23906),h=r(41299),u=r(74099),l=r(95540),o=r(41212),d=r(56836),p=new a({Extends:h,initialize:function(y,w,x,b){var E="xml";if(o(w)){var C=w;w=l(C,"key"),x=l(C,"url"),b=l(C,"xhrSettings"),E=l(C,"extension",E)}var T={type:"xml",cache:y.cacheManager.xml,extension:E,responseType:"text",key:w,url:x,xhrSettings:b};h.call(this,y,T)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=d(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});u.register("xml",function(f,y,w){if(Array.isArray(f))for(var x=0;x<f.length;x++)this.addFile(new p(this,f[x]));else this.addFile(new p(this,f,y,w));return this}),s.exports=p}),64589:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={AnimationJSONFile:r(14135),AsepriteFile:r(76272),AtlasJSONFile:r(38734),AtlasXMLFile:r(74599),AudioFile:r(21097),AudioSpriteFile:r(89524),BinaryFile:r(85722),BitmapFontFile:r(97025),CompressedTextureFile:r(69559),CSSFile:r(16024),FontFile:r(87674),GLSLFile:r(47931),HTML5AudioFile:r(89749),HTMLFile:r(88470),HTMLTextureFile:r(14643),ImageFile:r(19550),JSONFile:r(518),MultiAtlasFile:r(59327),MultiScriptFile:r(99297),OBJFile:r(41846),PackFile:r(58610),PluginFile:r(48988),SceneFile:r(88423),ScenePluginFile:r(56812),ScriptFile:r(34328),SpriteSheetFile:r(85035),SVGFile:r(67397),TextFile:r(78776),TilemapCSVFile:r(49477),TilemapImpactFile:r(40807),TilemapJSONFile:r(56775),UnityAtlasFile:r(25771),VideoFile:r(33720),XMLFile:r(57318)}}),57777:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(23906),v=r(79291),h={Events:r(54899),FileTypes:r(64589),File:r(41299),FileTypesManager:r(74099),GetURL:r(98356),LoaderPlugin:r(74261),MergeXHRSettings:r(3374),MultiFile:r(26430),XHRLoader:r(84376),XHRSettings:r(92638)};h=v(!1,h,a),s.exports=h}),53307:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){for(var a=0,v=0;v<r.length;v++)a+=+r[v];return a/r.length};s.exports=g}),85710:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(6411),v=function(h,u){return a(h)/a(u)/a(h-u)};s.exports=v}),30976:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return Math.floor(Math.random()*(a-r+1)+r)};s.exports=g}),87842:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h,u){var l=(h-a)*.5,o=(u-v)*.5,d=r*r,p=r*d;return(2*v-2*h+l+o)*p+(-3*v+3*h-2*l-o)*d+l*r+v};s.exports=g}),26302:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){a===void 0&&(a=0),v===void 0&&(v=10);var h=Math.pow(v,-a);return Math.ceil(r*h)/h};s.exports=g}),45319:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){return Math.max(a,Math.min(v,r))};s.exports=g}),39506:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(36383),v=function(h){return h*a.DEG_TO_RAD};s.exports=v}),61241:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return Math.abs(r-a)};s.exports=g}),38857:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(45319),v=r(83419),h=r(37867),u=r(29747),l=new h,o=new v({initialize:function d(p,f,y,w){p===void 0&&(p=0),f===void 0&&(f=0),y===void 0&&(y=0),w===void 0&&(w=d.DefaultOrder),this._x=p,this._y=f,this._z=y,this._order=w,this.onChangeCallback=u},x:{get:function(){return this._x},set:function(d){this._x=d,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(d){this._y=d,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(d){this._z=d,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(d){this._order=d,this.onChangeCallback(this)}},set:function(d,p,f,y){return y===void 0&&(y=this._order),this._x=d,this._y=p,this._z=f,this._order=y,this.onChangeCallback(this),this},copy:function(d){return this.set(d.x,d.y,d.z,d.order)},setFromQuaternion:function(d,p,f){return p===void 0&&(p=this._order),f===void 0&&(f=!1),l.fromQuat(d),this.setFromRotationMatrix(l,p,f)},setFromRotationMatrix:function(d,p,f){p===void 0&&(p=this._order),f===void 0&&(f=!1);var y=d.val,w=y[0],x=y[4],b=y[8],E=y[1],C=y[5],T=y[9],S=y[2],A=y[6],P=y[10],R=0,L=0,D=0,$=.99999;switch(p){case"XYZ":{L=Math.asin(a(b,-1,1)),Math.abs(b)<$?(R=Math.atan2(-T,P),D=Math.atan2(-x,w)):R=Math.atan2(A,C);break}case"YXZ":{R=Math.asin(-a(T,-1,1)),Math.abs(T)<$?(L=Math.atan2(b,P),D=Math.atan2(E,C)):L=Math.atan2(-S,w);break}case"ZXY":{R=Math.asin(a(A,-1,1)),Math.abs(A)<$?(L=Math.atan2(-S,P),D=Math.atan2(-x,C)):D=Math.atan2(E,w);break}case"ZYX":{L=Math.asin(-a(S,-1,1)),Math.abs(S)<$?(R=Math.atan2(A,P),D=Math.atan2(E,w)):D=Math.atan2(-x,C);break}case"YZX":{D=Math.asin(a(E,-1,1)),Math.abs(E)<$?(R=Math.atan2(-T,C),L=Math.atan2(-S,w)):L=Math.atan2(b,P);break}case"XZY":{D=Math.asin(-a(x,-1,1)),Math.abs(x)<$?(R=Math.atan2(A,C),L=Math.atan2(b,w)):R=Math.atan2(-T,P);break}}return this._x=R,this._y=L,this._z=D,this._order=p,f&&this.onChangeCallback(this),this}});o.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],o.DefaultOrder="XYZ",s.exports=o}),6411:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){if(r===0)return 1;for(var a=r;--r;)a*=r;return a};s.exports=g}),99472:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return Math.random()*(a-r)+r};s.exports=g}),77623:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){a===void 0&&(a=0),v===void 0&&(v=10);var h=Math.pow(v,-a);return Math.floor(r*h)/h};s.exports=g}),62945:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(45319),v=function(h,u,l){return h=a(h,0,1),(l-u)*h+u};s.exports=v}),38265:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return r/a/1e3};s.exports=g}),78702:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r==parseFloat(r)?!(r%2):void 0};s.exports=g}),94883:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r===parseFloat(r)?!(r%2):void 0};s.exports=g}),28915:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){return(a-r)*v+r};s.exports=g}),94908:(s=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){return v===void 0&&(v=0),r.clone().lerp(a,v)};s.exports=g}),94434:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=new a({initialize:function(u){this.val=new Float32Array(9),u?this.copy(u):this.identity()},clone:function(){return new v(this)},set:function(h){return this.copy(h)},copy:function(h){var u=this.val,l=h.val;return u[0]=l[0],u[1]=l[1],u[2]=l[2],u[3]=l[3],u[4]=l[4],u[5]=l[5],u[6]=l[6],u[7]=l[7],u[8]=l[8],this},fromMat4:function(h){var u=h.val,l=this.val;return l[0]=u[0],l[1]=u[1],l[2]=u[2],l[3]=u[4],l[4]=u[5],l[5]=u[6],l[6]=u[8],l[7]=u[9],l[8]=u[10],this},fromArray:function(h){var u=this.val;return u[0]=h[0],u[1]=h[1],u[2]=h[2],u[3]=h[3],u[4]=h[4],u[5]=h[5],u[6]=h[6],u[7]=h[7],u[8]=h[8],this},identity:function(){var h=this.val;return h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=1,h[5]=0,h[6]=0,h[7]=0,h[8]=1,this},transpose:function(){var h=this.val,u=h[1],l=h[2],o=h[5];return h[1]=h[3],h[2]=h[6],h[3]=u,h[5]=h[7],h[6]=l,h[7]=o,this},invert:function(){var h=this.val,u=h[0],l=h[1],o=h[2],d=h[3],p=h[4],f=h[5],y=h[6],w=h[7],x=h[8],b=x*p-f*w,E=-x*d+f*y,C=w*d-p*y,T=u*b+l*E+o*C;return T?(T=1/T,h[0]=b*T,h[1]=(-x*l+o*w)*T,h[2]=(f*l-o*p)*T,h[3]=E*T,h[4]=(x*u-o*y)*T,h[5]=(-f*u+o*d)*T,h[6]=C*T,h[7]=(-w*u+l*y)*T,h[8]=(p*u-l*d)*T,this):null},adjoint:function(){var h=this.val,u=h[0],l=h[1],o=h[2],d=h[3],p=h[4],f=h[5],y=h[6],w=h[7],x=h[8];return h[0]=p*x-f*w,h[1]=o*w-l*x,h[2]=l*f-o*p,h[3]=f*y-d*x,h[4]=u*x-o*y,h[5]=o*d-u*f,h[6]=d*w-p*y,h[7]=l*y-u*w,h[8]=u*p-l*d,this},determinant:function(){var h=this.val,u=h[0],l=h[1],o=h[2],d=h[3],p=h[4],f=h[5],y=h[6],w=h[7],x=h[8];return u*(x*p-f*w)+l*(-x*d+f*y)+o*(w*d-p*y)},multiply:function(h){var u=this.val,l=u[0],o=u[1],d=u[2],p=u[3],f=u[4],y=u[5],w=u[6],x=u[7],b=u[8],E=h.val,C=E[0],T=E[1],S=E[2],A=E[3],P=E[4],R=E[5],L=E[6],D=E[7],$=E[8];return u[0]=C*l+T*p+S*w,u[1]=C*o+T*f+S*x,u[2]=C*d+T*y+S*b,u[3]=A*l+P*p+R*w,u[4]=A*o+P*f+R*x,u[5]=A*d+P*y+R*b,u[6]=L*l+D*p+$*w,u[7]=L*o+D*f+$*x,u[8]=L*d+D*y+$*b,this},translate:function(h){var u=this.val,l=h.x,o=h.y;return u[6]=l*u[0]+o*u[3]+u[6],u[7]=l*u[1]+o*u[4]+u[7],u[8]=l*u[2]+o*u[5]+u[8],this},rotate:function(h){var u=this.val,l=u[0],o=u[1],d=u[2],p=u[3],f=u[4],y=u[5],w=Math.sin(h),x=Math.cos(h);return u[0]=x*l+w*p,u[1]=x*o+w*f,u[2]=x*d+w*y,u[3]=x*p-w*l,u[4]=x*f-w*o,u[5]=x*y-w*d,this},scale:function(h){var u=this.val,l=h.x,o=h.y;return u[0]=l*u[0],u[1]=l*u[1],u[2]=l*u[2],u[3]=o*u[3],u[4]=o*u[4],u[5]=o*u[5],this},fromQuat:function(h){var u=h.x,l=h.y,o=h.z,d=h.w,p=u+u,f=l+l,y=o+o,w=u*p,x=u*f,b=u*y,E=l*f,C=l*y,T=o*y,S=d*p,A=d*f,P=d*y,R=this.val;return R[0]=1-(E+T),R[3]=x+P,R[6]=b-A,R[1]=x-P,R[4]=1-(w+T),R[7]=C+S,R[2]=b+A,R[5]=C-S,R[8]=1-(w+E),this},normalFromMat4:function(h){var u=h.val,l=this.val,o=u[0],d=u[1],p=u[2],f=u[3],y=u[4],w=u[5],x=u[6],b=u[7],E=u[8],C=u[9],T=u[10],S=u[11],A=u[12],P=u[13],R=u[14],L=u[15],D=o*w-d*y,$=o*x-p*y,F=o*b-f*y,N=d*x-p*w,k=d*b-f*w,j=p*b-f*x,W=E*P-C*A,G=E*R-T*A,K=E*L-S*A,z=C*R-T*P,X=C*L-S*P,U=T*L-S*R,Z=D*U-$*X+F*z+N*K-k*G+j*W;return Z?(Z=1/Z,l[0]=(w*U-x*X+b*z)*Z,l[1]=(x*K-y*U-b*G)*Z,l[2]=(y*X-w*K+b*W)*Z,l[3]=(p*X-d*U-f*z)*Z,l[4]=(o*U-p*K+f*G)*Z,l[5]=(d*K-o*X-f*W)*Z,l[6]=(P*j-R*k+L*N)*Z,l[7]=(R*F-A*j-L*$)*Z,l[8]=(A*k-P*F+L*D)*Z,this):null}});s.exports=v}),37867:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(25836),h=1e-6,u=new a({initialize:function(w){this.val=new Float32Array(16),w?this.copy(w):this.identity()},clone:function(){return new u(this)},set:function(y){return this.copy(y)},setValues:function(y,w,x,b,E,C,T,S,A,P,R,L,D,$,F,N){var k=this.val;return k[0]=y,k[1]=w,k[2]=x,k[3]=b,k[4]=E,k[5]=C,k[6]=T,k[7]=S,k[8]=A,k[9]=P,k[10]=R,k[11]=L,k[12]=D,k[13]=$,k[14]=F,k[15]=N,this},copy:function(y){var w=y.val;return this.setValues(w[0],w[1],w[2],w[3],w[4],w[5],w[6],w[7],w[8],w[9],w[10],w[11],w[12],w[13],w[14],w[15])},fromArray:function(y){return this.setValues(y[0],y[1],y[2],y[3],y[4],y[5],y[6],y[7],y[8],y[9],y[10],y[11],y[12],y[13],y[14],y[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(y,w,x){var b=l.fromQuat(x),E=b.val,C=w.x,T=w.y,S=w.z;return this.setValues(E[0]*C,E[1]*C,E[2]*C,0,E[4]*T,E[5]*T,E[6]*T,0,E[8]*S,E[9]*S,E[10]*S,0,y.x,y.y,y.z,1)},xyz:function(y,w,x){this.identity();var b=this.val;return b[12]=y,b[13]=w,b[14]=x,this},scaling:function(y,w,x){this.zero();var b=this.val;return b[0]=y,b[5]=w,b[10]=x,b[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var y=this.val,w=y[1],x=y[2],b=y[3],E=y[6],C=y[7],T=y[11];return y[1]=y[4],y[2]=y[8],y[3]=y[12],y[4]=w,y[6]=y[9],y[7]=y[13],y[8]=x,y[9]=E,y[11]=y[14],y[12]=b,y[13]=C,y[14]=T,this},getInverse:function(y){return this.copy(y),this.invert()},invert:function(){var y=this.val,w=y[0],x=y[1],b=y[2],E=y[3],C=y[4],T=y[5],S=y[6],A=y[7],P=y[8],R=y[9],L=y[10],D=y[11],$=y[12],F=y[13],N=y[14],k=y[15],j=w*T-x*C,W=w*S-b*C,G=w*A-E*C,K=x*S-b*T,z=x*A-E*T,X=b*A-E*S,U=P*F-R*$,Z=P*N-L*$,V=P*k-D*$,J=R*N-L*F,Q=R*k-D*F,ee=L*k-D*N,te=j*ee-W*Q+G*J+K*V-z*Z+X*U;return te?(te=1/te,this.setValues((T*ee-S*Q+A*J)*te,(b*Q-x*ee-E*J)*te,(F*X-N*z+k*K)*te,(L*z-R*X-D*K)*te,(S*V-C*ee-A*Z)*te,(w*ee-b*V+E*Z)*te,(N*G-$*X-k*W)*te,(P*X-L*G+D*W)*te,(C*Q-T*V+A*U)*te,(x*V-w*Q-E*U)*te,($*z-F*G+k*j)*te,(R*G-P*z-D*j)*te,(T*Z-C*J-S*U)*te,(w*J-x*Z+b*U)*te,(F*W-$*K-N*j)*te,(P*K-R*W+L*j)*te)):this},adjoint:function(){var y=this.val,w=y[0],x=y[1],b=y[2],E=y[3],C=y[4],T=y[5],S=y[6],A=y[7],P=y[8],R=y[9],L=y[10],D=y[11],$=y[12],F=y[13],N=y[14],k=y[15];return this.setValues(T*(L*k-D*N)-R*(S*k-A*N)+F*(S*D-A*L),-(x*(L*k-D*N)-R*(b*k-E*N)+F*(b*D-E*L)),x*(S*k-A*N)-T*(b*k-E*N)+F*(b*A-E*S),-(x*(S*D-A*L)-T*(b*D-E*L)+R*(b*A-E*S)),-(C*(L*k-D*N)-P*(S*k-A*N)+$*(S*D-A*L)),w*(L*k-D*N)-P*(b*k-E*N)+$*(b*D-E*L),-(w*(S*k-A*N)-C*(b*k-E*N)+$*(b*A-E*S)),w*(S*D-A*L)-C*(b*D-E*L)+P*(b*A-E*S),C*(R*k-D*F)-P*(T*k-A*F)+$*(T*D-A*R),-(w*(R*k-D*F)-P*(x*k-E*F)+$*(x*D-E*R)),w*(T*k-A*F)-C*(x*k-E*F)+$*(x*A-E*T),-(w*(T*D-A*R)-C*(x*D-E*R)+P*(x*A-E*T)),-(C*(R*N-L*F)-P*(T*N-S*F)+$*(T*L-S*R)),w*(R*N-L*F)-P*(x*N-b*F)+$*(x*L-b*R),-(w*(T*N-S*F)-C*(x*N-b*F)+$*(x*S-b*T)),w*(T*L-S*R)-C*(x*L-b*R)+P*(x*S-b*T))},determinant:function(){var y=this.val,w=y[0],x=y[1],b=y[2],E=y[3],C=y[4],T=y[5],S=y[6],A=y[7],P=y[8],R=y[9],L=y[10],D=y[11],$=y[12],F=y[13],N=y[14],k=y[15],j=w*T-x*C,W=w*S-b*C,G=w*A-E*C,K=x*S-b*T,z=x*A-E*T,X=b*A-E*S,U=P*F-R*$,Z=P*N-L*$,V=P*k-D*$,J=R*N-L*F,Q=R*k-D*F,ee=L*k-D*N;return j*ee-W*Q+G*J+K*V-z*Z+X*U},multiply:function(y){var w=this.val,x=w[0],b=w[1],E=w[2],C=w[3],T=w[4],S=w[5],A=w[6],P=w[7],R=w[8],L=w[9],D=w[10],$=w[11],F=w[12],N=w[13],k=w[14],j=w[15],W=y.val,G=W[0],K=W[1],z=W[2],X=W[3];return w[0]=G*x+K*T+z*R+X*F,w[1]=G*b+K*S+z*L+X*N,w[2]=G*E+K*A+z*D+X*k,w[3]=G*C+K*P+z*$+X*j,G=W[4],K=W[5],z=W[6],X=W[7],w[4]=G*x+K*T+z*R+X*F,w[5]=G*b+K*S+z*L+X*N,w[6]=G*E+K*A+z*D+X*k,w[7]=G*C+K*P+z*$+X*j,G=W[8],K=W[9],z=W[10],X=W[11],w[8]=G*x+K*T+z*R+X*F,w[9]=G*b+K*S+z*L+X*N,w[10]=G*E+K*A+z*D+X*k,w[11]=G*C+K*P+z*$+X*j,G=W[12],K=W[13],z=W[14],X=W[15],w[12]=G*x+K*T+z*R+X*F,w[13]=G*b+K*S+z*L+X*N,w[14]=G*E+K*A+z*D+X*k,w[15]=G*C+K*P+z*$+X*j,this},multiplyLocal:function(y){var w=this.val,x=y.val;return this.setValues(w[0]*x[0]+w[1]*x[4]+w[2]*x[8]+w[3]*x[12],w[0]*x[1]+w[1]*x[5]+w[2]*x[9]+w[3]*x[13],w[0]*x[2]+w[1]*x[6]+w[2]*x[10]+w[3]*x[14],w[0]*x[3]+w[1]*x[7]+w[2]*x[11]+w[3]*x[15],w[4]*x[0]+w[5]*x[4]+w[6]*x[8]+w[7]*x[12],w[4]*x[1]+w[5]*x[5]+w[6]*x[9]+w[7]*x[13],w[4]*x[2]+w[5]*x[6]+w[6]*x[10]+w[7]*x[14],w[4]*x[3]+w[5]*x[7]+w[6]*x[11]+w[7]*x[15],w[8]*x[0]+w[9]*x[4]+w[10]*x[8]+w[11]*x[12],w[8]*x[1]+w[9]*x[5]+w[10]*x[9]+w[11]*x[13],w[8]*x[2]+w[9]*x[6]+w[10]*x[10]+w[11]*x[14],w[8]*x[3]+w[9]*x[7]+w[10]*x[11]+w[11]*x[15],w[12]*x[0]+w[13]*x[4]+w[14]*x[8]+w[15]*x[12],w[12]*x[1]+w[13]*x[5]+w[14]*x[9]+w[15]*x[13],w[12]*x[2]+w[13]*x[6]+w[14]*x[10]+w[15]*x[14],w[12]*x[3]+w[13]*x[7]+w[14]*x[11]+w[15]*x[15])},premultiply:function(y){return this.multiplyMatrices(y,this)},multiplyMatrices:function(y,w){var x=y.val,b=w.val,E=x[0],C=x[4],T=x[8],S=x[12],A=x[1],P=x[5],R=x[9],L=x[13],D=x[2],$=x[6],F=x[10],N=x[14],k=x[3],j=x[7],W=x[11],G=x[15],K=b[0],z=b[4],X=b[8],U=b[12],Z=b[1],V=b[5],J=b[9],Q=b[13],ee=b[2],te=b[6],ie=b[10],le=b[14],de=b[3],fe=b[7],oe=b[11],Ee=b[15];return this.setValues(E*K+C*Z+T*ee+S*de,A*K+P*Z+R*ee+L*de,D*K+$*Z+F*ee+N*de,k*K+j*Z+W*ee+G*de,E*z+C*V+T*te+S*fe,A*z+P*V+R*te+L*fe,D*z+$*V+F*te+N*fe,k*z+j*V+W*te+G*fe,E*X+C*J+T*ie+S*oe,A*X+P*J+R*ie+L*oe,D*X+$*J+F*ie+N*oe,k*X+j*J+W*ie+G*oe,E*U+C*Q+T*le+S*Ee,A*U+P*Q+R*le+L*Ee,D*U+$*Q+F*le+N*Ee,k*U+j*Q+W*le+G*Ee)},translate:function(y){return this.translateXYZ(y.x,y.y,y.z)},translateXYZ:function(y,w,x){var b=this.val;return b[12]=b[0]*y+b[4]*w+b[8]*x+b[12],b[13]=b[1]*y+b[5]*w+b[9]*x+b[13],b[14]=b[2]*y+b[6]*w+b[10]*x+b[14],b[15]=b[3]*y+b[7]*w+b[11]*x+b[15],this},scale:function(y){return this.scaleXYZ(y.x,y.y,y.z)},scaleXYZ:function(y,w,x){var b=this.val;return b[0]=b[0]*y,b[1]=b[1]*y,b[2]=b[2]*y,b[3]=b[3]*y,b[4]=b[4]*w,b[5]=b[5]*w,b[6]=b[6]*w,b[7]=b[7]*w,b[8]=b[8]*x,b[9]=b[9]*x,b[10]=b[10]*x,b[11]=b[11]*x,this},makeRotationAxis:function(y,w){var x=Math.cos(w),b=Math.sin(w),E=1-x,C=y.x,T=y.y,S=y.z,A=E*C,P=E*T;return this.setValues(A*C+x,A*T-b*S,A*S+b*T,0,A*T+b*S,P*T+x,P*S-b*C,0,A*S-b*T,P*S+b*C,E*S*S+x,0,0,0,0,1)},rotate:function(y,w){var x=this.val,b=w.x,E=w.y,C=w.z,T=Math.sqrt(b*b+E*E+C*C);if(Math.abs(T)<h)return this;T=1/T,b*=T,E*=T,C*=T;var S=Math.sin(y),A=Math.cos(y),P=1-A,R=x[0],L=x[1],D=x[2],$=x[3],F=x[4],N=x[5],k=x[6],j=x[7],W=x[8],G=x[9],K=x[10],z=x[11],X=x[12],U=x[13],Z=x[14],V=x[15],J=b*b*P+A,Q=E*b*P+C*S,ee=C*b*P-E*S,te=b*E*P-C*S,ie=E*E*P+A,le=C*E*P+b*S,de=b*C*P+E*S,fe=E*C*P-b*S,oe=C*C*P+A;return this.setValues(R*J+F*Q+W*ee,L*J+N*Q+G*ee,D*J+k*Q+K*ee,$*J+j*Q+z*ee,R*te+F*ie+W*le,L*te+N*ie+G*le,D*te+k*ie+K*le,$*te+j*ie+z*le,R*de+F*fe+W*oe,L*de+N*fe+G*oe,D*de+k*fe+K*oe,$*de+j*fe+z*oe,X,U,Z,V)},rotateX:function(y){var w=this.val,x=Math.sin(y),b=Math.cos(y),E=w[4],C=w[5],T=w[6],S=w[7],A=w[8],P=w[9],R=w[10],L=w[11];return w[4]=E*b+A*x,w[5]=C*b+P*x,w[6]=T*b+R*x,w[7]=S*b+L*x,w[8]=A*b-E*x,w[9]=P*b-C*x,w[10]=R*b-T*x,w[11]=L*b-S*x,this},rotateY:function(y){var w=this.val,x=Math.sin(y),b=Math.cos(y),E=w[0],C=w[1],T=w[2],S=w[3],A=w[8],P=w[9],R=w[10],L=w[11];return w[0]=E*b-A*x,w[1]=C*b-P*x,w[2]=T*b-R*x,w[3]=S*b-L*x,w[8]=E*x+A*b,w[9]=C*x+P*b,w[10]=T*x+R*b,w[11]=S*x+L*b,this},rotateZ:function(y){var w=this.val,x=Math.sin(y),b=Math.cos(y),E=w[0],C=w[1],T=w[2],S=w[3],A=w[4],P=w[5],R=w[6],L=w[7];return w[0]=E*b+A*x,w[1]=C*b+P*x,w[2]=T*b+R*x,w[3]=S*b+L*x,w[4]=A*b-E*x,w[5]=P*b-C*x,w[6]=R*b-T*x,w[7]=L*b-S*x,this},fromRotationTranslation:function(y,w){var x=y.x,b=y.y,E=y.z,C=y.w,T=x+x,S=b+b,A=E+E,P=x*T,R=x*S,L=x*A,D=b*S,$=b*A,F=E*A,N=C*T,k=C*S,j=C*A;return this.setValues(1-(D+F),R+j,L-k,0,R-j,1-(P+F),$+N,0,L+k,$-N,1-(P+D),0,w.x,w.y,w.z,1)},fromQuat:function(y){var w=y.x,x=y.y,b=y.z,E=y.w,C=w+w,T=x+x,S=b+b,A=w*C,P=w*T,R=w*S,L=x*T,D=x*S,$=b*S,F=E*C,N=E*T,k=E*S;return this.setValues(1-(L+$),P+k,R-N,0,P-k,1-(A+$),D+F,0,R+N,D-F,1-(A+L),0,0,0,0,1)},frustum:function(y,w,x,b,E,C){var T=1/(w-y),S=1/(b-x),A=1/(E-C);return this.setValues(E*2*T,0,0,0,0,E*2*S,0,0,(w+y)*T,(b+x)*S,(C+E)*A,-1,0,0,C*E*2*A,0)},perspective:function(y,w,x,b){var E=1/Math.tan(y/2),C=1/(x-b);return this.setValues(E/w,0,0,0,0,E,0,0,0,0,(b+x)*C,-1,0,0,2*b*x*C,0)},perspectiveLH:function(y,w,x,b){return this.setValues(2*x/y,0,0,0,0,2*x/w,0,0,0,0,-b/(x-b),1,0,0,x*b/(x-b),0)},ortho:function(y,w,x,b,E,C){var T=y-w,S=x-b,A=E-C;return T=T===0?T:1/T,S=S===0?S:1/S,A=A===0?A:1/A,this.setValues(-2*T,0,0,0,0,-2*S,0,0,0,0,2*A,0,(y+w)*T,(b+x)*S,(C+E)*A,1)},lookAtRH:function(y,w,x){var b=this.val;return f.subVectors(y,w),f.lengthSq()===0&&(f.z=1),f.normalize(),d.crossVectors(x,f),d.lengthSq()===0&&(Math.abs(x.z)===1?f.x+=1e-4:f.z+=1e-4,f.normalize(),d.crossVectors(x,f)),d.normalize(),p.crossVectors(f,d),b[0]=d.x,b[1]=d.y,b[2]=d.z,b[4]=p.x,b[5]=p.y,b[6]=p.z,b[8]=f.x,b[9]=f.y,b[10]=f.z,this},lookAt:function(y,w,x){var b=y.x,E=y.y,C=y.z,T=x.x,S=x.y,A=x.z,P=w.x,R=w.y,L=w.z;if(Math.abs(b-P)<h&&Math.abs(E-R)<h&&Math.abs(C-L)<h)return this.identity();var D=b-P,$=E-R,F=C-L,N=1/Math.sqrt(D*D+$*$+F*F);D*=N,$*=N,F*=N;var k=S*F-A*$,j=A*D-T*F,W=T*$-S*D;N=Math.sqrt(k*k+j*j+W*W),N?(N=1/N,k*=N,j*=N,W*=N):(k=0,j=0,W=0);var G=$*W-F*j,K=F*k-D*W,z=D*j-$*k;return N=Math.sqrt(G*G+K*K+z*z),N?(N=1/N,G*=N,K*=N,z*=N):(G=0,K=0,z=0),this.setValues(k,G,D,0,j,K,$,0,W,z,F,0,-(k*b+j*E+W*C),-(G*b+K*E+z*C),-(D*b+$*E+F*C),1)},yawPitchRoll:function(y,w,x){this.zero(),l.zero(),o.zero();var b=this.val,E=l.val,C=o.val,T=Math.sin(x),S=Math.cos(x);return b[10]=1,b[15]=1,b[0]=S,b[1]=T,b[4]=-T,b[5]=S,T=Math.sin(w),S=Math.cos(w),E[0]=1,E[15]=1,E[5]=S,E[10]=S,E[9]=-T,E[6]=T,T=Math.sin(y),S=Math.cos(y),C[5]=1,C[15]=1,C[0]=S,C[2]=-T,C[8]=T,C[10]=S,this.multiplyLocal(l),this.multiplyLocal(o),this},setWorldMatrix:function(y,w,x,b,E){return this.yawPitchRoll(y.y,y.x,y.z),l.scaling(x.x,x.y,x.z),o.xyz(w.x,w.y,w.z),this.multiplyLocal(l),this.multiplyLocal(o),b&&this.multiplyLocal(b),E&&this.multiplyLocal(E),this},multiplyToMat4:function(y,w){var x=this.val,b=y.val,E=x[0],C=x[1],T=x[2],S=x[3],A=x[4],P=x[5],R=x[6],L=x[7],D=x[8],$=x[9],F=x[10],N=x[11],k=x[12],j=x[13],W=x[14],G=x[15],K=b[0],z=b[1],X=b[2],U=b[3],Z=b[4],V=b[5],J=b[6],Q=b[7],ee=b[8],te=b[9],ie=b[10],le=b[11],de=b[12],fe=b[13],oe=b[14],Ee=b[15];return w.setValues(K*E+z*A+X*D+U*k,z*C+z*P+X*$+U*j,X*T+z*R+X*F+U*W,U*S+z*L+X*N+U*G,Z*E+V*A+J*D+Q*k,Z*C+V*P+J*$+Q*j,Z*T+V*R+J*F+Q*W,Z*S+V*L+J*N+Q*G,ee*E+te*A+ie*D+le*k,ee*C+te*P+ie*$+le*j,ee*T+te*R+ie*F+le*W,ee*S+te*L+ie*N+le*G,de*E+fe*A+oe*D+Ee*k,de*C+fe*P+oe*$+Ee*j,de*T+fe*R+oe*F+Ee*W,de*S+fe*L+oe*N+Ee*G)},fromRotationXYTranslation:function(y,w,x){var b=w.x,E=w.y,C=w.z,T=Math.sin(y.x),S=Math.cos(y.x),A=Math.sin(y.y),P=Math.cos(y.y),R=b,L=E,D=C,$=-T,F=0-$*A,N=0-S*A,k=$*P,j=S*P;return x||(R=P*b+A*C,L=F*b+S*E+k*C,D=N*b+T*E+j*C),this.setValues(P,F,N,0,0,S,T,0,A,k,j,0,R,L,D,1)},getMaxScaleOnAxis:function(){var y=this.val,w=y[0]*y[0]+y[1]*y[1]+y[2]*y[2],x=y[4]*y[4]+y[5]*y[5]+y[6]*y[6],b=y[8]*y[8]+y[9]*y[9]+y[10]*y[10];return Math.sqrt(Math.max(w,x,b))}}),l=new u,o=new u,d=new v,p=new v,f=new v;s.exports=u}),86883:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){return Math.min(r+a,v)};s.exports=g}),50040:(s=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){var a=r.length;if(a===0)return 0;r.sort(function(h,u){return h-u});var v=Math.floor(a/2);return a%2===0?(r[v]+r[v-1])/2:r[v]};s.exports=g}),37204:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){return Math.max(r-a,v)};s.exports=g}),65201:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h){v===void 0&&(v=a+1);var u=(r-a)/(v-a);return u>1?h!==void 0?(u=(h-r)/(h-v),u<0&&(u=0)):u=1:u<0&&(u=0),u};s.exports=g}),15746:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(94434),h=r(29747),u=r(25836),l=1e-6,o=new Int8Array([1,2,0]),d=new Float32Array([0,0,0]),p=new u(1,0,0),f=new u(0,1,0),y=new u,w=new v,x=new a({initialize:function(E,C,T,S){this.onChangeCallback=h,this.set(E,C,T,S)},x:{get:function(){return this._x},set:function(b){this._x=b,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(b){this._y=b,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(b){this._z=b,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(b){this._w=b,this.onChangeCallback(this)}},copy:function(b){return this.set(b)},set:function(b,E,C,T,S){return S===void 0&&(S=!0),typeof b=="object"?(this._x=b.x||0,this._y=b.y||0,this._z=b.z||0,this._w=b.w||0):(this._x=b||0,this._y=E||0,this._z=C||0,this._w=T||0),S&&this.onChangeCallback(this),this},add:function(b){return this._x+=b.x,this._y+=b.y,this._z+=b.z,this._w+=b.w,this.onChangeCallback(this),this},subtract:function(b){return this._x-=b.x,this._y-=b.y,this._z-=b.z,this._w-=b.w,this.onChangeCallback(this),this},scale:function(b){return this._x*=b,this._y*=b,this._z*=b,this._w*=b,this.onChangeCallback(this),this},length:function(){var b=this.x,E=this.y,C=this.z,T=this.w;return Math.sqrt(b*b+E*E+C*C+T*T)},lengthSq:function(){var b=this.x,E=this.y,C=this.z,T=this.w;return b*b+E*E+C*C+T*T},normalize:function(){var b=this.x,E=this.y,C=this.z,T=this.w,S=b*b+E*E+C*C+T*T;return S>0&&(S=1/Math.sqrt(S),this._x=b*S,this._y=E*S,this._z=C*S,this._w=T*S),this.onChangeCallback(this),this},dot:function(b){return this.x*b.x+this.y*b.y+this.z*b.z+this.w*b.w},lerp:function(b,E){E===void 0&&(E=0);var C=this.x,T=this.y,S=this.z,A=this.w;return this.set(C+E*(b.x-C),T+E*(b.y-T),S+E*(b.z-S),A+E*(b.w-A))},rotationTo:function(b,E){var C=b.x*E.x+b.y*E.y+b.z*E.z;return C<-.999999?(y.copy(p).cross(b).length()<l&&y.copy(f).cross(b),y.normalize(),this.setAxisAngle(y,Math.PI)):C>.999999?this.set(0,0,0,1):(y.copy(b).cross(E),this._x=y.x,this._y=y.y,this._z=y.z,this._w=1+C,this.normalize())},setAxes:function(b,E,C){var T=w.val;return T[0]=E.x,T[3]=E.y,T[6]=E.z,T[1]=C.x,T[4]=C.y,T[7]=C.z,T[2]=-b.x,T[5]=-b.y,T[8]=-b.z,this.fromMat3(w).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(b,E){E=E*.5;var C=Math.sin(E);return this.set(C*b.x,C*b.y,C*b.z,Math.cos(E))},multiply:function(b){var E=this.x,C=this.y,T=this.z,S=this.w,A=b.x,P=b.y,R=b.z,L=b.w;return this.set(E*L+S*A+C*R-T*P,C*L+S*P+T*A-E*R,T*L+S*R+E*P-C*A,S*L-E*A-C*P-T*R)},slerp:function(b,E){var C=this.x,T=this.y,S=this.z,A=this.w,P=b.x,R=b.y,L=b.z,D=b.w,$=C*P+T*R+S*L+A*D;$<0&&($=-$,P=-P,R=-R,L=-L,D=-D);var F=1-E,N=E;if(1-$>l){var k=Math.acos($),j=Math.sin(k);F=Math.sin((1-E)*k)/j,N=Math.sin(E*k)/j}return this.set(F*C+N*P,F*T+N*R,F*S+N*L,F*A+N*D)},invert:function(){var b=this.x,E=this.y,C=this.z,T=this.w,S=b*b+E*E+C*C+T*T,A=S?1/S:0;return this.set(-b*A,-E*A,-C*A,T*A)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(b){b*=.5;var E=this.x,C=this.y,T=this.z,S=this.w,A=Math.sin(b),P=Math.cos(b);return this.set(E*P+S*A,C*P+T*A,T*P-C*A,S*P-E*A)},rotateY:function(b){b*=.5;var E=this.x,C=this.y,T=this.z,S=this.w,A=Math.sin(b),P=Math.cos(b);return this.set(E*P-T*A,C*P+S*A,T*P+E*A,S*P-C*A)},rotateZ:function(b){b*=.5;var E=this.x,C=this.y,T=this.z,S=this.w,A=Math.sin(b),P=Math.cos(b);return this.set(E*P+C*A,C*P-E*A,T*P+S*A,S*P-T*A)},calculateW:function(){var b=this.x,E=this.y,C=this.z;return this.w=-Math.sqrt(1-b*b-E*E-C*C),this},setFromEuler:function(b,E){var C=b.x/2,T=b.y/2,S=b.z/2,A=Math.cos(C),P=Math.cos(T),R=Math.cos(S),L=Math.sin(C),D=Math.sin(T),$=Math.sin(S);switch(b.order){case"XYZ":{this.set(L*P*R+A*D*$,A*D*R-L*P*$,A*P*$+L*D*R,A*P*R-L*D*$,E);break}case"YXZ":{this.set(L*P*R+A*D*$,A*D*R-L*P*$,A*P*$-L*D*R,A*P*R+L*D*$,E);break}case"ZXY":{this.set(L*P*R-A*D*$,A*D*R+L*P*$,A*P*$+L*D*R,A*P*R-L*D*$,E);break}case"ZYX":{this.set(L*P*R-A*D*$,A*D*R+L*P*$,A*P*$-L*D*R,A*P*R+L*D*$,E);break}case"YZX":{this.set(L*P*R+A*D*$,A*D*R+L*P*$,A*P*$-L*D*R,A*P*R-L*D*$,E);break}case"XZY":{this.set(L*P*R-A*D*$,A*D*R-L*P*$,A*P*$+L*D*R,A*P*R+L*D*$,E);break}}return this},setFromRotationMatrix:function(b){var E=b.val,C=E[0],T=E[4],S=E[8],A=E[1],P=E[5],R=E[9],L=E[2],D=E[6],$=E[10],F=C+P+$,N;return F>0?(N=.5/Math.sqrt(F+1),this.set((D-R)*N,(S-L)*N,(A-T)*N,.25/N)):C>P&&C>$?(N=2*Math.sqrt(1+C-P-$),this.set(.25*N,(T+A)/N,(S+L)/N,(D-R)/N)):P>$?(N=2*Math.sqrt(1+P-C-$),this.set((T+A)/N,.25*N,(R+D)/N,(S-L)/N)):(N=2*Math.sqrt(1+$-C-P),this.set((S+L)/N,(R+D)/N,.25*N,(A-T)/N)),this},fromMat3:function(b){var E=b.val,C=E[0]+E[4]+E[8],T;if(C>0)T=Math.sqrt(C+1),this.w=.5*T,T=.5/T,this._x=(E[7]-E[5])*T,this._y=(E[2]-E[6])*T,this._z=(E[3]-E[1])*T;else{var S=0;E[4]>E[0]&&(S=1),E[8]>E[S*3+S]&&(S=2);var A=o[S],P=o[A];T=Math.sqrt(E[S*3+S]-E[A*3+A]-E[P*3+P]+1),d[S]=.5*T,T=.5/T,d[A]=(E[A*3+S]+E[S*3+A])*T,d[P]=(E[P*3+S]+E[S*3+P])*T,this._x=d[0],this._y=d[1],this._z=d[2],this._w=(E[P*3+A]-E[A*3+P])*T}return this.onChangeCallback(this),this}});s.exports=x}),43396:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(36383),v=function(h){return h*a.RAD_TO_DEG};s.exports=v}),74362:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){a===void 0&&(a=1);var v=Math.random()*2*Math.PI;return r.x=Math.cos(v)*a,r.y=Math.sin(v)*a,r};s.exports=g}),60706:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){a===void 0&&(a=1);var v=Math.random()*2*Math.PI,h=Math.random()*2-1,u=Math.sqrt(1-h*h)*a;return r.x=Math.cos(v)*u,r.y=Math.sin(v)*u,r.z=h*a,r};s.exports=g}),67421:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return a===void 0&&(a=1),r.x=(Math.random()*2-1)*a,r.y=(Math.random()*2-1)*a,r.z=(Math.random()*2-1)*a,r.w=(Math.random()*2-1)*a,r};s.exports=g}),36305:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){var v=r.x,h=r.y;return r.x=v*Math.cos(a)-h*Math.sin(a),r.y=v*Math.sin(a)+h*Math.cos(a),r};s.exports=g}),11520:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h){var u=Math.cos(h),l=Math.sin(h),o=r.x-a,d=r.y-v;return r.x=o*u-d*l+a,r.y=o*l+d*u+v,r};s.exports=g}),1163:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h,u){var l=h+Math.atan2(r.y-v,r.x-a);return r.x=a+u*Math.cos(l),r.y=v+u*Math.sin(l),r};s.exports=g}),70336:(s=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h,u){return r.x=a+u*Math.cos(h),r.y=v+u*Math.sin(h),r};s.exports=g}),72678:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(25836),v=r(37867),h=r(15746),u=new v,l=new h,o=new a,d=function(p,f,y){return l.setAxisAngle(f,y),u.fromRotationTranslation(l,o.set(0,0,0)),p.transformMat4(u)};s.exports=d}),2284:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r>0?Math.ceil(r):Math.floor(r)};s.exports=g}),41013:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){a===void 0&&(a=0),v===void 0&&(v=10);var h=Math.pow(v,-a);return Math.round(r*h)/h};s.exports=g}),16922:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h){a===void 0&&(a=1),v===void 0&&(v=1),h===void 0&&(h=1),h*=Math.PI/r;for(var u=[],l=[],o=0;o<r;o++)v-=a*h,a+=v*h,u[o]=v,l[o]=a;return{sin:l,cos:u,length:r}};s.exports=g}),7602:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){return r<=a?0:r>=v?1:(r=(r-a)/(v-a),r*r*(3-2*r))};s.exports=g}),54261:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){return r=Math.max(0,Math.min(1,(r-a)/(v-a))),r*r*r*(r*(r*6-15)+10)};s.exports=g}),44408:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(26099),v=function(h,u,l,o){o===void 0&&(o=new a);var d=0,p=0,f=u*l;return h>0&&h<=f&&(h>u-1?(p=Math.floor(h/u),d=h-p*u):d=h),o.set(d,p)};s.exports=v}),85955:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(26099),v=function(h,u,l,o,d,p,f,y){y===void 0&&(y=new a);var w=Math.sin(d),x=Math.cos(d),b=x*p,E=w*p,C=-w*f,T=x*f,S=1/(b*T+C*-E);return y.x=T*S*h+-C*S*u+(o*C-l*T)*S,y.y=b*S*u+-E*S*h+(-o*b+l*E)*S,y};s.exports=v}),26099:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(43855),h=new a({initialize:function(l,o){this.x=0,this.y=0,typeof l=="object"?(this.x=l.x||0,this.y=l.y||0):(o===void 0&&(o=l),this.x=l||0,this.y=o||0)},clone:function(){return new h(this.x,this.y)},copy:function(u){return this.x=u.x||0,this.y=u.y||0,this},setFromObject:function(u){return this.x=u.x||0,this.y=u.y||0,this},set:function(u,l){return l===void 0&&(l=u),this.x=u,this.y=l,this},setTo:function(u,l){return this.set(u,l)},setToPolar:function(u,l){return l==null&&(l=1),this.x=Math.cos(u)*l,this.y=Math.sin(u)*l,this},equals:function(u){return this.x===u.x&&this.y===u.y},fuzzyEquals:function(u,l){return v(this.x,u.x,l)&&v(this.y,u.y,l)},angle:function(){var u=Math.atan2(this.y,this.x);return u<0&&(u+=2*Math.PI),u},setAngle:function(u){return this.setToPolar(u,this.length())},add:function(u){return this.x+=u.x,this.y+=u.y,this},subtract:function(u){return this.x-=u.x,this.y-=u.y,this},multiply:function(u){return this.x*=u.x,this.y*=u.y,this},scale:function(u){return isFinite(u)?(this.x*=u,this.y*=u):(this.x=0,this.y=0),this},divide:function(u){return this.x/=u.x,this.y/=u.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(u){var l=u.x-this.x,o=u.y-this.y;return Math.sqrt(l*l+o*o)},distanceSq:function(u){var l=u.x-this.x,o=u.y-this.y;return l*l+o*o},length:function(){var u=this.x,l=this.y;return Math.sqrt(u*u+l*l)},setLength:function(u){return this.normalize().scale(u)},lengthSq:function(){var u=this.x,l=this.y;return u*u+l*l},normalize:function(){var u=this.x,l=this.y,o=u*u+l*l;return o>0&&(o=1/Math.sqrt(o),this.x=u*o,this.y=l*o),this},normalizeRightHand:function(){var u=this.x;return this.x=this.y*-1,this.y=u,this},normalizeLeftHand:function(){var u=this.x;return this.x=this.y,this.y=u*-1,this},dot:function(u){return this.x*u.x+this.y*u.y},cross:function(u){return this.x*u.y-this.y*u.x},lerp:function(u,l){l===void 0&&(l=0);var o=this.x,d=this.y;return this.x=o+l*(u.x-o),this.y=d+l*(u.y-d),this},transformMat3:function(u){var l=this.x,o=this.y,d=u.val;return this.x=d[0]*l+d[3]*o+d[6],this.y=d[1]*l+d[4]*o+d[7],this},transformMat4:function(u){var l=this.x,o=this.y,d=u.val;return this.x=d[0]*l+d[4]*o+d[12],this.y=d[1]*l+d[5]*o+d[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(u){var l=this.length();return l&&l>u&&this.scale(u/l),this},reflect:function(u){return u=u.clone().normalize(),this.subtract(u.scale(2*this.dot(u)))},mirror:function(u){return this.reflect(u).negate()},rotate:function(u){var l=Math.cos(u),o=Math.sin(u);return this.set(l*this.x-o*this.y,o*this.x+l*this.y)},project:function(u){var l=this.dot(u)/u.dot(u);return this.copy(u).scale(l)}});h.ZERO=new h,h.RIGHT=new h(1,0),h.LEFT=new h(-1,0),h.UP=new h(0,-1),h.DOWN=new h(0,1),h.ONE=new h(1,1),s.exports=h}),25836:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=new a({initialize:function(u,l,o){this.x=0,this.y=0,this.z=0,typeof u=="object"?(this.x=u.x||0,this.y=u.y||0,this.z=u.z||0):(this.x=u||0,this.y=l||0,this.z=o||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(h){return this.x=Math.min(this.x,h.x),this.y=Math.min(this.y,h.y),this.z=Math.min(this.z,h.z),this},max:function(h){return this.x=Math.max(this.x,h.x),this.y=Math.max(this.y,h.y),this.z=Math.max(this.z,h.z),this},clone:function(){return new v(this.x,this.y,this.z)},addVectors:function(h,u){return this.x=h.x+u.x,this.y=h.y+u.y,this.z=h.z+u.z,this},subVectors:function(h,u){return this.x=h.x-u.x,this.y=h.y-u.y,this.z=h.z-u.z,this},crossVectors:function(h,u){var l=h.x,o=h.y,d=h.z,p=u.x,f=u.y,y=u.z;return this.x=o*y-d*f,this.y=d*p-l*y,this.z=l*f-o*p,this},equals:function(h){return this.x===h.x&&this.y===h.y&&this.z===h.z},copy:function(h){return this.x=h.x,this.y=h.y,this.z=h.z||0,this},set:function(h,u,l){return typeof h=="object"?(this.x=h.x||0,this.y=h.y||0,this.z=h.z||0):(this.x=h||0,this.y=u||0,this.z=l||0),this},setFromMatrixPosition:function(h){return this.fromArray(h.val,12)},setFromMatrixColumn:function(h,u){return this.fromArray(h.val,u*4)},fromArray:function(h,u){return u===void 0&&(u=0),this.x=h[u],this.y=h[u+1],this.z=h[u+2],this},add:function(h){return this.x+=h.x,this.y+=h.y,this.z+=h.z||0,this},addScalar:function(h){return this.x+=h,this.y+=h,this.z+=h,this},addScale:function(h,u){return this.x+=h.x*u,this.y+=h.y*u,this.z+=h.z*u||0,this},subtract:function(h){return this.x-=h.x,this.y-=h.y,this.z-=h.z||0,this},multiply:function(h){return this.x*=h.x,this.y*=h.y,this.z*=h.z||1,this},scale:function(h){return isFinite(h)?(this.x*=h,this.y*=h,this.z*=h):(this.x=0,this.y=0,this.z=0),this},divide:function(h){return this.x/=h.x,this.y/=h.y,this.z/=h.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(h){var u=h.x-this.x,l=h.y-this.y,o=h.z-this.z||0;return Math.sqrt(u*u+l*l+o*o)},distanceSq:function(h){var u=h.x-this.x,l=h.y-this.y,o=h.z-this.z||0;return u*u+l*l+o*o},length:function(){var h=this.x,u=this.y,l=this.z;return Math.sqrt(h*h+u*u+l*l)},lengthSq:function(){var h=this.x,u=this.y,l=this.z;return h*h+u*u+l*l},normalize:function(){var h=this.x,u=this.y,l=this.z,o=h*h+u*u+l*l;return o>0&&(o=1/Math.sqrt(o),this.x=h*o,this.y=u*o,this.z=l*o),this},dot:function(h){return this.x*h.x+this.y*h.y+this.z*h.z},cross:function(h){var u=this.x,l=this.y,o=this.z,d=h.x,p=h.y,f=h.z;return this.x=l*f-o*p,this.y=o*d-u*f,this.z=u*p-l*d,this},lerp:function(h,u){u===void 0&&(u=0);var l=this.x,o=this.y,d=this.z;return this.x=l+u*(h.x-l),this.y=o+u*(h.y-o),this.z=d+u*(h.z-d),this},applyMatrix3:function(h){var u=this.x,l=this.y,o=this.z,d=h.val;return this.x=d[0]*u+d[3]*l+d[6]*o,this.y=d[1]*u+d[4]*l+d[7]*o,this.z=d[2]*u+d[5]*l+d[8]*o,this},applyMatrix4:function(h){var u=this.x,l=this.y,o=this.z,d=h.val,p=1/(d[3]*u+d[7]*l+d[11]*o+d[15]);return this.x=(d[0]*u+d[4]*l+d[8]*o+d[12])*p,this.y=(d[1]*u+d[5]*l+d[9]*o+d[13])*p,this.z=(d[2]*u+d[6]*l+d[10]*o+d[14])*p,this},transformMat3:function(h){var u=this.x,l=this.y,o=this.z,d=h.val;return this.x=u*d[0]+l*d[3]+o*d[6],this.y=u*d[1]+l*d[4]+o*d[7],this.z=u*d[2]+l*d[5]+o*d[8],this},transformMat4:function(h){var u=this.x,l=this.y,o=this.z,d=h.val;return this.x=d[0]*u+d[4]*l+d[8]*o+d[12],this.y=d[1]*u+d[5]*l+d[9]*o+d[13],this.z=d[2]*u+d[6]*l+d[10]*o+d[14],this},transformCoordinates:function(h){var u=this.x,l=this.y,o=this.z,d=h.val,p=u*d[0]+l*d[4]+o*d[8]+d[12],f=u*d[1]+l*d[5]+o*d[9]+d[13],y=u*d[2]+l*d[6]+o*d[10]+d[14],w=u*d[3]+l*d[7]+o*d[11]+d[15];return this.x=p/w,this.y=f/w,this.z=y/w,this},transformQuat:function(h){var u=this.x,l=this.y,o=this.z,d=h.x,p=h.y,f=h.z,y=h.w,w=y*u+p*o-f*l,x=y*l+f*u-d*o,b=y*o+d*l-p*u,E=-d*u-p*l-f*o;return this.x=w*y+E*-d+x*-f-b*-p,this.y=x*y+E*-p+b*-d-w*-f,this.z=b*y+E*-f+w*-p-x*-d,this},project:function(h){var u=this.x,l=this.y,o=this.z,d=h.val,p=d[0],f=d[1],y=d[2],w=d[3],x=d[4],b=d[5],E=d[6],C=d[7],T=d[8],S=d[9],A=d[10],P=d[11],R=d[12],L=d[13],D=d[14],$=d[15],F=1/(u*w+l*C+o*P+$);return this.x=(u*p+l*x+o*T+R)*F,this.y=(u*f+l*b+o*S+L)*F,this.z=(u*y+l*E+o*A+D)*F,this},projectViewMatrix:function(h,u){return this.applyMatrix4(h).applyMatrix4(u)},unprojectViewMatrix:function(h,u){return this.applyMatrix4(h).applyMatrix4(u)},unproject:function(h,u){var l=h.x,o=h.y,d=h.z,p=h.w,f=this.x-l,y=p-this.y-1-o,w=this.z;return this.x=2*f/d-1,this.y=2*y/p-1,this.z=2*w-1,this.project(u)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});v.ZERO=new v,v.RIGHT=new v(1,0,0),v.LEFT=new v(-1,0,0),v.UP=new v(0,-1,0),v.DOWN=new v(0,1,0),v.FORWARD=new v(0,0,1),v.BACK=new v(0,0,-1),v.ONE=new v(1,1,1),s.exports=v}),61369:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=new a({initialize:function(u,l,o,d){this.x=0,this.y=0,this.z=0,this.w=0,typeof u=="object"?(this.x=u.x||0,this.y=u.y||0,this.z=u.z||0,this.w=u.w||0):(this.x=u||0,this.y=l||0,this.z=o||0,this.w=d||0)},clone:function(){return new v(this.x,this.y,this.z,this.w)},copy:function(h){return this.x=h.x,this.y=h.y,this.z=h.z||0,this.w=h.w||0,this},equals:function(h){return this.x===h.x&&this.y===h.y&&this.z===h.z&&this.w===h.w},set:function(h,u,l,o){return typeof h=="object"?(this.x=h.x||0,this.y=h.y||0,this.z=h.z||0,this.w=h.w||0):(this.x=h||0,this.y=u||0,this.z=l||0,this.w=o||0),this},add:function(h){return this.x+=h.x,this.y+=h.y,this.z+=h.z||0,this.w+=h.w||0,this},subtract:function(h){return this.x-=h.x,this.y-=h.y,this.z-=h.z||0,this.w-=h.w||0,this},scale:function(h){return this.x*=h,this.y*=h,this.z*=h,this.w*=h,this},length:function(){var h=this.x,u=this.y,l=this.z,o=this.w;return Math.sqrt(h*h+u*u+l*l+o*o)},lengthSq:function(){var h=this.x,u=this.y,l=this.z,o=this.w;return h*h+u*u+l*l+o*o},normalize:function(){var h=this.x,u=this.y,l=this.z,o=this.w,d=h*h+u*u+l*l+o*o;return d>0&&(d=1/Math.sqrt(d),this.x=h*d,this.y=u*d,this.z=l*d,this.w=o*d),this},dot:function(h){return this.x*h.x+this.y*h.y+this.z*h.z+this.w*h.w},lerp:function(h,u){u===void 0&&(u=0);var l=this.x,o=this.y,d=this.z,p=this.w;return this.x=l+u*(h.x-l),this.y=o+u*(h.y-o),this.z=d+u*(h.z-d),this.w=p+u*(h.w-p),this},multiply:function(h){return this.x*=h.x,this.y*=h.y,this.z*=h.z||1,this.w*=h.w||1,this},divide:function(h){return this.x/=h.x,this.y/=h.y,this.z/=h.z||1,this.w/=h.w||1,this},distance:function(h){var u=h.x-this.x,l=h.y-this.y,o=h.z-this.z||0,d=h.w-this.w||0;return Math.sqrt(u*u+l*l+o*o+d*d)},distanceSq:function(h){var u=h.x-this.x,l=h.y-this.y,o=h.z-this.z||0,d=h.w-this.w||0;return u*u+l*l+o*o+d*d},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(h){var u=this.x,l=this.y,o=this.z,d=this.w,p=h.val;return this.x=p[0]*u+p[4]*l+p[8]*o+p[12]*d,this.y=p[1]*u+p[5]*l+p[9]*o+p[13]*d,this.z=p[2]*u+p[6]*l+p[10]*o+p[14]*d,this.w=p[3]*u+p[7]*l+p[11]*o+p[15]*d,this},transformQuat:function(h){var u=this.x,l=this.y,o=this.z,d=h.x,p=h.y,f=h.z,y=h.w,w=y*u+p*o-f*l,x=y*l+f*u-d*o,b=y*o+d*l-p*u,E=-d*u-p*l-f*o;return this.x=w*y+E*-d+x*-f-b*-p,this.y=x*y+E*-p+b*-d-w*-f,this.z=b*y+E*-f+w*-p-x*-d,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});v.prototype.sub=v.prototype.subtract,v.prototype.mul=v.prototype.multiply,v.prototype.div=v.prototype.divide,v.prototype.dist=v.prototype.distance,v.prototype.distSq=v.prototype.distanceSq,v.prototype.len=v.prototype.length,v.prototype.lenSq=v.prototype.lengthSq,s.exports=v}),60417:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){return Math.abs(r-a)<=v};s.exports=g}),15994:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){var h=v-a;return a+((r-a)%h+h)%h};s.exports=g}),31040:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h){return Math.atan2(h-a,v-r)};s.exports=g}),55495:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return Math.atan2(a.y-r.y,a.x-r.x)};s.exports=g}),128:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return Math.atan2(a.x-r.x,a.y-r.y)};s.exports=g}),41273:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h){return Math.atan2(v-r,h-a)};s.exports=g}),1432:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(36383),v=function(h){return h>Math.PI&&(h-=a.PI2),Math.abs(((h+a.TAU)%a.PI2-a.PI2)%a.PI2)};s.exports=v}),49127:((s,g,r)=>{/**
 * @author       samme
 * @copyright    2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(12407),v=function(h,u){return a(u-h)};s.exports=v}),52285:((s,g,r)=>{/**
 * @author       samme
 * @copyright    2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(12407),v=2*Math.PI,h=function(u,l){var o=a(l-u);return o>0&&(o-=v),o};s.exports=h}),67317:((s,g,r)=>{/**
 * @author       samme
 * @copyright    2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(86554),v=function(h,u){return a(u-h)};s.exports=v}),12407:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r=r%(2*Math.PI),r>=0?r:r+2*Math.PI};s.exports=g}),53993:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(99472),v=function(){return a(-Math.PI,Math.PI)};s.exports=v}),86564:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(99472),v=function(){return a(-180,180)};s.exports=v}),90154:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(12407),v=function(h){return a(h+Math.PI)};s.exports=v}),48736:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(36383),v=function(h,u,l){return l===void 0&&(l=.05),h===u||(Math.abs(u-h)<=l||Math.abs(u-h)>=a.PI2-l?h=u:(Math.abs(u-h)>Math.PI&&(u<h?u+=a.PI2:u-=a.PI2),u>h?h+=l:u<h&&(h-=l))),h};s.exports=v}),61430:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){var v=a-r;if(v===0)return 0;var h=Math.floor((v- -180)/360);return v-h*360};s.exports=g}),86554:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(15994),v=function(h){return a(h,-Math.PI,Math.PI)};s.exports=v}),30954:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(15994),v=function(h){return a(h,-180,180)};s.exports=v}),25588:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Between:r(31040),BetweenPoints:r(55495),BetweenPointsY:r(128),BetweenY:r(41273),CounterClockwise:r(1432),GetClockwiseDistance:r(49127),GetCounterClockwiseDistance:r(52285),GetShortestDistance:r(67317),Normalize:r(12407),Random:r(53993),RandomDegrees:r(86564),Reverse:r(90154),RotateTo:r(48736),ShortestBetween:r(61430),Wrap:r(86554),WrapDegrees:r(30954)}}),36383:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};s.exports=g}),20339:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h){var u=r-v,l=a-h;return Math.sqrt(u*u+l*l)};s.exports=g}),52816:(s=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){var v=r.x-a.x,h=r.y-a.y;return Math.sqrt(v*v+h*h)};s.exports=g}),64559:(s=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){var v=r.x-a.x,h=r.y-a.y;return v*v+h*h};s.exports=g}),82340:(s=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h){return Math.max(Math.abs(r-v),Math.abs(a-h))};s.exports=g}),14390:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h,u){return u===void 0&&(u=2),Math.sqrt(Math.pow(v-r,u)+Math.pow(h-a,u))};s.exports=g}),2243:(s=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h){return Math.abs(r-v)+Math.abs(a-h)};s.exports=g}),89774:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h){var u=r-v,l=a-h;return u*u+l*l};s.exports=g}),50994:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Between:r(20339),BetweenPoints:r(52816),BetweenPointsSquared:r(64559),Chebyshev:r(82340),Power:r(14390),Snake:r(2243),Squared:r(89774)}}),62640:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(54178),v=r(41521),h=r(79980),u=r(85433),l=r(99140),o=r(48857),d=r(81596),p=r(59133),f=r(98516),y=r(35248),w=r(82500),x=r(49752);s.exports={Power0:d,Power1:p.Out,Power2:u.Out,Power3:f.Out,Power4:y.Out,Linear:d,Quad:p.Out,Cubic:u.Out,Quart:f.Out,Quint:y.Out,Sine:w.Out,Expo:o.Out,Circ:h.Out,Elastic:l.Out,Back:a.Out,Bounce:v.Out,Stepped:x,"Quad.easeIn":p.In,"Cubic.easeIn":u.In,"Quart.easeIn":f.In,"Quint.easeIn":y.In,"Sine.easeIn":w.In,"Expo.easeIn":o.In,"Circ.easeIn":h.In,"Elastic.easeIn":l.In,"Back.easeIn":a.In,"Bounce.easeIn":v.In,"Quad.easeOut":p.Out,"Cubic.easeOut":u.Out,"Quart.easeOut":f.Out,"Quint.easeOut":y.Out,"Sine.easeOut":w.Out,"Expo.easeOut":o.Out,"Circ.easeOut":h.Out,"Elastic.easeOut":l.Out,"Back.easeOut":a.Out,"Bounce.easeOut":v.Out,"Quad.easeInOut":p.InOut,"Cubic.easeInOut":u.InOut,"Quart.easeInOut":f.InOut,"Quint.easeInOut":y.InOut,"Sine.easeInOut":w.InOut,"Expo.easeInOut":o.InOut,"Circ.easeInOut":h.InOut,"Elastic.easeInOut":l.InOut,"Back.easeInOut":a.InOut,"Bounce.easeInOut":v.InOut}}),1639:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return a===void 0&&(a=1.70158),r*r*((a+1)*r-a)};s.exports=g}),50099:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){a===void 0&&(a=1.70158);var v=a*1.525;return(r*=2)<1?.5*(r*r*((v+1)*r-v)):.5*((r-=2)*r*((v+1)*r+v)+2)};s.exports=g}),41286:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return a===void 0&&(a=1.70158),--r*r*((a+1)*r+a)+1};s.exports=g}),54178:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={In:r(1639),Out:r(41286),InOut:r(50099)}}),59590:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r=1-r,r<.36363636363636365?1-7.5625*r*r:r<.7272727272727273?1-(7.5625*(r-=.5454545454545454)*r+.75):r<.9090909090909091?1-(7.5625*(r-=.8181818181818182)*r+.9375):1-(7.5625*(r-=.9545454545454546)*r+.984375)};s.exports=g}),41788:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){var a=!1;return r<.5?(r=1-r*2,a=!0):r=r*2-1,r<.36363636363636365?r=7.5625*r*r:r<.7272727272727273?r=7.5625*(r-=.5454545454545454)*r+.75:r<.9090909090909091?r=7.5625*(r-=.8181818181818182)*r+.9375:r=7.5625*(r-=.9545454545454546)*r+.984375,a?(1-r)*.5:r*.5+.5};s.exports=g}),69905:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r<.36363636363636365?7.5625*r*r:r<.7272727272727273?7.5625*(r-=.5454545454545454)*r+.75:r<.9090909090909091?7.5625*(r-=.8181818181818182)*r+.9375:7.5625*(r-=.9545454545454546)*r+.984375};s.exports=g}),41521:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={In:r(59590),Out:r(69905),InOut:r(41788)}}),91861:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return 1-Math.sqrt(1-r*r)};s.exports=g}),4177:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return(r*=2)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1)};s.exports=g}),57512:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return Math.sqrt(1- --r*r)};s.exports=g}),79980:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={In:r(91861),Out:r(57512),InOut:r(4177)}}),51150:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r*r*r};s.exports=g}),82820:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return(r*=2)<1?.5*r*r*r:.5*((r-=2)*r*r+2)};s.exports=g}),35033:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return--r*r*r+1};s.exports=g}),85433:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={In:r(51150),Out:r(35033),InOut:r(82820)}}),69965:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){if(a===void 0&&(a=.1),v===void 0&&(v=.1),r===0)return 0;if(r===1)return 1;var h=v/4;return a<1?a=1:h=v*Math.asin(1/a)/(2*Math.PI),-(a*Math.pow(2,10*(r-=1))*Math.sin((r-h)*(2*Math.PI)/v))};s.exports=g}),50665:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){if(a===void 0&&(a=.1),v===void 0&&(v=.1),r===0)return 0;if(r===1)return 1;var h=v/4;return a<1?a=1:h=v*Math.asin(1/a)/(2*Math.PI),(r*=2)<1?-.5*(a*Math.pow(2,10*(r-=1))*Math.sin((r-h)*(2*Math.PI)/v)):a*Math.pow(2,-10*(r-=1))*Math.sin((r-h)*(2*Math.PI)/v)*.5+1};s.exports=g}),7744:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){if(a===void 0&&(a=.1),v===void 0&&(v=.1),r===0)return 0;if(r===1)return 1;var h=v/4;return a<1?a=1:h=v*Math.asin(1/a)/(2*Math.PI),a*Math.pow(2,-10*r)*Math.sin((r-h)*(2*Math.PI)/v)+1};s.exports=g}),99140:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={In:r(69965),Out:r(7744),InOut:r(50665)}}),24590:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return Math.pow(2,10*(r-1))-.001};s.exports=g}),87844:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return(r*=2)<1?.5*Math.pow(2,10*(r-1)):.5*(2-Math.pow(2,-10*(r-1)))};s.exports=g}),89433:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return 1-Math.pow(2,-10*r)};s.exports=g}),48857:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={In:r(24590),Out:r(89433),InOut:r(87844)}}),48820:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Back:r(54178),Bounce:r(41521),Circular:r(79980),Cubic:r(85433),Elastic:r(99140),Expo:r(48857),Linear:r(81596),Quadratic:r(59133),Quartic:r(98516),Quintic:r(35248),Sine:r(82500),Stepped:r(49752)}}),7147:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r};s.exports=g}),81596:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports=r(7147)}),34826:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r*r};s.exports=g}),20544:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return(r*=2)<1?.5*r*r:-.5*(--r*(r-2)-1)};s.exports=g}),92029:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r*(2-r)};s.exports=g}),59133:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={In:r(34826),Out:r(92029),InOut:r(20544)}}),64413:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r*r*r*r};s.exports=g}),78137:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return(r*=2)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2)};s.exports=g}),45840:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return 1- --r*r*r*r};s.exports=g}),98516:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={In:r(64413),Out:r(45840),InOut:r(78137)}}),87745:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r*r*r*r*r};s.exports=g}),16509:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return(r*=2)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2)};s.exports=g}),17868:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return--r*r*r*r*r+1};s.exports=g}),35248:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={In:r(87745),Out:r(17868),InOut:r(16509)}}),80461:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r===0?0:r===1?1:1-Math.cos(r*Math.PI/2)};s.exports=g}),34025:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r===0?0:r===1?1:.5*(1-Math.cos(Math.PI*r))};s.exports=g}),52768:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r===0?0:r===1?1:Math.sin(r*Math.PI/2)};s.exports=g}),82500:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={In:r(80461),Out:r(52768),InOut:r(34025)}}),72251:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return a===void 0&&(a=1),r<=0?0:r>=1?1:((a*r|0)+1)*(1/a)};s.exports=g}),49752:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports=r(72251)}),75698:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return a===void 0&&(a=1e-4),Math.ceil(r-a)};s.exports=g}),43855:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){return v===void 0&&(v=1e-4),Math.abs(r-a)<v};s.exports=g}),25777:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return a===void 0&&(a=1e-4),Math.floor(r+a)};s.exports=g}),5470:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){return v===void 0&&(v=1e-4),r>a-v};s.exports=g}),94977:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){return v===void 0&&(v=1e-4),r<a+v};s.exports=g}),48379:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Ceil:r(75698),Equal:r(43855),Floor:r(25777),GreaterThan:r(5470),LessThan:r(94977)}}),75508:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(36383),v=r(79291),h={Angle:r(25588),Distance:r(50994),Easing:r(48820),Fuzzy:r(48379),Interpolation:r(38289),Pow2:r(49001),Snap:r(73697),RandomDataGenerator:r(28453),Average:r(53307),Bernstein:r(85710),Between:r(30976),CatmullRom:r(87842),CeilTo:r(26302),Clamp:r(45319),DegToRad:r(39506),Difference:r(61241),Euler:r(38857),Factorial:r(6411),FloatBetween:r(99472),FloorTo:r(77623),FromPercent:r(62945),GetSpeed:r(38265),IsEven:r(78702),IsEvenStrict:r(94883),Linear:r(28915),LinearXY:r(94908),MaxAdd:r(86883),Median:r(50040),MinSub:r(37204),Percent:r(65201),RadToDeg:r(43396),RandomXY:r(74362),RandomXYZ:r(60706),RandomXYZW:r(67421),Rotate:r(36305),RotateAround:r(11520),RotateAroundDistance:r(1163),RotateTo:r(70336),RoundAwayFromZero:r(2284),RoundTo:r(41013),SinCosTableGenerator:r(16922),SmootherStep:r(54261),SmoothStep:r(7602),ToXY:r(44408),TransformXY:r(85955),Within:r(60417),Wrap:r(15994),Vector2:r(26099),Vector3:r(25836),Vector4:r(61369),Matrix3:r(94434),Matrix4:r(37867),Quaternion:r(15746),RotateVec3:r(72678)};h=v(!1,h,a),s.exports=h}),89318:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(85710),v=function(h,u){for(var l=0,o=h.length-1,d=0;d<=o;d++)l+=Math.pow(1-u,o-d)*Math.pow(u,d)*h[d]*a(o,d);return l};s.exports=v}),77259:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(87842),v=function(h,u){var l=h.length-1,o=l*u,d=Math.floor(o);return h[0]===h[l]?(u<0&&(d=Math.floor(o=l*(1+u))),a(o-d,h[(d-1+l)%l],h[d],h[(d+1)%l],h[(d+2)%l])):u<0?h[0]-(a(-o,h[0],h[0],h[1],h[1])-h[0]):u>1?h[l]-(a(o-l,h[l],h[l],h[l-1],h[l-1])-h[l]):a(o-d,h[d?d-1:0],h[d],h[l<d+1?l:d+1],h[l<d+2?l:d+2])};s.exports=v}),36316:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function g(u,l){var o=1-u;return o*o*o*l}function r(u,l){var o=1-u;return 3*o*o*u*l}function a(u,l){return 3*(1-u)*u*u*l}function v(u,l){return u*u*u*l}var h=function(u,l,o,d,p){return g(u,l)+r(u,o)+a(u,d)+v(u,p)};s.exports=h}),28392:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(28915),v=function(h,u){var l=h.length-1,o=l*u,d=Math.floor(o);return u<0?a(h[0],h[1],o):u>1?a(h[l],h[l-1],l-o):a(h[d],h[d+1>l?l:d+1],o-d)};s.exports=v}),32112:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function g(h,u){var l=1-h;return l*l*u}function r(h,u){return 2*(1-h)*h*u}function a(h,u){return h*h*u}var v=function(h,u,l,o){return g(h,u)+r(h,l)+a(h,o)};s.exports=v}),47235:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(7602),v=function(h,u,l){return u+(l-u)*a(h,0,1)};s.exports=v}),50178:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(54261),v=function(h,u,l){return u+(l-u)*a(h,0,1)};s.exports=v}),38289:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Bezier:r(89318),CatmullRom:r(77259),CubicBezier:r(36316),Linear:r(28392),QuadraticBezier:r(32112),SmoothStep:r(47235),SmootherStep:r(50178)}}),98439:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){var a=Math.log(r)/.6931471805599453;return 1<<Math.ceil(a)};s.exports=g}),50030:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return r>0&&(r&r-1)===0&&a>0&&(a&a-1)===0};s.exports=g}),81230:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r>0&&(r&r-1)===0};s.exports=g}),49001:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={GetNext:r(98439),IsSize:r(50030),IsValue:r(81230)}}),28453:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=new a({initialize:function(u){u===void 0&&(u=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],u&&this.init(u)},rnd:function(){var h=2091639*this.s0+this.c*23283064365386963e-26;return this.c=h|0,this.s0=this.s1,this.s1=this.s2,this.s2=h-this.c,this.s2},hash:function(h){var u,l=this.n;h=h.toString();for(var o=0;o<h.length;o++)l+=h.charCodeAt(o),u=.02519603282416938*l,l=u>>>0,u-=l,u*=l,l=u>>>0,u-=l,l+=u*4294967296;return this.n=l,(l>>>0)*23283064365386963e-26},init:function(h){typeof h=="string"?this.state(h):this.sow(h)},sow:function(h){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!h)for(var u=0;u<h.length&&h[u]!=null;u++){var l=h[u];this.s0-=this.hash(l),this.s0+=~~(this.s0<0),this.s1-=this.hash(l),this.s1+=~~(this.s1<0),this.s2-=this.hash(l),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(h,u){return Math.floor(this.realInRange(0,u-h+1)+h)},between:function(h,u){return Math.floor(this.realInRange(0,u-h+1)+h)},realInRange:function(h,u){return this.frac()*(u-h)+h},normal:function(){return 1-2*this.frac()},uuid:function(){var h="",u="";for(u=h="";h++<36;u+=~h%5|h*3&4?(h^15?8^this.frac()*(h^20?16:4):4).toString(16):"-");return u},pick:function(h){return h[this.integerInRange(0,h.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(h){return h[~~(Math.pow(this.frac(),2)*(h.length-.5)+.5)]},timestamp:function(h,u){return this.realInRange(h||9466848e5,u||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(h){return typeof h=="string"&&h.match(/^!rnd/)&&(h=h.split(","),this.c=parseFloat(h[1]),this.s0=parseFloat(h[2]),this.s1=parseFloat(h[3]),this.s2=parseFloat(h[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(h){for(var u=h.length-1,l=u;l>0;l--){var o=Math.floor(this.frac()*(l+1)),d=h[o];h[o]=h[l],h[l]=d}return h}});s.exports=v}),63448:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h){return v===void 0&&(v=0),a===0?r:(r-=v,r=a*Math.ceil(r/a),h?(v+r)/a:v+r)};s.exports=g}),56583:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h){return v===void 0&&(v=0),a===0?r:(r-=v,r=a*Math.floor(r/a),h?(v+r)/a:v+r)};s.exports=g}),77720:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h){return v===void 0&&(v=0),a===0?r:(r-=v,r=a*Math.round(r/a),h?(v+r)/a:v+r)};s.exports=g}),73697:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Ceil:r(63448),Floor:r(56583),To:r(77720)}}),85454:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r(63595);var a=r(8054),v=r(79291),h={Actions:r(61061),Animations:r(60421),BlendModes:r(10312),Cache:r(83388),Cameras:r(26638),Core:r(42857),Class:r(83419),Create:r(15822),Curves:r(25410),Data:r(44965),Display:r(27460),DOM:r(84902),Events:r(93055),FX:r(66064),Game:r(50127),GameObjects:r(77856),Geom:r(55738),Input:r(14350),Loader:r(57777),Math:r(75508),Physics:r(44563),Plugins:r(18922),Renderer:r(36909),Scale:r(93364),ScaleModes:r(29795),Scene:r(97482),Scenes:r(62194),Structs:r(41392),Textures:r(27458),Tilemaps:r(62501),Time:r(90291),Tweens:r(43066),Utils:r(91799)};h.Sound=r(23717),h=v(!1,h,a),s.exports=h,r.g.Phaser=h}),71289:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(92209),h=r(88571),u=new a({Extends:h,Mixins:[v.Acceleration,v.Angular,v.Bounce,v.Collision,v.Debug,v.Drag,v.Enable,v.Friction,v.Gravity,v.Immovable,v.Mass,v.Pushable,v.Size,v.Velocity],initialize:function(o,d,p,f,y){h.call(this,o,d,p,f,y),this.body=null}});s.exports=u}),86689:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(39506),h=r(20339),u=r(89774),l=r(66022),o=r(95540),d=r(46975),p=r(72441),f=r(47956),y=r(37277),w=r(44594),x=r(26099),b=r(82248),E=new a({initialize:function(T){this.scene=T,this.systems=T.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,T.sys.events.once(w.BOOT,this.boot,this),T.sys.events.on(w.START,this.start,this)},boot:function(){this.world=new b(this.scene,this.config),this.add=new l(this.world),this.systems.events.once(w.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new b(this.scene,this.config),this.add=new l(this.world));var C=this.systems.events;o(this.config,"customUpdate",!1)||C.on(w.UPDATE,this.world.update,this.world),C.on(w.POST_UPDATE,this.world.postUpdate,this.world),C.once(w.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(w.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(w.UPDATE,this.world.update,this.world)},getConfig:function(){var C=this.systems.game.config.physics,T=this.systems.settings.physics,S=d(o(T,"arcade",{}),o(C,"arcade",{}));return S},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(C,T,S,A,P){return S===void 0&&(S=null),A===void 0&&(A=null),P===void 0&&(P=S),this.world.collideObjects(C,T,S,A,P,!0)},collide:function(C,T,S,A,P){return S===void 0&&(S=null),A===void 0&&(A=null),P===void 0&&(P=S),this.world.collideObjects(C,T,S,A,P,!1)},collideTiles:function(C,T,S,A,P){return this.world.collideTiles(C,T,S,A,P)},overlapTiles:function(C,T,S,A,P){return this.world.overlapTiles(C,T,S,A,P)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(C,T,S,A,P,R){A===void 0&&(A=60);var L=Math.atan2(S-C.y,T-C.x);return C.body.acceleration.setToPolar(L,A),P!==void 0&&R!==void 0&&C.body.maxVelocity.set(P,R),L},accelerateToObject:function(C,T,S,A,P){return this.accelerateTo(C,T.x,T.y,S,A,P)},closest:function(C,T){T||(T=this.world.bodies.entries);for(var S=Number.MAX_VALUE,A=null,P=C.x,R=C.y,L=T.length,D=0;D<L;D++){var $=T[D],F=$.body||$;if(!(C===$||C===F||C===F.gameObject||C===F.center)){var N=u(P,R,F.center.x,F.center.y);N<S&&(A=$,S=N)}}return A},furthest:function(C,T){T||(T=this.world.bodies.entries);for(var S=-1,A=null,P=C.x,R=C.y,L=T.length,D=0;D<L;D++){var $=T[D],F=$.body||$;if(!(C===$||C===F||C===F.gameObject||C===F.center)){var N=u(P,R,F.center.x,F.center.y);N>S&&(A=$,S=N)}}return A},moveTo:function(C,T,S,A,P){A===void 0&&(A=60),P===void 0&&(P=0);var R=Math.atan2(S-C.y,T-C.x);return P>0&&(A=h(C.x,C.y,T,S)/(P/1e3)),C.body.velocity.setToPolar(R,A),R},moveToObject:function(C,T,S,A){return this.moveTo(C,T.x,T.y,S,A)},velocityFromAngle:function(C,T,S){return T===void 0&&(T=60),S===void 0&&(S=new x),S.setToPolar(v(C),T)},velocityFromRotation:function(C,T,S){return T===void 0&&(T=60),S===void 0&&(S=new x),S.setToPolar(C,T)},overlapRect:function(C,T,S,A,P,R){return f(this.world,C,T,S,A,P,R)},overlapCirc:function(C,T,S,A,P){return p(this.world,C,T,S,A,P)},shutdown:function(){if(this.world){var C=this.systems.events;C.off(w.UPDATE,this.world.update,this.world),C.off(w.POST_UPDATE,this.world.postUpdate,this.world),C.off(w.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(w.START,this.start,this),this.scene=null,this.systems=null}});y.register("ArcadePhysics",E,"arcadePhysics"),s.exports=E}),13759:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(92209),h=r(68287),u=new a({Extends:h,Mixins:[v.Acceleration,v.Angular,v.Bounce,v.Collision,v.Debug,v.Drag,v.Enable,v.Friction,v.Gravity,v.Immovable,v.Mass,v.Pushable,v.Size,v.Velocity],initialize:function(o,d,p,f,y){h.call(this,o,d,p,f,y),this.body=null}});s.exports=u}),37742:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(78389),h=r(37747),u=r(63012),l=r(43396),o=r(87841),d=r(37303),p=r(95829),f=r(26099),y=new a({Mixins:[v],initialize:function(x,b){var E=64,C=64,T={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},S=b!==void 0;S&&b.displayWidth&&(E=b.displayWidth,C=b.displayHeight),S||(b=T),this.world=x,this.gameObject=S?b:void 0,this.isBody=!0,this.transform={x:b.x,y:b.y,rotation:b.angle,scaleX:b.scaleX,scaleY:b.scaleY,displayOriginX:b.displayOriginX,displayOriginY:b.displayOriginY},this.debugShowBody=x.defaults.debugShowBody,this.debugShowVelocity=x.defaults.debugShowVelocity,this.debugBodyColor=x.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new f,this.position=new f(b.x-b.scaleX*b.displayOriginX,b.y-b.scaleY*b.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=b.angle,this.preRotation=b.angle,this.width=E,this.height=C,this.sourceWidth=E,this.sourceHeight=C,b.frame&&(this.sourceWidth=b.frame.realWidth,this.sourceHeight=b.frame.realHeight),this.halfWidth=Math.abs(E/2),this.halfHeight=Math.abs(C/2),this.center=new f(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new f,this.newVelocity=new f,this.deltaMax=new f,this.acceleration=new f,this.allowDrag=!0,this.drag=new f,this.allowGravity=!0,this.gravity=new f,this.bounce=new f,this.worldBounce=null,this.customBoundsRectangle=x.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new f(1e4,1e4),this.maxSpeed=-1,this.friction=new f(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=h.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new f(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=p(!1),this.touching=p(!0),this.wasTouching=p(!0),this.blocked=p(!0),this.syncBounds=!1,this.physicsType=h.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=b.scaleX,this._sy=b.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new o,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var w=this.gameObject,x=this.transform;if(w.parentContainer){var b=w.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);x.x=b.tx,x.y=b.ty,x.rotation=l(b.rotation),x.scaleX=b.scaleX,x.scaleY=b.scaleY,x.displayOriginX=w.displayOriginX,x.displayOriginY=w.displayOriginY}else x.x=w.x,x.y=w.y,x.rotation=w.angle,x.scaleX=w.scaleX,x.scaleY=w.scaleY,x.displayOriginX=w.displayOriginX,x.displayOriginY=w.displayOriginY;var E=!1;if(this.syncBounds){var C=w.getBounds(this._bounds);this.width=C.width,this.height=C.height,E=!0}else{var T=Math.abs(x.scaleX),S=Math.abs(x.scaleY);(this._sx!==T||this._sy!==S)&&(this.width=this.sourceWidth*T,this.height=this.sourceHeight*S,this._sx=T,this._sy=S,E=!0)}E&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var w=this.transform;this.position.x=w.x+w.scaleX*(this.offset.x-w.displayOriginX),this.position.y=w.y+w.scaleY*(this.offset.y-w.displayOriginY),this.updateCenter()},resetFlags:function(w){w===void 0&&(w=!1);var x=this.wasTouching,b=this.touching,E=this.blocked;w?p(!0,x):(x.none=b.none,x.up=b.up,x.down=b.down,x.left=b.left,x.right=b.right),p(!0,b),p(!0,E),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(w,x){if(w&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var b=this.position;this.prev.x=b.x,this.prev.y=b.y,this.prevFrame.x=b.x,this.prevFrame.y=b.y}w&&this.update(x)},update:function(w){var x=this.prev,b=this.position,E=this.velocity;if(x.set(b.x,b.y),!this.moves){this._dx=b.x-x.x,this._dy=b.y-x.y;return}if(this.directControl){var C=this.autoFrame;E.set((b.x-C.x)/w,(b.y-C.y)/w),this.world.updateMotion(this,w),this._dx=b.x-C.x,this._dy=b.y-C.y}else this.world.updateMotion(this,w),this.newVelocity.set(E.x*w,E.y*w),b.add(this.newVelocity),this._dx=b.x-x.x,this._dy=b.y-x.y;var T=E.x,S=E.y;if(this.updateCenter(),this.angle=Math.atan2(S,T),this.speed=Math.sqrt(T*T+S*S),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var A=this.blocked;this.world.emit(u.WORLD_BOUNDS,this,A.up,A.down,A.left,A.right)}},postUpdate:function(){var w=this.position,x=w.x-this.prevFrame.x,b=w.y-this.prevFrame.y,E=this.gameObject;if(this.moves){var C=this.deltaMax.x,T=this.deltaMax.y;C!==0&&x!==0&&(x<0&&x<-C?x=-C:x>0&&x>C&&(x=C)),T!==0&&b!==0&&(b<0&&b<-T?b=-T:b>0&&b>T&&(b=T)),E&&(E.x+=x,E.y+=b)}x<0?this.facing=h.FACING_LEFT:x>0&&(this.facing=h.FACING_RIGHT),b<0?this.facing=h.FACING_UP:b>0&&(this.facing=h.FACING_DOWN),this.allowRotation&&E&&(E.angle+=this.deltaZ()),this._tx=x,this._ty=b,this.autoFrame.set(w.x,w.y)},setBoundsRectangle:function(w){return this.customBoundsRectangle=w||this.world.bounds,this},checkWorldBounds:function(){var w=this.position,x=this.velocity,b=this.blocked,E=this.customBoundsRectangle,C=this.world.checkCollision,T=this.worldBounce?-this.worldBounce.x:-this.bounce.x,S=this.worldBounce?-this.worldBounce.y:-this.bounce.y,A=!1;return w.x<E.x&&C.left?(w.x=E.x,x.x*=T,b.left=!0,A=!0):this.right>E.right&&C.right&&(w.x=E.right-this.width,x.x*=T,b.right=!0,A=!0),w.y<E.y&&C.up?(w.y=E.y,x.y*=S,b.up=!0,A=!0):this.bottom>E.bottom&&C.down&&(w.y=E.bottom-this.height,x.y*=S,b.down=!0,A=!0),A&&(this.blocked.none=!1,this.updateCenter()),A},setOffset:function(w,x){return x===void 0&&(x=w),this.offset.set(w,x),this},setGameObject:function(w,x){if(x===void 0&&(x=!0),!w||!w.hasTransformComponent)return this;var b=this.world;return this.gameObject&&this.gameObject.body&&(b.disable(this.gameObject),this.gameObject.body=null),w.body&&b.disable(w),this.gameObject=w,w.body=this,this.setSize(),this.enable=x,this},setSize:function(w,x,b){b===void 0&&(b=!0);var E=this.gameObject;if(E&&(!w&&E.frame&&(w=E.frame.realWidth),!x&&E.frame&&(x=E.frame.realHeight)),this.sourceWidth=w,this.sourceHeight=x,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),b&&E&&E.getCenter){var C=(E.width-w)/2,T=(E.height-x)/2;this.offset.set(C,T)}return this.isCircle=!1,this.radius=0,this},setCircle:function(w,x,b){return x===void 0&&(x=this.offset.x),b===void 0&&(b=this.offset.y),w>0?(this.isCircle=!0,this.radius=w,this.sourceWidth=w*2,this.sourceHeight=w*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(x,b),this.updateCenter()):this.isCircle=!1,this},reset:function(w,x){this.stop();var b=this.gameObject;b&&(b.setPosition(w,x),this.rotation=b.angle,this.preRotation=b.angle);var E=this.position;b&&b.getTopLeft?b.getTopLeft(E):E.set(w,x),this.prev.copy(E),this.prevFrame.copy(E),this.autoFrame.copy(E),b&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(w){return w.x=this.x,w.y=this.y,w.right=this.right,w.bottom=this.bottom,w},hitTest:function(w,x){if(!this.isCircle)return d(this,w,x);if(this.radius>0&&w>=this.left&&w<=this.right&&x>=this.top&&x<=this.bottom){var b=(this.center.x-w)*(this.center.x-w),E=(this.center.y-x)*(this.center.y-x);return b+E<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(w){var x=this.position,b=x.x+this.halfWidth,E=x.y+this.halfHeight;this.debugShowBody&&(w.lineStyle(w.defaultStrokeWidth,this.debugBodyColor),this.isCircle?w.strokeCircle(b,E,this.width/2):(this.checkCollision.up&&w.lineBetween(x.x,x.y,x.x+this.width,x.y),this.checkCollision.right&&w.lineBetween(x.x+this.width,x.y,x.x+this.width,x.y+this.height),this.checkCollision.down&&w.lineBetween(x.x,x.y+this.height,x.x+this.width,x.y+this.height),this.checkCollision.left&&w.lineBetween(x.x,x.y,x.x,x.y+this.height))),this.debugShowVelocity&&(w.lineStyle(w.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),w.lineBetween(b,E,b+this.velocity.x/2,E+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(w){return w===void 0&&(w=!0),this.directControl=w,this},setCollideWorldBounds:function(w,x,b,E){w===void 0&&(w=!0),this.collideWorldBounds=w;var C=x!==void 0,T=b!==void 0;return(C||T)&&(this.worldBounce||(this.worldBounce=new f),C&&(this.worldBounce.x=x),T&&(this.worldBounce.y=b)),E!==void 0&&(this.onWorldBounds=E),this},setVelocity:function(w,x){return this.velocity.set(w,x),w=this.velocity.x,x=this.velocity.y,this.speed=Math.sqrt(w*w+x*x),this},setVelocityX:function(w){return this.setVelocity(w,this.velocity.y)},setVelocityY:function(w){return this.setVelocity(this.velocity.x,w)},setMaxVelocity:function(w,x){return this.maxVelocity.set(w,x),this},setMaxVelocityX:function(w){return this.maxVelocity.x=w,this},setMaxVelocityY:function(w){return this.maxVelocity.y=w,this},setMaxSpeed:function(w){return this.maxSpeed=w,this},setSlideFactor:function(w,x){return this.slideFactor.set(w,x),this},setBounce:function(w,x){return this.bounce.set(w,x),this},setBounceX:function(w){return this.bounce.x=w,this},setBounceY:function(w){return this.bounce.y=w,this},setAcceleration:function(w,x){return this.acceleration.set(w,x),this},setAccelerationX:function(w){return this.acceleration.x=w,this},setAccelerationY:function(w){return this.acceleration.y=w,this},setAllowDrag:function(w){return w===void 0&&(w=!0),this.allowDrag=w,this},setAllowGravity:function(w){return w===void 0&&(w=!0),this.allowGravity=w,this},setAllowRotation:function(w){return w===void 0&&(w=!0),this.allowRotation=w,this},setDrag:function(w,x){return this.drag.set(w,x),this},setDamping:function(w){return this.useDamping=w,this},setDragX:function(w){return this.drag.x=w,this},setDragY:function(w){return this.drag.y=w,this},setGravity:function(w,x){return this.gravity.set(w,x),this},setGravityX:function(w){return this.gravity.x=w,this},setGravityY:function(w){return this.gravity.y=w,this},setFriction:function(w,x){return this.friction.set(w,x),this},setFrictionX:function(w){return this.friction.x=w,this},setFrictionY:function(w){return this.friction.y=w,this},setAngularVelocity:function(w){return this.angularVelocity=w,this},setAngularAcceleration:function(w){return this.angularAcceleration=w,this},setAngularDrag:function(w){return this.angularDrag=w,this},setMass:function(w){return this.mass=w,this},setImmovable:function(w){return w===void 0&&(w=!0),this.immovable=w,this},setEnable:function(w){return w===void 0&&(w=!0),this.enable=w,this},processX:function(w,x,b,E){this.x+=w,this.updateCenter(),x!==null&&(this.velocity.x=x*this.slideFactor.x);var C=this.blocked;b&&(C.left=!0,C.none=!1),E&&(C.right=!0,C.none=!1)},processY:function(w,x,b,E){this.y+=w,this.updateCenter(),x!==null&&(this.velocity.y=x*this.slideFactor.y);var C=this.blocked;b&&(C.up=!0,C.none=!1),E&&(C.down=!0,C.none=!1)},x:{get:function(){return this.position.x},set:function(w){this.position.x=w}},y:{get:function(){return this.position.y},set:function(w){this.position.y=w}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});s.exports=y}),79342:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=new a({initialize:function(u,l,o,d,p,f,y){this.world=u,this.name="",this.active=!0,this.overlapOnly=l,this.object1=o,this.object2=d,this.collideCallback=p,this.processCallback=f,this.callbackContext=y},setName:function(h){return this.name=h,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});s.exports=v}),66022:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(71289),v=r(13759),h=r(37742),u=r(83419),l=r(37747),o=r(60758),d=r(72624),p=r(71464),f=new u({initialize:function(w){this.world=w,this.scene=w.scene,this.sys=w.scene.sys},collider:function(y,w,x,b,E){return this.world.addCollider(y,w,x,b,E)},overlap:function(y,w,x,b,E){return this.world.addOverlap(y,w,x,b,E)},existing:function(y,w){var x=w?l.STATIC_BODY:l.DYNAMIC_BODY;return this.world.enableBody(y,x),y},staticImage:function(y,w,x,b){var E=new a(this.scene,y,w,x,b);return this.sys.displayList.add(E),this.world.enableBody(E,l.STATIC_BODY),E},image:function(y,w,x,b){var E=new a(this.scene,y,w,x,b);return this.sys.displayList.add(E),this.world.enableBody(E,l.DYNAMIC_BODY),E},staticSprite:function(y,w,x,b){var E=new v(this.scene,y,w,x,b);return this.sys.displayList.add(E),this.sys.updateList.add(E),this.world.enableBody(E,l.STATIC_BODY),E},sprite:function(y,w,x,b){var E=new v(this.scene,y,w,x,b);return this.sys.displayList.add(E),this.sys.updateList.add(E),this.world.enableBody(E,l.DYNAMIC_BODY),E},staticGroup:function(y,w){return this.sys.updateList.add(new p(this.world,this.world.scene,y,w))},group:function(y,w){return this.sys.updateList.add(new o(this.world,this.world.scene,y,w))},body:function(y,w,x,b){var E=new h(this.world);return E.position.set(y,w),x&&b&&E.setSize(x,b),this.world.add(E,l.DYNAMIC_BODY),E},staticBody:function(y,w,x,b){var E=new d(this.world);return E.position.set(y,w),x&&b&&E.setSize(x,b),this.world.add(E,l.STATIC_BODY),E},destroy:function(){this.world=null,this.scene=null,this.sys=null}});s.exports=f}),79599:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){var a=0;if(!Array.isArray(r))a=r;else for(var v=0;v<r.length;v++)a|=r[v];return a};s.exports=g}),64897:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(37747),v=function(h,u,l,o){var d=0,p=h.deltaAbsX()+u.deltaAbsX()+o;return h._dx===0&&u._dx===0?(h.embedded=!0,u.embedded=!0):h._dx>u._dx?(d=h.right-u.x,d>p&&!l||h.checkCollision.right===!1||u.checkCollision.left===!1?d=0:(h.touching.none=!1,h.touching.right=!0,u.touching.none=!1,u.touching.left=!0,u.physicsType===a.STATIC_BODY&&!l&&(h.blocked.none=!1,h.blocked.right=!0),h.physicsType===a.STATIC_BODY&&!l&&(u.blocked.none=!1,u.blocked.left=!0))):h._dx<u._dx&&(d=h.x-u.width-u.x,-d>p&&!l||h.checkCollision.left===!1||u.checkCollision.right===!1?d=0:(h.touching.none=!1,h.touching.left=!0,u.touching.none=!1,u.touching.right=!0,u.physicsType===a.STATIC_BODY&&!l&&(h.blocked.none=!1,h.blocked.left=!0),h.physicsType===a.STATIC_BODY&&!l&&(u.blocked.none=!1,u.blocked.right=!0))),h.overlapX=d,u.overlapX=d,d};s.exports=v}),45170:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(37747),v=function(h,u,l,o){var d=0,p=h.deltaAbsY()+u.deltaAbsY()+o;return h._dy===0&&u._dy===0?(h.embedded=!0,u.embedded=!0):h._dy>u._dy?(d=h.bottom-u.y,d>p&&!l||h.checkCollision.down===!1||u.checkCollision.up===!1?d=0:(h.touching.none=!1,h.touching.down=!0,u.touching.none=!1,u.touching.up=!0,u.physicsType===a.STATIC_BODY&&!l&&(h.blocked.none=!1,h.blocked.down=!0),h.physicsType===a.STATIC_BODY&&!l&&(u.blocked.none=!1,u.blocked.up=!0))):h._dy<u._dy&&(d=h.y-u.bottom,-d>p&&!l||h.checkCollision.up===!1||u.checkCollision.down===!1?d=0:(h.touching.none=!1,h.touching.up=!0,u.touching.none=!1,u.touching.down=!0,u.physicsType===a.STATIC_BODY&&!l&&(h.blocked.none=!1,h.blocked.up=!0),h.physicsType===a.STATIC_BODY&&!l&&(u.blocked.none=!1,u.blocked.down=!0))),h.overlapY=d,u.overlapY=d,d};s.exports=v}),60758:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(13759),v=r(83419),h=r(78389),u=r(37747),l=r(95540),o=r(26479),d=r(41212),p=new v({Extends:o,Mixins:[h],initialize:function(y,w,x,b){if(!x&&!b)b={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(d(x))b=x,x=null,b.internalCreateCallback=this.createCallbackHandler,b.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(x)&&d(x[0])){var E=this;x.forEach(function(C){C.internalCreateCallback=E.createCallbackHandler,C.internalRemoveCallback=E.removeCallbackHandler,C.classType=l(C,"classType",a)}),b=null}else b={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=y,b&&(b.classType=l(b,"classType",a)),this.physicsType=u.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=2147483647,this.defaults={setCollideWorldBounds:l(b,"collideWorldBounds",!1),setBoundsRectangle:l(b,"customBoundsRectangle",null),setAccelerationX:l(b,"accelerationX",0),setAccelerationY:l(b,"accelerationY",0),setAllowDrag:l(b,"allowDrag",!0),setAllowGravity:l(b,"allowGravity",!0),setAllowRotation:l(b,"allowRotation",!0),setDamping:l(b,"useDamping",!1),setBounceX:l(b,"bounceX",0),setBounceY:l(b,"bounceY",0),setDragX:l(b,"dragX",0),setDragY:l(b,"dragY",0),setEnable:l(b,"enable",!0),setGravityX:l(b,"gravityX",0),setGravityY:l(b,"gravityY",0),setFrictionX:l(b,"frictionX",0),setFrictionY:l(b,"frictionY",0),setMaxSpeed:l(b,"maxSpeed",-1),setMaxVelocityX:l(b,"maxVelocityX",1e4),setMaxVelocityY:l(b,"maxVelocityY",1e4),setVelocityX:l(b,"velocityX",0),setVelocityY:l(b,"velocityY",0),setAngularVelocity:l(b,"angularVelocity",0),setAngularAcceleration:l(b,"angularAcceleration",0),setAngularDrag:l(b,"angularDrag",0),setMass:l(b,"mass",1),setImmovable:l(b,"immovable",!1)},o.call(this,w,x,b),this.type="PhysicsGroup"},createCallbackHandler:function(f){f.body||this.world.enableBody(f,u.DYNAMIC_BODY);var y=f.body;for(var w in this.defaults)y[w](this.defaults[w])},removeCallbackHandler:function(f){f.body&&this.world.disableBody(f)},setVelocity:function(f,y,w){w===void 0&&(w=0);for(var x=this.getChildren(),b=0;b<x.length;b++)x[b].body.velocity.set(f+b*w,y+b*w);return this},setVelocityX:function(f,y){y===void 0&&(y=0);for(var w=this.getChildren(),x=0;x<w.length;x++)w[x].body.velocity.x=f+x*y;return this},setVelocityY:function(f,y){y===void 0&&(y=0);for(var w=this.getChildren(),x=0;x<w.length;x++)w[x].body.velocity.y=f+x*y;return this}});s.exports=p}),3017:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g,r,a,v,h,u,l,o,d,p,f,y,w,x,b,E,C,T=function(D,$,F){g=D,r=$;var N=g.velocity.x,k=r.velocity.x;return a=g.pushable,d=g._dx<0,p=g._dx>0,f=g._dx===0,b=Math.abs(g.right-r.x)<=Math.abs(r.right-g.x),l=k-N*g.bounce.x,v=r.pushable,y=r._dx<0,w=r._dx>0,x=r._dx===0,E=!b,o=N-k*r.bounce.x,C=Math.abs(F),S()},S=function(){return p&&b&&r.blocked.right?(g.processX(-C,l,!1,!0),1):d&&E&&r.blocked.left?(g.processX(C,l,!0),1):w&&E&&g.blocked.right?(r.processX(-C,o,!1,!0),2):y&&b&&g.blocked.left?(r.processX(C,o,!0),2):0},A=function(){var D=g.velocity.x,$=r.velocity.x,F=Math.sqrt($*$*r.mass/g.mass)*($>0?1:-1),N=Math.sqrt(D*D*g.mass/r.mass)*(D>0?1:-1),k=(F+N)*.5;return F-=k,N-=k,h=k+F*g.bounce.x,u=k+N*r.bounce.x,d&&E?P(0):y&&b?P(1):p&&b?P(2):w&&E?P(3):!1},P=function(D){if(a&&v)C*=.5,D===0||D===3?(g.processX(C,h),r.processX(-C,u)):(g.processX(-C,h),r.processX(C,u));else if(a&&!v)D===0||D===3?g.processX(C,l,!0):g.processX(-C,l,!1,!0);else if(!a&&v)D===0||D===3?r.processX(-C,o,!1,!0):r.processX(C,o,!0);else{var $=C*.5;D===0?x?(g.processX(C,0,!0),r.processX(0,null,!1,!0)):w?(g.processX($,0,!0),r.processX(-$,0,!1,!0)):(g.processX($,r.velocity.x,!0),r.processX(-$,null,!1,!0)):D===1?f?(g.processX(0,null,!1,!0),r.processX(C,0,!0)):p?(g.processX(-$,0,!1,!0),r.processX($,0,!0)):(g.processX(-$,null,!1,!0),r.processX($,g.velocity.x,!0)):D===2?x?(g.processX(-C,0,!1,!0),r.processX(0,null,!0)):y?(g.processX(-$,0,!1,!0),r.processX($,0,!0)):(g.processX(-$,r.velocity.x,!1,!0),r.processX($,null,!0)):D===3&&(f?(g.processX(0,null,!0),r.processX(-C,0,!1,!0)):d?(g.processX($,0,!0),r.processX(-$,0,!1,!0)):(g.processX($,r.velocity.y,!0),r.processX(-$,null,!1,!0)))}return!0},R=function(D){if(D===1?r.velocity.x=0:b?r.processX(C,o,!0):r.processX(-C,o,!1,!0),g.moves){var $=g.directControl?g.y-g.autoFrame.y:g.y-g.prev.y;r.y+=$*g.friction.y,r._dy=r.y-r.prev.y}},L=function(D){if(D===2?g.velocity.x=0:E?g.processX(C,l,!0):g.processX(-C,l,!1,!0),r.moves){var $=r.directControl?r.y-r.autoFrame.y:r.y-r.prev.y;g.y+=$*r.friction.y,g._dy=g.y-g.prev.y}};s.exports={BlockCheck:S,Check:A,Set:T,Run:P,RunImmovableBody1:R,RunImmovableBody2:L}}),47962:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g,r,a,v,h,u,l,o,d,p,f,y,w,x,b,E,C,T=function(D,$,F){g=D,r=$;var N=g.velocity.y,k=r.velocity.y;return a=g.pushable,d=g._dy<0,p=g._dy>0,f=g._dy===0,b=Math.abs(g.bottom-r.y)<=Math.abs(r.bottom-g.y),l=k-N*g.bounce.y,v=r.pushable,y=r._dy<0,w=r._dy>0,x=r._dy===0,E=!b,o=N-k*r.bounce.y,C=Math.abs(F),S()},S=function(){return p&&b&&r.blocked.down?(g.processY(-C,l,!1,!0),1):d&&E&&r.blocked.up?(g.processY(C,l,!0),1):w&&E&&g.blocked.down?(r.processY(-C,o,!1,!0),2):y&&b&&g.blocked.up?(r.processY(C,o,!0),2):0},A=function(){var D=g.velocity.y,$=r.velocity.y,F=Math.sqrt($*$*r.mass/g.mass)*($>0?1:-1),N=Math.sqrt(D*D*g.mass/r.mass)*(D>0?1:-1),k=(F+N)*.5;return F-=k,N-=k,h=k+F*g.bounce.y,u=k+N*r.bounce.y,d&&E?P(0):y&&b?P(1):p&&b?P(2):w&&E?P(3):!1},P=function(D){if(a&&v)C*=.5,D===0||D===3?(g.processY(C,h),r.processY(-C,u)):(g.processY(-C,h),r.processY(C,u));else if(a&&!v)D===0||D===3?g.processY(C,l,!0):g.processY(-C,l,!1,!0);else if(!a&&v)D===0||D===3?r.processY(-C,o,!1,!0):r.processY(C,o,!0);else{var $=C*.5;D===0?x?(g.processY(C,0,!0),r.processY(0,null,!1,!0)):w?(g.processY($,0,!0),r.processY(-$,0,!1,!0)):(g.processY($,r.velocity.y,!0),r.processY(-$,null,!1,!0)):D===1?f?(g.processY(0,null,!1,!0),r.processY(C,0,!0)):p?(g.processY(-$,0,!1,!0),r.processY($,0,!0)):(g.processY(-$,null,!1,!0),r.processY($,g.velocity.y,!0)):D===2?x?(g.processY(-C,0,!1,!0),r.processY(0,null,!0)):y?(g.processY(-$,0,!1,!0),r.processY($,0,!0)):(g.processY(-$,r.velocity.y,!1,!0),r.processY($,null,!0)):D===3&&(f?(g.processY(0,null,!0),r.processY(-C,0,!1,!0)):d?(g.processY($,0,!0),r.processY(-$,0,!1,!0)):(g.processY($,r.velocity.y,!0),r.processY(-$,null,!1,!0)))}return!0},R=function(D){if(D===1?r.velocity.y=0:b?r.processY(C,o,!0):r.processY(-C,o,!1,!0),g.moves){var $=g.directControl?g.x-g.autoFrame.x:g.x-g.prev.x;r.x+=$*g.friction.x,r._dx=r.x-r.prev.x}},L=function(D){if(D===2?g.velocity.y=0:E?g.processY(C,l,!0):g.processY(-C,l,!1,!0),r.moves){var $=r.directControl?r.x-r.autoFrame.x:r.x-r.prev.x;g.x+=$*r.friction.x,g._dx=g.x-g.prev.x}};s.exports={BlockCheck:S,Check:A,Set:T,Run:P,RunImmovableBody1:R,RunImmovableBody2:L}}),14087:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(64897),v=r(3017),h=function(u,l,o,d,p){p===void 0&&(p=a(u,l,o,d));var f=u.immovable,y=l.immovable;if(o||p===0||f&&y||u.customSeparateX||l.customSeparateX)return p!==0||u.embedded&&l.embedded;var w=v.Set(u,l,p);return!f&&!y?w>0?!0:v.Check():(f?v.RunImmovableBody1(w):y&&v.RunImmovableBody2(w),!0)};s.exports=h}),89936:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(45170),v=r(47962),h=function(u,l,o,d,p){p===void 0&&(p=a(u,l,o,d));var f=u.immovable,y=l.immovable;if(o||p===0||f&&y||u.customSeparateY||l.customSeparateY)return p!==0||u.embedded&&l.embedded;var w=v.Set(u,l,p);return!f&&!y?w>0?!0:v.Check():(f?v.RunImmovableBody1(w):y&&v.RunImmovableBody2(w),!0)};s.exports=h}),95829:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return a===void 0&&(a={}),a.none=r,a.up=!1,a.down=!1,a.left=!1,a.right=!1,r||(a.up=!0,a.down=!0,a.left=!0,a.right=!0),a};s.exports=g}),72624:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(87902),v=r(83419),h=r(78389),u=r(37747),l=r(37303),o=r(95829),d=r(26099),p=new v({Mixins:[h],initialize:function(y,w){var x=64,b=64,E={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},C=w!==void 0;C&&w.displayWidth&&(x=w.displayWidth,b=w.displayHeight),C||(w=E),this.world=y,this.gameObject=C?w:void 0,this.isBody=!0,this.debugShowBody=y.defaults.debugShowStaticBody,this.debugBodyColor=y.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new d,this.position=new d(w.x-x*w.originX,w.y-b*w.originY),this.width=x,this.height=b,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new d(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=d.ZERO,this.allowGravity=!1,this.gravity=d.ZERO,this.bounce=d.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=o(!1),this.touching=o(!0),this.wasTouching=o(!0),this.blocked=o(!0),this.physicsType=u.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(f,y,w){if(y===void 0&&(y=!0),w===void 0&&(w=!0),!f||!f.hasTransformComponent)return this;var x=this.world;return this.gameObject&&this.gameObject.body&&(x.disable(this.gameObject),this.gameObject.body=null),f.body&&x.disable(f),this.gameObject=f,f.body=this,this.setSize(),y&&this.updateFromGameObject(),this.enable=w,this},updateFromGameObject:function(){this.world.staticTree.remove(this);var f=this.gameObject;return f.getTopLeft(this.position),this.width=f.displayWidth,this.height=f.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(f,y){return y===void 0&&(y=f),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(f,y),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(f,y,w){w===void 0&&(w=!0);var x=this.gameObject;if(x&&x.frame&&(f||(f=x.frame.realWidth),y||(y=x.frame.realHeight)),this.world.staticTree.remove(this),this.width=f,this.height=y,this.halfWidth=Math.floor(f/2),this.halfHeight=Math.floor(y/2),w&&x&&x.getCenter){var b=x.displayWidth/2,E=x.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(b-this.halfWidth,E-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(f,y,w){return y===void 0&&(y=this.offset.x),w===void 0&&(w=this.offset.y),f>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=f,this.width=f*2,this.height=f*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(y,w),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(f,y){var w=this.gameObject;f===void 0&&(f=w.x),y===void 0&&(y=w.y),this.world.staticTree.remove(this),w.setPosition(f,y),w.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(f){return f.x=this.x,f.y=this.y,f.right=this.right,f.bottom=this.bottom,f},hitTest:function(f,y){return this.isCircle?a(this,f,y):l(this,f,y)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(f){var y=this.position,w=y.x+this.halfWidth,x=y.y+this.halfHeight;this.debugShowBody&&(f.lineStyle(f.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?f.strokeCircle(w,x,this.width/2):f.strokeRect(y.x,y.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(f){return f<=0&&(f=.1),this.mass=f,this},x:{get:function(){return this.position.x},set:function(f){this.world.staticTree.remove(this),this.position.x=f,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(f){this.world.staticTree.remove(this),this.position.y=f,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});s.exports=p}),71464:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(13759),v=r(83419),h=r(78389),u=r(37747),l=r(95540),o=r(26479),d=r(41212),p=new v({Extends:o,Mixins:[h],initialize:function(y,w,x,b){!x&&!b?b={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:a}:d(x)?(b=x,x=null,b.internalCreateCallback=this.createCallbackHandler,b.internalRemoveCallback=this.removeCallbackHandler,b.createMultipleCallback=this.createMultipleCallbackHandler,b.classType=l(b,"classType",a)):Array.isArray(x)&&d(x[0])?(b=x,x=null,b.forEach(function(E){E.internalCreateCallback=this.createCallbackHandler,E.internalRemoveCallback=this.removeCallbackHandler,E.createMultipleCallback=this.createMultipleCallbackHandler,E.classType=l(E,"classType",a)})):b={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=y,this.physicsType=u.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,o.call(this,w,x,b),this.type="StaticPhysicsGroup"},createCallbackHandler:function(f){f.body||this.world.enableBody(f,u.STATIC_BODY)},removeCallbackHandler:function(f){f.body&&this.world.disableBody(f)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var f=this.children.entries,y=0;y<f.length;y++)f[y].body.reset();return this}});s.exports=p}),82248:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(55495),v=r(37742),h=r(45319),u=r(83419),l=r(79342),o=r(37747),d=r(20339),p=r(52816),f=r(50792),y=r(63012),w=r(43855),x=r(5470),b=r(94977),E=r(64897),C=r(45170),T=r(96523),S=r(35154),A=r(36383),P=r(25774),R=r(96602),L=r(87841),D=r(59542),$=r(40012),F=r(14087),N=r(89936),k=r(35072),j=r(72624),W=r(2483),G=r(61340),K=r(26099),z=r(15994),X=new u({Extends:f,initialize:function(Z,V){f.call(this),this.scene=Z,this.bodies=new k,this.staticBodies=new k,this.pendingDestroy=new k,this.colliders=new P,this.gravity=new K(S(V,"gravity.x",0),S(V,"gravity.y",0)),this.bounds=new L(S(V,"x",0),S(V,"y",0),S(V,"width",Z.sys.scale.width),S(V,"height",Z.sys.scale.height)),this.checkCollision={up:S(V,"checkCollision.up",!0),down:S(V,"checkCollision.down",!0),left:S(V,"checkCollision.left",!0),right:S(V,"checkCollision.right",!0)},this.fps=S(V,"fps",60),this.fixedStep=S(V,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=S(V,"timeScale",1),this.OVERLAP_BIAS=S(V,"overlapBias",4),this.TILE_BIAS=S(V,"tileBias",16),this.forceX=S(V,"forceX",!1),this.isPaused=S(V,"isPaused",!1),this._total=0,this.drawDebug=S(V,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:S(V,"debugShowBody",!0),debugShowStaticBody:S(V,"debugShowStaticBody",!0),debugShowVelocity:S(V,"debugShowVelocity",!0),bodyDebugColor:S(V,"debugBodyColor",16711935),staticBodyDebugColor:S(V,"debugStaticBodyColor",255),velocityDebugColor:S(V,"debugVelocityColor",65280)},this.maxEntries=S(V,"maxEntries",16),this.useTree=S(V,"useTree",!0),this.tree=new D(this.maxEntries),this.staticTree=new D(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new G,this._tempMatrix2=new G,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(U,Z){Z===void 0&&(Z=o.DYNAMIC_BODY),Array.isArray(U)||(U=[U]);for(var V=0;V<U.length;V++){var J=U[V];if(J.isParent)for(var Q=J.getChildren(),ee=0;ee<Q.length;ee++){var te=Q[ee];te.isParent?this.enable(te,Z):this.enableBody(te,Z)}else this.enableBody(J,Z)}},enableBody:function(U,Z){return Z===void 0&&(Z=o.DYNAMIC_BODY),U.hasTransformComponent&&(U.body||(Z===o.DYNAMIC_BODY?U.body=new v(this,U):Z===o.STATIC_BODY&&(U.body=new j(this,U))),this.add(U.body)),U},add:function(U){return U.physicsType===o.DYNAMIC_BODY?this.bodies.set(U):U.physicsType===o.STATIC_BODY&&(this.staticBodies.set(U),this.staticTree.insert(U)),U.enable=!0,U},disable:function(U){Array.isArray(U)||(U=[U]);for(var Z=0;Z<U.length;Z++){var V=U[Z];if(V.isParent)for(var J=V.getChildren(),Q=0;Q<J.length;Q++){var ee=J[Q];ee.isParent?this.disable(ee):this.disableBody(ee.body)}else this.disableBody(V.body)}},disableBody:function(U){this.remove(U),U.enable=!1},remove:function(U){U.physicsType===o.DYNAMIC_BODY?(this.tree.remove(U),this.bodies.delete(U)):U.physicsType===o.STATIC_BODY&&(this.staticBodies.delete(U),this.staticTree.remove(U))},createDebugGraphic:function(){var U=this.scene.sys.add.graphics({x:0,y:0});return U.setDepth(Number.MAX_VALUE),this.debugGraphic=U,this.drawDebug=!0,U},setBounds:function(U,Z,V,J,Q,ee,te,ie){return this.bounds.setTo(U,Z,V,J),Q!==void 0&&this.setBoundsCollision(Q,ee,te,ie),this},setBoundsCollision:function(U,Z,V,J){return U===void 0&&(U=!0),Z===void 0&&(Z=!0),V===void 0&&(V=!0),J===void 0&&(J=!0),this.checkCollision.left=U,this.checkCollision.right=Z,this.checkCollision.up=V,this.checkCollision.down=J,this},pause:function(){return this.isPaused=!0,this.emit(y.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(y.RESUME),this},addCollider:function(U,Z,V,J,Q){V===void 0&&(V=null),J===void 0&&(J=null),Q===void 0&&(Q=V);var ee=new l(this,!1,U,Z,V,J,Q);return this.colliders.add(ee),ee},addOverlap:function(U,Z,V,J,Q){V===void 0&&(V=null),J===void 0&&(J=null),Q===void 0&&(Q=V);var ee=new l(this,!0,U,Z,V,J,Q);return this.colliders.add(ee),ee},removeCollider:function(U){return this.colliders.remove(U),this},setFPS:function(U){return this.fps=U,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(U,Z){if(!(this.isPaused||this.bodies.size===0)){var V,J=this._frameTime,Q=this._frameTimeMS*this.timeScale;this._elapsed+=Z;var ee,te=this.bodies.entries,ie=this._elapsed>=Q;for(this.fixedStep||(J=Z*.001,ie=!0,this._elapsed=0),V=0;V<te.length;V++)ee=te[V],ee.enable&&ee.preUpdate(ie,J);if(ie){this._elapsed-=Q,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(te));var le=this.colliders.update();for(V=0;V<le.length;V++){var de=le[V];de.active&&de.update()}this.emit(y.WORLD_STEP,J)}for(;this._elapsed>=Q;)this._elapsed-=Q,this.step(J)}},step:function(U){var Z,V,J=this.bodies.entries,Q=J.length;for(Z=0;Z<Q;Z++)V=J[Z],V.enable&&V.update(U);this.useTree&&(this.tree.clear(),this.tree.load(J));var ee=this.colliders.update();for(Z=0;Z<ee.length;Z++){var te=ee[Z];te.active&&te.update()}this.emit(y.WORLD_STEP,U),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var U,Z,V=this.bodies.entries,J=V.length,Q=this.bodies,ee=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,U=0;U<J;U++)Z=V[U],Z.enable&&Z.postUpdate();if(this.drawDebug){var te=this.debugGraphic;for(te.clear(),U=0;U<J;U++)Z=V[U],Z.willDrawDebug()&&Z.drawDebug(te);for(V=ee.entries,J=V.length,U=0;U<J;U++)Z=V[U],Z.willDrawDebug()&&Z.drawDebug(te)}var ie=this.pendingDestroy;if(ie.size>0){var le=this.tree,de=this.staticTree;for(V=ie.entries,J=V.length,U=0;U<J;U++)Z=V[U],Z.physicsType===o.DYNAMIC_BODY?(le.remove(Z),Q.delete(Z)):Z.physicsType===o.STATIC_BODY&&(de.remove(Z),ee.delete(Z)),Z.world=void 0,Z.gameObject=void 0;ie.clear()}},updateMotion:function(U,Z){U.allowRotation&&this.computeAngularVelocity(U,Z),this.computeVelocity(U,Z)},computeAngularVelocity:function(U,Z){var V=U.angularVelocity,J=U.angularAcceleration,Q=U.angularDrag,ee=U.maxAngular;J?V+=J*Z:U.allowDrag&&Q&&(Q*=Z,x(V-Q,0,.1)?V-=Q:b(V+Q,0,.1)?V+=Q:V=0),V=h(V,-ee,ee);var te=V-U.angularVelocity;U.angularVelocity+=te,U.rotation+=U.angularVelocity*Z},computeVelocity:function(U,Z){var V=U.velocity.x,J=U.acceleration.x,Q=U.drag.x,ee=U.maxVelocity.x,te=U.velocity.y,ie=U.acceleration.y,le=U.drag.y,de=U.maxVelocity.y,fe=U.speed,oe=U.maxSpeed,Ee=U.allowDrag,ye=U.useDamping;U.allowGravity&&(V+=(this.gravity.x+U.gravity.x)*Z,te+=(this.gravity.y+U.gravity.y)*Z),J?V+=J*Z:Ee&&Q&&(ye?(Q=Math.pow(Q,Z),V*=Q,fe=Math.sqrt(V*V+te*te),w(fe,0,.001)&&(V=0)):(Q*=Z,x(V-Q,0,.01)?V-=Q:b(V+Q,0,.01)?V+=Q:V=0)),ie?te+=ie*Z:Ee&&le&&(ye?(le=Math.pow(le,Z),te*=le,fe=Math.sqrt(V*V+te*te),w(fe,0,.001)&&(te=0)):(le*=Z,x(te-le,0,.01)?te-=le:b(te+le,0,.01)?te+=le:te=0)),V=h(V,-ee,ee),te=h(te,-de,de),U.velocity.set(V,te),oe>-1&&U.velocity.length()>oe&&(U.velocity.normalize().scale(oe),fe=oe),U.speed=fe},separate:function(U,Z,V,J,Q){var ee,te,ie=!1,le=!0;if(!U.enable||!Z.enable||U.checkCollision.none||Z.checkCollision.none||!this.intersects(U,Z)||(U.collisionMask&Z.collisionCategory)===0||(Z.collisionMask&U.collisionCategory)===0||V&&V.call(J,U.gameObject||U,Z.gameObject||Z)===!1)return ie;if(U.isCircle||Z.isCircle){var de=this.separateCircle(U,Z,Q);de.result?(ie=!0,le=!1):(ee=de.x,te=de.y,le=!0)}if(le){var fe=!1,oe=!1,Ee=this.OVERLAP_BIAS;Q?(fe=F(U,Z,Q,Ee,ee),oe=N(U,Z,Q,Ee,te)):this.forceX||Math.abs(this.gravity.y+U.gravity.y)<Math.abs(this.gravity.x+U.gravity.x)?(fe=F(U,Z,Q,Ee,ee),this.intersects(U,Z)&&(oe=N(U,Z,Q,Ee,te))):(oe=N(U,Z,Q,Ee,te),this.intersects(U,Z)&&(fe=F(U,Z,Q,Ee,ee))),ie=fe||oe}return ie&&(Q?(U.onOverlap||Z.onOverlap)&&this.emit(y.OVERLAP,U.gameObject,Z.gameObject,U,Z):(U.onCollide||Z.onCollide)&&this.emit(y.COLLIDE,U.gameObject,Z.gameObject,U,Z)),ie},separateCircle:function(U,Z,V){E(U,Z,!1,0),C(U,Z,!1,0);var J=U.isCircle,Q=Z.isCircle,ee=U.center,te=Z.center,ie=U.immovable,le=Z.immovable,de=U.velocity,fe=Z.velocity,oe=0,Ee=!0;if(J!==Q){Ee=!1;var ye=ee.x,Ce=ee.y,Ie=U.halfWidth,je=Z.position.x,Re=Z.position.y,Fe=Z.right,Ae=Z.bottom;Q&&(ye=te.x,Ce=te.y,Ie=Z.halfWidth,je=U.position.x,Re=U.position.y,Fe=U.right,Ae=U.bottom),Ce<Re?ye<je?oe=d(ye,Ce,je,Re)-Ie:ye>Fe&&(oe=d(ye,Ce,Fe,Re)-Ie):Ce>Ae&&(ye<je?oe=d(ye,Ce,je,Ae)-Ie:ye>Fe&&(oe=d(ye,Ce,Fe,Ae)-Ie)),oe*=-1}else oe=U.halfWidth+Z.halfWidth-p(ee,te);U.overlapR=oe,Z.overlapR=oe;var Xe=a(ee,te),st=(oe+A.EPSILON)*Math.cos(Xe),vt=(oe+A.EPSILON)*Math.sin(Xe),Ge={overlap:oe,result:!1,x:st,y:vt};if(V&&(!Ee||Ee&&oe!==0))return Ge.result=!0,Ge;if(!Ee&&oe===0||ie&&le||U.customSeparateX||Z.customSeparateX)return Ge.x=void 0,Ge.y=void 0,Ge;var nt=!U.pushable&&!Z.pushable;if(Ee){var St=ee.x-te.x,Je=ee.y-te.y,He=Math.sqrt(Math.pow(St,2)+Math.pow(Je,2)),_e=(te.x-ee.x)/He||0,ht=(te.y-ee.y)/He||0,Dt=2*(de.x*_e+de.y*ht-fe.x*_e-fe.y*ht)/(U.mass+Z.mass);(ie||le||!U.pushable||!Z.pushable)&&(Dt*=2),!ie&&U.pushable&&(de.x=de.x-Dt/U.mass*_e,de.y=de.y-Dt/U.mass*ht,de.multiply(U.bounce)),!le&&Z.pushable&&(fe.x=fe.x+Dt/Z.mass*_e,fe.y=fe.y+Dt/Z.mass*ht,fe.multiply(Z.bounce)),!ie&&!le&&(st*=.5,vt*=.5),(!ie||U.pushable||nt)&&(U.x-=st,U.y-=vt,U.updateCenter()),(!le||Z.pushable||nt)&&(Z.x+=st,Z.y+=vt,Z.updateCenter()),Ge.result=!0}else!ie&&(U.pushable||nt)&&(U.x-=st,U.y-=vt,U.updateCenter()),!le&&(Z.pushable||nt)&&(Z.x+=st,Z.y+=vt,Z.updateCenter()),Ge.x=void 0,Ge.y=void 0;return Ge},intersects:function(U,Z){return U===Z?!1:!U.isCircle&&!Z.isCircle?!(U.right<=Z.left||U.bottom<=Z.top||U.left>=Z.right||U.top>=Z.bottom):U.isCircle?Z.isCircle?p(U.center,Z.center)<=U.halfWidth+Z.halfWidth:this.circleBodyIntersects(U,Z):this.circleBodyIntersects(Z,U)},circleBodyIntersects:function(U,Z){var V=h(U.center.x,Z.left,Z.right),J=h(U.center.y,Z.top,Z.bottom),Q=(U.center.x-V)*(U.center.x-V),ee=(U.center.y-J)*(U.center.y-J);return Q+ee<=U.halfWidth*U.halfWidth},overlap:function(U,Z,V,J,Q){return V===void 0&&(V=null),J===void 0&&(J=null),Q===void 0&&(Q=V),this.collideObjects(U,Z,V,J,Q,!0)},collide:function(U,Z,V,J,Q){return V===void 0&&(V=null),J===void 0&&(J=null),Q===void 0&&(Q=V),this.collideObjects(U,Z,V,J,Q,!1)},collideObjects:function(U,Z,V,J,Q,ee){var te,ie;U.isParent&&(U.physicsType===void 0||Z===void 0||U===Z)&&(U=U.children.entries),Z&&Z.isParent&&Z.physicsType===void 0&&(Z=Z.children.entries);var le=Array.isArray(U),de=Array.isArray(Z);if(this._total=0,!le&&!de)this.collideHandler(U,Z,V,J,Q,ee);else if(!le&&de)for(te=0;te<Z.length;te++)this.collideHandler(U,Z[te],V,J,Q,ee);else if(le&&!de)if(Z)for(te=0;te<U.length;te++)this.collideHandler(U[te],Z,V,J,Q,ee);else for(te=0;te<U.length;te++){var fe=U[te];for(ie=te+1;ie<U.length;ie++)te!==ie&&this.collideHandler(fe,U[ie],V,J,Q,ee)}else for(te=0;te<U.length;te++)for(ie=0;ie<Z.length;ie++)this.collideHandler(U[te],Z[ie],V,J,Q,ee);return this._total>0},collideHandler:function(U,Z,V,J,Q,ee){if(Z===void 0&&U.isParent)return this.collideGroupVsGroup(U,U,V,J,Q,ee);if(!U||!Z)return!1;if(U.body||U.isBody){if(Z.body||Z.isBody)return this.collideSpriteVsSprite(U,Z,V,J,Q,ee);if(Z.isParent)return this.collideSpriteVsGroup(U,Z,V,J,Q,ee);if(Z.isTilemap)return this.collideSpriteVsTilemapLayer(U,Z,V,J,Q,ee)}else if(U.isParent){if(Z.body||Z.isBody)return this.collideSpriteVsGroup(Z,U,V,J,Q,ee);if(Z.isParent)return this.collideGroupVsGroup(U,Z,V,J,Q,ee);if(Z.isTilemap)return this.collideGroupVsTilemapLayer(U,Z,V,J,Q,ee)}else if(U.isTilemap){if(Z.body||Z.isBody)return this.collideSpriteVsTilemapLayer(Z,U,V,J,Q,ee);if(Z.isParent)return this.collideGroupVsTilemapLayer(Z,U,V,J,Q,ee)}},canCollide:function(U,Z){return U&&Z&&(U.collisionMask&Z.collisionCategory)!==0&&(Z.collisionMask&U.collisionCategory)!==0},collideSpriteVsSprite:function(U,Z,V,J,Q,ee){var te=U.isBody?U:U.body,ie=Z.isBody?Z:Z.body;return this.canCollide(te,ie)?(this.separate(te,ie,J,Q,ee)&&(V&&V.call(Q,U,Z),this._total++),!0):!1},collideSpriteVsGroup:function(U,Z,V,J,Q,ee){var te=U.isBody?U:U.body;if(!(Z.getLength()===0||!te||!te.enable||te.checkCollision.none||!this.canCollide(te,Z))){var ie,le,de;if(this.useTree||Z.physicsType===o.STATIC_BODY){var fe=this.treeMinMax;fe.minX=te.left,fe.minY=te.top,fe.maxX=te.right,fe.maxY=te.bottom;var oe=Z.physicsType===o.DYNAMIC_BODY?this.tree.search(fe):this.staticTree.search(fe);for(le=oe.length,ie=0;ie<le;ie++)de=oe[ie],!(te===de||!de.enable||de.checkCollision.none||!Z.contains(de.gameObject))&&this.separate(te,de,J,Q,ee)&&(V&&V.call(Q,te.gameObject,de.gameObject),this._total++)}else{var Ee=Z.getChildren(),ye=Z.children.entries.indexOf(U);for(le=Ee.length,ie=0;ie<le;ie++)de=Ee[ie].body,!(!de||ie===ye||!de.enable)&&this.separate(te,de,J,Q,ee)&&(V&&V.call(Q,te.gameObject,de.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(U,Z,V,J,Q,ee){if(!this.canCollide(U,Z))return!1;var te=U.getChildren();if(te.length===0)return!1;for(var ie=!1,le=0;le<te.length;le++)(te[le].body||te[le].isBody)&&this.collideSpriteVsTilemapLayer(te[le],Z,V,J,Q,ee)&&(ie=!0);return ie},collideTiles:function(U,Z,V,J,Q){return Z.length===0||U.body&&!U.body.enable||U.isBody&&!U.enable?!1:this.collideSpriteVsTilesHandler(U,Z,V,J,Q,!1,!1)},overlapTiles:function(U,Z,V,J,Q){return Z.length===0||U.body&&!U.body.enable||U.isBody&&!U.enable?!1:this.collideSpriteVsTilesHandler(U,Z,V,J,Q,!0,!1)},collideSpriteVsTilemapLayer:function(U,Z,V,J,Q,ee){var te=U.isBody?U:U.body;if(!te.enable||te.checkCollision.none||!this.canCollide(te,Z))return!1;var ie=Z.layer,le=te.x-ie.tileWidth*Z.scaleX,de=te.y-ie.tileHeight*Z.scaleY,fe=te.width+ie.tileWidth*Z.scaleX,oe=te.height+ie.tileHeight*Z.scaleY,Ee=ee?null:this.tileFilterOptions,ye=T(le,de,fe,oe,Ee,Z.scene.cameras.main,Z.layer);return ye.length===0?!1:this.collideSpriteVsTilesHandler(U,ye,V,J,Q,ee,!0)},collideSpriteVsTilesHandler:function(U,Z,V,J,Q,ee,te){for(var ie=U.isBody?U:U.body,le,de={left:0,right:0,top:0,bottom:0},fe,oe=!1,Ee=0;Ee<Z.length;Ee++){le=Z[Ee],fe=le.tilemapLayer;var ye=fe.tileToWorldXY(le.x,le.y);de.left=ye.x,de.top=ye.y,de.right=de.left+le.width*fe.scaleX,de.bottom=de.top+le.height*fe.scaleY,W(de,ie)&&(!J||J.call(Q,U,le))&&R(le,U)&&(ee||$(Ee,ie,le,de,fe,this.TILE_BIAS,te))&&(this._total++,oe=!0,V&&V.call(Q,U,le),ee&&ie.onOverlap?this.emit(y.TILE_OVERLAP,U,le,ie):ie.onCollide&&this.emit(y.TILE_COLLIDE,U,le,ie))}return oe},collideGroupVsGroup:function(U,Z,V,J,Q,ee){if(!(U.getLength()===0||Z.getLength()===0||!this.canCollide(U,Z)))for(var te=U.getChildren(),ie=0;ie<te.length;ie++)this.collideSpriteVsGroup(te[ie],Z,V,J,Q,ee)},wrap:function(U,Z){U.body?this.wrapObject(U,Z):U.getChildren?this.wrapArray(U.getChildren(),Z):Array.isArray(U)?this.wrapArray(U,Z):this.wrapObject(U,Z)},wrapArray:function(U,Z){for(var V=0;V<U.length;V++)this.wrapObject(U[V],Z)},wrapObject:function(U,Z){Z===void 0&&(Z=0),U.x=z(U.x,this.bounds.left-Z,this.bounds.right+Z),U.y=z(U.y,this.bounds.top-Z,this.bounds.bottom+Z)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});s.exports=X}),1093:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={setAcceleration:function(r,a){return this.body.acceleration.set(r,a),this},setAccelerationX:function(r){return this.body.acceleration.x=r,this},setAccelerationY:function(r){return this.body.acceleration.y=r,this}};s.exports=g}),59023:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={setAngularVelocity:function(r){return this.body.angularVelocity=r,this},setAngularAcceleration:function(r){return this.body.angularAcceleration=r,this},setAngularDrag:function(r){return this.body.angularDrag=r,this}};s.exports=g}),62069:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={setBounce:function(r,a){return this.body.bounce.set(r,a),this},setBounceX:function(r){return this.body.bounce.x=r,this},setBounceY:function(r){return this.body.bounce.y=r,this},setCollideWorldBounds:function(r,a,v,h){return this.body.setCollideWorldBounds(r,a,v,h),this}};s.exports=g}),78389:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(79599),v={setCollisionCategory:function(h){var u=this.body?this.body:this;return u.collisionCategory=h,this},willCollideWith:function(h){var u=this.body?this.body:this;return(u.collisionMask&h)!==0},addCollidesWith:function(h){var u=this.body?this.body:this;return u.collisionMask=u.collisionMask|h,this},removeCollidesWith:function(h){var u=this.body?this.body:this;return u.collisionMask=u.collisionMask&~h,this},setCollidesWith:function(h){var u=this.body?this.body:this;return u.collisionMask=a(h),this},resetCollisionCategory:function(){var h=this.body?this.body:this;return h.collisionCategory=1,h.collisionMask=2147483647,this}};s.exports=v}),87118:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={setDebug:function(r,a,v){return this.debugShowBody=r,this.debugShowVelocity=a,this.debugBodyColor=v,this},setDebugBodyColor:function(r){return this.body.debugBodyColor=r,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(r){this.body.debugShowBody=r}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(r){this.body.debugShowVelocity=r}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(r){this.body.debugBodyColor=r}}};s.exports=g}),52819:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={setDrag:function(r,a){return this.body.drag.set(r,a),this},setDragX:function(r){return this.body.drag.x=r,this},setDragY:function(r){return this.body.drag.y=r,this},setDamping:function(r){return this.body.useDamping=r,this}};s.exports=g}),4074:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={setDirectControl:function(r){return this.body.setDirectControl(r),this},enableBody:function(r,a,v,h,u){return r&&this.body.reset(a,v),h&&(this.body.gameObject.active=!0),u&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(r,a){return r===void 0&&(r=!1),a===void 0&&(a=!1),this.body.stop(),this.body.enable=!1,r&&(this.body.gameObject.active=!1),a&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};s.exports=g}),40831:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={setFriction:function(r,a){return this.body.friction.set(r,a),this},setFrictionX:function(r){return this.body.friction.x=r,this},setFrictionY:function(r){return this.body.friction.y=r,this}};s.exports=g}),26775:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={setGravity:function(r,a){return this.body.gravity.set(r,a),this},setGravityX:function(r){return this.body.gravity.x=r,this},setGravityY:function(r){return this.body.gravity.y=r,this}};s.exports=g}),9437:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={setImmovable:function(r){return r===void 0&&(r=!0),this.body.immovable=r,this}};s.exports=g}),30621:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={setMass:function(r){return this.body.mass=r,this}};s.exports=g}),72441:((s,g,r)=>{var a=r(47956),v=r(96503),h=r(2044),u=r(81491),l=function(o,d,p,f,y,w){var x=a(o,d-f,p-f,2*f,2*f,y,w);if(x.length===0)return x;for(var b=new v(d,p,f),E=new v,C=[],T=0;T<x.length;T++){var S=x[T];S.isCircle?(E.setTo(S.center.x,S.center.y,S.halfWidth),h(b,E)&&C.push(S)):u(b,S)&&C.push(S)}return C};s.exports=l}),47956:(s=>{var g=function(r,a,v,h,u,l,o){l===void 0&&(l=!0),o===void 0&&(o=!1);var d=[],p=[],f=r.treeMinMax;if(f.minX=a,f.minY=v,f.maxX=a+h,f.maxY=v+u,o&&(p=r.staticTree.search(f)),l&&r.useTree)d=r.tree.search(f);else if(l){var y=r.bodies,w={position:{x:a,y:v},left:a,top:v,right:a+h,bottom:v+u,isCircle:!1},x=r.intersects;y.iterate(function(b){x(b,w)&&d.push(b)})}return p.concat(d)};s.exports=g}),62121:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={setPushable:function(r){return r===void 0&&(r=!0),this.body.pushable=r,this}};s.exports=g}),29384:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={setOffset:function(r,a){return this.body.setOffset(r,a),this},setSize:function(r,a,v){return this.body.setSize(r,a,v),this},setBodySize:function(r,a,v){return this.body.setSize(r,a,v),this},setCircle:function(r,a,v){return this.body.setCircle(r,a,v),this}};s.exports=g}),15098:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={setVelocity:function(r,a){return this.body.setVelocity(r,a),this},setVelocityX:function(r){return this.body.setVelocityX(r),this},setVelocityY:function(r){return this.body.setVelocityY(r),this},setMaxVelocity:function(r,a){return this.body.maxVelocity.set(r,a),this}};s.exports=g}),92209:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Acceleration:r(1093),Angular:r(59023),Bounce:r(62069),Collision:r(78389),Debug:r(87118),Drag:r(52819),Enable:r(4074),Friction:r(40831),Gravity:r(26775),Immovable:r(9437),Mass:r(30621),OverlapCirc:r(72441),OverlapRect:r(47956),Pushable:r(62121),Size:r(29384),Velocity:r(15098)}}),37747:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};s.exports=g}),20009:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="collide"}),36768:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="overlap"}),60473:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pause"}),89954:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="resume"}),61804:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="tilecollide"}),7161:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="tileoverlap"}),34689:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="worldbounds"}),16006:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="worldstep"}),63012:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={COLLIDE:r(20009),OVERLAP:r(36768),PAUSE:r(60473),RESUME:r(89954),TILE_COLLIDE:r(61804),TILE_OVERLAP:r(7161),WORLD_BOUNDS:r(34689),WORLD_STEP:r(16006)}}),27064:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(37747),v=r(79291),h={ArcadePhysics:r(86689),Body:r(37742),Collider:r(79342),Components:r(92209),Events:r(63012),Factory:r(66022),GetCollidesWith:r(79599),GetOverlapX:r(64897),GetOverlapY:r(45170),SeparateX:r(14087),SeparateY:r(89936),Group:r(60758),Image:r(71289),Sprite:r(13759),StaticBody:r(72624),StaticGroup:r(71464),Tilemap:r(55173),World:r(82248)};h=v(!1,h,a),s.exports=h}),96602:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return r.collisionCallback?!r.collisionCallback.call(r.collisionCallbackContext,a,r):r.layer.callbacks[r.index]?!r.layer.callbacks[r.index].callback.call(r.layer.callbacks[r.index].callbackContext,a,r):!0};s.exports=g}),36294:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){a<0?(r.blocked.none=!1,r.blocked.left=!0):a>0&&(r.blocked.none=!1,r.blocked.right=!0),r.position.x-=a,r.updateCenter(),r.bounce.x===0?r.velocity.x=0:r.velocity.x=-r.velocity.x*r.bounce.x};s.exports=g}),67013:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){a<0?(r.blocked.none=!1,r.blocked.up=!0):a>0&&(r.blocked.none=!1,r.blocked.down=!0),r.position.y-=a,r.updateCenter(),r.bounce.y===0?r.velocity.y=0:r.velocity.y=-r.velocity.y*r.bounce.y};s.exports=g}),40012:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(21329),v=r(53442),h=r(2483),u=function(l,o,d,p,f,y,w){var x=p.left,b=p.top,E=p.right,C=p.bottom,T=d.faceLeft||d.faceRight,S=d.faceTop||d.faceBottom;if(w||(T=!0,S=!0),!T&&!S)return!1;var A=0,P=0,R=0,L=1;if(o.deltaAbsX()>o.deltaAbsY()?R=-1:o.deltaAbsX()<o.deltaAbsY()&&(L=-1),o.deltaX()!==0&&o.deltaY()!==0&&T&&S&&(R=Math.min(Math.abs(o.position.x-E),Math.abs(o.right-x)),L=Math.min(Math.abs(o.position.y-C),Math.abs(o.bottom-b))),R<L){if(T&&(A=a(o,d,x,E,y,w),A!==0&&!h(p,o)))return!0;S&&(P=v(o,d,b,C,y,w))}else{if(S&&(P=v(o,d,b,C,y,w),P!==0&&!h(p,o)))return!0;T&&(A=a(o,d,x,E,y,w))}return A!==0||P!==0};s.exports=u}),21329:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(36294),v=function(h,u,l,o,d,p){var f=0,y=u.faceLeft,w=u.faceRight,x=u.collideLeft,b=u.collideRight;return p||(y=!0,w=!0,x=!0,b=!0),h.deltaX()<0&&b&&h.checkCollision.left?w&&h.x<o&&(f=h.x-o,f<-d&&(f=0)):h.deltaX()>0&&x&&h.checkCollision.right&&y&&h.right>l&&(f=h.right-l,f>d&&(f=0)),f!==0&&(h.customSeparateX?h.overlapX=f:a(h,f)),f};s.exports=v}),53442:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(67013),v=function(h,u,l,o,d,p){var f=0,y=u.faceTop,w=u.faceBottom,x=u.collideUp,b=u.collideDown;return p||(y=!0,w=!0,x=!0,b=!0),h.deltaY()<0&&b&&h.checkCollision.up?w&&h.y<o&&(f=h.y-o,f<-d&&(f=0)):h.deltaY()>0&&x&&h.checkCollision.down&&y&&h.bottom>l&&(f=h.bottom-l,f>d&&(f=0)),f!==0&&(h.customSeparateY?h.overlapY=f:a(h,f)),f};s.exports=v}),2483:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return!(a.right<=r.left||a.bottom<=r.top||a.position.x>=r.right||a.position.y>=r.bottom)};s.exports=g}),55173:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={ProcessTileCallbacks:r(96602),ProcessTileSeparationX:r(36294),ProcessTileSeparationY:r(67013),SeparateTile:r(40012),TileCheckX:r(21329),TileCheckY:r(53442),TileIntersectsBody:r(2483)};s.exports=a}),44563:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Arcade:r(27064),Matter:r(3875)}}),68174:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(26099),h=new a({initialize:function(){this.boundsCenter=new v,this.centerDiff=new v},parseBody:function(u){if(u=u.hasOwnProperty("body")?u.body:u,!u.hasOwnProperty("bounds")||!u.hasOwnProperty("centerOfMass"))return!1;var l=this.boundsCenter,o=this.centerDiff,d=u.bounds.max.x-u.bounds.min.x,p=u.bounds.max.y-u.bounds.min.y,f=d*u.centerOfMass.x,y=p*u.centerOfMass.y;return l.set(d/2,p/2),o.set(f-l.x,y-l.y),!0},getTopLeft:function(u,l,o){if(l===void 0&&(l=0),o===void 0&&(o=0),this.parseBody(u)){var d=this.boundsCenter,p=this.centerDiff;return new v(l+d.x+p.x,o+d.y+p.y)}return!1},getTopCenter:function(u,l,o){if(l===void 0&&(l=0),o===void 0&&(o=0),this.parseBody(u)){var d=this.boundsCenter,p=this.centerDiff;return new v(l+p.x,o+d.y+p.y)}return!1},getTopRight:function(u,l,o){if(l===void 0&&(l=0),o===void 0&&(o=0),this.parseBody(u)){var d=this.boundsCenter,p=this.centerDiff;return new v(l-(d.x-p.x),o+d.y+p.y)}return!1},getLeftCenter:function(u,l,o){if(l===void 0&&(l=0),o===void 0&&(o=0),this.parseBody(u)){var d=this.boundsCenter,p=this.centerDiff;return new v(l+d.x+p.x,o+p.y)}return!1},getCenter:function(u,l,o){if(l===void 0&&(l=0),o===void 0&&(o=0),this.parseBody(u)){var d=this.centerDiff;return new v(l+d.x,o+d.y)}return!1},getRightCenter:function(u,l,o){if(l===void 0&&(l=0),o===void 0&&(o=0),this.parseBody(u)){var d=this.boundsCenter,p=this.centerDiff;return new v(l-(d.x-p.x),o+p.y)}return!1},getBottomLeft:function(u,l,o){if(l===void 0&&(l=0),o===void 0&&(o=0),this.parseBody(u)){var d=this.boundsCenter,p=this.centerDiff;return new v(l+d.x+p.x,o-(d.y-p.y))}return!1},getBottomCenter:function(u,l,o){if(l===void 0&&(l=0),o===void 0&&(o=0),this.parseBody(u)){var d=this.boundsCenter,p=this.centerDiff;return new v(l+p.x,o-(d.y-p.y))}return!1},getBottomRight:function(u,l,o){if(l===void 0&&(l=0),o===void 0&&(o=0),this.parseBody(u)){var d=this.boundsCenter,p=this.centerDiff;return new v(l-(d.x-p.x),o-(d.y-p.y))}return!1}});s.exports=h}),19933:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(6790);a.Body=r(22562),a.Composite=r(69351),a.World=r(4372),a.Collision=r(52284),a.Detector=r(81388),a.Pairs=r(99561),a.Pair=r(4506),a.Query=r(73296),a.Resolver=r(66272),a.Constraint=r(48140),a.Common=r(53402),a.Engine=r(48413),a.Events=r(35810),a.Sleeping=r(53614),a.Plugin=r(73832),a.Bodies=r(66280),a.Composites=r(74116),a.Axes=r(66615),a.Bounds=r(15647),a.Svg=r(74058),a.Vector=r(31725),a.Vertices=r(41598),a.World.add=a.Composite.add,a.World.remove=a.Composite.remove,a.World.addComposite=a.Composite.addComposite,a.World.addBody=a.Composite.addBody,a.World.addConstraint=a.Composite.addConstraint,a.World.clear=a.Composite.clear,s.exports=a}),28137:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(66280),v=r(83419),h=r(74116),u=r(48140),l=r(74058),o=r(75803),d=r(23181),p=r(34803),f=r(73834),y=r(19496),w=r(85791),x=r(98713),b=r(41598),E=new v({initialize:function(T){this.world=T,this.scene=T.scene,this.sys=T.scene.sys},rectangle:function(C,T,S,A,P){var R=a.rectangle(C,T,S,A,P);return this.world.add(R),R},trapezoid:function(C,T,S,A,P,R){var L=a.trapezoid(C,T,S,A,P,R);return this.world.add(L),L},circle:function(C,T,S,A,P){var R=a.circle(C,T,S,A,P);return this.world.add(R),R},polygon:function(C,T,S,A,P){var R=a.polygon(C,T,S,A,P);return this.world.add(R),R},fromVertices:function(C,T,S,A,P,R,L){typeof S=="string"&&(S=b.fromPath(S));var D=a.fromVertices(C,T,S,A,P,R,L);return this.world.add(D),D},fromPhysicsEditor:function(C,T,S,A,P){P===void 0&&(P=!0);var R=y.parseBody(C,T,S,A);return P&&!this.world.has(R)&&this.world.add(R),R},fromSVG:function(C,T,S,A,P,R){A===void 0&&(A=1),P===void 0&&(P={}),R===void 0&&(R=!0);for(var L=S.getElementsByTagName("path"),D=[],$=0;$<L.length;$++){var F=l.pathToVertices(L[$],30);A!==1&&b.scale(F,A,A),D.push(F)}var N=a.fromVertices(C,T,D,P);return R&&this.world.add(N),N},fromJSON:function(C,T,S,A,P){A===void 0&&(A={}),P===void 0&&(P=!0);var R=w.parseBody(C,T,S,A);return R&&P&&this.world.add(R),R},imageStack:function(C,T,S,A,P,R,L,D,$){L===void 0&&(L=0),D===void 0&&(D=0),$===void 0&&($={});var F=this.world,N=this.sys.displayList;$.addToWorld=!1;var k=h.stack(S,A,P,R,L,D,function(j,W){var G=new d(F,j,W,C,T,$);return N.add(G),G.body});return F.add(k),k},stack:function(C,T,S,A,P,R,L){var D=h.stack(C,T,S,A,P,R,L);return this.world.add(D),D},pyramid:function(C,T,S,A,P,R,L){var D=h.pyramid(C,T,S,A,P,R,L);return this.world.add(D),D},chain:function(C,T,S,A,P,R){return h.chain(C,T,S,A,P,R)},mesh:function(C,T,S,A,P){return h.mesh(C,T,S,A,P)},newtonsCradle:function(C,T,S,A,P){var R=h.newtonsCradle(C,T,S,A,P);return this.world.add(R),R},car:function(C,T,S,A,P){var R=h.car(C,T,S,A,P);return this.world.add(R),R},softBody:function(C,T,S,A,P,R,L,D,$,F){var N=h.softBody(C,T,S,A,P,R,L,D,$,F);return this.world.add(N),N},joint:function(C,T,S,A,P){return this.constraint(C,T,S,A,P)},spring:function(C,T,S,A,P){return this.constraint(C,T,S,A,P)},constraint:function(C,T,S,A,P){A===void 0&&(A=1),P===void 0&&(P={}),P.bodyA=C.type==="body"?C:C.body,P.bodyB=T.type==="body"?T:T.body,isNaN(S)||(P.length=S),P.stiffness=A;var R=u.create(P);return this.world.add(R),R},worldConstraint:function(C,T,S,A){S===void 0&&(S=1),A===void 0&&(A={}),A.bodyB=C.type==="body"?C:C.body,isNaN(T)||(A.length=T),A.stiffness=S;var P=u.create(A);return this.world.add(P),P},mouseSpring:function(C){return this.pointerConstraint(C)},pointerConstraint:function(C){C===void 0&&(C={}),C.hasOwnProperty("render")||(C.render={visible:!1});var T=new x(this.scene,this.world,C);return this.world.add(T.constraint),T},image:function(C,T,S,A,P){var R=new d(this.world,C,T,S,A,P);return this.sys.displayList.add(R),R},tileBody:function(C,T){return new f(this.world,C,T)},sprite:function(C,T,S,A,P){var R=new p(this.world,C,T,S,A,P);return this.sys.displayList.add(R),this.sys.updateList.add(R),R},gameObject:function(C,T,S){return o(this.world,C,T,S)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});s.exports=E}),75803:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(31884),v=r(95540),h=r(26099);function u(o){return!!o.get&&typeof o.get=="function"||!!o.set&&typeof o.set=="function"}var l=function(o,d,p,f){p===void 0&&(p={}),f===void 0&&(f=!0);var y=d.x,w=d.y;d.body={temp:!0,position:{x:y,y:w}};var x=[a.Bounce,a.Collision,a.Force,a.Friction,a.Gravity,a.Mass,a.Sensor,a.SetBody,a.Sleep,a.Static,a.Transform,a.Velocity];if(x.forEach(function(E){for(var C in E)u(E[C])?Object.defineProperty(d,C,{get:E[C].get,set:E[C].set}):Object.defineProperty(d,C,{value:E[C]})}),d.world=o,d._tempVec2=new h(y,w),p.hasOwnProperty("type")&&p.type==="body")d.setExistingBody(p,f);else{var b=v(p,"shape",null);b||(b="rectangle"),p.addToWorld=f,d.setBody(b,p)}return d};s.exports=l}),23181:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(31884),h=r(95643),u=r(95540),l=r(88571),o=r(72699),d=r(26099),p=new a({Extends:l,Mixins:[v.Bounce,v.Collision,v.Force,v.Friction,v.Gravity,v.Mass,v.Sensor,v.SetBody,v.Sleep,v.Static,v.Transform,v.Velocity,o],initialize:function(y,w,x,b,E,C){h.call(this,y.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(b,E),this.setSizeToFrame(),this.setOrigin(),this.world=y,this._tempVec2=new d(w,x);var T=u(C,"shape",null);T?this.setBody(T,C):this.setRectangle(this.width,this.height,C),this.setPosition(w,x),this.initPipeline(),this.initPostPipeline(!0)}});s.exports=p}),42045:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(60461),v=r(66615),h=r(66280),u=r(22562),l=r(68174),o=r(15647),d=r(83419),p=r(52284),f=r(53402),y=r(69351),w=r(74116),x=r(48140),b=r(81388),E=r(20339),C=r(28137),T=r(95540),S=r(35154),A=r(46975),P=r(4506),R=r(99561),L=r(37277),D=r(73296),$=r(66272),F=r(44594),N=r(74058),k=r(31725),j=r(41598),W=r(68243);f.setDecomp(r(55973));var G=new d({initialize:function(z){this.scene=z,this.systems=z.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=u,this.composite=y,this.collision=p,this.detector=b,this.pair=P,this.pairs=R,this.query=D,this.resolver=$,this.constraint=x,this.bodies=h,this.composites=w,this.axes=v,this.bounds=o,this.svg=N,this.vector=k,this.vertices=j,this.verts=j,this._tempVec2=k.create(),$._restingThresh=S(this.config,"restingThresh",4),$._restingThreshTangent=S(this.config,"restingThreshTangent",6),$._positionDampen=S(this.config,"positionDampen",.9),$._positionWarming=S(this.config,"positionWarming",.8),$._frictionNormalMultiplier=S(this.config,"frictionNormalMultiplier",5),z.sys.events.once(F.BOOT,this.boot,this),z.sys.events.on(F.START,this.start,this)},boot:function(){this.world=new W(this.scene,this.config),this.add=new C(this.world),this.bodyBounds=new l,this.systems.events.once(F.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new W(this.scene,this.config),this.add=new C(this.world));var K=this.systems.events;K.on(F.UPDATE,this.world.update,this.world),K.on(F.POST_UPDATE,this.world.postUpdate,this.world),K.once(F.SHUTDOWN,this.shutdown,this)},getConfig:function(){var K=this.systems.game.config.physics,z=this.systems.settings.physics,X=A(T(z,"matter",{}),T(K,"matter",{}));return X},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(K,z){this.world.step(K,z)},containsPoint:function(K,z,X){K=this.getMatterBodies(K);var U=k.create(z,X),Z=D.point(K,U);return Z.length>0},intersectPoint:function(K,z,X){X=this.getMatterBodies(X);var U=k.create(K,z),Z=[],V=D.point(X,U);return V.forEach(function(J){Z.indexOf(J)===-1&&Z.push(J)}),Z},intersectRect:function(K,z,X,U,Z,V){Z===void 0&&(Z=!1),V=this.getMatterBodies(V);var J={min:{x:K,y:z},max:{x:K+X,y:z+U}},Q=[],ee=D.region(V,J,Z);return ee.forEach(function(te){Q.indexOf(te)===-1&&Q.push(te)}),Q},intersectRay:function(K,z,X,U,Z,V){Z===void 0&&(Z=1),V=this.getMatterBodies(V);for(var J=[],Q=D.ray(V,k.create(K,z),k.create(X,U),Z),ee=0;ee<Q.length;ee++)J.push(Q[ee].body);return J},intersectBody:function(K,z){z=this.getMatterBodies(z);for(var X=[],U=D.collides(K,z),Z=0;Z<U.length;Z++){var V=U[Z];V.bodyA===K?X.push(V.bodyB):X.push(V.bodyA)}return X},overlap:function(K,z,X,U,Z){X===void 0&&(X=null),U===void 0&&(U=null),Z===void 0&&(Z=X),Array.isArray(K)||(K=[K]),K=this.getMatterBodies(K),z=this.getMatterBodies(z);for(var V=!1,J=0;J<K.length;J++)for(var Q=K[J],ee=D.collides(Q,z),te=0;te<ee.length;te++){var ie=ee[te],le=ie.bodyA.id===Q.id?ie.bodyB:ie.bodyA;if(!U||U.call(Z,Q,le,ie)){if(V=!0,X)X.call(Z,Q,le,ie);else if(!U)return!0}}return V},setCollisionCategory:function(K,z){return K=this.getMatterBodies(K),K.forEach(function(X){X.collisionFilter.category=z}),this},setCollisionGroup:function(K,z){return K=this.getMatterBodies(K),K.forEach(function(X){X.collisionFilter.group=z}),this},setCollidesWith:function(K,z){K=this.getMatterBodies(K);var X=0;if(!Array.isArray(z))X=z;else for(var U=0;U<z.length;U++)X|=z[U];return K.forEach(function(Z){Z.collisionFilter.mask=X}),this},getMatterBodies:function(K){if(!K)return this.world.getAllBodies();Array.isArray(K)||(K=[K]);for(var z=[],X=0;X<K.length;X++){var U=K[X].hasOwnProperty("body")?K[X].body:K[X];z.push(U)}return z},setVelocity:function(K,z,X){K=this.getMatterBodies(K);var U=this._tempVec2;return U.x=z,U.y=X,K.forEach(function(Z){u.setVelocity(Z,U)}),this},setVelocityX:function(K,z){K=this.getMatterBodies(K);var X=this._tempVec2;return X.x=z,K.forEach(function(U){X.y=U.velocity.y,u.setVelocity(U,X)}),this},setVelocityY:function(K,z){K=this.getMatterBodies(K);var X=this._tempVec2;return X.y=z,K.forEach(function(U){X.x=U.velocity.x,u.setVelocity(U,X)}),this},setAngularVelocity:function(K,z){return K=this.getMatterBodies(K),K.forEach(function(X){u.setAngularVelocity(X,z)}),this},applyForce:function(K,z){K=this.getMatterBodies(K);var X=this._tempVec2;return K.forEach(function(U){X.x=U.position.x,X.y=U.position.y,u.applyForce(U,X,z)}),this},applyForceFromPosition:function(K,z,X,U){K=this.getMatterBodies(K);var Z=this._tempVec2;return K.forEach(function(V){U===void 0&&(U=V.angle),Z.x=X*Math.cos(U),Z.y=X*Math.sin(U),u.applyForce(V,z,Z)}),this},applyForceFromAngle:function(K,z,X){K=this.getMatterBodies(K);var U=this._tempVec2;return K.forEach(function(Z){X===void 0&&(X=Z.angle),U.x=z*Math.cos(X),U.y=z*Math.sin(X),u.applyForce(Z,{x:Z.position.x,y:Z.position.y},U)}),this},getConstraintLength:function(K){var z=K.pointA.x,X=K.pointA.y,U=K.pointB.x,Z=K.pointB.y;return K.bodyA&&(z+=K.bodyA.position.x,X+=K.bodyA.position.y),K.bodyB&&(U+=K.bodyB.position.x,Z+=K.bodyB.position.y),E(z,X,U,Z)},alignBody:function(K,z,X,U){K=K.hasOwnProperty("body")?K.body:K;var Z;switch(U){case a.TOP_LEFT:case a.LEFT_TOP:Z=this.bodyBounds.getTopLeft(K,z,X);break;case a.TOP_CENTER:Z=this.bodyBounds.getTopCenter(K,z,X);break;case a.TOP_RIGHT:case a.RIGHT_TOP:Z=this.bodyBounds.getTopRight(K,z,X);break;case a.LEFT_CENTER:Z=this.bodyBounds.getLeftCenter(K,z,X);break;case a.CENTER:Z=this.bodyBounds.getCenter(K,z,X);break;case a.RIGHT_CENTER:Z=this.bodyBounds.getRightCenter(K,z,X);break;case a.LEFT_BOTTOM:case a.BOTTOM_LEFT:Z=this.bodyBounds.getBottomLeft(K,z,X);break;case a.BOTTOM_CENTER:Z=this.bodyBounds.getBottomCenter(K,z,X);break;case a.BOTTOM_RIGHT:case a.RIGHT_BOTTOM:Z=this.bodyBounds.getBottomRight(K,z,X);break}return Z&&u.setPosition(K,Z),this},shutdown:function(){var K=this.systems.events;this.world&&(K.off(F.UPDATE,this.world.update,this.world),K.off(F.POST_UPDATE,this.world.postUpdate,this.world)),K.off(F.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(F.START,this.start,this),this.scene=null,this.systems=null}});L.register("MatterPhysics",G,"matterPhysics"),s.exports=G}),34803:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(9674),v=r(83419),h=r(31884),u=r(95643),l=r(95540),o=r(72699),d=r(68287),p=r(26099),f=new v({Extends:d,Mixins:[h.Bounce,h.Collision,h.Force,h.Friction,h.Gravity,h.Mass,h.Sensor,h.SetBody,h.Sleep,h.Static,h.Transform,h.Velocity,o],initialize:function(w,x,b,E,C,T){u.call(this,w.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new a(this),this.setTexture(E,C),this.setSizeToFrame(),this.setOrigin(),this.world=w,this._tempVec2=new p(x,b);var S=l(T,"shape",null);S?this.setBody(S,T):this.setRectangle(this.width,this.height,T),this.setPosition(x,b),this.initPipeline(),this.initPostPipeline(!0)}});s.exports=f}),73834:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(66280),v=r(22562),h=r(83419),u=r(31884),l=r(62644),o=r(50792),d=r(95540),p=r(97022),f=r(41598),y=new h({Extends:o,Mixins:[u.Bounce,u.Collision,u.Friction,u.Gravity,u.Mass,u.Sensor,u.Sleep,u.Static],initialize:function(x,b,E){o.call(this),this.tile=b,this.world=x,b.physics.matterBody&&b.physics.matterBody.destroy(),b.physics.matterBody=this;var C=d(E,"body",null),T=d(E,"addToWorld",!0);if(C)this.setBody(C,T);else{var S=b.getCollisionGroup(),A=d(S,"objects",[]);A.length>0?this.setFromTileCollision(E):this.setFromTileRectangle(E)}if(b.flipX||b.flipY){var P={x:b.getCenterX(),y:b.getCenterY()},R=b.flipX?-1:1,L=b.flipY?-1:1;v.scale(C,R,L,P)}},setFromTileRectangle:function(w){w===void 0&&(w={}),p(w,"isStatic")||(w.isStatic=!0),p(w,"addToWorld")||(w.addToWorld=!0);var x=this.tile.getBounds(),b=x.x+x.width/2,E=x.y+x.height/2,C=a.rectangle(b,E,x.width,x.height,w);return this.setBody(C,w.addToWorld),this},setFromTileCollision:function(w){w===void 0&&(w={}),p(w,"isStatic")||(w.isStatic=!0),p(w,"addToWorld")||(w.addToWorld=!0);for(var x=this.tile.tilemapLayer.scaleX,b=this.tile.tilemapLayer.scaleY,E=this.tile.getLeft(),C=this.tile.getTop(),T=this.tile.getCollisionGroup(),S=d(T,"objects",[]),A=[],P=0;P<S.length;P++){var R=S[P],L=E+R.x*x,D=C+R.y*b,$=R.width*x,F=R.height*b,N=null;if(R.rectangle)N=a.rectangle(L+$/2,D+F/2,$,F,w);else if(R.ellipse)N=a.circle(L+$/2,D+F/2,$/2,w);else if(R.polygon||R.polyline){var k=R.polygon?R.polygon:R.polyline,j=k.map(function(z){return{x:z.x*x,y:z.y*b}}),W=f.create(j),G=f.centre(W);L+=G.x,D+=G.y,N=a.fromVertices(L,D,W,w)}N&&A.push(N)}if(A.length===1)this.setBody(A[0],w.addToWorld);else if(A.length>1){var K=l(w);K.parts=A,this.setBody(v.create(K),K.addToWorld)}return this},setBody:function(w,x){return x===void 0&&(x=!0),this.body&&this.removeBody(),this.body=w,this.body.gameObject=this,x&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});s.exports=y}),19496:((s,g,r)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(66280),v=r(22562),h=r(53402),u=r(95540),l=r(41598),o={parseBody:function(d,p,f,y){y===void 0&&(y={});for(var w=u(f,"fixtures",[]),x=[],b=0;b<w.length;b++)for(var E=this.parseFixture(w[b]),C=0;C<E.length;C++)x.push(E[C]);var T=h.clone(f,!0);h.extend(T,y,!0),delete T.fixtures,delete T.type;var S=v.create(T);return v.setParts(S,x),v.setPosition(S,{x:d,y:p}),S},parseFixture:function(d){var p=h.extend({},!1,d);delete p.circle,delete p.vertices;var f;if(d.circle){var y=u(d.circle,"x"),w=u(d.circle,"y"),x=u(d.circle,"radius");f=[a.circle(y,w,x,p)]}else d.vertices&&(f=this.parseVertices(d.vertices,p));return f},parseVertices:function(d,p){p===void 0&&(p={});for(var f=[],y=0;y<d.length;y++)l.clockwiseSort(d[y]),f.push(v.create(h.extend({position:l.centre(d[y]),vertices:d[y]},p)));return a.flagCoincidentParts(f)}};s.exports=o}),85791:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(66280),v=r(22562),h={parseBody:function(u,l,o,d){d===void 0&&(d={});var p,f=o.vertices;if(f.length===1)d.vertices=f[0],p=v.create(d),a.flagCoincidentParts(p.parts);else{for(var y=[],w=0;w<f.length;w++){var x=v.create({vertices:f[w]});y.push(x)}a.flagCoincidentParts(y),d.parts=y,p=v.create(d)}return p.label=o.label,v.setPosition(p,{x:u,y:l}),p}};s.exports=h}),98713:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(15647),v=r(83419),h=r(69351),u=r(48140),l=r(81388),o=r(1121),d=r(8214),p=r(46975),f=r(53614),y=r(26099),w=r(41598),x=new v({initialize:function(E,C,T){T===void 0&&(T={});var S={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=E,this.world=C,this.camera=null,this.pointer=null,this.active=!0,this.position=new y,this.body=null,this.part=null,this.constraint=u.create(p(T,S)),this.world.on(o.BEFORE_UPDATE,this.update,this),E.sys.input.on(d.POINTER_DOWN,this.onDown,this),E.sys.input.on(d.POINTER_UP,this.onUp,this)},onDown:function(b){this.pointer||(this.pointer=b,this.camera=b.camera)},onUp:function(b){b===this.pointer&&(this.pointer=null)},getBody:function(b){var E=this.position,C=this.constraint;this.camera.getWorldPoint(b.x,b.y,E);for(var T=h.allBodies(this.world.localWorld),S=0;S<T.length;S++){var A=T[S];if(!A.ignorePointer&&a.contains(A.bounds,E)&&l.canCollide(A.collisionFilter,C.collisionFilter)&&this.hitTestBody(A,E))return this.world.emit(o.DRAG_START,A,this.part,this),!0}return!1},hitTestBody:function(b,E){for(var C=this.constraint,T=b.parts.length,S=T>1?1:0,A=S;A<T;A++){var P=b.parts[A];if(w.contains(P.vertices,E))return C.pointA=E,C.pointB={x:E.x-b.position.x,y:E.y-b.position.y},C.bodyB=b,C.angleB=b.angle,f.set(b,!1),this.part=P,this.body=b,!0}return!1},update:function(){var b=this.pointer,E=this.body;if(!this.active||!b){E&&this.stopDrag();return}if(!b.isDown&&E){this.stopDrag();return}else if(b.isDown){if(!this.camera||!E&&!this.getBody(b))return;E=this.body;var C=this.position,T=this.constraint;this.camera.getWorldPoint(b.x,b.y,C),T.pointA.x=C.x,T.pointA.y=C.y,f.set(E,!1),this.world.emit(o.DRAG,E,this)}},stopDrag:function(){var b=this.body,E=this.constraint;E.bodyB=null,E.pointB=null,this.pointer=null,this.body=null,this.part=null,b&&this.world.emit(o.DRAG_END,b,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(o.BEFORE_UPDATE,this.update),this.scene.sys.input.off(d.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(d.POINTER_UP,this.onUp,this)}});s.exports=x}),68243:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(66280),v=r(22562),h=r(83419),u=r(53402),l=r(69351),o=r(48413),d=r(50792),p=r(1121),f=r(95540),y=r(35154),w=r(22562),x=r(35810),b=r(73834),E=r(4372),C=r(13037),T=r(31725),S=new h({Extends:d,initialize:function(P,R){d.call(this),this.scene=P,this.engine=o.create(R),this.localWorld=this.engine.world;var L=y(R,"gravity",null);L?this.setGravity(L.x,L.y,L.scale):L===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=y(R,"enabled",!0),this.getDelta=y(R,"getDelta",this.update60Hz);var D=f(R,"runner",{}),$=f(D,"fps",!1);$&&(D.delta=1e3/f(D,"fps",60)),this.runner=C.create(D),this.autoUpdate=y(R,"autoUpdate",!0);var F=y(R,"debug",!1);if(this.drawDebug=typeof F=="object"?!0:F,this.debugGraphic,this.debugConfig={showAxes:f(F,"showAxes",!1),showAngleIndicator:f(F,"showAngleIndicator",!1),angleColor:f(F,"angleColor",15208787),showBroadphase:f(F,"showBroadphase",!1),broadphaseColor:f(F,"broadphaseColor",16757760),showBounds:f(F,"showBounds",!1),boundsColor:f(F,"boundsColor",16777215),showVelocity:f(F,"showVelocity",!1),velocityColor:f(F,"velocityColor",44783),showCollisions:f(F,"showCollisions",!1),collisionColor:f(F,"collisionColor",16094476),showSeparations:f(F,"showSeparations",!1),separationColor:f(F,"separationColor",16753920),showBody:f(F,"showBody",!0),showStaticBody:f(F,"showStaticBody",!0),showInternalEdges:f(F,"showInternalEdges",!1),renderFill:f(F,"renderFill",!1),renderLine:f(F,"renderLine",!0),fillColor:f(F,"fillColor",1075465),fillOpacity:f(F,"fillOpacity",1),lineColor:f(F,"lineColor",2678297),lineOpacity:f(F,"lineOpacity",1),lineThickness:f(F,"lineThickness",1),staticFillColor:f(F,"staticFillColor",857979),staticLineColor:f(F,"staticLineColor",1255396),showSleeping:f(F,"showSleeping",!1),staticBodySleepOpacity:f(F,"staticBodySleepOpacity",.7),sleepFillColor:f(F,"sleepFillColor",4605510),sleepLineColor:f(F,"sleepLineColor",10066585),showSensors:f(F,"showSensors",!0),sensorFillColor:f(F,"sensorFillColor",857979),sensorLineColor:f(F,"sensorLineColor",1255396),showPositions:f(F,"showPositions",!0),positionSize:f(F,"positionSize",4),positionColor:f(F,"positionColor",14697178),showJoint:f(F,"showJoint",!0),jointColor:f(F,"jointColor",14737474),jointLineOpacity:f(F,"jointLineOpacity",1),jointLineThickness:f(F,"jointLineThickness",2),pinSize:f(F,"pinSize",4),pinColor:f(F,"pinColor",4382944),springColor:f(F,"springColor",14697184),anchorColor:f(F,"anchorColor",15724527),anchorSize:f(F,"anchorSize",4),showConvexHulls:f(F,"showConvexHulls",!1),hullColor:f(F,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),f(R,"setBounds",!1)){var N=R.setBounds;if(typeof N=="boolean")this.setBounds();else{var k=f(N,"x",0),j=f(N,"y",0),W=f(N,"width",P.sys.scale.width),G=f(N,"height",P.sys.scale.height),K=f(N,"thickness",64),z=f(N,"left",!0),X=f(N,"right",!0),U=f(N,"top",!0),Z=f(N,"bottom",!0);this.setBounds(k,j,W,G,K,z,X,U,Z)}}},setCompositeRenderStyle:function(A){var P=A.bodies,R=A.constraints,L=A.composites,D,$,F;for(D=0;D<P.length;D++)$=P[D],F=$.render,this.setBodyRenderStyle($,F.lineColor,F.lineOpacity,F.lineThickness,F.fillColor,F.fillOpacity);for(D=0;D<R.length;D++)$=R[D],F=$.render,this.setConstraintRenderStyle($,F.lineColor,F.lineOpacity,F.lineThickness,F.pinSize,F.anchorColor,F.anchorSize);for(D=0;D<L.length;D++)$=L[D],this.setCompositeRenderStyle($);return this},setBodyRenderStyle:function(A,P,R,L,D,$){var F=A.render,N=this.debugConfig;return F?(P==null&&(P=A.isStatic?N.staticLineColor:N.lineColor),R==null&&(R=N.lineOpacity),L==null&&(L=N.lineThickness),D==null&&(D=A.isStatic?N.staticFillColor:N.fillColor),$==null&&($=N.fillOpacity),P!==!1&&(F.lineColor=P),R!==!1&&(F.lineOpacity=R),L!==!1&&(F.lineThickness=L),D!==!1&&(F.fillColor=D),$!==!1&&(F.fillOpacity=$),this):this},setConstraintRenderStyle:function(A,P,R,L,D,$,F){var N=A.render,k=this.debugConfig;if(!N)return this;if(P==null){var j=N.type;j==="line"?P=k.jointColor:j==="pin"?P=k.pinColor:j==="spring"&&(P=k.springColor)}return R==null&&(R=k.jointLineOpacity),L==null&&(L=k.jointLineThickness),D==null&&(D=k.pinSize),$==null&&($=k.anchorColor),F==null&&(F=k.anchorSize),P!==!1&&(N.lineColor=P),R!==!1&&(N.lineOpacity=R),L!==!1&&(N.lineThickness=L),D!==!1&&(N.pinSize=D),$!==!1&&(N.anchorColor=$),F!==!1&&(N.anchorSize=F),this},setEventsProxy:function(){var A=this,P=this.engine,R=this.localWorld;this.drawDebug&&(x.on(R,"compositeModified",function(L){A.setCompositeRenderStyle(L)}),x.on(R,"beforeAdd",function(L){for(var D=[].concat(L.object),$=0;$<D.length;$++){var F=D[$],N=F.render;F.type==="body"?A.setBodyRenderStyle(F,N.lineColor,N.lineOpacity,N.lineThickness,N.fillColor,N.fillOpacity):F.type==="composite"?A.setCompositeRenderStyle(F):F.type==="constraint"&&A.setConstraintRenderStyle(F,N.lineColor,N.lineOpacity,N.lineThickness,N.pinSize,N.anchorColor,N.anchorSize)}})),x.on(R,"beforeAdd",function(L){A.emit(p.BEFORE_ADD,L)}),x.on(R,"afterAdd",function(L){A.emit(p.AFTER_ADD,L)}),x.on(R,"beforeRemove",function(L){A.emit(p.BEFORE_REMOVE,L)}),x.on(R,"afterRemove",function(L){A.emit(p.AFTER_REMOVE,L)}),x.on(P,"beforeUpdate",function(L){A.emit(p.BEFORE_UPDATE,L)}),x.on(P,"afterUpdate",function(L){A.emit(p.AFTER_UPDATE,L)}),x.on(P,"collisionStart",function(L){var D=L.pairs,$,F;D.length>0&&D.map(function(N){$=N.bodyA,F=N.bodyB,$.gameObject&&$.gameObject.emit("collide",$,F,N),F.gameObject&&F.gameObject.emit("collide",F,$,N),x.trigger($,"onCollide",{pair:N}),x.trigger(F,"onCollide",{pair:N}),$.onCollideCallback&&$.onCollideCallback(N),F.onCollideCallback&&F.onCollideCallback(N),$.onCollideWith[F.id]&&$.onCollideWith[F.id](F,N),F.onCollideWith[$.id]&&F.onCollideWith[$.id]($,N)}),A.emit(p.COLLISION_START,L,$,F)}),x.on(P,"collisionActive",function(L){var D=L.pairs,$,F;D.length>0&&D.map(function(N){$=N.bodyA,F=N.bodyB,$.gameObject&&$.gameObject.emit("collideActive",$,F,N),F.gameObject&&F.gameObject.emit("collideActive",F,$,N),x.trigger($,"onCollideActive",{pair:N}),x.trigger(F,"onCollideActive",{pair:N}),$.onCollideActiveCallback&&$.onCollideActiveCallback(N),F.onCollideActiveCallback&&F.onCollideActiveCallback(N)}),A.emit(p.COLLISION_ACTIVE,L,$,F)}),x.on(P,"collisionEnd",function(L){var D=L.pairs,$,F;D.length>0&&D.map(function(N){$=N.bodyA,F=N.bodyB,$.gameObject&&$.gameObject.emit("collideEnd",$,F,N),F.gameObject&&F.gameObject.emit("collideEnd",F,$,N),x.trigger($,"onCollideEnd",{pair:N}),x.trigger(F,"onCollideEnd",{pair:N}),$.onCollideEndCallback&&$.onCollideEndCallback(N),F.onCollideEndCallback&&F.onCollideEndCallback(N)}),A.emit(p.COLLISION_END,L,$,F)})},setBounds:function(A,P,R,L,D,$,F,N,k){return A===void 0&&(A=0),P===void 0&&(P=0),R===void 0&&(R=this.scene.sys.scale.width),L===void 0&&(L=this.scene.sys.scale.height),D===void 0&&(D=64),$===void 0&&($=!0),F===void 0&&(F=!0),N===void 0&&(N=!0),k===void 0&&(k=!0),this.updateWall($,"left",A-D,P-D,D,L+D*2),this.updateWall(F,"right",A+R,P-D,D,L+D*2),this.updateWall(N,"top",A,P-D,R,D),this.updateWall(k,"bottom",A,P+L,R,D),this},updateWall:function(A,P,R,L,D,$){var F=this.walls[P];A?(F&&E.remove(this.localWorld,F),R+=D/2,L+=$/2,this.walls[P]=this.create(R,L,D,$,{isStatic:!0,friction:0,frictionStatic:0})):(F&&E.remove(this.localWorld,F),this.walls[P]=null)},createDebugGraphic:function(){var A=this.scene.sys.add.graphics({x:0,y:0});return A.setDepth(Number.MAX_VALUE),this.debugGraphic=A,this.drawDebug=!0,A},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(A,P,R){return A===void 0&&(A=0),P===void 0&&(P=1),R===void 0&&(R=.001),this.localWorld.gravity.x=A,this.localWorld.gravity.y=P,this.localWorld.gravity.scale=R,this},create:function(A,P,R,L,D){var $=a.rectangle(A,P,R,L,D);return E.add(this.localWorld,$),$},add:function(A){return E.add(this.localWorld,A),this},remove:function(A,P){Array.isArray(A)||(A=[A]);for(var R=0;R<A.length;R++){var L=A[R],D=L.body?L.body:L;l.remove(this.localWorld,D,P)}return this},removeConstraint:function(A,P){return l.remove(this.localWorld,A,P),this},convertTilemapLayer:function(A,P){var R=A.layer,L=A.getTilesWithin(0,0,R.width,R.height,{isColliding:!0});return this.convertTiles(L,P),this},convertTiles:function(A,P){if(A.length===0)return this;for(var R=0;R<A.length;R++)new b(this,A[R],P);return this},nextGroup:function(A){return w.nextGroup(A)},nextCategory:function(){return w.nextCategory()},pause:function(){return this.enabled=!1,this.emit(p.PAUSE),this},resume:function(){return this.enabled=!0,this.runner.timeLastTick=u.now(),this.emit(p.RESUME),this},update:function(A){if(!(!this.enabled||!this.autoUpdate)){var P=this.engine,R=this.runner,L=u.now(),D=R.delta,$=0,F=A-R.timeLastTick;if((!F||!R.timeLastTick||F>Math.max(C._maxFrameDelta,R.maxFrameTime))&&(F=R.frameDelta||C._frameDeltaFallback),R.frameDeltaSmoothing){R.frameDeltaHistory.push(F),R.frameDeltaHistory=R.frameDeltaHistory.slice(-R.frameDeltaHistorySize);var N=R.frameDeltaHistory.slice(0).sort(),k=R.frameDeltaHistory.slice(N.length*C._smoothingLowerBound,N.length*C._smoothingUpperBound),j=C._mean(k);F=j||F}R.frameDeltaSnapping&&(F=1e3/Math.round(1e3/F)),R.frameDelta=F,R.timeLastTick=A,R.timeBuffer+=R.frameDelta,R.timeBuffer=u.clamp(R.timeBuffer,0,R.frameDelta+D*C._timeBufferMargin),R.lastUpdatesDeferred=0;for(var W=R.maxUpdates||Math.ceil(R.maxFrameTime/D),G=u.now();D>0&&R.timeBuffer>=D*C._timeBufferMargin;){o.update(P,D),R.timeBuffer-=D,$+=1;var K=u.now()-L,z=u.now()-G,X=K+C._elapsedNextEstimate*z/$;if($>=W||X>R.maxFrameTime){R.lastUpdatesDeferred=Math.round(Math.max(0,R.timeBuffer/D-C._timeBufferMargin));break}}}},step:function(A){o.update(this.engine,A)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(A){var P=A.hasOwnProperty("body")?A.body:A;return l.get(this.localWorld,P.id,P.type)!==null},getAllBodies:function(){return l.allBodies(this.localWorld)},getAllConstraints:function(){return l.allConstraints(this.localWorld)},getAllComposites:function(){return l.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var A=this.debugConfig,P=this.engine,R=this.debugGraphic,L=l.allBodies(this.localWorld);this.debugGraphic.clear(),A.showBroadphase&&P.broadphase.controller&&this.renderGrid(P.broadphase,R,A.broadphaseColor,.5),A.showBounds&&this.renderBodyBounds(L,R,A.boundsColor,.5),(A.showBody||A.showStaticBody)&&this.renderBodies(L),A.showJoint&&this.renderJoints(),(A.showAxes||A.showAngleIndicator)&&this.renderBodyAxes(L,R,A.showAxes,A.angleColor,.5),A.showVelocity&&this.renderBodyVelocity(L,R,A.velocityColor,1,2),A.showSeparations&&this.renderSeparations(P.pairs.list,R,A.separationColor),A.showCollisions&&this.renderCollisions(P.pairs.list,R,A.collisionColor)}},renderGrid:function(A,P,R,L){P.lineStyle(1,R,L);for(var D=u.keys(A.buckets),$=0;$<D.length;$++){var F=D[$];if(!(A.buckets[F].length<2)){var N=F.split(/C|R/);P.strokeRect(parseInt(N[1],10)*A.bucketWidth,parseInt(N[2],10)*A.bucketHeight,A.bucketWidth,A.bucketHeight)}}return this},renderSeparations:function(A,P,R){P.lineStyle(1,R,1);for(var L=0;L<A.length;L++){var D=A[L];if(D.isActive){var $=D.collision,F=$.bodyA,N=$.bodyB,k=F.position,j=N.position,W=$.penetration,G=!F.isStatic&&!N.isStatic?4:1;N.isStatic&&(G=0),P.lineBetween(j.x,j.y,j.x-W.x*G,j.y-W.y*G),G=!F.isStatic&&!N.isStatic?4:1,F.isStatic&&(G=0),P.lineBetween(k.x,k.y,k.x-W.x*G,k.y-W.y*G)}}return this},renderCollisions:function(A,P,R){P.lineStyle(1,R,.5),P.fillStyle(R,1);var L,D;for(L=0;L<A.length;L++)if(D=A[L],!!D.isActive)for(var $=0;$<D.contactCount;$++){var F=D.contacts[$],N=F.vertex;N&&P.fillRect(N.x-2,N.y-2,5,5)}for(L=0;L<A.length;L++)if(D=A[L],!!D.isActive){var k=D.collision,j=D.contacts;if(D.contactCount>0){var W=j[0].vertex.x,G=j[0].vertex.y;D.contactCount===2&&(W=(j[0].vertex.x+j[1].vertex.x)/2,G=(j[0].vertex.y+j[1].vertex.y)/2),k.bodyB===k.supports[0].body||k.bodyA.isStatic?P.lineBetween(W-k.normal.x*8,G-k.normal.y*8,W,G):P.lineBetween(W+k.normal.x*8,G+k.normal.y*8,W,G)}}return this},renderBodyBounds:function(A,P,R,L){P.lineStyle(1,R,L);for(var D=0;D<A.length;D++){var $=A[D];if($.render.visible){var F=$.bounds;if(F)P.strokeRect(F.min.x,F.min.y,F.max.x-F.min.x,F.max.y-F.min.y);else for(var N=$.parts,k=N.length>1?1:0;k<N.length;k++){var j=N[k];P.strokeRect(j.bounds.min.x,j.bounds.min.y,j.bounds.max.x-j.bounds.min.x,j.bounds.max.y-j.bounds.min.y)}}}return this},renderBodyAxes:function(A,P,R,L,D){P.lineStyle(1,L,D);for(var $=0;$<A.length;$++){var F=A[$],N=F.parts;if(F.render.visible){var k,j,W;if(R)for(j=N.length>1?1:0;j<N.length;j++)for(k=N[j],W=0;W<k.axes.length;W++){var G=k.axes[W];P.lineBetween(k.position.x,k.position.y,k.position.x+G.x*20,k.position.y+G.y*20)}else for(j=N.length>1?1:0;j<N.length;j++)for(k=N[j],W=0;W<k.axes.length;W++)P.lineBetween(k.position.x,k.position.y,(k.vertices[0].x+k.vertices[k.vertices.length-1].x)/2,(k.vertices[0].y+k.vertices[k.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(A,P,R,L,D){P.lineStyle(D,R,L);for(var $=0;$<A.length;$++){var F=A[$];F.render.visible&&P.lineBetween(F.position.x,F.position.y,F.position.x+(F.position.x-F.positionPrev.x)*2,F.position.y+(F.position.y-F.positionPrev.y)*2)}return this},renderBodies:function(A){for(var P=this.debugGraphic,R=this.debugConfig,L=R.showBody,D=R.showStaticBody,$=R.showSleeping,F=R.showInternalEdges,N=R.showConvexHulls,k=R.renderFill,j=R.renderLine,W=R.staticBodySleepOpacity,G=R.sleepFillColor,K=R.sleepLineColor,z=R.hullColor,X=0;X<A.length;X++){var U=A[X];if(U.render.visible&&!(!D&&U.isStatic||!L&&!U.isStatic)){var Z=U.render.lineColor,V=U.render.lineOpacity,J=U.render.lineThickness,Q=U.render.fillColor,ee=U.render.fillOpacity;$&&U.isSleeping&&(U.isStatic?(V*=W,ee*=W):(Z=K,Q=G)),k||(Q=null),j||(Z=null),this.renderBody(U,P,F,Z,V,J,Q,ee);var te=U.parts.length;N&&te>1&&this.renderConvexHull(U,P,z,J)}}},renderBody:function(A,P,R,L,D,$,F,N){L===void 0&&(L=null),D===void 0&&(D=null),$===void 0&&($=1),F===void 0&&(F=null),N===void 0&&(N=null);for(var k=this.debugConfig,j=k.sensorFillColor,W=k.sensorLineColor,G=A.parts,K=G.length,z=K>1?1:0;z<K;z++){var X=G[z],U=X.render,Z=U.opacity;if(!(!U.visible||Z===0||X.isSensor&&!k.showSensors)){var V=X.circleRadius;if(P.beginPath(),X.isSensor?(F!==null&&P.fillStyle(j,N*Z),L!==null&&P.lineStyle($,W,D*Z)):(F!==null&&P.fillStyle(F,N*Z),L!==null&&P.lineStyle($,L,D*Z)),V)P.arc(X.position.x,X.position.y,V,0,2*Math.PI);else{var J=X.vertices,Q=J.length;P.moveTo(J[0].x,J[0].y);for(var ee=1;ee<Q;ee++){var te=J[ee];if(!J[ee-1].isInternal||R?P.lineTo(te.x,te.y):P.moveTo(te.x,te.y),ee<Q&&te.isInternal&&!R){var ie=(ee+1)%Q;P.moveTo(J[ie].x,J[ie].y)}}P.closePath()}F!==null&&P.fillPath(),L!==null&&P.strokePath()}}if(k.showPositions&&!A.isStatic){var le=A.position.x,de=A.position.y,fe=Math.ceil(k.positionSize/2);P.fillStyle(k.positionColor,1),P.fillRect(le-fe,de-fe,k.positionSize,k.positionSize)}return this},renderConvexHull:function(A,P,R,L){L===void 0&&(L=1);var D=A.parts,$=D.length;if($>1){var F=A.vertices;P.lineStyle(L,R),P.beginPath(),P.moveTo(F[0].x,F[0].y);for(var N=1;N<F.length;N++)P.lineTo(F[N].x,F[N].y);P.lineTo(F[0].x,F[0].y),P.strokePath()}return this},renderJoints:function(){for(var A=this.debugGraphic,P=l.allConstraints(this.localWorld),R=0;R<P.length;R++){var L=P[R].render,D=L.lineColor,$=L.lineOpacity,F=L.lineThickness,N=L.pinSize,k=L.anchorColor,j=L.anchorSize;this.renderConstraint(P[R],A,D,$,F,N,k,j)}},renderConstraint:function(A,P,R,L,D,$,F,N){var k=A.render;if(!k.visible||!A.pointA||!A.pointB)return this;P.lineStyle(D,R,L);var j=A.bodyA,W=A.bodyB,G,K;if(j?G=T.add(j.position,A.pointA):G=A.pointA,k.type==="pin")P.strokeCircle(G.x,G.y,$);else{if(W?K=T.add(W.position,A.pointB):K=A.pointB,P.beginPath(),P.moveTo(G.x,G.y),k.type==="spring")for(var z=T.sub(K,G),X=T.perp(T.normalise(z)),U=Math.ceil(u.clamp(A.length/5,12,20)),Z,V=1;V<U;V+=1)Z=V%2===0?1:-1,P.lineTo(G.x+z.x*(V/U)+X.x*Z*4,G.y+z.y*(V/U)+X.y*Z*4);P.lineTo(K.x,K.y)}return P.strokePath(),k.anchors&&N>0&&(P.fillStyle(F),P.fillCircle(G.x,G.y,N),P.fillCircle(K.x,K.y,N)),this},resetCollisionIDs:function(){return v._nextCollidingGroupId=1,v._nextNonCollidingGroupId=-1,v._nextCategory=1,this},shutdown:function(){x.off(this.engine),this.removeAllListeners(),E.clear(this.localWorld,!1),o.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});s.exports=S}),70410:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={setBounce:function(r){return this.body.restitution=r,this}};s.exports=g}),66968:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={setCollisionCategory:function(r){return this.body.collisionFilter.category=r,this},setCollisionGroup:function(r){return this.body.collisionFilter.group=r,this},setCollidesWith:function(r){var a=0;if(!Array.isArray(r))a=r;else for(var v=0;v<r.length;v++)a|=r[v];return this.body.collisionFilter.mask=a,this},setOnCollide:function(r){return this.body.onCollideCallback=r,this},setOnCollideEnd:function(r){return this.body.onCollideEndCallback=r,this},setOnCollideActive:function(r){return this.body.onCollideActiveCallback=r,this},setOnCollideWith:function(r,a){Array.isArray(r)||(r=[r]);for(var v=0;v<r.length;v++){var h=r[v].hasOwnProperty("body")?r[v].body:r[v];this.body.setOnCollideWith(h,a)}return this}};s.exports=g}),51607:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(22562),v={applyForce:function(h){return this._tempVec2.set(this.body.position.x,this.body.position.y),a.applyForce(this.body,this._tempVec2,h),this},applyForceFrom:function(h,u){return a.applyForce(this.body,h,u),this},thrust:function(h){var u=this.body.angle;return this._tempVec2.set(h*Math.cos(u),h*Math.sin(u)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(h){var u=this.body.angle-Math.PI/2;return this._tempVec2.set(h*Math.cos(u),h*Math.sin(u)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(h){var u=this.body.angle+Math.PI/2;return this._tempVec2.set(h*Math.cos(u),h*Math.sin(u)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(h){var u=this.body.angle-Math.PI;return this._tempVec2.set(h*Math.cos(u),h*Math.sin(u)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};s.exports=v}),5436:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={setFriction:function(r,a,v){return this.body.friction=r,a!==void 0&&(this.body.frictionAir=a),v!==void 0&&(this.body.frictionStatic=v),this},setFrictionAir:function(r){return this.body.frictionAir=r,this},setFrictionStatic:function(r){return this.body.frictionStatic=r,this}};s.exports=g}),39858:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={setIgnoreGravity:function(r){return this.body.ignoreGravity=r,this}};s.exports=g}),37302:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(22562),v=r(26099),h={setMass:function(u){return a.setMass(this.body,u),this},setDensity:function(u){return a.setDensity(this.body,u),this},centerOfMass:{get:function(){return new v(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};s.exports=h}),39132:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={setSensor:function(r){return this.body.isSensor=r,this},isSensor:function(){return this.body.isSensor}};s.exports=g}),57772:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(66280),v=r(22562),h=r(43855),u=r(95540),l=r(19496),o=r(85791),d=r(41598),p={setRectangle:function(f,y,w){return this.setBody({type:"rectangle",width:f,height:y},w)},setCircle:function(f,y){return this.setBody({type:"circle",radius:f},y)},setPolygon:function(f,y,w){return this.setBody({type:"polygon",sides:y,radius:f},w)},setTrapezoid:function(f,y,w,x){return this.setBody({type:"trapezoid",width:f,height:y,slope:w},x)},setExistingBody:function(f,y){y===void 0&&(y=!0),this.body&&this.world.remove(this.body,!0),this.body=f;for(var w=0;w<f.parts.length;w++)f.parts[w].gameObject=this;var x=this;if(f.destroy=function(){x.world.remove(x.body,!0),x.body.gameObject=null},y&&(this.world.has(f)&&this.world.remove(f,!0),this.world.add(f)),this._originComponent){var b=f.render.sprite.xOffset,E=f.render.sprite.yOffset,C=f.centerOfMass.x,T=f.centerOfMass.y;if(h(C,.5)&&h(T,.5))this.setOrigin(b+.5,E+.5);else{var S=f.centerOffset.x,A=f.centerOffset.y;this.setOrigin(b+S/this.displayWidth,E+A/this.displayHeight)}}return this},setBody:function(f,y){if(!f)return this;var w;typeof f=="string"&&(f={type:f});var x=u(f,"type","rectangle"),b=u(f,"x",this._tempVec2.x),E=u(f,"y",this._tempVec2.y),C=u(f,"width",this.width),T=u(f,"height",this.height);switch(x){case"rectangle":w=a.rectangle(b,E,C,T,y);break;case"circle":var S=u(f,"radius",Math.max(C,T)/2),A=u(f,"maxSides",25);w=a.circle(b,E,S,y,A);break;case"trapezoid":var P=u(f,"slope",.5);w=a.trapezoid(b,E,C,T,P,y);break;case"polygon":var R=u(f,"sides",5),L=u(f,"radius",Math.max(C,T)/2);w=a.polygon(b,E,R,L,y);break;case"fromVertices":case"fromVerts":var D=u(f,"verts",null);if(D)if(typeof D=="string"&&(D=d.fromPath(D)),this.body&&!this.body.hasOwnProperty("temp"))v.setVertices(this.body,D),w=this.body;else{var $=u(f,"flagInternal",!1),F=u(f,"removeCollinear",.01),N=u(f,"minimumArea",10);w=a.fromVertices(b,E,D,y,$,F,N)}break;case"fromPhysicsEditor":w=l.parseBody(b,E,f,y);break;case"fromPhysicsTracer":w=o.parseBody(b,E,f,y);break}return w&&this.setExistingBody(w,f.addToWorld),this}};s.exports=p}),38083:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(1121),v=r(53614),h=r(35810),u={setToSleep:function(){return v.set(this.body,!0),this},setAwake:function(){return v.set(this.body,!1),this},setSleepThreshold:function(l){return l===void 0&&(l=60),this.body.sleepThreshold=l,this},setSleepEvents:function(l,o){return this.setSleepStartEvent(l),this.setSleepEndEvent(o),this},setSleepStartEvent:function(l){if(l){var o=this.world;h.on(this.body,"sleepStart",function(d){o.emit(a.SLEEP_START,d,this)})}else h.off(this.body,"sleepStart");return this},setSleepEndEvent:function(l){if(l){var o=this.world;h.on(this.body,"sleepEnd",function(d){o.emit(a.SLEEP_END,d,this)})}else h.off(this.body,"sleepEnd");return this}};s.exports=u}),90556:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(22562),v={setStatic:function(h){return a.setStatic(this.body,h),this},isStatic:function(){return this.body.isStatic}};s.exports=v}),85436:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(22562),v=r(36383),h=r(86554),u=r(30954),l=4,o={x:{get:function(){return this.body.position.x},set:function(d){this._tempVec2.set(d,this.y),a.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(d){this._tempVec2.set(this.x,d),a.setPosition(this.body,this._tempVec2)}},scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(d){this.setScale(d,d)}},scaleX:{get:function(){return this._scaleX},set:function(d){var p=1/this._scaleX,f=1/this._scaleY;this._scaleX=d,this._scaleX===0?this.renderFlags&=~l:this.renderFlags|=l,a.scale(this.body,p,f),a.scale(this.body,d,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(d){var p=1/this._scaleX,f=1/this._scaleY;this._scaleY=d,this._scaleY===0?this.renderFlags&=~l:this.renderFlags|=l,a.scale(this.body,p,f),a.scale(this.body,this._scaleX,d)}},angle:{get:function(){return u(this.body.angle*v.RAD_TO_DEG)},set:function(d){this.rotation=u(d)*v.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(d){this._rotation=h(d),a.setAngle(this.body,this._rotation)}},setPosition:function(d,p){return d===void 0&&(d=0),p===void 0&&(p=d),this._tempVec2.set(d,p),a.setPosition(this.body,this._tempVec2),this},setRotation:function(d){return d===void 0&&(d=0),this._rotation=h(d),a.setAngle(this.body,d),this},setFixedRotation:function(){return a.setInertia(this.body,1/0),this},setAngle:function(d){return d===void 0&&(d=0),this.angle=d,a.setAngle(this.body,this.rotation),this},setScale:function(d,p,f){d===void 0&&(d=1),p===void 0&&(p=d);var y=1/this._scaleX,w=1/this._scaleY;return this._scaleX=d,this._scaleY=p,a.scale(this.body,y,w,f),a.scale(this.body,d,p,f),this}};s.exports=o}),42081:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(22562),v={setVelocityX:function(h){return this._tempVec2.set(h,this.body.velocity.y),a.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(h){return this._tempVec2.set(this.body.velocity.x,h),a.setVelocity(this.body,this._tempVec2),this},setVelocity:function(h,u){return this._tempVec2.set(h,u),a.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return a.getVelocity(this.body)},setAngularVelocity:function(h){return a.setAngularVelocity(this.body,h),this},getAngularVelocity:function(){return a.getAngularVelocity(this.body)},setAngularSpeed:function(h){return a.setAngularSpeed(this.body,h),this},getAngularSpeed:function(){return a.getAngularSpeed(this.body)}};s.exports=v}),31884:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Bounce:r(70410),Collision:r(66968),Force:r(51607),Friction:r(5436),Gravity:r(39858),Mass:r(37302),Sensor:r(39132),SetBody:r(57772),Sleep:r(38083),Static:r(90556),Transform:r(85436),Velocity:r(42081)}}),85608:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="afteradd"}),1213:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="afterremove"}),25968:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="afterupdate"}),67205:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="beforeadd"}),39438:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="beforeremove"}),44823:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="beforeupdate"}),92593:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="collisionactive"}),60128:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="collisionend"}),76861:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="collisionstart"}),92362:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="dragend"}),76408:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="drag"}),93971:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="dragstart"}),5656:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pause"}),47861:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="resume"}),79099:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="sleepend"}),35906:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="sleepstart"}),1121:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={AFTER_ADD:r(85608),AFTER_REMOVE:r(1213),AFTER_UPDATE:r(25968),BEFORE_ADD:r(67205),BEFORE_REMOVE:r(39438),BEFORE_UPDATE:r(44823),COLLISION_ACTIVE:r(92593),COLLISION_END:r(60128),COLLISION_START:r(76861),DRAG_END:r(92362),DRAG:r(76408),DRAG_START:r(93971),PAUSE:r(5656),RESUME:r(47861),SLEEP_END:r(79099),SLEEP_START:r(35906)}}),3875:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={BodyBounds:r(68174),Components:r(31884),Events:r(1121),Factory:r(28137),MatterGameObject:r(75803),Image:r(23181),Matter:r(19933),MatterPhysics:r(42045),PolyDecomp:r(55973),Sprite:r(34803),TileBody:r(73834),PhysicsEditorParser:r(19496),PhysicsJSONParser:r(85791),PointerConstraint:r(98713),World:r(68243)}}),22562:((s,g,r)=>{var a={};s.exports=a;var v=r(41598),h=r(31725),u=r(53614),l=r(53402),o=r(15647),d=r(66615);(function(){a._timeCorrection=!0,a._inertiaScale=4,a._nextCollidingGroupId=1,a._nextNonCollidingGroupId=-1,a._nextCategory=1,a._baseDelta=16.666666666666668,a.create=function(f){var y={id:l.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:f.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!f.hasOwnProperty("position")&&f.hasOwnProperty("vertices")?f.position=v.centre(f.vertices):f.hasOwnProperty("vertices")||(y.vertices=v.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var w=l.extend(y,f);return p(w,f),w.setOnCollideWith=function(x,b){return b?this.onCollideWith[x.id]=b:delete this.onCollideWith[x.id],this},w},a.nextGroup=function(f){return f?a._nextNonCollidingGroupId--:a._nextCollidingGroupId++},a.nextCategory=function(){return a._nextCategory=a._nextCategory<<1,a._nextCategory};var p=function(f,y){if(y=y||{},a.set(f,{bounds:f.bounds||o.create(f.vertices),positionPrev:f.positionPrev||h.clone(f.position),anglePrev:f.anglePrev||f.angle,vertices:f.vertices,parts:f.parts||[f],isStatic:f.isStatic,isSleeping:f.isSleeping,parent:f.parent||f}),v.rotate(f.vertices,f.angle,f.position),d.rotate(f.axes,f.angle),o.update(f.bounds,f.vertices,f.velocity),a.set(f,{axes:y.axes||f.axes,area:y.area||f.area,mass:y.mass||f.mass,inertia:y.inertia||f.inertia}),f.parts.length===1){var w=f.bounds,x=f.centerOfMass,b=f.centerOffset,E=w.max.x-w.min.x,C=w.max.y-w.min.y;x.x=-(w.min.x-f.position.x)/E,x.y=-(w.min.y-f.position.y)/C,b.x=E*x.x,b.y=C*x.y}};a.set=function(f,y,w){var x;typeof y=="string"&&(x=y,y={},y[x]=w);for(x in y)if(Object.prototype.hasOwnProperty.call(y,x))switch(w=y[x],x){case"isStatic":a.setStatic(f,w);break;case"isSleeping":u.set(f,w);break;case"mass":a.setMass(f,w);break;case"density":a.setDensity(f,w);break;case"inertia":a.setInertia(f,w);break;case"vertices":a.setVertices(f,w);break;case"position":a.setPosition(f,w);break;case"angle":a.setAngle(f,w);break;case"velocity":a.setVelocity(f,w);break;case"angularVelocity":a.setAngularVelocity(f,w);break;case"speed":a.setSpeed(f,w);break;case"angularSpeed":a.setAngularSpeed(f,w);break;case"parts":a.setParts(f,w);break;case"centre":a.setCentre(f,w);break;default:f[x]=w}},a.setStatic=function(f,y){for(var w=0;w<f.parts.length;w++){var x=f.parts[w];y?(x.isStatic||(x._original={restitution:x.restitution,friction:x.friction,mass:x.mass,inertia:x.inertia,density:x.density,inverseMass:x.inverseMass,inverseInertia:x.inverseInertia}),x.restitution=0,x.friction=1,x.mass=x.inertia=x.density=1/0,x.inverseMass=x.inverseInertia=0,x.positionPrev.x=x.position.x,x.positionPrev.y=x.position.y,x.anglePrev=x.angle,x.angularVelocity=0,x.speed=0,x.angularSpeed=0,x.motion=0):x._original&&(x.restitution=x._original.restitution,x.friction=x._original.friction,x.mass=x._original.mass,x.inertia=x._original.inertia,x.density=x._original.density,x.inverseMass=x._original.inverseMass,x.inverseInertia=x._original.inverseInertia,x._original=null),x.isStatic=y}},a.setMass=function(f,y){var w=f.inertia/(f.mass/6);f.inertia=w*(y/6),f.inverseInertia=1/f.inertia,f.mass=y,f.inverseMass=1/f.mass,f.density=f.mass/f.area},a.setDensity=function(f,y){a.setMass(f,y*f.area),f.density=y},a.setInertia=function(f,y){f.inertia=y,f.inverseInertia=1/f.inertia},a.setVertices=function(f,y){y[0].body===f?f.vertices=y:f.vertices=v.create(y,f),f.axes=d.fromVertices(f.vertices),f.area=v.area(f.vertices),a.setMass(f,f.density*f.area);var w=v.centre(f.vertices);v.translate(f.vertices,w,-1),a.setInertia(f,a._inertiaScale*v.inertia(f.vertices,f.mass)),v.translate(f.vertices,f.position),o.update(f.bounds,f.vertices,f.velocity)},a.setParts=function(f,y,w){var x;for(y=y.slice(0),f.parts.length=0,f.parts.push(f),f.parent=f,x=0;x<y.length;x++){var b=y[x];b!==f&&(b.parent=f,f.parts.push(b))}if(f.parts.length!==1){if(w=typeof w<"u"?w:!0,w){var E=[];for(x=0;x<y.length;x++)E=E.concat(y[x].vertices);v.clockwiseSort(E);var C=v.hull(E),T=v.centre(C);a.setVertices(f,C),v.translate(f.vertices,T)}var S=a._totalProperties(f),A=S.centre.x,P=S.centre.y,R=f.bounds,L=f.centerOfMass,D=f.centerOffset;o.update(R,f.vertices,f.velocity),L.x=-(R.min.x-A)/(R.max.x-R.min.x),L.y=-(R.min.y-P)/(R.max.y-R.min.y),D.x=A,D.y=P,f.area=S.area,f.parent=f,f.position.x=A,f.position.y=P,f.positionPrev.x=A,f.positionPrev.y=P,a.setMass(f,S.mass),a.setInertia(f,S.inertia),a.setPosition(f,S.centre)}},a.setCentre=function(f,y,w){w?(f.positionPrev.x+=y.x,f.positionPrev.y+=y.y,f.position.x+=y.x,f.position.y+=y.y):(f.positionPrev.x=y.x-(f.position.x-f.positionPrev.x),f.positionPrev.y=y.y-(f.position.y-f.positionPrev.y),f.position.x=y.x,f.position.y=y.y)},a.setPosition=function(f,y,w){var x=h.sub(y,f.position);w?(f.positionPrev.x=f.position.x,f.positionPrev.y=f.position.y,f.velocity.x=x.x,f.velocity.y=x.y,f.speed=h.magnitude(x)):(f.positionPrev.x+=x.x,f.positionPrev.y+=x.y);for(var b=0;b<f.parts.length;b++){var E=f.parts[b];E.position.x+=x.x,E.position.y+=x.y,v.translate(E.vertices,x),o.update(E.bounds,E.vertices,f.velocity)}},a.setAngle=function(f,y,w){var x=y-f.angle;w?(f.anglePrev=f.angle,f.angularVelocity=x,f.angularSpeed=Math.abs(x)):f.anglePrev+=x;for(var b=0;b<f.parts.length;b++){var E=f.parts[b];E.angle+=x,v.rotate(E.vertices,x,f.position),d.rotate(E.axes,x),o.update(E.bounds,E.vertices,f.velocity),b>0&&h.rotateAbout(E.position,x,f.position,E.position)}},a.setVelocity=function(f,y){var w=f.deltaTime/a._baseDelta;f.positionPrev.x=f.position.x-y.x*w,f.positionPrev.y=f.position.y-y.y*w,f.velocity.x=(f.position.x-f.positionPrev.x)/w,f.velocity.y=(f.position.y-f.positionPrev.y)/w,f.speed=h.magnitude(f.velocity)},a.getVelocity=function(f){var y=a._baseDelta/f.deltaTime;return{x:(f.position.x-f.positionPrev.x)*y,y:(f.position.y-f.positionPrev.y)*y}},a.getSpeed=function(f){return h.magnitude(a.getVelocity(f))},a.setSpeed=function(f,y){a.setVelocity(f,h.mult(h.normalise(a.getVelocity(f)),y))},a.setAngularVelocity=function(f,y){var w=f.deltaTime/a._baseDelta;f.anglePrev=f.angle-y*w,f.angularVelocity=(f.angle-f.anglePrev)/w,f.angularSpeed=Math.abs(f.angularVelocity)},a.getAngularVelocity=function(f){return(f.angle-f.anglePrev)*a._baseDelta/f.deltaTime},a.getAngularSpeed=function(f){return Math.abs(a.getAngularVelocity(f))},a.setAngularSpeed=function(f,y){a.setAngularVelocity(f,l.sign(a.getAngularVelocity(f))*y)},a.translate=function(f,y,w){a.setPosition(f,h.add(f.position,y),w)},a.rotate=function(f,y,w,x){if(!w)a.setAngle(f,f.angle+y,x);else{var b=Math.cos(y),E=Math.sin(y),C=f.position.x-w.x,T=f.position.y-w.y;a.setPosition(f,{x:w.x+(C*b-T*E),y:w.y+(C*E+T*b)},x),a.setAngle(f,f.angle+y,x)}},a.scale=function(f,y,w,x){var b=0,E=0;x=x||f.position;for(var C=f.inertia===1/0,T=0;T<f.parts.length;T++){var S=f.parts[T];S.scale.x=y,S.scale.y=w,v.scale(S.vertices,y,w,x),S.axes=d.fromVertices(S.vertices),S.area=v.area(S.vertices),a.setMass(S,f.density*S.area),v.translate(S.vertices,{x:-S.position.x,y:-S.position.y}),a.setInertia(S,a._inertiaScale*v.inertia(S.vertices,S.mass)),v.translate(S.vertices,{x:S.position.x,y:S.position.y}),T>0&&(b+=S.area,E+=S.inertia),S.position.x=x.x+(S.position.x-x.x)*y,S.position.y=x.y+(S.position.y-x.y)*w,o.update(S.bounds,S.vertices,f.velocity)}f.parts.length>1&&(f.area=b,f.isStatic||(a.setMass(f,f.density*b),a.setInertia(f,E))),f.circleRadius&&(y===w?f.circleRadius*=y:f.circleRadius=null),C&&a.setInertia(f,1/0)},a.update=function(f,y){y=(typeof y<"u"?y:16.666666666666668)*f.timeScale;var w=y*y,x=a._timeCorrection?y/(f.deltaTime||y):1,b=1-f.frictionAir*(y/l._baseDelta),E=(f.position.x-f.positionPrev.x)*x,C=(f.position.y-f.positionPrev.y)*x;f.velocity.x=E*b+f.force.x/f.mass*w,f.velocity.y=C*b+f.force.y/f.mass*w,f.positionPrev.x=f.position.x,f.positionPrev.y=f.position.y,f.position.x+=f.velocity.x,f.position.y+=f.velocity.y,f.deltaTime=y,f.angularVelocity=(f.angle-f.anglePrev)*b*x+f.torque/f.inertia*w,f.anglePrev=f.angle,f.angle+=f.angularVelocity,f.speed=h.magnitude(f.velocity),f.angularSpeed=Math.abs(f.angularVelocity);for(var T=0;T<f.parts.length;T++){var S=f.parts[T];v.translate(S.vertices,f.velocity),T>0&&(S.position.x+=f.velocity.x,S.position.y+=f.velocity.y),f.angularVelocity!==0&&(v.rotate(S.vertices,f.angularVelocity,f.position),d.rotate(S.axes,f.angularVelocity),T>0&&h.rotateAbout(S.position,f.angularVelocity,f.position,S.position)),o.update(S.bounds,S.vertices,f.velocity)}},a.updateVelocities=function(f){var y=a._baseDelta/f.deltaTime,w=f.velocity;w.x=(f.position.x-f.positionPrev.x)*y,w.y=(f.position.y-f.positionPrev.y)*y,f.speed=Math.sqrt(w.x*w.x+w.y*w.y),f.angularVelocity=(f.angle-f.anglePrev)*y,f.angularSpeed=Math.abs(f.angularVelocity)},a.applyForce=function(f,y,w){var x={x:y.x-f.position.x,y:y.y-f.position.y};f.force.x+=w.x,f.force.y+=w.y,f.torque+=x.x*w.y-x.y*w.x},a._totalProperties=function(f){for(var y={mass:0,area:0,inertia:0,centre:{x:0,y:0}},w=f.parts.length===1?0:1;w<f.parts.length;w++){var x=f.parts[w],b=x.mass!==1/0?x.mass:1;y.mass+=b,y.area+=x.area,y.inertia+=x.inertia,y.centre=h.add(y.centre,h.mult(x.position,b))}return y.centre=h.div(y.centre,y.mass),y},a.wrap=function(f,y){var w=o.wrap(f.bounds,y);return w&&a.translate(f,w),w}})()}),69351:((s,g,r)=>{var a={};s.exports=a;var v=r(35810),h=r(53402),u=r(15647),l=r(22562);(function(){a.create=function(o){return h.extend({id:h.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},o)},a.setModified=function(o,d,p,f){if(v.trigger(o,"compositeModified",o),o.isModified=d,d&&o.cache&&(o.cache.allBodies=null,o.cache.allConstraints=null,o.cache.allComposites=null),p&&o.parent&&a.setModified(o.parent,d,p,f),f)for(var y=0;y<o.composites.length;y++){var w=o.composites[y];a.setModified(w,d,p,f)}},a.add=function(o,d){var p=[].concat(d);v.trigger(o,"beforeAdd",{object:d});for(var f=0;f<p.length;f++){var y=p[f];switch(y.type){case"body":if(y.parent!==y){h.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}a.addBody(o,y);break;case"constraint":a.addConstraint(o,y);break;case"composite":a.addComposite(o,y);break;case"mouseConstraint":a.addConstraint(o,y.constraint);break}}return v.trigger(o,"afterAdd",{object:d}),o},a.remove=function(o,d,p){var f=[].concat(d);v.trigger(o,"beforeRemove",{object:d});for(var y=0;y<f.length;y++){var w=f[y];switch(w.type){case"body":a.removeBody(o,w,p);break;case"constraint":a.removeConstraint(o,w,p);break;case"composite":a.removeComposite(o,w,p);break;case"mouseConstraint":a.removeConstraint(o,w.constraint);break}}return v.trigger(o,"afterRemove",{object:d}),o},a.addComposite=function(o,d){return o.composites.push(d),d.parent=o,a.setModified(o,!0,!0,!1),o},a.removeComposite=function(o,d,p){var f=h.indexOf(o.composites,d);if(f!==-1){var y=a.allBodies(d);a.removeCompositeAt(o,f);for(var w=0;w<y.length;w++)y[w].sleepCounter=0}if(p)for(var w=0;w<o.composites.length;w++)a.removeComposite(o.composites[w],d,!0);return o},a.removeCompositeAt=function(o,d){return o.composites.splice(d,1),a.setModified(o,!0,!0,!1),o},a.addBody=function(o,d){return o.bodies.push(d),a.setModified(o,!0,!0,!1),o},a.removeBody=function(o,d,p){var f=h.indexOf(o.bodies,d);if(f!==-1&&(a.removeBodyAt(o,f),d.sleepCounter=0),p)for(var y=0;y<o.composites.length;y++)a.removeBody(o.composites[y],d,!0);return o},a.removeBodyAt=function(o,d){return o.bodies.splice(d,1),a.setModified(o,!0,!0,!1),o},a.addConstraint=function(o,d){return o.constraints.push(d),a.setModified(o,!0,!0,!1),o},a.removeConstraint=function(o,d,p){var f=h.indexOf(o.constraints,d);if(f!==-1&&a.removeConstraintAt(o,f),p)for(var y=0;y<o.composites.length;y++)a.removeConstraint(o.composites[y],d,!0);return o},a.removeConstraintAt=function(o,d){return o.constraints.splice(d,1),a.setModified(o,!0,!0,!1),o},a.clear=function(o,d,p){if(p)for(var f=0;f<o.composites.length;f++)a.clear(o.composites[f],d,!0);return d?o.bodies=o.bodies.filter(function(y){return y.isStatic}):o.bodies.length=0,o.constraints.length=0,o.composites.length=0,a.setModified(o,!0,!0,!1),o},a.allBodies=function(o){if(o.cache&&o.cache.allBodies)return o.cache.allBodies;for(var d=[].concat(o.bodies),p=0;p<o.composites.length;p++)d=d.concat(a.allBodies(o.composites[p]));return o.cache&&(o.cache.allBodies=d),d},a.allConstraints=function(o){if(o.cache&&o.cache.allConstraints)return o.cache.allConstraints;for(var d=[].concat(o.constraints),p=0;p<o.composites.length;p++)d=d.concat(a.allConstraints(o.composites[p]));return o.cache&&(o.cache.allConstraints=d),d},a.allComposites=function(o){if(o.cache&&o.cache.allComposites)return o.cache.allComposites;for(var d=[].concat(o.composites),p=0;p<o.composites.length;p++)d=d.concat(a.allComposites(o.composites[p]));return o.cache&&(o.cache.allComposites=d),d},a.get=function(o,d,p){var f,y;switch(p){case"body":f=a.allBodies(o);break;case"constraint":f=a.allConstraints(o);break;case"composite":f=a.allComposites(o).concat(o);break}return f?(y=f.filter(function(w){return w.id.toString()===d.toString()}),y.length===0?null:y[0]):null},a.move=function(o,d,p){return a.remove(o,d),a.add(p,d),o},a.rebase=function(o){for(var d=a.allBodies(o).concat(a.allConstraints(o)).concat(a.allComposites(o)),p=0;p<d.length;p++)d[p].id=h.nextId();return o},a.translate=function(o,d,p){for(var f=p?a.allBodies(o):o.bodies,y=0;y<f.length;y++)l.translate(f[y],d);return o},a.rotate=function(o,d,p,f){for(var y=Math.cos(d),w=Math.sin(d),x=f?a.allBodies(o):o.bodies,b=0;b<x.length;b++){var E=x[b],C=E.position.x-p.x,T=E.position.y-p.y;l.setPosition(E,{x:p.x+(C*y-T*w),y:p.y+(C*w+T*y)}),l.rotate(E,d)}return o},a.scale=function(o,d,p,f,y){for(var w=y?a.allBodies(o):o.bodies,x=0;x<w.length;x++){var b=w[x],E=b.position.x-f.x,C=b.position.y-f.y;l.setPosition(b,{x:f.x+E*d,y:f.y+C*p}),l.scale(b,d,p)}return o},a.bounds=function(o){for(var d=a.allBodies(o),p=[],f=0;f<d.length;f+=1){var y=d[f];p.push(y.bounds.min,y.bounds.max)}return u.create(p)},a.wrap=function(o,d){var p=u.wrap(a.bounds(o),d);return p&&a.translate(o,p),p}})()}),4372:((s,g,r)=>{var a={};s.exports=a;var v=r(69351);(function(){a.create=v.create,a.add=v.add,a.remove=v.remove,a.clear=v.clear,a.addComposite=v.addComposite,a.addBody=v.addBody,a.addConstraint=v.addConstraint})()}),52284:((s,g,r)=>{var a={};s.exports=a;var v=r(41598),h=r(4506);(function(){var u=[],l={overlap:0,axis:null},o={overlap:0,axis:null};a.create=function(d,p){return{pair:null,collided:!1,bodyA:d,bodyB:p,parentA:d.parent,parentB:p.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},a.collides=function(d,p,f){if(a._overlapAxes(l,d.vertices,p.vertices,d.axes),l.overlap<=0||(a._overlapAxes(o,p.vertices,d.vertices,p.axes),o.overlap<=0))return null;var y=f&&f.table[h.id(d,p)],w;y?w=y.collision:(w=a.create(d,p),w.collided=!0,w.bodyA=d.id<p.id?d:p,w.bodyB=d.id<p.id?p:d,w.parentA=w.bodyA.parent,w.parentB=w.bodyB.parent),d=w.bodyA,p=w.bodyB;var x;l.overlap<o.overlap?x=l:x=o;var b=w.normal,E=w.tangent,C=w.penetration,T=w.supports,S=x.overlap,A=x.axis,P=A.x,R=A.y,L=p.position.x-d.position.x,D=p.position.y-d.position.y;P*L+R*D>=0&&(P=-P,R=-R),b.x=P,b.y=R,E.x=-R,E.y=P,C.x=P*S,C.y=R*S,w.depth=S;var $=a._findSupports(d,p,b,1),F=0;if(v.contains(d.vertices,$[0])&&(T[F++]=$[0]),v.contains(d.vertices,$[1])&&(T[F++]=$[1]),F<2){var N=a._findSupports(p,d,b,-1);v.contains(p.vertices,N[0])&&(T[F++]=N[0]),F<2&&v.contains(p.vertices,N[1])&&(T[F++]=N[1])}return F===0&&(T[F++]=$[0]),w.supportCount=F,w},a._overlapAxes=function(d,p,f,y){var w=p.length,x=f.length,b=p[0].x,E=p[0].y,C=f[0].x,T=f[0].y,S=y.length,A=Number.MAX_VALUE,P=0,R,L,D,$,F,N;for(F=0;F<S;F++){var k=y[F],j=k.x,W=k.y,G=b*j+E*W,K=C*j+T*W,z=G,X=K;for(N=1;N<w;N+=1)$=p[N].x*j+p[N].y*W,$>z?z=$:$<G&&(G=$);for(N=1;N<x;N+=1)$=f[N].x*j+f[N].y*W,$>X?X=$:$<K&&(K=$);if(L=z-K,D=X-G,R=L<D?L:D,R<A&&(A=R,P=F,R<=0))break}d.axis=y[P],d.overlap=A},a._findSupports=function(d,p,f,y){var w=p.vertices,x=w.length,b=d.position.x,E=d.position.y,C=f.x*y,T=f.y*y,S=w[0],A=S,P=C*(b-A.x)+T*(E-A.y),R,L,D;for(D=1;D<x;D+=1)A=w[D],L=C*(b-A.x)+T*(E-A.y),L<P&&(P=L,S=A);return R=w[(x+S.index-1)%x],P=C*(b-R.x)+T*(E-R.y),A=w[(S.index+1)%x],C*(b-A.x)+T*(E-A.y)<P?(u[0]=S,u[1]=A,u):(u[0]=S,u[1]=R,u)}})()}),43424:(s=>{var g={};s.exports=g,(function(){g.create=function(r){return{vertex:r,normalImpulse:0,tangentImpulse:0}}})()}),81388:((s,g,r)=>{var a={};s.exports=a;var v=r(53402),h=r(52284);(function(){a.create=function(u){var l={bodies:[],collisions:[],pairs:null};return v.extend(l,u)},a.setBodies=function(u,l){u.bodies=l.slice(0)},a.clear=function(u){u.bodies=[],u.collisions=[]},a.collisions=function(u){var l=u.pairs,o=u.bodies,d=o.length,p=a.canCollide,f=h.collides,y=u.collisions,w=0,x,b;for(o.sort(a._compareBoundsX),x=0;x<d;x++){var E=o[x],C=E.bounds,T=E.bounds.max.x,S=E.bounds.max.y,A=E.bounds.min.y,P=E.isStatic||E.isSleeping,R=E.parts.length,L=R===1;for(b=x+1;b<d;b++){var D=o[b],$=D.bounds;if($.min.x>T)break;if(!(S<$.min.y||A>$.max.y)&&!(P&&(D.isStatic||D.isSleeping))&&p(E.collisionFilter,D.collisionFilter)){var F=D.parts.length;if(L&&F===1){var N=f(E,D,l);N&&(y[w++]=N)}else for(var k=R>1?1:0,j=F>1?1:0,W=k;W<R;W++)for(var G=E.parts[W],C=G.bounds,K=j;K<F;K++){var z=D.parts[K],$=z.bounds;if(!(C.min.x>$.max.x||C.max.x<$.min.x||C.max.y<$.min.y||C.min.y>$.max.y)){var N=f(G,z,l);N&&(y[w++]=N)}}}}}return y.length!==w&&(y.length=w),y},a.canCollide=function(u,l){return u.group===l.group&&u.group!==0?u.group>0:(u.mask&l.category)!==0&&(l.mask&u.category)!==0},a._compareBoundsX=function(u,l){return u.bounds.min.x-l.bounds.min.x}})()}),4506:((s,g,r)=>{var a={};s.exports=a;var v=r(43424);(function(){a.create=function(h,u){var l=h.bodyA,o=h.bodyB,d={id:a.id(l,o),bodyA:l,bodyB:o,collision:h,contacts:[v.create(),v.create()],contactCount:0,separation:0,isActive:!0,isSensor:l.isSensor||o.isSensor,timeCreated:u,timeUpdated:u,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return a.update(d,h,u),d},a.update=function(h,u,l){var o=u.supports,d=u.supportCount,p=h.contacts,f=u.parentA,y=u.parentB;h.isActive=!0,h.timeUpdated=l,h.collision=u,h.separation=u.depth,h.inverseMass=f.inverseMass+y.inverseMass,h.friction=f.friction<y.friction?f.friction:y.friction,h.frictionStatic=f.frictionStatic>y.frictionStatic?f.frictionStatic:y.frictionStatic,h.restitution=f.restitution>y.restitution?f.restitution:y.restitution,h.slop=f.slop>y.slop?f.slop:y.slop,h.contactCount=d,u.pair=h;var w=o[0],x=p[0],b=o[1],E=p[1];(E.vertex===w||x.vertex===b)&&(p[1]=x,p[0]=x=E,E=p[1]),x.vertex=w,E.vertex=b},a.setActive=function(h,u,l){u?(h.isActive=!0,h.timeUpdated=l):(h.isActive=!1,h.contactCount=0)},a.id=function(h,u){return h.id<u.id?h.id.toString(36)+":"+u.id.toString(36):u.id.toString(36)+":"+h.id.toString(36)}})()}),99561:((s,g,r)=>{var a={};s.exports=a;var v=r(4506),h=r(53402);(function(){a.create=function(u){return h.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},u)},a.update=function(u,l,o){var d=v.update,p=v.create,f=v.setActive,y=u.table,w=u.list,x=w.length,b=x,E=u.collisionStart,C=u.collisionEnd,T=u.collisionActive,S=l.length,A=0,P=0,R=0,L,D,$;for($=0;$<S;$++)L=l[$],D=L.pair,D?(D.isActive&&(T[R++]=D),d(D,L,o)):(D=p(L,o),y[D.id]=D,E[A++]=D,w[b++]=D);for(b=0,x=w.length,$=0;$<x;$++)D=w[$],D.timeUpdated>=o?w[b++]=D:(f(D,!1,o),D.collision.bodyA.sleepCounter>0&&D.collision.bodyB.sleepCounter>0?w[b++]=D:(C[P++]=D,delete y[D.id]));w.length!==b&&(w.length=b),E.length!==A&&(E.length=A),C.length!==P&&(C.length=P),T.length!==R&&(T.length=R)},a.clear=function(u){return u.table={},u.list.length=0,u.collisionStart.length=0,u.collisionActive.length=0,u.collisionEnd.length=0,u}})()}),73296:((s,g,r)=>{var a={};s.exports=a;var v=r(31725),h=r(52284),u=r(15647),l=r(66280),o=r(41598);(function(){a.collides=function(d,p){for(var f=[],y=p.length,w=d.bounds,x=h.collides,b=u.overlaps,E=0;E<y;E++){var C=p[E],T=C.parts.length,S=T===1?0:1;if(d!==C&&b(C.bounds,w))for(var A=S;A<T;A++){var P=C.parts[A];if(b(P.bounds,w)){var R=x(P,d);if(R){f.push(R);break}}}}return f},a.ray=function(d,p,f,y){y=y||1e-100;for(var w=v.angle(p,f),x=v.magnitude(v.sub(p,f)),b=(f.x+p.x)*.5,E=(f.y+p.y)*.5,C=l.rectangle(b,E,x,y,{angle:w}),T=a.collides(C,d),S=0;S<T.length;S+=1){var A=T[S];A.body=A.bodyB=A.bodyA}return T},a.region=function(d,p,f){for(var y=[],w=0;w<d.length;w++){var x=d[w],b=u.overlaps(x.bounds,p);(b&&!f||!b&&f)&&y.push(x)}return y},a.point=function(d,p){for(var f=[],y=0;y<d.length;y++){var w=d[y];if(u.contains(w.bounds,p))for(var x=w.parts.length===1?0:1;x<w.parts.length;x++){var b=w.parts[x];if(u.contains(b.bounds,p)&&o.contains(b.vertices,p)){f.push(w);break}}}return f}})()}),66272:((s,g,r)=>{var a={};s.exports=a;var v=r(41598),h=r(53402),u=r(15647);(function(){a._restingThresh=2,a._restingThreshTangent=Math.sqrt(6),a._positionDampen=.9,a._positionWarming=.8,a._frictionNormalMultiplier=5,a._frictionMaxStatic=Number.MAX_VALUE,a.preSolvePosition=function(l){var o,d,p,f=l.length;for(o=0;o<f;o++)d=l[o],d.isActive&&(p=d.contactCount,d.collision.parentA.totalContacts+=p,d.collision.parentB.totalContacts+=p)},a.solvePosition=function(l,o,d){var p,f,y,w,x,b,E,C,T=a._positionDampen*(d||1),S=h.clamp(o/h._baseDelta,0,1),A=l.length;for(p=0;p<A;p++)f=l[p],!(!f.isActive||f.isSensor)&&(y=f.collision,w=y.parentA,x=y.parentB,b=y.normal,f.separation=y.depth+b.x*(x.positionImpulse.x-w.positionImpulse.x)+b.y*(x.positionImpulse.y-w.positionImpulse.y));for(p=0;p<A;p++)f=l[p],!(!f.isActive||f.isSensor)&&(y=f.collision,w=y.parentA,x=y.parentB,b=y.normal,C=f.separation-f.slop*S,(w.isStatic||x.isStatic)&&(C*=2),w.isStatic||w.isSleeping||(E=T/w.totalContacts,w.positionImpulse.x+=b.x*C*E,w.positionImpulse.y+=b.y*C*E),x.isStatic||x.isSleeping||(E=T/x.totalContacts,x.positionImpulse.x-=b.x*C*E,x.positionImpulse.y-=b.y*C*E))},a.postSolvePosition=function(l){for(var o=a._positionWarming,d=l.length,p=v.translate,f=u.update,y=0;y<d;y++){var w=l[y],x=w.positionImpulse,b=x.x,E=x.y,C=w.velocity;if(w.totalContacts=0,b!==0||E!==0){for(var T=0;T<w.parts.length;T++){var S=w.parts[T];p(S.vertices,x),f(S.bounds,S.vertices,C),S.position.x+=b,S.position.y+=E}w.positionPrev.x+=b,w.positionPrev.y+=E,b*C.x+E*C.y<0?(x.x=0,x.y=0):(x.x*=o,x.y*=o)}}},a.preSolveVelocity=function(l){var o=l.length,d,p;for(d=0;d<o;d++){var f=l[d];if(!(!f.isActive||f.isSensor)){var y=f.contacts,w=f.contactCount,x=f.collision,b=x.parentA,E=x.parentB,C=x.normal,T=x.tangent;for(p=0;p<w;p++){var S=y[p],A=S.vertex,P=S.normalImpulse,R=S.tangentImpulse;if(P!==0||R!==0){var L=C.x*P+T.x*R,D=C.y*P+T.y*R;b.isStatic||b.isSleeping||(b.positionPrev.x+=L*b.inverseMass,b.positionPrev.y+=D*b.inverseMass,b.anglePrev+=b.inverseInertia*((A.x-b.position.x)*D-(A.y-b.position.y)*L)),E.isStatic||E.isSleeping||(E.positionPrev.x-=L*E.inverseMass,E.positionPrev.y-=D*E.inverseMass,E.anglePrev-=E.inverseInertia*((A.x-E.position.x)*D-(A.y-E.position.y)*L))}}}}},a.solveVelocity=function(l,o){var d=o/h._baseDelta,p=d*d,f=p*d,y=-a._restingThresh*d,w=a._restingThreshTangent,x=a._frictionNormalMultiplier*d,b=a._frictionMaxStatic,E=l.length,C,T,S,A;for(S=0;S<E;S++){var P=l[S];if(!(!P.isActive||P.isSensor)){var R=P.collision,L=R.parentA,D=R.parentB,$=R.normal.x,F=R.normal.y,N=R.tangent.x,k=R.tangent.y,j=P.inverseMass,W=P.friction*P.frictionStatic*x,G=P.contacts,K=P.contactCount,z=1/K,X=L.position.x-L.positionPrev.x,U=L.position.y-L.positionPrev.y,Z=L.angle-L.anglePrev,V=D.position.x-D.positionPrev.x,J=D.position.y-D.positionPrev.y,Q=D.angle-D.anglePrev;for(A=0;A<K;A++){var ee=G[A],te=ee.vertex,ie=te.x-L.position.x,le=te.y-L.position.y,de=te.x-D.position.x,fe=te.y-D.position.y,oe=X-le*Z,Ee=U+ie*Z,ye=V-fe*Q,Ce=J+de*Q,Ie=oe-ye,je=Ee-Ce,Re=$*Ie+F*je,Fe=N*Ie+k*je,Ae=P.separation+Re,Xe=Math.min(Ae,1);Xe=Ae<0?0:Xe;var st=Xe*W;Fe<-st||Fe>st?(T=Fe>0?Fe:-Fe,C=P.friction*(Fe>0?1:-1)*f,C<-T?C=-T:C>T&&(C=T)):(C=Fe,T=b);var vt=ie*F-le*$,Ge=de*F-fe*$,nt=z/(j+L.inverseInertia*vt*vt+D.inverseInertia*Ge*Ge),St=(1+P.restitution)*Re*nt;if(C*=nt,Re<y)ee.normalImpulse=0;else{var Je=ee.normalImpulse;ee.normalImpulse+=St,ee.normalImpulse>0&&(ee.normalImpulse=0),St=ee.normalImpulse-Je}if(Fe<-w||Fe>w)ee.tangentImpulse=0;else{var He=ee.tangentImpulse;ee.tangentImpulse+=C,ee.tangentImpulse<-T&&(ee.tangentImpulse=-T),ee.tangentImpulse>T&&(ee.tangentImpulse=T),C=ee.tangentImpulse-He}var _e=$*St+N*C,ht=F*St+k*C;L.isStatic||L.isSleeping||(L.positionPrev.x+=_e*L.inverseMass,L.positionPrev.y+=ht*L.inverseMass,L.anglePrev+=(ie*ht-le*_e)*L.inverseInertia),D.isStatic||D.isSleeping||(D.positionPrev.x-=_e*D.inverseMass,D.positionPrev.y-=ht*D.inverseMass,D.anglePrev-=(de*ht-fe*_e)*D.inverseInertia)}}}}})()}),48140:((s,g,r)=>{var a={};s.exports=a;var v=r(41598),h=r(31725),u=r(53614),l=r(15647),o=r(66615),d=r(53402);(function(){a._warming=.4,a._torqueDampen=1,a._minLength=1e-6,a.create=function(p){var f=p;f.bodyA&&!f.pointA&&(f.pointA={x:0,y:0}),f.bodyB&&!f.pointB&&(f.pointB={x:0,y:0});var y=f.bodyA?h.add(f.bodyA.position,f.pointA):f.pointA,w=f.bodyB?h.add(f.bodyB.position,f.pointB):f.pointB,x=h.magnitude(h.sub(y,w));f.length=typeof f.length<"u"?f.length:x,f.id=f.id||d.nextId(),f.label=f.label||"Constraint",f.type="constraint",f.stiffness=f.stiffness||(f.length>0?1:.7),f.damping=f.damping||0,f.angularStiffness=f.angularStiffness||0,f.angleA=f.bodyA?f.bodyA.angle:f.angleA,f.angleB=f.bodyB?f.bodyB.angle:f.angleB,f.plugin={};var b={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return f.length===0&&f.stiffness>.1?(b.type="pin",b.anchors=!1):f.stiffness<.9&&(b.type="spring"),f.render=d.extend(b,f.render),f},a.preSolveAll=function(p){for(var f=0;f<p.length;f+=1){var y=p[f],w=y.constraintImpulse;y.isStatic||w.x===0&&w.y===0&&w.angle===0||(y.position.x+=w.x,y.position.y+=w.y,y.angle+=w.angle)}},a.solveAll=function(p,f){for(var y=d.clamp(f/d._baseDelta,0,1),w=0;w<p.length;w+=1){var x=p[w],b=!x.bodyA||x.bodyA&&x.bodyA.isStatic,E=!x.bodyB||x.bodyB&&x.bodyB.isStatic;(b||E)&&a.solve(p[w],y)}for(w=0;w<p.length;w+=1)x=p[w],b=!x.bodyA||x.bodyA&&x.bodyA.isStatic,E=!x.bodyB||x.bodyB&&x.bodyB.isStatic,!b&&!E&&a.solve(p[w],y)},a.solve=function(p,f){var y=p.bodyA,w=p.bodyB,x=p.pointA,b=p.pointB;if(!(!y&&!w)){y&&!y.isStatic&&(h.rotate(x,y.angle-p.angleA,x),p.angleA=y.angle),w&&!w.isStatic&&(h.rotate(b,w.angle-p.angleB,b),p.angleB=w.angle);var E=x,C=b;if(y&&(E=h.add(y.position,x)),w&&(C=h.add(w.position,b)),!(!E||!C)){var T=h.sub(E,C),S=h.magnitude(T);S<a._minLength&&(S=a._minLength);var A=(S-p.length)/S,P=p.stiffness>=1||p.length===0,R=P?p.stiffness*f:p.stiffness*f*f,L=p.damping*f,D=h.mult(T,A*R),$=(y?y.inverseMass:0)+(w?w.inverseMass:0),F=(y?y.inverseInertia:0)+(w?w.inverseInertia:0),N=$+F,k,j,W,G,K;if(L>0){var z=h.create();W=h.div(T,S),K=h.sub(w&&h.sub(w.position,w.positionPrev)||z,y&&h.sub(y.position,y.positionPrev)||z),G=h.dot(W,K)}y&&!y.isStatic&&(j=y.inverseMass/$,y.constraintImpulse.x-=D.x*j,y.constraintImpulse.y-=D.y*j,y.position.x-=D.x*j,y.position.y-=D.y*j,L>0&&(y.positionPrev.x-=L*W.x*G*j,y.positionPrev.y-=L*W.y*G*j),k=h.cross(x,D)/N*a._torqueDampen*y.inverseInertia*(1-p.angularStiffness),y.constraintImpulse.angle-=k,y.angle-=k),w&&!w.isStatic&&(j=w.inverseMass/$,w.constraintImpulse.x+=D.x*j,w.constraintImpulse.y+=D.y*j,w.position.x+=D.x*j,w.position.y+=D.y*j,L>0&&(w.positionPrev.x+=L*W.x*G*j,w.positionPrev.y+=L*W.y*G*j),k=h.cross(b,D)/N*a._torqueDampen*w.inverseInertia*(1-p.angularStiffness),w.constraintImpulse.angle+=k,w.angle+=k)}}},a.postSolveAll=function(p){for(var f=0;f<p.length;f++){var y=p[f],w=y.constraintImpulse;if(!(y.isStatic||w.x===0&&w.y===0&&w.angle===0)){u.set(y,!1);for(var x=0;x<y.parts.length;x++){var b=y.parts[x];v.translate(b.vertices,w),x>0&&(b.position.x+=w.x,b.position.y+=w.y),w.angle!==0&&(v.rotate(b.vertices,w.angle,y.position),o.rotate(b.axes,w.angle),x>0&&h.rotateAbout(b.position,w.angle,y.position,b.position)),l.update(b.bounds,b.vertices,y.velocity)}w.angle*=a._warming,w.x*=a._warming,w.y*=a._warming}}},a.pointAWorld=function(p){return{x:(p.bodyA?p.bodyA.position.x:0)+(p.pointA?p.pointA.x:0),y:(p.bodyA?p.bodyA.position.y:0)+(p.pointA?p.pointA.y:0)}},a.pointBWorld=function(p){return{x:(p.bodyB?p.bodyB.position.x:0)+(p.pointB?p.pointB.x:0),y:(p.bodyB?p.bodyB.position.y:0)+(p.pointB?p.pointB.y:0)}},a.currentLength=function(p){var f=(p.bodyA?p.bodyA.position.x:0)+(p.pointA?p.pointA.x:0),y=(p.bodyA?p.bodyA.position.y:0)+(p.pointA?p.pointA.y:0),w=(p.bodyB?p.bodyB.position.x:0)+(p.pointB?p.pointB.x:0),x=(p.bodyB?p.bodyB.position.y:0)+(p.pointB?p.pointB.y:0),b=f-w,E=y-x;return Math.sqrt(b*b+E*E)}})()}),53402:((s,g,r)=>{var a={};s.exports=a,(function(){a._baseDelta=16.666666666666668,a._nextId=0,a._seed=0,a._nowStartTime=+new Date,a._warnedOnce={},a._decomp=null,a.extend=function(h,u){var l,o;typeof u=="boolean"?(l=2,o=u):(l=1,o=!0);for(var d=l;d<arguments.length;d++){var p=arguments[d];if(p)for(var f in p)o&&p[f]&&p[f].constructor===Object&&(!h[f]||h[f].constructor===Object)?(h[f]=h[f]||{},a.extend(h[f],o,p[f])):h[f]=p[f]}return h},a.clone=function(h,u){return a.extend({},u,h)},a.keys=function(h){if(Object.keys)return Object.keys(h);var u=[];for(var l in h)u.push(l);return u},a.values=function(h){var u=[];if(Object.keys){for(var l=Object.keys(h),o=0;o<l.length;o++)u.push(h[l[o]]);return u}for(var d in h)u.push(h[d]);return u},a.get=function(h,u,l,o){u=u.split(".").slice(l,o);for(var d=0;d<u.length;d+=1)h=h[u[d]];return h},a.set=function(h,u,l,o,d){var p=u.split(".").slice(o,d);return a.get(h,u,0,-1)[p[p.length-1]]=l,l},a.shuffle=function(h){for(var u=h.length-1;u>0;u--){var l=Math.floor(a.random()*(u+1)),o=h[u];h[u]=h[l],h[l]=o}return h},a.choose=function(h){return h[Math.floor(a.random()*h.length)]},a.isElement=function(h){return typeof HTMLElement<"u"?h instanceof HTMLElement:!!(h&&h.nodeType&&h.nodeName)},a.isArray=function(h){return Object.prototype.toString.call(h)==="[object Array]"},a.isFunction=function(h){return typeof h=="function"},a.isPlainObject=function(h){return typeof h=="object"&&h.constructor===Object},a.isString=function(h){return toString.call(h)==="[object String]"},a.clamp=function(h,u,l){return h<u?u:h>l?l:h},a.sign=function(h){return h<0?-1:1},a.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-a._nowStartTime},a.random=function(h,u){return h=typeof h<"u"?h:0,u=typeof u<"u"?u:1,h+v()*(u-h)};var v=function(){return a._seed=(a._seed*9301+49297)%233280,a._seed/233280};a.colorToNumber=function(h){return h=h.replace("#",""),h.length==3&&(h=h.charAt(0)+h.charAt(0)+h.charAt(1)+h.charAt(1)+h.charAt(2)+h.charAt(2)),parseInt(h,16)},a.logLevel=1,a.log=function(){console&&a.logLevel>0&&a.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.info=function(){console&&a.logLevel>0&&a.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.warn=function(){console&&a.logLevel>0&&a.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.warnOnce=function(){var h=Array.prototype.slice.call(arguments).join(" ");a._warnedOnce[h]||(a.warn(h),a._warnedOnce[h]=!0)},a.deprecated=function(h,u,l){h[u]=a.chain(function(){a.warnOnce(" deprecated ",l)},h[u])},a.nextId=function(){return a._nextId++},a.indexOf=function(h,u){if(h.indexOf)return h.indexOf(u);for(var l=0;l<h.length;l++)if(h[l]===u)return l;return-1},a.map=function(h,u){if(h.map)return h.map(u);for(var l=[],o=0;o<h.length;o+=1)l.push(u(h[o]));return l},a.topologicalSort=function(h){var u=[],l=[],o=[];for(var d in h)!l[d]&&!o[d]&&a._topologicalSort(d,l,o,h,u);return u},a._topologicalSort=function(h,u,l,o,d){var p=o[h]||[];l[h]=!0;for(var f=0;f<p.length;f+=1){var y=p[f];l[y]||u[y]||a._topologicalSort(y,u,l,o,d)}l[h]=!1,u[h]=!0,d.push(h)},a.chain=function(){for(var h=[],u=0;u<arguments.length;u+=1){var l=arguments[u];l._chained?h.push.apply(h,l._chained):h.push(l)}var o=function(){for(var d,p=new Array(arguments.length),f=0,y=arguments.length;f<y;f++)p[f]=arguments[f];for(f=0;f<h.length;f+=1){var w=h[f].apply(d,p);typeof w<"u"&&(d=w)}return d};return o._chained=h,o},a.chainPathBefore=function(h,u,l){return a.set(h,u,a.chain(l,a.get(h,u)))},a.chainPathAfter=function(h,u,l){return a.set(h,u,a.chain(a.get(h,u),l))},a.setDecomp=function(h){a._decomp=h},a.getDecomp=function(){var h=a._decomp;try{!h&&typeof window<"u"&&(h=window.decomp),!h&&typeof r.g<"u"&&(h=r.g.decomp)}catch{h=null}return h}})()}),48413:((s,g,r)=>{var a={};s.exports=a;var v=r(53614),h=r(66272),u=r(81388),l=r(99561),o=r(35810),d=r(69351),p=r(48140),f=r(53402),y=r(22562);(function(){a._deltaMax=16.666666666666668,a.create=function(w){w=w||{};var x={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},b=f.extend(x,w);return b.world=w.world||d.create({label:"World"}),b.pairs=w.pairs||l.create(),b.detector=w.detector||u.create(),b.detector.pairs=b.pairs,b.grid={buckets:[]},b.world.gravity=b.gravity,b.broadphase=b.grid,b.metrics={},b},a.update=function(w,x){var b=f.now(),E=w.world,C=w.detector,T=w.pairs,S=w.timing,A=S.timestamp,P;x>a._deltaMax&&f.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",a._deltaMax.toFixed(3),"ms."),x=typeof x<"u"?x:f._baseDelta,x*=S.timeScale,S.timestamp+=x,S.lastDelta=x;var R={timestamp:S.timestamp,delta:x};o.trigger(w,"beforeUpdate",R);var L=d.allBodies(E),D=d.allConstraints(E),$=d.allComposites(E);for(E.isModified&&(u.setBodies(C,L),d.setModified(E,!1,!1,!0)),w.enableSleeping&&v.update(L,x),a._bodiesApplyGravity(L,w.gravity),a.wrap(L,$),a.attractors(L),x>0&&a._bodiesUpdate(L,x),o.trigger(w,"beforeSolve",R),p.preSolveAll(L),P=0;P<w.constraintIterations;P++)p.solveAll(D,x);p.postSolveAll(L);var F=u.collisions(C);l.update(T,F,A),w.enableSleeping&&v.afterCollisions(T.list),T.collisionStart.length>0&&o.trigger(w,"collisionStart",{pairs:T.collisionStart,timestamp:S.timestamp,delta:x});var N=f.clamp(20/w.positionIterations,0,1);for(h.preSolvePosition(T.list),P=0;P<w.positionIterations;P++)h.solvePosition(T.list,x,N);for(h.postSolvePosition(L),p.preSolveAll(L),P=0;P<w.constraintIterations;P++)p.solveAll(D,x);for(p.postSolveAll(L),h.preSolveVelocity(T.list),P=0;P<w.velocityIterations;P++)h.solveVelocity(T.list,x);return a._bodiesUpdateVelocities(L),T.collisionActive.length>0&&o.trigger(w,"collisionActive",{pairs:T.collisionActive,timestamp:S.timestamp,delta:x}),T.collisionEnd.length>0&&o.trigger(w,"collisionEnd",{pairs:T.collisionEnd,timestamp:S.timestamp,delta:x}),a._bodiesClearForces(L),o.trigger(w,"afterUpdate",R),w.timing.lastElapsed=f.now()-b,w},a.merge=function(w,x){if(f.extend(w,x),x.world){w.world=x.world,a.clear(w);for(var b=d.allBodies(w.world),E=0;E<b.length;E++){var C=b[E];v.set(C,!1),C.id=f.nextId()}}},a.clear=function(w){l.clear(w.pairs),u.clear(w.detector)},a._bodiesClearForces=function(w){for(var x=w.length,b=0;b<x;b++){var E=w[b];E.force.x=0,E.force.y=0,E.torque=0}},a._bodiesApplyGravity=function(w,x){var b=typeof x.scale<"u"?x.scale:.001,E=w.length;if(!(x.x===0&&x.y===0||b===0))for(var C=0;C<E;C++){var T=w[C];T.ignoreGravity||T.isStatic||T.isSleeping||(T.force.y+=T.mass*x.y*b,T.force.x+=T.mass*x.x*b)}},a._bodiesUpdate=function(w,x){for(var b=w.length,E=0;E<b;E++){var C=w[E];C.isStatic||C.isSleeping||y.update(C,x)}},a._bodiesUpdateVelocities=function(w){for(var x=w.length,b=0;b<x;b++)y.updateVelocities(w[b])},a.wrap=function(w,x){for(var b=0;b<w.length;b+=1){var E=w[b];E.wrapBounds!==null&&y.wrap(E,E.wrapBounds)}for(b=0;b<x.length;b+=1){var C=x[b];C.wrapBounds!==null&&d.wrap(C,C.wrapBounds)}},a.attractors=function(w){for(var x=0;x<w.length;x++){var b=w[x],E=b.attractors;if(E&&E.length>0)for(var C=0;C<w.length;C++){var T=w[C];if(x!==C)for(var S=0;S<E.length;S++){var A=E[S],P=A;f.isFunction(A)&&(P=A(b,T)),P&&y.applyForce(T,T.position,P)}}}}})()}),35810:((s,g,r)=>{var a={};s.exports=a;var v=r(53402);(function(){a.on=function(h,u,l){for(var o=u.split(" "),d,p=0;p<o.length;p++)d=o[p],h.events=h.events||{},h.events[d]=h.events[d]||[],h.events[d].push(l);return l},a.off=function(h,u,l){if(!u){h.events={};return}typeof u=="function"&&(l=u,u=v.keys(h.events).join(" "));for(var o=u.split(" "),d=0;d<o.length;d++){var p=h.events[o[d]],f=[];if(l&&p)for(var y=0;y<p.length;y++)p[y]!==l&&f.push(p[y]);h.events[o[d]]=f}},a.trigger=function(h,u,l){var o,d,p,f,y=h.events;if(y&&v.keys(y).length>0){l||(l={}),o=u.split(" ");for(var w=0;w<o.length;w++)if(d=o[w],p=y[d],p){f=v.clone(l,!1),f.name=d,f.source=h;for(var x=0;x<p.length;x++)p[x].apply(h,[f])}}}})()}),6790:((s,g,r)=>{var a={};s.exports=a;var v=r(73832),h=r(53402);(function(){a.name="matter-js",a.version="0.20.0",a.uses=[],a.used=[],a.use=function(){v.use(a,Array.prototype.slice.call(arguments))},a.before=function(u,l){return u=u.replace(/^Matter./,""),h.chainPathBefore(a,u,l)},a.after=function(u,l){return u=u.replace(/^Matter./,""),h.chainPathAfter(a,u,l)}})()}),73832:((s,g,r)=>{var a={};s.exports=a;var v=r(53402);(function(){a._registry={},a.register=function(h){if(a.isPlugin(h)||v.warn("Plugin.register:",a.toString(h),"does not implement all required fields."),h.name in a._registry){var u=a._registry[h.name],l=a.versionParse(h.version).number,o=a.versionParse(u.version).number;l>o?(v.warn("Plugin.register:",a.toString(u),"was upgraded to",a.toString(h)),a._registry[h.name]=h):l<o?v.warn("Plugin.register:",a.toString(u),"can not be downgraded to",a.toString(h)):h!==u&&v.warn("Plugin.register:",a.toString(h),"is already registered to different plugin object")}else a._registry[h.name]=h;return h},a.resolve=function(h){return a._registry[a.dependencyParse(h).name]},a.toString=function(h){return typeof h=="string"?h:(h.name||"anonymous")+"@"+(h.version||h.range||"0.0.0")},a.isPlugin=function(h){return h&&h.name&&h.version&&h.install},a.isUsed=function(h,u){return h.used.indexOf(u)>-1},a.isFor=function(h,u){var l=h.for&&a.dependencyParse(h.for);return!h.for||u.name===l.name&&a.versionSatisfies(u.version,l.range)},a.use=function(h,u){if(h.uses=(h.uses||[]).concat(u||[]),h.uses.length===0){v.warn("Plugin.use:",a.toString(h),"does not specify any dependencies to install.");return}for(var l=a.dependencies(h),o=v.topologicalSort(l),d=[],p=0;p<o.length;p+=1)if(o[p]!==h.name){var f=a.resolve(o[p]);if(!f){d.push(" "+o[p]);continue}a.isUsed(h,f.name)||(a.isFor(f,h)||(v.warn("Plugin.use:",a.toString(f),"is for",f.for,"but installed on",a.toString(h)+"."),f._warned=!0),f.install?f.install(h):(v.warn("Plugin.use:",a.toString(f),"does not specify an install function."),f._warned=!0),f._warned?(d.push(" "+a.toString(f)),delete f._warned):d.push(" "+a.toString(f)),h.used.push(f.name))}d.length>0&&!f.silent&&v.info(d.join("  "))},a.dependencies=function(h,u){var l=a.dependencyParse(h),o=l.name;if(u=u||{},!(o in u)){h=a.resolve(h)||h,u[o]=v.map(h.uses||[],function(p){a.isPlugin(p)&&a.register(p);var f=a.dependencyParse(p),y=a.resolve(p);return y&&!a.versionSatisfies(y.version,f.range)?(v.warn("Plugin.dependencies:",a.toString(y),"does not satisfy",a.toString(f),"used by",a.toString(l)+"."),y._warned=!0,h._warned=!0):y||(v.warn("Plugin.dependencies:",a.toString(p),"used by",a.toString(l),"could not be resolved."),h._warned=!0),f.name});for(var d=0;d<u[o].length;d+=1)a.dependencies(u[o][d],u);return u}},a.dependencyParse=function(h){if(v.isString(h)){var u=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return u.test(h)||v.warn("Plugin.dependencyParse:",h,"is not a valid dependency string."),{name:h.split("@")[0],range:h.split("@")[1]||"*"}}return{name:h.name,range:h.range||h.version}},a.versionParse=function(h){var u=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;u.test(h)||v.warn("Plugin.versionParse:",h,"is not a valid version or range.");var l=u.exec(h),o=Number(l[4]),d=Number(l[5]),p=Number(l[6]);return{isRange:!!(l[1]||l[2]),version:l[3],range:h,operator:l[1]||l[2]||"",major:o,minor:d,patch:p,parts:[o,d,p],prerelease:l[7],number:o*1e8+d*1e4+p}},a.versionSatisfies=function(h,u){u=u||"*";var l=a.versionParse(u),o=a.versionParse(h);if(l.isRange){if(l.operator==="*"||h==="*")return!0;if(l.operator===">")return o.number>l.number;if(l.operator===">=")return o.number>=l.number;if(l.operator==="~")return o.major===l.major&&o.minor===l.minor&&o.patch>=l.patch;if(l.operator==="^")return l.major>0?o.major===l.major&&o.number>=l.number:l.minor>0?o.minor===l.minor&&o.patch>=l.patch:o.patch===l.patch}return h===u||h==="*"}})()}),13037:((s,g,r)=>{var a={};s.exports=a;var v=r(35810),h=r(48413),u=r(53402);(function(){a._maxFrameDelta=66.66666666666667,a._frameDeltaFallback=16.666666666666668,a._timeBufferMargin=1.5,a._elapsedNextEstimate=1,a._smoothingLowerBound=.1,a._smoothingUpperBound=.9,a.create=function(o){var d={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},p=u.extend(d,o);return p.fps=0,p},a.run=function(o,d){return o.timeBuffer=a._frameDeltaFallback,(function p(f){o.frameRequestId=a._onNextFrame(o,p),f&&o.enabled&&a.tick(o,d,f)})(),o},a.tick=function(o,d,p){var f=u.now(),y=o.delta,w=0,x=p-o.timeLastTick;if((!x||!o.timeLastTick||x>Math.max(a._maxFrameDelta,o.maxFrameTime))&&(x=o.frameDelta||a._frameDeltaFallback),o.frameDeltaSmoothing){o.frameDeltaHistory.push(x),o.frameDeltaHistory=o.frameDeltaHistory.slice(-o.frameDeltaHistorySize);var b=o.frameDeltaHistory.slice(0).sort(),E=o.frameDeltaHistory.slice(b.length*a._smoothingLowerBound,b.length*a._smoothingUpperBound),C=l(E);x=C||x}o.frameDeltaSnapping&&(x=1e3/Math.round(1e3/x)),o.frameDelta=x,o.timeLastTick=p,o.timeBuffer+=o.frameDelta,o.timeBuffer=u.clamp(o.timeBuffer,0,o.frameDelta+y*a._timeBufferMargin),o.lastUpdatesDeferred=0;var T=o.maxUpdates||Math.ceil(o.maxFrameTime/y),S={timestamp:d.timing.timestamp};v.trigger(o,"beforeTick",S),v.trigger(o,"tick",S);for(var A=u.now();y>0&&o.timeBuffer>=y*a._timeBufferMargin;){v.trigger(o,"beforeUpdate",S),h.update(d,y),v.trigger(o,"afterUpdate",S),o.timeBuffer-=y,w+=1;var P=u.now()-f,R=u.now()-A,L=P+a._elapsedNextEstimate*R/w;if(w>=T||L>o.maxFrameTime){o.lastUpdatesDeferred=Math.round(Math.max(0,o.timeBuffer/y-a._timeBufferMargin));break}}d.timing.lastUpdatesPerFrame=w,v.trigger(o,"afterTick",S),o.frameDeltaHistory.length>=100&&(o.lastUpdatesDeferred&&Math.round(o.frameDelta/y)>T?u.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):o.lastUpdatesDeferred&&u.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof o.isFixed<"u"&&u.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(o.deltaMin||o.deltaMax)&&u.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),o.fps!==0&&u.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},a.stop=function(o){a._cancelNextFrame(o)},a._onNextFrame=function(o,d){if(typeof window<"u"&&window.requestAnimationFrame)o.frameRequestId=window.requestAnimationFrame(d);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return o.frameRequestId},a._cancelNextFrame=function(o){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(o.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var l=function(o){for(var d=0,p=o.length,f=0;f<p;f+=1)d+=o[f];return d/p||0};a._mean=l})()}),53614:((s,g,r)=>{var a={};s.exports=a;var v=r(22562),h=r(35810),u=r(53402);(function(){a._motionWakeThreshold=.18,a._motionSleepThreshold=.08,a._minBias=.9,a.update=function(l,o){for(var d=o/u._baseDelta,p=a._motionSleepThreshold,f=0;f<l.length;f++){var y=l[f],w=v.getSpeed(y),x=v.getAngularSpeed(y),b=w*w+x*x;if(y.force.x!==0||y.force.y!==0){a.set(y,!1);continue}var E=Math.min(y.motion,b),C=Math.max(y.motion,b);y.motion=a._minBias*E+(1-a._minBias)*C,y.sleepThreshold>0&&y.motion<p?(y.sleepCounter+=1,y.sleepCounter>=y.sleepThreshold/d&&a.set(y,!0)):y.sleepCounter>0&&(y.sleepCounter-=1)}},a.afterCollisions=function(l){for(var o=a._motionSleepThreshold,d=0;d<l.length;d++){var p=l[d];if(p.isActive){var f=p.collision,y=f.bodyA.parent,w=f.bodyB.parent;if(!(y.isSleeping&&w.isSleeping||y.isStatic||w.isStatic)&&(y.isSleeping||w.isSleeping)){var x=y.isSleeping&&!y.isStatic?y:w,b=x===y?w:y;!x.isStatic&&b.motion>o&&a.set(x,!1)}}}},a.set=function(l,o){var d=l.isSleeping;o?(l.isSleeping=!0,l.sleepCounter=l.sleepThreshold,l.positionImpulse.x=0,l.positionImpulse.y=0,l.positionPrev.x=l.position.x,l.positionPrev.y=l.position.y,l.anglePrev=l.angle,l.speed=0,l.angularSpeed=0,l.motion=0,d||h.trigger(l,"sleepStart")):(l.isSleeping=!1,l.sleepCounter=0,d&&h.trigger(l,"sleepEnd"))}})()}),66280:((s,g,r)=>{var a={};s.exports=a;var v=r(41598),h=r(53402),u=r(22562),l=r(15647),o=r(31725);(function(){a.rectangle=function(d,p,f,y,w){w=w||{};var x={label:"Rectangle Body",position:{x:d,y:p},vertices:v.fromPath("L 0 0 L "+f+" 0 L "+f+" "+y+" L 0 "+y)};if(w.chamfer){var b=w.chamfer;x.vertices=v.chamfer(x.vertices,b.radius,b.quality,b.qualityMin,b.qualityMax),delete w.chamfer}return u.create(h.extend({},x,w))},a.trapezoid=function(d,p,f,y,w,x){x=x||{},w>=1&&h.warn("Bodies.trapezoid: slope parameter must be < 1."),w*=.5;var b=(1-w*2)*f,E=f*w,C=E+b,T=C+E,S;w<.5?S="L 0 0 L "+E+" "+-y+" L "+C+" "+-y+" L "+T+" 0":S="L 0 0 L "+C+" "+-y+" L "+T+" 0";var A={label:"Trapezoid Body",position:{x:d,y:p},vertices:v.fromPath(S)};if(x.chamfer){var P=x.chamfer;A.vertices=v.chamfer(A.vertices,P.radius,P.quality,P.qualityMin,P.qualityMax),delete x.chamfer}return u.create(h.extend({},A,x))},a.circle=function(d,p,f,y,w){y=y||{};var x={label:"Circle Body",circleRadius:f};w=w||25;var b=Math.ceil(Math.max(10,Math.min(w,f)));return b%2===1&&(b+=1),a.polygon(d,p,b,f,h.extend({},x,y))},a.polygon=function(d,p,f,y,w){if(w=w||{},f<3)return a.circle(d,p,y,w);for(var x=2*Math.PI/f,b="",E=x*.5,C=0;C<f;C+=1){var T=E+C*x,S=Math.cos(T)*y,A=Math.sin(T)*y;b+="L "+S.toFixed(3)+" "+A.toFixed(3)+" "}var P={label:"Polygon Body",position:{x:d,y:p},vertices:v.fromPath(b)};if(w.chamfer){var R=w.chamfer;P.vertices=v.chamfer(P.vertices,R.radius,R.quality,R.qualityMin,R.qualityMax),delete w.chamfer}return u.create(h.extend({},P,w))},a.fromVertices=function(d,p,f,y,w,x,b,E){var C=h.getDecomp(),T,S,A,P,R,L,D,$,F,N,k;for(T=!!(C&&C.quickDecomp),y=y||{},A=[],w=typeof w<"u"?w:!1,x=typeof x<"u"?x:.01,b=typeof b<"u"?b:10,E=typeof E<"u"?E:.01,h.isArray(f[0])||(f=[f]),N=0;N<f.length;N+=1)if(L=f[N],P=v.isConvex(L),R=!P,R&&!T&&h.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),P||!T)P?L=v.clockwiseSort(L):L=v.hull(L),A.push({position:{x:d,y:p},vertices:L});else{var j=L.map(function(ee){return[ee.x,ee.y]});C.makeCCW(j),x!==!1&&C.removeCollinearPoints(j,x),E!==!1&&C.removeDuplicatePoints&&C.removeDuplicatePoints(j,E);var W=C.quickDecomp(j);for(D=0;D<W.length;D++){var G=W[D],K=G.map(function(ee){return{x:ee[0],y:ee[1]}});b>0&&v.area(K)<b||A.push({position:v.centre(K),vertices:K})}}for(D=0;D<A.length;D++)A[D]=u.create(h.extend(A[D],y));if(w){var z=5;for(D=0;D<A.length;D++){var X=A[D];for($=D+1;$<A.length;$++){var U=A[$];if(l.overlaps(X.bounds,U.bounds)){var Z=X.vertices,V=U.vertices;for(F=0;F<X.vertices.length;F++)for(k=0;k<U.vertices.length;k++){var J=o.magnitudeSquared(o.sub(Z[(F+1)%Z.length],V[k])),Q=o.magnitudeSquared(o.sub(Z[F],V[(k+1)%V.length]));J<z&&Q<z&&(Z[F].isInternal=!0,V[k].isInternal=!0)}}}}}return A.length>1?(S=u.create(h.extend({parts:A.slice(0)},y)),u.setPosition(S,{x:d,y:p}),S):A[0]},a.flagCoincidentParts=function(d,p){p===void 0&&(p=5);for(var f=0;f<d.length;f++)for(var y=d[f],w=f+1;w<d.length;w++){var x=d[w];if(l.overlaps(y.bounds,x.bounds))for(var b=y.vertices,E=x.vertices,C=0;C<y.vertices.length;C++)for(var T=0;T<x.vertices.length;T++){var S=o.magnitudeSquared(o.sub(b[(C+1)%b.length],E[T])),A=o.magnitudeSquared(o.sub(b[C],E[(T+1)%E.length]));S<p&&A<p&&(b[C].isInternal=!0,E[T].isInternal=!0)}}return d}})()}),74116:((s,g,r)=>{var a={};s.exports=a;var v=r(69351),h=r(48140),u=r(53402),l=r(22562),o=r(66280);(function(){a.stack=function(d,p,f,y,w,x,b){for(var E=v.create({label:"Stack"}),C=d,T=p,S,A=0,P=0;P<y;P++){for(var R=0,L=0;L<f;L++){var D=b(C,T,L,P,S,A);if(D){var $=D.bounds.max.y-D.bounds.min.y,F=D.bounds.max.x-D.bounds.min.x;$>R&&(R=$),l.translate(D,{x:F*.5,y:$*.5}),C=D.bounds.max.x+w,v.addBody(E,D),S=D,A+=1}else C+=w}T+=R+x,C=d}return E},a.chain=function(d,p,f,y,w,x){for(var b=d.bodies,E=1;E<b.length;E++){var C=b[E-1],T=b[E],S=C.bounds.max.y-C.bounds.min.y,A=C.bounds.max.x-C.bounds.min.x,P=T.bounds.max.y-T.bounds.min.y,R=T.bounds.max.x-T.bounds.min.x,L={bodyA:C,pointA:{x:A*p,y:S*f},bodyB:T,pointB:{x:R*y,y:P*w}},D=u.extend(L,x);v.addConstraint(d,h.create(D))}return d.label+=" Chain",d},a.mesh=function(d,p,f,y,w){var x=d.bodies,b,E,C,T,S;for(b=0;b<f;b++){for(E=1;E<p;E++)C=x[E-1+b*p],T=x[E+b*p],v.addConstraint(d,h.create(u.extend({bodyA:C,bodyB:T},w)));if(b>0)for(E=0;E<p;E++)C=x[E+(b-1)*p],T=x[E+b*p],v.addConstraint(d,h.create(u.extend({bodyA:C,bodyB:T},w))),y&&E>0&&(S=x[E-1+(b-1)*p],v.addConstraint(d,h.create(u.extend({bodyA:S,bodyB:T},w)))),y&&E<p-1&&(S=x[E+1+(b-1)*p],v.addConstraint(d,h.create(u.extend({bodyA:S,bodyB:T},w))))}return d.label+=" Mesh",d},a.pyramid=function(d,p,f,y,w,x,b){return a.stack(d,p,f,y,w,x,function(E,C,T,S,A,P){var R=Math.min(y,Math.ceil(f/2)),L=A?A.bounds.max.x-A.bounds.min.x:0;if(!(S>R)){S=R-S;var D=S,$=f-1-S;if(!(T<D||T>$)){P===1&&l.translate(A,{x:(T+(f%2===1?1:-1))*L,y:0});var F=A?T*L:0;return b(d+F+T*w,C,T,S,A,P)}}})},a.newtonsCradle=function(d,p,f,y,w){for(var x=v.create({label:"Newtons Cradle"}),b=0;b<f;b++){var E=1.9,C=o.circle(d+b*(y*E),p+w,y,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),T=h.create({pointA:{x:d+b*(y*E),y:p},bodyB:C});v.addBody(x,C),v.addConstraint(x,T)}return x},a.car=function(d,p,f,y,w){var x=l.nextGroup(!0),b=20,E=-f*.5+b,C=f*.5-b,T=0,S=v.create({label:"Car"}),A=o.rectangle(d,p,f,y,{collisionFilter:{group:x},chamfer:{radius:y*.5},density:2e-4}),P=o.circle(d+E,p+T,w,{collisionFilter:{group:x},friction:.8}),R=o.circle(d+C,p+T,w,{collisionFilter:{group:x},friction:.8}),L=h.create({bodyB:A,pointB:{x:E,y:T},bodyA:P,stiffness:1,length:0}),D=h.create({bodyB:A,pointB:{x:C,y:T},bodyA:R,stiffness:1,length:0});return v.addBody(S,A),v.addBody(S,P),v.addBody(S,R),v.addConstraint(S,L),v.addConstraint(S,D),S},a.softBody=function(d,p,f,y,w,x,b,E,C,T){C=u.extend({inertia:1/0},C),T=u.extend({stiffness:.2,render:{type:"line",anchors:!1}},T);var S=a.stack(d,p,f,y,w,x,function(A,P){return o.circle(A,P,E,C)});return a.mesh(S,f,y,b,T),S.label="Soft Body",S}})()}),66615:((s,g,r)=>{var a={};s.exports=a;var v=r(31725),h=r(53402);(function(){a.fromVertices=function(u){for(var l={},o=0;o<u.length;o++){var d=(o+1)%u.length,p=v.normalise({x:u[d].y-u[o].y,y:u[o].x-u[d].x}),f=p.y===0?1/0:p.x/p.y;f=f.toFixed(3).toString(),l[f]=p}return h.values(l)},a.rotate=function(u,l){if(l!==0)for(var o=Math.cos(l),d=Math.sin(l),p=0;p<u.length;p++){var f=u[p],y;y=f.x*o-f.y*d,f.y=f.x*d+f.y*o,f.x=y}}})()}),15647:(s=>{var g={};s.exports=g,(function(){g.create=function(r){var a={min:{x:0,y:0},max:{x:0,y:0}};return r&&g.update(a,r),a},g.update=function(r,a,v){r.min.x=1/0,r.max.x=-1/0,r.min.y=1/0,r.max.y=-1/0;for(var h=0;h<a.length;h++){var u=a[h];u.x>r.max.x&&(r.max.x=u.x),u.x<r.min.x&&(r.min.x=u.x),u.y>r.max.y&&(r.max.y=u.y),u.y<r.min.y&&(r.min.y=u.y)}v&&(v.x>0?r.max.x+=v.x:r.min.x+=v.x,v.y>0?r.max.y+=v.y:r.min.y+=v.y)},g.contains=function(r,a){return a.x>=r.min.x&&a.x<=r.max.x&&a.y>=r.min.y&&a.y<=r.max.y},g.overlaps=function(r,a){return r.min.x<=a.max.x&&r.max.x>=a.min.x&&r.max.y>=a.min.y&&r.min.y<=a.max.y},g.translate=function(r,a){r.min.x+=a.x,r.max.x+=a.x,r.min.y+=a.y,r.max.y+=a.y},g.shift=function(r,a){var v=r.max.x-r.min.x,h=r.max.y-r.min.y;r.min.x=a.x,r.max.x=a.x+v,r.min.y=a.y,r.max.y=a.y+h},g.wrap=function(r,a,v){var h=null,u=null;if(typeof a.min.x<"u"&&typeof a.max.x<"u"&&(r.min.x>a.max.x?h=a.min.x-r.max.x:r.max.x<a.min.x&&(h=a.max.x-r.min.x)),typeof a.min.y<"u"&&typeof a.max.y<"u"&&(r.min.y>a.max.y?u=a.min.y-r.max.y:r.max.y<a.min.y&&(u=a.max.y-r.min.y)),h!==null||u!==null)return{x:h||0,y:u||0}}})()}),74058:((s,g,r)=>{var a={};s.exports=a,r(15647);var v=r(53402);(function(){a.pathToVertices=function(h,u){typeof window<"u"&&!("SVGPathSeg"in window)&&v.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var l,o,d,p,f,y,w,x,b,E,C=[],T,S,A=0,P=0,R=0;u=u||15;var L=function($,F,N){var k=N%2===1&&N>1;if(!b||$!=b.x||F!=b.y){b&&k?(T=b.x,S=b.y):(T=0,S=0);var j={x:T+$,y:S+F};(k||!b)&&(b=j),C.push(j),P=T+$,R=S+F}},D=function($){var F=$.pathSegTypeAsLetter.toUpperCase();if(F!=="Z"){switch(F){case"M":case"L":case"T":case"C":case"S":case"Q":P=$.x,R=$.y;break;case"H":P=$.x;break;case"V":R=$.y;break}L(P,R,$.pathSegType)}};for(a._svgPathToAbsolute(h),d=h.getTotalLength(),y=[],l=0;l<h.pathSegList.numberOfItems;l+=1)y.push(h.pathSegList.getItem(l));for(w=y.concat();A<d;){if(E=h.getPathSegAtLength(A),f=y[E],f!=x){for(;w.length&&w[0]!=f;)D(w.shift());x=f}switch(f.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":p=h.getPointAtLength(A),L(p.x,p.y,0);break}A+=u}for(l=0,o=w.length;l<o;++l)D(w[l]);return C},a._svgPathToAbsolute=function(h){for(var u,l,o,d,p,f,y=h.pathSegList,w=0,x=0,b=y.numberOfItems,E=0;E<b;++E){var C=y.getItem(E),T=C.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(T))"x"in C&&(w=C.x),"y"in C&&(x=C.y);else switch("x1"in C&&(o=w+C.x1),"x2"in C&&(p=w+C.x2),"y1"in C&&(d=x+C.y1),"y2"in C&&(f=x+C.y2),"x"in C&&(w+=C.x),"y"in C&&(x+=C.y),T){case"m":y.replaceItem(h.createSVGPathSegMovetoAbs(w,x),E);break;case"l":y.replaceItem(h.createSVGPathSegLinetoAbs(w,x),E);break;case"h":y.replaceItem(h.createSVGPathSegLinetoHorizontalAbs(w),E);break;case"v":y.replaceItem(h.createSVGPathSegLinetoVerticalAbs(x),E);break;case"c":y.replaceItem(h.createSVGPathSegCurvetoCubicAbs(w,x,o,d,p,f),E);break;case"s":y.replaceItem(h.createSVGPathSegCurvetoCubicSmoothAbs(w,x,p,f),E);break;case"q":y.replaceItem(h.createSVGPathSegCurvetoQuadraticAbs(w,x,o,d),E);break;case"t":y.replaceItem(h.createSVGPathSegCurvetoQuadraticSmoothAbs(w,x),E);break;case"a":y.replaceItem(h.createSVGPathSegArcAbs(w,x,C.r1,C.r2,C.angle,C.largeArcFlag,C.sweepFlag),E);break;case"z":case"Z":w=u,x=l;break}(T=="M"||T=="m")&&(u=w,l=x)}}})()}),31725:(s=>{var g={};s.exports=g,(function(){g.create=function(r,a){return{x:r||0,y:a||0}},g.clone=function(r){return{x:r.x,y:r.y}},g.magnitude=function(r){return Math.sqrt(r.x*r.x+r.y*r.y)},g.magnitudeSquared=function(r){return r.x*r.x+r.y*r.y},g.rotate=function(r,a,v){var h=Math.cos(a),u=Math.sin(a);v||(v={});var l=r.x*h-r.y*u;return v.y=r.x*u+r.y*h,v.x=l,v},g.rotateAbout=function(r,a,v,h){var u=Math.cos(a),l=Math.sin(a);h||(h={});var o=v.x+((r.x-v.x)*u-(r.y-v.y)*l);return h.y=v.y+((r.x-v.x)*l+(r.y-v.y)*u),h.x=o,h},g.normalise=function(r){var a=g.magnitude(r);return a===0?{x:0,y:0}:{x:r.x/a,y:r.y/a}},g.dot=function(r,a){return r.x*a.x+r.y*a.y},g.cross=function(r,a){return r.x*a.y-r.y*a.x},g.cross3=function(r,a,v){return(a.x-r.x)*(v.y-r.y)-(a.y-r.y)*(v.x-r.x)},g.add=function(r,a,v){return v||(v={}),v.x=r.x+a.x,v.y=r.y+a.y,v},g.sub=function(r,a,v){return v||(v={}),v.x=r.x-a.x,v.y=r.y-a.y,v},g.mult=function(r,a){return{x:r.x*a,y:r.y*a}},g.div=function(r,a){return{x:r.x/a,y:r.y/a}},g.perp=function(r,a){return a=a===!0?-1:1,{x:a*-r.y,y:a*r.x}},g.neg=function(r){return{x:-r.x,y:-r.y}},g.angle=function(r,a){return Math.atan2(a.y-r.y,a.x-r.x)},g._temp=[g.create(),g.create(),g.create(),g.create(),g.create(),g.create()]})()}),41598:((s,g,r)=>{var a={};s.exports=a;var v=r(31725),h=r(53402);(function(){a.create=function(u,l){for(var o=[],d=0;d<u.length;d++){var p=u[d],f={x:p.x,y:p.y,index:d,body:l,isInternal:!1};o.push(f)}return o},a.fromPath=function(u,l){var o=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,d=[];return u.replace(o,function(p,f,y){d.push({x:parseFloat(f),y:parseFloat(y)})}),a.create(d,l)},a.centre=function(u){for(var l=a.area(u,!0),o={x:0,y:0},d,p,f,y=0;y<u.length;y++)f=(y+1)%u.length,d=v.cross(u[y],u[f]),p=v.mult(v.add(u[y],u[f]),d),o=v.add(o,p);return v.div(o,6*l)},a.mean=function(u){for(var l={x:0,y:0},o=0;o<u.length;o++)l.x+=u[o].x,l.y+=u[o].y;return v.div(l,u.length)},a.area=function(u,l){for(var o=0,d=u.length-1,p=0;p<u.length;p++)o+=(u[d].x-u[p].x)*(u[d].y+u[p].y),d=p;return l?o/2:Math.abs(o)/2},a.inertia=function(u,l){for(var o=0,d=0,p=u,f,y,w=0;w<p.length;w++)y=(w+1)%p.length,f=Math.abs(v.cross(p[y],p[w])),o+=f*(v.dot(p[y],p[y])+v.dot(p[y],p[w])+v.dot(p[w],p[w])),d+=f;return l/6*(o/d)},a.translate=function(u,l,o){o=typeof o<"u"?o:1;var d=u.length,p=l.x*o,f=l.y*o,y;for(y=0;y<d;y++)u[y].x+=p,u[y].y+=f;return u},a.rotate=function(u,l,o){if(l!==0){var d=Math.cos(l),p=Math.sin(l),f=o.x,y=o.y,w=u.length,x,b,E,C;for(C=0;C<w;C++)x=u[C],b=x.x-f,E=x.y-y,x.x=f+(b*d-E*p),x.y=y+(b*p+E*d);return u}},a.contains=function(u,l){for(var o=l.x,d=l.y,p=u.length,f=u[p-1],y,w=0;w<p;w++){if(y=u[w],(o-f.x)*(y.y-f.y)+(d-f.y)*(f.x-y.x)>0)return!1;f=y}return!0},a.scale=function(u,l,o,d){if(l===1&&o===1)return u;d=d||a.centre(u);for(var p,f,y=0;y<u.length;y++)p=u[y],f=v.sub(p,d),u[y].x=d.x+f.x*l,u[y].y=d.y+f.y*o;return u},a.chamfer=function(u,l,o,d,p){typeof l=="number"?l=[l]:l=l||[8],o=typeof o<"u"?o:-1,d=d||2,p=p||14;for(var f=[],y=0;y<u.length;y++){var w=u[y-1>=0?y-1:u.length-1],x=u[y],b=u[(y+1)%u.length],E=l[y<l.length?y:l.length-1];if(E===0){f.push(x);continue}var C=v.normalise({x:x.y-w.y,y:w.x-x.x}),T=v.normalise({x:b.y-x.y,y:x.x-b.x}),S=Math.sqrt(2*Math.pow(E,2)),A=v.mult(h.clone(C),E),P=v.normalise(v.mult(v.add(C,T),.5)),R=v.sub(x,v.mult(P,S)),L=o;o===-1&&(L=Math.pow(E,.32)*1.75),L=h.clamp(L,d,p),L%2===1&&(L+=1);for(var D=Math.acos(v.dot(C,T)),$=D/L,F=0;F<L;F++)f.push(v.add(v.rotate(A,$*F),R))}return f},a.clockwiseSort=function(u){var l=a.mean(u);return u.sort(function(o,d){return v.angle(l,o)-v.angle(l,d)}),u},a.isConvex=function(u){var l=0,o=u.length,d,p,f,y;if(o<3)return null;for(d=0;d<o;d++)if(p=(d+1)%o,f=(d+2)%o,y=(u[p].x-u[d].x)*(u[f].y-u[p].y),y-=(u[p].y-u[d].y)*(u[f].x-u[p].x),y<0?l|=1:y>0&&(l|=2),l===3)return!1;return l!==0?!0:null},a.hull=function(u){var l=[],o=[],d,p;for(u=u.slice(0),u.sort(function(f,y){var w=f.x-y.x;return w!==0?w:f.y-y.y}),p=0;p<u.length;p+=1){for(d=u[p];o.length>=2&&v.cross3(o[o.length-2],o[o.length-1],d)<=0;)o.pop();o.push(d)}for(p=u.length-1;p>=0;p-=1){for(d=u[p];l.length>=2&&v.cross3(l[l.length-2],l[l.length-1],d)<=0;)l.pop();l.push(d)}return l.pop(),o.pop(),l.concat(o)}})()}),55973:(s=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={decomp:D,quickDecomp:k,isSimple:F,removeCollinearPoints:j,removeDuplicatePoints:W,makeCCW:b};function g(z,X,U){U=U||0;var Z=[0,0],V,J,Q,ee,te,ie,le;return V=z[1][1]-z[0][1],J=z[0][0]-z[1][0],Q=V*z[0][0]+J*z[0][1],ee=X[1][1]-X[0][1],te=X[0][0]-X[1][0],ie=ee*X[0][0]+te*X[0][1],le=V*te-ee*J,G(le,0,U)||(Z[0]=(te*Q-J*ie)/le,Z[1]=(V*ie-ee*Q)/le),Z}function r(z,X,U,Z){var V=X[0]-z[0],J=X[1]-z[1],Q=Z[0]-U[0],ee=Z[1]-U[1];if(Q*J-ee*V===0)return!1;var te=(V*(U[1]-z[1])+J*(z[0]-U[0]))/(Q*J-ee*V),ie=(Q*(z[1]-U[1])+ee*(U[0]-z[0]))/(ee*V-Q*J);return te>=0&&te<=1&&ie>=0&&ie<=1}function a(z,X,U){return(X[0]-z[0])*(U[1]-z[1])-(U[0]-z[0])*(X[1]-z[1])}function v(z,X,U){return a(z,X,U)>0}function h(z,X,U){return a(z,X,U)>=0}function u(z,X,U){return a(z,X,U)<0}function l(z,X,U){return a(z,X,U)<=0}var o=[],d=[];function p(z,X,U,Z){if(Z){var V=o,J=d;V[0]=X[0]-z[0],V[1]=X[1]-z[1],J[0]=U[0]-X[0],J[1]=U[1]-X[1];var Q=V[0]*J[0]+V[1]*J[1],ee=Math.sqrt(V[0]*V[0]+V[1]*V[1]),te=Math.sqrt(J[0]*J[0]+J[1]*J[1]),ie=Math.acos(Q/(ee*te));return ie<Z}else return a(z,X,U)===0}function f(z,X){var U=X[0]-z[0],Z=X[1]-z[1];return U*U+Z*Z}function y(z,X){var U=z.length;return z[X<0?X%U+U:X%U]}function w(z){z.length=0}function x(z,X,U,Z){for(var V=U;V<Z;V++)z.push(X[V])}function b(z){for(var X=0,U=z,Z=1;Z<z.length;++Z)(U[Z][1]<U[X][1]||U[Z][1]===U[X][1]&&U[Z][0]>U[X][0])&&(X=Z);return v(y(z,X-1),y(z,X),y(z,X+1))?!1:(E(z),!0)}function E(z){for(var X=[],U=z.length,Z=0;Z!==U;Z++)X.push(z.pop());for(var Z=0;Z!==U;Z++)z[Z]=X[Z]}function C(z,X){return u(y(z,X-1),y(z,X),y(z,X+1))}var T=[],S=[];function A(z,X,U){var Z,V,J=T,Q=S;if(h(y(z,X+1),y(z,X),y(z,U))&&l(y(z,X-1),y(z,X),y(z,U)))return!1;V=f(y(z,X),y(z,U));for(var ee=0;ee!==z.length;++ee)if(!((ee+1)%z.length===X||ee===X)&&h(y(z,X),y(z,U),y(z,ee+1))&&l(y(z,X),y(z,U),y(z,ee))&&(J[0]=y(z,X),J[1]=y(z,U),Q[0]=y(z,ee),Q[1]=y(z,ee+1),Z=g(J,Q),f(y(z,X),Z)<V))return!1;return!0}function P(z,X,U){for(var Z=0;Z!==z.length;++Z)if(!(Z===X||Z===U||(Z+1)%z.length===X||(Z+1)%z.length===U)&&r(y(z,X),y(z,U),y(z,Z),y(z,Z+1)))return!1;return!0}function R(z,X,U,Z){var V=Z||[];if(w(V),X<U)for(var J=X;J<=U;J++)V.push(z[J]);else{for(var J=0;J<=U;J++)V.push(z[J]);for(var J=X;J<z.length;J++)V.push(z[J])}return V}function L(z){for(var X=[],U=[],Z=[],V=[],J=Number.MAX_VALUE,Q=0;Q<z.length;++Q)if(C(z,Q)){for(var ee=0;ee<z.length;++ee)if(A(z,Q,ee)){U=L(R(z,Q,ee,V)),Z=L(R(z,ee,Q,V));for(var te=0;te<Z.length;te++)U.push(Z[te]);U.length<J&&(X=U,J=U.length,X.push([y(z,Q),y(z,ee)]))}}return X}function D(z){var X=L(z);return X.length>0?$(z,X):[z]}function $(z,X){if(X.length===0)return[z];if(X instanceof Array&&X.length&&X[0]instanceof Array&&X[0].length===2&&X[0][0]instanceof Array){for(var U=[z],Z=0;Z<X.length;Z++)for(var V=X[Z],J=0;J<U.length;J++){var Q=U[J],ee=$(Q,V);if(ee){U.splice(J,1),U.push(ee[0],ee[1]);break}}return U}else{var V=X,Z=z.indexOf(V[0]),J=z.indexOf(V[1]);return Z!==-1&&J!==-1?[R(z,Z,J),R(z,J,Z)]:!1}}function F(z){var X=z,U;for(U=0;U<X.length-1;U++)for(var Z=0;Z<U-1;Z++)if(r(X[U],X[U+1],X[Z],X[Z+1]))return!1;for(U=1;U<X.length-2;U++)if(r(X[0],X[X.length-1],X[U],X[U+1]))return!1;return!0}function N(z,X,U,Z,V){V=V||0;var J=X[1]-z[1],Q=z[0]-X[0],ee=J*z[0]+Q*z[1],te=Z[1]-U[1],ie=U[0]-Z[0],le=te*U[0]+ie*U[1],de=J*ie-te*Q;return G(de,0,V)?[0,0]:[(ie*ee-Q*le)/de,(J*le-te*ee)/de]}function k(z,X,U,Z,V,J,Q){J=J||100,Q=Q||0,V=V||25,X=typeof X<"u"?X:[],U=U||[],Z=Z||[];var ee=[0,0],te=[0,0],ie=[0,0],le=0,de=0,fe=0,oe=0,Ee=0,ye=0,Ce=0,Ie=[],je=[],Re=z,Fe=z;if(Fe.length<3)return X;if(Q++,Q>J)return console.warn("quickDecomp: max level ("+J+") reached."),X;for(var Ae=0;Ae<z.length;++Ae)if(C(Re,Ae)){U.push(Re[Ae]),le=de=Number.MAX_VALUE;for(var Xe=0;Xe<z.length;++Xe)v(y(Re,Ae-1),y(Re,Ae),y(Re,Xe))&&l(y(Re,Ae-1),y(Re,Ae),y(Re,Xe-1))&&(ie=N(y(Re,Ae-1),y(Re,Ae),y(Re,Xe),y(Re,Xe-1)),u(y(Re,Ae+1),y(Re,Ae),ie)&&(fe=f(Re[Ae],ie),fe<de&&(de=fe,te=ie,ye=Xe))),v(y(Re,Ae+1),y(Re,Ae),y(Re,Xe+1))&&l(y(Re,Ae+1),y(Re,Ae),y(Re,Xe))&&(ie=N(y(Re,Ae+1),y(Re,Ae),y(Re,Xe),y(Re,Xe+1)),v(y(Re,Ae-1),y(Re,Ae),ie)&&(fe=f(Re[Ae],ie),fe<le&&(le=fe,ee=ie,Ee=Xe)));if(ye===(Ee+1)%z.length)ie[0]=(te[0]+ee[0])/2,ie[1]=(te[1]+ee[1])/2,Z.push(ie),Ae<Ee?(x(Ie,Re,Ae,Ee+1),Ie.push(ie),je.push(ie),ye!==0&&x(je,Re,ye,Re.length),x(je,Re,0,Ae+1)):(Ae!==0&&x(Ie,Re,Ae,Re.length),x(Ie,Re,0,Ee+1),Ie.push(ie),je.push(ie),x(je,Re,ye,Ae+1));else{if(ye>Ee&&(Ee+=z.length),oe=Number.MAX_VALUE,Ee<ye)return X;for(var Xe=ye;Xe<=Ee;++Xe)h(y(Re,Ae-1),y(Re,Ae),y(Re,Xe))&&l(y(Re,Ae+1),y(Re,Ae),y(Re,Xe))&&(fe=f(y(Re,Ae),y(Re,Xe)),fe<oe&&P(Re,Ae,Xe)&&(oe=fe,Ce=Xe%z.length));Ae<Ce?(x(Ie,Re,Ae,Ce+1),Ce!==0&&x(je,Re,Ce,Fe.length),x(je,Re,0,Ae+1)):(Ae!==0&&x(Ie,Re,Ae,Fe.length),x(Ie,Re,0,Ce+1),x(je,Re,Ce,Ae+1))}return Ie.length<je.length?(k(Ie,X,U,Z,V,J,Q),k(je,X,U,Z,V,J,Q)):(k(je,X,U,Z,V,J,Q),k(Ie,X,U,Z,V,J,Q)),X}return X.push(z),X}function j(z,X){for(var U=0,Z=z.length-1;z.length>3&&Z>=0;--Z)p(y(z,Z-1),y(z,Z),y(z,Z+1),X)&&(z.splice(Z%z.length,1),U++);return U}function W(z,X){for(var U=z.length-1;U>=1;--U)for(var Z=z[U],V=U-1;V>=0;--V)if(K(Z,z[V],X)){z.splice(U,1);continue}}function G(z,X,U){return U=U||0,Math.abs(z-X)<=U}function K(z,X,U){return G(z[0],X[0],U)&&G(z[1],X[1],U)}}),52018:((s,g,r)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var a=r(83419),v=new a({initialize:function(u){this.pluginManager=u,this.game=u.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});s.exports=v}),42363:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};s.exports=g}),37277:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={},r={},a={};a.register=function(v,h,u,l){l===void 0&&(l=!1),g[v]={plugin:h,mapping:u,custom:l}},a.registerCustom=function(v,h,u,l){r[v]={plugin:h,mapping:u,data:l}},a.hasCore=function(v){return g.hasOwnProperty(v)},a.hasCustom=function(v){return r.hasOwnProperty(v)},a.getCore=function(v){return g[v]},a.getCustom=function(v){return r[v]},a.getCustomClass=function(v){return r.hasOwnProperty(v)?r[v].plugin:null},a.remove=function(v){g.hasOwnProperty(v)&&delete g[v]},a.removeCustom=function(v){r.hasOwnProperty(v)&&delete r[v]},a.destroyCorePlugins=function(){for(var v in g)g.hasOwnProperty(v)&&delete g[v]},a.destroyCustomPlugins=function(){for(var v in r)r.hasOwnProperty(v)&&delete r[v]},s.exports=a}),77332:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(8443),h=r(50792),u=r(74099),l=r(44603),o=r(39429),d=r(95540),p=r(37277),f=r(72905),y=r(8054),w=new a({Extends:h,initialize:function(b){h.call(this),this.game=b,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],b.isBooted||b.config.renderType===y.HEADLESS?this.boot():b.events.once(v.BOOT,this.boot,this)},boot:function(){var x,b,E,C,T,S,A,P=this.game.config,R=P.installGlobalPlugins;for(R=R.concat(this._pendingGlobal),x=0;x<R.length;x++)b=R[x],E=d(b,"key",null),C=d(b,"plugin",null),T=d(b,"start",!1),S=d(b,"mapping",null),A=d(b,"data",null),E&&(C?this.install(E,C,T,S,A):console.warn("Missing `plugin` for key: "+E));for(R=P.installScenePlugins,R=R.concat(this._pendingScene),x=0;x<R.length;x++)b=R[x],E=d(b,"key",null),C=d(b,"plugin",null),S=d(b,"mapping",null),E&&(C?this.installScenePlugin(E,C,S):console.warn("Missing `plugin` for key: "+E));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(v.DESTROY,this.destroy,this)},addToScene:function(x,b,E){var C,T,S,A=this.game,P=x.scene,R=x.settings.map,L=x.settings.isBooted;for(C=0;C<b.length;C++)T=b[C],A[T]?(x[T]=A[T],R.hasOwnProperty(T)&&(P[R[T]]=x[T])):T==="game"&&R.hasOwnProperty(T)&&(P[R[T]]=A);for(var D=0;D<E.length;D++)for(S=E[D],C=0;C<S.length;C++)if(T=S[C],!!p.hasCore(T)){var $=p.getCore(T),F=$.mapping,N=new $.plugin(P,this,F);x[F]=N,$.custom?P[F]=N:R.hasOwnProperty(F)&&(P[R[F]]=N),L&&N.boot()}for(S=this.plugins,C=0;C<S.length;C++){var k=S[C];k.mapping&&(P[k.mapping]=k.plugin)}},getDefaultScenePlugins:function(){var x=this.game.config.defaultPlugins;return x=x.concat(this.scenePlugins),x},installScenePlugin:function(x,b,E,C,T){if(T===void 0&&(T=!1),typeof b!="function"){console.warn("Invalid Scene Plugin: "+x);return}if(p.hasCore(x)||p.register(x,b,E,!0),this.scenePlugins.indexOf(x)===-1)this.scenePlugins.push(x);else if(!T&&p.hasCore(x)){console.warn("Scene Plugin key in use: "+x);return}if(C){var S=new b(C,this,x);C.sys[x]=S,E&&E!==""&&(C[E]=S),S.boot()}},install:function(x,b,E,C,T){if(E===void 0&&(E=!1),C===void 0&&(C=null),T===void 0&&(T=null),typeof b!="function")return console.warn("Invalid Plugin: "+x),null;if(p.hasCustom(x))return console.warn("Plugin key in use: "+x),null;if(C!==null&&(E=!0),!this.game.isBooted)this._pendingGlobal.push({key:x,plugin:b,start:E,mapping:C,data:T});else if(p.registerCustom(x,b,C,T),E)return this.start(x);return null},getIndex:function(x){for(var b=this.plugins,E=0;E<b.length;E++){var C=b[E];if(C.key===x)return E}return-1},getEntry:function(x){var b=this.getIndex(x);if(b!==-1)return this.plugins[b]},isActive:function(x){var b=this.getEntry(x);return b&&b.active},start:function(x,b){b===void 0&&(b=x);var E=this.getEntry(b);return E&&!E.active?(E.active=!0,E.plugin.start()):E||(E=this.createEntry(x,b)),E?E.plugin:null},createEntry:function(x,b){var E=p.getCustom(x);if(E){var C=new E.plugin(this);E={key:b,plugin:C,active:!0,mapping:E.mapping,data:E.data},this.plugins.push(E),C.init(E.data),C.start()}return E},stop:function(x){var b=this.getEntry(x);return b&&b.active&&(b.active=!1,b.plugin.stop()),this},get:function(x,b){b===void 0&&(b=!0);var E=this.getEntry(x);if(E)return E.plugin;var C=this.getClass(x);return C&&b?(E=this.createEntry(x,x),E?E.plugin:null):C||null},getClass:function(x){return p.getCustomClass(x)},removeGlobalPlugin:function(x){var b=this.getEntry(x);b&&f(this.plugins,b),p.removeCustom(x)},removeScenePlugin:function(x){f(this.scenePlugins,x),p.remove(x)},registerGameObject:function(x,b,E){return b&&o.register(x,b),E&&l.register(x,E),this},removeGameObject:function(x,b,E){return b===void 0&&(b=!0),E===void 0&&(E=!0),b&&o.remove(x),E&&l.remove(x),this},registerFileType:function(x,b,E){u.register(x,b),E&&E.sys.load&&(E.sys.load[x]=b)},destroy:function(){for(var x=0;x<this.plugins.length;x++)this.plugins[x].plugin.destroy();p.destroyCustomPlugins(),this.game.noReturn&&p.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});s.exports=w}),45145:((s,g,r)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var a=r(52018),v=r(83419),h=r(44594),u=new v({Extends:a,initialize:function(o,d,p){a.call(this,d),this.scene=o,this.systems=o.sys,this.pluginKey=p,o.sys.events.once(h.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});s.exports=u}),18922:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={BasePlugin:r(52018),DefaultPlugins:r(42363),PluginCache:r(37277),PluginManager:r(77332),ScenePlugin:r(45145)}}),63595:(()=>{typeof HTMLVideoElement<"u"&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(s){const g=performance.now(),r=this.getVideoPlaybackQuality(),a=this.mozPresentedFrames||this.mozPaintedFrames||r.totalVideoFrames-r.droppedVideoFrames,v=(h,u)=>{const l=this.getVideoPlaybackQuality(),o=this.mozPresentedFrames||this.mozPaintedFrames||l.totalVideoFrames-l.droppedVideoFrames;if(o>a){const d=this.mozFrameDelay||l.totalFrameDelay-r.totalFrameDelay||0,p=u-h;s(u,{presentationTime:u+d*1e3,expectedDisplayTime:u+p,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+p/1e3,presentedFrames:o,processingDuration:d}),delete this._rvfcpolyfillmap[g]}else this._rvfcpolyfillmap[g]=requestAnimationFrame(d=>v(u,d))};return this._rvfcpolyfillmap[g]=requestAnimationFrame(h=>v(g,h)),g},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(s){cancelAnimationFrame(this._rvfcpolyfillmap[s]),delete this._rvfcpolyfillmap[s]})}),10312:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}}),29795:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={DEFAULT:0,LINEAR:0,NEAREST:1};s.exports=g}),68627:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(19715),v=r(32880),h=r(83419),u=r(8054),l=r(50792),o=r(92503),d=r(56373),p=r(97480),f=r(69442),y=r(8443),w=r(61340),x=new h({Extends:l,initialize:function(E){l.call(this);var C=E.config;this.config={clearBeforeRender:C.clearBeforeRender,backgroundColor:C.backgroundColor,antialias:C.antialias,roundPixels:C.roundPixels,transparent:C.transparent},this.game=E,this.type=u.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=E.canvas;var T={alpha:C.transparent,desynchronized:C.desynchronized,willReadFrequently:!1};this.gameContext=C.context?C.context:this.gameCanvas.getContext("2d",T),this.currentContext=this.gameContext,this.antialias=C.antialias,this.blendModes=d(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new w,this._tempMatrix2=new w,this._tempMatrix3=new w,this.isBooted=!1,this.init()},init:function(){var b=this.game;b.events.once(y.BOOT,function(){var E=this.config;if(!E.transparent){var C=this.gameContext,T=this.gameCanvas;C.fillStyle=E.backgroundColor.rgba,C.fillRect(0,0,T.width,T.height)}},this),b.textures.once(f.READY,this.boot,this)},boot:function(){var b=this.game,E=b.scale.baseSize;this.width=E.width,this.height=E.height,this.isBooted=!0,b.scale.on(p.RESIZE,this.onResize,this),this.resize(E.width,E.height)},onResize:function(b,E){(E.width!==this.width||E.height!==this.height)&&this.resize(E.width,E.height)},resize:function(b,E){this.width=b,this.height=E,this.emit(o.RESIZE,b,E)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(b){return this.currentContext.globalCompositeOperation=b,this},setContext:function(b){return this.currentContext=b||this.gameContext,this},setAlpha:function(b){return this.currentContext.globalAlpha=b,this},preRender:function(){var b=this.gameContext,E=this.config,C=this.width,T=this.height;b.globalAlpha=1,b.globalCompositeOperation="source-over",b.setTransform(1,0,0,1,0,0),this.emit(o.PRE_RENDER_CLEAR),E.clearBeforeRender&&(b.clearRect(0,0,C,T),E.transparent||(b.fillStyle=E.backgroundColor.rgba,b.fillRect(0,0,C,T))),b.save(),this.drawCount=0,this.emit(o.PRE_RENDER)},render:function(b,E,C){var T=E.length;this.emit(o.RENDER,b,C);var S=C.x,A=C.y,P=C.width,R=C.height,L=C.renderToTexture?C.context:b.sys.context;L.save(),this.game.scene.customViewports&&(L.beginPath(),L.rect(S,A,P,R),L.clip()),C.emit(a.PRE_RENDER,C),this.currentContext=L;var D=C.mask;D&&D.preRenderCanvas(this,null,C._maskCamera),C.transparent||(L.fillStyle=C.backgroundColor.rgba,L.fillRect(S,A,P,R)),L.globalAlpha=C.alpha,L.globalCompositeOperation="source-over",this.drawCount+=T,C.renderToTexture&&C.emit(a.PRE_RENDER,C),C.matrix.copyToContext(L);for(var $=0;$<T;$++){var F=E[$];F.mask&&F.mask.preRenderCanvas(this,F,C),F.renderCanvas(this,F,C),F.mask&&F.mask.postRenderCanvas(this,F,C)}L.setTransform(1,0,0,1,0,0),L.globalCompositeOperation="source-over",L.globalAlpha=1,C.flashEffect.postRenderCanvas(L),C.fadeEffect.postRenderCanvas(L),C.dirty=!1,D&&D.postRenderCanvas(this),L.restore(),C.renderToTexture&&(C.emit(a.POST_RENDER,C),C.renderToGame&&b.sys.context.drawImage(C.canvas,S,A)),C.emit(a.POST_RENDER,C)},postRender:function(){var b=this.gameContext;b.restore(),this.emit(o.POST_RENDER);var E=this.snapshotState;E.callback&&(v(this.gameCanvas,E),E.callback=null)},snapshotCanvas:function(b,E,C,T,S,A,P,R,L){C===void 0&&(C=!1),this.snapshotArea(T,S,A,P,E,R,L);var D=this.snapshotState;return D.getPixel=C,v(b,D),D.callback=null,this},snapshot:function(b,E,C){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,b,E,C)},snapshotArea:function(b,E,C,T,S,A,P){var R=this.snapshotState;return R.callback=S,R.type=A,R.encoder=P,R.getPixel=!1,R.x=b,R.y=E,R.width=Math.min(C,this.gameCanvas.width),R.height=Math.min(T,this.gameCanvas.height),this},snapshotPixel:function(b,E,C){return this.snapshotArea(b,E,1,1,C),this.snapshotState.getPixel=!0,this},batchSprite:function(b,E,C,T){var S=C.alpha*b.alpha;if(S!==0){var A=this.currentContext,P=this._tempMatrix1,R=this._tempMatrix2,L=E.canvasData,D=L.x,$=L.y,F=E.cutWidth,N=E.cutHeight,k=E.customPivot,j=E.source.resolution,W=b.displayOriginX,G=b.displayOriginY,K=-W+E.x,z=-G+E.y;if(b.isCropped){var X=b._crop;(X.flipX!==b.flipX||X.flipY!==b.flipY)&&E.updateCropUVs(X,b.flipX,b.flipY),F=X.cw,N=X.ch,D=X.cx,$=X.cy,K=-W+X.x,z=-G+X.y,b.flipX&&(K>=0?K=-(K+F):K<0&&(K=Math.abs(K)-F)),b.flipY&&(z>=0?z=-(z+N):z<0&&(z=Math.abs(z)-N))}var U=1,Z=1;b.flipX&&(k||(K+=-E.realWidth+W*2),U=-1),b.flipY&&(k||(z+=-E.realHeight+G*2),Z=-1);var V=b.x,J=b.y;if(C.roundPixels&&(V=Math.floor(V),J=Math.floor(J)),R.applyITRS(V,J,b.rotation,b.scaleX*U,b.scaleY*Z),P.copyFrom(C.matrix),T?(P.multiplyWithOffset(T,-C.scrollX*b.scrollFactorX,-C.scrollY*b.scrollFactorY),R.e=V,R.f=J):(R.e-=C.scrollX*b.scrollFactorX,R.f-=C.scrollY*b.scrollFactorY),P.multiply(R),C.renderRoundPixels&&(P.e=Math.floor(P.e+.5),P.f=Math.floor(P.f+.5)),A.save(),P.setToContext(A),A.globalCompositeOperation=this.blendModes[b.blendMode],A.globalAlpha=S,A.imageSmoothingEnabled=!E.source.scaleMode,b.mask&&b.mask.preRenderCanvas(this,b,C),F>0&&N>0){var Q=F/j,ee=N/j;C.roundPixels&&(K=Math.floor(K+.5),z=Math.floor(z+.5),Q+=.5,ee+=.5),A.drawImage(E.source.image,D,$,F,N,K,z,Q,ee)}b.mask&&b.mask.postRenderCanvas(this,b,C),A.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});s.exports=x}),55830:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={CanvasRenderer:r(68627),GetBlendModes:r(56373),SetTransform:r(20926)}}),56373:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(10312),v=r(89289),h=function(){var u=[],l=v.supportNewBlendModes,o="source-over";return u[a.NORMAL]=o,u[a.ADD]="lighter",u[a.MULTIPLY]=l?"multiply":o,u[a.SCREEN]=l?"screen":o,u[a.OVERLAY]=l?"overlay":o,u[a.DARKEN]=l?"darken":o,u[a.LIGHTEN]=l?"lighten":o,u[a.COLOR_DODGE]=l?"color-dodge":o,u[a.COLOR_BURN]=l?"color-burn":o,u[a.HARD_LIGHT]=l?"hard-light":o,u[a.SOFT_LIGHT]=l?"soft-light":o,u[a.DIFFERENCE]=l?"difference":o,u[a.EXCLUSION]=l?"exclusion":o,u[a.HUE]=l?"hue":o,u[a.SATURATION]=l?"saturation":o,u[a.COLOR]=l?"color":o,u[a.LUMINOSITY]=l?"luminosity":o,u[a.ERASE]="destination-out",u[a.SOURCE_IN]="source-in",u[a.SOURCE_OUT]="source-out",u[a.SOURCE_ATOP]="source-atop",u[a.DESTINATION_OVER]="destination-over",u[a.DESTINATION_IN]="destination-in",u[a.DESTINATION_OUT]="destination-out",u[a.DESTINATION_ATOP]="destination-atop",u[a.LIGHTER]="lighter",u[a.COPY]="copy",u[a.XOR]="xor",u};s.exports=h}),20926:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(91296),v=function(h,u,l,o,d){var p=o.alpha*l.alpha;if(p<=0)return!1;var f=a(l,o,d).calc;return u.globalCompositeOperation=h.blendModes[l.blendMode],u.globalAlpha=p,u.save(),f.setToContext(u),u.imageSmoothingEnabled=l.frame?!l.frame.source.scaleMode:h.antialias,!0};s.exports=v}),63899:(s=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="losewebgl"}),6119:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="postrender"}),48070:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="prerender"}),15640:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="render"}),8912:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="resize"}),87124:(s=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="restorewebgl"}),92503:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={LOSE_WEBGL:r(63899),POST_RENDER:r(6119),PRE_RENDER:r(48070),RENDER:r(15640),RESIZE:r(8912),RESTORE_WEBGL:r(87124)}}),36909:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Events:r(92503),Snapshot:r(89966)},s.exports.Canvas=r(55830),s.exports.WebGL=r(4159)}),32880:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(27919),v=r(40987),h=r(95540),u=function(l,o){var d=h(o,"callback"),p=h(o,"type","image/png"),f=h(o,"encoder",.92),y=Math.abs(Math.round(h(o,"x",0))),w=Math.abs(Math.round(h(o,"y",0))),x=Math.floor(h(o,"width",l.width)),b=Math.floor(h(o,"height",l.height)),E=h(o,"getPixel",!1);if(E){var C=l.getContext("2d",{willReadFrequently:!1}),T=C.getImageData(y,w,1,1),S=T.data;d.call(null,new v(S[0],S[1],S[2],S[3]))}else if(y!==0||w!==0||x!==l.width||b!==l.height){var A=a.createWebGL(this,x,b),P=A.getContext("2d",{willReadFrequently:!0});x>0&&b>0&&P.drawImage(l,y,w,x,b,0,0,x,b);var R=new Image;R.onerror=function(){d.call(null),a.remove(A)},R.onload=function(){d.call(null,R),a.remove(A)},R.src=A.toDataURL(p,f)}else{var L=new Image;L.onerror=function(){d.call(null)},L.onload=function(){d.call(null,L)},L.src=l.toDataURL(p,f)}};s.exports=u}),88815:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(27919),v=r(40987),h=r(95540),u=function(l,o){var d=l,p=h(o,"callback"),f=h(o,"type","image/png"),y=h(o,"encoder",.92),w=Math.abs(Math.round(h(o,"x",0))),x=Math.abs(Math.round(h(o,"y",0))),b=h(o,"getPixel",!1),E=h(o,"isFramebuffer",!1),C=E?h(o,"bufferWidth",1):d.drawingBufferWidth,T=E?h(o,"bufferHeight",1):d.drawingBufferHeight;if(b){var S=new Uint8Array(4),A=E?x:T-x;d.readPixels(w,A,1,1,d.RGBA,d.UNSIGNED_BYTE,S),p.call(null,new v(S[0],S[1],S[2],S[3]))}else{var P=Math.floor(h(o,"width",C)),R=Math.floor(h(o,"height",T)),L=P*R*4,D=new Uint8Array(L);d.readPixels(w,T-x-R,P,R,d.RGBA,d.UNSIGNED_BYTE,D);for(var $=a.createWebGL(this,P,R),F=$.getContext("2d",{willReadFrequently:!0}),N=F.getImageData(0,0,P,R),k=N.data,j=0;j<R;j++)for(var W=0;W<P;W++){var G=((R-j-1)*P+W)*4,K=E?L-(j*P+(P-W))*4:(j*P+W)*4;k[K+0]=D[G+0],k[K+1]=D[G+1],k[K+2]=D[G+2],k[K+3]=D[G+3]}F.putImageData(N,0,0);var z=new Image;z.onerror=function(){p.call(null),a.remove($)},z.onload=function(){p.call(null,z),a.remove($)},z.src=$.toDataURL(f,y)}};s.exports=u}),89966:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Canvas:r(32880),WebGL:r(88815)}}),7530:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(36060),h=r(90330),u=r(82264),l=r(95540),o=r(32302),d=r(63448),p=r(31302),f=r(58918),y=r(14811),w=r(92651),x=r(96569),b=r(56527),E=r(57516),C=r(43439),T=r(81041),S=r(12385),A=r(7589),P=r(95428),R=r(72905),L=new a({initialize:function($){this.game=$.game,this.renderer=$,this.classes=new h([[v.UTILITY_PIPELINE,A],[v.MULTI_PIPELINE,E],[v.BITMAPMASK_PIPELINE,p],[v.SINGLE_PIPELINE,S],[v.ROPE_PIPELINE,T],[v.LIGHT_PIPELINE,x],[v.POINTLIGHT_PIPELINE,C],[v.MOBILE_PIPELINE,b]]),this.postPipelineClasses=new h,this.pipelines=new h,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(D,$,F){var N=this.renderer,k=this.renderTargets;this.frameInc=Math.floor(l(D,"frameInc",32));var j=N.width,W=N.height,G=this.game.config.disablePreFX,K=this.game.config.disablePostFX;if(K||this.postPipelineClasses.setAll([[String(y.BARREL),f.Barrel],[String(y.BLOOM),f.Bloom],[String(y.BLUR),f.Blur],[String(y.BOKEH),f.Bokeh],[String(y.CIRCLE),f.Circle],[String(y.COLOR_MATRIX),f.ColorMatrix],[String(y.DISPLACEMENT),f.Displacement],[String(y.GLOW),f.Glow],[String(y.GRADIENT),f.Gradient],[String(y.PIXELATE),f.Pixelate],[String(y.SHADOW),f.Shadow],[String(y.SHINE),f.Shine],[String(y.VIGNETTE),f.Vignette],[String(y.WIPE),f.Wipe]]),!G){this.classes.set(v.FX_PIPELINE,w);for(var z=Math.min(j,W),X=Math.ceil(z/this.frameInc),U=1;U<X;U++){var Z=U*this.frameInc;k.push(new o(N,Z,Z)),k.push(new o(N,Z,Z)),k.push(new o(N,Z,Z)),this.maxDimension=Z}k.push(new o(N,j,W,1,0,!0,!0)),k.push(new o(N,j,W,1,0,!0,!0)),k.push(new o(N,j,W,1,0,!0,!0))}var V,J,Q=this,ee=this.game;if(this.classes.each(function(ie,le){V=Q.add(ie,new le({game:ee})),ie===v.UTILITY_PIPELINE&&(Q.UTILITY_PIPELINE=V,Q.fullFrame1=V.fullFrame1,Q.fullFrame2=V.fullFrame2,Q.halfFrame1=V.halfFrame1,Q.halfFrame2=V.halfFrame2)}),this.MULTI_PIPELINE=this.get(v.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(v.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(v.MOBILE_PIPELINE),G||(this.FX_PIPELINE=this.get(v.FX_PIPELINE)),D)for(J in D){var te=D[J];V=new te(ee),V.name=J,V.isPostFX?this.postPipelineClasses.set(J,te):this.has(J)||(this.classes.set(J,te),this.add(J,V))}this.default=this.get($),F&&!u.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(D){var $=this.get(D);return $&&(this.default=$),$},add:function(D,$){if($.isPostFX){console.warn(D+" is a Post Pipeline. Use `addPostPipeline` instead");return}var F=this.pipelines,N=this.renderer;return F.has(D)?console.warn("Pipeline exists: "+D):($.name=D,$.manager=this,F.set(D,$)),$.hasBooted||$.boot(),N.width!==0&&N.height!==0&&!$.isPreFX&&$.resize(N.width,N.height),$},addPostPipeline:function(D,$){this.postPipelineClasses.has(D)||this.postPipelineClasses.set(D,$)},flush:function(){this.current&&this.current.flush()},has:function(D){var $=this.pipelines;return typeof D=="string"?$.has(D):!!$.contains(D)},get:function(D){var $=this.pipelines;if(typeof D=="string")return $.get(D);if($.contains(D))return D},getPostPipeline:function(D,$,F){var N=this.postPipelineClasses,k,j="",W=typeof D;if(W==="string"||W==="number"?(k=N.get(D),j=D):W==="function"?(N.contains(D)&&(k=D),j=D.name):W==="object"&&(k=N.get(D.name),j=D.name),k){var G=new k(this.game,F);return G.name=j,$&&(G.gameObject=$),this.postPipelineInstances.push(G),G}},removePostPipeline:function(D){R(this.postPipelineInstances,D)},remove:function(D,$,F){$===void 0&&($=!0),F===void 0&&(F=!0),this.pipelines.delete(D),$&&this.classes.delete(D),F&&this.postPipelineClasses.delete(D)},set:function(D,$,F){if(!D.isPostFX)return this.isCurrent(D,F)||(this.flush(),this.current&&this.current.unbind(),this.current=D,D.bind(F)),D.updateProjectionMatrix(),D.onBind($),D},preBatch:function(D){if(D.hasPostPipeline){this.flush();for(var $=D.postPipelines,F=$.length-1;F>=0;F--){var N=$[F];N.active&&N.preBatch(D)}}},postBatch:function(D){if(D.hasPostPipeline){this.flush();for(var $=D.postPipelines,F=0;F<$.length;F++){var N=$[F];N.active&&N.postBatch(D)}}},preBatchCamera:function(D){if(D.hasPostPipeline){this.flush();for(var $=D.postPipelines,F=$.length-1;F>=0;F--){var N=$[F];N.active&&N.preBatch(D)}}},postBatchCamera:function(D){if(D.hasPostPipeline){this.flush();for(var $=D.postPipelines,F=0;F<$.length;F++){var N=$[F];N.active&&N.postBatch(D)}}},isCurrent:function(D,$){var F=this.renderer,N=this.current;return N&&!$&&($=N.currentShader),!(N!==D||$.program!==F.currentProgram)},copyFrame:function(D,$,F,N,k){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(D,$,F,N,k),this},copyToGame:function(D){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(D),this},drawFrame:function(D,$,F,N){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(D,$,F,N),this},blendFrames:function(D,$,F,N,k){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(D,$,F,N,k),this},blendFramesAdditive:function(D,$,F,N,k){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(D,$,F,N,k),this},clearFrame:function(D,$){return this.UTILITY_PIPELINE.clearFrame(D,$),this},blitFrame:function(D,$,F,N,k,j){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(D,$,F,N,k,j),this},copyFrameRect:function(D,$,F,N,k,j,W,G){return this.UTILITY_PIPELINE.copyFrameRect(D,$,F,N,k,j,W,G),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(D){return this.UTILITY_PIPELINE.bind(D)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(D,$){$.restoreContext()}),P(this.postPipelineInstances,function(D){D.restoreContext()})},rebind:function(D){D===void 0&&this.previous&&(D=this.previous);var $=this.renderer,F=$.gl;F.disable(F.DEPTH_TEST),F.disable(F.CULL_FACE),$.hasActiveStencilMask()?F.clear(F.DEPTH_BUFFER_BIT):(F.disable(F.STENCIL_TEST),F.clear(F.DEPTH_BUFFER_BIT|F.STENCIL_BUFFER_BIT)),F.viewport(0,0,$.width,$.height),$.currentProgram=null,$.setBlendMode(0,!0);var N=$.vaoExtension;N&&N.bindVertexArrayOES(null);var k=this.pipelines.entries;for(var j in k)k[j].glReset=!0;D&&(this.current=D,D.rebind())},clear:function(){var D=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,D.currentProgram=null,D.setBlendMode(0,!0);var $=D.vaoExtension;$&&$.bindVertexArrayOES(null)},getRenderTarget:function(D){var $=this.renderTargets,F=3;if(D>this.maxDimension)return this.targetIndex=$.length-F,$[this.targetIndex];var N=(d(D,this.frameInc,0,!0)-1)*F;return this.targetIndex=N,$[N]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});s.exports=L}),32302:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(92503),h=new a({initialize:function(l,o,d,p,f,y,w,x,b){p===void 0&&(p=1),f===void 0&&(f=0),y===void 0&&(y=!0),w===void 0&&(w=!1),x===void 0&&(x=!0),b===void 0&&(b=!0),this.renderer=l,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=p,this.minFilter=f,this.autoClear=y,this.autoResize=!0,this.hasDepthBuffer=x,this.forceClamp=b,this.init(o,d),w?this.renderer.on(v.RESIZE,this.resize,this):this.autoResize=!1},init:function(u,l){var o=this.renderer;this.texture=o.createTextureFromSource(null,u,l,this.minFilter,this.forceClamp),this.framebuffer=o.createFramebuffer(u,l,this.texture,this.hasDepthBuffer),this.width=u,this.height=l},setAutoResize:function(u){return u&&!this.autoResize?(this.renderer.on(v.RESIZE,this.resize,this),this.autoResize=!0):!u&&this.autoResize&&(this.renderer.off(v.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(u,l){if(this.autoResize&&this.willResize(u,l)){var o=this.renderer;o.deleteFramebuffer(this.framebuffer),o.deleteTexture(this.texture),this.texture=o.createTextureFromSource(null,u,l,this.minFilter,this.forceClamp),this.framebuffer=o.createFramebuffer(u,l,this.texture,this.hasDepthBuffer),this.width=u,this.height=l}return this},willResize:function(u,l){return typeof u!="number"||typeof l!="number"?!1:(u=Math.round(u*this.scale),l=Math.round(l*this.scale),u=Math.max(u,1),l=Math.max(l,1),u!==this.width||l!==this.height)},bind:function(u,l,o){u===void 0&&(u=!1);var d=this.renderer;if(u&&d.flush(),l&&o&&this.resize(l,o),d.pushFramebuffer(this.framebuffer,!1,!1),u&&this.adjustViewport(),this.autoClear){var p=this.renderer.gl;p.clearColor(0,0,0,0),p.clear(p.COLOR_BUFFER_BIT)}d.clearStencilMask()},adjustViewport:function(){var u=this.renderer.gl;u.viewport(0,0,this.width,this.height),u.disable(u.SCISSOR_TEST)},clear:function(u,l,o,d){var p=this.renderer,f=p.gl;p.pushFramebuffer(this.framebuffer),u!==void 0&&l!==void 0&&o!==void 0&&d!==void 0?(f.enable(f.SCISSOR_TEST),f.scissor(u,l,o,d)):f.disable(f.SCISSOR_TEST),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT),p.popFramebuffer(),p.resetScissor()},unbind:function(u){u===void 0&&(u=!1);var l=this.renderer;return u&&l.flush(),l.popFramebuffer()},destroy:function(){var u=this.renderer;u.off(v.RESIZE,this.resize,this),u.deleteFramebuffer(this.framebuffer),u.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});s.exports=h}),70554:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={getTintFromFloats:function(g,r,a,v){var h=(g*255|0)&255,u=(r*255|0)&255,l=(a*255|0)&255,o=(v*255|0)&255;return(o<<24|h<<16|u<<8|l)>>>0},getTintAppendFloatAlpha:function(g,r){var a=(r*255|0)&255;return(a<<24|g)>>>0},getTintAppendFloatAlphaAndSwap:function(g,r){var a=(g>>16|0)&255,v=(g>>8|0)&255,h=(g|0)&255,u=(r*255|0)&255;return(u<<24|h<<16|v<<8|a)>>>0},getFloatsFromUintRGB:function(g){var r=(g>>16|0)&255,a=(g>>8|0)&255,v=(g|0)&255;return[r/255,a/255,v/255]},checkShaderMax:function(g,r){var a=Math.min(16,g.getParameter(g.MAX_TEXTURE_IMAGE_UNITS));return!r||r===-1?a:Math.min(a,r)},parseFragmentShaderMaxTextures:function(g,r){if(!g)return"";for(var a="",v=0;v<r;v++)v>0&&(a+=`
	else `),v<r-1&&(a+="if (outTexId < "+v+".5)"),a+=`
	{`,a+=`
		texture = texture2D(uMainSampler[`+v+"], outTexCoord);",a+=`
	}`;return g=g.replace(/%count%/gi,r.toString()),g.replace(/%forloop%/gi,a)},setGlowQuality:function(g,r,a,v){return a===void 0&&(a=r.config.glowFXQuality),v===void 0&&(v=r.config.glowFXDistance),g=g.replace(/__SIZE__/gi,(1/a/v).toFixed(7)),g=g.replace(/__DIST__/gi,v.toFixed(0)+".0"),g}}}),29100:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(62644),h=r(50792),u=r(77085),l=r(95540),o=r(37867),d=r(92503),p=r(32302),f=r(70554),y=r(38683),w=new a({Extends:h,initialize:function(b){h.call(this);var E=b.game,C=E.renderer,T=C.gl;this.name=l(b,"name","WebGLPipeline"),this.game=E,this.renderer=C,this.manager,this.gl=T,this.view=E.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=l(b,"topology",T.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=l(b,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=b,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=l(b,"resizeUniform","")},boot:function(){var x,b=this.gl,E=this.config,C=this.renderer;this.isPostFX||(this.projectionMatrix=new o().identity());var T=this.renderTargets,S=l(E,"renderTarget",!1);typeof S=="boolean"&&S&&(S=1);var A=C.width,P=C.height;if(typeof S=="number")for(x=0;x<S;x++)T.push(new p(C,A,P,1,0,!0));else if(Array.isArray(S))for(x=0;x<S.length;x++){var R=l(S[x],"scale",1),L=l(S[x],"minFilter",0),D=l(S[x],"autoClear",1),$=l(S[x],"autoResize",!1),F=l(S[x],"width",null),N=l(S[x],"height",F);F?T.push(new p(C,F,N,1,L,D,$)):T.push(new p(C,A,P,R,L,D,$))}T.length&&(this.currentRenderTarget=T[0]),this.setShadersFromConfig(E);var k=this.shaders,j=0;for(x=0;x<k.length;x++)k[x].vertexSize>j&&(j=k[x].vertexSize);var W=l(E,"batchSize",C.config.batchSize);this.vertexCapacity=W*6;var G=new ArrayBuffer(this.vertexCapacity*j);this.vertexData=G,this.bytes=new Uint8Array(G),this.vertexViewF32=new Float32Array(G),this.vertexViewU32=new Uint32Array(G);var K=l(E,"vertices",null);for(K?(this.vertexViewF32.set(K),this.vertexBuffer=C.createVertexBuffer(G,b.STATIC_DRAW)):this.vertexBuffer=C.createVertexBuffer(G.byteLength,b.DYNAMIC_DRAW),this.setVertexBuffer(),x=k.length-1;x>=0;x--)k[x].rebind();this.hasBooted=!0,C.on(d.RESIZE,this.resize,this),C.on(d.PRE_RENDER,this.onPreRender,this),C.on(d.RENDER,this.onRender,this),C.on(d.POST_RENDER,this.onPostRender,this),this.emit(u.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(x,b,E){var C=this.renderer;if(x!==this.currentShader||C.currentProgram!==this.currentShader.program){this.flush();var T=this.setVertexBuffer(E);T&&!b&&(b=!0),x.bind(b,!1),this.currentShader=x}return this},getShaderByName:function(x){for(var b=this.shaders,E=0;E<b.length;E++)if(b[E].name===x)return b[E]},setShadersFromConfig:function(x){var b,E=this.shaders,C=this.renderer;for(b=0;b<E.length;b++)E[b].destroy();var T="vertShader",S="fragShader",A="attributes",P=l(x,T,null),R=f.parseFragmentShaderMaxTextures(l(x,S,null),C.maxTextures),L=l(x,A,null),D=l(x,"shaders",[]),$=D.length;if($===0)P&&R&&(this.shaders=[new y(this,"default",P,R,v(L))]);else{var F=[];for(b=0;b<$;b++){var N=D[b],k,j,W,G;if(typeof N=="string"?(k="default",j=P,W=f.parseFragmentShaderMaxTextures(N,C.maxTextures),G=L):(k=l(N,"name","default"),j=l(N,T,P),W=f.parseFragmentShaderMaxTextures(l(N,S,R),C.maxTextures),G=l(N,A,L)),k==="default"){var K=W.split(`
`),z=K[0].trim();z.indexOf("#define SHADER_NAME")>-1&&(k=z.substring(20))}j&&W&&F.push(new y(this,k,j,W,v(G)))}this.shaders=F}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(x){return this.currentBatch={start:this.vertexCount,count:0,texture:[x],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=x,this.batch.push(this.currentBatch),0},addTextureToBatch:function(x){var b=this.currentBatch;b&&(b.texture.push(x),b.unit++,b.maxUnit++)},pushBatch:function(x){if(!this.currentBatch||this.forceZero&&x!==this.currentTexture)return this.createBatch(x);if(x===this.currentTexture)return this.currentUnit;var b=this.currentBatch,E=b.texture.indexOf(x);return E===-1?b.texture.length===this.renderer.maxTextures?this.createBatch(x):(b.unit++,b.maxUnit++,b.texture.push(x),this.currentUnit=b.unit,this.currentTexture=x,b.unit):(this.currentUnit=E,this.currentTexture=x,E)},setGameObject:function(x,b){return b===void 0&&(b=x.frame),this.pushBatch(b.source.glTexture)},shouldFlush:function(x){return x===void 0&&(x=0),this.vertexCount+x>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(x,b){(x!==this.width||b!==this.height)&&this.flush(),this.width=x,this.height=b;for(var E=this.renderTargets,C=0;C<E.length;C++)E[C].resize(x,b);return this.setProjectionMatrix(x,b),this.resizeUniform&&this.set2f(this.resizeUniform,x,b),this.emit(u.RESIZE,x,b,this),this.onResize(x,b),this},setProjectionMatrix:function(x,b){var E=this.projectionMatrix;if(!E)return this;this.projectionWidth=x,this.projectionHeight=b,E.ortho(0,x,b,0,-1e3,1e3);for(var C=this.shaders,T="uProjectionMatrix",S=0;S<C.length;S++){var A=C[S];A.hasUniform(T)&&(A.resetUniform(T),A.setMatrix4fv(T,!1,E.val,A))}return this},flipProjectionMatrix:function(x){x===void 0&&(x=!0);var b=this.projectionMatrix;if(!b)return this;var E=this.projectionWidth,C=this.projectionHeight;x?b.ortho(0,E,0,C,-1e3,1e3):b.ortho(0,E,C,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,b.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var x=this.renderer.projectionWidth,b=this.renderer.projectionHeight;(this.projectionWidth!==x||this.projectionHeight!==b)&&this.setProjectionMatrix(x,b)}},bind:function(x){if(x===void 0&&(x=this.currentShader),this.glReset)return this.rebind(x);var b=!1,E=this.gl;return E.getParameter(E.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(E.bindBuffer(E.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,b=!0),x.bind(b),this.currentShader=x,this.activeTextures.length=0,this.emit(u.BIND,this,x),this.onActive(x),this},rebind:function(x){this.activeBuffer=null,this.setVertexBuffer();for(var b=this.shaders,E=b.length-1;E>=0;E--){var C=b[E].rebind();(!x||C===x)&&(this.currentShader=C)}return this.activeTextures.length=0,this.emit(u.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var x=this.shaders,b=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,b&&this.setVertexBuffer();for(var E=0;E<x.length;E++){var C=x[E];C.syncUniforms(),b&&C.rebind()}},setVertexBuffer:function(x){if(x===void 0&&(x=this.vertexBuffer),x!==this.activeBuffer){var b=this.gl;return this.gl.bindBuffer(b.ARRAY_BUFFER,x.webGLBuffer),this.activeBuffer=x,!0}return!1},preBatch:function(x){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(x),this},postBatch:function(x){return this.onDraw(this.currentRenderTarget),this.onPostBatch(x),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(x){if(x===void 0&&(x=!1),this.vertexCount>0){this.emit(u.BEFORE_FLUSH,this,x),this.onBeforeFlush(x);var b=this.gl,E=this.vertexCount,C=this.currentShader.vertexSize,T=this.topology;if(this.active){this.setVertexBuffer(),E===this.vertexCapacity?b.bufferData(b.ARRAY_BUFFER,this.vertexData,b.DYNAMIC_DRAW):b.bufferSubData(b.ARRAY_BUFFER,0,this.bytes.subarray(0,E*C));var S,A,P,R=this.batch,L=this.activeTextures;if(this.forceZero)for(L[0]||b.activeTexture(b.TEXTURE0),S=0;S<R.length;S++)A=R[S],P=A.texture[0],L[0]!==P&&(b.bindTexture(b.TEXTURE_2D,P.webGLTexture),L[0]=P),b.drawArrays(T,A.start,A.count);else for(S=0;S<R.length;S++){A=R[S];for(var D=0;D<=A.maxUnit;D++)P=A.texture[D],L[D]!==P&&(b.activeTexture(b.TEXTURE0+D),b.bindTexture(b.TEXTURE_2D,P.webGLTexture),L[D]=P);b.drawArrays(T,A.start,A.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(u.AFTER_FLUSH,this,x),this.onAfterFlush(x)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(x,b,E,C,T,S,A){var P=this.vertexViewF32,R=this.vertexViewU32,L=this.vertexCount*this.currentShader.vertexComponentCount-1;P[++L]=x,P[++L]=b,P[++L]=E,P[++L]=C,P[++L]=T,P[++L]=S,R[++L]=A,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(x,b,E,C,T,S,A,P,R,L,D,$,F,N,k,j,W,G,K,z){z===void 0&&(z=this.currentUnit);var X=!1;this.shouldFlush(6)&&(this.flush(),X=!0),this.currentBatch||(z=this.setTexture2D(K));var U=this.vertexViewF32,Z=this.vertexViewU32,V=this.vertexCount*this.currentShader.vertexComponentCount-1;return U[++V]=b,U[++V]=E,U[++V]=L,U[++V]=D,U[++V]=z,U[++V]=G,Z[++V]=N,U[++V]=C,U[++V]=T,U[++V]=L,U[++V]=F,U[++V]=z,U[++V]=G,Z[++V]=j,U[++V]=S,U[++V]=A,U[++V]=$,U[++V]=F,U[++V]=z,U[++V]=G,Z[++V]=W,U[++V]=b,U[++V]=E,U[++V]=L,U[++V]=D,U[++V]=z,U[++V]=G,Z[++V]=N,U[++V]=S,U[++V]=A,U[++V]=$,U[++V]=F,U[++V]=z,U[++V]=G,Z[++V]=W,U[++V]=P,U[++V]=R,U[++V]=$,U[++V]=D,U[++V]=z,U[++V]=G,Z[++V]=k,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(x),X},batchTri:function(x,b,E,C,T,S,A,P,R,L,D,$,F,N,k,j,W){W===void 0&&(W=this.currentUnit);var G=!1;this.shouldFlush(3)&&(this.flush(),G=!0),this.currentBatch||(W=this.setTexture2D(j));var K=this.vertexViewF32,z=this.vertexViewU32,X=this.vertexCount*this.currentShader.vertexComponentCount-1;return K[++X]=b,K[++X]=E,K[++X]=P,K[++X]=R,K[++X]=W,K[++X]=k,z[++X]=$,K[++X]=C,K[++X]=T,K[++X]=P,K[++X]=D,K[++X]=W,K[++X]=k,z[++X]=F,K[++X]=S,K[++X]=A,K[++X]=L,K[++X]=D,K[++X]=W,K[++X]=k,z[++X]=N,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(x),G},drawFillRect:function(x,b,E,C,T,S,A,P){A===void 0&&(A=this.renderer.whiteTexture),P===void 0&&(P=!0),x=Math.floor(x),b=Math.floor(b);var R=Math.floor(x+E),L=Math.floor(b+C),D=this.setTexture2D(A),$=f.getTintAppendFloatAlphaAndSwap(T,S),F=0,N=0,k=1,j=1;P&&(N=1,j=0),this.batchQuad(null,x,b,x,L,R,L,R,b,F,N,k,j,$,$,$,$,0,A,D)},setTexture2D:function(x){return x===void 0&&(x=this.renderer.whiteTexture),this.pushBatch(x)},bindTexture:function(x,b){b===void 0&&(b=0);var E=this.gl;return E.activeTexture(E.TEXTURE0+b),E.bindTexture(E.TEXTURE_2D,x.webGLTexture),this},bindRenderTarget:function(x,b){return this.bindTexture(x.texture,b)},setTime:function(x,b){return this.set1f(x,this.game.loop.getDuration(),b),this},setBoolean:function(x,b,E){return E===void 0&&(E=this.currentShader),E.setBoolean(x,b),this},set1f:function(x,b,E){return E===void 0&&(E=this.currentShader),E.set1f(x,b),this},set2f:function(x,b,E,C){return C===void 0&&(C=this.currentShader),C.set2f(x,b,E),this},set3f:function(x,b,E,C,T){return T===void 0&&(T=this.currentShader),T.set3f(x,b,E,C),this},set4f:function(x,b,E,C,T,S){return S===void 0&&(S=this.currentShader),S.set4f(x,b,E,C,T),this},set1fv:function(x,b,E){return E===void 0&&(E=this.currentShader),E.set1fv(x,b),this},set2fv:function(x,b,E){return E===void 0&&(E=this.currentShader),E.set2fv(x,b),this},set3fv:function(x,b,E){return E===void 0&&(E=this.currentShader),E.set3fv(x,b),this},set4fv:function(x,b,E){return E===void 0&&(E=this.currentShader),E.set4fv(x,b),this},set1iv:function(x,b,E){return E===void 0&&(E=this.currentShader),E.set1iv(x,b),this},set2iv:function(x,b,E){return E===void 0&&(E=this.currentShader),E.set2iv(x,b),this},set3iv:function(x,b,E){return E===void 0&&(E=this.currentShader),E.set3iv(x,b),this},set4iv:function(x,b,E){return E===void 0&&(E=this.currentShader),E.set4iv(x,b),this},set1i:function(x,b,E){return E===void 0&&(E=this.currentShader),E.set1i(x,b),this},set2i:function(x,b,E,C){return C===void 0&&(C=this.currentShader),C.set2i(x,b,E),this},set3i:function(x,b,E,C,T){return T===void 0&&(T=this.currentShader),T.set3i(x,b,E,C),this},set4i:function(x,b,E,C,T,S){return S===void 0&&(S=this.currentShader),S.set4i(x,b,E,C,T),this},setMatrix2fv:function(x,b,E,C){return C===void 0&&(C=this.currentShader),C.setMatrix2fv(x,b,E),this},setMatrix3fv:function(x,b,E,C){return C===void 0&&(C=this.currentShader),C.setMatrix3fv(x,b,E),this},setMatrix4fv:function(x,b,E,C){return C===void 0&&(C=this.currentShader),C.setMatrix4fv(x,b,E),this},destroy:function(){this.emit(u.DESTROY,this);var x,b=this.shaders;for(x=0;x<b.length;x++)b[x].destroy();var E=this.renderTargets;for(x=0;x<E.length;x++)E[x].destroy();var C=this.renderer;return C.deleteBuffer(this.vertexBuffer),C.off(d.RESIZE,this.resize,this),C.off(d.PRE_RENDER,this.onPreRender,this),C.off(d.RENDER,this.onRender,this),C.off(d.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});s.exports=w}),74797:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(95428),v=r(72905),h=r(19715),u=r(83419),l=r(8054),o=r(50792),d=r(92503),p=r(50030),f=r(37867),y=r(29747),w=r(7530),x=r(32302),b=r(97480),E=r(69442),C=r(70554),T=r(88815),S=r(26128),A=r(1482),P=r(82751),R=r(84387),L=r(93567),D=r(57183),$=new u({Extends:o,initialize:function(N){o.call(this);var k=N.config,j={alpha:k.transparent,desynchronized:k.desynchronized,depth:!0,antialias:k.antialiasGL,premultipliedAlpha:k.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:k.failIfMajorPerformanceCaveat,powerPreference:k.powerPreference,preserveDrawingBuffer:k.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:k.clearBeforeRender,antialias:k.antialias,backgroundColor:k.backgroundColor,contextCreation:j,roundPixels:k.roundPixels,maxTextures:k.maxTextures,maxTextureSize:k.maxTextureSize,batchSize:k.batchSize,maxLights:k.maxLights,mipmapFilter:k.mipmapFilter},this.game=N,this.type=l.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=N.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=y,this.contextRestoredHandler=y,this.previousContextLostHandler=y,this.previousContextRestoredHandler=y,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(F){var N,k=this.game,j=this.canvas,W=F.backgroundColor;if(k.config.context?N=k.config.context:N=j.getContext("webgl",F.contextCreation)||j.getContext("experimental-webgl",F.contextCreation),!N||N.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=N,this.setExtensions(),this.setContextHandlers(),k.context=N;for(var G=0;G<=27;G++)this.blendModes.push({func:[N.ONE,N.ONE_MINUS_SRC_ALPHA],equation:N.FUNC_ADD});this.blendModes[1].func=[N.ONE,N.DST_ALPHA],this.blendModes[2].func=[N.DST_COLOR,N.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[N.ONE,N.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[N.ZERO,N.ONE_MINUS_SRC_ALPHA],equation:N.FUNC_REVERSE_SUBTRACT},this.glFormats=[N.BYTE,N.SHORT,N.UNSIGNED_BYTE,N.UNSIGNED_SHORT,N.FLOAT],this.glFuncMap={mat2:{func:N.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:N.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:N.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:N.uniform1f,length:1},"1fv":{func:N.uniform1fv,length:1},"1i":{func:N.uniform1i,length:1},"1iv":{func:N.uniform1iv,length:1},"2f":{func:N.uniform2f,length:2},"2fv":{func:N.uniform2fv,length:1},"2i":{func:N.uniform2i,length:2},"2iv":{func:N.uniform2iv,length:1},"3f":{func:N.uniform3f,length:3},"3fv":{func:N.uniform3fv,length:1},"3i":{func:N.uniform3i,length:3},"3iv":{func:N.uniform3iv,length:1},"4f":{func:N.uniform4f,length:4},"4fv":{func:N.uniform4fv,length:1},"4i":{func:N.uniform4i,length:4},"4iv":{func:N.uniform4iv,length:1}},(!F.maxTextures||F.maxTextures===-1)&&(F.maxTextures=N.getParameter(N.MAX_TEXTURE_IMAGE_UNITS)),F.maxTextureSize||(F.maxTextureSize=N.getParameter(N.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),N.disable(N.DEPTH_TEST),N.disable(N.CULL_FACE),N.enable(N.BLEND),N.clearColor(W.redGL,W.greenGL,W.blueGL,W.alphaGL),N.clear(N.COLOR_BUFFER_BIT);var K=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return K.indexOf(F.mipmapFilter)!==-1&&(this.mipmapFilter=N[F.mipmapFilter]),this.maxTextures=C.checkShaderMax(N,F.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new w(this),this.setBlendMode(l.BlendModes.NORMAL),this.projectionMatrix=new f().identity(),k.textures.once(E.READY,this.boot,this),this},boot:function(){var F=this.game,N=this.pipelines,k=F.scale.baseSize,j=k.width,W=k.height;this.width=j,this.height=W,this.isBooted=!0,this.renderTarget=new x(this,j,W,1,0,!0,!0),this.maskTarget=new x(this,j,W,1,0,!0,!0),this.maskSource=new x(this,j,W,1,0,!0,!0);var G=F.config;N.boot(G.pipeline,G.defaultPipeline,G.autoMobilePipeline),this.blankTexture=F.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=F.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=F.textures.getFrame("__WHITE").glTexture;var K=this.gl;K.bindFramebuffer(K.FRAMEBUFFER,null),K.enable(K.SCISSOR_TEST),F.scale.on(b.RESIZE,this.onResize,this),this.resize(j,W)},setExtensions:function(){var F=this.gl,N=F.getSupportedExtensions();this.supportedExtensions=N;var k="ANGLE_instanced_arrays";this.instancedArraysExtension=N.indexOf(k)>-1?F.getExtension(k):null;var j="OES_vertex_array_object";this.vaoExtension=N.indexOf(j)>-1?F.getExtension(j):null},setContextHandlers:function(F,N){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),typeof F=="function"?this.contextLostHandler=F.bind(this):this.contextLostHandler=this.dispatchContextLost.bind(this),typeof N=="function"?this.contextRestoredHandler=N.bind(this):this.contextRestoredHandler=this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},dispatchContextLost:function(F){this.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),this.emit(d.LOSE_WEBGL,this),F.preventDefault()},dispatchContextRestored:function(F){var N=this.gl;if(N.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(l.BlendModes.NORMAL),N.disable(N.BLEND),N.disable(N.DEPTH_TEST),N.enable(N.CULL_FACE),this.compression=this.getCompressedTextures();var k=function(j){j.createResource()};a(this.glTextureWrappers,k),a(this.glBufferWrappers,k),a(this.glFramebufferWrappers,k),a(this.glProgramWrappers,k),a(this.glAttribLocationWrappers,k),a(this.glUniformLocationWrappers,k),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),this.emit(d.RESTORE_WEBGL,this),F.preventDefault()},createTemporaryTextures:function(){for(var F=this.gl,N=0;N<this.maxTextures;N++){var k=F.createTexture();F.activeTexture(F.TEXTURE0+N),F.bindTexture(F.TEXTURE_2D,k),F.texImage2D(F.TEXTURE_2D,0,F.RGBA,1,1,0,F.RGBA,F.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(N)}},captureFrame:function(F,N){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(F,N,k){},stopCapture:function(){},onCapture:function(F){},onResize:function(F,N){(N.width!==this.width||N.height!==this.height)&&this.resize(N.width,N.height)},beginCapture:function(F,N){F===void 0&&(F=this.width),N===void 0&&(N=this.height),this.renderTarget.bind(!0,F,N),this.setProjectionMatrix(F,N)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(F,N){var k=this.gl;return this.width=F,this.height=N,this.setProjectionMatrix(F,N),k.viewport(0,0,F,N),this.drawingBufferHeight=k.drawingBufferHeight,k.scissor(0,k.drawingBufferHeight-N,F,N),this.defaultScissor[2]=F,this.defaultScissor[3]=N,this.emit(d.RESIZE,F,N),this},getCompressedTextures:function(){var F="WEBGL_compressed_texture_",N="WEBKIT_"+F,k="EXT_texture_compression_",j=function(G,K){var z=G.getExtension(F+K)||G.getExtension(N+K)||G.getExtension(k+K);if(z){var X={};for(var U in z)X[z[U]]=U;return X}},W=this.gl;return{ETC:j(W,"etc"),ETC1:j(W,"etc1"),ATC:j(W,"atc"),ASTC:j(W,"astc"),BPTC:j(W,"bptc"),RGTC:j(W,"rgtc"),PVRTC:j(W,"pvrtc"),S3TC:j(W,"s3tc"),S3TCSRGB:j(W,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(F,N){var k=this.compression[F.toUpperCase()];if(N in k)return k[N]},supportsCompressedTexture:function(F,N){var k=this.compression[F.toUpperCase()];return k?N?N in k:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(F,N){return(F!==this.projectionWidth||N!==this.projectionHeight)&&(this.projectionWidth=F,this.projectionHeight=N,this.projectionMatrix.ortho(0,F,N,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(F){return this.supportedExtensions?this.supportedExtensions.indexOf(F):!1},getExtension:function(F){return this.hasExtension(F)?(F in this.extensions||(this.extensions[F]=this.gl.getExtension(F)),this.extensions[F]):null},flush:function(){this.pipelines.flush()},pushScissor:function(F,N,k,j,W){W===void 0&&(W=this.drawingBufferHeight);var G=this.scissorStack,K=[F,N,k,j];return G.push(K),this.setScissor(F,N,k,j,W),this.currentScissor=K,K},setScissor:function(F,N,k,j,W){W===void 0&&(W=this.drawingBufferHeight);var G=this.gl,K=this.currentScissor,z=k>0&&j>0;if(K&&z){var X=K[0],U=K[1],Z=K[2],V=K[3];z=X!==F||U!==N||Z!==k||V!==j}z&&(this.flush(),G.scissor(F,W-N-j,k,j))},resetScissor:function(){var F=this.gl;F.enable(F.SCISSOR_TEST);var N=this.currentScissor;if(N){var k=N[0],j=N[1],W=N[2],G=N[3];W>0&&G>0&&F.scissor(k,this.drawingBufferHeight-j-G,W,G)}},popScissor:function(){var F=this.scissorStack;F.pop();var N=F[F.length-1];N&&this.setScissor(N[0],N[1],N[2],N[3]),this.currentScissor=N},hasActiveStencilMask:function(){var F=this.currentMask.mask,N=this.currentCameraMask.mask;return F&&F.isStencil||N&&N.isStencil},resetViewport:function(){var F=this.gl;F.viewport(0,0,this.width,this.height),this.drawingBufferHeight=F.drawingBufferHeight},setBlendMode:function(F,N){N===void 0&&(N=!1);var k=this.gl,j=this.blendModes[F];return N||F!==l.BlendModes.SKIP_CHECK&&this.currentBlendMode!==F?(this.flush(),k.enable(k.BLEND),k.blendEquation(j.equation),j.func.length>2?k.blendFuncSeparate(j.func[0],j.func[1],j.func[2],j.func[3]):k.blendFunc(j.func[0],j.func[1]),this.currentBlendMode=F,!0):!1},addBlendMode:function(F,N){var k=this.blendModes.push({func:F,equation:N});return k-1},updateBlendMode:function(F,N,k){return this.blendModes[F]&&(this.blendModes[F].func=N,k&&(this.blendModes[F].equation=k)),this},removeBlendMode:function(F){return F>17&&this.blendModes[F]&&this.blendModes.splice(F,1),this},pushFramebuffer:function(F,N,k,j,W){return F===this.currentFramebuffer?this:(this.fboStack.push(F),this.setFramebuffer(F,N,k,j,W))},setFramebuffer:function(F,N,k,j,W){if(N===void 0&&(N=!1),k===void 0&&(k=!0),j===void 0&&(j=null),W===void 0&&(W=!1),F===this.currentFramebuffer)return this;var G=this.gl,K=this.width,z=this.height;return F&&F.renderTexture&&k?(K=F.renderTexture.width,z=F.renderTexture.height):this.flush(),F?G.bindFramebuffer(G.FRAMEBUFFER,F.webGLFramebuffer):G.bindFramebuffer(G.FRAMEBUFFER,null),k&&G.viewport(0,0,K,z),j&&G.framebufferTexture2D(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,G.TEXTURE_2D,j.webGLTexture,0),W&&(G.clearColor(0,0,0,0),G.clear(G.COLOR_BUFFER_BIT)),N&&(F?(this.drawingBufferHeight=z,this.pushScissor(0,0,K,z)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=F,this},popFramebuffer:function(F,N){F===void 0&&(F=!1),N===void 0&&(N=!0);var k=this.fboStack;k.pop();var j=k[k.length-1];return j||(j=null),this.setFramebuffer(j,F,N),j},restoreFramebuffer:function(F,N){F===void 0&&(F=!1),N===void 0&&(N=!0);var k=this.fboStack,j=k[k.length-1];j||(j=null),this.currentFramebuffer=null,this.setFramebuffer(j,F,N)},setProgram:function(F){return F!==this.currentProgram?(this.flush(),this.gl.useProgram(F.webGLProgram),this.currentProgram=F,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(F,N,k,j,W){W===void 0&&(W=!1);var G=this.gl,K=G.NEAREST,z=G.NEAREST,X=G.CLAMP_TO_EDGE,U=null;N=F?F.width:N,k=F?F.height:k;var Z=p(N,k);if(Z&&!W&&(X=G.REPEAT),j===l.ScaleModes.LINEAR&&this.config.antialias){var V=F&&F.compressed,J=!V&&Z||V&&F.mipmaps.length>1;K=this.mipmapFilter&&J?this.mipmapFilter:G.LINEAR,z=G.LINEAR}return!F&&typeof N=="number"&&typeof k=="number"?U=this.createTexture2D(0,K,z,X,X,G.RGBA,null,N,k):U=this.createTexture2D(0,K,z,X,X,G.RGBA,F),U},createTexture2D:function(F,N,k,j,W,G,K,z,X,U,Z,V){typeof z!="number"&&(z=K?K.width:1),typeof X!="number"&&(X=K?K.height:1);var J=new P(this.gl,F,N,k,j,W,G,K,z,X,U,Z,V);return this.glTextureWrappers.push(J),J},createFramebuffer:function(F,N,k,j){this.currentFramebuffer=null;var W=new R(this.gl,F,N,k,j);return this.glFramebufferWrappers.push(W),W},beginBitmapMask:function(F,N){var k=this.gl;k&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==F&&(this.currentMask.mask=F,this.currentMask.camera=N))},drawBitmapMask:function(F,N,k){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),F.renderWebGL(this,F,N),this.maskSource.unbind(!0),this.maskTarget.unbind();var j=this.gl,W=this.getCurrentStencilMask();W?(j.enable(j.STENCIL_TEST),W.mask.applyStencil(this,W.camera,!0)):this.currentMask.mask=null,this.pipelines.set(k),j.activeTexture(j.TEXTURE0),j.bindTexture(j.TEXTURE_2D,this.maskTarget.texture.webGLTexture),j.activeTexture(j.TEXTURE1),j.bindTexture(j.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(F,N){var k=new A(this.gl,F,N);return this.glProgramWrappers.push(k),k},createVertexBuffer:function(F,N){var k=this.gl,j=new S(k,F,k.ARRAY_BUFFER,N);return this.glBufferWrappers.push(j),j},createAttribLocation:function(F,N){var k=new L(this.gl,F,N);return this.glAttribLocationWrappers.push(k),k},createUniformLocation:function(F,N){var k=new D(this.gl,F,N);return this.glUniformLocationWrappers.push(k),k},createIndexBuffer:function(F,N){var k=this.gl,j=new S(k,F,k.ELEMENT_ARRAY_BUFFER,N);return this.glBufferWrappers.push(j),j},deleteTexture:function(F){if(F)return v(this.glTextureWrappers,F),F.destroy(),this},deleteFramebuffer:function(F){return F?(v(this.fboStack,F),v(this.glFramebufferWrappers,F),F.destroy(),this):this},deleteProgram:function(F){return F&&(v(this.glProgramWrappers,F),F.destroy()),this},deleteAttribLocation:function(F){return F&&(v(this.glAttribLocationWrappers,F),F.destroy()),this},deleteUniformLocation:function(F){return F&&(v(this.glUniformLocationWrappers,F),F.destroy()),this},deleteBuffer:function(F){return F?(v(this.glBufferWrappers,F),F.destroy(),this):this},preRenderCamera:function(F){var N=F.x,k=F.y,j=F.width,W=F.height,G=F.backgroundColor;if(F.emit(h.PRE_RENDER,F),this.pipelines.preBatchCamera(F),this.pushScissor(N,k,j,W),F.mask&&(this.currentCameraMask.mask=F.mask,this.currentCameraMask.camera=F._maskCamera,F.mask.preRenderWebGL(this,F,F._maskCamera)),G.alphaGL>0){var K=this.pipelines.setMulti();K.drawFillRect(N,k,j,W,C.getTintFromFloats(G.blueGL,G.greenGL,G.redGL,1),G.alphaGL)}},getCurrentStencilMask:function(){var F=null,N=this.maskStack,k=this.currentCameraMask;return N.length>0?F=N[N.length-1]:k.mask&&k.mask.isStencil&&(F=k),F},postRenderCamera:function(F){var N=F.flashEffect,k=F.fadeEffect;if(N.isRunning||k.isRunning||k.isComplete){var j=this.pipelines.setMulti();N.postRenderWebGL(j,C.getTintFromFloats),k.postRenderWebGL(j,C.getTintFromFloats)}F.dirty=!1,this.popScissor(),F.mask&&(this.currentCameraMask.mask=null,F.mask.postRenderWebGL(this,F._maskCamera)),this.pipelines.postBatchCamera(F),F.emit(h.POST_RENDER,F)},preRender:function(){if(!this.contextLost){var F=this.gl;if(F.bindFramebuffer(F.FRAMEBUFFER,null),this.emit(d.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var N=this.config.backgroundColor;F.clearColor(N.redGL,N.greenGL,N.blueGL,N.alphaGL),F.clear(F.COLOR_BUFFER_BIT|F.DEPTH_BUFFER_BIT|F.STENCIL_BUFFER_BIT)}F.enable(F.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&F.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(d.PRE_RENDER)}},render:function(F,N,k){if(!this.contextLost){var j=N.length;if(this.emit(d.RENDER,F,k),this.preRenderCamera(k),j===0){this.setBlendMode(l.BlendModes.NORMAL),this.postRenderCamera(k);return}this.currentType="";for(var W=this.currentMask,G=0;G<j;G++){this.finalType=G===j-1;var K=N[G],z=K.mask;W=this.currentMask,W.mask&&W.mask!==z&&W.mask.postRenderWebGL(this,W.camera),z&&W.mask!==z&&z.preRenderWebGL(this,K,k),K.blendMode!==this.currentBlendMode&&this.setBlendMode(K.blendMode);var X=K.type;X!==this.currentType&&(this.newType=!0,this.currentType=X),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=N[G+1].type===this.currentType,K.renderWebGL(this,K,k),this.newType=!1}W=this.currentMask,W.mask&&W.mask.postRenderWebGL(this,W.camera),this.setBlendMode(l.BlendModes.NORMAL),this.postRenderCamera(k)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(d.POST_RENDER);var F=this.snapshotState;F.callback&&(T(this.gl,F),F.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var F=this.gl,N=this.getCurrentStencilMask();if(N){var k=N.mask;F.enable(F.STENCIL_TEST),k.invertAlpha?F.stencilFunc(F.NOTEQUAL,k.level,255):F.stencilFunc(F.EQUAL,k.level,255)}},snapshot:function(F,N,k){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,F,N,k)},snapshotArea:function(F,N,k,j,W,G,K){var z=this.snapshotState;return z.callback=W,z.type=G,z.encoder=K,z.getPixel=!1,z.x=F,z.y=N,z.width=k,z.height=j,this},snapshotPixel:function(F,N,k){return this.snapshotArea(F,N,1,1,k),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(F,N,k,j,W,G,K,z,X,U,Z){W===void 0&&(W=!1),G===void 0&&(G=0),K===void 0&&(K=0),z===void 0&&(z=N),X===void 0&&(X=k),U==="pixel"&&(W=!0,U="image/png");var V=this.currentFramebuffer;this.snapshotArea(G,K,z,X,j,U,Z);var J=this.snapshotState;return J.getPixel=W,J.isFramebuffer=!0,J.bufferWidth=N,J.bufferHeight=k,J.width=Math.min(J.width,N),J.height=Math.min(J.height,k),this.setFramebuffer(F),T(this.gl,J),this.setFramebuffer(V),J.callback=null,J.isFramebuffer=!1,this},canvasToTexture:function(F,N,k,j){k===void 0&&(k=!1),j===void 0&&(j=!1);var W=this.gl,G=W.NEAREST,K=W.NEAREST,z=F.width,X=F.height,U=W.CLAMP_TO_EDGE,Z=p(z,X);return!k&&Z&&(U=W.REPEAT),this.config.antialias&&(G=Z&&this.mipmapFilter?this.mipmapFilter:W.LINEAR,K=W.LINEAR),N?(N.update(F,z,X,j,U,U,G,K,N.format),N):this.createTexture2D(0,G,K,U,U,W.RGBA,F,z,X,!0,!1,j)},createCanvasTexture:function(F,N,k){return N===void 0&&(N=!1),k===void 0&&(k=!1),this.canvasToTexture(F,null,N,k)},updateCanvasTexture:function(F,N,k,j){return k===void 0&&(k=!1),j===void 0&&(j=!1),this.canvasToTexture(F,N,j,k)},videoToTexture:function(F,N,k,j){k===void 0&&(k=!1),j===void 0&&(j=!1);var W=this.gl,G=W.NEAREST,K=W.NEAREST,z=F.videoWidth,X=F.videoHeight,U=W.CLAMP_TO_EDGE,Z=p(z,X);return!k&&Z&&(U=W.REPEAT),this.config.antialias&&(G=Z&&this.mipmapFilter?this.mipmapFilter:W.LINEAR,K=W.LINEAR),N?(N.update(F,z,X,j,U,U,G,K,N.format),N):this.createTexture2D(0,G,K,U,U,W.RGBA,F,z,X,!0,!0,j)},createVideoTexture:function(F,N,k){return N===void 0&&(N=!1),k===void 0&&(k=!1),this.videoToTexture(F,null,N,k)},updateVideoTexture:function(F,N,k,j){return k===void 0&&(k=!1),j===void 0&&(j=!1),this.videoToTexture(F,N,j,k)},createUint8ArrayTexture:function(F,N,k){var j=this.gl,W=j.NEAREST,G=j.NEAREST,K=j.CLAMP_TO_EDGE,z=p(N,k);return z&&(K=j.REPEAT),this.createTexture2D(0,W,G,K,K,j.RGBA,F,N,k)},setTextureFilter:function(F,N){var k=this.gl,j=N===0?k.LINEAR:k.NEAREST;k.activeTexture(k.TEXTURE0);var W=k.getParameter(k.TEXTURE_BINDING_2D);return k.bindTexture(k.TEXTURE_2D,F.webGLTexture),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,j),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,j),F.minFilter=j,F.magFilter=j,W&&k.bindTexture(k.TEXTURE_2D,W),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var F=function(N){N.destroy()};a(this.glAttribLocationWrappers,F),a(this.glBufferWrappers,F),a(this.glFramebufferWrappers,F),a(this.glProgramWrappers,F),a(this.glTextureWrappers,F),a(this.glUniformLocationWrappers,F),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});s.exports=$}),38683:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(95428),h=r(95540),u=r(14500),l=new a({initialize:function(d,p,f,y,w){this.pipeline=d,this.name=p,this.renderer=d.renderer,this.gl=this.renderer.gl,this.fragSrc=y,this.vertSrc=f,this.program=this.renderer.createProgram(f,y),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(w),this.createUniforms()},createAttributes:function(o){var d=0,p=0,f=[];this.vertexComponentCount=0;for(var y=0;y<o.length;y++){var w=o[y],x=w.name,b=h(w,"size",1),E=h(w,"type",u.FLOAT),C=E.enum,T=E.size,S=!!w.normalized;f.push({name:x,size:b,type:C,normalized:S,offset:p,enabled:!1,location:-1}),T===4?d+=b:d++,p+=b*T}this.vertexSize=p,this.vertexComponentCount=d,this.attributes=f},bind:function(o,d){return o===void 0&&(o=!1),d===void 0&&(d=!1),d&&this.pipeline.flush(),this.renderer.setProgram(this.program),o&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(o){o===void 0&&(o=!1);for(var d=this.gl,p=this.renderer,f=this.vertexSize,y=this.attributes,w=this.program,x=0;x<y.length;x++){var b=y[x],E=b.size,C=b.type,T=b.offset,S=b.enabled,A=b.location,P=!!b.normalized;if(o){A!==-1&&p.deleteAttribLocation(A);var R=this.renderer.createAttribLocation(w,b.name);R.webGLAttribLocation>=0?(d.enableVertexAttribArray(R.webGLAttribLocation),d.vertexAttribPointer(R.webGLAttribLocation,E,C,P,f,T),b.enabled=!0,b.location=R):R.webGLAttribLocation!==-1&&d.disableVertexAttribArray(R.webGLAttribLocation)}else S?d.vertexAttribPointer(A.webGLAttribLocation,E,C,P,f,T):!S&&A!==-1&&A.webGLAttribLocation>-1&&(d.disableVertexAttribArray(A.webGLAttribLocation),b.location=-1)}return this},createUniforms:function(){var o=this.gl,d=this.program,p=this.uniforms,f,y,w,x=o.getProgramParameter(d.webGLProgram,o.ACTIVE_UNIFORMS);for(f=0;f<x;f++){var b=o.getActiveUniform(d.webGLProgram,f);if(b){y=b.name,w=this.renderer.createUniformLocation(d,y),w!==null&&(p[y]={name:y,location:w,setter:null,value1:null,value2:null,value3:null,value4:null});var E=y.indexOf("[");E>0&&(y=y.substr(0,E),p.hasOwnProperty(y)||(w=this.renderer.createUniformLocation(d,y),w!==null&&(p[y]={name:y,location:w,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var o=this.gl;this.renderer.setProgram(this.program);for(var d in this.uniforms){var p=this.uniforms[d];p.setter&&p.setter.call(o,p.location.webGLUniformLocation,p.value1,p.value2,p.value3,p.value4)}},hasUniform:function(o){return this.uniforms.hasOwnProperty(o)},resetUniform:function(o){var d=this.uniforms[o];return d&&(d.value1=null,d.value2=null,d.value3=null,d.value4=null),this},setUniform1:function(o,d,p,f){var y=this.uniforms[d];return y?((f||y.value1!==p)&&(y.setter||(y.setter=o),y.value1=p,this.renderer.setProgram(this.program),o.call(this.gl,y.location.webGLUniformLocation,p),this.pipeline.currentShader=this),this):this},setUniform2:function(o,d,p,f,y){var w=this.uniforms[d];return w?((y||w.value1!==p||w.value2!==f)&&(w.setter||(w.setter=o),w.value1=p,w.value2=f,this.renderer.setProgram(this.program),o.call(this.gl,w.location.webGLUniformLocation,p,f),this.pipeline.currentShader=this),this):this},setUniform3:function(o,d,p,f,y,w){var x=this.uniforms[d];return x?((w||x.value1!==p||x.value2!==f||x.value3!==y)&&(x.setter||(x.setter=o),x.value1=p,x.value2=f,x.value3=y,this.renderer.setProgram(this.program),o.call(this.gl,x.location.webGLUniformLocation,p,f,y),this.pipeline.currentShader=this),this):this},setUniform4:function(o,d,p,f,y,w,x){var b=this.uniforms[d];return b?((x||b.value1!==p||b.value2!==f||b.value3!==y||b.value4!==w)&&(b.setter||(b.setter=o),b.value1=p,b.value2=f,b.value3=y,b.value4=w,this.renderer.setProgram(this.program),o.call(this.gl,b.location.webGLUniformLocation,p,f,y,w),this.pipeline.currentShader=this),this):this},setBoolean:function(o,d){return this.setUniform1(this.gl.uniform1i,o,Number(d))},set1f:function(o,d){return this.setUniform1(this.gl.uniform1f,o,d)},set2f:function(o,d,p){return this.setUniform2(this.gl.uniform2f,o,d,p)},set3f:function(o,d,p,f){return this.setUniform3(this.gl.uniform3f,o,d,p,f)},set4f:function(o,d,p,f,y){return this.setUniform4(this.gl.uniform4f,o,d,p,f,y)},set1fv:function(o,d){return this.setUniform1(this.gl.uniform1fv,o,d,!0)},set2fv:function(o,d){return this.setUniform1(this.gl.uniform2fv,o,d,!0)},set3fv:function(o,d){return this.setUniform1(this.gl.uniform3fv,o,d,!0)},set4fv:function(o,d){return this.setUniform1(this.gl.uniform4fv,o,d,!0)},set1iv:function(o,d){return this.setUniform1(this.gl.uniform1iv,o,d,!0)},set2iv:function(o,d){return this.setUniform1(this.gl.uniform2iv,o,d,!0)},set3iv:function(o,d){return this.setUniform1(this.gl.uniform3iv,o,d,!0)},set4iv:function(o,d){return this.setUniform1(this.gl.uniform4iv,o,d,!0)},set1i:function(o,d){return this.setUniform1(this.gl.uniform1i,o,d)},set2i:function(o,d,p){return this.setUniform2(this.gl.uniform2i,o,d,p)},set3i:function(o,d,p,f){return this.setUniform3(this.gl.uniform3i,o,d,p,f)},set4i:function(o,d,p,f,y){return this.setUniform4(this.gl.uniform4i,o,d,p,f,y)},setMatrix2fv:function(o,d,p){return this.setUniform2(this.gl.uniformMatrix2fv,o,d,p,!0)},setMatrix3fv:function(o,d,p){return this.setUniform2(this.gl.uniformMatrix3fv,o,d,p,!0)},setMatrix4fv:function(o,d,p){return this.setUniform2(this.gl.uniformMatrix4fv,o,d,p,!0)},createProgram:function(o,d){return o===void 0&&(o=this.vertSrc),d===void 0&&(d=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=o,this.fragSrc=d,this.program=this.renderer.createProgram(o,d),this.createUniforms(),this.rebind()},destroy:function(){var o=this.renderer;v(this.uniforms,function(d){o.deleteUniformLocation(d.location)}),this.uniforms=null,v(this.attributes,function(d){o.deleteAttribLocation(d.location)}),this.attributes=null,o.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});s.exports=l}),14500:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};s.exports=g}),4159:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(14500),v=r(79291),h={PipelineManager:r(7530),Pipelines:r(96615),RenderTarget:r(32302),Utils:r(70554),WebGLPipeline:r(29100),WebGLRenderer:r(74797),WebGLShader:r(38683),Wrappers:r(9503)};h=v(!1,h,a),s.exports=h}),31302:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(95540),h=r(78908),u=r(85191),l=r(14500),o=r(29100),d=new a({Extends:o,initialize:function(f){f.fragShader=v(f,"fragShader",h),f.vertShader=v(f,"vertShader",u),f.batchSize=v(f,"batchSize",1),f.vertices=v(f,"vertices",[-1,1,-1,-7,7,1]),f.attributes=v(f,"attributes",[{name:"inPosition",size:2,type:l.FLOAT}]),o.call(this,f)},boot:function(){o.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(p,f){o.prototype.resize.call(this,p,f),this.set2f("uResolution",p,f)},beginMask:function(p,f,y){this.renderer.beginBitmapMask(p,y)},endMask:function(p,f,y){var w=this.gl,x=this.renderer,b=p.bitmapMask;b&&w&&(x.drawBitmapMask(b,f,this),y&&this.set2f("uResolution",y.width,y.height),this.set1i("uInvertMaskAlpha",p.invertAlpha),w.drawArrays(this.topology,0,3),y&&this.set2f("uResolution",this.width,this.height),w.bindTexture(w.TEXTURE_2D,null))}});s.exports=d}),92651:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(58918),h=r(14811),u=r(95540),l=r(43558),o=r(89350),d=r(70554),p=new a({Extends:l,initialize:function(y){y.shaders=[d.setGlowQuality(o.FXGlowFrag,y.game),o.FXShadowFrag,o.FXPixelateFrag,o.FXVignetteFrag,o.FXShineFrag,o.FXBlurLowFrag,o.FXBlurMedFrag,o.FXBlurHighFrag,o.FXGradientFrag,o.FXBloomFrag,o.ColorMatrixFrag,o.FXCircleFrag,o.FXBarrelFrag,o.FXDisplacementFrag,o.FXWipeFrag,o.FXBokehFrag],l.call(this,y);var w=this.game;this.glow=new v.Glow(w),this.shadow=new v.Shadow(w),this.pixelate=new v.Pixelate(w),this.vignette=new v.Vignette(w),this.shine=new v.Shine(w),this.gradient=new v.Gradient(w),this.circle=new v.Circle(w),this.barrel=new v.Barrel(w),this.wipe=new v.Wipe(w),this.bokeh=new v.Bokeh(w);var x=[];x[h.GLOW]=this.onGlow,x[h.SHADOW]=this.onShadow,x[h.PIXELATE]=this.onPixelate,x[h.VIGNETTE]=this.onVignette,x[h.SHINE]=this.onShine,x[h.BLUR]=this.onBlur,x[h.GRADIENT]=this.onGradient,x[h.BLOOM]=this.onBloom,x[h.COLOR_MATRIX]=this.onColorMatrix,x[h.CIRCLE]=this.onCircle,x[h.BARREL]=this.onBarrel,x[h.DISPLACEMENT]=this.onDisplacement,x[h.WIPE]=this.onWipe,x[h.BOKEH]=this.onBokeh,this.fxHandlers=x,this.source,this.target,this.swap},onDraw:function(f,y,w){this.source=f,this.target=y,this.swap=w;var x=f.width,b=f.height,E=this.tempSprite,C=this.fxHandlers;if(E&&E.preFX)for(var T=E.preFX.list,S=0;S<T.length;S++){var A=T[S];A.active&&C[A.type].call(this,A,x,b)}this.drawToGame(this.source)},runDraw:function(){var f=this.source,y=this.target;this.copy(f,y),this.source=y,this.target=f},onGlow:function(f,y,w){var x=this.shaders[h.GLOW];this.setShader(x),this.glow.onPreRender(f,x,y,w),this.runDraw()},onShadow:function(f){var y=this.shaders[h.SHADOW];this.setShader(y),this.shadow.onPreRender(f,y),this.runDraw()},onPixelate:function(f,y,w){var x=this.shaders[h.PIXELATE];this.setShader(x),this.pixelate.onPreRender(f,x,y,w),this.runDraw()},onVignette:function(f){var y=this.shaders[h.VIGNETTE];this.setShader(y),this.vignette.onPreRender(f,y),this.runDraw()},onShine:function(f,y,w){var x=this.shaders[h.SHINE];this.setShader(x),this.shine.onPreRender(f,x,y,w),this.runDraw()},onBlur:function(f,y,w){var x=u(f,"quality"),b=this.shaders[h.BLUR+x];this.setShader(b),this.set1i("uMainSampler",0),this.set2f("resolution",y,w),this.set1f("strength",u(f,"strength")),this.set3fv("color",u(f,"glcolor"));for(var E=u(f,"x"),C=u(f,"y"),T=u(f,"steps"),S=0;S<T;S++)this.set2f("offset",E,0),this.runDraw(),this.set2f("offset",0,C),this.runDraw()},onGradient:function(f){var y=this.shaders[h.GRADIENT];this.setShader(y),this.gradient.onPreRender(f,y),this.runDraw()},onBloom:function(f,y,w){var x=this.shaders[h.BLOOM];this.copySprite(this.source,this.swap),this.setShader(x),this.set1i("uMainSampler",0),this.set1f("strength",u(f,"blurStrength")),this.set3fv("color",u(f,"glcolor"));for(var b=2/y*u(f,"offsetX"),E=2/w*u(f,"offsetY"),C=u(f,"steps"),T=0;T<C;T++)this.set2f("offset",b,0),this.runDraw(),this.set2f("offset",0,E),this.runDraw();this.blendFrames(this.swap,this.source,this.target,u(f,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(f){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",f.getData()),this.set1f("uAlpha",f.alpha),this.runDraw()},onCircle:function(f,y,w){var x=this.shaders[h.CIRCLE];this.setShader(x),this.circle.onPreRender(f,x,y,w),this.runDraw()},onBarrel:function(f){var y=this.shaders[h.BARREL];this.setShader(y),this.barrel.onPreRender(f,y),this.runDraw()},onDisplacement:function(f){this.setShader(this.shaders[h.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",f.x,f.y),this.bindTexture(f.glTexture,1),this.runDraw()},onWipe:function(f){var y=this.shaders[h.WIPE];this.setShader(y),this.wipe.onPreRender(f,y),this.runDraw()},onBokeh:function(f,y,w){var x=this.shaders[h.BOKEH];this.setShader(x),this.bokeh.onPreRender(f,x,y,w),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,l.prototype.destroy.call(this),this}});s.exports=p}),96569:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(95540),h=r(31063),u=r(57516),l=r(61340),o=r(26099),d=r(29100),p=new a({Extends:u,initialize:function(y){var w=v(y,"fragShader",h);y.fragShader=w.replace("%LIGHT_COUNT%",y.game.renderer.config.maxLights),u.call(this,y),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new o,this._tempMatrix=new l,this._tempMatrix2=new l},boot:function(){d.prototype.boot.call(this)},onRender:function(f,y){var w=f.sys.lights;if(this.lightsActive=!1,!(!w||!w.active)){var x=w.getLights(y),b=x.length;this.lightsActive=!0;var E,C=this.renderer,T=C.height,S=y.matrix,A=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",y.x,y.y,y.rotation,y.zoom),this.set3f("uAmbientLightColor",w.ambientColor.r,w.ambientColor.g,w.ambientColor.b),this.set1i("uLightCount",b),E=0;E<b;E++){var P=x[E].light,R=P.color,L="uLights["+E+"].";S.transformPoint(P.x,P.y,A),this.set2f(L+"position",A.x-y.scrollX*P.scrollFactorX*y.zoom,T-(A.y-y.scrollY*P.scrollFactorY*y.zoom)),this.set3f(L+"color",R.r,R.g,R.b),this.set1f(L+"intensity",P.intensity),this.set1f(L+"radius",P.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(f){if(f!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var y=this.inverseRotationMatrix;if(f){var w=-f,x=Math.cos(w),b=Math.sin(w);y[1]=b,y[3]=-b,y[0]=y[4]=x}else y[0]=y[4]=1,y[1]=y[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,y),this.currentNormalMapRotation=f}},setTexture2D:function(f,y){var w=this.renderer;f===void 0&&(f=w.whiteTexture);var x=this.getNormalMap(y);this.isNewNormalMap(f,x)&&(this.flush(),this.createBatch(f),this.addTextureToBatch(x),this.currentNormalMap=x);var b=0;if(y&&y.parentContainer){var E=y.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);b=E.rotationNormalized}else y&&(b=y.rotation);return this.currentBatch===null&&(this.createBatch(f),this.addTextureToBatch(x)),this.setNormalMapRotation(b),0},setGameObject:function(f,y){y===void 0&&(y=f.frame);var w=y.glTexture,x=this.getNormalMap(f);if(this.isNewNormalMap(w,x)&&(this.flush(),this.createBatch(w),this.addTextureToBatch(x),this.currentNormalMap=x),f.parentContainer){var b=f.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(b.rotationNormalized)}else this.setNormalMapRotation(f.rotation);return this.currentBatch===null&&(this.createBatch(w),this.addTextureToBatch(x)),0},isNewNormalMap:function(f,y){return this.currentTexture!==f||this.currentNormalMap!==y},getNormalMap:function(f){var y;if(f)f.displayTexture?y=f.displayTexture.dataSource[f.displayFrame.sourceIndex]:f.texture?y=f.texture.dataSource[f.frame.sourceIndex]:f.tileset&&(Array.isArray(f.tileset)?y=f.tileset[0].image.dataSource[0]:y=f.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return y?y.glTexture:this.renderer.normalTexture},batchSprite:function(f,y,w){this.lightsActive&&u.prototype.batchSprite.call(this,f,y,w)},batchTexture:function(f,y,w,x,b,E,C,T,S,A,P,R,L,D,$,F,N,k,j,W,G,K,z,X,U,Z,V,J,Q,ee,te,ie){this.lightsActive&&u.prototype.batchTexture.call(this,f,y,w,x,b,E,C,T,S,A,P,R,L,D,$,F,N,k,j,W,G,K,z,X,U,Z,V,J,Q,ee,te,ie)},batchTextureFrame:function(f,y,w,x,b,E,C){this.lightsActive&&u.prototype.batchTextureFrame.call(this,f,y,w,x,b,E,C)}});s.exports=p}),56527:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(95540),h=r(57516),u=r(45561),l=r(60722),o=r(14500),d=r(29100),p=new a({Extends:h,initialize:function(y){y.fragShader=v(y,"fragShader",u),y.vertShader=v(y,"vertShader",l),y.attributes=v(y,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:o.UNSIGNED_BYTE,normalized:!0}]),y.forceZero=!0,y.resizeUniform="uResolution",h.call(this,y)},boot:function(){d.prototype.boot.call(this);var f=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",f.width,f.height)}});s.exports=p}),57516:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(94811),h=r(95540),u=r(98840),l=r(44667),o=r(61340),d=r(70554),p=r(14500),f=r(29100),y=new a({Extends:f,initialize:function(x){var b=x.game.renderer,E=h(x,"fragShader",u);x.fragShader=d.parseFragmentShaderMaxTextures(E,b.maxTextures),x.vertShader=h(x,"vertShader",l),x.attributes=h(x,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:p.UNSIGNED_BYTE,normalized:!0}]),x.resizeUniform="uResolution",f.call(this,x),this._tempMatrix1=new o,this._tempMatrix2=new o,this._tempMatrix3=new o,this.calcMatrix=new o,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){f.prototype.boot.call(this);var w=this.renderer;this.set1iv("uMainSampler",w.textureIndexes),this.set2f("uResolution",w.width,w.height)},batchSprite:function(w,x,b){this.manager.set(this,w);var E=this._tempMatrix1,C=this._tempMatrix2,T=this._tempMatrix3,S=w.frame,A=S.glTexture,P=S.u0,R=S.v0,L=S.u1,D=S.v1,$=S.x,F=S.y,N=S.cutWidth,k=S.cutHeight,j=S.customPivot,W=w.displayOriginX,G=w.displayOriginY,K=-W+$,z=-G+F;if(w.isCropped){var X=w._crop;(X.flipX!==w.flipX||X.flipY!==w.flipY)&&S.updateCropUVs(X,w.flipX,w.flipY),P=X.u0,R=X.v0,L=X.u1,D=X.v1,N=X.width,k=X.height,$=X.x,F=X.y,K=-W+$,z=-G+F}var U=1,Z=1;w.flipX&&(j||(K+=-S.realWidth+W*2),U=-1),w.flipY&&(j||(z+=-S.realHeight+G*2),Z=-1);var V=w.x,J=w.y;x.roundPixels&&(V=Math.floor(V),J=Math.floor(J)),C.applyITRS(V,J,w.rotation,w.scaleX*U,w.scaleY*Z),E.copyFrom(x.matrix),b?(E.multiplyWithOffset(b,-x.scrollX*w.scrollFactorX,-x.scrollY*w.scrollFactorY),C.e=V,C.f=J):(C.e-=x.scrollX*w.scrollFactorX,C.f-=x.scrollY*w.scrollFactorY),E.multiply(C,T);var Q=T.setQuad(K,z,K+N,z+k,x.renderRoundPixels),ee=d.getTintAppendFloatAlpha,te=x.alpha,ie=ee(w.tintTopLeft,te*w._alphaTL),le=ee(w.tintTopRight,te*w._alphaTR),de=ee(w.tintBottomLeft,te*w._alphaBL),fe=ee(w.tintBottomRight,te*w._alphaBR);this.shouldFlush(6)&&this.flush();var oe=this.setGameObject(w,S);this.manager.preBatch(w),this.batchQuad(w,Q[0],Q[1],Q[2],Q[3],Q[4],Q[5],Q[6],Q[7],P,R,L,D,ie,le,de,fe,w.tintFill,A,oe),this.manager.postBatch(w)},batchTexture:function(w,x,b,E,C,T,S,A,P,R,L,D,$,F,N,k,j,W,G,K,z,X,U,Z,V,J,Q,ee,te,ie,le,de,fe){fe===void 0&&(fe=!1),this.manager.set(this,w);var oe=this._tempMatrix1,Ee=this._tempMatrix2,ye=this._tempMatrix3,Ce=W/b+Q,Ie=G/E+ee,je=(W+K)/b+Q,Re=(G+z)/E+ee,Fe=S,Ae=A,Xe=-k,st=-j;if(w.isCropped){var vt=w._crop,Ge=vt.width,nt=vt.height;Fe=Ge,Ae=nt,S=Ge,A=nt,W=vt.x,G=vt.y;var St=W,Je=G;D&&(St=K-vt.x-Ge),$&&(Je=z-vt.y-nt),Ce=St/b+Q,Ie=Je/E+ee,je=(St+Ge)/b+Q,Re=(Je+nt)/E+ee,Xe=-k+W,st=-j+G}$=$^(!le&&x.isRenderTexture?1:0),D&&(Fe*=-1,Xe+=S),$&&(Ae*=-1,st+=A),te.roundPixels&&(C=Math.floor(C),T=Math.floor(T)),Ee.applyITRS(C,T,L,P,R),oe.copyFrom(te.matrix),ie?(oe.multiplyWithOffset(ie,-te.scrollX*F,-te.scrollY*N),Ee.e=C,Ee.f=T):(Ee.e-=te.scrollX*F,Ee.f-=te.scrollY*N),oe.multiply(Ee,ye);var He=ye.setQuad(Xe,st,Xe+Fe,st+Ae,te.renderRoundPixels);de==null&&(de=this.setTexture2D(x)),w&&!fe&&this.manager.preBatch(w),this.batchQuad(w,He[0],He[1],He[2],He[3],He[4],He[5],He[6],He[7],Ce,Ie,je,Re,X,U,Z,V,J,x,de),w&&!fe&&this.manager.postBatch(w)},batchTextureFrame:function(w,x,b,E,C,T,S){this.manager.set(this);var A=this._tempMatrix1.copyFrom(T),P=this._tempMatrix2;S?A.multiply(S,P):P=A;var R=P.setQuad(x,b,x+w.width,b+w.height),L=this.setTexture2D(w.source.glTexture);E=d.getTintAppendFloatAlpha(E,C),this.batchQuad(null,R[0],R[1],R[2],R[3],R[4],R[5],R[6],R[7],w.u0,w.v0,w.u1,w.v1,E,E,E,E,0,w.glTexture,L)},batchFillRect:function(w,x,b,E,C,T){this.renderer.pipelines.set(this);var S=this.calcMatrix;T&&T.multiply(C,S);var A=S.setQuad(w,x,w+b,x+E),P=this.fillTint;this.batchQuad(null,A[0],A[1],A[2],A[3],A[4],A[5],A[6],A[7],0,0,1,1,P.TL,P.TR,P.BL,P.BR,2)},batchFillTriangle:function(w,x,b,E,C,T,S,A){this.renderer.pipelines.set(this);var P=this.calcMatrix;A&&A.multiply(S,P);var R=P.getX(w,x),L=P.getY(w,x),D=P.getX(b,E),$=P.getY(b,E),F=P.getX(C,T),N=P.getY(C,T),k=this.fillTint;this.batchTri(null,R,L,D,$,F,N,0,0,1,1,k.TL,k.TR,k.BL,2)},batchStrokeTriangle:function(w,x,b,E,C,T,S,A,P){var R=this.tempTriangle;R[0].x=w,R[0].y=x,R[0].width=S,R[1].x=b,R[1].y=E,R[1].width=S,R[2].x=C,R[2].y=T,R[2].width=S,R[3].x=w,R[3].y=x,R[3].width=S,this.batchStrokePath(R,S,!1,A,P)},batchFillPath:function(w,x,b){this.renderer.pipelines.set(this);var E=this.calcMatrix;b&&b.multiply(x,E);for(var C=w.length,T=this.polygonCache,S,A,P=this.fillTint.TL,R=this.fillTint.TR,L=this.fillTint.BL,D=0;D<C;++D)A=w[D],T.push(A.x,A.y);S=v(T),C=S.length;for(var $=0;$<C;$+=3){var F=S[$+0]*2,N=S[$+1]*2,k=S[$+2]*2,j=T[F+0],W=T[F+1],G=T[N+0],K=T[N+1],z=T[k+0],X=T[k+1],U=E.getX(j,W),Z=E.getY(j,W),V=E.getX(G,K),J=E.getY(G,K),Q=E.getX(z,X),ee=E.getY(z,X);this.batchTri(null,U,Z,V,J,Q,ee,0,0,1,1,P,R,L,2)}T.length=0},batchStrokePath:function(w,x,b,E,C){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var T=w.length-1,S=0;S<T;S++){var A=w[S],P=w[S+1];this.batchLine(A.x,A.y,P.x,P.y,A.width/2,P.width/2,x,S,!b&&S===T-1,E,C)}},batchLine:function(w,x,b,E,C,T,S,A,P,R,L){this.renderer.pipelines.set(this);var D=this.calcMatrix;L&&L.multiply(R,D);var $=b-w,F=E-x,N=Math.sqrt($*$+F*F);if(N!==0){var k=C*(E-x)/N,j=C*(w-b)/N,W=T*(E-x)/N,G=T*(w-b)/N,K=b-W,z=E-G,X=w-k,U=x-j,Z=b+W,V=E+G,J=w+k,Q=x+j,ee=D.getX(K,z),te=D.getY(K,z),ie=D.getX(X,U),le=D.getY(X,U),de=D.getX(Z,V),fe=D.getY(Z,V),oe=D.getX(J,Q),Ee=D.getY(J,Q),ye=this.strokeTint,Ce=ye.TL,Ie=ye.TR,je=ye.BL,Re=ye.BR;if(this.batchQuad(null,oe,Ee,ie,le,ee,te,de,fe,0,0,1,1,Ce,Ie,je,Re,2),!(S<=2)){var Fe=this.prevQuad,Ae=this.firstQuad;A>0&&Fe[4]?this.batchQuad(null,oe,Ee,ie,le,Fe[0],Fe[1],Fe[2],Fe[3],0,0,1,1,Ce,Ie,je,Re,2):(Ae[0]=oe,Ae[1]=Ee,Ae[2]=ie,Ae[3]=le,Ae[4]=1),P&&Ae[4]?this.batchQuad(null,ee,te,de,fe,Ae[0],Ae[1],Ae[2],Ae[3],0,0,1,1,Ce,Ie,je,Re,2):(Fe[0]=ee,Fe[1]=te,Fe[2]=de,Fe[3]=fe,Fe[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,f.prototype.destroy.call(this),this}});s.exports=y}),43439:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(95540),h=r(4127),u=r(89924),l=r(29100),o=new a({Extends:l,initialize:function(p){p.vertShader=v(p,"vertShader",u),p.fragShader=v(p,"fragShader",h),p.attributes=v(p,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),l.call(this,p)},onRender:function(d,p){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",p.zoom)},batchPointLight:function(d,p,f,y,w,x,b,E,C,T,S,A){var P=d.color,R=d.intensity,L=d.radius,D=d.attenuation,$=P.r*R,F=P.g*R,N=P.b*R,k=p.alpha*d.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(f,y,S,A,L,D,$,F,N,k),this.batchLightVert(w,x,S,A,L,D,$,F,N,k),this.batchLightVert(b,E,S,A,L,D,$,F,N,k),this.batchLightVert(f,y,S,A,L,D,$,F,N,k),this.batchLightVert(b,E,S,A,L,D,$,F,N,k),this.batchLightVert(C,T,S,A,L,D,$,F,N,k),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(d,p,f,y,w,x,b,E,C,T){var S=this.vertexViewF32,A=this.vertexCount*this.currentShader.vertexComponentCount-1;S[++A]=d,S[++A]=p,S[++A]=f,S[++A]=y,S[++A]=w,S[++A]=x,S[++A]=b,S[++A]=E,S[++A]=C,S[++A]=T,this.vertexCount++}});s.exports=o}),84057:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(89422),h=r(95540),u=r(27681),l=r(49627),o=r(29100),d=new a({Extends:o,initialize:function(f){f.renderTarget=h(f,"renderTarget",1),f.fragShader=h(f,"fragShader",u),f.vertShader=h(f,"vertShader",l),f.attributes=h(f,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),f.batchSize=1,f.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],o.call(this,f),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new v,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){o.prototype.boot.call(this);var p=this.manager.UTILITY_PIPELINE;this.fullFrame1=p.fullFrame1,this.fullFrame2=p.fullFrame2,this.halfFrame1=p.halfFrame1,this.halfFrame2=p.halfFrame2;var f=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",f.width,f.height);for(var y=this.renderTargets,w=0;w<y.length;w++)y[w].autoResize=!0},postBatch:function(p){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(p),this},onDraw:function(p){this.bindAndDraw(p)},getController:function(p){return p!==void 0?p:this.controller?this.controller:this},copySprite:function(p,f,y){y===void 0&&(y=!1);var w=this.gl;w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,p.texture.webGLTexture);var x=w.getParameter(w.FRAMEBUFFER_BINDING);w.bindFramebuffer(w.FRAMEBUFFER,f.framebuffer.webGLFramebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,f.texture.webGLTexture,0),w.clearColor(0,0,0,0),w.clear(w.COLOR_BUFFER_BIT),w.bufferData(w.ARRAY_BUFFER,this.vertexData,w.STATIC_DRAW),w.drawArrays(w.TRIANGLES,0,6),y&&(w.bindTexture(w.TEXTURE_2D,null),w.bindFramebuffer(w.FRAMEBUFFER,x))},copyFrame:function(p,f,y,w,x){this.manager.copyFrame(p,f,y,w,x)},copyToGame:function(p){this.manager.copyToGame(p)},drawFrame:function(p,f,y){this.manager.drawFrame(p,f,y,this.colorMatrix)},blendFrames:function(p,f,y,w,x){this.manager.blendFrames(p,f,y,w,x)},blendFramesAdditive:function(p,f,y,w,x){this.manager.blendFramesAdditive(p,f,y,w,x)},clearFrame:function(p,f){this.manager.clearFrame(p,f)},blitFrame:function(p,f,y,w,x,b){this.manager.blitFrame(p,f,y,w,x,b)},copyFrameRect:function(p,f,y,w,x,b,E,C){this.manager.copyFrameRect(p,f,y,w,x,b,E,C)},bindAndDraw:function(p,f,y,w,x){y===void 0&&(y=!0),w===void 0&&(w=!0);var b=this.gl,E=this.renderer;this.bind(x),this.set1i("uMainSampler",0),f?(b.viewport(0,0,f.width,f.height),b.bindFramebuffer(b.FRAMEBUFFER,f.framebuffer.webGLFramebuffer),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,f.texture.webGLTexture,0),y&&(w?b.clearColor(0,0,0,0):b.clearColor(0,0,0,1),b.clear(b.COLOR_BUFFER_BIT))):(E.popFramebuffer(!1,!1),E.currentFramebuffer||b.viewport(0,0,E.width,E.height)),E.restoreStencilMask(),b.activeTexture(b.TEXTURE0),b.bindTexture(b.TEXTURE_2D,p.texture.webGLTexture),b.bufferData(b.ARRAY_BUFFER,this.vertexData,b.STATIC_DRAW),b.drawArrays(b.TRIANGLES,0,6),f&&(b.bindTexture(b.TEXTURE_2D,null),b.bindFramebuffer(b.FRAMEBUFFER,E.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),o.prototype.destroy.call(this),this}});s.exports=d}),43558:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(10312),v=r(67502),h=r(83419),u=r(96293),l=r(95540),o=r(57516),d=r(27681),p=r(87841),f=r(32302),y=r(45561),w=r(60722),x=r(29100),b=new h({Extends:o,initialize:function(C){var T=l(C,"fragShader",d),S=l(C,"vertShader",w),A=l(C,"drawShader",d),P=[{name:"DrawSprite",fragShader:y,vertShader:w},{name:"CopySprite",fragShader:T,vertShader:S},{name:"DrawGame",fragShader:A,vertShader:w},{name:"ColorMatrix",fragShader:u}],R=l(C,"shaders",[]);C.shaders=P.concat(R),C.vertShader||(C.vertShader=S),C.batchSize=1,o.call(this,C),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new p,this.targetBounds=new p,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){x.prototype.boot.call(this);var E=this.shaders,C=this.renderer;this.drawSpriteShader=E[0],this.copyShader=E[1],this.gameShader=E[2],this.colorMatrixShader=E[3],this.fsTarget=new f(C,C.width,C.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var T=new ArrayBuffer(168);this.quadVertexData=T,this.quadVertexViewF32=new Float32Array(T),this.quadVertexBuffer=C.createVertexBuffer(T,this.gl.STATIC_DRAW),this.onResize(C.width,C.height),this.currentShader=this.copyShader,this.set2f("uResolution",C.width,C.height)},onResize:function(E,C){var T=this.quadVertexViewF32;T[1]=C,T[22]=C,T[14]=E,T[28]=E,T[35]=E,T[36]=C},batchQuad:function(E,C,T,S,A,P,R,L,D,$,F,N,k,j,W,G,K,z,X){var U=Math.min(C,S,P,L),Z=Math.min(T,A,R,D),V=Math.max(C,S,P,L),J=Math.max(T,A,R,D),Q=V-U,ee=J-Z,te=this.spriteBounds.setTo(U,Z,Q,ee),ie=E?E.preFX.padding:0,le=Q+ie*2,de=ee+ie*2,fe=Math.abs(Math.max(le,de)),oe=this.manager.getRenderTarget(fe),Ee=this.targetBounds.setTo(0,0,oe.width,oe.height);v(Ee,Math.round(te.centerX),Math.round(te.centerY)),this.tempSprite=E;var ye=this.gl,Ce=this.renderer;Ce.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",Ce.width,Ce.height),this.flipProjectionMatrix(!0),E&&(this.onDrawSprite(E,oe),E.preFX.onFX(this));var Ie=this.fsTarget;return this.flush(),ye.viewport(0,0,Ce.width,Ce.height),ye.bindFramebuffer(ye.FRAMEBUFFER,Ie.framebuffer.webGLFramebuffer),ye.framebufferTexture2D(ye.FRAMEBUFFER,ye.COLOR_ATTACHMENT0,ye.TEXTURE_2D,Ie.texture.webGLTexture,0),ye.clearColor(0,0,0,0),ye.clear(ye.COLOR_BUFFER_BIT),this.setTexture2D(X),this.batchVert(C,T,$,F,0,z,j),this.batchVert(S,A,$,k,0,z,G),this.batchVert(P,R,N,k,0,z,K),this.batchVert(C,T,$,F,0,z,j),this.batchVert(P,R,N,k,0,z,K),this.batchVert(L,D,N,F,0,z,W),this.flush(),this.flipProjectionMatrix(!1),ye.activeTexture(ye.TEXTURE0),ye.bindTexture(ye.TEXTURE_2D,oe.texture.webGLTexture),ye.copyTexSubImage2D(ye.TEXTURE_2D,0,0,0,Ee.x,Ee.y,Ee.width,Ee.height),ye.bindFramebuffer(ye.FRAMEBUFFER,null),ye.bindTexture(ye.TEXTURE_2D,null),this.onBatch(E),this.currentShader=this.copyShader,this.onDraw(oe,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(E,C,T,S,A,P,R){T===void 0&&(T=!0),S===void 0&&(S=!0),A===void 0&&(A=!1),R===void 0&&(R=this.copyShader);var L=this.gl,D=this.tempSprite;P&&(R=this.colorMatrixShader),this.currentShader=R;var $=this.setVertexBuffer(this.quadVertexBuffer);R.bind($,!1);var F=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",F.width,F.height),D.preFX.onFXCopy(this),this.onCopySprite(E,C,D),P&&(this.set1fv("uColorMatrix",P.getData()),this.set1f("uAlpha",P.alpha)),L.activeTexture(L.TEXTURE0),L.bindTexture(L.TEXTURE_2D,E.texture.webGLTexture),E.height>C.height)L.viewport(0,0,E.width,E.height),this.setTargetUVs(E,C);else{var N=C.height-E.height;L.viewport(0,N,E.width,E.height),this.resetUVs()}if(L.bindFramebuffer(L.FRAMEBUFFER,C.framebuffer.webGLFramebuffer),L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0,L.TEXTURE_2D,C.texture.webGLTexture,0),T&&(L.clearColor(0,0,0,+!S),L.clear(L.COLOR_BUFFER_BIT)),A){var k=this.renderer.currentBlendMode;this.renderer.setBlendMode(a.ERASE)}L.bufferData(L.ARRAY_BUFFER,this.quadVertexData,L.STATIC_DRAW),L.drawArrays(L.TRIANGLES,0,6),A&&this.renderer.setBlendMode(k),L.bindFramebuffer(L.FRAMEBUFFER,null)},copy:function(E,C){var T=this.gl;this.set1i("uMainSampler",0),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,E.texture.webGLTexture),T.viewport(0,0,E.width,E.height),this.setUVs(0,0,0,1,1,1,1,0),T.bindFramebuffer(T.FRAMEBUFFER,C.framebuffer.webGLFramebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,C.texture.webGLTexture,0),T.clearColor(0,0,0,0),T.clear(T.COLOR_BUFFER_BIT),T.bufferData(T.ARRAY_BUFFER,this.quadVertexData,T.STATIC_DRAW),T.drawArrays(T.TRIANGLES,0,6),T.bindFramebuffer(T.FRAMEBUFFER,null)},blendFrames:function(E,C,T,S,A){this.manager.blendFrames(E,C,T,S,A)},blendFramesAdditive:function(E,C,T,S,A){this.manager.blendFramesAdditive(E,C,T,S,A)},drawToGame:function(E){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(E)},copyToGame:function(E){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(E)},bindAndDraw:function(E){var C=this.gl,T=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(E.texture);var S=this._tempMatrix1.loadIdentity(),A=this.targetBounds.x,P=this.targetBounds.y,R=A+E.width,L=P+E.height,D=S.getX(A,P),$=S.getX(A,L),F=S.getX(R,L),N=S.getX(R,P),k=S.getY(A,P),j=S.getY(A,L),W=S.getY(R,L),G=S.getY(R,P),K=16777215;this.batchVert(D,k,0,0,0,0,K),this.batchVert($,j,0,1,0,0,K),this.batchVert(F,W,1,1,0,0,K),this.batchVert(D,k,0,0,0,0,K),this.batchVert(F,W,1,1,0,0,K),this.batchVert(N,G,1,0,0,0,K),T.restoreFramebuffer(!1,!0),T.currentFramebuffer||C.viewport(0,0,T.width,T.height),T.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(E){this.drawToGame(E)},setUVs:function(E,C,T,S,A,P,R,L){var D=this.quadVertexViewF32;D[2]=E,D[3]=C,D[9]=T,D[10]=S,D[16]=A,D[17]=P,D[23]=E,D[24]=C,D[30]=A,D[31]=P,D[37]=R,D[38]=L},setTargetUVs:function(E,C){var T=C.height/E.height;T>.5?T=.5-(T-.5):T=.5+(.5-T),this.setUVs(0,T,0,1+T,1,1+T,1,T)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,o.prototype.destroy.call(this),this}});s.exports=b}),81041:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(95540),h=r(57516),u=new a({Extends:h,initialize:function(o){o.topology=5,o.batchSize=v(o,"batchSize",256),h.call(this,o)}});s.exports=u}),12385:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(95540),h=r(57516),u=r(45561),l=r(60722),o=r(29100),d=new a({Extends:h,initialize:function(f){f.fragShader=v(f,"fragShader",u),f.vertShader=v(f,"vertShader",l),f.forceZero=!0,h.call(this,f)},boot:function(){o.prototype.boot.call(this);var p=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",p.width,p.height)}});s.exports=d}),7589:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(35407),v=r(10312),h=r(83419),u=r(89422),l=r(96293),o=r(36682),d=r(95540),p=r(48247),f=r(49627),y=r(29100),w=new h({Extends:y,initialize:function(b){b.renderTarget=d(b,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),b.vertShader=d(b,"vertShader",f),b.shaders=d(b,"shaders",[{name:"Copy",fragShader:o},{name:"AddBlend",fragShader:a},{name:"LinearBlend",fragShader:p},{name:"ColorMatrix",fragShader:l}]),b.attributes=d(b,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),b.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],b.batchSize=1,y.call(this,b),this.colorMatrix=new u,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){y.prototype.boot.call(this);var x=this.shaders,b=this.renderTargets;this.copyShader=x[0],this.addShader=x[1],this.linearShader=x[2],this.colorMatrixShader=x[3],this.fullFrame1=b[0],this.fullFrame2=b[1],this.halfFrame1=b[2],this.halfFrame2=b[3]},copyFrame:function(x,b,E,C,T){E===void 0&&(E=1),C===void 0&&(C=!0),T===void 0&&(T=!0);var S=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",E),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,x.texture.webGLTexture),b?(S.viewport(0,0,b.width,b.height),S.bindFramebuffer(S.FRAMEBUFFER,b.framebuffer.webGLFramebuffer),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,b.texture.webGLTexture,0)):S.viewport(0,0,x.width,x.height),C&&(T?S.clearColor(0,0,0,0):S.clearColor(0,0,0,1),S.clear(S.COLOR_BUFFER_BIT)),S.bufferData(S.ARRAY_BUFFER,this.vertexData,S.STATIC_DRAW),S.drawArrays(S.TRIANGLES,0,6),S.bindFramebuffer(S.FRAMEBUFFER,null),S.bindTexture(S.TEXTURE_2D,null)},blitFrame:function(x,b,E,C,T,S,A){E===void 0&&(E=1),C===void 0&&(C=!0),T===void 0&&(T=!0),S===void 0&&(S=!1),A===void 0&&(A=!1);var P=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",E),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,x.texture.webGLTexture),x.height>b.height)P.viewport(0,0,x.width,x.height),this.setTargetUVs(x,b);else{var R=b.height-x.height;P.viewport(0,R,x.width,x.height)}if(P.bindFramebuffer(P.FRAMEBUFFER,b.framebuffer.webGLFramebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,b.texture.webGLTexture,0),C&&(T?P.clearColor(0,0,0,0):P.clearColor(0,0,0,1),P.clear(P.COLOR_BUFFER_BIT)),S){var L=this.renderer.currentBlendMode;this.renderer.setBlendMode(v.ERASE)}A&&this.flipY(),P.bufferData(P.ARRAY_BUFFER,this.vertexData,P.STATIC_DRAW),P.drawArrays(P.TRIANGLES,0,6),S&&this.renderer.setBlendMode(L),P.bindFramebuffer(P.FRAMEBUFFER,null),P.bindTexture(P.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(x,b,E,C,T,S,A,P){A===void 0&&(A=!0),P===void 0&&(P=!0);var R=this.gl;R.bindFramebuffer(R.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,x.texture.webGLTexture,0),A&&(P?R.clearColor(0,0,0,0):R.clearColor(0,0,0,1),R.clear(R.COLOR_BUFFER_BIT)),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,b.texture.webGLTexture),R.copyTexSubImage2D(R.TEXTURE_2D,0,0,0,E,C,T,S),R.bindFramebuffer(R.FRAMEBUFFER,null),R.bindTexture(R.TEXTURE_2D,null)},copyToGame:function(x){var b=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),b.activeTexture(b.TEXTURE0),b.bindTexture(b.TEXTURE_2D,x.texture.webGLTexture),b.bufferData(b.ARRAY_BUFFER,this.vertexData,b.STATIC_DRAW),b.drawArrays(b.TRIANGLES,0,6)},drawFrame:function(x,b,E,C){E===void 0&&(E=!0),C===void 0&&(C=this.colorMatrix);var T=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",C.getData()),this.set1f("uAlpha",C.alpha),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,x.texture.webGLTexture),b?(T.viewport(0,0,b.width,b.height),T.bindFramebuffer(T.FRAMEBUFFER,b.framebuffer.webGLFramebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,b.texture.webGLTexture,0)):T.viewport(0,0,x.width,x.height),E?T.clearColor(0,0,0,0):T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT),T.bufferData(T.ARRAY_BUFFER,this.vertexData,T.STATIC_DRAW),T.drawArrays(T.TRIANGLES,0,6),T.bindFramebuffer(T.FRAMEBUFFER,null),T.bindTexture(T.TEXTURE_2D,null)},blendFrames:function(x,b,E,C,T,S){C===void 0&&(C=1),T===void 0&&(T=!0),S===void 0&&(S=this.linearShader);var A=this.gl;this.setShader(S),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",C),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,x.texture.webGLTexture),A.activeTexture(A.TEXTURE1),A.bindTexture(A.TEXTURE_2D,b.texture.webGLTexture),E?(A.bindFramebuffer(A.FRAMEBUFFER,E.framebuffer.webGLFramebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,E.texture.webGLTexture,0),A.viewport(0,0,E.width,E.height)):A.viewport(0,0,x.width,x.height),T?A.clearColor(0,0,0,0):A.clearColor(0,0,0,1),A.clear(A.COLOR_BUFFER_BIT),A.bufferData(A.ARRAY_BUFFER,this.vertexData,A.STATIC_DRAW),A.drawArrays(A.TRIANGLES,0,6),A.bindFramebuffer(A.FRAMEBUFFER,null),A.bindTexture(A.TEXTURE_2D,null)},blendFramesAdditive:function(x,b,E,C,T){this.blendFrames(x,b,E,C,T,this.addShader)},clearFrame:function(x,b){b===void 0&&(b=!0);var E=this.gl;E.viewport(0,0,x.width,x.height),E.bindFramebuffer(E.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),b?E.clearColor(0,0,0,0):E.clearColor(0,0,0,1),E.clear(E.COLOR_BUFFER_BIT);var C=this.renderer.currentFramebuffer;E.bindFramebuffer(E.FRAMEBUFFER,C.webGLFramebuffer)},setUVs:function(x,b,E,C,T,S,A,P){var R=this.vertexViewF32;R[2]=x,R[3]=b,R[6]=E,R[7]=C,R[10]=T,R[11]=S,R[14]=x,R[15]=b,R[18]=T,R[19]=S,R[22]=A,R[23]=P},setTargetUVs:function(x,b){var E=b.height/x.height;E>.5?E=.5-(E-.5):E=.5+(.5-E),this.setUVs(0,E,0,1+E,1,1+E,1,E)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});s.exports=w}),36060:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};s.exports=g}),84817:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pipelineafterflush"}),36712:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pipelinebeforeflush"}),40285:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pipelinebind"}),65918:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pipelineboot"}),92852:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pipelinedestroy"}),56072:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pipelinerebind"}),57566:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pipelineresize"}),77085:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={AFTER_FLUSH:r(84817),BEFORE_FLUSH:r(36712),BIND:r(40285),BOOT:r(65918),DESTROY:r(92852),REBIND:r(56072),RESIZE:r(57566)}}),54812:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(99155),h=r(84057),u=new a({Extends:h,initialize:function(o){h.call(this,{game:o,fragShader:v}),this.amount=1},onPreRender:function(l,o){l=this.getController(l),this.set1f("amount",l.amount,o)}});s.exports=u}),67329:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(24400),h=r(84057),u=new a({Extends:h,initialize:function(o){h.call(this,{game:o,fragShader:v}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(l){l=this.getController(l),this.set1f("strength",l.blurStrength),this.set3fv("color",l.glcolor)},onDraw:function(l){var o=this.getController(),d=this.fullFrame1,p=this.fullFrame2;this.copyFrame(l,p);for(var f=2/l.width*o.offsetX,y=2/l.height*o.offsetY,w=0;w<o.steps;w++)this.set2f("offset",f,0),this.copySprite(l,d),this.set2f("offset",0,y),this.copySprite(d,l);this.blendFrames(p,l,d,o.strength),this.copyToGame(d)}});s.exports=u}),8861:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(41514),h=r(51078),u=r(94328),l=r(84057),o=new a({Extends:l,initialize:function(p){l.call(this,{game:p,shaders:[{name:"Gaussian5",fragShader:v},{name:"Gaussian9",fragShader:h},{name:"Gaussian13",fragShader:u}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(d){var p=this.getController(),f=this.gl,y=this.fullFrame1,w=f.getParameter(f.FRAMEBUFFER_BINDING);this.bind(this.shaders[p.quality]),f.activeTexture(f.TEXTURE0),f.viewport(0,0,d.width,d.height),this.set1i("uMainSampler",0),this.set2f("resolution",d.width,d.height),this.set1f("strength",p.strength),this.set3fv("color",p.glcolor);for(var x=0;x<p.steps;x++)this.set2f("offset",p.x,0),this.copySprite(d,y),this.set2f("offset",0,p.y),this.copySprite(y,d);f.bindFramebuffer(f.FRAMEBUFFER,w),f.bindTexture(f.TEXTURE_2D,null),this.copyToGame(d)}});s.exports=o}),51051:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(90610),h=r(84057),u=new a({Extends:h,initialize:function(o){h.call(this,{game:o,fragShader:v}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(l,o,d,p){l=this.getController(l),this.set1f("radius",l.radius,o),this.set1f("amount",l.amount,o),this.set1f("contrast",l.contrast,o),this.set1f("strength",l.strength,o),this.set2f("blur",l.blurX,l.blurY,o),this.setBoolean("isTiltShift",l.isTiltShift,o),d&&p&&this.set2f("resolution",d,p,o)},onDraw:function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)}});s.exports=u}),89428:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(91899),h=r(84057),u=new a({Extends:h,initialize:function(o){h.call(this,{game:o,fragShader:v}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(l,o,d,p){l=this.getController(l),this.set1f("scale",l.scale,o),this.set1f("feather",l.feather,o),this.set1f("thickness",l.thickness,o),this.set3fv("color",l.glcolor,o),this.set4fv("backgroundColor",l.glcolor2,o),d&&p&&this.set2f("resolution",d,p,o)},onDraw:function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)}});s.exports=u}),88904:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(84057),h=new a({Extends:v,initialize:function(l){v.call(this,{game:l})},onDraw:function(u){var l=this.fullFrame1;this.controller?this.manager.drawFrame(u,l,!0,this.controller):this.drawFrame(u,l),this.copyToGame(l)}});s.exports=h}),63563:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(47838),h=r(84057),u=new a({Extends:h,initialize:function(o){h.call(this,{game:o,fragShader:v}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(l){var o=this.game.textures.getFrame(l);o&&(this.glTexture=o.glTexture)},onDraw:function(l){var o=this.getController(),d=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",o.x,o.y),this.bindTexture(o.glTexture,1),this.copySprite(l,d),this.copyToGame(d)}});s.exports=u}),94045:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(95540),h=r(98656),u=r(84057),l=r(70554),o=new a({Extends:u,initialize:function(p,f){var y=v(f,"quality",.1),w=v(f,"distance",10);u.call(this,{game:p,fragShader:l.setGlowQuality(h,p,y,w)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(d,p,f,y){d=this.getController(d),this.set1f("outerStrength",d.outerStrength,p),this.set1f("innerStrength",d.innerStrength,p),this.set4fv("glowColor",d.glcolor,p),this.setBoolean("knockout",d.knockout,p),f&&y&&this.set2f("resolution",f,y,p)},onDraw:function(d){this.set2f("resolution",d.width,d.height),this.bindAndDraw(d)}});s.exports=o}),74088:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(70463),h=r(84057),u=new a({Extends:h,initialize:function(o){h.call(this,{game:o,fragShader:v}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(l,o){l=this.getController(l),this.set1f("alpha",l.alpha,o),this.set1i("size",l.size,o),this.set3fv("color1",l.glcolor1,o),this.set3fv("color2",l.glcolor2,o),this.set2f("positionFrom",l.fromX,l.fromY,o),this.set2f("positionTo",l.toX,l.toY,o)}});s.exports=u}),99636:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(50831),h=r(84057),u=new a({Extends:h,initialize:function(o){h.call(this,{game:o,fragShader:v}),this.amount=1},onPreRender:function(l,o,d,p){l=this.getController(l),this.set1f("amount",l.amount,o),d&&p&&this.set2f("resolution",d,p,o)},onDraw:function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)}});s.exports=u}),34700:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(92595),h=r(84057),u=new a({Extends:h,initialize:function(o){h.call(this,{game:o,fragShader:v}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(l,o){l=this.getController(l);var d=l.samples;this.set1i("samples",d,o),this.set1f("intensity",l.intensity,o),this.set1f("decay",l.decay,o),this.set1f("power",l.power/d,o),this.set2f("lightPosition",l.x,l.y,o),this.set4fv("color",l.glcolor,o)}});s.exports=u}),91157:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(72464),h=r(84057),u=new a({Extends:h,initialize:function(o){h.call(this,{game:o,fragShader:v}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(l,o,d,p){l=this.getController(l),this.setTime("time",o),this.set1f("speed",l.speed,o),this.set1f("lineWidth",l.lineWidth,o),this.set1f("gradient",l.gradient,o),this.setBoolean("reveal",l.reveal,o),d&&p&&this.set2f("resolution",d,p,o)},onDraw:function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)}});s.exports=u}),27797:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(39249),h=r(84057),u=new a({Extends:h,initialize:function(o){h.call(this,{game:o,fragShader:v}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(l,o){l=this.getController(l),this.set1f("radius",l.radius,o),this.set1f("strength",l.strength,o),this.set2f("position",l.x,l.y,o)}});s.exports=u}),67603:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(2878),h=r(84057),u=new a({Extends:h,initialize:function(o){h.call(this,{game:o,fragShader:v}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(l,o){l=this.getController(l);var d=l.progress,p=l.wipeWidth,f=l.direction,y=l.axis;this.set4f("config",d,p,f,y,o),this.setBoolean("reveal",l.reveal,o)}});s.exports=u}),58918:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={Barrel:r(54812),Bloom:r(67329),Blur:r(8861),Bokeh:r(51051),Circle:r(89428),ColorMatrix:r(88904),Displacement:r(63563),Glow:r(94045),Gradient:r(74088),Pixelate:r(99636),Shadow:r(34700),Shine:r(91157),Vignette:r(27797),Wipe:r(67603)};s.exports=a}),96615:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(36060),v=r(79291),h={FX:r(58918),BitmapMaskPipeline:r(31302),Events:r(77085),FXPipeline:r(92651),LightPipeline:r(96569),MobilePipeline:r(56527),MultiPipeline:r(57516),PointLightPipeline:r(43439),PostFXPipeline:r(84057),PreFXPipeline:r(43558),RopePipeline:r(81041),SinglePipeline:r(12385),UtilityPipeline:r(7589)};h=v(!1,h,a),s.exports=h}),35407:(s=>{s.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)}),78908:(s=>{s.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)}),85191:(s=>{s.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)}),96293:(s=>{s.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)}),36682:(s=>{s.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)}),99155:(s=>{s.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)}),24400:(s=>{s.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)}),94328:(s=>{s.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)}),41514:(s=>{s.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)}),51078:(s=>{s.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)}),90610:(s=>{s.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)}),91899:(s=>{s.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)}),47838:(s=>{s.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)}),98656:(s=>{s.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)}),70463:(s=>{s.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)}),50831:(s=>{s.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)}),92595:(s=>{s.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)}),72464:(s=>{s.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)}),39249:(s=>{s.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)}),2878:(s=>{s.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)}),31063:(s=>{s.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)}),48247:(s=>{s.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)}),41214:(s=>{s.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)}),39653:(s=>{s.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)}),62143:(s=>{s.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)}),47940:(s=>{s.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)}),98840:(s=>{s.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)}),44667:(s=>{s.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)}),4127:(s=>{s.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)}),89924:(s=>{s.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)}),27681:(s=>{s.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)}),49627:(s=>{s.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)}),45561:(s=>{s.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)}),60722:(s=>{s.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)}),89350:((s,g,r)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={AddBlendFrag:r(35407),BitmapMaskFrag:r(78908),BitmapMaskVert:r(85191),ColorMatrixFrag:r(96293),CopyFrag:r(36682),FXBarrelFrag:r(99155),FXBloomFrag:r(24400),FXBlurHighFrag:r(94328),FXBlurLowFrag:r(41514),FXBlurMedFrag:r(51078),FXBokehFrag:r(90610),FXCircleFrag:r(91899),FXDisplacementFrag:r(47838),FXGlowFrag:r(98656),FXGradientFrag:r(70463),FXPixelateFrag:r(50831),FXShadowFrag:r(92595),FXShineFrag:r(72464),FXVignetteFrag:r(39249),FXWipeFrag:r(2878),LightFrag:r(31063),LinearBlendFrag:r(48247),MeshFrag:r(41214),MeshVert:r(39653),MobileFrag:r(62143),MobileVert:r(47940),MultiFrag:r(98840),MultiVert:r(44667),PointLightFrag:r(4127),PointLightVert:r(89924),PostFXFrag:r(27681),QuadVert:r(49627),SingleFrag:r(45561),SingleVert:r(60722)}}),93567:((s,g,r)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=new a({initialize:function(u,l,o){this.webGLAttribLocation=-1,this.gl=u,this.program=l,this.name=o,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var h=this.gl;h.isContextLost()||(this.webGLAttribLocation=h.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});s.exports=v}),26128:((s,g,r)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=new a({initialize:function(u,l,o,d){this.webGLBuffer=null,this.gl=u,this.initialDataOrSize=l,this.bufferType=o,this.bufferUsage=d,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var h=this.gl;if(!h.isContextLost()){var u=this.bufferType,l=h.createBuffer();this.webGLBuffer=l,h.bindBuffer(u,this.webGLBuffer),h.bufferData(u,this.initialDataOrSize,this.bufferUsage),h.bindBuffer(u,null)}}},destroy:function(){var h=this.gl;h.isContextLost()||h.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});s.exports=v}),84387:((s,g,r)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},h=new a({initialize:function(l,o,d,p,f){this.webGLFramebuffer=null,this.gl=l,this.width=o,this.height=d,this.renderTexture=p,this.addDepthStencilBuffer=!!f,this.createResource()},createResource:function(){var u=this.gl;if(!u.isContextLost()){var l=this.renderTexture,o=0,d=u.createFramebuffer();if(this.webGLFramebuffer=d,u.bindFramebuffer(u.FRAMEBUFFER,d),l.isRenderTexture=!0,l.isAlphaPremultiplied=!1,u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,l.webGLTexture,0),o=u.checkFramebufferStatus(u.FRAMEBUFFER),o!==u.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(v[o]||o));if(this.addDepthStencilBuffer){var p=u.createRenderbuffer();u.bindRenderbuffer(u.RENDERBUFFER,p),u.renderbufferStorage(u.RENDERBUFFER,u.DEPTH_STENCIL,this.width,this.height),u.framebufferRenderbuffer(u.FRAMEBUFFER,u.DEPTH_STENCIL_ATTACHMENT,u.RENDERBUFFER,p)}u.bindFramebuffer(u.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var u=this.gl;if(!u.isContextLost()){u.bindFramebuffer(u.FRAMEBUFFER,this.webGLFramebuffer);var l=u.getFramebufferAttachmentParameter(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);l!==null&&(u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,null,0),u.deleteTexture(l));var o=u.getFramebufferAttachmentParameter(u.FRAMEBUFFER,u.DEPTH_STENCIL_ATTACHMENT,u.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);o!==null&&u.deleteRenderbuffer(o),u.bindFramebuffer(u.FRAMEBUFFER,null),u.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});s.exports=h}),1482:((s,g,r)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=new a({initialize:function(u,l,o){this.webGLProgram=null,this.gl=u,this.vertexSource=l,this.fragmentSource=o,this.createResource()},createResource:function(){var h=this.gl;if(!h.isContextLost()){var u=h.createProgram(),l=h.createShader(h.VERTEX_SHADER),o=h.createShader(h.FRAGMENT_SHADER);h.shaderSource(l,this.vertexSource),h.shaderSource(o,this.fragmentSource),h.compileShader(l),h.compileShader(o);var d=`Shader failed:
`;if(!h.getShaderParameter(l,h.COMPILE_STATUS))throw new Error("Vertex "+d+h.getShaderInfoLog(l));if(!h.getShaderParameter(o,h.COMPILE_STATUS))throw new Error("Fragment "+d+h.getShaderInfoLog(o));if(h.attachShader(u,l),h.attachShader(u,o),h.linkProgram(u),!h.getProgramParameter(u,h.LINK_STATUS))throw new Error("Link "+d+h.getProgramInfoLog(u));h.useProgram(u),this.webGLProgram=u}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});s.exports=v}),82751:((s,g,r)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(50030),h=new a({initialize:function(l,o,d,p,f,y,w,x,b,E,C,T,S){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=l,this.mipLevel=o,this.minFilter=d,this.magFilter=p,this.wrapT=f,this.wrapS=y,this.format=w,this.pixels=x,this.width=b,this.height=E,this.pma=C??!0,this.forceSize=!!T,this.flipY=!!S,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var u=this.gl;if(!u.isContextLost()){if(this.pixels instanceof h){this.webGLTexture=this.pixels.webGLTexture;return}var l=u.createTexture();l.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=l,this._processTexture()}},update:function(u,l,o,d,p,f,y,w,x){if(!(l===0||o===0)){this.pixels=u,this.width=l,this.height=o,this.flipY=d,this.wrapS=p,this.wrapT=f,this.minFilter=y,this.magFilter=w,this.format=x;var b=this.gl;b.isContextLost()||this._processTexture()}},_processTexture:function(){var u=this.gl;u.activeTexture(u.TEXTURE0);var l=u.getParameter(u.TEXTURE_BINDING_2D);u.bindTexture(u.TEXTURE_2D,this.webGLTexture),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,this.minFilter),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,this.magFilter),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,this.wrapS),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,this.wrapT),u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,this.flipY);var o=this.pixels,d=this.mipLevel,p=this.width,f=this.height,y=this.format,w=!1;if(o==null)u.texImage2D(u.TEXTURE_2D,d,y,p,f,0,y,u.UNSIGNED_BYTE,null),w=v(p,f);else if(o.compressed){p=o.width,f=o.height,w=o.generateMipmap;for(var x=0;x<o.mipmaps.length;x++)u.compressedTexImage2D(u.TEXTURE_2D,x,o.internalFormat,o.mipmaps[x].width,o.mipmaps[x].height,0,o.mipmaps[x].data)}else o instanceof Uint8Array?(u.texImage2D(u.TEXTURE_2D,d,y,p,f,0,y,u.UNSIGNED_BYTE,o),w=v(p,f)):(this.forceSize||(p=o.width,f=o.height),u.texImage2D(u.TEXTURE_2D,d,y,y,u.UNSIGNED_BYTE,o),w=v(p,f));w&&u.generateMipmap(u.TEXTURE_2D),l?u.bindTexture(u.TEXTURE_2D,l):u.bindTexture(u.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(u){this.__SPECTOR_Metadata=u,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=u)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof h||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});s.exports=h}),57183:((s,g,r)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=new a({initialize:function(u,l,o){this.webGLUniformLocation=null,this.gl=u,this.program=l,this.name=o,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var h=this.gl;h.isContextLost()||(this.webGLUniformLocation=h.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});s.exports=v}),9503:((s,g,r)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={WebGLAttribLocationWrapper:r(93567),WebGLBufferWrapper:r(26128),WebGLProgramWrapper:r(1482),WebGLTextureWrapper:r(82751),WebGLFramebufferWrapper:r(84387),WebGLUniformLocationWrapper:r(57183)};s.exports=a}),76531:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(13560),v=r(83419),h=r(45319),u=r(50792),l=r(97480),o=r(8443),d=r(57811),p=r(74403),f=r(45818),y=r(29747),w=r(87841),x=r(86555),b=r(56583),E=r(26099),C=r(38058),T=new v({Extends:u,initialize:function(A){u.call(this),this.game=A,this.canvas,this.canvasBounds=new w,this.parent=null,this.parentIsWindow=!1,this.parentSize=new x,this.gameSize=new x,this.baseSize=new x,this.displaySize=new x,this.scaleMode=a.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new E(1,1),this.autoRound=!1,this.autoCenter=a.CENTER.NO_CENTER,this.orientation=a.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:y,windowResize:y,fullScreenChange:y,fullScreenError:y}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(o.BOOT,this.boot,this)},boot:function(){var S=this.game;this.canvas=S.canvas,this.fullscreen=S.device.fullscreen;var A=this.scaleMode;A!==a.SCALE_MODE.RESIZE&&A!==a.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(A),A===a.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),S.events.on(o.PRE_STEP,this.step,this),S.events.once(o.READY,this.refresh,this),S.events.once(o.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(S){this.getParent(S),this.getParentBounds();var A=S.width,P=S.height,R=S.scaleMode,L=S.zoom,D=S.autoRound;if(typeof A=="string")if(A.substr(-1)!=="%")A=parseInt(A,10);else{var $=this.parentSize.width;$===0&&($=window.innerWidth);var F=parseInt(A,10)/100;A=Math.floor($*F)}if(typeof P=="string")if(P.substr(-1)!=="%")P=parseInt(P,10);else{var N=this.parentSize.height;N===0&&(N=window.innerHeight);var k=parseInt(P,10)/100;P=Math.floor(N*k)}this.scaleMode=R,this.autoRound=D,this.autoCenter=S.autoCenter,this.resizeInterval=S.resizeInterval,D&&(A=Math.floor(A),P=Math.floor(P)),this.gameSize.setSize(A,P),L===a.ZOOM.MAX_ZOOM&&(L=this.getMaxZoom()),this.zoom=L,L!==1&&(this._resetZoom=!0),this.baseSize.setSize(A,P),D&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),S.minWidth>0&&this.displaySize.setMin(S.minWidth*L,S.minHeight*L),S.maxWidth>0&&this.displaySize.setMax(S.maxWidth*L,S.maxHeight*L),this.displaySize.setSize(A,P),(S.snapWidth>0||S.snapHeight>0)&&this.displaySize.setSnap(S.snapWidth,S.snapHeight),this.orientation=f(A,P)},getParent:function(S){var A=S.parent;if(A!==null){if(this.parent=p(A),this.parentIsWindow=this.parent===document.body,S.expandParent&&S.scaleMode!==a.SCALE_MODE.NONE){var P=this.parent.getBoundingClientRect();(this.parentIsWindow||P.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",P=this.parent.getBoundingClientRect(),!this.parentIsWindow&&P.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}S.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=p(S.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var S=this.parentSize,A=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(A.height=d(!0));var P=A.width,R=A.height;if(S.width!==P||S.height!==R)return S.setSize(P,R),!0;if(this.canvas){var L=this.canvasBounds,D=this.canvas.getBoundingClientRect();if(D.x!==L.x||D.y!==L.y)return!0}return!1},lockOrientation:function(S){var A=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return A?A.call(screen,S):!1},setParentSize:function(S,A){return this.parentSize.setSize(S,A),this.refresh()},setGameSize:function(S,A){var P=this.autoRound;P&&(S=Math.floor(S),A=Math.floor(A));var R=this.width,L=this.height;return this.gameSize.resize(S,A),this.baseSize.resize(S,A),P&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(S/A),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(R,L)},resize:function(S,A){var P=this.zoom,R=this.autoRound;R&&(S=Math.floor(S),A=Math.floor(A));var L=this.width,D=this.height;this.gameSize.resize(S,A),this.baseSize.resize(S,A),R&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(S*P,A*P),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var $=this.canvas.style,F=S*P,N=A*P;return R&&(F=Math.floor(F),N=Math.floor(N)),(F!==S||N!==A)&&($.width=F+"px",$.height=N+"px"),this.refresh(L,D)},setZoom:function(S){return this.zoom=S,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(S,A){return S===void 0&&(S=0),A===void 0&&(A=S),this.displaySize.setSnap(S,A),this.refresh()},refresh:function(S,A){S===void 0&&(S=this.width),A===void 0&&(A=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var P=this.game.domContainer;if(P){this.baseSize.setCSS(P);var R=this.canvas.style,L=P.style;L.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",L.marginLeft=R.marginLeft,L.marginTop=R.marginTop}return this.emit(l.RESIZE,this.gameSize,this.baseSize,this.displaySize,S,A),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var S=f(this.width,this.height);S!==this.orientation&&(this.orientation=S,this.emit(l.ORIENTATION_CHANGE,S))}},updateScale:function(){var S=this.canvas.style,A=this.gameSize.width,P=this.gameSize.height,R,L,D=this.zoom,$=this.autoRound;if(this.scaleMode===a.SCALE_MODE.NONE)this.displaySize.setSize(A*D,P*D),R=this.displaySize.width,L=this.displaySize.height,$&&(R=Math.floor(R),L=Math.floor(L)),this._resetZoom&&(S.width=R+"px",S.height=L+"px",this._resetZoom=!1);else if(this.scaleMode===a.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),R=this.displaySize.width,L=this.displaySize.height,$&&(R=Math.floor(R),L=Math.floor(L)),this.canvas.width=R,this.canvas.height=L;else if(this.scaleMode===a.SCALE_MODE.EXPAND){var F=this.game.config.width,N=this.game.config.height,k=this.parentSize.width,j=this.parentSize.height,W=k/F,G=j/N,K,z;W<G?(K=F,z=W!==0?j/W:N):(K=G!==0?k/G:F,z=N);var X=h(K,this.displaySize.minWidth,this.displaySize.maxWidth),U=h(z,this.displaySize.minHeight,this.displaySize.maxHeight);this.baseSize.setSize(X,U),this.gameSize.setSize(X,U),$&&(X=Math.floor(X),U=Math.floor(U)),this.canvas.width=X,this.canvas.height=U;var Z=k*(X/K),V=j*(U/z);this.displaySize.setSize(Z,V),R=this.displaySize.width,L=this.displaySize.height,$&&(R=Math.floor(R),L=Math.floor(L)),S.width=R+"px",S.height=L+"px"}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),R=this.displaySize.width,L=this.displaySize.height,$&&(R=Math.floor(R),L=Math.floor(L)),S.width=R+"px",S.height=L+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var S=b(this.parentSize.width,this.gameSize.width,0,!0),A=b(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(S,A),1)},updateCenter:function(){var S=this.autoCenter;if(S!==a.CENTER.NO_CENTER){var A=this.canvas,P=A.style,R=A.getBoundingClientRect(),L=R.width,D=R.height,$=Math.floor((this.parentSize.width-L)/2),F=Math.floor((this.parentSize.height-D)/2);S===a.CENTER.CENTER_HORIZONTALLY?F=0:S===a.CENTER.CENTER_VERTICALLY&&($=0),P.marginLeft=$+"px",P.marginTop=F+"px"}},updateBounds:function(){var S=this.canvasBounds,A=this.canvas.getBoundingClientRect();S.x=A.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),S.y=A.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),S.width=A.width,S.height=A.height},transformX:function(S){return(S-this.canvasBounds.left)*this.displayScale.x},transformY:function(S){return(S-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(S){S===void 0&&(S={navigationUI:"hide"});var A=this.fullscreen;if(!A.available){this.emit(l.FULLSCREEN_UNSUPPORTED);return}if(!A.active){var P=this.getFullscreenTarget();A.keyboard?P[A.request](Element.ALLOW_KEYBOARD_INPUT):P[A.request](S)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(l.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(S){this.removeFullscreenTarget(),this.emit(l.FULLSCREEN_FAILED,S)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var S=document.createElement("div");S.style.margin="0",S.style.padding="0",S.style.width="100%",S.style.height="100%",this.fullscreenTarget=S,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var A=this.canvas.parentNode;A.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var S=this.fullscreenTarget;if(S&&S.parentNode){var A=S.parentNode;A.insertBefore(this.canvas,S),A.removeChild(S)}}},stopFullscreen:function(){var S=this.fullscreen;if(!S.available)return this.emit(l.FULLSCREEN_UNSUPPORTED),!1;S.active&&document[S.cancel](),this.removeFullscreenTarget()},leaveFullScreenSuccessHandler:function(){this.getParentBounds(),this.emit(l.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(S){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(S)},startListeners:function(){var S=this,A=this.domlisteners;if(A.orientationChange=function(){S.updateBounds(),S._checkOrientation=!0,S.dirty=!0,S.refresh()},A.windowResize=function(){S.updateBounds(),S.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",A.orientationChange,!1):window.addEventListener("orientationchange",A.orientationChange,!1),window.addEventListener("resize",A.windowResize,!1),this.fullscreen.available){A.fullScreenChange=function(R){return S.onFullScreenChange(R)},A.fullScreenError=function(R){return S.onFullScreenError(R)};var P=["webkit","moz",""];P.forEach(function(R){document.addEventListener(R+"fullscreenchange",A.fullScreenChange,!1),document.addEventListener(R+"fullscreenerror",A.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",A.fullScreenChange,!1),document.addEventListener("MSFullscreenError",A.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(S,A){S instanceof C||(A=S,S=void 0),A===void 0&&(A=new w);var P=this.baseSize,R=this.parentSize,L=this.canvasBounds,D=this.displayScale,$=L.x>=0?0:-(L.x*D.x),F=L.y>=0?0:-(L.y*D.y),N;R.width>=L.width?N=P.width:N=P.width-(L.width-R.width)*D.x;var k;return R.height>=L.height?k=P.height:k=P.height-(L.height-R.height)*D.y,A.setTo($,F,N,k),S&&(A.width/=S.zoomX,A.height/=S.zoomY,A.centerX=S.centerX+S.scrollX,A.centerY=S.centerY+S.scrollY),A},step:function(S,A){this.parent&&(this._lastCheck+=A,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var S=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",S.orientationChange,!1):window.removeEventListener("orientationchange",S.orientationChange,!1),window.removeEventListener("resize",S.windowResize,!1);var A=["webkit","moz",""];A.forEach(function(P){document.removeEventListener(P+"fullscreenchange",S.fullScreenChange,!1),document.removeEventListener(P+"fullscreenerror",S.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",S.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",S.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===a.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===a.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});s.exports=T}),64743:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}}),39218:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}}),81050:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}}),80805:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}}),13560:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={CENTER:r(64743),ORIENTATION:r(39218),SCALE_MODE:r(81050),ZOOM:r(80805)};s.exports=a}),56139:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="enterfullscreen"}),2336:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="fullscreenfailed"}),47412:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="fullscreenunsupported"}),51452:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="leavefullscreen"}),20666:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="orientationchange"}),47945:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="resize"}),97480:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={ENTER_FULLSCREEN:r(56139),FULLSCREEN_FAILED:r(2336),FULLSCREEN_UNSUPPORTED:r(47412),LEAVE_FULLSCREEN:r(51452),ORIENTATION_CHANGE:r(20666),RESIZE:r(47945)}}),93364:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(79291),v=r(13560),h={Center:r(64743),Events:r(97480),Orientation:r(39218),ScaleManager:r(76531),ScaleModes:r(81050),Zoom:r(80805)};h=a(!1,h,v.CENTER),h=a(!1,h,v.ORIENTATION),h=a(!1,h,v.SCALE_MODE),h=a(!1,h,v.ZOOM),s.exports=h}),27397:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(95540),v=r(35355),h=function(u){var l=u.game.config.defaultPhysicsSystem,o=a(u.settings,"physics",!1);if(!(!l&&!o)){var d=[];if(l&&d.push(v(l+"Physics")),o)for(var p in o)p=v(p.concat("Physics")),d.indexOf(p)===-1&&d.push(p);return d}};s.exports=h}),52106:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(95540),v=function(h){var u=h.plugins.getDefaultScenePlugins(),l=a(h.settings,"plugins",!1);return Array.isArray(l)?l:u||[]};s.exports=v}),87033:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};s.exports=g}),97482:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(2368),h=new a({initialize:function(l){this.sys=new v(this,l),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});s.exports=h}),60903:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(89993),h=r(44594),u=r(8443),l=r(35154),o=r(54899),d=r(29747),p=r(97482),f=r(2368),y=new a({initialize:function(x,b){if(this.game=x,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,b){Array.isArray(b)||(b=[b]);for(var E=0;E<b.length;E++)this._pending.push({key:"default",scene:b[E],autoStart:E===0,data:{}})}x.events.once(u.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new p),this.game.events.emit(u.SYSTEM_READY,this.systemScene,this);var w,x,b,E;for(w=0;w<this._pending.length;w++){x=this._pending[w],b=x.key,E=x.scene;var C;E instanceof p?C=this.createSceneFromInstance(b,E):typeof E=="object"?C=this.createSceneFromObject(b,E):typeof E=="function"&&(C=this.createSceneFromFunction(b,E)),b=C.sys.settings.key,this.keys[b]=C,this.scenes.push(C),this._data[b]&&(C.sys.settings.data=this._data[b].data,this._data[b].autoStart&&(x.autoStart=!0)),(x.autoStart||C.sys.settings.active)&&this._start.push(b)}for(this._pending.length=0,this._data={},this.isBooted=!0,w=0;w<this._start.length;w++)x=this._start[w],this.start(x);this._start.length=0}},processQueue:function(){var w=this._pending.length,x=this._queue.length;if(!(w===0&&x===0)){var b,E;if(w){for(b=0;b<w;b++)E=this._pending[b],this.add(E.key,E.scene,E.autoStart,E.data);for(b=0;b<this._start.length;b++)E=this._start[b],this.start(E);this._start.length=0,this._pending.length=0}for(b=0;b<this._queue.length;b++)E=this._queue[b],this[E.op](E.keyA,E.keyB,E.data);this._queue.length=0}},add:function(w,x,b,E){if(b===void 0&&(b=!1),E===void 0&&(E={}),this.isProcessing||!this.isBooted)return this._pending.push({key:w,scene:x,autoStart:b,data:E}),this.isBooted||(this._data[w]={data:E}),null;w=this.getKey(w,x);var C;return x instanceof p?C=this.createSceneFromInstance(w,x):typeof x=="object"?(x.key=w,C=this.createSceneFromObject(w,x)):typeof x=="function"&&(C=this.createSceneFromFunction(w,x)),C.sys.settings.data=E,w=C.sys.settings.key,this.keys[w]=C,this.scenes.push(C),(b||C.sys.settings.active)&&(this._pending.length?this._start.push(w):this.start(w)),C},remove:function(w){if(this.isProcessing)return this.queueOp("remove",w);var x=this.getScene(w);if(!x||x.sys.isTransitioning())return this;var b=this.scenes.indexOf(x),E=x.sys.settings.key;return b>-1&&(delete this.keys[E],this.scenes.splice(b,1),this._start.indexOf(E)>-1&&(b=this._start.indexOf(E),this._start.splice(b,1)),x.sys.destroy()),this},bootScene:function(w){var x=w.sys,b=x.settings;x.sceneUpdate=d,w.init&&(w.init.call(w,b.data),b.status=v.INIT,b.isTransition&&x.events.emit(h.TRANSITION_INIT,b.transitionFrom,b.transitionDuration));var E;x.load&&(E=x.load,E.reset()),E&&w.preload?(w.preload.call(w),b.status=v.LOADING,E.once(o.COMPLETE,this.loadComplete,this),E.start()):this.create(w)},loadComplete:function(w){this.create(w.scene)},payloadComplete:function(w){this.bootScene(w.scene)},update:function(w,x){this.processQueue(),this.isProcessing=!0;for(var b=this.scenes.length-1;b>=0;b--){var E=this.scenes[b].sys;E.settings.status>v.START&&E.settings.status<=v.RUNNING&&E.step(w,x),E.scenePlugin&&E.scenePlugin._target&&E.scenePlugin.step(w,x)}},render:function(w){for(var x=0;x<this.scenes.length;x++){var b=this.scenes[x].sys;b.settings.visible&&b.settings.status>=v.LOADING&&b.settings.status<v.SLEEPING&&b.render(w)}this.isProcessing=!1},create:function(w){var x=w.sys,b=x.settings;w.create&&(b.status=v.CREATING,w.create.call(w,b.data),b.status===v.DESTROYED)||(b.isTransition&&x.events.emit(h.TRANSITION_START,b.transitionFrom,b.transitionDuration),w.update&&(x.sceneUpdate=w.update),b.status=v.RUNNING,x.events.emit(h.CREATE,w))},createSceneFromFunction:function(w,x){var b=new x;if(b instanceof p){var E=b.sys.settings.key;if(E!==""&&(w=E),this.keys.hasOwnProperty(w))throw new Error("Cannot add Scene with duplicate key: "+w);return this.createSceneFromInstance(w,b)}else return b.sys=new f(b),b.sys.settings.key=w,b.sys.init(this.game),b},createSceneFromInstance:function(w,x){var b=x.sys.settings.key;return b===""&&(x.sys.settings.key=w),x.sys.init(this.game),x},createSceneFromObject:function(w,x){var b=new p(x),E=b.sys.settings.key;E!==""?w=E:b.sys.settings.key=w,b.sys.init(this.game);for(var C=["init","preload","create","update","render"],T=0;T<C.length;T++){var S=l(x,C[T],null);S&&(b[C[T]]=S)}if(x.hasOwnProperty("extend")){for(var A in x.extend)if(x.extend.hasOwnProperty(A)){var P=x.extend[A];A==="data"&&b.hasOwnProperty("data")&&typeof P=="object"?b.data.merge(P):A!=="sys"&&(b[A]=P)}}return b},getKey:function(w,x){if(w||(w="default"),typeof x=="function")return w;if(x instanceof p?w=x.sys.settings.key:typeof x=="object"&&x.hasOwnProperty("key")&&(w=x.key),this.keys.hasOwnProperty(w))throw new Error("Cannot add Scene with duplicate key: "+w);return w},getScenes:function(w,x){w===void 0&&(w=!0),x===void 0&&(x=!1);for(var b=[],E=this.scenes,C=0;C<E.length;C++){var T=E[C];T&&(!w||w&&T.sys.isActive())&&b.push(T)}return x?b.reverse():b},getScene:function(w){if(typeof w=="string"){if(this.keys[w])return this.keys[w]}else for(var x=0;x<this.scenes.length;x++)if(w===this.scenes[x])return w;return null},isActive:function(w){var x=this.getScene(w);return x?x.sys.isActive():null},isPaused:function(w){var x=this.getScene(w);return x?x.sys.isPaused():null},isVisible:function(w){var x=this.getScene(w);return x?x.sys.isVisible():null},isSleeping:function(w){var x=this.getScene(w);return x?x.sys.isSleeping():null},pause:function(w,x){var b=this.getScene(w);return b&&b.sys.pause(x),this},resume:function(w,x){var b=this.getScene(w);return b&&b.sys.resume(x),this},sleep:function(w,x){var b=this.getScene(w);return b&&!b.sys.isTransitioning()&&b.sys.sleep(x),this},wake:function(w,x){var b=this.getScene(w);return b&&b.sys.wake(x),this},run:function(w,x){var b=this.getScene(w);if(!b){for(var E=0;E<this._pending.length;E++)if(this._pending[E].key===w){this.queueOp("start",w,x);break}return this}b.sys.isSleeping()?b.sys.wake(x):b.sys.isPaused()?b.sys.resume(x):this.start(w,x)},start:function(w,x){if(!this.isBooted)return this._data[w]={autoStart:!0,data:x},this;var b=this.getScene(w);if(!b)return console.warn("Scene key not found: "+w),this;var E=b.sys,C=E.settings.status;if(C>=v.START&&C<=v.CREATING)return this;if(C>=v.RUNNING&&C<=v.SLEEPING)E.shutdown(),E.sceneUpdate=d,E.start(x);else{E.sceneUpdate=d,E.start(x);var T;if(E.load&&(T=E.load),T&&E.settings.hasOwnProperty("pack")&&(T.reset(),T.addPack({payload:E.settings.pack})))return E.settings.status=v.LOADING,T.once(o.COMPLETE,this.payloadComplete,this),T.start(),this}return this.bootScene(b),this},stop:function(w,x){var b=this.getScene(w);if(b&&!b.sys.isTransitioning()&&b.sys.settings.status!==v.SHUTDOWN){var E=b.sys.load;E&&(E.off(o.COMPLETE,this.loadComplete,this),E.off(o.COMPLETE,this.payloadComplete,this)),b.sys.shutdown(x)}return this},switch:function(w,x,b){var E=this.getScene(w),C=this.getScene(x);return E&&C&&E!==C&&(this.sleep(w),this.isSleeping(x)?this.wake(x,b):this.start(x,b)),this},getAt:function(w){return this.scenes[w]},getIndex:function(w){var x=this.getScene(w);return this.scenes.indexOf(x)},bringToTop:function(w){if(this.isProcessing)return this.queueOp("bringToTop",w);var x=this.getIndex(w),b=this.scenes;if(x!==-1&&x<b.length){var E=this.getScene(w);b.splice(x,1),b.push(E)}return this},sendToBack:function(w){if(this.isProcessing)return this.queueOp("sendToBack",w);var x=this.getIndex(w);if(x!==-1&&x>0){var b=this.getScene(w);this.scenes.splice(x,1),this.scenes.unshift(b)}return this},moveDown:function(w){if(this.isProcessing)return this.queueOp("moveDown",w);var x=this.getIndex(w);if(x>0){var b=x-1,E=this.getScene(w),C=this.getAt(b);this.scenes[x]=C,this.scenes[b]=E}return this},moveUp:function(w){if(this.isProcessing)return this.queueOp("moveUp",w);var x=this.getIndex(w);if(x<this.scenes.length-1){var b=x+1,E=this.getScene(w),C=this.getAt(b);this.scenes[x]=C,this.scenes[b]=E}return this},moveAbove:function(w,x){if(w===x)return this;if(this.isProcessing)return this.queueOp("moveAbove",w,x);var b=this.getIndex(w),E=this.getIndex(x);if(b!==-1&&E!==-1&&E<b){var C=this.getAt(E);this.scenes.splice(E,1),this.scenes.splice(b+(E>b),0,C)}return this},moveBelow:function(w,x){if(w===x)return this;if(this.isProcessing)return this.queueOp("moveBelow",w,x);var b=this.getIndex(w),E=this.getIndex(x);if(b!==-1&&E!==-1&&E>b){var C=this.getAt(E);this.scenes.splice(E,1),b===0?this.scenes.unshift(C):this.scenes.splice(b-(E<b),0,C)}return this},queueOp:function(w,x,b,E){return this._queue.push({op:w,keyA:x,keyB:b,data:E}),this},swapPosition:function(w,x){if(w===x)return this;if(this.isProcessing)return this.queueOp("swapPosition",w,x);var b=this.getIndex(w),E=this.getIndex(x);if(b!==E&&b!==-1&&E!==-1){var C=this.getAt(b);this.scenes[b]=this.scenes[E],this.scenes[E]=C}return this},dump:function(){for(var w=[],x=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],b=0;b<this.scenes.length;b++){var E=this.scenes[b].sys,C=E.settings.visible&&(E.settings.status===v.RUNNING||E.settings.status===v.PAUSED)?"[*] ":"[-] ";C+=E.settings.key+" ("+x[E.settings.status]+")",w.push(C)}console.log(w.join(`
`))},destroy:function(){for(var w=0;w<this.scenes.length;w++){var x=this.scenes[w].sys;x.destroy()}this.systemScene.sys.destroy(),this.update=d,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});s.exports=y}),52209:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(45319),v=r(83419),h=r(44594),u=r(95540),l=r(37277),o=new v({initialize:function(p){this.scene=p,this.systems=p.sys,this.settings=p.sys.settings,this.key=p.sys.settings.key,this.manager=p.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,p.sys.events.once(h.BOOT,this.boot,this),p.sys.events.on(h.START,this.pluginStart,this)},boot:function(){this.systems.events.once(h.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(h.SHUTDOWN,this.shutdown,this)},start:function(d,p){return d===void 0&&(d=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",d,p),this},restart:function(d){var p=this.key;return this.manager.queueOp("stop",p),this.manager.queueOp("start",p,d),this},transition:function(d){d===void 0&&(d={});var p=u(d,"target",!1),f=this.manager.getScene(p);if(!p||!this.checkValidTransition(f))return!1;var y=u(d,"duration",1e3);this._elapsed=0,this._target=f,this._duration=y,this._willSleep=u(d,"sleep",!1),this._willRemove=u(d,"remove",!1);var w=u(d,"onUpdate",null);w&&(this._onUpdate=w,this._onUpdateScope=u(d,"onUpdateScope",this.scene));var x=u(d,"allowInput",!1);this.settings.transitionAllowInput=x;var b=f.sys.settings;b.isTransition=!0,b.transitionFrom=this.scene,b.transitionDuration=y,b.transitionAllowInput=x,u(d,"moveAbove",!1)?this.manager.moveAbove(this.key,p):u(d,"moveBelow",!1)&&this.manager.moveBelow(this.key,p),f.sys.isSleeping()?f.sys.wake(u(d,"data")):this.manager.start(p,u(d,"data"));var E=u(d,"onStart",null),C=u(d,"onStartScope",this.scene);return E&&E.call(C,this.scene,f,y),this.systems.events.emit(h.TRANSITION_OUT,f,y),!0},checkValidTransition:function(d){return!(!d||d.sys.isActive()||d.sys.isTransitioning()||d===this.scene||this.systems.isTransitioning())},step:function(d,p){this._elapsed+=p,this.transitionProgress=a(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var d=this._target.sys,p=this._target.sys.settings;d.events.emit(h.TRANSITION_COMPLETE,this.scene),p.isTransition=!1,p.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(d,p,f,y){return this.manager.add(d,p,f,y)},launch:function(d,p){return d&&d!==this.key&&this.manager.queueOp("start",d,p),this},run:function(d,p){return d&&d!==this.key&&this.manager.queueOp("run",d,p),this},pause:function(d,p){return d===void 0&&(d=this.key),this.manager.queueOp("pause",d,p),this},resume:function(d,p){return d===void 0&&(d=this.key),this.manager.queueOp("resume",d,p),this},sleep:function(d,p){return d===void 0&&(d=this.key),this.manager.queueOp("sleep",d,p),this},wake:function(d,p){return d===void 0&&(d=this.key),this.manager.queueOp("wake",d,p),this},switch:function(d,p){return d!==this.key&&this.manager.queueOp("switch",this.key,d,p),this},stop:function(d,p){return d===void 0&&(d=this.key),this.manager.queueOp("stop",d,p),this},setActive:function(d,p,f){p===void 0&&(p=this.key);var y=this.manager.getScene(p);return y&&y.sys.setActive(d,f),this},setVisible:function(d,p){p===void 0&&(p=this.key);var f=this.manager.getScene(p);return f&&f.sys.setVisible(d),this},isSleeping:function(d){return d===void 0&&(d=this.key),this.manager.isSleeping(d)},isActive:function(d){return d===void 0&&(d=this.key),this.manager.isActive(d)},isPaused:function(d){return d===void 0&&(d=this.key),this.manager.isPaused(d)},isVisible:function(d){return d===void 0&&(d=this.key),this.manager.isVisible(d)},swapPosition:function(d,p){return p===void 0&&(p=this.key),d!==p&&this.manager.swapPosition(d,p),this},moveAbove:function(d,p){return p===void 0&&(p=this.key),d!==p&&this.manager.moveAbove(d,p),this},moveBelow:function(d,p){return p===void 0&&(p=this.key),d!==p&&this.manager.moveBelow(d,p),this},remove:function(d){return d===void 0&&(d=this.key),this.manager.remove(d),this},moveUp:function(d){return d===void 0&&(d=this.key),this.manager.moveUp(d),this},moveDown:function(d){return d===void 0&&(d=this.key),this.manager.moveDown(d),this},bringToTop:function(d){return d===void 0&&(d=this.key),this.manager.bringToTop(d),this},sendToBack:function(d){return d===void 0&&(d=this.key),this.manager.sendToBack(d),this},get:function(d){return this.manager.getScene(d)},getStatus:function(d){var p=this.manager.getScene(d);if(p)return p.sys.getStatus()},getIndex:function(d){return d===void 0&&(d=this.key),this.manager.getIndex(d)},shutdown:function(){var d=this.systems.events;d.off(h.SHUTDOWN,this.shutdown,this),d.off(h.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(h.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});l.register("ScenePlugin",o,"scenePlugin"),s.exports=o}),55681:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(89993),v=r(35154),h=r(46975),u=r(87033),l={create:function(o){return typeof o=="string"?o={key:o}:o===void 0&&(o={}),{status:a.PENDING,key:v(o,"key",""),active:v(o,"active",!1),visible:v(o,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:v(o,"pack",!1),cameras:v(o,"cameras",null),map:v(o,"map",h(u,v(o,"mapAdd",{}))),physics:v(o,"physics",{}),loader:v(o,"loader",{}),plugins:v(o,"plugins",!1),input:v(o,"input",{})}}};s.exports=l}),2368:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(89993),h=r(42363),u=r(44594),l=r(27397),o=r(52106),d=r(29747),p=r(55681),f=new a({initialize:function(w,x){this.scene=w,this.game,this.renderer,this.config=x,this.settings=p.create(x),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=d},init:function(y){this.settings.status=v.INIT,this.sceneUpdate=d,this.game=y,this.renderer=y.renderer,this.canvas=y.canvas,this.context=y.context;var w=y.plugins;this.plugins=w,w.addToScene(this,h.Global,[h.CoreScene,o(this),l(this)]),this.events.emit(u.BOOT,this),this.settings.isBooted=!0},step:function(y,w){var x=this.events;x.emit(u.PRE_UPDATE,y,w),x.emit(u.UPDATE,y,w),this.sceneUpdate.call(this.scene,y,w),x.emit(u.POST_UPDATE,y,w)},render:function(y){var w=this.displayList;w.depthSort(),this.events.emit(u.PRE_RENDER,y),this.cameras.render(y,w),this.events.emit(u.RENDER,y)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(y){var w=this.settings,x=this.getStatus();return x!==v.CREATING&&x!==v.RUNNING?console.warn("Cannot pause non-running Scene",w.key):this.settings.active&&(w.status=v.PAUSED,w.active=!1,this.events.emit(u.PAUSE,this,y)),this},resume:function(y){var w=this.events,x=this.settings;return this.settings.active||(x.status=v.RUNNING,x.active=!0,w.emit(u.RESUME,this,y)),this},sleep:function(y){var w=this.settings,x=this.getStatus();return x!==v.CREATING&&x!==v.RUNNING?console.warn("Cannot sleep non-running Scene",w.key):(w.status=v.SLEEPING,w.active=!1,w.visible=!1,this.events.emit(u.SLEEP,this,y)),this},wake:function(y){var w=this.events,x=this.settings;return x.status=v.RUNNING,x.active=!0,x.visible=!0,w.emit(u.WAKE,this,y),x.isTransition&&w.emit(u.TRANSITION_WAKE,x.transitionFrom,x.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var y=this.settings.status;return y>v.PENDING&&y<=v.RUNNING},isSleeping:function(){return this.settings.status===v.SLEEPING},isActive:function(){return this.settings.status===v.RUNNING},isPaused:function(){return this.settings.status===v.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(y){return this.settings.visible=y,this},setActive:function(y,w){return y?this.resume(w):this.pause(w)},start:function(y){var w=this.events,x=this.settings;y&&(x.data=y),x.status=v.START,x.active=!0,x.visible=!0,w.emit(u.START,this),w.emit(u.READY,this,y)},shutdown:function(y){var w=this.events,x=this.settings;w.off(u.TRANSITION_INIT),w.off(u.TRANSITION_START),w.off(u.TRANSITION_COMPLETE),w.off(u.TRANSITION_OUT),x.status=v.SHUTDOWN,x.active=!1,x.visible=!1,w.emit(u.SHUTDOWN,this,y)},destroy:function(){var y=this.events,w=this.settings;w.status=v.DESTROYED,w.active=!1,w.visible=!1,y.emit(u.DESTROY,this),y.removeAllListeners();for(var x=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],b=0;b<x.length;b++)this[x[b]]=null}});s.exports=f}),89993:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};s.exports=g}),69830:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="addedtoscene"}),7919:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="boot"}),46763:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="create"}),11763:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="destroy"}),71555:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pause"}),36735:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="postupdate"}),3809:(s=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="prerender"}),90716:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="preupdate"}),58262:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="ready"}),91633:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="removedfromscene"}),10319:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="render"}),87132:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="resume"}),81961:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="shutdown"}),90194:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="sleep"}),6265:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="start"}),33178:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="transitioncomplete"}),43063:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="transitioninit"}),11259:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="transitionout"}),61611:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="transitionstart"}),45209:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="transitionwake"}),22966:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="update"}),21747:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="wake"}),44594:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={ADDED_TO_SCENE:r(69830),BOOT:r(7919),CREATE:r(46763),DESTROY:r(11763),PAUSE:r(71555),POST_UPDATE:r(36735),PRE_RENDER:r(3809),PRE_UPDATE:r(90716),READY:r(58262),REMOVED_FROM_SCENE:r(91633),RENDER:r(10319),RESUME:r(87132),SHUTDOWN:r(81961),SLEEP:r(90194),START:r(6265),TRANSITION_COMPLETE:r(33178),TRANSITION_INIT:r(43063),TRANSITION_OUT:r(11259),TRANSITION_START:r(61611),TRANSITION_WAKE:r(45209),UPDATE:r(22966),WAKE:r(21747)}}),62194:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(89993),v=r(79291),h={Events:r(44594),GetPhysicsPlugins:r(27397),GetScenePlugins:r(52106),SceneManager:r(60903),ScenePlugin:r(52209),Settings:r(55681),Systems:r(2368)};h=v(!1,h,a),s.exports=h}),30341:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(50792),h=r(14463),u=r(79291),l=r(29747),o=new a({Extends:v,initialize:function(p,f,y){v.call(this),this.manager=p,this.key=f,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=u(this.config,y),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(d){return!d||!d.name||typeof d.name!="string"?!1:this.markers[d.name]?(console.error("addMarker "+d.name+" already exists in Sound"),!1):(d=u(!0,{name:"",start:0,duration:this.totalDuration-(d.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},d),this.markers[d.name]=d,!0)},updateMarker:function(d){return!d||!d.name||typeof d.name!="string"?!1:this.markers[d.name]?(this.markers[d.name]=u(!0,this.markers[d.name],d),!0):(console.warn("Audio Marker: "+d.name+" missing in Sound: "+this.key),!1)},removeMarker:function(d){var p=this.markers[d];return p?(this.markers[d]=null,p):null},play:function(d,p){if(d===void 0&&(d=""),typeof d=="object"&&(p=d,d=""),typeof d!="string")return!1;if(!d)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[d])return console.warn("Marker: "+d+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[d],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=u(this.currentConfig,p),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:l,calculateRate:function(){var d=1.0005777895065548,p=this.currentConfig.detune+this.manager.detune,f=Math.pow(d,p);this.totalRate=this.currentConfig.rate*this.manager.rate*f},destroy:function(){this.pendingRemove||(this.stop(),this.emit(h.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});s.exports=o}),85034:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(41786),h=r(50792),u=r(14463),l=r(8443),o=r(46710),d=r(58731),p=r(29747),f=r(26099),y=new a({Extends:h,initialize:function(x){h.call(this),this.game=x,this.jsonCache=x.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new f;var b=x.events;b.on(l.BLUR,this.onGameBlur,this),b.on(l.FOCUS,this.onGameFocus,this),b.on(l.PRE_STEP,this.update,this),b.once(l.DESTROY,this.destroy,this)},add:p,addAudioSprite:function(w,x){x===void 0&&(x={});var b=this.add(w,x);b.spritemap=this.jsonCache.get(w).spritemap;for(var E in b.spritemap)if(b.spritemap.hasOwnProperty(E)){var C=v(x),T=b.spritemap[E];C.loop=T.hasOwnProperty("loop")?T.loop:!1,b.addMarker({name:E,start:T.start,duration:T.end-T.start,config:C})}return b},get:function(w){return d(this.sounds,"key",w)},getAll:function(w){return w?o(this.sounds,"key",w):o(this.sounds)},getAllPlaying:function(){return o(this.sounds,"isPlaying",!0)},play:function(w,x){var b=this.add(w);return b.once(u.COMPLETE,b.destroy,b),x?x.name?(b.addMarker(x),b.play(x.name)):b.play(x):b.play()},playAudioSprite:function(w,x,b){var E=this.addAudioSprite(w);return E.once(u.COMPLETE,E.destroy,E),E.play(x,b)},remove:function(w){var x=this.sounds.indexOf(w);return x!==-1?(w.destroy(),this.sounds.splice(x,1),!0):!1},removeAll:function(){this.sounds.forEach(function(w){w.destroy()}),this.sounds.length=0},removeByKey:function(w){for(var x=0,b=this.sounds.length-1;b>=0;b--){var E=this.sounds[b];E.key===w&&(E.destroy(),this.sounds.splice(b,1),x++)}return x},pauseAll:function(){this.forEachActiveSound(function(w){w.pause()}),this.emit(u.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(w){w.resume()}),this.emit(u.RESUME_ALL,this)},setListenerPosition:p,stopAll:function(){this.forEachActiveSound(function(w){w.stop()}),this.emit(u.STOP_ALL,this)},stopByKey:function(w){var x=0;return this.getAll(w).forEach(function(b){b.stop()&&x++}),x},isPlaying:function(w){var x=this.sounds,b=x.length-1,E;if(w===void 0){for(;b>=0;b--)if(E=this.sounds[b],E.isPlaying)return!0}else for(;b>=0;b--)if(E=this.sounds[b],E.key===w&&E.isPlaying)return!0;return!1},unlock:p,onBlur:p,onFocus:p,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(w,x){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(u.UNLOCKED,this));for(var b=this.sounds.length-1;b>=0;b--)this.sounds[b].pendingRemove&&this.sounds.splice(b,1);this.sounds.forEach(function(E){E.update(w,x)})},destroy:function(){this.game.events.off(l.BLUR,this.onGameBlur,this),this.game.events.off(l.FOCUS,this.onGameFocus,this),this.game.events.off(l.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(w,x){var b=this;this.sounds.forEach(function(E,C){E&&!E.pendingRemove&&w.call(x||b,E,C,b.sounds)})},setRate:function(w){return this.rate=w,this},rate:{get:function(){return this._rate},set:function(w){this._rate=w,this.forEachActiveSound(function(x){x.calculateRate()}),this.emit(u.GLOBAL_RATE,this,w)}},setDetune:function(w){return this.detune=w,this},detune:{get:function(){return this._detune},set:function(w){this._detune=w,this.forEachActiveSound(function(x){x.calculateRate()}),this.emit(u.GLOBAL_DETUNE,this,w)}}});s.exports=y}),14747:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(33684),v=r(25960),h=r(57490),u={create:function(l){var o=l.config.audio,d=l.device.audio;return o.noAudio||!d.webAudio&&!d.audioData?new v(l):d.webAudio&&!o.disableWebAudio?new h(l):new a(l)}};s.exports=u}),19723:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="complete"}),98882:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="decodedall"}),57506:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="decoded"}),73146:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="destroy"}),11305:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="detune"}),40577:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="detune"}),30333:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="mute"}),20394:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="rate"}),21802:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="volume"}),1299:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="looped"}),99190:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="loop"}),97125:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="mute"}),89259:(s=>{/**
 * @author       pi-kei
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pan"}),79986:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pauseall"}),17586:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pause"}),19618:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="play"}),42306:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="rate"}),10387:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="resumeall"}),48959:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="resume"}),9960:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="seek"}),19180:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="stopall"}),98328:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="stop"}),50401:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="unlocked"}),52498:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="volume"}),14463:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={COMPLETE:r(19723),DECODED:r(57506),DECODED_ALL:r(98882),DESTROY:r(73146),DETUNE:r(11305),GLOBAL_DETUNE:r(40577),GLOBAL_MUTE:r(30333),GLOBAL_RATE:r(20394),GLOBAL_VOLUME:r(21802),LOOP:r(99190),LOOPED:r(1299),MUTE:r(97125),PAN:r(89259),PAUSE_ALL:r(79986),PAUSE:r(17586),PLAY:r(19618),RATE:r(42306),RESUME_ALL:r(10387),RESUME:r(48959),SEEK:r(9960),STOP_ALL:r(19180),STOP:r(98328),UNLOCKED:r(50401),VOLUME:r(52498)}}),64895:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(30341),v=r(83419),h=r(14463),u=r(45319),l=new v({Extends:a,initialize:function(d,p,f){if(f===void 0&&(f={}),this.tags=d.game.cache.audio.get(p),!this.tags)throw new Error('No cached audio asset with key "'+p);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,a.call(this,d,p,f)},play:function(o,d){return this.manager.isLocked(this,"play",[o,d])||!a.prototype.play.call(this,o,d)||!this.pickAndPlayAudioTag()?!1:(this.emit(h.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!a.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(h.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!a.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(h.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!a.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(h.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var o=this.currentConfig.seek,d=this.currentConfig.delay,p=(this.currentMarker?this.currentMarker.start:0)+o;return this.previousTime=p,this.audio.currentTime=p,this.applyConfig(),d===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+d*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var o=0;o<this.tags.length;o++){var d=this.tags[o];if(d.dataset.used==="false")return d.dataset.used="true",this.audio=d,!0}if(!this.manager.override)return!1;var p=[];this.manager.forEachActiveSound(function(y){y.key===this.key&&y.audio&&p.push(y)},this),p.sort(function(y,w){return y.loop===w.loop?w.seek/w.duration-y.seek/y.duration:y.loop?1:-1});var f=p[0];return this.audio=f.audio,f.reset(),f.audio=null,f.startTime=0,f.previousTime=0,!0},playCatchPromise:function(){var o=this.audio.play();o&&o.catch(function(d){console.warn(d)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){a.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(o){if(this.isPlaying){if(this.startTime>0){this.startTime<o-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,o-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var d=this.currentMarker?this.currentMarker.start:0,p=d+this.duration,f=this.audio.currentTime;if(this.currentConfig.loop)f>=p-this.manager.loopEndOffset?(this.audio.currentTime=d+Math.max(0,f-p),f=this.audio.currentTime):f<d&&(this.audio.currentTime+=d,f=this.audio.currentTime),f<this.previousTime&&this.emit(h.LOOPED,this);else if(f>=p){this.reset(),this.stopAndReleaseAudioTag(),this.emit(h.COMPLETE,this);return}this.previousTime=f}},destroy:function(){a.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=u(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){a.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(o){this.currentConfig.mute=o,!this.manager.isLocked(this,"mute",o)&&(this.updateMute(),this.emit(h.MUTE,this,o))}},setMute:function(o){return this.mute=o,this},volume:{get:function(){return this.currentConfig.volume},set:function(o){this.currentConfig.volume=o,!this.manager.isLocked(this,"volume",o)&&(this.updateVolume(),this.emit(h.VOLUME,this,o))}},setVolume:function(o){return this.volume=o,this},rate:{get:function(){return this.currentConfig.rate},set:function(o){this.currentConfig.rate=o,!this.manager.isLocked(this,h.RATE,o)&&(this.calculateRate(),this.emit(h.RATE,this,o))}},setRate:function(o){return this.rate=o,this},detune:{get:function(){return this.currentConfig.detune},set:function(o){this.currentConfig.detune=o,!this.manager.isLocked(this,h.DETUNE,o)&&(this.calculateRate(),this.emit(h.DETUNE,this,o))}},setDetune:function(o){return this.detune=o,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(o){this.manager.isLocked(this,"seek",o)||this.startTime>0||(this.isPlaying||this.isPaused)&&(o=Math.min(Math.max(0,o),this.duration),this.isPlaying?(this.previousTime=o,this.audio.currentTime=o):this.isPaused&&(this.currentConfig.seek=o),this.emit(h.SEEK,this,o))}},setSeek:function(o){return this.seek=o,this},loop:{get:function(){return this.currentConfig.loop},set:function(o){this.currentConfig.loop=o,!this.manager.isLocked(this,"loop",o)&&(this.audio&&(this.audio.loop=o),this.emit(h.LOOP,this,o))}},setLoop:function(o){return this.loop=o,this},pan:{get:function(){return this.currentConfig.pan},set:function(o){this.currentConfig.pan=o,this.emit(h.PAN,this,o)}},setPan:function(o){return this.pan=o,this}});s.exports=l}),33684:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(85034),v=r(83419),h=r(14463),u=r(64895),l=new v({Extends:a,initialize:function(d){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,a.call(this,d)},add:function(o,d){var p=new u(this,o,d);return this.sounds.push(p),p},unlock:function(){this.locked=!1;var o=this;if(this.game.cache.audio.entries.each(function(y,w){for(var x=0;x<w.length;x++)if(w[x].dataset.locked==="true")return o.locked=!0,!1;return!0}),!!this.locked){var d=!1,p=function(){d=!0},f=function(){if(d){d=!1;return}document.body.removeEventListener("touchmove",p),document.body.removeEventListener("touchend",f);var y=[];if(o.game.cache.audio.entries.each(function(x,b){for(var E=0;E<b.length;E++){var C=b[E];C.dataset.locked==="true"&&y.push(C)}return!0}),y.length!==0){var w=y[y.length-1];w.oncanplaythrough=function(){w.oncanplaythrough=null,y.forEach(function(x){x.dataset.locked="false"}),o.unlocked=!0},y.forEach(function(x){x.load()})}};this.once(h.UNLOCKED,function(){for(this.forEachActiveSound(function(w){w.currentMarker===null&&w.duration===0&&(w.duration=w.tags[0].duration),w.totalDuration=w.tags[0].duration});this.lockedActionsQueue.length;){var y=this.lockedActionsQueue.shift();y.sound[y.prop].apply?y.sound[y.prop].apply(y.sound,y.value||[]):y.sound[y.prop]=y.value}},this),document.body.addEventListener("touchmove",p,!1),document.body.addEventListener("touchend",f,!1)}},onBlur:function(){this.forEachActiveSound(function(o){o.isPlaying&&(this.onBlurPausedSounds.push(o),o.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(o){o.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){a.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(o,d,p){return o.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:o,prop:d,value:p}),!0):!1},setMute:function(o){return this.mute=o,this},mute:{get:function(){return this._mute},set:function(o){this._mute=o,this.forEachActiveSound(function(d){d.updateMute()}),this.emit(h.GLOBAL_MUTE,this,o)}},setVolume:function(o){return this.volume=o,this},volume:{get:function(){return this._volume},set:function(o){this._volume=o,this.forEachActiveSound(function(d){d.updateVolume()}),this.emit(h.GLOBAL_VOLUME,this,o)}}});s.exports=l}),23717:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={SoundManagerCreator:r(14747),Events:r(14463),BaseSound:r(30341),BaseSoundManager:r(85034),WebAudioSound:r(71741),WebAudioSoundManager:r(57490),HTML5AudioSound:r(64895),HTML5AudioSoundManager:r(33684),NoAudioSound:r(4603),NoAudioSoundManager:r(25960)}}),4603:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(30341),v=r(83419),h=r(50792),u=r(79291),l=r(29747),o=function(){return!1},d=function(){return null},p=function(){return this},f=new v({Extends:h,initialize:function(w,x,b){b===void 0&&(b={}),h.call(this),this.manager=w,this.key=x,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=u({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},b),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:o,updateMarker:o,removeMarker:d,play:o,pause:o,resume:o,stop:o,setMute:p,setVolume:p,setRate:p,setDetune:p,setSeek:p,setLoop:p,setPan:p,applyConfig:d,resetConfig:d,update:l,calculateRate:d,destroy:function(){a.prototype.destroy.call(this)}});s.exports=f}),25960:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(85034),v=r(83419),h=r(50792),u=r(4603),l=r(29747),o=new v({Extends:h,initialize:function(p){h.call(this),this.game=p,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(d,p){var f=new u(this,d,p);return this.sounds.push(f),f},addAudioSprite:function(d,p){var f=this.add(d,p);return f.spritemap={},f},get:function(d){return a.prototype.get.call(this,d)},getAll:function(d){return a.prototype.getAll.call(this,d)},play:function(d,p){return!1},playAudioSprite:function(d,p,f){return!1},remove:function(d){return a.prototype.remove.call(this,d)},removeAll:function(){return a.prototype.removeAll.call(this)},removeByKey:function(d){return a.prototype.removeByKey.call(this,d)},stopByKey:function(d){return a.prototype.stopByKey.call(this,d)},onBlur:l,onFocus:l,onGameBlur:l,onGameFocus:l,pauseAll:l,resumeAll:l,stopAll:l,update:l,setRate:l,setDetune:l,setMute:l,setVolume:l,unlock:l,forEachActiveSound:function(d,p){a.prototype.forEachActiveSound.call(this,d,p)},destroy:function(){a.prototype.destroy.call(this)}});s.exports=o}),71741:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(30341),v=r(83419),h=r(14463),u=r(95540),l=new v({Extends:a,initialize:function(d,p,f){if(f===void 0&&(f={}),this.audioBuffer=d.game.cache.audio.get(p),!this.audioBuffer)throw new Error('Audio key "'+p+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=d.context.createGain(),this.volumeNode=d.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),d.context.createPanner&&(this.spatialNode=d.context.createPanner(),this.volumeNode.connect(this.spatialNode)),d.context.createStereoPanner?(this.pannerNode=d.context.createStereoPanner(),d.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(d.destination)):d.context.createPanner?this.spatialNode.connect(d.destination):this.volumeNode.connect(d.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,a.call(this,d,p,f)},play:function(o,d){return a.prototype.play.call(this,o,d)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(h.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!a.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(h.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!a.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(h.RESUME,this),!0)},stop:function(){return a.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(h.STOP,this),!0):!1},createAndStartBufferSource:function(){var o=this.currentConfig.seek,d=this.currentConfig.delay,p=this.manager.context.currentTime+d,f=(this.currentMarker?this.currentMarker.start:0)+o,y=this.duration-o;this.playTime=p-o,this.startTime=p,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,p),Math.max(0,f),Math.max(0,y)),this.resetConfig()},createAndStartLoopBufferSource:function(){var o=this.getLoopTime(),d=this.currentMarker?this.currentMarker.start:0,p=this.duration;this.loopTime=o,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,o),Math.max(0,d),Math.max(0,p))},createBufferSource:function(){var o=this,d=this.manager.context.createBufferSource();return d.buffer=this.audioBuffer,d.connect(this.muteNode),d.onended=function(p){var f=p.target;(f===o.source||f===o.loopSource)&&(o.currentConfig.loop?o.hasLooped=!0:o.hasEnded=!0)},d},stopAndRemoveBufferSource:function(){if(this.source){var o=this.source;this.source=null,o.stop(),o.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var o=this.currentConfig.source;if(o&&this.manager.context.createPanner){var d=this.spatialNode;d.panningModel=u(o,"panningModel","equalpower"),d.distanceModel=u(o,"distanceModel","inverse"),d.orientationX.value=u(o,"orientationX",0),d.orientationY.value=u(o,"orientationY",0),d.orientationZ.value=u(o,"orientationZ",-1),d.refDistance=u(o,"refDistance",1),d.maxDistance=u(o,"maxDistance",1e4),d.rolloffFactor=u(o,"rolloffFactor",1),d.coneInnerAngle=u(o,"coneInnerAngle",360),d.coneOuterAngle=u(o,"coneOuterAngle",0),d.coneOuterGain=u(o,"coneOuterGain",0),this.spatialSource=u(o,"follow",null),this.spatialSource||(d.positionX.value=u(o,"x",0),d.positionY.value=u(o,"y",0),d.positionZ.value=u(o,"z",0))}a.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(o){this.spatialNode&&(this.spatialNode.positionX.value=o)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(o){this.spatialNode&&(this.spatialNode.positionY.value=o)}},update:function(){if(this.isPlaying&&this.spatialSource){var o=u(this.spatialSource,"x",null),d=u(this.spatialSource,"y",null);o&&o!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=o),d&&d!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=d)}this.hasEnded?(a.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(h.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(h.LOOPED,this))},destroy:function(){this.pendingRemove||(a.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){a.prototype.calculateRate.call(this);var o=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,o),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,o)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var o=0,d=0;d<this.rateUpdates.length;d++){var p=0;d<this.rateUpdates.length-1?p=this.rateUpdates[d+1].time:p=this.manager.context.currentTime-this.playTime,o+=(p-this.rateUpdates[d].time)*this.rateUpdates[d].rate}return o},getLoopTime:function(){for(var o=0,d=0;d<this.rateUpdates.length-1;d++)o+=(this.rateUpdates[d+1].time-this.rateUpdates[d].time)*this.rateUpdates[d].rate;var p=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+p.time+(this.duration-o)/p.rate},rate:{get:function(){return this.currentConfig.rate},set:function(o){this.currentConfig.rate=o,this.calculateRate(),this.emit(h.RATE,this,o)}},setRate:function(o){return this.rate=o,this},detune:{get:function(){return this.currentConfig.detune},set:function(o){this.currentConfig.detune=o,this.calculateRate(),this.emit(h.DETUNE,this,o)}},setDetune:function(o){return this.detune=o,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(o){this.currentConfig.mute=o,this.muteNode.gain.setValueAtTime(o?0:1,0),this.emit(h.MUTE,this,o)}},setMute:function(o){return this.mute=o,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(o){this.currentConfig.volume=o,this.volumeNode.gain.setValueAtTime(o,0),this.emit(h.VOLUME,this,o)}},setVolume:function(o){return this.volume=o,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(o){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(o=Math.min(Math.max(0,o),this.duration),this.currentConfig.seek=o,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(h.SEEK,this,o))}},setSeek:function(o){return this.seek=o,this},loop:{get:function(){return this.currentConfig.loop},set:function(o){this.currentConfig.loop=o,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),o&&this.createAndStartLoopBufferSource()),this.emit(h.LOOP,this,o)}},setLoop:function(o){return this.loop=o,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(o){this.currentConfig.pan=o,this.pannerNode&&this.pannerNode.pan.setValueAtTime(o,this.manager.context.currentTime),this.emit(h.PAN,this,o)}},setPan:function(o){return this.pan=o,this}});s.exports=l}),57490:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(53134),v=r(85034),h=r(83419),u=r(14463),l=r(8443),o=r(71741),d=r(95540),p=new h({Extends:v,initialize:function(y){this.context=this.createAudioContext(y),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended",v.call(this,y),this.locked&&(y.isBooted?this.unlock():y.events.once(l.BOOT,this.unlock,this)),y.events.on(l.VISIBLE,this.onGameVisible,this)},onGameVisible:function(){var f=this.context;window.setTimeout(function(){f&&(f.suspend(),f.resume())},100)},createAudioContext:function(f){var y=f.config.audio;if(y.context)return y.context.resume(),y.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(f){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=f,this.masterMuteNode=f.createGain(),this.masterVolumeNode=f.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(f.destination),this.destination=this.masterMuteNode,this},add:function(f,y){var w=new o(this,f,y);return this.sounds.push(w),w},decodeAudio:function(f,y){var w;Array.isArray(f)?w=f:w=[{key:f,data:y}];for(var x=this.game.cache.audio,b=w.length,E=0;E<w.length;E++){var C=w[E],T=C.key,S=C.data;typeof S=="string"&&(S=a(S));var A=(function(R,L){x.add(R,L),this.emit(u.DECODED,R),b--,b===0&&this.emit(u.DECODED_ALL)}).bind(this,T),P=(function(R,L){console.error("Error decoding audio: "+R+" - ",L?L.message:""),b--,b===0&&this.emit(u.DECODED_ALL)}).bind(this,T);this.context.decodeAudioData(S,A,P)}},setListenerPosition:function(f,y){return f===void 0&&(f=this.game.scale.width/2),y===void 0&&(y=this.game.scale.height/2),this.listenerPosition.set(f,y),this},unlock:function(){var f=this,y=document.body,w=function x(){if(f.context&&y){var b=y.removeEventListener.bind(y);f.context.resume().then(function(){b("touchstart",x),b("touchend",x),b("mousedown",x),b("mouseup",x),b("keydown",x),f.unlocked=!0},function(){b("touchstart",x),b("touchend",x),b("mousedown",x),b("mouseup",x),b("keydown",x)})}};y&&(y.addEventListener("touchstart",w,!1),y.addEventListener("touchend",w,!1),y.addEventListener("mousedown",w,!1),y.addEventListener("mouseup",w,!1),y.addEventListener("keydown",w,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var f=this.context;f&&!this.locked&&(f.state==="suspended"||f.state==="interrupted")&&f.resume()},update:function(f,y){var w=this.context.listener,x=d(this.listenerPosition,"x",null),b=d(this.listenerPosition,"y",null);if(w&&w.positionX!==void 0)x&&x!==this._spatialx&&(this._spatialx=w.positionX.value=x),b&&b!==this._spatialy&&(this._spatialy=w.positionY.value=b);else if(w){x&&x!==this._spatialx&&(this._spatialx=x),b&&b!==this._spatialy&&(this._spatialy=b);var E=d(w,"z",0);w.setPosition(this._spatialx||0,this._spatialy||0,E)}v.prototype.update.call(this,f,y),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var f=this;this.context.close().then(function(){f.context=null})}this.game.events.off(l.VISIBLE,this.onGameVisible,this),v.prototype.destroy.call(this)},setMute:function(f){return this.mute=f,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(f){this.masterMuteNode.gain.setValueAtTime(f?0:1,0),this.emit(u.GLOBAL_MUTE,this,f)}},setVolume:function(f){return this.volume=f,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(f){this.masterVolumeNode.gain.setValueAtTime(f,0),this.emit(u.GLOBAL_VOLUME,this,f)}}});s.exports=p}),73162:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(37105),v=r(83419),h=r(29747),u=r(19186),l=new v({initialize:function(d){this.parent=d,this.list=[],this.position=0,this.addCallback=h,this.removeCallback=h,this._sortKey=""},add:function(o,d){return d?a.Add(this.list,o):a.Add(this.list,o,0,this.addCallback,this)},addAt:function(o,d,p){return p?a.AddAt(this.list,o,d):a.AddAt(this.list,o,d,0,this.addCallback,this)},getAt:function(o){return this.list[o]},getIndex:function(o){return this.list.indexOf(o)},sort:function(o,d){return o?(d===void 0&&(d=function(p,f){return p[o]-f[o]}),u(this.list,d),this):this},getByName:function(o){return a.GetFirst(this.list,"name",o)},getRandom:function(o,d){return a.GetRandom(this.list,o,d)},getFirst:function(o,d,p,f){return a.GetFirst(this.list,o,d,p,f)},getAll:function(o,d,p,f){return a.GetAll(this.list,o,d,p,f)},count:function(o,d){return a.CountAllMatching(this.list,o,d)},swap:function(o,d){a.Swap(this.list,o,d)},moveTo:function(o,d){return a.MoveTo(this.list,o,d)},moveAbove:function(o,d){return a.MoveAbove(this.list,o,d)},moveBelow:function(o,d){return a.MoveBelow(this.list,o,d)},remove:function(o,d){return d?a.Remove(this.list,o):a.Remove(this.list,o,this.removeCallback,this)},removeAt:function(o,d){return d?a.RemoveAt(this.list,o):a.RemoveAt(this.list,o,this.removeCallback,this)},removeBetween:function(o,d,p){return p?a.RemoveBetween(this.list,o,d):a.RemoveBetween(this.list,o,d,this.removeCallback,this)},removeAll:function(o){for(var d=this.list.length;d--;)this.remove(this.list[d],o);return this},bringToTop:function(o){return a.BringToTop(this.list,o)},sendToBack:function(o){return a.SendToBack(this.list,o)},moveUp:function(o){return a.MoveUp(this.list,o),o},moveDown:function(o){return a.MoveDown(this.list,o),o},reverse:function(){return this.list.reverse(),this},shuffle:function(){return a.Shuffle(this.list),this},replace:function(o,d){return a.Replace(this.list,o,d)},exists:function(o){return this.list.indexOf(o)>-1},setAll:function(o,d,p,f){return a.SetAll(this.list,o,d,p,f),this},each:function(o,d){for(var p=[null],f=2;f<arguments.length;f++)p.push(arguments[f]);for(f=0;f<this.list.length;f++)p[0]=this.list[f],o.apply(d,p)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});s.exports=l}),90330:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=new a({initialize:function(u){this.entries={},this.size=0,this.setAll(u)},setAll:function(h){if(Array.isArray(h))for(var u=0;u<h.length;u++)this.set(h[u][0],h[u][1]);return this},set:function(h,u){return this.has(h)||this.size++,this.entries[h]=u,this},get:function(h){if(this.has(h))return this.entries[h]},getArray:function(){var h=[],u=this.entries;for(var l in u)h.push(u[l]);return h},has:function(h){return this.entries.hasOwnProperty(h)},delete:function(h){return this.has(h)&&(delete this.entries[h],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(h){delete this.entries[h]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var h=[],u=this.entries;for(var l in u)h.push(u[l]);return h},dump:function(){var h=this.entries;console.group("Map");for(var u in h)console.log(u,h[u]);console.groupEnd()},each:function(h){var u=this.entries;for(var l in u)if(h(l,u[l])===!1)break;return this},contains:function(h){var u=this.entries;for(var l in u)if(u[l]===h)return!0;return!1},merge:function(h,u){u===void 0&&(u=!1);var l=this.entries,o=h.entries;for(var d in o)l.hasOwnProperty(d)&&u?l[d]=o[d]:this.set(d,o[d]);return this}});s.exports=v}),25774:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(50792),h=r(82348),u=new a({Extends:v,initialize:function(){v.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(l){return this._active.indexOf(l)>-1},isPending:function(l){return this._toProcess>0&&this._pending.indexOf(l)>-1},isDestroying:function(l){return this._destroy.indexOf(l)>-1},add:function(l){return this.checkQueue&&this.isActive(l)&&!this.isDestroying(l)||this.isPending(l)||(this._pending.push(l),this._toProcess++),l},remove:function(l){if(this.isPending(l)){var o=this._pending,d=o.indexOf(l);d!==-1&&o.splice(d,1)}else this.isActive(l)&&(this._destroy.push(l),this._toProcess++);return l},removeAll:function(){for(var l=this._active,o=this._destroy,d=l.length;d--;)o.push(l[d]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var l=this._destroy,o=this._active,d,p;for(d=0;d<l.length;d++){p=l[d];var f=o.indexOf(p);f!==-1&&(o.splice(f,1),this.emit(h.PROCESS_QUEUE_REMOVE,p))}for(l.length=0,l=this._pending,d=0;d<l.length;d++)p=l[d],(!this.checkQueue||this.checkQueue&&o.indexOf(p)===-1)&&(o.push(p),this.emit(h.PROCESS_QUEUE_ADD,p));return l.length=0,this._toProcess=0,o},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});s.exports=u}),59542:((s,g,r)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(43886);function v(S){if(!(this instanceof v))return new v(S);this._maxEntries=Math.max(4,S||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}v.prototype={all:function(){return this._all(this.data,[])},search:function(S){var A=this.data,P=[],R=this.toBBox;if(!E(S,A))return P;for(var L=[],D,$,F,N;A;){for(D=0,$=A.children.length;D<$;D++)F=A.children[D],N=A.leaf?R(F):F,E(S,N)&&(A.leaf?P.push(F):b(S,N)?this._all(F,P):L.push(F));A=L.pop()}return P},collides:function(S){var A=this.data,P=this.toBBox;if(!E(S,A))return!1;for(var R=[],L,D,$,F;A;){for(L=0,D=A.children.length;L<D;L++)if($=A.children[L],F=A.leaf?P($):$,E(S,F)){if(A.leaf||b(S,F))return!0;R.push($)}A=R.pop()}return!1},load:function(S){if(!(S&&S.length))return this;if(S.length<this._minEntries){for(var A=0,P=S.length;A<P;A++)this.insert(S[A]);return this}var R=this._build(S.slice(),0,S.length-1,0);if(!this.data.children.length)this.data=R;else if(this.data.height===R.height)this._splitRoot(this.data,R);else{if(this.data.height<R.height){var L=this.data;this.data=R,R=L}this._insert(R,this.data.height-R.height-1,!0)}return this},insert:function(S){return S&&this._insert(S,this.data.height-1),this},clear:function(){return this.data=C([]),this},remove:function(S,A){if(!S)return this;for(var P=this.data,R=this.toBBox(S),L=[],D=[],$,F,N,k;P||L.length;){if(P||(P=L.pop(),F=L[L.length-1],$=D.pop(),k=!0),P.leaf&&(N=h(S,P.children,A),N!==-1))return P.children.splice(N,1),L.push(P),this._condense(L),this;!k&&!P.leaf&&b(P,R)?(L.push(P),D.push($),$=0,F=P,P=P.children[0]):F?($++,P=F.children[$],k=!1):P=null}return this},toBBox:function(S){return S},compareMinX:d,compareMinY:p,toJSON:function(){return this.data},fromJSON:function(S){return this.data=S,this},_all:function(S,A){for(var P=[];S;)S.leaf?A.push.apply(A,S.children):P.push.apply(P,S.children),S=P.pop();return A},_build:function(S,A,P,R){var L=P-A+1,D=this._maxEntries,$;if(L<=D)return $=C(S.slice(A,P+1)),u($,this.toBBox),$;R||(R=Math.ceil(Math.log(L)/Math.log(D)),D=Math.ceil(L/Math.pow(D,R-1))),$=C([]),$.leaf=!1,$.height=R;var F=Math.ceil(L/D),N=F*Math.ceil(Math.sqrt(D)),k,j,W,G;for(T(S,A,P,N,this.compareMinX),k=A;k<=P;k+=N)for(W=Math.min(k+N-1,P),T(S,k,W,F,this.compareMinY),j=k;j<=W;j+=F)G=Math.min(j+F-1,W),$.children.push(this._build(S,j,G,R-1));return u($,this.toBBox),$},_chooseSubtree:function(S,A,P,R){for(var L,D,$,F,N,k,j,W;R.push(A),!(A.leaf||R.length-1===P);){for(j=W=1/0,L=0,D=A.children.length;L<D;L++)$=A.children[L],N=f($),k=w(S,$)-N,k<W?(W=k,j=N<j?N:j,F=$):k===W&&N<j&&(j=N,F=$);A=F||A.children[0]}return A},_insert:function(S,A,P){var R=this.toBBox,L=P?S:R(S),D=[],$=this._chooseSubtree(L,this.data,A,D);for($.children.push(S),o($,L);A>=0&&D[A].children.length>this._maxEntries;)this._split(D,A),A--;this._adjustParentBBoxes(L,D,A)},_split:function(S,A){var P=S[A],R=P.children.length,L=this._minEntries;this._chooseSplitAxis(P,L,R);var D=this._chooseSplitIndex(P,L,R),$=C(P.children.splice(D,P.children.length-D));$.height=P.height,$.leaf=P.leaf,u(P,this.toBBox),u($,this.toBBox),A?S[A-1].children.push($):this._splitRoot(P,$)},_splitRoot:function(S,A){this.data=C([S,A]),this.data.height=S.height+1,this.data.leaf=!1,u(this.data,this.toBBox)},_chooseSplitIndex:function(S,A,P){var R,L,D,$,F,N,k,j;for(N=k=1/0,R=A;R<=P-A;R++)L=l(S,0,R,this.toBBox),D=l(S,R,P,this.toBBox),$=x(L,D),F=f(L)+f(D),$<N?(N=$,j=R,k=F<k?F:k):$===N&&F<k&&(k=F,j=R);return j},_chooseSplitAxis:function(S,A,P){var R=S.leaf?this.compareMinX:d,L=S.leaf?this.compareMinY:p,D=this._allDistMargin(S,A,P,R),$=this._allDistMargin(S,A,P,L);D<$&&S.children.sort(R)},_allDistMargin:function(S,A,P,R){S.children.sort(R);var L=this.toBBox,D=l(S,0,A,L),$=l(S,P-A,P,L),F=y(D)+y($),N,k;for(N=A;N<P-A;N++)k=S.children[N],o(D,S.leaf?L(k):k),F+=y(D);for(N=P-A-1;N>=A;N--)k=S.children[N],o($,S.leaf?L(k):k),F+=y($);return F},_adjustParentBBoxes:function(S,A,P){for(var R=P;R>=0;R--)o(A[R],S)},_condense:function(S){for(var A=S.length-1,P;A>=0;A--)S[A].children.length===0?A>0?(P=S[A-1].children,P.splice(P.indexOf(S[A]),1)):this.clear():u(S[A],this.toBBox)},compareMinX:function(S,A){return S.left-A.left},compareMinY:function(S,A){return S.top-A.top},toBBox:function(S){return{minX:S.left,minY:S.top,maxX:S.right,maxY:S.bottom}}};function h(S,A,P){if(!P)return A.indexOf(S);for(var R=0;R<A.length;R++)if(P(S,A[R]))return R;return-1}function u(S,A){l(S,0,S.children.length,A,S)}function l(S,A,P,R,L){L||(L=C(null)),L.minX=1/0,L.minY=1/0,L.maxX=-1/0,L.maxY=-1/0;for(var D=A,$;D<P;D++)$=S.children[D],o(L,S.leaf?R($):$);return L}function o(S,A){return S.minX=Math.min(S.minX,A.minX),S.minY=Math.min(S.minY,A.minY),S.maxX=Math.max(S.maxX,A.maxX),S.maxY=Math.max(S.maxY,A.maxY),S}function d(S,A){return S.minX-A.minX}function p(S,A){return S.minY-A.minY}function f(S){return(S.maxX-S.minX)*(S.maxY-S.minY)}function y(S){return S.maxX-S.minX+(S.maxY-S.minY)}function w(S,A){return(Math.max(A.maxX,S.maxX)-Math.min(A.minX,S.minX))*(Math.max(A.maxY,S.maxY)-Math.min(A.minY,S.minY))}function x(S,A){var P=Math.max(S.minX,A.minX),R=Math.max(S.minY,A.minY),L=Math.min(S.maxX,A.maxX),D=Math.min(S.maxY,A.maxY);return Math.max(0,L-P)*Math.max(0,D-R)}function b(S,A){return S.minX<=A.minX&&S.minY<=A.minY&&A.maxX<=S.maxX&&A.maxY<=S.maxY}function E(S,A){return A.minX<=S.maxX&&A.minY<=S.maxY&&A.maxX>=S.minX&&A.maxY>=S.minY}function C(S){return{children:S,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function T(S,A,P,R,L){for(var D=[A,P],$;D.length;)P=D.pop(),A=D.pop(),!(P-A<=R)&&($=A+Math.ceil((P-A)/R/2)*R,a(S,$,A,P,L),D.push(A,$,$,P))}s.exports=v}),35072:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=new a({initialize:function(u){if(this.entries=[],Array.isArray(u))for(var l=0;l<u.length;l++)this.set(u[l])},set:function(h){return this.entries.indexOf(h)===-1&&this.entries.push(h),this},get:function(h,u){for(var l=0;l<this.entries.length;l++){var o=this.entries[l];if(o[h]===u)return o}},getArray:function(){return this.entries.slice(0)},delete:function(h){var u=this.entries.indexOf(h);return u>-1&&this.entries.splice(u,1),this},dump:function(){console.group("Set");for(var h=0;h<this.entries.length;h++){var u=this.entries[h];console.log(u)}console.groupEnd()},each:function(h,u){var l,o=this.entries.slice(),d=o.length;if(u)for(l=0;l<d&&h.call(u,o[l],l)!==!1;l++);else for(l=0;l<d&&h(o[l],l)!==!1;l++);return this},iterate:function(h,u){var l,o=this.entries.length;if(u)for(l=0;l<o&&h.call(u,this.entries[l],l)!==!1;l++);else for(l=0;l<o&&h(this.entries[l],l)!==!1;l++);return this},iterateLocal:function(h){var u,l=[];for(u=1;u<arguments.length;u++)l.push(arguments[u]);var o=this.entries.length;for(u=0;u<o;u++){var d=this.entries[u];d[h].apply(d,l)}return this},clear:function(){return this.entries.length=0,this},contains:function(h){return this.entries.indexOf(h)>-1},union:function(h){var u=new v;return h.entries.forEach(function(l){u.set(l)}),this.entries.forEach(function(l){u.set(l)}),u},intersect:function(h){var u=new v;return this.entries.forEach(function(l){h.contains(l)&&u.set(l)}),u},difference:function(h){var u=new v;return this.entries.forEach(function(l){h.contains(l)||u.set(l)}),u},size:{get:function(){return this.entries.length},set:function(h){return h<this.entries.length?this.entries.length=h:this.entries.length}}});s.exports=v}),86555:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(45319),v=r(83419),h=r(56583),u=r(26099),l=new v({initialize:function(d,p,f,y){d===void 0&&(d=0),p===void 0&&(p=d),f===void 0&&(f=0),y===void 0&&(y=null),this._width=d,this._height=p,this._parent=y,this.aspectMode=f,this.aspectRatio=p===0?1:d/p,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new u},setAspectMode:function(o){return o===void 0&&(o=0),this.aspectMode=o,this.setSize(this._width,this._height)},setSnap:function(o,d){return o===void 0&&(o=0),d===void 0&&(d=o),this.snapTo.set(o,d),this.setSize(this._width,this._height)},setParent:function(o){return this._parent=o,this.setSize(this._width,this._height)},setMin:function(o,d){return o===void 0&&(o=0),d===void 0&&(d=o),this.minWidth=a(o,0,this.maxWidth),this.minHeight=a(d,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(o,d){return o===void 0&&(o=Number.MAX_VALUE),d===void 0&&(d=o),this.maxWidth=a(o,this.minWidth,Number.MAX_VALUE),this.maxHeight=a(d,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(o,d){switch(o===void 0&&(o=0),d===void 0&&(d=o),this.aspectMode){case l.NONE:this._width=this.getNewWidth(h(o,this.snapTo.x)),this._height=this.getNewHeight(h(d,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case l.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(h(o,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case l.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(h(d,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case l.FIT:this.constrain(o,d,!0);break;case l.ENVELOP:this.constrain(o,d,!1);break}return this},setAspectRatio:function(o){return this.aspectRatio=o,this.setSize(this._width,this._height)},resize:function(o,d){return this._width=this.getNewWidth(h(o,this.snapTo.x)),this._height=this.getNewHeight(h(d,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(o,d){return d===void 0&&(d=!0),o=a(o,this.minWidth,this.maxWidth),d&&this._parent&&o>this._parent.width&&(o=Math.max(this.minWidth,this._parent.width)),o},getNewHeight:function(o,d){return d===void 0&&(d=!0),o=a(o,this.minHeight,this.maxHeight),d&&this._parent&&o>this._parent.height&&(o=Math.max(this.minHeight,this._parent.height)),o},constrain:function(o,d,p){o===void 0&&(o=0),d===void 0&&(d=o),p===void 0&&(p=!0),o=this.getNewWidth(o),d=this.getNewHeight(d);var f=this.snapTo,y=d===0?1:o/d;return p&&this.aspectRatio>y||!p&&this.aspectRatio<y?(o=h(o,f.x),d=o/this.aspectRatio,f.y>0&&(d=h(d,f.y),o=d*this.aspectRatio)):(p&&this.aspectRatio<y||!p&&this.aspectRatio>y)&&(d=h(d,f.y),o=d*this.aspectRatio,f.x>0&&(o=h(o,f.x),d=o*(1/this.aspectRatio))),this._width=o,this._height=d,this},fitTo:function(o,d){return this.constrain(o,d,!0)},envelop:function(o,d){return this.constrain(o,d,!1)},setWidth:function(o){return this.setSize(o,this._height)},setHeight:function(o){return this.setSize(this._width,o)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(o){o&&o.style&&(o.style.width=this._width+"px",o.style.height=this._height+"px")},copy:function(o){return o.setAspectMode(this.aspectMode),o.aspectRatio=this.aspectRatio,o.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(o){this.setSize(o,this._height)}},height:{get:function(){return this._height},set:function(o){this.setSize(this._width,o)}}});l.NONE=0,l.WIDTH_CONTROLS_HEIGHT=1,l.HEIGHT_CONTROLS_WIDTH=2,l.FIT=3,l.ENVELOP=4,s.exports=l}),15238:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="add"}),56187:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="remove"}),82348:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={PROCESS_QUEUE_ADD:r(15238),PROCESS_QUEUE_REMOVE:r(56187)}}),41392:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Events:r(82348),List:r(73162),Map:r(90330),ProcessQueue:r(25774),RTree:r(59542),Set:r(35072),Size:r(86555)}}),57382:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(45319),h=r(40987),u=r(8054),l=r(50030),o=r(79237),d=new a({Extends:o,initialize:function(f,y,w,x,b){o.call(this,f,y,w,x,b),this.add("__BASE",0,0,0,x,b),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=x,this.height=b,this.imageData=this.context.getImageData(0,0,x,b),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===u.WEBGL&&this.refresh(),this},draw:function(p,f,y,w){return w===void 0&&(w=!0),this.context.drawImage(y,p,f),w&&this.update(),this},drawFrame:function(p,f,y,w,x){y===void 0&&(y=0),w===void 0&&(w=0),x===void 0&&(x=!0);var b=this.manager.getFrame(p,f);if(b){var E=b.canvasData,C=b.cutWidth,T=b.cutHeight,S=b.source.resolution;this.context.drawImage(b.source.image,E.x,E.y,C,T,y,w,C/S,T/S),x&&this.update()}return this},setPixel:function(p,f,y,w,x,b){b===void 0&&(b=255),p=Math.abs(Math.floor(p)),f=Math.abs(Math.floor(f));var E=this.getIndex(p,f);if(E>-1){var C=this.context.getImageData(p,f,1,1);C.data[0]=y,C.data[1]=w,C.data[2]=x,C.data[3]=b,this.context.putImageData(C,p,f)}return this},putData:function(p,f,y,w,x,b,E){return w===void 0&&(w=0),x===void 0&&(x=0),b===void 0&&(b=p.width),E===void 0&&(E=p.height),this.context.putImageData(p,f,y,w,x,b,E),this},getData:function(p,f,y,w){p=v(Math.floor(p),0,this.width-1),f=v(Math.floor(f),0,this.height-1),y=v(y,1,this.width-p),w=v(w,1,this.height-f);var x=this.context.getImageData(p,f,y,w);return x},getPixel:function(p,f,y){y||(y=new h);var w=this.getIndex(p,f);if(w>-1){var x=this.data,b=x[w+0],E=x[w+1],C=x[w+2],T=x[w+3];y.setTo(b,E,C,T)}return y},getPixels:function(p,f,y,w){p===void 0&&(p=0),f===void 0&&(f=0),y===void 0&&(y=this.width),w===void 0&&(w=y),p=Math.abs(Math.round(p)),f=Math.abs(Math.round(f));for(var x=v(p,0,this.width),b=v(p+y,0,this.width),E=v(f,0,this.height),C=v(f+w,0,this.height),T=new h,S=[],A=E;A<C;A++){for(var P=[],R=x;R<b;R++)T=this.getPixel(R,A,T),P.push({x:R,y:A,color:T.color,alpha:T.alphaGL});S.push(P)}return S},getIndex:function(p,f){return p=Math.abs(Math.round(p)),f=Math.abs(Math.round(f)),p<this.width&&f<this.height?(p+f*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(p,f,y,w,x){return p===void 0&&(p=0),f===void 0&&(f=0),y===void 0&&(y=this.width),w===void 0&&(w=this.height),x===void 0&&(x=!0),this.context.clearRect(p,f,y,w),x&&this.update(),this},setSize:function(p,f){return f===void 0&&(f=p),(p!==this.width||f!==this.height)&&(this.canvas.width=p,this.canvas.height=f,this._source.width=p,this._source.height=f,this._source.isPowerOf2=l(p,f),this.frames.__BASE.setSize(p,f,0,0),this.width=p,this.height=f,this.refresh()),this},destroy:function(){o.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});s.exports=d}),81320:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(10312),v=r(38058),h=r(27919),u=r(83419),l=r(8054),o=r(4327),d=r(95540),p=r(36060),f=r(32302),y=r(79237),w=r(70554),x=new u({Extends:y,initialize:function(E,C,T,S,A){T===void 0&&(T=256),S===void 0&&(S=256),A===void 0&&(A=!0),this.type="DynamicTexture";var P=E.game.renderer,R=P&&P.type===l.CANVAS,L=R?h.create2D(this,T,S):[this];y.call(this,E,C,L,T,S),this.add("__BASE",0,0,0,T,S),this.renderer=P,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=R?L:null,this.context=R?L.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new v(0,0,T,S).setScene(E.game.scene.systemScene,!1),this.renderTarget=R?null:new f(P,T,S,1,0,!1,!1,!0,!1),this.pipeline=R?null:P.pipelines.get(p.SINGLE_PIPELINE),this.setSize(T,S,A)},setSize:function(b,E,C){E===void 0&&(E=b),C===void 0&&(C=!0),C&&(b=Math.floor(b),E=Math.floor(E),b%2!==0&&b++,E%2!==0&&E++);var T=this.get(),S=T.source;if(b!==this.width||E!==this.height){this.canvas&&(this.canvas.width=b,this.canvas.height=E);var A=this.renderTarget;A&&(A.willResize(b,E)&&A.resize(b,E),A.texture!==S.glTexture&&this.renderer.deleteTexture(S.glTexture),this.setFromRenderTarget()),this.camera.setSize(b,E),S.width=b,S.height=E,T.setSize(b,E),this.width=b,this.height=E}else{var P=this.getSourceImage();T.cutX+b>P.width&&(b=P.width-T.cutX),T.cutY+E>P.height&&(E=P.height-T.cutY),T.setSize(b,E,T.cutX,T.cutY)}return this},setFromRenderTarget:function(){var b=this.get(),E=b.source,C=this.renderTarget;return E.isRenderTexture=!0,E.isGLTexture=!0,E.glTexture=C.texture,this},setIsSpriteTexture:function(b){return this.isSpriteTexture=b,this},fill:function(b,E,C,T,S,A){var P=this.camera,R=this.renderer;E===void 0&&(E=1),C===void 0&&(C=0),T===void 0&&(T=0),S===void 0&&(S=this.width),A===void 0&&(A=this.height);var L=b>>16&255,D=b>>8&255,$=b&255,F=this.renderTarget;if(P.preRender(),F){F.bind(!0);var N=this.pipeline.manager.set(this.pipeline),k=R.width/F.width,j=R.height/F.height,W=F.height-(T+A);N.drawFillRect(C*k,W*j,S*k,A*j,w.getTintFromFloats($/255,D/255,L/255,1),E),F.unbind(!0)}else{var G=this.context;R.setContext(G),G.globalCompositeOperation="source-over",G.fillStyle="rgba("+L+","+D+","+$+","+E+")",G.fillRect(C,T,S,A),R.setContext()}return this.dirty=!0,this},clear:function(b,E,C,T){if(this.dirty){var S=this.context,A=this.renderTarget;A?A.clear(b,E,C,T):S&&(b!==void 0&&E!==void 0&&C!==void 0&&T!==void 0?S.clearRect(b,E,C,T):(S.save(),S.setTransform(1,0,0,1,0,0),S.clearRect(0,0,this.width,this.height),S.restore())),this.dirty=!1}return this},stamp:function(b,E,C,T,S){C===void 0&&(C=0),T===void 0&&(T=0);var A=d(S,"alpha",1),P=d(S,"tint",16777215),R=d(S,"angle",0),L=d(S,"rotation",0),D=d(S,"scale",1),$=d(S,"scaleX",D),F=d(S,"scaleY",D),N=d(S,"originX",.5),k=d(S,"originY",.5),j=d(S,"blendMode",0),W=d(S,"erase",!1),G=d(S,"skipBatch",!1),K=this.manager.resetStamp(A,P);return K.setAngle(0),R!==0?K.setAngle(R):L!==0&&K.setRotation(L),K.setScale($,F),K.setTexture(b,E),K.setOrigin(N,k),K.setBlendMode(j),W&&(this._eraseMode=!0),G?this.batchGameObject(K,C,T):this.draw(K,C,T),W&&(this._eraseMode=!1),this},erase:function(b,E,C){return this._eraseMode=!0,this.draw(b,E,C),this._eraseMode=!1,this},draw:function(b,E,C,T,S){return this.beginDraw(),this.batchDraw(b,E,C,T,S),this.endDraw(),this},drawFrame:function(b,E,C,T,S,A){return this.beginDraw(),this.batchDrawFrame(b,E,C,T,S,A),this.endDraw(),this},repeat:function(b,E,C,T,S,A,P,R,L){if(C===void 0&&(C=0),T===void 0&&(T=0),S===void 0&&(S=this.width),A===void 0&&(A=this.height),P===void 0&&(P=1),R===void 0&&(R=16777215),L===void 0&&(L=!1),b instanceof o?E=b:E=this.manager.getFrame(b,E),!E)return this;var D=this.manager.resetStamp(P,R);D.setFrame(E),D.setOrigin(0);var $=E.width,F=E.height;S=Math.floor(S),A=Math.floor(A);var N=Math.ceil(S/$),k=Math.ceil(A/F),j=N*$-S,W=k*F-A;j>0&&(j=$-j),W>0&&(W=F-W),C<0&&(N+=Math.ceil(Math.abs(C)/$)),T<0&&(k+=Math.ceil(Math.abs(T)/F));var G=C,K=T,z=!1,X=this.manager.stampCrop.setTo(0,0,$,F);L||this.beginDraw();for(var U=0;U<k;U++){if(K+F<0){K+=F;continue}for(var Z=0;Z<N;Z++){if(z=!1,G+$<0){G+=$;continue}else G<0&&(z=!0,X.width=$+G,X.x=$-X.width);K<0&&(z=!0,X.height=F+K,X.y=F-X.height),j>0&&Z===N-1&&(z=!0,X.width=j),W>0&&U===k-1&&(z=!0,X.height=W),z&&D.setCrop(X),this.batchGameObject(D,G,K),D.isCropped=!1,X.setTo(0,0,$,F),G+=$}G=C,K+=F}return L||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var b=this.camera,E=this.renderer,C=this.renderTarget;b.preRender(),C?E.beginCapture(C.width,C.height):E.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(b,E,C,T,S){return Array.isArray(b)||(b=[b]),this.batchList(b,E,C,T,S),this},batchDrawFrame:function(b,E,C,T,S,A){C===void 0&&(C=0),T===void 0&&(T=0),S===void 0&&(S=1),A===void 0&&(A=16777215);var P=this.manager.getFrame(b,E);return P&&(this.renderTarget?this.pipeline.batchTextureFrame(P,C,T,A,S,this.camera.matrix,null):this.batchTextureFrame(P,C,T,S,A)),this},endDraw:function(b){if(b===void 0&&(b=this._eraseMode),this.isDrawing){var E=this.renderer,C=this.renderTarget;if(C){var T=E.endCapture(),S=E.pipelines.setUtility();S.blitFrame(T,C,1,!1,!1,b,this.isSpriteTexture),E.resetScissor(),E.resetViewport()}else E.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(b,E,C,T,S){var A=b.length;if(A!==0)for(var P=0;P<A;P++){var R=b[P];!R||R===this||(R.renderWebGL||R.renderCanvas?this.batchGameObject(R,E,C):R.isParent||R.list?this.batchGroup(R.getChildren(),E,C):typeof R=="string"?this.batchTextureFrameKey(R,null,E,C,T,S):R instanceof o?this.batchTextureFrame(R,E,C,T,S):Array.isArray(R)&&this.batchList(R,E,C,T,S))}},batchGroup:function(b,E,C){E===void 0&&(E=0),C===void 0&&(C=0);for(var T=0;T<b.length;T++){var S=b[T];S.willRender(this.camera)&&this.batchGameObject(S,S.x+E,S.y+C)}},batchGameObject:function(b,E,C){E===void 0&&(E=b.x),C===void 0&&(C=b.y);var T=b.x,S=b.y,A=this.camera,P=this.renderer,R=this._eraseMode,L=b.mask;if(b.setPosition(E,C),this.canvas){if(R){var D=b.blendMode;b.blendMode=a.ERASE}L&&L.preRenderCanvas(P,b,A),b.renderCanvas(P,b,A,null),L&&L.postRenderCanvas(P,b,A),R&&(b.blendMode=D)}else P&&(L&&L.preRenderWebGL(P,b,A),R||P.setBlendMode(b.blendMode),b.renderWebGL(P,b,A),L&&L.postRenderWebGL(P,A,this.renderTarget));b.setPosition(T,S)},batchTextureFrameKey:function(b,E,C,T,S,A){var P=this.manager.getFrame(b,E);P&&this.batchTextureFrame(P,C,T,S,A)},batchTextureFrame:function(b,E,C,T,S){E===void 0&&(E=0),C===void 0&&(C=0),T===void 0&&(T=1),S===void 0&&(S=16777215);var A=this.camera.matrix,P=this.renderTarget;if(P)this.pipeline.batchTextureFrame(b,E,C,S,T,A,null);else{var R=this.context,L=b.canvasData,D=b.source.image;R.save(),R.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",R.globalAlpha=T,A.setToContext(R),L.width>0&&L.height>0&&R.drawImage(D,L.x,L.y,L.width,L.height,E,C,L.width,L.height),R.restore()}},snapshotArea:function(b,E,C,T,S,A,P){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,S,!1,b,E,C,T,A,P):this.renderer.snapshotCanvas(this.canvas,S,!1,b,E,C,T,A,P),this},snapshot:function(b,E,C){return this.snapshotArea(0,0,this.width,this.height,b,E,C)},snapshotPixel:function(b,E,C){return this.snapshotArea(b,E,1,1,C,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(b,E,C,T){var S=this.manager.resetStamp();S.setTexture(this),S.setOrigin(0),S.renderWebGL(b,S,C,T)},renderCanvas:function(){},destroy:function(){var b=this.manager.stamp;b&&b.texture===this&&this.manager.resetStamp(),y.prototype.destroy.call(this),h.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});s.exports=x}),4327:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(45319),h=r(79291),u=new a({initialize:function(o,d,p,f,y,w,x){this.texture=o,this.name=d,this.source=o.source[p],this.sourceIndex=p,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(w,x,f,y)},setCutPosition:function(l,o){return l===void 0&&(l=0),o===void 0&&(o=0),this.cutX=l,this.cutY=o,this.updateUVs()},setCutSize:function(l,o){return this.cutWidth=l,this.cutHeight=o,this.updateUVs()},setSize:function(l,o,d,p){d===void 0&&(d=0),p===void 0&&(p=0),this.setCutPosition(d,p),this.setCutSize(l,o),this.width=l,this.height=o,this.halfWidth=Math.floor(l*.5),this.halfHeight=Math.floor(o*.5),this.centerX=Math.floor(l/2),this.centerY=Math.floor(o/2);var f=this.data,y=f.cut;y.x=d,y.y=p,y.w=l,y.h=o,y.r=d+l,y.b=p+o,f.sourceSize.w=l,f.sourceSize.h=o,f.spriteSourceSize.w=l,f.spriteSourceSize.h=o,f.radius=.5*Math.sqrt(l*l+o*o);var w=f.drawImage;return w.x=d,w.y=p,w.width=l,w.height=o,this.updateUVs()},setTrim:function(l,o,d,p,f,y){var w=this.data,x=w.spriteSourceSize;return w.trim=!0,w.sourceSize.w=l,w.sourceSize.h=o,x.x=d,x.y=p,x.w=f,x.h=y,x.r=d+f,x.b=p+y,this.x=d,this.y=p,this.width=f,this.height=y,this.halfWidth=f*.5,this.halfHeight=y*.5,this.centerX=Math.floor(f/2),this.centerY=Math.floor(y/2),this.updateUVs()},setScale9:function(l,o,d,p){var f=this.data;return f.scale9=!0,f.is3Slice=o===0&&p===this.height,f.scale9Borders.x=l,f.scale9Borders.y=o,f.scale9Borders.w=d,f.scale9Borders.h=p,this},setCropUVs:function(l,o,d,p,f,y,w){var x=this.cutX,b=this.cutY,E=this.cutWidth,C=this.cutHeight,T=this.realWidth,S=this.realHeight;o=v(o,0,T),d=v(d,0,S),p=v(p,0,T-o),f=v(f,0,S-d);var A=x+o,P=b+d,R=p,L=f,D=this.data;if(D.trim){var $=D.spriteSourceSize;p=v(p,0,$.x+E-o),f=v(f,0,$.y+C-d);var F=o+p,N=d+f,k=!($.r<o||$.b<d||$.x>F||$.y>N);if(k){var j=Math.max($.x,o),W=Math.max($.y,d),G=Math.min($.r,F)-j,K=Math.min($.b,N)-W;R=G,L=K,y?A=x+(E-(j-$.x)-G):A=x+(j-$.x),w?P=b+(C-(W-$.y)-K):P=b+(W-$.y),o=j,d=W,p=G,f=K}else A=0,P=0,R=0,L=0}else y&&(A=x+(E-o-p)),w&&(P=b+(C-d-f));var z=this.source.width,X=this.source.height;return l.u0=Math.max(0,A/z),l.v0=Math.max(0,P/X),l.u1=Math.min(1,(A+R)/z),l.v1=Math.min(1,(P+L)/X),l.x=o,l.y=d,l.cx=A,l.cy=P,l.cw=R,l.ch=L,l.width=p,l.height=f,l.flipX=y,l.flipY=w,l},updateCropUVs:function(l,o,d){return this.setCropUVs(l,l.x,l.y,l.width,l.height,o,d)},setUVs:function(l,o,d,p,f,y){var w=this.data.drawImage;return w.width=l,w.height=o,this.u0=d,this.v0=p,this.u1=f,this.v1=y,this},updateUVs:function(){var l=this.cutX,o=this.cutY,d=this.cutWidth,p=this.cutHeight,f=this.data.drawImage;f.width=d,f.height=p;var y=this.source.width,w=this.source.height;return this.u0=l/y,this.v0=o/w,this.u1=(l+d)/y,this.v1=(o+p)/w,this},updateUVsInverted:function(){var l=this.source.width,o=this.source.height;return this.u0=(this.cutX+this.cutHeight)/l,this.v0=this.cutY/o,this.u1=this.cutX/l,this.v1=(this.cutY+this.cutWidth)/o,this},clone:function(){var l=new u(this.texture,this.name,this.sourceIndex);return l.cutX=this.cutX,l.cutY=this.cutY,l.cutWidth=this.cutWidth,l.cutHeight=this.cutHeight,l.x=this.x,l.y=this.y,l.width=this.width,l.height=this.height,l.halfWidth=this.halfWidth,l.halfHeight=this.halfHeight,l.centerX=this.centerX,l.centerY=this.centerY,l.rotated=this.rotated,l.data=h(!0,l.data,this.data),l.updateUVs(),l},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});s.exports=u}),79237:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(4327),h=r(11876),u='Texture "%s" has no frame "%s"',l=new a({initialize:function(d,p,f,y,w){Array.isArray(f)||(f=[f]),this.manager=d,this.key=p,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var x=0;x<f.length;x++)this.source.push(new h(this,f[x],y,w))},add:function(o,d,p,f,y,w){if(this.has(o))return null;var x=new v(this,o,d,p,f,y,w);return this.frames[o]=x,this.firstFrame==="__BASE"&&(this.firstFrame=o),this.frameTotal++,x},remove:function(o){if(this.has(o)){var d=this.get(o);return d.destroy(),delete this.frames[o],!0}return!1},has:function(o){return this.frames.hasOwnProperty(o)},get:function(o){o||(o=this.firstFrame);var d=this.frames[o];return d||(console.warn(u,this.key,o),d=this.frames[this.firstFrame]),d},getTextureSourceIndex:function(o){for(var d=0;d<this.source.length;d++)if(this.source[d]===o)return d;return-1},getFramesFromTextureSource:function(o,d){d===void 0&&(d=!1);var p=[];for(var f in this.frames)if(!(f==="__BASE"&&!d)){var y=this.frames[f];y.sourceIndex===o&&p.push(y)}return p},getFrameBounds:function(o){o===void 0&&(o=0);for(var d=this.getFramesFromTextureSource(o,!0),p=d[0],f=p.cutX,y=p.cutY,w=p.cutX+p.cutWidth,x=p.cutY+p.cutHeight,b=1;b<d.length;b++){var E=d[b];E.cutX<f&&(f=E.cutX),E.cutY<y&&(y=E.cutY),E.cutX+E.cutWidth>w&&(w=E.cutX+E.cutWidth),E.cutY+E.cutHeight>x&&(x=E.cutY+E.cutHeight)}return{x:f,y,width:w-f,height:x-y}},getFrameNames:function(o){o===void 0&&(o=!1);var d=Object.keys(this.frames);if(!o){var p=d.indexOf("__BASE");p!==-1&&d.splice(p,1)}return d},getSourceImage:function(o){(o==null||this.frameTotal===1)&&(o="__BASE");var d=this.frames[o];return d?d.source.image:(console.warn(u,this.key,o),this.frames.__BASE.source.image)},getDataSourceImage:function(o){(o==null||this.frameTotal===1)&&(o="__BASE");var d=this.frames[o],p;return d?p=d.sourceIndex:(console.warn(u,this.key,o),p=this.frames.__BASE.sourceIndex),this.dataSource[p].image},setDataSource:function(o){Array.isArray(o)||(o=[o]);for(var d=0;d<o.length;d++){var p=this.source[d];this.dataSource.push(new h(this,o[d],p.width,p.height))}},setFilter:function(o){var d;for(d=0;d<this.source.length;d++)this.source[d].setFilter(o);for(d=0;d<this.dataSource.length;d++)this.dataSource[d].setFilter(o)},destroy:function(){var o,d=this.source,p=this.dataSource;for(o=0;o<d.length;o++)d[o]&&d[o].destroy();for(o=0;o<p.length;o++)p[o]&&p[o].destroy();for(var f in this.frames){var y=this.frames[f];y&&y.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});s.exports=l}),17130:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(27919),v=r(57382),h=r(83419),u=r(40987),l=r(8054),o=r(81320),d=r(50792),p=r(69442),f=r(4327),y=r(8443),w=r(99584),x=r(35154),b=r(88571),E=r(41212),C=r(61309),T=r(87841),S=r(79237),A=new h({Extends:d,initialize:function(R){d.call(this),this.game=R,this.name="TextureManager",this.list={},this._tempCanvas=a.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new T,this.silentWarnings=!1,R.events.once(y.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(p.LOAD,this.updatePending,this),this.on(p.ERROR,this.updatePending,this);var P=this.game.config;P.defaultImage!==null&&this.addBase64("__DEFAULT",P.defaultImage),P.missingImage!==null&&this.addBase64("__MISSING",P.missingImage),P.whiteImage!==null&&this.addBase64("__WHITE",P.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(y.DESTROY,this.destroy,this),this.game.events.once(y.SYSTEM_READY,function(R){this.stamp=new b(R).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(p.LOAD),this.off(p.ERROR),this.emit(p.READY))},checkKey:function(P){return!P||typeof P!="string"||this.exists(P)?(this.silentWarnings||console.error("Texture key already in use: "+P),!1):!0},remove:function(P){if(typeof P=="string")if(this.exists(P))P=this.get(P);else return this.silentWarnings||console.warn("No texture found matching key: "+P),this;var R=P.key;return this.list.hasOwnProperty(R)&&(P.destroy(),this.emit(p.REMOVE,R),this.emit(p.REMOVE_KEY+R)),this},removeKey:function(P){return this.list.hasOwnProperty(P)&&delete this.list[P],this},addBase64:function(P,R){if(this.checkKey(P)){var L=this,D=new Image;D.onerror=function(){L.emit(p.ERROR,P)},D.onload=function(){var $=L.create(P,D);$&&(C.Image($,0),L.emit(p.ADD,P,$),L.emit(p.ADD_KEY+P,$),L.emit(p.LOAD,P,$))},D.src=R}return this},getBase64:function(P,R,L,D){L===void 0&&(L="image/png"),D===void 0&&(D=.92);var $="",F=this.getFrame(P,R);if(F&&(F.source.isRenderTexture||F.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(F){var N=F.canvasData,k=a.create2D(this,N.width,N.height),j=k.getContext("2d",{willReadFrequently:!0});N.width>0&&N.height>0&&j.drawImage(F.source.image,N.x,N.y,N.width,N.height,0,0,N.width,N.height),$=k.toDataURL(L,D),a.remove(k)}return $},addImage:function(P,R,L){var D=null;return this.checkKey(P)&&(D=this.create(P,R),C.Image(D,0),L&&D.setDataSource(L),this.emit(p.ADD,P,D),this.emit(p.ADD_KEY+P,D)),D},addGLTexture:function(P,R){var L=null;if(this.checkKey(P)){var D=R.width,$=R.height;L=this.create(P,R,D,$),L.add("__BASE",0,0,0,D,$),this.emit(p.ADD,P,L),this.emit(p.ADD_KEY+P,L)}return L},addCompressedTexture:function(P,R,L){var D=null;if(this.checkKey(P)){if(D=this.create(P,R),D.add("__BASE",0,0,0,R.width,R.height),L){var $=function(N,k,j){Array.isArray(j.textures)||Array.isArray(j.frames)?C.JSONArray(N,k,j):C.JSONHash(N,k,j)};if(Array.isArray(L))for(var F=0;F<L.length;F++)$(D,F,L[F]);else $(D,0,L)}this.emit(p.ADD,P,D),this.emit(p.ADD_KEY+P,D)}return D},addRenderTexture:function(P,R){var L=null;return this.checkKey(P)&&(L=this.create(P,R),L.add("__BASE",0,0,0,R.width,R.height),this.emit(p.ADD,P,L),this.emit(p.ADD_KEY+P,L)),L},generate:function(P,R){if(this.checkKey(P)){var L=a.create(this,1,1);return R.canvas=L,w(R),this.addCanvas(P,L)}else return null},createCanvas:function(P,R,L){if(R===void 0&&(R=256),L===void 0&&(L=256),this.checkKey(P)){var D=a.create(this,R,L,l.CANVAS,!0);return this.addCanvas(P,D)}return null},addCanvas:function(P,R,L){L===void 0&&(L=!1);var D=null;return L?D=new v(this,P,R,R.width,R.height):this.checkKey(P)&&(D=new v(this,P,R,R.width,R.height),this.list[P]=D,this.emit(p.ADD,P,D),this.emit(p.ADD_KEY+P,D)),D},addDynamicTexture:function(P,R,L){var D=null;return typeof P=="string"&&!this.exists(P)?D=new o(this,P,R,L):(D=P,P=D.key),this.checkKey(P)?(this.list[P]=D,this.emit(p.ADD,P,D),this.emit(p.ADD_KEY+P,D)):D=null,D},addAtlas:function(P,R,L,D){return Array.isArray(L.textures)||Array.isArray(L.frames)?this.addAtlasJSONArray(P,R,L,D):this.addAtlasJSONHash(P,R,L,D)},addAtlasJSONArray:function(P,R,L,D){var $=null;if(R instanceof S?(P=R.key,$=R):this.checkKey(P)&&($=this.create(P,R)),$){if(Array.isArray(L))for(var F=L.length===1,N=0;N<$.source.length;N++){var k=F?L[0]:L[N];C.JSONArray($,N,k)}else C.JSONArray($,0,L);D&&$.setDataSource(D),this.emit(p.ADD,P,$),this.emit(p.ADD_KEY+P,$)}return $},addAtlasJSONHash:function(P,R,L,D){var $=null;if(R instanceof S?(P=R.key,$=R):this.checkKey(P)&&($=this.create(P,R)),$){if(Array.isArray(L))for(var F=0;F<L.length;F++)C.JSONHash($,F,L[F]);else C.JSONHash($,0,L);D&&$.setDataSource(D),this.emit(p.ADD,P,$),this.emit(p.ADD_KEY+P,$)}return $},addAtlasXML:function(P,R,L,D){var $=null;return R instanceof S?(P=R.key,$=R):this.checkKey(P)&&($=this.create(P,R)),$&&(C.AtlasXML($,0,L),D&&$.setDataSource(D),this.emit(p.ADD,P,$),this.emit(p.ADD_KEY+P,$)),$},addUnityAtlas:function(P,R,L,D){var $=null;return R instanceof S?(P=R.key,$=R):this.checkKey(P)&&($=this.create(P,R)),$&&(C.UnityYAML($,0,L),D&&$.setDataSource(D),this.emit(p.ADD,P,$),this.emit(p.ADD_KEY+P,$)),$},addSpriteSheet:function(P,R,L,D){var $=null;if(R instanceof S?(P=R.key,$=R):this.checkKey(P)&&($=this.create(P,R)),$){var F=$.source[0].width,N=$.source[0].height;C.SpriteSheet($,0,0,0,F,N,L),D&&$.setDataSource(D),this.emit(p.ADD,P,$),this.emit(p.ADD_KEY+P,$)}return $},addSpriteSheetFromAtlas:function(P,R){if(!this.checkKey(P))return null;var L=x(R,"atlas",null),D=x(R,"frame",null);if(!(!L||!D)){var $=this.get(L),F=$.get(D);if(F){var N=F.source.image;N||(N=F.source.glTexture);var k=this.create(P,N);return F.trimmed?C.SpriteSheetFromAtlas(k,F,R):C.SpriteSheet(k,0,F.cutX,F.cutY,F.cutWidth,F.cutHeight,R),this.emit(p.ADD,P,k),this.emit(p.ADD_KEY+P,k),k}}},addUint8Array:function(P,R,L,D){if(!this.checkKey(P)||R.length/4!==L*D)return null;var $=this.create(P,R,L,D);return $.add("__BASE",0,0,0,L,D),this.emit(p.ADD,P,$),this.emit(p.ADD_KEY+P,$),$},create:function(P,R,L,D){var $=null;return this.checkKey(P)&&($=new S(this,P,R,L,D),this.list[P]=$),$},exists:function(P){return this.list.hasOwnProperty(P)},get:function(P){return P===void 0&&(P="__DEFAULT"),this.list[P]?this.list[P]:P instanceof S?P:P instanceof f?P.texture:this.list.__MISSING},cloneFrame:function(P,R){if(this.list[P])return this.list[P].get(R).clone()},getFrame:function(P,R){if(this.list[P])return this.list[P].get(R)},parseFrame:function(P){if(P){if(typeof P=="string")return this.getFrame(P);if(Array.isArray(P)&&P.length===2)return this.getFrame(P[0],P[1]);if(E(P))return this.getFrame(P.key,P.frame);if(P instanceof S)return P.get();if(P instanceof f)return P}else return},getTextureKeys:function(){var P=[];for(var R in this.list)R!=="__DEFAULT"&&R!=="__MISSING"&&R!=="__WHITE"&&R!=="__NORMAL"&&P.push(R);return P},getPixel:function(P,R,L,D){var $=this.getFrame(L,D);if($){P-=$.x,R-=$.y;var F=$.data.cut;if(P+=F.x,R+=F.y,P>=F.x&&P<F.r&&R>=F.y&&R<F.b){var N=this._tempContext;N.clearRect(0,0,1,1),N.drawImage($.source.image,P,R,1,1,0,0,1,1);var k=N.getImageData(0,0,1,1);return new u(k.data[0],k.data[1],k.data[2],k.data[3])}}return null},getPixelAlpha:function(P,R,L,D){var $=this.getFrame(L,D);if($){P-=$.x,R-=$.y;var F=$.data.cut;if(P+=F.x,R+=F.y,P>=F.x&&P<F.r&&R>=F.y&&R<F.b){var N=this._tempContext;N.clearRect(0,0,1,1),N.drawImage($.source.image,P,R,1,1,0,0,1,1);var k=N.getImageData(0,0,1,1);return k.data[3]}}return null},setTexture:function(P,R,L){return this.list[R]&&(P.texture=this.list[R],P.frame=P.texture.get(L)),P},renameTexture:function(P,R){var L=this.get(P);return L&&P!==R?(L.key=R,this.list[R]=L,delete this.list[P],!0):!1},each:function(P,R){for(var L=[null],D=1;D<arguments.length;D++)L.push(arguments[D]);for(var $ in this.list)L[0]=this.list[$],P.apply(R,L)},resetStamp:function(P,R){P===void 0&&(P=1),R===void 0&&(R=16777215);var L=this.stamp;return L.setCrop(),L.setPosition(0),L.setAngle(0),L.setScale(1),L.setAlpha(P),L.setTint(R),L.setTexture("__WHITE"),L},destroy:function(){for(var P in this.list)this.list[P].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,a.remove(this._tempCanvas)}});s.exports=A}),11876:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(27919),v=r(83419),h=r(50030),u=r(29795),l=r(82751),o=new v({initialize:function(p,f,y,w,x){x===void 0&&(x=!1);var b=p.manager.game;this.renderer=b.renderer,this.texture=p,this.source=f,this.image=f.compressed?null:f,this.compressionAlgorithm=f.compressed?f.format:null,this.resolution=1,this.width=y||f.naturalWidth||f.videoWidth||f.width||0,this.height=w||f.naturalHeight||f.videoHeight||f.height||0,this.scaleMode=u.DEFAULT,this.isCanvas=f instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&f instanceof HTMLVideoElement,this.isRenderTexture=f.type==="RenderTexture"||f.type==="DynamicTexture",this.isGLTexture=f instanceof l,this.isPowerOf2=h(this.width,this.height),this.glTexture=null,this.flipY=x,this.init(b)},init:function(d){var p=this.renderer;if(p){var f=this.source;if(p.gl){var y=this.image,w=this.flipY,x=this.width,b=this.height,E=this.scaleMode;this.isCanvas?this.glTexture=p.createCanvasTexture(y,!1,w):this.isVideo?this.glTexture=p.createVideoTexture(y,!1,w):this.isRenderTexture?this.glTexture=p.createTextureFromSource(null,x,b,E):this.isGLTexture?this.glTexture=f:this.compressionAlgorithm?this.glTexture=p.createTextureFromSource(f,void 0,void 0,E):f instanceof Uint8Array?this.glTexture=p.createUint8ArrayTexture(f,x,b,E):this.glTexture=p.createTextureFromSource(y,x,b,E)}else this.isRenderTexture&&(this.image=f.canvas)}d.config.antialias||this.setFilter(1)},setFilter:function(d){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,d),this.scaleMode=d},setFlipY:function(d){return d===void 0&&(d=!0),d===this.flipY?this:(this.flipY=d,this.update(),this)},update:function(){var d=this.renderer,p=this.image,f=this.flipY,y=d.gl;y&&this.isCanvas?d.updateCanvasTexture(p,this.glTexture,f):y&&this.isVideo&&d.updateVideoTexture(p,this.glTexture,f)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&a.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});s.exports=o}),19673:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={LINEAR:0,NEAREST:1};s.exports=g}),44538:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="addtexture"}),63486:(s=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="addtexture-"}),94851:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="onerror"}),29099:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="onload"}),8678:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="ready"}),86415:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="removetexture"}),30879:(s=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="removetexture-"}),69442:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={ADD:r(44538),ADD_KEY:r(63486),ERROR:r(94851),LOAD:r(29099),READY:r(8678),REMOVE:r(86415),REMOVE_KEY:r(30879)}}),27458:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(79291),v=r(19673),h={CanvasTexture:r(57382),DynamicTexture:r(81320),Events:r(69442),FilterMode:v,Frame:r(4327),Parsers:r(61309),Texture:r(79237),TextureManager:r(17130),TextureSource:r(11876)};h=a(!1,h,v),s.exports=h}),89905:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){if(!v.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var h=r.source[a];r.add("__BASE",a,0,0,h.width,h.height);for(var u=v.getElementsByTagName("SubTexture"),l,o=0;o<u.length;o++){var d=u[o].attributes,p=d.name.value,f=parseInt(d.x.value,10),y=parseInt(d.y.value,10),w=parseInt(d.width.value,10),x=parseInt(d.height.value,10);if(l=r.add(p,a,f,y,w,x),d.frameX){var b=Math.abs(parseInt(d.frameX.value,10)),E=Math.abs(parseInt(d.frameY.value,10)),C=parseInt(d.frameWidth.value,10),T=parseInt(d.frameHeight.value,10);l.setTrim(w,x,b,E,C,T)}}return r};s.exports=g}),72893:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){var v=r.source[a];return r.add("__BASE",a,0,0,v.width,v.height),r};s.exports=g}),4832:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){var v=r.source[a];return r.add("__BASE",a,0,0,v.width,v.height),r};s.exports=g}),78566:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(41786),v=function(h,u,l){if(!l.frames&&!l.textures){console.warn("Invalid Texture Atlas JSON Array");return}var o=h.source[u];h.add("__BASE",u,0,0,o.width,o.height);for(var d=Array.isArray(l.textures)?l.textures[u].frames:l.frames,p,f=0;f<d.length;f++){var y=d[f];if(p=h.add(y.filename,u,y.frame.x,y.frame.y,y.frame.w,y.frame.h),!p){console.warn("Invalid atlas json, frame already exists: "+y.filename);continue}y.trimmed&&p.setTrim(y.sourceSize.w,y.sourceSize.h,y.spriteSourceSize.x,y.spriteSourceSize.y,y.spriteSourceSize.w,y.spriteSourceSize.h),y.rotated&&(p.rotated=!0,p.updateUVsInverted());var w=y.anchor||y.pivot;w&&(p.customPivot=!0,p.pivotX=w.x,p.pivotY=w.y),y.scale9Borders&&p.setScale9(y.scale9Borders.x,y.scale9Borders.y,y.scale9Borders.w,y.scale9Borders.h),p.customData=a(y)}for(var x in l)x!=="frames"&&(Array.isArray(l[x])?h.customData[x]=l[x].slice(0):h.customData[x]=l[x]);return h};s.exports=v}),39711:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(41786),v=function(h,u,l){if(!l.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var o=h.source[u];h.add("__BASE",u,0,0,o.width,o.height);var d=l.frames,p;for(var f in d)if(d.hasOwnProperty(f)){var y=d[f];if(p=h.add(f,u,y.frame.x,y.frame.y,y.frame.w,y.frame.h),!p){console.warn("Invalid atlas json, frame already exists: "+f);continue}y.trimmed&&p.setTrim(y.sourceSize.w,y.sourceSize.h,y.spriteSourceSize.x,y.spriteSourceSize.y,y.spriteSourceSize.w,y.spriteSourceSize.h),y.rotated&&(p.rotated=!0,p.updateUVsInverted());var w=y.anchor||y.pivot;w&&(p.customPivot=!0,p.pivotX=w.x,p.pivotY=w.y),y.scale9Borders&&p.setScale9(y.scale9Borders.x,y.scale9Borders.y,y.scale9Borders.w,y.scale9Borders.h),p.customData=a(y)}for(var x in l)x!=="frames"&&(Array.isArray(l[x])?h.customData[x]=l[x].slice(0):h.customData[x]=l[x]);return h};s.exports=v}),31403:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){var a=[171,75,84,88,32,49,49,187,13,10,26,10],v,h=new Uint8Array(r,0,12);for(v=0;v<h.length;v++)if(h[v]!==a[v]){console.warn("KTXParser - Invalid file format");return}var u=Uint32Array.BYTES_PER_ELEMENT,l=new DataView(r,12,13*u),o=l.getUint32(0,!0)===67305985,d=l.getUint32(1*u,o);if(d!==0){console.warn("KTXParser - Only compressed formats supported");return}var p=l.getUint32(4*u,o),f=l.getUint32(6*u,o),y=l.getUint32(7*u,o),w=Math.max(1,l.getUint32(11*u,o)),x=l.getUint32(12*u,o),b=new Array(w),E=64+x,C=f,T=y;for(v=0;v<w;v++){var S=new Int32Array(r,E,1)[0];E+=4,b[v]={data:new Uint8Array(r,E,S),width:C,height:T},C=Math.max(1,C>>1),T=Math.max(1,T>>1),E+=S}return{mipmaps:b,width:f,height:y,internalFormat:p,compressed:!0,generateMipmap:!1}};s.exports=g}),82038:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function g(R,L,D,$,F,N,k){return k===void 0&&(k=16),Math.floor((R+D)/F)*Math.floor((L+$)/N)*k}function r(R,L){return R=Math.max(R,16),L=Math.max(L,8),R*L/4}function a(R,L){return R=Math.max(R,8),L=Math.max(L,8),R*L/2}function v(R,L){return Math.ceil(R/4)*Math.ceil(L/4)*16}function h(R,L){return g(R,L,3,3,4,4,8)}function u(R,L){return g(R,L,3,3,4,4)}function l(R,L){return g(R,L,4,3,5,4)}function o(R,L){return g(R,L,4,4,5,5)}function d(R,L){return g(R,L,5,4,6,5)}function p(R,L){return g(R,L,5,5,6,6)}function f(R,L){return g(R,L,7,4,8,5)}function y(R,L){return g(R,L,7,5,8,6)}function w(R,L){return g(R,L,7,7,8,8)}function x(R,L){return g(R,L,9,4,10,5)}function b(R,L){return g(R,L,9,5,10,6)}function E(R,L){return g(R,L,9,7,10,8)}function C(R,L){return g(R,L,9,9,10,10)}function T(R,L){return g(R,L,11,9,12,10)}function S(R,L){return g(R,L,11,11,12,12)}var A={0:{sizeFunc:r,glFormat:[35841]},1:{sizeFunc:r,glFormat:[35843]},2:{sizeFunc:a,glFormat:[35840]},3:{sizeFunc:a,glFormat:[35842]},6:{sizeFunc:h,glFormat:[36196]},7:{sizeFunc:h,glFormat:[33776,35916]},8:{sizeFunc:u,glFormat:[33777,35917]},9:{sizeFunc:u,glFormat:[33778,35918]},11:{sizeFunc:u,glFormat:[33779,35919]},14:{sizeFunc:v,glFormat:[36494,36495]},15:{sizeFunc:v,glFormat:[36492,36493]},22:{sizeFunc:h,glFormat:[37492,37493]},23:{sizeFunc:u,glFormat:[37496,37497]},24:{sizeFunc:h,glFormat:[37494,37495]},25:{sizeFunc:h,glFormat:[37488]},26:{sizeFunc:u,glFormat:[37490]},27:{sizeFunc:u,glFormat:[37808,37840]},28:{sizeFunc:l,glFormat:[37809,37841]},29:{sizeFunc:o,glFormat:[37810,37842]},30:{sizeFunc:d,glFormat:[37811,37843]},31:{sizeFunc:p,glFormat:[37812,37844]},32:{sizeFunc:f,glFormat:[37813,37845]},33:{sizeFunc:y,glFormat:[37814,37846]},34:{sizeFunc:w,glFormat:[37815,37847]},35:{sizeFunc:x,glFormat:[37816,37848]},36:{sizeFunc:b,glFormat:[37817,37849]},37:{sizeFunc:E,glFormat:[37818,37850]},38:{sizeFunc:C,glFormat:[37819,37851]},39:{sizeFunc:T,glFormat:[37820,37852]},40:{sizeFunc:S,glFormat:[37821,37853]}},P=function(R){for(var L=new Uint32Array(R,0,13),D=L[0],$=D===55727696,F=$?L[2]:L[3],N=L[4],k=A[F].glFormat[N],j=A[F].sizeFunc,W=L[11],G=L[7],K=L[6],z=52+L[12],X=new Uint8Array(R,z),U=new Array(W),Z=0,V=G,J=K,Q=0;Q<W;Q++){var ee=j(V,J);U[Q]={data:new Uint8Array(X.buffer,X.byteOffset+Z,ee),width:V,height:J},V=Math.max(1,V>>1),J=Math.max(1,J>>1),Z+=ee}return{mipmaps:U,width:G,height:K,internalFormat:k,compressed:!0,generateMipmap:!1}};s.exports=P}),75549:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(95540),v=function(h,u,l,o,d,p,f){var y=a(f,"frameWidth",null),w=a(f,"frameHeight",y);if(y===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var x=h.source[u];h.add("__BASE",u,0,0,x.width,x.height);var b=a(f,"startFrame",0),E=a(f,"endFrame",-1),C=a(f,"margin",0),T=a(f,"spacing",0),S=Math.floor((d-C+T)/(y+T)),A=Math.floor((p-C+T)/(w+T)),P=S*A;P===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",h.key),(b>P||b<-P)&&(b=0),b<0&&(b=P+b),(E===-1||E>P||E<b)&&(E=P);for(var R=C,L=C,D=0,$=0,F=0,N=0;N<P;N++){D=0,$=0;var k=R+y,j=L+w;k>d&&(D=k-d),j>p&&($=j-p),N>=b&&N<=E&&(h.add(F,u,l+R,o+L,y-D,w-$),F++),R+=y+T,R+y>d&&(R=C,L+=w+T)}return h};s.exports=v}),47534:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(95540),v=function(h,u,l){var o=a(l,"frameWidth",null),d=a(l,"frameHeight",o);if(!o)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var p=h.source[0];h.add("__BASE",0,0,0,p.width,p.height),a(l,"startFrame",0),a(l,"endFrame",-1);for(var f=a(l,"margin",0),y=a(l,"spacing",0),w=u.cutX,x=u.cutY,b=u.cutWidth,E=u.cutHeight,C=u.realWidth,T=u.realHeight,S=Math.floor((C-f+y)/(o+y)),A=Math.floor((T-f+y)/(d+y)),P=u.x,R=o-P,L=o-(C-b-P),D=u.y,$=d-D,F=d-(T-E-D),N,k=f,j=f,W=0,G=0,K=0;K<A;K++){for(var z=K===0,X=K===A-1,U=0;U<S;U++){var Z=U===0,V=U===S-1;if(N=h.add(W,G,w+k,x+j,o,d),Z||z||V||X){var J=Z?P:0,Q=z?D:0,ee=0,te=0;Z&&(ee+=o-R),V&&(ee+=o-L),z&&(te+=d-$),X&&(te+=d-F);var ie=o-ee,le=d-te;N.cutWidth=ie,N.cutHeight=le,N.setTrim(o,d,J,Q,ie,le)}k+=y,Z?k+=R:V?k+=L:k+=o,W++}k=f,j+=y,z?j+=$:X?j+=F:j+=d}return h};s.exports=v}),86147:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=0,r=function(v,h,u,l){var o=g-l.y-l.height;v.add(u,h,l.x,o,l.width,l.height)},a=function(v,h,u){var l=v.source[h];v.add("__BASE",h,0,0,l.width,l.height),g=l.height;for(var o=u.split(`
`),d=/^[ ]*(- )*(\w+)+[: ]+(.*)/,p="",f="",y={x:0,y:0,width:0,height:0},w=0;w<o.length;w++){var x=o[w].match(d);if(x){var b=x[1]==="- ",E=x[2],C=x[3];if(b&&(f!==p&&(r(v,h,f,y),p=f),y={x:0,y:0,width:0,height:0}),E==="name"){f=C;continue}switch(E){case"x":case"y":case"width":case"height":y[E]=parseInt(C,10);break}}}return f!==p&&r(v,h,f,y),v};s.exports=a}),55222:((s,g,r)=>{/**
 * @author       Ben Richards <benjamindrichards@gmail.com>
 * @copyright    2024 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(50030),v=function(p){for(var f=p.mipmaps,y=1;y<f.length;y++){var w=f[y].width,x=f[y].height;if(!a(w,x))return console.warn("Mip level "+y+" is not a power-of-two size: "+w+"x"+x),!1}var b=d[p.internalFormat];return b?b(p):(console.warn("No format checker found for internal format "+p.internalFormat+". Assuming valid."),!0)};function h(p){for(var f=p.mipmaps,y=0;y<f.length;y++){var w=f[y].width,x=f[y].height;if((w<<y)%4!==0||(x<<y)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+y+" is "+w+"x"+x),!1}return!0}function u(){return!0}function l(p){var f=p.mipmaps,y=f[0];return a(y.width,y.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+y.width+"x"+y.height),!1)}function o(p){var f=p.mipmaps,y=f[0];return y.width%4!==0||y.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+y.width+"x"+y.height+" pixels"),!1):!0}var d={37488:u,37489:u,37490:u,37491:u,37492:u,37493:u,37494:u,37495:u,37496:u,37497:u,36196:u,37808:u,37809:u,37810:u,37811:u,37812:u,37813:u,37814:u,37815:u,37816:u,37817:u,37818:u,37819:u,37820:u,37821:u,37840:u,37841:u,37842:u,37843:u,37844:u,37845:u,37846:u,37847:u,37848:u,37849:u,37850:u,37851:u,37852:u,37853:u,36492:h,36493:h,36494:h,36495:h,36283:h,36284:h,36285:h,36286:h,35840:l,35841:l,35842:l,35843:l,33776:h,33777:h,33778:h,33779:h,35916:o,35917:o,35918:o,35919:o};s.exports=v}),61309:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={AtlasXML:r(89905),Canvas:r(72893),Image:r(4832),JSONArray:r(78566),JSONHash:r(39711),KTXParser:r(31403),PVRParser:r(82038),SpriteSheet:r(75549),SpriteSheetFromAtlas:r(47534),UnityYAML:r(86147)}}),80341:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}}),16536:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=new a({initialize:function(u,l,o,d,p,f,y){(o===void 0||o<=0)&&(o=32),(d===void 0||d<=0)&&(d=32),p===void 0&&(p=0),f===void 0&&(f=0),this.name=u,this.firstgid=l|0,this.imageWidth=o|0,this.imageHeight=d|0,this.imageMargin=p|0,this.imageSpacing=f|0,this.properties=y||{},this.images=[],this.total=0},containsImageIndex:function(h){return h>=this.firstgid&&h<this.firstgid+this.total},addImage:function(h,u,l,o){return this.images.push({gid:h,image:u,width:l,height:o}),this.total++,this}});s.exports=v}),27462:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=new a({initialize:function(u){if(this.gids=[],u!==void 0)for(var l=0;l<u.length;++l)for(var o=u[l],d=0;d<o.total;++d)this.gids[o.firstgid+d]=o;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(h){this.gids=h?this._gids:void 0}},getTypeIncludingTile:function(h){if(h.type!==void 0&&h.type!=="")return h.type;if(!(!this.gids||h.gid===void 0)){var u=this.gids[h.gid];if(u){var l=u.getTileData(h.gid);if(l)return l.type}}},setTextureAndFrame:function(h,u,l,o){if(u===null&&this.gids&&o.gid!==void 0){var d=this.gids[o.gid];d&&(u===null&&d.image!==void 0&&(u=d.image.key),l===null&&(l=o.gid-d.firstgid),h.scene.textures.getFrame(u,l)||(u=null,l=null))}h.setTexture(u,l)},setPropertiesFromTiledObject:function(h,u){if(this.gids!==void 0&&u.gid!==void 0){var l=this.gids[u.gid];l!==void 0&&this.setFromJSON(h,l.getTileProperties(u.gid))}this.setFromJSON(h,u.properties)},setFromJSON:function(h,u){if(u){if(Array.isArray(u)){for(var l=0;l<u.length;l++){var o=u[l];h[o.name]!==void 0?h[o.name]=o.value:h.setData(o.name,o.value)}return}for(var d in u)h[d]!==void 0?h[d]=u[d]:h.setData(d,u[d])}}});s.exports=v}),31989:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(80341),v=r(87010),h=r(46177),u=r(49075),l=function(o,d,p,f,y,w,x,b){p===void 0&&(p=32),f===void 0&&(f=32),y===void 0&&(y=10),w===void 0&&(w=10),b===void 0&&(b=!1);var E=null;if(Array.isArray(x)){var C=d!==void 0?d:"map";E=h(C,a.ARRAY_2D,x,p,f,b)}else if(d!==void 0){var T=o.cache.tilemap.get(d);T?E=h(d,T.format,T.data,p,f,b):console.warn("No map data found for key "+d)}return E===null&&(E=new v({tileWidth:p,tileHeight:f,width:y,height:w})),new u(o,E)};s.exports=l}),23029:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(31401),h=r(91907),u=r(62644),l=r(93232),o=new a({Mixins:[v.AlphaSingle,v.Flip,v.Visible],initialize:function(p,f,y,w,x,b,E,C){this.layer=p,this.index=f,this.x=y,this.y=w,this.width=x,this.height=b,this.right,this.bottom,this.baseWidth=E!==void 0?E:x,this.baseHeight=C!==void 0?C:b,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(d,p){return!(d<this.pixelX||p<this.pixelY||d>this.right||p>this.bottom)},copy:function(d){return this.index=d.index,this.alpha=d.alpha,this.properties=u(d.properties),this.visible=d.visible,this.setFlip(d.flipX,d.flipY),this.tint=d.tint,this.rotation=d.rotation,this.collideUp=d.collideUp,this.collideDown=d.collideDown,this.collideLeft=d.collideLeft,this.collideRight=d.collideRight,this.collisionCallback=d.collisionCallback,this.collisionCallbackContext=d.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(d){var p=this.tilemapLayer;if(p){var f=p.tileToWorldXY(this.x,this.y,void 0,d);return f.x}return this.x*this.baseWidth},getRight:function(d){var p=this.tilemapLayer;return p?this.getLeft(d)+this.width*p.scaleX:this.getLeft(d)+this.width},getTop:function(d){var p=this.tilemapLayer;if(p){var f=p.tileToWorldXY(this.x,this.y,void 0,d);return f.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(d){var p=this.tilemapLayer;return p?this.getTop(d)+this.height*p.scaleY:this.getTop(d)+this.height},getBounds:function(d,p){return p===void 0&&(p=new l),p.x=this.getLeft(d),p.y=this.getTop(d),p.width=this.getRight(d)-p.x,p.height=this.getBottom(d)-p.y,p},getCenterX:function(d){return(this.getLeft(d)+this.getRight(d))/2},getCenterY:function(d){return(this.getTop(d)+this.getBottom(d))/2},intersects:function(d,p,f,y){return!(f<=this.pixelX||y<=this.pixelY||d>=this.right||p>=this.bottom)},isInteresting:function(d,p){return d&&p?this.canCollide||this.hasInterestingFace:d?this.collides:p?this.hasInterestingFace:!1},resetCollision:function(d){if(d===void 0&&(d=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,d){var p=this.tilemapLayer;p&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(d,p,f,y,w){if(p===void 0&&(p=d),f===void 0&&(f=d),y===void 0&&(y=d),w===void 0&&(w=!0),this.collideLeft=d,this.collideRight=p,this.collideUp=f,this.collideDown=y,this.faceLeft=d,this.faceRight=p,this.faceTop=f,this.faceBottom=y,w){var x=this.tilemapLayer;x&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(d,p){return d===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=d,this.collisionCallbackContext=p),this},setSize:function(d,p,f,y){return d!==void 0&&(this.width=d),p!==void 0&&(this.height=p),f!==void 0&&(this.baseWidth=f),y!==void 0&&(this.baseHeight=y),this.updatePixelXY(),this},updatePixelXY:function(){var d=this.layer.orientation;if(d===h.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(d===h.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(d===h.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(d===h.HEXAGONAL){var p=this.layer.staggerAxis,f=this.layer.staggerIndex,y=this.layer.hexSideLength,w,x;p==="y"?(x=(this.baseHeight-y)/2+y,f==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*x):p==="x"&&(w=(this.baseWidth-y)/2+y,this.pixelX=this.x*w,f==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var d=this.layer.tilemapLayer;if(d){var p=d.gidMap[this.index];if(p)return p}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var d=this.tilemapLayer;return d?d.tilemap:null}}});s.exports=o}),49075:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(84101),v=r(83419),h=r(39506),u=r(80341),l=r(95540),o=r(14977),d=r(27462),p=r(91907),f=r(36305),y=r(19133),w=r(68287),x=r(23029),b=r(81086),E=r(20442),C=r(33629),T=new v({initialize:function(A,P){this.scene=A,this.tileWidth=P.tileWidth,this.tileHeight=P.tileHeight,this.width=P.width,this.height=P.height,this.orientation=P.orientation,this.renderOrder=P.renderOrder,this.format=P.format,this.version=P.version,this.properties=P.properties,this.widthInPixels=P.widthInPixels,this.heightInPixels=P.heightInPixels,this.imageCollections=P.imageCollections,this.images=P.images,this.layers=P.layers,this.tiles=P.tiles,this.tilesets=P.tilesets,this.objects=P.objects,this.currentLayerIndex=0,this.hexSideLength=P.hexSideLength;var R=this.orientation;this._convert={WorldToTileXY:b.GetWorldToTileXYFunction(R),WorldToTileX:b.GetWorldToTileXFunction(R),WorldToTileY:b.GetWorldToTileYFunction(R),TileToWorldXY:b.GetTileToWorldXYFunction(R),TileToWorldX:b.GetTileToWorldXFunction(R),TileToWorldY:b.GetTileToWorldYFunction(R),GetTileCorners:b.GetTileCornersFunction(R)}},setRenderOrder:function(S){var A=["right-down","left-down","right-up","left-up"];return typeof S=="number"&&(S=A[S]),A.indexOf(S)>-1&&(this.renderOrder=S),this},addTilesetImage:function(S,A,P,R,L,D,$,F){if(S===void 0)return null;A==null&&(A=S);var N=this.scene.sys.textures;if(!N.exists(A))return console.warn('Texture key "%s" not found',A),null;var k=N.get(A),j=this.getTilesetIndex(S);if(j===null&&this.format===u.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',S,this.tilesets),null;var W=this.tilesets[j];return W?((P||R)&&W.setTileSize(P,R),(L||D)&&W.setSpacing(L,D),W.setImage(k),W):(P===void 0&&(P=this.tileWidth),R===void 0&&(R=this.tileHeight),L===void 0&&(L=0),D===void 0&&(D=0),$===void 0&&($=0),F===void 0&&(F={x:0,y:0}),W=new C(S,$,P,R,L,D,void 0,void 0,F),W.setImage(k),this.tilesets.push(W),this.tiles=a(this),W)},copy:function(S,A,P,R,L,D,$,F){return F=this.getLayer(F),F!==null?(b.Copy(S,A,P,R,L,D,$,F),this):null},createBlankLayer:function(S,A,P,R,L,D,$,F){P===void 0&&(P=0),R===void 0&&(R=0),L===void 0&&(L=this.width),D===void 0&&(D=this.height),$===void 0&&($=this.tileWidth),F===void 0&&(F=this.tileHeight);var N=this.getLayerIndex(S);if(N!==null)return console.warn("Invalid Tilemap Layer ID: "+S),null;for(var k=new o({name:S,tileWidth:$,tileHeight:F,width:L,height:D,orientation:this.orientation,hexSideLength:this.hexSideLength}),j,W=0;W<D;W++){j=[];for(var G=0;G<L;G++)j.push(new x(k,-1,G,W,$,F,this.tileWidth,this.tileHeight));k.data.push(j)}this.layers.push(k),this.currentLayerIndex=this.layers.length-1;var K=new E(this.scene,this,this.currentLayerIndex,A,P,R);return K.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(K),K},createLayer:function(S,A,P,R){var L=this.getLayerIndex(S);if(L===null)return console.warn("Invalid Tilemap Layer ID: "+S),typeof S=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var D=this.layers[L];if(D.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+S),null;this.currentLayerIndex=L,P===void 0&&(P=D.x),R===void 0&&(R=D.y);var $=new E(this.scene,this,L,A,P,R);return $.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add($),$},createFromObjects:function(S,A,P){P===void 0&&(P=!0);var R=[],L=this.getObjectLayer(S);if(!L)return console.warn("createFromObjects: Invalid objectLayerName given: "+S),R;var D=new d(P?this.tilesets:void 0);Array.isArray(A)||(A=[A]);for(var $=L.objects,F=0;F<A.length;F++){var N=A[F],k=l(N,"id",null),j=l(N,"gid",null),W=l(N,"name",null),G=l(N,"type",null);D.enabled=!l(N,"ignoreTileset",null);for(var K,z=[],X=0;X<$.length;X++)K=$[X],(k===null&&j===null&&W===null&&G===null||k!==null&&K.id===k||j!==null&&K.gid===j||W!==null&&K.name===W||G!==null&&D.getTypeIncludingTile(K)===G)&&z.push(K);for(var U=l(N,"classType",w),Z=l(N,"scene",this.scene),V=l(N,"container",null),J=l(N,"key",null),Q=l(N,"frame",null),ee=0;ee<z.length;ee++){K=z[ee];var te=new U(Z);if(te.setName(K.name),te.setPosition(K.x,K.y),D.setTextureAndFrame(te,J,Q,K),K.width&&(te.displayWidth=K.width),K.height&&(te.displayHeight=K.height),this.orientation===p.ISOMETRIC){var ie=this.tileWidth/this.tileHeight,le={x:te.x-te.y,y:(te.x+te.y)/ie};te.x=le.x,te.y=le.y}var de={x:te.originX*K.width,y:(te.originY-(K.gid?1:0))*K.height};if(K.rotation){var fe=h(K.rotation);f(de,fe),te.rotation=fe}te.x+=de.x,te.y+=de.y,(K.flippedHorizontal!==void 0||K.flippedVertical!==void 0)&&te.setFlip(K.flippedHorizontal,K.flippedVertical),K.visible||(te.visible=!1),D.setPropertiesFromTiledObject(te,K),V?V.add(te):Z.add.existing(te),R.push(te)}}return R},createFromTiles:function(S,A,P,R,L,D){return D=this.getLayer(D),D===null?null:b.CreateFromTiles(S,A,P,R,L,D)},fill:function(S,A,P,R,L,D,$){return D===void 0&&(D=!0),$=this.getLayer($),$===null?null:(b.Fill(S,A,P,R,L,D,$),this)},filterObjects:function(S,A,P){if(typeof S=="string"){var R=S;if(S=this.getObjectLayer(S),!S)return console.warn("No object layer found with the name: "+R),null}return S.objects.filter(A,P)},filterTiles:function(S,A,P,R,L,D,$,F){return F=this.getLayer(F),F===null?null:b.FilterTiles(S,A,P,R,L,D,$,F)},findByIndex:function(S,A,P,R){return R=this.getLayer(R),R===null?null:b.FindByIndex(S,A,P,R)},findObject:function(S,A,P){if(typeof S=="string"){var R=S;if(S=this.getObjectLayer(S),!S)return console.warn("No object layer found with the name: "+R),null}return S.objects.find(A,P)||null},findTile:function(S,A,P,R,L,D,$,F){return F=this.getLayer(F),F===null?null:b.FindTile(S,A,P,R,L,D,$,F)},forEachTile:function(S,A,P,R,L,D,$,F){return F=this.getLayer(F),F===null?null:(b.ForEachTile(S,A,P,R,L,D,$,F),this)},getImageIndex:function(S){return this.getIndex(this.images,S)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(S){return S.name})},getIndex:function(S,A){for(var P=0;P<S.length;P++)if(S[P].name===A)return P;return null},getLayer:function(S){var A=this.getLayerIndex(S);return A!==null?this.layers[A]:null},getObjectLayer:function(S){var A=this.getIndex(this.objects,S);return A!==null?this.objects[A]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(S){return S.name})},getLayerIndex:function(S){return S===void 0?this.currentLayerIndex:typeof S=="string"?this.getLayerIndexByName(S):typeof S=="number"&&S<this.layers.length?S:S instanceof E&&S.tilemap===this?S.layerIndex:null},getLayerIndexByName:function(S){return this.getIndex(this.layers,S)},getTileAt:function(S,A,P,R){return R=this.getLayer(R),R===null?null:b.GetTileAt(S,A,P,R)},getTileAtWorldXY:function(S,A,P,R,L){return L=this.getLayer(L),L===null?null:b.GetTileAtWorldXY(S,A,P,R,L)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(S){return S.name})},getTilesWithin:function(S,A,P,R,L,D){return D=this.getLayer(D),D===null?null:b.GetTilesWithin(S,A,P,R,L,D)},getTilesWithinShape:function(S,A,P,R){return R=this.getLayer(R),R===null?null:b.GetTilesWithinShape(S,A,P,R)},getTilesWithinWorldXY:function(S,A,P,R,L,D,$){return $=this.getLayer($),$===null?null:b.GetTilesWithinWorldXY(S,A,P,R,L,D,$)},getTileset:function(S){var A=this.getIndex(this.tilesets,S);return A!==null?this.tilesets[A]:null},getTilesetIndex:function(S){return this.getIndex(this.tilesets,S)},hasTileAt:function(S,A,P){return P=this.getLayer(P),P===null?null:b.HasTileAt(S,A,P)},hasTileAtWorldXY:function(S,A,P,R){return R=this.getLayer(R),R===null?null:b.HasTileAtWorldXY(S,A,P,R)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(S){this.setLayer(S)}},putTileAt:function(S,A,P,R,L){return R===void 0&&(R=!0),L=this.getLayer(L),L===null?null:b.PutTileAt(S,A,P,R,L)},putTileAtWorldXY:function(S,A,P,R,L,D){return R===void 0&&(R=!0),D=this.getLayer(D),D===null?null:b.PutTileAtWorldXY(S,A,P,R,L,D)},putTilesAt:function(S,A,P,R,L){return R===void 0&&(R=!0),L=this.getLayer(L),L===null?null:(b.PutTilesAt(S,A,P,R,L),this)},randomize:function(S,A,P,R,L,D){return D=this.getLayer(D),D===null?null:(b.Randomize(S,A,P,R,L,D),this)},calculateFacesAt:function(S,A,P){return P=this.getLayer(P),P===null?null:(b.CalculateFacesAt(S,A,P),this)},calculateFacesWithin:function(S,A,P,R,L){return L=this.getLayer(L),L===null?null:(b.CalculateFacesWithin(S,A,P,R,L),this)},removeLayer:function(S){var A=this.getLayerIndex(S);if(A!==null){y(this.layers,A);for(var P=A;P<this.layers.length;P++)this.layers[P].tilemapLayer&&this.layers[P].tilemapLayer.layerIndex--;return this.currentLayerIndex===A&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(S){var A=this.getLayerIndex(S);return A!==null?(S=this.layers[A],S.tilemapLayer.destroy(),y(this.layers,A),this.currentLayerIndex===A&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var S=this.layers,A=0;A<S.length;A++)S[A].tilemapLayer&&S[A].tilemapLayer.destroy(!1);return S.length=0,this.currentLayerIndex=0,this},removeTile:function(S,A,P){A===void 0&&(A=-1),P===void 0&&(P=!0);var R=[];Array.isArray(S)||(S=[S]);for(var L=0;L<S.length;L++){var D=S[L];R.push(this.removeTileAt(D.x,D.y,!0,P,D.tilemapLayer)),A>-1&&this.putTileAt(A,D.x,D.y,P,D.tilemapLayer)}return R},removeTileAt:function(S,A,P,R,L){return P===void 0&&(P=!0),R===void 0&&(R=!0),L=this.getLayer(L),L===null?null:b.RemoveTileAt(S,A,P,R,L)},removeTileAtWorldXY:function(S,A,P,R,L,D){return P===void 0&&(P=!0),R===void 0&&(R=!0),D=this.getLayer(D),D===null?null:b.RemoveTileAtWorldXY(S,A,P,R,L,D)},renderDebug:function(S,A,P){return P=this.getLayer(P),P===null?null:(this.orientation===p.ORTHOGONAL&&b.RenderDebug(S,A,P),this)},renderDebugFull:function(S,A){for(var P=this.layers,R=0;R<P.length;R++)b.RenderDebug(S,A,P[R]);return this},replaceByIndex:function(S,A,P,R,L,D,$){return $=this.getLayer($),$===null?null:(b.ReplaceByIndex(S,A,P,R,L,D,$),this)},setCollision:function(S,A,P,R,L){return A===void 0&&(A=!0),P===void 0&&(P=!0),L===void 0&&(L=!0),R=this.getLayer(R),R===null?null:(b.SetCollision(S,A,P,R,L),this)},setCollisionBetween:function(S,A,P,R,L){return P===void 0&&(P=!0),R===void 0&&(R=!0),L=this.getLayer(L),L===null?null:(b.SetCollisionBetween(S,A,P,R,L),this)},setCollisionByProperty:function(S,A,P,R){return A===void 0&&(A=!0),P===void 0&&(P=!0),R=this.getLayer(R),R===null?null:(b.SetCollisionByProperty(S,A,P,R),this)},setCollisionByExclusion:function(S,A,P,R){return A===void 0&&(A=!0),P===void 0&&(P=!0),R=this.getLayer(R),R===null?null:(b.SetCollisionByExclusion(S,A,P,R),this)},setCollisionFromCollisionGroup:function(S,A,P){return S===void 0&&(S=!0),A===void 0&&(A=!0),P=this.getLayer(P),P===null?null:(b.SetCollisionFromCollisionGroup(S,A,P),this)},setTileIndexCallback:function(S,A,P,R){return R=this.getLayer(R),R===null?null:(b.SetTileIndexCallback(S,A,P,R),this)},setTileLocationCallback:function(S,A,P,R,L,D,$){return $=this.getLayer($),$===null?null:(b.SetTileLocationCallback(S,A,P,R,L,D,$),this)},setLayer:function(S){var A=this.getLayerIndex(S);return A!==null&&(this.currentLayerIndex=A),this},setBaseTileSize:function(S,A){this.tileWidth=S,this.tileHeight=A,this.widthInPixels=this.width*S,this.heightInPixels=this.height*A;for(var P=0;P<this.layers.length;P++){this.layers[P].baseTileWidth=S,this.layers[P].baseTileHeight=A;for(var R=this.layers[P].data,L=this.layers[P].width,D=this.layers[P].height,$=0;$<D;$++)for(var F=0;F<L;F++){var N=R[$][F];N!==null&&N.setSize(void 0,void 0,S,A)}}return this},setLayerTileSize:function(S,A,P){if(P=this.getLayer(P),P===null)return this;P.tileWidth=S,P.tileHeight=A;for(var R=P.data,L=P.width,D=P.height,$=0;$<D;$++)for(var F=0;F<L;F++){var N=R[$][F];N!==null&&N.setSize(S,A)}return this},shuffle:function(S,A,P,R,L){return L=this.getLayer(L),L===null?null:(b.Shuffle(S,A,P,R,L),this)},swapByIndex:function(S,A,P,R,L,D,$){return $=this.getLayer($),$===null?null:(b.SwapByIndex(S,A,P,R,L,D,$),this)},tileToWorldX:function(S,A,P){return P=this.getLayer(P),P===null?null:this._convert.TileToWorldX(S,A,P)},tileToWorldY:function(S,A,P){return P=this.getLayer(P),P===null?null:this._convert.TileToWorldY(S,A,P)},tileToWorldXY:function(S,A,P,R,L){return L=this.getLayer(L),L===null?null:this._convert.TileToWorldXY(S,A,P,R,L)},getTileCorners:function(S,A,P,R){return R=this.getLayer(R),R===null?null:this._convert.GetTileCorners(S,A,P,R)},weightedRandomize:function(S,A,P,R,L,D){return D=this.getLayer(D),D===null?null:(b.WeightedRandomize(A,P,R,L,S,D),this)},worldToTileX:function(S,A,P,R){return R=this.getLayer(R),R===null?null:this._convert.WorldToTileX(S,A,P,R)},worldToTileY:function(S,A,P,R){return R=this.getLayer(R),R===null?null:this._convert.WorldToTileY(S,A,P,R)},worldToTileXY:function(S,A,P,R,L,D){return D=this.getLayer(D),D===null?null:this._convert.WorldToTileXY(S,A,P,R,L,D)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});s.exports=T}),45939:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(44603),v=r(31989);a.register("tilemap",function(h){var u=h!==void 0?h:{};return v(this.scene,u.key,u.tileWidth,u.tileHeight,u.width,u.height,u.data,u.insertNull)})}),46029:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(39429),v=r(31989);a.register("tilemap",function(h,u,l,o,d,p,f){return h===null&&(h=void 0),u===null&&(u=void 0),l===null&&(l=void 0),o===null&&(o=void 0),d===null&&(d=void 0),v(this.scene,h,u,l,o,d,p,f)})}),20442:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(78389),h=r(31401),u=r(95643),l=r(81086),o=r(19218),d=r(26099),p=new a({Extends:u,Mixins:[h.Alpha,h.BlendMode,h.ComputedSize,h.Depth,h.Flip,h.GetBounds,h.Mask,h.Origin,h.Pipeline,h.PostPipeline,h.Transform,h.Visible,h.ScrollFactor,v,o],initialize:function(y,w,x,b,E,C){u.call(this,y,"TilemapLayer"),this.isTilemap=!0,this.tilemap=w,this.layerIndex=x,this.layer=w.layers[x],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=l.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new d,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(b),this.setAlpha(this.layer.alpha),this.setPosition(E,C),this.setOrigin(0,0),this.setSize(w.tileWidth*this.layer.width,w.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(f){var y=[],w=[],x=this.tilemap;Array.isArray(f)||(f=[f]);for(var b=0;b<f.length;b++){var E=f[b];if(typeof E=="string"&&(E=x.getTileset(E)),E){w.push(E);for(var C=E.firstgid,T=0;T<E.total;T++)y[C+T]=E}}this.gidMap=y,this.tileset=w},setRenderOrder:function(f){var y=["right-down","left-down","right-up","left-up"];return typeof f=="string"&&(f=y.indexOf(f)),f>=0&&f<4&&(this._renderOrder=f),this},calculateFacesAt:function(f,y){return l.CalculateFacesAt(f,y,this.layer),this},calculateFacesWithin:function(f,y,w,x){return l.CalculateFacesWithin(f,y,w,x,this.layer),this},createFromTiles:function(f,y,w,x,b){return l.CreateFromTiles(f,y,w,x,b,this.layer)},cull:function(f){return this.cullCallback(this.layer,f,this.culledTiles,this._renderOrder)},copy:function(f,y,w,x,b,E,C){return l.Copy(f,y,w,x,b,E,C,this.layer),this},fill:function(f,y,w,x,b,E){return l.Fill(f,y,w,x,b,E,this.layer),this},filterTiles:function(f,y,w,x,b,E,C){return l.FilterTiles(f,y,w,x,b,E,C,this.layer)},findByIndex:function(f,y,w){return l.FindByIndex(f,y,w,this.layer)},findTile:function(f,y,w,x,b,E,C){return l.FindTile(f,y,w,x,b,E,C,this.layer)},forEachTile:function(f,y,w,x,b,E,C){return l.ForEachTile(f,y,w,x,b,E,C,this.layer),this},setTint:function(f,y,w,x,b,E){f===void 0&&(f=16777215);var C=function(T){T.tint=f,T.tintFill=!1};return this.forEachTile(C,this,y,w,x,b,E)},setTintFill:function(f,y,w,x,b,E){f===void 0&&(f=16777215);var C=function(T){T.tint=f,T.tintFill=!0};return this.forEachTile(C,this,y,w,x,b,E)},getTileAt:function(f,y,w){return l.GetTileAt(f,y,w,this.layer)},getTileAtWorldXY:function(f,y,w,x){return l.GetTileAtWorldXY(f,y,w,x,this.layer)},getIsoTileAtWorldXY:function(f,y,w,x,b){w===void 0&&(w=!0);var E=this.tempVec;return l.IsometricWorldToTileXY(f,y,!0,E,b,this.layer,w),this.getTileAt(E.x,E.y,x)},getTilesWithin:function(f,y,w,x,b){return l.GetTilesWithin(f,y,w,x,b,this.layer)},getTilesWithinShape:function(f,y,w){return l.GetTilesWithinShape(f,y,w,this.layer)},getTilesWithinWorldXY:function(f,y,w,x,b,E){return l.GetTilesWithinWorldXY(f,y,w,x,b,E,this.layer)},hasTileAt:function(f,y){return l.HasTileAt(f,y,this.layer)},hasTileAtWorldXY:function(f,y,w){return l.HasTileAtWorldXY(f,y,w,this.layer)},putTileAt:function(f,y,w,x){return l.PutTileAt(f,y,w,x,this.layer)},putTileAtWorldXY:function(f,y,w,x,b){return l.PutTileAtWorldXY(f,y,w,x,b,this.layer)},putTilesAt:function(f,y,w,x){return l.PutTilesAt(f,y,w,x,this.layer),this},randomize:function(f,y,w,x,b){return l.Randomize(f,y,w,x,b,this.layer),this},removeTileAt:function(f,y,w,x){return l.RemoveTileAt(f,y,w,x,this.layer)},removeTileAtWorldXY:function(f,y,w,x,b){return l.RemoveTileAtWorldXY(f,y,w,x,b,this.layer)},renderDebug:function(f,y){return l.RenderDebug(f,y,this.layer),this},replaceByIndex:function(f,y,w,x,b,E){return l.ReplaceByIndex(f,y,w,x,b,E,this.layer),this},setSkipCull:function(f){return f===void 0&&(f=!0),this.skipCull=f,this},setCullPadding:function(f,y){return f===void 0&&(f=1),y===void 0&&(y=1),this.cullPaddingX=f,this.cullPaddingY=y,this},setCollision:function(f,y,w,x){return l.SetCollision(f,y,w,this.layer,x),this},setCollisionBetween:function(f,y,w,x){return l.SetCollisionBetween(f,y,w,x,this.layer),this},setCollisionByProperty:function(f,y,w){return l.SetCollisionByProperty(f,y,w,this.layer),this},setCollisionByExclusion:function(f,y,w){return l.SetCollisionByExclusion(f,y,w,this.layer),this},setCollisionFromCollisionGroup:function(f,y){return l.SetCollisionFromCollisionGroup(f,y,this.layer),this},setTileIndexCallback:function(f,y,w){return l.SetTileIndexCallback(f,y,w,this.layer),this},setTileLocationCallback:function(f,y,w,x,b,E){return l.SetTileLocationCallback(f,y,w,x,b,E,this.layer),this},shuffle:function(f,y,w,x){return l.Shuffle(f,y,w,x,this.layer),this},swapByIndex:function(f,y,w,x,b,E){return l.SwapByIndex(f,y,w,x,b,E,this.layer),this},tileToWorldX:function(f,y){return this.tilemap.tileToWorldX(f,y,this)},tileToWorldY:function(f,y){return this.tilemap.tileToWorldY(f,y,this)},tileToWorldXY:function(f,y,w,x){return this.tilemap.tileToWorldXY(f,y,w,x,this)},getTileCorners:function(f,y,w){return this.tilemap.getTileCorners(f,y,w,this)},weightedRandomize:function(f,y,w,x,b){return l.WeightedRandomize(y,w,x,b,f,this.layer),this},worldToTileX:function(f,y,w){return this.tilemap.worldToTileX(f,y,w,this)},worldToTileY:function(f,y,w){return this.tilemap.worldToTileY(f,y,w,this)},worldToTileXY:function(f,y,w,x,b){return this.tilemap.worldToTileXY(f,y,w,x,b,this)},destroy:function(f){f===void 0&&(f=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),f&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],u.prototype.destroy.call(this))}});s.exports=p}),16153:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(61340),v=new a,h=new a,u=new a,l=function(o,d,p,f){var y=d.cull(p),w=y.length,x=p.alpha*d.alpha;if(!(w===0||x<=0)){var b=v,E=h,C=u;E.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY),b.copyFrom(p.matrix);var T=o.currentContext,S=d.gidMap;T.save(),f?(b.multiplyWithOffset(f,-p.scrollX*d.scrollFactorX,-p.scrollY*d.scrollFactorY),E.e=d.x,E.f=d.y,b.multiply(E,C),C.copyToContext(T)):(E.e-=p.scrollX*d.scrollFactorX,E.f-=p.scrollY*d.scrollFactorY,E.copyToContext(T)),(!o.antialias||d.scaleX>1||d.scaleY>1)&&(T.imageSmoothingEnabled=!1);for(var A=0;A<w;A++){var P=y[A],R=S[P.index];if(R){var L=R.image.getSourceImage(),D=R.getTileTextureCoordinates(P.index),$=R.tileWidth,F=R.tileHeight;if(!(D===null||$===0||F===0)){var N=$*.5,k=F*.5;D.x+=R.tileOffset.x,D.y+=R.tileOffset.y,T.save(),T.translate(P.pixelX+N,P.pixelY+k),P.rotation!==0&&T.rotate(P.rotation),(P.flipX||P.flipY)&&T.scale(P.flipX?-1:1,P.flipY?-1:1),T.globalAlpha=x*P.alpha,T.drawImage(L,D.x,D.y,$,F,-N,-k,$,F),T.restore()}}}T.restore()}};s.exports=l}),19218:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(29747),v=a,h=a;v=r(99558),h=r(16153),s.exports={renderWebGL:v,renderCanvas:h}}),99558:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(70554),v=function(h,u,l){var o=u.cull(l),d=o.length,p=l.alpha*u.alpha;if(!(d===0||p<=0)){var f=u.gidMap,y=h.pipelines.set(u.pipeline,u),w=a.getTintAppendFloatAlpha,x=u.scrollFactorX,b=u.scrollFactorY,E=u.x,C=u.y,T=u.scaleX,S=u.scaleY;h.pipelines.preBatch(u);for(var A=0;A<d;A++){var P=o[A],R=f[P.index];if(R){var L=R.getTileTextureCoordinates(P.index),D=R.tileWidth,$=R.tileHeight;if(!(!L||D===0||$===0)){var F=D*.5,N=$*.5,k=R.glTexture,j=y.setTexture2D(k,u),W=D,G=$,K=L.x,z=L.y,X=R.tileOffset.x,U=R.tileOffset.y,Z=w(P.tint,p*P.alpha);y.batchTexture(u,k,k.width,k.height,E+P.pixelX*T+(F*T-X),C+P.pixelY*S+(N*S-U),D,$,T,S,P.rotation,P.flipX,P.flipY,x,b,F,N,K,z,W,G,Z,Z,Z,Z,P.tintFill,0,0,l,null,!0,j,!0)}}}h.pipelines.postBatch(u)}};s.exports=v}),33629:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(26099),h=new a({initialize:function(l,o,d,p,f,y,w,x,b){(d===void 0||d<=0)&&(d=32),(p===void 0||p<=0)&&(p=32),f===void 0&&(f=0),y===void 0&&(y=0),w===void 0&&(w={}),x===void 0&&(x={}),this.name=l,this.firstgid=o,this.tileWidth=d,this.tileHeight=p,this.tileMargin=f,this.tileSpacing=y,this.tileProperties=w,this.tileData=x,this.tileOffset=new v,b!==void 0&&this.tileOffset.set(b.x,b.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(u){return this.containsTileIndex(u)?this.tileProperties[u-this.firstgid]:null},getTileData:function(u){return this.containsTileIndex(u)?this.tileData[u-this.firstgid]:null},getTileCollisionGroup:function(u){var l=this.getTileData(u);return l&&l.objectgroup?l.objectgroup:null},containsTileIndex:function(u){return u>=this.firstgid&&u<this.firstgid+this.total},getTileTextureCoordinates:function(u){return this.containsTileIndex(u)?this.texCoordinates[u-this.firstgid]:null},setImage:function(u){this.image=u;var l=u.get(),o=u.getFrameBounds();return this.glTexture=l.source.glTexture,l.width>o.width||l.height>o.height?this.updateTileData(l.width,l.height):this.updateTileData(o.width,o.height,o.x,o.y),this},setTileSize:function(u,l){return u!==void 0&&(this.tileWidth=u),l!==void 0&&(this.tileHeight=l),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(u,l){return u!==void 0&&(this.tileMargin=u),l!==void 0&&(this.tileSpacing=l),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(u,l,o,d){o===void 0&&(o=0),d===void 0&&(d=0);var p=(l-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),f=(u-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(p%1!==0||f%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),p=Math.floor(p),f=Math.floor(f),this.rows=p,this.columns=f,this.total=p*f,this.texCoordinates.length=0;for(var y=this.tileMargin+o,w=this.tileMargin+d,x=0;x<this.rows;x++){for(var b=0;b<this.columns;b++)this.texCoordinates.push({x:y,y:w}),y+=this.tileWidth+this.tileSpacing;y=this.tileMargin+o,w+=this.tileHeight+this.tileSpacing}return this}});s.exports=h}),72023:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(7423),v=function(h,u,l){var o=a(h,u,!0,l),d=a(h,u-1,!0,l),p=a(h,u+1,!0,l),f=a(h-1,u,!0,l),y=a(h+1,u,!0,l),w=o&&o.collides;return w&&(o.faceTop=!0,o.faceBottom=!0,o.faceLeft=!0,o.faceRight=!0),d&&d.collides&&(w&&(o.faceTop=!1),d.faceBottom=!w),p&&p.collides&&(w&&(o.faceBottom=!1),p.faceTop=!w),f&&f.collides&&(w&&(o.faceLeft=!1),f.faceRight=!w),y&&y.collides&&(w&&(o.faceRight=!1),y.faceLeft=!w),o&&!o.collides&&o.resetFaces(),o};s.exports=v}),42573:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(7423),v=r(7386),h=function(u,l,o,d,p){for(var f=null,y=null,w=null,x=null,b=v(u,l,o,d,null,p),E=0;E<b.length;E++){var C=b[E];C&&(C.collides?(f=a(C.x,C.y-1,!0,p),y=a(C.x,C.y+1,!0,p),w=a(C.x-1,C.y,!0,p),x=a(C.x+1,C.y,!0,p),C.faceTop=!(f&&f.collides),C.faceBottom=!(y&&y.collides),C.faceLeft=!(w&&w.collides),C.faceRight=!(x&&x.collides)):C.resetFaces())}};s.exports=h}),33528:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(26099),v=new a,h=function(u,l,o,d){var p=o.tilemapLayer,f=p.cullPaddingX,y=p.cullPaddingY,w=p.tilemap.tileToWorldXY(u,l,v,d,p);return w.x>d.worldView.x+p.scaleX*o.tileWidth*(-f-.5)&&w.x<d.worldView.right+p.scaleX*o.tileWidth*(f-.5)&&w.y>d.worldView.y+p.scaleY*o.tileHeight*(-y-1)&&w.y<d.worldView.bottom+p.scaleY*o.tileHeight*(y-.5)};s.exports=h}),1785:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(42573),v=r(7386),h=r(62991),u=r(23029),l=function(o,d,p,f,y,w,x,b){x===void 0&&(x=!0);var E=v(o,d,p,f,null,b),C=[];E.forEach(function(D){var $=new u(D.layer,D.index,D.x,D.y,D.width,D.height,D.baseWidth,D.baseHeight);$.copy(D),C.push($)});for(var T=y-o,S=w-d,A=0;A<C.length;A++){var P=C[A],R=P.x+T,L=P.y+S;h(R,L,b)&&b.data[L][R]&&(P.x=R,P.y=L,P.updatePixelXY(),b.data[L][R]=P)}x&&a(y-1,w-1,p+2,f+2,b),E.length=0,C.length=0};s.exports=l}),78419:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(62644),v=r(7386),h=r(27987),u=function(l,o,d,p,f,y){d||(d={}),Array.isArray(l)||(l=[l]);var w=y.tilemapLayer;p||(p=w.scene),f||(f=p.cameras.main);var x=y.width,b=y.height,E=v(0,0,x,b,null,y),C=[],T,S=function(L,D,$){for(var F=0;F<$.length;F++){var N=$[F];L.hasOwnProperty(N)||(L[N]=D[N])}};for(T=0;T<E.length;T++){var A=E[T],P=a(d);if(l.indexOf(A.index)!==-1){var R=w.tileToWorldXY(A.x,A.y,void 0,f,y);P.x=R.x,P.y=R.y,S(P,A,["rotation","flipX","flipY","alpha","visible","tint"]),P.hasOwnProperty("origin")||(P.x+=A.width*.5,P.y+=A.height*.5),P.hasOwnProperty("useSpriteSheet")&&(P.key=A.tileset.image,P.frame=A.index-A.tileset.firstgid),C.push(p.make.sprite(P))}}if(Array.isArray(o))for(T=0;T<l.length;T++)h(l[T],o[T],0,0,x,b,y);else if(o!==null)for(T=0;T<l.length;T++)h(l[T],o,0,0,x,b,y);return C};s.exports=u}),19545:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(87841),v=r(63448),h=r(56583),u=new a,l=function(o,d){var p=o.tilemapLayer.tilemap,f=o.tilemapLayer,y=Math.floor(p.tileWidth*f.scaleX),w=Math.floor(p.tileHeight*f.scaleY),x=h(d.worldView.x-f.x,y,0,!0)-f.cullPaddingX,b=v(d.worldView.right-f.x,y,0,!0)+f.cullPaddingX,E=h(d.worldView.y-f.y,w,0,!0)-f.cullPaddingY,C=v(d.worldView.bottom-f.y,w,0,!0)+f.cullPaddingY;return u.setTo(x,E,b-x,C-E)};s.exports=l}),30003:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(19545),v=r(32483),h=function(u,l,o,d){o===void 0&&(o=[]),d===void 0&&(d=0),o.length=0;var p=u.tilemapLayer,f=a(u,l);return(p.skipCull||p.scrollFactorX!==1||p.scrollFactorY!==1)&&(f.left=0,f.right=u.width,f.top=0,f.bottom=u.height),v(u,f,d,o),o};s.exports=h}),35137:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(7386),v=r(42573),h=r(20576),u=function(l,o,d,p,f,y,w){for(var x=w.collideIndexes.indexOf(l)!==-1,b=a(o,d,p,f,null,w),E=0;E<b.length;E++)b[E].index=l,h(b[E],x);y&&v(o-1,d-1,p+2,f+2,w)};s.exports=u}),40253:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(7386),v=function(h,u,l,o,d,p,f,y){var w=a(l,o,d,p,f,y);return w.filter(h,u)};s.exports=v}),52692:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h){a===void 0&&(a=0),v===void 0&&(v=!1);var u=0,l,o,d;if(v){for(o=h.height-1;o>=0;o--)for(l=h.width-1;l>=0;l--)if(d=h.data[o][l],d&&d.index===r){if(u===a)return d;u+=1}}else for(o=0;o<h.height;o++)for(l=0;l<h.width;l++)if(d=h.data[o][l],d&&d.index===r){if(u===a)return d;u+=1}return null};s.exports=g}),66151:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(7386),v=function(h,u,l,o,d,p,f,y){var w=a(l,o,d,p,f,y);return w.find(h,u)||null};s.exports=v}),97560:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(7386),v=function(h,u,l,o,d,p,f,y){var w=a(l,o,d,p,f,y);w.forEach(h,u)};s.exports=v}),43305:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(91907),v=r(30003),h=r(9474),u=r(14018),l=r(29747),o=r(54503),d=function(p){return p===a.ORTHOGONAL?v:p===a.HEXAGONAL?h:p===a.STAGGERED?o:p===a.ISOMETRIC?u:l};s.exports=d}),7423:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(62991),v=function(h,u,l,o){if(a(h,u,o)){var d=o.data[u][h]||null;return d?d.index===-1?l?d:null:d:null}else return null};s.exports=v}),60540:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(7423),v=r(26099),h=new v,u=function(l,o,d,p,f){return f.tilemapLayer.worldToTileXY(l,o,!0,h,p),a(h.x,h.y,d,f)};s.exports=u}),55826:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(26099),v=function(h,u,l,o){var d=o.baseTileWidth,p=o.baseTileHeight,f=o.tilemapLayer,y=0,w=0;f&&(l||(l=f.scene.cameras.main),y=f.x+l.scrollX*(1-f.scrollFactorX),w=f.y+l.scrollY*(1-f.scrollFactorY),d*=f.scaleX,p*=f.scaleY);var x=y+h*d,b=w+u*p;return[new a(x,b),new a(x+d,b),new a(x+d,b+p),new a(x,b+p)]};s.exports=v}),11758:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(91907),v=r(27229),h=r(29747),u=r(55826),l=function(o){return o===a.ORTHOGONAL?u:o===a.ISOMETRIC?h:o===a.HEXAGONAL?v:(o===a.STAGGERED,h)};s.exports=l}),39167:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(91907),v=r(29747),h=r(97281),u=function(l){return l===a.ORTHOGONAL?h:v};s.exports=u}),62e3:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(91907),v=r(19951),h=r(14127),u=r(29747),l=r(97202),o=r(70326),d=function(p){return p===a.ORTHOGONAL?o:p===a.ISOMETRIC?h:p===a.HEXAGONAL?v:p===a.STAGGERED?l:u};s.exports=d}),5984:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(91907),v=r(29747),h=r(28054),u=r(29650),l=function(o){return o===a.ORTHOGONAL?u:o===a.STAGGERED?h:v};s.exports=l}),7386:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(95540),v=function(h,u,l,o,d,p){h===void 0&&(h=0),u===void 0&&(u=0),l===void 0&&(l=p.width),o===void 0&&(o=p.height),d||(d={});var f=a(d,"isNotEmpty",!1),y=a(d,"isColliding",!1),w=a(d,"hasInterestingFace",!1);h<0&&(l+=h,h=0),u<0&&(o+=u,u=0),h+l>p.width&&(l=Math.max(p.width-h,0)),u+o>p.height&&(o=Math.max(p.height-u,0));for(var x=[],b=u;b<u+o;b++)for(var E=h;E<h+l;E++){var C=p.data[b][E];if(C!==null){if(f&&C.index===-1||y&&!C.collides||w&&!C.hasInterestingFace)continue;x.push(C)}}return x};s.exports=v}),91141:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(55738),v=r(7386),h=r(91865),u=r(29747),l=r(26099),o=r(91907),d=function(x,b){return h.RectangleToTriangle(b,x)},p=new l,f=new l,y=new l,w=function(x,b,E,C){if(C.orientation!==o.ORTHOGONAL)return console.warn("GetTilesWithinShape only works with orthogonal tilemaps"),[];if(x===void 0)return[];var T=u;x instanceof a.Circle?T=h.CircleToRectangle:x instanceof a.Rectangle?T=h.RectangleToRectangle:x instanceof a.Triangle?T=d:x instanceof a.Line&&(T=h.LineToRectangle),C.tilemapLayer.worldToTileXY(x.left,x.top,!0,f,E);var S=f.x,A=f.y;C.tilemapLayer.worldToTileXY(x.right,x.bottom,!1,y,E);var P=Math.ceil(y.x),R=Math.ceil(y.y),L=Math.max(P-S,1),D=Math.max(R-A,1),$=v(S,A,L,D,b,C),F=C.tileWidth,N=C.tileHeight;C.tilemapLayer&&(F*=C.tilemapLayer.scaleX,N*=C.tilemapLayer.scaleY);for(var k=[],j=new a.Rectangle(0,0,F,N),W=0;W<$.length;W++){var G=$[W];C.tilemapLayer.tileToWorldXY(G.x,G.y,p,E),j.x=p.x,j.y=p.y,T(x,j)&&k.push(G)}return k};s.exports=w}),96523:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(7386),v=r(26099),h=new v,u=new v,l=function(o,d,p,f,y,w,x){var b=x.tilemapLayer.tilemap._convert.WorldToTileXY;b(o,d,!0,h,w,x);var E=h.x,C=h.y;b(o+p,d+f,!1,u,w,x);var T=Math.ceil(u.x),S=Math.ceil(u.y);return a(E,C,T-E,S-C,y,x)};s.exports=l}),96113:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(91907),v=r(20242),h=r(10095),u=function(l){return l===a.ORTHOGONAL?h:v};s.exports=u}),16926:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(91907),v=r(86625),h=r(96897),u=r(29747),l=r(15108),o=r(85896),d=function(p){return p===a.ORTHOGONAL?o:p===a.ISOMETRIC?h:p===a.HEXAGONAL?v:p===a.STAGGERED?l:u};s.exports=d}),55762:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(91907),v=r(20242),h=r(51900),u=r(63288),l=function(o){return o===a.ORTHOGONAL?u:o===a.STAGGERED?h:v};s.exports=l}),45091:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(62991),v=function(h,u,l){if(a(h,u,l)){var o=l.data[u][h];return o!==null&&o.index>-1}else return!1};s.exports=v}),24152:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(45091),v=r(26099),h=new v,u=function(l,o,d,p){p.tilemapLayer.worldToTileXY(l,o,!0,h,d);var f=h.x,y=h.y;return a(f,y,p)};s.exports=u}),90454:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(63448),v=r(56583),h=function(u,l){var o=u.tilemapLayer.tilemap,d=u.tilemapLayer,p=Math.floor(o.tileWidth*d.scaleX),f=Math.floor(o.tileHeight*d.scaleY),y=u.hexSideLength,w,x,b,E;if(u.staggerAxis==="y"){var C=(f-y)/2+y;w=v(l.worldView.x-d.x,p,0,!0)-d.cullPaddingX,x=a(l.worldView.right-d.x,p,0,!0)+d.cullPaddingX,b=v(l.worldView.y-d.y,C,0,!0)-d.cullPaddingY,E=a(l.worldView.bottom-d.y,C,0,!0)+d.cullPaddingY}else{var T=(p-y)/2+y;w=v(l.worldView.x-d.x,T,0,!0)-d.cullPaddingX,x=a(l.worldView.right-d.x,T,0,!0)+d.cullPaddingX,b=v(l.worldView.y-d.y,f,0,!0)-d.cullPaddingY,E=a(l.worldView.bottom-d.y,f,0,!0)+d.cullPaddingY}return{left:w,right:x,top:b,bottom:E}};s.exports=h}),9474:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(90454),v=r(32483),h=function(u,l,o,d){o===void 0&&(o=[]),d===void 0&&(d=0),o.length=0;var p=u.tilemapLayer,f=a(u,l);return p.skipCull&&p.scrollFactorX===1&&p.scrollFactorY===1&&(f.left=0,f.right=u.width,f.top=0,f.bottom=u.height),v(u,f,d,o),o};s.exports=h}),27229:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(19951),v=r(26099),h=new v,u=function(l,o,d,p){var f=p.baseTileWidth,y=p.baseTileHeight,w=p.tilemapLayer;w&&(f*=w.scaleX,y*=w.scaleY);var x=a(l,o,h,d,p),b=[],E=.5773502691896257,C,T;p.staggerAxis==="y"?(C=E*f,T=y/2):(C=f/2,T=E*y);for(var S=0;S<6;S++){var A=2*Math.PI*(.5-S)/6;b.push(new v(x.x+C*Math.cos(A),x.y+T*Math.sin(A)))}return b};s.exports=u}),19951:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(26099),v=function(h,u,l,o,d){l||(l=new a);var p=d.baseTileWidth,f=d.baseTileHeight,y=d.tilemapLayer,w=0,x=0;y&&(o||(o=y.scene.cameras.main),w=y.x+o.scrollX*(1-y.scrollFactorX),x=y.y+o.scrollY*(1-y.scrollFactorY),p*=y.scaleX,f*=y.scaleY);var b=p/2,E=f/2,C,T,S=d.staggerAxis,A=d.staggerIndex;return S==="y"?(C=w+p*h+p,T=x+1.5*u*E+E,u%2===0&&(A==="odd"?C-=b:C+=b)):S==="x"&&A==="odd"&&(C=w+1.5*h*b+b,T=x+f*h+f,h%2===0&&(A==="odd"?T-=E:T+=E)),l.set(C,T)};s.exports=v}),86625:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(26099),v=function(h,u,l,o,d,p){o||(o=new a);var f=p.baseTileWidth,y=p.baseTileHeight,w=p.tilemapLayer;w&&(d||(d=w.scene.cameras.main),h=h-(w.x+d.scrollX*(1-w.scrollFactorX)),u=u-(w.y+d.scrollY*(1-w.scrollFactorY)),f*=w.scaleX,y*=w.scaleY);var x=.5773502691896257,b=-.3333333333333333,E=0,C=.6666666666666666,T=f/2,S=y/2,A,P,R,L,D;p.staggerAxis==="y"?(A=(h-T)/(x*f),P=(u-S)/S,R=x*A+b*P,L=E*A+C*P):(A=(h-T)/T,P=(u-S)/(x*y),R=b*A+x*P,L=C*A+E*P),D=-R-L;var $=Math.round(R),F=Math.round(L),N=Math.round(D),k=Math.abs($-R),j=Math.abs(F-L),W=Math.abs(N-D);k>j&&k>W?$=-F-N:j>W&&(F=-$-N);var G,K=F;return p.staggerIndex==="odd"?G=K%2===0?F/2+$:F/2+$-.5:G=K%2===0?F/2+$:F/2+$+.5,o.set(G,K)};s.exports=v}),62991:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){return r>=0&&r<v.width&&a>=0&&a<v.height};s.exports=g}),14018:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(33528),v=function(h,u,l,o){l===void 0&&(l=[]),o===void 0&&(o=0),l.length=0;var d=h.tilemapLayer,p=h.data,f=h.width,y=h.height,w=d.skipCull,x=0,b=f,E=0,C=y,T,S,A;if(o===0)for(S=E;S<C;S++)for(T=x;T<b;T++)A=p[S][T],!(!A||A.index===-1||!A.visible||A.alpha===0)&&(!w&&!a(T,S,h,u)||l.push(A));else if(o===1)for(S=E;S<C;S++)for(T=b;T>=x;T--)A=p[S][T],!(!A||A.index===-1||!A.visible||A.alpha===0)&&(!w&&!a(T,S,h,u)||l.push(A));else if(o===2)for(S=C;S>=E;S--)for(T=x;T<b;T++)A=p[S][T],!(!A||A.index===-1||!A.visible||A.alpha===0)&&(!w&&!a(T,S,h,u)||l.push(A));else if(o===3)for(S=C;S>=E;S--)for(T=b;T>=x;T--)A=p[S][T],!(!A||A.index===-1||!A.visible||A.alpha===0)&&(!w&&!a(T,S,h,u)||l.push(A));return d.tilesDrawn=l.length,d.tilesTotal=f*y,l};s.exports=v}),14127:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(26099),v=function(h,u,l,o,d){l||(l=new a);var p=d.baseTileWidth,f=d.baseTileHeight,y=d.tilemapLayer,w=0,x=0;y&&(o||(o=y.scene.cameras.main),w=y.x+o.scrollX*(1-y.scrollFactorX),p*=y.scaleX,x=y.y+o.scrollY*(1-y.scrollFactorY),f*=y.scaleY);var b=w+(h-u)*(p/2),E=x+(h+u)*(f/2);return l.set(b,E)};s.exports=v}),96897:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(26099),v=function(h,u,l,o,d,p,f){o||(o=new a);var y=p.baseTileWidth,w=p.baseTileHeight,x=p.tilemapLayer;x&&(d||(d=x.scene.cameras.main),u=u-(x.y+d.scrollY*(1-x.scrollFactorY)),w*=x.scaleY,h=h-(x.x+d.scrollX*(1-x.scrollFactorX)),y*=x.scaleX);var b=y/2,E=w/2;h=h-b,f||(u=u-w);var C=.5*(h/b+u/E),T=.5*(-h/b+u/E);return l&&(C=Math.floor(C),T=Math.floor(T)),o.set(C,T)};s.exports=v}),71558:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(23029),v=r(62991),h=r(72023),u=r(20576),l=function(o,d,p,f,y){if(f===void 0&&(f=!0),!v(d,p,y))return null;var w,x=y.data[p][d],b=x&&x.collides;o instanceof a?(y.data[p][d]===null&&(y.data[p][d]=new a(y,o.index,d,p,y.tileWidth,y.tileHeight)),y.data[p][d].copy(o)):(w=o,y.data[p][d]===null?y.data[p][d]=new a(y,w,d,p,y.tileWidth,y.tileHeight):y.data[p][d].index=w);var E=y.data[p][d],C=y.collideIndexes.indexOf(E.index)!==-1;if(w=o instanceof a?o.index:o,w===-1)E.width=y.tileWidth,E.height=y.tileHeight;else{var T=y.tilemapLayer.tilemap,S=T.tiles,A=S[w][2],P=T.tilesets[A];E.width=P.tileWidth,E.height=P.tileHeight}return u(E,C),f&&b!==E.collides&&h(d,p,y),E};s.exports=l}),26303:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(71558),v=r(26099),h=new v,u=function(l,o,d,p,f,y){return y.tilemapLayer.worldToTileXY(o,d,!0,h,f,y),a(l,h.x,h.y,p,y)};s.exports=u}),14051:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(42573),v=r(71558),h=function(u,l,o,d,p){if(d===void 0&&(d=!0),!Array.isArray(u))return null;Array.isArray(u[0])||(u=[u]);for(var f=u.length,y=u[0].length,w=0;w<f;w++)for(var x=0;x<y;x++){var b=u[w][x];v(b,l+x,o+w,!1,p)}d&&a(l-1,o-1,y+2,f+2,p)};s.exports=h}),77389:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(7386),v=r(26546),h=function(u,l,o,d,p,f){var y,w=a(u,l,o,d,{},f);if(!p)for(p=[],y=0;y<w.length;y++)p.indexOf(w[y].index)===-1&&p.push(w[y].index);for(y=0;y<w.length;y++)w[y].index=v(p)};s.exports=h}),63557:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(23029),v=r(62991),h=r(72023),u=function(l,o,d,p,f){if(d===void 0&&(d=!0),p===void 0&&(p=!0),!v(l,o,f))return null;var y=f.data[o][l];if(y)f.data[o][l]=d?null:new a(f,-1,l,o,f.tileWidth,f.tileHeight);else return null;return p&&y&&y.collides&&h(l,o,f),y};s.exports=u}),94178:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(63557),v=r(26099),h=new v,u=function(l,o,d,p,f,y){return y.tilemapLayer.worldToTileXY(l,o,!0,h,f,y),a(h.x,h.y,d,p,y)};s.exports=u}),15533:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(7386),v=r(3956),h=new v(105,210,231,150),u=new v(243,134,48,200),l=new v(40,39,37,150),o=function(d,p,f){p===void 0&&(p={});var y=p.tileColor!==void 0?p.tileColor:h,w=p.collidingTileColor!==void 0?p.collidingTileColor:u,x=p.faceColor!==void 0?p.faceColor:l,b=a(0,0,f.width,f.height,null,f);d.translateCanvas(f.tilemapLayer.x,f.tilemapLayer.y),d.scaleCanvas(f.tilemapLayer.scaleX,f.tilemapLayer.scaleY);for(var E=0;E<b.length;E++){var C=b[E],T=C.tileset?C.tileset.tileOffset:{x:0,y:0},S=C.width,A=C.height,P=C.pixelX-T.x,R=C.pixelY-T.y,L=C.collides?w:y;L!==null&&(d.fillStyle(L.color,L.alpha/255),d.fillRect(P,R,S,A)),P+=1,R+=1,S-=2,A-=2,x!==null&&(d.lineStyle(1,x.color,x.alpha/255),C.faceTop&&d.lineBetween(P,R,P+S,R),C.faceRight&&d.lineBetween(P+S,R,P+S,R+A),C.faceBottom&&d.lineBetween(P,R+A,P+S,R+A),C.faceLeft&&d.lineBetween(P,R,P,R+A))}};s.exports=o}),27987:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(7386),v=function(h,u,l,o,d,p,f){for(var y=a(l,o,d,p,null,f),w=0;w<y.length;w++)y[w]&&y[w].index===h&&(y[w].index=u)};s.exports=v}),32483:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h){var u=r.data,l=r.width,o=r.height,d=r.tilemapLayer,p=Math.max(0,a.left),f=Math.min(l,a.right),y=Math.max(0,a.top),w=Math.min(o,a.bottom),x,b,E;if(v===0)for(b=y;b<w;b++)for(x=p;u[b]&&x<f;x++)E=u[b][x],!(!E||E.index===-1||!E.visible||E.alpha===0)&&h.push(E);else if(v===1)for(b=y;b<w;b++)for(x=f;u[b]&&x>=p;x--)E=u[b][x],!(!E||E.index===-1||!E.visible||E.alpha===0)&&h.push(E);else if(v===2)for(b=w;b>=y;b--)for(x=p;u[b]&&x<f;x++)E=u[b][x],!(!E||E.index===-1||!E.visible||E.alpha===0)&&h.push(E);else if(v===3)for(b=w;b>=y;b--)for(x=f;u[b]&&x>=p;x--)E=u[b][x],!(!E||E.index===-1||!E.visible||E.alpha===0)&&h.push(E);return d.tilesDrawn=h.length,d.tilesTotal=l*o,h};s.exports=g}),57068:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(20576),v=r(42573),h=r(9589),u=function(l,o,d,p,f){o===void 0&&(o=!0),d===void 0&&(d=!0),f===void 0&&(f=!0),Array.isArray(l)||(l=[l]);for(var y=0;y<l.length;y++)h(l[y],o,p);if(f)for(var w=0;w<p.height;w++)for(var x=0;x<p.width;x++){var b=p.data[w][x];b&&l.indexOf(b.index)!==-1&&a(b,o)}d&&v(0,0,p.width,p.height,p)};s.exports=u}),37266:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(20576),v=r(42573),h=r(9589),u=function(l,o,d,p,f,y){if(d===void 0&&(d=!0),p===void 0&&(p=!0),y===void 0&&(y=!0),!(l>o)){for(var w=l;w<=o;w++)h(w,d,f);if(y)for(var x=0;x<f.height;x++)for(var b=0;b<f.width;b++){var E=f.data[x][b];E&&E.index>=l&&E.index<=o&&a(E,d)}p&&v(0,0,f.width,f.height,f)}};s.exports=u}),75661:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(20576),v=r(42573),h=r(9589),u=function(l,o,d,p){o===void 0&&(o=!0),d===void 0&&(d=!0),Array.isArray(l)||(l=[l]);for(var f=0;f<p.height;f++)for(var y=0;y<p.width;y++){var w=p.data[f][y];w&&l.indexOf(w.index)===-1&&(a(w,o),h(w.index,o,p))}d&&v(0,0,p.width,p.height,p)};s.exports=u}),64740:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(20576),v=r(42573),h=r(97022),u=function(l,o,d,p){o===void 0&&(o=!0),d===void 0&&(d=!0);for(var f=0;f<p.height;f++)for(var y=0;y<p.width;y++){var w=p.data[f][y];if(w){for(var x in l)if(h(w.properties,x)){var b=l[x];Array.isArray(b)||(b=[b]);for(var E=0;E<b.length;E++)w.properties[x]===b[E]&&a(w,o)}}}d&&v(0,0,p.width,p.height,p)};s.exports=u}),63307:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(20576),v=r(42573),h=function(u,l,o){u===void 0&&(u=!0),l===void 0&&(l=!0);for(var d=0;d<o.height;d++)for(var p=0;p<o.width;p++){var f=o.data[d][p];if(f){var y=f.getCollisionGroup();y&&y.objects&&y.objects.length>0&&a(f,u)}}l&&v(0,0,o.width,o.height,o)};s.exports=h}),9589:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){var h=v.collideIndexes.indexOf(r);a&&h===-1?v.collideIndexes.push(r):!a&&h!==-1&&v.collideIndexes.splice(h,1)};s.exports=g}),20576:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){a?r.setCollision(!0,!0,!0,!0,!1):r.resetCollision(!1)};s.exports=g}),79583:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h){if(typeof r=="number")h.callbacks[r]=a!==null?{callback:a,callbackContext:v}:void 0;else for(var u=0,l=r.length;u<l;u++)h.callbacks[r[u]]=a!==null?{callback:a,callbackContext:v}:void 0};s.exports=g}),93254:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(7386),v=function(h,u,l,o,d,p,f){for(var y=a(h,u,l,o,null,f),w=0;w<y.length;w++)y[w].setCollisionCallback(d,p)};s.exports=v}),32903:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(7386),v=r(33680),h=function(u,l,o,d,p){var f=a(u,l,o,d,null,p),y=f.map(function(x){return x.index});v(y);for(var w=0;w<f.length;w++)f[w].index=y[w]};s.exports=h}),61325:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(63448),v=r(56583),h=function(u,l){var o=u.tilemapLayer.tilemap,d=u.tilemapLayer,p=Math.floor(o.tileWidth*d.scaleX),f=Math.floor(o.tileHeight*d.scaleY),y=v(l.worldView.x-d.x,p,0,!0)-d.cullPaddingX,w=a(l.worldView.right-d.x,p,0,!0)+d.cullPaddingX,x=v(l.worldView.y-d.y,f/2,0,!0)-d.cullPaddingY,b=a(l.worldView.bottom-d.y,f/2,0,!0)+d.cullPaddingY;return{left:y,right:w,top:x,bottom:b}};s.exports=h}),54503:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(61325),v=r(32483),h=function(u,l,o,d){o===void 0&&(o=[]),d===void 0&&(d=0),o.length=0;var p=u.tilemapLayer,f=a(u,l);return p.skipCull&&p.scrollFactorX===1&&p.scrollFactorY===1&&(f.left=0,f.right=u.width,f.top=0,f.bottom=u.height),v(u,f,d,o),o};s.exports=h}),97202:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(26099),v=function(h,u,l,o,d){l||(l=new a);var p=d.baseTileWidth,f=d.baseTileHeight,y=d.tilemapLayer,w=0,x=0;y&&(o||(o=y.scene.cameras.main),w=y.x+o.scrollX*(1-y.scrollFactorX),p*=y.scaleX,x=y.y+o.scrollY*(1-y.scrollFactorY),f*=y.scaleY);var b=w+h*p+u%2*(p/2),E=x+u*(f/2);return l.set(b,E)};s.exports=v}),28054:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){var h=v.baseTileHeight,u=v.tilemapLayer,l=0;return u&&(a===void 0&&(a=u.scene.cameras.main),l=u.y+a.scrollY*(1-u.scrollFactorY),h*=u.scaleY),l+r*(h/2)+h};s.exports=g}),15108:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(26099),v=function(h,u,l,o,d,p){o||(o=new a);var f=p.baseTileWidth,y=p.baseTileHeight,w=p.tilemapLayer;w&&(d||(d=w.scene.cameras.main),u=u-(w.y+d.scrollY*(1-w.scrollFactorY)),y*=w.scaleY,h=h-(w.x+d.scrollX*(1-w.scrollFactorX)),f*=w.scaleX);var x=l?Math.floor(u/(y/2)):u/(y/2),b=l?Math.floor((h+x%2*.5*f)/f):(h+x%2*.5*f)/f;return o.set(b,x)};s.exports=v}),51900:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h){var u=h.baseTileHeight,l=h.tilemapLayer;return l&&(v||(v=l.scene.cameras.main),r=r-(l.y+v.scrollY*(1-l.scrollFactorY)),u*=l.scaleY),a?Math.floor(r/(u/2)):r/(u/2)};s.exports=g}),86560:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(7386),v=function(h,u,l,o,d,p,f){for(var y=a(l,o,d,p,null,f),w=0;w<y.length;w++)y[w]&&(y[w].index===h?y[w].index=u:y[w].index===u&&(y[w].index=h))};s.exports=v}),97281:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){var h=v.baseTileWidth,u=v.tilemapLayer,l=0;return u&&(a||(a=u.scene.cameras.main),l=u.x+a.scrollX*(1-u.scrollFactorX),h*=u.scaleX),l+r*h};s.exports=g}),70326:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(97281),v=r(29650),h=r(26099),u=function(l,o,d,p,f){return d||(d=new h(0,0)),d.x=a(l,p,f),d.y=v(o,p,f),d};s.exports=u}),29650:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){var h=v.baseTileHeight,u=v.tilemapLayer,l=0;return u&&(a||(a=u.scene.cameras.main),l=u.y+a.scrollY*(1-u.scrollFactorY),h*=u.scaleY),l+r*h};s.exports=g}),77366:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(7386),v=r(75508),h=function(u,l,o,d,p,f){if(p){var y,w=a(u,l,o,d,null,f),x=0;for(y=0;y<p.length;y++)x+=p[y].weight;if(!(x<=0))for(y=0;y<w.length;y++){for(var b=v.RND.frac()*x,E=0,C=-1,T=0;T<p.length;T++)if(E+=p[T].weight,b<=E){var S=p[T].index;C=Array.isArray(S)?S[Math.floor(v.RND.frac()*S.length)]:S;break}w[y].index=C}}};s.exports=h}),10095:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(85896),v=r(26099),h=new v,u=function(l,o,d,p){return a(l,0,o,h,d,p),h.x};s.exports=u}),85896:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(26099),v=function(h,u,l,o,d,p){l===void 0&&(l=!0),o||(o=new a);var f=p.baseTileWidth,y=p.baseTileHeight,w=p.tilemapLayer;w&&(d||(d=w.scene.cameras.main),h=h-(w.x+d.scrollX*(1-w.scrollFactorX)),u=u-(w.y+d.scrollY*(1-w.scrollFactorY)),f*=w.scaleX,y*=w.scaleY);var x=h/f,b=u/y;return l&&(x=Math.floor(x),b=Math.floor(b)),o.set(x,b)};s.exports=v}),63288:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(85896),v=r(26099),h=new v,u=function(l,o,d,p){return a(0,l,o,h,d,p),h.y};s.exports=u}),81086:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={CalculateFacesAt:r(72023),CalculateFacesWithin:r(42573),CheckIsoBounds:r(33528),Copy:r(1785),CreateFromTiles:r(78419),CullBounds:r(19545),CullTiles:r(30003),Fill:r(35137),FilterTiles:r(40253),FindByIndex:r(52692),FindTile:r(66151),ForEachTile:r(97560),GetCullTilesFunction:r(43305),GetTileAt:r(7423),GetTileAtWorldXY:r(60540),GetTileCorners:r(55826),GetTileCornersFunction:r(11758),GetTilesWithin:r(7386),GetTilesWithinShape:r(91141),GetTilesWithinWorldXY:r(96523),GetTileToWorldXFunction:r(39167),GetTileToWorldXYFunction:r(62e3),GetTileToWorldYFunction:r(5984),GetWorldToTileXFunction:r(96113),GetWorldToTileXYFunction:r(16926),GetWorldToTileYFunction:r(55762),HasTileAt:r(45091),HasTileAtWorldXY:r(24152),HexagonalCullBounds:r(90454),HexagonalCullTiles:r(9474),HexagonalGetTileCorners:r(27229),HexagonalTileToWorldXY:r(19951),HexagonalWorldToTileXY:r(86625),IsInLayerBounds:r(62991),IsometricCullTiles:r(14018),IsometricTileToWorldXY:r(14127),IsometricWorldToTileXY:r(96897),PutTileAt:r(71558),PutTileAtWorldXY:r(26303),PutTilesAt:r(14051),Randomize:r(77389),RemoveTileAt:r(63557),RemoveTileAtWorldXY:r(94178),RenderDebug:r(15533),ReplaceByIndex:r(27987),RunCull:r(32483),SetCollision:r(57068),SetCollisionBetween:r(37266),SetCollisionByExclusion:r(75661),SetCollisionByProperty:r(64740),SetCollisionFromCollisionGroup:r(63307),SetLayerCollisionIndex:r(9589),SetTileCollision:r(20576),SetTileIndexCallback:r(79583),SetTileLocationCallback:r(93254),Shuffle:r(32903),StaggeredCullBounds:r(61325),StaggeredCullTiles:r(54503),StaggeredTileToWorldXY:r(97202),StaggeredTileToWorldY:r(28054),StaggeredWorldToTileXY:r(15108),StaggeredWorldToTileY:r(51900),SwapByIndex:r(86560),TileToWorldX:r(97281),TileToWorldXY:r(70326),TileToWorldY:r(29650),WeightedRandomize:r(77366),WorldToTileX:r(10095),WorldToTileXY:r(85896),WorldToTileY:r(63288)}}),91907:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}}),21829:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={ORIENTATION:r(91907)};s.exports=a}),62501:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(79291),v=r(21829),h={Components:r(81086),Parsers:r(57442),Formats:r(80341),ImageCollection:r(16536),ParseToTilemap:r(31989),Tile:r(23029),Tilemap:r(49075),TilemapCreator:r(45939),TilemapFactory:r(46029),Tileset:r(33629),TilemapLayer:r(20442),Orientation:r(91907),LayerData:r(14977),MapData:r(87010),ObjectLayer:r(48700)};h=a(!1,h,v.ORIENTATION),s.exports=h}),14977:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(91907),h=r(95540),u=new a({initialize:function(o){o===void 0&&(o={}),this.name=h(o,"name","layer"),this.id=h(o,"id",0),this.x=h(o,"x",0),this.y=h(o,"y",0),this.width=h(o,"width",0),this.height=h(o,"height",0),this.tileWidth=h(o,"tileWidth",0),this.tileHeight=h(o,"tileHeight",0),this.baseTileWidth=h(o,"baseTileWidth",this.tileWidth),this.baseTileHeight=h(o,"baseTileHeight",this.tileHeight),this.orientation=h(o,"orientation",v.ORTHOGONAL),this.widthInPixels=h(o,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=h(o,"heightInPixels",this.height*this.baseTileHeight),this.alpha=h(o,"alpha",1),this.visible=h(o,"visible",!0),this.properties=h(o,"properties",[]),this.indexes=h(o,"indexes",[]),this.collideIndexes=h(o,"collideIndexes",[]),this.callbacks=h(o,"callbacks",[]),this.bodies=h(o,"bodies",[]),this.data=h(o,"data",[]),this.tilemapLayer=h(o,"tilemapLayer",null),this.hexSideLength=h(o,"hexSideLength",0),this.staggerAxis=h(o,"staggerAxis","y"),this.staggerIndex=h(o,"staggerIndex","odd")}});s.exports=u}),87010:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(91907),h=r(95540),u=new a({initialize:function(o){o===void 0&&(o={}),this.name=h(o,"name","map"),this.width=h(o,"width",0),this.height=h(o,"height",0),this.infinite=h(o,"infinite",!1),this.tileWidth=h(o,"tileWidth",0),this.tileHeight=h(o,"tileHeight",0),this.widthInPixels=h(o,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=h(o,"heightInPixels",this.height*this.tileHeight),this.format=h(o,"format",null),this.orientation=h(o,"orientation",v.ORTHOGONAL),this.renderOrder=h(o,"renderOrder","right-down"),this.version=h(o,"version","1"),this.properties=h(o,"properties",{}),this.layers=h(o,"layers",[]),this.images=h(o,"images",[]),this.objects=h(o,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=h(o,"collision",{}),this.tilesets=h(o,"tilesets",[]),this.imageCollections=h(o,"imageCollections",[]),this.tiles=h(o,"tiles",[]),this.hexSideLength=h(o,"hexSideLength",0),this.staggerAxis=h(o,"staggerAxis","y"),this.staggerIndex=h(o,"staggerIndex","odd")}});s.exports=u}),48700:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(95540),h=new a({initialize:function(l){l===void 0&&(l={}),this.name=v(l,"name","object layer"),this.id=v(l,"id",0),this.opacity=v(l,"opacity",1),this.properties=v(l,"properties",{}),this.propertyTypes=v(l,"propertytypes",{}),this.type=v(l,"type","objectgroup"),this.visible=v(l,"visible",!0),this.objects=v(l,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});s.exports=h}),6641:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(91907),v=function(h){return h=h.toLowerCase(),h==="isometric"?a.ISOMETRIC:h==="staggered"?a.STAGGERED:h==="hexagonal"?a.HEXAGONAL:a.ORTHOGONAL};s.exports=v}),46177:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(80341),v=r(2342),h=r(82593),u=r(46594),l=r(87021),o=function(d,p,f,y,w,x){var b;switch(p){case a.ARRAY_2D:b=v(d,f,y,w,x);break;case a.CSV:b=h(d,f,y,w,x);break;case a.TILED_JSON:b=u(d,f,x);break;case a.WELTMEISTER:b=l(d,f,x);break;default:console.warn("Unrecognized tilemap data format: "+p),b=null}return b};s.exports=o}),2342:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(80341),v=r(14977),h=r(87010),u=r(23029),l=function(o,d,p,f,y){for(var w=new v({tileWidth:p,tileHeight:f}),x=new h({name:o,tileWidth:p,tileHeight:f,format:a.ARRAY_2D,layers:[w]}),b=[],E=d.length,C=0,T=0;T<d.length;T++){b[T]=[];for(var S=d[T],A=0;A<S.length;A++){var P=parseInt(S[A],10);isNaN(P)||P===-1?b[T][A]=y?null:new u(w,-1,A,T,p,f):b[T][A]=new u(w,P,A,T,p,f)}C===0&&(C=S.length)}return x.width=w.width=C,x.height=w.height=E,x.widthInPixels=w.widthInPixels=C*p,x.heightInPixels=w.heightInPixels=E*f,w.data=b,x};s.exports=l}),82593:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(80341),v=r(2342),h=function(u,l,o,d,p){var f=l.trim().split(`
`).map(function(w){return w.split(",")}),y=v(u,f,o,d,p);return y.format=a.CSV,y};s.exports=h}),6656:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(14977),v=r(23029),h=function(u,l){for(var o=[],d=0;d<u.layer.length;d++){for(var p=u.layer[d],f=new a({name:p.name,width:p.width,height:p.height,tileWidth:p.tilesize,tileHeight:p.tilesize,visible:p.visible===1}),y=[],w=[],x=0;x<p.data.length;x++){for(var b=0;b<p.data[x].length;b++){var E=p.data[x][b]-1,C;E>-1?C=new v(f,E,b,x,p.tilesize,p.tilesize):C=l?null:new v(f,-1,b,x,p.tilesize,p.tilesize),y.push(C)}w.push(y),y=[]}f.data=w,o.push(f)}return o};s.exports=h}),96483:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(33629),v=function(h){for(var u=[],l=[],o=0;o<h.layer.length;o++){var d=h.layer[o],p=d.tilesetName;p!==""&&l.indexOf(p)===-1&&(l.push(p),u.push(new a(p,0,d.tilesize,d.tilesize,0,0)))}return u};s.exports=v}),87021:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(80341),v=r(87010),h=r(6656),u=r(96483),l=function(o,d,p){if(d.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+o),null;for(var f=0,y=0,w=0;w<d.layer.length;w++)d.layer[w].width>f&&(f=d.layer[w].width),d.layer[w].height>y&&(y=d.layer[w].height);var x=new v({width:f,height:y,name:o,tileWidth:d.layer[0].tilesize,tileHeight:d.layer[0].tilesize,format:a.WELTMEISTER});return x.layers=h(d,p),x.tilesets=u(d),x};s.exports=l}),52833:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={ParseTileLayers:r(6656),ParseTilesets:r(96483),ParseWeltmeister:r(87021)}}),57442:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={FromOrientationString:r(6641),Parse:r(46177),Parse2DArray:r(2342),ParseCSV:r(82593),Impact:r(52833),Tiled:r(96761)}}),51233:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(79291),v=function(h){for(var u,l,o,d,p,f=0;f<h.layers.length;f++){u=h.layers[f],d=null;for(var y=0;y<u.data.length;y++){p=u.data[y];for(var w=0;w<p.length;w++)l=p[w],!(l===null||l.index<0)&&(o=h.tiles[l.index][2],d=h.tilesets[o],l.width=d.tileWidth,l.height=d.tileHeight,d.tileProperties&&d.tileProperties[l.index-d.firstgid]&&(l.properties=a(l.properties,d.tileProperties[l.index-d.firstgid])))}}};s.exports=v}),41868:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){for(var a=window.atob(r),v=a.length,h=new Array(v/4),u=0;u<v;u+=4)h[u/4]=(a.charCodeAt(u)|a.charCodeAt(u+1)<<8|a.charCodeAt(u+2)<<16|a.charCodeAt(u+3)<<24)>>>0;return h};s.exports=g}),84101:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(33629),v=function(h){var u,l,o=[];for(u=0;u<h.imageCollections.length;u++)for(var d=h.imageCollections[u],p=d.images,f=0;f<p.length;f++){var y=p[f],w={x:0,y:y.height-h.tileHeight};l=new a(y.image,y.gid,y.width,y.height,0,0,void 0,void 0,w),l.updateTileData(y.width,y.height),h.tilesets.push(l)}for(u=0;u<h.tilesets.length;u++){l=h.tilesets[u];for(var x=l.tileMargin,b=l.tileMargin,E=0,C=0,T=0,S=l.firstgid;S<l.firstgid+l.total&&(o[S]=[x,b,u],x+=l.tileWidth+l.tileSpacing,E++,!(E===l.total||(C++,C===l.columns&&(x=l.tileMargin,b+=l.tileHeight+l.tileSpacing,C=0,T++,T===l.rows))));S++);}return o};s.exports=v}),79677:((s,g,r)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(95540),v=function(h,u,l){if(!u)return{i:0,layers:h.layers,name:"",opacity:1,visible:!0,x:0,y:0};var o=u.x+a(u,"startx",0)*h.tilewidth+a(u,"offsetx",0),d=u.y+a(u,"starty",0)*h.tileheight+a(u,"offsety",0);return{i:0,layers:u.layers,name:l.name+u.name+"/",opacity:l.opacity*u.opacity,visible:l.visible&&u.visible,x:l.x+o,y:l.y+d}};s.exports=v}),29920:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=2147483648,r=1073741824,a=536870912,v=function(h){var u=!!(h&g),l=!!(h&r),o=!!(h&a);h=h&536870911;var d=0,p=!1;return u&&l&&o?(d=Math.PI/2,p=!0):u&&l&&!o?(d=Math.PI,p=!1):u&&!l&&o?(d=Math.PI/2,p=!1):u&&!l&&!o?(d=0,p=!0):!u&&l&&o?(d=3*Math.PI/2,p=!1):!u&&l&&!o?(d=Math.PI,p=!0):!u&&!l&&o?(d=3*Math.PI/2,p=!0):!u&&!l&&!o&&(d=0,p=!1),{gid:h,flippedHorizontal:u,flippedVertical:l,flippedAntiDiagonal:o,rotation:d,flipped:p}};s.exports=v}),12635:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(95540),v=r(79677),h=function(u){for(var l=[],o=[],d=v(u);d.i<d.layers.length||o.length>0;){if(d.i>=d.layers.length){if(o.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}d=o.pop();continue}var p=d.layers[d.i];if(d.i++,p.type!=="imagelayer"){if(p.type==="group"){var f=v(u,p,d);o.push(d),d=f}continue}var y=a(p,"offsetx",0)+a(p,"startx",0),w=a(p,"offsety",0)+a(p,"starty",0);l.push({name:d.name+p.name,image:p.image,x:d.x+y+p.x,y:d.y+w+p.y,alpha:d.opacity*p.opacity,visible:d.visible&&p.visible,properties:a(p,"properties",{})})}return l};s.exports=h}),46594:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(51233),v=r(84101),h=r(91907),u=r(62644),l=r(80341),o=r(6641),d=r(87010),p=r(12635),f=r(22611),y=r(28200),w=r(24619),x=function(b,E,C){var T=u(E),S=new d({width:T.width,height:T.height,name:b,tileWidth:T.tilewidth,tileHeight:T.tileheight,orientation:o(T.orientation),format:l.TILED_JSON,version:T.version,properties:T.properties,renderOrder:T.renderorder,infinite:T.infinite});if(S.orientation===h.HEXAGONAL)if(S.hexSideLength=T.hexsidelength,S.staggerAxis=T.staggeraxis,S.staggerIndex=T.staggerindex,S.staggerAxis==="y"){var A=(S.tileHeight-S.hexSideLength)/2;S.widthInPixels=S.tileWidth*(S.width+.5),S.heightInPixels=S.height*(S.hexSideLength+A)+A}else{var P=(S.tileWidth-S.hexSideLength)/2;S.widthInPixels=S.width*(S.hexSideLength+P)+P,S.heightInPixels=S.tileHeight*(S.height+.5)}S.layers=y(T,C),S.images=p(T);var R=w(T);return S.tilesets=R.tilesets,S.imageCollections=R.imageCollections,S.objects=f(T),S.tiles=v(S),a(S),S};s.exports=x}),52205:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(18254),v=r(29920),h=function(o){return{x:o.x,y:o.y}},u=["id","name","type","rotation","properties","visible","x","y","width","height"],l=function(o,d,p){d===void 0&&(d=0),p===void 0&&(p=0);var f=a(o,u);if(f.x+=d,f.y+=p,o.gid){var y=v(o.gid);f.gid=y.gid,f.flippedHorizontal=y.flippedHorizontal,f.flippedVertical=y.flippedVertical,f.flippedAntiDiagonal=y.flippedAntiDiagonal}else o.polyline?f.polyline=o.polyline.map(h):o.polygon?f.polygon=o.polygon.map(h):o.ellipse?f.ellipse=o.ellipse:o.text?f.text=o.text:o.point?f.point=!0:f.rectangle=!0;return f};s.exports=l}),22611:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(95540),v=r(52205),h=r(48700),u=r(79677),l=function(o){for(var d=[],p=[],f=u(o);f.i<f.layers.length||p.length>0;){if(f.i>=f.layers.length){if(p.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}f=p.pop();continue}var y=f.layers[f.i];if(f.i++,y.opacity*=f.opacity,y.visible=f.visible&&y.visible,y.type!=="objectgroup"){if(y.type==="group"){var w=u(o,y,f);p.push(f),f=w}continue}y.name=f.name+y.name;for(var x=f.x+a(y,"startx",0)+a(y,"offsetx",0),b=f.y+a(y,"starty",0)+a(y,"offsety",0),E=[],C=0;C<y.objects.length;C++){var T=v(y.objects[C],x,b);E.push(T)}var S=new h(y);S.objects=E,d.push(S)}return d};s.exports=l}),28200:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(41868),v=r(91907),h=r(79677),u=r(6641),l=r(95540),o=r(14977),d=r(29920),p=r(23029),f=function(y,w){for(var x=l(y,"infinite",!1),b=[],E=[],C=h(y);C.i<C.layers.length||E.length>0;){if(C.i>=C.layers.length){if(E.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}C=E.pop();continue}var T=C.layers[C.i];if(C.i++,T.type!=="tilelayer"){if(T.type==="group"){var S=h(y,T,C);E.push(C),C=S}continue}if(T.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+T.name+"'");continue}else if(T.encoding&&T.encoding==="base64"){if(T.chunks)for(var A=0;A<T.chunks.length;A++)T.chunks[A].data=a(T.chunks[A].data);T.data&&(T.data=a(T.data)),delete T.encoding}var P,R,L,D,$,F,N=[],k=0;if(x){var j=l(T,"startx",0)+T.x,W=l(T,"starty",0)+T.y;P=new o({name:C.name+T.name,id:T.id,x:C.x+l(T,"offsetx",0)+j*y.tilewidth,y:C.y+l(T,"offsety",0)+W*y.tileheight,width:T.width,height:T.height,tileWidth:y.tilewidth,tileHeight:y.tileheight,alpha:C.opacity*T.opacity,visible:C.visible&&T.visible,properties:l(T,"properties",[]),orientation:u(y.orientation)}),P.orientation===v.HEXAGONAL&&(P.hexSideLength=y.hexsidelength,P.staggerAxis=y.staggeraxis,P.staggerIndex=y.staggerindex,P.staggerAxis==="y"?($=(P.tileHeight-P.hexSideLength)/2,P.widthInPixels=P.tileWidth*(P.width+.5),P.heightInPixels=P.height*(P.hexSideLength+$)+$):(F=(P.tileWidth-P.hexSideLength)/2,P.widthInPixels=P.width*(P.hexSideLength+F)+F,P.heightInPixels=P.tileHeight*(P.height+.5)));for(var G=0;G<T.height;G++){N[G]=[null];for(var K=0;K<T.width;K++)N[G][K]=null}for(G=0,le=T.chunks.length;G<le;G++)for(var z=T.chunks[G],X=z.x-j,U=z.y-W,Z=0,V=0,J=z.data.length;V<J;V++){var Q=k+X,ee=Z+U;R=d(z.data[V]),R.gid>0?(L=new p(P,R.gid,Q,ee,y.tilewidth,y.tileheight),L.rotation=R.rotation,L.flipX=R.flipped,N[ee][Q]=L):(D=w?null:new p(P,-1,Q,ee,y.tilewidth,y.tileheight),N[ee][Q]=D),k++,k===z.width&&(Z++,k=0)}}else{P=new o({name:C.name+T.name,id:T.id,x:C.x+l(T,"offsetx",0)+T.x,y:C.y+l(T,"offsety",0)+T.y,width:T.width,height:T.height,tileWidth:y.tilewidth,tileHeight:y.tileheight,alpha:C.opacity*T.opacity,visible:C.visible&&T.visible,properties:l(T,"properties",[]),orientation:u(y.orientation)}),P.orientation===v.HEXAGONAL&&(P.hexSideLength=y.hexsidelength,P.staggerAxis=y.staggeraxis,P.staggerIndex=y.staggerindex,P.staggerAxis==="y"?($=(P.tileHeight-P.hexSideLength)/2,P.widthInPixels=P.tileWidth*(P.width+.5),P.heightInPixels=P.height*(P.hexSideLength+$)+$):(F=(P.tileWidth-P.hexSideLength)/2,P.widthInPixels=P.width*(P.hexSideLength+F)+F,P.heightInPixels=P.tileHeight*(P.height+.5)));for(var te=[],ie=0,le=T.data.length;ie<le;ie++)R=d(T.data[ie]),R.gid>0?(L=new p(P,R.gid,k,N.length,y.tilewidth,y.tileheight),L.rotation=R.rotation,L.flipX=R.flipped,te.push(L)):(D=w?null:new p(P,-1,k,N.length,y.tilewidth,y.tileheight),te.push(D)),k++,k===T.width&&(N.push(te),k=0,te=[])}P.data=N,b.push(P)}return b};s.exports=f}),24619:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(33629),v=r(16536),h=r(52205),u=r(57880),l=function(o){for(var d=[],p=[],f=null,y,w=0;w<o.tilesets.length;w++){var x=o.tilesets[w];if(x.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(x.image){var b=new a(x.name,x.firstgid,x.tilewidth,x.tileheight,x.margin,x.spacing,void 0,void 0,x.tileoffset);if(o.version>1){var E=void 0,C=void 0;if(Array.isArray(x.tiles)){E=E||{},C=C||{};for(var T=0;T<x.tiles.length;T++){var S=x.tiles[T];if(S.properties){var A={};S.properties.forEach(function(G){A[G.name]=G.value}),C[S.id]=A}if(S.objectgroup&&((E[S.id]||(E[S.id]={})).objectgroup=S.objectgroup,S.objectgroup.objects)){var P=S.objectgroup.objects.map(function(G){return h(G)});E[S.id].objectgroup.objects=P}S.animation&&((E[S.id]||(E[S.id]={})).animation=S.animation),S.type&&((E[S.id]||(E[S.id]={})).type=S.type)}}Array.isArray(x.wangsets)&&(E=E||{},C=C||{},u(x.wangsets,E)),E&&(b.tileData=E,b.tileProperties=C)}else if(x.tileproperties&&(b.tileProperties=x.tileproperties),x.tiles){b.tileData=x.tiles;for(y in b.tileData){var R=b.tileData[y].objectgroup;if(R&&R.objects){var L=R.objects.map(function(G){return h(G)});b.tileData[y].objectgroup.objects=L}}}b.updateTileData(x.imagewidth,x.imageheight),d.push(b)}else{var D=new v(x.name,x.firstgid,x.tilewidth,x.tileheight,x.margin,x.spacing,x.properties),$=0;for(T=0;T<x.tiles.length;T++){S=x.tiles[T];var F=S.image,N=parseInt(S.id,10),k=x.firstgid+N,j=S.imagewidth,W=S.imageheight;D.addImage(k,F,j,W),$=Math.max(N,$)}D.maxId=$,p.push(D)}f&&(f.lastgid=x.firstgid-1),f=x}return{tilesets:d,imageCollections:p}};s.exports=l}),57880:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){for(var v=0;v<r.length;v++){var h=r[v],u=v;if(h.name&&h.name!==""&&(u=h.name),Array.isArray(h.wangtiles)&&h.wangtiles.length>0){var l={},o={},d,p,f;if(Array.isArray(h.edgecolors))for(d=0;d<h.edgecolors.length;d++)f=1+d,p=h.edgecolors[d],p.name!==""&&(l[f]=p.name);if(Array.isArray(h.cornercolors))for(d=0;d<h.cornercolors.length;d++)f=1+d,p=h.cornercolors[d],p.name!==""&&(o[f]=p.name);if(Array.isArray(h.colors))for(d=0;d<h.colors.length;d++)p=h.colors[d],f=1+d,p.name!==""&&(l[f]=o[f]=p.name);for(var y=[l,o,l,o,l,o,l,o],w=0;w<h.wangtiles.length;w++){var x=h.wangtiles[w],b=a[x.tileid]||(a[x.tileid]={});b=b.wangid||(b.wangid={});for(var E=[],C=0;C<Math.min(y.length,x.wangid.length);C++){if(p=x.wangid[C],p===0){E.push(void 0);continue}var T=y[C][p];if(T!==void 0){E.push(T);continue}E.push(p)}b[u]=E}}}};s.exports=g}),96761:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={AssignTileProperties:r(51233),Base64Decode:r(41868),BuildTilesetIndex:r(84101),CreateGroupLayer:r(79677),ParseGID:r(29920),ParseImageLayers:r(12635),ParseJSONTiled:r(46594),ParseObject:r(52205),ParseObjectLayers:r(22611),ParseTileLayers:r(28200),ParseTilesets:r(24619)}}),33385:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(37277),h=r(44594),u=r(94880),l=r(72905),o=new a({initialize:function(p){this.scene=p,this.systems=p.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],p.sys.events.once(h.BOOT,this.boot,this),p.sys.events.on(h.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(h.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var d=this.systems.events;d.on(h.PRE_UPDATE,this.preUpdate,this),d.on(h.UPDATE,this.update,this),d.once(h.SHUTDOWN,this.shutdown,this)},addEvent:function(d){var p;if(d instanceof u){if(p=d,this.removeEvent(p),p.elapsed=p.startAt,p.hasDispatched=!1,p.repeatCount=p.repeat===-1||p.loop?999999999999:p.repeat,p.delay<=0&&p.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay")}else p=new u(d);return this._pendingInsertion.push(p),p},delayedCall:function(d,p,f,y){return this.addEvent({delay:d,callback:p,args:f,callbackScope:y})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(d){Array.isArray(d)||(d=[d]);for(var p=0;p<d.length;p++){var f=d[p];l(this._pendingRemoval,f),l(this._pendingInsertion,f),l(this._active,f)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var d=this._pendingRemoval.length,p=this._pendingInsertion.length;if(!(d===0&&p===0)){var f,y;for(f=0;f<d;f++){y=this._pendingRemoval[f];var w=this._active.indexOf(y);w>-1&&this._active.splice(w,1),y.destroy()}for(f=0;f<p;f++)y=this._pendingInsertion[f],this._active.push(y);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(d,p){if(this.now=d,!this.paused){p*=this.timeScale;for(var f=0;f<this._active.length;f++){var y=this._active[f];if(!y.paused&&(y.elapsed+=p*y.timeScale,y.elapsed>=y.delay)){var w=y.elapsed-y.delay;if(y.elapsed=y.delay,!y.hasDispatched&&y.callback&&(y.hasDispatched=!0,y.callback.apply(y.callbackScope,y.args)),y.repeatCount>0){if(y.repeatCount--,w>=y.delay)for(;w>=y.delay&&y.repeatCount>0;)y.callback&&y.callback.apply(y.callbackScope,y.args),w-=y.delay,y.repeatCount--;y.elapsed=w,y.hasDispatched=!1}else y.hasDispatched&&this._pendingRemoval.push(y)}}}},shutdown:function(){var d;for(d=0;d<this._pendingInsertion.length;d++)this._pendingInsertion[d].destroy();for(d=0;d<this._active.length;d++)this._active[d].destroy();for(d=0;d<this._pendingRemoval.length;d++)this._pendingRemoval[d].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var p=this.systems.events;p.off(h.PRE_UPDATE,this.preUpdate,this),p.off(h.UPDATE,this.update,this),p.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(h.START,this.start,this),this.scene=null,this.systems=null}});v.register("Clock",o,"time"),s.exports=o}),96120:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(50792),h=r(39429),u=r(95540),l=r(44594),o=r(89809),d=new a({Extends:v,initialize:function(f,y){v.call(this),this.scene=f,this.systems=f.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var w=this.systems.events;w.on(l.PRE_UPDATE,this.preUpdate,this),w.on(l.UPDATE,this.update,this),w.once(l.SHUTDOWN,this.destroy,this),y&&this.add(y)},preUpdate:function(p,f){this.paused||(this.elapsed+=f*this.timeScale)},update:function(){if(!(this.paused||this.complete)){var p,f=this.events,y=!1,w=this.systems,x;for(p=0;p<f.length;p++){var b=f[p];if(!b.complete&&b.time<=this.elapsed){if(b.complete=!0,this.totalComplete++,x=b.target?b.target:this,b.if&&!b.if.call(x,b))continue;if(b.once&&(y=!0),b.set&&b.target)for(var E in b.set)b.target[E]=b.set[E];this.iteration&&b.repeat++,b.loop&&b.repeat&&b.loop.call(x),b.tween&&(b.tweenInstance=w.tweens.add(b.tween)),b.sound&&(typeof b.sound=="string"?w.sound.play(b.sound):w.sound.play(b.sound.key,b.sound.config)),b.event&&this.emit(b.event,x),b.run&&b.run.call(x),b.stop&&this.stop()}}if(y)for(p=0;p<f.length;p++)f[p].complete&&f[p].once&&(f.splice(p,1),p--);this.totalComplete>=f.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(o.COMPLETE,this)}},play:function(p){return p===void 0&&(p=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,p&&this.reset(),this},pause:function(){this.paused=!0;for(var p=this.events,f=0;f<p.length;f++){var y=p[f];y.tweenInstance&&(y.tweenInstance.paused=!0)}return this},repeat:function(p){return(p===void 0||p===!0)&&(p=-1),p===!1&&(p=0),this.loop=p,this},resume:function(){this.paused=!1;for(var p=this.events,f=0;f<p.length;f++){var y=p[f];y.tweenInstance&&(y.tweenInstance.paused=!1)}return this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(p){p===void 0&&(p=!1),this.elapsed=0,p||(this.iteration=0);for(var f=this.events,y=0;y<f.length;y++){var w=f[y];w.complete=!1,p||(w.repeat=0),w.tweenInstance&&w.tweenInstance.stop()}return this.play(!1)},add:function(p){Array.isArray(p)||(p=[p]);var f=this.events,y=0;f.length>0&&(y=f[f.length-1].time);for(var w=0;w<p.length;w++){var x=p[w],b=u(x,"at",0),E=u(x,"in",null);E!==null&&(b=this.elapsed+E);var C=u(x,"from",null);C!==null&&(b=y+C),f.push({complete:!1,time:b,repeat:0,if:u(x,"if",null),run:u(x,"run",null),loop:u(x,"loop",null),event:u(x,"event",null),target:u(x,"target",null),set:u(x,"set",null),tween:u(x,"tween",null),sound:u(x,"sound",null),once:u(x,"once",!1),stop:u(x,"stop",!1)}),y=b}return this.complete=!1,this},clear:function(){for(var p=this.events,f=0;f<p.length;f++){var y=p[f];y.tweenInstance&&y.tweenInstance.stop()}return p=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var p=Math.min(this.totalComplete,this.events.length);return p/this.events.length},destroy:function(){var p=this.systems.events;p.off(l.PRE_UPDATE,this.preUpdate,this),p.off(l.UPDATE,this.update,this),p.off(l.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null}});h.register("timeline",function(p){return new d(this.scene,p)}),s.exports=d}),94880:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(95540),h=new a({initialize:function(l){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(l)},reset:function(u){if(this.delay=v(u,"delay",0),this.repeat=v(u,"repeat",0),this.loop=v(u,"loop",!1),this.callback=v(u,"callback",void 0),this.callbackScope=v(u,"callbackScope",this),this.args=v(u,"args",[]),this.timeScale=v(u,"timeScale",1),this.startAt=v(u,"startAt",0),this.paused=v(u,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay<=0&&this.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var u=this.delay+this.delay*this.repeat,l=this.elapsed+this.delay*(this.repeat-this.repeatCount);return l/u}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(u){u===void 0&&(u=!1),this.elapsed=this.delay,this.hasDispatched=!u,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});s.exports=h}),35945:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="complete"}),89809:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={COMPLETE:r(35945)}}),90291:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Clock:r(33385),Events:r(89809),Timeline:r(96120),TimerEvent:r(94880)}}),40382:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(72905),v=r(83419),h=r(43491),u=r(88032),l=r(37277),o=r(44594),d=r(93109),p=r(86081),f=r(8357),y=r(43960),w=r(26012),x=new v({initialize:function(E){this.scene=E,this.events=E.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},boot:function(){this.events.once(o.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(o.UPDATE,this.update,this),this.events.once(o.SHUTDOWN,this.shutdown,this)},create:function(b){Array.isArray(b)||(b=[b]);for(var E=[],C=0;C<b.length;C++){var T=b[C];T instanceof p||T instanceof y?E.push(T):Array.isArray(T.tweens)?E.push(w(this,T)):E.push(f(this,T))}return E.length===1?E[0]:E},add:function(b){var E=b,C=this.tweens;return E instanceof p||E instanceof y||(Array.isArray(E.tweens)?E=w(this,E):E=f(this,E)),C.push(E.reset()),E},addMultiple:function(b){for(var E,C=[],T=this.tweens,S=0;S<b.length;S++)E=b[S],E instanceof p||E instanceof y||(Array.isArray(E.tweens)?E=w(this,E):E=f(this,E)),T.push(E.reset()),C.push(E);return C},chain:function(b){var E=w(this,b);return this.tweens.push(E.init()),E},getChainedTweens:function(b){return b.getChainedTweens()},has:function(b){return this.tweens.indexOf(b)>-1},existing:function(b){return this.has(b)||this.tweens.push(b.reset()),this},addCounter:function(b){var E=u(this,b);return this.tweens.push(E.reset()),E},stagger:function(b,E){return d(b,E)},setLagSmooth:function(b,E){return b===void 0&&(b=1/1e-8),E===void 0&&(E=0),this.maxLag=b,this.lagSkip=Math.min(E,this.maxLag),this},setFps:function(b){return b===void 0&&(b=240),this.gap=1e3/b,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(b){var E=Date.now()-this.prevTime;E>this.maxLag&&(this.startTime+=E-this.lagSkip),this.prevTime+=E;var C=this.prevTime-this.startTime,T=C-this.nextTime,S=C-this.time*1e3;return T>0||b?(C/=1e3,this.time=C,this.nextTime+=T+(T>=this.gap?4:this.gap-T)):S=0,S},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(b){b===void 0&&(b=!1);var E=this.getDelta(b);if(!(E<=0)){this.processing=!0;var C,T,S=[],A=this.tweens;for(C=0;C<A.length;C++)T=A[C],T.update(E)&&S.push(T);var P=S.length;if(P&&A.length>0){for(C=0;C<P;C++){T=S[C];var R=A.indexOf(T);R>-1&&(T.isPendingRemove()||T.isDestroyed())&&(A.splice(R,1),T.destroy())}S.length=0}this.processing=!1}},remove:function(b){return this.processing?b.setPendingRemoveState():(a(this.tweens,b),b.setRemovedState()),this},reset:function(b){return this.existing(b),b.seek(),b.setActiveState(),this},makeActive:function(b){return this.existing(b),b.setActiveState(),this},each:function(b,E){var C,T=[null];for(C=1;C<arguments.length;C++)T.push(arguments[C]);return this.tweens.forEach(function(S){T[0]=S,b.apply(E,T)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(b){var E=[],C=this.tweens;Array.isArray(b)?b=h(b):b=[b];for(var T=b.length,S=0;S<C.length;S++)for(var A=C[S],P=0;P<T;P++)!A.isDestroyed()&&A.hasTarget(b[P])&&E.push(A);return E},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(b){return this.timeScale=b,this},isTweening:function(b){for(var E=this.tweens,C,T=0;T<E.length;T++)if(C=E[T],C.isPlaying()&&C.hasTarget(b))return!0;return!1},killAll:function(){for(var b=this.processing?this.getTweens():this.tweens,E=0;E<b.length;E++)b[E].destroy();return this.processing||(b.length=0),this},killTweensOf:function(b){for(var E=this.getTweensOf(b),C=0;C<E.length;C++)E[C].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(o.UPDATE,this.update,this),this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.events=null}});l.register("TweenManager",x,"tweens"),s.exports=x}),57355:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){return r&&r.hasOwnProperty(a)?r[a]:v};s.exports=g}),6113:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(62640),v=r(35355),h=function(u,l){var o=a.Power0;if(typeof u=="string")if(a.hasOwnProperty(u))o=a[u];else{var d="";if(u.indexOf(".")){d=u.substring(u.indexOf(".")+1);var p=d.toLowerCase();p==="in"?d="easeIn":p==="out"?d="easeOut":p==="inout"&&(d="easeInOut")}u=v(u.substring(0,u.indexOf(".")+1)+d),a.hasOwnProperty(u)&&(o=a[u])}else typeof u=="function"&&(o=u);if(!l)return o;var f=l.slice(0);return f.unshift(0),function(y){return f[0]=y,o.apply(this,f)}};s.exports=h}),91389:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(89318),v=r(77259),h=r(28392),u={bezier:a,catmull:v,catmullrom:v,linear:h},l=function(o){if(o===null)return null;var d=u.linear;return typeof o=="string"?u.hasOwnProperty(o)&&(d=u[o]):typeof o=="function"&&(d=o),d};s.exports=l}),55292:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){var h;if(r.hasOwnProperty(a)){var u=typeof r[a];u==="function"?h=function(l,o,d,p,f,y){return r[a](l,o,d,p,f,y)}:h=function(){return r[a]}}else typeof v=="function"?h=v:h=function(){return v};return h};s.exports=g}),82985:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(81076),v=function(h){var u,l=[];if(h.hasOwnProperty("props"))for(u in h.props)u.substring(0,1)!=="_"&&l.push({key:u,value:h.props[u]});else for(u in h)a.indexOf(u)===-1&&u.substring(0,1)!=="_"&&l.push({key:u,value:h[u]});return l};s.exports=v}),62329:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(35154),v=function(h){var u=a(h,"targets",null);return u===null||(typeof u=="function"&&(u=u.call()),Array.isArray(u)||(u=[u])),u};s.exports=v}),17777:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(30976),v=r(99472);function h(p){return!!p.getActive&&typeof p.getActive=="function"}function u(p){return!!p.getStart&&typeof p.getStart=="function"}function l(p){return!!p.getEnd&&typeof p.getEnd=="function"}function o(p){return u(p)||l(p)||h(p)}var d=function(p,f){var y,w=function(G,K,z){return z},x=function(G,K,z){return z},b=null,E=typeof f;if(E==="number")w=function(){return f};else if(Array.isArray(f))x=function(){return f[0]},w=function(){return f[f.length-1]};else if(E==="string"){var C=f.toLowerCase(),T=C.substring(0,6)==="random",S=C.substring(0,3)==="int";if(T||S){var A=C.indexOf("("),P=C.indexOf(")"),R=C.indexOf(",");if(A&&P&&R){var L=parseFloat(C.substring(A+1,R)),D=parseFloat(C.substring(R+1,P));T?w=function(){return v(L,D)}:w=function(){return a(L,D)}}else throw new Error("invalid random() format")}else{C=C[0];var $=parseFloat(f.substr(2));switch(C){case"+":w=function(G,K,z){return z+$};break;case"-":w=function(G,K,z){return z-$};break;case"*":w=function(G,K,z){return z*$};break;case"/":w=function(G,K,z){return z/$};break;default:w=function(){return parseFloat(f)}}}}else if(E==="function")w=f;else if(E==="object")if(o(f))h(f)&&(b=f.getActive),l(f)&&(w=f.getEnd),u(f)&&(x=f.getStart);else if(f.hasOwnProperty("value"))y=d(p,f.value);else{var F=f.hasOwnProperty("to"),N=f.hasOwnProperty("from"),k=f.hasOwnProperty("start");if(F&&(N||k)){if(y=d(p,f.to),k){var j=d(p,f.start);y.getActive=j.getEnd}if(N){var W=d(p,f.from);y.getStart=W.getEnd}}}return y||(y={getActive:b,getEnd:w,getStart:x}),y};s.exports=d}),88032:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(70402),v=r(69902),h=r(23568),u=r(57355),l=r(6113),o=r(95540),d=r(55292),p=r(35154),f=r(17777),y=r(269),w=r(86081),x=function(b,E,C){if(E instanceof w)return E.parent=b,E;C===void 0?C=v:C=y(v,C);var T=o(E,"from",0),S=o(E,"to",1),A=[{value:T}],P=o(E,"delay",C.delay),R=o(E,"easeParams",C.easeParams),L=o(E,"ease",C.ease),D=f("value",S),$=new w(b,A),F=$.add(0,"value",D.getEnd,D.getStart,D.getActive,l(o(E,"ease",L),o(E,"easeParams",R)),d(E,"delay",P),o(E,"duration",C.duration),u(E,"yoyo",C.yoyo),o(E,"hold",C.hold),o(E,"repeat",C.repeat),o(E,"repeatDelay",C.repeatDelay),!1,!1);F.start=T,F.current=T,$.completeDelay=h(E,"completeDelay",0),$.loop=Math.round(h(E,"loop",0)),$.loopDelay=Math.round(h(E,"loopDelay",0)),$.paused=u(E,"paused",!1),$.persist=u(E,"persist",!1),$.isNumberTween=!0,$.callbackScope=p(E,"callbackScope",$);for(var N=a.TYPES,k=0;k<N.length;k++){var j=N[k],W=p(E,j,!1);if(W){var G=p(E,j+"Params",[]);$.setCallback(j,W,G)}}return $};s.exports=x}),93109:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(6113),v=r(35154),h=r(36383),u=function(l,o){o===void 0&&(o={});var d,p=v(o,"start",0),f=v(o,"ease",null),y=v(o,"grid",null),w=v(o,"from",0),x=w==="first",b=w==="center",E=w==="last",C=typeof w=="number",T=Array.isArray(l),S=parseFloat(T?l[0]:l),A=T?parseFloat(l[1]):0,P=Math.max(S,A);if(T&&(p+=S),y){var R=y[0],L=y[1],D=0,$=0,F=0,N=0,k=[];E?(D=R-1,$=L-1):C?(D=w%R,$=Math.floor(w/R)):b&&(D=(R-1)/2,$=(L-1)/2);for(var j=h.MIN_SAFE_INTEGER,W=0;W<L;W++){k[W]=[];for(var G=0;G<R;G++){F=D-G,N=$-W;var K=Math.sqrt(F*F+N*N);K>j&&(j=K),k[W][G]=K}}}var z=f?a(f):null;return y?d=function(X,U,Z,V){var J=0,Q=V%R,ee=Math.floor(V/R);Q>=0&&Q<R&&ee>=0&&ee<L&&(J=k[ee][Q]);var te;if(T){var ie=A-S;z?te=J/j*ie*z(J/j):te=J/j*ie}else z?te=J*S*z(J/j):te=J*S;return te+p}:d=function(X,U,Z,V,J){J--;var Q;x?Q=V:b?Q=Math.abs(J/2-V):E?Q=J-V:C&&(Q=Math.abs(w-V));var ee;if(T){var te;b?te=(A-S)/J*(Q*2):te=(A-S)/J*Q,z?ee=te*z(Q/J):ee=te}else z?ee=J*P*z(Q/J):ee=Q*S;return ee+p},d};s.exports=u}),8357:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(70402),v=r(69902),h=r(23568),u=r(57355),l=r(6113),o=r(95540),d=r(91389),p=r(55292),f=r(82985),y=r(62329),w=r(35154),x=r(17777),b=r(269),E=r(86081),C=function(T,S,A){if(S instanceof E)return S.parent=T,S;A===void 0?A=v:A=b(v,A);var P=y(S);!P&&A.targets&&(P=A.targets);for(var R=f(S),L=o(S,"delay",A.delay),D=o(S,"duration",A.duration),$=o(S,"easeParams",A.easeParams),F=o(S,"ease",A.ease),N=o(S,"hold",A.hold),k=o(S,"repeat",A.repeat),j=o(S,"repeatDelay",A.repeatDelay),W=u(S,"yoyo",A.yoyo),G=u(S,"flipX",A.flipX),K=u(S,"flipY",A.flipY),z=o(S,"interpolation",A.interpolation),X=function(fe,oe,Ee,ye){if(Ee==="texture"){var Ce=ye,Ie=void 0;Array.isArray(ye)?(Ce=ye[0],Ie=ye[1]):ye.hasOwnProperty("value")?(Ce=ye.value,Array.isArray(ye.value)?(Ce=ye.value[0],Ie=ye.value[1]):typeof ye.value=="string"&&(Ce=ye.value)):typeof ye=="string"&&(Ce=ye),fe.addFrame(oe,Ce,Ie,p(ye,"delay",L),o(ye,"duration",D),o(ye,"hold",N),o(ye,"repeat",k),o(ye,"repeatDelay",j),u(ye,"flipX",G),u(ye,"flipY",K))}else{var je=x(Ee,ye),Re=d(o(ye,"interpolation",z));fe.add(oe,Ee,je.getEnd,je.getStart,je.getActive,l(o(ye,"ease",F),o(ye,"easeParams",$)),p(ye,"delay",L),o(ye,"duration",D),u(ye,"yoyo",W),o(ye,"hold",N),o(ye,"repeat",k),o(ye,"repeatDelay",j),u(ye,"flipX",G),u(ye,"flipY",K),Re,Re?ye:null)}},U=new E(T,P),Z=0;Z<R.length;Z++)for(var V=R[Z].key,J=R[Z].value,Q=0;Q<P.length;Q++)V==="scale"&&!P[Q].hasOwnProperty("scale")?(X(U,Q,"scaleX",J),X(U,Q,"scaleY",J)):X(U,Q,V,J);U.completeDelay=h(S,"completeDelay",0),U.loop=Math.round(h(S,"loop",0)),U.loopDelay=Math.round(h(S,"loopDelay",0)),U.paused=u(S,"paused",!1),U.persist=u(S,"persist",!1),U.callbackScope=o(S,"callbackScope",U);for(var ee=a.TYPES,te=0;te<ee.length;te++){var ie=ee[te],le=w(S,ie,!1);if(le){var de=w(S,ie+"Params",[]);U.setCallback(ie,le,de)}}return U};s.exports=C}),26012:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(70402),v=r(23568),h=r(57355),u=r(62329),l=r(35154),o=r(8357),d=r(43960),p=function(f,y){if(y instanceof d)return y.parent=f,y;var w=new d(f);w.startDelay=l(y,"delay",0),w.completeDelay=v(y,"completeDelay",0),w.loop=Math.round(v(y,"loop",l(y,"repeat",0))),w.loopDelay=Math.round(v(y,"loopDelay",l(y,"repeatDelay",0))),w.paused=h(y,"paused",!1),w.persist=h(y,"persist",!1),w.callbackScope=l(y,"callbackScope",w);var x,b=a.TYPES;for(x=0;x<b.length;x++){var E=b[x],C=l(y,E,!1);if(C){var T=l(y,E+"Params",[]);w.setCallback(E,C,T)}}var S=l(y,"tweens",null);if(Array.isArray(S)){var A=[],P=u(y),R=void 0;for(P&&(R={targets:P}),x=0;x<S.length;x++)A.push(o(w,S[x],R));w.add(A)}return w};s.exports=p}),30231:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={GetBoolean:r(57355),GetEaseFunction:r(6113),GetInterpolationFunction:r(91389),GetNewValue:r(55292),GetProps:r(82985),GetTargets:r(62329),GetValueOp:r(17777),NumberTweenBuilder:r(88032),StaggerBuilder:r(93109),TweenBuilder:r(8357)}}),73685:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="active"}),98540:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="complete"}),67233:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="loop"}),2859:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pause"}),98336:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="repeat"}),25764:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="resume"}),32193:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="start"}),84371:(s=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="stop"}),70766:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="update"}),55659:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="yoyo"}),842:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={TWEEN_ACTIVE:r(73685),TWEEN_COMPLETE:r(98540),TWEEN_LOOP:r(67233),TWEEN_PAUSE:r(2859),TWEEN_RESUME:r(25764),TWEEN_REPEAT:r(98336),TWEEN_START:r(32193),TWEEN_STOP:r(84371),TWEEN_UPDATE:r(70766),TWEEN_YOYO:r(55659)}}),43066:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={States:r(86353),Builders:r(30231),Events:r(842),TweenManager:r(40382),Tween:r(86081),TweenData:r(48177),TweenFrameData:r(42220),BaseTween:r(70402),TweenChain:r(43960)};s.exports=a}),70402:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(50792),h=r(842),u=r(86353),l=new a({Extends:v,initialize:function(d){v.call(this),this.parent=d,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=u.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(o){return this.timeScale=o,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(h.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(h.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(h.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(h.TWEEN_COMPLETE,"onComplete")},complete:function(o){return o===void 0&&(o=0),o?(this.setCompleteDelayState(),this.countdown=o):this.onCompleteHandler(),this},completeAfterLoop:function(o){return o===void 0&&(o=0),this.loopCounter>o&&(this.loopCounter=o),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(h.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(o){this.countdown-=o,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(h.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(o){return this.countdown-=o,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(h.TWEEN_START,"onStart"),o=0),o},updateCompleteDelay:function(o){this.countdown-=o,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(o,d,p){return p===void 0&&(p=[]),this.callbacks.hasOwnProperty(o)&&(this.callbacks[o]={func:d,params:p}),this},setPendingState:function(){this.state=u.PENDING},setActiveState:function(){this.state=u.ACTIVE,this.hasStarted=!1},setLoopDelayState:function(){this.state=u.LOOP_DELAY},setCompleteDelayState:function(){this.state=u.COMPLETE_DELAY},setStartDelayState:function(){this.state=u.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=u.PENDING_REMOVE},setRemovedState:function(){this.state=u.REMOVED},setFinishedState:function(){this.state=u.FINISHED},setDestroyedState:function(){this.state=u.DESTROYED},isPending:function(){return this.state===u.PENDING},isActive:function(){return this.state===u.ACTIVE},isLoopDelayed:function(){return this.state===u.LOOP_DELAY},isCompleteDelayed:function(){return this.state===u.COMPLETE_DELAY},isStartDelayed:function(){return this.state===u.START_DELAY},isPendingRemove:function(){return this.state===u.PENDING_REMOVE},isRemoved:function(){return this.state===u.REMOVED},isFinished:function(){return this.state===u.FINISHED},isDestroyed:function(){return this.state===u.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(o){o.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});l.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],s.exports=l}),95042:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(83419),v=r(842),h=r(86353),u=new a({initialize:function(o,d,p,f,y,w,x,b,E,C){this.tween=o,this.targetIndex=d,this.duration=f<=0?.01:f,this.totalDuration=0,this.delay=0,this.getDelay=p,this.yoyo=y,this.hold=w,this.repeat=x,this.repeatDelay=b,this.repeatCounter=0,this.flipX=E,this.flipY=C,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(l){l===void 0&&(l=this.current),this.tween.targets[this.targetIndex][this.key]=l},setCreatedState:function(){this.state=h.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=h.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=h.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=h.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=h.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=h.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=h.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=h.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===h.CREATED},isDelayed:function(){return this.state===h.DELAY},isPendingRender:function(){return this.state===h.PENDING_RENDER},isPlayingForward:function(){return this.state===h.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===h.PLAYING_BACKWARD},isHolding:function(){return this.state===h.HOLD_DELAY},isRepeating:function(){return this.state===h.REPEAT_DELAY},isComplete:function(){return this.state===h.COMPLETE},setStateFromEnd:function(l){this.yoyo?this.onRepeat(l,!0,!0):this.repeatCounter>0?this.onRepeat(l,!0,!1):this.setCompleteState()},setStateFromStart:function(l){this.repeatCounter>0?this.onRepeat(l,!1):this.setCompleteState()},reset:function(){var l=this.tween,o=l.totalTargets,d=this.targetIndex,p=l.targets[d],f=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(p,f,0,d,o,l),this.repeatCounter=this.repeat===-1?h.MAX:this.repeat,this.setPendingRenderState();var y=this.duration+this.hold;this.yoyo&&(y+=this.duration);var w=y+this.repeatDelay;this.totalDuration=this.delay+y,this.repeat===-1?(this.totalDuration+=w*h.MAX,l.isInfinite=!0):this.repeat>0&&(this.totalDuration+=w*this.repeat),this.totalDuration>l.duration&&(l.duration=this.totalDuration),this.delay<l.startDelay&&(l.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(l,o,d){var p=this.tween,f=p.totalTargets,y=this.targetIndex,w=p.targets[y],x=this.key,b=x!=="texture";if(this.elapsed=l,this.progress=l/this.duration,this.flipX&&w.toggleFlipX(),this.flipY&&w.toggleFlipY(),b&&(o||d)&&(this.start=this.getStartValue(w,x,this.start,y,f,p)),d){this.setPlayingBackwardState(),this.dispatchEvent(v.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,b&&(this.end=this.getEndValue(w,x,this.start,y,f,p)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-l,b&&(this.current=this.start,w[x]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(v.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});s.exports=u}),69902:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};s.exports=g}),81076:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]}),86081:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(70402),v=r(83419),h=r(842),u=r(44603),l=r(39429),o=r(36383),d=r(86353),p=r(48177),f=r(42220),y=new v({Extends:a,initialize:function(x,b){a.call(this,x),this.targets=b,this.totalTargets=b.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.isNumberTween=!1},add:function(w,x,b,E,C,T,S,A,P,R,L,D,$,F,N,k){var j=new p(this,w,x,b,E,C,T,S,A,P,R,L,D,$,F,N,k);return this.totalData=this.data.push(j),j},addFrame:function(w,x,b,E,C,T,S,A,P,R){var L=new f(this,w,x,b,E,C,T,S,A,P,R);return this.totalData=this.data.push(L),L},getValue:function(w){w===void 0&&(w=0);var x=null;return this.data&&(x=this.data[w].current),x},hasTarget:function(w){return this.targets&&this.targets.indexOf(w)!==-1},updateTo:function(w,x,b){if(b===void 0&&(b=!1),w!=="texture")for(var E=0;E<this.totalData;E++){var C=this.data[E];C.key===w&&(C.isPlayingForward()||C.isPlayingBackward())&&(C.end=x,b&&(C.start=C.current))}return this},restart:function(){switch(this.state){case d.REMOVED:case d.FINISHED:this.seek(),this.parent.makeActive(this);break;case d.PENDING:case d.PENDING_REMOVE:this.parent.reset(this);break;case d.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(h.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,a.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(w,x,b){if(w===void 0&&(w=0),x===void 0&&(x=16.6),b===void 0&&(b=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;b||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(h.TWEEN_ACTIVE,"onActive");var E=this.paused;if(this.paused=!1,w>0){for(var C=Math.floor(w/x),T=w-C*x,S=0;S<C;S++)this.update(x);T>0&&this.update(T)}return this.paused=E,this.isSeeking=!1,this},initTweenData:function(w){w===void 0&&(w=!1),this.duration=0,this.startDelay=o.MAX_SAFE_INTEGER;for(var x=this.data,b=0;b<this.totalData;b++)x[b].reset(w);this.duration=Math.max(this.duration,.01);var E=this.duration,C=this.completeDelay,T=this.loopCounter,S=this.loopDelay;T>0?this.totalDuration=E+C+(E+S)*T:this.totalDuration=E+C},reset:function(w){return w===void 0&&(w=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=d.MAX),w||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(h.TWEEN_ACTIVE,"onActive")),this},update:function(w){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.paused||this.isFinished())return!1;if(w*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(w),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(w),!1;this.hasStarted||(this.startDelay-=w,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(h.TWEEN_START,"onStart"),w=0));var x=!1;if(this.isActive())for(var b=this.data,E=0;E<this.totalData;E++)b[E].update(w)&&(x=!0);this.elapsed+=w,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=w,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),x||this.nextState();var C=this.isPendingRemove();return C&&this.persist&&(this.setFinishedState(),C=!1),C},forward:function(w){return this.update(w),this},rewind:function(w){return this.update(-w),this},dispatchEvent:function(w,x){if(!this.isSeeking){if(this.emit(w,this,this.targets),!this.callbacks)return;var b=this.callbacks[x];b&&b.func.apply(this.callbackScope,[this,this.targets].concat(b.params))}},destroy:function(){a.prototype.destroy.call(this),this.targets=null}});l.register("tween",function(w){return this.scene.sys.tweens.add(w)}),u.register("tween",function(w){return this.scene.sys.tweens.create(w)}),s.exports=y}),43960:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(72905),v=r(70402),h=r(83419),u=r(842),l=r(44603),o=r(39429),d=r(86353),p=new h({Extends:v,initialize:function(y){v.call(this,y),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?d.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},add:function(f){var y=this.parent.create(f);Array.isArray(y)||(y=[y]);for(var w=this.data,x=0;x<y.length;x++){var b=y[x];b.parent=this,w.push(b.reset())}return this.totalData=w.length,this},remove:function(f){return a(this.data,f),f.setRemovedState(),f===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(f){for(var y=this.data,w=0;w<this.totalData;w++)if(y[w].hasTarget(f))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(f){return f.seek(),f.setActiveState(),this},makeActive:function(f){return f.reset(),f.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(u.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var f=this.data,y=this.totalData,w=0;w<y;w++)f[w].reset(!1);this.setCurrentTween(0)},update:function(f){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.isFinished()||this.paused)return!1;if(f*=this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(f),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(f),!1;this.hasStarted||(this.startDelay-=f,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(u.TWEEN_START,"onStart"),f=0));var y=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(f)&&this.nextTween()&&this.nextState(),y=this.isPendingRemove(),y&&this.persist&&(this.setFinishedState(),y=!1)),y},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(f){this.currentIndex=f,this.currentTween=this.data[f],this.currentTween.setActiveState()},dispatchEvent:function(f,y){this.emit(f,this);var w=this.callbacks[y];w&&w.func.apply(this.callbackScope,[this].concat(w.params))},destroy:function(){v.prototype.destroy.call(this),this.currentTween=null}});o.register("tweenchain",function(f){return this.scene.sys.tweens.chain(f)}),l.register("tweenchain",function(f){return this.scene.sys.tweens.create(f)}),s.exports=p}),48177:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(95042),v=r(45319),h=r(83419),u=r(842),l=new h({Extends:a,initialize:function(d,p,f,y,w,x,b,E,C,T,S,A,P,R,L,D,$){a.call(this,d,p,E,C,T,S,A,P,R,L),this.key=f,this.getActiveValue=x,this.getEndValue=y,this.getStartValue=w,this.ease=b,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=D,this.interpolationData=$},reset:function(o){a.prototype.reset.call(this);var d=this.tween.targets[this.targetIndex],p=this.key;o&&(d[p]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(d[p]=this.getActiveValue(d,p,0))},update:function(o){var d=this.tween,p=d.totalTargets,f=this.targetIndex,y=d.targets[f],w=this.key;if(!y)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=o,this.elapsed<=0&&(this.elapsed=0,o=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(u.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(y,w,y[w],f,p,d),this.end=this.getEndValue(y,w,this.start,f,p,d),this.current=this.start,y[w]=this.start,this.setPlayingForwardState(),!0;var x=this.isPlayingForward(),b=this.isPlayingBackward();if(x||b){var E=this.elapsed,C=this.duration,T=0,S=!1;E+=o,E>=C?(T=E-C,E=C,S=!0):E<0&&(E=0);var A=v(E/C,0,1);this.elapsed=E,this.progress=A,this.previous=this.current,x||(A=1-A);var P=this.ease(A);this.interpolation?this.current=this.interpolation(this.interpolationData,P):this.current=this.start+(this.end-this.start)*P,y[w]=this.current,S&&(x?(d.isNumberTween&&(this.current=this.end,y[w]=this.current),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(T)):(d.isNumberTween&&(this.current=this.start,y[w]=this.current),this.setStateFromStart(T))),this.dispatchEvent(u.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(o,d){var p=this.tween;if(!p.isSeeking){var f=p.targets[this.targetIndex],y=this.key,w=this.current,x=this.previous;p.emit(o,p,y,f,w,x);var b=p.callbacks[d];b&&b.func.apply(p.callbackScope,[p,f,y,w,x].concat(b.params))}},destroy:function(){a.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});s.exports=l}),42220:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(95042),v=r(45319),h=r(83419),u=r(842),l=new h({Extends:a,initialize:function(d,p,f,y,w,x,b,E,C,T,S){a.call(this,d,p,w,x,!1,b,E,C,T,S),this.key="texture",this.startTexture=null,this.endTexture=f,this.startFrame=null,this.endFrame=y,this.yoyo=E!==0},reset:function(o){a.prototype.reset.call(this);var d=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=d.texture.key,this.startFrame=d.frame.name),o&&d.setTexture(this.startTexture,this.startFrame)},update:function(o){var d=this.tween,p=this.targetIndex,f=d.targets[p];if(!f)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=o,this.elapsed<=0&&(this.elapsed=0,o=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(u.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&f.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var y=this.isPlayingForward(),w=this.isPlayingBackward();if(y||w){var x=this.elapsed,b=this.duration,E=0,C=!1;x+=o,x>=b?(E=x-b,x=b,C=!0):x<0&&(x=0);var T=v(x/b,0,1);this.elapsed=x,this.progress=T,C&&(y?(f.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(E)):(f.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(E))),this.dispatchEvent(u.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(o,d){var p=this.tween;if(!p.isSeeking){var f=p.targets[this.targetIndex],y=this.key;p.emit(o,p,y,f);var w=p.callbacks[d];w&&w.func.apply(p.callbackScope,[p,f,y].concat(w.params))}},destroy:function(){a.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});s.exports=l}),86353:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};s.exports=g}),83419:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function g(l){return!!l.get&&typeof l.get=="function"||!!l.set&&typeof l.set=="function"}function r(l,o,d){var p=d?l[o]:Object.getOwnPropertyDescriptor(l,o);return!d&&p.value&&typeof p.value=="object"&&(p=p.value),p&&g(p)?(typeof p.enumerable>"u"&&(p.enumerable=!0),typeof p.configurable>"u"&&(p.configurable=!0),p):!1}function a(l,o){var d=Object.getOwnPropertyDescriptor(l,o);return d?(d.value&&typeof d.value=="object"&&(d=d.value),d.configurable===!1):!1}function v(l,o,d,p){for(var f in o)if(o.hasOwnProperty(f)){var y=r(o,f,d);if(y!==!1){var w=p||l;if(a(w.prototype,f)){if(u.ignoreFinals)continue;throw new Error("cannot override final property '"+f+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(l.prototype,f,y)}else l.prototype[f]=o[f]}}function h(l,o){if(o){Array.isArray(o)||(o=[o]);for(var d=0;d<o.length;d++)v(l,o[d].prototype||o[d])}}function u(l){l||(l={});var o,d;if(l.initialize){if(typeof l.initialize!="function")throw new Error("initialize must be a function");o=l.initialize,delete l.initialize}else if(l.Extends){var p=l.Extends;o=function(){p.apply(this,arguments)}}else o=function(){};l.Extends?(o.prototype=Object.create(l.Extends.prototype),o.prototype.constructor=o,d=l.Extends,delete l.Extends):o.prototype.constructor=o;var f=null;return l.Mixins&&(f=l.Mixins,delete l.Mixins),h(o,f),v(o,l,!0,d),o}u.extend=v,u.mixin=h,u.ignoreFinals=!1,s.exports=u}),29747:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(){};s.exports=g}),20242:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(){return null};s.exports=g}),71146:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h,u){if(u===void 0&&(u=r),v>0){var l=v-r.length;if(l<=0)return null}if(!Array.isArray(a))return r.indexOf(a)===-1?(r.push(a),h&&h.call(u,a),a):null;for(var o=a.length-1;o>=0;)r.indexOf(a[o])!==-1&&a.splice(o,1),o--;if(o=a.length,o===0)return null;v>0&&o>l&&(a.splice(l),o=l);for(var d=0;d<o;d++){var p=a[d];r.push(p),h&&h.call(u,p)}return a};s.exports=g}),51067:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h,u,l){if(v===void 0&&(v=0),l===void 0&&(l=r),h>0){var o=h-r.length;if(o<=0)return null}if(!Array.isArray(a))return r.indexOf(a)===-1?(r.splice(v,0,a),u&&u.call(l,a),a):null;for(var d=a.length-1;d>=0;)r.indexOf(a[d])!==-1&&a.pop(),d--;if(d=a.length,d===0)return null;h>0&&d>o&&(a.splice(o),d=o);for(var p=d-1;p>=0;p--){var f=a[p];r.splice(v,0,f),u&&u.call(l,f)}return a};s.exports=g}),66905:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){var v=r.indexOf(a);return v!==-1&&v<r.length&&(r.splice(v,1),r.push(a)),a};s.exports=g}),21612:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(82011),v=function(h,u,l,o,d){o===void 0&&(o=0),d===void 0&&(d=h.length);var p=0;if(a(h,o,d))for(var f=o;f<d;f++){var y=h[f];y[u]===l&&p++}return p};s.exports=v}),95428:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){var h,u=[null];for(h=3;h<arguments.length;h++)u.push(arguments[h]);for(h=0;h<r.length;h++)u[0]=r[h],a.apply(v,u);return r};s.exports=g}),36914:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(82011),v=function(h,u,l,o,d){if(o===void 0&&(o=0),d===void 0&&(d=h.length),a(h,o,d)){var p,f=[null];for(p=5;p<arguments.length;p++)f.push(arguments[p]);for(p=o;p<d;p++)f[0]=h[p],u.apply(l,f)}return h};s.exports=v}),81957:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){if(a.length){if(a.length===1)return a[0]}else return NaN;var h=1,u,l;if(v){if(r<a[0][v])return a[0];for(;a[h][v]<r;)h++}else for(;a[h]<r;)h++;return h>a.length&&(h=a.length),v?(u=a[h-1][v],l=a[h][v],l-r<=r-u?a[h]:a[h-1]):(u=a[h-1],l=a[h],l-r<=r-u?l:u)};s.exports=g}),43491:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){a===void 0&&(a=[]);for(var v=0;v<r.length;v++)Array.isArray(r[v])?g(r[v],a):a.push(r[v]);return a};s.exports=g}),46710:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(82011),v=function(h,u,l,o,d){o===void 0&&(o=0),d===void 0&&(d=h.length);var p=[];if(a(h,o,d))for(var f=o;f<d;f++){var y=h[f];(!u||u&&l===void 0&&y.hasOwnProperty(u)||u&&l!==void 0&&y[u]===l)&&p.push(y)}return p};s.exports=v}),58731:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(82011),v=function(h,u,l,o,d){if(o===void 0&&(o=0),d===void 0&&(d=h.length),o!==-1){if(a(h,o,d))for(var p=o;p<d;p++){var f=h[p];if(!u||u&&l===void 0&&f.hasOwnProperty(u)||u&&l!==void 0&&f[u]===l)return f}}else if(a(h,0,d))for(var p=d;p>=0;p--){var f=h[p];if(!u||u&&l===void 0&&f.hasOwnProperty(u)||u&&l!==void 0&&f[u]===l)return f}return null};s.exports=v}),26546:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){a===void 0&&(a=0),v===void 0&&(v=r.length);var h=a+Math.floor(Math.random()*v);return r[h]===void 0?null:r[h]};s.exports=g}),85835:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){if(a===v)return r;var h=r.indexOf(a),u=r.indexOf(v);if(h<0||u<0)throw new Error("Supplied items must be elements of the same array");return h>u||(r.splice(h,1),u=r.indexOf(v),r.splice(u+1,0,a)),r};s.exports=g}),83371:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){if(a===v)return r;var h=r.indexOf(a),u=r.indexOf(v);if(h<0||u<0)throw new Error("Supplied items must be elements of the same array");return h<u||(r.splice(h,1),u===0?r.unshift(a):r.splice(u,0,a)),r};s.exports=g}),70864:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){var v=r.indexOf(a);if(v>0){var h=r[v-1],u=r.indexOf(h);r[v]=h,r[u]=a}return r};s.exports=g}),69693:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){var h=r.indexOf(a);if(h===-1||v<0||v>=r.length)throw new Error("Supplied index out of bounds");return h!==v&&(r.splice(h,1),r.splice(v,0,a)),a};s.exports=g}),40853:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){var v=r.indexOf(a);if(v!==-1&&v<r.length-1){var h=r[v+1],u=r.indexOf(h);r[v]=h,r[u]=a}return r};s.exports=g}),20283:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h){var u=[],l,o=!1;if((v||h)&&(o=!0,v||(v=""),h||(h="")),a<r)for(l=r;l>=a;l--)o?u.push(v+l.toString()+h):u.push(l);else for(l=r;l<=a;l++)o?u.push(v+l.toString()+h):u.push(l);return u};s.exports=g}),593:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(2284),v=function(h,u,l){h===void 0&&(h=0),u===void 0&&(u=null),l===void 0&&(l=1),u===null&&(u=h,h=0);for(var o=[],d=Math.max(a((u-h)/(l||1)),0),p=0;p<d;p++)o.push(h),h+=l;return o};s.exports=v}),43886:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function g(v,h,u){var l=v[h];v[h]=v[u],v[u]=l}function r(v,h){return v<h?-1:v>h?1:0}var a=function(v,h,u,l,o){for(u===void 0&&(u=0),l===void 0&&(l=v.length-1),o===void 0&&(o=r);l>u;){if(l-u>600){var d=l-u+1,p=h-u+1,f=Math.log(d),y=.5*Math.exp(2*f/3),w=.5*Math.sqrt(f*y*(d-y)/d)*(p-d/2<0?-1:1),x=Math.max(u,Math.floor(h-p*y/d+w)),b=Math.min(l,Math.floor(h+(d-p)*y/d+w));a(v,h,x,b,o)}var E=v[h],C=u,T=l;for(g(v,u,h),o(v[l],E)>0&&g(v,u,l);C<T;){for(g(v,C,T),C++,T--;o(v[C],E)<0;)C++;for(;o(v[T],E)>0;)T--}o(v[u],E)===0?g(v,u,T):(T++,g(v,T,l)),T<=h&&(u=T+1),h<=T&&(l=T-1)}};s.exports=a}),88492:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(35154),v=r(33680),h=function(l,o,d){for(var p=[],f=0;f<l.length;f++)for(var y=0;y<o.length;y++)for(var w=0;w<d;w++)p.push({a:l[f],b:o[y]});return p},u=function(l,o,d){var p=a(d,"max",0),f=a(d,"qty",1),y=a(d,"random",!1),w=a(d,"randomB",!1),x=a(d,"repeat",0),b=a(d,"yoyo",!1),E=[];if(w&&v(o),x===-1)if(p===0)x=0;else{var C=l.length*o.length*f;b&&(C*=2),x=Math.ceil(p/C)}for(var T=0;T<=x;T++){var S=h(l,o,f);y&&v(S),E=E.concat(S),b&&(S.reverse(),E=E.concat(S))}return p&&E.splice(p),E};s.exports=u}),72905:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(19133),v=function(h,u,l,o){o===void 0&&(o=h);var d;if(!Array.isArray(u))return d=h.indexOf(u),d!==-1?(a(h,d),l&&l.call(o,u),u):null;for(var p=u.length-1,f=[];p>=0;){var y=u[p];d=h.indexOf(y),d!==-1&&(a(h,d),f.push(y),l&&l.call(o,y)),p--}return f};s.exports=v}),60248:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(19133),v=function(h,u,l,o){if(o===void 0&&(o=h),u<0||u>h.length-1)throw new Error("Index out of bounds");var d=a(h,u);return l&&l.call(o,d),d};s.exports=v}),81409:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(82011),v=function(h,u,l,o,d){if(u===void 0&&(u=0),l===void 0&&(l=h.length),d===void 0&&(d=h),a(h,u,l)){var p=l-u,f=h.splice(u,p);if(o)for(var y=0;y<f.length;y++){var w=f[y];o.call(d,w)}return f}else return[]};s.exports=v}),31856:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(19133),v=function(h,u,l){u===void 0&&(u=0),l===void 0&&(l=h.length);var o=u+Math.floor(Math.random()*l);return a(h,o)};s.exports=v}),42169:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){var h=r.indexOf(a),u=r.indexOf(v);return h!==-1&&u===-1?(r[h]=v,!0):!1};s.exports=g}),86003:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){a===void 0&&(a=1);for(var v=null,h=0;h<a;h++)v=r.shift(),r.push(v);return v};s.exports=g}),49498:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){a===void 0&&(a=1);for(var v=null,h=0;h<a;h++)v=r.pop(),r.unshift(v);return v};s.exports=g}),82011:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h){var u=r.length;if(a<0||a>=u||a>=v||v>u){if(h)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};s.exports=g}),89545:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){var v=r.indexOf(a);return v!==-1&&v>0&&(r.splice(v,1),r.unshift(a)),a};s.exports=g}),17810:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(82011),v=function(h,u,l,o,d){if(o===void 0&&(o=0),d===void 0&&(d=h.length),a(h,o,d))for(var p=o;p<d;p++){var f=h[p];f.hasOwnProperty(u)&&(f[u]=l)}return h};s.exports=v}),33680:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){for(var a=r.length-1;a>0;a--){var v=Math.floor(Math.random()*(a+1)),h=r[a];r[a]=r[v],r[v]=h}return r};s.exports=g}),90126:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){var a=/\D/g;return r.sort(function(v,h){return parseInt(v.replace(a,""),10)-parseInt(h.replace(a,""),10)}),r};s.exports=g}),19133:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){if(!(a>=r.length)){for(var v=r.length-1,h=r[a],u=a;u<v;u++)r[u]=r[u+1];return r.length=v,h}};s.exports=g}),19186:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(82264);function v(o,d){return String(o).localeCompare(d)}function h(o,d){var p=o.length;if(p<=1)return o;for(var f=new Array(p),y=1;y<p;y*=2){u(o,d,y,f);var w=o;o=f,f=w}return o}function u(o,d,p,f){var y=o.length,w=0,x=p*2,b,E,C,T,S;for(b=0;b<y;b+=x)for(E=b+p,C=E+p,E>y&&(E=y),C>y&&(C=y),T=b,S=E;;)if(T<E&&S<C)d(o[T],o[S])<=0?f[w++]=o[T++]:f[w++]=o[S++];else if(T<E)f[w++]=o[T++];else if(S<C)f[w++]=o[S++];else break}var l=function(o,d){if(d===void 0&&(d=v),!o||o.length<2)return o;if(a.features.stableSort)return o.sort(d);var p=h(o,d);return p!==o&&u(p,null,o.length,o),o};s.exports=l}),25630:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){if(a===v)return r;var h=r.indexOf(a),u=r.indexOf(v);if(h<0||u<0)throw new Error("Supplied items must be elements of the same array");return r[h]=v,r[u]=a,r};s.exports=g}),37105:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Matrix:r(54915),Add:r(71146),AddAt:r(51067),BringToTop:r(66905),CountAllMatching:r(21612),Each:r(95428),EachInRange:r(36914),FindClosestInSorted:r(81957),Flatten:r(43491),GetAll:r(46710),GetFirst:r(58731),GetRandom:r(26546),MoveDown:r(70864),MoveTo:r(69693),MoveUp:r(40853),MoveAbove:r(85835),MoveBelow:r(83371),NumberArray:r(20283),NumberArrayStep:r(593),QuickSelect:r(43886),Range:r(88492),Remove:r(72905),RemoveAt:r(60248),RemoveBetween:r(81409),RemoveRandomElement:r(31856),Replace:r(42169),RotateLeft:r(86003),RotateRight:r(49498),SafeRange:r(82011),SendToBack:r(89545),SetAll:r(17810),Shuffle:r(33680),SortByDigits:r(90126),SpliceOne:r(19133),StableSort:r(19186),Swap:r(25630)}}),86922:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){if(!Array.isArray(r)||!Array.isArray(r[0]))return!1;for(var a=r[0].length,v=1;v<r.length;v++)if(r[v].length!==a)return!1;return!0};s.exports=g}),63362:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(41836),v=r(86922),h=function(u){var l="";if(!v(u))return l;for(var o=0;o<u.length;o++){for(var d=0;d<u[o].length;d++){var p=u[o][d].toString();p!=="undefined"?l+=a(p,2):l+="?",d<u[o].length-1&&(l+=" |")}if(o<u.length-1){l+=`
`;for(var f=0;f<u[o].length;f++)l+="---",f<u[o].length-1&&(l+="+");l+=`
`}}return l};s.exports=h}),92598:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r.reverse()};s.exports=g}),21224:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){for(var a=0;a<r.length;a++)r[a].reverse();return r};s.exports=g}),98717:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(37829),v=function(h){return a(h,180)};s.exports=v}),44657:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(37829),v=function(h,u){u===void 0&&(u=1);for(var l=0;l<u;l++)h=a(h,90);return h};s.exports=v}),37829:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(86922),v=r(2429),h=function(u,l){if(l===void 0&&(l=90),!a(u))return null;if(typeof l!="string"&&(l=(l%360+360)%360),l===90||l===-270||l==="rotateLeft")u=v(u),u.reverse();else if(l===-90||l===270||l==="rotateRight")u.reverse(),u=v(u);else if(Math.abs(l)===180||l==="rotate180"){for(var o=0;o<u.length;o++)u[o].reverse();u.reverse()}return u};s.exports=h}),92632:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(37829),v=function(h,u){u===void 0&&(u=1);for(var l=0;l<u;l++)h=a(h,-90);return h};s.exports=v}),69512:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(86003),v=r(49498),h=function(u,l,o){if(l===void 0&&(l=0),o===void 0&&(o=0),o!==0&&(o<0?a(u,Math.abs(o)):v(u,o)),l!==0)for(var d=0;d<u.length;d++){var p=u[d];l<0?a(p,Math.abs(l)):v(p,l)}return u};s.exports=h}),2429:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){for(var a=r.length,v=r[0].length,h=new Array(v),u=0;u<v;u++){h[u]=new Array(a);for(var l=a-1;l>-1;l--)h[u][l]=r[l][u]}return h};s.exports=g}),54915:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={CheckMatrix:r(86922),MatrixToString:r(63362),ReverseColumns:r(92598),ReverseRows:r(21224),Rotate180:r(98717),RotateLeft:r(44657),RotateMatrix:r(37829),RotateRight:r(92632),Translate:r(69512),TransposeMatrix:r(2429)}}),71334:(s=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=function(a,v){for(var h=new Uint8Array(a),u=h.length,l=v?"data:"+v+";base64,":"",o=0;o<u;o+=3)l+=g[h[o]>>2],l+=g[(h[o]&3)<<4|h[o+1]>>4],l+=g[(h[o+1]&15)<<2|h[o+2]>>6],l+=g[h[o+2]&63];return u%3===2?l=l.substring(0,l.length-1)+"=":u%3===1&&(l=l.substring(0,l.length-2)+"=="),l};s.exports=r}),53134:(s=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Uint8Array(256),a=0;a<g.length;a++)r[g.charCodeAt(a)]=a;var v=function(h){h=h.substr(h.indexOf(",")+1);var u=h.length,l=u*.75,o=0,d,p,f,y;h[u-1]==="="&&(l--,h[u-2]==="="&&l--);for(var w=new ArrayBuffer(l),x=new Uint8Array(w),b=0;b<u;b+=4)d=r[h.charCodeAt(b)],p=r[h.charCodeAt(b+1)],f=r[h.charCodeAt(b+2)],y=r[h.charCodeAt(b+3)],x[o++]=d<<2|p>>4,x[o++]=(p&15)<<4|f>>2,x[o++]=(f&3)<<6|y&63;return w};s.exports=v}),65839:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={ArrayBufferToBase64:r(71334),Base64ToArrayBuffer:r(53134)}}),91799:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Array:r(37105),Base64:r(65839),Objects:r(1183),String:r(31749),NOOP:r(29747),NULL:r(20242)}}),41786:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){var a={};for(var v in r)Array.isArray(r[v])?a[v]=r[v].slice(0):a[v]=r[v];return a};s.exports=g}),62644:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){var a,v,h;if(typeof r!="object"||r===null)return r;a=Array.isArray(r)?[]:{};for(h in r)v=r[h],a[h]=g(v);return a};s.exports=g}),79291:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(41212),v=function(){var h,u,l,o,d,p,f=arguments[0]||{},y=1,w=arguments.length,x=!1;for(typeof f=="boolean"&&(x=f,f=arguments[1]||{},y=2),w===y&&(f=this,--y);y<w;y++)if((h=arguments[y])!=null)for(u in h)l=f[u],o=h[u],f!==o&&(x&&o&&(a(o)||(d=Array.isArray(o)))?(d?(d=!1,p=l&&Array.isArray(l)?l:[]):p=l&&a(l)?l:{},f[u]=v(x,p,o)):o!==void 0&&(f[u]=o));return f};s.exports=v}),23568:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(75508),v=r(35154),h=function(u,l,o){var d=v(u,l,null);if(d===null)return o;if(Array.isArray(d))return a.RND.pick(d);if(typeof d=="object"){if(d.hasOwnProperty("randInt"))return a.RND.integerInRange(d.randInt[0],d.randInt[1]);if(d.hasOwnProperty("randFloat"))return a.RND.realInRange(d.randFloat[0],d.randFloat[1])}else if(typeof d=="function")return d(l);return d};s.exports=h}),95540:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){var h=typeof r;return!r||h==="number"||h==="string"?v:r.hasOwnProperty(a)&&r[a]!==void 0?r[a]:v};s.exports=g}),82840:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(35154),v=r(45319),h=function(u,l,o,d,p){p===void 0&&(p=o);var f=a(u,l,p);return v(f,o,d)};s.exports=h}),35154:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h){if(!r&&!h||typeof r=="number")return v;if(r&&r.hasOwnProperty(a))return r[a];if(h&&h.hasOwnProperty(a))return h[a];if(a.indexOf(".")!==-1){for(var u=a.split("."),l=r,o=h,d=v,p=v,f=!0,y=!0,w=0;w<u.length;w++)l&&l.hasOwnProperty(u[w])?(d=l[u[w]],l=l[u[w]]):f=!1,o&&o.hasOwnProperty(u[w])?(p=o[u[w]],o=o[u[w]]):y=!1;return f?d:y?p:v}else return v};s.exports=g}),69036:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){for(var v=0;v<a.length;v++)if(!r.hasOwnProperty(a[v]))return!1;return!0};s.exports=g}),1985:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){for(var v=0;v<a.length;v++)if(r.hasOwnProperty(a[v]))return!0;return!1};s.exports=g}),97022:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return r.hasOwnProperty(a)};s.exports=g}),41212:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){if(!r||typeof r!="object"||r.nodeType||r===r.window)return!1;try{if(r.constructor&&!{}.hasOwnProperty.call(r.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};s.exports=g}),46975:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(41786),v=function(h,u){var l=a(h);for(var o in u)l.hasOwnProperty(o)||(l[o]=u[o]);return l};s.exports=v}),269:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(41786),v=function(h,u){var l=a(h);for(var o in u)l.hasOwnProperty(o)&&(l[o]=u[o]);return l};s.exports=v}),18254:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=r(97022),v=function(h,u){for(var l={},o=0;o<u.length;o++){var d=u[o];a(h,d)&&(l[d]=h[d])}return l};s.exports=v}),61622:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v){if(!r||typeof r=="number")return!1;if(r.hasOwnProperty(a))return r[a]=v,!0;if(a.indexOf(".")!==-1){for(var h=a.split("."),u=r,l=r,o=0;o<h.length;o++)if(u.hasOwnProperty(h[o]))l=u,u=u[h[o]];else return!1;return l[h[h.length-1]]=v,!0}return!1};s.exports=g}),1183:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Clone:r(41786),DeepCopy:r(62644),Extend:r(79291),GetAdvancedValue:r(23568),GetFastValue:r(95540),GetMinMaxValue:r(82840),GetValue:r(35154),HasAll:r(69036),HasAny:r(1985),HasValue:r(97022),IsPlainObject:r(41212),Merge:r(46975),MergeRight:r(269),Pick:r(18254),SetValue:r(61622)}}),27902:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return r.replace(/%([0-9]+)/g,function(v,h){return a[Number(h)-1]})};s.exports=g}),41836:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a,v,h){a===void 0&&(a=0),v===void 0&&(v=" "),h===void 0&&(h=3),r=r.toString();var u=0;if(a+1>=r.length)switch(h){case 1:r=new Array(a+1-r.length).join(v)+r;break;case 3:var l=Math.ceil((u=a-r.length)/2),o=u-l;r=new Array(o+1).join(v)+r+new Array(l+1).join(v);break;default:r=r+new Array(a+1-r.length).join(v);break}return r};s.exports=g}),33628:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r,a){return a===0?r.slice(1):r.slice(0,a)+r.slice(a+1)};s.exports=g}),27671:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r.split("").reverse().join("")};s.exports=g}),45650:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){var a=Math.random()*16|0,v=r==="x"?a:a&3|8;return v.toString(16)})};s.exports=g}),35355:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var g=function(r){return r&&r[0].toUpperCase()+r.slice(1)};s.exports=g}),31749:((s,g,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Format:r(27902),Pad:r(41836),RemoveAt:r(33628),Reverse:r(27671),UppercaseFirst:r(35355),UUID:r(45650)}})},i={};function c(s){var g=i[s];if(g!==void 0)return g.exports;var r=i[s]={exports:{}};return n[s](r,r.exports,c),r.exports}c.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})();var m=c(85454);return m})())})(mw)),mw.exports}var pKe=fKe();const U2=La(pKe);class vKe extends Phaser.Scene{constructor(){super("MenuScene")}create(){const e=this.scale.width,n=this.scale.height,i=ll.getCurrentUser();if(!i){window.location.reload();return}this.add.rectangle(e/2,n/2,e,n,1048619),this.add.text(e/2,n*.2,"DEGEN MILITIA",{fontSize:"48px",fill:"#9D4EDD",fontStyle:"bold",stroke:"#7B2CBF",strokeThickness:5}).setOrigin(.5),this.add.text(e/2,n*.32,"Mobile Multiplayer Shooter",{fontSize:"18px",fill:"#00F5FF"}).setOrigin(.5);const c=n*.5,m=200,s=180,g=55;this.createButton(e/2-m,c,s,g,"CREATE GAME",10309341,()=>{this.scene.start("CreateRoomScene")}),this.createButton(e/2,c,s,g,"JOIN GAME",62975,()=>{this.scene.start("JoinRoomScene")}),this.createButton(e/2+m,c,s,g," PROFILE",16766720,()=>{this.scene.start("ProfileScene")});const r=60,a=80,v=this.add.graphics();v.fillStyle(10309341,.1),v.fillRoundedRect(e-250-a,r,230,50,8),v.lineStyle(1.5,10309341,.3),v.strokeRoundedRect(e-250-a,r,230,50,8),this.add.text(e-240-a,r+10,i.username,{fontSize:"18px",fill:"#9D4EDD",fontStyle:"bold"});const h=i.wallet_address?`${i.wallet_address.slice(0,6)}...${i.wallet_address.slice(-4)}`:"Guest";this.add.text(e-240-a,r+28,h,{fontSize:"12px",fill:"#888888"}),this.add.text(e-40-a,r+25,"",{fontSize:"20px"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerup",()=>{ll.logout(),window.location.reload()}),this.add.text(e/2,n-30,"v1.0.0",{fontSize:"14px",fill:"#666666"}).setOrigin(.5)}createButton(e,n,i,c,m,s,g){const r=this.add.graphics();r.fillStyle(s,.1),r.fillRoundedRect(e-i/2,n-c/2,i,c,12),r.lineStyle(2,s,.3),r.strokeRoundedRect(e-i/2,n-c/2,i,c,12);const a=this.add.rectangle(e,n,i-4,c-4,657930,.5);a.setInteractive({useHandCursor:!0});const v=this.add.rectangle(e,n,i-16,c-16,s,.08),h=this.add.text(e,n,m,{fontSize:"22px",fill:"#FFFFFF",fontStyle:"bold"}).setOrigin(.5);a.on("pointerover",()=>{a.setFillStyle(s,.3),v.setAlpha(.15),h.setScale(1.05)}),a.on("pointerout",()=>{a.setFillStyle(657930,.5),v.setAlpha(.08),h.setScale(1)}),a.on("pointerdown",()=>{a.setFillStyle(s,.5),v.setAlpha(.2),h.setScale(.95)}),a.on("pointerup",()=>{a.setFillStyle(657930,.5),v.setAlpha(.08),h.setScale(1),g()})}}const ks=zQ();class gKe{async getUserStats(e){try{const{data:n,error:i}=await ks.from("player_stats").select("*").eq("player_id",e).single();if(i&&i.code==="PGRST116")return await this.createDefaultStats(e);if(i)throw i;return n}catch(n){return console.error("Get stats error:",n),null}}async createDefaultStats(e){const n={player_id:e,total_kills:0,total_deaths:0,games_played:0,games_won:0,total_playtime_seconds:0,highest_killstreak:0,level:1,experience:0};try{const{data:i,error:c}=await ks.from("player_stats").insert([n]).select().single();if(c)throw c;return i}catch(i){return console.error("Create stats error:",i),n}}async recordKill(e,n=1){if(e)try{const i=await this.getUserStats(e),{error:c}=await ks.from("player_stats").update({total_kills:(i.total_kills||0)+n,highest_killstreak:Math.max(i.highest_killstreak||0,n),experience:(i.experience||0)+n*10}).eq("player_id",e);if(c)throw c;await this.checkLevelUp(e)}catch(i){console.error("Record kill error:",i)}}async recordDeath(e){if(e)try{const{error:n}=await ks.from("player_stats").update({total_deaths:ks.raw("total_deaths + 1")}).eq("player_id",e);if(n)throw n}catch(n){console.error("Record death error:",n)}}async recordGameCompleted(e,n=!1,i=0){if(e)try{const c={games_played:ks.raw("games_played + 1"),total_playtime_seconds:ks.raw(`total_playtime_seconds + ${i}`)};n&&(c.games_won=ks.raw("games_won + 1"),c.experience=ks.raw("experience + 50"));const{error:m}=await ks.from("player_stats").update(c).eq("player_id",e);if(m)throw m;await this.checkLevelUp(e)}catch(c){console.error("Record game error:",c)}}async checkLevelUp(e){try{const n=await this.getUserStats(e),i=n.level||1,c=n.experience||0,m=i*100;if(c>=m){const s=Math.floor(c/100)+1;return await ks.from("player_stats").update({level:s}).eq("player_id",e),{leveledUp:!0,newLevel:s}}return{leveledUp:!1}}catch(n){return console.error("Level check error:",n),{leveledUp:!1}}}async getLeaderboard(e=10,n="total_kills"){try{const{data:i,error:c}=await ks.from("player_stats").select(`
          *,
          players:player_id (username, wallet_address)
        `).order(n,{ascending:!1}).limit(e);if(c)throw c;return i}catch(i){return console.error("Get leaderboard error:",i),[]}}async getUserRank(e,n="total_kills"){try{const{data:i,error:c}=await ks.from("player_stats").select("player_id, "+n).order(n,{ascending:!1});if(c)throw c;return i.findIndex(s=>s.player_id===e)+1||null}catch(i){return console.error("Get rank error:",i),null}}}const WQ=new gKe;class mKe extends Phaser.Scene{constructor(){super("ProfileScene")}async create(){const e=this.scale.width,n=this.scale.height;this.add.rectangle(e/2,n/2,e,n,1048619);const i=50;this.add.text(e/2,i,"PLAYER PROFILE",{fontSize:"32px",fill:"#9D4EDD",fontStyle:"bold",stroke:"#7B2CBF",strokeThickness:3}).setOrigin(.5);const c=ll.getCurrentUser();if(!c){this.add.text(e/2,n/2,"No user logged in",{fontSize:"20px",fill:"#FF4444"}).setOrigin(.5),this.createBackButton(e,n);return}const m=e*.27,s=n*.38,g=340,r=190,a=this.add.graphics();a.fillStyle(10309341,.1),a.fillRoundedRect(m-g/2,s-r/2,g,r,16),a.lineStyle(2,10309341,.4),a.strokeRoundedRect(m-g/2,s-r/2,g,r,16),this.add.text(m-150,s-50,"",{fontSize:"60px"});const v=this.add.text(m-80,s-50,c.username,{fontSize:"24px",fill:"#9D4EDD",fontStyle:"bold"}),h=this.add.text(m+130,s-50,"",{fontSize:"20px"}).setInteractive({useHandCursor:!0});h.on("pointerdown",()=>{this.editUsername(c,v)}),h.on("pointerover",()=>{h.setScale(1.2)}),h.on("pointerout",()=>{h.setScale(1)});const u=c.wallet_address?`${c.wallet_address.slice(0,8)}...${c.wallet_address.slice(-6)}`:"No wallet connected";this.add.text(m-80,s-20,u,{fontSize:"14px",fill:"#888888"}),(!c.wallet_address||c.is_local)&&this.createSmallButton(m,s+30,200,35," Connect Wallet",62975,()=>{this.connectWallet(c)});const l=c.is_local?"LOCAL":c.is_guest?"GUEST":"VERIFIED",o=c.is_local?16766720:c.is_guest?8947848:65280,d=c.wallet_address&&!c.is_local?s+30:s+70,p=this.add.graphics();p.fillStyle(o,.2),p.fillRoundedRect(m-80,d,90,25,8),p.lineStyle(1.5,o,.5),p.strokeRoundedRect(m-80,d,90,25,8),this.add.text(m-35,d+12,l,{fontSize:"12px",fill:o===16766720?"#FFD700":o===8947848?"#888888":"#00FF00",fontStyle:"bold"}).setOrigin(.5);const f=e*.7,y=i+60;this.add.text(f,y,"STATISTICS",{fontSize:"22px",fill:"#00F5FF",fontStyle:"bold"}).setOrigin(.5);const w=this.add.text(f,y+40,"Loading stats...",{fontSize:"14px",fill:"#888888"}).setOrigin(.5);if(!c.is_local&&!c.is_guest)try{const C=await WQ.getUserStats(c.id);w.destroy(),C?this.displayStats(f,y+40,C):w.setText("No stats yet - Play some games!")}catch(C){console.error("Error loading stats:",C),w.setText("Stats unavailable")}else w.setText(`Stats not saved (local account)
Connect with X to track your progress!`);const b=n-60,E=250;this.createButton(e/2-E,b,180,45,"BACK",62975,()=>{this.scene.start("MenuScene")}),this.createButton(e/2+E,b,150,45,"LOGOUT",16729156,()=>{ll.logout(),window.location.reload()})}editUsername(e,n){const i=prompt("Enter new username:",e.username);i&&i.trim()&&i!==e.username&&ll.updateProfile({username:i.trim()}).then(c=>{n.setText(c.username),alert("Username updated!")}).catch(c=>{console.error("Error updating username:",c),alert("Failed to update username")})}async connectWallet(e){try{const n=window.ethereum;if(!n){alert(`No Web3 wallet found!

Please install MetaMask or use Privy login instead.`);return}const i=await n.request({method:"eth_requestAccounts"});if(!i||i.length===0){alert("No accounts found. Please unlock your wallet.");return}const c=i[0];await ll.updateProfile({wallet_address:c}),alert("Wallet connected successfully!"),this.scene.restart()}catch(n){console.error("Error connecting wallet:",n),n.code===4001?alert("Connection rejected. Please approve the connection request."):n.code===-32002?alert("A connection request is already pending. Please check your wallet."):alert("Failed to connect wallet. Please try using Privy login instead.")}}createSmallButton(e,n,i,c,m,s,g){const r=this.add.graphics();r.fillStyle(s,.2),r.fillRoundedRect(e-i/2,n-c/2,i,c,8),r.lineStyle(1.5,s,.4),r.strokeRoundedRect(e-i/2,n-c/2,i,c,8),r.setInteractive(new Phaser.Geom.Rectangle(e-i/2,n-c/2,i,c),Phaser.Geom.Rectangle.Contains);const a=this.add.text(e,n,m,{fontSize:"14px",fill:"#FFFFFF",fontStyle:"bold"}).setOrigin(.5);r.on("pointerdown",g),r.on("pointerover",()=>{r.clear(),r.fillStyle(s,.4),r.fillRoundedRect(e-i/2,n-c/2,i,c,8),r.lineStyle(1.5,s,.6),r.strokeRoundedRect(e-i/2,n-c/2,i,c,8),a.setScale(1.05)}),r.on("pointerout",()=>{r.clear(),r.fillStyle(s,.2),r.fillRoundedRect(e-i/2,n-c/2,i,c,8),r.lineStyle(1.5,s,.4),r.strokeRoundedRect(e-i/2,n-c/2,i,c,8),a.setScale(1)})}displayStats(e,n,i){const c=[{label:" Total Kills",value:i.total_kills||0},{label:" Total Deaths",value:i.total_deaths||0},{label:" Games Played",value:i.games_played||0},{label:" Games Won",value:i.games_won||0},{label:" Best Streak",value:i.highest_killstreak||0},{label:" Level",value:i.level||1},{label:" Experience",value:i.experience||0}],m=i.total_deaths>0?(i.total_kills/i.total_deaths).toFixed(2):i.total_kills,s=i.games_played>0?(i.games_won/i.games_played*100).toFixed(1):0;c.push({label:" K/D Ratio",value:m},{label:" Win Rate",value:`${s}%`});const g=3,r=135,a=60,v=18,h=18,u=r*g+v*(g-1),l=e-u/2;c.forEach((o,d)=>{const p=d%g,f=Math.floor(d/g),y=l+p*(r+v),w=n+f*(a+h),x=this.add.graphics();x.fillStyle(1710618,.6),x.fillRoundedRect(y,w,r,a,10),x.lineStyle(1.5,62975,.3),x.strokeRoundedRect(y,w,r,a,10),this.add.text(y+r/2,w+16,o.label,{fontSize:"11px",fill:"#888888"}).setOrigin(.5),this.add.text(y+r/2,w+38,o.value.toString(),{fontSize:"18px",fill:"#00F5FF",fontStyle:"bold"}).setOrigin(.5)})}createButton(e,n,i,c,m,s,g){const r=this.add.graphics();r.fillStyle(s,.1),r.fillRoundedRect(e-i/2,n-c/2,i,c,12),r.lineStyle(2,s,.3),r.strokeRoundedRect(e-i/2,n-c/2,i,c,12);const a=this.add.rectangle(e,n,i-4,c-4,657930,.5);a.setInteractive({useHandCursor:!0});const v=this.add.rectangle(e,n,i-16,c-16,s,.08),h=this.add.text(e,n,m,{fontSize:"20px",fill:"#FFFFFF",fontStyle:"bold"}).setOrigin(.5);a.on("pointerover",()=>{a.setFillStyle(s,.3),v.setAlpha(.15),h.setScale(1.05)}),a.on("pointerout",()=>{a.setFillStyle(657930,.5),v.setAlpha(.08),h.setScale(1)}),a.on("pointerdown",()=>{a.setFillStyle(s,.5),h.setScale(.95)}),a.on("pointerup",()=>{a.setFillStyle(657930,.5),h.setScale(1),g()})}}class yKe extends Phaser.Scene{constructor(){super("CreateRoomScene")}create(){const e=this.scale.width,n=this.scale.height;this.add.rectangle(e/2,n/2,e,n,1048619),this.add.text(e/2,n*.15,"CREATE GAME",{fontSize:"48px",fill:"#9D4EDD",fontStyle:"bold"}).setOrigin(.5);const i=this.generateRoomCode();this.registry.set("roomCode",i);const c=this.add.graphics();c.fillStyle(10309341,.1),c.fillRoundedRect(e/2-200,n*.35-60,400,120,16),c.lineStyle(2,10309341,.4),c.strokeRoundedRect(e/2-200,n*.35-60,400,120,16),this.add.rectangle(e/2,n*.35,390,110,657930,.5),this.add.text(e/2,n*.3,"ROOM CODE",{fontSize:"16px",fill:"#9D4EDD",fontStyle:"bold",alpha:.7}).setOrigin(.5),this.add.text(e/2,n*.38,i,{fontSize:"52px",fill:"#00F5FF",fontStyle:"bold",letterSpacing:10,stroke:"#240046",strokeThickness:3}).setOrigin(.5),this.add.text(e/2,n*.5,"Share this code with friends!",{fontSize:"20px",fill:"#FFFFFF"}).setOrigin(.5),this.playersText=this.add.text(e/2,n*.6,"Waiting for players... (1/8)",{fontSize:"18px",fill:"#00F5FF"}).setOrigin(.5);const m=this.add.graphics();m.fillStyle(4473924,.1),m.fillRoundedRect(e/2-150,n*.75-30,300,60,12),m.lineStyle(2,4473924,.3),m.strokeRoundedRect(e/2-150,n*.75-30,300,60,12),this.startButton=this.add.rectangle(e/2,n*.75,290,50,657930,.5),this.startButton.setInteractive({useHandCursor:!0}),this.startButtonLabel=this.add.text(e/2,n*.75,"START GAME",{fontSize:"22px",fill:"#666666",fontStyle:"bold"}).setOrigin(.5),this.startBtnGlass=m,this.startButton.on("pointerup",()=>{this.canStart&&this.scene.start("GameScene",{roomCode:i,isHost:!0})}),this.createBackButton(e,n),this.canStart=!1,this.playerCount=1,this.time.delayedCall(2e3,()=>{this.enableStartButton()})}generateRoomCode(){const e="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let n="";for(let i=0;i<6;i++)n+=e.charAt(Math.floor(Math.random()*e.length));return n}enableStartButton(){this.canStart=!0,this.startButton.setFillStyle(10309341,.4),this.startButtonLabel.setColor("#FFFFFF");const e=this.scale.width,n=this.scale.height;this.startBtnGlass.clear(),this.startBtnGlass.fillStyle(10309341,.15),this.startBtnGlass.fillRoundedRect(e/2-150,n*.75-30,300,60,12),this.startBtnGlass.lineStyle(2,10309341,.5),this.startBtnGlass.strokeRoundedRect(e/2-150,n*.75-30,300,60,12),this.tweens.add({targets:this.startButton,scaleX:1.03,scaleY:1.03,duration:700,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"})}createBackButton(e,n){const m=this.add.text(60,60," BACK",{fontSize:"20px",fill:"#888888"}).setInteractive({useHandCursor:!0});m.on("pointerover",()=>m.setColor("#FFFFFF")),m.on("pointerout",()=>m.setColor("#888888")),m.on("pointerup",()=>this.scene.start("MenuScene"))}}class wKe extends Phaser.Scene{constructor(){super("JoinRoomScene"),this.enteredCode=""}create(){const e=this.scale.width,n=this.scale.height;this.add.rectangle(e/2,n/2,e,n,1048619),this.add.text(e/2,n*.15,"JOIN GAME",{fontSize:"48px",fill:"#00F5FF",fontStyle:"bold"}).setOrigin(.5),this.add.text(e/2,n*.3,"Enter Room Code",{fontSize:"20px",fill:"#FFFFFF"}).setOrigin(.5);const i=this.add.graphics();i.fillStyle(62975,.1),i.fillRoundedRect(e/2-225,n*.45-50,450,100,16),i.lineStyle(2,62975,.4),i.strokeRoundedRect(e/2-225,n*.45-50,450,100,16),this.codeBox=this.add.rectangle(e/2,n*.45,440,90,657930,.5),this.codeText=this.add.text(e/2,n*.45,"______",{fontSize:"48px",fill:"#00F5FF",fontStyle:"bold",letterSpacing:18,stroke:"#240046",strokeThickness:2}).setOrigin(.5),this.errorText=this.add.text(e/2,n*.55,"",{fontSize:"16px",fill:"#FF4444"}).setOrigin(.5),this.createKeyboard(e,n),this.joinBtnGlass=this.add.graphics(),this.joinBtnGlass.fillStyle(4473924,.1),this.joinBtnGlass.fillRoundedRect(e/2-150,n*.85-30,300,60,12),this.joinBtnGlass.lineStyle(2,4473924,.3),this.joinBtnGlass.strokeRoundedRect(e/2-150,n*.85-30,300,60,12),this.joinButton=this.add.rectangle(e/2,n*.85,290,50,657930,.5),this.joinButton.setInteractive({useHandCursor:!0}),this.joinButtonLabel=this.add.text(e/2,n*.85,"JOIN GAME",{fontSize:"22px",fill:"#666666",fontStyle:"bold"}).setOrigin(.5),this.joinButton.on("pointerup",()=>{this.enteredCode.length===6&&this.joinGame()}),this.createBackButton(),this.input.keyboard.on("keydown",c=>{this.handleKeyPress(c.key.toUpperCase())})}createKeyboard(e,n){const i=[["Q","W","E","R","T","Y","U","P"],["A","S","D","F","G","H","J","K"],["Z","X","C","V","B","N","M",""]],c=n*.62,m=45,s=8;i.forEach((g,r)=>{const a=g.length*(m+s),v=(e-a)/2;g.forEach((h,u)=>{const l=v+u*(m+s)+m/2,o=c+r*(m+s),d=this.add.graphics();d.fillStyle(6710886,.1),d.fillRoundedRect(l-m/2,o-m/2,m,m,6),d.lineStyle(1,6710886,.2),d.strokeRoundedRect(l-m/2,o-m/2,m,m,6);const p=this.add.rectangle(l,o,m-2,m-2,657930,.5);p.setInteractive({useHandCursor:!0});const f=this.add.text(l,o,h,{fontSize:h===""?"24px":"18px",fill:"#FFFFFF",fontStyle:"bold"}).setOrigin(.5);p.on("pointerdown",()=>{p.setFillStyle(6710886,.6),f.setScale(.9),this.handleKeyPress(h)}),p.on("pointerup",()=>{p.setFillStyle(657930,.5),f.setScale(1)}),p.on("pointerover",()=>{p.setFillStyle(4473924,.5)}),p.on("pointerout",()=>{p.setFillStyle(657930,.5)})})})}handleKeyPress(e){e===""||e==="BACKSPACE"?this.enteredCode=this.enteredCode.slice(0,-1):this.enteredCode.length<6&&/^[A-Z0-9]$/.test(e)&&(this.enteredCode+=e);const n=this.enteredCode.padEnd(6,"_");this.codeText.setText(n.split("").join(" "));const i=this.scale.width,c=this.scale.height;this.enteredCode.length===6?(this.joinButton.setFillStyle(62975,.4),this.joinButtonLabel.setColor("#FFFFFF"),this.joinBtnGlass.clear(),this.joinBtnGlass.fillStyle(62975,.15),this.joinBtnGlass.fillRoundedRect(i/2-150,c*.85-30,300,60,12),this.joinBtnGlass.lineStyle(2,62975,.5),this.joinBtnGlass.strokeRoundedRect(i/2-150,c*.85-30,300,60,12)):(this.joinButton.setFillStyle(657930,.5),this.joinButtonLabel.setColor("#666666"),this.joinBtnGlass.clear(),this.joinBtnGlass.fillStyle(4473924,.1),this.joinBtnGlass.fillRoundedRect(i/2-150,c*.85-30,300,60,12),this.joinBtnGlass.lineStyle(2,4473924,.3),this.joinBtnGlass.strokeRoundedRect(i/2-150,c*.85-30,300,60,12)),this.errorText.setText("")}joinGame(){const e=this.enteredCode;this.errorText.setText("Joining room..."),this.errorText.setColor("#00F5FF"),this.time.delayedCall(1e3,()=>{this.scene.start("GameScene",{roomCode:e,isHost:!1})})}createBackButton(){const i=this.add.text(60,60," BACK",{fontSize:"20px",fill:"#888888"}).setInteractive({useHandCursor:!0});i.on("pointerover",()=>i.setColor("#FFFFFF")),i.on("pointerout",()=>i.setColor("#888888")),i.on("pointerup",()=>this.scene.start("MenuScene"))}}class xKe{constructor(e){this.scene=e,this.leftJoystick=null,this.rightJoystick=null,this.jetpackButton=null,this.input={moveX:0,moveY:0,moving:!1,shootAngle:0,shooting:!1,aimX:0,aimY:0,jetpack:!1},this.createControls()}createControls(){const e=this.scene.width||this.scene.scale.width,n=this.scene.height||this.scene.scale.height;this.createMovementJoystick(70,n-70),this.createShootingJoystick(e-70,n-70)}createMovementJoystick(e,n){const m=this.scene.add.graphics();m.setScrollFactor(0),m.setDepth(998),m.fillStyle(62975,.05),m.fillCircle(e,n,56),m.lineStyle(1,62975,.2),m.strokeCircle(e,n,56);const s=this.scene.add.circle(e,n,50,657930,.25);s.setScrollFactor(0),s.setDepth(999);const g=this.scene.add.circle(e,n,50,0,0);g.setStrokeStyle(1.5,62975,.3),g.setScrollFactor(0),g.setDepth(999);const r=this.scene.add.circle(e,n,44,62975,.03);r.setScrollFactor(0),r.setDepth(999);const a=this.scene.add.circle(e,n,2,62975,.25);a.setScrollFactor(0),a.setDepth(1e3);const v=this.scene.add.circle(e+1,n+1,20,0,.2);v.setScrollFactor(0),v.setDepth(1e3);const h=this.scene.add.circle(e,n,20,62975,.75);h.setScrollFactor(0),h.setDepth(1001);const u=this.scene.add.circle(e-5,n-5,7,16777215,.2);u.setScrollFactor(0),u.setDepth(1002);const l=this.scene.add.graphics();l.lineStyle(.5,62975,.1),l.setScrollFactor(0),l.setDepth(999),l.lineBetween(e-6,n,e+6,n),l.lineBetween(e,n-6,e,n+6);let o=null,d=!1;const p=(f,y)=>Phaser.Math.Distance.Between(f,y,e,n)<70;this.scene.input.on("pointerdown",f=>{!d&&p(f.x,f.y)&&(o=f,d=!0,h.setFillStyle(65535,1),h.setScale(1.1))}),this.scene.input.on("pointermove",f=>{if(!d||f.id!==o?.id)return;const y=Phaser.Math.Angle.Between(e,n,f.x,f.y),w=Math.min(Phaser.Math.Distance.Between(f.x,f.y,e,n),25);h.x=e+Math.cos(y)*w,h.y=n+Math.sin(y)*w,v.x=h.x+1,v.y=h.y+1,u.x=h.x-5,u.y=h.y-5;const x=w/25;this.input.moveX=Math.cos(y)*x,this.input.moveY=Math.sin(y)*x,this.input.moving=x>.12;const b=Phaser.Math.RadToDeg(y),E=b<-45&&b>-135;this.input.jetpack=E&&x>.3}),this.scene.input.on("pointerup",f=>{f.id===o?.id&&(d=!1,o=null,h.x=e,h.y=n,v.x=e+1,v.y=n+1,u.x=e-5,u.y=n-5,h.setFillStyle(62975,.75),h.setScale(1),this.input.moveX=0,this.input.moveY=0,this.input.moving=!1,this.input.jetpack=!1)}),this.leftJoystick={glassContainer:m,innerGlass:s,border:g,innerGlow:r,centerDot:a,stick:h,stickShadow:v,stickHighlight:u,dirIndicators:l,x:e,y:n}}createShootingJoystick(e,n){const m=this.scene.add.graphics();m.setScrollFactor(0),m.setDepth(998),m.fillStyle(16729156,.05),m.fillCircle(e,n,56),m.lineStyle(1,16729156,.2),m.strokeCircle(e,n,56);const s=this.scene.add.circle(e,n,50,657930,.25);s.setScrollFactor(0),s.setDepth(999);const g=this.scene.add.circle(e,n,50,0,0);g.setStrokeStyle(1.5,16729156,.3),g.setScrollFactor(0),g.setDepth(999);const r=this.scene.add.circle(e,n,44,16729156,.03);r.setScrollFactor(0),r.setDepth(999);const a=this.scene.add.graphics();a.lineStyle(.5,16729156,.2),a.setScrollFactor(0),a.setDepth(999),a.lineBetween(e-6,n,e+6,n),a.lineBetween(e,n-6,e,n+6),a.strokeCircle(e,n,2);const v=this.scene.add.circle(e+1,n+1,20,0,.2);v.setScrollFactor(0),v.setDepth(1e3);const h=this.scene.add.circle(e,n,20,16729156,.75);h.setScrollFactor(0),h.setDepth(1001);const u=this.scene.add.circle(e-5,n-5,7,16777215,.2);u.setScrollFactor(0),u.setDepth(1002);const l=this.scene.add.text(e,n,"",{fontSize:"14px"}).setOrigin(.5).setScrollFactor(0).setDepth(1003);let o=null,d=!1;const p=(f,y)=>Phaser.Math.Distance.Between(f,y,e,n)<70;this.scene.input.on("pointerdown",f=>{!d&&p(f.x,f.y)&&(o=f,d=!0,h.setFillStyle(16711680,1),h.setScale(1.1),this.input.shooting=!0)}),this.scene.input.on("pointermove",f=>{if(!d||f.id!==o?.id)return;const y=Phaser.Math.Angle.Between(e,n,f.x,f.y),w=Math.min(Phaser.Math.Distance.Between(f.x,f.y,e,n),25);h.x=e+Math.cos(y)*w,h.y=n+Math.sin(y)*w,v.x=h.x+1,v.y=h.y+1,u.x=h.x-5,u.y=h.y-5,l.x=h.x,l.y=h.y,l.rotation=y,this.input.shootAngle=y,this.input.aimX=Math.cos(y),this.input.aimY=Math.sin(y);const x=w/25;this.input.shooting=x>.15}),this.scene.input.on("pointerup",f=>{f.id===o?.id&&(d=!1,o=null,h.x=e,h.y=n,v.x=e+1,v.y=n+1,u.x=e-5,u.y=n-5,l.x=e,l.y=n,l.rotation=0,h.setFillStyle(16729156,.75),h.setScale(1),this.input.shooting=!1)}),this.rightJoystick={glassContainer:m,innerGlass:s,border:g,innerGlow:r,crosshair:a,stick:h,stickShadow:v,stickHighlight:u,gunIcon:l,x:e,y:n}}getInput(){return this.input}destroy(){this.leftJoystick&&Object.values(this.leftJoystick).forEach(e=>{e&&e.destroy&&e.destroy()}),this.rightJoystick&&Object.values(this.rightJoystick).forEach(e=>{e&&e.destroy&&e.destroy()}),this.jetpackButton&&Object.values(this.jetpackButton).forEach(e=>{e&&e.destroy&&e.destroy()})}}class bKe extends Phaser.Scene{constructor(){super("GameScene")}init(e){this.roomCode=e.roomCode,this.isHost=e.isHost,this.currentUser=ll.getCurrentUser(),this.gameStartTime=Date.now()}create(){const e=this.scale.width,n=this.scale.height,i=this.add.graphics();i.fillStyle(62975,.05),i.fillRoundedRect(10,10,110,28,6),i.lineStyle(1,62975,.25),i.strokeRoundedRect(10,10,110,28,6),i.setScrollFactor(0).setDepth(999),this.add.text(16,14,"ROOM",{fontSize:"8px",fill:"#00F5FF",fontStyle:"bold",alpha:.5}).setScrollFactor(0).setDepth(1e3),this.add.text(16,22,this.roomCode,{fontSize:"12px",fill:"#00F5FF",fontStyle:"bold",letterSpacing:.5}).setScrollFactor(0).setDepth(1e3);const c=60;this.add.text(e/2,c,"DEGEN MILITIA",{fontSize:"20px",fill:"#9D4EDD",fontStyle:"bold",stroke:"#240046",strokeThickness:3}).setOrigin(.5).setScrollFactor(0).setDepth(999),this.jetpackFuel=100,this.health=100,this.kills=0,this.lastShot=0,this.createPlatforms(e,n),this.createPlayer(e,n),this.bullets=this.physics.add.group({maxSize:50});const m=/Android|webOS|iPhone|iPad|iPod/i.test(navigator.userAgent);m&&(this.controls=new xKe(this)),this.cursors=this.input.keyboard.createCursorKeys(),this.wasd={up:this.input.keyboard.addKey("W"),left:this.input.keyboard.addKey("A"),right:this.input.keyboard.addKey("D"),space:this.input.keyboard.addKey("SPACE")},m||this.input.on("pointerdown",s=>{if(s.leftButtonDown()){const g=Phaser.Math.Angle.Between(this.player.x,this.player.y,s.x+this.cameras.main.scrollX,s.y+this.cameras.main.scrollY);this.shootBullet(g)}}),this.createHUD(e,n,c)}createPlatforms(e,n){this.platforms=this.physics.add.staticGroup();const i=this.add.rectangle(e/2,n-40,e,80,6710886);this.physics.add.existing(i,!0),this.platforms.add(i),[{x:e*.2,y:n*.65,w:200},{x:e*.5,y:n*.5,w:220},{x:e*.8,y:n*.65,w:200}].forEach(m=>{const s=this.add.rectangle(m.x,m.y,m.w,20,8947848);this.physics.add.existing(s,!0),this.platforms.add(s)})}createPlayer(e,n){this.player=this.add.rectangle(e/2,n/2,30,50,10309341),this.physics.add.existing(this.player),this.player.body.setCollideWorldBounds(!0),this.player.body.setBounce(.1),this.physics.add.collider(this.player,this.platforms)}createHUD(e,n,i){const c=this.add.graphics();c.fillStyle(65280,.05),c.fillRoundedRect(10,45,85,40,6),c.lineStyle(1,65280,.2),c.strokeRoundedRect(10,45,85,40,6),c.setScrollFactor(0).setDepth(999),this.statusText=this.add.text(16,50,"",{fontSize:"11px",fill:"#00FF00",fontStyle:"bold",lineSpacing:3}).setScrollFactor(0).setDepth(1e3);const m=80,s=i+30,g=this.add.graphics();g.fillStyle(16766720,.05),g.fillRoundedRect(e-95-m,s-7,85,26,6),g.lineStyle(1,16766720,.25),g.strokeRoundedRect(e-95-m,s-7,85,26,6),g.setScrollFactor(0).setDepth(999),this.killsText=this.add.text(e-88-m,s,"Kills: 0",{fontSize:"12px",fill:"#FFD700",fontStyle:"bold"}).setScrollFactor(0).setDepth(1e3),this.statusBg=c,this.killsBg=g}update(){if(!this.player)return;let e=0,n=!1,i=!1,c=0;if(this.controls){const s=this.controls.getInput();e=s.moveX,n=s.jetpack,i=s.shooting,c=s.shootAngle}else(this.cursors.left.isDown||this.wasd.left.isDown)&&(e=-1),(this.cursors.right.isDown||this.wasd.right.isDown)&&(e=1),n=this.cursors.up.isDown||this.wasd.space.isDown||this.wasd.up.isDown;if(this.player.body.setVelocityX(e*300),n&&this.jetpackFuel>0){if(this.player.body.setVelocityY(-400),this.jetpackFuel-=1.5,Math.random()>.6){const s=this.add.circle(this.player.x+Phaser.Math.Between(-10,10),this.player.y+25,4,16737792);this.tweens.add({targets:s,y:s.y+30,alpha:0,duration:400,onComplete:()=>s.destroy()})}}else!n&&this.jetpackFuel<100&&(this.jetpackFuel+=.8);i&&this.shootBullet(c),this.bullets.children.entries.forEach(s=>{(s.x<-100||s.x>this.scale.width+100||s.y<-100||s.y>this.scale.height+100)&&s.destroy()});const m=this.jetpackFuel>30?"#00FF00":"#FF4444";if(this.statusText.setText([`HP:   ${Math.floor(this.health)}`,`Fuel: ${Math.floor(this.jetpackFuel)}`]),this.statusText.setColor(m),this.statusBg){const s=this.jetpackFuel>30?65280:16729156,g=this.jetpackFuel>30?65280:16729156;this.statusBg.clear(),this.statusBg.fillStyle(s,.05),this.statusBg.fillRoundedRect(10,45,85,40,6),this.statusBg.lineStyle(1,g,.2),this.statusBg.strokeRoundedRect(10,45,85,40,6)}}async recordKill(){this.kills++,this.killsText.setText(`Kills: ${this.kills}`),this.currentUser&&!this.currentUser.is_guest&&await WQ.recordKill(this.currentUser.id,1)}shootBullet(e){const n=Date.now();if(n-this.lastShot<200)return;this.lastShot=n;const i=this.add.circle(this.player.x,this.player.y,6,16776960);this.physics.add.existing(i),this.bullets.add(i);const c=900;i.body.setVelocity(Math.cos(e)*c,Math.sin(e)*c),this.time.delayedCall(2500,()=>{i&&i.active&&i.destroy()})}}function EKe(){const[t,e]=H.useState(!1),[n,i]=H.useState(!0);H.useEffect(()=>{const s=document.getElementById("loading");s&&(s.style.display="none"),(async()=>{await ll.initPrivy()&&(e(!0),m()),i(!1)})()},[]);const c=async s=>{console.log(" User authenticated:",s);const g=s.wallet?.address||s.twitter?.username;s.twitter?.username||`${Math.floor(Math.random()*1e4)}`;try{const r=await ll.loginWithWallet(g);s.twitter?.username&&await ll.updateProfile({username:s.twitter.username}),console.log(" User saved to database:",r),e(!0),m()}catch(r){console.error(" Authentication error:",r)}},m=()=>{const s=document.getElementById("loading");s&&(s.style.display="none"),setTimeout(()=>{const g=document.getElementById("auth-container");g&&(g.style.display="none");const r={type:U2.AUTO,parent:"game-container",width:window.innerWidth,height:window.innerHeight,backgroundColor:"#10002B",physics:{default:"arcade",arcade:{gravity:{y:500},debug:!1}},scene:[vKe,mKe,yKe,wKe,bKe],scale:{mode:U2.Scale.RESIZE,autoCenter:U2.Scale.CENTER_BOTH},render:{pixelArt:!1,antialias:!0}};new U2.Game(r)},100)};return n?M.jsxs("div",{style:I8.container,children:[M.jsx("h1",{style:I8.title,children:" DEGEN MILITIA"}),M.jsx("p",{style:I8.subtitle,children:"Loading..."})]}):t?null:M.jsx(jHe,{onAuthenticated:c})}const I8={container:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",background:"linear-gradient(135deg, #10002B 0%, #240046 50%, #3C096C 100%)"},title:{fontSize:"56px",fontWeight:"bold",color:"#9D4EDD",textShadow:"0 0 20px rgba(157, 78, 221, 0.5)",marginBottom:"20px"},subtitle:{fontSize:"22px",color:"#00F5FF"}},CKe=document.getElementById("auth-container"),SKe=See.createRoot(CKe);SKe.render(M.jsx(EKe,{}));export{vl as $,one as A,dne as B,ys as C,Vne as D,xd as E,gie as F,_8 as G,Mj as H,Tc as I,_s as J,$c as K,jm as L,or as M,Es as N,jce as O,iW as P,wd as Q,p9 as R,du as S,U_e as T,DKe as U,Uj as V,Ur as W,pu as X,h0 as Y,Vz as Z,En as _,HU as a,a9 as a$,gl as a0,Li as a1,VH as a2,uCe as a3,cCe as a4,IL as a5,jj as a6,kp as a7,sr as a8,Wz as a9,na as aA,O3 as aB,zCe as aC,Ki as aD,Z8e as aE,SCe as aF,Ss as aG,il as aH,Td as aI,f1 as aJ,Ba as aK,_Se as aL,G7 as aM,$3 as aN,Cm as aO,g7 as aP,CF as aQ,UV as aR,Mbe as aS,mu as aT,id as aU,mc as aV,M3 as aW,el as aX,xa as aY,qo as aZ,Oo as a_,Bh as aa,su as ab,KU as ac,ar as ad,Ste as ae,u0 as af,XKe as ag,po as ah,Hm as ai,r9 as aj,vs as ak,uae as al,oW as am,Lg as an,wp as ao,sp as ap,X8 as aq,Sd as ar,Fi as as,SF as at,d2e as au,qe as av,gu as aw,I5e as ax,Oye as ay,qC as az,PU as b,Gx as b0,Tie as b1,Wx as b2,qv as b3,U2e as b4,KZe as b5,q$ as b6,qG as b7,mm as b8,F2e as b9,QG as ba,j2e as bb,ZZe as bc,XZe as bd,Ww as be,QZe as bf,JZe as bg,cye as bh,La as bi,l0 as c,Ene as d,UKe as e,pd as f,fz as g,vo as h,xs as i,OT as j,tB as k,Vn as l,xg as m,bt as n,Ia as o,a0 as p,zie as q,pi as r,Fp as s,yt as t,gC as u,wo as v,bU as w,Ne as x,mWe as y,Ym as z};
