function uQ(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const f in i)if(f!=="default"&&!(f in t)){const b=Object.getOwnPropertyDescriptor(i,f);b&&Object.defineProperty(t,f,b.get?b:{enumerable:!0,get:()=>i[f]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))i(f);new MutationObserver(f=>{for(const b of f)if(b.type==="childList")for(const s of b.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(f){const b={};return f.integrity&&(b.integrity=f.integrity),f.referrerPolicy&&(b.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?b.credentials="include":f.crossOrigin==="anonymous"?b.credentials="omit":b.credentials="same-origin",b}function i(f){if(f.ep)return;f.ep=!0;const b=n(f);fetch(f.href,b)}})();var jo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function co(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function XN(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function i(){var f=!1;try{f=this instanceof i}catch{}return f?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var f=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,f.get?f:{enumerable:!0,get:function(){return t[i]}})}),n}var J5={exports:{}},S0={},Q5={exports:{}},Wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zP;function cQ(){if(zP)return Wt;zP=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),s=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),r=Symbol.for("react.suspense"),o=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),c=Symbol.iterator;function u(G){return G===null||typeof G!="object"?null:(G=c&&G[c]||G["@@iterator"],typeof G=="function"?G:null)}var l={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},a=Object.assign,d={};function p(G,K,z){this.props=G,this.context=K,this.refs=d,this.updater=z||l}p.prototype.isReactComponent={},p.prototype.setState=function(G,K){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,K,"setState")},p.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function h(){}h.prototype=p.prototype;function g(G,K,z){this.props=G,this.context=K,this.refs=d,this.updater=z||l}var m=g.prototype=new h;m.constructor=g,a(m,p.prototype),m.isPureReactComponent=!0;var x=Array.isArray,w=Object.prototype.hasOwnProperty,C={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function T(G,K,z){var X,U={},Z=null,V=null;if(K!=null)for(X in K.ref!==void 0&&(V=K.ref),K.key!==void 0&&(Z=""+K.key),K)w.call(K,X)&&!E.hasOwnProperty(X)&&(U[X]=K[X]);var J=arguments.length-2;if(J===1)U.children=z;else if(1<J){for(var _=Array(J),ee=0;ee<J;ee++)_[ee]=arguments[ee+2];U.children=_}if(G&&G.defaultProps)for(X in J=G.defaultProps,J)U[X]===void 0&&(U[X]=J[X]);return{$$typeof:t,type:G,key:Z,ref:V,props:U,_owner:C.current}}function S(G,K){return{$$typeof:t,type:G.type,key:K,ref:G.ref,props:G.props,_owner:G._owner}}function A(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function P(G){var K={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(z){return K[z]})}var R=/\/+/g;function L(G,K){return typeof G=="object"&&G!==null&&G.key!=null?P(""+G.key):K.toString(36)}function D(G,K,z,X,U){var Z=typeof G;(Z==="undefined"||Z==="boolean")&&(G=null);var V=!1;if(G===null)V=!0;else switch(Z){case"string":case"number":V=!0;break;case"object":switch(G.$$typeof){case t:case e:V=!0}}if(V)return V=G,U=U(V),G=X===""?"."+L(V,0):X,x(U)?(z="",G!=null&&(z=G.replace(R,"$&/")+"/"),D(U,K,z,"",function(ee){return ee})):U!=null&&(A(U)&&(U=S(U,z+(!U.key||V&&V.key===U.key?"":(""+U.key).replace(R,"$&/")+"/")+G)),K.push(U)),1;if(V=0,X=X===""?".":X+":",x(G))for(var J=0;J<G.length;J++){Z=G[J];var _=X+L(Z,J);V+=D(Z,K,z,_,U)}else if(_=u(G),typeof _=="function")for(G=_.call(G),J=0;!(Z=G.next()).done;)Z=Z.value,_=X+L(Z,J++),V+=D(Z,K,z,_,U);else if(Z==="object")throw K=String(G),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return V}function F(G,K,z){if(G==null)return G;var X=[],U=0;return D(G,X,"","",function(Z){return K.call(z,Z,U++)}),X}function $(G){if(G._status===-1){var K=G._result;K=K(),K.then(function(z){(G._status===0||G._status===-1)&&(G._status=1,G._result=z)},function(z){(G._status===0||G._status===-1)&&(G._status=2,G._result=z)}),G._status===-1&&(G._status=0,G._result=K)}if(G._status===1)return G._result.default;throw G._result}var N={current:null},k={transition:null},j={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:k,ReactCurrentOwner:C};function W(){throw Error("act(...) is not supported in production builds of React.")}return Wt.Children={map:F,forEach:function(G,K,z){F(G,function(){K.apply(this,arguments)},z)},count:function(G){var K=0;return F(G,function(){K++}),K},toArray:function(G){return F(G,function(K){return K})||[]},only:function(G){if(!A(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},Wt.Component=p,Wt.Fragment=n,Wt.Profiler=f,Wt.PureComponent=g,Wt.StrictMode=i,Wt.Suspense=r,Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,Wt.act=W,Wt.cloneElement=function(G,K,z){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var X=a({},G.props),U=G.key,Z=G.ref,V=G._owner;if(K!=null){if(K.ref!==void 0&&(Z=K.ref,V=C.current),K.key!==void 0&&(U=""+K.key),G.type&&G.type.defaultProps)var J=G.type.defaultProps;for(_ in K)w.call(K,_)&&!E.hasOwnProperty(_)&&(X[_]=K[_]===void 0&&J!==void 0?J[_]:K[_])}var _=arguments.length-2;if(_===1)X.children=z;else if(1<_){J=Array(_);for(var ee=0;ee<_;ee++)J[ee]=arguments[ee+2];X.children=J}return{$$typeof:t,type:G.type,key:U,ref:Z,props:X,_owner:V}},Wt.createContext=function(G){return G={$$typeof:s,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:b,_context:G},G.Consumer=G},Wt.createElement=T,Wt.createFactory=function(G){var K=T.bind(null,G);return K.type=G,K},Wt.createRef=function(){return{current:null}},Wt.forwardRef=function(G){return{$$typeof:y,render:G}},Wt.isValidElement=A,Wt.lazy=function(G){return{$$typeof:v,_payload:{_status:-1,_result:G},_init:$}},Wt.memo=function(G,K){return{$$typeof:o,type:G,compare:K===void 0?null:K}},Wt.startTransition=function(G){var K=k.transition;k.transition={};try{G()}finally{k.transition=K}},Wt.unstable_act=W,Wt.useCallback=function(G,K){return N.current.useCallback(G,K)},Wt.useContext=function(G){return N.current.useContext(G)},Wt.useDebugValue=function(){},Wt.useDeferredValue=function(G){return N.current.useDeferredValue(G)},Wt.useEffect=function(G,K){return N.current.useEffect(G,K)},Wt.useId=function(){return N.current.useId()},Wt.useImperativeHandle=function(G,K,z){return N.current.useImperativeHandle(G,K,z)},Wt.useInsertionEffect=function(G,K){return N.current.useInsertionEffect(G,K)},Wt.useLayoutEffect=function(G,K){return N.current.useLayoutEffect(G,K)},Wt.useMemo=function(G,K){return N.current.useMemo(G,K)},Wt.useReducer=function(G,K,z){return N.current.useReducer(G,K,z)},Wt.useRef=function(G){return N.current.useRef(G)},Wt.useState=function(G){return N.current.useState(G)},Wt.useSyncExternalStore=function(G,K,z){return N.current.useSyncExternalStore(G,K,z)},Wt.useTransition=function(){return N.current.useTransition()},Wt.version="18.3.1",Wt}var WP;function Kg(){return WP||(WP=1,Q5.exports=cQ()),Q5.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GP;function dQ(){if(GP)return S0;GP=1;var t=Kg(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,f=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,b={key:!0,ref:!0,__self:!0,__source:!0};function s(y,r,o){var v,c={},u=null,l=null;o!==void 0&&(u=""+o),r.key!==void 0&&(u=""+r.key),r.ref!==void 0&&(l=r.ref);for(v in r)i.call(r,v)&&!b.hasOwnProperty(v)&&(c[v]=r[v]);if(y&&y.defaultProps)for(v in r=y.defaultProps,r)c[v]===void 0&&(c[v]=r[v]);return{$$typeof:e,type:y,key:u,ref:l,props:c,_owner:f.current}}return S0.Fragment=n,S0.jsx=s,S0.jsxs=s,S0}var VP;function hQ(){return VP||(VP=1,J5.exports=dQ()),J5.exports}var O=hQ(),H=Kg();const Ze=co(H),u8=uQ({__proto__:null,default:Ze},[H]);var G1={},_5={exports:{}},Xi={},q5={exports:{}},eb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HP;function fQ(){return HP||(HP=1,(function(t){function e(k,j){var W=k.length;k.push(j);e:for(;0<W;){var G=W-1>>>1,K=k[G];if(0<f(K,j))k[G]=j,k[W]=K,W=G;else break e}}function n(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var j=k[0],W=k.pop();if(W!==j){k[0]=W;e:for(var G=0,K=k.length,z=K>>>1;G<z;){var X=2*(G+1)-1,U=k[X],Z=X+1,V=k[Z];if(0>f(U,W))Z<K&&0>f(V,U)?(k[G]=V,k[Z]=W,G=Z):(k[G]=U,k[X]=W,G=X);else if(Z<K&&0>f(V,W))k[G]=V,k[Z]=W,G=Z;else break e}}return j}function f(k,j){var W=k.sortIndex-j.sortIndex;return W!==0?W:k.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var b=performance;t.unstable_now=function(){return b.now()}}else{var s=Date,y=s.now();t.unstable_now=function(){return s.now()-y}}var r=[],o=[],v=1,c=null,u=3,l=!1,a=!1,d=!1,p=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(k){for(var j=n(o);j!==null;){if(j.callback===null)i(o);else if(j.startTime<=k)i(o),j.sortIndex=j.expirationTime,e(r,j);else break;j=n(o)}}function x(k){if(d=!1,m(k),!a)if(n(r)!==null)a=!0,$(w);else{var j=n(o);j!==null&&N(x,j.startTime-k)}}function w(k,j){a=!1,d&&(d=!1,h(T),T=-1),l=!0;var W=u;try{for(m(j),c=n(r);c!==null&&(!(c.expirationTime>j)||k&&!P());){var G=c.callback;if(typeof G=="function"){c.callback=null,u=c.priorityLevel;var K=G(c.expirationTime<=j);j=t.unstable_now(),typeof K=="function"?c.callback=K:c===n(r)&&i(r),m(j)}else i(r);c=n(r)}if(c!==null)var z=!0;else{var X=n(o);X!==null&&N(x,X.startTime-j),z=!1}return z}finally{c=null,u=W,l=!1}}var C=!1,E=null,T=-1,S=5,A=-1;function P(){return!(t.unstable_now()-A<S)}function R(){if(E!==null){var k=t.unstable_now();A=k;var j=!0;try{j=E(!0,k)}finally{j?L():(C=!1,E=null)}}else C=!1}var L;if(typeof g=="function")L=function(){g(R)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,F=D.port2;D.port1.onmessage=R,L=function(){F.postMessage(null)}}else L=function(){p(R,0)};function $(k){E=k,C||(C=!0,L())}function N(k,j){T=p(function(){k(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){a||l||(a=!0,$(w))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return u},t.unstable_getFirstCallbackNode=function(){return n(r)},t.unstable_next=function(k){switch(u){case 1:case 2:case 3:var j=3;break;default:j=u}var W=u;u=j;try{return k()}finally{u=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,j){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var W=u;u=k;try{return j()}finally{u=W}},t.unstable_scheduleCallback=function(k,j,W){var G=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?G+W:G):W=G,k){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=W+K,k={id:v++,callback:j,priorityLevel:k,startTime:W,expirationTime:K,sortIndex:-1},W>G?(k.sortIndex=W,e(o,k),n(r)===null&&k===n(o)&&(d?(h(T),T=-1):d=!0,N(x,W-G))):(k.sortIndex=K,e(r,k),a||l||(a=!0,$(w))),k},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(k){var j=u;return function(){var W=u;u=j;try{return k.apply(this,arguments)}finally{u=W}}}})(eb)),eb}var YP;function pQ(){return YP||(YP=1,q5.exports=fQ()),q5.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XP;function vQ(){if(XP)return Xi;XP=1;var t=Kg(),e=pQ();function n(I){for(var M="https://reactjs.org/docs/error-decoder.html?invariant="+I,B=1;B<arguments.length;B++)M+="&args[]="+encodeURIComponent(arguments[B]);return"Minified React error #"+I+"; visit "+M+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,f={};function b(I,M){s(I,M),s(I+"Capture",M)}function s(I,M){for(f[I]=M,I=0;I<M.length;I++)i.add(M[I])}var y=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),r=Object.prototype.hasOwnProperty,o=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},c={};function u(I){return r.call(c,I)?!0:r.call(v,I)?!1:o.test(I)?c[I]=!0:(v[I]=!0,!1)}function l(I,M,B,Y){if(B!==null&&B.type===0)return!1;switch(typeof M){case"function":case"symbol":return!0;case"boolean":return Y?!1:B!==null?!B.acceptsBooleans:(I=I.toLowerCase().slice(0,5),I!=="data-"&&I!=="aria-");default:return!1}}function a(I,M,B,Y){if(M===null||typeof M>"u"||l(I,M,B,Y))return!0;if(Y)return!1;if(B!==null)switch(B.type){case 3:return!M;case 4:return M===!1;case 5:return isNaN(M);case 6:return isNaN(M)||1>M}return!1}function d(I,M,B,Y,Q,q,re){this.acceptsBooleans=M===2||M===3||M===4,this.attributeName=Y,this.attributeNamespace=Q,this.mustUseProperty=B,this.propertyName=I,this.type=M,this.sanitizeURL=q,this.removeEmptyString=re}var p={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(I){p[I]=new d(I,0,!1,I,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(I){var M=I[0];p[M]=new d(M,1,!1,I[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(I){p[I]=new d(I,2,!1,I.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(I){p[I]=new d(I,2,!1,I,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(I){p[I]=new d(I,3,!1,I.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(I){p[I]=new d(I,3,!0,I,null,!1,!1)}),["capture","download"].forEach(function(I){p[I]=new d(I,4,!1,I,null,!1,!1)}),["cols","rows","size","span"].forEach(function(I){p[I]=new d(I,6,!1,I,null,!1,!1)}),["rowSpan","start"].forEach(function(I){p[I]=new d(I,5,!1,I.toLowerCase(),null,!1,!1)});var h=/[\-:]([a-z])/g;function g(I){return I[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(I){var M=I.replace(h,g);p[M]=new d(M,1,!1,I,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(I){var M=I.replace(h,g);p[M]=new d(M,1,!1,I,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(I){var M=I.replace(h,g);p[M]=new d(M,1,!1,I,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(I){p[I]=new d(I,1,!1,I.toLowerCase(),null,!1,!1)}),p.xlinkHref=new d("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(I){p[I]=new d(I,1,!1,I.toLowerCase(),null,!0,!0)});function m(I,M,B,Y){var Q=p.hasOwnProperty(M)?p[M]:null;(Q!==null?Q.type!==0:Y||!(2<M.length)||M[0]!=="o"&&M[0]!=="O"||M[1]!=="n"&&M[1]!=="N")&&(a(M,B,Q,Y)&&(B=null),Y||Q===null?u(M)&&(B===null?I.removeAttribute(M):I.setAttribute(M,""+B)):Q.mustUseProperty?I[Q.propertyName]=B===null?Q.type===3?!1:"":B:(M=Q.attributeName,Y=Q.attributeNamespace,B===null?I.removeAttribute(M):(Q=Q.type,B=Q===3||Q===4&&B===!0?"":""+B,Y?I.setAttributeNS(Y,M,B):I.setAttribute(M,B))))}var x=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),C=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),P=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),N=Symbol.for("react.offscreen"),k=Symbol.iterator;function j(I){return I===null||typeof I!="object"?null:(I=k&&I[k]||I["@@iterator"],typeof I=="function"?I:null)}var W=Object.assign,G;function K(I){if(G===void 0)try{throw Error()}catch(B){var M=B.stack.trim().match(/\n( *(at )?)/);G=M&&M[1]||""}return`
`+G+I}var z=!1;function X(I,M){if(!I||z)return"";z=!0;var B=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(M)if(M=function(){throw Error()},Object.defineProperty(M.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(M,[])}catch(Fe){var Y=Fe}Reflect.construct(I,[],M)}else{try{M.call()}catch(Fe){Y=Fe}I.call(M.prototype)}else{try{throw Error()}catch(Fe){Y=Fe}I()}}catch(Fe){if(Fe&&Y&&typeof Fe.stack=="string"){for(var Q=Fe.stack.split(`
`),q=Y.stack.split(`
`),re=Q.length-1,de=q.length-1;1<=re&&0<=de&&Q[re]!==q[de];)de--;for(;1<=re&&0<=de;re--,de--)if(Q[re]!==q[de]){if(re!==1||de!==1)do if(re--,de--,0>de||Q[re]!==q[de]){var me=`
`+Q[re].replace(" at new "," at ");return I.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",I.displayName)),me}while(1<=re&&0<=de);break}}}finally{z=!1,Error.prepareStackTrace=B}return(I=I?I.displayName||I.name:"")?K(I):""}function U(I){switch(I.tag){case 5:return K(I.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return I=X(I.type,!1),I;case 11:return I=X(I.type.render,!1),I;case 1:return I=X(I.type,!0),I;default:return""}}function Z(I){if(I==null)return null;if(typeof I=="function")return I.displayName||I.name||null;if(typeof I=="string")return I;switch(I){case E:return"Fragment";case C:return"Portal";case S:return"Profiler";case T:return"StrictMode";case L:return"Suspense";case D:return"SuspenseList"}if(typeof I=="object")switch(I.$$typeof){case P:return(I.displayName||"Context")+".Consumer";case A:return(I._context.displayName||"Context")+".Provider";case R:var M=I.render;return I=I.displayName,I||(I=M.displayName||M.name||"",I=I!==""?"ForwardRef("+I+")":"ForwardRef"),I;case F:return M=I.displayName||null,M!==null?M:Z(I.type)||"Memo";case $:M=I._payload,I=I._init;try{return Z(I(M))}catch{}}return null}function V(I){var M=I.type;switch(I.tag){case 24:return"Cache";case 9:return(M.displayName||"Context")+".Consumer";case 10:return(M._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return I=M.render,I=I.displayName||I.name||"",M.displayName||(I!==""?"ForwardRef("+I+")":"ForwardRef");case 7:return"Fragment";case 5:return M;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z(M);case 8:return M===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof M=="function")return M.displayName||M.name||null;if(typeof M=="string")return M}return null}function J(I){switch(typeof I){case"boolean":case"number":case"string":case"undefined":return I;case"object":return I;default:return""}}function _(I){var M=I.type;return(I=I.nodeName)&&I.toLowerCase()==="input"&&(M==="checkbox"||M==="radio")}function ee(I){var M=_(I)?"checked":"value",B=Object.getOwnPropertyDescriptor(I.constructor.prototype,M),Y=""+I[M];if(!I.hasOwnProperty(M)&&typeof B<"u"&&typeof B.get=="function"&&typeof B.set=="function"){var Q=B.get,q=B.set;return Object.defineProperty(I,M,{configurable:!0,get:function(){return Q.call(this)},set:function(re){Y=""+re,q.call(this,re)}}),Object.defineProperty(I,M,{enumerable:B.enumerable}),{getValue:function(){return Y},setValue:function(re){Y=""+re},stopTracking:function(){I._valueTracker=null,delete I[M]}}}}function te(I){I._valueTracker||(I._valueTracker=ee(I))}function ie(I){if(!I)return!1;var M=I._valueTracker;if(!M)return!0;var B=M.getValue(),Y="";return I&&(Y=_(I)?I.checked?"true":"false":I.value),I=Y,I!==B?(M.setValue(I),!0):!1}function le(I){if(I=I||(typeof document<"u"?document:void 0),typeof I>"u")return null;try{return I.activeElement||I.body}catch{return I.body}}function he(I,M){var B=M.checked;return W({},M,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:B??I._wrapperState.initialChecked})}function fe(I,M){var B=M.defaultValue==null?"":M.defaultValue,Y=M.checked!=null?M.checked:M.defaultChecked;B=J(M.value!=null?M.value:B),I._wrapperState={initialChecked:Y,initialValue:B,controlled:M.type==="checkbox"||M.type==="radio"?M.checked!=null:M.value!=null}}function oe(I,M){M=M.checked,M!=null&&m(I,"checked",M,!1)}function Ce(I,M){oe(I,M);var B=J(M.value),Y=M.type;if(B!=null)Y==="number"?(B===0&&I.value===""||I.value!=B)&&(I.value=""+B):I.value!==""+B&&(I.value=""+B);else if(Y==="submit"||Y==="reset"){I.removeAttribute("value");return}M.hasOwnProperty("value")?Ee(I,M.type,B):M.hasOwnProperty("defaultValue")&&Ee(I,M.type,J(M.defaultValue)),M.checked==null&&M.defaultChecked!=null&&(I.defaultChecked=!!M.defaultChecked)}function ye(I,M,B){if(M.hasOwnProperty("value")||M.hasOwnProperty("defaultValue")){var Y=M.type;if(!(Y!=="submit"&&Y!=="reset"||M.value!==void 0&&M.value!==null))return;M=""+I._wrapperState.initialValue,B||M===I.value||(I.value=M),I.defaultValue=M}B=I.name,B!==""&&(I.name=""),I.defaultChecked=!!I._wrapperState.initialChecked,B!==""&&(I.name=B)}function Ee(I,M,B){(M!=="number"||le(I.ownerDocument)!==I)&&(B==null?I.defaultValue=""+I._wrapperState.initialValue:I.defaultValue!==""+B&&(I.defaultValue=""+B))}var Ie=Array.isArray;function je(I,M,B,Y){if(I=I.options,M){M={};for(var Q=0;Q<B.length;Q++)M["$"+B[Q]]=!0;for(B=0;B<I.length;B++)Q=M.hasOwnProperty("$"+I[B].value),I[B].selected!==Q&&(I[B].selected=Q),Q&&Y&&(I[B].defaultSelected=!0)}else{for(B=""+J(B),M=null,Q=0;Q<I.length;Q++){if(I[Q].value===B){I[Q].selected=!0,Y&&(I[Q].defaultSelected=!0);return}M!==null||I[Q].disabled||(M=I[Q])}M!==null&&(M.selected=!0)}}function Re(I,M){if(M.dangerouslySetInnerHTML!=null)throw Error(n(91));return W({},M,{value:void 0,defaultValue:void 0,children:""+I._wrapperState.initialValue})}function $e(I,M){var B=M.value;if(B==null){if(B=M.children,M=M.defaultValue,B!=null){if(M!=null)throw Error(n(92));if(Ie(B)){if(1<B.length)throw Error(n(93));B=B[0]}M=B}M==null&&(M=""),B=M}I._wrapperState={initialValue:J(B)}}function Ae(I,M){var B=J(M.value),Y=J(M.defaultValue);B!=null&&(B=""+B,B!==I.value&&(I.value=B),M.defaultValue==null&&I.defaultValue!==B&&(I.defaultValue=B)),Y!=null&&(I.defaultValue=""+Y)}function Xe(I){var M=I.textContent;M===I._wrapperState.initialValue&&M!==""&&M!==null&&(I.value=M)}function st(I){switch(I){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vt(I,M){return I==null||I==="http://www.w3.org/1999/xhtml"?st(M):I==="http://www.w3.org/2000/svg"&&M==="foreignObject"?"http://www.w3.org/1999/xhtml":I}var Ge,nt=(function(I){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(M,B,Y,Q){MSApp.execUnsafeLocalFunction(function(){return I(M,B,Y,Q)})}:I})(function(I,M){if(I.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in I)I.innerHTML=M;else{for(Ge=Ge||document.createElement("div"),Ge.innerHTML="<svg>"+M.valueOf().toString()+"</svg>",M=Ge.firstChild;I.firstChild;)I.removeChild(I.firstChild);for(;M.firstChild;)I.appendChild(M.firstChild)}});function Et(I,M){if(M){var B=I.firstChild;if(B&&B===I.lastChild&&B.nodeType===3){B.nodeValue=M;return}}I.textContent=M}var Je={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},He=["Webkit","ms","Moz","O"];Object.keys(Je).forEach(function(I){He.forEach(function(M){M=M+I.charAt(0).toUpperCase()+I.substring(1),Je[M]=Je[I]})});function Qe(I,M,B){return M==null||typeof M=="boolean"||M===""?"":B||typeof M!="number"||M===0||Je.hasOwnProperty(I)&&Je[I]?(""+M).trim():M+"px"}function dt(I,M){I=I.style;for(var B in M)if(M.hasOwnProperty(B)){var Y=B.indexOf("--")===0,Q=Qe(B,M[B],Y);B==="float"&&(B="cssFloat"),Y?I.setProperty(B,Q):I[B]=Q}}var $t=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ut(I,M){if(M){if($t[I]&&(M.children!=null||M.dangerouslySetInnerHTML!=null))throw Error(n(137,I));if(M.dangerouslySetInnerHTML!=null){if(M.children!=null)throw Error(n(60));if(typeof M.dangerouslySetInnerHTML!="object"||!("__html"in M.dangerouslySetInnerHTML))throw Error(n(61))}if(M.style!=null&&typeof M.style!="object")throw Error(n(62))}}function wt(I,M){if(I.indexOf("-")===-1)return typeof M.is=="string";switch(I){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tt=null;function cn(I){return I=I.target||I.srcElement||window,I.correspondingUseElement&&(I=I.correspondingUseElement),I.nodeType===3?I.parentNode:I}var Pn=null,It=null,pt=null;function Kn(I){if(I=u0(I)){if(typeof Pn!="function")throw Error(n(280));var M=I.stateNode;M&&(M=i1(M),Pn(I.stateNode,I.type,M))}}function bn(I){It?pt?pt.push(I):pt=[I]:It=I}function Nr(){if(It){var I=It,M=pt;if(pt=It=null,Kn(I),M)for(I=0;I<M.length;I++)Kn(M[I])}}function ne(I,M){return I(M)}function se(){}var ue=!1;function pe(I,M,B){if(ue)return I(M,B);ue=!0;try{return ne(I,M,B)}finally{ue=!1,(It!==null||pt!==null)&&(se(),Nr())}}function be(I,M){var B=I.stateNode;if(B===null)return null;var Y=i1(B);if(Y===null)return null;B=Y[M];e:switch(M){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(Y=!Y.disabled)||(I=I.type,Y=!(I==="button"||I==="input"||I==="select"||I==="textarea")),I=!Y;break e;default:I=!1}if(I)return null;if(B&&typeof B!="function")throw Error(n(231,M,typeof B));return B}var Pe=!1;if(y)try{var De={};Object.defineProperty(De,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch{Pe=!1}function Ye(I,M,B,Y,Q,q,re,de,me){var Fe=Array.prototype.slice.call(arguments,3);try{M.apply(B,Fe)}catch(ze){this.onError(ze)}}var kt=!1,Bt=null,Xt=!1,Qt=null,dn={onError:function(I){kt=!0,Bt=I}};function bt(I,M,B,Y,Q,q,re,de,me){kt=!1,Bt=null,Ye.apply(dn,arguments)}function yn(I,M,B,Y,Q,q,re,de,me){if(bt.apply(this,arguments),kt){if(kt){var Fe=Bt;kt=!1,Bt=null}else throw Error(n(198));Xt||(Xt=!0,Qt=Fe)}}function _t(I){var M=I,B=I;if(I.alternate)for(;M.return;)M=M.return;else{I=M;do M=I,(M.flags&4098)!==0&&(B=M.return),I=M.return;while(I)}return M.tag===3?B:null}function pr(I){if(I.tag===13){var M=I.memoizedState;if(M===null&&(I=I.alternate,I!==null&&(M=I.memoizedState)),M!==null)return M.dehydrated}return null}function sr(I){if(_t(I)!==I)throw Error(n(188))}function kr(I){var M=I.alternate;if(!M){if(M=_t(I),M===null)throw Error(n(188));return M!==I?null:I}for(var B=I,Y=M;;){var Q=B.return;if(Q===null)break;var q=Q.alternate;if(q===null){if(Y=Q.return,Y!==null){B=Y;continue}break}if(Q.child===q.child){for(q=Q.child;q;){if(q===B)return sr(Q),I;if(q===Y)return sr(Q),M;q=q.sibling}throw Error(n(188))}if(B.return!==Y.return)B=Q,Y=q;else{for(var re=!1,de=Q.child;de;){if(de===B){re=!0,B=Q,Y=q;break}if(de===Y){re=!0,Y=Q,B=q;break}de=de.sibling}if(!re){for(de=q.child;de;){if(de===B){re=!0,B=q,Y=Q;break}if(de===Y){re=!0,Y=q,B=Q;break}de=de.sibling}if(!re)throw Error(n(189))}}if(B.alternate!==Y)throw Error(n(190))}if(B.tag!==3)throw Error(n(188));return B.stateNode.current===B?I:M}function pn(I){return I=kr(I),I!==null?Br(I):null}function Br(I){if(I.tag===5||I.tag===6)return I;for(I=I.child;I!==null;){var M=Br(I);if(M!==null)return M;I=I.sibling}return null}var Jr=e.unstable_scheduleCallback,dl=e.unstable_cancelCallback,Cc=e.unstable_shouldYield,Gt=e.unstable_requestPaint,Ft=e.unstable_now,Nt=e.unstable_getCurrentPriorityLevel,Vn=e.unstable_ImmediatePriority,zi=e.unstable_UserBlockingPriority,ys=e.unstable_NormalPriority,mo=e.unstable_LowPriority,fh=e.unstable_IdlePriority,uu=null,Hs=null;function m3(I){if(Hs&&typeof Hs.onCommitFiberRoot=="function")try{Hs.onCommitFiberRoot(uu,I,void 0,(I.current.flags&128)===128)}catch{}}var ws=Math.clz32?Math.clz32:x3,y3=Math.log,w3=Math.LN2;function x3(I){return I>>>=0,I===0?32:31-(y3(I)/w3|0)|0}var ph=64,vh=4194304;function Ec(I){switch(I&-I){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return I&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return I&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return I}}function gh(I,M){var B=I.pendingLanes;if(B===0)return 0;var Y=0,Q=I.suspendedLanes,q=I.pingedLanes,re=B&268435455;if(re!==0){var de=re&~Q;de!==0?Y=Ec(de):(q&=re,q!==0&&(Y=Ec(q)))}else re=B&~Q,re!==0?Y=Ec(re):q!==0&&(Y=Ec(q));if(Y===0)return 0;if(M!==0&&M!==Y&&(M&Q)===0&&(Q=Y&-Y,q=M&-M,Q>=q||Q===16&&(q&4194240)!==0))return M;if((Y&4)!==0&&(Y|=B&16),M=I.entangledLanes,M!==0)for(I=I.entanglements,M&=Y;0<M;)B=31-ws(M),Q=1<<B,Y|=I[B],M&=~Q;return Y}function b3(I,M){switch(I){case 1:case 2:case 4:return M+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return M+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function C3(I,M){for(var B=I.suspendedLanes,Y=I.pingedLanes,Q=I.expirationTimes,q=I.pendingLanes;0<q;){var re=31-ws(q),de=1<<re,me=Q[re];me===-1?((de&B)===0||(de&Y)!==0)&&(Q[re]=b3(de,M)):me<=M&&(I.expiredLanes|=de),q&=~de}}function Hp(I){return I=I.pendingLanes&-1073741825,I!==0?I:I&1073741824?1073741824:0}function Bm(){var I=ph;return ph<<=1,(ph&4194240)===0&&(ph=64),I}function Yp(I){for(var M=[],B=0;31>B;B++)M.push(I);return M}function Sc(I,M,B){I.pendingLanes|=M,M!==536870912&&(I.suspendedLanes=0,I.pingedLanes=0),I=I.eventTimes,M=31-ws(M),I[M]=B}function E3(I,M){var B=I.pendingLanes&~M;I.pendingLanes=M,I.suspendedLanes=0,I.pingedLanes=0,I.expiredLanes&=M,I.mutableReadLanes&=M,I.entangledLanes&=M,M=I.entanglements;var Y=I.eventTimes;for(I=I.expirationTimes;0<B;){var Q=31-ws(B),q=1<<Q;M[Q]=0,Y[Q]=-1,I[Q]=-1,B&=~q}}function Xp(I,M){var B=I.entangledLanes|=M;for(I=I.entanglements;B;){var Y=31-ws(B),Q=1<<Y;Q&M|I[Y]&M&&(I[Y]|=M),B&=~Q}}var ln=0;function Um(I){return I&=-I,1<I?4<I?(I&268435455)!==0?16:536870912:4:1}var jm,Kp,zm,Wm,Gm,Zp=!1,mh=[],yo=null,wo=null,xo=null,Tc=new Map,Ac=new Map,bo=[],S3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vm(I,M){switch(I){case"focusin":case"focusout":yo=null;break;case"dragenter":case"dragleave":wo=null;break;case"mouseover":case"mouseout":xo=null;break;case"pointerover":case"pointerout":Tc.delete(M.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ac.delete(M.pointerId)}}function Pc(I,M,B,Y,Q,q){return I===null||I.nativeEvent!==q?(I={blockedOn:M,domEventName:B,eventSystemFlags:Y,nativeEvent:q,targetContainers:[Q]},M!==null&&(M=u0(M),M!==null&&Kp(M)),I):(I.eventSystemFlags|=Y,M=I.targetContainers,Q!==null&&M.indexOf(Q)===-1&&M.push(Q),I)}function Hm(I,M,B,Y,Q){switch(M){case"focusin":return yo=Pc(yo,I,M,B,Y,Q),!0;case"dragenter":return wo=Pc(wo,I,M,B,Y,Q),!0;case"mouseover":return xo=Pc(xo,I,M,B,Y,Q),!0;case"pointerover":var q=Q.pointerId;return Tc.set(q,Pc(Tc.get(q)||null,I,M,B,Y,Q)),!0;case"gotpointercapture":return q=Q.pointerId,Ac.set(q,Pc(Ac.get(q)||null,I,M,B,Y,Q)),!0}return!1}function Ym(I){var M=Ic(I.target);if(M!==null){var B=_t(M);if(B!==null){if(M=B.tag,M===13){if(M=pr(B),M!==null){I.blockedOn=M,Gm(I.priority,function(){zm(B)});return}}else if(M===3&&B.stateNode.current.memoizedState.isDehydrated){I.blockedOn=B.tag===3?B.stateNode.containerInfo:null;return}}}I.blockedOn=null}function Se(I){if(I.blockedOn!==null)return!1;for(var M=I.targetContainers;0<M.length;){var B=xh(I.domEventName,I.eventSystemFlags,M[0],I.nativeEvent);if(B===null){B=I.nativeEvent;var Y=new B.constructor(B.type,B);tt=Y,B.target.dispatchEvent(Y),tt=null}else return M=u0(B),M!==null&&Kp(M),I.blockedOn=B,!1;M.shift()}return!0}function ce(I,M,B){Se(I)&&B.delete(M)}function ve(){Zp=!1,yo!==null&&Se(yo)&&(yo=null),wo!==null&&Se(wo)&&(wo=null),xo!==null&&Se(xo)&&(xo=null),Tc.forEach(ce),Ac.forEach(ce)}function Le(I,M){I.blockedOn===M&&(I.blockedOn=null,Zp||(Zp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ve)))}function Be(I){function M(Q){return Le(Q,I)}if(0<mh.length){Le(mh[0],I);for(var B=1;B<mh.length;B++){var Y=mh[B];Y.blockedOn===I&&(Y.blockedOn=null)}}for(yo!==null&&Le(yo,I),wo!==null&&Le(wo,I),xo!==null&&Le(xo,I),Tc.forEach(M),Ac.forEach(M),B=0;B<bo.length;B++)Y=bo[B],Y.blockedOn===I&&(Y.blockedOn=null);for(;0<bo.length&&(B=bo[0],B.blockedOn===null);)Ym(B),B.blockedOn===null&&bo.shift()}var Lt=x.ReactCurrentBatchConfig,Fn=!0;function di(I,M,B,Y){var Q=ln,q=Lt.transition;Lt.transition=null;try{ln=1,Jp(I,M,B,Y)}finally{ln=Q,Lt.transition=q}}function yh(I,M,B,Y){var Q=ln,q=Lt.transition;Lt.transition=null;try{ln=4,Jp(I,M,B,Y)}finally{ln=Q,Lt.transition=q}}function Jp(I,M,B,Y){if(Fn){var Q=xh(I,M,B,Y);if(Q===null)j3(I,M,Y,wh,B),Vm(I,Y);else if(Hm(Q,I,M,B,Y))Y.stopPropagation();else if(Vm(I,Y),M&4&&-1<S3.indexOf(I)){for(;Q!==null;){var q=u0(Q);if(q!==null&&jm(q),q=xh(I,M,B,Y),q===null&&j3(I,M,Y,wh,B),q===Q)break;Q=q}Q!==null&&Y.stopPropagation()}else j3(I,M,Y,null,B)}}var wh=null;function xh(I,M,B,Y){if(wh=null,I=cn(Y),I=Ic(I),I!==null)if(M=_t(I),M===null)I=null;else if(B=M.tag,B===13){if(I=pr(M),I!==null)return I;I=null}else if(B===3){if(M.stateNode.current.memoizedState.isDehydrated)return M.tag===3?M.stateNode.containerInfo:null;I=null}else M!==I&&(I=null);return wh=I,null}function Qp(I){switch(I){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nt()){case Vn:return 1;case zi:return 4;case ys:case mo:return 16;case fh:return 536870912;default:return 16}default:return 16}}var Pa=null,bh=null,Xm=null;function I7(){if(Xm)return Xm;var I,M=bh,B=M.length,Y,Q="value"in Pa?Pa.value:Pa.textContent,q=Q.length;for(I=0;I<B&&M[I]===Q[I];I++);var re=B-I;for(Y=1;Y<=re&&M[B-Y]===Q[q-Y];Y++);return Xm=Q.slice(I,1<Y?1-Y:void 0)}function Km(I){var M=I.keyCode;return"charCode"in I?(I=I.charCode,I===0&&M===13&&(I=13)):I=M,I===10&&(I=13),32<=I||I===13?I:0}function Zm(){return!0}function R7(){return!1}function xs(I){function M(B,Y,Q,q,re){this._reactName=B,this._targetInst=Q,this.type=Y,this.nativeEvent=q,this.target=re,this.currentTarget=null;for(var de in I)I.hasOwnProperty(de)&&(B=I[de],this[de]=B?B(q):q[de]);return this.isDefaultPrevented=(q.defaultPrevented!=null?q.defaultPrevented:q.returnValue===!1)?Zm:R7,this.isPropagationStopped=R7,this}return W(M.prototype,{preventDefault:function(){this.defaultPrevented=!0;var B=this.nativeEvent;B&&(B.preventDefault?B.preventDefault():typeof B.returnValue!="unknown"&&(B.returnValue=!1),this.isDefaultPrevented=Zm)},stopPropagation:function(){var B=this.nativeEvent;B&&(B.stopPropagation?B.stopPropagation():typeof B.cancelBubble!="unknown"&&(B.cancelBubble=!0),this.isPropagationStopped=Zm)},persist:function(){},isPersistent:Zm}),M}var Ch={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(I){return I.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},T3=xs(Ch),_p=W({},Ch,{view:0,detail:0}),NZ=xs(_p),A3,P3,qp,Jm=W({},_p,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:R3,button:0,buttons:0,relatedTarget:function(I){return I.relatedTarget===void 0?I.fromElement===I.srcElement?I.toElement:I.fromElement:I.relatedTarget},movementX:function(I){return"movementX"in I?I.movementX:(I!==qp&&(qp&&I.type==="mousemove"?(A3=I.screenX-qp.screenX,P3=I.screenY-qp.screenY):P3=A3=0,qp=I),A3)},movementY:function(I){return"movementY"in I?I.movementY:P3}}),M7=xs(Jm),kZ=W({},Jm,{dataTransfer:0}),BZ=xs(kZ),UZ=W({},_p,{relatedTarget:0}),I3=xs(UZ),jZ=W({},Ch,{animationName:0,elapsedTime:0,pseudoElement:0}),zZ=xs(jZ),WZ=W({},Ch,{clipboardData:function(I){return"clipboardData"in I?I.clipboardData:window.clipboardData}}),GZ=xs(WZ),VZ=W({},Ch,{data:0}),O7=xs(VZ),HZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KZ(I){var M=this.nativeEvent;return M.getModifierState?M.getModifierState(I):(I=XZ[I])?!!M[I]:!1}function R3(){return KZ}var ZZ=W({},_p,{key:function(I){if(I.key){var M=HZ[I.key]||I.key;if(M!=="Unidentified")return M}return I.type==="keypress"?(I=Km(I),I===13?"Enter":String.fromCharCode(I)):I.type==="keydown"||I.type==="keyup"?YZ[I.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:R3,charCode:function(I){return I.type==="keypress"?Km(I):0},keyCode:function(I){return I.type==="keydown"||I.type==="keyup"?I.keyCode:0},which:function(I){return I.type==="keypress"?Km(I):I.type==="keydown"||I.type==="keyup"?I.keyCode:0}}),JZ=xs(ZZ),QZ=W({},Jm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),F7=xs(QZ),_Z=W({},_p,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:R3}),qZ=xs(_Z),eJ=W({},Ch,{propertyName:0,elapsedTime:0,pseudoElement:0}),tJ=xs(eJ),nJ=W({},Jm,{deltaX:function(I){return"deltaX"in I?I.deltaX:"wheelDeltaX"in I?-I.wheelDeltaX:0},deltaY:function(I){return"deltaY"in I?I.deltaY:"wheelDeltaY"in I?-I.wheelDeltaY:"wheelDelta"in I?-I.wheelDelta:0},deltaZ:0,deltaMode:0}),rJ=xs(nJ),iJ=[9,13,27,32],M3=y&&"CompositionEvent"in window,e0=null;y&&"documentMode"in document&&(e0=document.documentMode);var sJ=y&&"TextEvent"in window&&!e0,$7=y&&(!M3||e0&&8<e0&&11>=e0),L7=" ",D7=!1;function N7(I,M){switch(I){case"keyup":return iJ.indexOf(M.keyCode)!==-1;case"keydown":return M.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function k7(I){return I=I.detail,typeof I=="object"&&"data"in I?I.data:null}var Eh=!1;function aJ(I,M){switch(I){case"compositionend":return k7(M);case"keypress":return M.which!==32?null:(D7=!0,L7);case"textInput":return I=M.data,I===L7&&D7?null:I;default:return null}}function oJ(I,M){if(Eh)return I==="compositionend"||!M3&&N7(I,M)?(I=I7(),Xm=bh=Pa=null,Eh=!1,I):null;switch(I){case"paste":return null;case"keypress":if(!(M.ctrlKey||M.altKey||M.metaKey)||M.ctrlKey&&M.altKey){if(M.char&&1<M.char.length)return M.char;if(M.which)return String.fromCharCode(M.which)}return null;case"compositionend":return $7&&M.locale!=="ko"?null:M.data;default:return null}}var lJ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function B7(I){var M=I&&I.nodeName&&I.nodeName.toLowerCase();return M==="input"?!!lJ[I.type]:M==="textarea"}function U7(I,M,B,Y){bn(Y),M=t1(M,"onChange"),0<M.length&&(B=new T3("onChange","change",null,B,Y),I.push({event:B,listeners:M}))}var t0=null,n0=null;function uJ(I){rA(I,0)}function Qm(I){var M=Ih(I);if(ie(M))return I}function cJ(I,M){if(I==="change")return M}var j7=!1;if(y){var O3;if(y){var F3="oninput"in document;if(!F3){var z7=document.createElement("div");z7.setAttribute("oninput","return;"),F3=typeof z7.oninput=="function"}O3=F3}else O3=!1;j7=O3&&(!document.documentMode||9<document.documentMode)}function W7(){t0&&(t0.detachEvent("onpropertychange",G7),n0=t0=null)}function G7(I){if(I.propertyName==="value"&&Qm(n0)){var M=[];U7(M,n0,I,cn(I)),pe(uJ,M)}}function dJ(I,M,B){I==="focusin"?(W7(),t0=M,n0=B,t0.attachEvent("onpropertychange",G7)):I==="focusout"&&W7()}function hJ(I){if(I==="selectionchange"||I==="keyup"||I==="keydown")return Qm(n0)}function fJ(I,M){if(I==="click")return Qm(M)}function pJ(I,M){if(I==="input"||I==="change")return Qm(M)}function vJ(I,M){return I===M&&(I!==0||1/I===1/M)||I!==I&&M!==M}var Ia=typeof Object.is=="function"?Object.is:vJ;function r0(I,M){if(Ia(I,M))return!0;if(typeof I!="object"||I===null||typeof M!="object"||M===null)return!1;var B=Object.keys(I),Y=Object.keys(M);if(B.length!==Y.length)return!1;for(Y=0;Y<B.length;Y++){var Q=B[Y];if(!r.call(M,Q)||!Ia(I[Q],M[Q]))return!1}return!0}function V7(I){for(;I&&I.firstChild;)I=I.firstChild;return I}function H7(I,M){var B=V7(I);I=0;for(var Y;B;){if(B.nodeType===3){if(Y=I+B.textContent.length,I<=M&&Y>=M)return{node:B,offset:M-I};I=Y}e:{for(;B;){if(B.nextSibling){B=B.nextSibling;break e}B=B.parentNode}B=void 0}B=V7(B)}}function Y7(I,M){return I&&M?I===M?!0:I&&I.nodeType===3?!1:M&&M.nodeType===3?Y7(I,M.parentNode):"contains"in I?I.contains(M):I.compareDocumentPosition?!!(I.compareDocumentPosition(M)&16):!1:!1}function X7(){for(var I=window,M=le();M instanceof I.HTMLIFrameElement;){try{var B=typeof M.contentWindow.location.href=="string"}catch{B=!1}if(B)I=M.contentWindow;else break;M=le(I.document)}return M}function $3(I){var M=I&&I.nodeName&&I.nodeName.toLowerCase();return M&&(M==="input"&&(I.type==="text"||I.type==="search"||I.type==="tel"||I.type==="url"||I.type==="password")||M==="textarea"||I.contentEditable==="true")}function gJ(I){var M=X7(),B=I.focusedElem,Y=I.selectionRange;if(M!==B&&B&&B.ownerDocument&&Y7(B.ownerDocument.documentElement,B)){if(Y!==null&&$3(B)){if(M=Y.start,I=Y.end,I===void 0&&(I=M),"selectionStart"in B)B.selectionStart=M,B.selectionEnd=Math.min(I,B.value.length);else if(I=(M=B.ownerDocument||document)&&M.defaultView||window,I.getSelection){I=I.getSelection();var Q=B.textContent.length,q=Math.min(Y.start,Q);Y=Y.end===void 0?q:Math.min(Y.end,Q),!I.extend&&q>Y&&(Q=Y,Y=q,q=Q),Q=H7(B,q);var re=H7(B,Y);Q&&re&&(I.rangeCount!==1||I.anchorNode!==Q.node||I.anchorOffset!==Q.offset||I.focusNode!==re.node||I.focusOffset!==re.offset)&&(M=M.createRange(),M.setStart(Q.node,Q.offset),I.removeAllRanges(),q>Y?(I.addRange(M),I.extend(re.node,re.offset)):(M.setEnd(re.node,re.offset),I.addRange(M)))}}for(M=[],I=B;I=I.parentNode;)I.nodeType===1&&M.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<M.length;B++)I=M[B],I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}var mJ=y&&"documentMode"in document&&11>=document.documentMode,Sh=null,L3=null,i0=null,D3=!1;function K7(I,M,B){var Y=B.window===B?B.document:B.nodeType===9?B:B.ownerDocument;D3||Sh==null||Sh!==le(Y)||(Y=Sh,"selectionStart"in Y&&$3(Y)?Y={start:Y.selectionStart,end:Y.selectionEnd}:(Y=(Y.ownerDocument&&Y.ownerDocument.defaultView||window).getSelection(),Y={anchorNode:Y.anchorNode,anchorOffset:Y.anchorOffset,focusNode:Y.focusNode,focusOffset:Y.focusOffset}),i0&&r0(i0,Y)||(i0=Y,Y=t1(L3,"onSelect"),0<Y.length&&(M=new T3("onSelect","select",null,M,B),I.push({event:M,listeners:Y}),M.target=Sh)))}function _m(I,M){var B={};return B[I.toLowerCase()]=M.toLowerCase(),B["Webkit"+I]="webkit"+M,B["Moz"+I]="moz"+M,B}var Th={animationend:_m("Animation","AnimationEnd"),animationiteration:_m("Animation","AnimationIteration"),animationstart:_m("Animation","AnimationStart"),transitionend:_m("Transition","TransitionEnd")},N3={},Z7={};y&&(Z7=document.createElement("div").style,"AnimationEvent"in window||(delete Th.animationend.animation,delete Th.animationiteration.animation,delete Th.animationstart.animation),"TransitionEvent"in window||delete Th.transitionend.transition);function qm(I){if(N3[I])return N3[I];if(!Th[I])return I;var M=Th[I],B;for(B in M)if(M.hasOwnProperty(B)&&B in Z7)return N3[I]=M[B];return I}var J7=qm("animationend"),Q7=qm("animationiteration"),_7=qm("animationstart"),q7=qm("transitionend"),eA=new Map,tA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cu(I,M){eA.set(I,M),b(M,[I])}for(var k3=0;k3<tA.length;k3++){var B3=tA[k3],yJ=B3.toLowerCase(),wJ=B3[0].toUpperCase()+B3.slice(1);cu(yJ,"on"+wJ)}cu(J7,"onAnimationEnd"),cu(Q7,"onAnimationIteration"),cu(_7,"onAnimationStart"),cu("dblclick","onDoubleClick"),cu("focusin","onFocus"),cu("focusout","onBlur"),cu(q7,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),b("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),b("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),b("onBeforeInput",["compositionend","keypress","textInput","paste"]),b("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),b("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),b("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var s0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xJ=new Set("cancel close invalid load scroll toggle".split(" ").concat(s0));function nA(I,M,B){var Y=I.type||"unknown-event";I.currentTarget=B,yn(Y,M,void 0,I),I.currentTarget=null}function rA(I,M){M=(M&4)!==0;for(var B=0;B<I.length;B++){var Y=I[B],Q=Y.event;Y=Y.listeners;e:{var q=void 0;if(M)for(var re=Y.length-1;0<=re;re--){var de=Y[re],me=de.instance,Fe=de.currentTarget;if(de=de.listener,me!==q&&Q.isPropagationStopped())break e;nA(Q,de,Fe),q=me}else for(re=0;re<Y.length;re++){if(de=Y[re],me=de.instance,Fe=de.currentTarget,de=de.listener,me!==q&&Q.isPropagationStopped())break e;nA(Q,de,Fe),q=me}}}if(Xt)throw I=Qt,Xt=!1,Qt=null,I}function $n(I,M){var B=M[Y3];B===void 0&&(B=M[Y3]=new Set);var Y=I+"__bubble";B.has(Y)||(iA(M,I,2,!1),B.add(Y))}function U3(I,M,B){var Y=0;M&&(Y|=4),iA(B,I,Y,M)}var e1="_reactListening"+Math.random().toString(36).slice(2);function a0(I){if(!I[e1]){I[e1]=!0,i.forEach(function(B){B!=="selectionchange"&&(xJ.has(B)||U3(B,!1,I),U3(B,!0,I))});var M=I.nodeType===9?I:I.ownerDocument;M===null||M[e1]||(M[e1]=!0,U3("selectionchange",!1,M))}}function iA(I,M,B,Y){switch(Qp(M)){case 1:var Q=di;break;case 4:Q=yh;break;default:Q=Jp}B=Q.bind(null,M,B,I),Q=void 0,!Pe||M!=="touchstart"&&M!=="touchmove"&&M!=="wheel"||(Q=!0),Y?Q!==void 0?I.addEventListener(M,B,{capture:!0,passive:Q}):I.addEventListener(M,B,!0):Q!==void 0?I.addEventListener(M,B,{passive:Q}):I.addEventListener(M,B,!1)}function j3(I,M,B,Y,Q){var q=Y;if((M&1)===0&&(M&2)===0&&Y!==null)e:for(;;){if(Y===null)return;var re=Y.tag;if(re===3||re===4){var de=Y.stateNode.containerInfo;if(de===Q||de.nodeType===8&&de.parentNode===Q)break;if(re===4)for(re=Y.return;re!==null;){var me=re.tag;if((me===3||me===4)&&(me=re.stateNode.containerInfo,me===Q||me.nodeType===8&&me.parentNode===Q))return;re=re.return}for(;de!==null;){if(re=Ic(de),re===null)return;if(me=re.tag,me===5||me===6){Y=q=re;continue e}de=de.parentNode}}Y=Y.return}pe(function(){var Fe=q,ze=cn(B),Ve=[];e:{var Ue=eA.get(I);if(Ue!==void 0){var at=T3,ft=I;switch(I){case"keypress":if(Km(B)===0)break e;case"keydown":case"keyup":at=JZ;break;case"focusin":ft="focus",at=I3;break;case"focusout":ft="blur",at=I3;break;case"beforeblur":case"afterblur":at=I3;break;case"click":if(B.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":at=M7;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":at=BZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":at=qZ;break;case J7:case Q7:case _7:at=zZ;break;case q7:at=tJ;break;case"scroll":at=NZ;break;case"wheel":at=rJ;break;case"copy":case"cut":case"paste":at=GZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":at=F7}var gt=(M&4)!==0,ar=!gt&&I==="scroll",Te=gt?Ue!==null?Ue+"Capture":null:Ue;gt=[];for(var xe=Fe,Me;xe!==null;){Me=xe;var Ke=Me.stateNode;if(Me.tag===5&&Ke!==null&&(Me=Ke,Te!==null&&(Ke=be(xe,Te),Ke!=null&&gt.push(o0(xe,Ke,Me)))),ar)break;xe=xe.return}0<gt.length&&(Ue=new at(Ue,ft,null,B,ze),Ve.push({event:Ue,listeners:gt}))}}if((M&7)===0){e:{if(Ue=I==="mouseover"||I==="pointerover",at=I==="mouseout"||I==="pointerout",Ue&&B!==tt&&(ft=B.relatedTarget||B.fromElement)&&(Ic(ft)||ft[hl]))break e;if((at||Ue)&&(Ue=ze.window===ze?ze:(Ue=ze.ownerDocument)?Ue.defaultView||Ue.parentWindow:window,at?(ft=B.relatedTarget||B.toElement,at=Fe,ft=ft?Ic(ft):null,ft!==null&&(ar=_t(ft),ft!==ar||ft.tag!==5&&ft.tag!==6)&&(ft=null)):(at=null,ft=Fe),at!==ft)){if(gt=M7,Ke="onMouseLeave",Te="onMouseEnter",xe="mouse",(I==="pointerout"||I==="pointerover")&&(gt=F7,Ke="onPointerLeave",Te="onPointerEnter",xe="pointer"),ar=at==null?Ue:Ih(at),Me=ft==null?Ue:Ih(ft),Ue=new gt(Ke,xe+"leave",at,B,ze),Ue.target=ar,Ue.relatedTarget=Me,Ke=null,Ic(ze)===Fe&&(gt=new gt(Te,xe+"enter",ft,B,ze),gt.target=Me,gt.relatedTarget=ar,Ke=gt),ar=Ke,at&&ft)t:{for(gt=at,Te=ft,xe=0,Me=gt;Me;Me=Ah(Me))xe++;for(Me=0,Ke=Te;Ke;Ke=Ah(Ke))Me++;for(;0<xe-Me;)gt=Ah(gt),xe--;for(;0<Me-xe;)Te=Ah(Te),Me--;for(;xe--;){if(gt===Te||Te!==null&&gt===Te.alternate)break t;gt=Ah(gt),Te=Ah(Te)}gt=null}else gt=null;at!==null&&sA(Ve,Ue,at,gt,!1),ft!==null&&ar!==null&&sA(Ve,ar,ft,gt,!0)}}e:{if(Ue=Fe?Ih(Fe):window,at=Ue.nodeName&&Ue.nodeName.toLowerCase(),at==="select"||at==="input"&&Ue.type==="file")var yt=cJ;else if(B7(Ue))if(j7)yt=pJ;else{yt=hJ;var Tt=dJ}else(at=Ue.nodeName)&&at.toLowerCase()==="input"&&(Ue.type==="checkbox"||Ue.type==="radio")&&(yt=fJ);if(yt&&(yt=yt(I,Fe))){U7(Ve,yt,B,ze);break e}Tt&&Tt(I,Ue,Fe),I==="focusout"&&(Tt=Ue._wrapperState)&&Tt.controlled&&Ue.type==="number"&&Ee(Ue,"number",Ue.value)}switch(Tt=Fe?Ih(Fe):window,I){case"focusin":(B7(Tt)||Tt.contentEditable==="true")&&(Sh=Tt,L3=Fe,i0=null);break;case"focusout":i0=L3=Sh=null;break;case"mousedown":D3=!0;break;case"contextmenu":case"mouseup":case"dragend":D3=!1,K7(Ve,B,ze);break;case"selectionchange":if(mJ)break;case"keydown":case"keyup":K7(Ve,B,ze)}var At;if(M3)e:{switch(I){case"compositionstart":var Ot="onCompositionStart";break e;case"compositionend":Ot="onCompositionEnd";break e;case"compositionupdate":Ot="onCompositionUpdate";break e}Ot=void 0}else Eh?N7(I,B)&&(Ot="onCompositionEnd"):I==="keydown"&&B.keyCode===229&&(Ot="onCompositionStart");Ot&&($7&&B.locale!=="ko"&&(Eh||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&Eh&&(At=I7()):(Pa=ze,bh="value"in Pa?Pa.value:Pa.textContent,Eh=!0)),Tt=t1(Fe,Ot),0<Tt.length&&(Ot=new O7(Ot,I,null,B,ze),Ve.push({event:Ot,listeners:Tt}),At?Ot.data=At:(At=k7(B),At!==null&&(Ot.data=At)))),(At=sJ?aJ(I,B):oJ(I,B))&&(Fe=t1(Fe,"onBeforeInput"),0<Fe.length&&(ze=new O7("onBeforeInput","beforeinput",null,B,ze),Ve.push({event:ze,listeners:Fe}),ze.data=At))}rA(Ve,M)})}function o0(I,M,B){return{instance:I,listener:M,currentTarget:B}}function t1(I,M){for(var B=M+"Capture",Y=[];I!==null;){var Q=I,q=Q.stateNode;Q.tag===5&&q!==null&&(Q=q,q=be(I,B),q!=null&&Y.unshift(o0(I,q,Q)),q=be(I,M),q!=null&&Y.push(o0(I,q,Q))),I=I.return}return Y}function Ah(I){if(I===null)return null;do I=I.return;while(I&&I.tag!==5);return I||null}function sA(I,M,B,Y,Q){for(var q=M._reactName,re=[];B!==null&&B!==Y;){var de=B,me=de.alternate,Fe=de.stateNode;if(me!==null&&me===Y)break;de.tag===5&&Fe!==null&&(de=Fe,Q?(me=be(B,q),me!=null&&re.unshift(o0(B,me,de))):Q||(me=be(B,q),me!=null&&re.push(o0(B,me,de)))),B=B.return}re.length!==0&&I.push({event:M,listeners:re})}var bJ=/\r\n?/g,CJ=/\u0000|\uFFFD/g;function aA(I){return(typeof I=="string"?I:""+I).replace(bJ,`
`).replace(CJ,"")}function n1(I,M,B){if(M=aA(M),aA(I)!==M&&B)throw Error(n(425))}function r1(){}var z3=null,W3=null;function G3(I,M){return I==="textarea"||I==="noscript"||typeof M.children=="string"||typeof M.children=="number"||typeof M.dangerouslySetInnerHTML=="object"&&M.dangerouslySetInnerHTML!==null&&M.dangerouslySetInnerHTML.__html!=null}var V3=typeof setTimeout=="function"?setTimeout:void 0,EJ=typeof clearTimeout=="function"?clearTimeout:void 0,oA=typeof Promise=="function"?Promise:void 0,SJ=typeof queueMicrotask=="function"?queueMicrotask:typeof oA<"u"?function(I){return oA.resolve(null).then(I).catch(TJ)}:V3;function TJ(I){setTimeout(function(){throw I})}function H3(I,M){var B=M,Y=0;do{var Q=B.nextSibling;if(I.removeChild(B),Q&&Q.nodeType===8)if(B=Q.data,B==="/$"){if(Y===0){I.removeChild(Q),Be(M);return}Y--}else B!=="$"&&B!=="$?"&&B!=="$!"||Y++;B=Q}while(B);Be(M)}function du(I){for(;I!=null;I=I.nextSibling){var M=I.nodeType;if(M===1||M===3)break;if(M===8){if(M=I.data,M==="$"||M==="$!"||M==="$?")break;if(M==="/$")return null}}return I}function lA(I){I=I.previousSibling;for(var M=0;I;){if(I.nodeType===8){var B=I.data;if(B==="$"||B==="$!"||B==="$?"){if(M===0)return I;M--}else B==="/$"&&M++}I=I.previousSibling}return null}var Ph=Math.random().toString(36).slice(2),Co="__reactFiber$"+Ph,l0="__reactProps$"+Ph,hl="__reactContainer$"+Ph,Y3="__reactEvents$"+Ph,AJ="__reactListeners$"+Ph,PJ="__reactHandles$"+Ph;function Ic(I){var M=I[Co];if(M)return M;for(var B=I.parentNode;B;){if(M=B[hl]||B[Co]){if(B=M.alternate,M.child!==null||B!==null&&B.child!==null)for(I=lA(I);I!==null;){if(B=I[Co])return B;I=lA(I)}return M}I=B,B=I.parentNode}return null}function u0(I){return I=I[Co]||I[hl],!I||I.tag!==5&&I.tag!==6&&I.tag!==13&&I.tag!==3?null:I}function Ih(I){if(I.tag===5||I.tag===6)return I.stateNode;throw Error(n(33))}function i1(I){return I[l0]||null}var X3=[],Rh=-1;function hu(I){return{current:I}}function Ln(I){0>Rh||(I.current=X3[Rh],X3[Rh]=null,Rh--)}function In(I,M){Rh++,X3[Rh]=I.current,I.current=M}var fu={},hi=hu(fu),Wi=hu(!1),Rc=fu;function Mh(I,M){var B=I.type.contextTypes;if(!B)return fu;var Y=I.stateNode;if(Y&&Y.__reactInternalMemoizedUnmaskedChildContext===M)return Y.__reactInternalMemoizedMaskedChildContext;var Q={},q;for(q in B)Q[q]=M[q];return Y&&(I=I.stateNode,I.__reactInternalMemoizedUnmaskedChildContext=M,I.__reactInternalMemoizedMaskedChildContext=Q),Q}function Gi(I){return I=I.childContextTypes,I!=null}function s1(){Ln(Wi),Ln(hi)}function uA(I,M,B){if(hi.current!==fu)throw Error(n(168));In(hi,M),In(Wi,B)}function cA(I,M,B){var Y=I.stateNode;if(M=M.childContextTypes,typeof Y.getChildContext!="function")return B;Y=Y.getChildContext();for(var Q in Y)if(!(Q in M))throw Error(n(108,V(I)||"Unknown",Q));return W({},B,Y)}function a1(I){return I=(I=I.stateNode)&&I.__reactInternalMemoizedMergedChildContext||fu,Rc=hi.current,In(hi,I),In(Wi,Wi.current),!0}function dA(I,M,B){var Y=I.stateNode;if(!Y)throw Error(n(169));B?(I=cA(I,M,Rc),Y.__reactInternalMemoizedMergedChildContext=I,Ln(Wi),Ln(hi),In(hi,I)):Ln(Wi),In(Wi,B)}var fl=null,o1=!1,K3=!1;function hA(I){fl===null?fl=[I]:fl.push(I)}function IJ(I){o1=!0,hA(I)}function pu(){if(!K3&&fl!==null){K3=!0;var I=0,M=ln;try{var B=fl;for(ln=1;I<B.length;I++){var Y=B[I];do Y=Y(!0);while(Y!==null)}fl=null,o1=!1}catch(Q){throw fl!==null&&(fl=fl.slice(I+1)),Jr(Vn,pu),Q}finally{ln=M,K3=!1}}return null}var Oh=[],Fh=0,l1=null,u1=0,Ys=[],Xs=0,Mc=null,pl=1,vl="";function Oc(I,M){Oh[Fh++]=u1,Oh[Fh++]=l1,l1=I,u1=M}function fA(I,M,B){Ys[Xs++]=pl,Ys[Xs++]=vl,Ys[Xs++]=Mc,Mc=I;var Y=pl;I=vl;var Q=32-ws(Y)-1;Y&=~(1<<Q),B+=1;var q=32-ws(M)+Q;if(30<q){var re=Q-Q%5;q=(Y&(1<<re)-1).toString(32),Y>>=re,Q-=re,pl=1<<32-ws(M)+Q|B<<Q|Y,vl=q+I}else pl=1<<q|B<<Q|Y,vl=I}function Z3(I){I.return!==null&&(Oc(I,1),fA(I,1,0))}function J3(I){for(;I===l1;)l1=Oh[--Fh],Oh[Fh]=null,u1=Oh[--Fh],Oh[Fh]=null;for(;I===Mc;)Mc=Ys[--Xs],Ys[Xs]=null,vl=Ys[--Xs],Ys[Xs]=null,pl=Ys[--Xs],Ys[Xs]=null}var bs=null,Cs=null,Hn=!1,Ra=null;function pA(I,M){var B=Qs(5,null,null,0);B.elementType="DELETED",B.stateNode=M,B.return=I,M=I.deletions,M===null?(I.deletions=[B],I.flags|=16):M.push(B)}function vA(I,M){switch(I.tag){case 5:var B=I.type;return M=M.nodeType!==1||B.toLowerCase()!==M.nodeName.toLowerCase()?null:M,M!==null?(I.stateNode=M,bs=I,Cs=du(M.firstChild),!0):!1;case 6:return M=I.pendingProps===""||M.nodeType!==3?null:M,M!==null?(I.stateNode=M,bs=I,Cs=null,!0):!1;case 13:return M=M.nodeType!==8?null:M,M!==null?(B=Mc!==null?{id:pl,overflow:vl}:null,I.memoizedState={dehydrated:M,treeContext:B,retryLane:1073741824},B=Qs(18,null,null,0),B.stateNode=M,B.return=I,I.child=B,bs=I,Cs=null,!0):!1;default:return!1}}function Q3(I){return(I.mode&1)!==0&&(I.flags&128)===0}function _3(I){if(Hn){var M=Cs;if(M){var B=M;if(!vA(I,M)){if(Q3(I))throw Error(n(418));M=du(B.nextSibling);var Y=bs;M&&vA(I,M)?pA(Y,B):(I.flags=I.flags&-4097|2,Hn=!1,bs=I)}}else{if(Q3(I))throw Error(n(418));I.flags=I.flags&-4097|2,Hn=!1,bs=I}}}function gA(I){for(I=I.return;I!==null&&I.tag!==5&&I.tag!==3&&I.tag!==13;)I=I.return;bs=I}function c1(I){if(I!==bs)return!1;if(!Hn)return gA(I),Hn=!0,!1;var M;if((M=I.tag!==3)&&!(M=I.tag!==5)&&(M=I.type,M=M!=="head"&&M!=="body"&&!G3(I.type,I.memoizedProps)),M&&(M=Cs)){if(Q3(I))throw mA(),Error(n(418));for(;M;)pA(I,M),M=du(M.nextSibling)}if(gA(I),I.tag===13){if(I=I.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(n(317));e:{for(I=I.nextSibling,M=0;I;){if(I.nodeType===8){var B=I.data;if(B==="/$"){if(M===0){Cs=du(I.nextSibling);break e}M--}else B!=="$"&&B!=="$!"&&B!=="$?"||M++}I=I.nextSibling}Cs=null}}else Cs=bs?du(I.stateNode.nextSibling):null;return!0}function mA(){for(var I=Cs;I;)I=du(I.nextSibling)}function $h(){Cs=bs=null,Hn=!1}function q3(I){Ra===null?Ra=[I]:Ra.push(I)}var RJ=x.ReactCurrentBatchConfig;function c0(I,M,B){if(I=B.ref,I!==null&&typeof I!="function"&&typeof I!="object"){if(B._owner){if(B=B._owner,B){if(B.tag!==1)throw Error(n(309));var Y=B.stateNode}if(!Y)throw Error(n(147,I));var Q=Y,q=""+I;return M!==null&&M.ref!==null&&typeof M.ref=="function"&&M.ref._stringRef===q?M.ref:(M=function(re){var de=Q.refs;re===null?delete de[q]:de[q]=re},M._stringRef=q,M)}if(typeof I!="string")throw Error(n(284));if(!B._owner)throw Error(n(290,I))}return I}function d1(I,M){throw I=Object.prototype.toString.call(M),Error(n(31,I==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":I))}function yA(I){var M=I._init;return M(I._payload)}function wA(I){function M(Te,xe){if(I){var Me=Te.deletions;Me===null?(Te.deletions=[xe],Te.flags|=16):Me.push(xe)}}function B(Te,xe){if(!I)return null;for(;xe!==null;)M(Te,xe),xe=xe.sibling;return null}function Y(Te,xe){for(Te=new Map;xe!==null;)xe.key!==null?Te.set(xe.key,xe):Te.set(xe.index,xe),xe=xe.sibling;return Te}function Q(Te,xe){return Te=Cu(Te,xe),Te.index=0,Te.sibling=null,Te}function q(Te,xe,Me){return Te.index=Me,I?(Me=Te.alternate,Me!==null?(Me=Me.index,Me<xe?(Te.flags|=2,xe):Me):(Te.flags|=2,xe)):(Te.flags|=1048576,xe)}function re(Te){return I&&Te.alternate===null&&(Te.flags|=2),Te}function de(Te,xe,Me,Ke){return xe===null||xe.tag!==6?(xe=V5(Me,Te.mode,Ke),xe.return=Te,xe):(xe=Q(xe,Me),xe.return=Te,xe)}function me(Te,xe,Me,Ke){var yt=Me.type;return yt===E?ze(Te,xe,Me.props.children,Ke,Me.key):xe!==null&&(xe.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===$&&yA(yt)===xe.type)?(Ke=Q(xe,Me.props),Ke.ref=c0(Te,xe,Me),Ke.return=Te,Ke):(Ke=D1(Me.type,Me.key,Me.props,null,Te.mode,Ke),Ke.ref=c0(Te,xe,Me),Ke.return=Te,Ke)}function Fe(Te,xe,Me,Ke){return xe===null||xe.tag!==4||xe.stateNode.containerInfo!==Me.containerInfo||xe.stateNode.implementation!==Me.implementation?(xe=H5(Me,Te.mode,Ke),xe.return=Te,xe):(xe=Q(xe,Me.children||[]),xe.return=Te,xe)}function ze(Te,xe,Me,Ke,yt){return xe===null||xe.tag!==7?(xe=Uc(Me,Te.mode,Ke,yt),xe.return=Te,xe):(xe=Q(xe,Me),xe.return=Te,xe)}function Ve(Te,xe,Me){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return xe=V5(""+xe,Te.mode,Me),xe.return=Te,xe;if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case w:return Me=D1(xe.type,xe.key,xe.props,null,Te.mode,Me),Me.ref=c0(Te,null,xe),Me.return=Te,Me;case C:return xe=H5(xe,Te.mode,Me),xe.return=Te,xe;case $:var Ke=xe._init;return Ve(Te,Ke(xe._payload),Me)}if(Ie(xe)||j(xe))return xe=Uc(xe,Te.mode,Me,null),xe.return=Te,xe;d1(Te,xe)}return null}function Ue(Te,xe,Me,Ke){var yt=xe!==null?xe.key:null;if(typeof Me=="string"&&Me!==""||typeof Me=="number")return yt!==null?null:de(Te,xe,""+Me,Ke);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case w:return Me.key===yt?me(Te,xe,Me,Ke):null;case C:return Me.key===yt?Fe(Te,xe,Me,Ke):null;case $:return yt=Me._init,Ue(Te,xe,yt(Me._payload),Ke)}if(Ie(Me)||j(Me))return yt!==null?null:ze(Te,xe,Me,Ke,null);d1(Te,Me)}return null}function at(Te,xe,Me,Ke,yt){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number")return Te=Te.get(Me)||null,de(xe,Te,""+Ke,yt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case w:return Te=Te.get(Ke.key===null?Me:Ke.key)||null,me(xe,Te,Ke,yt);case C:return Te=Te.get(Ke.key===null?Me:Ke.key)||null,Fe(xe,Te,Ke,yt);case $:var Tt=Ke._init;return at(Te,xe,Me,Tt(Ke._payload),yt)}if(Ie(Ke)||j(Ke))return Te=Te.get(Me)||null,ze(xe,Te,Ke,yt,null);d1(xe,Ke)}return null}function ft(Te,xe,Me,Ke){for(var yt=null,Tt=null,At=xe,Ot=xe=0,zr=null;At!==null&&Ot<Me.length;Ot++){At.index>Ot?(zr=At,At=null):zr=At.sibling;var nn=Ue(Te,At,Me[Ot],Ke);if(nn===null){At===null&&(At=zr);break}I&&At&&nn.alternate===null&&M(Te,At),xe=q(nn,xe,Ot),Tt===null?yt=nn:Tt.sibling=nn,Tt=nn,At=zr}if(Ot===Me.length)return B(Te,At),Hn&&Oc(Te,Ot),yt;if(At===null){for(;Ot<Me.length;Ot++)At=Ve(Te,Me[Ot],Ke),At!==null&&(xe=q(At,xe,Ot),Tt===null?yt=At:Tt.sibling=At,Tt=At);return Hn&&Oc(Te,Ot),yt}for(At=Y(Te,At);Ot<Me.length;Ot++)zr=at(At,Te,Ot,Me[Ot],Ke),zr!==null&&(I&&zr.alternate!==null&&At.delete(zr.key===null?Ot:zr.key),xe=q(zr,xe,Ot),Tt===null?yt=zr:Tt.sibling=zr,Tt=zr);return I&&At.forEach(function(Eu){return M(Te,Eu)}),Hn&&Oc(Te,Ot),yt}function gt(Te,xe,Me,Ke){var yt=j(Me);if(typeof yt!="function")throw Error(n(150));if(Me=yt.call(Me),Me==null)throw Error(n(151));for(var Tt=yt=null,At=xe,Ot=xe=0,zr=null,nn=Me.next();At!==null&&!nn.done;Ot++,nn=Me.next()){At.index>Ot?(zr=At,At=null):zr=At.sibling;var Eu=Ue(Te,At,nn.value,Ke);if(Eu===null){At===null&&(At=zr);break}I&&At&&Eu.alternate===null&&M(Te,At),xe=q(Eu,xe,Ot),Tt===null?yt=Eu:Tt.sibling=Eu,Tt=Eu,At=zr}if(nn.done)return B(Te,At),Hn&&Oc(Te,Ot),yt;if(At===null){for(;!nn.done;Ot++,nn=Me.next())nn=Ve(Te,nn.value,Ke),nn!==null&&(xe=q(nn,xe,Ot),Tt===null?yt=nn:Tt.sibling=nn,Tt=nn);return Hn&&Oc(Te,Ot),yt}for(At=Y(Te,At);!nn.done;Ot++,nn=Me.next())nn=at(At,Te,Ot,nn.value,Ke),nn!==null&&(I&&nn.alternate!==null&&At.delete(nn.key===null?Ot:nn.key),xe=q(nn,xe,Ot),Tt===null?yt=nn:Tt.sibling=nn,Tt=nn);return I&&At.forEach(function(lQ){return M(Te,lQ)}),Hn&&Oc(Te,Ot),yt}function ar(Te,xe,Me,Ke){if(typeof Me=="object"&&Me!==null&&Me.type===E&&Me.key===null&&(Me=Me.props.children),typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case w:e:{for(var yt=Me.key,Tt=xe;Tt!==null;){if(Tt.key===yt){if(yt=Me.type,yt===E){if(Tt.tag===7){B(Te,Tt.sibling),xe=Q(Tt,Me.props.children),xe.return=Te,Te=xe;break e}}else if(Tt.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===$&&yA(yt)===Tt.type){B(Te,Tt.sibling),xe=Q(Tt,Me.props),xe.ref=c0(Te,Tt,Me),xe.return=Te,Te=xe;break e}B(Te,Tt);break}else M(Te,Tt);Tt=Tt.sibling}Me.type===E?(xe=Uc(Me.props.children,Te.mode,Ke,Me.key),xe.return=Te,Te=xe):(Ke=D1(Me.type,Me.key,Me.props,null,Te.mode,Ke),Ke.ref=c0(Te,xe,Me),Ke.return=Te,Te=Ke)}return re(Te);case C:e:{for(Tt=Me.key;xe!==null;){if(xe.key===Tt)if(xe.tag===4&&xe.stateNode.containerInfo===Me.containerInfo&&xe.stateNode.implementation===Me.implementation){B(Te,xe.sibling),xe=Q(xe,Me.children||[]),xe.return=Te,Te=xe;break e}else{B(Te,xe);break}else M(Te,xe);xe=xe.sibling}xe=H5(Me,Te.mode,Ke),xe.return=Te,Te=xe}return re(Te);case $:return Tt=Me._init,ar(Te,xe,Tt(Me._payload),Ke)}if(Ie(Me))return ft(Te,xe,Me,Ke);if(j(Me))return gt(Te,xe,Me,Ke);d1(Te,Me)}return typeof Me=="string"&&Me!==""||typeof Me=="number"?(Me=""+Me,xe!==null&&xe.tag===6?(B(Te,xe.sibling),xe=Q(xe,Me),xe.return=Te,Te=xe):(B(Te,xe),xe=V5(Me,Te.mode,Ke),xe.return=Te,Te=xe),re(Te)):B(Te,xe)}return ar}var Lh=wA(!0),xA=wA(!1),h1=hu(null),f1=null,Dh=null,e5=null;function t5(){e5=Dh=f1=null}function n5(I){var M=h1.current;Ln(h1),I._currentValue=M}function r5(I,M,B){for(;I!==null;){var Y=I.alternate;if((I.childLanes&M)!==M?(I.childLanes|=M,Y!==null&&(Y.childLanes|=M)):Y!==null&&(Y.childLanes&M)!==M&&(Y.childLanes|=M),I===B)break;I=I.return}}function Nh(I,M){f1=I,e5=Dh=null,I=I.dependencies,I!==null&&I.firstContext!==null&&((I.lanes&M)!==0&&(Vi=!0),I.firstContext=null)}function Ks(I){var M=I._currentValue;if(e5!==I)if(I={context:I,memoizedValue:M,next:null},Dh===null){if(f1===null)throw Error(n(308));Dh=I,f1.dependencies={lanes:0,firstContext:I}}else Dh=Dh.next=I;return M}var Fc=null;function i5(I){Fc===null?Fc=[I]:Fc.push(I)}function bA(I,M,B,Y){var Q=M.interleaved;return Q===null?(B.next=B,i5(M)):(B.next=Q.next,Q.next=B),M.interleaved=B,gl(I,Y)}function gl(I,M){I.lanes|=M;var B=I.alternate;for(B!==null&&(B.lanes|=M),B=I,I=I.return;I!==null;)I.childLanes|=M,B=I.alternate,B!==null&&(B.childLanes|=M),B=I,I=I.return;return B.tag===3?B.stateNode:null}var vu=!1;function s5(I){I.updateQueue={baseState:I.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CA(I,M){I=I.updateQueue,M.updateQueue===I&&(M.updateQueue={baseState:I.baseState,firstBaseUpdate:I.firstBaseUpdate,lastBaseUpdate:I.lastBaseUpdate,shared:I.shared,effects:I.effects})}function ml(I,M){return{eventTime:I,lane:M,tag:0,payload:null,callback:null,next:null}}function gu(I,M,B){var Y=I.updateQueue;if(Y===null)return null;if(Y=Y.shared,(qt&2)!==0){var Q=Y.pending;return Q===null?M.next=M:(M.next=Q.next,Q.next=M),Y.pending=M,gl(I,B)}return Q=Y.interleaved,Q===null?(M.next=M,i5(Y)):(M.next=Q.next,Q.next=M),Y.interleaved=M,gl(I,B)}function p1(I,M,B){if(M=M.updateQueue,M!==null&&(M=M.shared,(B&4194240)!==0)){var Y=M.lanes;Y&=I.pendingLanes,B|=Y,M.lanes=B,Xp(I,B)}}function EA(I,M){var B=I.updateQueue,Y=I.alternate;if(Y!==null&&(Y=Y.updateQueue,B===Y)){var Q=null,q=null;if(B=B.firstBaseUpdate,B!==null){do{var re={eventTime:B.eventTime,lane:B.lane,tag:B.tag,payload:B.payload,callback:B.callback,next:null};q===null?Q=q=re:q=q.next=re,B=B.next}while(B!==null);q===null?Q=q=M:q=q.next=M}else Q=q=M;B={baseState:Y.baseState,firstBaseUpdate:Q,lastBaseUpdate:q,shared:Y.shared,effects:Y.effects},I.updateQueue=B;return}I=B.lastBaseUpdate,I===null?B.firstBaseUpdate=M:I.next=M,B.lastBaseUpdate=M}function v1(I,M,B,Y){var Q=I.updateQueue;vu=!1;var q=Q.firstBaseUpdate,re=Q.lastBaseUpdate,de=Q.shared.pending;if(de!==null){Q.shared.pending=null;var me=de,Fe=me.next;me.next=null,re===null?q=Fe:re.next=Fe,re=me;var ze=I.alternate;ze!==null&&(ze=ze.updateQueue,de=ze.lastBaseUpdate,de!==re&&(de===null?ze.firstBaseUpdate=Fe:de.next=Fe,ze.lastBaseUpdate=me))}if(q!==null){var Ve=Q.baseState;re=0,ze=Fe=me=null,de=q;do{var Ue=de.lane,at=de.eventTime;if((Y&Ue)===Ue){ze!==null&&(ze=ze.next={eventTime:at,lane:0,tag:de.tag,payload:de.payload,callback:de.callback,next:null});e:{var ft=I,gt=de;switch(Ue=M,at=B,gt.tag){case 1:if(ft=gt.payload,typeof ft=="function"){Ve=ft.call(at,Ve,Ue);break e}Ve=ft;break e;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=gt.payload,Ue=typeof ft=="function"?ft.call(at,Ve,Ue):ft,Ue==null)break e;Ve=W({},Ve,Ue);break e;case 2:vu=!0}}de.callback!==null&&de.lane!==0&&(I.flags|=64,Ue=Q.effects,Ue===null?Q.effects=[de]:Ue.push(de))}else at={eventTime:at,lane:Ue,tag:de.tag,payload:de.payload,callback:de.callback,next:null},ze===null?(Fe=ze=at,me=Ve):ze=ze.next=at,re|=Ue;if(de=de.next,de===null){if(de=Q.shared.pending,de===null)break;Ue=de,de=Ue.next,Ue.next=null,Q.lastBaseUpdate=Ue,Q.shared.pending=null}}while(!0);if(ze===null&&(me=Ve),Q.baseState=me,Q.firstBaseUpdate=Fe,Q.lastBaseUpdate=ze,M=Q.shared.interleaved,M!==null){Q=M;do re|=Q.lane,Q=Q.next;while(Q!==M)}else q===null&&(Q.shared.lanes=0);Dc|=re,I.lanes=re,I.memoizedState=Ve}}function SA(I,M,B){if(I=M.effects,M.effects=null,I!==null)for(M=0;M<I.length;M++){var Y=I[M],Q=Y.callback;if(Q!==null){if(Y.callback=null,Y=B,typeof Q!="function")throw Error(n(191,Q));Q.call(Y)}}}var d0={},Eo=hu(d0),h0=hu(d0),f0=hu(d0);function $c(I){if(I===d0)throw Error(n(174));return I}function a5(I,M){switch(In(f0,M),In(h0,I),In(Eo,d0),I=M.nodeType,I){case 9:case 11:M=(M=M.documentElement)?M.namespaceURI:vt(null,"");break;default:I=I===8?M.parentNode:M,M=I.namespaceURI||null,I=I.tagName,M=vt(M,I)}Ln(Eo),In(Eo,M)}function kh(){Ln(Eo),Ln(h0),Ln(f0)}function TA(I){$c(f0.current);var M=$c(Eo.current),B=vt(M,I.type);M!==B&&(In(h0,I),In(Eo,B))}function o5(I){h0.current===I&&(Ln(Eo),Ln(h0))}var Zn=hu(0);function g1(I){for(var M=I;M!==null;){if(M.tag===13){var B=M.memoizedState;if(B!==null&&(B=B.dehydrated,B===null||B.data==="$?"||B.data==="$!"))return M}else if(M.tag===19&&M.memoizedProps.revealOrder!==void 0){if((M.flags&128)!==0)return M}else if(M.child!==null){M.child.return=M,M=M.child;continue}if(M===I)break;for(;M.sibling===null;){if(M.return===null||M.return===I)return null;M=M.return}M.sibling.return=M.return,M=M.sibling}return null}var l5=[];function u5(){for(var I=0;I<l5.length;I++)l5[I]._workInProgressVersionPrimary=null;l5.length=0}var m1=x.ReactCurrentDispatcher,c5=x.ReactCurrentBatchConfig,Lc=0,Jn=null,Sr=null,Ur=null,y1=!1,p0=!1,v0=0,MJ=0;function fi(){throw Error(n(321))}function d5(I,M){if(M===null)return!1;for(var B=0;B<M.length&&B<I.length;B++)if(!Ia(I[B],M[B]))return!1;return!0}function h5(I,M,B,Y,Q,q){if(Lc=q,Jn=M,M.memoizedState=null,M.updateQueue=null,M.lanes=0,m1.current=I===null||I.memoizedState===null?LJ:DJ,I=B(Y,Q),p0){q=0;do{if(p0=!1,v0=0,25<=q)throw Error(n(301));q+=1,Ur=Sr=null,M.updateQueue=null,m1.current=NJ,I=B(Y,Q)}while(p0)}if(m1.current=b1,M=Sr!==null&&Sr.next!==null,Lc=0,Ur=Sr=Jn=null,y1=!1,M)throw Error(n(300));return I}function f5(){var I=v0!==0;return v0=0,I}function So(){var I={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ur===null?Jn.memoizedState=Ur=I:Ur=Ur.next=I,Ur}function Zs(){if(Sr===null){var I=Jn.alternate;I=I!==null?I.memoizedState:null}else I=Sr.next;var M=Ur===null?Jn.memoizedState:Ur.next;if(M!==null)Ur=M,Sr=I;else{if(I===null)throw Error(n(310));Sr=I,I={memoizedState:Sr.memoizedState,baseState:Sr.baseState,baseQueue:Sr.baseQueue,queue:Sr.queue,next:null},Ur===null?Jn.memoizedState=Ur=I:Ur=Ur.next=I}return Ur}function g0(I,M){return typeof M=="function"?M(I):M}function p5(I){var M=Zs(),B=M.queue;if(B===null)throw Error(n(311));B.lastRenderedReducer=I;var Y=Sr,Q=Y.baseQueue,q=B.pending;if(q!==null){if(Q!==null){var re=Q.next;Q.next=q.next,q.next=re}Y.baseQueue=Q=q,B.pending=null}if(Q!==null){q=Q.next,Y=Y.baseState;var de=re=null,me=null,Fe=q;do{var ze=Fe.lane;if((Lc&ze)===ze)me!==null&&(me=me.next={lane:0,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null}),Y=Fe.hasEagerState?Fe.eagerState:I(Y,Fe.action);else{var Ve={lane:ze,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null};me===null?(de=me=Ve,re=Y):me=me.next=Ve,Jn.lanes|=ze,Dc|=ze}Fe=Fe.next}while(Fe!==null&&Fe!==q);me===null?re=Y:me.next=de,Ia(Y,M.memoizedState)||(Vi=!0),M.memoizedState=Y,M.baseState=re,M.baseQueue=me,B.lastRenderedState=Y}if(I=B.interleaved,I!==null){Q=I;do q=Q.lane,Jn.lanes|=q,Dc|=q,Q=Q.next;while(Q!==I)}else Q===null&&(B.lanes=0);return[M.memoizedState,B.dispatch]}function v5(I){var M=Zs(),B=M.queue;if(B===null)throw Error(n(311));B.lastRenderedReducer=I;var Y=B.dispatch,Q=B.pending,q=M.memoizedState;if(Q!==null){B.pending=null;var re=Q=Q.next;do q=I(q,re.action),re=re.next;while(re!==Q);Ia(q,M.memoizedState)||(Vi=!0),M.memoizedState=q,M.baseQueue===null&&(M.baseState=q),B.lastRenderedState=q}return[q,Y]}function AA(){}function PA(I,M){var B=Jn,Y=Zs(),Q=M(),q=!Ia(Y.memoizedState,Q);if(q&&(Y.memoizedState=Q,Vi=!0),Y=Y.queue,g5(MA.bind(null,B,Y,I),[I]),Y.getSnapshot!==M||q||Ur!==null&&Ur.memoizedState.tag&1){if(B.flags|=2048,m0(9,RA.bind(null,B,Y,Q,M),void 0,null),jr===null)throw Error(n(349));(Lc&30)!==0||IA(B,M,Q)}return Q}function IA(I,M,B){I.flags|=16384,I={getSnapshot:M,value:B},M=Jn.updateQueue,M===null?(M={lastEffect:null,stores:null},Jn.updateQueue=M,M.stores=[I]):(B=M.stores,B===null?M.stores=[I]:B.push(I))}function RA(I,M,B,Y){M.value=B,M.getSnapshot=Y,OA(M)&&FA(I)}function MA(I,M,B){return B(function(){OA(M)&&FA(I)})}function OA(I){var M=I.getSnapshot;I=I.value;try{var B=M();return!Ia(I,B)}catch{return!0}}function FA(I){var M=gl(I,1);M!==null&&$a(M,I,1,-1)}function $A(I){var M=So();return typeof I=="function"&&(I=I()),M.memoizedState=M.baseState=I,I={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:g0,lastRenderedState:I},M.queue=I,I=I.dispatch=$J.bind(null,Jn,I),[M.memoizedState,I]}function m0(I,M,B,Y){return I={tag:I,create:M,destroy:B,deps:Y,next:null},M=Jn.updateQueue,M===null?(M={lastEffect:null,stores:null},Jn.updateQueue=M,M.lastEffect=I.next=I):(B=M.lastEffect,B===null?M.lastEffect=I.next=I:(Y=B.next,B.next=I,I.next=Y,M.lastEffect=I)),I}function LA(){return Zs().memoizedState}function w1(I,M,B,Y){var Q=So();Jn.flags|=I,Q.memoizedState=m0(1|M,B,void 0,Y===void 0?null:Y)}function x1(I,M,B,Y){var Q=Zs();Y=Y===void 0?null:Y;var q=void 0;if(Sr!==null){var re=Sr.memoizedState;if(q=re.destroy,Y!==null&&d5(Y,re.deps)){Q.memoizedState=m0(M,B,q,Y);return}}Jn.flags|=I,Q.memoizedState=m0(1|M,B,q,Y)}function DA(I,M){return w1(8390656,8,I,M)}function g5(I,M){return x1(2048,8,I,M)}function NA(I,M){return x1(4,2,I,M)}function kA(I,M){return x1(4,4,I,M)}function BA(I,M){if(typeof M=="function")return I=I(),M(I),function(){M(null)};if(M!=null)return I=I(),M.current=I,function(){M.current=null}}function UA(I,M,B){return B=B!=null?B.concat([I]):null,x1(4,4,BA.bind(null,M,I),B)}function m5(){}function jA(I,M){var B=Zs();M=M===void 0?null:M;var Y=B.memoizedState;return Y!==null&&M!==null&&d5(M,Y[1])?Y[0]:(B.memoizedState=[I,M],I)}function zA(I,M){var B=Zs();M=M===void 0?null:M;var Y=B.memoizedState;return Y!==null&&M!==null&&d5(M,Y[1])?Y[0]:(I=I(),B.memoizedState=[I,M],I)}function WA(I,M,B){return(Lc&21)===0?(I.baseState&&(I.baseState=!1,Vi=!0),I.memoizedState=B):(Ia(B,M)||(B=Bm(),Jn.lanes|=B,Dc|=B,I.baseState=!0),M)}function OJ(I,M){var B=ln;ln=B!==0&&4>B?B:4,I(!0);var Y=c5.transition;c5.transition={};try{I(!1),M()}finally{ln=B,c5.transition=Y}}function GA(){return Zs().memoizedState}function FJ(I,M,B){var Y=xu(I);if(B={lane:Y,action:B,hasEagerState:!1,eagerState:null,next:null},VA(I))HA(M,B);else if(B=bA(I,M,B,Y),B!==null){var Q=Ri();$a(B,I,Y,Q),YA(B,M,Y)}}function $J(I,M,B){var Y=xu(I),Q={lane:Y,action:B,hasEagerState:!1,eagerState:null,next:null};if(VA(I))HA(M,Q);else{var q=I.alternate;if(I.lanes===0&&(q===null||q.lanes===0)&&(q=M.lastRenderedReducer,q!==null))try{var re=M.lastRenderedState,de=q(re,B);if(Q.hasEagerState=!0,Q.eagerState=de,Ia(de,re)){var me=M.interleaved;me===null?(Q.next=Q,i5(M)):(Q.next=me.next,me.next=Q),M.interleaved=Q;return}}catch{}finally{}B=bA(I,M,Q,Y),B!==null&&(Q=Ri(),$a(B,I,Y,Q),YA(B,M,Y))}}function VA(I){var M=I.alternate;return I===Jn||M!==null&&M===Jn}function HA(I,M){p0=y1=!0;var B=I.pending;B===null?M.next=M:(M.next=B.next,B.next=M),I.pending=M}function YA(I,M,B){if((B&4194240)!==0){var Y=M.lanes;Y&=I.pendingLanes,B|=Y,M.lanes=B,Xp(I,B)}}var b1={readContext:Ks,useCallback:fi,useContext:fi,useEffect:fi,useImperativeHandle:fi,useInsertionEffect:fi,useLayoutEffect:fi,useMemo:fi,useReducer:fi,useRef:fi,useState:fi,useDebugValue:fi,useDeferredValue:fi,useTransition:fi,useMutableSource:fi,useSyncExternalStore:fi,useId:fi,unstable_isNewReconciler:!1},LJ={readContext:Ks,useCallback:function(I,M){return So().memoizedState=[I,M===void 0?null:M],I},useContext:Ks,useEffect:DA,useImperativeHandle:function(I,M,B){return B=B!=null?B.concat([I]):null,w1(4194308,4,BA.bind(null,M,I),B)},useLayoutEffect:function(I,M){return w1(4194308,4,I,M)},useInsertionEffect:function(I,M){return w1(4,2,I,M)},useMemo:function(I,M){var B=So();return M=M===void 0?null:M,I=I(),B.memoizedState=[I,M],I},useReducer:function(I,M,B){var Y=So();return M=B!==void 0?B(M):M,Y.memoizedState=Y.baseState=M,I={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:I,lastRenderedState:M},Y.queue=I,I=I.dispatch=FJ.bind(null,Jn,I),[Y.memoizedState,I]},useRef:function(I){var M=So();return I={current:I},M.memoizedState=I},useState:$A,useDebugValue:m5,useDeferredValue:function(I){return So().memoizedState=I},useTransition:function(){var I=$A(!1),M=I[0];return I=OJ.bind(null,I[1]),So().memoizedState=I,[M,I]},useMutableSource:function(){},useSyncExternalStore:function(I,M,B){var Y=Jn,Q=So();if(Hn){if(B===void 0)throw Error(n(407));B=B()}else{if(B=M(),jr===null)throw Error(n(349));(Lc&30)!==0||IA(Y,M,B)}Q.memoizedState=B;var q={value:B,getSnapshot:M};return Q.queue=q,DA(MA.bind(null,Y,q,I),[I]),Y.flags|=2048,m0(9,RA.bind(null,Y,q,B,M),void 0,null),B},useId:function(){var I=So(),M=jr.identifierPrefix;if(Hn){var B=vl,Y=pl;B=(Y&~(1<<32-ws(Y)-1)).toString(32)+B,M=":"+M+"R"+B,B=v0++,0<B&&(M+="H"+B.toString(32)),M+=":"}else B=MJ++,M=":"+M+"r"+B.toString(32)+":";return I.memoizedState=M},unstable_isNewReconciler:!1},DJ={readContext:Ks,useCallback:jA,useContext:Ks,useEffect:g5,useImperativeHandle:UA,useInsertionEffect:NA,useLayoutEffect:kA,useMemo:zA,useReducer:p5,useRef:LA,useState:function(){return p5(g0)},useDebugValue:m5,useDeferredValue:function(I){var M=Zs();return WA(M,Sr.memoizedState,I)},useTransition:function(){var I=p5(g0)[0],M=Zs().memoizedState;return[I,M]},useMutableSource:AA,useSyncExternalStore:PA,useId:GA,unstable_isNewReconciler:!1},NJ={readContext:Ks,useCallback:jA,useContext:Ks,useEffect:g5,useImperativeHandle:UA,useInsertionEffect:NA,useLayoutEffect:kA,useMemo:zA,useReducer:v5,useRef:LA,useState:function(){return v5(g0)},useDebugValue:m5,useDeferredValue:function(I){var M=Zs();return Sr===null?M.memoizedState=I:WA(M,Sr.memoizedState,I)},useTransition:function(){var I=v5(g0)[0],M=Zs().memoizedState;return[I,M]},useMutableSource:AA,useSyncExternalStore:PA,useId:GA,unstable_isNewReconciler:!1};function Ma(I,M){if(I&&I.defaultProps){M=W({},M),I=I.defaultProps;for(var B in I)M[B]===void 0&&(M[B]=I[B]);return M}return M}function y5(I,M,B,Y){M=I.memoizedState,B=B(Y,M),B=B==null?M:W({},M,B),I.memoizedState=B,I.lanes===0&&(I.updateQueue.baseState=B)}var C1={isMounted:function(I){return(I=I._reactInternals)?_t(I)===I:!1},enqueueSetState:function(I,M,B){I=I._reactInternals;var Y=Ri(),Q=xu(I),q=ml(Y,Q);q.payload=M,B!=null&&(q.callback=B),M=gu(I,q,Q),M!==null&&($a(M,I,Q,Y),p1(M,I,Q))},enqueueReplaceState:function(I,M,B){I=I._reactInternals;var Y=Ri(),Q=xu(I),q=ml(Y,Q);q.tag=1,q.payload=M,B!=null&&(q.callback=B),M=gu(I,q,Q),M!==null&&($a(M,I,Q,Y),p1(M,I,Q))},enqueueForceUpdate:function(I,M){I=I._reactInternals;var B=Ri(),Y=xu(I),Q=ml(B,Y);Q.tag=2,M!=null&&(Q.callback=M),M=gu(I,Q,Y),M!==null&&($a(M,I,Y,B),p1(M,I,Y))}};function XA(I,M,B,Y,Q,q,re){return I=I.stateNode,typeof I.shouldComponentUpdate=="function"?I.shouldComponentUpdate(Y,q,re):M.prototype&&M.prototype.isPureReactComponent?!r0(B,Y)||!r0(Q,q):!0}function KA(I,M,B){var Y=!1,Q=fu,q=M.contextType;return typeof q=="object"&&q!==null?q=Ks(q):(Q=Gi(M)?Rc:hi.current,Y=M.contextTypes,q=(Y=Y!=null)?Mh(I,Q):fu),M=new M(B,q),I.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,M.updater=C1,I.stateNode=M,M._reactInternals=I,Y&&(I=I.stateNode,I.__reactInternalMemoizedUnmaskedChildContext=Q,I.__reactInternalMemoizedMaskedChildContext=q),M}function ZA(I,M,B,Y){I=M.state,typeof M.componentWillReceiveProps=="function"&&M.componentWillReceiveProps(B,Y),typeof M.UNSAFE_componentWillReceiveProps=="function"&&M.UNSAFE_componentWillReceiveProps(B,Y),M.state!==I&&C1.enqueueReplaceState(M,M.state,null)}function w5(I,M,B,Y){var Q=I.stateNode;Q.props=B,Q.state=I.memoizedState,Q.refs={},s5(I);var q=M.contextType;typeof q=="object"&&q!==null?Q.context=Ks(q):(q=Gi(M)?Rc:hi.current,Q.context=Mh(I,q)),Q.state=I.memoizedState,q=M.getDerivedStateFromProps,typeof q=="function"&&(y5(I,M,q,B),Q.state=I.memoizedState),typeof M.getDerivedStateFromProps=="function"||typeof Q.getSnapshotBeforeUpdate=="function"||typeof Q.UNSAFE_componentWillMount!="function"&&typeof Q.componentWillMount!="function"||(M=Q.state,typeof Q.componentWillMount=="function"&&Q.componentWillMount(),typeof Q.UNSAFE_componentWillMount=="function"&&Q.UNSAFE_componentWillMount(),M!==Q.state&&C1.enqueueReplaceState(Q,Q.state,null),v1(I,B,Q,Y),Q.state=I.memoizedState),typeof Q.componentDidMount=="function"&&(I.flags|=4194308)}function Bh(I,M){try{var B="",Y=M;do B+=U(Y),Y=Y.return;while(Y);var Q=B}catch(q){Q=`
Error generating stack: `+q.message+`
`+q.stack}return{value:I,source:M,stack:Q,digest:null}}function x5(I,M,B){return{value:I,source:null,stack:B??null,digest:M??null}}function b5(I,M){try{console.error(M.value)}catch(B){setTimeout(function(){throw B})}}var kJ=typeof WeakMap=="function"?WeakMap:Map;function JA(I,M,B){B=ml(-1,B),B.tag=3,B.payload={element:null};var Y=M.value;return B.callback=function(){R1||(R1=!0,N5=Y),b5(I,M)},B}function QA(I,M,B){B=ml(-1,B),B.tag=3;var Y=I.type.getDerivedStateFromError;if(typeof Y=="function"){var Q=M.value;B.payload=function(){return Y(Q)},B.callback=function(){b5(I,M)}}var q=I.stateNode;return q!==null&&typeof q.componentDidCatch=="function"&&(B.callback=function(){b5(I,M),typeof Y!="function"&&(yu===null?yu=new Set([this]):yu.add(this));var re=M.stack;this.componentDidCatch(M.value,{componentStack:re!==null?re:""})}),B}function _A(I,M,B){var Y=I.pingCache;if(Y===null){Y=I.pingCache=new kJ;var Q=new Set;Y.set(M,Q)}else Q=Y.get(M),Q===void 0&&(Q=new Set,Y.set(M,Q));Q.has(B)||(Q.add(B),I=QJ.bind(null,I,M,B),M.then(I,I))}function qA(I){do{var M;if((M=I.tag===13)&&(M=I.memoizedState,M=M!==null?M.dehydrated!==null:!0),M)return I;I=I.return}while(I!==null);return null}function eP(I,M,B,Y,Q){return(I.mode&1)===0?(I===M?I.flags|=65536:(I.flags|=128,B.flags|=131072,B.flags&=-52805,B.tag===1&&(B.alternate===null?B.tag=17:(M=ml(-1,1),M.tag=2,gu(B,M,1))),B.lanes|=1),I):(I.flags|=65536,I.lanes=Q,I)}var BJ=x.ReactCurrentOwner,Vi=!1;function Ii(I,M,B,Y){M.child=I===null?xA(M,null,B,Y):Lh(M,I.child,B,Y)}function tP(I,M,B,Y,Q){B=B.render;var q=M.ref;return Nh(M,Q),Y=h5(I,M,B,Y,q,Q),B=f5(),I!==null&&!Vi?(M.updateQueue=I.updateQueue,M.flags&=-2053,I.lanes&=~Q,yl(I,M,Q)):(Hn&&B&&Z3(M),M.flags|=1,Ii(I,M,Y,Q),M.child)}function nP(I,M,B,Y,Q){if(I===null){var q=B.type;return typeof q=="function"&&!G5(q)&&q.defaultProps===void 0&&B.compare===null&&B.defaultProps===void 0?(M.tag=15,M.type=q,rP(I,M,q,Y,Q)):(I=D1(B.type,null,Y,M,M.mode,Q),I.ref=M.ref,I.return=M,M.child=I)}if(q=I.child,(I.lanes&Q)===0){var re=q.memoizedProps;if(B=B.compare,B=B!==null?B:r0,B(re,Y)&&I.ref===M.ref)return yl(I,M,Q)}return M.flags|=1,I=Cu(q,Y),I.ref=M.ref,I.return=M,M.child=I}function rP(I,M,B,Y,Q){if(I!==null){var q=I.memoizedProps;if(r0(q,Y)&&I.ref===M.ref)if(Vi=!1,M.pendingProps=Y=q,(I.lanes&Q)!==0)(I.flags&131072)!==0&&(Vi=!0);else return M.lanes=I.lanes,yl(I,M,Q)}return C5(I,M,B,Y,Q)}function iP(I,M,B){var Y=M.pendingProps,Q=Y.children,q=I!==null?I.memoizedState:null;if(Y.mode==="hidden")if((M.mode&1)===0)M.memoizedState={baseLanes:0,cachePool:null,transitions:null},In(jh,Es),Es|=B;else{if((B&1073741824)===0)return I=q!==null?q.baseLanes|B:B,M.lanes=M.childLanes=1073741824,M.memoizedState={baseLanes:I,cachePool:null,transitions:null},M.updateQueue=null,In(jh,Es),Es|=I,null;M.memoizedState={baseLanes:0,cachePool:null,transitions:null},Y=q!==null?q.baseLanes:B,In(jh,Es),Es|=Y}else q!==null?(Y=q.baseLanes|B,M.memoizedState=null):Y=B,In(jh,Es),Es|=Y;return Ii(I,M,Q,B),M.child}function sP(I,M){var B=M.ref;(I===null&&B!==null||I!==null&&I.ref!==B)&&(M.flags|=512,M.flags|=2097152)}function C5(I,M,B,Y,Q){var q=Gi(B)?Rc:hi.current;return q=Mh(M,q),Nh(M,Q),B=h5(I,M,B,Y,q,Q),Y=f5(),I!==null&&!Vi?(M.updateQueue=I.updateQueue,M.flags&=-2053,I.lanes&=~Q,yl(I,M,Q)):(Hn&&Y&&Z3(M),M.flags|=1,Ii(I,M,B,Q),M.child)}function aP(I,M,B,Y,Q){if(Gi(B)){var q=!0;a1(M)}else q=!1;if(Nh(M,Q),M.stateNode===null)S1(I,M),KA(M,B,Y),w5(M,B,Y,Q),Y=!0;else if(I===null){var re=M.stateNode,de=M.memoizedProps;re.props=de;var me=re.context,Fe=B.contextType;typeof Fe=="object"&&Fe!==null?Fe=Ks(Fe):(Fe=Gi(B)?Rc:hi.current,Fe=Mh(M,Fe));var ze=B.getDerivedStateFromProps,Ve=typeof ze=="function"||typeof re.getSnapshotBeforeUpdate=="function";Ve||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(de!==Y||me!==Fe)&&ZA(M,re,Y,Fe),vu=!1;var Ue=M.memoizedState;re.state=Ue,v1(M,Y,re,Q),me=M.memoizedState,de!==Y||Ue!==me||Wi.current||vu?(typeof ze=="function"&&(y5(M,B,ze,Y),me=M.memoizedState),(de=vu||XA(M,B,de,Y,Ue,me,Fe))?(Ve||typeof re.UNSAFE_componentWillMount!="function"&&typeof re.componentWillMount!="function"||(typeof re.componentWillMount=="function"&&re.componentWillMount(),typeof re.UNSAFE_componentWillMount=="function"&&re.UNSAFE_componentWillMount()),typeof re.componentDidMount=="function"&&(M.flags|=4194308)):(typeof re.componentDidMount=="function"&&(M.flags|=4194308),M.memoizedProps=Y,M.memoizedState=me),re.props=Y,re.state=me,re.context=Fe,Y=de):(typeof re.componentDidMount=="function"&&(M.flags|=4194308),Y=!1)}else{re=M.stateNode,CA(I,M),de=M.memoizedProps,Fe=M.type===M.elementType?de:Ma(M.type,de),re.props=Fe,Ve=M.pendingProps,Ue=re.context,me=B.contextType,typeof me=="object"&&me!==null?me=Ks(me):(me=Gi(B)?Rc:hi.current,me=Mh(M,me));var at=B.getDerivedStateFromProps;(ze=typeof at=="function"||typeof re.getSnapshotBeforeUpdate=="function")||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(de!==Ve||Ue!==me)&&ZA(M,re,Y,me),vu=!1,Ue=M.memoizedState,re.state=Ue,v1(M,Y,re,Q);var ft=M.memoizedState;de!==Ve||Ue!==ft||Wi.current||vu?(typeof at=="function"&&(y5(M,B,at,Y),ft=M.memoizedState),(Fe=vu||XA(M,B,Fe,Y,Ue,ft,me)||!1)?(ze||typeof re.UNSAFE_componentWillUpdate!="function"&&typeof re.componentWillUpdate!="function"||(typeof re.componentWillUpdate=="function"&&re.componentWillUpdate(Y,ft,me),typeof re.UNSAFE_componentWillUpdate=="function"&&re.UNSAFE_componentWillUpdate(Y,ft,me)),typeof re.componentDidUpdate=="function"&&(M.flags|=4),typeof re.getSnapshotBeforeUpdate=="function"&&(M.flags|=1024)):(typeof re.componentDidUpdate!="function"||de===I.memoizedProps&&Ue===I.memoizedState||(M.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||de===I.memoizedProps&&Ue===I.memoizedState||(M.flags|=1024),M.memoizedProps=Y,M.memoizedState=ft),re.props=Y,re.state=ft,re.context=me,Y=Fe):(typeof re.componentDidUpdate!="function"||de===I.memoizedProps&&Ue===I.memoizedState||(M.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||de===I.memoizedProps&&Ue===I.memoizedState||(M.flags|=1024),Y=!1)}return E5(I,M,B,Y,q,Q)}function E5(I,M,B,Y,Q,q){sP(I,M);var re=(M.flags&128)!==0;if(!Y&&!re)return Q&&dA(M,B,!1),yl(I,M,q);Y=M.stateNode,BJ.current=M;var de=re&&typeof B.getDerivedStateFromError!="function"?null:Y.render();return M.flags|=1,I!==null&&re?(M.child=Lh(M,I.child,null,q),M.child=Lh(M,null,de,q)):Ii(I,M,de,q),M.memoizedState=Y.state,Q&&dA(M,B,!0),M.child}function oP(I){var M=I.stateNode;M.pendingContext?uA(I,M.pendingContext,M.pendingContext!==M.context):M.context&&uA(I,M.context,!1),a5(I,M.containerInfo)}function lP(I,M,B,Y,Q){return $h(),q3(Q),M.flags|=256,Ii(I,M,B,Y),M.child}var S5={dehydrated:null,treeContext:null,retryLane:0};function T5(I){return{baseLanes:I,cachePool:null,transitions:null}}function uP(I,M,B){var Y=M.pendingProps,Q=Zn.current,q=!1,re=(M.flags&128)!==0,de;if((de=re)||(de=I!==null&&I.memoizedState===null?!1:(Q&2)!==0),de?(q=!0,M.flags&=-129):(I===null||I.memoizedState!==null)&&(Q|=1),In(Zn,Q&1),I===null)return _3(M),I=M.memoizedState,I!==null&&(I=I.dehydrated,I!==null)?((M.mode&1)===0?M.lanes=1:I.data==="$!"?M.lanes=8:M.lanes=1073741824,null):(re=Y.children,I=Y.fallback,q?(Y=M.mode,q=M.child,re={mode:"hidden",children:re},(Y&1)===0&&q!==null?(q.childLanes=0,q.pendingProps=re):q=N1(re,Y,0,null),I=Uc(I,Y,B,null),q.return=M,I.return=M,q.sibling=I,M.child=q,M.child.memoizedState=T5(B),M.memoizedState=S5,I):A5(M,re));if(Q=I.memoizedState,Q!==null&&(de=Q.dehydrated,de!==null))return UJ(I,M,re,Y,de,Q,B);if(q){q=Y.fallback,re=M.mode,Q=I.child,de=Q.sibling;var me={mode:"hidden",children:Y.children};return(re&1)===0&&M.child!==Q?(Y=M.child,Y.childLanes=0,Y.pendingProps=me,M.deletions=null):(Y=Cu(Q,me),Y.subtreeFlags=Q.subtreeFlags&14680064),de!==null?q=Cu(de,q):(q=Uc(q,re,B,null),q.flags|=2),q.return=M,Y.return=M,Y.sibling=q,M.child=Y,Y=q,q=M.child,re=I.child.memoizedState,re=re===null?T5(B):{baseLanes:re.baseLanes|B,cachePool:null,transitions:re.transitions},q.memoizedState=re,q.childLanes=I.childLanes&~B,M.memoizedState=S5,Y}return q=I.child,I=q.sibling,Y=Cu(q,{mode:"visible",children:Y.children}),(M.mode&1)===0&&(Y.lanes=B),Y.return=M,Y.sibling=null,I!==null&&(B=M.deletions,B===null?(M.deletions=[I],M.flags|=16):B.push(I)),M.child=Y,M.memoizedState=null,Y}function A5(I,M){return M=N1({mode:"visible",children:M},I.mode,0,null),M.return=I,I.child=M}function E1(I,M,B,Y){return Y!==null&&q3(Y),Lh(M,I.child,null,B),I=A5(M,M.pendingProps.children),I.flags|=2,M.memoizedState=null,I}function UJ(I,M,B,Y,Q,q,re){if(B)return M.flags&256?(M.flags&=-257,Y=x5(Error(n(422))),E1(I,M,re,Y)):M.memoizedState!==null?(M.child=I.child,M.flags|=128,null):(q=Y.fallback,Q=M.mode,Y=N1({mode:"visible",children:Y.children},Q,0,null),q=Uc(q,Q,re,null),q.flags|=2,Y.return=M,q.return=M,Y.sibling=q,M.child=Y,(M.mode&1)!==0&&Lh(M,I.child,null,re),M.child.memoizedState=T5(re),M.memoizedState=S5,q);if((M.mode&1)===0)return E1(I,M,re,null);if(Q.data==="$!"){if(Y=Q.nextSibling&&Q.nextSibling.dataset,Y)var de=Y.dgst;return Y=de,q=Error(n(419)),Y=x5(q,Y,void 0),E1(I,M,re,Y)}if(de=(re&I.childLanes)!==0,Vi||de){if(Y=jr,Y!==null){switch(re&-re){case 4:Q=2;break;case 16:Q=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Q=32;break;case 536870912:Q=268435456;break;default:Q=0}Q=(Q&(Y.suspendedLanes|re))!==0?0:Q,Q!==0&&Q!==q.retryLane&&(q.retryLane=Q,gl(I,Q),$a(Y,I,Q,-1))}return W5(),Y=x5(Error(n(421))),E1(I,M,re,Y)}return Q.data==="$?"?(M.flags|=128,M.child=I.child,M=_J.bind(null,I),Q._reactRetry=M,null):(I=q.treeContext,Cs=du(Q.nextSibling),bs=M,Hn=!0,Ra=null,I!==null&&(Ys[Xs++]=pl,Ys[Xs++]=vl,Ys[Xs++]=Mc,pl=I.id,vl=I.overflow,Mc=M),M=A5(M,Y.children),M.flags|=4096,M)}function cP(I,M,B){I.lanes|=M;var Y=I.alternate;Y!==null&&(Y.lanes|=M),r5(I.return,M,B)}function P5(I,M,B,Y,Q){var q=I.memoizedState;q===null?I.memoizedState={isBackwards:M,rendering:null,renderingStartTime:0,last:Y,tail:B,tailMode:Q}:(q.isBackwards=M,q.rendering=null,q.renderingStartTime=0,q.last=Y,q.tail=B,q.tailMode=Q)}function dP(I,M,B){var Y=M.pendingProps,Q=Y.revealOrder,q=Y.tail;if(Ii(I,M,Y.children,B),Y=Zn.current,(Y&2)!==0)Y=Y&1|2,M.flags|=128;else{if(I!==null&&(I.flags&128)!==0)e:for(I=M.child;I!==null;){if(I.tag===13)I.memoizedState!==null&&cP(I,B,M);else if(I.tag===19)cP(I,B,M);else if(I.child!==null){I.child.return=I,I=I.child;continue}if(I===M)break e;for(;I.sibling===null;){if(I.return===null||I.return===M)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}Y&=1}if(In(Zn,Y),(M.mode&1)===0)M.memoizedState=null;else switch(Q){case"forwards":for(B=M.child,Q=null;B!==null;)I=B.alternate,I!==null&&g1(I)===null&&(Q=B),B=B.sibling;B=Q,B===null?(Q=M.child,M.child=null):(Q=B.sibling,B.sibling=null),P5(M,!1,Q,B,q);break;case"backwards":for(B=null,Q=M.child,M.child=null;Q!==null;){if(I=Q.alternate,I!==null&&g1(I)===null){M.child=Q;break}I=Q.sibling,Q.sibling=B,B=Q,Q=I}P5(M,!0,B,null,q);break;case"together":P5(M,!1,null,null,void 0);break;default:M.memoizedState=null}return M.child}function S1(I,M){(M.mode&1)===0&&I!==null&&(I.alternate=null,M.alternate=null,M.flags|=2)}function yl(I,M,B){if(I!==null&&(M.dependencies=I.dependencies),Dc|=M.lanes,(B&M.childLanes)===0)return null;if(I!==null&&M.child!==I.child)throw Error(n(153));if(M.child!==null){for(I=M.child,B=Cu(I,I.pendingProps),M.child=B,B.return=M;I.sibling!==null;)I=I.sibling,B=B.sibling=Cu(I,I.pendingProps),B.return=M;B.sibling=null}return M.child}function jJ(I,M,B){switch(M.tag){case 3:oP(M),$h();break;case 5:TA(M);break;case 1:Gi(M.type)&&a1(M);break;case 4:a5(M,M.stateNode.containerInfo);break;case 10:var Y=M.type._context,Q=M.memoizedProps.value;In(h1,Y._currentValue),Y._currentValue=Q;break;case 13:if(Y=M.memoizedState,Y!==null)return Y.dehydrated!==null?(In(Zn,Zn.current&1),M.flags|=128,null):(B&M.child.childLanes)!==0?uP(I,M,B):(In(Zn,Zn.current&1),I=yl(I,M,B),I!==null?I.sibling:null);In(Zn,Zn.current&1);break;case 19:if(Y=(B&M.childLanes)!==0,(I.flags&128)!==0){if(Y)return dP(I,M,B);M.flags|=128}if(Q=M.memoizedState,Q!==null&&(Q.rendering=null,Q.tail=null,Q.lastEffect=null),In(Zn,Zn.current),Y)break;return null;case 22:case 23:return M.lanes=0,iP(I,M,B)}return yl(I,M,B)}var hP,I5,fP,pP;hP=function(I,M){for(var B=M.child;B!==null;){if(B.tag===5||B.tag===6)I.appendChild(B.stateNode);else if(B.tag!==4&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===M)break;for(;B.sibling===null;){if(B.return===null||B.return===M)return;B=B.return}B.sibling.return=B.return,B=B.sibling}},I5=function(){},fP=function(I,M,B,Y){var Q=I.memoizedProps;if(Q!==Y){I=M.stateNode,$c(Eo.current);var q=null;switch(B){case"input":Q=he(I,Q),Y=he(I,Y),q=[];break;case"select":Q=W({},Q,{value:void 0}),Y=W({},Y,{value:void 0}),q=[];break;case"textarea":Q=Re(I,Q),Y=Re(I,Y),q=[];break;default:typeof Q.onClick!="function"&&typeof Y.onClick=="function"&&(I.onclick=r1)}ut(B,Y);var re;B=null;for(Fe in Q)if(!Y.hasOwnProperty(Fe)&&Q.hasOwnProperty(Fe)&&Q[Fe]!=null)if(Fe==="style"){var de=Q[Fe];for(re in de)de.hasOwnProperty(re)&&(B||(B={}),B[re]="")}else Fe!=="dangerouslySetInnerHTML"&&Fe!=="children"&&Fe!=="suppressContentEditableWarning"&&Fe!=="suppressHydrationWarning"&&Fe!=="autoFocus"&&(f.hasOwnProperty(Fe)?q||(q=[]):(q=q||[]).push(Fe,null));for(Fe in Y){var me=Y[Fe];if(de=Q?.[Fe],Y.hasOwnProperty(Fe)&&me!==de&&(me!=null||de!=null))if(Fe==="style")if(de){for(re in de)!de.hasOwnProperty(re)||me&&me.hasOwnProperty(re)||(B||(B={}),B[re]="");for(re in me)me.hasOwnProperty(re)&&de[re]!==me[re]&&(B||(B={}),B[re]=me[re])}else B||(q||(q=[]),q.push(Fe,B)),B=me;else Fe==="dangerouslySetInnerHTML"?(me=me?me.__html:void 0,de=de?de.__html:void 0,me!=null&&de!==me&&(q=q||[]).push(Fe,me)):Fe==="children"?typeof me!="string"&&typeof me!="number"||(q=q||[]).push(Fe,""+me):Fe!=="suppressContentEditableWarning"&&Fe!=="suppressHydrationWarning"&&(f.hasOwnProperty(Fe)?(me!=null&&Fe==="onScroll"&&$n("scroll",I),q||de===me||(q=[])):(q=q||[]).push(Fe,me))}B&&(q=q||[]).push("style",B);var Fe=q;(M.updateQueue=Fe)&&(M.flags|=4)}},pP=function(I,M,B,Y){B!==Y&&(M.flags|=4)};function y0(I,M){if(!Hn)switch(I.tailMode){case"hidden":M=I.tail;for(var B=null;M!==null;)M.alternate!==null&&(B=M),M=M.sibling;B===null?I.tail=null:B.sibling=null;break;case"collapsed":B=I.tail;for(var Y=null;B!==null;)B.alternate!==null&&(Y=B),B=B.sibling;Y===null?M||I.tail===null?I.tail=null:I.tail.sibling=null:Y.sibling=null}}function pi(I){var M=I.alternate!==null&&I.alternate.child===I.child,B=0,Y=0;if(M)for(var Q=I.child;Q!==null;)B|=Q.lanes|Q.childLanes,Y|=Q.subtreeFlags&14680064,Y|=Q.flags&14680064,Q.return=I,Q=Q.sibling;else for(Q=I.child;Q!==null;)B|=Q.lanes|Q.childLanes,Y|=Q.subtreeFlags,Y|=Q.flags,Q.return=I,Q=Q.sibling;return I.subtreeFlags|=Y,I.childLanes=B,M}function zJ(I,M,B){var Y=M.pendingProps;switch(J3(M),M.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pi(M),null;case 1:return Gi(M.type)&&s1(),pi(M),null;case 3:return Y=M.stateNode,kh(),Ln(Wi),Ln(hi),u5(),Y.pendingContext&&(Y.context=Y.pendingContext,Y.pendingContext=null),(I===null||I.child===null)&&(c1(M)?M.flags|=4:I===null||I.memoizedState.isDehydrated&&(M.flags&256)===0||(M.flags|=1024,Ra!==null&&(U5(Ra),Ra=null))),I5(I,M),pi(M),null;case 5:o5(M);var Q=$c(f0.current);if(B=M.type,I!==null&&M.stateNode!=null)fP(I,M,B,Y,Q),I.ref!==M.ref&&(M.flags|=512,M.flags|=2097152);else{if(!Y){if(M.stateNode===null)throw Error(n(166));return pi(M),null}if(I=$c(Eo.current),c1(M)){Y=M.stateNode,B=M.type;var q=M.memoizedProps;switch(Y[Co]=M,Y[l0]=q,I=(M.mode&1)!==0,B){case"dialog":$n("cancel",Y),$n("close",Y);break;case"iframe":case"object":case"embed":$n("load",Y);break;case"video":case"audio":for(Q=0;Q<s0.length;Q++)$n(s0[Q],Y);break;case"source":$n("error",Y);break;case"img":case"image":case"link":$n("error",Y),$n("load",Y);break;case"details":$n("toggle",Y);break;case"input":fe(Y,q),$n("invalid",Y);break;case"select":Y._wrapperState={wasMultiple:!!q.multiple},$n("invalid",Y);break;case"textarea":$e(Y,q),$n("invalid",Y)}ut(B,q),Q=null;for(var re in q)if(q.hasOwnProperty(re)){var de=q[re];re==="children"?typeof de=="string"?Y.textContent!==de&&(q.suppressHydrationWarning!==!0&&n1(Y.textContent,de,I),Q=["children",de]):typeof de=="number"&&Y.textContent!==""+de&&(q.suppressHydrationWarning!==!0&&n1(Y.textContent,de,I),Q=["children",""+de]):f.hasOwnProperty(re)&&de!=null&&re==="onScroll"&&$n("scroll",Y)}switch(B){case"input":te(Y),ye(Y,q,!0);break;case"textarea":te(Y),Xe(Y);break;case"select":case"option":break;default:typeof q.onClick=="function"&&(Y.onclick=r1)}Y=Q,M.updateQueue=Y,Y!==null&&(M.flags|=4)}else{re=Q.nodeType===9?Q:Q.ownerDocument,I==="http://www.w3.org/1999/xhtml"&&(I=st(B)),I==="http://www.w3.org/1999/xhtml"?B==="script"?(I=re.createElement("div"),I.innerHTML="<script><\/script>",I=I.removeChild(I.firstChild)):typeof Y.is=="string"?I=re.createElement(B,{is:Y.is}):(I=re.createElement(B),B==="select"&&(re=I,Y.multiple?re.multiple=!0:Y.size&&(re.size=Y.size))):I=re.createElementNS(I,B),I[Co]=M,I[l0]=Y,hP(I,M,!1,!1),M.stateNode=I;e:{switch(re=wt(B,Y),B){case"dialog":$n("cancel",I),$n("close",I),Q=Y;break;case"iframe":case"object":case"embed":$n("load",I),Q=Y;break;case"video":case"audio":for(Q=0;Q<s0.length;Q++)$n(s0[Q],I);Q=Y;break;case"source":$n("error",I),Q=Y;break;case"img":case"image":case"link":$n("error",I),$n("load",I),Q=Y;break;case"details":$n("toggle",I),Q=Y;break;case"input":fe(I,Y),Q=he(I,Y),$n("invalid",I);break;case"option":Q=Y;break;case"select":I._wrapperState={wasMultiple:!!Y.multiple},Q=W({},Y,{value:void 0}),$n("invalid",I);break;case"textarea":$e(I,Y),Q=Re(I,Y),$n("invalid",I);break;default:Q=Y}ut(B,Q),de=Q;for(q in de)if(de.hasOwnProperty(q)){var me=de[q];q==="style"?dt(I,me):q==="dangerouslySetInnerHTML"?(me=me?me.__html:void 0,me!=null&&nt(I,me)):q==="children"?typeof me=="string"?(B!=="textarea"||me!=="")&&Et(I,me):typeof me=="number"&&Et(I,""+me):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(f.hasOwnProperty(q)?me!=null&&q==="onScroll"&&$n("scroll",I):me!=null&&m(I,q,me,re))}switch(B){case"input":te(I),ye(I,Y,!1);break;case"textarea":te(I),Xe(I);break;case"option":Y.value!=null&&I.setAttribute("value",""+J(Y.value));break;case"select":I.multiple=!!Y.multiple,q=Y.value,q!=null?je(I,!!Y.multiple,q,!1):Y.defaultValue!=null&&je(I,!!Y.multiple,Y.defaultValue,!0);break;default:typeof Q.onClick=="function"&&(I.onclick=r1)}switch(B){case"button":case"input":case"select":case"textarea":Y=!!Y.autoFocus;break e;case"img":Y=!0;break e;default:Y=!1}}Y&&(M.flags|=4)}M.ref!==null&&(M.flags|=512,M.flags|=2097152)}return pi(M),null;case 6:if(I&&M.stateNode!=null)pP(I,M,I.memoizedProps,Y);else{if(typeof Y!="string"&&M.stateNode===null)throw Error(n(166));if(B=$c(f0.current),$c(Eo.current),c1(M)){if(Y=M.stateNode,B=M.memoizedProps,Y[Co]=M,(q=Y.nodeValue!==B)&&(I=bs,I!==null))switch(I.tag){case 3:n1(Y.nodeValue,B,(I.mode&1)!==0);break;case 5:I.memoizedProps.suppressHydrationWarning!==!0&&n1(Y.nodeValue,B,(I.mode&1)!==0)}q&&(M.flags|=4)}else Y=(B.nodeType===9?B:B.ownerDocument).createTextNode(Y),Y[Co]=M,M.stateNode=Y}return pi(M),null;case 13:if(Ln(Zn),Y=M.memoizedState,I===null||I.memoizedState!==null&&I.memoizedState.dehydrated!==null){if(Hn&&Cs!==null&&(M.mode&1)!==0&&(M.flags&128)===0)mA(),$h(),M.flags|=98560,q=!1;else if(q=c1(M),Y!==null&&Y.dehydrated!==null){if(I===null){if(!q)throw Error(n(318));if(q=M.memoizedState,q=q!==null?q.dehydrated:null,!q)throw Error(n(317));q[Co]=M}else $h(),(M.flags&128)===0&&(M.memoizedState=null),M.flags|=4;pi(M),q=!1}else Ra!==null&&(U5(Ra),Ra=null),q=!0;if(!q)return M.flags&65536?M:null}return(M.flags&128)!==0?(M.lanes=B,M):(Y=Y!==null,Y!==(I!==null&&I.memoizedState!==null)&&Y&&(M.child.flags|=8192,(M.mode&1)!==0&&(I===null||(Zn.current&1)!==0?Tr===0&&(Tr=3):W5())),M.updateQueue!==null&&(M.flags|=4),pi(M),null);case 4:return kh(),I5(I,M),I===null&&a0(M.stateNode.containerInfo),pi(M),null;case 10:return n5(M.type._context),pi(M),null;case 17:return Gi(M.type)&&s1(),pi(M),null;case 19:if(Ln(Zn),q=M.memoizedState,q===null)return pi(M),null;if(Y=(M.flags&128)!==0,re=q.rendering,re===null)if(Y)y0(q,!1);else{if(Tr!==0||I!==null&&(I.flags&128)!==0)for(I=M.child;I!==null;){if(re=g1(I),re!==null){for(M.flags|=128,y0(q,!1),Y=re.updateQueue,Y!==null&&(M.updateQueue=Y,M.flags|=4),M.subtreeFlags=0,Y=B,B=M.child;B!==null;)q=B,I=Y,q.flags&=14680066,re=q.alternate,re===null?(q.childLanes=0,q.lanes=I,q.child=null,q.subtreeFlags=0,q.memoizedProps=null,q.memoizedState=null,q.updateQueue=null,q.dependencies=null,q.stateNode=null):(q.childLanes=re.childLanes,q.lanes=re.lanes,q.child=re.child,q.subtreeFlags=0,q.deletions=null,q.memoizedProps=re.memoizedProps,q.memoizedState=re.memoizedState,q.updateQueue=re.updateQueue,q.type=re.type,I=re.dependencies,q.dependencies=I===null?null:{lanes:I.lanes,firstContext:I.firstContext}),B=B.sibling;return In(Zn,Zn.current&1|2),M.child}I=I.sibling}q.tail!==null&&Ft()>zh&&(M.flags|=128,Y=!0,y0(q,!1),M.lanes=4194304)}else{if(!Y)if(I=g1(re),I!==null){if(M.flags|=128,Y=!0,B=I.updateQueue,B!==null&&(M.updateQueue=B,M.flags|=4),y0(q,!0),q.tail===null&&q.tailMode==="hidden"&&!re.alternate&&!Hn)return pi(M),null}else 2*Ft()-q.renderingStartTime>zh&&B!==1073741824&&(M.flags|=128,Y=!0,y0(q,!1),M.lanes=4194304);q.isBackwards?(re.sibling=M.child,M.child=re):(B=q.last,B!==null?B.sibling=re:M.child=re,q.last=re)}return q.tail!==null?(M=q.tail,q.rendering=M,q.tail=M.sibling,q.renderingStartTime=Ft(),M.sibling=null,B=Zn.current,In(Zn,Y?B&1|2:B&1),M):(pi(M),null);case 22:case 23:return z5(),Y=M.memoizedState!==null,I!==null&&I.memoizedState!==null!==Y&&(M.flags|=8192),Y&&(M.mode&1)!==0?(Es&1073741824)!==0&&(pi(M),M.subtreeFlags&6&&(M.flags|=8192)):pi(M),null;case 24:return null;case 25:return null}throw Error(n(156,M.tag))}function WJ(I,M){switch(J3(M),M.tag){case 1:return Gi(M.type)&&s1(),I=M.flags,I&65536?(M.flags=I&-65537|128,M):null;case 3:return kh(),Ln(Wi),Ln(hi),u5(),I=M.flags,(I&65536)!==0&&(I&128)===0?(M.flags=I&-65537|128,M):null;case 5:return o5(M),null;case 13:if(Ln(Zn),I=M.memoizedState,I!==null&&I.dehydrated!==null){if(M.alternate===null)throw Error(n(340));$h()}return I=M.flags,I&65536?(M.flags=I&-65537|128,M):null;case 19:return Ln(Zn),null;case 4:return kh(),null;case 10:return n5(M.type._context),null;case 22:case 23:return z5(),null;case 24:return null;default:return null}}var T1=!1,vi=!1,GJ=typeof WeakSet=="function"?WeakSet:Set,ht=null;function Uh(I,M){var B=I.ref;if(B!==null)if(typeof B=="function")try{B(null)}catch(Y){qn(I,M,Y)}else B.current=null}function R5(I,M,B){try{B()}catch(Y){qn(I,M,Y)}}var vP=!1;function VJ(I,M){if(z3=Fn,I=X7(),$3(I)){if("selectionStart"in I)var B={start:I.selectionStart,end:I.selectionEnd};else e:{B=(B=I.ownerDocument)&&B.defaultView||window;var Y=B.getSelection&&B.getSelection();if(Y&&Y.rangeCount!==0){B=Y.anchorNode;var Q=Y.anchorOffset,q=Y.focusNode;Y=Y.focusOffset;try{B.nodeType,q.nodeType}catch{B=null;break e}var re=0,de=-1,me=-1,Fe=0,ze=0,Ve=I,Ue=null;t:for(;;){for(var at;Ve!==B||Q!==0&&Ve.nodeType!==3||(de=re+Q),Ve!==q||Y!==0&&Ve.nodeType!==3||(me=re+Y),Ve.nodeType===3&&(re+=Ve.nodeValue.length),(at=Ve.firstChild)!==null;)Ue=Ve,Ve=at;for(;;){if(Ve===I)break t;if(Ue===B&&++Fe===Q&&(de=re),Ue===q&&++ze===Y&&(me=re),(at=Ve.nextSibling)!==null)break;Ve=Ue,Ue=Ve.parentNode}Ve=at}B=de===-1||me===-1?null:{start:de,end:me}}else B=null}B=B||{start:0,end:0}}else B=null;for(W3={focusedElem:I,selectionRange:B},Fn=!1,ht=M;ht!==null;)if(M=ht,I=M.child,(M.subtreeFlags&1028)!==0&&I!==null)I.return=M,ht=I;else for(;ht!==null;){M=ht;try{var ft=M.alternate;if((M.flags&1024)!==0)switch(M.tag){case 0:case 11:case 15:break;case 1:if(ft!==null){var gt=ft.memoizedProps,ar=ft.memoizedState,Te=M.stateNode,xe=Te.getSnapshotBeforeUpdate(M.elementType===M.type?gt:Ma(M.type,gt),ar);Te.__reactInternalSnapshotBeforeUpdate=xe}break;case 3:var Me=M.stateNode.containerInfo;Me.nodeType===1?Me.textContent="":Me.nodeType===9&&Me.documentElement&&Me.removeChild(Me.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ke){qn(M,M.return,Ke)}if(I=M.sibling,I!==null){I.return=M.return,ht=I;break}ht=M.return}return ft=vP,vP=!1,ft}function w0(I,M,B){var Y=M.updateQueue;if(Y=Y!==null?Y.lastEffect:null,Y!==null){var Q=Y=Y.next;do{if((Q.tag&I)===I){var q=Q.destroy;Q.destroy=void 0,q!==void 0&&R5(M,B,q)}Q=Q.next}while(Q!==Y)}}function A1(I,M){if(M=M.updateQueue,M=M!==null?M.lastEffect:null,M!==null){var B=M=M.next;do{if((B.tag&I)===I){var Y=B.create;B.destroy=Y()}B=B.next}while(B!==M)}}function M5(I){var M=I.ref;if(M!==null){var B=I.stateNode;switch(I.tag){case 5:I=B;break;default:I=B}typeof M=="function"?M(I):M.current=I}}function gP(I){var M=I.alternate;M!==null&&(I.alternate=null,gP(M)),I.child=null,I.deletions=null,I.sibling=null,I.tag===5&&(M=I.stateNode,M!==null&&(delete M[Co],delete M[l0],delete M[Y3],delete M[AJ],delete M[PJ])),I.stateNode=null,I.return=null,I.dependencies=null,I.memoizedProps=null,I.memoizedState=null,I.pendingProps=null,I.stateNode=null,I.updateQueue=null}function mP(I){return I.tag===5||I.tag===3||I.tag===4}function yP(I){e:for(;;){for(;I.sibling===null;){if(I.return===null||mP(I.return))return null;I=I.return}for(I.sibling.return=I.return,I=I.sibling;I.tag!==5&&I.tag!==6&&I.tag!==18;){if(I.flags&2||I.child===null||I.tag===4)continue e;I.child.return=I,I=I.child}if(!(I.flags&2))return I.stateNode}}function O5(I,M,B){var Y=I.tag;if(Y===5||Y===6)I=I.stateNode,M?B.nodeType===8?B.parentNode.insertBefore(I,M):B.insertBefore(I,M):(B.nodeType===8?(M=B.parentNode,M.insertBefore(I,B)):(M=B,M.appendChild(I)),B=B._reactRootContainer,B!=null||M.onclick!==null||(M.onclick=r1));else if(Y!==4&&(I=I.child,I!==null))for(O5(I,M,B),I=I.sibling;I!==null;)O5(I,M,B),I=I.sibling}function F5(I,M,B){var Y=I.tag;if(Y===5||Y===6)I=I.stateNode,M?B.insertBefore(I,M):B.appendChild(I);else if(Y!==4&&(I=I.child,I!==null))for(F5(I,M,B),I=I.sibling;I!==null;)F5(I,M,B),I=I.sibling}var Qr=null,Oa=!1;function mu(I,M,B){for(B=B.child;B!==null;)wP(I,M,B),B=B.sibling}function wP(I,M,B){if(Hs&&typeof Hs.onCommitFiberUnmount=="function")try{Hs.onCommitFiberUnmount(uu,B)}catch{}switch(B.tag){case 5:vi||Uh(B,M);case 6:var Y=Qr,Q=Oa;Qr=null,mu(I,M,B),Qr=Y,Oa=Q,Qr!==null&&(Oa?(I=Qr,B=B.stateNode,I.nodeType===8?I.parentNode.removeChild(B):I.removeChild(B)):Qr.removeChild(B.stateNode));break;case 18:Qr!==null&&(Oa?(I=Qr,B=B.stateNode,I.nodeType===8?H3(I.parentNode,B):I.nodeType===1&&H3(I,B),Be(I)):H3(Qr,B.stateNode));break;case 4:Y=Qr,Q=Oa,Qr=B.stateNode.containerInfo,Oa=!0,mu(I,M,B),Qr=Y,Oa=Q;break;case 0:case 11:case 14:case 15:if(!vi&&(Y=B.updateQueue,Y!==null&&(Y=Y.lastEffect,Y!==null))){Q=Y=Y.next;do{var q=Q,re=q.destroy;q=q.tag,re!==void 0&&((q&2)!==0||(q&4)!==0)&&R5(B,M,re),Q=Q.next}while(Q!==Y)}mu(I,M,B);break;case 1:if(!vi&&(Uh(B,M),Y=B.stateNode,typeof Y.componentWillUnmount=="function"))try{Y.props=B.memoizedProps,Y.state=B.memoizedState,Y.componentWillUnmount()}catch(de){qn(B,M,de)}mu(I,M,B);break;case 21:mu(I,M,B);break;case 22:B.mode&1?(vi=(Y=vi)||B.memoizedState!==null,mu(I,M,B),vi=Y):mu(I,M,B);break;default:mu(I,M,B)}}function xP(I){var M=I.updateQueue;if(M!==null){I.updateQueue=null;var B=I.stateNode;B===null&&(B=I.stateNode=new GJ),M.forEach(function(Y){var Q=qJ.bind(null,I,Y);B.has(Y)||(B.add(Y),Y.then(Q,Q))})}}function Fa(I,M){var B=M.deletions;if(B!==null)for(var Y=0;Y<B.length;Y++){var Q=B[Y];try{var q=I,re=M,de=re;e:for(;de!==null;){switch(de.tag){case 5:Qr=de.stateNode,Oa=!1;break e;case 3:Qr=de.stateNode.containerInfo,Oa=!0;break e;case 4:Qr=de.stateNode.containerInfo,Oa=!0;break e}de=de.return}if(Qr===null)throw Error(n(160));wP(q,re,Q),Qr=null,Oa=!1;var me=Q.alternate;me!==null&&(me.return=null),Q.return=null}catch(Fe){qn(Q,M,Fe)}}if(M.subtreeFlags&12854)for(M=M.child;M!==null;)bP(M,I),M=M.sibling}function bP(I,M){var B=I.alternate,Y=I.flags;switch(I.tag){case 0:case 11:case 14:case 15:if(Fa(M,I),To(I),Y&4){try{w0(3,I,I.return),A1(3,I)}catch(gt){qn(I,I.return,gt)}try{w0(5,I,I.return)}catch(gt){qn(I,I.return,gt)}}break;case 1:Fa(M,I),To(I),Y&512&&B!==null&&Uh(B,B.return);break;case 5:if(Fa(M,I),To(I),Y&512&&B!==null&&Uh(B,B.return),I.flags&32){var Q=I.stateNode;try{Et(Q,"")}catch(gt){qn(I,I.return,gt)}}if(Y&4&&(Q=I.stateNode,Q!=null)){var q=I.memoizedProps,re=B!==null?B.memoizedProps:q,de=I.type,me=I.updateQueue;if(I.updateQueue=null,me!==null)try{de==="input"&&q.type==="radio"&&q.name!=null&&oe(Q,q),wt(de,re);var Fe=wt(de,q);for(re=0;re<me.length;re+=2){var ze=me[re],Ve=me[re+1];ze==="style"?dt(Q,Ve):ze==="dangerouslySetInnerHTML"?nt(Q,Ve):ze==="children"?Et(Q,Ve):m(Q,ze,Ve,Fe)}switch(de){case"input":Ce(Q,q);break;case"textarea":Ae(Q,q);break;case"select":var Ue=Q._wrapperState.wasMultiple;Q._wrapperState.wasMultiple=!!q.multiple;var at=q.value;at!=null?je(Q,!!q.multiple,at,!1):Ue!==!!q.multiple&&(q.defaultValue!=null?je(Q,!!q.multiple,q.defaultValue,!0):je(Q,!!q.multiple,q.multiple?[]:"",!1))}Q[l0]=q}catch(gt){qn(I,I.return,gt)}}break;case 6:if(Fa(M,I),To(I),Y&4){if(I.stateNode===null)throw Error(n(162));Q=I.stateNode,q=I.memoizedProps;try{Q.nodeValue=q}catch(gt){qn(I,I.return,gt)}}break;case 3:if(Fa(M,I),To(I),Y&4&&B!==null&&B.memoizedState.isDehydrated)try{Be(M.containerInfo)}catch(gt){qn(I,I.return,gt)}break;case 4:Fa(M,I),To(I);break;case 13:Fa(M,I),To(I),Q=I.child,Q.flags&8192&&(q=Q.memoizedState!==null,Q.stateNode.isHidden=q,!q||Q.alternate!==null&&Q.alternate.memoizedState!==null||(D5=Ft())),Y&4&&xP(I);break;case 22:if(ze=B!==null&&B.memoizedState!==null,I.mode&1?(vi=(Fe=vi)||ze,Fa(M,I),vi=Fe):Fa(M,I),To(I),Y&8192){if(Fe=I.memoizedState!==null,(I.stateNode.isHidden=Fe)&&!ze&&(I.mode&1)!==0)for(ht=I,ze=I.child;ze!==null;){for(Ve=ht=ze;ht!==null;){switch(Ue=ht,at=Ue.child,Ue.tag){case 0:case 11:case 14:case 15:w0(4,Ue,Ue.return);break;case 1:Uh(Ue,Ue.return);var ft=Ue.stateNode;if(typeof ft.componentWillUnmount=="function"){Y=Ue,B=Ue.return;try{M=Y,ft.props=M.memoizedProps,ft.state=M.memoizedState,ft.componentWillUnmount()}catch(gt){qn(Y,B,gt)}}break;case 5:Uh(Ue,Ue.return);break;case 22:if(Ue.memoizedState!==null){SP(Ve);continue}}at!==null?(at.return=Ue,ht=at):SP(Ve)}ze=ze.sibling}e:for(ze=null,Ve=I;;){if(Ve.tag===5){if(ze===null){ze=Ve;try{Q=Ve.stateNode,Fe?(q=Q.style,typeof q.setProperty=="function"?q.setProperty("display","none","important"):q.display="none"):(de=Ve.stateNode,me=Ve.memoizedProps.style,re=me!=null&&me.hasOwnProperty("display")?me.display:null,de.style.display=Qe("display",re))}catch(gt){qn(I,I.return,gt)}}}else if(Ve.tag===6){if(ze===null)try{Ve.stateNode.nodeValue=Fe?"":Ve.memoizedProps}catch(gt){qn(I,I.return,gt)}}else if((Ve.tag!==22&&Ve.tag!==23||Ve.memoizedState===null||Ve===I)&&Ve.child!==null){Ve.child.return=Ve,Ve=Ve.child;continue}if(Ve===I)break e;for(;Ve.sibling===null;){if(Ve.return===null||Ve.return===I)break e;ze===Ve&&(ze=null),Ve=Ve.return}ze===Ve&&(ze=null),Ve.sibling.return=Ve.return,Ve=Ve.sibling}}break;case 19:Fa(M,I),To(I),Y&4&&xP(I);break;case 21:break;default:Fa(M,I),To(I)}}function To(I){var M=I.flags;if(M&2){try{e:{for(var B=I.return;B!==null;){if(mP(B)){var Y=B;break e}B=B.return}throw Error(n(160))}switch(Y.tag){case 5:var Q=Y.stateNode;Y.flags&32&&(Et(Q,""),Y.flags&=-33);var q=yP(I);F5(I,q,Q);break;case 3:case 4:var re=Y.stateNode.containerInfo,de=yP(I);O5(I,de,re);break;default:throw Error(n(161))}}catch(me){qn(I,I.return,me)}I.flags&=-3}M&4096&&(I.flags&=-4097)}function HJ(I,M,B){ht=I,CP(I)}function CP(I,M,B){for(var Y=(I.mode&1)!==0;ht!==null;){var Q=ht,q=Q.child;if(Q.tag===22&&Y){var re=Q.memoizedState!==null||T1;if(!re){var de=Q.alternate,me=de!==null&&de.memoizedState!==null||vi;de=T1;var Fe=vi;if(T1=re,(vi=me)&&!Fe)for(ht=Q;ht!==null;)re=ht,me=re.child,re.tag===22&&re.memoizedState!==null?TP(Q):me!==null?(me.return=re,ht=me):TP(Q);for(;q!==null;)ht=q,CP(q),q=q.sibling;ht=Q,T1=de,vi=Fe}EP(I)}else(Q.subtreeFlags&8772)!==0&&q!==null?(q.return=Q,ht=q):EP(I)}}function EP(I){for(;ht!==null;){var M=ht;if((M.flags&8772)!==0){var B=M.alternate;try{if((M.flags&8772)!==0)switch(M.tag){case 0:case 11:case 15:vi||A1(5,M);break;case 1:var Y=M.stateNode;if(M.flags&4&&!vi)if(B===null)Y.componentDidMount();else{var Q=M.elementType===M.type?B.memoizedProps:Ma(M.type,B.memoizedProps);Y.componentDidUpdate(Q,B.memoizedState,Y.__reactInternalSnapshotBeforeUpdate)}var q=M.updateQueue;q!==null&&SA(M,q,Y);break;case 3:var re=M.updateQueue;if(re!==null){if(B=null,M.child!==null)switch(M.child.tag){case 5:B=M.child.stateNode;break;case 1:B=M.child.stateNode}SA(M,re,B)}break;case 5:var de=M.stateNode;if(B===null&&M.flags&4){B=de;var me=M.memoizedProps;switch(M.type){case"button":case"input":case"select":case"textarea":me.autoFocus&&B.focus();break;case"img":me.src&&(B.src=me.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(M.memoizedState===null){var Fe=M.alternate;if(Fe!==null){var ze=Fe.memoizedState;if(ze!==null){var Ve=ze.dehydrated;Ve!==null&&Be(Ve)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}vi||M.flags&512&&M5(M)}catch(Ue){qn(M,M.return,Ue)}}if(M===I){ht=null;break}if(B=M.sibling,B!==null){B.return=M.return,ht=B;break}ht=M.return}}function SP(I){for(;ht!==null;){var M=ht;if(M===I){ht=null;break}var B=M.sibling;if(B!==null){B.return=M.return,ht=B;break}ht=M.return}}function TP(I){for(;ht!==null;){var M=ht;try{switch(M.tag){case 0:case 11:case 15:var B=M.return;try{A1(4,M)}catch(me){qn(M,B,me)}break;case 1:var Y=M.stateNode;if(typeof Y.componentDidMount=="function"){var Q=M.return;try{Y.componentDidMount()}catch(me){qn(M,Q,me)}}var q=M.return;try{M5(M)}catch(me){qn(M,q,me)}break;case 5:var re=M.return;try{M5(M)}catch(me){qn(M,re,me)}}}catch(me){qn(M,M.return,me)}if(M===I){ht=null;break}var de=M.sibling;if(de!==null){de.return=M.return,ht=de;break}ht=M.return}}var YJ=Math.ceil,P1=x.ReactCurrentDispatcher,$5=x.ReactCurrentOwner,Js=x.ReactCurrentBatchConfig,qt=0,jr=null,vr=null,_r=0,Es=0,jh=hu(0),Tr=0,x0=null,Dc=0,I1=0,L5=0,b0=null,Hi=null,D5=0,zh=1/0,wl=null,R1=!1,N5=null,yu=null,M1=!1,wu=null,O1=0,C0=0,k5=null,F1=-1,$1=0;function Ri(){return(qt&6)!==0?Ft():F1!==-1?F1:F1=Ft()}function xu(I){return(I.mode&1)===0?1:(qt&2)!==0&&_r!==0?_r&-_r:RJ.transition!==null?($1===0&&($1=Bm()),$1):(I=ln,I!==0||(I=window.event,I=I===void 0?16:Qp(I.type)),I)}function $a(I,M,B,Y){if(50<C0)throw C0=0,k5=null,Error(n(185));Sc(I,B,Y),((qt&2)===0||I!==jr)&&(I===jr&&((qt&2)===0&&(I1|=B),Tr===4&&bu(I,_r)),Yi(I,Y),B===1&&qt===0&&(M.mode&1)===0&&(zh=Ft()+500,o1&&pu()))}function Yi(I,M){var B=I.callbackNode;C3(I,M);var Y=gh(I,I===jr?_r:0);if(Y===0)B!==null&&dl(B),I.callbackNode=null,I.callbackPriority=0;else if(M=Y&-Y,I.callbackPriority!==M){if(B!=null&&dl(B),M===1)I.tag===0?IJ(PP.bind(null,I)):hA(PP.bind(null,I)),SJ(function(){(qt&6)===0&&pu()}),B=null;else{switch(Um(Y)){case 1:B=Vn;break;case 4:B=zi;break;case 16:B=ys;break;case 536870912:B=fh;break;default:B=ys}B=DP(B,AP.bind(null,I))}I.callbackPriority=M,I.callbackNode=B}}function AP(I,M){if(F1=-1,$1=0,(qt&6)!==0)throw Error(n(327));var B=I.callbackNode;if(Wh()&&I.callbackNode!==B)return null;var Y=gh(I,I===jr?_r:0);if(Y===0)return null;if((Y&30)!==0||(Y&I.expiredLanes)!==0||M)M=L1(I,Y);else{M=Y;var Q=qt;qt|=2;var q=RP();(jr!==I||_r!==M)&&(wl=null,zh=Ft()+500,kc(I,M));do try{ZJ();break}catch(de){IP(I,de)}while(!0);t5(),P1.current=q,qt=Q,vr!==null?M=0:(jr=null,_r=0,M=Tr)}if(M!==0){if(M===2&&(Q=Hp(I),Q!==0&&(Y=Q,M=B5(I,Q))),M===1)throw B=x0,kc(I,0),bu(I,Y),Yi(I,Ft()),B;if(M===6)bu(I,Y);else{if(Q=I.current.alternate,(Y&30)===0&&!XJ(Q)&&(M=L1(I,Y),M===2&&(q=Hp(I),q!==0&&(Y=q,M=B5(I,q))),M===1))throw B=x0,kc(I,0),bu(I,Y),Yi(I,Ft()),B;switch(I.finishedWork=Q,I.finishedLanes=Y,M){case 0:case 1:throw Error(n(345));case 2:Bc(I,Hi,wl);break;case 3:if(bu(I,Y),(Y&130023424)===Y&&(M=D5+500-Ft(),10<M)){if(gh(I,0)!==0)break;if(Q=I.suspendedLanes,(Q&Y)!==Y){Ri(),I.pingedLanes|=I.suspendedLanes&Q;break}I.timeoutHandle=V3(Bc.bind(null,I,Hi,wl),M);break}Bc(I,Hi,wl);break;case 4:if(bu(I,Y),(Y&4194240)===Y)break;for(M=I.eventTimes,Q=-1;0<Y;){var re=31-ws(Y);q=1<<re,re=M[re],re>Q&&(Q=re),Y&=~q}if(Y=Q,Y=Ft()-Y,Y=(120>Y?120:480>Y?480:1080>Y?1080:1920>Y?1920:3e3>Y?3e3:4320>Y?4320:1960*YJ(Y/1960))-Y,10<Y){I.timeoutHandle=V3(Bc.bind(null,I,Hi,wl),Y);break}Bc(I,Hi,wl);break;case 5:Bc(I,Hi,wl);break;default:throw Error(n(329))}}}return Yi(I,Ft()),I.callbackNode===B?AP.bind(null,I):null}function B5(I,M){var B=b0;return I.current.memoizedState.isDehydrated&&(kc(I,M).flags|=256),I=L1(I,M),I!==2&&(M=Hi,Hi=B,M!==null&&U5(M)),I}function U5(I){Hi===null?Hi=I:Hi.push.apply(Hi,I)}function XJ(I){for(var M=I;;){if(M.flags&16384){var B=M.updateQueue;if(B!==null&&(B=B.stores,B!==null))for(var Y=0;Y<B.length;Y++){var Q=B[Y],q=Q.getSnapshot;Q=Q.value;try{if(!Ia(q(),Q))return!1}catch{return!1}}}if(B=M.child,M.subtreeFlags&16384&&B!==null)B.return=M,M=B;else{if(M===I)break;for(;M.sibling===null;){if(M.return===null||M.return===I)return!0;M=M.return}M.sibling.return=M.return,M=M.sibling}}return!0}function bu(I,M){for(M&=~L5,M&=~I1,I.suspendedLanes|=M,I.pingedLanes&=~M,I=I.expirationTimes;0<M;){var B=31-ws(M),Y=1<<B;I[B]=-1,M&=~Y}}function PP(I){if((qt&6)!==0)throw Error(n(327));Wh();var M=gh(I,0);if((M&1)===0)return Yi(I,Ft()),null;var B=L1(I,M);if(I.tag!==0&&B===2){var Y=Hp(I);Y!==0&&(M=Y,B=B5(I,Y))}if(B===1)throw B=x0,kc(I,0),bu(I,M),Yi(I,Ft()),B;if(B===6)throw Error(n(345));return I.finishedWork=I.current.alternate,I.finishedLanes=M,Bc(I,Hi,wl),Yi(I,Ft()),null}function j5(I,M){var B=qt;qt|=1;try{return I(M)}finally{qt=B,qt===0&&(zh=Ft()+500,o1&&pu())}}function Nc(I){wu!==null&&wu.tag===0&&(qt&6)===0&&Wh();var M=qt;qt|=1;var B=Js.transition,Y=ln;try{if(Js.transition=null,ln=1,I)return I()}finally{ln=Y,Js.transition=B,qt=M,(qt&6)===0&&pu()}}function z5(){Es=jh.current,Ln(jh)}function kc(I,M){I.finishedWork=null,I.finishedLanes=0;var B=I.timeoutHandle;if(B!==-1&&(I.timeoutHandle=-1,EJ(B)),vr!==null)for(B=vr.return;B!==null;){var Y=B;switch(J3(Y),Y.tag){case 1:Y=Y.type.childContextTypes,Y!=null&&s1();break;case 3:kh(),Ln(Wi),Ln(hi),u5();break;case 5:o5(Y);break;case 4:kh();break;case 13:Ln(Zn);break;case 19:Ln(Zn);break;case 10:n5(Y.type._context);break;case 22:case 23:z5()}B=B.return}if(jr=I,vr=I=Cu(I.current,null),_r=Es=M,Tr=0,x0=null,L5=I1=Dc=0,Hi=b0=null,Fc!==null){for(M=0;M<Fc.length;M++)if(B=Fc[M],Y=B.interleaved,Y!==null){B.interleaved=null;var Q=Y.next,q=B.pending;if(q!==null){var re=q.next;q.next=Q,Y.next=re}B.pending=Y}Fc=null}return I}function IP(I,M){do{var B=vr;try{if(t5(),m1.current=b1,y1){for(var Y=Jn.memoizedState;Y!==null;){var Q=Y.queue;Q!==null&&(Q.pending=null),Y=Y.next}y1=!1}if(Lc=0,Ur=Sr=Jn=null,p0=!1,v0=0,$5.current=null,B===null||B.return===null){Tr=1,x0=M,vr=null;break}e:{var q=I,re=B.return,de=B,me=M;if(M=_r,de.flags|=32768,me!==null&&typeof me=="object"&&typeof me.then=="function"){var Fe=me,ze=de,Ve=ze.tag;if((ze.mode&1)===0&&(Ve===0||Ve===11||Ve===15)){var Ue=ze.alternate;Ue?(ze.updateQueue=Ue.updateQueue,ze.memoizedState=Ue.memoizedState,ze.lanes=Ue.lanes):(ze.updateQueue=null,ze.memoizedState=null)}var at=qA(re);if(at!==null){at.flags&=-257,eP(at,re,de,q,M),at.mode&1&&_A(q,Fe,M),M=at,me=Fe;var ft=M.updateQueue;if(ft===null){var gt=new Set;gt.add(me),M.updateQueue=gt}else ft.add(me);break e}else{if((M&1)===0){_A(q,Fe,M),W5();break e}me=Error(n(426))}}else if(Hn&&de.mode&1){var ar=qA(re);if(ar!==null){(ar.flags&65536)===0&&(ar.flags|=256),eP(ar,re,de,q,M),q3(Bh(me,de));break e}}q=me=Bh(me,de),Tr!==4&&(Tr=2),b0===null?b0=[q]:b0.push(q),q=re;do{switch(q.tag){case 3:q.flags|=65536,M&=-M,q.lanes|=M;var Te=JA(q,me,M);EA(q,Te);break e;case 1:de=me;var xe=q.type,Me=q.stateNode;if((q.flags&128)===0&&(typeof xe.getDerivedStateFromError=="function"||Me!==null&&typeof Me.componentDidCatch=="function"&&(yu===null||!yu.has(Me)))){q.flags|=65536,M&=-M,q.lanes|=M;var Ke=QA(q,de,M);EA(q,Ke);break e}}q=q.return}while(q!==null)}OP(B)}catch(yt){M=yt,vr===B&&B!==null&&(vr=B=B.return);continue}break}while(!0)}function RP(){var I=P1.current;return P1.current=b1,I===null?b1:I}function W5(){(Tr===0||Tr===3||Tr===2)&&(Tr=4),jr===null||(Dc&268435455)===0&&(I1&268435455)===0||bu(jr,_r)}function L1(I,M){var B=qt;qt|=2;var Y=RP();(jr!==I||_r!==M)&&(wl=null,kc(I,M));do try{KJ();break}catch(Q){IP(I,Q)}while(!0);if(t5(),qt=B,P1.current=Y,vr!==null)throw Error(n(261));return jr=null,_r=0,Tr}function KJ(){for(;vr!==null;)MP(vr)}function ZJ(){for(;vr!==null&&!Cc();)MP(vr)}function MP(I){var M=LP(I.alternate,I,Es);I.memoizedProps=I.pendingProps,M===null?OP(I):vr=M,$5.current=null}function OP(I){var M=I;do{var B=M.alternate;if(I=M.return,(M.flags&32768)===0){if(B=zJ(B,M,Es),B!==null){vr=B;return}}else{if(B=WJ(B,M),B!==null){B.flags&=32767,vr=B;return}if(I!==null)I.flags|=32768,I.subtreeFlags=0,I.deletions=null;else{Tr=6,vr=null;return}}if(M=M.sibling,M!==null){vr=M;return}vr=M=I}while(M!==null);Tr===0&&(Tr=5)}function Bc(I,M,B){var Y=ln,Q=Js.transition;try{Js.transition=null,ln=1,JJ(I,M,B,Y)}finally{Js.transition=Q,ln=Y}return null}function JJ(I,M,B,Y){do Wh();while(wu!==null);if((qt&6)!==0)throw Error(n(327));B=I.finishedWork;var Q=I.finishedLanes;if(B===null)return null;if(I.finishedWork=null,I.finishedLanes=0,B===I.current)throw Error(n(177));I.callbackNode=null,I.callbackPriority=0;var q=B.lanes|B.childLanes;if(E3(I,q),I===jr&&(vr=jr=null,_r=0),(B.subtreeFlags&2064)===0&&(B.flags&2064)===0||M1||(M1=!0,DP(ys,function(){return Wh(),null})),q=(B.flags&15990)!==0,(B.subtreeFlags&15990)!==0||q){q=Js.transition,Js.transition=null;var re=ln;ln=1;var de=qt;qt|=4,$5.current=null,VJ(I,B),bP(B,I),gJ(W3),Fn=!!z3,W3=z3=null,I.current=B,HJ(B),Gt(),qt=de,ln=re,Js.transition=q}else I.current=B;if(M1&&(M1=!1,wu=I,O1=Q),q=I.pendingLanes,q===0&&(yu=null),m3(B.stateNode),Yi(I,Ft()),M!==null)for(Y=I.onRecoverableError,B=0;B<M.length;B++)Q=M[B],Y(Q.value,{componentStack:Q.stack,digest:Q.digest});if(R1)throw R1=!1,I=N5,N5=null,I;return(O1&1)!==0&&I.tag!==0&&Wh(),q=I.pendingLanes,(q&1)!==0?I===k5?C0++:(C0=0,k5=I):C0=0,pu(),null}function Wh(){if(wu!==null){var I=Um(O1),M=Js.transition,B=ln;try{if(Js.transition=null,ln=16>I?16:I,wu===null)var Y=!1;else{if(I=wu,wu=null,O1=0,(qt&6)!==0)throw Error(n(331));var Q=qt;for(qt|=4,ht=I.current;ht!==null;){var q=ht,re=q.child;if((ht.flags&16)!==0){var de=q.deletions;if(de!==null){for(var me=0;me<de.length;me++){var Fe=de[me];for(ht=Fe;ht!==null;){var ze=ht;switch(ze.tag){case 0:case 11:case 15:w0(8,ze,q)}var Ve=ze.child;if(Ve!==null)Ve.return=ze,ht=Ve;else for(;ht!==null;){ze=ht;var Ue=ze.sibling,at=ze.return;if(gP(ze),ze===Fe){ht=null;break}if(Ue!==null){Ue.return=at,ht=Ue;break}ht=at}}}var ft=q.alternate;if(ft!==null){var gt=ft.child;if(gt!==null){ft.child=null;do{var ar=gt.sibling;gt.sibling=null,gt=ar}while(gt!==null)}}ht=q}}if((q.subtreeFlags&2064)!==0&&re!==null)re.return=q,ht=re;else e:for(;ht!==null;){if(q=ht,(q.flags&2048)!==0)switch(q.tag){case 0:case 11:case 15:w0(9,q,q.return)}var Te=q.sibling;if(Te!==null){Te.return=q.return,ht=Te;break e}ht=q.return}}var xe=I.current;for(ht=xe;ht!==null;){re=ht;var Me=re.child;if((re.subtreeFlags&2064)!==0&&Me!==null)Me.return=re,ht=Me;else e:for(re=xe;ht!==null;){if(de=ht,(de.flags&2048)!==0)try{switch(de.tag){case 0:case 11:case 15:A1(9,de)}}catch(yt){qn(de,de.return,yt)}if(de===re){ht=null;break e}var Ke=de.sibling;if(Ke!==null){Ke.return=de.return,ht=Ke;break e}ht=de.return}}if(qt=Q,pu(),Hs&&typeof Hs.onPostCommitFiberRoot=="function")try{Hs.onPostCommitFiberRoot(uu,I)}catch{}Y=!0}return Y}finally{ln=B,Js.transition=M}}return!1}function FP(I,M,B){M=Bh(B,M),M=JA(I,M,1),I=gu(I,M,1),M=Ri(),I!==null&&(Sc(I,1,M),Yi(I,M))}function qn(I,M,B){if(I.tag===3)FP(I,I,B);else for(;M!==null;){if(M.tag===3){FP(M,I,B);break}else if(M.tag===1){var Y=M.stateNode;if(typeof M.type.getDerivedStateFromError=="function"||typeof Y.componentDidCatch=="function"&&(yu===null||!yu.has(Y))){I=Bh(B,I),I=QA(M,I,1),M=gu(M,I,1),I=Ri(),M!==null&&(Sc(M,1,I),Yi(M,I));break}}M=M.return}}function QJ(I,M,B){var Y=I.pingCache;Y!==null&&Y.delete(M),M=Ri(),I.pingedLanes|=I.suspendedLanes&B,jr===I&&(_r&B)===B&&(Tr===4||Tr===3&&(_r&130023424)===_r&&500>Ft()-D5?kc(I,0):L5|=B),Yi(I,M)}function $P(I,M){M===0&&((I.mode&1)===0?M=1:(M=vh,vh<<=1,(vh&130023424)===0&&(vh=4194304)));var B=Ri();I=gl(I,M),I!==null&&(Sc(I,M,B),Yi(I,B))}function _J(I){var M=I.memoizedState,B=0;M!==null&&(B=M.retryLane),$P(I,B)}function qJ(I,M){var B=0;switch(I.tag){case 13:var Y=I.stateNode,Q=I.memoizedState;Q!==null&&(B=Q.retryLane);break;case 19:Y=I.stateNode;break;default:throw Error(n(314))}Y!==null&&Y.delete(M),$P(I,B)}var LP;LP=function(I,M,B){if(I!==null)if(I.memoizedProps!==M.pendingProps||Wi.current)Vi=!0;else{if((I.lanes&B)===0&&(M.flags&128)===0)return Vi=!1,jJ(I,M,B);Vi=(I.flags&131072)!==0}else Vi=!1,Hn&&(M.flags&1048576)!==0&&fA(M,u1,M.index);switch(M.lanes=0,M.tag){case 2:var Y=M.type;S1(I,M),I=M.pendingProps;var Q=Mh(M,hi.current);Nh(M,B),Q=h5(null,M,Y,I,Q,B);var q=f5();return M.flags|=1,typeof Q=="object"&&Q!==null&&typeof Q.render=="function"&&Q.$$typeof===void 0?(M.tag=1,M.memoizedState=null,M.updateQueue=null,Gi(Y)?(q=!0,a1(M)):q=!1,M.memoizedState=Q.state!==null&&Q.state!==void 0?Q.state:null,s5(M),Q.updater=C1,M.stateNode=Q,Q._reactInternals=M,w5(M,Y,I,B),M=E5(null,M,Y,!0,q,B)):(M.tag=0,Hn&&q&&Z3(M),Ii(null,M,Q,B),M=M.child),M;case 16:Y=M.elementType;e:{switch(S1(I,M),I=M.pendingProps,Q=Y._init,Y=Q(Y._payload),M.type=Y,Q=M.tag=tQ(Y),I=Ma(Y,I),Q){case 0:M=C5(null,M,Y,I,B);break e;case 1:M=aP(null,M,Y,I,B);break e;case 11:M=tP(null,M,Y,I,B);break e;case 14:M=nP(null,M,Y,Ma(Y.type,I),B);break e}throw Error(n(306,Y,""))}return M;case 0:return Y=M.type,Q=M.pendingProps,Q=M.elementType===Y?Q:Ma(Y,Q),C5(I,M,Y,Q,B);case 1:return Y=M.type,Q=M.pendingProps,Q=M.elementType===Y?Q:Ma(Y,Q),aP(I,M,Y,Q,B);case 3:e:{if(oP(M),I===null)throw Error(n(387));Y=M.pendingProps,q=M.memoizedState,Q=q.element,CA(I,M),v1(M,Y,null,B);var re=M.memoizedState;if(Y=re.element,q.isDehydrated)if(q={element:Y,isDehydrated:!1,cache:re.cache,pendingSuspenseBoundaries:re.pendingSuspenseBoundaries,transitions:re.transitions},M.updateQueue.baseState=q,M.memoizedState=q,M.flags&256){Q=Bh(Error(n(423)),M),M=lP(I,M,Y,B,Q);break e}else if(Y!==Q){Q=Bh(Error(n(424)),M),M=lP(I,M,Y,B,Q);break e}else for(Cs=du(M.stateNode.containerInfo.firstChild),bs=M,Hn=!0,Ra=null,B=xA(M,null,Y,B),M.child=B;B;)B.flags=B.flags&-3|4096,B=B.sibling;else{if($h(),Y===Q){M=yl(I,M,B);break e}Ii(I,M,Y,B)}M=M.child}return M;case 5:return TA(M),I===null&&_3(M),Y=M.type,Q=M.pendingProps,q=I!==null?I.memoizedProps:null,re=Q.children,G3(Y,Q)?re=null:q!==null&&G3(Y,q)&&(M.flags|=32),sP(I,M),Ii(I,M,re,B),M.child;case 6:return I===null&&_3(M),null;case 13:return uP(I,M,B);case 4:return a5(M,M.stateNode.containerInfo),Y=M.pendingProps,I===null?M.child=Lh(M,null,Y,B):Ii(I,M,Y,B),M.child;case 11:return Y=M.type,Q=M.pendingProps,Q=M.elementType===Y?Q:Ma(Y,Q),tP(I,M,Y,Q,B);case 7:return Ii(I,M,M.pendingProps,B),M.child;case 8:return Ii(I,M,M.pendingProps.children,B),M.child;case 12:return Ii(I,M,M.pendingProps.children,B),M.child;case 10:e:{if(Y=M.type._context,Q=M.pendingProps,q=M.memoizedProps,re=Q.value,In(h1,Y._currentValue),Y._currentValue=re,q!==null)if(Ia(q.value,re)){if(q.children===Q.children&&!Wi.current){M=yl(I,M,B);break e}}else for(q=M.child,q!==null&&(q.return=M);q!==null;){var de=q.dependencies;if(de!==null){re=q.child;for(var me=de.firstContext;me!==null;){if(me.context===Y){if(q.tag===1){me=ml(-1,B&-B),me.tag=2;var Fe=q.updateQueue;if(Fe!==null){Fe=Fe.shared;var ze=Fe.pending;ze===null?me.next=me:(me.next=ze.next,ze.next=me),Fe.pending=me}}q.lanes|=B,me=q.alternate,me!==null&&(me.lanes|=B),r5(q.return,B,M),de.lanes|=B;break}me=me.next}}else if(q.tag===10)re=q.type===M.type?null:q.child;else if(q.tag===18){if(re=q.return,re===null)throw Error(n(341));re.lanes|=B,de=re.alternate,de!==null&&(de.lanes|=B),r5(re,B,M),re=q.sibling}else re=q.child;if(re!==null)re.return=q;else for(re=q;re!==null;){if(re===M){re=null;break}if(q=re.sibling,q!==null){q.return=re.return,re=q;break}re=re.return}q=re}Ii(I,M,Q.children,B),M=M.child}return M;case 9:return Q=M.type,Y=M.pendingProps.children,Nh(M,B),Q=Ks(Q),Y=Y(Q),M.flags|=1,Ii(I,M,Y,B),M.child;case 14:return Y=M.type,Q=Ma(Y,M.pendingProps),Q=Ma(Y.type,Q),nP(I,M,Y,Q,B);case 15:return rP(I,M,M.type,M.pendingProps,B);case 17:return Y=M.type,Q=M.pendingProps,Q=M.elementType===Y?Q:Ma(Y,Q),S1(I,M),M.tag=1,Gi(Y)?(I=!0,a1(M)):I=!1,Nh(M,B),KA(M,Y,Q),w5(M,Y,Q,B),E5(null,M,Y,!0,I,B);case 19:return dP(I,M,B);case 22:return iP(I,M,B)}throw Error(n(156,M.tag))};function DP(I,M){return Jr(I,M)}function eQ(I,M,B,Y){this.tag=I,this.key=B,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=M,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qs(I,M,B,Y){return new eQ(I,M,B,Y)}function G5(I){return I=I.prototype,!(!I||!I.isReactComponent)}function tQ(I){if(typeof I=="function")return G5(I)?1:0;if(I!=null){if(I=I.$$typeof,I===R)return 11;if(I===F)return 14}return 2}function Cu(I,M){var B=I.alternate;return B===null?(B=Qs(I.tag,M,I.key,I.mode),B.elementType=I.elementType,B.type=I.type,B.stateNode=I.stateNode,B.alternate=I,I.alternate=B):(B.pendingProps=M,B.type=I.type,B.flags=0,B.subtreeFlags=0,B.deletions=null),B.flags=I.flags&14680064,B.childLanes=I.childLanes,B.lanes=I.lanes,B.child=I.child,B.memoizedProps=I.memoizedProps,B.memoizedState=I.memoizedState,B.updateQueue=I.updateQueue,M=I.dependencies,B.dependencies=M===null?null:{lanes:M.lanes,firstContext:M.firstContext},B.sibling=I.sibling,B.index=I.index,B.ref=I.ref,B}function D1(I,M,B,Y,Q,q){var re=2;if(Y=I,typeof I=="function")G5(I)&&(re=1);else if(typeof I=="string")re=5;else e:switch(I){case E:return Uc(B.children,Q,q,M);case T:re=8,Q|=8;break;case S:return I=Qs(12,B,M,Q|2),I.elementType=S,I.lanes=q,I;case L:return I=Qs(13,B,M,Q),I.elementType=L,I.lanes=q,I;case D:return I=Qs(19,B,M,Q),I.elementType=D,I.lanes=q,I;case N:return N1(B,Q,q,M);default:if(typeof I=="object"&&I!==null)switch(I.$$typeof){case A:re=10;break e;case P:re=9;break e;case R:re=11;break e;case F:re=14;break e;case $:re=16,Y=null;break e}throw Error(n(130,I==null?I:typeof I,""))}return M=Qs(re,B,M,Q),M.elementType=I,M.type=Y,M.lanes=q,M}function Uc(I,M,B,Y){return I=Qs(7,I,Y,M),I.lanes=B,I}function N1(I,M,B,Y){return I=Qs(22,I,Y,M),I.elementType=N,I.lanes=B,I.stateNode={isHidden:!1},I}function V5(I,M,B){return I=Qs(6,I,null,M),I.lanes=B,I}function H5(I,M,B){return M=Qs(4,I.children!==null?I.children:[],I.key,M),M.lanes=B,M.stateNode={containerInfo:I.containerInfo,pendingChildren:null,implementation:I.implementation},M}function nQ(I,M,B,Y,Q){this.tag=M,this.containerInfo=I,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yp(0),this.expirationTimes=Yp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yp(0),this.identifierPrefix=Y,this.onRecoverableError=Q,this.mutableSourceEagerHydrationData=null}function Y5(I,M,B,Y,Q,q,re,de,me){return I=new nQ(I,M,B,de,me),M===1?(M=1,q===!0&&(M|=8)):M=0,q=Qs(3,null,null,M),I.current=q,q.stateNode=I,q.memoizedState={element:Y,isDehydrated:B,cache:null,transitions:null,pendingSuspenseBoundaries:null},s5(q),I}function rQ(I,M,B){var Y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C,key:Y==null?null:""+Y,children:I,containerInfo:M,implementation:B}}function NP(I){if(!I)return fu;I=I._reactInternals;e:{if(_t(I)!==I||I.tag!==1)throw Error(n(170));var M=I;do{switch(M.tag){case 3:M=M.stateNode.context;break e;case 1:if(Gi(M.type)){M=M.stateNode.__reactInternalMemoizedMergedChildContext;break e}}M=M.return}while(M!==null);throw Error(n(171))}if(I.tag===1){var B=I.type;if(Gi(B))return cA(I,B,M)}return M}function kP(I,M,B,Y,Q,q,re,de,me){return I=Y5(B,Y,!0,I,Q,q,re,de,me),I.context=NP(null),B=I.current,Y=Ri(),Q=xu(B),q=ml(Y,Q),q.callback=M??null,gu(B,q,Q),I.current.lanes=Q,Sc(I,Q,Y),Yi(I,Y),I}function k1(I,M,B,Y){var Q=M.current,q=Ri(),re=xu(Q);return B=NP(B),M.context===null?M.context=B:M.pendingContext=B,M=ml(q,re),M.payload={element:I},Y=Y===void 0?null:Y,Y!==null&&(M.callback=Y),I=gu(Q,M,re),I!==null&&($a(I,Q,re,q),p1(I,Q,re)),re}function B1(I){if(I=I.current,!I.child)return null;switch(I.child.tag){case 5:return I.child.stateNode;default:return I.child.stateNode}}function BP(I,M){if(I=I.memoizedState,I!==null&&I.dehydrated!==null){var B=I.retryLane;I.retryLane=B!==0&&B<M?B:M}}function X5(I,M){BP(I,M),(I=I.alternate)&&BP(I,M)}function iQ(){return null}var UP=typeof reportError=="function"?reportError:function(I){console.error(I)};function K5(I){this._internalRoot=I}U1.prototype.render=K5.prototype.render=function(I){var M=this._internalRoot;if(M===null)throw Error(n(409));k1(I,M,null,null)},U1.prototype.unmount=K5.prototype.unmount=function(){var I=this._internalRoot;if(I!==null){this._internalRoot=null;var M=I.containerInfo;Nc(function(){k1(null,I,null,null)}),M[hl]=null}};function U1(I){this._internalRoot=I}U1.prototype.unstable_scheduleHydration=function(I){if(I){var M=Wm();I={blockedOn:null,target:I,priority:M};for(var B=0;B<bo.length&&M!==0&&M<bo[B].priority;B++);bo.splice(B,0,I),B===0&&Ym(I)}};function Z5(I){return!(!I||I.nodeType!==1&&I.nodeType!==9&&I.nodeType!==11)}function j1(I){return!(!I||I.nodeType!==1&&I.nodeType!==9&&I.nodeType!==11&&(I.nodeType!==8||I.nodeValue!==" react-mount-point-unstable "))}function jP(){}function sQ(I,M,B,Y,Q){if(Q){if(typeof Y=="function"){var q=Y;Y=function(){var Fe=B1(re);q.call(Fe)}}var re=kP(M,Y,I,0,null,!1,!1,"",jP);return I._reactRootContainer=re,I[hl]=re.current,a0(I.nodeType===8?I.parentNode:I),Nc(),re}for(;Q=I.lastChild;)I.removeChild(Q);if(typeof Y=="function"){var de=Y;Y=function(){var Fe=B1(me);de.call(Fe)}}var me=Y5(I,0,!1,null,null,!1,!1,"",jP);return I._reactRootContainer=me,I[hl]=me.current,a0(I.nodeType===8?I.parentNode:I),Nc(function(){k1(M,me,B,Y)}),me}function z1(I,M,B,Y,Q){var q=B._reactRootContainer;if(q){var re=q;if(typeof Q=="function"){var de=Q;Q=function(){var me=B1(re);de.call(me)}}k1(M,re,I,Q)}else re=sQ(B,M,I,Q,Y);return B1(re)}jm=function(I){switch(I.tag){case 3:var M=I.stateNode;if(M.current.memoizedState.isDehydrated){var B=Ec(M.pendingLanes);B!==0&&(Xp(M,B|1),Yi(M,Ft()),(qt&6)===0&&(zh=Ft()+500,pu()))}break;case 13:Nc(function(){var Y=gl(I,1);if(Y!==null){var Q=Ri();$a(Y,I,1,Q)}}),X5(I,1)}},Kp=function(I){if(I.tag===13){var M=gl(I,134217728);if(M!==null){var B=Ri();$a(M,I,134217728,B)}X5(I,134217728)}},zm=function(I){if(I.tag===13){var M=xu(I),B=gl(I,M);if(B!==null){var Y=Ri();$a(B,I,M,Y)}X5(I,M)}},Wm=function(){return ln},Gm=function(I,M){var B=ln;try{return ln=I,M()}finally{ln=B}},Pn=function(I,M,B){switch(M){case"input":if(Ce(I,B),M=B.name,B.type==="radio"&&M!=null){for(B=I;B.parentNode;)B=B.parentNode;for(B=B.querySelectorAll("input[name="+JSON.stringify(""+M)+'][type="radio"]'),M=0;M<B.length;M++){var Y=B[M];if(Y!==I&&Y.form===I.form){var Q=i1(Y);if(!Q)throw Error(n(90));ie(Y),Ce(Y,Q)}}}break;case"textarea":Ae(I,B);break;case"select":M=B.value,M!=null&&je(I,!!B.multiple,M,!1)}},ne=j5,se=Nc;var aQ={usingClientEntryPoint:!1,Events:[u0,Ih,i1,bn,Nr,j5]},E0={findFiberByHostInstance:Ic,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oQ={bundleType:E0.bundleType,version:E0.version,rendererPackageName:E0.rendererPackageName,rendererConfig:E0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(I){return I=pn(I),I===null?null:I.stateNode},findFiberByHostInstance:E0.findFiberByHostInstance||iQ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var W1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!W1.isDisabled&&W1.supportsFiber)try{uu=W1.inject(oQ),Hs=W1}catch{}}return Xi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aQ,Xi.createPortal=function(I,M){var B=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Z5(M))throw Error(n(200));return rQ(I,M,null,B)},Xi.createRoot=function(I,M){if(!Z5(I))throw Error(n(299));var B=!1,Y="",Q=UP;return M!=null&&(M.unstable_strictMode===!0&&(B=!0),M.identifierPrefix!==void 0&&(Y=M.identifierPrefix),M.onRecoverableError!==void 0&&(Q=M.onRecoverableError)),M=Y5(I,1,!1,null,null,B,!1,Y,Q),I[hl]=M.current,a0(I.nodeType===8?I.parentNode:I),new K5(M)},Xi.findDOMNode=function(I){if(I==null)return null;if(I.nodeType===1)return I;var M=I._reactInternals;if(M===void 0)throw typeof I.render=="function"?Error(n(188)):(I=Object.keys(I).join(","),Error(n(268,I)));return I=pn(M),I=I===null?null:I.stateNode,I},Xi.flushSync=function(I){return Nc(I)},Xi.hydrate=function(I,M,B){if(!j1(M))throw Error(n(200));return z1(null,I,M,!0,B)},Xi.hydrateRoot=function(I,M,B){if(!Z5(I))throw Error(n(405));var Y=B!=null&&B.hydratedSources||null,Q=!1,q="",re=UP;if(B!=null&&(B.unstable_strictMode===!0&&(Q=!0),B.identifierPrefix!==void 0&&(q=B.identifierPrefix),B.onRecoverableError!==void 0&&(re=B.onRecoverableError)),M=kP(M,null,I,1,B??null,Q,!1,q,re),I[hl]=M.current,a0(I),Y)for(I=0;I<Y.length;I++)B=Y[I],Q=B._getVersion,Q=Q(B._source),M.mutableSourceEagerHydrationData==null?M.mutableSourceEagerHydrationData=[B,Q]:M.mutableSourceEagerHydrationData.push(B,Q);return new U1(M)},Xi.render=function(I,M,B){if(!j1(M))throw Error(n(200));return z1(null,I,M,!1,B)},Xi.unmountComponentAtNode=function(I){if(!j1(I))throw Error(n(40));return I._reactRootContainer?(Nc(function(){z1(null,null,I,!1,function(){I._reactRootContainer=null,I[hl]=null})}),!0):!1},Xi.unstable_batchedUpdates=j5,Xi.unstable_renderSubtreeIntoContainer=function(I,M,B,Y){if(!j1(B))throw Error(n(200));if(I==null||I._reactInternals===void 0)throw Error(n(38));return z1(I,M,B,!1,Y)},Xi.version="18.3.1-next-f1338f8080-20240426",Xi}var KP;function KN(){if(KP)return _5.exports;KP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_5.exports=vQ(),_5.exports}var ZP;function gQ(){if(ZP)return G1;ZP=1;var t=KN();return G1.createRoot=t.createRoot,G1.hydrateRoot=t.hydrateRoot,G1}var mQ=gQ();const yQ="modulepreload",wQ=function(t){return"/"+t},JP={},Ko=function(e,n,i){let f=Promise.resolve();if(n&&n.length>0){let r=function(o){return Promise.all(o.map(v=>Promise.resolve(v).then(c=>({status:"fulfilled",value:c}),c=>({status:"rejected",reason:c}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),y=s?.nonce||s?.getAttribute("nonce");f=r(n.map(o=>{if(o=wQ(o),o in JP)return;JP[o]=!0;const v=o.endsWith(".css"),c=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${c}`))return;const u=document.createElement("link");if(u.rel=v?"stylesheet":yQ,v||(u.as="script"),u.crossOrigin="",u.href=o,y&&u.setAttribute("nonce",y),document.head.appendChild(u),v)return new Promise((l,a)=>{u.addEventListener("load",l),u.addEventListener("error",()=>a(new Error(`Unable to preload CSS for ${o}`)))})}))}function b(s){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=s,window.dispatchEvent(y),!y.defaultPrevented)throw s}return f.then(s=>{for(const y of s||[])y.status==="rejected"&&b(y.reason);return e().catch(b)})};function xQ(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function bQ(){const t=new Set;let e=[];const n=()=>xQ(f=>{e.some(({info:b})=>b.uuid===f.info.uuid)||(e=[...e,f],t.forEach(b=>b(e,{added:[f]})))});let i=n();return{_listeners(){return t},clear(){t.forEach(f=>f([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),i?.()},findProvider({rdns:f}){return e.find(b=>b.info.rdns===f)},getProviders(){return e},reset(){this.clear(),i?.(),i=n()},subscribe(f,{emitImmediately:b}={}){return t.add(f),b&&f(e,{added:e}),()=>t.delete(f)}}}var ct={},tv={exports:{}},CQ=tv.exports,QP;function EQ(){return QP||(QP=1,(function(t,e){(function(n,i){var f="1.0.41",b="",s="?",y="function",r="undefined",o="object",v="string",c="major",u="model",l="name",a="type",d="vendor",p="version",h="architecture",g="console",m="mobile",x="tablet",w="smarttv",C="wearable",E="embedded",T=500,S="Amazon",A="Apple",P="ASUS",R="BlackBerry",L="Browser",D="Chrome",F="Edge",$="Firefox",N="Google",k="Honor",j="Huawei",W="Lenovo",G="LG",K="Microsoft",z="Motorola",X="Nvidia",U="OnePlus",Z="Opera",V="OPPO",J="Samsung",_="Sharp",ee="Sony",te="Xiaomi",ie="Zebra",le="Facebook",he="Chromium OS",fe="Mac OS",oe=" Browser",Ce=function(Je,He){var Qe={};for(var dt in Je)He[dt]&&He[dt].length%2===0?Qe[dt]=He[dt].concat(Je[dt]):Qe[dt]=Je[dt];return Qe},ye=function(Je){for(var He={},Qe=0;Qe<Je.length;Qe++)He[Je[Qe].toUpperCase()]=Je[Qe];return He},Ee=function(Je,He){return typeof Je===v?Ie(He).indexOf(Ie(Je))!==-1:!1},Ie=function(Je){return Je.toLowerCase()},je=function(Je){return typeof Je===v?Je.replace(/[^\d\.]/g,b).split(".")[0]:i},Re=function(Je,He){if(typeof Je===v)return Je=Je.replace(/^\s\s*/,b),typeof He===r?Je:Je.substring(0,T)},$e=function(Je,He){for(var Qe=0,dt,$t,ut,wt,tt,cn;Qe<He.length&&!tt;){var Pn=He[Qe],It=He[Qe+1];for(dt=$t=0;dt<Pn.length&&!tt&&Pn[dt];)if(tt=Pn[dt++].exec(Je),tt)for(ut=0;ut<It.length;ut++)cn=tt[++$t],wt=It[ut],typeof wt===o&&wt.length>0?wt.length===2?typeof wt[1]==y?this[wt[0]]=wt[1].call(this,cn):this[wt[0]]=wt[1]:wt.length===3?typeof wt[1]===y&&!(wt[1].exec&&wt[1].test)?this[wt[0]]=cn?wt[1].call(this,cn,wt[2]):i:this[wt[0]]=cn?cn.replace(wt[1],wt[2]):i:wt.length===4&&(this[wt[0]]=cn?wt[3].call(this,cn.replace(wt[1],wt[2])):i):this[wt]=cn||i;Qe+=2}},Ae=function(Je,He){for(var Qe in He)if(typeof He[Qe]===o&&He[Qe].length>0){for(var dt=0;dt<He[Qe].length;dt++)if(Ee(He[Qe][dt],Je))return Qe===s?i:Qe}else if(Ee(He[Qe],Je))return Qe===s?i:Qe;return He.hasOwnProperty("*")?He["*"]:Je},Xe={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},st={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},vt={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[l,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[l,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[l,p],[/opios[\/ ]+([\w\.]+)/i],[p,[l,Z+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[p,[l,Z+" GX"]],[/\bopr\/([\w\.]+)/i],[p,[l,Z]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[p,[l,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[p,[l,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[l,p],[/quark(?:pc)?\/([-\w\.]+)/i],[p,[l,"Quark"]],[/\bddg\/([\w\.]+)/i],[p,[l,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[l,"UC"+L]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[p,[l,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[l,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[l,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[p,[l,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[p,[l,"Smart Lenovo "+L]],[/(avast|avg)\/([\w\.]+)/i],[[l,/(.+)/,"$1 Secure "+L],p],[/\bfocus\/([\w\.]+)/i],[p,[l,$+" Focus"]],[/\bopt\/([\w\.]+)/i],[p,[l,Z+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[l,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[l,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[l,Z+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[l,"MIUI"+oe]],[/fxios\/([\w\.-]+)/i],[p,[l,$]],[/\bqihoobrowser\/?([\w\.]*)/i],[p,[l,"360"]],[/\b(qq)\/([\w\.]+)/i],[[l,/(.+)/,"$1Browser"],p],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[l,/(.+)/,"$1"+oe],p],[/samsungbrowser\/([\w\.]+)/i],[p,[l,J+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[p,[l,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[l,"Sogou Mobile"],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[l,p],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[l],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[p,l],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[l,le],p],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[l,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[l,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[p,[l,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[l,D+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[l,D+" WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[l,"Android "+L]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[l,p],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[p,[l,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[p,l],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[l,[p,Ae,Xe]],[/(webkit|khtml)\/([\w\.]+)/i],[l,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[l,"Netscape"],p],[/(wolvic|librewolf)\/([\w\.]+)/i],[l,p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[l,$+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[l,[p,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[l,[p,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[h,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[h,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[h,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[h,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[h,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[h,/ower/,b,Ie]],[/ sun4\w[;\)]/i],[[h,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[h,Ie]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[u,[d,J],[a,x]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[u,[d,J],[a,m]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[u,[d,A],[a,m]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[u,[d,A],[a,x]],[/(macintosh);/i],[u,[d,A]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[u,[d,_],[a,m]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[u,[d,k],[a,x]],[/honor([-\w ]+)[;\)]/i],[u,[d,k],[a,m]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[u,[d,j],[a,x]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[u,[d,j],[a,m]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[u,/_/g," "],[d,te],[a,x]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[u,/_/g," "],[d,te],[a,m]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[u,[d,V],[a,m]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[u,[d,Ae,{OnePlus:["304","403","203"],"*":V}],[a,x]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[u,[d,"Vivo"],[a,m]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[u,[d,"Realme"],[a,m]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[u,[d,z],[a,m]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[u,[d,z],[a,x]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[u,[d,G],[a,x]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[u,[d,G],[a,m]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[u,[d,W],[a,x]],[/(nokia) (t[12][01])/i],[d,u,[a,x]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[u,/_/g," "],[a,m],[d,"Nokia"]],[/(pixel (c|tablet))\b/i],[u,[d,N],[a,x]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[u,[d,N],[a,m]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[d,ee],[a,m]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[u,"Xperia Tablet"],[d,ee],[a,x]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[u,[d,U],[a,m]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[u,[d,S],[a,x]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[u,/(.+)/g,"Fire Phone $1"],[d,S],[a,m]],[/(playbook);[-\w\),; ]+(rim)/i],[u,d,[a,x]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[u,[d,R],[a,m]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[u,[d,P],[a,x]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[u,[d,P],[a,m]],[/(nexus 9)/i],[u,[d,"HTC"],[a,x]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[d,[u,/_/g," "],[a,m]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[u,[d,"TCL"],[a,x]],[/(itel) ((\w+))/i],[[d,Ie],u,[a,Ae,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[u,[d,"Acer"],[a,x]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[u,[d,"Meizu"],[a,m]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[u,[d,"Ulefone"],[a,m]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[u,[d,"Energizer"],[a,m]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[u,[d,"Cat"],[a,m]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[u,[d,"Smartfren"],[a,m]],[/droid.+; (a(?:015|06[35]|142p?))/i],[u,[d,"Nothing"],[a,m]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[u,[d,"Archos"],[a,x]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[u,[d,"Archos"],[a,m]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[d,u,[a,x]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[d,u,[a,m]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[d,u,[a,x]],[/(surface duo)/i],[u,[d,K],[a,x]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[u,[d,"Fairphone"],[a,m]],[/(u304aa)/i],[u,[d,"AT&T"],[a,m]],[/\bsie-(\w*)/i],[u,[d,"Siemens"],[a,m]],[/\b(rct\w+) b/i],[u,[d,"RCA"],[a,x]],[/\b(venue[\d ]{2,7}) b/i],[u,[d,"Dell"],[a,x]],[/\b(q(?:mv|ta)\w+) b/i],[u,[d,"Verizon"],[a,x]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[u,[d,"Barnes & Noble"],[a,x]],[/\b(tm\d{3}\w+) b/i],[u,[d,"NuVision"],[a,x]],[/\b(k88) b/i],[u,[d,"ZTE"],[a,x]],[/\b(nx\d{3}j) b/i],[u,[d,"ZTE"],[a,m]],[/\b(gen\d{3}) b.+49h/i],[u,[d,"Swiss"],[a,m]],[/\b(zur\d{3}) b/i],[u,[d,"Swiss"],[a,x]],[/\b((zeki)?tb.*\b) b/i],[u,[d,"Zeki"],[a,x]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[d,"Dragon Touch"],u,[a,x]],[/\b(ns-?\w{0,9}) b/i],[u,[d,"Insignia"],[a,x]],[/\b((nxa|next)-?\w{0,9}) b/i],[u,[d,"NextBook"],[a,x]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[d,"Voice"],u,[a,m]],[/\b(lvtel\-)?(v1[12]) b/i],[[d,"LvTel"],u,[a,m]],[/\b(ph-1) /i],[u,[d,"Essential"],[a,m]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[u,[d,"Envizen"],[a,x]],[/\b(trio[-\w\. ]+) b/i],[u,[d,"MachSpeed"],[a,x]],[/\btu_(1491) b/i],[u,[d,"Rotor"],[a,x]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[u,[d,X],[a,x]],[/(sprint) (\w+)/i],[d,u,[a,m]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[d,K],[a,m]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[u,[d,ie],[a,x]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[u,[d,ie],[a,m]],[/smart-tv.+(samsung)/i],[d,[a,w]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[d,J],[a,w]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[d,G],[a,w]],[/(apple) ?tv/i],[d,[u,A+" TV"],[a,w]],[/crkey/i],[[u,D+"cast"],[d,N],[a,w]],[/droid.+aft(\w+)( bui|\))/i],[u,[d,S],[a,w]],[/(shield \w+ tv)/i],[u,[d,X],[a,w]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[u,[d,_],[a,w]],[/(bravia[\w ]+)( bui|\))/i],[u,[d,ee],[a,w]],[/(mi(tv|box)-?\w+) bui/i],[u,[d,te],[a,w]],[/Hbbtv.*(technisat) (.*);/i],[d,u,[a,w]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[d,Re],[u,Re],[a,w]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[u,[a,w]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[a,w]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[d,u,[a,g]],[/droid.+; (shield)( bui|\))/i],[u,[d,X],[a,g]],[/(playstation \w+)/i],[u,[d,ee],[a,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[u,[d,K],[a,g]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[u,[d,J],[a,C]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[d,u,[a,C]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[u,[d,V],[a,C]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[u,[d,A],[a,C]],[/(opwwe\d{3})/i],[u,[d,U],[a,C]],[/(moto 360)/i],[u,[d,z],[a,C]],[/(smartwatch 3)/i],[u,[d,ee],[a,C]],[/(g watch r)/i],[u,[d,G],[a,C]],[/droid.+; (wt63?0{2,3})\)/i],[u,[d,ie],[a,C]],[/droid.+; (glass) \d/i],[u,[d,N],[a,C]],[/(pico) (4|neo3(?: link|pro)?)/i],[d,u,[a,C]],[/; (quest( \d| pro)?)/i],[u,[d,le],[a,C]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[d,[a,E]],[/(aeobc)\b/i],[u,[d,S],[a,E]],[/(homepod).+mac os/i],[u,[d,A],[a,E]],[/windows iot/i],[[a,E]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[u,[a,m]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[u,[a,x]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[a,x]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[a,m]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[u,[d,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[l,F+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[l,p],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[l,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[l,p],[/ladybird\//i],[[l,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,l]],os:[[/microsoft (windows) (vista|xp)/i],[l,p],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[l,[p,Ae,st]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[p,Ae,st],[l,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[l,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[l,fe],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[p,l],[/(ubuntu) ([\w\.]+) like android/i],[[l,/(.+)/,"$1 Touch"],p],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[l,p],[/\(bb(10);/i],[p,[l,R]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[p,[l,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[l,$+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[l,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[p,[l,"watchOS"]],[/crkey\/([\d\.]+)/i],[p,[l,D+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[l,he],p],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[l,p],[/(sunos) ?([\w\.\d]*)/i],[[l,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[l,p]]},Ge=function(Je,He){if(typeof Je===o&&(He=Je,Je=i),!(this instanceof Ge))return new Ge(Je,He).getResult();var Qe=typeof n!==r&&n.navigator?n.navigator:i,dt=Je||(Qe&&Qe.userAgent?Qe.userAgent:b),$t=Qe&&Qe.userAgentData?Qe.userAgentData:i,ut=He?Ce(vt,He):vt,wt=Qe&&Qe.userAgent==dt;return this.getBrowser=function(){var tt={};return tt[l]=i,tt[p]=i,$e.call(tt,dt,ut.browser),tt[c]=je(tt[p]),wt&&Qe&&Qe.brave&&typeof Qe.brave.isBrave==y&&(tt[l]="Brave"),tt},this.getCPU=function(){var tt={};return tt[h]=i,$e.call(tt,dt,ut.cpu),tt},this.getDevice=function(){var tt={};return tt[d]=i,tt[u]=i,tt[a]=i,$e.call(tt,dt,ut.device),wt&&!tt[a]&&$t&&$t.mobile&&(tt[a]=m),wt&&tt[u]=="Macintosh"&&Qe&&typeof Qe.standalone!==r&&Qe.maxTouchPoints&&Qe.maxTouchPoints>2&&(tt[u]="iPad",tt[a]=x),tt},this.getEngine=function(){var tt={};return tt[l]=i,tt[p]=i,$e.call(tt,dt,ut.engine),tt},this.getOS=function(){var tt={};return tt[l]=i,tt[p]=i,$e.call(tt,dt,ut.os),wt&&!tt[l]&&$t&&$t.platform&&$t.platform!="Unknown"&&(tt[l]=$t.platform.replace(/chrome os/i,he).replace(/macos/i,fe)),tt},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return dt},this.setUA=function(tt){return dt=typeof tt===v&&tt.length>T?Re(tt,T):tt,this},this.setUA(dt),this};Ge.VERSION=f,Ge.BROWSER=ye([l,p,c]),Ge.CPU=ye([h]),Ge.DEVICE=ye([u,d,a,g,m,w,x,C,E]),Ge.ENGINE=Ge.OS=ye([l,p]),t.exports&&(e=t.exports=Ge),e.UAParser=Ge;var nt=typeof n!==r&&(n.jQuery||n.Zepto);if(nt&&!nt.ua){var Et=new Ge;nt.ua=Et.getResult(),nt.ua.get=function(){return Et.getUA()},nt.ua.set=function(Je){Et.setUA(Je);var He=Et.getResult();for(var Qe in He)nt.ua[Qe]=He[Qe]}}})(typeof window=="object"?window:CQ)})(tv,tv.exports)),tv.exports}var _P;function SQ(){if(_P)return ct;_P=1,Object.defineProperty(ct,"__esModule",{value:!0});function t(Se){return Se&&typeof Se=="object"&&"default"in Se?Se.default:Se}var e=Kg(),n=t(e),i=EQ(),f=new i,b=f.getBrowser(),s=f.getCPU(),y=f.getDevice(),r=f.getEngine(),o=f.getOS(),v=f.getUA(),c=function(ce){return f.setUA(ce)},u=function(ce){if(!ce){console.error("No userAgent string was provided");return}var ve=new i(ce);return{UA:ve,browser:ve.getBrowser(),cpu:ve.getCPU(),device:ve.getDevice(),engine:ve.getEngine(),os:ve.getOS(),ua:ve.getUA(),setUserAgent:function(Be){return ve.setUA(Be)}}},l=Object.freeze({ClientUAInstance:f,browser:b,cpu:s,device:y,engine:r,os:o,ua:v,setUa:c,parseUserAgent:u});function a(Se,ce){var ve=Object.keys(Se);if(Object.getOwnPropertySymbols){var Le=Object.getOwnPropertySymbols(Se);ce&&(Le=Le.filter(function(Be){return Object.getOwnPropertyDescriptor(Se,Be).enumerable})),ve.push.apply(ve,Le)}return ve}function d(Se){for(var ce=1;ce<arguments.length;ce++){var ve=arguments[ce]!=null?arguments[ce]:{};ce%2?a(Object(ve),!0).forEach(function(Le){x(Se,Le,ve[Le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Se,Object.getOwnPropertyDescriptors(ve)):a(Object(ve)).forEach(function(Le){Object.defineProperty(Se,Le,Object.getOwnPropertyDescriptor(ve,Le))})}return Se}function p(Se){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?p=function(ce){return typeof ce}:p=function(ce){return ce&&typeof Symbol=="function"&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce},p(Se)}function h(Se,ce){if(!(Se instanceof ce))throw new TypeError("Cannot call a class as a function")}function g(Se,ce){for(var ve=0;ve<ce.length;ve++){var Le=ce[ve];Le.enumerable=Le.enumerable||!1,Le.configurable=!0,"value"in Le&&(Le.writable=!0),Object.defineProperty(Se,Le.key,Le)}}function m(Se,ce,ve){return ce&&g(Se.prototype,ce),Se}function x(Se,ce,ve){return ce in Se?Object.defineProperty(Se,ce,{value:ve,enumerable:!0,configurable:!0,writable:!0}):Se[ce]=ve,Se}function w(){return w=Object.assign||function(Se){for(var ce=1;ce<arguments.length;ce++){var ve=arguments[ce];for(var Le in ve)Object.prototype.hasOwnProperty.call(ve,Le)&&(Se[Le]=ve[Le])}return Se},w.apply(this,arguments)}function C(Se,ce){if(typeof ce!="function"&&ce!==null)throw new TypeError("Super expression must either be null or a function");Se.prototype=Object.create(ce&&ce.prototype,{constructor:{value:Se,writable:!0,configurable:!0}}),ce&&T(Se,ce)}function E(Se){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(ve){return ve.__proto__||Object.getPrototypeOf(ve)},E(Se)}function T(Se,ce){return T=Object.setPrototypeOf||function(Le,Be){return Le.__proto__=Be,Le},T(Se,ce)}function S(Se,ce){if(Se==null)return{};var ve={},Le=Object.keys(Se),Be,Lt;for(Lt=0;Lt<Le.length;Lt++)Be=Le[Lt],!(ce.indexOf(Be)>=0)&&(ve[Be]=Se[Be]);return ve}function A(Se,ce){if(Se==null)return{};var ve=S(Se,ce),Le,Be;if(Object.getOwnPropertySymbols){var Lt=Object.getOwnPropertySymbols(Se);for(Be=0;Be<Lt.length;Be++)Le=Lt[Be],!(ce.indexOf(Le)>=0)&&Object.prototype.propertyIsEnumerable.call(Se,Le)&&(ve[Le]=Se[Le])}return ve}function P(Se){if(Se===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Se}function R(Se,ce){if(ce&&(typeof ce=="object"||typeof ce=="function"))return ce;if(ce!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P(Se)}function L(Se,ce){return D(Se)||F(Se,ce)||$(Se,ce)||k()}function D(Se){if(Array.isArray(Se))return Se}function F(Se,ce){var ve=Se==null?null:typeof Symbol<"u"&&Se[Symbol.iterator]||Se["@@iterator"];if(ve!=null){var Le=[],Be=!0,Lt=!1,Fn,di;try{for(ve=ve.call(Se);!(Be=(Fn=ve.next()).done)&&(Le.push(Fn.value),!(ce&&Le.length===ce));Be=!0);}catch(yh){Lt=!0,di=yh}finally{try{!Be&&ve.return!=null&&ve.return()}finally{if(Lt)throw di}}return Le}}function $(Se,ce){if(Se){if(typeof Se=="string")return N(Se,ce);var ve=Object.prototype.toString.call(Se).slice(8,-1);if(ve==="Object"&&Se.constructor&&(ve=Se.constructor.name),ve==="Map"||ve==="Set")return Array.from(Se);if(ve==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ve))return N(Se,ce)}}function N(Se,ce){(ce==null||ce>Se.length)&&(ce=Se.length);for(var ve=0,Le=new Array(ce);ve<ce;ve++)Le[ve]=Se[ve];return Le}function k(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var j={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},W={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},G={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},K={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},z=function(ce){switch(ce){case j.Mobile:return{isMobile:!0};case j.Tablet:return{isTablet:!0};case j.SmartTv:return{isSmartTV:!0};case j.Console:return{isConsole:!0};case j.Wearable:return{isWearable:!0};case j.Browser:return{isBrowser:!0};case j.Embedded:return{isEmbedded:!0};default:return K}},X=function(ce){return c(ce)},U=function(ce){var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return ce||ve},Z=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},V=function(ce){var ve=Z();return ve&&ve.platform&&(ve.platform.indexOf(ce)!==-1||ve.platform==="MacIntel"&&ve.maxTouchPoints>1&&!window.MSStream)},J=function(ce,ve,Le,Be,Lt){return{isBrowser:ce,browserMajorVersion:U(ve.major),browserFullVersion:U(ve.version),browserName:U(ve.name),engineName:U(Le.name),engineVersion:U(Le.version),osName:U(Be.name),osVersion:U(Be.version),userAgent:U(Lt)}},_=function(ce,ve,Le,Be){return d({},ce,{vendor:U(ve.vendor),model:U(ve.model),os:U(Le.name),osVersion:U(Le.version),ua:U(Be)})},ee=function(ce,ve,Le,Be){return{isSmartTV:ce,engineName:U(ve.name),engineVersion:U(ve.version),osName:U(Le.name),osVersion:U(Le.version),userAgent:U(Be)}},te=function(ce,ve,Le,Be){return{isConsole:ce,engineName:U(ve.name),engineVersion:U(ve.version),osName:U(Le.name),osVersion:U(Le.version),userAgent:U(Be)}},ie=function(ce,ve,Le,Be){return{isWearable:ce,engineName:U(ve.name),engineVersion:U(ve.version),osName:U(Le.name),osVersion:U(Le.version),userAgent:U(Be)}},le=function(ce,ve,Le,Be,Lt){return{isEmbedded:ce,vendor:U(ve.vendor),model:U(ve.model),engineName:U(Le.name),engineVersion:U(Le.version),osName:U(Be.name),osVersion:U(Be.version),userAgent:U(Lt)}};function he(Se){var ce=Se?u(Se):l,ve=ce.device,Le=ce.browser,Be=ce.engine,Lt=ce.os,Fn=ce.ua,di=z(ve.type),yh=di.isBrowser,Jp=di.isMobile,wh=di.isTablet,xh=di.isSmartTV,Qp=di.isConsole,Pa=di.isWearable,bh=di.isEmbedded;if(yh)return J(yh,Le,Be,Lt,Fn);if(xh)return ee(xh,Be,Lt,Fn);if(Qp)return te(Qp,Be,Lt,Fn);if(Jp||wh)return _(di,ve,Lt,Fn);if(Pa)return ie(Pa,Be,Lt,Fn);if(bh)return le(bh,ve,Be,Lt,Fn)}var fe=function(ce){var ve=ce.type;return ve===j.Mobile},oe=function(ce){var ve=ce.type;return ve===j.Tablet},Ce=function(ce){var ve=ce.type;return ve===j.Mobile||ve===j.Tablet},ye=function(ce){var ve=ce.type;return ve===j.SmartTv},Ee=function(ce){var ve=ce.type;return ve===j.Browser},Ie=function(ce){var ve=ce.type;return ve===j.Wearable},je=function(ce){var ve=ce.type;return ve===j.Console},Re=function(ce){var ve=ce.type;return ve===j.Embedded},$e=function(ce){var ve=ce.vendor;return U(ve)},Ae=function(ce){var ve=ce.model;return U(ve)},Xe=function(ce){var ve=ce.type;return U(ve,"browser")},st=function(ce){var ve=ce.name;return ve===G.Android},vt=function(ce){var ve=ce.name;return ve===G.Windows},Ge=function(ce){var ve=ce.name;return ve===G.MAC_OS},nt=function(ce){var ve=ce.name;return ve===G.WindowsPhone},Et=function(ce){var ve=ce.name;return ve===G.IOS},Je=function(ce){var ve=ce.version;return U(ve)},He=function(ce){var ve=ce.name;return U(ve)},Qe=function(ce){var ve=ce.name;return ve===W.Chrome},dt=function(ce){var ve=ce.name;return ve===W.Firefox},$t=function(ce){var ve=ce.name;return ve===W.Chromium},ut=function(ce){var ve=ce.name;return ve===W.Edge},wt=function(ce){var ve=ce.name;return ve===W.Yandex},tt=function(ce){var ve=ce.name;return ve===W.Safari||ve===W.MobileSafari},cn=function(ce){var ve=ce.name;return ve===W.MobileSafari},Pn=function(ce){var ve=ce.name;return ve===W.Opera},It=function(ce){var ve=ce.name;return ve===W.InternetExplorer||ve===W.Ie},pt=function(ce){var ve=ce.name;return ve===W.MIUI},Kn=function(ce){var ve=ce.name;return ve===W.SamsungBrowser},bn=function(ce){var ve=ce.version;return U(ve)},Nr=function(ce){var ve=ce.major;return U(ve)},ne=function(ce){var ve=ce.name;return U(ve)},se=function(ce){var ve=ce.name;return U(ve)},ue=function(ce){var ve=ce.version;return U(ve)},pe=function(){var ce=Z(),ve=ce&&ce.userAgent&&ce.userAgent.toLowerCase();return typeof ve=="string"?/electron/.test(ve):!1},be=function(ce){return typeof ce=="string"&&ce.indexOf("Edg/")!==-1},Pe=function(){var ce=Z();return ce&&(/iPad|iPhone|iPod/.test(ce.platform)||ce.platform==="MacIntel"&&ce.maxTouchPoints>1)&&!window.MSStream},De=function(){return V("iPad")},Ye=function(){return V("iPhone")},kt=function(){return V("iPod")},Bt=function(ce){return U(ce)};function Xt(Se){var ce=Se||l,ve=ce.device,Le=ce.browser,Be=ce.os,Lt=ce.engine,Fn=ce.ua;return{isSmartTV:ye(ve),isConsole:je(ve),isWearable:Ie(ve),isEmbedded:Re(ve),isMobileSafari:cn(Le)||De(),isChromium:$t(Le),isMobile:Ce(ve)||De(),isMobileOnly:fe(ve),isTablet:oe(ve)||De(),isBrowser:Ee(ve),isDesktop:Ee(ve),isAndroid:st(Be),isWinPhone:nt(Be),isIOS:Et(Be)||De(),isChrome:Qe(Le),isFirefox:dt(Le),isSafari:tt(Le),isOpera:Pn(Le),isIE:It(Le),osVersion:Je(Be),osName:He(Be),fullBrowserVersion:bn(Le),browserVersion:Nr(Le),browserName:ne(Le),mobileVendor:$e(ve),mobileModel:Ae(ve),engineName:se(Lt),engineVersion:ue(Lt),getUA:Bt(Fn),isEdge:ut(Le)||be(Fn),isYandex:wt(Le),deviceType:Xe(ve),isIOS13:Pe(),isIPad13:De(),isIPhone13:Ye(),isIPod13:kt(),isElectron:pe(),isEdgeChromium:be(Fn),isLegacyEdge:ut(Le)&&!be(Fn),isWindows:vt(Be),isMacOs:Ge(Be),isMIUI:pt(Le),isSamsungBrowser:Kn(Le)}}var Qt=ye(y),dn=je(y),bt=Ie(y),yn=Re(y),_t=cn(b)||De(),pr=$t(b),sr=Ce(y)||De(),kr=fe(y),pn=oe(y)||De(),Br=Ee(y),Jr=Ee(y),dl=st(o),Cc=nt(o),Gt=Et(o)||De(),Ft=Qe(b),Nt=dt(b),Vn=tt(b),zi=Pn(b),ys=It(b),mo=Je(o),fh=He(o),uu=bn(b),Hs=Nr(b),m3=ne(b),ws=$e(y),y3=Ae(y),w3=se(r),x3=ue(r),ph=Bt(v),vh=ut(b)||be(v),Ec=wt(b),gh=Xe(y),b3=Pe(),C3=De(),Hp=Ye(),Bm=kt(),Yp=pe(),Sc=be(v),E3=ut(b)&&!be(v),Xp=vt(o),ln=Ge(o),Um=pt(b),jm=Kn(b),Kp=function(ce){if(!ce||typeof ce!="string"){console.error("No valid user agent string was provided");return}var ve=u(ce),Le=ve.device,Be=ve.browser,Lt=ve.os,Fn=ve.engine,di=ve.ua;return Xt({device:Le,browser:Be,os:Lt,engine:Fn,ua:di})},zm=function(ce){var ve=ce.renderWithFragment,Le=ce.children,Be=A(ce,["renderWithFragment","children"]);return dl?ve?n.createElement(e.Fragment,null,Le):n.createElement("div",Be,Le):null},Wm=function(ce){var ve=ce.renderWithFragment,Le=ce.children,Be=A(ce,["renderWithFragment","children"]);return Br?ve?n.createElement(e.Fragment,null,Le):n.createElement("div",Be,Le):null},Gm=function(ce){var ve=ce.renderWithFragment,Le=ce.children,Be=A(ce,["renderWithFragment","children"]);return ys?ve?n.createElement(e.Fragment,null,Le):n.createElement("div",Be,Le):null},Zp=function(ce){var ve=ce.renderWithFragment,Le=ce.children,Be=A(ce,["renderWithFragment","children"]);return Gt?ve?n.createElement(e.Fragment,null,Le):n.createElement("div",Be,Le):null},mh=function(ce){var ve=ce.renderWithFragment,Le=ce.children,Be=A(ce,["renderWithFragment","children"]);return sr?ve?n.createElement(e.Fragment,null,Le):n.createElement("div",Be,Le):null},yo=function(ce){var ve=ce.renderWithFragment,Le=ce.children,Be=A(ce,["renderWithFragment","children"]);return pn?ve?n.createElement(e.Fragment,null,Le):n.createElement("div",Be,Le):null},wo=function(ce){var ve=ce.renderWithFragment,Le=ce.children,Be=A(ce,["renderWithFragment","children"]);return Cc?ve?n.createElement(e.Fragment,null,Le):n.createElement("div",Be,Le):null},xo=function(ce){var ve=ce.renderWithFragment,Le=ce.children;ce.viewClassName,ce.style;var Be=A(ce,["renderWithFragment","children","viewClassName","style"]);return kr?ve?n.createElement(e.Fragment,null,Le):n.createElement("div",Be,Le):null},Tc=function(ce){var ve=ce.renderWithFragment,Le=ce.children,Be=A(ce,["renderWithFragment","children"]);return Qt?ve?n.createElement(e.Fragment,null,Le):n.createElement("div",Be,Le):null},Ac=function(ce){var ve=ce.renderWithFragment,Le=ce.children,Be=A(ce,["renderWithFragment","children"]);return dn?ve?n.createElement(e.Fragment,null,Le):n.createElement("div",Be,Le):null},bo=function(ce){var ve=ce.renderWithFragment,Le=ce.children,Be=A(ce,["renderWithFragment","children"]);return bt?ve?n.createElement(e.Fragment,null,Le):n.createElement("div",Be,Le):null},S3=function(ce){var ve=ce.renderWithFragment,Le=ce.children;ce.viewClassName,ce.style;var Be=ce.condition,Lt=A(ce,["renderWithFragment","children","viewClassName","style","condition"]);return Be?ve?n.createElement(e.Fragment,null,Le):n.createElement("div",Lt,Le):null};function Vm(Se){return(function(ce){C(ve,ce);function ve(Le){var Be;return h(this,ve),Be=R(this,E(ve).call(this,Le)),Be.isEventListenerAdded=!1,Be.handleOrientationChange=Be.handleOrientationChange.bind(P(Be)),Be.onOrientationChange=Be.onOrientationChange.bind(P(Be)),Be.onPageLoad=Be.onPageLoad.bind(P(Be)),Be.state={isLandscape:!1,isPortrait:!1},Be}return m(ve,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var Be=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:Be===0,isLandscape:Be===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":p(window))!==void 0&&sr&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return n.createElement(Se,w({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),ve})(n.Component)}function Pc(){var Se=e.useState(function(){var Lt=window.innerWidth>window.innerHeight?90:0;return{isPortrait:Lt===0,isLandscape:Lt===90,orientation:Lt===0?"portrait":"landscape"}}),ce=L(Se,2),ve=ce[0],Le=ce[1],Be=e.useCallback(function(){var Lt=window.innerWidth>window.innerHeight?90:0,Fn={isPortrait:Lt===0,isLandscape:Lt===90,orientation:Lt===0?"portrait":"landscape"};ve.orientation!==Fn.orientation&&Le(Fn)},[ve.orientation]);return e.useEffect(function(){return(typeof window>"u"?"undefined":p(window))!==void 0&&sr&&(Be(),window.addEventListener("load",Be,!1),window.addEventListener("resize",Be,!1)),function(){window.removeEventListener("resize",Be,!1),window.removeEventListener("load",Be,!1)}},[Be]),ve}function Hm(Se){var ce=Se||window.navigator.userAgent;return u(ce)}function Ym(Se){var ce=Se||window.navigator.userAgent,ve=Hm(ce),Le=Xt(ve);return[Le,ve]}return ct.AndroidView=zm,ct.BrowserTypes=W,ct.BrowserView=Wm,ct.ConsoleView=Ac,ct.CustomView=S3,ct.IEView=Gm,ct.IOSView=Zp,ct.MobileOnlyView=xo,ct.MobileView=mh,ct.OsTypes=G,ct.SmartTVView=Tc,ct.TabletView=yo,ct.WearableView=bo,ct.WinPhoneView=wo,ct.browserName=m3,ct.browserVersion=Hs,ct.deviceDetect=he,ct.deviceType=gh,ct.engineName=w3,ct.engineVersion=x3,ct.fullBrowserVersion=uu,ct.getSelectorsByUserAgent=Kp,ct.getUA=ph,ct.isAndroid=dl,ct.isBrowser=Br,ct.isChrome=Ft,ct.isChromium=pr,ct.isConsole=dn,ct.isDesktop=Jr,ct.isEdge=vh,ct.isEdgeChromium=Sc,ct.isElectron=Yp,ct.isEmbedded=yn,ct.isFirefox=Nt,ct.isIE=ys,ct.isIOS=Gt,ct.isIOS13=b3,ct.isIPad13=C3,ct.isIPhone13=Hp,ct.isIPod13=Bm,ct.isLegacyEdge=E3,ct.isMIUI=Um,ct.isMacOs=ln,ct.isMobile=sr,ct.isMobileOnly=kr,ct.isMobileSafari=_t,ct.isOpera=zi,ct.isSafari=Vn,ct.isSamsungBrowser=jm,ct.isSmartTV=Qt,ct.isTablet=pn,ct.isWearable=bt,ct.isWinPhone=Cc,ct.isWindows=Xp,ct.isYandex=Ec,ct.mobileModel=y3,ct.mobileVendor=ws,ct.osName=fh,ct.osVersion=mo,ct.parseUserAgent=u,ct.setUserAgent=X,ct.useDeviceData=Hm,ct.useDeviceSelectors=Ym,ct.useMobileOrientation=Pc,ct.withOrientationChange=Vm,ct}var tn=SQ();const TQ="1.1.0";let hs=class c8 extends Error{constructor(e,n={}){const i=n.cause instanceof c8?n.cause.details:n.cause?.message?n.cause.message:n.details,f=n.cause instanceof c8&&n.cause.docsPath||n.docsPath,b=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...f?[`Docs: https://abitype.dev${f}`]:[],...i?[`Details: ${i}`]:[],`Version: abitype@${TQ}`].join(`
`);super(b),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=i,this.docsPath=f,this.metaMessages=n.metaMessages,this.shortMessage=e}};function au(t,e){return t.exec(e)?.groups}const ZN=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,JN=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,QN=/^\(.+?\).*?$/,qP=/^tuple(?<array>(\[(\d*)\])*)$/;function d8(t){let e=t.type;if(qP.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let f=0;f<n;f++){const b=t.components[f];e+=d8(b),f<n-1&&(e+=", ")}const i=au(qP,t.type);return e+=`)${i?.array??""}`,d8({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function bf(t){let e="";const n=t.length;for(let i=0;i<n;i++){const f=t[i];e+=d8(f),i!==n-1&&(e+=", ")}return e}function g2(t){return t.type==="function"?`function ${t.name}(${bf(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${t.outputs?.length?` returns (${bf(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${bf(t.inputs)})`:t.type==="error"?`error ${t.name}(${bf(t.inputs)})`:t.type==="constructor"?`constructor(${bf(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const _N=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function AQ(t){return _N.test(t)}function PQ(t){return au(_N,t)}const qN=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function IQ(t){return qN.test(t)}function RQ(t){return au(qN,t)}const ek=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function MQ(t){return ek.test(t)}function OQ(t){return au(ek,t)}const tk=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Cw(t){return tk.test(t)}function FQ(t){return au(tk,t)}const nk=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function $Q(t){return nk.test(t)}function LQ(t){return au(nk,t)}const rk=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function DQ(t){return rk.test(t)}function NQ(t){return au(rk,t)}const kQ=/^receive\(\) external payable$/;function BQ(t){return kQ.test(t)}const eI=new Set(["memory","indexed","storage","calldata"]),UQ=new Set(["indexed"]),h8=new Set(["calldata","memory","storage"]);class jQ extends hs{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class zQ extends hs{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class WQ extends hs{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class GQ extends hs{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class VQ extends hs{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class HQ extends hs{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class YQ extends hs{constructor({param:e,type:n,modifier:i}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${i}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class XQ extends hs{constructor({param:e,type:n,modifier:i}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${i}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${i}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class KQ extends hs{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Ep extends hs{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class ZQ extends hs{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class JQ extends hs{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class QQ extends hs{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class _Q extends hs{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function qQ(t,e,n){let i="";if(n)for(const f of Object.entries(n)){if(!f)continue;let b="";for(const s of f[1])b+=`[${s.type}${s.name?`:${s.name}`:""}]`;i+=`(${f[0]}{${b}})`}return e?`${e}:${t}${i}`:t}const tb=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function f8(t,e={}){if(MQ(t))return e_(t,e);if(IQ(t))return t_(t,e);if(AQ(t))return n_(t,e);if($Q(t))return r_(t,e);if(DQ(t))return i_(t);if(BQ(t))return{type:"receive",stateMutability:"payable"};throw new ZQ({signature:t})}function e_(t,e={}){const n=OQ(t);if(!n)throw new Ep({signature:t,type:"function"});const i=Ns(n.parameters),f=[],b=i.length;for(let y=0;y<b;y++)f.push(Jl(i[y],{modifiers:h8,structs:e,type:"function"}));const s=[];if(n.returns){const y=Ns(n.returns),r=y.length;for(let o=0;o<r;o++)s.push(Jl(y[o],{modifiers:h8,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:f,outputs:s}}function t_(t,e={}){const n=RQ(t);if(!n)throw new Ep({signature:t,type:"event"});const i=Ns(n.parameters),f=[],b=i.length;for(let s=0;s<b;s++)f.push(Jl(i[s],{modifiers:UQ,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:f}}function n_(t,e={}){const n=PQ(t);if(!n)throw new Ep({signature:t,type:"error"});const i=Ns(n.parameters),f=[],b=i.length;for(let s=0;s<b;s++)f.push(Jl(i[s],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:f}}function r_(t,e={}){const n=LQ(t);if(!n)throw new Ep({signature:t,type:"constructor"});const i=Ns(n.parameters),f=[],b=i.length;for(let s=0;s<b;s++)f.push(Jl(i[s],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:f}}function i_(t){const e=NQ(t);if(!e)throw new Ep({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const s_=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,a_=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,o_=/^u?int$/;function Jl(t,e){const n=qQ(t,e?.type,e?.structs);if(tb.has(n))return tb.get(n);const i=QN.test(t),f=au(i?a_:s_,t);if(!f)throw new VQ({param:t});if(f.name&&u_(f.name))throw new HQ({param:t,name:f.name});const b=f.name?{name:f.name}:{},s=f.modifier==="indexed"?{indexed:!0}:{},y=e?.structs??{};let r,o={};if(i){r="tuple";const c=Ns(f.type),u=[],l=c.length;for(let a=0;a<l;a++)u.push(Jl(c[a],{structs:y}));o={components:u}}else if(f.type in y)r="tuple",o={components:y[f.type]};else if(o_.test(f.type))r=`${f.type}256`;else if(f.type==="address payable")r="address";else if(r=f.type,e?.type!=="struct"&&!ik(r))throw new WQ({type:r});if(f.modifier){if(!e?.modifiers?.has?.(f.modifier))throw new YQ({param:t,type:e?.type,modifier:f.modifier});if(h8.has(f.modifier)&&!c_(r,!!f.array))throw new XQ({param:t,type:e?.type,modifier:f.modifier})}const v={type:`${r}${f.array??""}`,...b,...s,...o};return tb.set(n,v),v}function Ns(t,e=[],n="",i=0){const f=t.trim().length;for(let b=0;b<f;b++){const s=t[b],y=t.slice(b+1);switch(s){case",":return i===0?Ns(y,[...e,n.trim()]):Ns(y,e,`${n}${s}`,i);case"(":return Ns(y,e,`${n}${s}`,i+1);case")":return Ns(y,e,`${n}${s}`,i-1);default:return Ns(y,e,`${n}${s}`,i)}}if(n==="")return e;if(i!==0)throw new _Q({current:n,depth:i});return e.push(n.trim()),e}function ik(t){return t==="address"||t==="bool"||t==="function"||t==="string"||ZN.test(t)||JN.test(t)}const l_=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function u_(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||ZN.test(t)||JN.test(t)||l_.test(t)}function c_(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function y9(t){const e={},n=t.length;for(let s=0;s<n;s++){const y=t[s];if(!Cw(y))continue;const r=FQ(y);if(!r)throw new Ep({signature:y,type:"struct"});const o=r.properties.split(";"),v=[],c=o.length;for(let u=0;u<c;u++){const a=o[u].trim();if(!a)continue;const d=Jl(a,{type:"struct"});v.push(d)}if(!v.length)throw new JQ({signature:y});e[r.name]=v}const i={},f=Object.entries(e),b=f.length;for(let s=0;s<b;s++){const[y,r]=f[s];i[y]=sk(r,e)}return i}const d_=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function sk(t,e,n=new Set){const i=[],f=t.length;for(let b=0;b<f;b++){const s=t[b];if(QN.test(s.type))i.push(s);else{const r=au(d_,s.type);if(!r?.type)throw new KQ({abiParameter:s});const{array:o,type:v}=r;if(v in e){if(n.has(v))throw new QQ({type:v});i.push({...s,type:`tuple${o??""}`,components:sk(e[v]??[],e,new Set([...n,v]))})}else if(ik(v))i.push(s);else throw new zQ({type:v})}}return i}function ak(t){const e=y9(t),n=[],i=t.length;for(let f=0;f<i;f++){const b=t[f];Cw(b)||n.push(f8(b,e))}return n}function tI(t){let e;if(typeof t=="string")e=f8(t);else{const n=y9(t),i=t.length;for(let f=0;f<i;f++){const b=t[f];if(!Cw(b)){e=f8(b,n);break}}}if(!e)throw new jQ({signature:t});return e}function nI(t){const e=[];if(typeof t=="string"){const n=Ns(t),i=n.length;for(let f=0;f<i;f++)e.push(Jl(n[f],{modifiers:eI}))}else{const n=y9(t),i=t.length;for(let f=0;f<i;f++){const b=t[f];if(Cw(b))continue;const s=Ns(b),y=s.length;for(let r=0;r<y;r++)e.push(Jl(s[r],{modifiers:eI,structs:n}))}}if(e.length===0)throw new GQ({params:t});return e}function nr(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const ok="2.38.4";let nb={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${ok}`},Ne=class p8 extends Error{constructor(e,n={}){const i=n.cause instanceof p8?n.cause.details:n.cause?.message?n.cause.message:n.details,f=n.cause instanceof p8&&n.cause.docsPath||n.docsPath,b=nb.getDocsUrl?.({...n,docsPath:f}),s=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...b?[`Docs: ${b}`]:[],...i?[`Details: ${i}`]:[],...nb.version?[`Version: ${nb.version}`]:[]].join(`
`);super(s,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=i,this.docsPath=f,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=ok}walk(e){return lk(this,e)}};function lk(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?lk(t.cause,e):e?null:t}let oc=class extends Ne{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}};function Ti(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}let uk=class extends Ne{constructor({offset:e,position:n,size:i}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${i}).`,{name:"SliceOffsetOutOfBoundsError"})}},ck=class extends Ne{constructor({size:e,targetSize:n,type:i}){super(`${i.charAt(0).toUpperCase()}${i.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class rI extends Ne{constructor({size:e,targetSize:n,type:i}){super(`${i.charAt(0).toUpperCase()}${i.slice(1).toLowerCase()} is expected to be ${n} ${i} long, but is ${e} ${i} long.`,{name:"InvalidBytesLengthError"})}}function Sp(t,{dir:e,size:n=32}={}){return typeof t=="string"?rc(t,{dir:e,size:n}):h_(t,{dir:e,size:n})}function rc(t,{dir:e,size:n=32}={}){if(n===null)return t;const i=t.replace("0x","");if(i.length>n*2)throw new ck({size:Math.ceil(i.length/2),targetSize:n,type:"hex"});return`0x${i[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function h_(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new ck({size:t.length,targetSize:n,type:"bytes"});const i=new Uint8Array(n);for(let f=0;f<n;f++){const b=e==="right";i[b?f:n-f-1]=t[b?f:t.length-f-1]}return i}let dk=class extends Ne{constructor({max:e,min:n,signed:i,size:f,value:b}){super(`Number "${b}" is not in safe ${f?`${f*8}-bit ${i?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},f_=class extends Ne{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class p_ extends Ne{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let v_=class extends Ne{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function tr(t){return Ti(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}function Vl(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,i=0;for(let f=0;f<n.length-1&&n[e==="left"?f:n.length-f-1].toString()==="0";f++)i++;return n=e==="left"?n.slice(i):n.slice(0,n.length-i),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function Ca(t,{size:e}){if(tr(t)>e)throw new v_({givenSize:tr(t),maxSize:e})}function Us(t,e={}){const{signed:n}=e;e.size&&Ca(t,{size:e.size});const i=BigInt(t);if(!n)return i;const f=(t.length-2)/2,b=(1n<<BigInt(f)*8n-1n)-1n;return i<=b?i:i-BigInt(`0x${"f".padStart(f*2,"f")}`)-1n}function g_(t,e={}){let n=t;if(e.size&&(Ca(n,{size:e.size}),n=Vl(n)),Vl(n)==="0x00")return!1;if(Vl(n)==="0x01")return!0;throw new p_(n)}function Qa(t,e={}){return Number(Us(t,e))}function m_(t,e={}){let n=_a(t);return e.size&&(Ca(n,{size:e.size}),n=Vl(n,{dir:"right"})),new TextDecoder().decode(n)}const y_=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function er(t,e={}){return typeof t=="number"||typeof t=="bigint"?xt(t,e):typeof t=="string"?qf(t,e):typeof t=="boolean"?hk(t,e):$r(t,e)}function hk(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Ca(n,{size:e.size}),Sp(n,{size:e.size})):n}function $r(t,e={}){let n="";for(let f=0;f<t.length;f++)n+=y_[t[f]];const i=`0x${n}`;return typeof e.size=="number"?(Ca(i,{size:e.size}),Sp(i,{dir:"right",size:e.size})):i}function xt(t,e={}){const{signed:n,size:i}=e,f=BigInt(t);let b;i?n?b=(1n<<BigInt(i)*8n-1n)-1n:b=2n**(BigInt(i)*8n)-1n:typeof t=="number"&&(b=BigInt(Number.MAX_SAFE_INTEGER));const s=typeof b=="bigint"&&n?-b-1n:0;if(b&&f>b||f<s){const r=typeof t=="bigint"?"n":"";throw new dk({max:b?`${b}${r}`:void 0,min:`${s}${r}`,signed:n,size:i,value:`${t}${r}`})}const y=`0x${(n&&f<0?(1n<<BigInt(i*8))+BigInt(f):f).toString(16)}`;return i?Sp(y,{size:i}):y}const w_=new TextEncoder;function qf(t,e={}){const n=w_.encode(t);return $r(n,e)}const x_=new TextEncoder;function Tp(t,e={}){return typeof t=="number"||typeof t=="bigint"?C_(t,e):typeof t=="boolean"?b_(t,e):Ti(t)?_a(t,e):fd(t,e)}function b_(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Ca(n,{size:e.size}),Sp(n,{size:e.size})):n}const xl={zero:48,nine:57,A:65,F:70,a:97,f:102};function iI(t){if(t>=xl.zero&&t<=xl.nine)return t-xl.zero;if(t>=xl.A&&t<=xl.F)return t-(xl.A-10);if(t>=xl.a&&t<=xl.f)return t-(xl.a-10)}function _a(t,e={}){let n=t;e.size&&(Ca(n,{size:e.size}),n=Sp(n,{dir:"right",size:e.size}));let i=n.slice(2);i.length%2&&(i=`0${i}`);const f=i.length/2,b=new Uint8Array(f);for(let s=0,y=0;s<f;s++){const r=iI(i.charCodeAt(y++)),o=iI(i.charCodeAt(y++));if(r===void 0||o===void 0)throw new Ne(`Invalid byte sequence ("${i[y-2]}${i[y-1]}" in "${i}").`);b[s]=r*16+o}return b}function C_(t,e){const n=xt(t,e);return _a(n)}function fd(t,e={}){const n=x_.encode(t);return typeof e.size=="number"?(Ca(n,{size:e.size}),Sp(n,{dir:"right",size:e.size})):n}const V1=BigInt(2**32-1),sI=BigInt(32);function E_(t,e=!1){return e?{h:Number(t&V1),l:Number(t>>sI&V1)}:{h:Number(t>>sI&V1)|0,l:Number(t&V1)|0}}function S_(t,e=!1){const n=t.length;let i=new Uint32Array(n),f=new Uint32Array(n);for(let b=0;b<n;b++){const{h:s,l:y}=E_(t[b],e);[i[b],f[b]]=[s,y]}return[i,f]}const T_=(t,e,n)=>t<<n|e>>>32-n,A_=(t,e,n)=>e<<n|t>>>32-n,P_=(t,e,n)=>e<<n-32|t>>>64-n,I_=(t,e,n)=>t<<n-32|e>>>64-n,Gh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function R_(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function kv(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Ed(t,...e){if(!R_(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function M_(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");kv(t.outputLen),kv(t.blockLen)}function ep(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function fk(t,e){Ed(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function O_(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function tp(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function rb(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ao(t,e){return t<<32-e|t>>>e}const F_=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function $_(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function L_(t){for(let e=0;e<t.length;e++)t[e]=$_(t[e]);return t}const aI=F_?t=>t:L_;function D_(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Ew(t){return typeof t=="string"&&(t=D_(t)),Ed(t),t}function N_(...t){let e=0;for(let i=0;i<t.length;i++){const f=t[i];Ed(f),e+=f.length}const n=new Uint8Array(e);for(let i=0,f=0;i<t.length;i++){const b=t[i];n.set(b,f),f+=b.length}return n}let w9=class{};function pk(t){const e=i=>t().update(Ew(i)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function k_(t=32){if(Gh&&typeof Gh.getRandomValues=="function")return Gh.getRandomValues(new Uint8Array(t));if(Gh&&typeof Gh.randomBytes=="function")return Uint8Array.from(Gh.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const B_=BigInt(0),T0=BigInt(1),U_=BigInt(2),j_=BigInt(7),z_=BigInt(256),W_=BigInt(113),vk=[],gk=[],mk=[];for(let t=0,e=T0,n=1,i=0;t<24;t++){[n,i]=[i,(2*n+3*i)%5],vk.push(2*(5*i+n)),gk.push((t+1)*(t+2)/2%64);let f=B_;for(let b=0;b<7;b++)e=(e<<T0^(e>>j_)*W_)%z_,e&U_&&(f^=T0<<(T0<<BigInt(b))-T0);mk.push(f)}const yk=S_(mk,!0),G_=yk[0],V_=yk[1],oI=(t,e,n)=>n>32?P_(t,e,n):T_(t,e,n),lI=(t,e,n)=>n>32?I_(t,e,n):A_(t,e,n);function H_(t,e=24){const n=new Uint32Array(10);for(let i=24-e;i<24;i++){for(let s=0;s<10;s++)n[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const y=(s+8)%10,r=(s+2)%10,o=n[r],v=n[r+1],c=oI(o,v,1)^n[y],u=lI(o,v,1)^n[y+1];for(let l=0;l<50;l+=10)t[s+l]^=c,t[s+l+1]^=u}let f=t[2],b=t[3];for(let s=0;s<24;s++){const y=gk[s],r=oI(f,b,y),o=lI(f,b,y),v=vk[s];f=t[v],b=t[v+1],t[v]=r,t[v+1]=o}for(let s=0;s<50;s+=10){for(let y=0;y<10;y++)n[y]=t[s+y];for(let y=0;y<10;y++)t[s+y]^=~n[(y+2)%10]&n[(y+4)%10]}t[0]^=G_[i],t[1]^=V_[i]}tp(n)}let Y_=class wk extends w9{constructor(e,n,i,f=!1,b=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=i,this.enableXOF=f,this.rounds=b,kv(i),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=O_(this.state)}clone(){return this._cloneInto()}keccak(){aI(this.state32),H_(this.state32,this.rounds),aI(this.state32),this.posOut=0,this.pos=0}update(e){ep(this),e=Ew(e),Ed(e);const{blockLen:n,state:i}=this,f=e.length;for(let b=0;b<f;){const s=Math.min(n-this.pos,f-b);for(let y=0;y<s;y++)i[this.pos++]^=e[b++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:i,blockLen:f}=this;e[i]^=n,(n&128)!==0&&i===f-1&&this.keccak(),e[f-1]^=128,this.keccak()}writeInto(e){ep(this,!1),Ed(e),this.finish();const n=this.state,{blockLen:i}=this;for(let f=0,b=e.length;f<b;){this.posOut>=i&&this.keccak();const s=Math.min(i-this.posOut,b-f);e.set(n.subarray(this.posOut,this.posOut+s),f),this.posOut+=s,f+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return kv(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(fk(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,tp(this.state)}_cloneInto(e){const{blockLen:n,suffix:i,outputLen:f,rounds:b,enableXOF:s}=this;return e||(e=new wk(n,i,f,s,b)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=b,e.suffix=i,e.outputLen=f,e.enableXOF=s,e.destroyed=this.destroyed,e}};const X_=(t,e,n)=>pk(()=>new Y_(e,t,n)),xk=X_(1,136,256/8);function oi(t,e){const n=e||"hex",i=xk(Ti(t,{strict:!1})?Tp(t):t);return n==="bytes"?i:er(i)}let Zg=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const i=this.keys().next().value;i&&this.delete(i)}return this}};const K_=/^0x[a-fA-F0-9]{40}$/,ib=new Zg(8192);function ds(t,e){const{strict:n=!0}=e??{},i=`${t}.${n}`;if(ib.has(i))return ib.get(i);const f=K_.test(t)?t.toLowerCase()===t?!0:n?Jg(t)===t:!0:!1;return ib.set(i,f),f}const sb=new Zg(8192);function Jg(t,e){if(sb.has(`${t}.${e}`))return sb.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),i=oi(fd(n),"bytes"),f=n.split("");for(let s=0;s<40;s+=2)i[s>>1]>>4>=8&&f[s]&&(f[s]=f[s].toUpperCase()),(i[s>>1]&15)>=8&&f[s+1]&&(f[s+1]=f[s+1].toUpperCase());const b=`0x${f.join("")}`;return sb.set(`${t}.${e}`,b),b}function yr(t,e){if(!ds(t,{strict:!1}))throw new oc({address:t});return Jg(t,e)}function Z_(t){const e=oi(`0x${t.substring(4)}`).substring(26);return Jg(`0x${e}`)}function qa(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new lq(t.type);return`${t.name}(${Sw(t.inputs,{includeName:e})})`}function Sw(t,{includeName:e=!1}={}){return t?t.map(n=>J_(n,{includeName:e})).join(e?", ":","):""}function J_(t,{includeName:e}){return t.type.startsWith("tuple")?`(${Sw(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}class Q_ extends Ne{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class uI extends Ne{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class bk extends Ne{constructor({data:e,params:n,size:i}){super([`Data size of ${i} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Sw(n,{includeName:!0})})`,`Data:   ${e} (${i} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=i}}class Qg extends Ne{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class __ extends Ne{constructor({expectedLength:e,givenLength:n,type:i}){super([`ABI encoding array length mismatch for type ${i}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class q_ extends Ne{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${tr(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class eq extends Ne{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class tq extends Ne{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class cI extends Ne{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class Ck extends Ne{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class nq extends Ne{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class Ek extends Ne{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class dI extends Ne{constructor(e,{docsPath:n}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class np extends Ne{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class Sk extends Ne{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class rq extends Ne{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class iq extends Ne{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${qa(e.abiItem)}\`, and`,`\`${n.type}\` in \`${qa(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let sq=class extends Ne{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class Bv extends Ne{constructor({abiItem:e,data:n,params:i,size:f}){super([`Data size of ${f} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Sw(i,{includeName:!0})})`,`Data:   ${n} (${f} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=i,this.size=f}}class Tw extends Ne{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${qa(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class aq extends Ne{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class oq extends Ne{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let Tk=class extends Ne{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class lq extends Ne{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class sGe extends Ne{constructor(e){super(`Type "${e}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}let hI=class extends Ne{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}},Ak=class extends Ne{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}},uq=class extends Ne{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}};const cq={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new uq({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new Ak({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new hI({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new hI({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function x9(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(cq);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function rp(t,e,n,{strict:i}={}){return Ti(t,{strict:!1})?v8(t,e,n,{strict:i}):Rk(t,e,n,{strict:i})}function Pk(t,e){if(typeof e=="number"&&e>0&&e>tr(t)-1)throw new uk({offset:e,position:"start",size:tr(t)})}function Ik(t,e,n){if(typeof e=="number"&&typeof n=="number"&&tr(t)!==n-e)throw new uk({offset:n,position:"end",size:tr(t)})}function Rk(t,e,n,{strict:i}={}){Pk(t,e);const f=t.slice(e,n);return i&&Ik(f,e,n),f}function v8(t,e,n,{strict:i}={}){Pk(t,e);const f=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return i&&Ik(f,e,n),f}function dq(t,e={}){typeof e.size<"u"&&Ca(t,{size:e.size});const n=$r(t,e);return Us(n,e)}function hq(t,e={}){let n=t;if(typeof e.size<"u"&&(Ca(n,{size:e.size}),n=Vl(n)),n.length>1||n[0]>1)throw new f_(n);return!!n[0]}function Hl(t,e={}){typeof e.size<"u"&&Ca(t,{size:e.size});const n=$r(t,e);return Qa(n,e)}function fq(t,e={}){let n=t;return typeof e.size<"u"&&(Ca(n,{size:e.size}),n=Vl(n,{dir:"right"})),new TextDecoder().decode(n)}function ga(t){return typeof t[0]=="string"?Ap(t):pq(t)}function pq(t){let e=0;for(const f of t)e+=f.length;const n=new Uint8Array(e);let i=0;for(const f of t)n.set(f,i),i+=f.length;return n}function Ap(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}const uGe=/^(.*)\[([0-9]*)\]$/,vq=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Mk=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Gd(t,e){if(t.length!==e.length)throw new eq({expectedLength:t.length,givenLength:e.length});const n=gq({params:t,values:e}),i=C9(n);return i.length===0?"0x":i}function gq({params:t,values:e}){const n=[];for(let i=0;i<t.length;i++)n.push(b9({param:t[i],value:e[i]}));return n}function b9({param:t,value:e}){const n=E9(t.type);if(n){const[i,f]=n;return yq(e,{length:i,param:{...t,type:f}})}if(t.type==="tuple")return Eq(e,{param:t});if(t.type==="address")return mq(e);if(t.type==="bool")return xq(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const i=t.type.startsWith("int"),[,,f="256"]=Mk.exec(t.type)??[];return bq(e,{signed:i,size:Number(f)})}if(t.type.startsWith("bytes"))return wq(e,{param:t});if(t.type==="string")return Cq(e);throw new aq(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function C9(t){let e=0;for(let b=0;b<t.length;b++){const{dynamic:s,encoded:y}=t[b];s?e+=32:e+=tr(y)}const n=[],i=[];let f=0;for(let b=0;b<t.length;b++){const{dynamic:s,encoded:y}=t[b];s?(n.push(xt(e+f,{size:32})),i.push(y),f+=tr(y)):n.push(y)}return ga([...n,...i])}function mq(t){if(!ds(t))throw new oc({address:t});return{dynamic:!1,encoded:rc(t.toLowerCase())}}function yq(t,{length:e,param:n}){const i=e===null;if(!Array.isArray(t))throw new Tk(t);if(!i&&t.length!==e)throw new __({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let f=!1;const b=[];for(let s=0;s<t.length;s++){const y=b9({param:n,value:t[s]});y.dynamic&&(f=!0),b.push(y)}if(i||f){const s=C9(b);if(i){const y=xt(b.length,{size:32});return{dynamic:!0,encoded:b.length>0?ga([y,s]):y}}if(f)return{dynamic:!0,encoded:s}}return{dynamic:!1,encoded:ga(b.map(({encoded:s})=>s))}}function wq(t,{param:e}){const[,n]=e.type.split("bytes"),i=tr(t);if(!n){let f=t;return i%32!==0&&(f=rc(f,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:ga([rc(xt(i,{size:32})),f])}}if(i!==Number.parseInt(n,10))throw new q_({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:rc(t,{dir:"right"})}}function xq(t){if(typeof t!="boolean")throw new Ne(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:rc(hk(t))}}function bq(t,{signed:e,size:n=256}){if(typeof n=="number"){const i=2n**(BigInt(n)-(e?1n:0n))-1n,f=e?-i-1n:0n;if(t>i||t<f)throw new dk({max:i.toString(),min:f.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:xt(t,{size:32,signed:e})}}function Cq(t){const e=qf(t),n=Math.ceil(tr(e)/32),i=[];for(let f=0;f<n;f++)i.push(rc(rp(e,f*32,(f+1)*32),{dir:"right"}));return{dynamic:!0,encoded:ga([rc(xt(tr(e),{size:32})),...i])}}function Eq(t,{param:e}){let n=!1;const i=[];for(let f=0;f<e.components.length;f++){const b=e.components[f],s=Array.isArray(t)?f:b.name,y=b9({param:b,value:t[s]});i.push(y),y.dynamic&&(n=!0)}return{dynamic:n,encoded:n?C9(i):ga(i.map(({encoded:f})=>f))}}function E9(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function Pp(t,e){const n=typeof e=="string"?_a(e):e,i=x9(n);if(tr(n)===0&&t.length>0)throw new Qg;if(tr(e)&&tr(e)<32)throw new bk({data:typeof e=="string"?e:$r(e),params:t,size:tr(e)});let f=0;const b=[];for(let s=0;s<t.length;++s){const y=t[s];i.setPosition(f);const[r,o]=Uf(i,y,{staticPosition:0});f+=o,b.push(r)}return b}function Uf(t,e,{staticPosition:n}){const i=E9(e.type);if(i){const[f,b]=i;return Tq(t,{...e,type:b},{length:f,staticPosition:n})}if(e.type==="tuple")return Rq(t,e,{staticPosition:n});if(e.type==="address")return Sq(t);if(e.type==="bool")return Aq(t);if(e.type.startsWith("bytes"))return Pq(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return Iq(t,e);if(e.type==="string")return Mq(t,{staticPosition:n});throw new oq(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const fI=32,g8=32;function Sq(t){const e=t.readBytes(32);return[Jg($r(Rk(e,-20))),32]}function Tq(t,e,{length:n,staticPosition:i}){if(!n){const s=Hl(t.readBytes(g8)),y=i+s,r=y+fI;t.setPosition(y);const o=Hl(t.readBytes(fI)),v=Uv(e);let c=0;const u=[];for(let l=0;l<o;++l){t.setPosition(r+(v?l*32:c));const[a,d]=Uf(t,e,{staticPosition:r});c+=d,u.push(a)}return t.setPosition(i+32),[u,32]}if(Uv(e)){const s=Hl(t.readBytes(g8)),y=i+s,r=[];for(let o=0;o<n;++o){t.setPosition(y+o*32);const[v]=Uf(t,e,{staticPosition:y});r.push(v)}return t.setPosition(i+32),[r,32]}let f=0;const b=[];for(let s=0;s<n;++s){const[y,r]=Uf(t,e,{staticPosition:i+f});f+=r,b.push(y)}return[b,f]}function Aq(t){return[hq(t.readBytes(32),{size:32}),32]}function Pq(t,e,{staticPosition:n}){const[i,f]=e.type.split("bytes");if(!f){const s=Hl(t.readBytes(32));t.setPosition(n+s);const y=Hl(t.readBytes(32));if(y===0)return t.setPosition(n+32),["0x",32];const r=t.readBytes(y);return t.setPosition(n+32),[$r(r),32]}return[$r(t.readBytes(Number.parseInt(f,10),32)),32]}function Iq(t,e){const n=e.type.startsWith("int"),i=Number.parseInt(e.type.split("int")[1]||"256",10),f=t.readBytes(32);return[i>48?dq(f,{signed:n}):Hl(f,{signed:n}),32]}function Rq(t,e,{staticPosition:n}){const i=e.components.length===0||e.components.some(({name:s})=>!s),f=i?[]:{};let b=0;if(Uv(e)){const s=Hl(t.readBytes(g8)),y=n+s;for(let r=0;r<e.components.length;++r){const o=e.components[r];t.setPosition(y+b);const[v,c]=Uf(t,o,{staticPosition:y});b+=c,f[i?r:o?.name]=v}return t.setPosition(n+32),[f,32]}for(let s=0;s<e.components.length;++s){const y=e.components[s],[r,o]=Uf(t,y,{staticPosition:n});f[i?s:y?.name]=r,b+=o}return[f,b]}function Mq(t,{staticPosition:e}){const n=Hl(t.readBytes(32)),i=e+n;t.setPosition(i);const f=Hl(t.readBytes(32));if(f===0)return t.setPosition(e+32),["",32];const b=t.readBytes(f,32),s=fq(Vl(b));return t.setPosition(e+32),[s,32]}function Uv(t){const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return t.components?.some(Uv);const n=E9(t.type);return!!(n&&Uv({...t,type:n[1]}))}const Oq={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Ok={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Fq={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"},$q=t=>oi(Tp(t));function Lq(t){return $q(t)}function Dq(t){let e=!0,n="",i=0,f="",b=!1;for(let s=0;s<t.length;s++){const y=t[s];if(["(",")",","].includes(y)&&(e=!0),y==="("&&i++,y===")"&&i--,!!e){if(i===0){if(y===" "&&["event","function",""].includes(f))f="";else if(f+=y,y===")"){b=!0;break}continue}if(y===" "){t[s-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}f+=y,n+=y}}if(!b)throw new Ne("Unable to normalize signature.");return f}const Nq=t=>{const e=typeof t=="string"?t:g2(t);return Dq(e)};function Fk(t){return Lq(Nq(t))}const _g=t=>rp(Fk(t),0,4);function kq(t){const{abi:e,data:n}=t,i=rp(n,0,4);if(i==="0x")throw new Qg;const b=[...e||[],Ok,Fq].find(s=>s.type==="error"&&i===_g(qa(s)));if(!b)throw new Ck(i,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:b,args:"inputs"in b&&b.inputs&&b.inputs.length>0?Pp(b.inputs,rp(n,4)):void 0,errorName:b.name}}const Aw=Fk,pI="/docs/contract/decodeEventLog";function S9(t){const{abi:e,data:n,strict:i,topics:f}=t,b=i??!0,[s,...y]=f;if(!s)throw new nq({docsPath:pI});const r=e.find(d=>d.type==="event"&&s===Aw(qa(d)));if(!(r&&"name"in r)||r.type!=="event")throw new Ek(s,{docsPath:pI});const{name:o,inputs:v}=r,c=v?.some(d=>!("name"in d&&d.name)),u=c?[]:{},l=v.map((d,p)=>[d,p]).filter(([d])=>"indexed"in d&&d.indexed);for(let d=0;d<l.length;d++){const[p,h]=l[d],g=y[d];if(!g)throw new Tw({abiItem:r,param:p});u[c?h:p.name||h]=Bq({param:p,value:g})}const a=v.filter(d=>!("indexed"in d&&d.indexed));if(a.length>0){if(n&&n!=="0x")try{const d=Pp(a,n);if(d)if(c)for(let p=0;p<v.length;p++)u[p]=u[p]??d.shift();else for(let p=0;p<a.length;p++)u[a[p].name]=d[p]}catch(d){if(b)throw d instanceof bk||d instanceof Ak?new Bv({abiItem:r,data:n,params:a,size:tr(n)}):d}else if(b)throw new Bv({abiItem:r,data:"0x",params:a,size:0})}return{eventName:o,args:Object.values(u).length>0?u:void 0}}function Bq({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(Pp([t],e)||[])[0]}function $k(t){const{abi:e,data:n}=t,i=rp(n,0,4),f=e.find(b=>b.type==="function"&&i===_g(qa(b)));if(!f)throw new rq(i,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:f.name,args:"inputs"in f&&f.inputs&&f.inputs.length>0?Pp(f.inputs,rp(n,4)):void 0}}function Vd(t){const{abi:e,args:n=[],name:i}=t,f=Ti(i,{strict:!1}),b=e.filter(y=>f?y.type==="function"?_g(y)===i:y.type==="event"?Aw(y)===i:!1:"name"in y&&y.name===i);if(b.length===0)return;if(b.length===1)return b[0];let s;for(const y of b){if(!("inputs"in y))continue;if(!n||n.length===0){if(!y.inputs||y.inputs.length===0)return y;continue}if(!y.inputs||y.inputs.length===0||y.inputs.length!==n.length)continue;if(n.every((o,v)=>{const c="inputs"in y&&y.inputs[v];return c?m8(o,c):!1})){if(s&&"inputs"in s&&s.inputs){const o=Lk(y.inputs,s.inputs,n);if(o)throw new iq({abiItem:y,type:o[0]},{abiItem:s,type:o[1]})}s=y}}return s||b[0]}function m8(t,e){const n=typeof t,i=e.type;switch(i){case"address":return ds(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return i==="tuple"&&"components"in e?Object.values(e.components).every((f,b)=>m8(Object.values(t)[b],f)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(i)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(i)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(i)?Array.isArray(t)&&t.every(f=>m8(f,{...e,type:i.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Lk(t,e,n){for(const i in t){const f=t[i],b=e[i];if(f.type==="tuple"&&b.type==="tuple"&&"components"in f&&"components"in b)return Lk(f.components,b.components,n[i]);const s=[f.type,b.type];if(s.includes("address")&&s.includes("bytes20")?!0:s.includes("address")&&s.includes("string")?ds(n[i],{strict:!1}):s.includes("address")&&s.includes("bytes")?ds(n[i],{strict:!1}):!1)return s}}const ab="/docs/contract/decodeFunctionResult";function Hd(t){const{abi:e,args:n,functionName:i,data:f}=t;let b=e[0];if(i){const y=Vd({abi:e,args:n,name:i});if(!y)throw new np(i,{docsPath:ab});b=y}if(b.type!=="function")throw new np(void 0,{docsPath:ab});if(!b.outputs)throw new Sk(b.name,{docsPath:ab});const s=Pp(b.outputs,f);if(s&&s.length>1)return s;if(s&&s.length===1)return s[0]}const ob="/docs/contract/encodeDeployData";function Pw(t){const{abi:e,args:n,bytecode:i}=t;if(!n||n.length===0)return i;const f=e.find(s=>"type"in s&&s.type==="constructor");if(!f)throw new Q_({docsPath:ob});if(!("inputs"in f))throw new uI({docsPath:ob});if(!f.inputs||f.inputs.length===0)throw new uI({docsPath:ob});const b=Gd(f.inputs,n);return Ap([i,b])}const lb="/docs/contract/encodeErrorResult";function vI(t){const{abi:e,errorName:n,args:i}=t;let f=e[0];if(n){const r=Vd({abi:e,args:i,name:n});if(!r)throw new cI(n,{docsPath:lb});f=r}if(f.type!=="error")throw new cI(void 0,{docsPath:lb});const b=qa(f),s=_g(b);let y="0x";if(i&&i.length>0){if(!f.inputs)throw new tq(f.name,{docsPath:lb});y=Gd(f.inputs,i)}return Ap([s,y])}class Uq extends Ne{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const gI="/docs/contract/encodeEventTopics";function qg(t){const{abi:e,eventName:n,args:i}=t;let f=e[0];if(n){const r=Vd({abi:e,name:n});if(!r)throw new dI(n,{docsPath:gI});f=r}if(f.type!=="event")throw new dI(void 0,{docsPath:gI});const b=qa(f),s=Aw(b);let y=[];if(i&&"inputs"in f){const r=f.inputs?.filter(v=>"indexed"in v&&v.indexed),o=Array.isArray(i)?i:Object.values(i).length>0?r?.map(v=>i[v.name])??[]:[];o.length>0&&(y=r?.map((v,c)=>Array.isArray(o[c])?o[c].map((u,l)=>mI({param:v,value:o[c][l]})):typeof o[c]<"u"&&o[c]!==null?mI({param:v,value:o[c]}):null)??[])}return[s,...y]}function mI({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return oi(Tp(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new Uq(t.type);return Gd([t],[e])}const yI="/docs/contract/encodeFunctionData";function jq(t){const{abi:e,args:n,functionName:i}=t;let f=e[0];if(i){const b=Vd({abi:e,args:n,name:i});if(!b)throw new np(i,{docsPath:yI});f=b}if(f.type!=="function")throw new np(void 0,{docsPath:yI});return{abi:[f],functionName:_g(qa(f))}}function fs(t){const{args:e}=t,{abi:n,functionName:i}=t.abi.length===1&&t.functionName?.startsWith("0x")?t:jq(t),f=n[0],b=i,s="inputs"in f&&f.inputs?Gd(f.inputs,e??[]):void 0;return Ap([b,s??"0x"])}const ub="/docs/contract/encodeFunctionResult";function zq(t){const{abi:e,functionName:n,result:i}=t;let f=e[0];if(n){const s=Vd({abi:e,name:n});if(!s)throw new np(n,{docsPath:ub});f=s}if(f.type!=="function")throw new np(void 0,{docsPath:ub});if(!f.outputs)throw new Sk(f.name,{docsPath:ub});const b=(()=>{if(f.outputs.length===0)return[];if(f.outputs.length===1)return[i];if(Array.isArray(i))return i;throw new Tk(i)})();return Gd(f.outputs,b)}const Fr=(t,e,n)=>JSON.stringify(t,(i,f)=>typeof f=="bigint"?f.toString():f,n);function Dk({abiItem:t,args:e,includeFunctionName:n=!0,includeName:i=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((f,b)=>`${i&&f.name?`${f.name}: `:""}${typeof e[b]=="object"?Fr(e[b]):e[b]}`).join(", ")})`}function em(t,e){if(!ds(t,{strict:!1}))throw new oc({address:t});if(!ds(e,{strict:!1}))throw new oc({address:e});return t.toLowerCase()===e.toLowerCase()}function T9(t){const{abi:e,args:n,logs:i,strict:f=!0}=t,b=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return i.map(s=>{try{const y=e.find(o=>o.type==="event"&&s.topics[0]===Aw(o));if(!y)return null;const r=S9({...s,abi:[y],strict:f});return b&&!b.includes(r.eventName)||!Wq({args:r.args,inputs:y.inputs,matchArgs:n})?null:{...r,...s}}catch(y){let r,o;if(y instanceof Ek)return null;if(y instanceof Bv||y instanceof Tw){if(f)return null;r=y.abiItem.name,o=y.abiItem.inputs?.some(v=>!("name"in v&&v.name))}return{...s,args:o?[]:{},eventName:r}}}).filter(Boolean)}function Wq(t){const{args:e,inputs:n,matchArgs:i}=t;if(!i)return!0;if(!e)return!1;function f(b,s,y){try{return b.type==="address"?em(s,y):b.type==="string"||b.type==="bytes"?oi(Tp(s))===y:s===y}catch{return!1}}return Array.isArray(e)&&Array.isArray(i)?i.every((b,s)=>{if(b==null)return!0;const y=n[s];return y?(Array.isArray(b)?b:[b]).some(o=>f(y,o,e[s])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof i=="object"&&!Array.isArray(i)?Object.entries(i).every(([b,s])=>{if(s==null)return!0;const y=n.find(o=>o.name===b);return y?(Array.isArray(s)?s:[s]).some(o=>f(y,o,e[b])):!1}):!1}function Gq(t,e="hex"){const n=Nk(t),i=x9(new Uint8Array(n.length));return n.encode(i),e==="hex"?$r(i.bytes):i.bytes}function Nk(t){return Array.isArray(t)?Vq(t.map(e=>Nk(e))):Hq(t)}function Vq(t){const e=t.reduce((f,b)=>f+b.length,0),n=kk(e);return{length:e<=55?1+e:1+n+e,encode(f){e<=55?f.pushByte(192+e):(f.pushByte(247+n),n===1?f.pushUint8(e):n===2?f.pushUint16(e):n===3?f.pushUint24(e):f.pushUint32(e));for(const{encode:b}of t)b(f)}}}function Hq(t){const e=typeof t=="string"?_a(t):t,n=kk(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(f){e.length===1&&e[0]<128?f.pushBytes(e):e.length<=55?(f.pushByte(128+e.length),f.pushBytes(e)):(f.pushByte(183+n),n===1?f.pushUint8(e.length):n===2?f.pushUint16(e.length):n===3?f.pushUint24(e.length):f.pushUint32(e.length),f.pushBytes(e))}}}function kk(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new Ne("Length is too large.")}function Yq(t){const{chainId:e,nonce:n,to:i}=t,f=t.contractAddress??t.address,b=oi(Ap(["0x05",Gq([e?xt(e):"0x",f,n?xt(n):"0x"])]));return i==="bytes"?_a(b):b}async function Xq({hash:t,signature:e}){const n=Ti(t)?t:er(t),{secp256k1:i}=await Ko(async()=>{const{secp256k1:s}=await Promise.resolve().then(()=>Bne);return{secp256k1:s}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:o,s:v,v:c,yParity:u}=e,l=Number(u??c),a=wI(l);return new i.Signature(Us(o),Us(v)).addRecoveryBit(a)}const s=Ti(e)?e:er(e);if(tr(s)!==65)throw new Error("invalid signature length");const y=Qa(`0x${s.slice(130)}`),r=wI(y);return i.Signature.fromCompact(s.substring(2,130)).addRecoveryBit(r)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function wI(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function Bk({hash:t,signature:e}){return Z_(await Xq({hash:t,signature:e}))}async function Iw(t){const{authorization:e,signature:n}=t;return Bk({hash:Yq(e),signature:n??e})}const Uk={gwei:9,wei:18},Kq={ether:-9,wei:9};function as(t,e){let n=t.toString();const i=n.startsWith("-");i&&(n=n.slice(1)),n=n.padStart(e,"0");let[f,b]=[n.slice(0,n.length-e),n.slice(n.length-e)];return b=b.replace(/(0+)$/,""),`${i?"-":""}${f||"0"}${b?`.${b}`:""}`}function Yd(t,e="wei"){return as(t,Uk[e])}function us(t,e="wei"){return as(t,Kq[e])}function tm(t){const e=Object.entries(t).map(([i,f])=>f===void 0||f===!1?null:[i,f]).filter(Boolean),n=e.reduce((i,[f])=>Math.max(i,f.length),0);return e.map(([i,f])=>`  ${`${i}:`.padEnd(n+1)}  ${f}`).join(`
`)}class Zq extends Ne{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class Jq extends Ne{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",tm(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class Qq extends Ne{constructor(e,{account:n,docsPath:i,chain:f,data:b,gas:s,gasPrice:y,maxFeePerGas:r,maxPriorityFeePerGas:o,nonce:v,to:c,value:u}){const l=tm({chain:f&&`${f?.name} (id: ${f?.id})`,from:n?.address,to:c,value:typeof u<"u"&&`${Yd(u)} ${f?.nativeCurrency?.symbol||"ETH"}`,data:b,gas:s,gasPrice:typeof y<"u"&&`${us(y)} gwei`,maxFeePerGas:typeof r<"u"&&`${us(r)} gwei`,maxPriorityFeePerGas:typeof o<"u"&&`${us(o)} gwei`,nonce:v});super(e.shortMessage,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",l].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class jk extends Ne{constructor({blockHash:e,blockNumber:n,blockTag:i,hash:f,index:b}){let s="Transaction";i&&b!==void 0&&(s=`Transaction at block time "${i}" at index "${b}"`),e&&b!==void 0&&(s=`Transaction at block hash "${e}" at index "${b}"`),n&&b!==void 0&&(s=`Transaction at block number "${n}" at index "${b}"`),f&&(s=`Transaction with hash "${f}"`),super(`${s} could not be found.`,{name:"TransactionNotFoundError"})}}class zk extends Ne{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class Wk extends Ne{constructor({receipt:e}){super(`Transaction with hash "${e.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=e}}class _q extends Ne{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}function Gk(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),i=typeof t.blobs[0]=="string"?t.blobs.map(b=>_a(b)):t.blobs,f=[];for(const b of i)f.push(Uint8Array.from(e.blobToKzgCommitment(b)));return n==="bytes"?f:f.map(b=>$r(b))}function Vk(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),i=typeof t.blobs[0]=="string"?t.blobs.map(s=>_a(s)):t.blobs,f=typeof t.commitments[0]=="string"?t.commitments.map(s=>_a(s)):t.commitments,b=[];for(let s=0;s<i.length;s++){const y=i[s],r=f[s];b.push(Uint8Array.from(e.computeBlobKzgProof(y,r)))}return n==="bytes"?b:b.map(s=>$r(s))}function qq(t,e,n,i){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,i);const f=BigInt(32),b=BigInt(4294967295),s=Number(n>>f&b),y=Number(n&b),r=i?4:0,o=i?0:4;t.setUint32(e+r,s,i),t.setUint32(e+o,y,i)}function eee(t,e,n){return t&e^~t&n}function tee(t,e,n){return t&e^t&n^e&n}let nee=class extends w9{constructor(e,n,i,f){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=i,this.isLE=f,this.buffer=new Uint8Array(e),this.view=rb(this.buffer)}update(e){ep(this),e=Ew(e),Ed(e);const{view:n,buffer:i,blockLen:f}=this,b=e.length;for(let s=0;s<b;){const y=Math.min(f-this.pos,b-s);if(y===f){const r=rb(e);for(;f<=b-s;s+=f)this.process(r,s);continue}i.set(e.subarray(s,s+y),this.pos),this.pos+=y,s+=y,this.pos===f&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ep(this),fk(e,this),this.finished=!0;const{buffer:n,view:i,blockLen:f,isLE:b}=this;let{pos:s}=this;n[s++]=128,tp(this.buffer.subarray(s)),this.padOffset>f-s&&(this.process(i,0),s=0);for(let c=s;c<f;c++)n[c]=0;qq(i,f-8,BigInt(this.length*8),b),this.process(i,0);const y=rb(e),r=this.outputLen;if(r%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const o=r/4,v=this.get();if(o>v.length)throw new Error("_sha2: outputLen bigger than state");for(let c=0;c<o;c++)y.setUint32(4*c,v[c],b)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const i=e.slice(0,n);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:i,length:f,finished:b,destroyed:s,pos:y}=this;return e.destroyed=s,e.finished=b,e.length=f,e.pos=y,f%n&&e.buffer.set(i),e}clone(){return this._cloneInto()}};const Su=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ree=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Tu=new Uint32Array(64);let iee=class extends nee{constructor(e=32){super(64,e,8,!1),this.A=Su[0]|0,this.B=Su[1]|0,this.C=Su[2]|0,this.D=Su[3]|0,this.E=Su[4]|0,this.F=Su[5]|0,this.G=Su[6]|0,this.H=Su[7]|0}get(){const{A:e,B:n,C:i,D:f,E:b,F:s,G:y,H:r}=this;return[e,n,i,f,b,s,y,r]}set(e,n,i,f,b,s,y,r){this.A=e|0,this.B=n|0,this.C=i|0,this.D=f|0,this.E=b|0,this.F=s|0,this.G=y|0,this.H=r|0}process(e,n){for(let c=0;c<16;c++,n+=4)Tu[c]=e.getUint32(n,!1);for(let c=16;c<64;c++){const u=Tu[c-15],l=Tu[c-2],a=Ao(u,7)^Ao(u,18)^u>>>3,d=Ao(l,17)^Ao(l,19)^l>>>10;Tu[c]=d+Tu[c-7]+a+Tu[c-16]|0}let{A:i,B:f,C:b,D:s,E:y,F:r,G:o,H:v}=this;for(let c=0;c<64;c++){const u=Ao(y,6)^Ao(y,11)^Ao(y,25),l=v+u+eee(y,r,o)+ree[c]+Tu[c]|0,d=(Ao(i,2)^Ao(i,13)^Ao(i,22))+tee(i,f,b)|0;v=o,o=r,r=y,y=s+l|0,s=b,b=f,f=i,i=l+d|0}i=i+this.A|0,f=f+this.B|0,b=b+this.C|0,s=s+this.D|0,y=y+this.E|0,r=r+this.F|0,o=o+this.G|0,v=v+this.H|0,this.set(i,f,b,s,y,r,o,v)}roundClean(){tp(Tu)}destroy(){this.set(0,0,0,0,0,0,0,0),tp(this.buffer)}};const Hk=pk(()=>new iee),see=Hk;function aee(t,e){return see(Ti(t,{strict:!1})?Tp(t):t)}function oee(t){const{commitment:e,version:n=1}=t,i=t.to??(typeof e=="string"?"hex":"bytes"),f=aee(e);return f.set([n],0),i==="bytes"?f:$r(f)}function lee(t){const{commitments:e,version:n}=t,i=t.to,f=[];for(const b of e)f.push(oee({commitment:b,to:i,version:n}));return f}const xI=6,Yk=32,A9=4096,Xk=Yk*A9,bI=Xk*xI-1-1*A9*xI;class uee extends Ne{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class cee extends Ne{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function dee(t){const e=typeof t.data=="string"?_a(t.data):t.data,n=tr(e);if(!n)throw new cee;if(n>bI)throw new uee({maxSize:bI,size:n});const i=[];let f=!0,b=0;for(;f;){const s=x9(new Uint8Array(Xk));let y=0;for(;y<A9;){const r=e.slice(b,b+(Yk-1));if(s.pushByte(0),s.pushBytes(r),r.length<31){s.pushByte(128),f=!1;break}y++,b+=31}i.push(s)}return i.map(s=>$r(s.bytes))}function hee(t){const{data:e,kzg:n,to:i}=t,f=t.blobs??dee({data:e}),b=t.commitments??Gk({blobs:f,kzg:n,to:i}),s=t.proofs??Vk({blobs:f,commitments:b,kzg:n,to:i}),y=[];for(let r=0;r<f.length;r++)y.push({blob:f[r],commitment:b[r],proof:s[r]});return y}const fee=2n**256n-1n;class y8 extends Ne{constructor({blockNumber:e,chain:n,contract:i}){super(`Chain "${n.name}" does not support contract "${i.name}".`,{metaMessages:["This could be due to any of the following:",...e&&i.blockCreated&&i.blockCreated>e?[`- The contract "${i.name}" was not deployed until block ${i.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${i.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class pee extends Ne{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class vee extends Ne{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class Kk extends Ne{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class Af extends Ne{constructor({cause:e,message:n}={}){const i=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${i?`with reason: ${i}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(Af,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Af,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class m2 extends Ne{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${us(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(m2,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class w8 extends Ne{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${us(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(w8,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class x8 extends Ne{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(x8,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class b8 extends Ne{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(b8,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class C8 extends Ne{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(C8,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class E8 extends Ne{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(E8,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class S8 extends Ne{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(S8,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class T8 extends Ne{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(T8,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class A8 extends Ne{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(A8,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class y2 extends Ne{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:i}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${us(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${i?` = ${us(i)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(y2,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class nm extends Ne{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function gee(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new Jq({transaction:t})}async function mee({address:t,authorization:e,signature:n}){return em(yr(t),await Iw({authorization:e,signature:n}))}const yee=t=>t,P9=t=>t;class pv extends Ne{constructor({body:e,cause:n,details:i,headers:f,status:b,url:s}){super("HTTP request failed.",{cause:n,details:i,metaMessages:[b&&`Status: ${b}`,`URL: ${P9(s)}`,e&&`Request body: ${Fr(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=f,this.status=b,this.url=s}}class I9 extends Ne{constructor({body:e,error:n,url:i}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${P9(i)}`,`Request body: ${Fr(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class CI extends Ne{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${P9(n)}`,`Request body: ${Fr(e)}`],name:"TimeoutError"})}}const wee=-1;class ps extends Ne{constructor(e,{code:n,docsPath:i,metaMessages:f,name:b,shortMessage:s}){super(s,{cause:e,docsPath:i,metaMessages:f||e?.metaMessages,name:b||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=b||e.name,this.code=e instanceof I9?e.code:n??wee}}class Gs extends ps{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class jv extends ps{constructor(e){super(e,{code:jv.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(jv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class zv extends ps{constructor(e){super(e,{code:zv.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(zv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Wv extends ps{constructor(e,{method:n}={}){super(e,{code:Wv.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Wv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Gv extends ps{constructor(e){super(e,{code:Gv.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Gv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Sd extends ps{constructor(e){super(e,{code:Sd.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Sd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Td extends ps{constructor(e){super(e,{code:Td.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Td,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Vv extends ps{constructor(e){super(e,{code:Vv.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Vv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Hv extends ps{constructor(e){super(e,{code:Hv.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Hv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Yv extends ps{constructor(e){super(e,{code:Yv.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Yv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class rd extends ps{constructor(e,{method:n}={}){super(e,{code:rd.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(rd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class ip extends ps{constructor(e){super(e,{code:ip.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(ip,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Xv extends ps{constructor(e){super(e,{code:Xv.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Xv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class jf extends Gs{constructor(e){super(e,{code:jf.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(jf,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Kv extends Gs{constructor(e){super(e,{code:Kv.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Kv,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Zv extends Gs{constructor(e,{method:n}={}){super(e,{code:Zv.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Zv,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Jv extends Gs{constructor(e){super(e,{code:Jv.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Jv,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Qv extends Gs{constructor(e){super(e,{code:Qv.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Qv,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class _v extends Gs{constructor(e){super(e,{code:_v.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(_v,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class sp extends Gs{constructor(e){super(e,{code:sp.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(sp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class qv extends Gs{constructor(e){super(e,{code:qv.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(qv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class eg extends Gs{constructor(e){super(e,{code:eg.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(eg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class tg extends Gs{constructor(e){super(e,{code:tg.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(tg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class ng extends Gs{constructor(e){super(e,{code:ng.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(ng,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class rg extends Gs{constructor(e){super(e,{code:rg.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(rg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class ap extends Gs{constructor(e){super(e,{code:ap.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(ap,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class xee extends ps{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const H1=new Zg(8192);function bee(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(H1.get(n))return H1.get(n);const i=t().finally(()=>H1.delete(n));return H1.set(n,i),i}async function P8(t){return new Promise(e=>setTimeout(e,t))}function w2(t,{delay:e=100,retryCount:n=2,shouldRetry:i=()=>!0}={}){return new Promise((f,b)=>{const s=async({count:y=0}={})=>{const r=async({error:o})=>{const v=typeof e=="function"?e({count:y,error:o}):e;v&&await P8(v),s({count:y+1})};try{const o=await t();f(o)}catch(o){if(y<n&&await i({count:y,error:o}))return r({error:o});b(o)}};s()})}function Cee(t,e={}){return async(n,i={})=>{const{dedupe:f=!1,methods:b,retryDelay:s=150,retryCount:y=3,uid:r}={...e,...i},{method:o}=n;if(b?.exclude?.includes(o))throw new rd(new Error("method not supported"),{method:o});if(b?.include&&!b.include.includes(o))throw new rd(new Error("method not supported"),{method:o});const v=f?qf(`${r}.${Fr(n)}`):void 0;return bee(()=>w2(async()=>{try{return await t(n)}catch(c){const u=c;switch(u.code){case jv.code:throw new jv(u);case zv.code:throw new zv(u);case Wv.code:throw new Wv(u,{method:n.method});case Gv.code:throw new Gv(u);case Sd.code:throw new Sd(u);case Td.code:throw new Td(u);case Vv.code:throw new Vv(u);case Hv.code:throw new Hv(u);case Yv.code:throw new Yv(u);case rd.code:throw new rd(u,{method:n.method});case ip.code:throw new ip(u);case Xv.code:throw new Xv(u);case jf.code:throw new jf(u);case Kv.code:throw new Kv(u);case Zv.code:throw new Zv(u);case Jv.code:throw new Jv(u);case Qv.code:throw new Qv(u);case _v.code:throw new _v(u);case sp.code:throw new sp(u);case qv.code:throw new qv(u);case eg.code:throw new eg(u);case tg.code:throw new tg(u);case ng.code:throw new ng(u);case rg.code:throw new rg(u);case ap.code:throw new ap(u);case 5e3:throw new jf(u);default:throw c instanceof Ne?c:new xee(u)}}},{delay:({count:c,error:u})=>{if(u&&u instanceof pv){const l=u?.headers?.get("Retry-After");if(l?.match(/\d/))return Number.parseInt(l,10)*1e3}return~~(1<<c)*s},retryCount:y,shouldRetry:({error:c})=>Eee(c)}),{enabled:f,id:v})}}function Eee(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===ip.code||t.code===Sd.code:t instanceof pv&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const R9=BigInt(0),I8=BigInt(1);function rm(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function M9(t){if(!rm(t))throw new Error("Uint8Array expected")}function ig(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Y1(t){const e=t.toString(16);return e.length&1?"0"+e:e}function Zk(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?R9:BigInt("0x"+t)}const Jk=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",See=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function sg(t){if(M9(t),Jk)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=See[t[n]];return e}const bl={_0:48,_9:57,A:65,F:70,a:97,f:102};function EI(t){if(t>=bl._0&&t<=bl._9)return t-bl._0;if(t>=bl.A&&t<=bl.F)return t-(bl.A-10);if(t>=bl.a&&t<=bl.f)return t-(bl.a-10)}function x2(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(Jk)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const i=new Uint8Array(n);for(let f=0,b=0;f<n;f++,b+=2){const s=EI(t.charCodeAt(b)),y=EI(t.charCodeAt(b+1));if(s===void 0||y===void 0){const r=t[b]+t[b+1];throw new Error('hex string expected, got non-hex character "'+r+'" at index '+b)}i[f]=s*16+y}return i}function pd(t){return Zk(sg(t))}function Qk(t){return M9(t),Zk(sg(Uint8Array.from(t).reverse()))}function im(t,e){return x2(t.toString(16).padStart(e*2,"0"))}function _k(t,e){return im(t,e).reverse()}function aa(t,e,n){let i;if(typeof e=="string")try{i=x2(e)}catch(b){throw new Error(t+" must be hex string or Uint8Array, cause: "+b)}else if(rm(e))i=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const f=i.length;if(typeof n=="number"&&f!==n)throw new Error(t+" of length "+n+" expected, got "+f);return i}function b2(...t){let e=0;for(let i=0;i<t.length;i++){const f=t[i];M9(f),e+=f.length}const n=new Uint8Array(e);for(let i=0,f=0;i<t.length;i++){const b=t[i];n.set(b,f),f+=b.length}return n}const cb=t=>typeof t=="bigint"&&R9<=t;function O9(t,e,n){return cb(t)&&cb(e)&&cb(n)&&e<=t&&t<n}function zf(t,e,n,i){if(!O9(e,n,i))throw new Error("expected valid "+t+": "+n+" <= n < "+i+", got "+e)}function Tee(t){let e;for(e=0;t>R9;t>>=I8,e+=1);return e}const Rw=t=>(I8<<BigInt(t))-I8,db=t=>new Uint8Array(t),SI=t=>Uint8Array.from(t);function Aee(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let i=db(t),f=db(t),b=0;const s=()=>{i.fill(1),f.fill(0),b=0},y=(...c)=>n(f,i,...c),r=(c=db(0))=>{f=y(SI([0]),c),i=y(),c.length!==0&&(f=y(SI([1]),c),i=y())},o=()=>{if(b++>=1e3)throw new Error("drbg: tried 1000 values");let c=0;const u=[];for(;c<e;){i=y();const l=i.slice();u.push(l),c+=i.length}return b2(...u)};return(c,u)=>{s(),r(c);let l;for(;!(l=u(o()));)r();return s(),l}}const Pee={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||rm(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Mw(t,e,n={}){const i=(f,b,s)=>{const y=Pee[b];if(typeof y!="function")throw new Error("invalid validator function");const r=t[f];if(!(s&&r===void 0)&&!y(r,t))throw new Error("param "+String(f)+" is invalid. Expected "+b+", got "+r)};for(const[f,b]of Object.entries(e))i(f,b,!1);for(const[f,b]of Object.entries(n))i(f,b,!0);return t}function TI(t){const e=new WeakMap;return(n,...i)=>{const f=e.get(n);if(f!==void 0)return f;const b=t(n,...i);return e.set(n,b),b}}const Iee="0.1.1";function Ree(){return Iee}let Jt=class R8 extends Error{constructor(e,n={}){const i=(()=>{if(n.cause instanceof R8){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),f=n.cause instanceof R8&&n.cause.docsPath||n.docsPath,s=`https://oxlib.sh${f??""}`,y=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...i||f?["",i?`Details: ${i}`:void 0,f?`See: ${s}`:void 0]:[]].filter(r=>typeof r=="string").join(`
`);super(y,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${Ree()}`}),this.cause=n.cause,this.details=i,this.docs=s,this.docsPath=f,this.shortMessage=e}walk(e){return qk(this,e)}};function qk(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?qk(t.cause,e):e?null:t}function sm(t,e){if(Pf(t)>e)throw new Yee({givenSize:Pf(t),maxSize:e})}const Cl={zero:48,nine:57,A:65,F:70,a:97,f:102};function AI(t){if(t>=Cl.zero&&t<=Cl.nine)return t-Cl.zero;if(t>=Cl.A&&t<=Cl.F)return t-(Cl.A-10);if(t>=Cl.a&&t<=Cl.f)return t-(Cl.a-10)}function Mee(t,e={}){const{dir:n,size:i=32}=e;if(i===0)return t;if(t.length>i)throw new Xee({size:t.length,targetSize:i,type:"Bytes"});const f=new Uint8Array(i);for(let b=0;b<i;b++){const s=n==="right";f[s?b:i-b-1]=t[s?b:t.length-b-1]}return f}function eB(t,e={}){const{dir:n="left"}=e;let i=t,f=0;for(let b=0;b<i.length-1&&i[n==="left"?b:i.length-b-1].toString()==="0";b++)f++;return i=n==="left"?i.slice(f):i.slice(0,i.length-f),i}function Ow(t,e){if(js(t)>e)throw new qee({givenSize:js(t),maxSize:e})}function Oee(t,e){if(typeof e=="number"&&e>0&&e>js(t)-1)throw new uB({offset:e,position:"start",size:js(t)})}function Fee(t,e,n){if(typeof e=="number"&&typeof n=="number"&&js(t)!==n-e)throw new uB({offset:n,position:"end",size:js(t)})}function tB(t,e={}){const{dir:n,size:i=32}=e;if(i===0)return t;const f=t.replace("0x","");if(f.length>i*2)throw new ete({size:Math.ceil(f.length/2),targetSize:i,type:"Hex"});return`0x${f[n==="right"?"padEnd":"padStart"](i*2,"0")}`}const $ee="#__bigint";function nB(t,e,n){return JSON.stringify(t,(i,f)=>typeof f=="bigint"?f.toString()+$ee:f,n)}const Lee=new TextDecoder,Dee=new TextEncoder;function Nee(t){return t instanceof Uint8Array?t:typeof t=="string"?rB(t):kee(t)}function kee(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function rB(t,e={}){const{size:n}=e;let i=t;n&&(Ow(t,n),i=Pd(t,n));let f=i.slice(2);f.length%2&&(f=`0${f}`);const b=f.length/2,s=new Uint8Array(b);for(let y=0,r=0;y<b;y++){const o=AI(f.charCodeAt(r++)),v=AI(f.charCodeAt(r++));if(o===void 0||v===void 0)throw new Jt(`Invalid byte sequence ("${f[r-2]}${f[r-1]}" in "${f}").`);s[y]=o*16+v}return s}function Bee(t,e={}){const{size:n}=e,i=Dee.encode(t);return typeof n=="number"?(sm(i,n),Uee(i,n)):i}function Uee(t,e){return Mee(t,{dir:"right",size:e})}function Pf(t){return t.length}function jee(t,e,n,i={}){const{strict:f}=i;return t.slice(e,n)}function zee(t,e={}){const{size:n}=e;typeof n<"u"&&sm(t,n);const i=to(t,e);return aB(i,e)}function Wee(t,e={}){const{size:n}=e;let i=t;if(typeof n<"u"&&(sm(i,n),i=iB(i)),i.length>1||i[0]>1)throw new Hee(i);return!!i[0]}function Yl(t,e={}){const{size:n}=e;typeof n<"u"&&sm(t,n);const i=to(t,e);return oB(i,e)}function Gee(t,e={}){const{size:n}=e;let i=t;return typeof n<"u"&&(sm(i,n),i=Vee(i)),Lee.decode(i)}function iB(t){return eB(t,{dir:"left"})}function Vee(t){return eB(t,{dir:"right"})}class Hee extends Jt{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let Yee=class extends Jt{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},Xee=class extends Jt{constructor({size:e,targetSize:n,type:i}){super(`${i.charAt(0).toUpperCase()}${i.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const Kee=new TextEncoder,Zee=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Jee(t,e={}){const{strict:n=!1}=e;if(!t)throw new PI(t);if(typeof t!="string")throw new PI(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new II(t);if(!t.startsWith("0x"))throw new II(t)}function eo(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function Qee(t){return t instanceof Uint8Array?to(t):Array.isArray(t)?to(new Uint8Array(t)):t}function sB(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Ow(n,e.size),Ad(n,e.size)):n}function to(t,e={}){let n="";for(let f=0;f<t.length;f++)n+=Zee[t[f]];const i=`0x${n}`;return typeof e.size=="number"?(Ow(i,e.size),Pd(i,e.size)):i}function Mi(t,e={}){const{signed:n,size:i}=e,f=BigInt(t);let b;i?n?b=(1n<<BigInt(i)*8n-1n)-1n:b=2n**(BigInt(i)*8n)-1n:typeof t=="number"&&(b=BigInt(Number.MAX_SAFE_INTEGER));const s=typeof b=="bigint"&&n?-b-1n:0;if(b&&f>b||f<s){const o=typeof t=="bigint"?"n":"";throw new lB({max:b?`${b}${o}`:void 0,min:`${s}${o}`,signed:n,size:i,value:`${t}${o}`})}const r=`0x${(n&&f<0?(1n<<BigInt(i*8))+BigInt(f):f).toString(16)}`;return i?Ad(r,i):r}function F9(t,e={}){return to(Kee.encode(t),e)}function Ad(t,e){return tB(t,{dir:"left",size:e})}function Pd(t,e){return tB(t,{dir:"right",size:e})}function Zo(t,e,n,i={}){const{strict:f}=i;Oee(t,e);const b=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return f&&Fee(b,e,n),b}function js(t){return Math.ceil((t.length-2)/2)}function aB(t,e={}){const{signed:n}=e;e.size&&Ow(t,e.size);const i=BigInt(t);if(!n)return i;const f=(t.length-2)/2,b=(1n<<BigInt(f)*8n)-1n,s=b>>1n;return i<=s?i:i-b-1n}function oB(t,e={}){const{signed:n,size:i}=e;return Number(!n&&!i?t:aB(t,e))}function _ee(t,e={}){const{strict:n=!1}=e;try{return Jee(t,{strict:n}),!0}catch{return!1}}let lB=class extends Jt{constructor({max:e,min:n,signed:i,size:f,value:b}){super(`Number \`${b}\` is not in safe${f?` ${f*8}-bit`:""}${i?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}};class PI extends Jt{constructor(e){super(`Value \`${typeof e=="object"?nB(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class II extends Jt{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}let qee=class extends Jt{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}};class uB extends Jt{constructor({offset:e,position:n,size:i}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${i}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}let ete=class extends Jt{constructor({size:e,targetSize:n,type:i}){super(`${i.charAt(0).toUpperCase()}${i.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function tte(t){return{address:t.address,amount:Mi(t.amount),index:Mi(t.index),validatorIndex:Mi(t.validatorIndex)}}function cB(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:Mi(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:Mi(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:Mi(t.gasLimit)},...typeof t.number=="bigint"&&{number:Mi(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:Mi(t.prevRandao)},...typeof t.time=="bigint"&&{time:Mi(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(tte)}}}const C2=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],M8=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],dB=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],hB=[...dB,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],nte=[...dB,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],RI=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],MI=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],fB=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],OI=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],mGe=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],rte="0x82ad56cb",pB="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",ite="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",ste="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",$9="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class ate extends Ne{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class ote extends Ne{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function FI(t){return t.reduce((e,{slot:n,value:i})=>`${e}        ${n}: ${i}
`,"")}function lte(t){return t.reduce((e,{address:n,...i})=>{let f=`${e}    ${n}:
`;return i.nonce&&(f+=`      nonce: ${i.nonce}
`),i.balance&&(f+=`      balance: ${i.balance}
`),i.code&&(f+=`      code: ${i.code}
`),i.state&&(f+=`      state:
`,f+=FI(i.state)),i.stateDiff&&(f+=`      stateDiff:
`,f+=FI(i.stateDiff)),f},`  State Override:
`).slice(0,-1)}class vB extends Ne{constructor(e,{account:n,docsPath:i,chain:f,data:b,gas:s,gasPrice:y,maxFeePerGas:r,maxPriorityFeePerGas:o,nonce:v,to:c,value:u,stateOverride:l}){const a=n?nr(n):void 0;let d=tm({from:a?.address,to:c,value:typeof u<"u"&&`${Yd(u)} ${f?.nativeCurrency?.symbol||"ETH"}`,data:b,gas:s,gasPrice:typeof y<"u"&&`${us(y)} gwei`,maxFeePerGas:typeof r<"u"&&`${us(r)} gwei`,maxPriorityFeePerGas:typeof o<"u"&&`${us(o)} gwei`,nonce:v});l&&(d+=`
${lte(l)}`),super(e.shortMessage,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",d].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class gB extends Ne{constructor(e,{abi:n,args:i,contractAddress:f,docsPath:b,functionName:s,sender:y}){const r=Vd({abi:n,args:i,name:s}),o=r?Dk({abiItem:r,args:i,includeFunctionName:!1,includeName:!1}):void 0,v=r?qa(r,{includeName:!0}):void 0,c=tm({address:f&&yee(f),function:v,args:o&&o!=="()"&&`${[...Array(s?.length??0).keys()].map(()=>" ").join("")}${o}`,sender:y});super(e.shortMessage||`An unknown error occurred while executing the contract function "${s}".`,{cause:e,docsPath:b,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],c&&"Contract Call:",c].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=i,this.cause=e,this.contractAddress=f,this.functionName=s,this.sender=y}}class O8 extends Ne{constructor({abi:e,data:n,functionName:i,message:f}){let b,s,y,r;if(n&&n!=="0x")try{s=kq({abi:e,data:n});const{abiItem:v,errorName:c,args:u}=s;if(c==="Error")r=u[0];else if(c==="Panic"){const[l]=u;r=Oq[l]}else{const l=v?qa(v,{includeName:!0}):void 0,a=v&&u?Dk({abiItem:v,args:u,includeFunctionName:!1,includeName:!1}):void 0;y=[l?`Error: ${l}`:"",a&&a!=="()"?`       ${[...Array(c?.length??0).keys()].map(()=>" ").join("")}${a}`:""]}}catch(v){b=v}else f&&(r=f);let o;b instanceof Ck&&(o=b.signature,y=[`Unable to decode signature "${o}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${o}.`]),super(r&&r!=="execution reverted"||o?[`The contract function "${i}" reverted with the following ${o?"signature":"reason"}:`,r||o].join(`
`):`The contract function "${i}" reverted.`,{cause:b,metaMessages:y,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=s,this.raw=n,this.reason=r,this.signature=o}}class ute extends Ne{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class cte extends Ne{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Fw extends Ne{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}function Ip({blockNumber:t,chain:e,contract:n}){const i=e?.contracts?.[n];if(!i)throw new y8({chain:e,contract:{name:n}});if(t&&i.blockCreated&&i.blockCreated>t)throw new y8({blockNumber:t,chain:e,contract:{name:n,blockCreated:i.blockCreated}});return i.address}function $w(t,e){const n=(t.details||"").toLowerCase(),i=t instanceof Ne?t.walk(f=>f?.code===Af.code):t;return i instanceof Ne?new Af({cause:t,message:i.details}):Af.nodeMessage.test(n)?new Af({cause:t,message:t.details}):m2.nodeMessage.test(n)?new m2({cause:t,maxFeePerGas:e?.maxFeePerGas}):w8.nodeMessage.test(n)?new w8({cause:t,maxFeePerGas:e?.maxFeePerGas}):x8.nodeMessage.test(n)?new x8({cause:t,nonce:e?.nonce}):b8.nodeMessage.test(n)?new b8({cause:t,nonce:e?.nonce}):C8.nodeMessage.test(n)?new C8({cause:t,nonce:e?.nonce}):E8.nodeMessage.test(n)?new E8({cause:t}):S8.nodeMessage.test(n)?new S8({cause:t,gas:e?.gas}):T8.nodeMessage.test(n)?new T8({cause:t,gas:e?.gas}):A8.nodeMessage.test(n)?new A8({cause:t}):y2.nodeMessage.test(n)?new y2({cause:t,maxFeePerGas:e?.maxFeePerGas,maxPriorityFeePerGas:e?.maxPriorityFeePerGas}):new nm({cause:t})}function mB(t,{docsPath:e,...n}){const i=(()=>{const f=$w(t,n);return f instanceof nm?t:f})();return new vB(i,{docsPath:e,...n})}function am(t,{format:e}){if(!e)return{};const n={};function i(b){const s=Object.keys(b);for(const y of s)y in t&&(n[y]=t[y]),b[y]&&typeof b[y]=="object"&&!Array.isArray(b[y])&&i(b[y])}const f=e(t||{});return i(f),n}const dte={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Xd(t,e){const n={};return typeof t.authorizationList<"u"&&(n.authorizationList=hte(t.authorizationList)),typeof t.accessList<"u"&&(n.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(n.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?n.blobs=t.blobs.map(i=>$r(i)):n.blobs=t.blobs),typeof t.data<"u"&&(n.data=t.data),t.account&&(n.from=t.account.address),typeof t.from<"u"&&(n.from=t.from),typeof t.gas<"u"&&(n.gas=xt(t.gas)),typeof t.gasPrice<"u"&&(n.gasPrice=xt(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=xt(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(n.maxFeePerGas=xt(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=xt(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(n.nonce=xt(t.nonce)),typeof t.to<"u"&&(n.to=t.to),typeof t.type<"u"&&(n.type=dte[t.type]),typeof t.value<"u"&&(n.value=xt(t.value)),n}function hte(t){return t.map(e=>({address:e.address,r:e.r?xt(BigInt(e.r)):e.r,s:e.s?xt(BigInt(e.s)):e.s,chainId:xt(e.chainId),nonce:xt(e.nonce),...typeof e.yParity<"u"?{yParity:xt(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:xt(e.v)}:{}}))}function L9(){let t=()=>{},e=()=>{};return{promise:new Promise((i,f)=>{t=i,e=f}),resolve:t,reject:e}}const hb=new Map;function yB({fn:t,id:e,shouldSplitBatch:n,wait:i=0,sort:f}){const b=async()=>{const v=r();s();const c=v.map(({args:u})=>u);c.length!==0&&t(c).then(u=>{f&&Array.isArray(u)&&u.sort(f);for(let l=0;l<v.length;l++){const{resolve:a}=v[l];a?.([u[l],u])}}).catch(u=>{for(let l=0;l<v.length;l++){const{reject:a}=v[l];a?.(u)}})},s=()=>hb.delete(e),y=()=>r().map(({args:v})=>v),r=()=>hb.get(e)||[],o=v=>hb.set(e,[...r(),v]);return{flush:s,async schedule(v){const{promise:c,resolve:u,reject:l}=L9();return n?.([...y(),v])&&b(),r().length>0?(o({args:v,resolve:u,reject:l}),c):(o({args:v,resolve:u,reject:l}),setTimeout(b,i),c)}}}function $I(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:i})=>{if(n.length!==66)throw new rI({size:n.length,targetSize:66,type:"hex"});if(i.length!==66)throw new rI({size:i.length,targetSize:66,type:"hex"});return e[n]=i,e},{})}function fte(t){const{balance:e,nonce:n,state:i,stateDiff:f,code:b}=t,s={};if(b!==void 0&&(s.code=b),e!==void 0&&(s.balance=xt(e)),n!==void 0&&(s.nonce=xt(n)),i!==void 0&&(s.state=$I(i)),f!==void 0){if(s.state)throw new ote;s.stateDiff=$I(f)}return s}function D9(t){if(!t)return;const e={};for(const{address:n,...i}of t){if(!ds(n,{strict:!1}))throw new oc({address:n});if(e[n])throw new ate({address:n});e[n]=fte(i)}return e}function fc(t){const{account:e,gasPrice:n,maxFeePerGas:i,maxPriorityFeePerGas:f,to:b}=t,s=e?nr(e):void 0;if(s&&!ds(s.address))throw new oc({address:s.address});if(b&&!ds(b))throw new oc({address:b});if(typeof n<"u"&&(typeof i<"u"||typeof f<"u"))throw new Zq;if(i&&i>fee)throw new m2({maxFeePerGas:i});if(f&&i&&f>i)throw new y2({maxFeePerGas:i,maxPriorityFeePerGas:f})}async function Lw(t,e){const{account:n=t.account,authorizationList:i,batch:f=!!t.batch?.multicall,blockNumber:b,blockTag:s=t.experimental_blockTag??"latest",accessList:y,blobs:r,blockOverrides:o,code:v,data:c,factory:u,factoryData:l,gas:a,gasPrice:d,maxFeePerBlobGas:p,maxFeePerGas:h,maxPriorityFeePerGas:g,nonce:m,to:x,value:w,stateOverride:C,...E}=e,T=n?nr(n):void 0;if(v&&(u||l))throw new Ne("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(v&&x)throw new Ne("Cannot provide both `code` & `to` as parameters.");const S=v&&c,A=u&&l&&x&&c,P=S||A,R=S?wB({code:v,data:c}):A?gte({data:c,factory:u,factoryData:l,to:x}):c;try{fc(e);const D=(typeof b=="bigint"?xt(b):void 0)||s,F=o?cB(o):void 0,$=D9(C),N=t.chain?.formatters?.transactionRequest?.format,j=(N||Xd)({...am(E,{format:N}),accessList:y,account:T,authorizationList:i,blobs:r,data:R,gas:a,gasPrice:d,maxFeePerBlobGas:p,maxFeePerGas:h,maxPriorityFeePerGas:g,nonce:m,to:P?void 0:x,value:w},"call");if(f&&pte({request:j})&&!$&&!F)try{return await vte(t,{...j,blockNumber:b,blockTag:s})}catch(K){if(!(K instanceof Kk)&&!(K instanceof y8))throw K}const W=(()=>{const K=[j,D];return $&&F?[...K,$,F]:$?[...K,$]:F?[...K,{},F]:K})(),G=await t.request({method:"eth_call",params:W});return G==="0x"?{data:void 0}:{data:G}}catch(L){const D=mte(L),{offchainLookup:F,offchainLookupSignature:$}=await Ko(async()=>{const{offchainLookup:N,offchainLookupSignature:k}=await import("./ccip-CFiBVK8C.js");return{offchainLookup:N,offchainLookupSignature:k}},[]);if(t.ccipRead!==!1&&D?.slice(0,10)===$&&x)return{data:await F(t,{data:D,to:x})};throw P&&D?.slice(0,10)==="0x101bb98d"?new cte({factory:u}):mB(L,{...e,account:T,chain:t.chain})}}function pte({request:t}){const{data:e,to:n,...i}=t;return!(!e||e.startsWith(rte)||!n||Object.values(i).filter(f=>typeof f<"u").length>0)}async function vte(t,e){const{batchSize:n=1024,deployless:i=!1,wait:f=0}=typeof t.batch?.multicall=="object"?t.batch.multicall:{},{blockNumber:b,blockTag:s=t.experimental_blockTag??"latest",data:y,to:r}=e,o=(()=>{if(i)return null;if(e.multicallAddress)return e.multicallAddress;if(t.chain)return Ip({blockNumber:b,chain:t.chain,contract:"multicall3"});throw new Kk})(),c=(typeof b=="bigint"?xt(b):void 0)||s,{schedule:u}=yB({id:`${t.uid}.${c}`,wait:f,shouldSplitBatch(d){return d.reduce((h,{data:g})=>h+(g.length-2),0)>n*2},fn:async d=>{const p=d.map(m=>({allowFailure:!0,callData:m.data,target:m.to})),h=fs({abi:C2,args:[p],functionName:"aggregate3"}),g=await t.request({method:"eth_call",params:[{...o===null?{data:wB({code:$9,data:h})}:{to:o,data:h}},c]});return Hd({abi:C2,args:[p],functionName:"aggregate3",data:g||"0x"})}}),[{returnData:l,success:a}]=await u({data:y,to:r});if(!a)throw new Fw({data:l});return l==="0x"?{data:void 0}:{data:l}}function wB(t){const{code:e,data:n}=t;return Pw({abi:ak(["constructor(bytes, bytes)"]),bytecode:pB,args:[e,n]})}function gte(t){const{data:e,factory:n,factoryData:i,to:f}=t;return Pw({abi:ak(["constructor(address, bytes, address, bytes)"]),bytecode:ite,args:[f,e,n,i]})}function mte(t){if(!(t instanceof Ne))return;const e=t.walk();return typeof e?.data=="object"?e.data?.data:e.data}const Dw="x-batch-gateway:true";async function yte(t){const{data:e,ccipRequest:n}=t,{args:[i]}=$k({abi:M8,data:e}),f=[],b=[];return await Promise.all(i.map(async(s,y)=>{try{b[y]=s.urls.includes(Dw)?await yte({data:s.data,ccipRequest:n}):await n(s),f[y]=!1}catch(r){f[y]=!0,b[y]=wte(r)}})),zq({abi:M8,functionName:"query",result:[f,b]})}function wte(t){return t.name==="HttpRequestError"&&t.status?vI({abi:M8,errorName:"HttpError",args:[t.status,t.shortMessage]}):vI({abi:[Ok],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}function N9({chain:t,currentChainId:e}){if(!t)throw new vee;if(e!==t.id)throw new pee({chain:t,currentChainId:e})}const xte=3;function Id(t,{abi:e,address:n,args:i,docsPath:f,functionName:b,sender:s}){const y=t instanceof Fw?t:t instanceof Ne?t.walk(a=>"data"in a)||t.walk():{},{code:r,data:o,details:v,message:c,shortMessage:u}=y,l=t instanceof Qg?new ute({functionName:b}):[xte,Sd.code].includes(r)&&(o||v||c||u)?new O8({abi:e,data:typeof o=="object"?o.data:o,functionName:b,message:y instanceof I9?v:u??c}):t;return new gB(l,{abi:e,args:i,contractAddress:n,docsPath:f,functionName:b,sender:s})}class bte extends Ne{constructor(e,{account:n,docsPath:i,chain:f,data:b,gas:s,gasPrice:y,maxFeePerGas:r,maxPriorityFeePerGas:o,nonce:v,to:c,value:u}){const l=tm({from:n?.address,to:c,value:typeof u<"u"&&`${Yd(u)} ${f?.nativeCurrency?.symbol||"ETH"}`,data:b,gas:s,gasPrice:typeof y<"u"&&`${us(y)} gwei`,maxFeePerGas:typeof r<"u"&&`${us(r)} gwei`,maxPriorityFeePerGas:typeof o<"u"&&`${us(o)} gwei`,nonce:v});super(e.shortMessage,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",l].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function Cte(t,{docsPath:e,...n}){const i=(()=>{const f=$w(t,n);return f instanceof nm?t:f})();return new bte(i,{docsPath:e,...n})}function k9(t,{docsPath:e,...n}){const i=(()=>{const f=$w(t,n);return f instanceof nm?t:f})();return new Qq(i,{docsPath:e,...n})}const xB={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function bB(t,e){const n={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?Qa(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?Qa(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?xB[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(n.authorizationList=Ete(t.authorizationList)),n.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}function Ete(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function CB(t,e){const n=(t.transactions??[]).map(i=>typeof i=="string"?i:bB(i));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:n,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}function Ql(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}const EB={"0x0":"reverted","0x1":"success"};function SB(t,e){const n={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(i=>Ql(i)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Qa(t.transactionIndex):null,status:t.status?EB[t.status]:null,type:t.type?xB[t.type]||t.type:null};return t.blobGasPrice&&(n.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(n.blobGasUsed=BigInt(t.blobGasUsed)),n}function mt(t,e,n){const i=t[e.name];if(typeof i=="function")return i;const f=t[n];return typeof f=="function"?f:b=>e(t,b)}async function B9(t,{address:e,blockTag:n="latest",blockNumber:i}){const f=await t.request({method:"eth_getTransactionCount",params:[e,typeof i=="bigint"?xt(i):n]},{dedupe:!!i});return Qa(f)}function Ste(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:i}){return new Promise((f,b)=>{(async()=>{let s;try{const y=new AbortController;n>0&&(s=setTimeout(()=>{i&&y.abort()},n)),f(await t({signal:y?.signal||null}))}catch(y){y?.name==="AbortError"&&b(e),b(y)}finally{clearTimeout(s)}})()})}function Tte(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const LI=Tte();function Ate(t,e={}){return{async request(n){const{body:i,fetchFn:f=e.fetchFn??fetch,onRequest:b=e.onRequest,onResponse:s=e.onResponse,timeout:y=e.timeout??1e4}=n,r={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:o,method:v,signal:c}=r;try{const u=await Ste(async({signal:a})=>{const d={...r,body:Array.isArray(i)?Fr(i.map(m=>({jsonrpc:"2.0",id:m.id??LI.take(),...m}))):Fr({jsonrpc:"2.0",id:i.id??LI.take(),...i}),headers:{"Content-Type":"application/json",...o},method:v||"POST",signal:c||(y>0?a:null)},p=new Request(t,d),h=await b?.(p,d)??{...d,url:t};return await f(h.url??t,h)},{errorInstance:new CI({body:i,url:t}),timeout:y,signal:!0});s&&await s(u);let l;if(u.headers.get("Content-Type")?.startsWith("application/json"))l=await u.json();else{l=await u.text();try{l=JSON.parse(l||"{}")}catch(a){if(u.ok)throw a;l={error:l}}}if(!u.ok)throw new pv({body:i,details:Fr(l.error)||u.statusText,headers:u.headers,status:u.status,url:t});return l}catch(u){throw u instanceof pv||u instanceof CI?u:new pv({body:i,cause:u,url:t})}}}}const Pte=`Ethereum Signed Message:
`;function Ite(t){const e=typeof t=="string"?qf(t):typeof t.raw=="string"?t.raw:$r(t.raw),n=qf(`${Pte}${tr(e)}`);return ga([n,e])}function TB(t,e){return oi(Ite(t),e)}class Rte extends Ne{constructor({domain:e}){super(`Invalid domain "${Fr(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class Mte extends Ne{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class Ote extends Ne{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function Fte(t){const{domain:e,message:n,primaryType:i,types:f}=t,b=(r,o)=>{const v={...o};for(const c of r){const{name:u,type:l}=c;l==="address"&&(v[u]=v[u].toLowerCase())}return v},s=f.EIP712Domain?e?b(f.EIP712Domain,e):{}:{},y=(()=>{if(i!=="EIP712Domain")return b(f[i],n)})();return Fr({domain:s,message:y,primaryType:i,types:f})}function AB(t){const{domain:e,message:n,primaryType:i,types:f}=t,b=(s,y)=>{for(const r of s){const{name:o,type:v}=r,c=y[o],u=v.match(Mk);if(u&&(typeof c=="number"||typeof c=="bigint")){const[d,p,h]=u;xt(c,{signed:p==="int",size:Number.parseInt(h,10)/8})}if(v==="address"&&typeof c=="string"&&!ds(c))throw new oc({address:c});const l=v.match(vq);if(l){const[d,p]=l;if(p&&tr(c)!==Number.parseInt(p,10))throw new sq({expectedSize:Number.parseInt(p,10),givenSize:tr(c)})}const a=f[v];a&&($te(v),b(a,c))}};if(f.EIP712Domain&&e){if(typeof e!="object")throw new Rte({domain:e});b(f.EIP712Domain,e)}if(i!=="EIP712Domain")if(f[i])b(f[i],n);else throw new Mte({primaryType:i,types:f})}function PB({domain:t}){return[typeof t?.name=="string"&&{name:"name",type:"string"},t?.version&&{name:"version",type:"string"},(typeof t?.chainId=="number"||typeof t?.chainId=="bigint")&&{name:"chainId",type:"uint256"},t?.verifyingContract&&{name:"verifyingContract",type:"address"},t?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function $te(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new Ote({type:t})}function Lte(t){const{domain:e={},message:n,primaryType:i}=t,f={EIP712Domain:PB({domain:e}),...t.types};AB({domain:e,message:n,primaryType:i,types:f});const b=["0x1901"];return e&&b.push(Dte({domain:e,types:f})),i!=="EIP712Domain"&&b.push(IB({data:n,primaryType:i,types:f})),oi(ga(b))}function Dte({domain:t,types:e}){return IB({data:t,primaryType:"EIP712Domain",types:e})}function IB({data:t,primaryType:e,types:n}){const i=RB({data:t,primaryType:e,types:n});return oi(i)}function RB({data:t,primaryType:e,types:n}){const i=[{type:"bytes32"}],f=[Nte({primaryType:e,types:n})];for(const b of n[e]){const[s,y]=OB({types:n,name:b.name,type:b.type,value:t[b.name]});i.push(s),f.push(y)}return Gd(i,f)}function Nte({primaryType:t,types:e}){const n=er(kte({primaryType:t,types:e}));return oi(n)}function kte({primaryType:t,types:e}){let n="";const i=MB({primaryType:t,types:e});i.delete(t);const f=[t,...Array.from(i).sort()];for(const b of f)n+=`${b}(${e[b].map(({name:s,type:y})=>`${y} ${s}`).join(",")})`;return n}function MB({primaryType:t,types:e},n=new Set){const f=t.match(/^\w*/u)?.[0];if(n.has(f)||e[f]===void 0)return n;n.add(f);for(const b of e[f])MB({primaryType:b.type,types:e},n);return n}function OB({types:t,name:e,type:n,value:i}){if(t[n]!==void 0)return[{type:"bytes32"},oi(RB({data:i,primaryType:n,types:t}))];if(n==="bytes")return i=`0x${(i.length%2?"0":"")+i.slice(2)}`,[{type:"bytes32"},oi(i)];if(n==="string")return[{type:"bytes32"},oi(er(i))];if(n.lastIndexOf("]")===n.length-1){const f=n.slice(0,n.lastIndexOf("[")),b=i.map(s=>OB({name:e,type:f,types:t,value:s}));return[{type:"bytes32"},oi(Gd(b.map(([s])=>s),b.map(([,s])=>s)))]}return[{type:n},i]}let Bte=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const i=this.keys().next().value;i&&this.delete(i)}return this}};const Ute={checksum:new Bte(8192)},fb=Ute.checksum;function FB(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,i=xk(Nee(t));return n==="Bytes"?i:to(i)}const jte=/^0x[a-fA-F0-9]{40}$/;function Nw(t,e={}){const{strict:n=!0}=e;if(!jte.test(t))throw new DI({address:t,cause:new zte});if(n){if(t.toLowerCase()===t)return;if($B(t)!==t)throw new DI({address:t,cause:new Wte})}}function $B(t){if(fb.has(t))return fb.get(t);Nw(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=FB(Bee(e),{as:"Bytes"}),i=e.split("");for(let b=0;b<40;b+=2)n[b>>1]>>4>=8&&i[b]&&(i[b]=i[b].toUpperCase()),(n[b>>1]&15)>=8&&i[b+1]&&(i[b+1]=i[b+1].toUpperCase());const f=`0x${i.join("")}`;return fb.set(t,f),f}function F8(t,e={}){const{strict:n=!0}=e??{};try{return Nw(t,{strict:n}),!0}catch{return!1}}class DI extends Jt{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class zte extends Jt{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class Wte extends Jt{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const Gte=/^(.*)\[([0-9]*)\]$/,Vte=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,LB=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,NI=2n**256n-1n;function Wf(t,e,n){const{checksumAddress:i,staticPosition:f}=n,b=z9(e.type);if(b){const[s,y]=b;return Yte(t,{...e,type:y},{checksumAddress:i,length:s,staticPosition:f})}if(e.type==="tuple")return Jte(t,e,{checksumAddress:i,staticPosition:f});if(e.type==="address")return Hte(t,{checksum:i});if(e.type==="bool")return Xte(t);if(e.type.startsWith("bytes"))return Kte(t,e,{staticPosition:f});if(e.type.startsWith("uint")||e.type.startsWith("int"))return Zte(t,e);if(e.type==="string")return Qte(t,{staticPosition:f});throw new G9(e.type)}const kI=32,$8=32;function Hte(t,e={}){const{checksum:n=!1}=e,i=t.readBytes(32);return[(b=>n?$B(b):b)(to(jee(i,-20))),32]}function Yte(t,e,n){const{checksumAddress:i,length:f,staticPosition:b}=n;if(!f){const r=Yl(t.readBytes($8)),o=b+r,v=o+kI;t.setPosition(o);const c=Yl(t.readBytes(kI)),u=ag(e);let l=0;const a=[];for(let d=0;d<c;++d){t.setPosition(v+(u?d*32:l));const[p,h]=Wf(t,e,{checksumAddress:i,staticPosition:v});l+=h,a.push(p)}return t.setPosition(b+32),[a,32]}if(ag(e)){const r=Yl(t.readBytes($8)),o=b+r,v=[];for(let c=0;c<f;++c){t.setPosition(o+c*32);const[u]=Wf(t,e,{checksumAddress:i,staticPosition:o});v.push(u)}return t.setPosition(b+32),[v,32]}let s=0;const y=[];for(let r=0;r<f;++r){const[o,v]=Wf(t,e,{checksumAddress:i,staticPosition:b+s});s+=v,y.push(o)}return[y,s]}function Xte(t){return[Wee(t.readBytes(32),{size:32}),32]}function Kte(t,e,{staticPosition:n}){const[i,f]=e.type.split("bytes");if(!f){const s=Yl(t.readBytes(32));t.setPosition(n+s);const y=Yl(t.readBytes(32));if(y===0)return t.setPosition(n+32),["0x",32];const r=t.readBytes(y);return t.setPosition(n+32),[to(r),32]}return[to(t.readBytes(Number.parseInt(f,10),32)),32]}function Zte(t,e){const n=e.type.startsWith("int"),i=Number.parseInt(e.type.split("int")[1]||"256",10),f=t.readBytes(32);return[i>48?zee(f,{signed:n}):Yl(f,{signed:n}),32]}function Jte(t,e,n){const{checksumAddress:i,staticPosition:f}=n,b=e.components.length===0||e.components.some(({name:r})=>!r),s=b?[]:{};let y=0;if(ag(e)){const r=Yl(t.readBytes($8)),o=f+r;for(let v=0;v<e.components.length;++v){const c=e.components[v];t.setPosition(o+y);const[u,l]=Wf(t,c,{checksumAddress:i,staticPosition:o});y+=l,s[b?v:c?.name]=u}return t.setPosition(f+32),[s,32]}for(let r=0;r<e.components.length;++r){const o=e.components[r],[v,c]=Wf(t,o,{checksumAddress:i,staticPosition:f});s[b?r:o?.name]=v,y+=c}return[s,y]}function Qte(t,{staticPosition:e}){const n=Yl(t.readBytes(32)),i=e+n;t.setPosition(i);const f=Yl(t.readBytes(32));if(f===0)return t.setPosition(e+32),["",32];const b=t.readBytes(f,32),s=Gee(iB(b));return t.setPosition(e+32),[s,32]}function _te({checksumAddress:t,parameters:e,values:n}){const i=[];for(let f=0;f<e.length;f++)i.push(U9({checksumAddress:t,parameter:e[f],value:n[f]}));return i}function U9({checksumAddress:t=!1,parameter:e,value:n}){const i=e,f=z9(i.type);if(f){const[b,s]=f;return ene(n,{checksumAddress:t,length:b,parameter:{...i,type:s}})}if(i.type==="tuple")return sne(n,{checksumAddress:t,parameter:i});if(i.type==="address")return qte(n,{checksum:t});if(i.type==="bool")return nne(n);if(i.type.startsWith("uint")||i.type.startsWith("int")){const b=i.type.startsWith("int"),[,,s="256"]=LB.exec(i.type)??[];return rne(n,{signed:b,size:Number(s)})}if(i.type.startsWith("bytes"))return tne(n,{type:i.type});if(i.type==="string")return ine(n);throw new G9(i.type)}function j9(t){let e=0;for(let b=0;b<t.length;b++){const{dynamic:s,encoded:y}=t[b];s?e+=32:e+=js(y)}const n=[],i=[];let f=0;for(let b=0;b<t.length;b++){const{dynamic:s,encoded:y}=t[b];s?(n.push(Mi(e+f,{size:32})),i.push(y),f+=js(y)):n.push(y)}return eo(...n,...i)}function qte(t,e){const{checksum:n=!1}=e;return Nw(t,{strict:n}),{dynamic:!1,encoded:Ad(t.toLowerCase())}}function ene(t,e){const{checksumAddress:n,length:i,parameter:f}=e,b=i===null;if(!Array.isArray(t))throw new pne(t);if(!b&&t.length!==i)throw new fne({expectedLength:i,givenLength:t.length,type:`${f.type}[${i}]`});let s=!1;const y=[];for(let r=0;r<t.length;r++){const o=U9({checksumAddress:n,parameter:f,value:t[r]});o.dynamic&&(s=!0),y.push(o)}if(b||s){const r=j9(y);if(b){const o=Mi(y.length,{size:32});return{dynamic:!0,encoded:y.length>0?eo(o,r):o}}if(s)return{dynamic:!0,encoded:r}}return{dynamic:!1,encoded:eo(...y.map(({encoded:r})=>r))}}function tne(t,{type:e}){const[,n]=e.split("bytes"),i=js(t);if(!n){let f=t;return i%32!==0&&(f=Pd(f,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:eo(Ad(Mi(i,{size:32})),f)}}if(i!==Number.parseInt(n,10))throw new NB({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:Pd(t)}}function nne(t){if(typeof t!="boolean")throw new Jt(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Ad(sB(t))}}function rne(t,{signed:e,size:n}){if(typeof n=="number"){const i=2n**(BigInt(n)-(e?1n:0n))-1n,f=e?-i-1n:0n;if(t>i||t<f)throw new lB({max:i.toString(),min:f.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:Mi(t,{size:32,signed:e})}}function ine(t){const e=F9(t),n=Math.ceil(js(e)/32),i=[];for(let f=0;f<n;f++)i.push(Pd(Zo(e,f*32,(f+1)*32)));return{dynamic:!0,encoded:eo(Pd(Mi(js(e),{size:32})),...i)}}function sne(t,e){const{checksumAddress:n,parameter:i}=e;let f=!1;const b=[];for(let s=0;s<i.components.length;s++){const y=i.components[s],r=Array.isArray(t)?s:y.name,o=U9({checksumAddress:n,parameter:y,value:t[r]});b.push(o),o.dynamic&&(f=!0)}return{dynamic:f,encoded:f?j9(b):eo(...b.map(({encoded:s})=>s))}}function z9(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function ag(t){const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return t.components?.some(ag);const n=z9(t.type);return!!(n&&ag({...t,type:n[1]}))}const ane={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new une({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new lne({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new BI({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new BI({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function one(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(ane);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}class BI extends Jt{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class lne extends Jt{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class une extends Jt{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function cne(t,e,n={}){const{as:i="Array",checksumAddress:f=!1}=n,b=typeof e=="string"?rB(e):e,s=one(b);if(Pf(b)===0&&t.length>0)throw new hne;if(Pf(b)&&Pf(b)<32)throw new dne({data:typeof e=="string"?e:to(e),parameters:t,size:Pf(b)});let y=0;const r=i==="Array"?[]:{};for(let o=0;o<t.length;++o){const v=t[o];s.setPosition(y);const[c,u]=Wf(s,v,{checksumAddress:f,staticPosition:0});y+=u,i==="Array"?r.push(c):r[v.name??o]=c}return r}function W9(t,e,n){const{checksumAddress:i=!1}={};if(t.length!==e.length)throw new kB({expectedLength:t.length,givenLength:e.length});const f=_te({checksumAddress:i,parameters:t,values:e}),b=j9(f);return b.length===0?"0x":b}function L8(t,e){if(t.length!==e.length)throw new kB({expectedLength:t.length,givenLength:e.length});const n=[];for(let i=0;i<t.length;i++){const f=t[i],b=e[i];n.push(L8.encode(f,b))}return eo(...n)}(function(t){function e(n,i,f=!1){if(n==="address"){const r=i;return Nw(r),Ad(r.toLowerCase(),f?32:0)}if(n==="string")return F9(i);if(n==="bytes")return i;if(n==="bool")return Ad(sB(i),f?32:1);const b=n.match(LB);if(b){const[r,o,v="256"]=b,c=Number.parseInt(v,10)/8;return Mi(i,{size:f?32:c,signed:o==="int"})}const s=n.match(Vte);if(s){const[r,o]=s;if(Number.parseInt(o,10)!==(i.length-2)/2)throw new NB({expectedSize:Number.parseInt(o,10),value:i});return Pd(i,f?32:0)}const y=n.match(Gte);if(y&&Array.isArray(i)){const[r,o]=y,v=[];for(let c=0;c<i.length;c++)v.push(e(o,i[c],!0));return v.length===0?"0x":eo(...v)}throw new G9(n)}t.encode=e})(L8||(L8={}));function DB(t){return Array.isArray(t)&&typeof t[0]=="string"||typeof t=="string"?nI(t):t}class dne extends Jt{constructor({data:e,parameters:n,size:i}){super(`Data size of ${i} bytes is too small for given parameters.`,{metaMessages:[`Params: (${bf(n)})`,`Data:   ${e} (${i} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class hne extends Jt{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class fne extends Jt{constructor({expectedLength:e,givenLength:n,type:i}){super(`Array length mismatch for type \`${i}\`. Expected: \`${e}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class NB extends Jt{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${js(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class kB extends Jt{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class pne extends Jt{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class G9 extends Jt{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}class BB extends w9{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,M_(e);const i=Ew(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const f=this.blockLen,b=new Uint8Array(f);b.set(i.length>f?e.create().update(i).digest():i);for(let s=0;s<b.length;s++)b[s]^=54;this.iHash.update(b),this.oHash=e.create();for(let s=0;s<b.length;s++)b[s]^=106;this.oHash.update(b),tp(b)}update(e){return ep(this),this.iHash.update(e),this}digestInto(e){ep(this),Ed(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:i,finished:f,destroyed:b,blockLen:s,outputLen:y}=this;return e=e,e.finished=f,e.destroyed=b,e.blockLen=s,e.outputLen=y,e.oHash=n._cloneInto(e.oHash),e.iHash=i._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const UB=(t,e,n)=>new BB(t,e).update(n).digest();UB.create=(t,e)=>new BB(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const os=BigInt(0),Di=BigInt(1),id=BigInt(2),vne=BigInt(3),jB=BigInt(4),zB=BigInt(5),WB=BigInt(8);function ts(t,e){const n=t%e;return n>=os?n:e+n}function _s(t,e,n){let i=t;for(;e-- >os;)i*=i,i%=n;return i}function D8(t,e){if(t===os)throw new Error("invert: expected non-zero number");if(e<=os)throw new Error("invert: expected positive modulus, got "+e);let n=ts(t,e),i=e,f=os,b=Di;for(;n!==os;){const y=i/n,r=i%n,o=f-b*y;i=n,n=r,f=b,b=o}if(i!==Di)throw new Error("invert: does not exist");return ts(f,e)}function GB(t,e){const n=(t.ORDER+Di)/jB,i=t.pow(e,n);if(!t.eql(t.sqr(i),e))throw new Error("Cannot find square root");return i}function gne(t,e){const n=(t.ORDER-zB)/WB,i=t.mul(e,id),f=t.pow(i,n),b=t.mul(e,f),s=t.mul(t.mul(b,id),f),y=t.mul(b,t.sub(s,t.ONE));if(!t.eql(t.sqr(y),e))throw new Error("Cannot find square root");return y}function mne(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Di,n=0;for(;e%id===os;)e/=id,n++;let i=id;const f=V9(t);for(;UI(f,i)===1;)if(i++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return GB;let b=f.pow(i,e);const s=(e+Di)/id;return function(r,o){if(r.is0(o))return o;if(UI(r,o)!==1)throw new Error("Cannot find square root");let v=n,c=r.mul(r.ONE,b),u=r.pow(o,e),l=r.pow(o,s);for(;!r.eql(u,r.ONE);){if(r.is0(u))return r.ZERO;let a=1,d=r.sqr(u);for(;!r.eql(d,r.ONE);)if(a++,d=r.sqr(d),a===v)throw new Error("Cannot find square root");const p=Di<<BigInt(v-a-1),h=r.pow(c,p);v=a,c=r.sqr(h),u=r.mul(u,c),l=r.mul(l,h)}return l}}function yne(t){return t%jB===vne?GB:t%WB===zB?gne:mne(t)}const wne=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function xne(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=wne.reduce((i,f)=>(i[f]="function",i),e);return Mw(t,n)}function bne(t,e,n){if(n<os)throw new Error("invalid exponent, negatives unsupported");if(n===os)return t.ONE;if(n===Di)return e;let i=t.ONE,f=e;for(;n>os;)n&Di&&(i=t.mul(i,f)),f=t.sqr(f),n>>=Di;return i}function VB(t,e,n=!1){const i=new Array(e.length).fill(n?t.ZERO:void 0),f=e.reduce((s,y,r)=>t.is0(y)?s:(i[r]=s,t.mul(s,y)),t.ONE),b=t.inv(f);return e.reduceRight((s,y,r)=>t.is0(y)?s:(i[r]=t.mul(s,i[r]),t.mul(s,y)),b),i}function UI(t,e){const n=(t.ORDER-Di)/id,i=t.pow(e,n),f=t.eql(i,t.ONE),b=t.eql(i,t.ZERO),s=t.eql(i,t.neg(t.ONE));if(!f&&!b&&!s)throw new Error("invalid Legendre symbol result");return f?1:b?0:-1}function HB(t,e){e!==void 0&&kv(e);const n=e!==void 0?e:t.toString(2).length,i=Math.ceil(n/8);return{nBitLength:n,nByteLength:i}}function V9(t,e,n=!1,i={}){if(t<=os)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:f,nByteLength:b}=HB(t,e);if(b>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let s;const y=Object.freeze({ORDER:t,isLE:n,BITS:f,BYTES:b,MASK:Rw(f),ZERO:os,ONE:Di,create:r=>ts(r,t),isValid:r=>{if(typeof r!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof r);return os<=r&&r<t},is0:r=>r===os,isOdd:r=>(r&Di)===Di,neg:r=>ts(-r,t),eql:(r,o)=>r===o,sqr:r=>ts(r*r,t),add:(r,o)=>ts(r+o,t),sub:(r,o)=>ts(r-o,t),mul:(r,o)=>ts(r*o,t),pow:(r,o)=>bne(y,r,o),div:(r,o)=>ts(r*D8(o,t),t),sqrN:r=>r*r,addN:(r,o)=>r+o,subN:(r,o)=>r-o,mulN:(r,o)=>r*o,inv:r=>D8(r,t),sqrt:i.sqrt||(r=>(s||(s=yne(t)),s(y,r))),toBytes:r=>n?_k(r,b):im(r,b),fromBytes:r=>{if(r.length!==b)throw new Error("Field.fromBytes: expected "+b+" bytes, got "+r.length);return n?Qk(r):pd(r)},invertBatch:r=>VB(y,r),cmov:(r,o,v)=>v?o:r});return Object.freeze(y)}function YB(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function XB(t){const e=YB(t);return e+Math.ceil(e/2)}function Cne(t,e,n=!1){const i=t.length,f=YB(e),b=XB(e);if(i<16||i<b||i>1024)throw new Error("expected "+b+"-1024 bytes of input, got "+i);const s=n?Qk(t):pd(t),y=ts(s,e-Di)+Di;return n?_k(y,f):im(y,f)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const jI=BigInt(0),N8=BigInt(1);function pb(t,e){const n=e.negate();return t?n:e}function KB(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function vb(t,e){KB(t,e);const n=Math.ceil(e/t)+1,i=2**(t-1),f=2**t,b=Rw(t),s=BigInt(t);return{windows:n,windowSize:i,mask:b,maxNumber:f,shiftBy:s}}function zI(t,e,n){const{windowSize:i,mask:f,maxNumber:b,shiftBy:s}=n;let y=Number(t&f),r=t>>s;y>i&&(y-=b,r+=N8);const o=e*i,v=o+Math.abs(y)-1,c=y===0,u=y<0,l=e%2!==0;return{nextN:r,offset:v,isZero:c,isNeg:u,isNegF:l,offsetF:o}}function Ene(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,i)=>{if(!(n instanceof e))throw new Error("invalid point at index "+i)})}function Sne(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,i)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+i)})}const gb=new WeakMap,ZB=new WeakMap;function mb(t){return ZB.get(t)||1}function Tne(t,e){return{constTimeNegate:pb,hasPrecomputes(n){return mb(n)!==1},unsafeLadder(n,i,f=t.ZERO){let b=n;for(;i>jI;)i&N8&&(f=f.add(b)),b=b.double(),i>>=N8;return f},precomputeWindow(n,i){const{windows:f,windowSize:b}=vb(i,e),s=[];let y=n,r=y;for(let o=0;o<f;o++){r=y,s.push(r);for(let v=1;v<b;v++)r=r.add(y),s.push(r);y=r.double()}return s},wNAF(n,i,f){let b=t.ZERO,s=t.BASE;const y=vb(n,e);for(let r=0;r<y.windows;r++){const{nextN:o,offset:v,isZero:c,isNeg:u,isNegF:l,offsetF:a}=zI(f,r,y);f=o,c?s=s.add(pb(l,i[a])):b=b.add(pb(u,i[v]))}return{p:b,f:s}},wNAFUnsafe(n,i,f,b=t.ZERO){const s=vb(n,e);for(let y=0;y<s.windows&&f!==jI;y++){const{nextN:r,offset:o,isZero:v,isNeg:c}=zI(f,y,s);if(f=r,!v){const u=i[o];b=b.add(c?u.negate():u)}}return b},getPrecomputes(n,i,f){let b=gb.get(i);return b||(b=this.precomputeWindow(i,n),n!==1&&gb.set(i,f(b))),b},wNAFCached(n,i,f){const b=mb(n);return this.wNAF(b,this.getPrecomputes(b,n,f),i)},wNAFCachedUnsafe(n,i,f,b){const s=mb(n);return s===1?this.unsafeLadder(n,i,b):this.wNAFUnsafe(s,this.getPrecomputes(s,n,f),i,b)},setWindowSize(n,i){KB(i,e),ZB.set(n,i),gb.delete(n)}}}function Ane(t,e,n,i){Ene(n,t),Sne(i,e);const f=n.length,b=i.length;if(f!==b)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,y=Tee(BigInt(f));let r=1;y>12?r=y-3:y>4?r=y-2:y>0&&(r=2);const o=Rw(r),v=new Array(Number(o)+1).fill(s),c=Math.floor((e.BITS-1)/r)*r;let u=s;for(let l=c;l>=0;l-=r){v.fill(s);for(let d=0;d<b;d++){const p=i[d],h=Number(p>>BigInt(l)&o);v[h]=v[h].add(n[d])}let a=s;for(let d=v.length-1,p=s;d>0;d--)p=p.add(v[d]),a=a.add(p);if(u=u.add(a),l!==0)for(let d=0;d<r;d++)u=u.double()}return u}function JB(t){return xne(t.Fp),Mw(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...HB(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function WI(t){t.lowS!==void 0&&ig("lowS",t.lowS),t.prehash!==void 0&&ig("prehash",t.prehash)}function Pne(t){const e=JB(t);Mw(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:i,a:f}=e;if(n){if(!i.eql(f,i.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class Ine extends Error{constructor(e=""){super(e)}}const Dl={Err:Ine,_tlv:{encode:(t,e)=>{const{Err:n}=Dl;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const i=e.length/2,f=Y1(i);if(f.length/2&128)throw new n("tlv.encode: long form length too big");const b=i>127?Y1(f.length/2|128):"";return Y1(t)+b+f+e},decode(t,e){const{Err:n}=Dl;let i=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[i++]!==t)throw new n("tlv.decode: wrong tlv");const f=e[i++],b=!!(f&128);let s=0;if(!b)s=f;else{const r=f&127;if(!r)throw new n("tlv.decode(long): indefinite length not supported");if(r>4)throw new n("tlv.decode(long): byte length is too big");const o=e.subarray(i,i+r);if(o.length!==r)throw new n("tlv.decode: length bytes not complete");if(o[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const v of o)s=s<<8|v;if(i+=r,s<128)throw new n("tlv.decode(long): not minimal encoding")}const y=e.subarray(i,i+s);if(y.length!==s)throw new n("tlv.decode: wrong value length");return{v:y,l:e.subarray(i+s)}}},_int:{encode(t){const{Err:e}=Dl;if(t<zl)throw new e("integer: negative integers are not allowed");let n=Y1(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Dl;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return pd(t)}},toSig(t){const{Err:e,_int:n,_tlv:i}=Dl,f=aa("signature",t),{v:b,l:s}=i.decode(48,f);if(s.length)throw new e("invalid signature: left bytes after parsing");const{v:y,l:r}=i.decode(2,b),{v:o,l:v}=i.decode(2,r);if(v.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(y),s:n.decode(o)}},hexFromSig(t){const{_tlv:e,_int:n}=Dl,i=e.encode(2,n.encode(t.r)),f=e.encode(2,n.encode(t.s)),b=i+f;return e.encode(48,b)}};function yb(t,e){return sg(im(t,e))}const zl=BigInt(0),Yr=BigInt(1);BigInt(2);const wb=BigInt(3),Rne=BigInt(4);function Mne(t){const e=Pne(t),{Fp:n}=e,i=V9(e.n,e.nBitLength),f=e.toBytes||((m,x,w)=>{const C=x.toAffine();return b2(Uint8Array.from([4]),n.toBytes(C.x),n.toBytes(C.y))}),b=e.fromBytes||(m=>{const x=m.subarray(1),w=n.fromBytes(x.subarray(0,n.BYTES)),C=n.fromBytes(x.subarray(n.BYTES,2*n.BYTES));return{x:w,y:C}});function s(m){const{a:x,b:w}=e,C=n.sqr(m),E=n.mul(C,m);return n.add(n.add(E,n.mul(m,x)),w)}function y(m,x){const w=n.sqr(x),C=s(m);return n.eql(w,C)}if(!y(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const r=n.mul(n.pow(e.a,wb),Rne),o=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(r,o)))throw new Error("bad curve params: a or b");function v(m){return O9(m,Yr,e.n)}function c(m){const{allowedPrivateKeyLengths:x,nByteLength:w,wrapPrivateKey:C,n:E}=e;if(x&&typeof m!="bigint"){if(rm(m)&&(m=sg(m)),typeof m!="string"||!x.includes(m.length))throw new Error("invalid private key");m=m.padStart(w*2,"0")}let T;try{T=typeof m=="bigint"?m:pd(aa("private key",m,w))}catch{throw new Error("invalid private key, expected hex or "+w+" bytes, got "+typeof m)}return C&&(T=ts(T,E)),zf("private key",T,Yr,E),T}function u(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}const l=TI((m,x)=>{const{px:w,py:C,pz:E}=m;if(n.eql(E,n.ONE))return{x:w,y:C};const T=m.is0();x==null&&(x=T?n.ONE:n.inv(E));const S=n.mul(w,x),A=n.mul(C,x),P=n.mul(E,x);if(T)return{x:n.ZERO,y:n.ZERO};if(!n.eql(P,n.ONE))throw new Error("invZ was invalid");return{x:S,y:A}}),a=TI(m=>{if(m.is0()){if(e.allowInfinityPoint&&!n.is0(m.py))return;throw new Error("bad point: ZERO")}const{x,y:w}=m.toAffine();if(!n.isValid(x)||!n.isValid(w))throw new Error("bad point: x or y not FE");if(!y(x,w))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(x,w,C){if(x==null||!n.isValid(x))throw new Error("x required");if(w==null||!n.isValid(w)||n.is0(w))throw new Error("y required");if(C==null||!n.isValid(C))throw new Error("z required");this.px=x,this.py=w,this.pz=C,Object.freeze(this)}static fromAffine(x){const{x:w,y:C}=x||{};if(!x||!n.isValid(w)||!n.isValid(C))throw new Error("invalid affine point");if(x instanceof d)throw new Error("projective point not allowed");const E=T=>n.eql(T,n.ZERO);return E(w)&&E(C)?d.ZERO:new d(w,C,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(x){const w=VB(n,x.map(C=>C.pz));return x.map((C,E)=>C.toAffine(w[E])).map(d.fromAffine)}static fromHex(x){const w=d.fromAffine(b(aa("pointHex",x)));return w.assertValidity(),w}static fromPrivateKey(x){return d.BASE.multiply(c(x))}static msm(x,w){return Ane(d,i,x,w)}_setWindowSize(x){g.setWindowSize(this,x)}assertValidity(){a(this)}hasEvenY(){const{y:x}=this.toAffine();if(n.isOdd)return!n.isOdd(x);throw new Error("Field doesn't support isOdd")}equals(x){u(x);const{px:w,py:C,pz:E}=this,{px:T,py:S,pz:A}=x,P=n.eql(n.mul(w,A),n.mul(T,E)),R=n.eql(n.mul(C,A),n.mul(S,E));return P&&R}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:x,b:w}=e,C=n.mul(w,wb),{px:E,py:T,pz:S}=this;let A=n.ZERO,P=n.ZERO,R=n.ZERO,L=n.mul(E,E),D=n.mul(T,T),F=n.mul(S,S),$=n.mul(E,T);return $=n.add($,$),R=n.mul(E,S),R=n.add(R,R),A=n.mul(x,R),P=n.mul(C,F),P=n.add(A,P),A=n.sub(D,P),P=n.add(D,P),P=n.mul(A,P),A=n.mul($,A),R=n.mul(C,R),F=n.mul(x,F),$=n.sub(L,F),$=n.mul(x,$),$=n.add($,R),R=n.add(L,L),L=n.add(R,L),L=n.add(L,F),L=n.mul(L,$),P=n.add(P,L),F=n.mul(T,S),F=n.add(F,F),L=n.mul(F,$),A=n.sub(A,L),R=n.mul(F,D),R=n.add(R,R),R=n.add(R,R),new d(A,P,R)}add(x){u(x);const{px:w,py:C,pz:E}=this,{px:T,py:S,pz:A}=x;let P=n.ZERO,R=n.ZERO,L=n.ZERO;const D=e.a,F=n.mul(e.b,wb);let $=n.mul(w,T),N=n.mul(C,S),k=n.mul(E,A),j=n.add(w,C),W=n.add(T,S);j=n.mul(j,W),W=n.add($,N),j=n.sub(j,W),W=n.add(w,E);let G=n.add(T,A);return W=n.mul(W,G),G=n.add($,k),W=n.sub(W,G),G=n.add(C,E),P=n.add(S,A),G=n.mul(G,P),P=n.add(N,k),G=n.sub(G,P),L=n.mul(D,W),P=n.mul(F,k),L=n.add(P,L),P=n.sub(N,L),L=n.add(N,L),R=n.mul(P,L),N=n.add($,$),N=n.add(N,$),k=n.mul(D,k),W=n.mul(F,W),N=n.add(N,k),k=n.sub($,k),k=n.mul(D,k),W=n.add(W,k),$=n.mul(N,W),R=n.add(R,$),$=n.mul(G,W),P=n.mul(j,P),P=n.sub(P,$),$=n.mul(j,N),L=n.mul(G,L),L=n.add(L,$),new d(P,R,L)}subtract(x){return this.add(x.negate())}is0(){return this.equals(d.ZERO)}wNAF(x){return g.wNAFCached(this,x,d.normalizeZ)}multiplyUnsafe(x){const{endo:w,n:C}=e;zf("scalar",x,zl,C);const E=d.ZERO;if(x===zl)return E;if(this.is0()||x===Yr)return this;if(!w||g.hasPrecomputes(this))return g.wNAFCachedUnsafe(this,x,d.normalizeZ);let{k1neg:T,k1:S,k2neg:A,k2:P}=w.splitScalar(x),R=E,L=E,D=this;for(;S>zl||P>zl;)S&Yr&&(R=R.add(D)),P&Yr&&(L=L.add(D)),D=D.double(),S>>=Yr,P>>=Yr;return T&&(R=R.negate()),A&&(L=L.negate()),L=new d(n.mul(L.px,w.beta),L.py,L.pz),R.add(L)}multiply(x){const{endo:w,n:C}=e;zf("scalar",x,Yr,C);let E,T;if(w){const{k1neg:S,k1:A,k2neg:P,k2:R}=w.splitScalar(x);let{p:L,f:D}=this.wNAF(A),{p:F,f:$}=this.wNAF(R);L=g.constTimeNegate(S,L),F=g.constTimeNegate(P,F),F=new d(n.mul(F.px,w.beta),F.py,F.pz),E=L.add(F),T=D.add($)}else{const{p:S,f:A}=this.wNAF(x);E=S,T=A}return d.normalizeZ([E,T])[0]}multiplyAndAddUnsafe(x,w,C){const E=d.BASE,T=(A,P)=>P===zl||P===Yr||!A.equals(E)?A.multiplyUnsafe(P):A.multiply(P),S=T(this,w).add(T(x,C));return S.is0()?void 0:S}toAffine(x){return l(this,x)}isTorsionFree(){const{h:x,isTorsionFree:w}=e;if(x===Yr)return!0;if(w)return w(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:x,clearCofactor:w}=e;return x===Yr?this:w?w(d,this):this.multiplyUnsafe(e.h)}toRawBytes(x=!0){return ig("isCompressed",x),this.assertValidity(),f(d,this,x)}toHex(x=!0){return ig("isCompressed",x),sg(this.toRawBytes(x))}}d.BASE=new d(e.Gx,e.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const{endo:p,nBitLength:h}=e,g=Tne(d,p?Math.ceil(h/2):h);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:v}}function One(t){const e=JB(t);return Mw(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Fne(t){const e=One(t),{Fp:n,n:i,nByteLength:f,nBitLength:b}=e,s=n.BYTES+1,y=2*n.BYTES+1;function r(F){return ts(F,i)}function o(F){return D8(F,i)}const{ProjectivePoint:v,normPrivateKeyToScalar:c,weierstrassEquation:u,isWithinCurveOrder:l}=Mne({...e,toBytes(F,$,N){const k=$.toAffine(),j=n.toBytes(k.x),W=b2;return ig("isCompressed",N),N?W(Uint8Array.from([$.hasEvenY()?2:3]),j):W(Uint8Array.from([4]),j,n.toBytes(k.y))},fromBytes(F){const $=F.length,N=F[0],k=F.subarray(1);if($===s&&(N===2||N===3)){const j=pd(k);if(!O9(j,Yr,n.ORDER))throw new Error("Point is not on curve");const W=u(j);let G;try{G=n.sqrt(W)}catch(X){const U=X instanceof Error?": "+X.message:"";throw new Error("Point is not on curve"+U)}const K=(G&Yr)===Yr;return(N&1)===1!==K&&(G=n.neg(G)),{x:j,y:G}}else if($===y&&N===4){const j=n.fromBytes(k.subarray(0,n.BYTES)),W=n.fromBytes(k.subarray(n.BYTES,2*n.BYTES));return{x:j,y:W}}else{const j=s,W=y;throw new Error("invalid Point, expected length of "+j+", or uncompressed "+W+", got "+$)}}});function a(F){const $=i>>Yr;return F>$}function d(F){return a(F)?r(-F):F}const p=(F,$,N)=>pd(F.slice($,N));class h{constructor($,N,k){zf("r",$,Yr,i),zf("s",N,Yr,i),this.r=$,this.s=N,k!=null&&(this.recovery=k),Object.freeze(this)}static fromCompact($){const N=f;return $=aa("compactSignature",$,N*2),new h(p($,0,N),p($,N,2*N))}static fromDER($){const{r:N,s:k}=Dl.toSig(aa("DER",$));return new h(N,k)}assertValidity(){}addRecoveryBit($){return new h(this.r,this.s,$)}recoverPublicKey($){const{r:N,s:k,recovery:j}=this,W=E(aa("msgHash",$));if(j==null||![0,1,2,3].includes(j))throw new Error("recovery id invalid");const G=j===2||j===3?N+e.n:N;if(G>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const K=(j&1)===0?"02":"03",z=v.fromHex(K+yb(G,n.BYTES)),X=o(G),U=r(-W*X),Z=r(k*X),V=v.BASE.multiplyAndAddUnsafe(z,U,Z);if(!V)throw new Error("point at infinify");return V.assertValidity(),V}hasHighS(){return a(this.s)}normalizeS(){return this.hasHighS()?new h(this.r,r(-this.s),this.recovery):this}toDERRawBytes(){return x2(this.toDERHex())}toDERHex(){return Dl.hexFromSig(this)}toCompactRawBytes(){return x2(this.toCompactHex())}toCompactHex(){const $=f;return yb(this.r,$)+yb(this.s,$)}}const g={isValidPrivateKey(F){try{return c(F),!0}catch{return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const F=XB(e.n);return Cne(e.randomBytes(F),e.n)},precompute(F=8,$=v.BASE){return $._setWindowSize(F),$.multiply(BigInt(3)),$}};function m(F,$=!0){return v.fromPrivateKey(F).toRawBytes($)}function x(F){if(typeof F=="bigint")return!1;if(F instanceof v)return!0;const N=aa("key",F).length,k=n.BYTES,j=k+1,W=2*k+1;if(!(e.allowedPrivateKeyLengths||f===j))return N===j||N===W}function w(F,$,N=!0){if(x(F)===!0)throw new Error("first arg must be private key");if(x($)===!1)throw new Error("second arg must be public key");return v.fromHex($).multiply(c(F)).toRawBytes(N)}const C=e.bits2int||function(F){if(F.length>8192)throw new Error("input is too large");const $=pd(F),N=F.length*8-b;return N>0?$>>BigInt(N):$},E=e.bits2int_modN||function(F){return r(C(F))},T=Rw(b);function S(F){return zf("num < 2^"+b,F,zl,T),im(F,f)}function A(F,$,N=P){if(["recovered","canonical"].some(_=>_ in N))throw new Error("sign() legacy options not supported");const{hash:k,randomBytes:j}=e;let{lowS:W,prehash:G,extraEntropy:K}=N;W==null&&(W=!0),F=aa("msgHash",F),WI(N),G&&(F=aa("prehashed msgHash",k(F)));const z=E(F),X=c($),U=[S(X),S(z)];if(K!=null&&K!==!1){const _=K===!0?j(n.BYTES):K;U.push(aa("extraEntropy",_))}const Z=b2(...U),V=z;function J(_){const ee=C(_);if(!l(ee))return;const te=o(ee),ie=v.BASE.multiply(ee).toAffine(),le=r(ie.x);if(le===zl)return;const he=r(te*r(V+le*X));if(he===zl)return;let fe=(ie.x===le?0:2)|Number(ie.y&Yr),oe=he;return W&&a(he)&&(oe=d(he),fe^=1),new h(le,oe,fe)}return{seed:Z,k2sig:J}}const P={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function L(F,$,N=P){const{seed:k,k2sig:j}=A(F,$,N),W=e;return Aee(W.hash.outputLen,W.nByteLength,W.hmac)(k,j)}v.BASE._setWindowSize(8);function D(F,$,N,k=R){const j=F;$=aa("msgHash",$),N=aa("publicKey",N);const{lowS:W,prehash:G,format:K}=k;if(WI(k),"strict"in k)throw new Error("options.strict was renamed to lowS");if(K!==void 0&&K!=="compact"&&K!=="der")throw new Error("format must be compact or der");const z=typeof j=="string"||rm(j),X=!z&&!K&&typeof j=="object"&&j!==null&&typeof j.r=="bigint"&&typeof j.s=="bigint";if(!z&&!X)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let U,Z;try{if(X&&(U=new h(j.r,j.s)),z){try{K!=="compact"&&(U=h.fromDER(j))}catch(fe){if(!(fe instanceof Dl.Err))throw fe}!U&&K!=="der"&&(U=h.fromCompact(j))}Z=v.fromHex(N)}catch{return!1}if(!U||W&&U.hasHighS())return!1;G&&($=e.hash($));const{r:V,s:J}=U,_=E($),ee=o(J),te=r(_*ee),ie=r(V*ee),le=v.BASE.multiplyAndAddUnsafe(Z,te,ie)?.toAffine();return le?r(le.x)===V:!1}return{CURVE:e,getPublicKey:m,getSharedSecret:w,sign:L,verify:D,ProjectivePoint:v,Signature:h,utils:g}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function $ne(t){return{hash:t,hmac:(e,...n)=>UB(t,e,N_(...n)),randomBytes:k_}}function Lne(t,e){const n=i=>Fne({...t,...$ne(i)});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const QB=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),GI=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Dne=BigInt(0),Nne=BigInt(1),k8=BigInt(2),VI=(t,e)=>(t+e/k8)/e;function kne(t){const e=QB,n=BigInt(3),i=BigInt(6),f=BigInt(11),b=BigInt(22),s=BigInt(23),y=BigInt(44),r=BigInt(88),o=t*t*t%e,v=o*o*t%e,c=_s(v,n,e)*v%e,u=_s(c,n,e)*v%e,l=_s(u,k8,e)*o%e,a=_s(l,f,e)*l%e,d=_s(a,b,e)*a%e,p=_s(d,y,e)*d%e,h=_s(p,r,e)*p%e,g=_s(h,y,e)*d%e,m=_s(g,n,e)*v%e,x=_s(m,s,e)*a%e,w=_s(x,i,e)*o%e,C=_s(w,k8,e);if(!B8.eql(B8.sqr(C),t))throw new Error("Cannot find square root");return C}const B8=V9(QB,void 0,void 0,{sqrt:kne}),_B=Lne({a:Dne,b:BigInt(7),Fp:B8,n:GI,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=GI,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-Nne*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),f=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),b=n,s=BigInt("0x100000000000000000000000000000000"),y=VI(b*t,e),r=VI(-i*t,e);let o=ts(t-y*n-r*f,e),v=ts(-y*i-r*b,e);const c=o>s,u=v>s;if(c&&(o=e-o),u&&(v=e-v),o>s||v>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:c,k1:o,k2neg:u,k2:v}}}},Hk),Bne=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:_B},Symbol.toStringTag,{value:"Module"}));function qB(t,e={}){const{recovered:n}=e;if(typeof t.r>"u")throw new xb({signature:t});if(typeof t.s>"u")throw new xb({signature:t});if(n&&typeof t.yParity>"u")throw new xb({signature:t});if(t.r<0n||t.r>NI)throw new Hne({value:t.r});if(t.s<0n||t.s>NI)throw new Yne({value:t.s});if(typeof t.yParity=="number"&&t.yParity!==0&&t.yParity!==1)throw new Y9({value:t.yParity})}function Une(t){return eU(to(t))}function eU(t){if(t.length!==130&&t.length!==132)throw new Vne({signature:t});const e=BigInt(Zo(t,0,32)),n=BigInt(Zo(t,32,64)),i=(()=>{const f=+`0x${t.slice(130)}`;if(!Number.isNaN(f))try{return H9(f)}catch{throw new Y9({value:f})}})();return typeof i>"u"?{r:e,s:n}:{r:e,s:n,yParity:i}}function jne(t){if(!(typeof t.r>"u")&&!(typeof t.s>"u"))return zne(t)}function zne(t){const e=typeof t=="string"?eU(t):t instanceof Uint8Array?Une(t):typeof t.r=="string"?Gne(t):t.v?Wne(t):{r:t.r,s:t.s,...typeof t.yParity<"u"?{yParity:t.yParity}:{}};return qB(e),e}function Wne(t){return{r:t.r,s:t.s,yParity:H9(t.v)}}function Gne(t){const e=(()=>{const n=t.v?Number(t.v):void 0;let i=t.yParity?Number(t.yParity):void 0;if(typeof n=="number"&&typeof i!="number"&&(i=H9(n)),typeof i!="number")throw new Y9({value:t.yParity});return i})();return{r:BigInt(t.r),s:BigInt(t.s),yParity:e}}function H9(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new Xne({value:t})}class Vne extends Jt{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${js(Qee(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class xb extends Jt{constructor({signature:e}){super(`Signature \`${nB(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class Hne extends Jt{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class Yne extends Jt{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class Y9 extends Jt{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class Xne extends Jt{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function Kne(t,e={}){return typeof t.chainId=="string"?Zne(t):{...t,...e.signature}}function Zne(t){const{address:e,chainId:n,nonce:i}=t,f=jne(t);return{address:e,chainId:Number(n),nonce:BigInt(i),...f}}const Jne="0x8010801080108010801080108010801080108010801080108010801080108010",Qne=DB("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function tU(t){if(typeof t=="string"){if(Zo(t,-32)!==Jne)throw new ere(t)}else qB(t.authorization)}function _ne(t){tU(t);const e=oB(Zo(t,-64,-32)),n=Zo(t,-e-64,-64),i=Zo(t,0,-e-64),[f,b,s]=cne(Qne,n);return{authorization:Kne({address:f.delegation,chainId:Number(f.chainId),nonce:f.nonce,yParity:f.yParity,r:f.r,s:f.s}),signature:i,...s&&s!=="0x"?{data:s,to:b}:{}}}function qne(t){try{return tU(t),!0}catch{return!1}}let ere=class extends Jt{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};class tre extends Ne{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function nre(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new tre({value:t});let[n,i="0"]=t.split(".");const f=n.startsWith("-");if(f&&(n=n.slice(1)),i=i.replace(/(0+)$/,""),e===0)Math.round(+`.${i}`)===1&&(n=`${BigInt(n)+1n}`),i="";else if(i.length>e){const[b,s,y]=[i.slice(0,e-1),i.slice(e-1,e),i.slice(e)],r=Math.round(+`${s}.${y}`);r>9?i=`${BigInt(b)+BigInt(1)}0`.padStart(b.length+1,"0"):i=`${b}${r}`,i.length>e&&(i=i.slice(1),n=`${BigInt(n)+1n}`),i=i.slice(0,e)}else i=i.padEnd(e,"0");return BigInt(`${f?"-":""}${n}${i}`)}function nU(t,e="wei"){return nre(t,Uk[e])}const rre={path:"/api/v1/analytics_events",method:"POST"},ire={path:"/api/v1/apps/:app_id",method:"GET"},sre={path:"/api/v1/funding/coinbase_on_ramp/init",method:"POST"},are={path:"/api/v1/funding/coinbase_on_ramp/status",method:"GET"},ore={path:"/api/v1/apps/:app_id/cross-app/connections",method:"GET"},lre={path:"/api/v1/custom_jwt_account/authenticate",method:"POST"},ure={path:"/api/v1/farcaster/init",method:"POST"},cre={path:"/api/v1/farcaster/authenticate",method:"POST"},dre={path:"/api/v1/farcaster/link",method:"POST"},hre={path:"/api/v1/farcaster/unlink",method:"POST"},fre={path:"/api/v1/farcaster/status",method:"GET"},pre={path:"/api/v2/farcaster/init",method:"POST"},vre={path:"/api/v2/farcaster/authenticate",method:"POST"},gre={path:"/api/v1/guest/authenticate",method:"POST"},mre={path:"/api/v1/mfa/passkeys/init",method:"POST"},yre={path:"/api/v1/mfa/passwordless_sms/init",method:"POST"},wre={path:"/api/v1/oauth/authenticate",method:"POST"},xre={path:"/api/v1/oauth/init",method:"POST"},bre={path:"/api/v1/oauth/link",method:"POST"},Cre={path:"/api/v1/oauth/unlink",method:"POST"},Ere={path:"/api/v1/passkeys/link",method:"POST"},Sre={path:"/api/v1/passkeys/authenticate",method:"POST"},Tre={path:"/api/v1/passkeys/register",method:"POST"},Are={path:"/api/v1/passkeys/authenticate/init",method:"POST"},Pre={path:"/api/v1/passkeys/register/init",method:"POST"},Ire={path:"/api/v1/passkeys/link/init",method:"POST"},Rre={path:"/api/v1/passwordless/authenticate",method:"POST"},Mre={path:"/api/v1/passwordless/init",method:"POST"},Ore={path:"/api/v1/passwordless/link",method:"POST"},Fre={path:"/api/v1/passwordless/unlink",method:"POST"},$re={path:"/api/v1/passwordless/update",method:"POST"},Lre={path:"/api/v1/passwordless_sms/authenticate",method:"POST"},Dre={path:"/api/v1/passwordless_sms/init",method:"POST"},Nre={path:"/api/v1/passwordless_sms/link",method:"POST"},kre={path:"/api/v1/passwordless_sms/unlink",method:"POST"},Bre={path:"/api/v1/passwordless_sms/update",method:"POST"},Ure={path:"/api/v1/embedded_wallets/:address/recovery/key_material",method:"POST"},jre={path:"/api/v1/recovery/oauth/init",method:"POST"},zre={path:"/api/v1/recovery/oauth/authenticate",method:"POST"},Wre={path:"/api/v1/recovery/oauth/init_icloud",method:"POST"},Gre={path:"/api/v1/recovery/configuration_icloud",method:"POST"},Vre=(t,e)=>e?Object.entries(e).reduce(((n,[i,f])=>n.replace(`:${i}`,`${f}`)),t):t,HI={path:"/api/v1/sessions",method:"POST"},Hre={path:"/api/v1/sessions/logout",method:"POST"},Yre={path:"/api/v1/apps/:app_id/smart_wallets",method:"GET"},rU={path:"/api/v1/siwe/init",method:"POST"},Xre={path:"/api/v1/siwe/authenticate",method:"POST"},Kre={path:"/api/v1/siwe/link",method:"POST"},Zre={path:"/api/v1/siwe/link_smart_wallet",method:"POST"},Jre={path:"/api/v1/siwe/unlink",method:"POST"},Qre={path:"/api/v1/siws/init",method:"POST"},_re={path:"/api/v1/siws/authenticate",method:"POST"},qre={path:"/api/v1/siws/link",method:"POST"},eie={path:"/api/v1/siws/unlink",method:"POST"},tie={path:"/api/v1/users/me/accept_terms",method:"POST"},nie={path:"/api/v1/plugins/moonpay_on_ramp/sign",method:"POST"},rie={path:"/api/v1/wallets",method:"POST"},bb={path:"/api/v1/wallets/:wallet_id/rpc",method:"POST"},iie={path:"/api/v1/wallets/revoke",method:"POST"};var St,YI=((St={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",St.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",St.MISSING_OR_INVALID_PRIVY_CLIENT_ID="missing_or_invalid_privy_client_id",St.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",St.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",St.MISSING_MFA_ENROLLMENT="missing_mfa_enrollment",St.MISSING_OR_INVALID_MFA="missing_or_invalid_mfa",St.EXPIRED_OR_INVALID_MFA_TOKEN="expired_or_invalid_mfa_token",St.INVALID_DATA="invalid_data",St.INVALID_CREDENTIALS="invalid_credentials",St.INVALID_CAPTCHA="invalid_captcha",St.LINKED_TO_ANOTHER_USER="linked_to_another_user",St.ALLOWLIST_REJECTED="allowlist_rejected",St.CANNOT_UNLINK_EMBEDDED_WALLET="cannot_unlink_embedded_wallet",St.CANNOT_UNLINK_SOLE_ACCOUNT="cannot_unlink_sole_account",St.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",St.LINKED_ACCOUNT_NOT_FOUND="linked_account_not_found",St.TOO_MANY_REQUESTS="too_many_requests",St.RESOURCE_CONFLICT="resource_conflict",St.INVALID_ORIGIN="invalid_origin",St.MISSING_ORIGIN="missing_origin",St.INVALID_NATIVE_APP_ID="invalid_native_app_id",St.TOKEN_ALREADY_USED="token_already_used",St.ALREADY_LOGGED_OUT="already_logged_out",St.NOT_SUPPORTED="not_supported",St.USER_UNSUBSCRIBED="user_unsubscribed",St.MAX_APPS_REACHED="max_apps_reached",St.USER_LIMIT_REACHED="max_accounts_reached",St.DEVICE_REVOKED="device_revoked",St.WALLET_PASSWORD_EXISTS="wallet_password_exists",St.OAUTH_STATE_MISMATCH="oauth_state_mismatch",St.MAX_DENYLIST_ENTRIES_REACHED="max_denylist_entries_reached",St.MAX_TEST_ACCOUNTS_REACHED="max_test_accounts_reached",St.DISALLOWED_LOGIN_METHOD="disallowed_login_method",St.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",St.DISALLOWED_RECOVERY_METHOD="disallowed_recovery_method",St.LEGACY_DASHBOARD_LOGIN_CONFIGURATION="legacy_dashboard_login_configuration",St.CANNOT_SET_PASSWORD="cannot_set_password",St.INVALID_PKCE_PARAMETERS="invalid_pkce_parameters",St.INVALID_APP_URL_SCHEME_CONFIGURATION="invalid_app_url_scheme_configuration",St.CROSS_APP_CONNECTION_NOT_ALLOWED="cross_app_connection_not_allowed",St.USER_DOES_NOT_EXIST="user_does_not_exist",St.ALREADY_EXISTS="resource_already_exists",St.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",St.USER_HAS_NOT_DELEGATED_WALLET="user_has_not_delegated_wallet",St.FEATURE_NOT_ENABLED="feature_not_enabled",St.INSUFFICIENT_FUNDS="insufficient_funds",St.TRANSACTION_BROADCAST_FAILURE="transaction_broadcast_failure",St.INVALID_POLICY_FORMAT="invalid_policy_format",St.POLICY_VIOLATION="policy_violation",St.AUTHORIZATION_KEY_HAS_ASSOCIATED_WALLETS="authorization_key_has_associated_wallets",St.INVALID_REQUEST="invalid_request",St.SIGNUP_DISABLED="signup_disabled",St);function XI(t,e){t=t.split("-"),e=e.split("-");for(var n=t[0].split("."),i=e[0].split("."),f=0;f<3;f++){var b=Number(n[f]),s=Number(i[f]);if(b>s)return 1;if(s>b)return-1;if(!isNaN(b)&&isNaN(s))return 1;if(isNaN(b)&&!isNaN(s))return-1}return t[1]&&e[1]?t[1]>e[1]?1:t[1]<e[1]?-1:0:!t[1]&&e[1]?1:t[1]&&!e[1]?-1:0}var sie={}.constructor;function vd(t){return t!=null&&t.constructor===sie}function op(t){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},op(t)}function kw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aie(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,oie(i.key),i)}}function Bw(t,e,n){return e&&aie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oie(t){var e=lie(t,"string");return op(e)=="symbol"?e:e+""}function lie(t,e){if(op(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(op(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var uie="1.2.0",cie="1.7.35",KI=" ext. ",die=/^\d+$/,Lr=(function(){function t(e){kw(this,t),iU(e),this.metadata=e,sU.call(this,e)}return Bw(t,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(n){return n!=="001"})}},{key:"getCountryMetadata",value:function(n){return this.metadata.countries[n]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(n){return this.getCountryMetadata(n)!==void 0}},{key:"hasCallingCode",value:function(n){if(this.getCountryCodesForCallingCode(n))return!0;if(this.nonGeographic()){if(this.nonGeographic()[n])return!0}else{var i=this.countryCallingCodes()[n];if(i&&i.length===1&&i[0]==="001")return!0}}},{key:"isNonGeographicCallingCode",value:function(n){return this.nonGeographic()?!!this.nonGeographic()[n]:!this.getCountryCodesForCallingCode(n)}},{key:"country",value:function(n){return this.selectNumberingPlan(n)}},{key:"selectNumberingPlan",value:function(n,i){if(n&&die.test(n)&&(i=n,n=null),n&&n!=="001"){if(!this.hasCountry(n))throw new Error("Unknown country: ".concat(n));this.numberingPlan=new ZI(this.getCountryMetadata(n),this)}else if(i){if(!this.hasCallingCode(i))throw new Error("Unknown calling code: ".concat(i));this.numberingPlan=new ZI(this.getNumberingPlanMetadata(i),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(n){var i=this.countryCallingCodes()[n];if(i)return i.length===1&&i[0].length===3?void 0:i}},{key:"getCountryCodeForCallingCode",value:function(n){var i=this.getCountryCodesForCallingCode(n);if(i)return i[0]}},{key:"getNumberingPlanMetadata",value:function(n){var i=this.getCountryCodeForCallingCode(n);if(i)return this.getCountryMetadata(i);if(this.nonGeographic()){var f=this.nonGeographic()[n];if(f)return f}else{var b=this.countryCallingCodes()[n];if(b&&b.length===1&&b[0]==="001")return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(n){return this.numberingPlan.type(n)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(n){return this.selectNumberingPlan(n)}},{key:"hasSelectedNumberingPlan",value:function(){return this.numberingPlan!==void 0}}])})(),ZI=(function(){function t(e,n){kw(this,t),this.globalMetadataObject=n,this.metadata=e,sU.call(this,n.metadata)}return Bw(t,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(n){return n[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var n=this,i=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return i.map(function(f){return new hie(f,n)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(n){return n[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return this.types()&&this.types().length===0?!1:!!this.types()}},{key:"type",value:function(n){if(this.hasTypes()&&JI(this.types(),n))return new pie(JI(this.types(),n),this)}},{key:"ext",value:function(){return this.v1||this.v2?KI:this.metadata[13]||KI}}])})(),hie=(function(){function t(e,n){kw(this,t),this._format=e,this.metadata=n}return Bw(t,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!!(this.nationalPrefixFormattingRule()&&!fie.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}])})(),fie=/^\(?\$1\)?$/,pie=(function(){function t(e,n){kw(this,t),this.type=e,this.metadata=n}return Bw(t,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}])})();function JI(t,e){switch(e){case"FIXED_LINE":return t[0];case"MOBILE":return t[1];case"TOLL_FREE":return t[2];case"PREMIUM_RATE":return t[3];case"PERSONAL_NUMBER":return t[4];case"VOICEMAIL":return t[5];case"UAN":return t[6];case"PAGER":return t[7];case"VOIP":return t[8];case"SHARED_COST":return t[9]}}function iU(t){if(!t)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!vd(t)||!vd(t.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(vd(t)?"an object of shape: { "+Object.keys(t).join(", ")+" }":"a "+vie(t)+": "+t,"."))}var vie=function(e){return op(e)};function Uw(t,e){if(e=new Lr(e),e.hasCountry(t))return e.selectNumberingPlan(t).countryCallingCode();throw new Error("Unknown country: ".concat(t))}function gie(t,e){return e.countries.hasOwnProperty(t)}function sU(t){var e=t.version;typeof e=="number"?(this.v1=e===1,this.v2=e===2,this.v3=e===3,this.v4=e===4):e?XI(e,uie)===-1?this.v2=!0:XI(e,cie)===-1?this.v3=!0:this.v4=!0:this.v1=!0}function jw(t,e,n){return mie(t,e,void 0,n)}function mie(t,e,n,i){e&&(i=new Lr(i.metadata),i.selectNumberingPlan(e));var f=i.type(n),b=f&&f.possibleLengths()||i.possibleLengths();if(!b)return"IS_POSSIBLE";var s=t.length,y=b[0];return y===s?"IS_POSSIBLE":y>s?"TOO_SHORT":b[b.length-1]<s?"TOO_LONG":b.indexOf(s,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function yie(t,e,n){if(e===void 0&&(e={}),n=new Lr(n),e.v2){if(!t.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(t.countryCallingCode)}else{if(!t.phone)return!1;if(t.country){if(!n.hasCountry(t.country))throw new Error("Unknown country: ".concat(t.country));n.selectNumberingPlan(t.country)}else{if(!t.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(t.countryCallingCode)}}if(n.possibleLengths())return aU(t.phone||t.nationalNumber,t.country,n);if(t.countryCallingCode&&n.isNonGeographicCallingCode(t.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}function aU(t,e,n){switch(jw(t,e,n)){case"IS_POSSIBLE":return!0;default:return!1}}function _l(t,e){return t=t||"",new RegExp("^(?:"+e+")$").test(t)}function wie(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=xie(t))||e){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xie(t,e){if(t){if(typeof t=="string")return QI(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?QI(t,e):void 0}}function QI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}var bie=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function X9(t,e,n){if(e=e||{},!(!t.country&&!t.countryCallingCode)){n=new Lr(n),n.selectNumberingPlan(t.country,t.countryCallingCode);var i=e.v2?t.nationalNumber:t.phone;if(_l(i,n.nationalNumberPattern())){if(Cb(i,"FIXED_LINE",n))return n.type("MOBILE")&&n.type("MOBILE").pattern()===""||!n.type("MOBILE")||Cb(i,"MOBILE",n)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE";for(var f=wie(bie),b;!(b=f()).done;){var s=b.value;if(Cb(i,s,n))return s}}}}function Cb(t,e,n){return e=n.type(e),!e||!e.pattern()||e.possibleLengths()&&e.possibleLengths().indexOf(t.length)<0?!1:_l(t,e.pattern())}function Cie(t,e,n){if(e=e||{},n=new Lr(n),n.selectNumberingPlan(t.country,t.countryCallingCode),n.hasTypes())return X9(t,e,n.metadata)!==void 0;var i=e.v2?t.nationalNumber:t.phone;return _l(i,n.nationalNumberPattern())}function Eie(t,e,n){var i=new Lr(n),f=i.getCountryCodesForCallingCode(t);return f?f.filter(function(b){return Sie(e,b,n)}):[]}function Sie(t,e,n){var i=new Lr(n);return i.selectNumberingPlan(e),i.numberingPlan.possibleLengths().indexOf(t.length)>=0}var K9=2,Tie=17,Aie=3,Bi="0-9---",Pie="--",Iie="/",Rie=".",Mie=" ",Oie="()\\[\\]",Fie="~",Ya="".concat(Pie).concat(Iie).concat(Rie).concat(Mie).concat(Oie).concat(Fie),zw="+",$ie=new RegExp("(["+Bi+"])");function oU(t,e,n,i){if(e){var f=new Lr(i);f.selectNumberingPlan(e,n);var b=new RegExp(f.IDDPrefix());if(t.search(b)===0){t=t.slice(t.match(b)[0].length);var s=t.match($ie);if(!(s&&s[1]!=null&&s[1].length>0&&s[1]==="0"))return t}}}function U8(t,e){if(t&&e.numberingPlan.nationalPrefixForParsing()){var n=new RegExp("^(?:"+e.numberingPlan.nationalPrefixForParsing()+")"),i=n.exec(t);if(i){var f,b,s=i.length-1,y=s>0&&i[s];if(e.nationalPrefixTransformRule()&&y)f=t.replace(n,e.nationalPrefixTransformRule()),s>1&&(b=i[1]);else{var r=i[0];f=t.slice(r.length),y&&(b=i[1])}var o;if(y){var v=t.indexOf(i[1]),c=t.slice(0,v);c===e.numberingPlan.nationalPrefix()&&(o=e.numberingPlan.nationalPrefix())}else o=i[0];return{nationalNumber:f,nationalPrefix:o,carrierCode:b}}}return{nationalNumber:t}}function Lie(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=Die(t))||e){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Die(t,e){if(t){if(typeof t=="string")return _I(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_I(t,e):void 0}}function _I(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function lU(t,e){var n=e.countries,i=e.metadata;i=new Lr(i);for(var f=Lie(n),b;!(b=f()).done;){var s=b.value;if(i.selectNumberingPlan(s),i.leadingDigits()){if(t&&t.search(i.leadingDigits())===0)return s}else if(X9({phone:t,country:s},void 0,i.metadata))return s}}function Z9(t,e){var n=e.nationalNumber,i=e.metadata,f=i.getCountryCodesForCallingCode(t);if(f)return f.length===1?f[0]:lU(n,{countries:f,metadata:i.metadata})}function j8(t,e,n){var i=U8(t,n),f=i.carrierCode,b=i.nationalNumber;if(b!==t){if(!Nie(t,b,n))return{nationalNumber:t};if(n.numberingPlan.possibleLengths()&&(e||(e=Z9(n.numberingPlan.callingCode(),{nationalNumber:b,metadata:n})),!kie(b,e,n)))return{nationalNumber:t}}return{nationalNumber:b,carrierCode:f}}function Nie(t,e,n){return!(_l(t,n.nationalNumberPattern())&&!_l(e,n.nationalNumberPattern()))}function kie(t,e,n){switch(jw(t,e,n)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}function uU(t,e,n,i,f){var b=e||n?Uw(e||n,f):i;if(t.indexOf(b)===0){f=new Lr(f),f.selectNumberingPlan(e||n,b);var s=t.slice(b.length),y=j8(s,e,f),r=y.nationalNumber,o=j8(t,e,f),v=o.nationalNumber;if(!_l(v,f.nationalNumberPattern())&&_l(r,f.nationalNumberPattern())||jw(v,e,f)==="TOO_LONG")return{countryCallingCode:b,number:s}}return{number:t}}function J9(t,e,n,i,f){if(!t)return{};var b;if(t[0]!=="+"){var s=oU(t,e||n,i,f);if(s&&s!==t)b=!0,t="+"+s;else{if(e||n||i){var y=uU(t,e,n,i,f),r=y.countryCallingCode,o=y.number;if(r)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:r,number:o}}return{number:t}}}if(t[1]==="0")return{};f=new Lr(f);for(var v=2;v-1<=Aie&&v<=t.length;){var c=t.slice(1,v);if(f.hasCallingCode(c))return f.selectNumberingPlan(c),{countryCallingCodeSource:b?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:c,number:t.slice(v)};v++}return{}}function cU(t){return t.replace(new RegExp("[".concat(Ya,"]+"),"g")," ").trim()}var dU=/(\$\d)/;function hU(t,e,n){var i=n.useInternationalFormat,f=n.withNationalPrefix;n.carrierCode,n.metadata;var b=t.replace(new RegExp(e.pattern()),i?e.internationalFormat():f&&e.nationalPrefixFormattingRule()?e.format().replace(dU,e.nationalPrefixFormattingRule()):e.format());return i?cU(b):b}var Bie=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function Uie(t,e,n){var i=new Lr(n);if(i.selectNumberingPlan(t,e),i.defaultIDDPrefix())return i.defaultIDDPrefix();if(Bie.test(i.IDDPrefix()))return i.IDDPrefix()}var jie=";ext=",Vh=function(e){return"([".concat(Bi,"]{1,").concat(e,"})")};function fU(t){var e="20",n="15",i="9",f="6",b="[ \\t,]*",s="[:\\.]?[ \\t,-]*",y="#?",r="(?:e?xt(?:ensi(?:o?|))?n?|??||anexo)",o="(?:[x#~]|int|)",v="[- ]+",c="[ \\t]*",u="(?:,{2}|;)",l=jie+Vh(e),a=b+r+s+Vh(e)+y,d=b+o+s+Vh(i)+y,p=v+Vh(f)+"#",h=c+u+s+Vh(n)+y,g=c+"(?:,)+"+s+Vh(i)+y;return l+"|"+a+"|"+d+"|"+p+"|"+h+"|"+g}var zie="["+Bi+"]{"+K9+"}",Wie="["+zw+"]{0,1}(?:["+Ya+"]*["+Bi+"]){3,}["+Ya+Bi+"]*",Gie=new RegExp("^["+zw+"]{0,1}(?:["+Ya+"]*["+Bi+"]){1,2}$","i"),Vie=Wie+"(?:"+fU()+")?",Hie=new RegExp("^"+zie+"$|^"+Vie+"$","i");function Yie(t){return t.length>=K9&&Hie.test(t)}function Xie(t){return Gie.test(t)}function Kie(t){var e=t.number,n=t.ext;if(!e)return"";if(e[0]!=="+")throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(e).concat(n?";ext="+n:"")}var qI={formatExtension:function(e,n,i){return"".concat(e).concat(i.ext()).concat(n)}};function Zie(t,e,n,i){if(n?n=_ie({},qI,n):n=qI,i=new Lr(i),t.country&&t.country!=="001"){if(!i.hasCountry(t.country))throw new Error("Unknown country: ".concat(t.country));i.selectNumberingPlan(t.country)}else if(t.countryCallingCode)i.selectNumberingPlan(t.countryCallingCode);else return t.phone||"";var f=i.countryCallingCode(),b=n.v2?t.nationalNumber:t.phone,s;switch(e){case"NATIONAL":return b?(s=E2(b,t.carrierCode,"NATIONAL",i,n),Eb(s,t.ext,i,n.formatExtension)):"";case"INTERNATIONAL":return b?(s=E2(b,null,"INTERNATIONAL",i,n),s="+".concat(f," ").concat(s),Eb(s,t.ext,i,n.formatExtension)):"+".concat(f);case"E.164":return"+".concat(f).concat(b);case"RFC3966":return Kie({number:"+".concat(f).concat(b),ext:t.ext});case"IDD":if(!n.fromCountry)return;var y=Qie(b,t.carrierCode,f,n.fromCountry,i);return Eb(y,t.ext,i,n.formatExtension);default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(e,'"'))}}function E2(t,e,n,i,f){var b=Jie(i.formats(),t);return b?hU(t,b,{useInternationalFormat:n==="INTERNATIONAL",withNationalPrefix:!(b.nationalPrefixIsOptionalWhenFormattingInNationalFormat()&&f&&f.nationalPrefix===!1),carrierCode:e,metadata:i}):t}function Jie(t,e){return qie(t,function(n){if(n.leadingDigitsPatterns().length>0){var i=n.leadingDigitsPatterns()[n.leadingDigitsPatterns().length-1];if(e.search(i)!==0)return!1}return _l(e,n.pattern())})}function Eb(t,e,n,i){return e?i(t,e,n):t}function Qie(t,e,n,i,f){var b=Uw(i,f.metadata);if(b===n){var s=E2(t,e,"NATIONAL",f);return n==="1"?n+" "+s:s}var y=Uie(i,void 0,f.metadata);if(y)return"".concat(y," ").concat(n," ").concat(E2(t,null,"INTERNATIONAL",f))}function _ie(){for(var t=1,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(;t<n.length;){if(n[t])for(var f in n[t])n[0][f]=n[t][f];t++}return n[0]}function qie(t,e){for(var n=0;n<t.length;){if(e(t[n]))return t[n];n++}}function og(t){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},og(t)}function eR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(f){return Object.getOwnPropertyDescriptor(t,f).enumerable})),n.push.apply(n,i)}return n}function tR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eR(Object(n),!0).forEach(function(i){ese(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function ese(t,e,n){return(e=pU(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nse(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,pU(i.key),i)}}function rse(t,e,n){return e&&nse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pU(t){var e=ise(t,"string");return og(e)=="symbol"?e:e+""}function ise(t,e){if(og(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(og(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Q9=(function(){function t(e,n,i){if(tse(this,t),!e)throw new TypeError("First argument is required");if(typeof e!="string")throw new TypeError("First argument must be a string");if(e[0]==="+"&&!n)throw new TypeError("`metadata` argument not passed");if(vd(n)&&vd(n.countries)){i=n;var f=e;if(!ose.test(f))throw new Error('Invalid `number` argument passed: must consist of a "+" followed by digits');var b=J9(f,void 0,void 0,void 0,i),s=b.countryCallingCode,y=b.number;if(n=y,e=s,!n)throw new Error("Invalid `number` argument passed: too short")}if(!n)throw new TypeError("`nationalNumber` argument is required");if(typeof n!="string")throw new TypeError("`nationalNumber` argument must be a string");iU(i);var r=ase(e,i),o=r.country,v=r.countryCallingCode;this.country=o,this.countryCallingCode=v,this.nationalNumber=n,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return i}}return rse(t,[{key:"setExt",value:function(n){this.ext=n}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:Eie(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){return yie(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return Cie(this,{v2:!0},this.getMetadata())}},{key:"isNonGeographic",value:function(){var n=new Lr(this.getMetadata());return n.isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(n){return this.number===n.number&&this.ext===n.ext}},{key:"getType",value:function(){return X9(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(n,i){return Zie(this,n,i?tR(tR({},i),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(n){return this.format("NATIONAL",n)}},{key:"formatInternational",value:function(n){return this.format("INTERNATIONAL",n)}},{key:"getURI",value:function(n){return this.format("RFC3966",n)}}])})(),sse=function(e){return/^[A-Z]{2}$/.test(e)};function ase(t,e){var n,i,f=new Lr(e);return sse(t)?(n=t,f.selectNumberingPlan(n),i=f.countryCallingCode()):i=t,{country:n,countryCallingCode:i}}var ose=/^\+\d+$/;function z8(t){"@babel/helpers - typeof";return z8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z8(t)}function lse(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}function use(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cse(t,e,n){return e=ug(e),dse(t,_9()?Reflect.construct(e,n||[],ug(t).constructor):e.apply(t,n))}function dse(t,e){if(e&&(z8(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hse(t)}function hse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lg(t,e)}function W8(t){var e=typeof Map=="function"?new Map:void 0;return W8=function(i){if(i===null||!vse(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(i))return e.get(i);e.set(i,f)}function f(){return pse(i,arguments,ug(this).constructor)}return f.prototype=Object.create(i.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),lg(f,i)},W8(t)}function pse(t,e,n){if(_9())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,e);var f=new(t.bind.apply(t,i));return n&&lg(f,n.prototype),f}function _9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_9=function(){return!!t})()}function vse(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}}function lg(t,e){return lg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lg(t,e)}function ug(t){return ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ug(t)}var Nl=(function(t){function e(n){var i;return use(this,e),i=cse(this,e,[n]),Object.setPrototypeOf(i,e.prototype),i.name=i.constructor.name,i}return fse(e,t),lse(e)})(W8(Error)),nR=new RegExp("(?:"+fU()+")$","i");function gse(t){var e=t.search(nR);if(e<0)return{};for(var n=t.slice(0,e),i=t.match(nR),f=1;f<i.length;){if(i[f])return{number:n,ext:i[f]};f++}}function mse(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=yse(t))||e){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yse(t,e){if(t){if(typeof t=="string")return rR(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rR(t,e):void 0}}function rR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}var wse={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"};function vU(t){return wse[t]}function S2(t){for(var e="",n=mse(t.split("")),i;!(i=n()).done;){var f=i.value,b=vU(f);b&&(e+=b)}return e}function xse(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=bse(t))||e){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bse(t,e){if(t){if(typeof t=="string")return iR(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iR(t,e):void 0}}function iR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function sR(t){for(var e="",n=xse(t.split("")),i;!(i=n()).done;){var f=i.value;e+=Cse(f,e)||""}return e}function Cse(t,e,n){return t==="+"?e?void 0:"+":vU(t)}var gU="+",Ese="[\\-\\.\\(\\)]?",aR="(["+Bi+"]|"+Ese+")",Sse="^\\"+gU+aR+"*["+Bi+"]"+aR+"*$",Tse=new RegExp(Sse,"g"),G8=Bi,Ase="["+G8+"]+((\\-)*["+G8+"])*",Pse="a-zA-Z",Ise="["+Pse+"]+((\\-)*["+G8+"])*",Rse="^("+Ase+"\\.)*"+Ise+"\\.?$",Mse=new RegExp(Rse,"g"),oR="tel:",V8=";phone-context=",Ose=";isub=";function Fse(t){var e=t.indexOf(V8);if(e<0)return null;var n=e+V8.length;if(n>=t.length)return"";var i=t.indexOf(";",n);return i>=0?t.substring(n,i):t.substring(n)}function $se(t){return t===null?!0:t.length===0?!1:Tse.test(t)||Mse.test(t)}function Lse(t,e){var n=e.extractFormattedPhoneNumber,i=Fse(t);if(!$se(i))throw new Nl("NOT_A_NUMBER");var f;if(i===null)f=n(t)||"";else{f="",i.charAt(0)===gU&&(f+=i);var b=t.indexOf(oR),s;b>=0?s=b+oR.length:s=0;var y=t.indexOf(V8);f+=t.substring(s,y)}var r=f.indexOf(Ose);if(r>0&&(f=f.substring(0,r)),f!=="")return f}var Dse=250,Nse=new RegExp("["+zw+Bi+"]"),kse=new RegExp("[^"+Bi+"#]+$");function Bse(t,e,n){if(e=e||{},n=new Lr(n),e.defaultCountry&&!n.hasCountry(e.defaultCountry))throw e.v2?new Nl("INVALID_COUNTRY"):new Error("Unknown country: ".concat(e.defaultCountry));var i=jse(t,e.v2,e.extract),f=i.number,b=i.ext,s=i.error;if(!f){if(e.v2)throw s==="TOO_SHORT"?new Nl("TOO_SHORT"):new Nl("NOT_A_NUMBER");return{}}var y=Wse(f,e.defaultCountry,e.defaultCallingCode,n),r=y.country,o=y.nationalNumber,v=y.countryCallingCode,c=y.countryCallingCodeSource,u=y.carrierCode;if(!n.hasSelectedNumberingPlan()){if(e.v2)throw new Nl("INVALID_COUNTRY");return{}}if(!o||o.length<K9){if(e.v2)throw new Nl("TOO_SHORT");return{}}if(o.length>Tie){if(e.v2)throw new Nl("TOO_LONG");return{}}if(e.v2){var l=new Q9(v,o,n.metadata);return r&&(l.country=r),u&&(l.carrierCode=u),b&&(l.ext=b),l.__countryCallingCodeSource=c,l}var a=(e.extended?n.hasSelectedNumberingPlan():r)?_l(o,n.nationalNumberPattern()):!1;return e.extended?{country:r,countryCallingCode:v,carrierCode:u,valid:a,possible:a?!0:!!(e.extended===!0&&n.possibleLengths()&&aU(o,r,n)),phone:o,ext:b}:a?zse(r,o,b):{}}function Use(t,e,n){if(t){if(t.length>Dse){if(n)throw new Nl("TOO_LONG");return}if(e===!1)return t;var i=t.search(Nse);if(!(i<0))return t.slice(i).replace(kse,"")}}function jse(t,e,n){var i=Lse(t,{extractFormattedPhoneNumber:function(s){return Use(s,n,e)}});if(!i)return{};if(!Yie(i))return Xie(i)?{error:"TOO_SHORT"}:{};var f=gse(i);return f.ext?f:{number:i}}function zse(t,e,n){var i={country:t,phone:e};return n&&(i.ext=n),i}function Wse(t,e,n,i){var f=J9(sR(t),void 0,e,n,i.metadata),b=f.countryCallingCodeSource,s=f.countryCallingCode,y=f.number,r;if(s)i.selectNumberingPlan(s);else if(y&&(e||n))i.selectNumberingPlan(e,n),e&&(r=e),s=n||Uw(e,i.metadata);else return{};if(!y)return{countryCallingCodeSource:b,countryCallingCode:s};var o=j8(sR(y),r,i),v=o.nationalNumber,c=o.carrierCode,u=Z9(s,{nationalNumber:v,metadata:i});return u&&(r=u,u==="001"||i.selectNumberingPlan(r)),{country:r,countryCallingCode:s,countryCallingCodeSource:b,nationalNumber:v,carrierCode:c}}function cg(t){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cg(t)}function lR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(f){return Object.getOwnPropertyDescriptor(t,f).enumerable})),n.push.apply(n,i)}return n}function uR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lR(Object(n),!0).forEach(function(i){Gse(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lR(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Gse(t,e,n){return(e=Vse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vse(t){var e=Hse(t,"string");return cg(e)=="symbol"?e:e+""}function Hse(t,e){if(cg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(cg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yse(t,e,n){return Bse(t,uR(uR({},e),{},{v2:!0}),n)}function dg(t){"@babel/helpers - typeof";return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dg(t)}function cR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(f){return Object.getOwnPropertyDescriptor(t,f).enumerable})),n.push.apply(n,i)}return n}function Xse(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cR(Object(n),!0).forEach(function(i){Kse(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cR(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Kse(t,e,n){return(e=Zse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zse(t){var e=Jse(t,"string");return dg(e)=="symbol"?e:e+""}function Jse(t,e){if(dg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(dg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qse(t,e){return tae(t)||eae(t,e)||qse(t,e)||_se()}function _se(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qse(t,e){if(t){if(typeof t=="string")return dR(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dR(t,e):void 0}}function dR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function eae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,f,b,s,y=[],r=!0,o=!1;try{if(b=(n=n.call(t)).next,e!==0)for(;!(r=(i=b.call(n)).done)&&(y.push(i.value),y.length!==e);r=!0);}catch(v){o=!0,f=v}finally{try{if(!r&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(o)throw f}}return y}}function tae(t){if(Array.isArray(t))return t}function nae(t){var e=Array.prototype.slice.call(t),n=Qse(e,4),i=n[0],f=n[1],b=n[2],s=n[3],y,r,o;if(typeof i=="string")y=i;else throw new TypeError("A text for parsing must be a string.");if(!f||typeof f=="string")s?(r=b,o=s):(r=void 0,o=b),f&&(r=Xse({defaultCountry:f},r));else if(vd(f))b?(r=f,o=b):o=f;else throw new Error("Invalid second argument: ".concat(f));return{text:y,options:r,metadata:o}}function hg(t){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hg(t)}function hR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(f){return Object.getOwnPropertyDescriptor(t,f).enumerable})),n.push.apply(n,i)}return n}function fR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hR(Object(n),!0).forEach(function(i){rae(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hR(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function rae(t,e,n){return(e=iae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iae(t){var e=sae(t,"string");return hg(e)=="symbol"?e:e+""}function sae(t,e){if(hg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(hg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aae(t,e,n){e&&e.defaultCountry&&!gie(e.defaultCountry,n)&&(e=fR(fR({},e),{},{defaultCountry:void 0}));try{return Yse(t,e,n)}catch(i){if(!(i instanceof Nl))throw i}}function fg(t){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fg(t)}function pR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(f){return Object.getOwnPropertyDescriptor(t,f).enumerable})),n.push.apply(n,i)}return n}function vR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pR(Object(n),!0).forEach(function(i){oae(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pR(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function oae(t,e,n){return(e=lae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lae(t){var e=uae(t,"string");return fg(e)=="symbol"?e:e+""}function uae(t,e){if(fg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(fg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cae(){var t=nae(arguments),e=t.text,n=t.options,i=t.metadata;n=vR(vR({},n),{},{extract:!1});var f=aae(e,n,i);return f&&f.isPossible()||!1}function pg(t){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pg(t)}function dae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hae(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,pae(i.key),i)}}function fae(t,e,n){return e&&hae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pae(t){var e=vae(t,"string");return pg(e)=="symbol"?e:e+""}function vae(t,e){if(pg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(pg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gae=(function(){function t(e){var n=e.onCountryChange,i=e.onCallingCodeChange;dae(this,t),this.onCountryChange=n,this.onCallingCodeChange=i}return fae(t,[{key:"reset",value:function(n){var i=n.country,f=n.callingCode;this.international=!1,this.missingPlus=!1,this.IDDPrefix=void 0,this.callingCode=void 0,this.digits="",this.resetNationalSignificantNumber(),this.initCountryAndCallingCode(i,f)}},{key:"resetNationalSignificantNumber",value:function(){this.nationalSignificantNumber=this.getNationalDigits(),this.nationalSignificantNumberIsModified=!1,this.nationalPrefix=void 0,this.carrierCode=void 0,this.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix=void 0}},{key:"update",value:function(n){for(var i=0,f=Object.keys(n);i<f.length;i++){var b=f[i];this[b]=n[b]}}},{key:"initCountryAndCallingCode",value:function(n,i){this.setCountry(n),this.setCallingCode(i)}},{key:"setCountry",value:function(n){this.country=n,this.onCountryChange(n)}},{key:"setCallingCode",value:function(n){this.callingCode=n,this.onCallingCodeChange(n,this.country)}},{key:"startInternationalNumber",value:function(n,i){this.international=!0,this.initCountryAndCallingCode(n,i)}},{key:"appendDigits",value:function(n){this.digits+=n}},{key:"appendNationalSignificantNumberDigits",value:function(n){this.nationalSignificantNumber+=n}},{key:"getNationalDigits",value:function(){return this.international?this.digits.slice((this.IDDPrefix?this.IDDPrefix.length:0)+(this.callingCode?this.callingCode.length:0)):this.digits}},{key:"getDigitsWithoutInternationalPrefix",value:function(){return this.international&&this.IDDPrefix?this.digits.slice(this.IDDPrefix.length):this.digits}}])})();function mae(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=yae(t))||e){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yae(t,e){if(t){if(typeof t=="string")return gR(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gR(t,e):void 0}}function gR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}var Ua="x",Sb=new RegExp(Ua);function By(t,e){if(e<1)return"";for(var n="";e>1;)e&1&&(n+=t),e>>=1,t+=t;return n+t}function mR(t,e){return t[e]===")"&&e++,wae(t.slice(0,e))}function wae(t){for(var e=[],n=0;n<t.length;)t[n]==="("?e.push(n):t[n]===")"&&e.pop(),n++;var i=0,f="";e.push(t.length);for(var b=0,s=e;b<s.length;b++){var y=s[b];f+=t.slice(i,y),i=y+1}return f}function xae(t,e,n){for(var i=mae(n.split("")),f;!(f=i()).done;){var b=f.value;if(t.slice(e+1).search(Sb)<0)return;e=t.search(Sb),t=t.replace(Sb,b)}return[t,e]}function bae(t,e,n){var i=n.metadata,f=n.shouldTryNationalPrefixFormattingRule,b=n.getSeparatorAfterNationalPrefix,s=new RegExp("^(?:".concat(e.pattern(),")$"));if(s.test(t.nationalSignificantNumber))return Eae(t,e,{metadata:i,shouldTryNationalPrefixFormattingRule:f,getSeparatorAfterNationalPrefix:b})}function Cae(t,e,n){return jw(t,e,n)==="IS_POSSIBLE"}function Eae(t,e,n){var i=n.metadata,f=n.shouldTryNationalPrefixFormattingRule,b=n.getSeparatorAfterNationalPrefix;if(t.nationalSignificantNumber,t.international,t.nationalPrefix,t.carrierCode,f(e)){var s=yR(t,e,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:b,metadata:i});if(s)return s}return yR(t,e,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:b,metadata:i})}function yR(t,e,n){var i=n.metadata,f=n.useNationalPrefixFormattingRule,b=n.getSeparatorAfterNationalPrefix,s=hU(t.nationalSignificantNumber,e,{carrierCode:t.carrierCode,useInternationalFormat:t.international,withNationalPrefix:f,metadata:i});if(f||(t.nationalPrefix?s=t.nationalPrefix+b(e)+s:t.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix&&(s=t.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix+" "+s)),Sae(s,t))return s}function Sae(t,e){return S2(t)===e.getNationalDigits()}function vg(t){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vg(t)}function Tae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Aae(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Iae(i.key),i)}}function Pae(t,e,n){return e&&Aae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Iae(t){var e=Rae(t,"string");return vg(e)=="symbol"?e:e+""}function Rae(t,e){if(vg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(vg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mae=(function(){function t(){Tae(this,t)}return Pae(t,[{key:"parse",value:function(n){if(this.context=[{or:!0,instructions:[]}],this.parsePattern(n),this.context.length!==1)throw new Error("Non-finalized contexts left when pattern parse ended");var i=this.context[0],f=i.branches,b=i.instructions;if(f)return{op:"|",args:f.concat([Tb(b)])};if(b.length===0)throw new Error("Pattern is required");return b.length===1?b[0]:b}},{key:"startContext",value:function(n){this.context.push(n)}},{key:"endContext",value:function(){this.context.pop()}},{key:"getContext",value:function(){return this.context[this.context.length-1]}},{key:"parsePattern",value:function(n){if(!n)throw new Error("Pattern is required");var i=n.match($ae);if(!i){if(Fae.test(n))throw new Error("Illegal characters found in a pattern: ".concat(n));this.getContext().instructions=this.getContext().instructions.concat(n.split(""));return}var f=i[1],b=n.slice(0,i.index),s=n.slice(i.index+f.length);switch(f){case"(?:":b&&this.parsePattern(b),this.startContext({or:!0,instructions:[],branches:[]});break;case")":if(!this.getContext().or)throw new Error('")" operator must be preceded by "(?:" operator');if(b&&this.parsePattern(b),this.getContext().instructions.length===0)throw new Error('No instructions found after "|" operator in an "or" group');var y=this.getContext(),r=y.branches;r.push(Tb(this.getContext().instructions)),this.endContext(),this.getContext().instructions.push({op:"|",args:r});break;case"|":if(!this.getContext().or)throw new Error('"|" operator can only be used inside "or" groups');if(b&&this.parsePattern(b),!this.getContext().branches)if(this.context.length===1)this.getContext().branches=[];else throw new Error('"branches" not found in an "or" group context');this.getContext().branches.push(Tb(this.getContext().instructions)),this.getContext().instructions=[];break;case"[":b&&this.parsePattern(b),this.startContext({oneOfSet:!0});break;case"]":if(!this.getContext().oneOfSet)throw new Error('"]" operator must be preceded by "[" operator');this.endContext(),this.getContext().instructions.push({op:"[]",args:Oae(b)});break;default:throw new Error("Unknown operator: ".concat(f))}s&&this.parsePattern(s)}}])})();function Oae(t){for(var e=[],n=0;n<t.length;){if(t[n]==="-"){if(n===0||n===t.length-1)throw new Error("Couldn't parse a one-of set pattern: ".concat(t));for(var i=t[n-1].charCodeAt(0)+1,f=t[n+1].charCodeAt(0)-1,b=i;b<=f;)e.push(String.fromCharCode(b)),b++}else e.push(t[n]);n++}return e}var Fae=/[\(\)\[\]\?\:\|]/,$ae=new RegExp("(\\||\\(\\?\\:|\\)|\\[|\\])");function Tb(t){return t.length===1?t[0]:t}function wR(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=Lae(t))||e){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lae(t,e){if(t){if(typeof t=="string")return xR(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xR(t,e):void 0}}function xR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function gg(t){"@babel/helpers - typeof";return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gg(t)}function Dae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nae(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Bae(i.key),i)}}function kae(t,e,n){return e&&Nae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bae(t){var e=Uae(t,"string");return gg(e)=="symbol"?e:e+""}function Uae(t,e){if(gg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(gg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jae=(function(){function t(e){Dae(this,t),this.matchTree=new Mae().parse(e)}return kae(t,[{key:"match",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=i.allowOverflow;if(!n)throw new Error("String is required");var b=H8(n.split(""),this.matchTree,!0);if(b&&b.match&&delete b.matchedChars,!(b&&b.overflow&&!f))return b}}])})();function H8(t,e,n){if(typeof e=="string"){var i=t.join("");return e.indexOf(i)===0?t.length===e.length?{match:!0,matchedChars:t}:{partialMatch:!0}:i.indexOf(e)===0?n&&t.length>e.length?{overflow:!0}:{match:!0,matchedChars:t.slice(0,e.length)}:void 0}if(Array.isArray(e)){for(var f=t.slice(),b=0;b<e.length;){var s=e[b],y=H8(f,s,n&&b===e.length-1);if(y){if(y.overflow)return y;if(y.match){if(f=f.slice(y.matchedChars.length),f.length===0)return b===e.length-1?{match:!0,matchedChars:t}:{partialMatch:!0}}else{if(y.partialMatch)return{partialMatch:!0};throw new Error(`Unsupported match result:
`.concat(JSON.stringify(y,null,2)))}}else return;b++}return n?{overflow:!0}:{match:!0,matchedChars:t.slice(0,t.length-f.length)}}switch(e.op){case"|":for(var r,o=wR(e.args),v;!(v=o()).done;){var c=v.value,u=H8(t,c,n);if(u){if(u.overflow)return u;if(u.match)return{match:!0,matchedChars:u.matchedChars};if(u.partialMatch)r=!0;else throw new Error(`Unsupported match result:
`.concat(JSON.stringify(u,null,2)))}}return r?{partialMatch:!0}:void 0;case"[]":for(var l=wR(e.args),a;!(a=l()).done;){var d=a.value;if(t[0]===d)return t.length===1?{match:!0,matchedChars:t}:n?{overflow:!0}:{match:!0,matchedChars:[d]}}return;default:throw new Error("Unsupported instruction tree: ".concat(e))}}function mg(t){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mg(t)}function bR(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=zae(t))||e){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zae(t,e){if(t){if(typeof t=="string")return CR(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?CR(t,e):void 0}}function CR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function Wae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gae(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Hae(i.key),i)}}function Vae(t,e,n){return e&&Gae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hae(t){var e=Yae(t,"string");return mg(e)=="symbol"?e:e+""}function Yae(t,e){if(mg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(mg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Y8="9",Xae=15,Kae=By(Y8,Xae),Zae=/[- ]/,Jae=function(){return/\[([^\[\]])*\]/g},Qae=function(){return/\d(?=[^,}][^,}])/g},_ae=new RegExp("["+Ya+"]*\\$1["+Ya+"]*(\\$\\d["+Ya+"]*)*$"),ER=3,qae=(function(){function t(e){e.state;var n=e.metadata;Wae(this,t),this.metadata=n,this.resetFormat()}return Vae(t,[{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.nationalNumberTemplate=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"reset",value:function(n,i){this.resetFormat(),n?(this.isNANP=n.callingCode()==="1",this.matchingFormats=n.formats(),i.nationalSignificantNumber&&this.narrowDownMatchingFormats(i)):(this.isNANP=void 0,this.matchingFormats=[])}},{key:"format",value:function(n,i){var f=this;if(Cae(i.nationalSignificantNumber,i.country,this.metadata))for(var b=bR(this.matchingFormats),s;!(s=b()).done;){var y=s.value,r=bae(i,y,{metadata:this.metadata,shouldTryNationalPrefixFormattingRule:function(v){return f.shouldTryNationalPrefixFormattingRule(v,{international:i.international,nationalPrefix:i.nationalPrefix})},getSeparatorAfterNationalPrefix:function(v){return f.getSeparatorAfterNationalPrefix(v)}});if(r)return this.resetFormat(),this.chosenFormat=y,this.setNationalNumberTemplate(r.replace(/\d/g,Ua),i),this.populatedNationalNumberTemplate=r,this.populatedNationalNumberTemplatePosition=this.template.lastIndexOf(Ua),r}return this.formatNationalNumberWithNextDigits(n,i)}},{key:"formatNationalNumberWithNextDigits",value:function(n,i){var f=this.chosenFormat,b=this.chooseFormat(i);if(b)return b===f?this.formatNextNationalNumberDigits(n):this.formatNextNationalNumberDigits(i.getNationalDigits())}},{key:"narrowDownMatchingFormats",value:function(n){var i=this,f=n.nationalSignificantNumber,b=n.nationalPrefix,s=n.international,y=f,r=y.length-ER;r<0&&(r=0),this.matchingFormats=this.matchingFormats.filter(function(o){return i.formatSuits(o,s,b)&&i.formatMatches(o,y,r)}),this.chosenFormat&&this.matchingFormats.indexOf(this.chosenFormat)===-1&&this.resetFormat()}},{key:"formatSuits",value:function(n,i,f){return!(f&&!n.usesNationalPrefix()&&!n.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!i&&!f&&n.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())}},{key:"formatMatches",value:function(n,i,f){var b=n.leadingDigitsPatterns().length;if(b===0)return!0;f=Math.min(f,b-1);var s=n.leadingDigitsPatterns()[f];if(i.length<ER)try{return new jae(s).match(i,{allowOverflow:!0})!==void 0}catch(y){return console.error(y),!0}return new RegExp("^(".concat(s,")")).test(i)}},{key:"getFormatFormat",value:function(n,i){return i?n.internationalFormat():n.format()}},{key:"chooseFormat",value:function(n){for(var i=this,f=function(){var o=y.value;return i.chosenFormat===o?0:_ae.test(i.getFormatFormat(o,n.international))?i.createTemplateForFormat(o,n)?(i.chosenFormat=o,0):(i.matchingFormats=i.matchingFormats.filter(function(v){return v!==o}),1):1},b,s=bR(this.matchingFormats.slice()),y;!(y=s()).done&&(b=f(),b!==0););return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"createTemplateForFormat",value:function(n,i){if(!(n.pattern().indexOf("|")>=0)){var f=this.getTemplateForFormat(n,i);if(f)return this.setNationalNumberTemplate(f,i),!0}}},{key:"getSeparatorAfterNationalPrefix",value:function(n){return this.isNANP||n&&n.nationalPrefixFormattingRule()&&Zae.test(n.nationalPrefixFormattingRule())?" ":""}},{key:"getInternationalPrefixBeforeCountryCallingCode",value:function(n,i){var f=n.IDDPrefix,b=n.missingPlus;return f?i&&i.spacing===!1?f:f+" ":b?"":"+"}},{key:"getTemplate",value:function(n){if(this.template){for(var i=-1,f=0,b=n.international?this.getInternationalPrefixBeforeCountryCallingCode(n,{spacing:!1}):"";f<b.length+n.getDigitsWithoutInternationalPrefix().length;)i=this.template.indexOf(Ua,i+1),f++;return mR(this.template,i+1)}}},{key:"setNationalNumberTemplate",value:function(n,i){this.nationalNumberTemplate=n,this.populatedNationalNumberTemplate=n,this.populatedNationalNumberTemplatePosition=-1,i.international?this.template=this.getInternationalPrefixBeforeCountryCallingCode(i).replace(/[\d\+]/g,Ua)+By(Ua,i.callingCode.length)+" "+n:this.template=n}},{key:"getTemplateForFormat",value:function(n,i){var f=i.nationalSignificantNumber,b=i.international,s=i.nationalPrefix,y=i.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix,r=n.pattern();r=r.replace(Jae(),"\\d").replace(Qae(),"\\d");var o=Kae.match(r)[0];if(!(f.length>o.length)){var v=new RegExp("^"+r+"$"),c=f.replace(/\d/g,Y8);v.test(c)&&(o=c);var u=this.getFormatFormat(n,b),l;if(this.shouldTryNationalPrefixFormattingRule(n,{international:b,nationalPrefix:s})){var a=u.replace(dU,n.nationalPrefixFormattingRule());if(S2(n.nationalPrefixFormattingRule())===(s||"")+S2("$1")&&(u=a,l=!0,s))for(var d=s.length;d>0;)u=u.replace(/\d/,Ua),d--}var p=o.replace(new RegExp(r),u).replace(new RegExp(Y8,"g"),Ua);return l||(y?p=By(Ua,y.length)+" "+p:s&&(p=By(Ua,s.length)+this.getSeparatorAfterNationalPrefix(n)+p)),b&&(p=cU(p)),p}}},{key:"formatNextNationalNumberDigits",value:function(n){var i=xae(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition,n);if(!i){this.resetFormat();return}return this.populatedNationalNumberTemplate=i[0],this.populatedNationalNumberTemplatePosition=i[1],mR(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1)}},{key:"shouldTryNationalPrefixFormattingRule",value:function(n,i){var f=i.international,b=i.nationalPrefix;if(n.nationalPrefixFormattingRule()){var s=n.usesNationalPrefix();if(s&&b||!s&&!f)return!0}}}])})();function yg(t){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yg(t)}function mU(t,e){return roe(t)||noe(t,e)||toe(t,e)||eoe()}function eoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function toe(t,e){if(t){if(typeof t=="string")return SR(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?SR(t,e):void 0}}function SR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function noe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,f,b,s,y=[],r=!0,o=!1;try{if(b=(n=n.call(t)).next,e!==0)for(;!(r=(i=b.call(n)).done)&&(y.push(i.value),y.length!==e);r=!0);}catch(v){o=!0,f=v}finally{try{if(!r&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(o)throw f}}return y}}function roe(t){if(Array.isArray(t))return t}function ioe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function soe(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,ooe(i.key),i)}}function aoe(t,e,n){return e&&soe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ooe(t){var e=loe(t,"string");return yg(e)=="symbol"?e:e+""}function loe(t,e){if(yg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(yg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var uoe="["+Ya+Bi+"]+",coe=new RegExp("^"+uoe+"$","i"),doe="(?:["+zw+"]["+Ya+Bi+"]*|["+Ya+Bi+"]+)",hoe=new RegExp("[^"+Ya+Bi+"]+.*$"),foe=/[^\d\[\]]/,poe=(function(){function t(e){var n=e.defaultCountry,i=e.defaultCallingCode,f=e.metadata,b=e.onNationalSignificantNumberChange;ioe(this,t),this.defaultCountry=n,this.defaultCallingCode=i,this.metadata=f,this.onNationalSignificantNumberChange=b}return aoe(t,[{key:"input",value:function(n,i){var f=moe(n),b=mU(f,2),s=b[0],y=b[1],r=S2(s),o;return y&&(i.digits||(i.startInternationalNumber(void 0,void 0),r||(o=!0))),r&&this.inputDigits(r,i),{digits:r,justLeadingPlus:o}}},{key:"inputDigits",value:function(n,i){var f=i.digits,b=f.length<3&&f.length+n.length>=3;if(i.appendDigits(n),b&&this.extractIddPrefix(i),this.isWaitingForCountryCallingCode(i)){if(!this.extractCountryCallingCode(i))return}else i.appendNationalSignificantNumberDigits(n);i.international||this.hasExtractedNationalSignificantNumber||this.extractNationalSignificantNumber(i.getNationalDigits(),function(s){return i.update(s)})}},{key:"isWaitingForCountryCallingCode",value:function(n){var i=n.international,f=n.callingCode;return i&&!f}},{key:"extractCountryCallingCode",value:function(n){var i=J9("+"+n.getDigitsWithoutInternationalPrefix(),n.country,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),f=i.countryCallingCode,b=i.number;if(f)return n.setCallingCode(f),n.update({nationalSignificantNumber:b}),!0}},{key:"reset",value:function(n){if(n){this.hasSelectedNumberingPlan=!0;var i=n._nationalPrefixForParsing();this.couldPossiblyExtractAnotherNationalSignificantNumber=i&&foe.test(i)}else this.hasSelectedNumberingPlan=void 0,this.couldPossiblyExtractAnotherNationalSignificantNumber=void 0}},{key:"extractNationalSignificantNumber",value:function(n,i){if(this.hasSelectedNumberingPlan){var f=U8(n,this.metadata),b=f.nationalPrefix,s=f.nationalNumber,y=f.carrierCode;if(s!==n)return this.onExtractedNationalNumber(b,y,s,n,i),!0}}},{key:"extractAnotherNationalSignificantNumber",value:function(n,i,f){if(!this.hasExtractedNationalSignificantNumber)return this.extractNationalSignificantNumber(n,f);if(this.couldPossiblyExtractAnotherNationalSignificantNumber){var b=U8(n,this.metadata),s=b.nationalPrefix,y=b.nationalNumber,r=b.carrierCode;if(y!==i)return this.onExtractedNationalNumber(s,r,y,n,f),!0}}},{key:"onExtractedNationalNumber",value:function(n,i,f,b,s){var y=!1,r,o=b.lastIndexOf(f);if(o<0||o!==b.length-f.length)y=!0;else{var v=b.slice(0,o);v&&v!==n&&(r=v)}s({nationalPrefix:n,carrierCode:i,nationalSignificantNumber:f,nationalSignificantNumberIsModified:y,prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix:r}),this.hasExtractedNationalSignificantNumber=!0,this.onNationalSignificantNumberChange()}},{key:"reExtractNationalSignificantNumber",value:function(n){if(this.extractAnotherNationalSignificantNumber(n.getNationalDigits(),n.nationalSignificantNumber,function(i){return n.update(i)}))return!0;if(this.extractIddPrefix(n))return this.extractCallingCodeAndNationalSignificantNumber(n),!0;if(this.fixMissingPlus(n))return this.extractCallingCodeAndNationalSignificantNumber(n),!0}},{key:"extractIddPrefix",value:function(n){var i=n.international,f=n.IDDPrefix,b=n.digits;if(n.nationalSignificantNumber,!(i||f)){var s=oU(b,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);if(s!==void 0&&s!==b)return n.update({IDDPrefix:b.slice(0,b.length-s.length)}),this.startInternationalNumber(n,{country:void 0,callingCode:void 0}),!0}}},{key:"fixMissingPlus",value:function(n){if(!n.international){var i=uU(n.digits,n.country,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),f=i.countryCallingCode;if(f)return n.update({missingPlus:!0}),this.startInternationalNumber(n,{country:n.country,callingCode:f}),!0}}},{key:"startInternationalNumber",value:function(n,i){var f=i.country,b=i.callingCode;n.startInternationalNumber(f,b),n.nationalSignificantNumber&&(n.resetNationalSignificantNumber(),this.onNationalSignificantNumberChange(),this.hasExtractedNationalSignificantNumber=void 0)}},{key:"extractCallingCodeAndNationalSignificantNumber",value:function(n){this.extractCountryCallingCode(n)&&this.extractNationalSignificantNumber(n.getNationalDigits(),function(i){return n.update(i)})}}])})();function voe(t){var e=t.search(doe);if(!(e<0)){t=t.slice(e);var n;return t[0]==="+"&&(n=!0,t=t.slice(1)),t=t.replace(hoe,""),n&&(t="+"+t),t}}function goe(t){var e=voe(t)||"";return e[0]==="+"?[e.slice(1),!0]:[e]}function moe(t){var e=goe(t),n=mU(e,2),i=n[0],f=n[1];return coe.test(i)||(i=""),[i,f]}function wg(t){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wg(t)}function yoe(t,e){return Coe(t)||boe(t,e)||xoe(t,e)||woe()}function woe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xoe(t,e){if(t){if(typeof t=="string")return TR(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?TR(t,e):void 0}}function TR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function boe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,f,b,s,y=[],r=!0,o=!1;try{if(b=(n=n.call(t)).next,e!==0)for(;!(r=(i=b.call(n)).done)&&(y.push(i.value),y.length!==e);r=!0);}catch(v){o=!0,f=v}finally{try{if(!r&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(o)throw f}}return y}}function Coe(t){if(Array.isArray(t))return t}function Eoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Soe(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Aoe(i.key),i)}}function Toe(t,e,n){return e&&Soe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Aoe(t){var e=Poe(t,"string");return wg(e)=="symbol"?e:e+""}function Poe(t,e){if(wg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(wg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yU=(function(){function t(e,n){Eoe(this,t),this.metadata=new Lr(n);var i=this.getCountryAndCallingCode(e),f=yoe(i,2),b=f[0],s=f[1];this.defaultCountry=b,this.defaultCallingCode=s,this.reset()}return Toe(t,[{key:"getCountryAndCallingCode",value:function(n){var i,f;return n&&(vd(n)?(i=n.defaultCountry,f=n.defaultCallingCode):i=n),i&&!this.metadata.hasCountry(i)&&(i=void 0),[i,f]}},{key:"input",value:function(n){var i=this.parser.input(n,this.state),f=i.digits,b=i.justLeadingPlus;if(b)this.formattedOutput="+";else if(f){this.determineTheCountryIfNeeded(),this.state.nationalSignificantNumber&&this.formatter.narrowDownMatchingFormats(this.state);var s;if(this.metadata.hasSelectedNumberingPlan()&&(s=this.formatter.format(f,this.state)),s===void 0&&this.parser.reExtractNationalSignificantNumber(this.state)){this.determineTheCountryIfNeeded();var y=this.state.getNationalDigits();y&&(s=this.formatter.format(y,this.state))}this.formattedOutput=s?this.getFullNumber(s):this.getNonFormattedNumber()}return this.formattedOutput}},{key:"reset",value:function(){var n=this;return this.state=new gae({onCountryChange:function(f){n.country=f},onCallingCodeChange:function(f,b){n.metadata.selectNumberingPlan(b,f),n.formatter.reset(n.metadata.numberingPlan,n.state),n.parser.reset(n.metadata.numberingPlan)}}),this.formatter=new qae({state:this.state,metadata:this.metadata}),this.parser=new poe({defaultCountry:this.defaultCountry,defaultCallingCode:this.defaultCallingCode,metadata:this.metadata,state:this.state,onNationalSignificantNumberChange:function(){n.determineTheCountryIfNeeded(),n.formatter.reset(n.metadata.numberingPlan,n.state)}}),this.state.reset({country:this.defaultCountry,callingCode:this.defaultCallingCode}),this.formattedOutput="",this}},{key:"isInternational",value:function(){return this.state.international}},{key:"getCallingCode",value:function(){if(this.isInternational())return this.state.callingCode}},{key:"getCountryCallingCode",value:function(){return this.getCallingCode()}},{key:"getCountry",value:function(){var n=this.state.digits;if(n)return this._getCountry()}},{key:"_getCountry",value:function(){var n=this.state.country;return n}},{key:"determineTheCountryIfNeeded",value:function(){(!this.state.country||this.isCountryCallingCodeAmbiguous())&&this.determineTheCountry()}},{key:"getFullNumber",value:function(n){var i=this;if(this.isInternational()){var f=function(y){return i.formatter.getInternationalPrefixBeforeCountryCallingCode(i.state,{spacing:!!y})+y},b=this.state.callingCode;return f(b?n?"".concat(b," ").concat(n):b:"".concat(this.state.getDigitsWithoutInternationalPrefix()))}return n}},{key:"getNonFormattedNationalNumberWithPrefix",value:function(){var n=this.state,i=n.nationalSignificantNumber,f=n.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix,b=n.nationalPrefix,s=i,y=f||b;return y&&(s=y+s),s}},{key:"getNonFormattedNumber",value:function(){var n=this.state.nationalSignificantNumberIsModified;return this.getFullNumber(n?this.state.getNationalDigits():this.getNonFormattedNationalNumberWithPrefix())}},{key:"getNonFormattedTemplate",value:function(){var n=this.getNonFormattedNumber();if(n)return n.replace(/[\+\d]/g,Ua)}},{key:"isCountryCallingCodeAmbiguous",value:function(){var n=this.state.callingCode,i=this.metadata.getCountryCodesForCallingCode(n);return i&&i.length>1}},{key:"determineTheCountry",value:function(){this.state.setCountry(Z9(this.isInternational()?this.state.callingCode:this.defaultCallingCode,{nationalNumber:this.state.nationalSignificantNumber,metadata:this.metadata}))}},{key:"getNumberValue",value:function(){var n=this.state,i=n.digits,f=n.callingCode,b=n.country,s=n.nationalSignificantNumber;if(i){if(this.isInternational())return f?"+"+f+s:"+"+i;if(b||f){var y=b?this.metadata.countryCallingCode():f;return"+"+y+s}}}},{key:"getNumber",value:function(){var n=this.state,i=n.nationalSignificantNumber,f=n.carrierCode,b=n.callingCode,s=this._getCountry();if(i&&!(!s&&!b)){if(s&&s===this.defaultCountry){var y=new Lr(this.metadata.metadata);y.selectNumberingPlan(s);var r=y.numberingPlan.callingCode(),o=this.metadata.getCountryCodesForCallingCode(r);if(o.length>1){var v=lU(i,{countries:o,metadata:this.metadata.metadata});v&&(s=v)}}var c=new Q9(s||b,i,this.metadata.metadata);return f&&(c.carrierCode=f),c}}},{key:"isPossible",value:function(){var n=this.getNumber();return n?n.isPossible():!1}},{key:"isValid",value:function(){var n=this.getNumber();return n?n.isValid():!1}},{key:"getNationalNumber",value:function(){return this.state.nationalSignificantNumber}},{key:"getChars",value:function(){return(this.state.international?"+":"")+this.state.digits}},{key:"getTemplate",value:function(){return this.formatter.getTemplate(this.state)||this.getNonFormattedTemplate()||""}}])})();function Ioe(t){return new Lr(t).getCountries()}function Roe(t,e,n){if(e[t])return new Q9(t,e[t],n)}function Ww(t,{method:e}){const n={};return t.transport.type==="fallback"&&t.transport.onResponse?.(({method:i,response:f,status:b,transport:s})=>{b==="success"&&e===i&&(n[f]=s.request)}),(i=>n[i]||t.request)}async function wU(t,e){const{address:n,abi:i,args:f,eventName:b,fromBlock:s,strict:y,toBlock:r}=e,o=Ww(t,{method:"eth_newFilter"}),v=b?qg({abi:i,args:f,eventName:b}):void 0,c=await t.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof s=="bigint"?xt(s):s,toBlock:typeof r=="bigint"?xt(r):r,topics:v}]});return{abi:i,args:f,eventName:b,id:c,request:o(c),strict:!!y,type:"event"}}class Moe extends Ne{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class q9 extends Ne{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class Ooe extends Ne{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${us(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class xU extends Ne{constructor({blockHash:e,blockNumber:n}){let i="Block";e&&(i=`Block at hash "${e}"`),n&&(i=`Block at number "${n}"`),super(`${i} could not be found.`,{name:"BlockNotFoundError"})}}async function Vo(t,{blockHash:e,blockNumber:n,blockTag:i=t.experimental_blockTag??"latest",includeTransactions:f}={}){const b=f??!1,s=n!==void 0?xt(n):void 0;let y=null;if(e?y=await t.request({method:"eth_getBlockByHash",params:[e,b]},{dedupe:!0}):y=await t.request({method:"eth_getBlockByNumber",params:[s||i,b]},{dedupe:!!s}),!y)throw new xU({blockHash:e,blockNumber:n});return(t.chain?.formatters?.block?.format||CB)(y,"getBlock")}async function eS(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function Foe(t,e){return bU(t,e)}async function bU(t,e){const{block:n,chain:i=t.chain,request:f}=e||{};try{const b=i?.fees?.maxPriorityFeePerGas??i?.fees?.defaultPriorityFee;if(typeof b=="function"){const y=n||await mt(t,Vo,"getBlock")({}),r=await b({block:y,client:t,request:f});if(r===null)throw new Error;return r}if(typeof b<"u")return b;const s=await t.request({method:"eth_maxPriorityFeePerGas"});return Us(s)}catch{const[b,s]=await Promise.all([n?Promise.resolve(n):mt(t,Vo,"getBlock")({}),mt(t,eS,"getGasPrice")({})]);if(typeof b.baseFeePerGas!="bigint")throw new q9;const y=s-b.baseFeePerGas;return y<0n?0n:y}}async function $oe(t,e){return X8(t,e)}async function X8(t,e){const{block:n,chain:i=t.chain,request:f,type:b="eip1559"}=e||{},s=await(async()=>typeof i?.fees?.baseFeeMultiplier=="function"?i.fees.baseFeeMultiplier({block:n,client:t,request:f}):i?.fees?.baseFeeMultiplier??1.2)();if(s<1)throw new Moe;const r=10**(s.toString().split(".")[1]?.length??0),o=u=>u*BigInt(Math.ceil(s*r))/BigInt(r),v=n||await mt(t,Vo,"getBlock")({});if(typeof i?.fees?.estimateFeesPerGas=="function"){const u=await i.fees.estimateFeesPerGas({block:n,client:t,multiply:o,request:f,type:b});if(u!==null)return u}if(b==="eip1559"){if(typeof v.baseFeePerGas!="bigint")throw new q9;const u=typeof f?.maxPriorityFeePerGas=="bigint"?f.maxPriorityFeePerGas:await bU(t,{block:v,chain:i,request:f}),l=o(v.baseFeePerGas);return{maxFeePerGas:f?.maxFeePerGas??l+u,maxPriorityFeePerGas:u}}return{gasPrice:f?.gasPrice??o(await mt(t,eS,"getGasPrice")({}))}}async function Kd(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return Qa(e)}const tS=["blobVersionedHashes","chainId","fees","gas","nonce","type"],AR=new Map;async function om(t,e){const{account:n=t.account,blobs:i,chain:f,gas:b,kzg:s,nonce:y,nonceManager:r,parameters:o=tS,type:v}=e,c=n&&nr(n),u={...e,...c?{from:c?.address}:{}};let l;async function a(){return l||(l=await mt(t,Vo,"getBlock")({blockTag:"latest"}),l)}let d;async function p(){return d||(f?f.id:typeof e.chainId<"u"?e.chainId:(d=await mt(t,Kd,"getChainId")({}),d))}if(o.includes("nonce")&&typeof y>"u"&&c)if(r){const h=await p();u.nonce=await r.consume({address:c.address,chainId:h,client:t})}else u.nonce=await mt(t,B9,"getTransactionCount")({address:c.address,blockTag:"pending"});if((o.includes("blobVersionedHashes")||o.includes("sidecars"))&&i&&s){const h=Gk({blobs:i,kzg:s});if(o.includes("blobVersionedHashes")){const g=lee({commitments:h,to:"hex"});u.blobVersionedHashes=g}if(o.includes("sidecars")){const g=Vk({blobs:i,commitments:h,kzg:s}),m=hee({blobs:i,commitments:h,proofs:g,to:"hex"});u.sidecars=m}}if(o.includes("chainId")&&(u.chainId=await p()),(o.includes("fees")||o.includes("type"))&&typeof v>"u")try{u.type=gee(u)}catch{let h=AR.get(t.uid);typeof h>"u"&&(h=typeof(await a())?.baseFeePerGas=="bigint",AR.set(t.uid,h)),u.type=h?"eip1559":"legacy"}if(o.includes("fees"))if(u.type!=="legacy"&&u.type!=="eip2930"){if(typeof u.maxFeePerGas>"u"||typeof u.maxPriorityFeePerGas>"u"){const h=await a(),{maxFeePerGas:g,maxPriorityFeePerGas:m}=await X8(t,{block:h,chain:f,request:u});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<m)throw new Ooe({maxPriorityFeePerGas:m});u.maxPriorityFeePerGas=m,u.maxFeePerGas=g}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new q9;if(typeof e.gasPrice>"u"){const h=await a(),{gasPrice:g}=await X8(t,{block:h,chain:f,request:u,type:"legacy"});u.gasPrice=g}}return o.includes("gas")&&typeof b>"u"&&(u.gas=await mt(t,nS,"estimateGas")({...u,account:c,prepare:c?.type==="local"?[]:["blobVersionedHashes"]})),fc(u),delete u.parameters,u}async function nS(t,e){const{account:n=t.account,prepare:i=!0}=e,f=n?nr(n):void 0,b=(()=>{if(Array.isArray(i))return i;if(f?.type!=="local")return["blobVersionedHashes"]})();try{const{accessList:s,authorizationList:y,blobs:r,blobVersionedHashes:o,blockNumber:v,blockTag:c,data:u,gas:l,gasPrice:a,maxFeePerBlobGas:d,maxFeePerGas:p,maxPriorityFeePerGas:h,nonce:g,value:m,stateOverride:x,...w}=i?await om(t,{...e,parameters:b}):e,E=(typeof v=="bigint"?xt(v):void 0)||c,T=D9(x),S=await(async()=>{if(w.to)return w.to;if(y&&y.length>0)return await Iw({authorization:y[0]}).catch(()=>{throw new Ne("`to` is required. Could not infer from `authorizationList`")})})();fc(e);const A=t.chain?.formatters?.transactionRequest?.format,R=(A||Xd)({...am(w,{format:A}),account:f,accessList:s,authorizationList:y,blobs:r,blobVersionedHashes:o,data:u,gas:l,gasPrice:a,maxFeePerBlobGas:d,maxFeePerGas:p,maxPriorityFeePerGas:h,nonce:g,to:S,value:m},"estimateGas");return BigInt(await t.request({method:"eth_estimateGas",params:T?[R,E??t.experimental_blockTag??"latest",T]:E?[R,E]:[R]}))}catch(s){throw Cte(s,{...e,account:f,chain:t.chain})}}async function Loe(t,e){const{abi:n,address:i,args:f,functionName:b,dataSuffix:s,...y}=e,r=fs({abi:n,args:f,functionName:b});try{return await mt(t,nS,"estimateGas")({data:`${r}${s?s.replace("0x",""):""}`,to:i,...y})}catch(o){const v=y.account?nr(y.account):void 0;throw Id(o,{abi:n,address:i,args:f,docsPath:"/docs/contract/estimateContractGas",functionName:b,sender:v?.address})}}async function rS(t,{address:e,blockHash:n,fromBlock:i,toBlock:f,event:b,events:s,args:y,strict:r}={}){const o=r??!1,v=s??(b?[b]:void 0);let c=[];v&&(c=[v.flatMap(d=>qg({abi:[d],eventName:d.name,args:s?void 0:y}))],b&&(c=c[0]));let u;n?u=await t.request({method:"eth_getLogs",params:[{address:e,topics:c,blockHash:n}]}):u=await t.request({method:"eth_getLogs",params:[{address:e,topics:c,fromBlock:typeof i=="bigint"?xt(i):i,toBlock:typeof f=="bigint"?xt(f):f}]});const l=u.map(a=>Ql(a));return v?T9({abi:v,args:y,logs:l,strict:o}):l}async function CU(t,e){const{abi:n,address:i,args:f,blockHash:b,eventName:s,fromBlock:y,toBlock:r,strict:o}=e,v=s?Vd({abi:n,name:s}):void 0,c=v?void 0:n.filter(u=>u.type==="event");return mt(t,rS,"getLogs")({address:i,args:f,blockHash:b,event:v,events:c,fromBlock:y,toBlock:r,strict:o})}async function no(t,e){const{abi:n,address:i,args:f,functionName:b,...s}=e,y=fs({abi:n,args:f,functionName:b});try{const{data:r}=await mt(t,Lw,"call")({...s,data:y,to:i});return Hd({abi:n,args:f,functionName:b,data:r||"0x"})}catch(r){throw Id(r,{abi:n,address:i,args:f,docsPath:"/docs/contract/readContract",functionName:b})}}async function Doe(t,e){const{abi:n,address:i,args:f,dataSuffix:b,functionName:s,...y}=e,r=y.account?nr(y.account):t.account,o=fs({abi:n,args:f,functionName:s});try{const{data:v}=await mt(t,Lw,"call")({batch:!1,data:`${o}${b?b.replace("0x",""):""}`,to:i,...y,account:r}),c=Hd({abi:n,args:f,functionName:s,data:v||"0x"}),u=n.filter(l=>"name"in l&&l.name===e.functionName);return{result:c,request:{abi:u,address:i,args:f,dataSuffix:b,functionName:s,...y,account:r}}}catch(v){throw Id(v,{abi:n,address:i,args:f,docsPath:"/docs/contract/simulateContract",functionName:s,sender:r?.address})}}const Ab=new Map,PR=new Map;let Noe=0;function ql(t,e,n){const i=++Noe,f=()=>Ab.get(t)||[],b=()=>{const v=f();Ab.set(t,v.filter(c=>c.id!==i))},s=()=>{const v=f();if(!v.some(u=>u.id===i))return;const c=PR.get(t);if(v.length===1&&c){const u=c();u instanceof Promise&&u.catch(()=>{})}b()},y=f();if(Ab.set(t,[...y,{id:i,fns:e}]),y&&y.length>0)return s;const r={};for(const v in e)r[v]=((...c)=>{const u=f();if(u.length!==0)for(const l of u)l.fns[v]?.(...c)});const o=n(r);return typeof o=="function"&&PR.set(t,o),s}function Rp(t,{emitOnBegin:e,initialWaitTime:n,interval:i}){let f=!0;const b=()=>f=!1;return(async()=>{let y;e&&(y=await t({unpoll:b}));const r=await n?.(y)??i;await P8(r);const o=async()=>{f&&(await t({unpoll:b}),await P8(i),o())};o()})(),b}const koe=new Map,Boe=new Map;function Uoe(t){const e=(f,b)=>({clear:()=>b.delete(f),get:()=>b.get(f),set:s=>b.set(f,s)}),n=e(t,koe),i=e(t,Boe);return{clear:()=>{n.clear(),i.clear()},promise:n,response:i}}async function joe(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const i=Uoe(e),f=i.response.get();if(f&&n>0&&Date.now()-f.created.getTime()<n)return f.data;let b=i.promise.get();b||(b=t(),i.promise.set(b));try{const s=await b;return i.response.set({created:new Date,data:s}),s}finally{i.promise.clear()}}const zoe=t=>`blockNumber.${t}`;async function lm(t,{cacheTime:e=t.cacheTime}={}){const n=await joe(()=>t.request({method:"eth_blockNumber"}),{cacheKey:zoe(t.uid),cacheTime:e});return BigInt(n)}async function Gw(t,{filter:e}){const n="strict"in e&&e.strict,i=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof i[0]=="string")return i;const f=i.map(b=>Ql(b));return!("abi"in e)||!e.abi?f:T9({abi:e.abi,logs:f,strict:n})}async function Vw(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function Woe(t,e){const{abi:n,address:i,args:f,batch:b=!0,eventName:s,fromBlock:y,onError:r,onLogs:o,poll:v,pollingInterval:c=t.pollingInterval,strict:u}=e;return(typeof v<"u"?v:typeof y=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")))?(()=>{const p=u??!1,h=Fr(["watchContractEvent",i,f,b,t.uid,s,c,p,y]);return ql(h,{onLogs:o,onError:r},g=>{let m;y!==void 0&&(m=y-1n);let x,w=!1;const C=Rp(async()=>{if(!w){try{x=await mt(t,wU,"createContractEventFilter")({abi:n,address:i,args:f,eventName:s,strict:p,fromBlock:y})}catch{}w=!0;return}try{let E;if(x)E=await mt(t,Gw,"getFilterChanges")({filter:x});else{const T=await mt(t,lm,"getBlockNumber")({});m&&m<T?E=await mt(t,CU,"getContractEvents")({abi:n,address:i,args:f,eventName:s,fromBlock:m+1n,toBlock:T,strict:p}):E=[],m=T}if(E.length===0)return;if(b)g.onLogs(E);else for(const T of E)g.onLogs([T])}catch(E){x&&E instanceof Td&&(w=!1),g.onError?.(E)}},{emitOnBegin:!0,interval:c});return async()=>{x&&await mt(t,Vw,"uninstallFilter")({filter:x}),C()}})})():(()=>{const p=u??!1,h=Fr(["watchContractEvent",i,f,b,t.uid,s,c,p]);let g=!0,m=()=>g=!1;return ql(h,{onLogs:o,onError:r},x=>((async()=>{try{const w=(()=>{if(t.transport.type==="fallback"){const T=t.transport.transports.find(S=>S.config.type==="webSocket"||S.config.type==="ipc");return T?T.value:t.transport}return t.transport})(),C=s?qg({abi:n,eventName:s,args:f}):[],{unsubscribe:E}=await w.subscribe({params:["logs",{address:i,topics:C}],onData(T){if(!g)return;const S=T.result;try{const{eventName:A,args:P}=S9({abi:n,data:S.data,topics:S.topics,strict:u}),R=Ql(S,{args:P,eventName:A});x.onLogs([R])}catch(A){let P,R;if(A instanceof Bv||A instanceof Tw){if(u)return;P=A.abiItem.name,R=A.abiItem.inputs?.some(D=>!("name"in D&&D.name))}const L=Ql(S,{args:R?[]:{},eventName:P});x.onLogs([L])}},onError(T){x.onError?.(T)}});m=E,g||m()}catch(w){r?.(w)}})(),()=>m()))})()}class pc extends Ne{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class gd extends Ne{constructor({docsPath:e,metaMessages:n,type:i}){super(`Account type "${i}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}async function iS(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const Pb=new Zg(128);async function Hw(t,e){const{account:n=t.account,chain:i=t.chain,accessList:f,authorizationList:b,blobs:s,data:y,gas:r,gasPrice:o,maxFeePerBlobGas:v,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,type:a,value:d,...p}=e;if(typeof n>"u")throw new pc({docsPath:"/docs/actions/wallet/sendTransaction"});const h=n?nr(n):null;try{fc(e);const g=await(async()=>{if(e.to)return e.to;if(e.to!==null&&b&&b.length>0)return await Iw({authorization:b[0]}).catch(()=>{throw new Ne("`to` is required. Could not infer from `authorizationList`.")})})();if(h?.type==="json-rpc"||h===null){let m;i!==null&&(m=await mt(t,Kd,"getChainId")({}),N9({currentChainId:m,chain:i}));const x=t.chain?.formatters?.transactionRequest?.format,C=(x||Xd)({...am(p,{format:x}),accessList:f,account:h,authorizationList:b,blobs:s,chainId:m,data:y,gas:r,gasPrice:o,maxFeePerBlobGas:v,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:g,type:a,value:d},"sendTransaction"),E=Pb.get(t.uid),T=E?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:T,params:[C]},{retryCount:0})}catch(S){if(E===!1)throw S;const A=S;if(A.name==="InvalidInputRpcError"||A.name==="InvalidParamsRpcError"||A.name==="MethodNotFoundRpcError"||A.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[C]},{retryCount:0}).then(P=>(Pb.set(t.uid,!0),P)).catch(P=>{const R=P;throw R.name==="MethodNotFoundRpcError"||R.name==="MethodNotSupportedRpcError"?(Pb.set(t.uid,!1),A):R});throw A}}if(h?.type==="local"){const m=await mt(t,om,"prepareTransactionRequest")({account:h,accessList:f,authorizationList:b,blobs:s,chain:i,data:y,gas:r,gasPrice:o,maxFeePerBlobGas:v,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,nonceManager:h.nonceManager,parameters:[...tS,"sidecars"],type:a,value:d,...p,to:g}),x=i?.serializers?.transaction,w=await h.signTransaction(m,{serializer:x});return await mt(t,iS,"sendRawTransaction")({serializedTransaction:w})}throw h?.type==="smart"?new gd({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new gd({docsPath:"/docs/actions/wallet/sendTransaction",type:h?.type})}catch(g){throw g instanceof gd?g:k9(g,{...e,account:h,chain:e.chain||void 0})}}async function xg(t,e){return xg.internal(t,Hw,"sendTransaction",e)}(function(t){async function e(n,i,f,b){const{abi:s,account:y=n.account,address:r,args:o,dataSuffix:v,functionName:c,...u}=b;if(typeof y>"u")throw new pc({docsPath:"/docs/contract/writeContract"});const l=y?nr(y):null,a=fs({abi:s,args:o,functionName:c});try{return await mt(n,i,f)({data:`${a}${v?v.replace("0x",""):""}`,to:r,account:l,...u})}catch(d){throw Id(d,{abi:s,address:r,args:o,docsPath:"/docs/contract/writeContract",functionName:c,sender:l?.address})}}t.internal=e})(xg||(xg={}));class Goe extends Ne{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}const EU="0x5792579257925792579257925792579257925792579257925792579257925792",SU=xt(0,{size:32});async function TU(t,e){const{account:n=t.account,capabilities:i,chain:f=t.chain,experimental_fallback:b,experimental_fallbackDelay:s=32,forceAtomic:y=!1,id:r,version:o="2.0.0"}=e,v=n?nr(n):null,c=e.calls.map(u=>{const l=u,a=l.abi?fs({abi:l.abi,functionName:l.functionName,args:l.args}):l.data;return{data:l.dataSuffix&&a?ga([a,l.dataSuffix]):a,to:l.to,value:l.value?xt(l.value):void 0}});try{const u=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:y,calls:c,capabilities:i,chainId:xt(f.id),from:v?.address,id:r,version:o}]},{retryCount:0});return typeof u=="string"?{id:u}:u}catch(u){const l=u;if(b&&(l.name==="MethodNotFoundRpcError"||l.name==="MethodNotSupportedRpcError"||l.name==="UnknownRpcError"||l.details.toLowerCase().includes("does not exist / is not available")||l.details.toLowerCase().includes("missing or invalid. request()")||l.details.toLowerCase().includes("did not match any variant of untagged enum")||l.details.toLowerCase().includes("account upgraded to unsupported contract")||l.details.toLowerCase().includes("eip-7702 not supported")||l.details.toLowerCase().includes("unsupported wc_ method")||l.details.toLowerCase().includes("feature toggled misconfigured")||l.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(i&&Object.values(i).some(g=>!g.optional)){const g="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new sp(new Ne(g,{details:g}))}if(y&&c.length>1){const h="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new ap(new Ne(h,{details:h}))}const a=[];for(const h of c){const g=Hw(t,{account:v,chain:f,data:h.data,to:h.to,value:h.value?Us(h.value):void 0});a.push(g),s>0&&await new Promise(m=>setTimeout(m,s))}const d=await Promise.allSettled(a);if(d.every(h=>h.status==="rejected"))throw d[0].reason;const p=d.map(h=>h.status==="fulfilled"?h.value:SU);return{id:ga([...p,xt(f.id,{size:32}),EU])}}throw k9(u,{...e,account:v,chain:e.chain})}}async function AU(t,e){async function n(v){if(v.endsWith(EU.slice(2))){const u=Vl(v8(v,-64,-32)),l=v8(v,0,-64).slice(2).match(/.{1,64}/g),a=await Promise.all(l.map(p=>SU.slice(2)!==p?t.request({method:"eth_getTransactionReceipt",params:[`0x${p}`]},{dedupe:!0}):void 0)),d=a.some(p=>p===null)?100:a.every(p=>p?.status==="0x1")?200:a.every(p=>p?.status==="0x0")?500:600;return{atomic:!1,chainId:Qa(u),receipts:a.filter(Boolean),status:d,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[v]})}const{atomic:i=!1,chainId:f,receipts:b,version:s="2.0.0",...y}=await n(e.id),[r,o]=(()=>{const v=y.status;return v>=100&&v<200?["pending",v]:v>=200&&v<300?["success",v]:v>=300&&v<700?["failure",v]:v==="CONFIRMED"?["success",200]:v==="PENDING"?["pending",100]:[void 0,v]})();return{...y,atomic:i,chainId:f?Qa(f):void 0,receipts:b?.map(v=>({...v,blockNumber:Us(v.blockNumber),gasUsed:Us(v.gasUsed),status:EB[v.status]}))??[],statusCode:o,status:r,version:s}}async function PU(t,e){const{id:n,pollingInterval:i=t.pollingInterval,status:f=({statusCode:d})=>d===200||d>=300,retryCount:b=4,retryDelay:s=({count:d})=>~~(1<<d)*200,timeout:y=6e4,throwOnFailure:r=!1}=e,o=Fr(["waitForCallsStatus",t.uid,n]),{promise:v,resolve:c,reject:u}=L9();let l;const a=ql(o,{resolve:c,reject:u},d=>{const p=Rp(async()=>{const h=g=>{clearTimeout(l),p(),g(),a()};try{const g=await w2(async()=>{const m=await mt(t,AU,"getCallsStatus")({id:n});if(r&&m.status==="failure")throw new Goe(m);return m},{retryCount:b,delay:s});if(!f(g))return;h(()=>d.resolve(g))}catch(g){h(()=>d.reject(g))}},{interval:i,emitOnBegin:!0});return p});return l=y?setTimeout(()=>{a(),clearTimeout(l),u(new Voe({id:n}))},y):void 0,await v}class Voe extends Ne{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const K8=256;let X1=K8,K1;function IU(t=11){if(!K1||X1+t>K8*2){K1="",X1=0;for(let e=0;e<K8;e++)K1+=(256+Math.random()*256|0).toString(16).substring(1)}return K1.substring(X1,X1+++t)}function RU(t){const{batch:e,chain:n,ccipRead:i,key:f="base",name:b="Base Client",type:s="base"}=t,y=t.experimental_blockTag??(typeof n?.experimental_preconfirmationTime=="number"?"pending":void 0),r=n?.blockTime??12e3,o=Math.min(Math.max(Math.floor(r/2),500),4e3),v=t.pollingInterval??o,c=t.cacheTime??v,u=t.account?nr(t.account):void 0,{config:l,request:a,value:d}=t.transport({chain:n,pollingInterval:v}),p={...l,...d},h={account:u,batch:e,cacheTime:c,ccipRead:i,chain:n,key:f,name:b,pollingInterval:v,request:a,transport:p,type:s,uid:IU(),...y?{experimental_blockTag:y}:{}};function g(m){return x=>{const w=x(m);for(const E in h)delete w[E];const C={...m,...w};return Object.assign(C,{extend:g(C)})}}return Object.assign(h,{extend:g(h)})}function sS(t){if(!(t instanceof Ne))return!1;const e=t.walk(n=>n instanceof O8);return e instanceof O8?e.data?.errorName==="HttpError"||e.data?.errorName==="ResolverError"||e.data?.errorName==="ResolverNotContract"||e.data?.errorName==="ResolverNotFound"||e.data?.errorName==="ReverseAddressMismatch"||e.data?.errorName==="UnsupportedResolverProfile":!1}function MU(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return Ti(e)?e:null}function Z8(t){let e=new Uint8Array(32).fill(0);if(!t)return $r(e);const n=t.split(".");for(let i=n.length-1;i>=0;i-=1){const f=MU(n[i]),b=f?Tp(f):oi(fd(n[i]),"bytes");e=oi(ga([e,b]),"bytes")}return $r(e)}function Hoe(t){return`[${t.slice(2)}]`}function Yoe(t){const e=new Uint8Array(32).fill(0);return t?MU(t)||oi(fd(t)):$r(e)}function aS(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(fd(e).byteLength+2);let i=0;const f=e.split(".");for(let b=0;b<f.length;b++){let s=fd(f[b]);s.byteLength>255&&(s=fd(Hoe(Yoe(f[b])))),n[i]=s.length,n.set(s,i+1),i+=s.length+1}return n.byteLength!==i+1?n.slice(0,i+1):n}async function Xoe(t,e){const{blockNumber:n,blockTag:i,coinType:f,name:b,gatewayUrls:s,strict:y}=e,{chain:r}=t,o=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!r)throw new Error("client chain not configured. universalResolverAddress is required.");return Ip({blockNumber:n,chain:r,contract:"ensUniversalResolver"})})(),v=r?.ensTlds;if(v&&!v.some(u=>b.endsWith(u)))return null;const c=f!=null?[Z8(b),BigInt(f)]:[Z8(b)];try{const u=fs({abi:MI,functionName:"addr",args:c}),l={address:o,abi:hB,functionName:"resolveWithGateways",args:[er(aS(b)),u,s??[Dw]],blockNumber:n,blockTag:i},d=await mt(t,no,"readContract")(l);if(d[0]==="0x")return null;const p=Hd({abi:MI,args:c,functionName:"addr",data:d[0]});return p==="0x"||Vl(p)==="0x00"?null:p}catch(u){if(y)throw u;if(sS(u))return null;throw u}}class Koe extends Ne{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class A0 extends Ne{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class oS extends Ne{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class Zoe extends Ne{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const Joe=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Qoe=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,_oe=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,qoe=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function ele(t){try{const e=await fetch(t,{method:"HEAD"});return e.status===200?e.headers.get("content-type")?.startsWith("image/"):!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const i=new Image;i.onload=()=>{n(!0)},i.onerror=()=>{n(!1)},i.src=t})}}function IR(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function OU({uri:t,gatewayUrls:e}){const n=_oe.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const i=IR(e?.ipfs,"https://ipfs.io"),f=IR(e?.arweave,"https://arweave.net"),b=t.match(Joe),{protocol:s,subpath:y,target:r,subtarget:o=""}=b?.groups||{},v=s==="ipns:/"||y==="ipns/",c=s==="ipfs:/"||y==="ipfs/"||Qoe.test(t);if(t.startsWith("http")&&!v&&!c){let l=t;return e?.arweave&&(l=t.replace(/https:\/\/arweave.net/g,e?.arweave)),{uri:l,isOnChain:!1,isEncoded:!1}}if((v||c)&&r)return{uri:`${i}/${v?"ipns":"ipfs"}/${r}${o}`,isOnChain:!1,isEncoded:!1};if(s==="ar:/"&&r)return{uri:`${f}/${r}${o||""}`,isOnChain:!1,isEncoded:!1};let u=t.replace(qoe,"");if(u.startsWith("<svg")&&(u=`data:image/svg+xml;base64,${btoa(u)}`),u.startsWith("data:")||u.startsWith("{"))return{uri:u,isOnChain:!0,isEncoded:!1};throw new oS({uri:t})}function FU(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new Koe({data:t});return t.image||t.image_url||t.image_data}async function tle({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(f=>f.json());return await lS({gatewayUrls:t,uri:FU(n)})}catch{throw new oS({uri:e})}}async function lS({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:i}=OU({uri:e,gatewayUrls:t});if(i||await ele(n))return n;throw new oS({uri:e})}function nle(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[n,i,f]=e.split("/"),[b,s]=n.split(":"),[y,r]=i.split(":");if(!b||b.toLowerCase()!=="eip155")throw new A0({reason:"Only EIP-155 supported"});if(!s)throw new A0({reason:"Chain ID not found"});if(!r)throw new A0({reason:"Contract address not found"});if(!f)throw new A0({reason:"Token ID not found"});if(!y)throw new A0({reason:"ERC namespace not found"});return{chainID:Number.parseInt(s,10),namespace:y.toLowerCase(),contractAddress:r,tokenID:f}}async function rle(t,{nft:e}){if(e.namespace==="erc721")return no(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return no(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new Zoe({namespace:e.namespace})}async function ile(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?sle(t,{gatewayUrls:e,record:n}):lS({uri:n,gatewayUrls:e})}async function sle(t,{gatewayUrls:e,record:n}){const i=nle(n),f=await rle(t,{nft:i}),{uri:b,isOnChain:s,isEncoded:y}=OU({uri:f,gatewayUrls:e});if(s&&(b.includes("data:application/json;base64,")||b.startsWith("{"))){const o=y?atob(b.replace("data:application/json;base64,","")):b,v=JSON.parse(o);return lS({uri:FU(v),gatewayUrls:e})}let r=i.tokenID;return i.namespace==="erc1155"&&(r=r.replace("0x","").padStart(64,"0")),tle({gatewayUrls:e,uri:b.replace(/(?:0x)?{id}/,r)})}async function $U(t,e){const{blockNumber:n,blockTag:i,key:f,name:b,gatewayUrls:s,strict:y}=e,{chain:r}=t,o=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!r)throw new Error("client chain not configured. universalResolverAddress is required.");return Ip({blockNumber:n,chain:r,contract:"ensUniversalResolver"})})(),v=r?.ensTlds;if(v&&!v.some(c=>b.endsWith(c)))return null;try{const c={address:o,abi:hB,args:[er(aS(b)),fs({abi:RI,functionName:"text",args:[Z8(b),f]}),s??[Dw]],functionName:"resolveWithGateways",blockNumber:n,blockTag:i},l=await mt(t,no,"readContract")(c);if(l[0]==="0x")return null;const a=Hd({abi:RI,functionName:"text",data:l[0]});return a===""?null:a}catch(c){if(y)throw c;if(sS(c))return null;throw c}}async function ale(t,{blockNumber:e,blockTag:n,assetGatewayUrls:i,name:f,gatewayUrls:b,strict:s,universalResolverAddress:y}){const r=await mt(t,$U,"getEnsText")({blockNumber:e,blockTag:n,key:"avatar",name:f,universalResolverAddress:y,gatewayUrls:b,strict:s});if(!r)return null;try{return await ile(t,{record:r,gatewayUrls:i})}catch{return null}}async function ole(t,e){const{address:n,blockNumber:i,blockTag:f,coinType:b=60n,gatewayUrls:s,strict:y}=e,{chain:r}=t,o=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!r)throw new Error("client chain not configured. universalResolverAddress is required.");return Ip({blockNumber:i,chain:r,contract:"ensUniversalResolver"})})();try{const v={address:o,abi:nte,args:[n,b,s??[Dw]],functionName:"reverseWithGateways",blockNumber:i,blockTag:f},c=mt(t,no,"readContract"),[u]=await c(v);return u||null}catch(v){if(y)throw v;if(sS(v))return null;throw v}}async function lle(t,e){const{blockNumber:n,blockTag:i,name:f}=e,{chain:b}=t,s=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!b)throw new Error("client chain not configured. universalResolverAddress is required.");return Ip({blockNumber:n,chain:b,contract:"ensUniversalResolver"})})(),y=b?.ensTlds;if(y&&!y.some(o=>f.endsWith(o)))throw new Error(`${f} is not a valid ENS TLD (${y?.join(", ")}) for chain "${b.name}" (id: ${b.id}).`);const[r]=await mt(t,no,"readContract")({address:s,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[er(aS(f))],blockNumber:n,blockTag:i});return r}async function LU(t,e){const{account:n=t.account,blockNumber:i,blockTag:f="latest",blobs:b,data:s,gas:y,gasPrice:r,maxFeePerBlobGas:o,maxFeePerGas:v,maxPriorityFeePerGas:c,to:u,value:l,...a}=e,d=n?nr(n):void 0;try{fc(e);const h=(typeof i=="bigint"?xt(i):void 0)||f,g=t.chain?.formatters?.transactionRequest?.format,x=(g||Xd)({...am(a,{format:g}),account:d,blobs:b,data:s,gas:y,gasPrice:r,maxFeePerBlobGas:o,maxFeePerGas:v,maxPriorityFeePerGas:c,to:u,value:l},"createAccessList"),w=await t.request({method:"eth_createAccessList",params:[x,h]});return{accessList:w.accessList,gasUsed:BigInt(w.gasUsed)}}catch(p){throw mB(p,{...e,account:d,chain:t.chain})}}async function ule(t){const e=Ww(t,{method:"eth_newBlockFilter"}),n=await t.request({method:"eth_newBlockFilter"});return{id:n,request:e(n),type:"block"}}async function DU(t,{address:e,args:n,event:i,events:f,fromBlock:b,strict:s,toBlock:y}={}){const r=f??(i?[i]:void 0),o=Ww(t,{method:"eth_newFilter"});let v=[];r&&(v=[r.flatMap(l=>qg({abi:[l],eventName:l.name,args:n}))],i&&(v=v[0]));const c=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof b=="bigint"?xt(b):b,toBlock:typeof y=="bigint"?xt(y):y,...v.length?{topics:v}:{}}]});return{abi:r,args:n,eventName:i?i.name:void 0,fromBlock:b,id:c,request:o(c),strict:!!s,toBlock:y,type:"event"}}async function NU(t){const e=Ww(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}async function cle(t,{address:e,blockNumber:n,blockTag:i=t.experimental_blockTag??"latest"}){const f=typeof n=="bigint"?xt(n):void 0,b=await t.request({method:"eth_getBalance",params:[e,f||i]});return BigInt(b)}async function dle(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}async function hle(t,{blockHash:e,blockNumber:n,blockTag:i="latest"}={}){const f=n!==void 0?xt(n):void 0;let b;return e?b=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):b=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[f||i]},{dedupe:!!f}),Qa(b)}async function J8(t,{address:e,blockNumber:n,blockTag:i="latest"}){const f=n!==void 0?xt(n):void 0,b=await t.request({method:"eth_getCode",params:[e,f||i]},{dedupe:!!f});if(b!=="0x")return b}class fle extends Ne{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function ple(t,e){const{address:n,factory:i,factoryData:f}=e;try{const[b,s,y,r,o,v,c]=await mt(t,no,"readContract")({abi:vle,address:n,functionName:"eip712Domain",factory:i,factoryData:f});return{domain:{name:s,version:y,chainId:Number(r),verifyingContract:o,salt:v},extensions:c,fields:b}}catch(b){const s=b;throw s.name==="ContractFunctionExecutionError"&&s.cause.name==="ContractFunctionZeroDataError"?new fle({address:n}):s}}const vle=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function gle(t){return{baseFeePerGas:t.baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:t.reward?.map(e=>e.map(n=>BigInt(n)))}}async function mle(t,{blockCount:e,blockNumber:n,blockTag:i="latest",rewardPercentiles:f}){const b=typeof n=="bigint"?xt(n):void 0,s=await t.request({method:"eth_feeHistory",params:[xt(e),b||i,f]},{dedupe:!!b});return gle(s)}async function yle(t,{filter:e}){const n=e.strict??!1,f=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(b=>Ql(b));return e.abi?T9({abi:e.abi,logs:f,strict:n}):f}function wle(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function xle(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?Qa(t.nonce):void 0,storageProof:t.storageProof?wle(t.storageProof):void 0}}async function ble(t,{address:e,blockNumber:n,blockTag:i,storageKeys:f}){const b=i??"latest",s=n!==void 0?xt(n):void 0,y=await t.request({method:"eth_getProof",params:[e,f,s||b]});return xle(y)}async function Cle(t,{address:e,blockNumber:n,blockTag:i="latest",slot:f}){const b=n!==void 0?xt(n):void 0;return await t.request({method:"eth_getStorageAt",params:[e,f,b||i]})}async function uS(t,{blockHash:e,blockNumber:n,blockTag:i,hash:f,index:b}){const s=i||"latest",y=n!==void 0?xt(n):void 0;let r=null;if(f?r=await t.request({method:"eth_getTransactionByHash",params:[f]},{dedupe:!0}):e?r=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,xt(b)]},{dedupe:!0}):r=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[y||s,xt(b)]},{dedupe:!!y}),!r)throw new jk({blockHash:e,blockNumber:n,blockTag:s,hash:f,index:b});return(t.chain?.formatters?.transaction?.format||bB)(r,"getTransaction")}async function Ele(t,{hash:e,transactionReceipt:n}){const[i,f]=await Promise.all([mt(t,lm,"getBlockNumber")({}),e?mt(t,uS,"getTransaction")({hash:e}):void 0]),b=n?.blockNumber||f?.blockNumber;return b?i-b+1n:0n}async function Uy(t,{hash:e}){const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new zk({hash:e});return(t.chain?.formatters?.transactionReceipt?.format||SB)(n,"getTransactionReceipt")}async function Sle(t,e){const{account:n,authorizationList:i,allowFailure:f=!0,blockNumber:b,blockOverrides:s,blockTag:y,stateOverride:r}=e,o=e.contracts,{batchSize:v=e.batchSize??1024,deployless:c=e.deployless??!1}=typeof t.batch?.multicall=="object"?t.batch.multicall:{},u=(()=>{if(e.multicallAddress)return e.multicallAddress;if(c)return null;if(t.chain)return Ip({blockNumber:b,chain:t.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),l=[[]];let a=0,d=0;for(let g=0;g<o.length;g++){const{abi:m,address:x,args:w,functionName:C}=o[g];try{const E=fs({abi:m,args:w,functionName:C});d+=(E.length-2)/2,v>0&&d>v&&l[a].length>0&&(a++,d=(E.length-2)/2,l[a]=[]),l[a]=[...l[a],{allowFailure:!0,callData:E,target:x}]}catch(E){const T=Id(E,{abi:m,address:x,args:w,docsPath:"/docs/contract/multicall",functionName:C,sender:n});if(!f)throw T;l[a]=[...l[a],{allowFailure:!0,callData:"0x",target:x}]}}const p=await Promise.allSettled(l.map(g=>mt(t,no,"readContract")({...u===null?{code:$9}:{address:u},abi:C2,account:n,args:[g],authorizationList:i,blockNumber:b,blockOverrides:s,blockTag:y,functionName:"aggregate3",stateOverride:r}))),h=[];for(let g=0;g<p.length;g++){const m=p[g];if(m.status==="rejected"){if(!f)throw m.reason;for(let w=0;w<l[g].length;w++)h.push({status:"failure",error:m.reason,result:void 0});continue}const x=m.value;for(let w=0;w<x.length;w++){const{returnData:C,success:E}=x[w],{callData:T}=l[g][w],{abi:S,address:A,functionName:P,args:R}=o[h.length];try{if(T==="0x")throw new Qg;if(!E)throw new Fw({data:C});const L=Hd({abi:S,args:R,data:C,functionName:P});h.push(f?{result:L,status:"success"}:L)}catch(L){const D=Id(L,{abi:S,address:A,args:R,docsPath:"/docs/contract/multicall",functionName:P});if(!f)throw D;h.push({error:D,result:void 0,status:"failure"})}}}if(h.length!==o.length)throw new Ne("multicall results mismatch");return h}async function Q8(t,e){const{blockNumber:n,blockTag:i=t.experimental_blockTag??"latest",blocks:f,returnFullTransactions:b,traceTransfers:s,validation:y}=e;try{const r=[];for(const u of f){const l=u.blockOverrides?cB(u.blockOverrides):void 0,a=u.calls.map(p=>{const h=p,g=h.account?nr(h.account):void 0,m=h.abi?fs(h):h.data,x={...h,account:g,data:h.dataSuffix?ga([m||"0x",h.dataSuffix]):m,from:h.from??g?.address};return fc(x),Xd(x)}),d=u.stateOverrides?D9(u.stateOverrides):void 0;r.push({blockOverrides:l,calls:a,stateOverrides:d})}const v=(typeof n=="bigint"?xt(n):void 0)||i;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:r,returnFullTransactions:b,traceTransfers:s,validation:y},v]})).map((u,l)=>({...CB(u),calls:u.calls.map((a,d)=>{const{abi:p,args:h,functionName:g,to:m}=f[l].calls[d],x=a.error?.data??a.returnData,w=BigInt(a.gasUsed),C=a.logs?.map(A=>Ql(A)),E=a.status==="0x1"?"success":"failure",T=p&&E==="success"&&x!=="0x"?Hd({abi:p,data:x,functionName:g}):null,S=(()=>{if(E==="success")return;let A;if(a.error?.data==="0x"?A=new Qg:a.error&&(A=new Fw(a.error)),!!A)return Id(A,{abi:p??[],address:m??"0x",args:h,functionName:g??"<unknown>"})})();return{data:x,gasUsed:w,logs:C,status:E,...E==="success"?{result:T}:{error:S}}})}))}catch(r){const o=r,v=$w(o,{});throw v instanceof nm?o:v}}function _8(t){let e=!0,n="",i=0,f="",b=!1;for(let s=0;s<t.length;s++){const y=t[s];if(["(",")",","].includes(y)&&(e=!0),y==="("&&i++,y===")"&&i--,!!e){if(i===0){if(y===" "&&["event","function","error",""].includes(f))f="";else if(f+=y,y===")"){b=!0;break}continue}if(y===" "){t[s-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}f+=y,n+=y}}if(!b)throw new Jt("Unable to normalize signature.");return f}function q8(t,e){const n=typeof t,i=e.type;switch(i){case"address":return F8(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return i==="tuple"&&"components"in e?Object.values(e.components).every((f,b)=>q8(Object.values(t)[b],f)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(i)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(i)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(i)?Array.isArray(t)&&t.every(f=>q8(f,{...e,type:i.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function kU(t,e,n){for(const i in t){const f=t[i],b=e[i];if(f.type==="tuple"&&b.type==="tuple"&&"components"in f&&"components"in b)return kU(f.components,b.components,n[i]);const s=[f.type,b.type];if(s.includes("address")&&s.includes("bytes20")?!0:s.includes("address")&&s.includes("string")?F8(n[i],{strict:!1}):s.includes("address")&&s.includes("bytes")?F8(n[i],{strict:!1}):!1)return s}}function BU(t,e={}){const{prepare:n=!0}=e,i=Array.isArray(t)||typeof t=="string"?tI(t):t;return{...i,...n?{hash:If(i)}:{}}}function Yw(t,e,n){const{args:i=[],prepare:f=!0}=n??{},b=_ee(e,{strict:!1}),s=t.filter(o=>b?o.type==="function"||o.type==="error"?UU(o)===Zo(e,0,4):o.type==="event"?If(o)===e:!1:"name"in o&&o.name===e);if(s.length===0)throw new T2({name:e});if(s.length===1)return{...s[0],...f?{hash:If(s[0])}:{}};let y;for(const o of s){if(!("inputs"in o))continue;if(!i||i.length===0){if(!o.inputs||o.inputs.length===0)return{...o,...f?{hash:If(o)}:{}};continue}if(!o.inputs||o.inputs.length===0||o.inputs.length!==i.length)continue;if(i.every((c,u)=>{const l="inputs"in o&&o.inputs[u];return l?q8(c,l):!1})){if(y&&"inputs"in y&&y.inputs){const c=kU(o.inputs,y.inputs,i);if(c)throw new Ale({abiItem:o,type:c[0]},{abiItem:y,type:c[1]})}y=o}}const r=(()=>{if(y)return y;const[o,...v]=s;return{...o,overloads:v}})();if(!r)throw new T2({name:e});return{...r,...f?{hash:If(r)}:{}}}function UU(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,i]=t;return Yw(n,i)}return t[0]})();return Zo(If(e),0,4)}function Tle(...t){const e=(()=>{if(Array.isArray(t[0])){const[i,f]=t;return Yw(i,f)}return t[0]})(),n=typeof e=="string"?e:g2(e);return _8(n)}function If(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,i]=t;return Yw(n,i)}return t[0]})();return typeof e!="string"&&"hash"in e&&e.hash?e.hash:FB(F9(Tle(e)))}class Ale extends Jt{constructor(e,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${_8(g2(e.abiItem))}\`, and`,`\`${n.type}\` in \`${_8(g2(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class T2 extends Jt{constructor({name:e,data:n,type:i="item"}){const f=e?` with name "${e}"`:n?` with data "${n}"`:"";super(`ABI ${i}${f} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function Ple(...t){const[e,n]=(()=>{if(Array.isArray(t[0])){const[b,s]=t;return[Rle(b),s]}return t})(),{bytecode:i,args:f}=n;return eo(i,e.inputs?.length&&f?.length?W9(e.inputs,f):"0x")}function Ile(t){return BU(t)}function Rle(t){const e=t.find(n=>n.type==="constructor");if(!e)throw new T2({name:"constructor"});return e}function Mle(...t){const[e,n=[]]=(()=>{if(Array.isArray(t[0])){const[o,v,c]=t;return[RR(o,v,{args:c}),c]}const[y,r]=t;return[y,r]})(),{overloads:i}=e,f=i?RR([e,...i],e.name,{args:n}):e,b=Ole(f),s=n.length>0?W9(f.inputs,n):void 0;return s?eo(b,s):b}function Hh(t,e={}){return BU(t,e)}function RR(t,e,n){const i=Yw(t,e,n);if(i.type!=="function")throw new T2({name:e,type:"function"});return i}function Ole(t){return UU(t)}const Fle="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Po="0x0000000000000000000000000000000000000000",$le="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function Lle(t,e){const{blockNumber:n,blockTag:i,calls:f,stateOverrides:b,traceAssetChanges:s,traceTransfers:y,validation:r}=e,o=e.account?nr(e.account):void 0;if(s&&!o)throw new Ne("`account` is required when `traceAssetChanges` is true");const v=o?Ple(Ile("constructor(bytes, bytes)"),{bytecode:pB,args:[$le,Mle(Hh("function getBalance(address)"),[o.address])]}):void 0,c=s?await Promise.all(e.calls.map(async k=>{if(!k.data&&!k.abi)return;const{accessList:j}=await LU(t,{account:o.address,...k,data:k.abi?fs(k):k.data});return j.map(({address:W,storageKeys:G})=>G.length>0?W:null)})).then(k=>k.flat().filter(Boolean)):[],u=await Q8(t,{blockNumber:n,blockTag:i,blocks:[...s?[{calls:[{data:v}],stateOverrides:b},{calls:c.map((k,j)=>({abi:[Hh("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[o.address],to:k,from:Po,nonce:j})),stateOverrides:[{address:Po,nonce:0}]}]:[],{calls:[...f,{}].map(k=>({...k,from:o?.address})),stateOverrides:b},...s?[{calls:[{data:v}]},{calls:c.map((k,j)=>({abi:[Hh("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[o.address],to:k,from:Po,nonce:j})),stateOverrides:[{address:Po,nonce:0}]},{calls:c.map((k,j)=>({to:k,abi:[Hh("function decimals() returns (uint256)")],functionName:"decimals",from:Po,nonce:j})),stateOverrides:[{address:Po,nonce:0}]},{calls:c.map((k,j)=>({to:k,abi:[Hh("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Po,nonce:j})),stateOverrides:[{address:Po,nonce:0}]},{calls:c.map((k,j)=>({to:k,abi:[Hh("function symbol() returns (string)")],functionName:"symbol",from:Po,nonce:j})),stateOverrides:[{address:Po,nonce:0}]}]:[]],traceTransfers:y,validation:r}),l=s?u[2]:u[0],[a,d,,p,h,g,m,x]=s?u:[],{calls:w,...C}=l,E=w.slice(0,-1)??[],T=a?.calls??[],S=d?.calls??[],A=[...T,...S].map(k=>k.status==="success"?Us(k.data):null),P=p?.calls??[],R=h?.calls??[],L=[...P,...R].map(k=>k.status==="success"?Us(k.data):null),D=(g?.calls??[]).map(k=>k.status==="success"?k.result:null),F=(x?.calls??[]).map(k=>k.status==="success"?k.result:null),$=(m?.calls??[]).map(k=>k.status==="success"?k.result:null),N=[];for(const[k,j]of L.entries()){const W=A[k];if(typeof j!="bigint"||typeof W!="bigint")continue;const G=D[k-1],K=F[k-1],z=$[k-1],X=k===0?{address:Fle,decimals:18,symbol:"ETH"}:{address:c[k-1],decimals:z||G?Number(G??1):void 0,symbol:K??void 0};N.some(U=>U.token.address===X.address)||N.push({token:X,value:{pre:W,post:j,diff:j-W}})}return{assetChanges:N,block:C,results:E}}const jU="0x6492649264926492649264926492649264926492649264926492649264926492";function Dle(t){if(Zo(t,-32)!==jU)throw new Ble(t)}function Nle(t){const{data:e,signature:n,to:i}=t;return eo(W9(DB("address, bytes, bytes"),[i,e,n]),jU)}function kle(t){try{return Dle(t),!0}catch{return!1}}class Ble extends Jt{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function Ule({r:t,s:e,to:n="hex",v:i,yParity:f}){const b=(()=>{if(f===0||f===1)return f;if(i&&(i===27n||i===28n||i>=35n))return i%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),s=`0x${new _B.Signature(Us(t),Us(e)).toCompactHex()}${b===0?"1b":"1c"}`;return n==="hex"?s:_a(s)}async function Xw(t,e){const{address:n,hash:i,erc6492VerifierAddress:f=e.universalSignatureVerifierAddress??t.chain?.contracts?.erc6492Verifier?.address,multicallAddress:b=e.multicallAddress??t.chain?.contracts?.multicall3?.address}=e,s=(()=>{const y=e.signature;return Ti(y)?y:typeof y=="object"&&"r"in y&&"s"in y?Ule(y):$r(y)})();try{return qne(s)?await jle(t,{...e,multicallAddress:b,signature:s}):await zle(t,{...e,verifierAddress:f,signature:s})}catch(y){try{if(em(yr(n),await Bk({hash:i,signature:s})))return!0}catch{}if(y instanceof Rd)return!1;throw y}}async function jle(t,e){const{address:n,blockNumber:i,blockTag:f,hash:b,multicallAddress:s}=e,{authorization:y,data:r,signature:o,to:v}=_ne(e.signature);if(await J8(t,{address:n,blockNumber:i,blockTag:f})===Ap(["0xef0100",y.address]))return await Wle(t,{address:n,blockNumber:i,blockTag:f,hash:b,signature:o});const u={address:y.address,chainId:Number(y.chainId),nonce:Number(y.nonce),r:xt(y.r,{size:32}),s:xt(y.s,{size:32}),yParity:y.yParity};if(!await mee({address:n,authorization:u}))throw new Rd;const a=await mt(t,no,"readContract")({...s?{address:s}:{code:$9},authorizationList:[u],abi:C2,blockNumber:i,blockTag:"pending",functionName:"aggregate3",args:[[...r?[{allowFailure:!0,target:v??n,callData:r}]:[],{allowFailure:!0,target:n,callData:fs({abi:fB,functionName:"isValidSignature",args:[b,o]})}]]});if(a[a.length-1]?.returnData?.startsWith("0x1626ba7e"))return!0;throw new Rd}async function zle(t,e){const{address:n,factory:i,factoryData:f,hash:b,signature:s,verifierAddress:y,...r}=e,o=await(async()=>!i&&!f||kle(s)?s:Nle({data:f,signature:s,to:i}))(),v=y?{to:y,data:fs({abi:OI,functionName:"isValidSig",args:[n,b,o]}),...r}:{data:Pw({abi:OI,args:[n,b,o],bytecode:ste}),...r},{data:c}=await mt(t,Lw,"call")(v).catch(u=>{throw u instanceof vB?new Rd:u});if(g_(c??"0x0"))return!0;throw new Rd}async function Wle(t,e){const{address:n,blockNumber:i,blockTag:f,hash:b,signature:s}=e;if((await mt(t,no,"readContract")({address:n,abi:fB,args:[b,s],blockNumber:i,blockTag:f,functionName:"isValidSignature"}).catch(r=>{throw r instanceof gB?new Rd:r})).startsWith("0x1626ba7e"))return!0;throw new Rd}class Rd extends Error{}async function Gle(t,{address:e,message:n,factory:i,factoryData:f,signature:b,...s}){const y=TB(n);return Xw(t,{address:e,factory:i,factoryData:f,hash:y,signature:b,...s})}async function Vle(t,e){const{address:n,factory:i,factoryData:f,signature:b,message:s,primaryType:y,types:r,domain:o,...v}=e,c=Lte({message:s,primaryType:y,types:r,domain:o});return Xw(t,{address:n,factory:i,factoryData:f,hash:c,signature:b,...v})}function zU(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:i,onError:f,poll:b,pollingInterval:s=t.pollingInterval}){const y=typeof b<"u"?b:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc"));let r;return y?(()=>{const c=Fr(["watchBlockNumber",t.uid,e,n,s]);return ql(c,{onBlockNumber:i,onError:f},u=>Rp(async()=>{try{const l=await mt(t,lm,"getBlockNumber")({cacheTime:0});if(r!==void 0){if(l===r)return;if(l-r>1&&n)for(let a=r+1n;a<l;a++)u.onBlockNumber(a,r),r=a}(r===void 0||l>r)&&(u.onBlockNumber(l,r),r=l)}catch(l){u.onError?.(l)}},{emitOnBegin:e,interval:s}))})():(()=>{const c=Fr(["watchBlockNumber",t.uid,e,n]);return ql(c,{onBlockNumber:i,onError:f},u=>{let l=!0,a=()=>l=!1;return(async()=>{try{const d=(()=>{if(t.transport.type==="fallback"){const h=t.transport.transports.find(g=>g.config.type==="webSocket"||g.config.type==="ipc");return h?h.value:t.transport}return t.transport})(),{unsubscribe:p}=await d.subscribe({params:["newHeads"],onData(h){if(!l)return;const g=Us(h.result?.number);u.onBlockNumber(g,r),r=g},onError(h){u.onError?.(h)}});a=p,l||a()}catch(d){f?.(d)}})(),()=>a()})})()}async function WU(t,e){const{checkReplacement:n=!0,confirmations:i=1,hash:f,onReplaced:b,retryCount:s=6,retryDelay:y=({count:w})=>~~(1<<w)*200,timeout:r=18e4}=e,o=Fr(["waitForTransactionReceipt",t.uid,f]),v=e.pollingInterval?e.pollingInterval:t.chain?.experimental_preconfirmationTime?t.chain.experimental_preconfirmationTime:t.pollingInterval;let c,u,l,a=!1,d,p;const{promise:h,resolve:g,reject:m}=L9(),x=r?setTimeout(()=>{p?.(),d?.(),m(new _q({hash:f}))},r):void 0;return d=ql(o,{onReplaced:b,resolve:g,reject:m},async w=>{if(l=await mt(t,Uy,"getTransactionReceipt")({hash:f}).catch(()=>{}),l&&i<=1){clearTimeout(x),w.resolve(l),d?.();return}p=mt(t,zU,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:v,async onBlockNumber(C){const E=S=>{clearTimeout(x),p?.(),S(),d?.()};let T=C;if(!a)try{if(l){if(i>1&&(!l.blockNumber||T-l.blockNumber+1n<i))return;E(()=>w.resolve(l));return}if(n&&!c&&(a=!0,await w2(async()=>{c=await mt(t,uS,"getTransaction")({hash:f}),c.blockNumber&&(T=c.blockNumber)},{delay:y,retryCount:s}),a=!1),l=await mt(t,Uy,"getTransactionReceipt")({hash:f}),i>1&&(!l.blockNumber||T-l.blockNumber+1n<i))return;E(()=>w.resolve(l))}catch(S){if(S instanceof jk||S instanceof zk){if(!c){a=!1;return}try{u=c,a=!0;const A=await w2(()=>mt(t,Vo,"getBlock")({blockNumber:T,includeTransactions:!0}),{delay:y,retryCount:s,shouldRetry:({error:L})=>L instanceof xU});a=!1;const P=A.transactions.find(({from:L,nonce:D})=>L===u.from&&D===u.nonce);if(!P||(l=await mt(t,Uy,"getTransactionReceipt")({hash:P.hash}),i>1&&(!l.blockNumber||T-l.blockNumber+1n<i)))return;let R="replaced";P.to===u.to&&P.value===u.value&&P.input===u.input?R="repriced":P.from===P.to&&P.value===0n&&(R="cancelled"),E(()=>{w.onReplaced?.({reason:R,replacedTransaction:u,transaction:P,transactionReceipt:l}),w.resolve(l)})}catch(A){E(()=>w.reject(A))}}else E(()=>w.reject(S))}}})}),h}function Hle(t,{blockTag:e=t.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:i=!1,onBlock:f,onError:b,includeTransactions:s,poll:y,pollingInterval:r=t.pollingInterval}){const o=typeof y<"u"?y:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),v=s??!1;let c;return o?(()=>{const a=Fr(["watchBlocks",t.uid,e,n,i,v,r]);return ql(a,{onBlock:f,onError:b},d=>Rp(async()=>{try{const p=await mt(t,Vo,"getBlock")({blockTag:e,includeTransactions:v});if(p.number!==null&&c?.number!=null){if(p.number===c.number)return;if(p.number-c.number>1&&n)for(let h=c?.number+1n;h<p.number;h++){const g=await mt(t,Vo,"getBlock")({blockNumber:h,includeTransactions:v});d.onBlock(g,c),c=g}}(c?.number==null||e==="pending"&&p?.number==null||p.number!==null&&p.number>c.number)&&(d.onBlock(p,c),c=p)}catch(p){d.onError?.(p)}},{emitOnBegin:i,interval:r}))})():(()=>{let a=!0,d=!0,p=()=>a=!1;return(async()=>{try{i&&mt(t,Vo,"getBlock")({blockTag:e,includeTransactions:v}).then(m=>{a&&d&&(f(m,void 0),d=!1)}).catch(b);const h=(()=>{if(t.transport.type==="fallback"){const m=t.transport.transports.find(x=>x.config.type==="webSocket"||x.config.type==="ipc");return m?m.value:t.transport}return t.transport})(),{unsubscribe:g}=await h.subscribe({params:["newHeads"],async onData(m){if(!a)return;const x=await mt(t,Vo,"getBlock")({blockNumber:m.result?.number,includeTransactions:v}).catch(()=>{});a&&(f(x,c),d=!1,c=x)},onError(m){b?.(m)}});p=g,a||p()}catch(h){b?.(h)}})(),()=>p()})()}function Yle(t,{address:e,args:n,batch:i=!0,event:f,events:b,fromBlock:s,onError:y,onLogs:r,poll:o,pollingInterval:v=t.pollingInterval,strict:c}){const u=typeof o<"u"?o:typeof s=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),l=c??!1;return u?(()=>{const p=Fr(["watchEvent",e,n,i,t.uid,f,v,s]);return ql(p,{onLogs:r,onError:y},h=>{let g;s!==void 0&&(g=s-1n);let m,x=!1;const w=Rp(async()=>{if(!x){try{m=await mt(t,DU,"createEventFilter")({address:e,args:n,event:f,events:b,strict:l,fromBlock:s})}catch{}x=!0;return}try{let C;if(m)C=await mt(t,Gw,"getFilterChanges")({filter:m});else{const E=await mt(t,lm,"getBlockNumber")({});g&&g!==E?C=await mt(t,rS,"getLogs")({address:e,args:n,event:f,events:b,fromBlock:g+1n,toBlock:E}):C=[],g=E}if(C.length===0)return;if(i)h.onLogs(C);else for(const E of C)h.onLogs([E])}catch(C){m&&C instanceof Td&&(x=!1),h.onError?.(C)}},{emitOnBegin:!0,interval:v});return async()=>{m&&await mt(t,Vw,"uninstallFilter")({filter:m}),w()}})})():(()=>{let p=!0,h=()=>p=!1;return(async()=>{try{const g=(()=>{if(t.transport.type==="fallback"){const C=t.transport.transports.find(E=>E.config.type==="webSocket"||E.config.type==="ipc");return C?C.value:t.transport}return t.transport})(),m=b??(f?[f]:void 0);let x=[];m&&(x=[m.flatMap(E=>qg({abi:[E],eventName:E.name,args:n}))],f&&(x=x[0]));const{unsubscribe:w}=await g.subscribe({params:["logs",{address:e,topics:x}],onData(C){if(!p)return;const E=C.result;try{const{eventName:T,args:S}=S9({abi:m??[],data:E.data,topics:E.topics,strict:l}),A=Ql(E,{args:S,eventName:T});r([A])}catch(T){let S,A;if(T instanceof Bv||T instanceof Tw){if(c)return;S=T.abiItem.name,A=T.abiItem.inputs?.some(R=>!("name"in R&&R.name))}const P=Ql(E,{args:A?[]:{},eventName:S});r([P])}},onError(C){y?.(C)}});h=w,p||h()}catch(g){y?.(g)}})(),()=>h()})()}function Xle(t,{batch:e=!0,onError:n,onTransactions:i,poll:f,pollingInterval:b=t.pollingInterval}){return(typeof f<"u"?f:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const o=Fr(["watchPendingTransactions",t.uid,e,b]);return ql(o,{onTransactions:i,onError:n},v=>{let c;const u=Rp(async()=>{try{if(!c)try{c=await mt(t,NU,"createPendingTransactionFilter")({});return}catch(a){throw u(),a}const l=await mt(t,Gw,"getFilterChanges")({filter:c});if(l.length===0)return;if(e)v.onTransactions(l);else for(const a of l)v.onTransactions([a])}catch(l){v.onError?.(l)}},{emitOnBegin:!0,interval:b});return async()=>{c&&await mt(t,Vw,"uninstallFilter")({filter:c}),u()}})})():(()=>{let o=!0,v=()=>o=!1;return(async()=>{try{const{unsubscribe:c}=await t.transport.subscribe({params:["newPendingTransactions"],onData(u){if(!o)return;const l=u.result;i([l])},onError(u){n?.(u)}});v=c,o||v()}catch(c){n?.(c)}})(),()=>v()})()}function Kle(t){const{scheme:e,statement:n,...i}=t.match(Zle)?.groups??{},{chainId:f,expirationTime:b,issuedAt:s,notBefore:y,requestId:r,...o}=t.match(Jle)?.groups??{},v=t.split("Resources:")[1]?.split(`
- `).slice(1);return{...i,...o,...f?{chainId:Number(f)}:{},...b?{expirationTime:new Date(b)}:{},...s?{issuedAt:new Date(s)}:{},...y?{notBefore:new Date(y)}:{},...r?{requestId:r}:{},...v?{resources:v}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const Zle=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Jle=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function Qle(t){const{address:e,domain:n,message:i,nonce:f,scheme:b,time:s=new Date}=t;if(n&&i.domain!==n||f&&i.nonce!==f||b&&i.scheme!==b||i.expirationTime&&s>=i.expirationTime||i.notBefore&&s<i.notBefore)return!1;try{if(!i.address||!ds(i.address,{strict:!1})||e&&!em(i.address,e))return!1}catch{return!1}return!0}async function _le(t,e){const{address:n,domain:i,message:f,nonce:b,scheme:s,signature:y,time:r=new Date,...o}=e,v=Kle(f);if(!v.address||!Qle({address:n,domain:i,message:v,nonce:b,scheme:s,time:r}))return!1;const u=TB(f);return Xw(t,{address:v.address,hash:u,signature:y,...o})}async function cS(t,{serializedTransaction:e,throwOnReceiptRevert:n,timeout:i}){const f=await t.request({method:"eth_sendRawTransactionSync",params:i?[e,xt(i)]:[e]},{retryCount:0}),s=(t.chain?.formatters?.transactionReceipt?.format||SB)(f);if(s.status==="reverted"&&n)throw new Wk({receipt:s});return s}function dS(t){return{call:e=>Lw(t,e),createAccessList:e=>LU(t,e),createBlockFilter:()=>ule(t),createContractEventFilter:e=>wU(t,e),createEventFilter:e=>DU(t,e),createPendingTransactionFilter:()=>NU(t),estimateContractGas:e=>Loe(t,e),estimateGas:e=>nS(t,e),getBalance:e=>cle(t,e),getBlobBaseFee:()=>dle(t),getBlock:e=>Vo(t,e),getBlockNumber:e=>lm(t,e),getBlockTransactionCount:e=>hle(t,e),getBytecode:e=>J8(t,e),getChainId:()=>Kd(t),getCode:e=>J8(t,e),getContractEvents:e=>CU(t,e),getEip712Domain:e=>ple(t,e),getEnsAddress:e=>Xoe(t,e),getEnsAvatar:e=>ale(t,e),getEnsName:e=>ole(t,e),getEnsResolver:e=>lle(t,e),getEnsText:e=>$U(t,e),getFeeHistory:e=>mle(t,e),estimateFeesPerGas:e=>$oe(t,e),getFilterChanges:e=>Gw(t,e),getFilterLogs:e=>yle(t,e),getGasPrice:()=>eS(t),getLogs:e=>rS(t,e),getProof:e=>ble(t,e),estimateMaxPriorityFeePerGas:e=>Foe(t,e),getStorageAt:e=>Cle(t,e),getTransaction:e=>uS(t,e),getTransactionConfirmations:e=>Ele(t,e),getTransactionCount:e=>B9(t,e),getTransactionReceipt:e=>Uy(t,e),multicall:e=>Sle(t,e),prepareTransactionRequest:e=>om(t,e),readContract:e=>no(t,e),sendRawTransaction:e=>iS(t,e),sendRawTransactionSync:e=>cS(t,e),simulate:e=>Q8(t,e),simulateBlocks:e=>Q8(t,e),simulateCalls:e=>Lle(t,e),simulateContract:e=>Doe(t,e),verifyHash:e=>Xw(t,e),verifyMessage:e=>Gle(t,e),verifySiweMessage:e=>_le(t,e),verifyTypedData:e=>Vle(t,e),uninstallFilter:e=>Vw(t,e),waitForTransactionReceipt:e=>WU(t,e),watchBlocks:e=>Hle(t,e),watchBlockNumber:e=>zU(t,e),watchContractEvent:e=>Woe(t,e),watchEvent:e=>Yle(t,e),watchPendingTransactions:e=>Xle(t,e)}}function tl(t){const{key:e="public",name:n="Public Client"}=t;return RU({...t,key:e,name:n,type:"publicClient"}).extend(dS)}async function qle(t,{chain:e}){const{id:n,name:i,nativeCurrency:f,rpcUrls:b,blockExplorers:s}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:xt(n),chainName:i,nativeCurrency:f,rpcUrls:b.default.http,blockExplorerUrls:s?Object.values(s).map(({url:y})=>y):void 0}]},{dedupe:!0,retryCount:0})}function eue(t,e){const{abi:n,args:i,bytecode:f,...b}=e,s=Pw({abi:n,args:i,bytecode:f});return Hw(t,{...b,...b.authorizationList?{to:null}:{},data:s})}async function tue(t){return t.account?.type==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(n=>Jg(n))}async function nue(t,e={}){const{account:n=t.account,chainId:i}=e,f=n?nr(n):void 0,b=i?[f?.address,[xt(i)]]:[f?.address],s=await t.request({method:"wallet_getCapabilities",params:b}),y={};for(const[r,o]of Object.entries(s)){y[Number(r)]={};for(let[v,c]of Object.entries(o))v==="addSubAccount"&&(v="unstable_addSubAccount"),y[Number(r)][v]=c}return typeof i=="number"?y[i]:y}async function rue(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function GU(t,e){const{account:n=t.account,chainId:i,nonce:f}=e;if(!n)throw new pc({docsPath:"/docs/eip7702/prepareAuthorization"});const b=nr(n),s=(()=>{if(e.executor)return e.executor==="self"?e.executor:nr(e.executor)})(),y={address:e.contractAddress??e.address,chainId:i,nonce:f};return typeof y.chainId>"u"&&(y.chainId=t.chain?.id??await mt(t,Kd,"getChainId")({})),typeof y.nonce>"u"&&(y.nonce=await mt(t,B9,"getTransactionCount")({address:b.address,blockTag:"pending"}),(s==="self"||s?.address&&em(s.address,b.address))&&(y.nonce+=1)),y}async function iue(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>yr(n))}async function sue(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function aue(t,e){const{chain:n=t.chain}=e,i=e.timeout??Math.max((n?.blockTime??0)*3,5e3),f=await TU(t,e);return await PU(t,{...e,id:f.id,timeout:i})}const Ib=new Zg(128);async function VU(t,e){const{account:n=t.account,chain:i=t.chain,accessList:f,authorizationList:b,blobs:s,data:y,gas:r,gasPrice:o,maxFeePerBlobGas:v,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,pollingInterval:a,throwOnReceiptRevert:d,type:p,value:h,...g}=e,m=e.timeout??Math.max((i?.blockTime??0)*3,5e3);if(typeof n>"u")throw new pc({docsPath:"/docs/actions/wallet/sendTransactionSync"});const x=n?nr(n):null;try{fc(e);const w=await(async()=>{if(e.to)return e.to;if(e.to!==null&&b&&b.length>0)return await Iw({authorization:b[0]}).catch(()=>{throw new Ne("`to` is required. Could not infer from `authorizationList`.")})})();if(x?.type==="json-rpc"||x===null){let C;i!==null&&(C=await mt(t,Kd,"getChainId")({}),N9({currentChainId:C,chain:i}));const E=t.chain?.formatters?.transactionRequest?.format,S=(E||Xd)({...am(g,{format:E}),accessList:f,account:x,authorizationList:b,blobs:s,chainId:C,data:y,gas:r,gasPrice:o,maxFeePerBlobGas:v,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:w,type:p,value:h},"sendTransaction"),A=Ib.get(t.uid),P=A?"wallet_sendTransaction":"eth_sendTransaction",R=await(async()=>{try{return await t.request({method:P,params:[S]},{retryCount:0})}catch(D){if(A===!1)throw D;const F=D;if(F.name==="InvalidInputRpcError"||F.name==="InvalidParamsRpcError"||F.name==="MethodNotFoundRpcError"||F.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[S]},{retryCount:0}).then($=>(Ib.set(t.uid,!0),$)).catch($=>{const N=$;throw N.name==="MethodNotFoundRpcError"||N.name==="MethodNotSupportedRpcError"?(Ib.set(t.uid,!1),F):N});throw F}})(),L=await mt(t,WU,"waitForTransactionReceipt")({checkReplacement:!1,hash:R,pollingInterval:a,timeout:m});if(d&&L.status==="reverted")throw new Wk({receipt:L});return L}if(x?.type==="local"){const C=await mt(t,om,"prepareTransactionRequest")({account:x,accessList:f,authorizationList:b,blobs:s,chain:i,data:y,gas:r,gasPrice:o,maxFeePerBlobGas:v,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,nonceManager:x.nonceManager,parameters:[...tS,"sidecars"],type:p,value:h,...g,to:w}),E=i?.serializers?.transaction,T=await x.signTransaction(C,{serializer:E});return await mt(t,cS,"sendRawTransactionSync")({serializedTransaction:T,throwOnReceiptRevert:d})}throw x?.type==="smart"?new gd({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new gd({docsPath:"/docs/actions/wallet/sendTransactionSync",type:x?.type})}catch(w){throw w instanceof gd?w:k9(w,{...e,account:x,chain:e.chain||void 0})}}async function oue(t,e){const{id:n}=e;await t.request({method:"wallet_showCallsStatus",params:[n]})}async function lue(t,e){const{account:n=t.account}=e;if(!n)throw new pc({docsPath:"/docs/eip7702/signAuthorization"});const i=nr(n);if(!i.signAuthorization)throw new gd({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:i.type});const f=await GU(t,e);return i.signAuthorization(f)}async function uue(t,{account:e=t.account,message:n}){if(!e)throw new pc({docsPath:"/docs/actions/wallet/signMessage"});const i=nr(e);if(i.signMessage)return i.signMessage({message:n});const f=typeof n=="string"?qf(n):n.raw instanceof Uint8Array?er(n.raw):n.raw;return t.request({method:"personal_sign",params:[f,i.address]},{retryCount:0})}async function cue(t,e){const{account:n=t.account,chain:i=t.chain,...f}=e;if(!n)throw new pc({docsPath:"/docs/actions/wallet/signTransaction"});const b=nr(n);fc({account:b,...e});const s=await mt(t,Kd,"getChainId")({});i!==null&&N9({currentChainId:s,chain:i});const r=(i?.formatters||t.chain?.formatters)?.transactionRequest?.format||Xd;return b.signTransaction?b.signTransaction({...f,chainId:s},{serializer:t.chain?.serializers?.transaction}):await t.request({method:"eth_signTransaction",params:[{...r({...f,account:b},"signTransaction"),chainId:xt(s),from:b.address}]},{retryCount:0})}async function due(t,e){const{account:n=t.account,domain:i,message:f,primaryType:b}=e;if(!n)throw new pc({docsPath:"/docs/actions/wallet/signTypedData"});const s=nr(n),y={EIP712Domain:PB({domain:i}),...e.types};if(AB({domain:i,message:f,primaryType:b,types:y}),s.signTypedData)return s.signTypedData({domain:i,message:f,primaryType:b,types:y});const r=Fte({domain:i,message:f,primaryType:b,types:y});return t.request({method:"eth_signTypedData_v4",params:[s.address,r]},{retryCount:0})}async function hue(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:xt(e)}]},{retryCount:0})}async function fue(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}async function pue(t,e){return xg.internal(t,VU,"sendTransactionSync",e)}function vue(t){return{addChain:e=>qle(t,e),deployContract:e=>eue(t,e),getAddresses:()=>tue(t),getCallsStatus:e=>AU(t,e),getCapabilities:e=>nue(t,e),getChainId:()=>Kd(t),getPermissions:()=>rue(t),prepareAuthorization:e=>GU(t,e),prepareTransactionRequest:e=>om(t,e),requestAddresses:()=>iue(t),requestPermissions:e=>sue(t,e),sendCalls:e=>TU(t,e),sendCallsSync:e=>aue(t,e),sendRawTransaction:e=>iS(t,e),sendRawTransactionSync:e=>cS(t,e),sendTransaction:e=>Hw(t,e),sendTransactionSync:e=>VU(t,e),showCallsStatus:e=>oue(t,e),signAuthorization:e=>lue(t,e),signMessage:e=>uue(t,e),signTransaction:e=>cue(t,e),signTypedData:e=>due(t,e),switchChain:e=>hue(t,e),waitForCallsStatus:e=>PU(t,e),watchAsset:e=>fue(t,e),writeContract:e=>xg(t,e),writeContractSync:e=>pue(t,e)}}function HU(t){const{key:e="wallet",name:n="Wallet Client",transport:i}=t;return RU({...t,key:e,name:n,transport:i,type:"walletClient"}).extend(vue)}function YU({key:t,methods:e,name:n,request:i,retryCount:f=3,retryDelay:b=150,timeout:s,type:y},r){const o=IU();return{config:{key:t,methods:e,name:n,request:i,retryCount:f,retryDelay:b,timeout:s,type:y},request:Cee(i,{methods:e,retryCount:f,retryDelay:b,uid:o}),value:r}}function XU(t,e={}){const{key:n="custom",methods:i,name:f="Custom Provider",retryDelay:b}=e;return({retryCount:s})=>YU({key:n,methods:i,name:f,request:t.request.bind(t),retryCount:e.retryCount??s,retryDelay:b,type:"custom"})}class gue extends Ne{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function nl(t,e={}){const{batch:n,fetchFn:i,fetchOptions:f,key:b="http",methods:s,name:y="HTTP JSON-RPC",onFetchRequest:r,onFetchResponse:o,retryDelay:v,raw:c}=e;return({chain:u,retryCount:l,timeout:a})=>{const{batchSize:d=1e3,wait:p=0}=typeof n=="object"?n:{},h=e.retryCount??l,g=a??e.timeout??1e4,m=t||u?.rpcUrls.default.http[0];if(!m)throw new gue;const x=Ate(m,{fetchFn:i,fetchOptions:f,onRequest:r,onResponse:o,timeout:g});return YU({key:b,methods:s,name:y,async request({method:w,params:C}){const E={method:w,params:C},{schedule:T}=yB({id:m,wait:p,shouldSplitBatch(R){return R.length>d},fn:R=>x.request({body:R}),sort:(R,L)=>R.id-L.id}),S=async R=>n?T(R):[await x.request({body:R})],[{error:A,result:P}]=await S(E);if(c)return{error:A,result:P};if(A)throw new I9({body:E,error:A,url:m});return P},retryCount:h,retryDelay:v,timeout:g,type:"http"},{fetchOptions:f,url:m})}}let mue=class{getConfig(){return this._privyInternal.config}async getSmartWalletConfig(){return this._smartWalletConfig||(this._smartWalletConfig=await this._privyInternal.fetch(Yre,{params:{app_id:this.appId}})),this._smartWalletConfig}get appId(){return this._privyInternal.appId}constructor(e){this._privyInternal=e}};const yue=new TextEncoder,KU=new TextDecoder,wue=t=>{let e=t;typeof e=="string"&&(e=yue.encode(e));const n=32768,i=[];for(let f=0;f<e.length;f+=n)i.push(String.fromCharCode.apply(null,e.subarray(f,f+n)));return btoa(i.join(""))},xue=t=>wue(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),bue=t=>{const e=atob(t),n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n},Cue=t=>{let e=t;e instanceof Uint8Array&&(e=KU.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return bue(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class Eue extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var n;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(n=Error.captureStackTrace)===null||n===void 0||n.call(Error,this,this.constructor)}}class jc extends Eue{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}function Sue(t){return typeof t=="object"&&t!==null}function Tue(t){if(!Sue(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}const Md=xue,Aue=Cue;function eC(t){if(typeof t!="string")throw new jc("JWTs must use Compact JWS serialization, JWT must be a string");const{1:e,length:n}=t.split(".");if(n===5)throw new jc("Only JWTs using Compact JWS serialization can be decoded");if(n!==3)throw new jc("Invalid JWT");if(!e)throw new jc("JWTs must contain a payload");let i;try{i=Aue(e)}catch{throw new jc("Failed to base64url decode the payload")}let f;try{f=JSON.parse(KU.decode(i))}catch{throw new jc("Failed to parse the decoded payload as JSON")}if(!Tue(f))throw new jc("Invalid JWT Claims Set");return f}let Cf=class ZU{static parse(e){try{return new ZU(e)}catch{return null}}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=eC(e)}},JU=class tC{async updateOnCrossAppAuthentication(e,n){let i=n.access_token,f=tC.providerAccessTokenStorageKey(e);await this._storage.put(f,i)}async getProviderAccessToken(e){let n=tC.providerAccessTokenStorageKey(e),i=await this._storage.get(n);if(typeof i!="string")return null;try{if(new Cf(i).isExpired())throw Error("JWT is expired");return i}catch{return await this._storage.del(n),null}}async getCrossAppConnections(){return await this._privyInternal.fetch(ore,{params:{app_id:this._privyInternal.appId}})}constructor(e,n){this._privyInternal=e,this._storage=n}};JU.providerAccessTokenStorageKey=t=>`privy:cross-app:${t}`;let Pue=class{async revoke(){await this._privyInternal.fetch(iie,{})}constructor(e){this._privyInternal=e}};function Iue(t,e){return{...t,rpcUrls:{...t.rpcUrls,privy:{http:[e]}}}}const ho={id:42161,name:"Arbitrum One",network:"arbitrum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-mainnet.rpc.privy.systems"]},alchemy:{http:["https://arb-mainnet.g.alchemy.com/v2"],webSocket:["wss://arb-mainnet.g.alchemy.com/v2"]},infura:{http:["https://arbitrum-mainnet.infura.io/v3"],webSocket:["wss://arbitrum-mainnet.infura.io/ws/v3"]},default:{http:["https://arb1.arbitrum.io/rpc"]},public:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{etherscan:{name:"Arbiscan",url:"https://arbiscan.io"},default:{name:"Arbiscan",url:"https://arbiscan.io"}}},hS={id:421614,name:"Arbitrum Sepolia",network:"arbitrum-sepolia",nativeCurrency:{name:"Arbitrum Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia-rollup.arbitrum.io/rpc"]},public:{http:["https://sepolia-rollup.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Blockscout",url:"https://sepolia-explorer.arbitrum.io"}},testnet:!0},fo={id:43114,name:"Avalanche",network:"avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]},public:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://snowtrace.io"},default:{name:"SnowTrace",url:"https://snowtrace.io"}}},fS={id:43113,name:"Avalanche Fuji",network:"avalanche-fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]},public:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://testnet.snowtrace.io"},default:{name:"SnowTrace",url:"https://testnet.snowtrace.io"}},testnet:!0},po={id:8453,network:"base",name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-mainnet.rpc.privy.systems"]},blast:{http:["https://base-mainnet.blastapi.io"],webSocket:["wss://base-mainnet.blastapi.io"]},default:{http:["https://mainnet.base.org"]},public:{http:["https://mainnet.base.org"]}},blockExplorers:{etherscan:{name:"Basescan",url:"https://basescan.org"},default:{name:"Basescan",url:"https://basescan.org"}}},pS={id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.base.org"]},public:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Blockscout",url:"https://base-sepolia.blockscout.com"}},testnet:!0},Rue={id:80085,network:"berachain-artio",name:"Berachain Artio",nativeCurrency:{name:"BERA",symbol:"BERA",decimals:18},rpcUrls:{default:{http:["https://berachain-artio.rpc.privy.systems"]},public:{http:["https://berachain-artio.rpc.privy.systems"]}},blockExplorers:{default:{name:"Beratrail",url:"https://artio.beratrail.io"}},testnet:!0},Mue={id:56,network:"bsc",name:"Binance Smart Chain",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrls:{privy:{http:["https://bsc-mainnet.rpc.privy.systems"]},default:{http:["https://56.rpc.thirdweb.com"]},public:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{etherscan:{name:"BscScan",url:"https://bscscan.com"},default:{name:"BscScan",url:"https://bscscan.com"}}},Kw={id:42220,name:"Celo Mainnet",network:"celo",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://forno.celo.org"]},infura:{http:["https://celo-mainnet.infura.io/v3"]},public:{http:["https://forno.celo.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/mainnet"},etherscan:{name:"CeloScan",url:"https://celoscan.io"}},testnet:!1},Oue={id:44787,name:"Celo Alfajores Testnet",network:"celo-alfajores",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://alfajores-forno.celo-testnet.org"]},infura:{http:["https://celo-alfajores.infura.io/v3"]},public:{http:["https://alfajores-forno.celo-testnet.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/alfajores"},etherscan:{name:"CeloScan",url:"https://alfajores.celoscan.io/"}},testnet:!0},Fue={id:314,name:"Filecoin - Mainnet",network:"filecoin-mainnet",nativeCurrency:{decimals:18,name:"filecoin",symbol:"FIL"},rpcUrls:{default:{http:["https://api.node.glif.io/rpc/v1"]},public:{http:["https://api.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filfox",url:"https://filfox.info/en"},filscan:{name:"Filscan",url:"https://filscan.io"},filscout:{name:"Filscout",url:"https://filscout.io/en"},glif:{name:"Glif",url:"https://explorer.glif.io"}}},$ue={id:314159,name:"Filecoin - Calibration testnet",network:"filecoin-calibration",nativeCurrency:{decimals:18,name:"testnet filecoin",symbol:"tFIL"},rpcUrls:{default:{http:["https://api.calibration.node.glif.io/rpc/v1"]},public:{http:["https://api.calibration.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filscan",url:"https://calibration.filscan.io"}}},Lue={id:17069,name:"Garnet Holesky",network:"garnet-holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.garnetchain.com"]},public:{http:["https://rpc.garnetchain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.garnetchain.com"}}},Due={id:17e3,name:"Holesky",network:"holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://ethereum-holesky.publicnode.com"]},public:{http:["https://ethereum-holesky.publicnode.com"]}},blockExplorers:{etherscan:{name:"EtherScan",url:"https://holesky.etherscan.io"},default:{name:"EtherScan",url:"https://holesky.etherscan.io"}}},QU={id:59144,network:"linea-mainnet",name:"Linea Mainnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]},public:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://lineascan.build"},etherscan:{name:"Etherscan",url:"https://lineascan.build"}},testnet:!1},Nue={id:59140,network:"linea-testnet",name:"Linea Goerli Testnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{infura:{http:["https://linea-goerli.infura.io/v3"],webSocket:["wss://linea-goerli.infura.io/ws/v3"]},default:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]},public:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://goerli.lineascan.build"},etherscan:{name:"Etherscan",url:"https://goerli.lineascan.build"}},testnet:!0},kue={id:42,network:"lukso",name:"LUKSO",nativeCurrency:{name:"LUKSO",symbol:"LYX",decimals:18},rpcUrls:{default:{http:["https://rpc.mainnet.lukso.network"],webSocket:["wss://ws-rpc.mainnet.lukso.network"]}},blockExplorers:{default:{name:"LUKSO Mainnet Explorer",url:"https://explorer.execution.mainnet.lukso.network"}}},Ea={id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://mainnet.rpc.privy.systems"]},alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}}},ou={id:10,name:"OP Mainnet",network:"optimism",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-mainnet.rpc.privy.systems"]},alchemy:{http:["https://opt-mainnet.g.alchemy.com/v2"],webSocket:["wss://opt-mainnet.g.alchemy.com/v2"]},infura:{http:["https://optimism-mainnet.infura.io/v3"],webSocket:["wss://optimism-mainnet.infura.io/ws/v3"]},default:{http:["https://mainnet.optimism.io"]},public:{http:["https://mainnet.optimism.io"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://optimistic.etherscan.io"},default:{name:"Optimism Explorer",url:"https://explorer.optimism.io"}}},vS={id:11155420,name:"Optimism Sepolia",network:"optimism-sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.optimism.io"]},public:{http:["https://sepolia.optimism.io"]},infura:{http:["https://optimism-sepolia.infura.io/v3"]}},blockExplorers:{default:{name:"Blockscout",url:"https://optimism-sepolia.blockscout.com"}},testnet:!0},Sa={id:137,name:"Polygon Mainnet",network:"polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-mainnet.rpc.privy.systems"]},alchemy:{http:["https://polygon-mainnet.g.alchemy.com/v2"],webSocket:["wss://polygon-mainnet.g.alchemy.com/v2"]},infura:{http:["https://polygon-mainnet.infura.io/v3"],webSocket:["wss://polygon-mainnet.infura.io/ws/v3"]},default:{http:["https://polygon-rpc.com"]},public:{http:["https://polygon-rpc.com"]}},blockExplorers:{etherscan:{name:"PolygonScan",url:"https://polygonscan.com"},default:{name:"PolygonScan",url:"https://polygonscan.com"}}},gS={id:80002,name:"Polygon Amoy",network:"polygon-amoy",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-amoy.rpc.privy.systems"]},infura:{http:["https://polygon-amoy.infura.io/v3"],webSocket:["wss://polygon-amoy.infura.io/ws/v3"]},default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"OK LINK",url:"https://www.oklink.com/amoy"}},testnet:!0},Bue={id:690,name:"Redstone",network:"redstone",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.redstonechain.com"]},public:{http:["https://rpc.redstonechain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.redstone.xyz/"}}},mS={id:11155111,network:"sepolia",name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"SEP",decimals:18},rpcUrls:{privy:{http:["https://sepolia.rpc.privy.systems"]},alchemy:{http:["https://eth-sepolia.g.alchemy.com/v2"],webSocket:["wss://eth-sepolia.g.alchemy.com/v2"]},infura:{http:["https://sepolia.infura.io/v3"],webSocket:["wss://sepolia.infura.io/ws/v3"]},default:{http:["https://rpc.sepolia.org"]},public:{http:["https://rpc.sepolia.org"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://sepolia.etherscan.io"},default:{name:"Etherscan",url:"https://sepolia.etherscan.io"}},testnet:!0},_U={id:7777777,name:"Zora",network:"zora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]},public:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.zora.energy"}}},Uue={id:999999999,name:"Zora Sepolia",network:"zora-sepolia",nativeCurrency:{decimals:18,name:"Zora Sepolia",symbol:"ETH"},rpcUrls:{default:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]},public:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]}},blockExplorers:{default:{name:"Zora Sepolia Explorer",url:"https://sepolia.explorer.zora.energy/"}},testnet:!0},jue={id:999,name:"Zora Goerli Testnet",network:"zora-testnet",nativeCurrency:{decimals:18,name:"Zora Goerli",symbol:"ETH"},rpcUrls:{default:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]},public:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://testnet.explorer.zora.energy"}},testnet:!0},um=[Ea,mS,Due,ho,hS,ou,vS,Sa,gS,Kw,Oue,Fue,$ue,po,pS,Rue,Mue,kue,QU,Nue,fo,fS,_U,jue,Uue,Bue,Lue],qU=new Set(um.map((t=>t.id)));function yS(t){let e=t.filter((n=>!qU.has(n.id)));return um.concat(e)}const ej=t=>t.map((e=>{if(e.rpcUrls.privyWalletOverride)return e;let n=um.find((f=>f.id===e.id)),i=n?.rpcUrls.privy?.http[0];return i?Iue(e,i):e}));let Rb=class extends Error{constructor({error:e,code:n}){super(e),this.error=e,this.code=n}},an=class extends Error{constructor({error:e,code:n}){super(e),this.code=n,this.error=e}},zue=class extends Error{constructor({error:e,code:n,response:i}){super(e),this.code=n,this.error=e,this.response=i}};const Xu=t=>!!t.id&&t.recovery_method==="privy-v2";let Wue=class{async sign({message:e}){return await this.request({method:"sign",params:{message:new TextDecoder("utf8").decode(e)}})}async signTransaction({psbt:e}){return await this.request({method:"signTransaction",params:{psbt:e}})}async request(e){if(Xu(this._account))throw new an({code:"unsupported_wallet_type",error:"Bitcoin wallet providers are only supported for on-device execution and this app uses TEE execution. Use the useSignRawHash hook from @privy-io/expo/extended-chains to sign over a hash with this wallet. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide"});if(!await this._privyInternal.getAccessTokenInternal())throw new an({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return this.handleIFrameRpc(e)}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing access token. User must be authenticated.");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),(await this._proxy.rpcWallet({accessToken:n,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:this._account.chain_type})).response.data}catch(n){console.error(n);let i=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:i}),new an({code:"embedded_wallet_request_error",error:i})}}toJSON(){return`PrivyEmbeddedBitcoinProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:n,account:i,entropyId:f,entropyIdVerifier:b}){this._proxy=e,this._privyInternal=n,this._account=i,this._entropyId=f,this._entropyIdVerifier=b}};const Gue=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","mfa_timeout","missing_or_invalid_mfa","mfa_verification_max_attempts_reached"];var Ki;(Ki={}).MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",Ki.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",Ki.INVALID_DATA="invalid_data",Ki.LINKED_TO_ANOTHER_USER="linked_to_another_user",Ki.ALLOWLIST_REJECTED="allowlist_rejected",Ki.OAUTH_USER_DENIED="oauth_user_denied",Ki.UNKNOWN_AUTH_ERROR="unknown_auth_error",Ki.USER_EXITED_AUTH_FLOW="exited_auth_flow",Ki.MUST_BE_AUTHENTICATED="must_be_authenticated",Ki.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",Ki.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",Ki.CLIENT_REQUEST_TIMEOUT="client_request_timeout",Ki.INVALID_CREDENTIALS="invalid_credentials";let Vue=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,n,i){super(e),n instanceof Error&&(this.cause=n),this.privyErrorCode=i}},jy=class extends Error{constructor(e,n){super(n),this.type=e}},tj=class extends Vue{constructor(e,n,i){super(e,n,i),this.type="connector_error"}},MR=class extends Error{constructor(e,n,i){super(e),this.code=n,this.data=i}};const Ga={UNKNOWN_ERROR:{eipCode:0,message:"Unknown error",detail:"Unknown error",retryable:!0},E4001_DEFAULT_USER_REJECTED_REQUEST:{eipCode:4001,message:"User Rejected Request",detail:"The user rejected the request.",default:!0,retryable:!0},E4100_DEFAULT_UNAUTHORIZED:{eipCode:4100,message:"Unauthorized",detail:"The requested method and/or account has not been authorized by the user.",default:!0,retryable:!1},E4200_DEFAULT_UNSUPPORTED_METHOD:{eipCode:4200,message:"Unsupported Method",detail:"The Provider does not support the requested method.",default:!0,retryable:!1},E4900_DEFAULT_DISCONNECTED:{eipCode:4900,message:"Disconnected",detail:"The Provider is disconnected from all chains.",default:!0,retryable:!0},E4901_DEFAULT_CHAIN_DISCONNECTED:{eipCode:4901,message:"Chain Disconnected",detail:"The Provider is not connected to the requested chain.",default:!0,retryable:!0},E32700_DEFAULT_PARSE_ERROR:{eipCode:-32700,message:"Parse error",detail:"Invalid JSON",default:!0,retryable:!1},E32600_DEFAULT_INVALID_REQUEST:{eipCode:-32600,message:"Invalid request",detail:"JSON is not a valid request object",default:!0,retryable:!1},E32601_DEFAULT_METHOD_NOT_FOUND:{eipCode:-32601,message:"Method not found",detail:"Method does not exist",default:!0,retryable:!1},E32602_DEFAULT_INVALID_PARAMS:{eipCode:-32602,message:"Invalid params",detail:"Invalid method parameters",default:!0,retryable:!1},E32603_DEFAULT_INTERNAL_ERROR:{eipCode:-32603,message:"Internal error",detail:"Internal JSON-RPC error",default:!0,retryable:!0},E32000_DEFAULT_INVALID_INPUT:{eipCode:-32e3,message:"Invalid input",detail:"Missing or invalid parameters",default:!0,retryable:!1},E32001_DEFAULT_RESOURCE_NOT_FOUND:{eipCode:-32001,message:"Resource not found",detail:"Requested resource not found",default:!0,retryable:!1},E32002_DEFAULT_RESOURCE_UNAVAILABLE:{eipCode:-32002,message:"Resource unavailable",detail:"Requested resource not available",default:!0,retryable:!0},E32003_DEFAULT_TRANSACTION_REJECTED:{eipCode:-32003,message:"Transaction rejected",detail:"Transaction creation failed",default:!0,retryable:!0},E32004_DEFAULT_METHOD_NOT_SUPPORTED:{eipCode:-32004,message:"Method not supported",detail:"Method is not implemented",default:!0,retryable:!1},E32005_DEFAULT_LIMIT_EXCEEDED:{eipCode:-32005,message:"Limit exceeded",detail:"Request exceeds defined limit",default:!0,retryable:!1},E32006_DEFAULT_JSON_RPC_VERSION_NOT_SUPPORTED:{eipCode:-32006,message:"JSON-RPC version not supported",detail:"Version of JSON-RPC protocol is not supported",default:!0,retryable:!1},E32002_CONNECTION_ALREADY_PENDING:{eipCode:-32002,message:"Connection request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_REQUEST_ALREADY_PENDING:{eipCode:-32002,message:"Resource request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_WALLET_LOCKED:{eipCode:-32002,message:"Wallet might be locked",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E4001_USER_REJECTED_REQUEST:{eipCode:4001,message:"Signature rejected",detail:"Please try signing again.",retryable:!0}};function Hue(t){let e=t.type;return typeof e=="string"&&Gue.includes(e)}function wS(t){return Hue(t)&&t.type==="wallet_not_on_device"}async function nC(t,{request:e}){return await t.fetchPrivyRoute(rie,{body:e})}async function Mb({context:t,chainType:e}){return{wallet:await nC(t,{request:{chain_type:e,owner_id:void 0}})}}const OR=(t,e,n,i)=>{let f=Number(t),b=e.find((s=>s.id===f));if(!b)throw new tj(`Unsupported chainId ${t}`,4901);return tl({transport:nl(nj(b,n,i.appId)),chain:b})},nj=(t,e,n)=>{let i,f=t.id,b=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])i=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[b])i=e.rpcUrls[b];else if(t.rpcUrls.privy?.http[0]){let s=new URL(t.rpcUrls.privy.http[0]);s.searchParams.append("privyAppId",n),i=s.toString()}else i=t.rpcUrls.public?.http[0]?t.rpcUrls.public.http[0]:t.rpcUrls.default?.http[0];if(!i)throw new tj(`No RPC url found for ${f}`);return i};function Yue({currentRecoveryMethod:t,upgradeToRecoveryMethod:e}){switch(t){case"privy":case"user-passcode":case"recovery-encryption-key":return!0;case"icloud":case"google-drive":if(t===e)throw Error("Cannot upgrade to the existing cloud platform");return!0;default:throw Error("Unknown recovery method")}}function rj(t){return new Promise((e=>{setTimeout((()=>{e()}),t)}))}let Xue=class{enqueue(e,n){this.callbacks[e]=n}dequeue(e,n){let i=this.callbacks[n];if(!i)throw Error(`cannot dequeue ${e} event: no event found for id ${n}`);switch(delete this.callbacks[n],e){case"privy:iframe:ready":case"privy:wallets:create":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:wallet:connect":case"privy:wallet:recover":case"privy:wallet:rpc":case"privy:solana-wallet:create":case"privy:solana-wallet:create-additional":case"privy:solana-wallet:connect":case"privy:solana-wallet:recover":case"privy:solana-wallet:rpc":case"privy:delegated-actions:consent":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":return i;default:throw Error(`invalid wallet event type ${e}`)}}constructor(){this.callbacks={}}};async function Kue(t,e,n,i,f=!1,b,s){let y=f,r=async v=>{if(y){v===(f?0:1)?i():n.current?.reject(new jy("missing_or_invalid_mfa","MFA verification failed, retry."));let c=await new Promise(((u,l)=>{e.current={resolve:u,reject:l},setTimeout((()=>{let a=new jy("mfa_timeout","Timed out waiting for MFA code");n.current?.reject(a),l(a)}),s)}));return await t(c)}return await t()},o=null;for(let v=0;v<b;v++)try{o=await r(v),n.current?.resolve(void 0);break}catch(c){if(c.type!=="missing_or_invalid_mfa")throw n.current?.resolve(void 0),c;y=!0}if(o===null){let v=new jy("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw n.current?.reject(v),v}return o}var FR;let Zue=(FR=0,()=>"id-"+FR++),Jue=(t,e)=>typeof e=="bigint"?e.toString():e,Au=(t,{ms:e,msg:n})=>Promise.race([t,rj(e??15e3).then((()=>Promise.reject(Error(n))))]),$R=new Xue,LR=class{invokeWithMfa(e,n){return Au(Kue((i=>Au(this.waitForReady().then((()=>e(i))),{msg:n.timeoutMsg,ms:n.timeoutMs})),this.mfa.rootPromise,this.mfa.submitPromise,(()=>this.mfa.emit("mfaRequired")),n.mfaAlwaysRequired??!1,4,3e5),{msg:"Operation reached timeout: MFA verification",ms:126e4})}reload(){return this.ready=!1,this._embeddedWalletMessagePoster.reload()}ping(e=15e3){return Au(this.invoke("privy:iframe:ready",{}),{msg:"Ping reached timeout",ms:e})}create(e){return Au(this.waitForReady().then((()=>this.invoke("privy:wallet:create",e))),{msg:"Operation reached timeout: create"})}rpc(e){return this.invokeWithMfa((n=>this.invoke("privy:wallet:rpc",{...n,...e})),{timeoutMsg:"Operation reached timeout: rpc"})}createSolana(e){return this.invokeWithMfa((n=>this.invoke("privy:solana-wallet:create",{...n,...e})),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}createAdditionalSolana(e){return Au(this.waitForReady().then((()=>this.invoke("privy:solana-wallet:create-additional",e))),{msg:"Operation reached timeout: create"})}solanaRpc(e){return this.invokeWithMfa((n=>this.invoke("privy:solana-wallet:rpc",{...n,...e})),{timeoutMsg:"Operation reached timeout: solana-rpc"})}delegateWallets(e){return this.invokeWithMfa((n=>this.invoke("privy:delegated-actions:consent",{...n,...e})),{timeoutMsg:"Operation reached timeout: delegated-actions:consent"})}verifyMfa(e){return this.invokeWithMfa((n=>this.invoke("privy:mfa:verify",{...n,...e})),{timeoutMsg:"Operation reached timeout: mfa:verify",mfaAlwaysRequired:!0})}initEnrollMfa(e){return this.invokeWithMfa((n=>this.invoke("privy:mfa:init-enrollment",{...n,...e})),{timeoutMsg:"Operation reached timeout: mfa:init-enrollment"})}submitEnrollMfa(e){return this.invokeWithMfa((n=>this.invoke("privy:mfa:submit-enrollment",{...n,...e})),{timeoutMsg:"Operation reached timeout: mfa:submit-enrollment"})}unenrollMfa(e){return this.invokeWithMfa((n=>this.invoke("privy:mfa:unenroll",{...n,...e})),{timeoutMsg:"Operation reached timeout: mfa:unenroll",mfaAlwaysRequired:!0})}clearMfa(e){return Au(this.waitForReady().then((()=>this.invoke("privy:mfa:clear",e))),{msg:"Operation reached timeout: mfa:clear"})}createWallet(e){return this.invokeWithMfa((n=>this.invoke("privy:wallets:create",{...n,...e})),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}signWithUserSigner(e){return this.invokeWithMfa((n=>this.invoke("privy:user-signer:sign",{...n,...e})),{timeoutMsg:"Operation reached timeout: user-signer:sign"})}addWallet(e){return Au(this.waitForReady().then((()=>this.invoke("privy:wallets:add",e))),{msg:"Operation reached timeout: wallets:add"})}setRecovery(e){return this.invokeWithMfa((n=>this.invoke("privy:wallets:set-recovery",{...n,...e})),{timeoutMsg:"Operation reached timeout: wallets:set-recovery",timeoutMs:6e4})}connect(e){return Au(this.waitForReady().then((()=>this.invoke("privy:wallets:connect",e))),{msg:"Operation reached timeout: wallets:connect"})}recover(e){return this.invokeWithMfa((n=>this.invoke("privy:wallets:recover",{...n,...e})),{timeoutMsg:"Operation reached timeout: wallets:recover",timeoutMs:6e4})}rpcWallet(e){return this.invokeWithMfa((n=>this.invoke("privy:wallets:rpc",{...n,...e})),{timeoutMsg:"Operation reached timeout: wallets:rpc"})}handleEmbeddedWalletMessages(e){let{reject:n,resolve:i}=$R.dequeue(e.event,e.id);return e.error!==void 0?n(new jy(e.error.type,e.error.message)):i(e.data)}waitForReady(){return this.ready?Promise.resolve():new Promise((async(e,n)=>{for(;!this.ready;)this.invoke("privy:iframe:ready",{}).then((()=>{this.ready=!0,e()})).catch(n),await rj(150)}))}invoke(e,n){let i=((b,s)=>`${b}${JSON.stringify(s,Jue)}`)(e,n);if(e==="privy:wallet:create"||e==="privy:solana-wallet:create"){let b=this.cache.get(i);if(b)return b}let f=new Promise(((b,s)=>{let y=Zue();$R.enqueue(y,{resolve:b,reject:s}),this._embeddedWalletMessagePoster.postMessage(JSON.stringify({id:y,event:e,data:n}),"*")})).finally((()=>{this.cache.delete(i)}));return this.cache.set(i,f),f}constructor(e,n){this.ready=!1,this.cache=new Map,this._embeddedWalletMessagePoster=e,this.mfa=n}};var Ob={exports:{}},DR;function Que(){return DR||(DR=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function f(r,o,v){this.fn=r,this.context=o,this.once=v||!1}function b(r,o,v,c,u){if(typeof v!="function")throw new TypeError("The listener must be a function");var l=new f(v,c||r,u),a=n?n+o:o;return r._events[a]?r._events[a].fn?r._events[a]=[r._events[a],l]:r._events[a].push(l):(r._events[a]=l,r._eventsCount++),r}function s(r,o){--r._eventsCount===0?r._events=new i:delete r._events[o]}function y(){this._events=new i,this._eventsCount=0}y.prototype.eventNames=function(){var o=[],v,c;if(this._eventsCount===0)return o;for(c in v=this._events)e.call(v,c)&&o.push(n?c.slice(1):c);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(v)):o},y.prototype.listeners=function(o){var v=n?n+o:o,c=this._events[v];if(!c)return[];if(c.fn)return[c.fn];for(var u=0,l=c.length,a=new Array(l);u<l;u++)a[u]=c[u].fn;return a},y.prototype.listenerCount=function(o){var v=n?n+o:o,c=this._events[v];return c?c.fn?1:c.length:0},y.prototype.emit=function(o,v,c,u,l,a){var d=n?n+o:o;if(!this._events[d])return!1;var p=this._events[d],h=arguments.length,g,m;if(p.fn){switch(p.once&&this.removeListener(o,p.fn,void 0,!0),h){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,v),!0;case 3:return p.fn.call(p.context,v,c),!0;case 4:return p.fn.call(p.context,v,c,u),!0;case 5:return p.fn.call(p.context,v,c,u,l),!0;case 6:return p.fn.call(p.context,v,c,u,l,a),!0}for(m=1,g=new Array(h-1);m<h;m++)g[m-1]=arguments[m];p.fn.apply(p.context,g)}else{var x=p.length,w;for(m=0;m<x;m++)switch(p[m].once&&this.removeListener(o,p[m].fn,void 0,!0),h){case 1:p[m].fn.call(p[m].context);break;case 2:p[m].fn.call(p[m].context,v);break;case 3:p[m].fn.call(p[m].context,v,c);break;case 4:p[m].fn.call(p[m].context,v,c,u);break;default:if(!g)for(w=1,g=new Array(h-1);w<h;w++)g[w-1]=arguments[w];p[m].fn.apply(p[m].context,g)}}return!0},y.prototype.on=function(o,v,c){return b(this,o,v,c,!1)},y.prototype.once=function(o,v,c){return b(this,o,v,c,!0)},y.prototype.removeListener=function(o,v,c,u){var l=n?n+o:o;if(!this._events[l])return this;if(!v)return s(this,l),this;var a=this._events[l];if(a.fn)a.fn===v&&(!u||a.once)&&(!c||a.context===c)&&s(this,l);else{for(var d=0,p=[],h=a.length;d<h;d++)(a[d].fn!==v||u&&!a[d].once||c&&a[d].context!==c)&&p.push(a[d]);p.length?this._events[l]=p.length===1?p[0]:p:s(this,l)}return this},y.prototype.removeAllListeners=function(o){var v;return o?(v=n?n+o:o,this._events[v]&&s(this,v)):(this._events=new i,this._eventsCount=0),this},y.prototype.off=y.prototype.removeListener,y.prototype.addListener=y.prototype.on,y.prefixed=n,y.EventEmitter=y,t.exports=y})(Ob)),Ob.exports}var _ue=Que();const Zd=co(_ue);let Fb={0:"legacy",1:"eip2930",2:"eip1559",3:"eip4844",4:"eip7702"};const ij={legacy:0,eip2930:1,eip1559:2,eip4844:3,eip7702:4};let Yh=t=>t!==void 0?BigInt(t):void 0;function A2(t){let e,{type:n=2,...i}=typeof t=="string"?JSON.parse(t):t;i.accessList&&Array.isArray(i.accessList)?e=i.accessList.map((o=>Array.isArray(o)?{address:o[0],storageKeys:o[1]}:o)):i.accessList&&(e=Object.entries(i.accessList).map((o=>({address:o[0],storageKeys:o[1]}))));let f=Number(i.chainId??1),b=Ti(i.data)?i.data:i.data?er(Uint8Array.from(i.data)):void 0,s=i.nonce?Number(i.nonce):void 0,y={chainId:f,data:b,nonce:s,value:Yh(i.value),gas:Yh(i.gas??i.gasLimit)},r=Number(n);if(r===0)return{...i,type:Fb[r],...y,gasPrice:Yh(i.gasPrice),accessList:void 0,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(r===1)return{...i,type:Fb[r],...y,gasPrice:Yh(i.gasPrice),accessList:e,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(r===2)return{...i,type:Fb[r],...y,nonce:s,accessList:e,maxFeePerGas:Yh(i.maxFeePerGas),maxPriorityFeePerGas:Yh(i.maxPriorityFeePerGas),gasPrice:void 0,maxFeePerBlobGas:void 0};throw Error(`Unsupported transaction type: ${n}`)}const P2=t=>/^0x[0-9a-fA-F]*$/.test(t),I2=t=>Buffer.from(t,"utf8"),bg=t=>`0x${t.toString("hex")}`;var $b,NR;function que(){return NR||(NR=1,$b=function t(e){if(typeof e=="number"&&isNaN(e))throw new Error("NaN is not allowed");if(typeof e=="number"&&!isFinite(e))throw new Error("Infinity is not allowed");return e===null||typeof e!="object"?JSON.stringify(e):e.toJSON instanceof Function?t(e.toJSON()):Array.isArray(e)?`[${e.reduce((f,b,s)=>`${f}${s===0?"":","}${t(b===void 0||typeof b=="symbol"?null:b)}`,"")}]`:`{${Object.keys(e).sort().reduce((i,f)=>{if(e[f]===void 0||typeof e[f]=="symbol")return i;const b=i.length===0?"":",";return`${i}${b}${t(f)}:${t(e[f])}`},"")}}`}),$b}var ece=que();const tce=co(ece);async function nce(t,e){let n=tce(e);if(n===void 0)throw new an({error:"Failed to prepare the payload for signing",code:"invalid_input"});let i=Buffer.from(n).toString("base64"),{signature:f}=await t({message:i});return{signature:f}}async function za(t,e,{wallet_id:n,...i}){let f={version:1,url:t.getCompiledPath(bb,{params:{wallet_id:n}}),method:bb.method,headers:{"privy-app-id":t.app.appId},body:{...i}},{signature:b}=await nce(e,f);return await t.fetchPrivyRoute(bb,{body:i,params:{wallet_id:n},headers:{"privy-authorization-signature":b}})}function rce(t){return{from:t.from,to:t.to??void 0,nonce:zc(t.nonce),chain_id:zc(t.chainId),data:(function(e){if(e!==void 0)return typeof e=="string"?P2(e)?e:bg(I2(e)):bg(Buffer.from(Uint8Array.from(e)))})(t.data),value:zc(t.value),type:t.type,gas_limit:zc(t.gasLimit),gas_price:zc(t.gasPrice),max_fee_per_gas:zc(t.maxFeePerGas),max_priority_fee_per_gas:zc(t.maxPriorityFeePerGas)}}function zc(t){if(typeof t=="number"||typeof t=="bigint")return`0x${BigInt(t).toString(16)}`;if(typeof t=="string")return P2(t)?t:bg(I2(t))}function ice(t){return typeof t=="string"&&(t=JSON.parse(t)),{types:t.types,primary_type:String(t.primaryType),domain:t.domain,message:t.message}}async function sj({context:t,account:e,rpcRequest:n}){switch(n.chainType){case"ethereum":return(async function({context:i,account:f,rpcRequest:b}){switch(b.method){case"personal_sign":{let[s]=b.params,y=await za(i,i.signRequest,{chain_type:"ethereum",method:"personal_sign",wallet_id:f.id,params:s.startsWith("0x")?{message:s.slice(2),encoding:"hex"}:{message:s,encoding:"utf-8"}});if(y.method!=="personal_sign")throw Error("Unable to sign message");return{data:y.data.signature}}case"eth_signTransaction":{let[s]=b.params,y=await za(i,i.signRequest,{chain_type:"ethereum",method:"eth_signTransaction",wallet_id:f.id,params:{transaction:rce(s)}});if(y.method!=="eth_signTransaction")throw Error("Unable to sign transaction");return{data:y.data.signed_transaction}}case"eth_signTypedData_v4":{let[,s]=b.params,y=await za(i,i.signRequest,{chain_type:"ethereum",method:b.method,wallet_id:f.id,params:{typed_data:ice(s)}});if(y.method!=="eth_signTypedData_v4")throw Error("Unable to sign typed data");return{data:y.data.signature}}case"eth_sign":{let[,s]=b.params,y=await za(i,i.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:f.id,params:{hash:P2(s)?s:bg(I2(s))}});if(y.method!=="secp256k1_sign")throw Error("Unable to sign message");return{data:y.data.signature}}case"secp256k1_sign":{let[s]=b.params,y=await za(i,i.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:f.id,params:{hash:P2(s)?s:bg(I2(s))}});if(y.method!=="secp256k1_sign")throw Error("Unable to sign message");return{data:y.data.signature}}case"csw_signUserOperation":case"eth_sendTransaction":case"eth_populateTransactionRequest":throw Error(`This wallet does not support the method: ${b.method}`)}})({context:t,account:e,rpcRequest:n.request});case"solana":return(async function({context:i,account:f,rpcRequest:b}){if(b.method==="signMessage"){let{message:s}=b.params,y=await za(i,i.signRequest,{chain_type:"solana",method:"signMessage",wallet_id:f.id,params:{message:s,encoding:"base64"}});if(y.method!=="signMessage")throw Error("Unable to sign message");return{data:y.data.signature}}})({context:t,account:e,rpcRequest:n.request})}}let sce=new Set(["eth_sign","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"]),Lb=class extends Zd{async request(e){if(sce.has(e.method))return this.handleIFrameRpc(e);switch(e.method){case"eth_accounts":case"eth_requestAccounts":return this._account.address?[this._account.address]:[];case"eth_chainId":return`0x${this._chainId.toString(16)}`;case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_signTransaction":{let n=e.params?.[0];return this.handleSignTransaction(n)}case"eth_sendTransaction":{let n=e.params?.[0];return this.handleSendTransaction(n)}case"eth_populateTransactionRequest":{let n=e.params?.[0];return this.handlePopulateTransaction(n)}default:return this.handleJsonRpc(e)}}ensureChainId(e){let n={chainId:this._chainId,...e};return this.internalSwitchEthereumChain(n.chainId),n}internalSwitchEthereumChain(e){e&&Number(e)!==this._chainId&&(this._chainId=Number(e),this._client=OR(this._chainId,this._chains,{rpcUrls:[]},{appId:this._privyInternal.appId}),this.emit("chainChanged",e))}async handlePopulateTransaction(e){let n=A2(this.ensureChainId(e)),{type:i,...f}=await this._client.prepareTransactionRequest(n);return{...f,type:ij[i]}}async handleSignTransaction(e){let n={...e};for(let i of Object.keys(n)){let f=n[i];f&&typeof f=="bigint"&&(n[i]=er(f))}return await this.handleIFrameRpc({method:"eth_signTransaction",params:[n]})}async handleSendTransaction(e){let n=await this.handlePopulateTransaction(e),i=await this.handleSignTransaction(n);return await this.handleJsonRpc({method:"eth_sendRawTransaction",params:[i]})}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");let n=e.params?.[0],i=A2(this.ensureChainId(n));return await this._client.estimateGas(i)}handleSwitchEthereumChain(e){let n;if(!e.params||!Array.isArray(e.params))throw new MR(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")n=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new MR(`Invalid params for ${e.method}`,4200);n=e.params[0].chainId}this.internalSwitchEthereumChain(n)}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address});let i=this._account;if(Xu(i)){let{data:f}=await sj({context:{app:this._appApi,fetchPrivyRoute:(...b)=>this._privyInternal.fetch(...b),getCompiledPath:(...b)=>this._privyInternal.getPath(...b),signRequest:({message:b})=>this._walletProxy.signWithUserSigner({accessToken:n,message:b})},account:i,rpcRequest:{chainType:"ethereum",request:e}});return f}try{await this._walletProxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:n})}catch(f){let b=wS(f);if(b&&this._account.recovery_method==="privy")await this._walletProxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:n});else{if(!b||!this._onNeedsRecovery)throw f;{let s;await new Promise((async(y,r)=>{s=setTimeout((()=>r(new an({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"}))),12e4),await this._onNeedsRecovery?.({recoveryMethod:this._account.recovery_method,onRecovered:()=>y(!0)})})).finally((()=>clearTimeout(s)))}}}return(await this._walletProxy.rpcWallet({accessToken:n,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:"ethereum"})).response.data}catch(n){console.error(n);let i=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:i}),new an({code:"embedded_wallet_request_error",error:i})}}async handleJsonRpc(e){return this._client.request(e)}toJSON(){return`PrivyEIP1193Provider { address: '${this._account.address}', chainId: ${this._chainId}, request: [Function] }`}constructor({walletProxy:e,privyInternal:n,account:i,entropyId:f,entropyIdVerifier:b,chains:s,onNeedsRecovery:y,chainId:r=s[0].id,appApi:o}){super(),this._walletProxy=e,this._privyInternal=n,this._account=i,this._entropyId=f,this._entropyIdVerifier=b,this._chainId=r,this._chains=s,this._onNeedsRecovery=y,this._client=OR(r,s,{rpcUrls:[]},{appId:o.appId}),this._appApi=o}};function rC(t){return"version"in t}function kR(t,e){let n=(rC(t)?t.message:t.compileMessage()).staticAccountKeys.find((i=>i.toBase58()===e));if(!n)throw Error(`Transaction does not contain public key ${e}`);return n}let ace=class{async request(e){if(!await this._privyInternal.getAccessTokenInternal())throw new an({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});switch(e.method){case"signAndSendTransaction":return await this.handleSignAndSendTransaction(e);case"signTransaction":return await this.handleSignTransaction(e);default:return await this.handleIFrameRpc(e)}}get _publicKey(){return this._account.address}async connectAndRecover(e){if(this._account.recovery_method!=="privy-v2")try{await this._proxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e})}catch(n){let i=wS(n);if(i&&this._account.recovery_method==="privy")await this._proxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e});else{if(!i||!this._onNeedsRecovery)throw n;{let f;await new Promise((async(b,s)=>{f=setTimeout((()=>s(new an({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"}))),12e4),await this._onNeedsRecovery?.({recoveryMethod:this._account.recovery_method,onRecovered:()=>b(!0)})})).finally((()=>clearTimeout(f)))}}}}async signMessageRpc(e,n){let i=this._account;if(!Xu(i))return(await this._proxy.rpcWallet({accessToken:n,request:e,chainType:"solana",hdWalletIndex:this._account.wallet_index,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier})).response.data;{let{data:f}=await sj({context:{app:this._app,fetchPrivyRoute:(...b)=>this._privyInternal.fetch(...b),getCompiledPath:(...b)=>this._privyInternal.getPath(...b),signRequest:({message:b})=>this._proxy.signWithUserSigner({accessToken:n,message:b})},account:i,rpcRequest:{chainType:"solana",request:e}});return{signature:f}}}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing privy token. User must be logged in");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n),await this.signMessageRpc(e,n)}catch(n){console.error(n);let i=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:i}),new an({code:"embedded_wallet_request_error",error:i})}}async handleSignAndSendTransaction(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n);let{transaction:i,connection:f,options:b}=e.params,s=kR(i,this._account.address),y=rC(i)?Buffer.from(i.message.serialize()):i.serializeMessage(),{signature:r}=await this.signMessageRpc({method:"signMessage",params:{message:y.toString("base64")}},n);return i.addSignature(s,Buffer.from(r,"base64")),{signature:await f.sendRawTransaction(i.serialize(),b)}}catch(n){console.error(n);let i=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:i}),new an({code:"embedded_wallet_request_error",error:i})}}async handleSignTransaction(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n);let{transaction:i}=e.params,f=kR(i,this._account.address),b=rC(i)?Buffer.from(i.message.serialize()):i.serializeMessage(),{signature:s}=await this.signMessageRpc({method:"signMessage",params:{message:b.toString("base64")}},n);return i.addSignature(f,Buffer.from(s,"base64")),{signedTransaction:i}}catch(n){console.error(n);let i=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.wallet_index,error:i}),new an({code:"embedded_wallet_request_error",error:i})}}toJSON(){return`PrivyEmbeddedSolanaProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:n,account:i,entropyId:f,entropyIdVerifier:b,onNeedsRecovery:s,app:y}){this._proxy=e,this._privyInternal=n,this._account=i,this._entropyId=f,this._entropyIdVerifier=b,this._onNeedsRecovery=s,this._app=y}},oce=class{setMessagePoster(e){this._proxy=new LR(e,this._mfaPromises),this._mfa.setProxy(this._proxy)}async signWithUserSigner(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw new an({error:"User must be logged in to sign a message with the user signer",code:"user_signer_sign_error"});let{signature:i}=await this._proxy.signWithUserSigner({accessToken:n,message:e.message});return{signature:i}}async add(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(this._privyInternal.config?.embedded_wallet_config.mode==="user-controlled-server-wallets-only")await Mb({context:{app:this._appApi,fetchPrivyRoute:(...i)=>this._privyInternal.fetch(...i),getCompiledPath:(...i)=>this._privyInternal.getPath(...i)},chainType:e.chainType});else{let i=await this._privyInternal.getAccessTokenInternal();if(!i)throw new an({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.addWallet({accessToken:i,...e})}let{user:n}=await this._privyInternal.refreshSession();return{user:n}}async getBitcoinProvider({wallet:e,entropyId:n,entropyIdVerifier:i,recoveryPassword:f,recoveryAccessToken:b,recoverySecretOverride:s}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessTokenInternal())throw Error("User must be logged in to create an embedded wallet");return Xu(e)||await this._load({entropyId:n,entropyIdVerifier:i,wallet:e,recoveryPassword:f,recoveryAccessToken:b,recoverySecretOverride:s}),new Wue({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:n,entropyIdVerifier:i})}async create({password:e,recoveryMethod:n,recoveryToken:i,recoveryKey:f,recoverySecretOverride:b,iCloudRecordNameOverride:s,solanaAccount:y,skipCallbacks:r}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(this._privyInternal.config?.embedded_wallet_config.mode==="user-controlled-server-wallets-only"){if(n&&!n.startsWith("privy"))throw new an({error:"User-controlled server wallets do not support custom recovery methods",code:"embedded_wallet_creation_error"});await Mb({context:{app:this._appApi,fetchPrivyRoute:(...o)=>this._privyInternal.fetch(...o),getCompiledPath:(...o)=>this._privyInternal.getPath(...o)},chainType:"ethereum"})}else{let o;if(o=n||(e?"user-passcode":"privy"),e&&typeof e!="string")throw Error("Invalid recovery password, must be a string");if(o==="privy"&&this._privyInternal.config?.embedded_wallet_config.require_user_password_on_create)throw Error("Password not provided yet is required by App configuration");let v=await this._privyInternal.getAccessTokenInternal();if(!v)throw Error("User must be logged in to create an embedded wallet");let{address:c}=await this._proxy.create({accessToken:v,recoveryMethod:o,recoveryKey:f,recoveryPassword:e,recoveryAccessToken:i,recoverySecretOverride:b,iCloudRecordNameOverride:s,solanaAddress:y?.address});if(!c)throw Error("Failed to create wallet")}return await this._privyInternal.refreshSession(r)}async createSolana(e){if(!this._proxy)throw new an({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});if(this._privyInternal.config?.embedded_wallet_config.mode==="user-controlled-server-wallets-only")await Mb({context:{app:this._appApi,fetchPrivyRoute:(...n)=>this._privyInternal.fetch(...n),getCompiledPath:(...n)=>this._privyInternal.getPath(...n)},chainType:"solana"});else{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw new an({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});e?.ethereumAccount&&await this.getProvider(e.ethereumAccount);let{publicKey:i}=await this._proxy.createSolana({accessToken:n,ethereumAddress:e?.ethereumAccount?.address});if(!i)throw new an({error:"Failed to create wallet",code:"embedded_wallet_creation_error"})}return await this._privyInternal.refreshSession()}async delegateWallets({delegatedWallets:e,rootWallet:n}){if(!this._proxy)throw new an({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});let i=await this._privyInternal.getAccessTokenInternal();if(!i)throw new an({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.delegateWallets({accessToken:i,delegatedWallets:e,rootWallet:n})}async getProvider(e,n,i,f,b){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return Xu(e)||await this._load({wallet:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",recoveryPassword:n,recoveryKey:b,recoveryAccessToken:i,recoverySecretOverride:f}),new Lb({account:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}async getEthereumProvider({wallet:e,entropyId:n,entropyIdVerifier:i,recoveryPassword:f,recoveryAccessToken:b,recoverySecretOverride:s,recoveryKey:y,onNeedsRecovery:r}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessTokenInternal())throw Error("User must be logged in to create an embedded wallet");return Xu(e)||(!r||f||b||s||y)&&await this._load({entropyId:n,entropyIdVerifier:i,wallet:e,recoveryPassword:f,recoveryAccessToken:b,recoverySecretOverride:s,recoveryKey:y}),new Lb({account:e,entropyId:n,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,onNeedsRecovery:r,appApi:this._appApi})}async getSolanaProvider(e,n,i,f,b,s,y){if(!this._proxy)throw new an({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return Xu(e)||(!y||f||b||s)&&await this._load({wallet:e,entropyId:n,entropyIdVerifier:i,recoveryPassword:f,recoveryAccessToken:b,recoverySecretOverride:s}),new ace({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:n,entropyIdVerifier:i,onNeedsRecovery:y,app:this._appApi})}async setRecovery(e){let{wallet:n,...i}=e;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(Xu(n))throw new an({error:"This wallet does not support setting recovery methods",code:"unsupported_recovery_method"});Yue({currentRecoveryMethod:n.recovery_method,upgradeToRecoveryMethod:i.recoveryMethod==="icloud-native"?"icloud":i.recoveryMethod}),await this._load(n.chain_type==="solana"?{wallet:n,entropyId:n.address,entropyIdVerifier:"solana-address-verifier"}:{wallet:n,entropyId:n.address,entropyIdVerifier:"ethereum-address-verifier"});let f=await this._privyInternal.getAccessTokenInternal();if(!f)throw Error("User must be logged in to interact with embedded wallets");let b=n.recovery_method;this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_started",{address:n.address,target_recovery_method:i.recoveryMethod,existing_recovery_method:b});try{let s;if(i.recoveryMethod==="user-passcode")s={recoveryMethod:"user-passcode",recoveryPassword:i.password};else if(i.recoveryMethod==="google-drive")s={recoveryMethod:"google-drive",recoveryAccessToken:i.recoveryAccessToken};else if(i.recoveryMethod==="icloud")s={recoveryMethod:"icloud",recoveryAccessToken:i.recoveryAccessToken};else if(i.recoveryMethod==="icloud-native")s={recoveryMethod:"icloud-native",iCloudRecordNameOverride:i.iCloudRecordNameOverride,recoverySecretOverride:i.recoverySecretOverride};else if(i.recoveryMethod==="recovery-encryption-key")s={recoveryMethod:"recovery-encryption-key",recoveryKey:i.recoveryKey};else{if(i.recoveryMethod!=="privy")throw Error(`Unknown recovery method: ${i.recoveryMethod}`);s={recoveryMethod:"privy"}}await this._proxy.setRecovery({accessToken:f,entropyId:n.address,entropyIdVerifier:n.chain_type==="solana"?"solana-address-verifier":"ethereum-address-verifier",...s}),this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_completed",{address:n.address,target_recovery_method:i.recoveryMethod,existing_recovery_method:b});let{user:y}=await this._privyInternal.refreshSession();return{user:y,provider:n.chain_type!=="ethereum"?null:new Lb({account:n,entropyId:n.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}}catch(s){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_failed",{address:n.address,recovery_method:n.recovery_method,error:s instanceof Error?s.message:"Unable to recover wallet"}),s}}getURL(){let e=new URL(`${this._privyInternal.baseUrl}/apps/${this._privyInternal.appId}/embedded-wallets`);return this._privyInternal.caid&&e.searchParams.append("caid",this._privyInternal.caid),this._privyInternal.appClientId&&e.searchParams.append("client_id",this._privyInternal.appClientId),e.href}get chains(){return this._chains}onMessage(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return this._proxy.handleEmbeddedWalletMessages(e)}reload(){this._proxy?this._proxy.reload():console.warn("Attempted to reload proxy before initialized")}async ping(e){try{if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return await this._proxy.ping(e),!0}catch(n){return console.error(n),!1}}async _load({entropyId:e,entropyIdVerifier:n,wallet:i,recoveryPassword:f,recoveryKey:b,recoveryAccessToken:s,recoverySecretOverride:y}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let r=await this._privyInternal.getAccessTokenInternal();if(!r)throw Error("User must be logged in to interact with embedded wallets");try{return await this._proxy.connect({accessToken:r,entropyId:e,entropyIdVerifier:n}),e}catch(o){if(wS(o))try{if(i.recovery_method==="privy"){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:i.address,recovery_method:i.recovery_method});let v=await this._proxy.recover({accessToken:r,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:i.address,recovery_method:i.recovery_method}),v.entropyId}if(i.recovery_method==="user-passcode"&&f){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:i.address,recovery_method:i.recovery_method});let v=await this._proxy.recover({accessToken:r,recoveryPassword:f,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:i.address,recovery_method:i.recovery_method}),v.entropyId}if(["google-drive","icloud"].includes(i.recovery_method)&&s){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:i.address,recovery_method:i.recovery_method});let v=await this._proxy.recover({accessToken:r,recoveryAccessToken:s,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:i.address,recovery_method:i.recovery_method}),v.entropyId}if(i.recovery_method==="icloud"&&y){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:i.address,recovery_method:"icloud-native"});let v=await this._proxy.recover({accessToken:r,recoverySecretOverride:y,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:i.address,recovery_method:"icloud-native"}),v.entropyId}if(i.recovery_method==="recovery-encryption-key"&&b){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:i.address,recovery_method:i.recovery_method});let v=await this._proxy.recover({accessToken:r,recoveryKey:b,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:i.address,recovery_method:i.recovery_method}),v.entropyId}}catch(v){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_failed",{address:i.address,recovery_method:i.recovery_method,error:v instanceof Error?v.message:`Unable to recover wallet: ${e}`}),v}throw o}}constructor(e,n,i,f,b,s){if(this._chains=Array.from(um),this._privyInternal=e,n&&(this._proxy=new LR(n,b),f.setProxy(this._proxy)),i){let y=ej(i);this._chains=y}this._mfa=f,this._mfaPromises=b,this._appApi=s}},lce=class extends Zd{constructor(){super(),this.rootPromise={current:null},this.submitPromise={current:null}}};var zy={exports:{}},uce=zy.exports,BR;function cce(){return BR||(BR=1,(function(t,e){(function(n,i){t.exports=i()})(uce,(function(){var n=function(b,s){if(s=s||{},typeof b!="function")throw new f("fetch must be a function");if(typeof s!="object")throw new f("defaults must be an object");if(s.retries!==void 0&&!i(s.retries))throw new f("retries must be a positive integer");if(s.retryDelay!==void 0&&!i(s.retryDelay)&&typeof s.retryDelay!="function")throw new f("retryDelay must be a positive integer or a function returning a positive integer");if(s.retryOn!==void 0&&!Array.isArray(s.retryOn)&&typeof s.retryOn!="function")throw new f("retryOn property expects an array or function");var y={retries:3,retryDelay:1e3,retryOn:[]};return s=Object.assign(y,s),function(o,v){var c=s.retries,u=s.retryDelay,l=s.retryOn;if(v&&v.retries!==void 0)if(i(v.retries))c=v.retries;else throw new f("retries must be a positive integer");if(v&&v.retryDelay!==void 0)if(i(v.retryDelay)||typeof v.retryDelay=="function")u=v.retryDelay;else throw new f("retryDelay must be a positive integer or a function returning a positive integer");if(v&&v.retryOn)if(Array.isArray(v.retryOn)||typeof v.retryOn=="function")l=v.retryOn;else throw new f("retryOn property expects an array or function");return new Promise(function(a,d){var p=function(g){var m=typeof Request<"u"&&o instanceof Request?o.clone():o;b(m,v).then(function(x){if(Array.isArray(l)&&l.indexOf(x.status)===-1)a(x);else if(typeof l=="function")try{return Promise.resolve(l(g,null,x)).then(function(w){w?h(g,null,x):a(x)}).catch(d)}catch(w){d(w)}else g<c?h(g,null,x):a(x)}).catch(function(x){if(typeof l=="function")try{Promise.resolve(l(g,x,null)).then(function(w){w?h(g,x,null):d(x)}).catch(function(w){d(w)})}catch(w){d(w)}else g<c?h(g,x,null):d(x)})};function h(g,m,x){var w=typeof u=="function"?u(g,m,x):u;setTimeout(function(){p(++g)},w)}p(0)})}};function i(b){return Number.isInteger(b)&&b>=0}function f(b){this.name="ArgumentError",this.message=b}return n}))})(zy)),zy.exports}var dce=cce();const aj=co(dce);let Z1;const hce=new Uint8Array(16);function fce(){if(!Z1&&(Z1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Z1))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Z1(hce)}const ii=[];for(let t=0;t<256;++t)ii.push((t+256).toString(16).slice(1));function pce(t,e=0){return ii[t[e+0]]+ii[t[e+1]]+ii[t[e+2]]+ii[t[e+3]]+"-"+ii[t[e+4]]+ii[t[e+5]]+"-"+ii[t[e+6]]+ii[t[e+7]]+"-"+ii[t[e+8]]+ii[t[e+9]]+"-"+ii[t[e+10]]+ii[t[e+11]]+ii[t[e+12]]+ii[t[e+13]]+ii[t[e+14]]+ii[t[e+15]]}const vce=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),UR={randomUUID:vce};function iC(t,e,n){if(UR.randomUUID&&!t)return UR.randomUUID();t=t||{};const i=t.random||(t.rng||fce)();return i[6]=i[6]&15|64,i[8]=i[8]&63|128,pce(i)}/*! js-cookie v3.0.5 | MIT */function J1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}var gce={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function sC(t,e){function n(f,b,s){if(!(typeof document>"u")){s=J1({},e,s),typeof s.expires=="number"&&(s.expires=new Date(Date.now()+s.expires*864e5)),s.expires&&(s.expires=s.expires.toUTCString()),f=encodeURIComponent(f).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var y="";for(var r in s)s[r]&&(y+="; "+r,s[r]!==!0&&(y+="="+s[r].split(";")[0]));return document.cookie=f+"="+t.write(b,f)+y}}function i(f){if(!(typeof document>"u"||arguments.length&&!f)){for(var b=document.cookie?document.cookie.split("; "):[],s={},y=0;y<b.length;y++){var r=b[y].split("="),o=r.slice(1).join("=");try{var v=decodeURIComponent(r[0]);if(s[v]=t.read(o,v),f===v)break}catch{}}return f?s[f]:s}}return Object.create({set:n,get:i,remove:function(f,b){n(f,"",J1({},b,{expires:-1}))},withAttributes:function(f){return sC(this.converter,J1({},this.attributes,f))},withConverter:function(f){return sC(J1({},this.converter,f),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var lr=sC(gce,{path:"/"});const jR=Promise.allSettled.bind(Promise)??(t=>Promise.all(t.map((e=>e.then((n=>({status:"fulfilled",value:n}))).catch((n=>({status:"rejected",reason:n})))))));let Xh="privy:token",Db="privy-token",Nb="privy:pat",Q1="privy:refresh_token",kb="privy-refresh-token",Kh="privy:id-token",Bb="privy-id-token",_1="privy-session",oj=class extends Zd{set isUsingServerCookies(e){this._isUsingServerCookies=e}async getCustomerAccessToken(){let e=await this._storage.get(Xh);try{return typeof e=="string"?new Cf(e).value:null}catch(n){return console.error(n),await this.destroyLocalState({reason:"getToken_error"}),null}}async getPrivyAccessToken(){let e=await this._storage.get(Nb);try{return typeof e=="string"?new Cf(e).value:null}catch(n){return console.error(n),await this.destroyLocalState({reason:"getToken_error"}),null}}async getRefreshToken(){let e=await this._storage.get(Q1);return typeof e=="string"?e:null}async getIdentityToken(){let e=await this._storage.get(Kh);return typeof e=="string"?e:null}get mightHaveServerCookies(){try{let e=lr.get(_1);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e,n){return this.mightHaveServerCookies||typeof e=="string"&&typeof n=="string"}tokenIsActive(e){if(!e)return!1;let n=Cf.parse(e);return n!==null&&!n.isExpired(30)}async destroyLocalState(e){await jR([this._storage.del(Xh),this._storage.del(Q1),this._storage.del(Kh),this._storage.del(this.GUEST_CREDENTIAL_STORAGE_KEY)]),lr.remove(Db),lr.remove(kb),lr.remove(Bb),lr.remove(_1),e?.reason&&this.emit("storage_cleared",{reason:e.reason})}async storeCustomerAccessToken(e){if(typeof e=="string"){let n=await this._storage.get(Xh);if(await this._storage.put(Xh,e),!this._isUsingServerCookies){let i=Cf.parse(e)?.expiration;lr.set(Db,e,{sameSite:"Strict",secure:!0,expires:i?new Date(1e3*i):void 0})}n!==e&&this.emit("token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let n=await this._storage.get(Xh);await this._storage.del(Xh),lr.remove(Db),n!==null&&this.emit("token_cleared",{reason:"set_with_non_string_value"})}}async storePrivyAccessToken(e){typeof e=="string"?await this._storage.put(Nb,e):await this._storage.del(Nb)}async storeRefreshToken(e){typeof e=="string"?(await this._storage.put(Q1,e),this._isUsingServerCookies||(lr.set(_1,"t",{sameSite:"Strict",secure:!0,expires:30}),lr.set(kb,e,{sameSite:"Strict",secure:!0,expires:30})),this.emit("refresh_token_stored",{cookiesEnabled:this._isUsingServerCookies})):(await this._storage.del(Q1),lr.remove(kb),lr.remove(_1),this.emit("refresh_token_cleared",{reason:"set_with_non_string_value"}))}async updateWithTokensResponse(e){let n=(await jR([this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token),this.storeRefreshToken(e.refresh_token),this.storeIdentityToken(e.identity_token),this.processOAuthTokens(e.oauth_tokens)])).filter((i=>i.status==="rejected"));n.length>0&&this.emit("error_storing_tokens",n.map((i=>String(i.reason))).join(", "))}async processOAuthTokens(e){e&&this.emit("oauth_tokens_granted",e)}async storeIdentityToken(e){if(typeof e=="string"){let n=await this._storage.get(Kh);if(await this._storage.put(Kh,e),!this._isUsingServerCookies){let i=Cf.parse(e)?.expiration;lr.set(Bb,e,{sameSite:"Strict",secure:!0,expires:i?new Date(1e3*i):void 0})}n!==e&&this.emit("identity_token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let n=await this._storage.get(Kh);await this._storage.del(Kh),lr.remove(Bb),n!==null&&this.emit("identity_token_cleared",{reason:"set_with_non_string_value"})}}async getOrCreateGuestCredential(){let e=this._storage.get(this.GUEST_CREDENTIAL_STORAGE_KEY);if(e&&typeof e=="string")return e;let n=Md(crypto.getRandomValues(new Uint8Array(32)));return await this._storage.put(this.GUEST_CREDENTIAL_STORAGE_KEY,n),n}constructor(e){super(),this._isUsingServerCookies=!1,this._storage=e.storage,this.GUEST_CREDENTIAL_STORAGE_KEY=`privy:guest:${e.appId}`}};oj.events=["storage_cleared","token_cleared","refresh_token_cleared","identity_token_cleared","token_stored","refresh_token_stored","identity_token_stored","oauth_tokens_granted","error_storing_tokens"];var mce=t=>{let e=new AbortController;return setTimeout((()=>e.abort()),t),e.signal};function yce(t){let e=new URLSearchParams;for(let n in t)t[n]!=null&&e.append(n,String(t[n]));return Array.from(e).length?"?"+e.toString():""}const q1=()=>{};let Pu={NONE:Number.NEGATIVE_INFINITY,ERROR:1,WARN:2,INFO:3,DEBUG:Number.POSITIVE_INFINITY};const wce=({level:t}={level:"ERROR"})=>({get level(){return t},error:Pu[t]>=Pu.ERROR?console.error:q1,warn:Pu[t]>=Pu.WARN?console.warn:q1,info:Pu[t]>=Pu.INFO?console.info:q1,debug:Pu[t]>=Pu.DEBUG?console.debug:q1});let Ub="privy:caid",xce=class{setCallbacks(e){this.callbacks={...this.callbacks,...e}}get isReady(){return!!this._config}get config(){return this._config}get caid(){return this._analyticsId}async _initialize(){if(this.isReady)this.callbacks?.setIsReady?.(!0);else{if(!await this.isStorageAccessible())throw new an({code:"storage_error",error:"Unable to access storage"});this._config=await this.getAppConfig(),this._config?.custom_api_url&&(this.baseUrl=this._config.custom_api_url,this.session.isUsingServerCookies=!0),this.callbacks?.setIsReady?.(!0),this._sdkVersion.startsWith("react-auth:")||this.createAnalyticsEvent("sdk_initialize",{})}}getPath(e,{params:n,query:i}){return`${this.baseUrl}${Vre(e.path,n)}${yce(i)}`}async fetch(e,{body:n,params:i,query:f,headers:b,onRequest:s=this._beforeRequest.bind(this)}){let y=new Request(this.getPath(e,{params:i,query:f}),{method:e.method,body:JSON.stringify(n),headers:b}),r=await s(y),o=await this._fetch(y,r),v=await o.json();if(o.status>299)throw new Rb(v);return v}async _beforeRequestWithoutInitialize(e){let n=await this.session.getPrivyAccessToken()??await this.session.getCustomerAccessToken(),i=new Headers(e.headers);i.set("privy-app-id",this.appId),this.appClientId&&i.set("privy-client-id",this.appClientId),i.set("privy-client",this._sdkVersion),n&&i.set("Authorization",`Bearer ${n}`),i.set("Content-Type","application/json"),i.set("Accept","application/json");let f=await this._getOrGenerateClientAnalyticsId();return f&&i.set("privy-ca-id",f),this.nativeAppIdentifier&&i.set("x-native-app-identifier",this.nativeAppIdentifier),{signal:mce(2e4),headers:i,credentials:"include"}}async beforeRequestWithoutRefresh(e){return await this._initialize(),this._beforeRequestWithoutInitialize(e)}async _beforeRequest(e){return await this._initialize(),await this.getAccessTokenInternal(),this.beforeRequestWithoutRefresh(e)}async getAppConfig(){return await this.fetch(ire,{params:{app_id:this.appId},onRequest:this._beforeRequestWithoutInitialize.bind(this)})}async _getOrGenerateClientAnalyticsId(){if(this._analyticsId)return this._analyticsId;try{let e=await this._storage.get(Ub);if(typeof e=="string"&&e.length>0)return this._analyticsId=e,e}catch(e){this.logger.error("Unable to load clientId",e)}try{this._analyticsId=iC()}catch(e){this.logger.error("Unable to generate uuidv4",e)}if(!this._analyticsId)return null;try{await this._storage.put(Ub,this._analyticsId)}catch(e){this.logger.error(`Unable to store clientId: ${this._analyticsId}`,e)}return this._analyticsId}async destroyClientAnalyticsId(){try{return await this._storage.del(Ub)}catch(e){this.logger.error("Unable to delete clientId",e)}}async createAnalyticsEvent(e,n){try{await this.fetch(rre,{body:{event_name:e,client_id:await this._getOrGenerateClientAnalyticsId(),payload:n},onRequest:this.beforeRequestWithoutRefresh.bind(this)})}catch{}}async refreshSession(e=!1){if(!await this.isStorageAccessible())throw new an({code:"storage_error",error:"Unable to access storage"});let n=await this.session.getRefreshToken()??void 0,i=n??"key",f=this._cache.get(i);if(f)return this.logger.debug("[privy:refresh] found in-flight session refresh request, deduping"),await f;let b=this._refreshSession(n,e);this._cache.set(i,b);try{return await b}finally{this._cache.delete(i)}}async _refreshSession(e,n){let i=await this.session.getCustomerAccessToken();if(!this.session.hasRefreshCredentials(i,e??null))throw this.logger.debug("[privy:refresh] missing tokens, skipping request"),await this._initialize(),new Rb({code:YI.MISSING_OR_INVALID_TOKEN,error:"No tokens found in storage"});try{this.logger.debug(`[privy:refresh] fetching: ${HI.path}`);let f=await this.fetch(HI,{body:{refresh_token:e},onRequest:this.beforeRequestWithoutRefresh.bind(this)}),b=f.session_update_action;return this.logger.debug(`[privy:refresh] response: ${b}`),n||this.callbacks?.setUser?.(f.user),b==="set"&&(await this.session.updateWithTokensResponse(f),this.logger.debug("[privy:refresh] tokens stored")),b==="clear"&&(await this.session.destroyLocalState(),this.logger.debug("[privy:refresh] tokens cleared"),n||this.callbacks?.setUser?.(null)),b==="ignore"&&f.token&&(await this.session.storeCustomerAccessToken(f.token),await this.session.storePrivyAccessToken(f.privy_access_token),this.logger.debug("[privy:refresh] access token stored"),f.identity_token&&(this.logger.debug("[privy:refresh] identity token stored"),await this.session.storeIdentityToken(f.identity_token))),this.logger.debug("[privy:refresh] returning response"),f}catch(f){throw this.logger.debug(`[privy:refresh] error: ${f.message??"unknown error"}`),f instanceof Rb&&f.code===YI.MISSING_OR_INVALID_TOKEN&&(await this.session.destroyLocalState(),n||this.callbacks?.setUser?.(null)),f}}async getAccessToken(){let[e,n]=await Promise.all([this.session.getCustomerAccessToken(),this.session.getRefreshToken()]);if(!this.session.tokenIsActive(e)&&this.session.hasRefreshCredentials(e,n)){let i=await this.refreshSession(),f=await this.session.getCustomerAccessToken();return i.token||this.logger.debug("[privy:getAccessToken] expected token received null"),i.token===e&&this.logger.debug("[privy:getAccessToken] expected new token in response received existing"),f===e&&this.logger.debug("[privy:getAccessToken] expected new token in storage received existing"),i.token??f}return e}async getAccessTokenInternal(){let e=await this.getAccessToken();return await this.session.getPrivyAccessToken()??e}async getIdentityToken(){return await this.session.getIdentityToken()}async isStorageAccessible(){try{let e=`privy:__storage__test-${iC()}`,n="blobby";await this._storage.put(e,n);let i=await this._storage.get(e);return await this._storage.del(e),i===n}catch(e){return this.logger.error(e),!1}}constructor(e){this._sdkVersion="js-sdk-core:0.56.3",this._cache=new Map,this.logger=wce({level:e.logLevel??"ERROR"}),this._storage=e.storage,this._analyticsId=null,this._getOrGenerateClientAnalyticsId(),this.baseUrl=e.baseUrl??"https://auth.privy.io",this.appId=e.appId,this.appClientId=e.appClientId,this._sdkVersion=e.sdkVersion??this._sdkVersion,this.callbacks=e.callbacks,this.nativeAppIdentifier=e.nativeAppIdentifier,this.session=new oj({storage:this._storage,isUsingServerCookies:!1,appId:e.appId}),this._fetch=aj(globalThis.fetch,{retries:3,retryDelay:n=>3**n*500,retryOn:[408,409,425,500,502,503,504]}),this.session.on("error_storing_tokens",(n=>{this.createAnalyticsEvent("error_updating_tokens_in_storage",{reason:n})}))}},bce=class{async get(){let{user:e}=await this._privyInternal.refreshSession();return{user:e}}async acceptTerms(){return{user:await this._privyInternal.fetch(tie,{})}}constructor(e){this._privyInternal=e}};const lj=t=>t.type==="wallet"&&t.wallet_client_type==="privy"&&t.connector_type==="embedded",uj=t=>t?t.linked_accounts.filter(lj).filter((e=>e.chain_type==="ethereum")).sort(((e,n)=>e.wallet_index-n.wallet_index)):[],zR=t=>uj(t).find((e=>e.wallet_index===0))??null,cj=t=>t?t.linked_accounts.filter(lj).filter((e=>e.chain_type==="solana")).sort(((e,n)=>e.wallet_index-n.wallet_index)):[],Cce=t=>cj(t).find((e=>e.wallet_index===0))??null,Ece=(t,e)=>!(e==="off"||uj(t).length>0||t.linked_accounts.filter((n=>n.type==="wallet"&&n.chain_type==="ethereum")).length>0&&e!=="all-users"),Sce=(t,e)=>!(e==="off"||cj(t).length>0||t.linked_accounts.filter((n=>n.type==="wallet"&&n.chain_type==="solana")).length>0&&e!=="all-users"),ro=async(t,e,n)=>{let i=Ece(e.user,n?.ethereum?.createOnLogin??"off"),f=Sce(e.user,n?.solana?.createOnLogin??"off");if(i&&f){let b=await t.create({recoveryMethod:"privy",skipCallbacks:!0});return{...await t.createSolana({ethereumAccount:zR(b.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}}return i?{...await t.create({recoveryMethod:"privy",solanaAccount:Cce(e.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}:f?{...await t.createSolana({ethereumAccount:zR(e.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}:e};let Tce=class{async syncWithToken(e,n,i){let f=await this._privyInternal.fetch(lre,{body:{token:e,mode:i}});await this._privyInternal.session.updateWithTokensResponse(f);let b=await ro(this._embedded,f,n?.embedded);return this._privyInternal.callbacks?.setUser?.(b.user),b}constructor(e,n){this._privyInternal=e,this._embedded=n}},Ace=class{async sendCode(e,n){return this._privyInternal.fetch(Mre,{body:{email:e,token:n}})}async loginWithCode(e,n,i,f){let b=await this._privyInternal.fetch(Rre,{body:{email:e,code:n,mode:i}});await this._privyInternal.session.updateWithTokensResponse(b);let s=await ro(this._embedded,b,f?.embedded);return this._privyInternal.callbacks?.setUser?.(s.user),s}async linkWithCode(e,n){await this._privyInternal.fetch(Ore,{body:{email:e,code:n}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async updateEmail({oldEmailAddress:e,newEmailAddress:n,code:i}){await this._privyInternal.fetch($re,{body:{oldAddress:e,newAddress:n,code:i}});let f=await this._privyInternal.refreshSession();return{user:f.user,identity_token:f.identity_token}}async unlink(e){await this._privyInternal.fetch(Fre,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},Pce=class{async initializeAuth({relyingParty:e,redirectUrl:n,token:i}){return await this._privyInternal.fetch(ure,{body:{relying_party:e,redirect_url:n,token:i}})}async getFarcasterStatus({channel_token:e}){return await this._privyInternal.fetch(fre,{headers:{"farcaster-channel-token":e}})}async authenticate({channel_token:e,message:n,signature:i,fid:f,mode:b},s){let y=await this._privyInternal.fetch(cre,{body:{channel_token:e,message:n,signature:i,fid:f,mode:b}});await this._privyInternal.session.updateWithTokensResponse(y);let r=await ro(this._embedded,y,s?.embedded);return this._privyInternal.callbacks?.setUser?.(r.user),r}async link({channel_token:e,message:n,signature:i,fid:f}){await this._privyInternal.fetch(dre,{body:{channel_token:e,message:n,signature:i,fid:f}});let b=await this._privyInternal.refreshSession();return{user:b.user,identity_token:b.identity_token}}async unlink({fid:e}){await this._privyInternal.fetch(hre,{body:{fid:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},Ice=class{async initializeAuth(){return await this._privyInternal.fetch(pre,{body:{}})}async authenticate({message:e,signature:n,fid:i},f){let b=await this._privyInternal.fetch(vre,{body:{message:e,signature:n,fid:i}});await this._privyInternal.session.updateWithTokensResponse(b);let s=await ro(this._embedded,b,f?.embedded);return this._privyInternal.callbacks?.setUser?.(s.user),s}constructor(e,n){this._privyInternal=e,this._embedded=n}},Rce=class{async create(e){let n=await this._privyInternal.session.getOrCreateGuestCredential(),i=await this._privyInternal.fetch(gre,{body:{guest_credential:n}});await this._privyInternal.session.updateWithTokensResponse(i);let f=await ro(this._embedded,i,e?.embedded);return this._privyInternal.callbacks?.setUser?.(f.user),f}constructor(e,n){this._privyInternal=e,this._embedded=n}};const Ku="privy:state_code",Zu="privy:code_verifier";async function Mce(t,e){let n=new TextEncoder().encode(t);return new Uint8Array(await e("SHA-256",n))}function Oce(t){return crypto.getRandomValues(new Uint8Array(t))}function xS(){return Md(Oce(36))}function dj(){return xS()}async function hj({codeVerifier:t,method:e="S256",digest:n=crypto.subtle.digest.bind(crypto.subtle)}){if(e!="S256")return t;{let i=await Mce(t,n);return Md(i)}}let Fce=class{async generateURL(e,n){let i=xS(),f=dj(),b=await hj({codeVerifier:i,digest:this._crypto?.digest});return await Promise.all([this._storage.put(Zu,i),this._storage.put(Ku,f)]),this._privyInternal.fetch(xre,{body:{redirect_to:n,provider:e,code_challenge:b,state_code:f}})}async loginWithCode(e,n,i,f,b,s){let[y,r]=await Promise.all([this._storage.get(Zu),this._storage.get(Ku)]);if(r!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:i,storedStateCode:r??"",returnedStateCode:n??""}),new an({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let o=await this._privyInternal.fetch(wre,{body:{authorization_code:e,code_type:f,state_code:r,code_verifier:y,mode:b}});await this._privyInternal.session.updateWithTokensResponse(o);let v=await ro(this._embedded,o,s?.embedded);return await Promise.all([this._storage.del(Zu),this._storage.del(Ku)]),this._privyInternal.callbacks?.setUser?.(v.user),v}async linkWithCode(e,n,i,f){let[b,s]=await Promise.all([this._storage.get(Zu),this._storage.get(Ku)]);if(s!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:i,storedStateCode:s??"",returnedStateCode:n??""}),new an({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let y=await this._privyInternal.fetch(bre,{body:{authorization_code:e,code_type:f,state_code:s,code_verifier:b}});await this._privyInternal.session.processOAuthTokens(y.oauth_tokens);let r=await this._privyInternal.refreshSession();return await Promise.all([this._storage.del(Zu),this._storage.del(Ku)]),{user:r.user,identity_token:r.identity_token}}async unlink(e,n){await this._privyInternal.fetch(Cre,{body:{provider:e,subject:n}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}constructor(e,n,i,f){this._privyInternal=e,this._embedded=n,this._storage=i,this._crypto=f}},$ce=class{async generateRegistrationOptions(e){return await this._privyInternal.fetch(Ire,{body:{relying_party:e}})}async generateAuthenticationOptions(e){return await this._privyInternal.fetch(Are,{body:{relying_party:e}})}async generateSignupOptions(e){return await this._privyInternal.fetch(Pre,{body:{relying_party:e}})}async loginWithPasskey(e,n,i,f){let b=await this._privyInternal.fetch(Sre,{body:{relying_party:i,challenge:n,authenticator_response:this._transformAuthenticationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(b);let s=await ro(this._embedded,b,f?.embedded);return this._privyInternal.callbacks?.setUser?.(s.user),s}async signupWithPasskey(e,n,i){let f=await this._privyInternal.fetch(Tre,{body:{relying_party:n,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(f);let b=await ro(this._embedded,f,i?.embedded);return this._privyInternal.callbacks?.setUser?.(b.user),b}async linkWithPasskey(e,n){await this._privyInternal.fetch(Ere,{body:{relying_party:n,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}_transformRegistrationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData||void 0,transports:e.response.transports||void 0,public_key:e.response.publicKey||void 0,public_key_algorithm:e.response.publicKeyAlgorithm||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}_transformAuthenticationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{signature:e.response.signature,client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,user_handle:e.response.userHandle||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}constructor(e,n){this._privyInternal=e,this._embedded=n}},Lce=class{async sendCode(e,n){return this._privyInternal.fetch(Dre,{body:{phoneNumber:e,token:n}})}async loginWithCode(e,n,i,f){let b=await this._privyInternal.fetch(Lre,{body:{phoneNumber:e,code:n,mode:i}});await this._privyInternal.session.updateWithTokensResponse(b);let s=await ro(this._embedded,b,f?.embedded);return this._privyInternal.callbacks?.setUser?.(s.user),s}async linkWithCode(e,n){await this._privyInternal.fetch(Nre,{body:{phoneNumber:e,code:n}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async updatePhone({oldPhoneNumber:e,newPhoneNumber:n,code:i}){await this._privyInternal.fetch(Bre,{body:{old_phone_number:e,new_phone_number:n,code:i}});let f=await this._privyInternal.refreshSession();return{user:f.user,identity_token:f.identity_token}}async unlink(e){await this._privyInternal.fetch(kre,{body:{phoneNumber:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},Dce=class{async unlinkWallet(e){await this._privyInternal.fetch(Jre,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async linkWithSiwe(e,n,i){let f=n||this._wallet,b=i||this._preparedMessage;if(!f)throw Error("A wallet must be provided in the init step or as an argument to linkWithSiwe");if(!b)throw Error("A message must be generated and signed before being used to link a wallet to privy");await this._privyInternal.fetch(Kre,{body:{message:b,signature:e,chainId:f.chainId,walletClientType:f.walletClientType,connectorType:f.connectorType}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async loginWithSiwe(e,n,i,f,b){let s=n||this._wallet,y=i||this._preparedMessage;if(!s)throw Error("A wallet must be provided in the init step or as an argument to loginWithSiwe");if(!y)throw Error("A message must be generated and signed before being used to login to privy with a wallet");let r=await this._privyInternal.fetch(Xre,{body:{signature:e,message:y,chainId:s.chainId,walletClientType:s.walletClientType,connectorType:s.connectorType,mode:f}});await this._privyInternal.session.updateWithTokensResponse(r);let o=await ro(this._embedded,r,b?.embedded);return this._privyInternal.callbacks?.setUser?.(o.user),o}async init(e,n,i){var f;this._wallet=e;let{nonce:b}=await this._privyInternal.fetch(rU,{body:{address:e.address}}),s=`${(f={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:new Date().toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:n,nonce:b,uri:i}).domain} wants you to sign in with your Ethereum account:
${f.address}

${f.statement}

URI: ${f.uri}
Version: 1
Chain ID: ${f.chainId}
Nonce: ${f.nonce}
Issued At: ${f.issuedAt}
Resources:
- https://privy.io`;return this._preparedMessage=s,{nonce:b,message:s}}constructor(e,n){this._wallet=void 0,this._privyInternal=e,this._embedded=n}},Nce=class{async unlink({address:e}){await this._privyInternal.fetch(eie,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async link({message:e,signature:n,walletClientType:i,connectorType:f}){await this._privyInternal.fetch(qre,{body:{message:e,signature:n,walletClientType:i,connectorType:f}});let b=await this._privyInternal.refreshSession();return{user:b.user,identity_token:b.identity_token}}async login({mode:e,message:n,signature:i,walletClientType:f,connectorType:b,opts:s}){let y=await this._privyInternal.fetch(_re,{body:{signature:i,message:n,walletClientType:f,connectorType:b,mode:e}});await this._privyInternal.session.updateWithTokensResponse(y);let r=await ro(this._embedded,y,s?.embedded);return this._privyInternal.callbacks?.setUser?.(r.user),r}async fetchNonce({address:e}){let{nonce:n}=await this._privyInternal.fetch(Qre,{body:{address:e}});return{nonce:n}}constructor(e,n){this._privyInternal=e,this._embedded=n}},kce=class{async link(e,n,i,f){await this._privyInternal.fetch(Zre,{body:{message:e,signature:n,smart_wallet_type:i,smart_wallet_version:f}});let b=await this._privyInternal.refreshSession();return{user:b.user,identity_token:b.identity_token}}async init(e){var n;let{nonce:i}=await this._privyInternal.fetch(rU,{body:{address:e.address}});return{nonce:i,message:`${(n={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:new Date().toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:"privy.io",uri:"https://auth.privy.io",nonce:i}).domain} wants you to sign in with your Ethereum account:
${n.address}

${n.statement}

URI: ${n.uri}
Version: 1
Chain ID: ${n.chainId}
Nonce: ${n.nonce}
Issued At: ${n.issuedAt}
Resources:
- https://privy.io`}}constructor(e){this._privyInternal=e}},Bce=class{async logout(){try{let e=await this._privyInternal.session.getRefreshToken()??void 0;await this._privyInternal.fetch(Hre,{body:{refresh_token:e}})}catch{console.warn("Error destroying session")}await Promise.all([this._privyInternal.session.destroyLocalState({reason:"logout"}),this._privyInternal.destroyClientAnalyticsId()]),this._privyInternal.callbacks?.setUser?.(null)}constructor(e,n,i,f){this._privyInternal=e,this.customProvider=new Tce(this._privyInternal,n),this.phone=new Lce(this._privyInternal,n),this.email=new Ace(this._privyInternal,n),this.oauth=new Fce(this._privyInternal,n,i,f),this.guest=new Rce(this._privyInternal,n),this.siwe=new Dce(this._privyInternal,n),this.siws=new Nce(this._privyInternal,n),this.smartWallet=new kce(this._privyInternal),this.passkey=new $ce(this._privyInternal,n),this.farcaster=new Pce(this._privyInternal,n),this.farcasterV2=new Ice(this._privyInternal,n)}},Uce=class{async initOnRampSession(e){return await this._privyInternal.fetch(sre,{body:e})}async getStatus(e){return await this._privyInternal.fetch(are,{query:{partnerUserId:e}})}constructor(e){this._privyInternal=e}};const jce={prod:{url:"https://api.moonpay.com/v1",key:"pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL"},sandbox:{url:"https://api.moonpay.com/v1",key:"pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI"}};let zce=new Set([Ea.id,ho.id,po.id,Sa.id,fo.id,Kw.id]),Wce=new Set([Ea.id,ho.id,ou.id,po.id,Sa.id,fo.id]);function Gce(t,e){switch(e){case"native-currency":return zce.has(t);case"USDC":return Wce.has(t);default:return console.warn("Unknown asset passed to MoonPay Onramp"),!1}}function Vce(t,e){switch(t){case ho.id:return e==="native-currency"?"ETH_ARBITRUM":"USDC_ARBITRUM";case fo.id:return e==="native-currency"?"AVAX_CCHAIN":"USDC_CCHAIN";case po.id:return e==="native-currency"?"ETH_BASE":"USDC_BASE";case Kw.id:return"CELO_CELO";case Sa.id:return e==="native-currency"?"MATIC_POLYGON":"USDC_POLYGON";case Ea.id:return e==="native-currency"?"ETH_ETHEREUM":"USDC_ETHEREUM";default:return console.warn(`Chain ${t} not supported by Moonpay, defaulting to Ethereum mainnet`),"ETH_ETHEREUM"}}let Hce=class{async sign(e){return await this._privyInternal.fetch(nie,{body:e})}async getTransactionStatus({transactionId:e,useSandbox:n}){let{url:i,key:f}=jce[n?"sandbox":"prod"],b=await aj(fetch,{retries:3,retryDelay:500})(`${i}/transactions/ext/${e}?apiKey=${f}`);if(!b.ok)throw new zue({error:`Failed to fetch transaction status for Transaction ${e}`,code:"failed_to_fetch_moonpay_transaction_status",response:b});let s=await b.json();return Array.isArray(s)?s.at(0):void 0}constructor(e){this._privyInternal=e}},Yce=class{constructor(e){this.moonpay=new Hce(e),this.coinbase=new Uce(e)}},Xce=class{async generateAuthenticationOptions(e){return await this._privyInternal.fetch(mre,{body:e})}constructor(e){this._privyInternal=e}},Kce=class{async sendCode(e){return await this._privyInternal.fetch(yre,{body:e})}constructor(e){this._privyInternal=e}},Zce=class{setProxy(e){this.proxy=e}async getAccessTokenInternal(){let e=await this.privyInternal.getAccessTokenInternal();if(!e)throw new an({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return e}async verifyMfa(){if(!this.proxy)throw new an({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.verifyMfa({accessToken:await this.getAccessTokenInternal()})}async initEnrollMfa(e){if(!this.proxy)throw new an({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.initEnrollMfa({...e,accessToken:await this.getAccessTokenInternal()})}async submitEnrollMfa(e){if(!this.proxy)throw new an({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let n=await this.proxy.submitEnrollMfa({...e,accessToken:await this.getAccessTokenInternal()});return await this.privyInternal.refreshSession(),n}async unenrollMfa(e){if(!this.proxy)throw new an({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let n=await this.proxy.unenrollMfa({method:e,accessToken:await this.getAccessTokenInternal()});return await this.privyInternal.refreshSession(),n}async clearMfa(e){if(!this.proxy)throw new an({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.clearMfa(e)}constructor(e,n){this.proxy=n,this.privyInternal=e,this.sms=new Kce(e),this.passkey=new Xce(e)}},Jce=class{async init(e){return this._privyInternal.fetch(Wre,{body:{client_type:e}})}async getICloudConfiguration(e){return this._privyInternal.fetch(Gre,{body:{client_type:e}})}constructor(e){this._privyInternal=e}},Qce=class{async generateURL(e){let n=xS(),i=dj(),f=await hj({codeVerifier:n,digest:this._crypto?.digest});return await Promise.all([this._storage.put(Zu,n),this._storage.put(Ku,i)]),this._privyInternal.fetch(jre,{body:{redirect_to:e,code_challenge:f,state_code:i}})}async authorize(e,n){let[i,f]=await Promise.all([this._storage.get(Zu),this._storage.get(Ku)]);if(f!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"recovery_oauth",storedStateCode:f??"",returnedStateCode:n??""}),new an({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let b=await this._privyInternal.fetch(zre,{body:{authorization_code:e,state_code:f,code_verifier:i}});return await Promise.all([this._storage.del(Zu),this._storage.del(Ku)]),b}constructor(e,n,i){this._privyInternal=e,this._storage=n,this._crypto=i}},_ce=class{async getRecoveryKeyMaterial(e,n){return this._privyInternal.fetch(Ure,{body:{chain_type:n},params:{address:e}})}constructor(e,n,i){this._privyInternal=e,this.auth=new Qce(this._privyInternal,n,i),this.icloudAuth=new Jce(this._privyInternal)}},qce=class{async initialize(){await this._privyInternal._initialize()}setMessagePoster(e){this.embeddedWallet.setMessagePoster(e)}addOAuthTokensListener(e){return this._privyInternal.session.on("oauth_tokens_granted",e),{unsubscribe:()=>{this._privyInternal.session.removeListener("oauth_tokens_granted",e)}}}setCallbacks(e){this._privyInternal.setCallbacks(e)}getAccessToken(){return this._privyInternal.getAccessToken()}getIdentityToken(){return this._privyInternal.getIdentityToken()}getCompiledPath(e,n){return this._privyInternal.getPath(e,n)}async fetchPrivyRoute(e,n){return this._privyInternal.fetch(e,n)}get logger(){return this._privyInternal.logger}constructor({clientId:e,...n}){this._privyInternal=new xce({...n,appClientId:e}),this.mfa=new Zce(this._privyInternal),this.mfaPromises=new lce,this.app=new mue(this._privyInternal),this.embeddedWallet=new oce(this._privyInternal,n.embeddedWalletMessagePoster,n.supportedChains,this.mfa,this.mfaPromises,this.app),this.user=new bce(this._privyInternal),this.auth=new Bce(this._privyInternal,this.embeddedWallet,n.storage,n.crypto),this.recovery=new _ce(this._privyInternal,n.storage,n.crypto),this.funding=new Yce(this._privyInternal),this.delegated=new Pue(this._privyInternal),this.crossApp=new JU(this._privyInternal,n.storage)}};const ede={AC:"40123",AD:"312345",AE:"501234567",AF:"701234567",AG:"2684641234",AI:"2642351234",AL:"672123456",AM:"77123456",AO:"923123456",AR:"91123456789",AS:"6847331234",AT:"664123456",AU:"412345678",AW:"5601234",AX:"412345678",AZ:"401234567",BA:"61123456",BB:"2462501234",BD:"1812345678",BE:"470123456",BF:"70123456",BG:"43012345",BH:"36001234",BI:"79561234",BJ:"0195123456",BL:"690001234",BM:"4413701234",BN:"7123456",BO:"71234567",BQ:"3181234",BR:"11961234567",BS:"2423591234",BT:"17123456",BW:"71123456",BY:"294911911",BZ:"6221234",CA:"5062345678",CC:"412345678",CD:"991234567",CF:"70012345",CG:"061234567",CH:"781234567",CI:"0123456789",CK:"71234",CL:"221234567",CM:"671234567",CN:"13123456789",CO:"3211234567",CR:"83123456",CU:"51234567",CV:"9911234",CW:"95181234",CX:"412345678",CY:"96123456",CZ:"601123456",DE:"15123456789",DJ:"77831001",DK:"34412345",DM:"7672251234",DO:"8092345678",DZ:"551234567",EC:"991234567",EE:"51234567",EG:"1001234567",EH:"650123456",ER:"7123456",ES:"612345678",ET:"911234567",FI:"412345678",FJ:"7012345",FK:"51234",FM:"3501234",FO:"211234",FR:"612345678",GA:"06031234",GB:"7400123456",GD:"4734031234",GE:"555123456",GF:"694201234",GG:"7781123456",GH:"231234567",GI:"57123456",GL:"221234",GM:"3012345",GN:"601123456",GP:"690001234",GQ:"222123456",GR:"6912345678",GT:"51234567",GU:"6713001234",GW:"955012345",GY:"6091234",HK:"51234567",HN:"91234567",HR:"921234567",HT:"34101234",HU:"201234567",ID:"812345678",IE:"850123456",IL:"502345678",IM:"7924123456",IN:"8123456789",IO:"3801234",IQ:"7912345678",IR:"9123456789",IS:"6111234",IT:"3123456789",JE:"7797712345",JM:"8762101234",JO:"790123456",JP:"9012345678",KE:"712123456",KG:"700123456",KH:"91234567",KI:"72001234",KM:"3212345",KN:"8697652917",KP:"1921234567",KR:"1020000000",KW:"50012345",KY:"3453231234",KZ:"7710009998",LA:"2023123456",LB:"71123456",LC:"7582845678",LI:"660234567",LK:"712345678",LR:"770123456",LS:"50123456",LT:"61234567",LU:"628123456",LV:"21234567",LY:"912345678",MA:"650123456",MC:"612345678",MD:"62112345",ME:"60123456",MF:"690001234",MG:"321234567",MH:"2351234",MK:"72345678",ML:"65012345",MM:"92123456",MN:"88123456",MO:"66123456",MP:"6702345678",MQ:"696201234",MR:"22123456",MS:"6644923456",MT:"96961234",MU:"52512345",MV:"7712345",MW:"991234567",MX:"2221234567",MY:"123456789",MZ:"821234567",NA:"811234567",NC:"751234",NE:"93123456",NF:"381234",NG:"8021234567",NI:"81234567",NL:"612345678",NO:"40612345",NP:"9841234567",NR:"5551234",NU:"8884012",NZ:"211234567",OM:"92123456",PA:"61234567",PE:"912345678",PF:"87123456",PG:"70123456",PH:"9051234567",PK:"3012345678",PL:"512345678",PM:"551234",PR:"7872345678",PS:"599123456",PT:"912345678",PW:"6201234",PY:"961456789",QA:"33123456",RE:"692123456",RO:"712034567",RS:"601234567",RU:"9123456789",RW:"720123456",SA:"512345678",SB:"7421234",SC:"2510123",SD:"911231234",SE:"701234567",SG:"81234567",SH:"51234",SI:"31234567",SJ:"41234567",SK:"912123456",SL:"25123456",SM:"66661212",SN:"701234567",SO:"71123456",SR:"7412345",SS:"977123456",ST:"9812345",SV:"70123456",SX:"7215205678",SY:"944567890",SZ:"76123456",TA:"8999",TC:"6492311234",TD:"63012345",TG:"90112345",TH:"812345678",TJ:"917123456",TK:"7290",TL:"77212345",TM:"66123456",TN:"20123456",TO:"7715123",TR:"5012345678",TT:"8682911234",TV:"901234",TW:"912345678",TZ:"621234567",UA:"501234567",UG:"712345678",US:"2015550123",UY:"94231234",UZ:"912345678",VA:"3123456789",VC:"7844301234",VE:"4121234567",VG:"2843001234",VI:"3406421234",VN:"912345678",VU:"5912345",WF:"821234",WS:"7212345",XK:"43201234",YE:"712345678",YT:"639012345",ZA:"711234567",ZM:"955123456",ZW:"712345678"},fj={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:48|5[0-3579]|[6-9])|7(?:20|32|8)|[89]","(?:31|4)6|51|6(?:485|5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:2(?:(?:[0-26-9]\\d|3[0-8]|5[0135-9])\\d|4(?:[02-9]\\d|10))|3(?:(?:[0-3589]\\d|6[1-9]|7[0-35-9])\\d|4(?:[0-578]\\d|90))|7(?:[013-57-9]\\d|2[0-8])\\d)\\d\\d|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4])|[34]\\d\\d)|(?:6[0-8]|[78]\\d)\\d{3}|9(?:[02-9]\\d{3}|1(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79])))))\\d{3}",[9]],["4(?:79[01]|83[0-36-9])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|2[23]"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","(?:[025-7]\\d|44)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[024-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[02-4679]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","(?:01\\d|[24-689])\\d{7}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["0"]]]],BL:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|3[3-7]|5[12]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","8001\\d{5}|(?:[2-467]\\d|50)\\d{6}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[235]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","[1-467]\\d{9,10}|55[0-46-9]\\d{8}|[34]\\d{7}|55\\d{7,8}|(?:5[0-46-9]|[89]\\d)\\d{7,9}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37|86)","300|4(?:0(?:0|20)|370|864)"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242"],BT:["975","00","[178]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-6]|7[246]|8[2-4]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|[78]"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","[2-9]\\d{9}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|5[07]|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|7[39])|9(?:0[25]|42))[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:2[125-9]|33|44|66|77|88)|6(?:22|33))[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:79[01]|83[0-36-9])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","(?:(?:[189]|5\\d)\\d|2)\\d{7}|[1-68]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["5"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["60|809"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9(?:10|[2-9])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-8]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","(?:(?:1[03-689]|2\\d)\\d\\d|6)\\d{8}|1\\d{10}|[126]\\d{6}(?:\\d(?:\\d{2})?)?|86\\d{5,6}|(?:[3-579]\\d|8[0-57-9])\\d{5,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]|3(?:[157]|35|49|9[1-68])|4(?:1[124-9]|2[179]|6[47-9]|7|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:07|1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3|4[13]|5[1-5]|7[0-79]|9[0-35-9])|(?:4[35]|59|85)[1-9]","(?:10|2[0-57-9])(?:1[02]|9[56])|8078|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))1","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|80781|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))12","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|807812|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:078|1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:46|60\\d\\d)\\d{6}|(?:1\\d|[39])\\d{9}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["46"]],["(\\d{3})(\\d{7})","$1 $2",["6|90"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|9[14]"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","(?:[2-7]|8\\d\\d)\\d{7}|[2-47]\\d{6}|[34]\\d{5}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["[56]"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:79[01]|83[0-36-9])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9,10,11,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[03568]","15(?:[0568]|3[13])"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{8})","$1 $2",["1"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d{5})","$1",["20[2-59]"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[68])0|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"],["(\\d)(\\d{4,9})","$1 $2",["(?:19|[2568])[1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,"0|180020",0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0-5])|4(?:(?:[0-5]\\d|70)\\d|69[7-9])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|5[01]))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-3]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","(?:[56]94\\d|7093)\\d{5}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0|180020","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","80\\d{6}|(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-8]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:[2-8]\\d{3}|9008)\\d{3}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","[2-69]\\d{8}|80\\d{5,7}|[1-79]\\d{7}|6\\d{6}",[7,8,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6|7[245]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","[2-589]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","00[1-9]\\d{9,14}|(?:[1-36]|8\\d{5})\\d{6}|00\\d{9}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13,14,15,16,17],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0|180020","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|83)|73179|807(?:1|9[1-3])|(?:1552|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[124-6])\\d|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,11}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:43|55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11,12],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]|43"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[03]"]]],0,0,0,0,0,0,[["0(?:669[0-79]\\d{1,6}|831\\d{2,8})|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[2356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}"],["3[2-9]\\d{7,8}|(?:31|43)\\d{8}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],["3[2-8]\\d{9,10}",[11,12]],0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0|180020","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97\\d))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|427|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[47]"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[25-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]","3|4(?:2(?:0|9[02-69])|7(?:0[019]|1))|6[1-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[25-9]"],"0$1"]],"0",0,"(000[2569]\\d{4,6})$|(?:(?:003768)0?)|0","$1"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|[235-9]\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[36]0|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33622|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["3"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-6]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[2457]\\d|33|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["4[67]|[56]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(0-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"0 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(0-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(0-$1)",1]],"0",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|78|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2679]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:2[2-46-9]|3[3-9]|9)|8(?:0[89]|92)"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:2(?:[0-25-79]\\d|3[1-578]|4[02-46-8]|8[0235-7])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[014-9]|9[3-9])|(?:4[067]|5[03])\\d)\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[0167]\\d|2[0-8]|5[0-5]|8[0-7]))\\d{6}"],["80[0-7]\\d{6}"],["89\\d{7}"],0,0,0,0,["(?:592(?:4[0-2]|93)|80[89]\\d\\d)\\d{4}"]]],MC:["377","00","(?:[3489]|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["4(?:[2-46]|5[3-5])|5|6(?:[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-5]|(?:60|86)[23]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|452|678|86","[12]|452|6788|86"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670"],MQ:["596","00","(?:596\\d|7091)\\d{5}|(?:69|[89]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]|8(?:0[6-9]|[36])"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","[2-9]\\d{9}",[10],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"]]],0,0,0,0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[0467]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","(?:20|9\\d)\\d{8}|[78]\\d{9,13}",[10,11,12,13,14],[["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["20[129]"],"0$1"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:222|444|(?:55|8\\d)\\d|666|777|999)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[24-9]"]]]],NU:["683","00","(?:[4-7]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}|(?:708|8\\d\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[136]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","709\\d{6}|(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\d\\d|3(?:0\\d|1[0-6]))\\d{4}"],["(?:69(?:2\\d\\d|3(?:[06][0-6]|1[0-3]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))|7092[0-3])\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,["9(?:399[0-3]|479[0-6]|76(?:2[278]|3[0-37]))\\d{4}"],["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[236-8]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,0,[["336(?:[013-9]\\d|2[013-9])\\d{5}|(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15-7]|6[0-35-79]|7[1-37-9]))\\d{7}",[10]],["9\\d{9}",[10]],["8(?:0[04]|108\\d{3})\\d{7}"],["80[39]\\d{7}",[10]],["808\\d{7}",[10]]],"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0"],SA:["966","00","(?:[15]\\d|800|92)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","[6-9]\\d{6}|[1-6]\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["6[89]|7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","(?:[2489]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10,12],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-9]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|7[67]|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|[6-8]\\d|90)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-9]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[267]\\d{7}|(?:80\\d|900)\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[267]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721"],SY:["963","00","[1-359]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-4]|5[1-3]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[59]"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649"],TD:["235","00|16","(?:22|30|[689]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[236-9]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","[0-57-9]\\d{8}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3(?:[1245]|3[12])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[0-57-9]"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","(?:[1-6]\\d|71)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["[67]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["3052(?:0[0-8]|[1-9]\\d)\\d{4}|(?:2742|305[3-9])\\d{6}|(?:472|983)[2-47-9]\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[1459]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-47-9]|1[02-9]|2[013-79]|3[0-24679]|4[167]|5[0-2]|6[01349]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[0156]|5[01679]|6[0-279]|78|8[0-269])|7(?:0[1-46-8]|1[2-9]|2[04-8]|3[0-247]|4[0378]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[0168]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-3589]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"],0,0,0,["305209\\d{4}"]]],UY:["598","0(?:0|1[3-9]\\d)","0004\\d{2,9}|[1249]\\d{7}|2\\d{3,4}|(?:[49]\\d|80)\\d{5}",[4,5,6,7,8,9,10,11,12,13],[["(\\d{4,5})","$1",["21"]],["(\\d{3})(\\d{3,4})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","00","(?:20|33|[5-9]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-9]"]]]],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11,12],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72|8\\d{4})\\d{4}|[89]\\d{5}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[47-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","2\\d{7,8}|3\\d{7,11}|(?:4\\d\\d|[89]00)\\d{5}",[8,9,10,11,12],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2|39"],"0$1"],["(\\d{2})(\\d{7,10})","$1 $2",["3"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","7093\\d{5}|(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,0,[["269(?:0[0-467]|15|5[0-4]|6\\d|[78]0)\\d{4}"],["(?:639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])|7093[5-7])\\d{4}"],["80\\d{7}"],0,0,0,0,0,["9(?:(?:39|47)8[01]|769\\d)\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|[579]\\d|63)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[579]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[235-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"],0,0,0,0,0,0,["2\\d{8}",[9]]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"6\\d{9}|[0-36-9]\\d{8}",[9,10],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\d)(\\d{3})(\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\d{9}|[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,["348[57]\\d{7}",[11]],0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};function Zw(t,e){var n=Array.prototype.slice.call(e);return n.push(fj),t.apply(this,n)}function tde(){return Zw(cae,arguments)}function Cg(t){return yU.call(this,t,fj)}Cg.prototype=Object.create(yU.prototype,{});Cg.prototype.constructor=Cg;function nde(){return Zw(Ioe,arguments)}function bS(){return Zw(Uw,arguments)}function rde(){return Zw(Roe,arguments)}const ey=(t,e)=>tde(String(t),e),jb=(t,e)=>`+${bS(e)} ${t}`,ide=t=>`*${t.replaceAll("-","").slice(-4)}`,sde=t=>new Cg(t),ade=nde().map((t=>({code:t,callCode:bS(t)}))),ode=t=>{let e=rde(t,ede)?.formatInternational();return e?.substring(e.indexOf(" ")+1)},lde=t=>{let e=new Cg;e.input(t);let n=e.getCountry()||"US",i=e.getCallingCode()||"1";return{countryCode:n,phone:t.replace("+"+i,"")}},ude=(t,e=!0)=>t.reduce(((n,i)=>({...n,[i]:e})),{}),cde={[Ea.id]:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",[mS.id]:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",[ou.id]:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",[vS.id]:"0x5fd84259d66Cd46123540766Be93DFE6D43130D7",[Sa.id]:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",[gS.id]:"0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582",[po.id]:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",[pS.id]:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",[fo.id]:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",[fS.id]:"0x5425890298aed601595a70ab815c96711a31bc65",[ho.id]:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",[hS.id]:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"};let dde=new Set([Ea.id,po.id,ou.id,Sa.id,ho.id,fo.id]),hde=new Set([Ea.id,po.id,Sa.id,ou.id,ho.id,fo.id]),fde={buy:"CARD",send:"CRYPTO_ACCOUNT"},pde={USDC:"2b92315d-eab7-5bef-84fa-089a131333f5",ETH:"d85dce9b-5b73-5c3c-8978-522ce1d1c1b4",BTC:"5b71fc48-3dd3-540c-809b-f8c94d0e68b5",SOL:"4f039497-3af8-5bb3-951c-6df9afa9be1c",POL:"026bcc1e-9163-591c-a709-34dd18b2e7a1"};Ea.id+"",po.id+"",ou.id+"",Sa.id+"",ho.id+"",fo.id+"";function vde({appId:t,input:e,amount:n,blockchain:i,asset:f,experience:b}){let s=new URL("https://pay.coinbase.com/buy/select-asset");return s.searchParams.set("appId",e.app_id),s.searchParams.set("sessionToken",e.session_token),s.searchParams.set("endPartnerName",`privy:${t}`),s.searchParams.set("defaultExperience",b),s.searchParams.set("presetCryptoAmount",n.startsWith(".")?`0${n}`:n),s.searchParams.set("defaultNetwork",i),s.searchParams.set("defaultPaymentMethod",fde[b]),s.searchParams.set("defaultAsset",pde[f]),s.searchParams.set("partnerUserId",e.partner_user_id),{url:s}}const gde=(t,e)=>{switch(e){case"native-currency":return dde.has(t);case"USDC":return hde.has(t);default:return console.warn("Unknown asset passed to Coinbase Onramp"),!1}};function mde(t,e){return t===Sa.id?"POL":"ETH"}function WR(t){return t?`${t.slice(0,5)}${t.slice(-4)}`:""}function yde({wei:t,precision:e=3}){return parseFloat(Yd(t)).toFixed(e).replace(/0+$/,"").replace(/\.$/,"")}function aC({amount:t,decimals:e}){return as(BigInt(t),e)}function Wr(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var wde=0;function pj(t){return"__private_"+wde+++"_"+t}var Dn=pj("_wallet"),Ss=pj("_account");let vj=class{get standardWallet(){return Wr(this,Dn)[Dn]}get address(){return Wr(this,Ss)[Ss].address}async disconnect(){if(!Wr(this,Dn)[Dn].features["standard:disconnect"]?.disconnect)throw Error("Wallet does not support disconnect");await Wr(this,Dn)[Dn].features["standard:disconnect"].disconnect()}async signMessage(...e){if(!Wr(this,Dn)[Dn].features["solana:signMessage"]?.signMessage)throw Error("Wallet does not support signMessage");let n=await Wr(this,Dn)[Dn].features["solana:signMessage"].signMessage(...e.map((i=>({...i,account:Wr(this,Ss)[Ss]}))));return e.length===1?n[0]:[...n]}async signTransaction(...e){if(!Wr(this,Dn)[Dn].features["solana:signTransaction"]?.signTransaction)throw Error("Wallet does not support signTransaction");let n=await Wr(this,Dn)[Dn].features["solana:signTransaction"].signTransaction(...e.map((i=>({...i,account:Wr(this,Ss)[Ss]}))));return e.length===1?n[0]:[...n]}async signAndSendTransaction(...e){if(!Wr(this,Dn)[Dn].features["solana:signAndSendTransaction"]?.signAndSendTransaction)throw Error("Wallet does not support signAndSendTransaction");let n=await Wr(this,Dn)[Dn].features["solana:signAndSendTransaction"].signAndSendTransaction(...e.map((i=>({...i,account:Wr(this,Ss)[Ss]}))));return e.length===1?n[0]:[...n]}async signAndSendAllTransactions(e){if(!Wr(this,Dn)[Dn].features["solana:signAndSendTransaction"]?.signAndSendTransaction)throw Error("Wallet does not support signAndSendTransaction");return[...await Wr(this,Dn)[Dn].features["solana:signAndSendTransaction"].signAndSendTransaction(...e.map((n=>({...n,account:Wr(this,Ss)[Ss]}))))]}constructor({wallet:e,account:n}){Object.defineProperty(this,Dn,{writable:!0,value:void 0}),Object.defineProperty(this,Ss,{writable:!0,value:void 0}),Wr(this,Dn)[Dn]=e,Wr(this,Ss)[Ss]=n}};const xde=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,bde=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Cde=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Ede(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){Sde(t);return}return e}function Sde(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function nv(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!Cde.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(xde.test(t)||bde.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,Ede)}return JSON.parse(t)}catch(i){if(e.strict)throw i;return t}}const Tde=/#/g,Ade=/&/g,Pde=/\//g,Ide=/=/g,CS=/\+/g,Rde=/%5e/gi,Mde=/%60/gi,Ode=/%7c/gi,Fde=/%20/gi;function $de(t){return encodeURI(""+t).replace(Ode,"|")}function oC(t){return $de(typeof t=="string"?t:JSON.stringify(t)).replace(CS,"%2B").replace(Fde,"+").replace(Tde,"%23").replace(Ade,"%26").replace(Mde,"`").replace(Rde,"^").replace(Pde,"%2F")}function zb(t){return oC(t).replace(Ide,"%3D")}function gj(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function Lde(t){return gj(t.replace(CS," "))}function Dde(t){return gj(t.replace(CS," "))}function Nde(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const i=n.match(/([^=]+)=?(.*)/)||[];if(i.length<2)continue;const f=Lde(i[1]);if(f==="__proto__"||f==="constructor")continue;const b=Dde(i[2]||"");e[f]===void 0?e[f]=b:Array.isArray(e[f])?e[f].push(b):e[f]=[e[f],b]}return e}function kde(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${zb(t)}=${oC(n)}`).join("&"):`${zb(t)}=${oC(e)}`:zb(t)}function Bde(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>kde(e,t[e])).filter(Boolean).join("&")}const Ude=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,jde=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,zde=/^([/\\]\s*){2,}[^/\\]/,Wde=/^\.?\//;function mj(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?Ude.test(t):jde.test(t)||(e.acceptRelative?zde.test(t):!1)}function Gde(t="",e){return t.endsWith("/")}function Vde(t="",e){return(Gde(t)?t.slice(0,-1):t)||"/"}function Hde(t="",e){return t.endsWith("/")?t:t+"/"}function Yde(t,e){if(Kde(e)||mj(t))return t;const n=Vde(e);return t.startsWith(n)?t:Jde(n,t)}function Xde(t,e){const n=Qde(t),i={...Nde(n.search),...e};return n.search=Bde(i),_de(n)}function Kde(t){return!t||t==="/"}function Zde(t){return t&&t!=="/"}function Jde(t,...e){let n=t||"";for(const i of e.filter(f=>Zde(f)))if(n){const f=i.replace(Wde,"");n=Hde(n)+f}else n=i;return n}const yj=Symbol.for("ufo:protocolRelative");function Qde(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,c,u=""]=n;return{protocol:c.toLowerCase(),pathname:u,href:c+u,auth:"",host:"",search:"",hash:""}}if(!mj(t,{acceptRelative:!0}))return GR(t);const[,i="",f,b=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,s="",y=""]=b.match(/([^#/?]*)(.*)?/)||[];i==="file:"&&(y=y.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:r,search:o,hash:v}=GR(y);return{protocol:i.toLowerCase(),auth:f?f.slice(0,Math.max(0,f.length-1)):"",host:s,pathname:r,search:o,hash:v,[yj]:!i}}function GR(t=""){const[e="",n="",i=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:i}}function _de(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",i=t.hash||"",f=t.auth?t.auth+"@":"",b=t.host||"";return(t.protocol||t[yj]?(t.protocol||"")+"//":"")+f+b+e+n+i}class wj extends Error{constructor(e,n){super(e,n),this.name="FetchError",n?.cause&&!this.cause&&(this.cause=n.cause)}}function qde(t){const e=t.error?.message||t.error?.toString()||"",n=t.request?.method||t.options?.method||"GET",i=t.request?.url||String(t.request)||"/",f=`[${n}] ${JSON.stringify(i)}`,b=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",s=`${f}: ${b}${e?` ${e}`:""}`,y=new wj(s,t.error?{cause:t.error}:void 0);for(const r of["request","options","response"])Object.defineProperty(y,r,{get(){return t[r]}});for(const[r,o]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(y,r,{get(){return t.response&&t.response[o]}});return y}const ehe=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function VR(t="GET"){return ehe.has(t.toUpperCase())}function the(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const nhe=new Set(["image/svg","application/xml","application/xhtml","application/html"]),rhe=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function ihe(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return rhe.test(e)?"json":nhe.has(e)||e.startsWith("text/")?"text":"blob"}function she(t,e,n,i){const f=ahe(e?.headers??t?.headers,n?.headers,i);let b;return(n?.query||n?.params||e?.params||e?.query)&&(b={...n?.params,...n?.query,...e?.params,...e?.query}),{...n,...e,query:b,params:b,headers:f}}function ahe(t,e,n){if(!e)return new n(t);const i=new n(e);if(t)for(const[f,b]of Symbol.iterator in t||Array.isArray(t)?t:new n(t))i.set(f,b);return i}async function ty(t,e){if(e)if(Array.isArray(e))for(const n of e)await n(t);else await e(t)}const ohe=new Set([408,409,425,429,500,502,503,504]),lhe=new Set([101,204,205,304]);function xj(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:i=globalThis.AbortController}=t;async function f(y){const r=y.error&&y.error.name==="AbortError"&&!y.options.timeout||!1;if(y.options.retry!==!1&&!r){let v;typeof y.options.retry=="number"?v=y.options.retry:v=VR(y.options.method)?0:1;const c=y.response&&y.response.status||500;if(v>0&&(Array.isArray(y.options.retryStatusCodes)?y.options.retryStatusCodes.includes(c):ohe.has(c))){const u=typeof y.options.retryDelay=="function"?y.options.retryDelay(y):y.options.retryDelay||0;return u>0&&await new Promise(l=>setTimeout(l,u)),b(y.request,{...y.options,retry:v-1})}}const o=qde(y);throw Error.captureStackTrace&&Error.captureStackTrace(o,b),o}const b=async function(r,o={}){const v={request:r,options:she(r,o,t.defaults,n),response:void 0,error:void 0};v.options.method&&(v.options.method=v.options.method.toUpperCase()),v.options.onRequest&&await ty(v,v.options.onRequest),typeof v.request=="string"&&(v.options.baseURL&&(v.request=Yde(v.request,v.options.baseURL)),v.options.query&&(v.request=Xde(v.request,v.options.query),delete v.options.query),"query"in v.options&&delete v.options.query,"params"in v.options&&delete v.options.params),v.options.body&&VR(v.options.method)&&(the(v.options.body)?(v.options.body=typeof v.options.body=="string"?v.options.body:JSON.stringify(v.options.body),v.options.headers=new n(v.options.headers||{}),v.options.headers.has("content-type")||v.options.headers.set("content-type","application/json"),v.options.headers.has("accept")||v.options.headers.set("accept","application/json")):("pipeTo"in v.options.body&&typeof v.options.body.pipeTo=="function"||typeof v.options.body.pipe=="function")&&("duplex"in v.options||(v.options.duplex="half")));let c;if(!v.options.signal&&v.options.timeout){const l=new i;c=setTimeout(()=>{const a=new Error("[TimeoutError]: The operation was aborted due to timeout");a.name="TimeoutError",a.code=23,l.abort(a)},v.options.timeout),v.options.signal=l.signal}try{v.response=await e(v.request,v.options)}catch(l){return v.error=l,v.options.onRequestError&&await ty(v,v.options.onRequestError),await f(v)}finally{c&&clearTimeout(c)}if((v.response.body||v.response._bodyInit)&&!lhe.has(v.response.status)&&v.options.method!=="HEAD"){const l=(v.options.parseResponse?"json":v.options.responseType)||ihe(v.response.headers.get("content-type")||"");switch(l){case"json":{const a=await v.response.text(),d=v.options.parseResponse||nv;v.response._data=d(a);break}case"stream":{v.response._data=v.response.body||v.response._bodyInit;break}default:v.response._data=await v.response[l]()}}return v.options.onResponse&&await ty(v,v.options.onResponse),!v.options.ignoreResponseError&&v.response.status>=400&&v.response.status<600?(v.options.onResponseError&&await ty(v,v.options.onResponseError),await f(v)):v.response},s=async function(r,o){return(await b(r,o))._data};return s.raw=b,s.native=(...y)=>e(...y),s.create=(y={},r={})=>xj({...t,...r,defaults:{...t.defaults,...r.defaults,...y}}),s}const R2=(function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")})(),uhe=R2.fetch?(...t)=>R2.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),che=R2.Headers,dhe=R2.AbortController,bj=xj({fetch:uhe,Headers:che,AbortController:dhe});var Pt;let Ai=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,n,i){super(e),n instanceof Error&&(this.cause=n),this.privyErrorCode=i}},Ls=class extends Ai{constructor(e,n,i,f,b,s){super(i,f,b),this.type=e,this.status=n,this.data=s}},ge=class extends Ai{constructor(e,n,i){super(e,n,i),this.type="client_error"}},hhe=class extends ge{constructor(){super("Request timed out",void 0,"client_request_timeout")}},On=class extends Ai{constructor(e,n,i){super(e,n,i),this.type="connector_error"}};const Ht=t=>{if(t instanceof Ai)return t;if(!(t instanceof wj))return kn(t);if(!t.response)return new Ls("api_error",null,t.message,t);let{type:e,message:n,error:i,code:f}=t.data;return new Ls(e||"ApiError",t.response.status,n||i,t,f,t.data)},kn=t=>t instanceof Ai?t:t instanceof Error?new ge(t.message,t):new ge(`Internal error: ${t}`);var we=((Pt={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",Pt.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",Pt.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",Pt.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",Pt.INVALID_DATA="invalid_data",Pt.INVALID_CAPTCHA="invalid_captcha",Pt.LINKED_TO_ANOTHER_USER="linked_to_another_user",Pt.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",Pt.FAILED_TO_LINK_ACCOUNT="failed_to_link_account",Pt.FAILED_TO_UPDATE_ACCOUNT="failed_to_update_account",Pt.USER_EXITED_UPDATE_FLOW="exited_update_flow",Pt.ALLOWLIST_REJECTED="allowlist_rejected",Pt.OAUTH_USER_DENIED="oauth_user_denied",Pt.OAUTH_UNEXPECTED="oauth_unexpected",Pt.UNKNOWN_AUTH_ERROR="unknown_auth_error",Pt.USER_EXITED_AUTH_FLOW="exited_auth_flow",Pt.USER_EXITED_LINK_FLOW="exited_link_flow",Pt.USER_EXITED_SET_PASSWORD_FLOW="user_exited_set_password_flow",Pt.MUST_BE_AUTHENTICATED="must_be_authenticated",Pt.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",Pt.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",Pt.CLIENT_REQUEST_TIMEOUT="client_request_timeout",Pt.INVALID_CREDENTIALS="invalid_credentials",Pt.MISSING_MFA_CREDENTIALS="missing_or_invalid_mfa",Pt.UNKNOWN_MFA_ERROR="unknown_mfa_error",Pt.EMBEDDED_WALLET_ALREADY_EXISTS="embedded_wallet_already_exists",Pt.EMBEDDED_WALLET_NOT_FOUND="embedded_wallet_not_found",Pt.EMBEDDED_WALLET_CREATE_ERROR="embedded_wallet_create_error",Pt.UNKNOWN_EMBEDDED_WALLET_ERROR="unknown_embedded_wallet_error",Pt.EMBEDDED_WALLET_PASSWORD_UNCONFIRMED="embedded_wallet_password_unconfirmed",Pt.EMBEDDED_WALLET_PASSWORD_ALREADY_EXISTS="embedded_wallet_password_already_exists",Pt.EMBEDDED_WALLET_RECOVERY_ALREADY_EXISTS="embedded_wallet_recovery_already_exists",Pt.TRANSACTION_FAILURE="transaction_failure",Pt.UNSUPPORTED_CHAIN_ID="unsupported_chain_id",Pt.NOT_SUPPORTED="not_supported",Pt.CAPTCHA_TIMEOUT="captcha_timeout",Pt.INVALID_MESSAGE="invalid_message",Pt.UNABLE_TO_SIGN="unable_to_sign",Pt.CAPTCHA_FAILURE="captcha_failure",Pt.CAPTCHA_DISABLED="captcha_disabled",Pt.SESSION_STORAGE_UNAVAILABLE="session_storage_unavailable",Pt.TOO_MANY_REQUESTS="too_many_requests",Pt.USER_LIMIT_REACHED="max_accounts_reached",Pt.DISALLOWED_LOGIN_METHOD="disallowed_login_method",Pt.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",Pt.PASSKEY_NOT_ALLOWED="passkey_not_allowed",Pt.USER_DOES_NOT_EXIST="user_does_not_exist",Pt.INSUFFICIENT_BALANCE="insufficient_balance",Pt.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",Pt.BUFFER_NOT_DEFINED="buffer_not_defined",Pt.UNSUPPORTED_WALLET_TYPE="unsupported_wallet_type",Pt);let Wc=class extends ge{constructor(){super("Method called before `ready`. Ensure you wait until `ready` is true before calling.")}},ic=class extends ge{constructor(e="Embedded wallet error",n){super(e,n,"unknown_embedded_wallet_error")}},fhe=class extends ge{constructor(e="User must be authenticated"){super(e,void 0,"must_be_authenticated")}},cm=class extends ge{constructor(e){super("This application is in development mode and must be upgraded to production to log in new users.",e,"max_accounts_reached")}};const Cj="/api/v1/sessions",Ej="/api/v1/sessions/logout",phe="/api/v1/siwe/init",vhe="/api/v1/siwe/authenticate",ghe="/api/v1/siwe/link",mhe="/api/v1/siwe/link_smart_wallet",yhe="/api/v1/siwe/unlink",whe="/api/v1/siwe/transfer",xhe="/api/v1/siws/init",bhe="/api/v1/siws/authenticate",Che="/api/v1/siws/link",Ehe="/api/v1/siws/unlink",She="/api/v1/siws/transfer",The="/api/v1/farcaster/init",Ahe="/api/v1/farcaster/authenticate",Phe="/api/v1/farcaster/link",Ihe="/api/v1/farcaster/status",Rhe="/api/v1/farcaster/unlink",Mhe="/api/v1/farcaster/transfer",Ohe="/api/v1/passwordless/init",Fhe="/api/v1/passwordless/authenticate",$he="/api/v1/passwordless/link",Lhe="/api/v1/passwordless/unlink",Dhe="/api/v1/passwordless/update",Nhe="/api/v1/passwordless/transfer",khe="/api/v1/passwordless_sms/init",Bhe="/api/v1/passwordless_sms/link",Uhe="/api/v1/passwordless_sms/unlink",jhe="/api/v1/passwordless_sms/authenticate",zhe="/api/v1/passwordless_sms/update",Whe="/api/v1/passwordless_sms/transfer",Sj="/api/v1/oauth/init",Tj="/api/v1/oauth/authenticate",Aj="/api/v1/oauth/link",Ghe="/api/v1/oauth/unlink",Vhe="/api/v1/oauth/transfer",Hhe="/api/v1/recovery/oauth/init",Yhe="/api/v1/recovery/oauth/init_icloud",Xhe="/api/v1/recovery/oauth/authenticate",Khe="/api/v1/passkeys/link/init",Zhe="/api/v1/passkeys/authenticate/init",Jhe="/api/v1/passkeys/register/init",Qhe="/api/v1/passkeys/link",_he="/api/v1/passkeys/authenticate",qhe="/api/v1/passkeys/register",efe="/api/v1/telegram/authenticate",tfe="/api/v1/telegram/link",nfe="/api/v1/telegram/unlink",rfe="/api/v1/telegram/transfer",ife="/api/v1/mfa/passwordless_sms/init",sfe="/api/v1/mfa/passkeys/init",afe="/api/v1/users/me/accept_terms",Pj="/api/v1/analytics_events",ofe="/api/v1/custom_jwt_account/authenticate",lfe="/api/v1/custom_jwt_account/link",ufe="/api/v1/guest/authenticate",cfe="/api/v1/plugins/moonpay_on_ramp/sign",dfe="/api/v1/funding/coinbase_on_ramp/init",hfe="/api/v1/funding/coinbase_on_ramp/status",ffe="/api/v1/wallets/revoke",pfe="/api/v1/users/me",vfe="/api/v1/scan/transaction";/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gfe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ij=(...t)=>t.filter((e,n,i)=>!!e&&i.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mfe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yfe=H.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:f="",children:b,iconNode:s,...y},r)=>H.createElement("svg",{ref:r,...mfe,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:Ij("lucide",f),...y},[...s.map(([o,v])=>H.createElement(o,v)),...Array.isArray(b)?b:[b]]));/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=(t,e)=>{const n=H.forwardRef(({className:i,...f},b)=>H.createElement(yfe,{ref:b,iconNode:e,className:Ij(`lucide-${gfe(t)}`,i),...f}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wfe=rr("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xfe=rr("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=rr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=rr("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=rr("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bfe=rr("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cfe=rr("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=rr("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Efe=rr("CloudUpload",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=rr("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=rr("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sfe=rr("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=rr("Fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=rr("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=rr("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tfe=rr("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=rr("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Afe=rr("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pfe=rr("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=rr("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ife=rr("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rfe=rr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Oe=()=>{throw Error("You need to wrap your application with the <PrivyProvider> initialized with your app id.")},Oj=H.createContext({setAuthenticated:Oe,setUser:Oe,setIsNewUser:Oe,isNewUserThisSession:!1,walletConnectionStatus:null,setWalletConnectionStatus:Oe,connectors:[],rpcConfig:{rpcUrls:{}},showFiatPrices:!0,chains:[],clientAnalyticsId:null,pendingTransaction:null,client:null,privy:null,appId:"notAdded",onCustomAuthAuthenticated:Oe,hideWalletUIs:{current:!1},nativeTokenSymbolForChainId:Oe,initializeWalletProxy:Oe,getAuthMeta:Oe,getAuthFlow:Oe,closePrivyModal:Oe,openPrivyModal:Oe,connectWallet:Oe,initLoginWithWallet:Oe,loginWithWallet:Oe,initLoginWithFarcaster:Oe,loginWithFarcaster:Oe,loginWithCode:Oe,initLoginWithEmail:Oe,initLoginWithSms:Oe,initUpdateEmail:Oe,initUpdatePhone:Oe,resendEmailCode:Oe,resendSmsCode:Oe,initLoginWithHeadlessOAuth:Oe,loginWithHeadlessOAuth:Oe,crossAppAuthFlow:Oe,initLoginWithOAuth:Oe,loginWithOAuth:Oe,passkeyAuthState:{status:"initial"},setPasskeyAuthState:Oe,initSignupWithPasskey:Oe,signupWithPasskey:Oe,initLoginWithPasskey:Oe,loginWithPasskey:Oe,initLinkWithPasskey:Oe,linkWithPasskey:Oe,refreshSessionAndUser:Oe,walletProxy:null,createAnalyticsEvent:Oe,acceptTerms:Oe,getUsdTokenPrice:Oe,getUsdPriceForSol:Oe,getSplTokenMetadata:Oe,recoverEmbeddedWallet:Oe,updateWallets:Oe,fundWallet:Oe,openModal:Oe,setReadyToTrue:Oe,requestFarcasterSignerStatus:Oe,initLoginWithTelegram:Oe,loginWithTelegram:Oe,generateSiweMessage:Oe,generateSiweMessageForSmartWallet:Oe,loginWithSiwe:Oe,linkWithSiwe:Oe,linkSmartWallet:Oe,delegateWallet:Oe,revokeDelegatedWallets:Oe,connectCoinbaseSmartWallet:Oe,connectBaseAccount:Oe,initiateAccountTransfer:Oe,emailOtpState:{status:"initial"},setEmailOtpState:Oe,smsOtpState:{status:"initial"},setSmsOtpState:Oe,siweState:{status:"initial"},setSiweState:Oe,oAuthState:{status:"initial"},setOAuthState:Oe,telegramAuthState:{status:"initial"},setTelegramAuthState:Oe,isHeadlessOAuthLoading:!1,isHeadlessSigning:Oe,inProgressAuthFlowRef:{current:null},inProgressLoginOrLinkMethodRef:{current:null},baseAccountSdk:void 0,setBaseAccountSdk:Oe}),et=()=>H.useContext(Oj);function hm(t){return typeof t=="string"&&/^custom:[a-zA-Z0-9_-]+$/i.test(t)}function Dt(t){return t?new Date(1e3*t):null}function qr(t,e){return t.slice().sort(((n,i)=>(n.firstVerifiedAt?.getTime()??0)-(i.firstVerifiedAt?.getTime()??0))).find((n=>n.type===e))}const zo=t=>t?Fj(t).find((e=>e.walletIndex===0))??null:null,Fj=t=>t?$j(t,"ethereum"):[],$j=(t,e)=>t.linkedAccounts.filter((n=>n.type==="wallet"&&n.walletClientType==="privy"&&!n.imported&&n.chainType===e)),Mfe=t=>t?$j(t,"solana"):[],_w=t=>t?Mfe(t).find((e=>e.walletIndex===0))??null:null,uC=t=>(t?.linkedAccounts??[]).filter((e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.imported&&e.chainType==="ethereum")),Ofe=t=>(t?.linkedAccounts??[]).filter((e=>e.type==="wallet"&&e.imported&&e.walletClientType==="privy"&&e.chainType==="solana"));let Lj=(t,e)=>t===e||!(!t.startsWith("0x")||!e.startsWith("0x"))&&yr(t)===yr(e);const kl=(t,e)=>t?.linkedAccounts.find((n=>n.type==="wallet"&&n.walletClientType==="privy"&&Lj(n.address,e)))||null,Wb=(t,e)=>t.find((n=>Lj(n.address,e)))||null,io=t=>zo(t)??_w(t);function si(t){if(!t)return null;let e=(function(x){let w=[];for(let C of x){let E=C.type;switch(C.type){case"wallet":let T={id:C.id,address:C.address,type:C.type,imported:C.imported,delegated:C.delegated,firstVerifiedAt:Dt(C.first_verified_at),latestVerifiedAt:Dt(C.latest_verified_at),chainType:C.chain_type,walletClientType:C.wallet_client_type,connectorType:C.connector_type,recoveryMethod:C.recovery_method,walletIndex:C.wallet_index,publicKey:C.public_key};w.push(T);break;case"smart_wallet":let S={address:C.address,type:C.type,firstVerifiedAt:Dt(C.first_verified_at),latestVerifiedAt:Dt(C.latest_verified_at),smartWalletType:C.smart_wallet_type,smartWalletVersion:C.smart_wallet_version};w.push(S);break;case"cross_app":let A={type:C.type,subject:C.subject,embeddedWallets:C.embedded_wallets,smartWallets:C.smart_wallets,providerApp:{id:C.provider_app_id},firstVerifiedAt:Dt(C.first_verified_at),latestVerifiedAt:Dt(C.latest_verified_at)};w.push(A);break;case"email":let P={address:C.address,type:C.type,firstVerifiedAt:Dt(C.first_verified_at),latestVerifiedAt:Dt(C.latest_verified_at)};w.push(P);break;case"phone":let R={number:C.phoneNumber,type:C.type,firstVerifiedAt:Dt(C.first_verified_at),latestVerifiedAt:Dt(C.latest_verified_at)};w.push(R);break;case"google_oauth":let L={subject:C.subject,email:C.email,name:C.name,type:C.type,firstVerifiedAt:Dt(C.first_verified_at),latestVerifiedAt:Dt(C.latest_verified_at)};w.push(L);break;case"spotify_oauth":let D={subject:C.subject,email:C.email,name:C.name,type:C.type,firstVerifiedAt:Dt(C.first_verified_at),latestVerifiedAt:Dt(C.latest_verified_at)};w.push(D);break;case"instagram_oauth":let F={subject:C.subject,username:C.username,type:C.type,firstVerifiedAt:Dt(C.first_verified_at),latestVerifiedAt:Dt(C.latest_verified_at)};w.push(F);break;case"twitter_oauth":let $={subject:C.subject,username:C.username,name:C.name,type:C.type,profilePictureUrl:C.profile_picture_url,firstVerifiedAt:Dt(C.first_verified_at),latestVerifiedAt:Dt(C.latest_verified_at)};w.push($);break;case"discord_oauth":let N={subject:C.subject,username:C.username,email:C.email,type:C.type,firstVerifiedAt:Dt(C.first_verified_at),latestVerifiedAt:Dt(C.latest_verified_at)};w.push(N);break;case"github_oauth":let k={subject:C.subject,username:C.username,name:C.name,email:C.email,type:C.type,firstVerifiedAt:Dt(C.first_verified_at),latestVerifiedAt:Dt(C.latest_verified_at)};w.push(k);break;case"tiktok_oauth":let j={subject:C.subject,username:C.username,name:C.name,type:C.type,firstVerifiedAt:Dt(C.first_verified_at),latestVerifiedAt:Dt(C.latest_verified_at)};w.push(j);break;case"line_oauth":let W={subject:C.subject,name:C.name,email:C.email,profilePictureUrl:C.profile_picture_url,type:C.type,firstVerifiedAt:Dt(C.first_verified_at),latestVerifiedAt:Dt(C.latest_verified_at)};w.push(W);break;case"twitch_oauth":let G={subject:C.subject,username:C.username,type:C.type,firstVerifiedAt:Dt(C.first_verified_at),latestVerifiedAt:Dt(C.latest_verified_at)};w.push(G);break;case"linkedin_oauth":let K={subject:C.subject,name:C.name,email:C.email,vanityName:C.vanity_name,type:C.type,firstVerifiedAt:Dt(C.first_verified_at),latestVerifiedAt:Dt(C.latest_verified_at)};w.push(K);break;case"apple_oauth":let z={subject:C.subject,email:C.email,type:C.type,firstVerifiedAt:Dt(C.first_verified_at),latestVerifiedAt:Dt(C.latest_verified_at)};w.push(z);break;case"custom_auth":w.push({type:C.type,customUserId:C.custom_user_id,firstVerifiedAt:Dt(C.first_verified_at),latestVerifiedAt:Dt(C.latest_verified_at)});break;case"farcaster":let X={type:C.type,fid:C.fid,ownerAddress:C.owner_address,displayName:C.display_name,username:C.username,bio:C.bio,pfp:C.profile_picture_url,url:C.homepage_url,firstVerifiedAt:Dt(C.first_verified_at),latestVerifiedAt:Dt(C.latest_verified_at),signerPublicKey:C.signer_public_key};w.push(X);break;case"passkey":let U={type:C.type,enrolledInMfa:C.enrolled_in_mfa,credentialId:C.credential_id,publicKey:C.public_key,authenticatorName:C.authenticator_name,createdWithDevice:C.created_with_device,createdWithOs:C.created_with_os,createdWithBrowser:C.created_with_browser,firstVerifiedAt:Dt(C.first_verified_at),latestVerifiedAt:Dt(C.latest_verified_at)};w.push(U);break;case"telegram":let Z={type:C.type,telegramUserId:C.telegram_user_id,firstName:C.first_name,lastName:C.last_name,username:C.username,photoUrl:C.photo_url,firstVerifiedAt:Dt(C.first_verified_at),latestVerifiedAt:Dt(C.latest_verified_at)};w.push(Z);break;default:if(hm(C.type)){let V={type:C.type,subject:C.subject,name:C.name,username:C.username,email:C.email,profilePictureUrl:C.profile_picture_url,firstVerifiedAt:Dt(C.first_verified_at),latestVerifiedAt:Dt(C.latest_verified_at)};w.push(V);break}console.warn(`Unrecognized account type: ${E}. Please consider upgrading the Privy SDK.`)}}return w})(t.linked_accounts),n=qr(e,"wallet"),i=qr(e,"smart_wallet"),f=qr(e,"email"),b=qr(e,"phone"),s=qr(e,"google_oauth"),y=qr(e,"twitter_oauth"),r=qr(e,"discord_oauth"),o=qr(e,"github_oauth"),v=qr(e,"spotify_oauth"),c=qr(e,"instagram_oauth"),u=qr(e,"tiktok_oauth"),l=qr(e,"line_oauth"),a=qr(e,"twitch_oauth"),d=qr(e,"linkedin_oauth"),p=qr(e,"apple_oauth"),h=qr(e,"farcaster"),g=qr(e,"telegram"),m=t.mfa_methods.map((({type:x,verified_at:w})=>({type:x,verifiedAt:Dt(w)})));return{id:t.id,createdAt:Dt(t.created_at),linkedAccounts:e,email:f&&{address:f?.address},phone:b&&{number:b?.number},wallet:n&&{id:n.id,address:n.address,chainType:n.chainType,walletClientType:n.walletClientType,connectorType:n.connectorType,recoveryMethod:n.recoveryMethod,imported:n.imported,delegated:n.delegated,walletIndex:n.walletIndex,publicKey:n.publicKey},smartWallet:i&&{address:i.address,smartWalletType:i.smartWalletType,smartWalletVersion:i.smartWalletVersion},google:s&&{subject:s.subject,email:s.email,name:s.name},twitter:y&&{subject:y.subject,username:y.username,name:y.name,profilePictureUrl:y.profilePictureUrl},discord:r&&{subject:r.subject,username:r.username,email:r.email},github:o&&{subject:o.subject,username:o.username,name:o.name,email:o.email},spotify:v&&{subject:v.subject,email:v.email,name:v.name},instagram:c&&{subject:c.subject,username:c.username},tiktok:u&&{subject:u.subject,username:u.username,name:u.name},line:l&&{subject:l.subject,name:l.name,email:l.email,profilePictureUrl:l.profilePictureUrl},twitch:a&&{subject:a.subject,username:a.username},linkedin:d&&{subject:d.subject,name:d.name,email:d.email,vanityName:d.vanityName},apple:p&&{subject:p.subject,email:p.email},farcaster:h&&{fid:h.fid,ownerAddress:h.ownerAddress,displayName:h.displayName,username:h.username,bio:h.bio,pfp:h.pfp,url:h.url,signerPublicKey:h.signerPublicKey},telegram:g&&{telegramUserId:g.telegramUserId,firstName:g.firstName,lastName:g.lastName,username:g.username,photoUrl:g.photoUrl},delegatedWallets:[],mfaMethods:m.map((x=>x.type)),hasAcceptedTerms:t.has_accepted_terms??!1,isGuest:t.is_guest,customMetadata:t.custom_metadata}}const Ms=t=>!!t.id&&t.recoveryMethod==="privy-v2",Mp=H.createContext({ready:!1,authenticated:!1,user:null,walletConnectors:null,connectWallet:Oe,login:Oe,connectOrCreateWallet:Oe,linkEmail:Oe,linkPhone:Oe,linkFarcaster:Oe,linkWallet:Oe,startCrossAppAuthFlow:Oe,linkGoogle:Oe,linkTwitter:Oe,linkTwitch:Oe,linkDiscord:Oe,linkGithub:Oe,linkSpotify:Oe,linkInstagram:Oe,linkTelegram:Oe,linkTiktok:Oe,linkLine:Oe,linkLinkedIn:Oe,linkApple:Oe,linkPasskey:Oe,updateEmail:Oe,updatePhone:Oe,logout:Oe,getAccessToken:Oe,unlinkEmail:Oe,unlinkPhone:Oe,unlinkWallet:Oe,unlinkGoogle:Oe,unlinkTwitter:Oe,unlinkTwitch:Oe,unlinkDiscord:Oe,unlinkGithub:Oe,unlinkSpotify:Oe,unlinkInstagram:Oe,unlinkTiktok:Oe,unlinkLine:Oe,unlinkLinkedIn:Oe,unlinkApple:Oe,unlinkCrossAppAccount:Oe,unlinkFarcaster:Oe,unlinkTelegram:Oe,unlinkPasskey:Oe,signMessage:Oe,signTypedData:Oe,enrollInMfa:Oe,initEnrollmentWithSms:Oe,initEnrollmentWithTotp:Oe,initEnrollmentWithPasskey:Oe,promptMfa:Oe,init:Oe,submitEnrollmentWithSms:Oe,submitEnrollmentWithTotp:Oe,submitEnrollmentWithPasskey:Oe,unenroll:Oe,submit:Oe,cancel:Oe,sendTransaction:Oe,signTransaction:Oe,exportWallet:Oe,setWalletPassword:Oe,setWalletRecovery:Oe,requestFarcasterSignerFromWarpcast:Oe,getFarcasterSignerPublicKey:Oe,signFarcasterMessage:Oe,signMessageWithCrossAppWallet:Oe,signTypedDataWithCrossAppWallet:Oe,sendTransactionWithCrossAppWallet:Oe,signTransactionWithCrossAppWallet:Oe,isModalOpen:!1,mfaMethods:[]}),Vt=()=>H.useContext(Mp);var Si=function(){return Si=Object.assign||function(e){for(var n,i=1,f=arguments.length;i<f;i++){n=arguments[i];for(var b in n)Object.prototype.hasOwnProperty.call(n,b)&&(e[b]=n[b])}return e},Si.apply(this,arguments)};function lp(t,e,n){if(n||arguments.length===2)for(var i=0,f=e.length,b;i<f;i++)(b||!(i in e))&&(b||(b=Array.prototype.slice.call(e,0,i)),b[i]=e[i]);return t.concat(b||Array.prototype.slice.call(e))}var Nn="-ms-",vv="-moz-",hn="-webkit-",Dj="comm",qw="rule",SS="decl",Ffe="@import",Nj="@keyframes",$fe="@layer",kj=Math.abs,TS=String.fromCharCode,cC=Object.assign;function Lfe(t,e){return Kr(t,0)^45?(((e<<2^Kr(t,0))<<2^Kr(t,1))<<2^Kr(t,2))<<2^Kr(t,3):0}function Bj(t){return t.trim()}function Ll(t,e){return(t=e.exec(t))?t[0]:t}function jt(t,e,n){return t.replace(e,n)}function Wy(t,e,n){return t.indexOf(e,n)}function Kr(t,e){return t.charCodeAt(e)|0}function up(t,e,n){return t.slice(e,n)}function Wo(t){return t.length}function Uj(t){return t.length}function rv(t,e){return e.push(t),t}function Dfe(t,e){return t.map(e).join("")}function HR(t,e){return t.filter(function(n){return!Ll(n,e)})}var ex=1,cp=1,jj=0,ma=0,Cr=0,Op="";function tx(t,e,n,i,f,b,s,y){return{value:t,root:e,parent:n,type:i,props:f,children:b,line:ex,column:cp,length:s,return:"",siblings:y}}function zu(t,e){return cC(tx("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Zh(t){for(;t.root;)t=zu(t.root,{children:[t]});rv(t,t.siblings)}function Nfe(){return Cr}function kfe(){return Cr=ma>0?Kr(Op,--ma):0,cp--,Cr===10&&(cp=1,ex--),Cr}function Xa(){return Cr=ma<jj?Kr(Op,ma++):0,cp++,Cr===10&&(cp=1,ex++),Cr}function md(){return Kr(Op,ma)}function Gy(){return ma}function nx(t,e){return up(Op,t,e)}function dC(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Bfe(t){return ex=cp=1,jj=Wo(Op=t),ma=0,[]}function Ufe(t){return Op="",t}function Gb(t){return Bj(nx(ma-1,hC(t===91?t+2:t===40?t+1:t)))}function jfe(t){for(;(Cr=md())&&Cr<33;)Xa();return dC(t)>2||dC(Cr)>3?"":" "}function zfe(t,e){for(;--e&&Xa()&&!(Cr<48||Cr>102||Cr>57&&Cr<65||Cr>70&&Cr<97););return nx(t,Gy()+(e<6&&md()==32&&Xa()==32))}function hC(t){for(;Xa();)switch(Cr){case t:return ma;case 34:case 39:t!==34&&t!==39&&hC(Cr);break;case 40:t===41&&hC(t);break;case 92:Xa();break}return ma}function Wfe(t,e){for(;Xa()&&t+Cr!==57;)if(t+Cr===84&&md()===47)break;return"/*"+nx(e,ma-1)+"*"+TS(t===47?t:Xa())}function Gfe(t){for(;!dC(md());)Xa();return nx(t,ma)}function Vfe(t){return Ufe(Vy("",null,null,null,[""],t=Bfe(t),0,[0],t))}function Vy(t,e,n,i,f,b,s,y,r){for(var o=0,v=0,c=s,u=0,l=0,a=0,d=1,p=1,h=1,g=0,m="",x=f,w=b,C=i,E=m;p;)switch(a=g,g=Xa()){case 40:if(a!=108&&Kr(E,c-1)==58){Wy(E+=jt(Gb(g),"&","&\f"),"&\f",kj(o?y[o-1]:0))!=-1&&(h=-1);break}case 34:case 39:case 91:E+=Gb(g);break;case 9:case 10:case 13:case 32:E+=jfe(a);break;case 92:E+=zfe(Gy()-1,7);continue;case 47:switch(md()){case 42:case 47:rv(Hfe(Wfe(Xa(),Gy()),e,n,r),r);break;default:E+="/"}break;case 123*d:y[o++]=Wo(E)*h;case 125*d:case 59:case 0:switch(g){case 0:case 125:p=0;case 59+v:h==-1&&(E=jt(E,/\f/g,"")),l>0&&Wo(E)-c&&rv(l>32?XR(E+";",i,n,c-1,r):XR(jt(E," ","")+";",i,n,c-2,r),r);break;case 59:E+=";";default:if(rv(C=YR(E,e,n,o,v,f,y,m,x=[],w=[],c,b),b),g===123)if(v===0)Vy(E,e,C,C,x,b,c,y,w);else switch(u===99&&Kr(E,3)===110?100:u){case 100:case 108:case 109:case 115:Vy(t,C,C,i&&rv(YR(t,C,C,0,0,f,y,m,f,x=[],c,w),w),f,w,c,y,i?x:w);break;default:Vy(E,C,C,C,[""],w,0,y,w)}}o=v=l=0,d=h=1,m=E="",c=s;break;case 58:c=1+Wo(E),l=a;default:if(d<1){if(g==123)--d;else if(g==125&&d++==0&&kfe()==125)continue}switch(E+=TS(g),g*d){case 38:h=v>0?1:(E+="\f",-1);break;case 44:y[o++]=(Wo(E)-1)*h,h=1;break;case 64:md()===45&&(E+=Gb(Xa())),u=md(),v=c=Wo(m=E+=Gfe(Gy())),g++;break;case 45:a===45&&Wo(E)==2&&(d=0)}}return b}function YR(t,e,n,i,f,b,s,y,r,o,v,c){for(var u=f-1,l=f===0?b:[""],a=Uj(l),d=0,p=0,h=0;d<i;++d)for(var g=0,m=up(t,u+1,u=kj(p=s[d])),x=t;g<a;++g)(x=Bj(p>0?l[g]+" "+m:jt(m,/&\f/g,l[g])))&&(r[h++]=x);return tx(t,e,n,f===0?qw:y,r,o,v,c)}function Hfe(t,e,n,i){return tx(t,e,n,Dj,TS(Nfe()),up(t,2,-2),0,i)}function XR(t,e,n,i,f){return tx(t,e,n,SS,up(t,0,i),up(t,i+1,-1),i,f)}function zj(t,e,n){switch(Lfe(t,e)){case 5103:return hn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return hn+t+t;case 4789:return vv+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return hn+t+vv+t+Nn+t+t;case 5936:switch(Kr(t,e+11)){case 114:return hn+t+Nn+jt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return hn+t+Nn+jt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return hn+t+Nn+jt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return hn+t+Nn+t+t;case 6165:return hn+t+Nn+"flex-"+t+t;case 5187:return hn+t+jt(t,/(\w+).+(:[^]+)/,hn+"box-$1$2"+Nn+"flex-$1$2")+t;case 5443:return hn+t+Nn+"flex-item-"+jt(t,/flex-|-self/g,"")+(Ll(t,/flex-|baseline/)?"":Nn+"grid-row-"+jt(t,/flex-|-self/g,""))+t;case 4675:return hn+t+Nn+"flex-line-pack"+jt(t,/align-content|flex-|-self/g,"")+t;case 5548:return hn+t+Nn+jt(t,"shrink","negative")+t;case 5292:return hn+t+Nn+jt(t,"basis","preferred-size")+t;case 6060:return hn+"box-"+jt(t,"-grow","")+hn+t+Nn+jt(t,"grow","positive")+t;case 4554:return hn+jt(t,/([^-])(transform)/g,"$1"+hn+"$2")+t;case 6187:return jt(jt(jt(t,/(zoom-|grab)/,hn+"$1"),/(image-set)/,hn+"$1"),t,"")+t;case 5495:case 3959:return jt(t,/(image-set\([^]*)/,hn+"$1$`$1");case 4968:return jt(jt(t,/(.+:)(flex-)?(.*)/,hn+"box-pack:$3"+Nn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+hn+t+t;case 4200:if(!Ll(t,/flex-|baseline/))return Nn+"grid-column-align"+up(t,e)+t;break;case 2592:case 3360:return Nn+jt(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(i,f){return e=f,Ll(i.props,/grid-\w+-end/)})?~Wy(t+(n=n[e].value),"span",0)?t:Nn+jt(t,"-start","")+t+Nn+"grid-row-span:"+(~Wy(n,"span",0)?Ll(n,/\d+/):+Ll(n,/\d+/)-+Ll(t,/\d+/))+";":Nn+jt(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(i){return Ll(i.props,/grid-\w+-start/)})?t:Nn+jt(jt(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return jt(t,/(.+)-inline(.+)/,hn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Wo(t)-1-e>6)switch(Kr(t,e+1)){case 109:if(Kr(t,e+4)!==45)break;case 102:return jt(t,/(.+:)(.+)-([^]+)/,"$1"+hn+"$2-$3$1"+vv+(Kr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Wy(t,"stretch",0)?zj(jt(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return jt(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(i,f,b,s,y,r,o){return Nn+f+":"+b+o+(s?Nn+f+"-span:"+(y?r:+r-+b)+o:"")+t});case 4949:if(Kr(t,e+6)===121)return jt(t,":",":"+hn)+t;break;case 6444:switch(Kr(t,Kr(t,14)===45?18:11)){case 120:return jt(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+hn+(Kr(t,14)===45?"inline-":"")+"box$3$1"+hn+"$2$3$1"+Nn+"$2box$3")+t;case 100:return jt(t,":",":"+Nn)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return jt(t,"scroll-","scroll-snap-")+t}return t}function F2(t,e){for(var n="",i=0;i<t.length;i++)n+=e(t[i],i,t,e)||"";return n}function Yfe(t,e,n,i){switch(t.type){case $fe:if(t.children.length)break;case Ffe:case SS:return t.return=t.return||t.value;case Dj:return"";case Nj:return t.return=t.value+"{"+F2(t.children,i)+"}";case qw:if(!Wo(t.value=t.props.join(",")))return""}return Wo(n=F2(t.children,i))?t.return=t.value+"{"+n+"}":""}function Xfe(t){var e=Uj(t);return function(n,i,f,b){for(var s="",y=0;y<e;y++)s+=t[y](n,i,f,b)||"";return s}}function Kfe(t){return function(e){e.root||(e=e.return)&&t(e)}}function Zfe(t,e,n,i){if(t.length>-1&&!t.return)switch(t.type){case SS:t.return=zj(t.value,t.length,n);return;case Nj:return F2([zu(t,{value:jt(t.value,"@","@"+hn)})],i);case qw:if(t.length)return Dfe(n=t.props,function(f){switch(Ll(f,i=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Zh(zu(t,{props:[jt(f,/:(read-\w+)/,":"+vv+"$1")]})),Zh(zu(t,{props:[f]})),cC(t,{props:HR(n,i)});break;case"::placeholder":Zh(zu(t,{props:[jt(f,/:(plac\w+)/,":"+hn+"input-$1")]})),Zh(zu(t,{props:[jt(f,/:(plac\w+)/,":"+vv+"$1")]})),Zh(zu(t,{props:[jt(f,/:(plac\w+)/,Nn+"input-$1")]})),Zh(zu(t,{props:[f]})),cC(t,{props:HR(n,i)});break}return""})}}var Jfe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Fs={},dp=typeof process<"u"&&Fs!==void 0&&(Fs.REACT_APP_SC_ATTR||Fs.SC_ATTR)||"data-styled",Wj="active",Gj="data-styled-version",rx="6.1.19",AS=`/*!sc*/
`,$2=typeof window<"u"&&typeof document<"u",Qfe=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Fs!==void 0&&Fs.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Fs.REACT_APP_SC_DISABLE_SPEEDY!==""?Fs.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Fs.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Fs!==void 0&&Fs.SC_DISABLE_SPEEDY!==void 0&&Fs.SC_DISABLE_SPEEDY!==""&&Fs.SC_DISABLE_SPEEDY!=="false"&&Fs.SC_DISABLE_SPEEDY),_fe={},ix=Object.freeze([]),hp=Object.freeze({});function Vj(t,e,n){return n===void 0&&(n=hp),t.theme!==n.theme&&t.theme||e||n.theme}var Hj=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),qfe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,epe=/(^-|-$)/g;function KR(t){return t.replace(qfe,"-").replace(epe,"")}var tpe=/(a)(d)/gi,ny=52,ZR=function(t){return String.fromCharCode(t+(t>25?39:97))};function fC(t){var e,n="";for(e=Math.abs(t);e>ny;e=e/ny|0)n=ZR(e%ny)+n;return(ZR(e%ny)+n).replace(tpe,"$1-$2")}var Vb,Yj=5381,Rf=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},Xj=function(t){return Rf(Yj,t)};function PS(t){return fC(Xj(t)>>>0)}function npe(t){return t.displayName||t.name||"Component"}function Hb(t){return typeof t=="string"&&!0}var Kj=typeof Symbol=="function"&&Symbol.for,Zj=Kj?Symbol.for("react.memo"):60115,rpe=Kj?Symbol.for("react.forward_ref"):60112,ipe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},spe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Jj={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ape=((Vb={})[rpe]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Vb[Zj]=Jj,Vb);function JR(t){return("type"in(e=t)&&e.type.$$typeof)===Zj?Jj:"$$typeof"in t?ape[t.$$typeof]:ipe;var e}var ope=Object.defineProperty,lpe=Object.getOwnPropertyNames,QR=Object.getOwnPropertySymbols,upe=Object.getOwnPropertyDescriptor,cpe=Object.getPrototypeOf,_R=Object.prototype;function Qj(t,e,n){if(typeof e!="string"){if(_R){var i=cpe(e);i&&i!==_R&&Qj(t,i,n)}var f=lpe(e);QR&&(f=f.concat(QR(e)));for(var b=JR(t),s=JR(e),y=0;y<f.length;++y){var r=f[y];if(!(r in spe||n&&n[r]||s&&r in s||b&&r in b)){var o=upe(e,r);try{ope(t,r,o)}catch{}}}}return t}function fp(t){return typeof t=="function"}function IS(t){return typeof t=="object"&&"styledComponentId"in t}function sd(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function L2(t,e){if(t.length===0)return"";for(var n=t[0],i=1;i<t.length;i++)n+=t[i];return n}function Sg(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function pC(t,e,n){if(n===void 0&&(n=!1),!n&&!Sg(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var i=0;i<e.length;i++)t[i]=pC(t[i],e[i]);else if(Sg(e))for(var i in e)t[i]=pC(t[i],e[i]);return t}function RS(t,e){Object.defineProperty(t,"toString",{value:e})}function fm(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var dpe=(function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,i=0;i<e;i++)n+=this.groupSizes[i];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var i=this.groupSizes,f=i.length,b=f;e>=b;)if((b<<=1)<0)throw fm(16,"".concat(e));this.groupSizes=new Uint32Array(b),this.groupSizes.set(i),this.length=b;for(var s=f;s<b;s++)this.groupSizes[s]=0}for(var y=this.indexOfGroup(e+1),r=(s=0,n.length);s<r;s++)this.tag.insertRule(y,n[s])&&(this.groupSizes[e]++,y++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],i=this.indexOfGroup(e),f=i+n;this.groupSizes[e]=0;for(var b=i;b<f;b++)this.tag.deleteRule(i)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var i=this.groupSizes[e],f=this.indexOfGroup(e),b=f+i,s=f;s<b;s++)n+="".concat(this.tag.getRule(s)).concat(AS);return n},t})(),Hy=new Map,D2=new Map,Yy=1,ry=function(t){if(Hy.has(t))return Hy.get(t);for(;D2.has(Yy);)Yy++;var e=Yy++;return Hy.set(t,e),D2.set(e,t),e},hpe=function(t,e){Yy=e+1,Hy.set(t,e),D2.set(e,t)},fpe="style[".concat(dp,"][").concat(Gj,'="').concat(rx,'"]'),ppe=new RegExp("^".concat(dp,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),vpe=function(t,e,n){for(var i,f=n.split(","),b=0,s=f.length;b<s;b++)(i=f[b])&&t.registerName(e,i)},gpe=function(t,e){for(var n,i=((n=e.textContent)!==null&&n!==void 0?n:"").split(AS),f=[],b=0,s=i.length;b<s;b++){var y=i[b].trim();if(y){var r=y.match(ppe);if(r){var o=0|parseInt(r[1],10),v=r[2];o!==0&&(hpe(v,o),vpe(t,v,r[3]),t.getTag().insertRules(o,f)),f.length=0}else f.push(y)}}},qR=function(t){for(var e=document.querySelectorAll(fpe),n=0,i=e.length;n<i;n++){var f=e[n];f&&f.getAttribute(dp)!==Wj&&(gpe(t,f),f.parentNode&&f.parentNode.removeChild(f))}};function mpe(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var _j=function(t){var e=document.head,n=t||e,i=document.createElement("style"),f=(function(y){var r=Array.from(y.querySelectorAll("style[".concat(dp,"]")));return r[r.length-1]})(n),b=f!==void 0?f.nextSibling:null;i.setAttribute(dp,Wj),i.setAttribute(Gj,rx);var s=mpe();return s&&i.setAttribute("nonce",s),n.insertBefore(i,b),i},ype=(function(){function t(e){this.element=_j(e),this.element.appendChild(document.createTextNode("")),this.sheet=(function(n){if(n.sheet)return n.sheet;for(var i=document.styleSheets,f=0,b=i.length;f<b;f++){var s=i[f];if(s.ownerNode===n)return s}throw fm(17)})(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t})(),wpe=(function(){function t(e){this.element=_j(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var i=document.createTextNode(n);return this.element.insertBefore(i,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t})(),xpe=(function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t})(),eM=$2,bpe={isServer:!$2,useCSSOMInjection:!Qfe},N2=(function(){function t(e,n,i){e===void 0&&(e=hp),n===void 0&&(n={});var f=this;this.options=Si(Si({},bpe),e),this.gs=n,this.names=new Map(i),this.server=!!e.isServer,!this.server&&$2&&eM&&(eM=!1,qR(this)),RS(this,function(){return(function(b){for(var s=b.getTag(),y=s.length,r="",o=function(c){var u=(function(h){return D2.get(h)})(c);if(u===void 0)return"continue";var l=b.names.get(u),a=s.getGroup(c);if(l===void 0||!l.size||a.length===0)return"continue";var d="".concat(dp,".g").concat(c,'[id="').concat(u,'"]'),p="";l!==void 0&&l.forEach(function(h){h.length>0&&(p+="".concat(h,","))}),r+="".concat(a).concat(d,'{content:"').concat(p,'"}').concat(AS)},v=0;v<y;v++)o(v);return r})(f)})}return t.registerId=function(e){return ry(e)},t.prototype.rehydrate=function(){!this.server&&$2&&qR(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(Si(Si({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=(function(n){var i=n.useCSSOMInjection,f=n.target;return n.isServer?new xpe(f):i?new ype(f):new wpe(f)})(this.options),new dpe(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(ry(e),this.names.has(e))this.names.get(e).add(n);else{var i=new Set;i.add(n),this.names.set(e,i)}},t.prototype.insertRules=function(e,n,i){this.registerName(e,n),this.getTag().insertRules(ry(e),i)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(ry(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t})(),Cpe=/&/g,Epe=/^\s*\/\/.*$/gm;function qj(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(i){return"".concat(e," ").concat(i)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=qj(n.children,e)),n})}function Spe(t){var e,n,i,f=hp,b=f.options,s=b===void 0?hp:b,y=f.plugins,r=y===void 0?ix:y,o=function(u,l,a){return a.startsWith(n)&&a.endsWith(n)&&a.replaceAll(n,"").length>0?".".concat(e):u},v=r.slice();v.push(function(u){u.type===qw&&u.value.includes("&")&&(u.props[0]=u.props[0].replace(Cpe,n).replace(i,o))}),s.prefix&&v.push(Zfe),v.push(Yfe);var c=function(u,l,a,d){l===void 0&&(l=""),a===void 0&&(a=""),d===void 0&&(d="&"),e=d,n=l,i=new RegExp("\\".concat(n,"\\b"),"g");var p=u.replace(Epe,""),h=Vfe(a||l?"".concat(a," ").concat(l," { ").concat(p," }"):p);s.namespace&&(h=qj(h,s.namespace));var g=[];return F2(h,Xfe(v.concat(Kfe(function(m){return g.push(m)})))),g};return c.hash=r.length?r.reduce(function(u,l){return l.name||fm(15),Rf(u,l.name)},Yj).toString():"",c}var Tpe=new N2,vC=Spe(),ez=Ze.createContext({shouldForwardProp:void 0,styleSheet:Tpe,stylis:vC});ez.Consumer;Ze.createContext(void 0);function gC(){return H.useContext(ez)}var tz=(function(){function t(e,n){var i=this;this.inject=function(f,b){b===void 0&&(b=vC);var s=i.name+b.hash;f.hasNameForId(i.id,s)||f.insertRules(i.id,s,b(i.rules,s,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,RS(this,function(){throw fm(12,String(i.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=vC),this.name+e.hash},t})(),Ape=function(t){return t>="A"&&t<="Z"};function tM(t){for(var e="",n=0;n<t.length;n++){var i=t[n];if(n===1&&i==="-"&&t[0]==="-")return t;Ape(i)?e+="-"+i.toLowerCase():e+=i}return e.startsWith("ms-")?"-"+e:e}var nz=function(t){return t==null||t===!1||t===""},rz=function(t){var e,n,i=[];for(var f in t){var b=t[f];t.hasOwnProperty(f)&&!nz(b)&&(Array.isArray(b)&&b.isCss||fp(b)?i.push("".concat(tM(f),":"),b,";"):Sg(b)?i.push.apply(i,lp(lp(["".concat(f," {")],rz(b),!1),["}"],!1)):i.push("".concat(tM(f),": ").concat((e=f,(n=b)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in Jfe||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return i};function sc(t,e,n,i){if(nz(t))return[];if(IS(t))return[".".concat(t.styledComponentId)];if(fp(t)){if(!fp(b=t)||b.prototype&&b.prototype.isReactComponent||!e)return[t];var f=t(e);return sc(f,e,n,i)}var b;return t instanceof tz?n?(t.inject(n,i),[t.getName(i)]):[t]:Sg(t)?rz(t):Array.isArray(t)?Array.prototype.concat.apply(ix,t.map(function(s){return sc(s,e,n,i)})):[t.toString()]}function iz(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(fp(n)&&!IS(n))return!1}return!0}var Ppe=Xj(rx),Ipe=(function(){function t(e,n,i){this.rules=e,this.staticRulesId="",this.isStatic=(i===void 0||i.isStatic)&&iz(e),this.componentId=n,this.baseHash=Rf(Ppe,n),this.baseStyle=i,N2.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,i){var f=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,i):"";if(this.isStatic&&!i.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))f=sd(f,this.staticRulesId);else{var b=L2(sc(this.rules,e,n,i)),s=fC(Rf(this.baseHash,b)>>>0);if(!n.hasNameForId(this.componentId,s)){var y=i(b,".".concat(s),void 0,this.componentId);n.insertRules(this.componentId,s,y)}f=sd(f,s),this.staticRulesId=s}else{for(var r=Rf(this.baseHash,i.hash),o="",v=0;v<this.rules.length;v++){var c=this.rules[v];if(typeof c=="string")o+=c;else if(c){var u=L2(sc(c,e,n,i));r=Rf(r,u+v),o+=u}}if(o){var l=fC(r>>>0);n.hasNameForId(this.componentId,l)||n.insertRules(this.componentId,l,i(o,".".concat(l),void 0,this.componentId)),f=sd(f,l)}}return f},t})(),MS=Ze.createContext(void 0);MS.Consumer;var Yb={};function Rpe(t,e,n){var i=IS(t),f=t,b=!Hb(t),s=e.attrs,y=s===void 0?ix:s,r=e.componentId,o=r===void 0?(function(x,w){var C=typeof x!="string"?"sc":KR(x);Yb[C]=(Yb[C]||0)+1;var E="".concat(C,"-").concat(PS(rx+C+Yb[C]));return w?"".concat(w,"-").concat(E):E})(e.displayName,e.parentComponentId):r,v=e.displayName,c=v===void 0?(function(x){return Hb(x)?"styled.".concat(x):"Styled(".concat(npe(x),")")})(t):v,u=e.displayName&&e.componentId?"".concat(KR(e.displayName),"-").concat(e.componentId):e.componentId||o,l=i&&f.attrs?f.attrs.concat(y).filter(Boolean):y,a=e.shouldForwardProp;if(i&&f.shouldForwardProp){var d=f.shouldForwardProp;if(e.shouldForwardProp){var p=e.shouldForwardProp;a=function(x,w){return d(x,w)&&p(x,w)}}else a=d}var h=new Ipe(n,u,i?f.componentStyle:void 0);function g(x,w){return(function(C,E,T){var S=C.attrs,A=C.componentStyle,P=C.defaultProps,R=C.foldedComponentIds,L=C.styledComponentId,D=C.target,F=Ze.useContext(MS),$=gC(),N=C.shouldForwardProp||$.shouldForwardProp,k=Vj(E,F,P)||hp,j=(function(U,Z,V){for(var J,_=Si(Si({},Z),{className:void 0,theme:V}),ee=0;ee<U.length;ee+=1){var te=fp(J=U[ee])?J(_):J;for(var ie in te)_[ie]=ie==="className"?sd(_[ie],te[ie]):ie==="style"?Si(Si({},_[ie]),te[ie]):te[ie]}return Z.className&&(_.className=sd(_.className,Z.className)),_})(S,E,k),W=j.as||D,G={};for(var K in j)j[K]===void 0||K[0]==="$"||K==="as"||K==="theme"&&j.theme===k||(K==="forwardedAs"?G.as=j.forwardedAs:N&&!N(K,W)||(G[K]=j[K]));var z=(function(U,Z){var V=gC(),J=U.generateAndInjectStyles(Z,V.styleSheet,V.stylis);return J})(A,j),X=sd(R,L);return z&&(X+=" "+z),j.className&&(X+=" "+j.className),G[Hb(W)&&!Hj.has(W)?"class":"className"]=X,T&&(G.ref=T),H.createElement(W,G)})(m,x,w)}g.displayName=c;var m=Ze.forwardRef(g);return m.attrs=l,m.componentStyle=h,m.displayName=c,m.shouldForwardProp=a,m.foldedComponentIds=i?sd(f.foldedComponentIds,f.styledComponentId):"",m.styledComponentId=u,m.target=i?f.target:t,Object.defineProperty(m,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(x){this._foldedDefaultProps=i?(function(w){for(var C=[],E=1;E<arguments.length;E++)C[E-1]=arguments[E];for(var T=0,S=C;T<S.length;T++)pC(w,S[T],!0);return w})({},f.defaultProps,x):x}}),RS(m,function(){return".".concat(m.styledComponentId)}),b&&Qj(m,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),m}function nM(t,e){for(var n=[t[0]],i=0,f=e.length;i<f;i+=1)n.push(e[i],t[i+1]);return n}var rM=function(t){return Object.assign(t,{isCss:!0})};function Dr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(fp(t)||Sg(t))return rM(sc(nM(ix,lp([t],e,!0))));var i=t;return e.length===0&&i.length===1&&typeof i[0]=="string"?sc(i):rM(sc(nM(i,e)))}function mC(t,e,n){if(n===void 0&&(n=hp),!e)throw fm(1,e);var i=function(f){for(var b=[],s=1;s<arguments.length;s++)b[s-1]=arguments[s];return t(e,n,Dr.apply(void 0,lp([f],b,!1)))};return i.attrs=function(f){return mC(t,e,Si(Si({},n),{attrs:Array.prototype.concat(n.attrs,f).filter(Boolean)}))},i.withConfig=function(f){return mC(t,e,Si(Si({},n),f))},i}var sz=function(t){return mC(Rpe,t)},ae=sz;Hj.forEach(function(t){ae[t]=sz(t)});var Mpe=(function(){function t(e,n){this.rules=e,this.componentId=n,this.isStatic=iz(e),N2.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,n,i,f){var b=f(L2(sc(this.rules,n,i,f)),""),s=this.componentId+e;i.insertRules(s,s,b)},t.prototype.removeStyles=function(e,n){n.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,n,i,f){e>2&&N2.registerId(this.componentId+e),this.removeStyles(e,i),this.createStyles(e,n,i,f)},t})();function Ope(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=Dr.apply(void 0,lp([t],e,!1)),f="sc-global-".concat(PS(JSON.stringify(i))),b=new Mpe(i,f),s=function(r){var o=gC(),v=Ze.useContext(MS),c=Ze.useRef(o.styleSheet.allocateGSInstance(f)).current;return o.styleSheet.server&&y(c,r,o.styleSheet,v,o.stylis),Ze.useLayoutEffect(function(){if(!o.styleSheet.server)return y(c,r,o.styleSheet,v,o.stylis),function(){return b.removeStyles(c,o.styleSheet)}},[c,r,o.styleSheet,v,o.stylis]),null};function y(r,o,v,c,u){if(b.isStatic)b.renderStyles(r,_fe,v,u);else{var l=Si(Si({},o),{theme:Vj(o,c,s.defaultProps)});b.renderStyles(r,l,v,u)}}return Ze.memo(s)}function az(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=L2(Dr.apply(void 0,lp([t],e,!1))),f=PS(i);return new tz(f,i)}const oz=({origin:t,path:e,query:n={},hash:i={}})=>{let f=new URL(e,t.endsWith("/")?t:`${t}/`);for(let[s,y]of Object.entries(n))y!==void 0&&f.searchParams.set(s,y);let b=Object.entries(i);if(b.length>0){let s=new URLSearchParams;for(let[y,r]of b)r!==void 0&&s.append(y,r);f.hash=s.toString()}return f.href};/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function lz(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Fpe(t,...e){if(!lz(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function uz(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(n=>typeof n=="string"):e.every(n=>Number.isSafeInteger(n)):!1}function Tg(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function OS(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function yC(t){if(!Array.isArray(t))throw new Error("array expected")}function k2(t,e){if(!uz(!0,e))throw new Error(`${t}: array of strings expected`)}function $pe(t,e){if(!uz(!1,e))throw new Error(`${t}: array of numbers expected`)}function cz(...t){const e=b=>b,n=(b,s)=>y=>b(s(y)),i=t.map(b=>b.encode).reduceRight(n,e),f=t.map(b=>b.decode).reduce(n,e);return{encode:i,decode:f}}function dz(t){const e=typeof t=="string"?t.split(""):t,n=e.length;k2("alphabet",e);const i=new Map(e.map((f,b)=>[f,b]));return{encode:f=>(yC(f),f.map(b=>{if(!Number.isSafeInteger(b)||b<0||b>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${b}". Allowed: ${t}`);return e[b]})),decode:f=>(yC(f),f.map(b=>{Tg("alphabet.decode",b);const s=i.get(b);if(s===void 0)throw new Error(`Unknown letter: "${b}". Allowed: ${t}`);return s}))}}function hz(t=""){return Tg("join",t),{encode:e=>(k2("join.decode",e),e.join(t)),decode:e=>(Tg("join.decode",e),e.split(t))}}function fz(t,e="="){return OS(t),Tg("padding",e),{encode(n){for(k2("padding.encode",n);n.length*t%8;)n.push(e);return n},decode(n){k2("padding.decode",n);let i=n.length;if(i*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;i>0&&n[i-1]===e;i--)if((i-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,i)}}}const pz=(t,e)=>e===0?t:pz(e,t%e),B2=(t,e)=>t+(e-pz(t,e)),Xb=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function iM(t,e,n,i){if(yC(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(B2(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${B2(e,n)}`);let f=0,b=0;const s=Xb[e],y=Xb[n]-1,r=[];for(const o of t){if(OS(o),o>=s)throw new Error(`convertRadix2: invalid data word=${o} from=${e}`);if(f=f<<e|o,b+e>32)throw new Error(`convertRadix2: carry overflow pos=${b} from=${e}`);for(b+=e;b>=n;b-=n)r.push((f>>b-n&y)>>>0);const v=Xb[b];if(v===void 0)throw new Error("invalid carry");f&=v-1}if(f=f<<n-b&y,!i&&b>=e)throw new Error("Excess padding");if(!i&&f>0)throw new Error(`Non-zero padding: ${f}`);return i&&b>0&&r.push(f>>>0),r}function vz(t,e=!1){if(OS(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(B2(8,t)>32||B2(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!lz(n))throw new Error("radix2.encode input should be Uint8Array");return iM(Array.from(n),8,t,!e)},decode:n=>($pe("radix2.decode",n),Uint8Array.from(iM(n,t,8,e)))}}const Lpe=cz(vz(5),dz("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),fz(5),hz("")),Dpe=typeof Uint8Array.from([]).toBase64=="function"&&typeof Uint8Array.fromBase64=="function",Npe=(t,e)=>{Tg("base64",t);const n=/^[A-Za-z0-9=+/]+$/,i="base64";if(t.length>0&&!n.test(t))throw new Error("invalid base64");return Uint8Array.fromBase64(t,{alphabet:i,lastChunkHandling:"strict"})},Xy=Dpe?{encode(t){return Fpe(t),t.toBase64()},decode(t){return Npe(t)}}:cz(vz(6),dz("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),fz(6),hz(""));function U2(t){"@babel/helpers - typeof";return U2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U2(t)}var kpe=/^\s+/,Bpe=/\s+$/;function ot(t,e){if(t=t||"",e=e||{},t instanceof ot)return t;if(!(this instanceof ot))return new ot(t,e);var n=Upe(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}ot.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,i,f,b,s,y;return n=e.r/255,i=e.g/255,f=e.b/255,n<=.03928?b=n/12.92:b=Math.pow((n+.055)/1.055,2.4),i<=.03928?s=i/12.92:s=Math.pow((i+.055)/1.055,2.4),f<=.03928?y=f/12.92:y=Math.pow((f+.055)/1.055,2.4),.2126*b+.7152*s+.0722*y},setAlpha:function(e){return this._a=gz(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=aM(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=aM(this._r,this._g,this._b),n=Math.round(e.h*360),i=Math.round(e.s*100),f=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+i+"%, "+f+"%)":"hsva("+n+", "+i+"%, "+f+"%, "+this._roundA+")"},toHsl:function(){var e=sM(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=sM(this._r,this._g,this._b),n=Math.round(e.h*360),i=Math.round(e.s*100),f=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+i+"%, "+f+"%)":"hsla("+n+", "+i+"%, "+f+"%, "+this._roundA+")"},toHex:function(e){return oM(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return Gpe(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Yn(this._r,255)*100)+"%",g:Math.round(Yn(this._g,255)*100)+"%",b:Math.round(Yn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Yn(this._r,255)*100)+"%, "+Math.round(Yn(this._g,255)*100)+"%, "+Math.round(Yn(this._b,255)*100)+"%)":"rgba("+Math.round(Yn(this._r,255)*100)+"%, "+Math.round(Yn(this._g,255)*100)+"%, "+Math.round(Yn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:t0e[oM(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+lM(this._r,this._g,this._b,this._a),i=n,f=this._gradientType?"GradientType = 1, ":"";if(e){var b=ot(e);i="#"+lM(b._r,b._g,b._b,b._a)}return"progid:DXImageTransform.Microsoft.gradient("+f+"startColorstr="+n+",endColorstr="+i+")"},toString:function(e){var n=!!e;e=e||this._format;var i=!1,f=this._a<1&&this._a>=0,b=!n&&f&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return b?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return ot(this.toString())},_applyModification:function(e,n){var i=e.apply(null,[this].concat([].slice.call(n)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(Xpe,arguments)},brighten:function(){return this._applyModification(Kpe,arguments)},darken:function(){return this._applyModification(Zpe,arguments)},desaturate:function(){return this._applyModification(Vpe,arguments)},saturate:function(){return this._applyModification(Hpe,arguments)},greyscale:function(){return this._applyModification(Ype,arguments)},spin:function(){return this._applyModification(Jpe,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(qpe,arguments)},complement:function(){return this._applyCombination(Qpe,arguments)},monochromatic:function(){return this._applyCombination(e0e,arguments)},splitcomplement:function(){return this._applyCombination(_pe,arguments)},triad:function(){return this._applyCombination(uM,[3])},tetrad:function(){return this._applyCombination(uM,[4])}};ot.fromRatio=function(t,e){if(U2(t)=="object"){var n={};for(var i in t)t.hasOwnProperty(i)&&(i==="a"?n[i]=t[i]:n[i]=iv(t[i]));t=n}return ot(t,e)};function Upe(t){var e={r:0,g:0,b:0},n=1,i=null,f=null,b=null,s=!1,y=!1;return typeof t=="string"&&(t=s0e(t)),U2(t)=="object"&&(El(t.r)&&El(t.g)&&El(t.b)?(e=jpe(t.r,t.g,t.b),s=!0,y=String(t.r).substr(-1)==="%"?"prgb":"rgb"):El(t.h)&&El(t.s)&&El(t.v)?(i=iv(t.s),f=iv(t.v),e=Wpe(t.h,i,f),s=!0,y="hsv"):El(t.h)&&El(t.s)&&El(t.l)&&(i=iv(t.s),b=iv(t.l),e=zpe(t.h,i,b),s=!0,y="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=gz(n),{ok:s,format:t.format||y,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function jpe(t,e,n){return{r:Yn(t,255)*255,g:Yn(e,255)*255,b:Yn(n,255)*255}}function sM(t,e,n){t=Yn(t,255),e=Yn(e,255),n=Yn(n,255);var i=Math.max(t,e,n),f=Math.min(t,e,n),b,s,y=(i+f)/2;if(i==f)b=s=0;else{var r=i-f;switch(s=y>.5?r/(2-i-f):r/(i+f),i){case t:b=(e-n)/r+(e<n?6:0);break;case e:b=(n-t)/r+2;break;case n:b=(t-e)/r+4;break}b/=6}return{h:b,s,l:y}}function zpe(t,e,n){var i,f,b;t=Yn(t,360),e=Yn(e,100),n=Yn(n,100);function s(o,v,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?o+(v-o)*6*c:c<1/2?v:c<2/3?o+(v-o)*(2/3-c)*6:o}if(e===0)i=f=b=n;else{var y=n<.5?n*(1+e):n+e-n*e,r=2*n-y;i=s(r,y,t+1/3),f=s(r,y,t),b=s(r,y,t-1/3)}return{r:i*255,g:f*255,b:b*255}}function aM(t,e,n){t=Yn(t,255),e=Yn(e,255),n=Yn(n,255);var i=Math.max(t,e,n),f=Math.min(t,e,n),b,s,y=i,r=i-f;if(s=i===0?0:r/i,i==f)b=0;else{switch(i){case t:b=(e-n)/r+(e<n?6:0);break;case e:b=(n-t)/r+2;break;case n:b=(t-e)/r+4;break}b/=6}return{h:b,s,v:y}}function Wpe(t,e,n){t=Yn(t,360)*6,e=Yn(e,100),n=Yn(n,100);var i=Math.floor(t),f=t-i,b=n*(1-e),s=n*(1-f*e),y=n*(1-(1-f)*e),r=i%6,o=[n,s,b,b,y,n][r],v=[y,n,n,s,b,b][r],c=[b,b,y,n,n,s][r];return{r:o*255,g:v*255,b:c*255}}function oM(t,e,n,i){var f=[Ha(Math.round(t).toString(16)),Ha(Math.round(e).toString(16)),Ha(Math.round(n).toString(16))];return i&&f[0].charAt(0)==f[0].charAt(1)&&f[1].charAt(0)==f[1].charAt(1)&&f[2].charAt(0)==f[2].charAt(1)?f[0].charAt(0)+f[1].charAt(0)+f[2].charAt(0):f.join("")}function Gpe(t,e,n,i,f){var b=[Ha(Math.round(t).toString(16)),Ha(Math.round(e).toString(16)),Ha(Math.round(n).toString(16)),Ha(mz(i))];return f&&b[0].charAt(0)==b[0].charAt(1)&&b[1].charAt(0)==b[1].charAt(1)&&b[2].charAt(0)==b[2].charAt(1)&&b[3].charAt(0)==b[3].charAt(1)?b[0].charAt(0)+b[1].charAt(0)+b[2].charAt(0)+b[3].charAt(0):b.join("")}function lM(t,e,n,i){var f=[Ha(mz(i)),Ha(Math.round(t).toString(16)),Ha(Math.round(e).toString(16)),Ha(Math.round(n).toString(16))];return f.join("")}ot.equals=function(t,e){return!t||!e?!1:ot(t).toRgbString()==ot(e).toRgbString()};ot.random=function(){return ot.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function Vpe(t,e){e=e===0?0:e||10;var n=ot(t).toHsl();return n.s-=e/100,n.s=sx(n.s),ot(n)}function Hpe(t,e){e=e===0?0:e||10;var n=ot(t).toHsl();return n.s+=e/100,n.s=sx(n.s),ot(n)}function Ype(t){return ot(t).desaturate(100)}function Xpe(t,e){e=e===0?0:e||10;var n=ot(t).toHsl();return n.l+=e/100,n.l=sx(n.l),ot(n)}function Kpe(t,e){e=e===0?0:e||10;var n=ot(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),ot(n)}function Zpe(t,e){e=e===0?0:e||10;var n=ot(t).toHsl();return n.l-=e/100,n.l=sx(n.l),ot(n)}function Jpe(t,e){var n=ot(t).toHsl(),i=(n.h+e)%360;return n.h=i<0?360+i:i,ot(n)}function Qpe(t){var e=ot(t).toHsl();return e.h=(e.h+180)%360,ot(e)}function uM(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=ot(t).toHsl(),i=[ot(t)],f=360/e,b=1;b<e;b++)i.push(ot({h:(n.h+b*f)%360,s:n.s,l:n.l}));return i}function _pe(t){var e=ot(t).toHsl(),n=e.h;return[ot(t),ot({h:(n+72)%360,s:e.s,l:e.l}),ot({h:(n+216)%360,s:e.s,l:e.l})]}function qpe(t,e,n){e=e||6,n=n||30;var i=ot(t).toHsl(),f=360/n,b=[ot(t)];for(i.h=(i.h-(f*e>>1)+720)%360;--e;)i.h=(i.h+f)%360,b.push(ot(i));return b}function e0e(t,e){e=e||6;for(var n=ot(t).toHsv(),i=n.h,f=n.s,b=n.v,s=[],y=1/e;e--;)s.push(ot({h:i,s:f,v:b})),b=(b+y)%1;return s}ot.mix=function(t,e,n){n=n===0?0:n||50;var i=ot(t).toRgb(),f=ot(e).toRgb(),b=n/100,s={r:(f.r-i.r)*b+i.r,g:(f.g-i.g)*b+i.g,b:(f.b-i.b)*b+i.b,a:(f.a-i.a)*b+i.a};return ot(s)};ot.readability=function(t,e){var n=ot(t),i=ot(e);return(Math.max(n.getLuminance(),i.getLuminance())+.05)/(Math.min(n.getLuminance(),i.getLuminance())+.05)};ot.isReadable=function(t,e,n){var i=ot.readability(t,e),f,b;switch(b=!1,f=a0e(n),f.level+f.size){case"AAsmall":case"AAAlarge":b=i>=4.5;break;case"AAlarge":b=i>=3;break;case"AAAsmall":b=i>=7;break}return b};ot.mostReadable=function(t,e,n){var i=null,f=0,b,s,y,r;n=n||{},s=n.includeFallbackColors,y=n.level,r=n.size;for(var o=0;o<e.length;o++)b=ot.readability(t,e[o]),b>f&&(f=b,i=ot(e[o]));return ot.isReadable(t,i,{level:y,size:r})||!s?i:(n.includeFallbackColors=!1,ot.mostReadable(t,["#fff","#000"],n))};var wC=ot.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},t0e=ot.hexNames=n0e(wC);function n0e(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function gz(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Yn(t,e){r0e(t)&&(t="100%");var n=i0e(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function sx(t){return Math.min(1,Math.max(0,t))}function Rs(t){return parseInt(t,16)}function r0e(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function i0e(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Ha(t){return t.length==1?"0"+t:""+t}function iv(t){return t<=1&&(t=t*100+"%"),t}function mz(t){return Math.round(parseFloat(t)*255).toString(16)}function cM(t){return Rs(t)/255}var ka=(function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",f="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+f),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+f),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+f),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function El(t){return!!ka.CSS_UNIT.exec(t)}function s0e(t){t=t.replace(kpe,"").replace(Bpe,"").toLowerCase();var e=!1;if(wC[t])t=wC[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=ka.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=ka.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=ka.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=ka.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=ka.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=ka.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=ka.hex8.exec(t))?{r:Rs(n[1]),g:Rs(n[2]),b:Rs(n[3]),a:cM(n[4]),format:e?"name":"hex8"}:(n=ka.hex6.exec(t))?{r:Rs(n[1]),g:Rs(n[2]),b:Rs(n[3]),format:e?"name":"hex"}:(n=ka.hex4.exec(t))?{r:Rs(n[1]+""+n[1]),g:Rs(n[2]+""+n[2]),b:Rs(n[3]+""+n[3]),a:cM(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=ka.hex3.exec(t))?{r:Rs(n[1]+""+n[1]),g:Rs(n[2]+""+n[2]),b:Rs(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function a0e(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}function o0e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const l0e=H.forwardRef(o0e);function u0e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const c0e=H.forwardRef(u0e);function d0e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const h0e=H.forwardRef(d0e);function f0e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"}))}const Gf=H.forwardRef(f0e);function p0e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const v0e=H.forwardRef(p0e);function g0e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const m0e=H.forwardRef(g0e);function y0e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const FS=H.forwardRef(y0e);function w0e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const lc=H.forwardRef(w0e);function x0e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Jd=H.forwardRef(x0e);function b0e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a2.25 2.25 0 0 0-2.25-2.25H15a3 3 0 1 1-6 0H5.25A2.25 2.25 0 0 0 3 12m18 0v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 9m18 0V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v3"}))}const ax=H.forwardRef(b0e);function C0e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const $S=H.forwardRef(C0e);function E0e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 8.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v8.25A2.25 2.25 0 0 0 6 16.5h2.25m8.25-8.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-7.5A2.25 2.25 0 0 1 8.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 0 0-2.25 2.25v6"}))}const S0e=H.forwardRef(E0e);var Kb,dM;function T0e(){if(dM)return Kb;dM=1;var t=function(s,y){return Math.round(y*Math.log(s)/Math.LN2)},e=[{name:"lowercase",re:/[a-z]/,length:26},{name:"uppercase",re:/[A-Z]/,length:26},{name:"numbers",re:/[0-9]/,length:10},{name:"symbols",re:/[^a-zA-Z0-9]/,length:33}],n=function(s){return function(y){return s.reduce(function(r,o){return r+(o.re.test(y)?o.length:0)},0)}},i=n(e),f=function(s){return s?t(i(s),s.length):0};return Kb=f,Kb}var A0e=T0e();const P0e=co(A0e);function yz(t){return crypto.getRandomValues(new Uint8Array(t))}const I0e=256,gv=65536;function R0e(){const[t]=yz(1);return t}function M0e(){const[t,e]=yz(2);return(t<<8)+e}function O0e(t){if(typeof t!="number"||t<2||t>gv)throw new Error(`Invalid number: number must be at least two and at most ${gv}`);const e=t>256,n=e?gv:I0e,i=e?M0e:R0e,f=t*Math.floor(n/t);for(;;){const b=i();if(b<f)return b%t}}function F0e(t,e,n){if(typeof n!="number"||n>gv)throw new Error(`Invalid argument: end must be a number less than or equal to ${gv}`);if(n-e<2)throw new Error("Invalid range: range must contain at least two values");const i=[];for(let f=0;f<t;f++)i[f]=e+O0e(n-e);return i}function $0e(t,e,n="-"){if(!Array.isArray(e)||e.length<2)throw new Error("Invalid argument: wordlist argument must be an array with length greater than or equal to 2");if(typeof n!="string")throw new Error("Invalid argument: sep argument must be a string");return F0e(t,0,e.length).reduce((i,f,b)=>{const s=e[f];return i+(b===0?s:n+s)},"")}const L0e=Object.freeze(["abacus","abdomen","abdominal","abide","abiding","ability","ablaze","able","abnormal","abrasion","abrasive","abreast","abridge","abroad","abruptly","absence","absentee","absently","absinthe","absolute","absolve","abstain","abstract","absurd","accent","acclaim","acclimate","accompany","account","accuracy","accurate","accustom","acetone","achiness","aching","acid","acorn","acquaint","acquire","acre","acrobat","acronym","acting","action","activate","activator","active","activism","activist","activity","actress","acts","acutely","acuteness","aeration","aerobics","aerosol","aerospace","afar","affair","affected","affecting","affection","affidavit","affiliate","affirm","affix","afflicted","affluent","afford","affront","aflame","afloat","aflutter","afoot","afraid","afterglow","afterlife","aftermath","aftermost","afternoon","aged","ageless","agency","agenda","agent","aggregate","aghast","agile","agility","aging","agnostic","agonize","agonizing","agony","agreeable","agreeably","agreed","agreeing","agreement","aground","ahead","ahoy","aide","aids","aim","ajar","alabaster","alarm","albatross","album","alfalfa","algebra","algorithm","alias","alibi","alienable","alienate","aliens","alike","alive","alkaline","alkalize","almanac","almighty","almost","aloe","aloft","aloha","alone","alongside","aloof","alphabet","alright","although","altitude","alto","aluminum","alumni","always","amaretto","amaze","amazingly","amber","ambiance","ambiguity","ambiguous","ambition","ambitious","ambulance","ambush","amendable","amendment","amends","amenity","amiable","amicably","amid","amigo","amino","amiss","ammonia","ammonium","amnesty","amniotic","among","amount","amperage","ample","amplifier","amplify","amply","amuck","amulet","amusable","amused","amusement","amuser","amusing","anaconda","anaerobic","anagram","anatomist","anatomy","anchor","anchovy","ancient","android","anemia","anemic","aneurism","anew","angelfish","angelic","anger","angled","angler","angles","angling","angrily","angriness","anguished","angular","animal","animate","animating","animation","animator","anime","animosity","ankle","annex","annotate","announcer","annoying","annually","annuity","anointer","another","answering","antacid","antarctic","anteater","antelope","antennae","anthem","anthill","anthology","antibody","antics","antidote","antihero","antiquely","antiques","antiquity","antirust","antitoxic","antitrust","antiviral","antivirus","antler","antonym","antsy","anvil","anybody","anyhow","anymore","anyone","anyplace","anything","anytime","anyway","anywhere","aorta","apache","apostle","appealing","appear","appease","appeasing","appendage","appendix","appetite","appetizer","applaud","applause","apple","appliance","applicant","applied","apply","appointee","appraisal","appraiser","apprehend","approach","approval","approve","apricot","april","apron","aptitude","aptly","aqua","aqueduct","arbitrary","arbitrate","ardently","area","arena","arguable","arguably","argue","arise","armadillo","armband","armchair","armed","armful","armhole","arming","armless","armoire","armored","armory","armrest","army","aroma","arose","around","arousal","arrange","array","arrest","arrival","arrive","arrogance","arrogant","arson","art","ascend","ascension","ascent","ascertain","ashamed","ashen","ashes","ashy","aside","askew","asleep","asparagus","aspect","aspirate","aspire","aspirin","astonish","astound","astride","astrology","astronaut","astronomy","astute","atlantic","atlas","atom","atonable","atop","atrium","atrocious","atrophy","attach","attain","attempt","attendant","attendee","attention","attentive","attest","attic","attire","attitude","attractor","attribute","atypical","auction","audacious","audacity","audible","audibly","audience","audio","audition","augmented","august","authentic","author","autism","autistic","autograph","automaker","automated","automatic","autopilot","available","avalanche","avatar","avenge","avenging","avenue","average","aversion","avert","aviation","aviator","avid","avoid","await","awaken","award","aware","awhile","awkward","awning","awoke","awry","axis","babble","babbling","babied","baboon","backache","backboard","backboned","backdrop","backed","backer","backfield","backfire","backhand","backing","backlands","backlash","backless","backlight","backlit","backlog","backpack","backpedal","backrest","backroom","backshift","backside","backslid","backspace","backspin","backstab","backstage","backtalk","backtrack","backup","backward","backwash","backwater","backyard","bacon","bacteria","bacterium","badass","badge","badland","badly","badness","baffle","baffling","bagel","bagful","baggage","bagged","baggie","bagginess","bagging","baggy","bagpipe","baguette","baked","bakery","bakeshop","baking","balance","balancing","balcony","balmy","balsamic","bamboo","banana","banish","banister","banjo","bankable","bankbook","banked","banker","banking","banknote","bankroll","banner","bannister","banshee","banter","barbecue","barbed","barbell","barber","barcode","barge","bargraph","barista","baritone","barley","barmaid","barman","barn","barometer","barrack","barracuda","barrel","barrette","barricade","barrier","barstool","bartender","barterer","bash","basically","basics","basil","basin","basis","basket","batboy","batch","bath","baton","bats","battalion","battered","battering","battery","batting","battle","bauble","bazooka","blabber","bladder","blade","blah","blame","blaming","blanching","blandness","blank","blaspheme","blasphemy","blast","blatancy","blatantly","blazer","blazing","bleach","bleak","bleep","blemish","blend","bless","blighted","blimp","bling","blinked","blinker","blinking","blinks","blip","blissful","blitz","blizzard","bloated","bloating","blob","blog","bloomers","blooming","blooper","blot","blouse","blubber","bluff","bluish","blunderer","blunt","blurb","blurred","blurry","blurt","blush","blustery","boaster","boastful","boasting","boat","bobbed","bobbing","bobble","bobcat","bobsled","bobtail","bodacious","body","bogged","boggle","bogus","boil","bok","bolster","bolt","bonanza","bonded","bonding","bondless","boned","bonehead","boneless","bonelike","boney","bonfire","bonnet","bonsai","bonus","bony","boogeyman","boogieman","book","boondocks","booted","booth","bootie","booting","bootlace","bootleg","boots","boozy","borax","boring","borough","borrower","borrowing","boss","botanical","botanist","botany","botch","both","bottle","bottling","bottom","bounce","bouncing","bouncy","bounding","boundless","bountiful","bovine","boxcar","boxer","boxing","boxlike","boxy","breach","breath","breeches","breeching","breeder","breeding","breeze","breezy","brethren","brewery","brewing","briar","bribe","brick","bride","bridged","brigade","bright","brilliant","brim","bring","brink","brisket","briskly","briskness","bristle","brittle","broadband","broadcast","broaden","broadly","broadness","broadside","broadways","broiler","broiling","broken","broker","bronchial","bronco","bronze","bronzing","brook","broom","brought","browbeat","brownnose","browse","browsing","bruising","brunch","brunette","brunt","brush","brussels","brute","brutishly","bubble","bubbling","bubbly","buccaneer","bucked","bucket","buckle","buckshot","buckskin","bucktooth","buckwheat","buddhism","buddhist","budding","buddy","budget","buffalo","buffed","buffer","buffing","buffoon","buggy","bulb","bulge","bulginess","bulgur","bulk","bulldog","bulldozer","bullfight","bullfrog","bullhorn","bullion","bullish","bullpen","bullring","bullseye","bullwhip","bully","bunch","bundle","bungee","bunion","bunkbed","bunkhouse","bunkmate","bunny","bunt","busboy","bush","busily","busload","bust","busybody","buzz","cabana","cabbage","cabbie","cabdriver","cable","caboose","cache","cackle","cacti","cactus","caddie","caddy","cadet","cadillac","cadmium","cage","cahoots","cake","calamari","calamity","calcium","calculate","calculus","caliber","calibrate","calm","caloric","calorie","calzone","camcorder","cameo","camera","camisole","camper","campfire","camping","campsite","campus","canal","canary","cancel","candied","candle","candy","cane","canine","canister","cannabis","canned","canning","cannon","cannot","canola","canon","canopener","canopy","canteen","canyon","capable","capably","capacity","cape","capillary","capital","capitol","capped","capricorn","capsize","capsule","caption","captivate","captive","captivity","capture","caramel","carat","caravan","carbon","cardboard","carded","cardiac","cardigan","cardinal","cardstock","carefully","caregiver","careless","caress","caretaker","cargo","caring","carless","carload","carmaker","carnage","carnation","carnival","carnivore","carol","carpenter","carpentry","carpool","carport","carried","carrot","carrousel","carry","cartel","cartload","carton","cartoon","cartridge","cartwheel","carve","carving","carwash","cascade","case","cash","casing","casino","casket","cassette","casually","casualty","catacomb","catalog","catalyst","catalyze","catapult","cataract","catatonic","catcall","catchable","catcher","catching","catchy","caterer","catering","catfight","catfish","cathedral","cathouse","catlike","catnap","catnip","catsup","cattail","cattishly","cattle","catty","catwalk","caucasian","caucus","causal","causation","cause","causing","cauterize","caution","cautious","cavalier","cavalry","caviar","cavity","cedar","celery","celestial","celibacy","celibate","celtic","cement","census","ceramics","ceremony","certainly","certainty","certified","certify","cesarean","cesspool","chafe","chaffing","chain","chair","chalice","challenge","chamber","chamomile","champion","chance","change","channel","chant","chaos","chaperone","chaplain","chapped","chaps","chapter","character","charbroil","charcoal","charger","charging","chariot","charity","charm","charred","charter","charting","chase","chasing","chaste","chastise","chastity","chatroom","chatter","chatting","chatty","cheating","cheddar","cheek","cheer","cheese","cheesy","chef","chemicals","chemist","chemo","cherisher","cherub","chess","chest","chevron","chevy","chewable","chewer","chewing","chewy","chief","chihuahua","childcare","childhood","childish","childless","childlike","chili","chill","chimp","chip","chirping","chirpy","chitchat","chivalry","chive","chloride","chlorine","choice","chokehold","choking","chomp","chooser","choosing","choosy","chop","chosen","chowder","chowtime","chrome","chubby","chuck","chug","chummy","chump","chunk","churn","chute","cider","cilantro","cinch","cinema","cinnamon","circle","circling","circular","circulate","circus","citable","citadel","citation","citizen","citric","citrus","city","civic","civil","clad","claim","clambake","clammy","clamor","clamp","clamshell","clang","clanking","clapped","clapper","clapping","clarify","clarinet","clarity","clash","clasp","class","clatter","clause","clavicle","claw","clay","clean","clear","cleat","cleaver","cleft","clench","clergyman","clerical","clerk","clever","clicker","client","climate","climatic","cling","clinic","clinking","clip","clique","cloak","clobber","clock","clone","cloning","closable","closure","clothes","clothing","cloud","clover","clubbed","clubbing","clubhouse","clump","clumsily","clumsy","clunky","clustered","clutch","clutter","coach","coagulant","coastal","coaster","coasting","coastland","coastline","coat","coauthor","cobalt","cobbler","cobweb","cocoa","coconut","cod","coeditor","coerce","coexist","coffee","cofounder","cognition","cognitive","cogwheel","coherence","coherent","cohesive","coil","coke","cola","cold","coleslaw","coliseum","collage","collapse","collar","collected","collector","collide","collie","collision","colonial","colonist","colonize","colony","colossal","colt","coma","come","comfort","comfy","comic","coming","comma","commence","commend","comment","commerce","commode","commodity","commodore","common","commotion","commute","commuting","compacted","compacter","compactly","compactor","companion","company","compare","compel","compile","comply","component","composed","composer","composite","compost","composure","compound","compress","comprised","computer","computing","comrade","concave","conceal","conceded","concept","concerned","concert","conch","concierge","concise","conclude","concrete","concur","condense","condiment","condition","condone","conducive","conductor","conduit","cone","confess","confetti","confidant","confident","confider","confiding","configure","confined","confining","confirm","conflict","conform","confound","confront","confused","confusing","confusion","congenial","congested","congrats","congress","conical","conjoined","conjure","conjuror","connected","connector","consensus","consent","console","consoling","consonant","constable","constant","constrain","constrict","construct","consult","consumer","consuming","contact","container","contempt","contend","contented","contently","contents","contest","context","contort","contour","contrite","control","contusion","convene","convent","copartner","cope","copied","copier","copilot","coping","copious","copper","copy","coral","cork","cornball","cornbread","corncob","cornea","corned","corner","cornfield","cornflake","cornhusk","cornmeal","cornstalk","corny","coronary","coroner","corporal","corporate","corral","correct","corridor","corrode","corroding","corrosive","corsage","corset","cortex","cosigner","cosmetics","cosmic","cosmos","cosponsor","cost","cottage","cotton","couch","cough","could","countable","countdown","counting","countless","country","county","courier","covenant","cover","coveted","coveting","coyness","cozily","coziness","cozy","crabbing","crabgrass","crablike","crabmeat","cradle","cradling","crafter","craftily","craftsman","craftwork","crafty","cramp","cranberry","crane","cranial","cranium","crank","crate","crave","craving","crawfish","crawlers","crawling","crayfish","crayon","crazed","crazily","craziness","crazy","creamed","creamer","creamlike","crease","creasing","creatable","create","creation","creative","creature","credible","credibly","credit","creed","creme","creole","crepe","crept","crescent","crested","cresting","crestless","crevice","crewless","crewman","crewmate","crib","cricket","cried","crier","crimp","crimson","cringe","cringing","crinkle","crinkly","crisped","crisping","crisply","crispness","crispy","criteria","critter","croak","crock","crook","croon","crop","cross","crouch","crouton","crowbar","crowd","crown","crucial","crudely","crudeness","cruelly","cruelness","cruelty","crumb","crummiest","crummy","crumpet","crumpled","cruncher","crunching","crunchy","crusader","crushable","crushed","crusher","crushing","crust","crux","crying","cryptic","crystal","cubbyhole","cube","cubical","cubicle","cucumber","cuddle","cuddly","cufflink","culinary","culminate","culpable","culprit","cultivate","cultural","culture","cupbearer","cupcake","cupid","cupped","cupping","curable","curator","curdle","cure","curfew","curing","curled","curler","curliness","curling","curly","curry","curse","cursive","cursor","curtain","curtly","curtsy","curvature","curve","curvy","cushy","cusp","cussed","custard","custodian","custody","customary","customer","customize","customs","cut","cycle","cyclic","cycling","cyclist","cylinder","cymbal","cytoplasm","cytoplast","dab","dad","daffodil","dagger","daily","daintily","dainty","dairy","daisy","dallying","dance","dancing","dandelion","dander","dandruff","dandy","danger","dangle","dangling","daredevil","dares","daringly","darkened","darkening","darkish","darkness","darkroom","darling","darn","dart","darwinism","dash","dastardly","data","datebook","dating","daughter","daunting","dawdler","dawn","daybed","daybreak","daycare","daydream","daylight","daylong","dayroom","daytime","dazzler","dazzling","deacon","deafening","deafness","dealer","dealing","dealmaker","dealt","dean","debatable","debate","debating","debit","debrief","debtless","debtor","debug","debunk","decade","decaf","decal","decathlon","decay","deceased","deceit","deceiver","deceiving","december","decency","decent","deception","deceptive","decibel","decidable","decimal","decimeter","decipher","deck","declared","decline","decode","decompose","decorated","decorator","decoy","decrease","decree","dedicate","dedicator","deduce","deduct","deed","deem","deepen","deeply","deepness","deface","defacing","defame","default","defeat","defection","defective","defendant","defender","defense","defensive","deferral","deferred","defiance","defiant","defile","defiling","define","definite","deflate","deflation","deflator","deflected","deflector","defog","deforest","defraud","defrost","deftly","defuse","defy","degraded","degrading","degrease","degree","dehydrate","deity","dejected","delay","delegate","delegator","delete","deletion","delicacy","delicate","delicious","delighted","delirious","delirium","deliverer","delivery","delouse","delta","deluge","delusion","deluxe","demanding","demeaning","demeanor","demise","democracy","democrat","demote","demotion","demystify","denatured","deniable","denial","denim","denote","dense","density","dental","dentist","denture","deny","deodorant","deodorize","departed","departure","depict","deplete","depletion","deplored","deploy","deport","depose","depraved","depravity","deprecate","depress","deprive","depth","deputize","deputy","derail","deranged","derby","derived","desecrate","deserve","deserving","designate","designed","designer","designing","deskbound","desktop","deskwork","desolate","despair","despise","despite","destiny","destitute","destruct","detached","detail","detection","detective","detector","detention","detergent","detest","detonate","detonator","detoxify","detract","deuce","devalue","deviancy","deviant","deviate","deviation","deviator","device","devious","devotedly","devotee","devotion","devourer","devouring","devoutly","dexterity","dexterous","diabetes","diabetic","diabolic","diagnoses","diagnosis","diagram","dial","diameter","diaper","diaphragm","diary","dice","dicing","dictate","dictation","dictator","difficult","diffused","diffuser","diffusion","diffusive","dig","dilation","diligence","diligent","dill","dilute","dime","diminish","dimly","dimmed","dimmer","dimness","dimple","diner","dingbat","dinghy","dinginess","dingo","dingy","dining","dinner","diocese","dioxide","diploma","dipped","dipper","dipping","directed","direction","directive","directly","directory","direness","dirtiness","disabled","disagree","disallow","disarm","disarray","disaster","disband","disbelief","disburse","discard","discern","discharge","disclose","discolor","discount","discourse","discover","discuss","disdain","disengage","disfigure","disgrace","dish","disinfect","disjoin","disk","dislike","disliking","dislocate","dislodge","disloyal","dismantle","dismay","dismiss","dismount","disobey","disorder","disown","disparate","disparity","dispatch","dispense","dispersal","dispersed","disperser","displace","display","displease","disposal","dispose","disprove","dispute","disregard","disrupt","dissuade","distance","distant","distaste","distill","distinct","distort","distract","distress","district","distrust","ditch","ditto","ditzy","dividable","divided","dividend","dividers","dividing","divinely","diving","divinity","divisible","divisibly","division","divisive","divorcee","dizziness","dizzy","doable","docile","dock","doctrine","document","dodge","dodgy","doily","doing","dole","dollar","dollhouse","dollop","dolly","dolphin","domain","domelike","domestic","dominion","dominoes","donated","donation","donator","donor","donut","doodle","doorbell","doorframe","doorknob","doorman","doormat","doornail","doorpost","doorstep","doorstop","doorway","doozy","dork","dormitory","dorsal","dosage","dose","dotted","doubling","douche","dove","down","dowry","doze","drab","dragging","dragonfly","dragonish","dragster","drainable","drainage","drained","drainer","drainpipe","dramatic","dramatize","drank","drapery","drastic","draw","dreaded","dreadful","dreadlock","dreamboat","dreamily","dreamland","dreamless","dreamlike","dreamt","dreamy","drearily","dreary","drench","dress","drew","dribble","dried","drier","drift","driller","drilling","drinkable","drinking","dripping","drippy","drivable","driven","driver","driveway","driving","drizzle","drizzly","drone","drool","droop","drop-down","dropbox","dropkick","droplet","dropout","dropper","drove","drown","drowsily","drudge","drum","dry","dubbed","dubiously","duchess","duckbill","ducking","duckling","ducktail","ducky","duct","dude","duffel","dugout","duh","duke","duller","dullness","duly","dumping","dumpling","dumpster","duo","dupe","duplex","duplicate","duplicity","durable","durably","duration","duress","during","dusk","dust","dutiful","duty","duvet","dwarf","dweeb","dwelled","dweller","dwelling","dwindle","dwindling","dynamic","dynamite","dynasty","dyslexia","dyslexic","each","eagle","earache","eardrum","earflap","earful","earlobe","early","earmark","earmuff","earphone","earpiece","earplugs","earring","earshot","earthen","earthlike","earthling","earthly","earthworm","earthy","earwig","easeful","easel","easiest","easily","easiness","easing","eastbound","eastcoast","easter","eastward","eatable","eaten","eatery","eating","eats","ebay","ebony","ebook","ecard","eccentric","echo","eclair","eclipse","ecologist","ecology","economic","economist","economy","ecosphere","ecosystem","edge","edginess","edging","edgy","edition","editor","educated","education","educator","eel","effective","effects","efficient","effort","eggbeater","egging","eggnog","eggplant","eggshell","egomaniac","egotism","egotistic","either","eject","elaborate","elastic","elated","elbow","eldercare","elderly","eldest","electable","election","elective","elephant","elevate","elevating","elevation","elevator","eleven","elf","eligible","eligibly","eliminate","elite","elitism","elixir","elk","ellipse","elliptic","elm","elongated","elope","eloquence","eloquent","elsewhere","elude","elusive","elves","email","embargo","embark","embassy","embattled","embellish","ember","embezzle","emblaze","emblem","embody","embolism","emboss","embroider","emcee","emerald","emergency","emission","emit","emote","emoticon","emotion","empathic","empathy","emperor","emphases","emphasis","emphasize","emphatic","empirical","employed","employee","employer","emporium","empower","emptier","emptiness","empty","emu","enable","enactment","enamel","enchanted","enchilada","encircle","enclose","enclosure","encode","encore","encounter","encourage","encroach","encrust","encrypt","endanger","endeared","endearing","ended","ending","endless","endnote","endocrine","endorphin","endorse","endowment","endpoint","endurable","endurance","enduring","energetic","energize","energy","enforced","enforcer","engaged","engaging","engine","engorge","engraved","engraver","engraving","engross","engulf","enhance","enigmatic","enjoyable","enjoyably","enjoyer","enjoying","enjoyment","enlarged","enlarging","enlighten","enlisted","enquirer","enrage","enrich","enroll","enslave","ensnare","ensure","entail","entangled","entering","entertain","enticing","entire","entitle","entity","entomb","entourage","entrap","entree","entrench","entrust","entryway","entwine","enunciate","envelope","enviable","enviably","envious","envision","envoy","envy","enzyme","epic","epidemic","epidermal","epidermis","epidural","epilepsy","epileptic","epilogue","epiphany","episode","equal","equate","equation","equator","equinox","equipment","equity","equivocal","eradicate","erasable","erased","eraser","erasure","ergonomic","errand","errant","erratic","error","erupt","escalate","escalator","escapable","escapade","escapist","escargot","eskimo","esophagus","espionage","espresso","esquire","essay","essence","essential","establish","estate","esteemed","estimate","estimator","estranged","estrogen","etching","eternal","eternity","ethanol","ether","ethically","ethics","euphemism","evacuate","evacuee","evade","evaluate","evaluator","evaporate","evasion","evasive","even","everglade","evergreen","everybody","everyday","everyone","evict","evidence","evident","evil","evoke","evolution","evolve","exact","exalted","example","excavate","excavator","exceeding","exception","excess","exchange","excitable","exciting","exclaim","exclude","excluding","exclusion","exclusive","excretion","excretory","excursion","excusable","excusably","excuse","exemplary","exemplify","exemption","exerciser","exert","exes","exfoliate","exhale","exhaust","exhume","exile","existing","exit","exodus","exonerate","exorcism","exorcist","expand","expanse","expansion","expansive","expectant","expedited","expediter","expel","expend","expenses","expensive","expert","expire","expiring","explain","expletive","explicit","explode","exploit","explore","exploring","exponent","exporter","exposable","expose","exposure","express","expulsion","exquisite","extended","extending","extent","extenuate","exterior","external","extinct","extortion","extradite","extras","extrovert","extrude","extruding","exuberant","fable","fabric","fabulous","facebook","facecloth","facedown","faceless","facelift","faceplate","faceted","facial","facility","facing","facsimile","faction","factoid","factor","factsheet","factual","faculty","fade","fading","failing","falcon","fall","false","falsify","fame","familiar","family","famine","famished","fanatic","fancied","fanciness","fancy","fanfare","fang","fanning","fantasize","fantastic","fantasy","fascism","fastball","faster","fasting","fastness","faucet","favorable","favorably","favored","favoring","favorite","fax","feast","federal","fedora","feeble","feed","feel","feisty","feline","felt-tip","feminine","feminism","feminist","feminize","femur","fence","fencing","fender","ferment","fernlike","ferocious","ferocity","ferret","ferris","ferry","fervor","fester","festival","festive","festivity","fetal","fetch","fever","fiber","fiction","fiddle","fiddling","fidelity","fidgeting","fidgety","fifteen","fifth","fiftieth","fifty","figment","figure","figurine","filing","filled","filler","filling","film","filter","filth","filtrate","finale","finalist","finalize","finally","finance","financial","finch","fineness","finer","finicky","finished","finisher","finishing","finite","finless","finlike","fiscally","fit","five","flaccid","flagman","flagpole","flagship","flagstick","flagstone","flail","flakily","flaky","flame","flammable","flanked","flanking","flannels","flap","flaring","flashback","flashbulb","flashcard","flashily","flashing","flashy","flask","flatbed","flatfoot","flatly","flatness","flatten","flattered","flatterer","flattery","flattop","flatware","flatworm","flavored","flavorful","flavoring","flaxseed","fled","fleshed","fleshy","flick","flier","flight","flinch","fling","flint","flip","flirt","float","flock","flogging","flop","floral","florist","floss","flounder","flyable","flyaway","flyer","flying","flyover","flypaper","foam","foe","fog","foil","folic","folk","follicle","follow","fondling","fondly","fondness","fondue","font","food","fool","footage","football","footbath","footboard","footer","footgear","foothill","foothold","footing","footless","footman","footnote","footpad","footpath","footprint","footrest","footsie","footsore","footwear","footwork","fossil","foster","founder","founding","fountain","fox","foyer","fraction","fracture","fragile","fragility","fragment","fragrance","fragrant","frail","frame","framing","frantic","fraternal","frayed","fraying","frays","freckled","freckles","freebase","freebee","freebie","freedom","freefall","freehand","freeing","freeload","freely","freemason","freeness","freestyle","freeware","freeway","freewill","freezable","freezing","freight","french","frenzied","frenzy","frequency","frequent","fresh","fretful","fretted","friction","friday","fridge","fried","friend","frighten","frightful","frigidity","frigidly","frill","fringe","frisbee","frisk","fritter","frivolous","frolic","from","front","frostbite","frosted","frostily","frosting","frostlike","frosty","froth","frown","frozen","fructose","frugality","frugally","fruit","frustrate","frying","gab","gaffe","gag","gainfully","gaining","gains","gala","gallantly","galleria","gallery","galley","gallon","gallows","gallstone","galore","galvanize","gambling","game","gaming","gamma","gander","gangly","gangrene","gangway","gap","garage","garbage","garden","gargle","garland","garlic","garment","garnet","garnish","garter","gas","gatherer","gathering","gating","gauging","gauntlet","gauze","gave","gawk","gazing","gear","gecko","geek","geiger","gem","gender","generic","generous","genetics","genre","gentile","gentleman","gently","gents","geography","geologic","geologist","geology","geometric","geometry","geranium","gerbil","geriatric","germicide","germinate","germless","germproof","gestate","gestation","gesture","getaway","getting","getup","giant","gibberish","giblet","giddily","giddiness","giddy","gift","gigabyte","gigahertz","gigantic","giggle","giggling","giggly","gigolo","gilled","gills","gimmick","girdle","giveaway","given","giver","giving","gizmo","gizzard","glacial","glacier","glade","gladiator","gladly","glamorous","glamour","glance","glancing","glandular","glare","glaring","glass","glaucoma","glazing","gleaming","gleeful","glider","gliding","glimmer","glimpse","glisten","glitch","glitter","glitzy","gloater","gloating","gloomily","gloomy","glorified","glorifier","glorify","glorious","glory","gloss","glove","glowing","glowworm","glucose","glue","gluten","glutinous","glutton","gnarly","gnat","goal","goatskin","goes","goggles","going","goldfish","goldmine","goldsmith","golf","goliath","gonad","gondola","gone","gong","good","gooey","goofball","goofiness","goofy","google","goon","gopher","gore","gorged","gorgeous","gory","gosling","gossip","gothic","gotten","gout","gown","grab","graceful","graceless","gracious","gradation","graded","grader","gradient","grading","gradually","graduate","graffiti","grafted","grafting","grain","granddad","grandkid","grandly","grandma","grandpa","grandson","granite","granny","granola","grant","granular","grape","graph","grapple","grappling","grasp","grass","gratified","gratify","grating","gratitude","gratuity","gravel","graveness","graves","graveyard","gravitate","gravity","gravy","gray","grazing","greasily","greedily","greedless","greedy","green","greeter","greeting","grew","greyhound","grid","grief","grievance","grieving","grievous","grill","grimace","grimacing","grime","griminess","grimy","grinch","grinning","grip","gristle","grit","groggily","groggy","groin","groom","groove","grooving","groovy","grope","ground","grouped","grout","grove","grower","growing","growl","grub","grudge","grudging","grueling","gruffly","grumble","grumbling","grumbly","grumpily","grunge","grunt","guacamole","guidable","guidance","guide","guiding","guileless","guise","gulf","gullible","gully","gulp","gumball","gumdrop","gumminess","gumming","gummy","gurgle","gurgling","guru","gush","gusto","gusty","gutless","guts","gutter","guy","guzzler","gyration","habitable","habitant","habitat","habitual","hacked","hacker","hacking","hacksaw","had","haggler","haiku","half","halogen","halt","halved","halves","hamburger","hamlet","hammock","hamper","hamster","hamstring","handbag","handball","handbook","handbrake","handcart","handclap","handclasp","handcraft","handcuff","handed","handful","handgrip","handgun","handheld","handiness","handiwork","handlebar","handled","handler","handling","handmade","handoff","handpick","handprint","handrail","handsaw","handset","handsfree","handshake","handstand","handwash","handwork","handwoven","handwrite","handyman","hangnail","hangout","hangover","hangup","hankering","hankie","hanky","haphazard","happening","happier","happiest","happily","happiness","happy","harbor","hardcopy","hardcore","hardcover","harddisk","hardened","hardener","hardening","hardhat","hardhead","hardiness","hardly","hardness","hardship","hardware","hardwired","hardwood","hardy","harmful","harmless","harmonica","harmonics","harmonize","harmony","harness","harpist","harsh","harvest","hash","hassle","haste","hastily","hastiness","hasty","hatbox","hatchback","hatchery","hatchet","hatching","hatchling","hate","hatless","hatred","haunt","haven","hazard","hazelnut","hazily","haziness","hazing","hazy","headache","headband","headboard","headcount","headdress","headed","header","headfirst","headgear","heading","headlamp","headless","headlock","headphone","headpiece","headrest","headroom","headscarf","headset","headsman","headstand","headstone","headway","headwear","heap","heat","heave","heavily","heaviness","heaving","hedge","hedging","heftiness","hefty","helium","helmet","helper","helpful","helping","helpless","helpline","hemlock","hemstitch","hence","henchman","henna","herald","herbal","herbicide","herbs","heritage","hermit","heroics","heroism","herring","herself","hertz","hesitancy","hesitant","hesitate","hexagon","hexagram","hubcap","huddle","huddling","huff","hug","hula","hulk","hull","human","humble","humbling","humbly","humid","humiliate","humility","humming","hummus","humongous","humorist","humorless","humorous","humpback","humped","humvee","hunchback","hundredth","hunger","hungrily","hungry","hunk","hunter","hunting","huntress","huntsman","hurdle","hurled","hurler","hurling","hurray","hurricane","hurried","hurry","hurt","husband","hush","husked","huskiness","hut","hybrid","hydrant","hydrated","hydration","hydrogen","hydroxide","hyperlink","hypertext","hyphen","hypnoses","hypnosis","hypnotic","hypnotism","hypnotist","hypnotize","hypocrisy","hypocrite","ibuprofen","ice","iciness","icing","icky","icon","icy","idealism","idealist","idealize","ideally","idealness","identical","identify","identity","ideology","idiocy","idiom","idly","igloo","ignition","ignore","iguana","illicitly","illusion","illusive","image","imaginary","imagines","imaging","imbecile","imitate","imitation","immature","immerse","immersion","imminent","immobile","immodest","immorally","immortal","immovable","immovably","immunity","immunize","impaired","impale","impart","impatient","impeach","impeding","impending","imperfect","imperial","impish","implant","implement","implicate","implicit","implode","implosion","implosive","imply","impolite","important","importer","impose","imposing","impotence","impotency","impotent","impound","imprecise","imprint","imprison","impromptu","improper","improve","improving","improvise","imprudent","impulse","impulsive","impure","impurity","iodine","iodize","ion","ipad","iphone","ipod","irate","irk","iron","irregular","irrigate","irritable","irritably","irritant","irritate","islamic","islamist","isolated","isolating","isolation","isotope","issue","issuing","italicize","italics","item","itinerary","itunes","ivory","ivy","jab","jackal","jacket","jackknife","jackpot","jailbird","jailbreak","jailer","jailhouse","jalapeno","jam","janitor","january","jargon","jarring","jasmine","jaundice","jaunt","java","jawed","jawless","jawline","jaws","jaybird","jaywalker","jazz","jeep","jeeringly","jellied","jelly","jersey","jester","jet","jiffy","jigsaw","jimmy","jingle","jingling","jinx","jitters","jittery","job","jockey","jockstrap","jogger","jogging","john","joining","jokester","jokingly","jolliness","jolly","jolt","jot","jovial","joyfully","joylessly","joyous","joyride","joystick","jubilance","jubilant","judge","judgingly","judicial","judiciary","judo","juggle","juggling","jugular","juice","juiciness","juicy","jujitsu","jukebox","july","jumble","jumbo","jump","junction","juncture","june","junior","juniper","junkie","junkman","junkyard","jurist","juror","jury","justice","justifier","justify","justly","justness","juvenile","kabob","kangaroo","karaoke","karate","karma","kebab","keenly","keenness","keep","keg","kelp","kennel","kept","kerchief","kerosene","kettle","kick","kiln","kilobyte","kilogram","kilometer","kilowatt","kilt","kimono","kindle","kindling","kindly","kindness","kindred","kinetic","kinfolk","king","kinship","kinsman","kinswoman","kissable","kisser","kissing","kitchen","kite","kitten","kitty","kiwi","kleenex","knapsack","knee","knelt","knickers","knoll","koala","kooky","kosher","krypton","kudos","kung","labored","laborer","laboring","laborious","labrador","ladder","ladies","ladle","ladybug","ladylike","lagged","lagging","lagoon","lair","lake","lance","landed","landfall","landfill","landing","landlady","landless","landline","landlord","landmark","landmass","landmine","landowner","landscape","landside","landslide","language","lankiness","lanky","lantern","lapdog","lapel","lapped","lapping","laptop","lard","large","lark","lash","lasso","last","latch","late","lather","latitude","latrine","latter","latticed","launch","launder","laundry","laurel","lavender","lavish","laxative","lazily","laziness","lazy","lecturer","left","legacy","legal","legend","legged","leggings","legible","legibly","legislate","lego","legroom","legume","legwarmer","legwork","lemon","lend","length","lens","lent","leotard","lesser","letdown","lethargic","lethargy","letter","lettuce","level","leverage","levers","levitate","levitator","liability","liable","liberty","librarian","library","licking","licorice","lid","life","lifter","lifting","liftoff","ligament","likely","likeness","likewise","liking","lilac","lilly","lily","limb","limeade","limelight","limes","limit","limping","limpness","line","lingo","linguini","linguist","lining","linked","linoleum","linseed","lint","lion","lip","liquefy","liqueur","liquid","lisp","list","litigate","litigator","litmus","litter","little","livable","lived","lively","liver","livestock","lividly","living","lizard","lubricant","lubricate","lucid","luckily","luckiness","luckless","lucrative","ludicrous","lugged","lukewarm","lullaby","lumber","luminance","luminous","lumpiness","lumping","lumpish","lunacy","lunar","lunchbox","luncheon","lunchroom","lunchtime","lung","lurch","lure","luridness","lurk","lushly","lushness","luster","lustfully","lustily","lustiness","lustrous","lusty","luxurious","luxury","lying","lyrically","lyricism","lyricist","lyrics","macarena","macaroni","macaw","mace","machine","machinist","magazine","magenta","maggot","magical","magician","magma","magnesium","magnetic","magnetism","magnetize","magnifier","magnify","magnitude","magnolia","mahogany","maimed","majestic","majesty","majorette","majority","makeover","maker","makeshift","making","malformed","malt","mama","mammal","mammary","mammogram","manager","managing","manatee","mandarin","mandate","mandatory","mandolin","manger","mangle","mango","mangy","manhandle","manhole","manhood","manhunt","manicotti","manicure","manifesto","manila","mankind","manlike","manliness","manly","manmade","manned","mannish","manor","manpower","mantis","mantra","manual","many","map","marathon","marauding","marbled","marbles","marbling","march","mardi","margarine","margarita","margin","marigold","marina","marine","marital","maritime","marlin","marmalade","maroon","married","marrow","marry","marshland","marshy","marsupial","marvelous","marxism","mascot","masculine","mashed","mashing","massager","masses","massive","mastiff","matador","matchbook","matchbox","matcher","matching","matchless","material","maternal","maternity","math","mating","matriarch","matrimony","matrix","matron","matted","matter","maturely","maturing","maturity","mauve","maverick","maximize","maximum","maybe","mayday","mayflower","moaner","moaning","mobile","mobility","mobilize","mobster","mocha","mocker","mockup","modified","modify","modular","modulator","module","moisten","moistness","moisture","molar","molasses","mold","molecular","molecule","molehill","mollusk","mom","monastery","monday","monetary","monetize","moneybags","moneyless","moneywise","mongoose","mongrel","monitor","monkhood","monogamy","monogram","monologue","monopoly","monorail","monotone","monotype","monoxide","monsieur","monsoon","monstrous","monthly","monument","moocher","moodiness","moody","mooing","moonbeam","mooned","moonlight","moonlike","moonlit","moonrise","moonscape","moonshine","moonstone","moonwalk","mop","morale","morality","morally","morbidity","morbidly","morphine","morphing","morse","mortality","mortally","mortician","mortified","mortify","mortuary","mosaic","mossy","most","mothball","mothproof","motion","motivate","motivator","motive","motocross","motor","motto","mountable","mountain","mounted","mounting","mourner","mournful","mouse","mousiness","moustache","mousy","mouth","movable","move","movie","moving","mower","mowing","much","muck","mud","mug","mulberry","mulch","mule","mulled","mullets","multiple","multiply","multitask","multitude","mumble","mumbling","mumbo","mummified","mummify","mummy","mumps","munchkin","mundane","municipal","muppet","mural","murkiness","murky","murmuring","muscular","museum","mushily","mushiness","mushroom","mushy","music","musket","muskiness","musky","mustang","mustard","muster","mustiness","musty","mutable","mutate","mutation","mute","mutilated","mutilator","mutiny","mutt","mutual","muzzle","myself","myspace","mystified","mystify","myth","nacho","nag","nail","name","naming","nanny","nanometer","nape","napkin","napped","napping","nappy","narrow","nastily","nastiness","national","native","nativity","natural","nature","naturist","nautical","navigate","navigator","navy","nearby","nearest","nearly","nearness","neatly","neatness","nebula","nebulizer","nectar","negate","negation","negative","neglector","negligee","negligent","negotiate","nemeses","nemesis","neon","nephew","nerd","nervous","nervy","nest","net","neurology","neuron","neurosis","neurotic","neuter","neutron","never","next","nibble","nickname","nicotine","niece","nifty","nimble","nimbly","nineteen","ninetieth","ninja","nintendo","ninth","nuclear","nuclei","nucleus","nugget","nullify","number","numbing","numbly","numbness","numeral","numerate","numerator","numeric","numerous","nuptials","nursery","nursing","nurture","nutcase","nutlike","nutmeg","nutrient","nutshell","nuttiness","nutty","nuzzle","nylon","oaf","oak","oasis","oat","obedience","obedient","obituary","object","obligate","obliged","oblivion","oblivious","oblong","obnoxious","oboe","obscure","obscurity","observant","observer","observing","obsessed","obsession","obsessive","obsolete","obstacle","obstinate","obstruct","obtain","obtrusive","obtuse","obvious","occultist","occupancy","occupant","occupier","occupy","ocean","ocelot","octagon","octane","october","octopus","ogle","oil","oink","ointment","okay","old","olive","olympics","omega","omen","ominous","omission","omit","omnivore","onboard","oncoming","ongoing","onion","online","onlooker","only","onscreen","onset","onshore","onslaught","onstage","onto","onward","onyx","oops","ooze","oozy","opacity","opal","open","operable","operate","operating","operation","operative","operator","opium","opossum","opponent","oppose","opposing","opposite","oppressed","oppressor","opt","opulently","osmosis","other","otter","ouch","ought","ounce","outage","outback","outbid","outboard","outbound","outbreak","outburst","outcast","outclass","outcome","outdated","outdoors","outer","outfield","outfit","outflank","outgoing","outgrow","outhouse","outing","outlast","outlet","outline","outlook","outlying","outmatch","outmost","outnumber","outplayed","outpost","outpour","output","outrage","outrank","outreach","outright","outscore","outsell","outshine","outshoot","outsider","outskirts","outsmart","outsource","outspoken","outtakes","outthink","outward","outweigh","outwit","oval","ovary","oven","overact","overall","overarch","overbid","overbill","overbite","overblown","overboard","overbook","overbuilt","overcast","overcoat","overcome","overcook","overcrowd","overdraft","overdrawn","overdress","overdrive","overdue","overeager","overeater","overexert","overfed","overfeed","overfill","overflow","overfull","overgrown","overhand","overhang","overhaul","overhead","overhear","overheat","overhung","overjoyed","overkill","overlabor","overlaid","overlap","overlay","overload","overlook","overlord","overlying","overnight","overpass","overpay","overplant","overplay","overpower","overprice","overrate","overreach","overreact","override","overripe","overrule","overrun","overshoot","overshot","oversight","oversized","oversleep","oversold","overspend","overstate","overstay","overstep","overstock","overstuff","oversweet","overtake","overthrow","overtime","overtly","overtone","overture","overturn","overuse","overvalue","overview","overwrite","owl","oxford","oxidant","oxidation","oxidize","oxidizing","oxygen","oxymoron","oyster","ozone","paced","pacemaker","pacific","pacifier","pacifism","pacifist","pacify","padded","padding","paddle","paddling","padlock","pagan","pager","paging","pajamas","palace","palatable","palm","palpable","palpitate","paltry","pampered","pamperer","pampers","pamphlet","panama","pancake","pancreas","panda","pandemic","pang","panhandle","panic","panning","panorama","panoramic","panther","pantomime","pantry","pants","pantyhose","paparazzi","papaya","paper","paprika","papyrus","parabola","parachute","parade","paradox","paragraph","parakeet","paralegal","paralyses","paralysis","paralyze","paramedic","parameter","paramount","parasail","parasite","parasitic","parcel","parched","parchment","pardon","parish","parka","parking","parkway","parlor","parmesan","parole","parrot","parsley","parsnip","partake","parted","parting","partition","partly","partner","partridge","party","passable","passably","passage","passcode","passenger","passerby","passing","passion","passive","passivism","passover","passport","password","pasta","pasted","pastel","pastime","pastor","pastrami","pasture","pasty","patchwork","patchy","paternal","paternity","path","patience","patient","patio","patriarch","patriot","patrol","patronage","patronize","pauper","pavement","paver","pavestone","pavilion","paving","pawing","payable","payback","paycheck","payday","payee","payer","paying","payment","payphone","payroll","pebble","pebbly","pecan","pectin","peculiar","peddling","pediatric","pedicure","pedigree","pedometer","pegboard","pelican","pellet","pelt","pelvis","penalize","penalty","pencil","pendant","pending","penholder","penknife","pennant","penniless","penny","penpal","pension","pentagon","pentagram","pep","perceive","percent","perch","percolate","perennial","perfected","perfectly","perfume","periscope","perish","perjurer","perjury","perkiness","perky","perm","peroxide","perpetual","perplexed","persecute","persevere","persuaded","persuader","pesky","peso","pessimism","pessimist","pester","pesticide","petal","petite","petition","petri","petroleum","petted","petticoat","pettiness","petty","petunia","phantom","phobia","phoenix","phonebook","phoney","phonics","phoniness","phony","phosphate","photo","phrase","phrasing","placard","placate","placidly","plank","planner","plant","plasma","plaster","plastic","plated","platform","plating","platinum","platonic","platter","platypus","plausible","plausibly","playable","playback","player","playful","playgroup","playhouse","playing","playlist","playmaker","playmate","playoff","playpen","playroom","playset","plaything","playtime","plaza","pleading","pleat","pledge","plentiful","plenty","plethora","plexiglas","pliable","plod","plop","plot","plow","ploy","pluck","plug","plunder","plunging","plural","plus","plutonium","plywood","poach","pod","poem","poet","pogo","pointed","pointer","pointing","pointless","pointy","poise","poison","poker","poking","polar","police","policy","polio","polish","politely","polka","polo","polyester","polygon","polygraph","polymer","poncho","pond","pony","popcorn","pope","poplar","popper","poppy","popsicle","populace","popular","populate","porcupine","pork","porous","porridge","portable","portal","portfolio","porthole","portion","portly","portside","poser","posh","posing","possible","possibly","possum","postage","postal","postbox","postcard","posted","poster","posting","postnasal","posture","postwar","pouch","pounce","pouncing","pound","pouring","pout","powdered","powdering","powdery","power","powwow","pox","praising","prance","prancing","pranker","prankish","prankster","prayer","praying","preacher","preaching","preachy","preamble","precinct","precise","precision","precook","precut","predator","predefine","predict","preface","prefix","preflight","preformed","pregame","pregnancy","pregnant","preheated","prelaunch","prelaw","prelude","premiere","premises","premium","prenatal","preoccupy","preorder","prepaid","prepay","preplan","preppy","preschool","prescribe","preseason","preset","preshow","president","presoak","press","presume","presuming","preteen","pretended","pretender","pretense","pretext","pretty","pretzel","prevail","prevalent","prevent","preview","previous","prewar","prewashed","prideful","pried","primal","primarily","primary","primate","primer","primp","princess","print","prior","prism","prison","prissy","pristine","privacy","private","privatize","prize","proactive","probable","probably","probation","probe","probing","probiotic","problem","procedure","process","proclaim","procreate","procurer","prodigal","prodigy","produce","product","profane","profanity","professed","professor","profile","profound","profusely","progeny","prognosis","program","progress","projector","prologue","prolonged","promenade","prominent","promoter","promotion","prompter","promptly","prone","prong","pronounce","pronto","proofing","proofread","proofs","propeller","properly","property","proponent","proposal","propose","props","prorate","protector","protegee","proton","prototype","protozoan","protract","protrude","proud","provable","proved","proven","provided","provider","providing","province","proving","provoke","provoking","provolone","prowess","prowler","prowling","proximity","proxy","prozac","prude","prudishly","prune","pruning","pry","psychic","public","publisher","pucker","pueblo","pug","pull","pulmonary","pulp","pulsate","pulse","pulverize","puma","pumice","pummel","punch","punctual","punctuate","punctured","pungent","punisher","punk","pupil","puppet","puppy","purchase","pureblood","purebred","purely","pureness","purgatory","purge","purging","purifier","purify","purist","puritan","purity","purple","purplish","purposely","purr","purse","pursuable","pursuant","pursuit","purveyor","pushcart","pushchair","pusher","pushiness","pushing","pushover","pushpin","pushup","pushy","putdown","putt","puzzle","puzzling","pyramid","pyromania","python","quack","quadrant","quail","quaintly","quake","quaking","qualified","qualifier","qualify","quality","qualm","quantum","quarrel","quarry","quartered","quarterly","quarters","quartet","quench","query","quicken","quickly","quickness","quicksand","quickstep","quiet","quill","quilt","quintet","quintuple","quirk","quit","quiver","quizzical","quotable","quotation","quote","rabid","race","racing","racism","rack","racoon","radar","radial","radiance","radiantly","radiated","radiation","radiator","radio","radish","raffle","raft","rage","ragged","raging","ragweed","raider","railcar","railing","railroad","railway","raisin","rake","raking","rally","ramble","rambling","ramp","ramrod","ranch","rancidity","random","ranged","ranger","ranging","ranked","ranking","ransack","ranting","rants","rare","rarity","rascal","rash","rasping","ravage","raven","ravine","raving","ravioli","ravishing","reabsorb","reach","reacquire","reaction","reactive","reactor","reaffirm","ream","reanalyze","reappear","reapply","reappoint","reapprove","rearrange","rearview","reason","reassign","reassure","reattach","reawake","rebalance","rebate","rebel","rebirth","reboot","reborn","rebound","rebuff","rebuild","rebuilt","reburial","rebuttal","recall","recant","recapture","recast","recede","recent","recess","recharger","recipient","recital","recite","reckless","reclaim","recliner","reclining","recluse","reclusive","recognize","recoil","recollect","recolor","reconcile","reconfirm","reconvene","recopy","record","recount","recoup","recovery","recreate","rectal","rectangle","rectified","rectify","recycled","recycler","recycling","reemerge","reenact","reenter","reentry","reexamine","referable","referee","reference","refill","refinance","refined","refinery","refining","refinish","reflected","reflector","reflex","reflux","refocus","refold","reforest","reformat","reformed","reformer","reformist","refract","refrain","refreeze","refresh","refried","refueling","refund","refurbish","refurnish","refusal","refuse","refusing","refutable","refute","regain","regalia","regally","reggae","regime","region","register","registrar","registry","regress","regretful","regroup","regular","regulate","regulator","rehab","reheat","rehire","rehydrate","reimburse","reissue","reiterate","rejoice","rejoicing","rejoin","rekindle","relapse","relapsing","relatable","related","relation","relative","relax","relay","relearn","release","relenting","reliable","reliably","reliance","reliant","relic","relieve","relieving","relight","relish","relive","reload","relocate","relock","reluctant","rely","remake","remark","remarry","rematch","remedial","remedy","remember","reminder","remindful","remission","remix","remnant","remodeler","remold","remorse","remote","removable","removal","removed","remover","removing","rename","renderer","rendering","rendition","renegade","renewable","renewably","renewal","renewed","renounce","renovate","renovator","rentable","rental","rented","renter","reoccupy","reoccur","reopen","reorder","repackage","repacking","repaint","repair","repave","repaying","repayment","repeal","repeated","repeater","repent","rephrase","replace","replay","replica","reply","reporter","repose","repossess","repost","repressed","reprimand","reprint","reprise","reproach","reprocess","reproduce","reprogram","reps","reptile","reptilian","repugnant","repulsion","repulsive","repurpose","reputable","reputably","request","require","requisite","reroute","rerun","resale","resample","rescuer","reseal","research","reselect","reseller","resemble","resend","resent","reset","reshape","reshoot","reshuffle","residence","residency","resident","residual","residue","resigned","resilient","resistant","resisting","resize","resolute","resolved","resonant","resonate","resort","resource","respect","resubmit","result","resume","resupply","resurface","resurrect","retail","retainer","retaining","retake","retaliate","retention","rethink","retinal","retired","retiree","retiring","retold","retool","retorted","retouch","retrace","retract","retrain","retread","retreat","retrial","retrieval","retriever","retry","return","retying","retype","reunion","reunite","reusable","reuse","reveal","reveler","revenge","revenue","reverb","revered","reverence","reverend","reversal","reverse","reversing","reversion","revert","revisable","revise","revision","revisit","revivable","revival","reviver","reviving","revocable","revoke","revolt","revolver","revolving","reward","rewash","rewind","rewire","reword","rework","rewrap","rewrite","rhyme","ribbon","ribcage","rice","riches","richly","richness","rickety","ricotta","riddance","ridden","ride","riding","rifling","rift","rigging","rigid","rigor","rimless","rimmed","rind","rink","rinse","rinsing","riot","ripcord","ripeness","ripening","ripping","ripple","rippling","riptide","rise","rising","risk","risotto","ritalin","ritzy","rival","riverbank","riverbed","riverboat","riverside","riveter","riveting","roamer","roaming","roast","robbing","robe","robin","robotics","robust","rockband","rocker","rocket","rockfish","rockiness","rocking","rocklike","rockslide","rockstar","rocky","rogue","roman","romp","rope","roping","roster","rosy","rotten","rotting","rotunda","roulette","rounding","roundish","roundness","roundup","roundworm","routine","routing","rover","roving","royal","rubbed","rubber","rubbing","rubble","rubdown","ruby","ruckus","rudder","rug","ruined","rule","rumble","rumbling","rummage","rumor","runaround","rundown","runner","running","runny","runt","runway","rupture","rural","ruse","rush","rust","rut","sabbath","sabotage","sacrament","sacred","sacrifice","sadden","saddlebag","saddled","saddling","sadly","sadness","safari","safeguard","safehouse","safely","safeness","saffron","saga","sage","sagging","saggy","said","saint","sake","salad","salami","salaried","salary","saline","salon","saloon","salsa","salt","salutary","salute","salvage","salvaging","salvation","same","sample","sampling","sanction","sanctity","sanctuary","sandal","sandbag","sandbank","sandbar","sandblast","sandbox","sanded","sandfish","sanding","sandlot","sandpaper","sandpit","sandstone","sandstorm","sandworm","sandy","sanitary","sanitizer","sank","santa","sapling","sappiness","sappy","sarcasm","sarcastic","sardine","sash","sasquatch","sassy","satchel","satiable","satin","satirical","satisfied","satisfy","saturate","saturday","sauciness","saucy","sauna","savage","savanna","saved","savings","savior","savor","saxophone","say","scabbed","scabby","scalded","scalding","scale","scaling","scallion","scallop","scalping","scam","scandal","scanner","scanning","scant","scapegoat","scarce","scarcity","scarecrow","scared","scarf","scarily","scariness","scarring","scary","scavenger","scenic","schedule","schematic","scheme","scheming","schilling","schnapps","scholar","science","scientist","scion","scoff","scolding","scone","scoop","scooter","scope","scorch","scorebook","scorecard","scored","scoreless","scorer","scoring","scorn","scorpion","scotch","scoundrel","scoured","scouring","scouting","scouts","scowling","scrabble","scraggly","scrambled","scrambler","scrap","scratch","scrawny","screen","scribble","scribe","scribing","scrimmage","script","scroll","scrooge","scrounger","scrubbed","scrubber","scruffy","scrunch","scrutiny","scuba","scuff","sculptor","sculpture","scurvy","scuttle","secluded","secluding","seclusion","second","secrecy","secret","sectional","sector","secular","securely","security","sedan","sedate","sedation","sedative","sediment","seduce","seducing","segment","seismic","seizing","seldom","selected","selection","selective","selector","self","seltzer","semantic","semester","semicolon","semifinal","seminar","semisoft","semisweet","senate","senator","send","senior","senorita","sensation","sensitive","sensitize","sensually","sensuous","sepia","september","septic","septum","sequel","sequence","sequester","series","sermon","serotonin","serpent","serrated","serve","service","serving","sesame","sessions","setback","setting","settle","settling","setup","sevenfold","seventeen","seventh","seventy","severity","shabby","shack","shaded","shadily","shadiness","shading","shadow","shady","shaft","shakable","shakily","shakiness","shaking","shaky","shale","shallot","shallow","shame","shampoo","shamrock","shank","shanty","shape","shaping","share","sharpener","sharper","sharpie","sharply","sharpness","shawl","sheath","shed","sheep","sheet","shelf","shell","shelter","shelve","shelving","sherry","shield","shifter","shifting","shiftless","shifty","shimmer","shimmy","shindig","shine","shingle","shininess","shining","shiny","ship","shirt","shivering","shock","shone","shoplift","shopper","shopping","shoptalk","shore","shortage","shortcake","shortcut","shorten","shorter","shorthand","shortlist","shortly","shortness","shorts","shortwave","shorty","shout","shove","showbiz","showcase","showdown","shower","showgirl","showing","showman","shown","showoff","showpiece","showplace","showroom","showy","shrank","shrapnel","shredder","shredding","shrewdly","shriek","shrill","shrimp","shrine","shrink","shrivel","shrouded","shrubbery","shrubs","shrug","shrunk","shucking","shudder","shuffle","shuffling","shun","shush","shut","shy","siamese","siberian","sibling","siding","sierra","siesta","sift","sighing","silenced","silencer","silent","silica","silicon","silk","silliness","silly","silo","silt","silver","similarly","simile","simmering","simple","simplify","simply","sincere","sincerity","singer","singing","single","singular","sinister","sinless","sinner","sinuous","sip","siren","sister","sitcom","sitter","sitting","situated","situation","sixfold","sixteen","sixth","sixties","sixtieth","sixtyfold","sizable","sizably","size","sizing","sizzle","sizzling","skater","skating","skedaddle","skeletal","skeleton","skeptic","sketch","skewed","skewer","skid","skied","skier","skies","skiing","skilled","skillet","skillful","skimmed","skimmer","skimming","skimpily","skincare","skinhead","skinless","skinning","skinny","skintight","skipper","skipping","skirmish","skirt","skittle","skydiver","skylight","skyline","skype","skyrocket","skyward","slab","slacked","slacker","slacking","slackness","slacks","slain","slam","slander","slang","slapping","slapstick","slashed","slashing","slate","slather","slaw","sled","sleek","sleep","sleet","sleeve","slept","sliceable","sliced","slicer","slicing","slick","slider","slideshow","sliding","slighted","slighting","slightly","slimness","slimy","slinging","slingshot","slinky","slip","slit","sliver","slobbery","slogan","sloped","sloping","sloppily","sloppy","slot","slouching","slouchy","sludge","slug","slum","slurp","slush","sly","small","smartly","smartness","smasher","smashing","smashup","smell","smelting","smile","smilingly","smirk","smite","smith","smitten","smock","smog","smoked","smokeless","smokiness","smoking","smoky","smolder","smooth","smother","smudge","smudgy","smuggler","smuggling","smugly","smugness","snack","snagged","snaking","snap","snare","snarl","snazzy","sneak","sneer","sneeze","sneezing","snide","sniff","snippet","snipping","snitch","snooper","snooze","snore","snoring","snorkel","snort","snout","snowbird","snowboard","snowbound","snowcap","snowdrift","snowdrop","snowfall","snowfield","snowflake","snowiness","snowless","snowman","snowplow","snowshoe","snowstorm","snowsuit","snowy","snub","snuff","snuggle","snugly","snugness","speak","spearfish","spearhead","spearman","spearmint","species","specimen","specked","speckled","specks","spectacle","spectator","spectrum","speculate","speech","speed","spellbind","speller","spelling","spendable","spender","spending","spent","spew","sphere","spherical","sphinx","spider","spied","spiffy","spill","spilt","spinach","spinal","spindle","spinner","spinning","spinout","spinster","spiny","spiral","spirited","spiritism","spirits","spiritual","splashed","splashing","splashy","splatter","spleen","splendid","splendor","splice","splicing","splinter","splotchy","splurge","spoilage","spoiled","spoiler","spoiling","spoils","spoken","spokesman","sponge","spongy","sponsor","spoof","spookily","spooky","spool","spoon","spore","sporting","sports","sporty","spotless","spotlight","spotted","spotter","spotting","spotty","spousal","spouse","spout","sprain","sprang","sprawl","spray","spree","sprig","spring","sprinkled","sprinkler","sprint","sprite","sprout","spruce","sprung","spry","spud","spur","sputter","spyglass","squabble","squad","squall","squander","squash","squatted","squatter","squatting","squeak","squealer","squealing","squeamish","squeegee","squeeze","squeezing","squid","squiggle","squiggly","squint","squire","squirt","squishier","squishy","stability","stabilize","stable","stack","stadium","staff","stage","staging","stagnant","stagnate","stainable","stained","staining","stainless","stalemate","staleness","stalling","stallion","stamina","stammer","stamp","stand","stank","staple","stapling","starboard","starch","stardom","stardust","starfish","stargazer","staring","stark","starless","starlet","starlight","starlit","starring","starry","starship","starter","starting","startle","startling","startup","starved","starving","stash","state","static","statistic","statue","stature","status","statute","statutory","staunch","stays","steadfast","steadier","steadily","steadying","steam","steed","steep","steerable","steering","steersman","stegosaur","stellar","stem","stench","stencil","step","stereo","sterile","sterility","sterilize","sterling","sternness","sternum","stew","stick","stiffen","stiffly","stiffness","stifle","stifling","stillness","stilt","stimulant","stimulate","stimuli","stimulus","stinger","stingily","stinging","stingray","stingy","stinking","stinky","stipend","stipulate","stir","stitch","stock","stoic","stoke","stole","stomp","stonewall","stoneware","stonework","stoning","stony","stood","stooge","stool","stoop","stoplight","stoppable","stoppage","stopped","stopper","stopping","stopwatch","storable","storage","storeroom","storewide","storm","stout","stove","stowaway","stowing","straddle","straggler","strained","strainer","straining","strangely","stranger","strangle","strategic","strategy","stratus","straw","stray","streak","stream","street","strength","strenuous","strep","stress","stretch","strewn","stricken","strict","stride","strife","strike","striking","strive","striving","strobe","strode","stroller","strongbox","strongly","strongman","struck","structure","strudel","struggle","strum","strung","strut","stubbed","stubble","stubbly","stubborn","stucco","stuck","student","studied","studio","study","stuffed","stuffing","stuffy","stumble","stumbling","stump","stung","stunned","stunner","stunning","stunt","stupor","sturdily","sturdy","styling","stylishly","stylist","stylized","stylus","suave","subarctic","subatomic","subdivide","subdued","subduing","subfloor","subgroup","subheader","subject","sublease","sublet","sublevel","sublime","submarine","submerge","submersed","submitter","subpanel","subpar","subplot","subprime","subscribe","subscript","subsector","subside","subsiding","subsidize","subsidy","subsoil","subsonic","substance","subsystem","subtext","subtitle","subtly","subtotal","subtract","subtype","suburb","subway","subwoofer","subzero","succulent","such","suction","sudden","sudoku","suds","sufferer","suffering","suffice","suffix","suffocate","suffrage","sugar","suggest","suing","suitable","suitably","suitcase","suitor","sulfate","sulfide","sulfite","sulfur","sulk","sullen","sulphate","sulphuric","sultry","superbowl","superglue","superhero","superior","superjet","superman","supermom","supernova","supervise","supper","supplier","supply","support","supremacy","supreme","surcharge","surely","sureness","surface","surfacing","surfboard","surfer","surgery","surgical","surging","surname","surpass","surplus","surprise","surreal","surrender","surrogate","surround","survey","survival","survive","surviving","survivor","sushi","suspect","suspend","suspense","sustained","sustainer","swab","swaddling","swagger","swampland","swan","swapping","swarm","sway","swear","sweat","sweep","swell","swept","swerve","swifter","swiftly","swiftness","swimmable","swimmer","swimming","swimsuit","swimwear","swinger","swinging","swipe","swirl","switch","swivel","swizzle","swooned","swoop","swoosh","swore","sworn","swung","sycamore","sympathy","symphonic","symphony","symptom","synapse","syndrome","synergy","synopses","synopsis","synthesis","synthetic","syrup","system","t-shirt","tabasco","tabby","tableful","tables","tablet","tableware","tabloid","tackiness","tacking","tackle","tackling","tacky","taco","tactful","tactical","tactics","tactile","tactless","tadpole","taekwondo","tag","tainted","take","taking","talcum","talisman","tall","talon","tamale","tameness","tamer","tamper","tank","tanned","tannery","tanning","tantrum","tapeless","tapered","tapering","tapestry","tapioca","tapping","taps","tarantula","target","tarmac","tarnish","tarot","tartar","tartly","tartness","task","tassel","taste","tastiness","tasting","tasty","tattered","tattle","tattling","tattoo","taunt","tavern","thank","that","thaw","theater","theatrics","thee","theft","theme","theology","theorize","thermal","thermos","thesaurus","these","thesis","thespian","thicken","thicket","thickness","thieving","thievish","thigh","thimble","thing","think","thinly","thinner","thinness","thinning","thirstily","thirsting","thirsty","thirteen","thirty","thong","thorn","those","thousand","thrash","thread","threaten","threefold","thrift","thrill","thrive","thriving","throat","throbbing","throng","throttle","throwaway","throwback","thrower","throwing","thud","thumb","thumping","thursday","thus","thwarting","thyself","tiara","tibia","tidal","tidbit","tidiness","tidings","tidy","tiger","tighten","tightly","tightness","tightrope","tightwad","tigress","tile","tiling","till","tilt","timid","timing","timothy","tinderbox","tinfoil","tingle","tingling","tingly","tinker","tinkling","tinsel","tinsmith","tint","tinwork","tiny","tipoff","tipped","tipper","tipping","tiptoeing","tiptop","tiring","tissue","trace","tracing","track","traction","tractor","trade","trading","tradition","traffic","tragedy","trailing","trailside","train","traitor","trance","tranquil","transfer","transform","translate","transpire","transport","transpose","trapdoor","trapeze","trapezoid","trapped","trapper","trapping","traps","trash","travel","traverse","travesty","tray","treachery","treading","treadmill","treason","treat","treble","tree","trekker","tremble","trembling","tremor","trench","trend","trespass","triage","trial","triangle","tribesman","tribunal","tribune","tributary","tribute","triceps","trickery","trickily","tricking","trickle","trickster","tricky","tricolor","tricycle","trident","tried","trifle","trifocals","trillion","trilogy","trimester","trimmer","trimming","trimness","trinity","trio","tripod","tripping","triumph","trivial","trodden","trolling","trombone","trophy","tropical","tropics","trouble","troubling","trough","trousers","trout","trowel","truce","truck","truffle","trump","trunks","trustable","trustee","trustful","trusting","trustless","truth","try","tubby","tubeless","tubular","tucking","tuesday","tug","tuition","tulip","tumble","tumbling","tummy","turban","turbine","turbofan","turbojet","turbulent","turf","turkey","turmoil","turret","turtle","tusk","tutor","tutu","tux","tweak","tweed","tweet","tweezers","twelve","twentieth","twenty","twerp","twice","twiddle","twiddling","twig","twilight","twine","twins","twirl","twistable","twisted","twister","twisting","twisty","twitch","twitter","tycoon","tying","tyke","udder","ultimate","ultimatum","ultra","umbilical","umbrella","umpire","unabashed","unable","unadorned","unadvised","unafraid","unaired","unaligned","unaltered","unarmored","unashamed","unaudited","unawake","unaware","unbaked","unbalance","unbeaten","unbend","unbent","unbiased","unbitten","unblended","unblessed","unblock","unbolted","unbounded","unboxed","unbraided","unbridle","unbroken","unbuckled","unbundle","unburned","unbutton","uncanny","uncapped","uncaring","uncertain","unchain","unchanged","uncharted","uncheck","uncivil","unclad","unclaimed","unclamped","unclasp","uncle","unclip","uncloak","unclog","unclothed","uncoated","uncoiled","uncolored","uncombed","uncommon","uncooked","uncork","uncorrupt","uncounted","uncouple","uncouth","uncover","uncross","uncrown","uncrushed","uncured","uncurious","uncurled","uncut","undamaged","undated","undaunted","undead","undecided","undefined","underage","underarm","undercoat","undercook","undercut","underdog","underdone","underfed","underfeed","underfoot","undergo","undergrad","underhand","underline","underling","undermine","undermost","underpaid","underpass","underpay","underrate","undertake","undertone","undertook","undertow","underuse","underwear","underwent","underwire","undesired","undiluted","undivided","undocked","undoing","undone","undrafted","undress","undrilled","undusted","undying","unearned","unearth","unease","uneasily","uneasy","uneatable","uneaten","unedited","unelected","unending","unengaged","unenvied","unequal","unethical","uneven","unexpired","unexposed","unfailing","unfair","unfasten","unfazed","unfeeling","unfiled","unfilled","unfitted","unfitting","unfixable","unfixed","unflawed","unfocused","unfold","unfounded","unframed","unfreeze","unfrosted","unfrozen","unfunded","unglazed","ungloved","unglue","ungodly","ungraded","ungreased","unguarded","unguided","unhappily","unhappy","unharmed","unhealthy","unheard","unhearing","unheated","unhelpful","unhidden","unhinge","unhitched","unholy","unhook","unicorn","unicycle","unified","unifier","uniformed","uniformly","unify","unimpeded","uninjured","uninstall","uninsured","uninvited","union","uniquely","unisexual","unison","unissued","unit","universal","universe","unjustly","unkempt","unkind","unknotted","unknowing","unknown","unlaced","unlatch","unlawful","unleaded","unlearned","unleash","unless","unleveled","unlighted","unlikable","unlimited","unlined","unlinked","unlisted","unlit","unlivable","unloaded","unloader","unlocked","unlocking","unlovable","unloved","unlovely","unloving","unluckily","unlucky","unmade","unmanaged","unmanned","unmapped","unmarked","unmasked","unmasking","unmatched","unmindful","unmixable","unmixed","unmolded","unmoral","unmovable","unmoved","unmoving","unnamable","unnamed","unnatural","unneeded","unnerve","unnerving","unnoticed","unopened","unopposed","unpack","unpadded","unpaid","unpainted","unpaired","unpaved","unpeeled","unpicked","unpiloted","unpinned","unplanned","unplanted","unpleased","unpledged","unplowed","unplug","unpopular","unproven","unquote","unranked","unrated","unraveled","unreached","unread","unreal","unreeling","unrefined","unrelated","unrented","unrest","unretired","unrevised","unrigged","unripe","unrivaled","unroasted","unrobed","unroll","unruffled","unruly","unrushed","unsaddle","unsafe","unsaid","unsalted","unsaved","unsavory","unscathed","unscented","unscrew","unsealed","unseated","unsecured","unseeing","unseemly","unseen","unselect","unselfish","unsent","unsettled","unshackle","unshaken","unshaved","unshaven","unsheathe","unshipped","unsightly","unsigned","unskilled","unsliced","unsmooth","unsnap","unsocial","unsoiled","unsold","unsolved","unsorted","unspoiled","unspoken","unstable","unstaffed","unstamped","unsteady","unsterile","unstirred","unstitch","unstopped","unstuck","unstuffed","unstylish","unsubtle","unsubtly","unsuited","unsure","unsworn","untagged","untainted","untaken","untamed","untangled","untapped","untaxed","unthawed","unthread","untidy","untie","until","untimed","untimely","untitled","untoasted","untold","untouched","untracked","untrained","untreated","untried","untrimmed","untrue","untruth","unturned","untwist","untying","unusable","unused","unusual","unvalued","unvaried","unvarying","unveiled","unveiling","unvented","unviable","unvisited","unvocal","unwanted","unwarlike","unwary","unwashed","unwatched","unweave","unwed","unwelcome","unwell","unwieldy","unwilling","unwind","unwired","unwitting","unwomanly","unworldly","unworn","unworried","unworthy","unwound","unwoven","unwrapped","unwritten","unzip","upbeat","upchuck","upcoming","upcountry","update","upfront","upgrade","upheaval","upheld","uphill","uphold","uplifted","uplifting","upload","upon","upper","upright","uprising","upriver","uproar","uproot","upscale","upside","upstage","upstairs","upstart","upstate","upstream","upstroke","upswing","uptake","uptight","uptown","upturned","upward","upwind","uranium","urban","urchin","urethane","urgency","urgent","urging","urologist","urology","usable","usage","useable","used","uselessly","user","usher","usual","utensil","utility","utilize","utmost","utopia","utter","vacancy","vacant","vacate","vacation","vagabond","vagrancy","vagrantly","vaguely","vagueness","valiant","valid","valium","valley","valuables","value","vanilla","vanish","vanity","vanquish","vantage","vaporizer","variable","variably","varied","variety","various","varmint","varnish","varsity","varying","vascular","vaseline","vastly","vastness","veal","vegan","veggie","vehicular","velcro","velocity","velvet","vendetta","vending","vendor","veneering","vengeful","venomous","ventricle","venture","venue","venus","verbalize","verbally","verbose","verdict","verify","verse","version","versus","vertebrae","vertical","vertigo","very","vessel","vest","veteran","veto","vexingly","viability","viable","vibes","vice","vicinity","victory","video","viewable","viewer","viewing","viewless","viewpoint","vigorous","village","villain","vindicate","vineyard","vintage","violate","violation","violator","violet","violin","viper","viral","virtual","virtuous","virus","visa","viscosity","viscous","viselike","visible","visibly","vision","visiting","visitor","visor","vista","vitality","vitalize","vitally","vitamins","vivacious","vividly","vividness","vixen","vocalist","vocalize","vocally","vocation","voice","voicing","void","volatile","volley","voltage","volumes","voter","voting","voucher","vowed","vowel","voyage","wackiness","wad","wafer","waffle","waged","wager","wages","waggle","wagon","wake","waking","walk","walmart","walnut","walrus","waltz","wand","wannabe","wanted","wanting","wasabi","washable","washbasin","washboard","washbowl","washcloth","washday","washed","washer","washhouse","washing","washout","washroom","washstand","washtub","wasp","wasting","watch","water","waviness","waving","wavy","whacking","whacky","wham","wharf","wheat","whenever","whiff","whimsical","whinny","whiny","whisking","whoever","whole","whomever","whoopee","whooping","whoops","why","wick","widely","widen","widget","widow","width","wieldable","wielder","wife","wifi","wikipedia","wildcard","wildcat","wilder","wildfire","wildfowl","wildland","wildlife","wildly","wildness","willed","willfully","willing","willow","willpower","wilt","wimp","wince","wincing","wind","wing","winking","winner","winnings","winter","wipe","wired","wireless","wiring","wiry","wisdom","wise","wish","wisplike","wispy","wistful","wizard","wobble","wobbling","wobbly","wok","wolf","wolverine","womanhood","womankind","womanless","womanlike","womanly","womb","woof","wooing","wool","woozy","word","work","worried","worrier","worrisome","worry","worsening","worshiper","worst","wound","woven","wow","wrangle","wrath","wreath","wreckage","wrecker","wrecking","wrench","wriggle","wriggly","wrinkle","wrinkly","wrist","writing","written","wrongdoer","wronged","wrongful","wrongly","wrongness","wrought","xbox","xerox","yahoo","yam","yanking","yapping","yard","yarn","yeah","yearbook","yearling","yearly","yearning","yeast","yelling","yelp","yen","yesterday","yiddish","yield","yin","yippee","yo-yo","yodel","yoga","yogurt","yonder","yoyo","yummy","zap","zealous","zebra","zen","zeppelin","zero","zestfully","zesty","zigzagged","zipfile","zipping","zippy","zips","zit","zodiac","zombie","zone","zoning","zookeeper","zoologist","zoology","zoom"]),D0e=Object.freeze(L0e.filter(t=>!t.includes("-")));function N0e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const wz=H.forwardRef(N0e);function k0e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const B0e=H.forwardRef(k0e);function U0e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const j0e=H.forwardRef(U0e);function z0e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const W0e=H.forwardRef(z0e);function G0e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const V0e=H.forwardRef(G0e);function H0e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const Y0e=H.forwardRef(H0e);function X0e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const Ag=H.forwardRef(X0e);function K0e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const Z0e=H.forwardRef(K0e);function J0e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const xz=H.forwardRef(J0e);function Q0e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const _0e=H.forwardRef(Q0e);function q0e({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const eve=H.forwardRef(q0e);function tve({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const Od=H.forwardRef(tve);function nve({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15M12 9l3 3m0 0-3 3m3-3H2.25"}))}const rve=H.forwardRef(nve);function ive({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const sve=H.forwardRef(ive);function ave({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const ove=H.forwardRef(ave);function lve({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const ox=H.forwardRef(lve);function uve({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const cve=H.forwardRef(uve);function dve({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const LS=H.forwardRef(dve);function hve({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const fve=H.forwardRef(hve);function pve({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const vve=H.forwardRef(pve);function gve({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const mve=H.forwardRef(gve);function yve({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const wve=H.forwardRef(yve);function xve({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}const lx=H.forwardRef(xve);function bve({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.864 4.243A7.5 7.5 0 0 1 19.5 10.5c0 2.92-.556 5.709-1.568 8.268M5.742 6.364A7.465 7.465 0 0 0 4.5 10.5a7.464 7.464 0 0 1-1.15 3.993m1.989 3.559A11.209 11.209 0 0 0 8.25 10.5a3.75 3.75 0 1 1 7.5 0c0 .527-.021 1.049-.064 1.565M12 10.5a14.94 14.94 0 0 1-3.6 9.75m6.633-4.596a18.666 18.666 0 0 1-2.485 5.33"}))}const DS=H.forwardRef(bve);function Cve({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const bz=H.forwardRef(Cve);function Eve({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const Sve=H.forwardRef(Eve);function Tve({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Ave=H.forwardRef(Tve);function Pve({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Zb=H.forwardRef(Pve);function Ive({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"}))}const Rve=H.forwardRef(Ive);var eu=KN();function Jh(t,e,n){let i=n.initialDeps??[],f;function b(){var s,y,r,o;let v;n.key&&((s=n.debug)!=null&&s.call(n))&&(v=Date.now());const c=t();if(!(c.length!==i.length||c.some((a,d)=>i[d]!==a)))return f;i=c;let l;if(n.key&&((y=n.debug)!=null&&y.call(n))&&(l=Date.now()),f=e(...c),n.key&&((r=n.debug)!=null&&r.call(n))){const a=Math.round((Date.now()-v)*100)/100,d=Math.round((Date.now()-l)*100)/100,p=d/16,h=(g,m)=>{for(g=String(g);g.length<m;)g=" "+g;return g};console.info(`%c ${h(d,5)} /${h(a,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*p,120))}deg 100% 31%);`,n?.key)}return(o=n?.onChange)==null||o.call(n,f),f}return b.updateDeps=s=>{i=s},b}function hM(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const Mve=(t,e)=>Math.abs(t-e)<1.01,Ove=(t,e,n)=>{let i;return function(...f){t.clearTimeout(i),i=t.setTimeout(()=>e.apply(this,f),n)}},fM=t=>{const{offsetWidth:e,offsetHeight:n}=t;return{width:e,height:n}},Fve=t=>t,$ve=t=>{const e=Math.max(t.startIndex-t.overscan,0),n=Math.min(t.endIndex+t.overscan,t.count-1),i=[];for(let f=e;f<=n;f++)i.push(f);return i},Lve=(t,e)=>{const n=t.scrollElement;if(!n)return;const i=t.targetWindow;if(!i)return;const f=s=>{const{width:y,height:r}=s;e({width:Math.round(y),height:Math.round(r)})};if(f(fM(n)),!i.ResizeObserver)return()=>{};const b=new i.ResizeObserver(s=>{const y=()=>{const r=s[0];if(r?.borderBoxSize){const o=r.borderBoxSize[0];if(o){f({width:o.inlineSize,height:o.blockSize});return}}f(fM(n))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(y):y()});return b.observe(n,{box:"border-box"}),()=>{b.unobserve(n)}},pM={passive:!0},vM=typeof window>"u"?!0:"onscrollend"in window,Dve=(t,e)=>{const n=t.scrollElement;if(!n)return;const i=t.targetWindow;if(!i)return;let f=0;const b=t.options.useScrollendEvent&&vM?()=>{}:Ove(i,()=>{e(f,!1)},t.options.isScrollingResetDelay),s=v=>()=>{const{horizontal:c,isRtl:u}=t.options;f=c?n.scrollLeft*(u&&-1||1):n.scrollTop,b(),e(f,v)},y=s(!0),r=s(!1);r(),n.addEventListener("scroll",y,pM);const o=t.options.useScrollendEvent&&vM;return o&&n.addEventListener("scrollend",r,pM),()=>{n.removeEventListener("scroll",y),o&&n.removeEventListener("scrollend",r)}},Nve=(t,e,n)=>{if(e?.borderBoxSize){const i=e.borderBoxSize[0];if(i)return Math.round(i[n.options.horizontal?"inlineSize":"blockSize"])}return t[n.options.horizontal?"offsetWidth":"offsetHeight"]},kve=(t,{adjustments:e=0,behavior:n},i)=>{var f,b;const s=t+e;(b=(f=i.scrollElement)==null?void 0:f.scrollTo)==null||b.call(f,{[i.options.horizontal?"left":"top"]:s,behavior:n})};class Bve{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const i=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(f=>{f.forEach(b=>{const s=()=>{this._measureElement(b.target,b)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(s):s()})}));return{disconnect:()=>{var f;(f=i())==null||f.disconnect(),n=null},observe:f=>{var b;return(b=i())==null?void 0:b.observe(f,{box:"border-box"})},unobserve:f=>{var b;return(b=i())==null?void 0:b.unobserve(f)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([i,f])=>{typeof f>"u"&&delete n[i]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Fve,rangeExtractor:$ve,onChange:()=>{},measureElement:Nve,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var i,f;(f=(i=this.options).onChange)==null||f.call(i,this,n)},this.maybeNotify=Jh(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const i=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==i){if(this.cleanup(),!i){this.maybeNotify();return}this.scrollElement=i,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(f=>{this.observer.observe(f)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,f=>{this.scrollRect=f,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(f,b)=>{this.scrollAdjustments=0,this.scrollDirection=b?this.getScrollOffset()<f?"forward":"backward":null,this.scrollOffset=f,this.isScrolling=b,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,i)=>{const f=new Map,b=new Map;for(let s=i-1;s>=0;s--){const y=n[s];if(f.has(y.lane))continue;const r=b.get(y.lane);if(r==null||y.end>r.end?b.set(y.lane,y):y.end<r.end&&f.set(y.lane,!0),f.size===this.options.lanes)break}return b.size===this.options.lanes?Array.from(b.values()).sort((s,y)=>s.end===y.end?s.index-y.index:s.end-y.end)[0]:void 0},this.getMeasurementOptions=Jh(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,i,f,b,s)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:i,scrollMargin:f,getItemKey:b,enabled:s}),{key:!1}),this.getMeasurements=Jh(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:i,scrollMargin:f,getItemKey:b,enabled:s},y)=>{if(!s)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(v=>{this.itemSizeCache.set(v.key,v.size)}));const r=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const o=this.measurementsCache.slice(0,r);for(let v=r;v<n;v++){const c=b(v),u=this.options.lanes===1?o[v-1]:this.getFurthestMeasurement(o,v),l=u?u.end+this.options.gap:i+f,a=y.get(c),d=typeof a=="number"?a:this.options.estimateSize(v),p=l+d,h=u?u.lane:v%this.options.lanes;o[v]={index:v,start:l,size:d,end:p,key:c,lane:h}}return this.measurementsCache=o,o},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Jh(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,i,f,b)=>this.range=n.length>0&&i>0?Uve({measurements:n,outerSize:i,scrollOffset:f,lanes:b}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Jh(()=>{let n=null,i=null;const f=this.calculateRange();return f&&(n=f.startIndex,i=f.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,i]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,i]},(n,i,f,b,s)=>b===null||s===null?[]:n({startIndex:b,endIndex:s,overscan:i,count:f}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const i=this.options.indexAttribute,f=n.getAttribute(i);return f?parseInt(f,10):(console.warn(`Missing attribute name '${i}={index}' on measured element.`),-1)},this._measureElement=(n,i)=>{const f=this.indexFromElement(n),b=this.measurementsCache[f];if(!b)return;const s=b.key,y=this.elementsCache.get(s);y!==n&&(y&&this.observer.unobserve(y),this.observer.observe(n),this.elementsCache.set(s,n)),n.isConnected&&this.resizeItem(f,this.options.measureElement(n,i,this))},this.resizeItem=(n,i)=>{const f=this.measurementsCache[n];if(!f)return;const b=this.itemSizeCache.get(f.key)??f.size,s=i-b;s!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(f,s,this):f.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=s,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(f.index),this.itemSizeCache=new Map(this.itemSizeCache.set(f.key,i)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((i,f)=>{i.isConnected||(this.observer.unobserve(i),this.elementsCache.delete(f))});return}this._measureElement(n,void 0)},this.getVirtualItems=Jh(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,i)=>{const f=[];for(let b=0,s=n.length;b<s;b++){const y=n[b],r=i[y];f.push(r)}return f},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const i=this.getMeasurements();if(i.length!==0)return hM(i[Cz(0,i.length-1,f=>hM(i[f]).start,n)])},this.getOffsetForAlignment=(n,i,f=0)=>{const b=this.getSize(),s=this.getScrollOffset();i==="auto"&&(i=n>=s+b?"end":"start"),i==="center"?n+=(f-b)/2:i==="end"&&(n-=b);const y=this.getTotalSize()+this.options.scrollMargin-b;return Math.max(Math.min(y,n),0)},this.getOffsetForIndex=(n,i="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const f=this.measurementsCache[n];if(!f)return;const b=this.getSize(),s=this.getScrollOffset();if(i==="auto")if(f.end>=s+b-this.options.scrollPaddingEnd)i="end";else if(f.start<=s+this.options.scrollPaddingStart)i="start";else return[s,i];const y=i==="end"?f.end+this.options.scrollPaddingEnd:f.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(y,i,f.size),i]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:i="start",behavior:f}={})=>{f==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,i),{adjustments:void 0,behavior:f})},this.scrollToIndex=(n,{align:i="auto",behavior:f}={})=>{f==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1));let b=0;const s=10,y=o=>{if(!this.targetWindow)return;const v=this.getOffsetForIndex(n,o);if(!v){console.warn("Failed to get offset for index:",n);return}const[c,u]=v;this._scrollToOffset(c,{adjustments:void 0,behavior:f}),this.targetWindow.requestAnimationFrame(()=>{const l=this.getScrollOffset(),a=this.getOffsetForIndex(n,u);if(!a){console.warn("Failed to get offset for index:",n);return}Mve(a[0],l)||r(u)})},r=o=>{this.targetWindow&&(b++,b<s?this.targetWindow.requestAnimationFrame(()=>y(o)):console.warn(`Failed to scroll to index ${n} after ${s} attempts.`))};y(i)},this.scrollBy=(n,{behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:i})},this.getTotalSize=()=>{var n;const i=this.getMeasurements();let f;if(i.length===0)f=this.options.paddingStart;else if(this.options.lanes===1)f=((n=i[i.length-1])==null?void 0:n.end)??0;else{const b=Array(this.options.lanes).fill(null);let s=i.length-1;for(;s>=0&&b.some(y=>y===null);){const y=i[s];b[y.lane]===null&&(b[y.lane]=y.end),s--}f=Math.max(...b.filter(y=>y!==null))}return Math.max(f-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:i,behavior:f})=>{this.options.scrollToFn(n,{behavior:f,adjustments:i},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const Cz=(t,e,n,i)=>{for(;t<=e;){const f=(t+e)/2|0,b=n(f);if(b<i)t=f+1;else if(b>i)e=f-1;else return f}return t>0?t-1:0};function Uve({measurements:t,outerSize:e,scrollOffset:n,lanes:i}){const f=t.length-1,b=r=>t[r].start;if(t.length<=i)return{startIndex:0,endIndex:f};let s=Cz(0,f,b,n),y=s;if(i===1)for(;y<f&&t[y].end<n+e;)y++;else if(i>1){const r=Array(i).fill(0);for(;y<f&&r.some(v=>v<n+e);){const v=t[y];r[v.lane]=v.end,y++}const o=Array(i).fill(n+e);for(;s>=0&&o.some(v=>v>=n);){const v=t[s];o[v.lane]=v.start,s--}s=Math.max(0,s-s%i),y=Math.min(f,y+(i-1-y%i))}return{startIndex:s,endIndex:y}}const gM=typeof document<"u"?H.useLayoutEffect:H.useEffect;function jve(t){const e=H.useReducer(()=>({}),{})[1],n={...t,onChange:(f,b)=>{var s;b?eu.flushSync(e):e(),(s=t.onChange)==null||s.call(t,f,b)}},[i]=H.useState(()=>new Bve(n));return i.setOptions(n),gM(()=>i._didMount(),[]),gM(()=>i._willUpdate()),i}function zve(t){return jve({observeElementRect:Lve,observeElementOffset:Dve,scrollToFn:kve,...t})}var Qh={},Jb,mM;function Wve(){return mM||(mM=1,Jb=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Jb}var Qb={},Iu={},yM;function Qd(){if(yM)return Iu;yM=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Iu.getSymbolSize=function(i){if(!i)throw new Error('"version" cannot be null or undefined');if(i<1||i>40)throw new Error('"version" should be in range from 1 to 40');return i*4+17},Iu.getSymbolTotalCodewords=function(i){return e[i]},Iu.getBCHDigit=function(n){let i=0;for(;n!==0;)i++,n>>>=1;return i},Iu.setToSJISFunction=function(i){if(typeof i!="function")throw new Error('"toSJISFunc" is not a valid function.');t=i},Iu.isKanjiModeEnabled=function(){return typeof t<"u"},Iu.toSJIS=function(i){return t(i)},Iu}var _b={},wM;function NS(){return wM||(wM=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(i){return i&&typeof i.bit<"u"&&i.bit>=0&&i.bit<4},t.from=function(i,f){if(t.isValid(i))return i;try{return e(i)}catch{return f}}})(_b)),_b}var qb,xM;function Gve(){if(xM)return qb;xM=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)===1},put:function(e,n){for(let i=0;i<n;i++)this.putBit((e>>>n-i-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},qb=t,qb}var e4,bM;function Vve(){if(bM)return e4;bM=1;function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,n,i,f){const b=e*this.size+n;this.data[b]=i,f&&(this.reservedBit[b]=!0)},t.prototype.get=function(e,n){return this.data[e*this.size+n]},t.prototype.xor=function(e,n,i){this.data[e*this.size+n]^=i},t.prototype.isReserved=function(e,n){return this.reservedBit[e*this.size+n]},e4=t,e4}var t4={},CM;function Hve(){return CM||(CM=1,(function(t){const e=Qd().getSymbolSize;t.getRowColCoords=function(i){if(i===1)return[];const f=Math.floor(i/7)+2,b=e(i),s=b===145?26:Math.ceil((b-13)/(2*f-2))*2,y=[b-7];for(let r=1;r<f-1;r++)y[r]=y[r-1]-s;return y.push(6),y.reverse()},t.getPositions=function(i){const f=[],b=t.getRowColCoords(i),s=b.length;for(let y=0;y<s;y++)for(let r=0;r<s;r++)y===0&&r===0||y===0&&r===s-1||y===s-1&&r===0||f.push([b[y],b[r]]);return f}})(t4)),t4}var n4={},EM;function Yve(){if(EM)return n4;EM=1;const t=Qd().getSymbolSize,e=7;return n4.getPositions=function(i){const f=t(i);return[[0,0],[f-e,0],[0,f-e]]},n4}var r4={},SM;function Xve(){return SM||(SM=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(f){return f!=null&&f!==""&&!isNaN(f)&&f>=0&&f<=7},t.from=function(f){return t.isValid(f)?parseInt(f,10):void 0},t.getPenaltyN1=function(f){const b=f.size;let s=0,y=0,r=0,o=null,v=null;for(let c=0;c<b;c++){y=r=0,o=v=null;for(let u=0;u<b;u++){let l=f.get(c,u);l===o?y++:(y>=5&&(s+=e.N1+(y-5)),o=l,y=1),l=f.get(u,c),l===v?r++:(r>=5&&(s+=e.N1+(r-5)),v=l,r=1)}y>=5&&(s+=e.N1+(y-5)),r>=5&&(s+=e.N1+(r-5))}return s},t.getPenaltyN2=function(f){const b=f.size;let s=0;for(let y=0;y<b-1;y++)for(let r=0;r<b-1;r++){const o=f.get(y,r)+f.get(y,r+1)+f.get(y+1,r)+f.get(y+1,r+1);(o===4||o===0)&&s++}return s*e.N2},t.getPenaltyN3=function(f){const b=f.size;let s=0,y=0,r=0;for(let o=0;o<b;o++){y=r=0;for(let v=0;v<b;v++)y=y<<1&2047|f.get(o,v),v>=10&&(y===1488||y===93)&&s++,r=r<<1&2047|f.get(v,o),v>=10&&(r===1488||r===93)&&s++}return s*e.N3},t.getPenaltyN4=function(f){let b=0;const s=f.data.length;for(let r=0;r<s;r++)b+=f.data[r];return Math.abs(Math.ceil(b*100/s/5)-10)*e.N4};function n(i,f,b){switch(i){case t.Patterns.PATTERN000:return(f+b)%2===0;case t.Patterns.PATTERN001:return f%2===0;case t.Patterns.PATTERN010:return b%3===0;case t.Patterns.PATTERN011:return(f+b)%3===0;case t.Patterns.PATTERN100:return(Math.floor(f/2)+Math.floor(b/3))%2===0;case t.Patterns.PATTERN101:return f*b%2+f*b%3===0;case t.Patterns.PATTERN110:return(f*b%2+f*b%3)%2===0;case t.Patterns.PATTERN111:return(f*b%3+(f+b)%2)%2===0;default:throw new Error("bad maskPattern:"+i)}}t.applyMask=function(f,b){const s=b.size;for(let y=0;y<s;y++)for(let r=0;r<s;r++)b.isReserved(r,y)||b.xor(r,y,n(f,r,y))},t.getBestMask=function(f,b){const s=Object.keys(t.Patterns).length;let y=0,r=1/0;for(let o=0;o<s;o++){b(o),t.applyMask(o,f);const v=t.getPenaltyN1(f)+t.getPenaltyN2(f)+t.getPenaltyN3(f)+t.getPenaltyN4(f);t.applyMask(o,f),v<r&&(r=v,y=o)}return y}})(r4)),r4}var iy={},TM;function Ez(){if(TM)return iy;TM=1;const t=NS(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return iy.getBlocksCount=function(f,b){switch(b){case t.L:return e[(f-1)*4+0];case t.M:return e[(f-1)*4+1];case t.Q:return e[(f-1)*4+2];case t.H:return e[(f-1)*4+3];default:return}},iy.getTotalCodewordsCount=function(f,b){switch(b){case t.L:return n[(f-1)*4+0];case t.M:return n[(f-1)*4+1];case t.Q:return n[(f-1)*4+2];case t.H:return n[(f-1)*4+3];default:return}},iy}var i4={},P0={},AM;function Kve(){if(AM)return P0;AM=1;const t=new Uint8Array(512),e=new Uint8Array(256);return(function(){let i=1;for(let f=0;f<255;f++)t[f]=i,e[i]=f,i<<=1,i&256&&(i^=285);for(let f=255;f<512;f++)t[f]=t[f-255]})(),P0.log=function(i){if(i<1)throw new Error("log("+i+")");return e[i]},P0.exp=function(i){return t[i]},P0.mul=function(i,f){return i===0||f===0?0:t[e[i]+e[f]]},P0}var PM;function Zve(){return PM||(PM=1,(function(t){const e=Kve();t.mul=function(i,f){const b=new Uint8Array(i.length+f.length-1);for(let s=0;s<i.length;s++)for(let y=0;y<f.length;y++)b[s+y]^=e.mul(i[s],f[y]);return b},t.mod=function(i,f){let b=new Uint8Array(i);for(;b.length-f.length>=0;){const s=b[0];for(let r=0;r<f.length;r++)b[r]^=e.mul(f[r],s);let y=0;for(;y<b.length&&b[y]===0;)y++;b=b.slice(y)}return b},t.generateECPolynomial=function(i){let f=new Uint8Array([1]);for(let b=0;b<i;b++)f=t.mul(f,new Uint8Array([1,e.exp(b)]));return f}})(i4)),i4}var s4,IM;function Jve(){if(IM)return s4;IM=1;const t=Zve();function e(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(i){this.degree=i,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(i){if(!this.genPoly)throw new Error("Encoder not initialized");const f=new Uint8Array(i.length+this.degree);f.set(i);const b=t.mod(f,this.genPoly),s=this.degree-b.length;if(s>0){const y=new Uint8Array(this.degree);return y.set(b,s),y}return b},s4=e,s4}var a4={},o4={},l4={},RM;function Sz(){return RM||(RM=1,l4.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),l4}var Io={},MM;function Tz(){if(MM)return Io;MM=1;const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const i="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;Io.KANJI=new RegExp(n,"g"),Io.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Io.BYTE=new RegExp(i,"g"),Io.NUMERIC=new RegExp(t,"g"),Io.ALPHANUMERIC=new RegExp(e,"g");const f=new RegExp("^"+n+"$"),b=new RegExp("^"+t+"$"),s=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Io.testKanji=function(r){return f.test(r)},Io.testNumeric=function(r){return b.test(r)},Io.testAlphanumeric=function(r){return s.test(r)},Io}var OM;function _d(){return OM||(OM=1,(function(t){const e=Sz(),n=Tz();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(b,s){if(!b.ccBits)throw new Error("Invalid mode: "+b);if(!e.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?b.ccBits[0]:s<27?b.ccBits[1]:b.ccBits[2]},t.getBestModeForData=function(b){return n.testNumeric(b)?t.NUMERIC:n.testAlphanumeric(b)?t.ALPHANUMERIC:n.testKanji(b)?t.KANJI:t.BYTE},t.toString=function(b){if(b&&b.id)return b.id;throw new Error("Invalid mode")},t.isValid=function(b){return b&&b.bit&&b.ccBits};function i(f){if(typeof f!="string")throw new Error("Param is not a string");switch(f.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+f)}}t.from=function(b,s){if(t.isValid(b))return b;try{return i(b)}catch{return s}}})(o4)),o4}var FM;function Qve(){return FM||(FM=1,(function(t){const e=Qd(),n=Ez(),i=NS(),f=_d(),b=Sz(),s=7973,y=e.getBCHDigit(s);function r(u,l,a){for(let d=1;d<=40;d++)if(l<=t.getCapacity(d,a,u))return d}function o(u,l){return f.getCharCountIndicator(u,l)+4}function v(u,l){let a=0;return u.forEach(function(d){const p=o(d.mode,l);a+=p+d.getBitsLength()}),a}function c(u,l){for(let a=1;a<=40;a++)if(v(u,a)<=t.getCapacity(a,l,f.MIXED))return a}t.from=function(l,a){return b.isValid(l)?parseInt(l,10):a},t.getCapacity=function(l,a,d){if(!b.isValid(l))throw new Error("Invalid QR Code version");typeof d>"u"&&(d=f.BYTE);const p=e.getSymbolTotalCodewords(l),h=n.getTotalCodewordsCount(l,a),g=(p-h)*8;if(d===f.MIXED)return g;const m=g-o(d,l);switch(d){case f.NUMERIC:return Math.floor(m/10*3);case f.ALPHANUMERIC:return Math.floor(m/11*2);case f.KANJI:return Math.floor(m/13);case f.BYTE:default:return Math.floor(m/8)}},t.getBestVersionForData=function(l,a){let d;const p=i.from(a,i.M);if(Array.isArray(l)){if(l.length>1)return c(l,p);if(l.length===0)return 1;d=l[0]}else d=l;return r(d.mode,d.getLength(),p)},t.getEncodedBits=function(l){if(!b.isValid(l)||l<7)throw new Error("Invalid QR Code version");let a=l<<12;for(;e.getBCHDigit(a)-y>=0;)a^=s<<e.getBCHDigit(a)-y;return l<<12|a}})(a4)),a4}var u4={},$M;function _ve(){if($M)return u4;$M=1;const t=Qd(),e=1335,n=21522,i=t.getBCHDigit(e);return u4.getEncodedBits=function(b,s){const y=b.bit<<3|s;let r=y<<10;for(;t.getBCHDigit(r)-i>=0;)r^=e<<t.getBCHDigit(r)-i;return(y<<10|r)^n},u4}var c4={},d4,LM;function qve(){if(LM)return d4;LM=1;const t=_d();function e(n){this.mode=t.NUMERIC,this.data=n.toString()}return e.getBitsLength=function(i){return 10*Math.floor(i/3)+(i%3?i%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(i){let f,b,s;for(f=0;f+3<=this.data.length;f+=3)b=this.data.substr(f,3),s=parseInt(b,10),i.put(s,10);const y=this.data.length-f;y>0&&(b=this.data.substr(f),s=parseInt(b,10),i.put(s,y*3+1))},d4=e,d4}var h4,DM;function ege(){if(DM)return h4;DM=1;const t=_d(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(i){this.mode=t.ALPHANUMERIC,this.data=i}return n.getBitsLength=function(f){return 11*Math.floor(f/2)+6*(f%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(f){let b;for(b=0;b+2<=this.data.length;b+=2){let s=e.indexOf(this.data[b])*45;s+=e.indexOf(this.data[b+1]),f.put(s,11)}this.data.length%2&&f.put(e.indexOf(this.data[b]),6)},h4=n,h4}var f4,NM;function tge(){if(NM)return f4;NM=1;const t=_d();function e(n){this.mode=t.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return e.getBitsLength=function(i){return i*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){for(let i=0,f=this.data.length;i<f;i++)n.put(this.data[i],8)},f4=e,f4}var p4,kM;function nge(){if(kM)return p4;kM=1;const t=_d(),e=Qd();function n(i){this.mode=t.KANJI,this.data=i}return n.getBitsLength=function(f){return f*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let f;for(f=0;f<this.data.length;f++){let b=e.toSJIS(this.data[f]);if(b>=33088&&b<=40956)b-=33088;else if(b>=57408&&b<=60351)b-=49472;else throw new Error("Invalid SJIS character: "+this.data[f]+`
Make sure your charset is UTF-8`);b=(b>>>8&255)*192+(b&255),i.put(b,13)}},p4=n,p4}var v4={exports:{}},BM;function rge(){return BM||(BM=1,(function(t){var e={single_source_shortest_paths:function(n,i,f){var b={},s={};s[i]=0;var y=e.PriorityQueue.make();y.push(i,0);for(var r,o,v,c,u,l,a,d,p;!y.empty();){r=y.pop(),o=r.value,c=r.cost,u=n[o]||{};for(v in u)u.hasOwnProperty(v)&&(l=u[v],a=c+l,d=s[v],p=typeof s[v]>"u",(p||d>a)&&(s[v]=a,y.push(v,a),b[v]=o))}if(typeof f<"u"&&typeof s[f]>"u"){var h=["Could not find a path from ",i," to ",f,"."].join("");throw new Error(h)}return b},extract_shortest_path_from_predecessor_list:function(n,i){for(var f=[],b=i;b;)f.push(b),n[b],b=n[b];return f.reverse(),f},find_path:function(n,i,f){var b=e.single_source_shortest_paths(n,i,f);return e.extract_shortest_path_from_predecessor_list(b,f)},PriorityQueue:{make:function(n){var i=e.PriorityQueue,f={},b;n=n||{};for(b in i)i.hasOwnProperty(b)&&(f[b]=i[b]);return f.queue=[],f.sorter=n.sorter||i.default_sorter,f},default_sorter:function(n,i){return n.cost-i.cost},push:function(n,i){var f={value:n,cost:i};this.queue.push(f),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(v4)),v4.exports}var UM;function ige(){return UM||(UM=1,(function(t){const e=_d(),n=qve(),i=ege(),f=tge(),b=nge(),s=Tz(),y=Qd(),r=rge();function o(h){return unescape(encodeURIComponent(h)).length}function v(h,g,m){const x=[];let w;for(;(w=h.exec(m))!==null;)x.push({data:w[0],index:w.index,mode:g,length:w[0].length});return x}function c(h){const g=v(s.NUMERIC,e.NUMERIC,h),m=v(s.ALPHANUMERIC,e.ALPHANUMERIC,h);let x,w;return y.isKanjiModeEnabled()?(x=v(s.BYTE,e.BYTE,h),w=v(s.KANJI,e.KANJI,h)):(x=v(s.BYTE_KANJI,e.BYTE,h),w=[]),g.concat(m,x,w).sort(function(E,T){return E.index-T.index}).map(function(E){return{data:E.data,mode:E.mode,length:E.length}})}function u(h,g){switch(g){case e.NUMERIC:return n.getBitsLength(h);case e.ALPHANUMERIC:return i.getBitsLength(h);case e.KANJI:return b.getBitsLength(h);case e.BYTE:return f.getBitsLength(h)}}function l(h){return h.reduce(function(g,m){const x=g.length-1>=0?g[g.length-1]:null;return x&&x.mode===m.mode?(g[g.length-1].data+=m.data,g):(g.push(m),g)},[])}function a(h){const g=[];for(let m=0;m<h.length;m++){const x=h[m];switch(x.mode){case e.NUMERIC:g.push([x,{data:x.data,mode:e.ALPHANUMERIC,length:x.length},{data:x.data,mode:e.BYTE,length:x.length}]);break;case e.ALPHANUMERIC:g.push([x,{data:x.data,mode:e.BYTE,length:x.length}]);break;case e.KANJI:g.push([x,{data:x.data,mode:e.BYTE,length:o(x.data)}]);break;case e.BYTE:g.push([{data:x.data,mode:e.BYTE,length:o(x.data)}])}}return g}function d(h,g){const m={},x={start:{}};let w=["start"];for(let C=0;C<h.length;C++){const E=h[C],T=[];for(let S=0;S<E.length;S++){const A=E[S],P=""+C+S;T.push(P),m[P]={node:A,lastCount:0},x[P]={};for(let R=0;R<w.length;R++){const L=w[R];m[L]&&m[L].node.mode===A.mode?(x[L][P]=u(m[L].lastCount+A.length,A.mode)-u(m[L].lastCount,A.mode),m[L].lastCount+=A.length):(m[L]&&(m[L].lastCount=A.length),x[L][P]=u(A.length,A.mode)+4+e.getCharCountIndicator(A.mode,g))}}w=T}for(let C=0;C<w.length;C++)x[w[C]].end=0;return{map:x,table:m}}function p(h,g){let m;const x=e.getBestModeForData(h);if(m=e.from(g,x),m!==e.BYTE&&m.bit<x.bit)throw new Error('"'+h+'" cannot be encoded with mode '+e.toString(m)+`.
 Suggested mode is: `+e.toString(x));switch(m===e.KANJI&&!y.isKanjiModeEnabled()&&(m=e.BYTE),m){case e.NUMERIC:return new n(h);case e.ALPHANUMERIC:return new i(h);case e.KANJI:return new b(h);case e.BYTE:return new f(h)}}t.fromArray=function(g){return g.reduce(function(m,x){return typeof x=="string"?m.push(p(x,null)):x.data&&m.push(p(x.data,x.mode)),m},[])},t.fromString=function(g,m){const x=c(g,y.isKanjiModeEnabled()),w=a(x),C=d(w,m),E=r.find_path(C.map,"start","end"),T=[];for(let S=1;S<E.length-1;S++)T.push(C.table[E[S]].node);return t.fromArray(l(T))},t.rawSplit=function(g){return t.fromArray(c(g,y.isKanjiModeEnabled()))}})(c4)),c4}var jM;function sge(){if(jM)return Qb;jM=1;const t=Qd(),e=NS(),n=Gve(),i=Vve(),f=Hve(),b=Yve(),s=Xve(),y=Ez(),r=Jve(),o=Qve(),v=_ve(),c=_d(),u=ige();function l(C,E){const T=C.size,S=b.getPositions(E);for(let A=0;A<S.length;A++){const P=S[A][0],R=S[A][1];for(let L=-1;L<=7;L++)if(!(P+L<=-1||T<=P+L))for(let D=-1;D<=7;D++)R+D<=-1||T<=R+D||(L>=0&&L<=6&&(D===0||D===6)||D>=0&&D<=6&&(L===0||L===6)||L>=2&&L<=4&&D>=2&&D<=4?C.set(P+L,R+D,!0,!0):C.set(P+L,R+D,!1,!0))}}function a(C){const E=C.size;for(let T=8;T<E-8;T++){const S=T%2===0;C.set(T,6,S,!0),C.set(6,T,S,!0)}}function d(C,E){const T=f.getPositions(E);for(let S=0;S<T.length;S++){const A=T[S][0],P=T[S][1];for(let R=-2;R<=2;R++)for(let L=-2;L<=2;L++)R===-2||R===2||L===-2||L===2||R===0&&L===0?C.set(A+R,P+L,!0,!0):C.set(A+R,P+L,!1,!0)}}function p(C,E){const T=C.size,S=o.getEncodedBits(E);let A,P,R;for(let L=0;L<18;L++)A=Math.floor(L/3),P=L%3+T-8-3,R=(S>>L&1)===1,C.set(A,P,R,!0),C.set(P,A,R,!0)}function h(C,E,T){const S=C.size,A=v.getEncodedBits(E,T);let P,R;for(P=0;P<15;P++)R=(A>>P&1)===1,P<6?C.set(P,8,R,!0):P<8?C.set(P+1,8,R,!0):C.set(S-15+P,8,R,!0),P<8?C.set(8,S-P-1,R,!0):P<9?C.set(8,15-P-1+1,R,!0):C.set(8,15-P-1,R,!0);C.set(S-8,8,1,!0)}function g(C,E){const T=C.size;let S=-1,A=T-1,P=7,R=0;for(let L=T-1;L>0;L-=2)for(L===6&&L--;;){for(let D=0;D<2;D++)if(!C.isReserved(A,L-D)){let F=!1;R<E.length&&(F=(E[R]>>>P&1)===1),C.set(A,L-D,F),P--,P===-1&&(R++,P=7)}if(A+=S,A<0||T<=A){A-=S,S=-S;break}}}function m(C,E,T){const S=new n;T.forEach(function(D){S.put(D.mode.bit,4),S.put(D.getLength(),c.getCharCountIndicator(D.mode,C)),D.write(S)});const A=t.getSymbolTotalCodewords(C),P=y.getTotalCodewordsCount(C,E),R=(A-P)*8;for(S.getLengthInBits()+4<=R&&S.put(0,4);S.getLengthInBits()%8!==0;)S.putBit(0);const L=(R-S.getLengthInBits())/8;for(let D=0;D<L;D++)S.put(D%2?17:236,8);return x(S,C,E)}function x(C,E,T){const S=t.getSymbolTotalCodewords(E),A=y.getTotalCodewordsCount(E,T),P=S-A,R=y.getBlocksCount(E,T),L=S%R,D=R-L,F=Math.floor(S/R),$=Math.floor(P/R),N=$+1,k=F-$,j=new r(k);let W=0;const G=new Array(R),K=new Array(R);let z=0;const X=new Uint8Array(C.buffer);for(let _=0;_<R;_++){const ee=_<D?$:N;G[_]=X.slice(W,W+ee),K[_]=j.encode(G[_]),W+=ee,z=Math.max(z,ee)}const U=new Uint8Array(S);let Z=0,V,J;for(V=0;V<z;V++)for(J=0;J<R;J++)V<G[J].length&&(U[Z++]=G[J][V]);for(V=0;V<k;V++)for(J=0;J<R;J++)U[Z++]=K[J][V];return U}function w(C,E,T,S){let A;if(Array.isArray(C))A=u.fromArray(C);else if(typeof C=="string"){let F=E;if(!F){const $=u.rawSplit(C);F=o.getBestVersionForData($,T)}A=u.fromString(C,F||40)}else throw new Error("Invalid data");const P=o.getBestVersionForData(A,T);if(!P)throw new Error("The amount of data is too big to be stored in a QR Code");if(!E)E=P;else if(E<P)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+P+`.
`);const R=m(E,T,A),L=t.getSymbolSize(E),D=new i(L);return l(D,E),a(D),d(D,E),h(D,T,0),E>=7&&p(D,E),g(D,R),isNaN(S)&&(S=s.getBestMask(D,h.bind(null,D,T))),s.applyMask(S,D),h(D,T,S),{modules:D,version:E,errorCorrectionLevel:T,maskPattern:S,segments:A}}return Qb.create=function(E,T){if(typeof E>"u"||E==="")throw new Error("No input text");let S=e.M,A,P;return typeof T<"u"&&(S=e.from(T.errorCorrectionLevel,e.M),A=o.from(T.version),P=s.from(T.maskPattern),T.toSJISFunc&&t.setToSJISFunction(T.toSJISFunc)),w(E,A,S,P)},Qb}var g4={},m4={},zM;function Az(){return zM||(zM=1,(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let i=n.slice().replace("#","").split("");if(i.length<3||i.length===5||i.length>8)throw new Error("Invalid hex color: "+n);(i.length===3||i.length===4)&&(i=Array.prototype.concat.apply([],i.map(function(b){return[b,b]}))),i.length===6&&i.push("F","F");const f=parseInt(i.join(""),16);return{r:f>>24&255,g:f>>16&255,b:f>>8&255,a:f&255,hex:"#"+i.slice(0,6).join("")}}t.getOptions=function(i){i||(i={}),i.color||(i.color={});const f=typeof i.margin>"u"||i.margin===null||i.margin<0?4:i.margin,b=i.width&&i.width>=21?i.width:void 0,s=i.scale||4;return{width:b,scale:b?4:s,margin:f,color:{dark:e(i.color.dark||"#000000ff"),light:e(i.color.light||"#ffffffff")},type:i.type,rendererOpts:i.rendererOpts||{}}},t.getScale=function(i,f){return f.width&&f.width>=i+f.margin*2?f.width/(i+f.margin*2):f.scale},t.getImageWidth=function(i,f){const b=t.getScale(i,f);return Math.floor((i+f.margin*2)*b)},t.qrToImageData=function(i,f,b){const s=f.modules.size,y=f.modules.data,r=t.getScale(s,b),o=Math.floor((s+b.margin*2)*r),v=b.margin*r,c=[b.color.light,b.color.dark];for(let u=0;u<o;u++)for(let l=0;l<o;l++){let a=(u*o+l)*4,d=b.color.light;if(u>=v&&l>=v&&u<o-v&&l<o-v){const p=Math.floor((u-v)/r),h=Math.floor((l-v)/r);d=c[y[p*s+h]?1:0]}i[a++]=d.r,i[a++]=d.g,i[a++]=d.b,i[a]=d.a}}})(m4)),m4}var WM;function age(){return WM||(WM=1,(function(t){const e=Az();function n(f,b,s){f.clearRect(0,0,b.width,b.height),b.style||(b.style={}),b.height=s,b.width=s,b.style.height=s+"px",b.style.width=s+"px"}function i(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(b,s,y){let r=y,o=s;typeof r>"u"&&(!s||!s.getContext)&&(r=s,s=void 0),s||(o=i()),r=e.getOptions(r);const v=e.getImageWidth(b.modules.size,r),c=o.getContext("2d"),u=c.createImageData(v,v);return e.qrToImageData(u.data,b,r),n(c,o,v),c.putImageData(u,0,0),o},t.renderToDataURL=function(b,s,y){let r=y;typeof r>"u"&&(!s||!s.getContext)&&(r=s,s=void 0),r||(r={});const o=t.render(b,s,r),v=r.type||"image/png",c=r.rendererOpts||{};return o.toDataURL(v,c.quality)}})(g4)),g4}var y4={},GM;function oge(){if(GM)return y4;GM=1;const t=Az();function e(f,b){const s=f.a/255,y=b+'="'+f.hex+'"';return s<1?y+" "+b+'-opacity="'+s.toFixed(2).slice(1)+'"':y}function n(f,b,s){let y=f+b;return typeof s<"u"&&(y+=" "+s),y}function i(f,b,s){let y="",r=0,o=!1,v=0;for(let c=0;c<f.length;c++){const u=Math.floor(c%b),l=Math.floor(c/b);!u&&!o&&(o=!0),f[c]?(v++,c>0&&u>0&&f[c-1]||(y+=o?n("M",u+s,.5+l+s):n("m",r,0),r=0,o=!1),u+1<b&&f[c+1]||(y+=n("h",v),v=0)):r++}return y}return y4.render=function(b,s,y){const r=t.getOptions(s),o=b.modules.size,v=b.modules.data,c=o+r.margin*2,u=r.color.light.a?"<path "+e(r.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",l="<path "+e(r.color.dark,"stroke")+' d="'+i(v,o,r.margin)+'"/>',a='viewBox="0 0 '+c+" "+c+'"',p='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+a+' shape-rendering="crispEdges">'+u+l+`</svg>
`;return typeof y=="function"&&y(null,p),p},y4}var VM;function lge(){if(VM)return Qh;VM=1;const t=Wve(),e=sge(),n=age(),i=oge();function f(b,s,y,r,o){const v=[].slice.call(arguments,1),c=v.length,u=typeof v[c-1]=="function";if(!u&&!t())throw new Error("Callback required as last argument");if(u){if(c<2)throw new Error("Too few arguments provided");c===2?(o=y,y=s,s=r=void 0):c===3&&(s.getContext&&typeof o>"u"?(o=r,r=void 0):(o=r,r=y,y=s,s=void 0))}else{if(c<1)throw new Error("Too few arguments provided");return c===1?(y=s,s=r=void 0):c===2&&!s.getContext&&(r=y,y=s,s=void 0),new Promise(function(l,a){try{const d=e.create(y,r);l(b(d,s,r))}catch(d){a(d)}})}try{const l=e.create(y,r);o(null,b(l,s,r))}catch(l){o(l)}}return Qh.create=e.create,Qh.toCanvas=f.bind(null,n.render),Qh.toDataURL=f.bind(null,n.renderToDataURL),Qh.toString=f.bind(null,function(b,s,y){return i.render(b,y)}),Qh}var uge=lge();const cge=co(uge),HM=t=>{let e;const n=new Set,i=(o,v)=>{const c=typeof o=="function"?o(e):o;if(!Object.is(c,e)){const u=e;e=v??(typeof c!="object"||c===null)?c:Object.assign({},e,c),n.forEach(l=>l(e,u))}},f=()=>e,y={setState:i,getState:f,getInitialState:()=>r,subscribe:o=>(n.add(o),()=>n.delete(o))},r=e=t(i,f,y);return y},dge=(t=>t?HM(t):HM),hge=t=>t;function fge(t,e=hge){const n=Ze.useSyncExternalStore(t.subscribe,Ze.useCallback(()=>e(t.getState()),[t,e]),Ze.useCallback(()=>e(t.getInitialState()),[t,e]));return Ze.useDebugValue(n),n}const YM=t=>{const e=dge(t),n=i=>fge(e,i);return Object.assign(n,e),n},Fp=(t=>t?YM(t):YM);var sy={exports:{}},XM;function pge(){if(XM)return sy.exports;XM=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(w,C,E){return Function.prototype.apply.call(w,C,E)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(w){return Object.getOwnPropertyNames(w).concat(Object.getOwnPropertySymbols(w))}:n=function(w){return Object.getOwnPropertyNames(w)};function i(x){console&&console.warn&&console.warn(x)}var f=Number.isNaN||function(w){return w!==w};function b(){b.init.call(this)}sy.exports=b,sy.exports.once=h,b.EventEmitter=b,b.prototype._events=void 0,b.prototype._eventsCount=0,b.prototype._maxListeners=void 0;var s=10;function y(x){if(typeof x!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof x)}Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(x){if(typeof x!="number"||x<0||f(x))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+x+".");s=x}}),b.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},b.prototype.setMaxListeners=function(w){if(typeof w!="number"||w<0||f(w))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+w+".");return this._maxListeners=w,this};function r(x){return x._maxListeners===void 0?b.defaultMaxListeners:x._maxListeners}b.prototype.getMaxListeners=function(){return r(this)},b.prototype.emit=function(w){for(var C=[],E=1;E<arguments.length;E++)C.push(arguments[E]);var T=w==="error",S=this._events;if(S!==void 0)T=T&&S.error===void 0;else if(!T)return!1;if(T){var A;if(C.length>0&&(A=C[0]),A instanceof Error)throw A;var P=new Error("Unhandled error."+(A?" ("+A.message+")":""));throw P.context=A,P}var R=S[w];if(R===void 0)return!1;if(typeof R=="function")e(R,this,C);else for(var L=R.length,D=a(R,L),E=0;E<L;++E)e(D[E],this,C);return!0};function o(x,w,C,E){var T,S,A;if(y(C),S=x._events,S===void 0?(S=x._events=Object.create(null),x._eventsCount=0):(S.newListener!==void 0&&(x.emit("newListener",w,C.listener?C.listener:C),S=x._events),A=S[w]),A===void 0)A=S[w]=C,++x._eventsCount;else if(typeof A=="function"?A=S[w]=E?[C,A]:[A,C]:E?A.unshift(C):A.push(C),T=r(x),T>0&&A.length>T&&!A.warned){A.warned=!0;var P=new Error("Possible EventEmitter memory leak detected. "+A.length+" "+String(w)+" listeners added. Use emitter.setMaxListeners() to increase limit");P.name="MaxListenersExceededWarning",P.emitter=x,P.type=w,P.count=A.length,i(P)}return x}b.prototype.addListener=function(w,C){return o(this,w,C,!1)},b.prototype.on=b.prototype.addListener,b.prototype.prependListener=function(w,C){return o(this,w,C,!0)};function v(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function c(x,w,C){var E={fired:!1,wrapFn:void 0,target:x,type:w,listener:C},T=v.bind(E);return T.listener=C,E.wrapFn=T,T}b.prototype.once=function(w,C){return y(C),this.on(w,c(this,w,C)),this},b.prototype.prependOnceListener=function(w,C){return y(C),this.prependListener(w,c(this,w,C)),this},b.prototype.removeListener=function(w,C){var E,T,S,A,P;if(y(C),T=this._events,T===void 0)return this;if(E=T[w],E===void 0)return this;if(E===C||E.listener===C)--this._eventsCount===0?this._events=Object.create(null):(delete T[w],T.removeListener&&this.emit("removeListener",w,E.listener||C));else if(typeof E!="function"){for(S=-1,A=E.length-1;A>=0;A--)if(E[A]===C||E[A].listener===C){P=E[A].listener,S=A;break}if(S<0)return this;S===0?E.shift():d(E,S),E.length===1&&(T[w]=E[0]),T.removeListener!==void 0&&this.emit("removeListener",w,P||C)}return this},b.prototype.off=b.prototype.removeListener,b.prototype.removeAllListeners=function(w){var C,E,T;if(E=this._events,E===void 0)return this;if(E.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):E[w]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete E[w]),this;if(arguments.length===0){var S=Object.keys(E),A;for(T=0;T<S.length;++T)A=S[T],A!=="removeListener"&&this.removeAllListeners(A);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(C=E[w],typeof C=="function")this.removeListener(w,C);else if(C!==void 0)for(T=C.length-1;T>=0;T--)this.removeListener(w,C[T]);return this};function u(x,w,C){var E=x._events;if(E===void 0)return[];var T=E[w];return T===void 0?[]:typeof T=="function"?C?[T.listener||T]:[T]:C?p(T):a(T,T.length)}b.prototype.listeners=function(w){return u(this,w,!0)},b.prototype.rawListeners=function(w){return u(this,w,!1)},b.listenerCount=function(x,w){return typeof x.listenerCount=="function"?x.listenerCount(w):l.call(x,w)},b.prototype.listenerCount=l;function l(x){var w=this._events;if(w!==void 0){var C=w[x];if(typeof C=="function")return 1;if(C!==void 0)return C.length}return 0}b.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function a(x,w){for(var C=new Array(w),E=0;E<w;++E)C[E]=x[E];return C}function d(x,w){for(;w+1<x.length;w++)x[w]=x[w+1];x.pop()}function p(x){for(var w=new Array(x.length),C=0;C<w.length;++C)w[C]=x[C].listener||x[C];return w}function h(x,w){return new Promise(function(C,E){function T(A){x.removeListener(w,S),E(A)}function S(){typeof x.removeListener=="function"&&x.removeListener("error",T),C([].slice.call(arguments))}m(x,w,S,{once:!0}),w!=="error"&&g(x,T,{once:!0})})}function g(x,w,C){typeof x.on=="function"&&m(x,"error",w,C)}function m(x,w,C,E){if(typeof x.on=="function")E.once?x.once(w,C):x.on(w,C);else if(typeof x.addEventListener=="function")x.addEventListener(w,function T(S){E.once&&x.removeEventListener(w,T),C(S)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof x)}return sy.exports}var Vs=pge();const kS=co(Vs);var KM=function(t,e,n){if(n||arguments.length===2)for(var i=0,f=e.length,b;i<f;i++)(b||!(i in e))&&(b||(b=Array.prototype.slice.call(e,0,i)),b[i]=e[i]);return t.concat(b||Array.prototype.slice.call(e))},vge=(function(){function t(e,n,i){this.name=e,this.version=n,this.os=i,this.type="browser"}return t})(),gge=(function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t})(),mge=(function(){function t(e,n,i,f){this.name=e,this.version=n,this.os=i,this.bot=f,this.type="bot-device"}return t})(),yge=(function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t})(),wge=(function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t})(),xge=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,bge=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,ZM=3,Cge=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",xge]],JM=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Ege(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new wge:typeof navigator<"u"?Tge(navigator.userAgent):Pge()}function Sge(t){return t!==""&&Cge.reduce(function(e,n){var i=n[0],f=n[1];if(e)return e;var b=f.exec(t);return!!b&&[i,b]},!1)}function Tge(t){var e=Sge(t);if(!e)return null;var n=e[0],i=e[1];if(n==="searchbot")return new yge;var f=i[1]&&i[1].split(".").join("_").split("_").slice(0,3);f?f.length<ZM&&(f=KM(KM([],f,!0),Ige(ZM-f.length),!0)):f=[];var b=f.join("."),s=Age(t),y=bge.exec(t);return y&&y[1]?new mge(n,b,s,y[1]):new vge(n,b,s)}function Age(t){for(var e=0,n=JM.length;e<n;e++){var i=JM[e],f=i[0],b=i[1],s=b.exec(t);if(s)return f}return null}function Pge(){var t=typeof process<"u"&&process.version;return t?new gge(process.version.slice(1)):null}function Ige(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var w4={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var xC=function(t,e){return xC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var f in i)i.hasOwnProperty(f)&&(n[f]=i[f])},xC(t,e)};function Rge(t,e){xC(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var bC=function(){return bC=Object.assign||function(e){for(var n,i=1,f=arguments.length;i<f;i++){n=arguments[i];for(var b in n)Object.prototype.hasOwnProperty.call(n,b)&&(e[b]=n[b])}return e},bC.apply(this,arguments)};function Mge(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,i=Object.getOwnPropertySymbols(t);f<i.length;f++)e.indexOf(i[f])<0&&Object.prototype.propertyIsEnumerable.call(t,i[f])&&(n[i[f]]=t[i[f]]);return n}function Oge(t,e,n,i){var f=arguments.length,b=f<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(t,e,n,i);else for(var y=t.length-1;y>=0;y--)(s=t[y])&&(b=(f<3?s(b):f>3?s(e,n,b):s(e,n))||b);return f>3&&b&&Object.defineProperty(e,n,b),b}function Fge(t,e){return function(n,i){e(n,i,t)}}function $ge(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Lge(t,e,n,i){function f(b){return b instanceof n?b:new n(function(s){s(b)})}return new(n||(n=Promise))(function(b,s){function y(v){try{o(i.next(v))}catch(c){s(c)}}function r(v){try{o(i.throw(v))}catch(c){s(c)}}function o(v){v.done?b(v.value):f(v.value).then(y,r)}o((i=i.apply(t,e||[])).next())})}function Dge(t,e){var n={label:0,sent:function(){if(b[0]&1)throw b[1];return b[1]},trys:[],ops:[]},i,f,b,s;return s={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function y(o){return function(v){return r([o,v])}}function r(o){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,f&&(b=o[0]&2?f.return:o[0]?f.throw||((b=f.return)&&b.call(f),0):f.next)&&!(b=b.call(f,o[1])).done)return b;switch(f=0,b&&(o=[o[0]&2,b.value]),o[0]){case 0:case 1:b=o;break;case 4:return n.label++,{value:o[1],done:!1};case 5:n.label++,f=o[1],o=[0];continue;case 7:o=n.ops.pop(),n.trys.pop();continue;default:if(b=n.trys,!(b=b.length>0&&b[b.length-1])&&(o[0]===6||o[0]===2)){n=0;continue}if(o[0]===3&&(!b||o[1]>b[0]&&o[1]<b[3])){n.label=o[1];break}if(o[0]===6&&n.label<b[1]){n.label=b[1],b=o;break}if(b&&n.label<b[2]){n.label=b[2],n.ops.push(o);break}b[2]&&n.ops.pop(),n.trys.pop();continue}o=e.call(t,n)}catch(v){o=[6,v],f=0}finally{i=b=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function Nge(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]}function kge(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function CC(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pz(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var i=n.call(t),f,b=[],s;try{for(;(e===void 0||e-- >0)&&!(f=i.next()).done;)b.push(f.value)}catch(y){s={error:y}}finally{try{f&&!f.done&&(n=i.return)&&n.call(i)}finally{if(s)throw s.error}}return b}function Bge(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Pz(arguments[e]));return t}function Uge(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),f=0,e=0;e<n;e++)for(var b=arguments[e],s=0,y=b.length;s<y;s++,f++)i[f]=b[s];return i}function Pg(t){return this instanceof Pg?(this.v=t,this):new Pg(t)}function jge(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),f,b=[];return f={},s("next"),s("throw"),s("return"),f[Symbol.asyncIterator]=function(){return this},f;function s(u){i[u]&&(f[u]=function(l){return new Promise(function(a,d){b.push([u,l,a,d])>1||y(u,l)})})}function y(u,l){try{r(i[u](l))}catch(a){c(b[0][3],a)}}function r(u){u.value instanceof Pg?Promise.resolve(u.value.v).then(o,v):c(b[0][2],u)}function o(u){y("next",u)}function v(u){y("throw",u)}function c(u,l){u(l),b.shift(),b.length&&y(b[0][0],b[0][1])}}function zge(t){var e,n;return e={},i("next"),i("throw",function(f){throw f}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(f,b){e[f]=t[f]?function(s){return(n=!n)?{value:Pg(t[f](s)),done:f==="return"}:b?b(s):s}:b}}function Wge(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof CC=="function"?CC(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(b){n[b]=t[b]&&function(s){return new Promise(function(y,r){s=t[b](s),f(y,r,s.done,s.value)})}}function f(b,s,y,r){Promise.resolve(r).then(function(o){b({value:o,done:y})},s)}}function Gge(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Vge(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Hge(t){return t&&t.__esModule?t:{default:t}}function Yge(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Xge(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const Kge=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return bC},__asyncDelegator:zge,__asyncGenerator:jge,__asyncValues:Wge,__await:Pg,__awaiter:Lge,__classPrivateFieldGet:Yge,__classPrivateFieldSet:Xge,__createBinding:Nge,__decorate:Oge,__exportStar:kge,__extends:Rge,__generator:Dge,__importDefault:Hge,__importStar:Vge,__makeTemplateObject:Gge,__metadata:$ge,__param:Fge,__read:Pz,__rest:Mge,__spread:Bge,__spreadArrays:Uge,__values:CC},Symbol.toStringTag,{value:"Module"})),ux=XN(Kge);var x4={},I0={},QM;function Zge(){if(QM)return I0;QM=1,Object.defineProperty(I0,"__esModule",{value:!0}),I0.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return I0.delay=t,I0}var Gc={},b4={},Vc={},_M;function Jge(){return _M||(_M=1,Object.defineProperty(Vc,"__esModule",{value:!0}),Vc.ONE_THOUSAND=Vc.ONE_HUNDRED=void 0,Vc.ONE_HUNDRED=100,Vc.ONE_THOUSAND=1e3),Vc}var C4={},qM;function Qge(){return qM||(qM=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365})(C4)),C4}var eO;function Iz(){return eO||(eO=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=ux;e.__exportStar(Jge(),t),e.__exportStar(Qge(),t)})(b4)),b4}var tO;function _ge(){if(tO)return Gc;tO=1,Object.defineProperty(Gc,"__esModule",{value:!0}),Gc.fromMiliseconds=Gc.toMiliseconds=void 0;const t=Iz();function e(i){return i*t.ONE_THOUSAND}Gc.toMiliseconds=e;function n(i){return Math.floor(i/t.ONE_THOUSAND)}return Gc.fromMiliseconds=n,Gc}var nO;function qge(){return nO||(nO=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=ux;e.__exportStar(Zge(),t),e.__exportStar(_ge(),t)})(x4)),x4}var _h={},rO;function eme(){if(rO)return _h;rO=1,Object.defineProperty(_h,"__esModule",{value:!0}),_h.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const i=this.get(n);if(typeof i.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const f=Date.now()-i.started;this.timestamps.set(n,{started:i.started,elapsed:f})}get(n){const i=this.timestamps.get(n);if(typeof i>"u")throw new Error(`No timestamp found for label: ${n}`);return i}elapsed(n){const i=this.get(n);return i.elapsed||Date.now()-i.started}}return _h.Watch=t,_h.default=t,_h}var E4={},R0={},iO;function tme(){if(iO)return R0;iO=1,Object.defineProperty(R0,"__esModule",{value:!0}),R0.IWatch=void 0;class t{}return R0.IWatch=t,R0}var sO;function nme(){return sO||(sO=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),ux.__exportStar(tme(),t)})(E4)),E4}var aO;function rme(){return aO||(aO=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=ux;e.__exportStar(qge(),t),e.__exportStar(eme(),t),e.__exportStar(nme(),t),e.__exportStar(Iz(),t)})(w4)),w4}var qe=rme(),Cn={},oO;function Rz(){if(oO)return Cn;oO=1,Object.defineProperty(Cn,"__esModule",{value:!0}),Cn.getLocalStorage=Cn.getLocalStorageOrThrow=Cn.getCrypto=Cn.getCryptoOrThrow=Cn.getLocation=Cn.getLocationOrThrow=Cn.getNavigator=Cn.getNavigatorOrThrow=Cn.getDocument=Cn.getDocumentOrThrow=Cn.getFromWindowOrThrow=Cn.getFromWindow=void 0;function t(u){let l;return typeof window<"u"&&typeof window[u]<"u"&&(l=window[u]),l}Cn.getFromWindow=t;function e(u){const l=t(u);if(!l)throw new Error(`${u} is not defined in Window`);return l}Cn.getFromWindowOrThrow=e;function n(){return e("document")}Cn.getDocumentOrThrow=n;function i(){return t("document")}Cn.getDocument=i;function f(){return e("navigator")}Cn.getNavigatorOrThrow=f;function b(){return t("navigator")}Cn.getNavigator=b;function s(){return e("location")}Cn.getLocationOrThrow=s;function y(){return t("location")}Cn.getLocation=y;function r(){return e("crypto")}Cn.getCryptoOrThrow=r;function o(){return t("crypto")}Cn.getCrypto=o;function v(){return e("localStorage")}Cn.getLocalStorageOrThrow=v;function c(){return t("localStorage")}return Cn.getLocalStorage=c,Cn}var tu=Rz(),M0={},lO;function ime(){if(lO)return M0;lO=1,Object.defineProperty(M0,"__esModule",{value:!0}),M0.getWindowMetadata=void 0;const t=Rz();function e(){let n,i;try{n=t.getDocumentOrThrow(),i=t.getLocationOrThrow()}catch{return null}function f(){const l=n.getElementsByTagName("link"),a=[];for(let d=0;d<l.length;d++){const p=l[d],h=p.getAttribute("rel");if(h&&h.toLowerCase().indexOf("icon")>-1){const g=p.getAttribute("href");if(g)if(g.toLowerCase().indexOf("https:")===-1&&g.toLowerCase().indexOf("http:")===-1&&g.indexOf("//")!==0){let m=i.protocol+"//"+i.host;if(g.indexOf("/")===0)m+=g;else{const x=i.pathname.split("/");x.pop();const w=x.join("/");m+=w+"/"+g}a.push(m)}else if(g.indexOf("//")===0){const m=i.protocol+g;a.push(m)}else a.push(g)}}return a}function b(...l){const a=n.getElementsByTagName("meta");for(let d=0;d<a.length;d++){const p=a[d],h=["itemprop","property","name"].map(g=>p.getAttribute(g)).filter(g=>g?l.includes(g):!1);if(h.length&&h){const g=p.getAttribute("content");if(g)return g}}return""}function s(){let l=b("name","og:site_name","og:title","twitter:title");return l||(l=n.title),l}function y(){return b("description","og:description","twitter:description","keywords")}const r=s(),o=y(),v=i.origin,c=f();return{description:o,url:v,icons:c,name:r}}return M0.getWindowMetadata=e,M0}var sme=ime();function Ig(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function EC(t){return Ig(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const Mz="2.31.0";let S4={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${Mz}`};class Fd extends Error{constructor(e,n={}){const i=n.cause instanceof Fd?n.cause.details:n.cause?.message?n.cause.message:n.details,f=n.cause instanceof Fd&&n.cause.docsPath||n.docsPath,b=S4.getDocsUrl?.({...n,docsPath:f}),s=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...b?[`Docs: ${b}`]:[],...i?[`Details: ${i}`]:[],...S4.version?[`Version: ${S4.version}`]:[]].join(`
`);super(s,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=i,this.docsPath=f,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=Mz}walk(e){return Oz(this,e)}}function Oz(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?Oz(t.cause,e):e?null:t}class Fz extends Fd{constructor({size:e,targetSize:n,type:i}){super(`${i.charAt(0).toUpperCase()}${i.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function $p(t,{dir:e,size:n=32}={}){return typeof t=="string"?ame(t,{dir:e,size:n}):ome(t,{dir:e,size:n})}function ame(t,{dir:e,size:n=32}={}){if(n===null)return t;const i=t.replace("0x","");if(i.length>n*2)throw new Fz({size:Math.ceil(i.length/2),targetSize:n,type:"hex"});return`0x${i[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function ome(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new Fz({size:t.length,targetSize:n,type:"bytes"});const i=new Uint8Array(n);for(let f=0;f<n;f++){const b=e==="right";i[b?f:n-f-1]=t[b?f:t.length-f-1]}return i}class lme extends Fd{constructor({max:e,min:n,signed:i,size:f,value:b}){super(`Number "${b}" is not in safe ${f?`${f*8}-bit ${i?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class ume extends Fd{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function Lp(t,{size:e}){if(EC(t)>e)throw new ume({givenSize:EC(t),maxSize:e})}function SC(t,e={}){const{signed:n}=e;e.size&&Lp(t,{size:e.size});const i=BigInt(t);if(!n)return i;const f=(t.length-2)/2,b=(1n<<BigInt(f)*8n-1n)-1n;return i<=b?i:i-BigInt(`0x${"f".padStart(f*2,"f")}`)-1n}function cme(t,e={}){return Number(SC(t,e))}const dme=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function TC(t,e={}){return typeof t=="number"||typeof t=="bigint"?Lz(t,e):typeof t=="string"?pme(t,e):typeof t=="boolean"?hme(t,e):$z(t,e)}function hme(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Lp(n,{size:e.size}),$p(n,{size:e.size})):n}function $z(t,e={}){let n="";for(let f=0;f<t.length;f++)n+=dme[t[f]];const i=`0x${n}`;return typeof e.size=="number"?(Lp(i,{size:e.size}),$p(i,{dir:"right",size:e.size})):i}function Lz(t,e={}){const{signed:n,size:i}=e,f=BigInt(t);let b;i?n?b=(1n<<BigInt(i)*8n-1n)-1n:b=2n**(BigInt(i)*8n)-1n:typeof t=="number"&&(b=BigInt(Number.MAX_SAFE_INTEGER));const s=typeof b=="bigint"&&n?-b-1n:0;if(b&&f>b||f<s){const r=typeof t=="bigint"?"n":"";throw new lme({max:b?`${b}${r}`:void 0,min:`${s}${r}`,signed:n,size:i,value:`${t}${r}`})}const y=`0x${(n&&f<0?(1n<<BigInt(i*8))+BigInt(f):f).toString(16)}`;return i?$p(y,{size:i}):y}const fme=new TextEncoder;function pme(t,e={}){const n=fme.encode(t);return $z(n,e)}const vme=new TextEncoder;function gme(t,e={}){return typeof t=="number"||typeof t=="bigint"?yme(t,e):typeof t=="boolean"?mme(t,e):Ig(t)?Dz(t,e):Nz(t,e)}function mme(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Lp(n,{size:e.size}),$p(n,{size:e.size})):n}const Sl={zero:48,nine:57,A:65,F:70,a:97,f:102};function uO(t){if(t>=Sl.zero&&t<=Sl.nine)return t-Sl.zero;if(t>=Sl.A&&t<=Sl.F)return t-(Sl.A-10);if(t>=Sl.a&&t<=Sl.f)return t-(Sl.a-10)}function Dz(t,e={}){let n=t;e.size&&(Lp(n,{size:e.size}),n=$p(n,{dir:"right",size:e.size}));let i=n.slice(2);i.length%2&&(i=`0${i}`);const f=i.length/2,b=new Uint8Array(f);for(let s=0,y=0;s<f;s++){const r=uO(i.charCodeAt(y++)),o=uO(i.charCodeAt(y++));if(r===void 0||o===void 0)throw new Fd(`Invalid byte sequence ("${i[y-2]}${i[y-1]}" in "${i}").`);b[s]=r*16+o}return b}function yme(t,e){const n=Lz(t,e);return Dz(n)}function Nz(t,e={}){const n=vme.encode(t);return typeof e.size=="number"?(Lp(n,{size:e.size}),$p(n,{dir:"right",size:e.size})):n}const ay=BigInt(2**32-1),cO=BigInt(32);function wme(t,e=!1){return e?{h:Number(t&ay),l:Number(t>>cO&ay)}:{h:Number(t>>cO&ay)|0,l:Number(t&ay)|0}}function xme(t,e=!1){const n=t.length;let i=new Uint32Array(n),f=new Uint32Array(n);for(let b=0;b<n;b++){const{h:s,l:y}=wme(t[b],e);[i[b],f[b]]=[s,y]}return[i,f]}const bme=(t,e,n)=>t<<n|e>>>32-n,Cme=(t,e,n)=>e<<n|t>>>32-n,Eme=(t,e,n)=>e<<n-32|t>>>64-n,Sme=(t,e,n)=>t<<n-32|e>>>64-n,qh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Tme(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function j2(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Rg(t,...e){if(!Tme(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function mVe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");j2(t.outputLen),j2(t.blockLen)}function dO(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Ame(t,e){Rg(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Pme(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function kz(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function yVe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function wVe(t,e){return t<<32-e|t>>>e}const Ime=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Rme(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function Mme(t){for(let e=0;e<t.length;e++)t[e]=Rme(t[e]);return t}const hO=Ime?t=>t:Mme;function Ome(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Bz(t){return typeof t=="string"&&(t=Ome(t)),Rg(t),t}function xVe(...t){let e=0;for(let i=0;i<t.length;i++){const f=t[i];Rg(f),e+=f.length}const n=new Uint8Array(e);for(let i=0,f=0;i<t.length;i++){const b=t[i];n.set(b,f),f+=b.length}return n}let Fme=class{};function $me(t){const e=i=>t().update(Bz(i)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function CVe(t=32){if(qh&&typeof qh.getRandomValues=="function")return qh.getRandomValues(new Uint8Array(t));if(qh&&typeof qh.randomBytes=="function")return Uint8Array.from(qh.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const Lme=BigInt(0),O0=BigInt(1),Dme=BigInt(2),Nme=BigInt(7),kme=BigInt(256),Bme=BigInt(113),Uz=[],jz=[],zz=[];for(let t=0,e=O0,n=1,i=0;t<24;t++){[n,i]=[i,(2*n+3*i)%5],Uz.push(2*(5*i+n)),jz.push((t+1)*(t+2)/2%64);let f=Lme;for(let b=0;b<7;b++)e=(e<<O0^(e>>Nme)*Bme)%kme,e&Dme&&(f^=O0<<(O0<<BigInt(b))-O0);zz.push(f)}const Wz=xme(zz,!0),Ume=Wz[0],jme=Wz[1],fO=(t,e,n)=>n>32?Eme(t,e,n):bme(t,e,n),pO=(t,e,n)=>n>32?Sme(t,e,n):Cme(t,e,n);function zme(t,e=24){const n=new Uint32Array(10);for(let i=24-e;i<24;i++){for(let s=0;s<10;s++)n[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const y=(s+8)%10,r=(s+2)%10,o=n[r],v=n[r+1],c=fO(o,v,1)^n[y],u=pO(o,v,1)^n[y+1];for(let l=0;l<50;l+=10)t[s+l]^=c,t[s+l+1]^=u}let f=t[2],b=t[3];for(let s=0;s<24;s++){const y=jz[s],r=fO(f,b,y),o=pO(f,b,y),v=Uz[s];f=t[v],b=t[v+1],t[v]=r,t[v+1]=o}for(let s=0;s<50;s+=10){for(let y=0;y<10;y++)n[y]=t[s+y];for(let y=0;y<10;y++)t[s+y]^=~n[(y+2)%10]&n[(y+4)%10]}t[0]^=Ume[i],t[1]^=jme[i]}kz(n)}class BS extends Fme{constructor(e,n,i,f=!1,b=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=i,this.enableXOF=f,this.rounds=b,j2(i),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Pme(this.state)}clone(){return this._cloneInto()}keccak(){hO(this.state32),zme(this.state32,this.rounds),hO(this.state32),this.posOut=0,this.pos=0}update(e){dO(this),e=Bz(e),Rg(e);const{blockLen:n,state:i}=this,f=e.length;for(let b=0;b<f;){const s=Math.min(n-this.pos,f-b);for(let y=0;y<s;y++)i[this.pos++]^=e[b++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:i,blockLen:f}=this;e[i]^=n,(n&128)!==0&&i===f-1&&this.keccak(),e[f-1]^=128,this.keccak()}writeInto(e){dO(this,!1),Rg(e),this.finish();const n=this.state,{blockLen:i}=this;for(let f=0,b=e.length;f<b;){this.posOut>=i&&this.keccak();const s=Math.min(i-this.posOut,b-f);e.set(n.subarray(this.posOut,this.posOut+s),f),this.posOut+=s,f+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return j2(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Ame(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,kz(this.state)}_cloneInto(e){const{blockLen:n,suffix:i,outputLen:f,rounds:b,enableXOF:s}=this;return e||(e=new BS(n,i,f,s,b)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=b,e.suffix=i,e.outputLen=f,e.enableXOF=s,e.destroyed=this.destroyed,e}}const Wme=(t,e,n)=>$me(()=>new BS(e,t,n)),Gme=Wme(1,136,256/8);function Gz(t,e){const n=e||"hex",i=Gme(Ig(t,{strict:!1})?gme(t):t);return n==="bytes"?i:TC(i)}class Vme extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const i=this.keys().next().value;i&&this.delete(i)}return this}}const T4=new Vme(8192);function Hme(t,e){if(T4.has(`${t}.${e}`))return T4.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),i=Gz(Nz(n),"bytes"),f=n.split("");for(let s=0;s<40;s+=2)i[s>>1]>>4>=8&&f[s]&&(f[s]=f[s].toUpperCase()),(i[s>>1]&15)>=8&&f[s+1]&&(f[s+1]=f[s+1].toUpperCase());const b=`0x${f.join("")}`;return T4.set(`${t}.${e}`,b),b}function Yme(t){const e=Gz(`0x${t.substring(4)}`).substring(26);return Hme(`0x${e}`)}async function Xme({hash:t,signature:e}){const n=Ig(t)?t:TC(t),{secp256k1:i}=await Ko(async()=>{const{secp256k1:s}=await import("./secp256k1-CediRv3q.js");return{secp256k1:s}},[]);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:o,s:v,v:c,yParity:u}=e,l=Number(u??c),a=vO(l);return new i.Signature(SC(o),SC(v)).addRecoveryBit(a)}const s=Ig(e)?e:TC(e);if(EC(s)!==65)throw new Error("invalid signature length");const y=cme(`0x${s.slice(130)}`),r=vO(y);return i.Signature.fromCompact(s.substring(2,130)).addRecoveryBit(r)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function vO(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function Kme({hash:t,signature:e}){return Yme(await Xme({hash:t,signature:e}))}function Zme(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let o=0;o<e.length;o++)e[o]=255;for(let o=0;o<t.length;o++){const v=t.charAt(o),c=v.charCodeAt(0);if(e[c]!==255)throw new TypeError(v+" is ambiguous");e[c]=o}const n=t.length,i=t.charAt(0),f=Math.log(n)/Math.log(256),b=Math.log(256)/Math.log(n);function s(o){if(o instanceof Uint8Array||(ArrayBuffer.isView(o)?o=new Uint8Array(o.buffer,o.byteOffset,o.byteLength):Array.isArray(o)&&(o=Uint8Array.from(o))),!(o instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(o.length===0)return"";let v=0,c=0,u=0;const l=o.length;for(;u!==l&&o[u]===0;)u++,v++;const a=(l-u)*b+1>>>0,d=new Uint8Array(a);for(;u!==l;){let g=o[u],m=0;for(let x=a-1;(g!==0||m<c)&&x!==-1;x--,m++)g+=256*d[x]>>>0,d[x]=g%n>>>0,g=g/n>>>0;if(g!==0)throw new Error("Non-zero carry");c=m,u++}let p=a-c;for(;p!==a&&d[p]===0;)p++;let h=i.repeat(v);for(;p<a;++p)h+=t.charAt(d[p]);return h}function y(o){if(typeof o!="string")throw new TypeError("Expected String");if(o.length===0)return new Uint8Array;let v=0,c=0,u=0;for(;o[v]===i;)c++,v++;const l=(o.length-v)*f+1>>>0,a=new Uint8Array(l);for(;v<o.length;){const g=o.charCodeAt(v);if(g>255)return;let m=e[g];if(m===255)return;let x=0;for(let w=l-1;(m!==0||x<u)&&w!==-1;w--,x++)m+=n*a[w]>>>0,a[w]=m%256>>>0,m=m/256>>>0;if(m!==0)throw new Error("Non-zero carry");u=x,v++}let d=l-u;for(;d!==l&&a[d]===0;)d++;const p=new Uint8Array(c+(l-d));let h=c;for(;d!==l;)p[h++]=a[d++];return p}function r(o){const v=y(o);if(v)return v;throw new Error("Non-base"+n+" character")}return{encode:s,decodeUnsafe:y,decode:r}}var Jme="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const pm=Zme(Jme);function Qme(t){const e=t.length;let n=0,i=0;for(;i<e;){let f=t.charCodeAt(i++);if((f&4294967168)===0){n++;continue}else if((f&4294965248)===0)n+=2;else{if(f>=55296&&f<=56319&&i<e){const b=t.charCodeAt(i);(b&64512)===56320&&(++i,f=((f&1023)<<10)+(b&1023)+65536)}(f&4294901760)===0?n+=3:n+=4}}return n}function _me(t,e,n){const i=t.length;let f=n,b=0;for(;b<i;){let s=t.charCodeAt(b++);if((s&4294967168)===0){e[f++]=s;continue}else if((s&4294965248)===0)e[f++]=s>>6&31|192;else{if(s>=55296&&s<=56319&&b<i){const y=t.charCodeAt(b);(y&64512)===56320&&(++b,s=((s&1023)<<10)+(y&1023)+65536)}(s&4294901760)===0?(e[f++]=s>>12&15|224,e[f++]=s>>6&63|128):(e[f++]=s>>18&7|240,e[f++]=s>>12&63|128,e[f++]=s>>6&63|128)}e[f++]=s&63|128}}const qme=new TextEncoder,e1e=50;function t1e(t,e,n){qme.encodeInto(t,e.subarray(n))}function n1e(t,e,n){t.length>e1e?t1e(t,e,n):_me(t,e,n)}const r1e=4096;function Vz(t,e,n){let i=e;const f=i+n,b=[];let s="";for(;i<f;){const y=t[i++];if((y&128)===0)b.push(y);else if((y&224)===192){const r=t[i++]&63;b.push((y&31)<<6|r)}else if((y&240)===224){const r=t[i++]&63,o=t[i++]&63;b.push((y&31)<<12|r<<6|o)}else if((y&248)===240){const r=t[i++]&63,o=t[i++]&63,v=t[i++]&63;let c=(y&7)<<18|r<<12|o<<6|v;c>65535&&(c-=65536,b.push(c>>>10&1023|55296),c=56320|c&1023),b.push(c)}else b.push(y);b.length>=r1e&&(s+=String.fromCharCode(...b),b.length=0)}return b.length>0&&(s+=String.fromCharCode(...b)),s}const i1e=new TextDecoder,s1e=200;function a1e(t,e,n){const i=t.subarray(e,e+n);return i1e.decode(i)}function o1e(t,e,n){return n>s1e?a1e(t,e,n):Vz(t,e,n)}class oy{constructor(e,n){this.type=e,this.data=n}}class $s extends Error{constructor(e){super(e);const n=Object.create($s.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:$s.name})}}const F0=4294967295;function l1e(t,e,n){const i=n/4294967296,f=n;t.setUint32(e,i),t.setUint32(e+4,f)}function Hz(t,e,n){const i=Math.floor(n/4294967296),f=n;t.setUint32(e,i),t.setUint32(e+4,f)}function Yz(t,e){const n=t.getInt32(e),i=t.getUint32(e+4);return n*4294967296+i}function u1e(t,e){const n=t.getUint32(e),i=t.getUint32(e+4);return n*4294967296+i}const c1e=-1,d1e=4294967296-1,h1e=17179869184-1;function f1e({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=h1e)if(e===0&&t<=d1e){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t),n}else{const n=t/4294967296,i=t&4294967295,f=new Uint8Array(8),b=new DataView(f.buffer);return b.setUint32(0,e<<2|n&3),b.setUint32(4,i),f}else{const n=new Uint8Array(12),i=new DataView(n.buffer);return i.setUint32(0,e),Hz(i,4,t),n}}function p1e(t){const e=t.getTime(),n=Math.floor(e/1e3),i=(e-n*1e3)*1e6,f=Math.floor(i/1e9);return{sec:n+f,nsec:i-f*1e9}}function v1e(t){if(t instanceof Date){const e=p1e(t);return f1e(e)}else return null}function g1e(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const n=e.getUint32(0),i=e.getUint32(4),f=(n&3)*4294967296+i,b=n>>>2;return{sec:f,nsec:b}}case 12:{const n=Yz(e,4),i=e.getUint32(0);return{sec:n,nsec:i}}default:throw new $s(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function m1e(t){const e=g1e(t);return new Date(e.sec*1e3+e.nsec/1e6)}const y1e={type:c1e,encode:v1e,decode:m1e};class z2{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(y1e)}register({type:e,encode:n,decode:i}){if(e>=0)this.encoders[e]=n,this.decoders[e]=i;else{const f=-1-e;this.builtInEncoders[f]=n,this.builtInDecoders[f]=i}}tryToEncode(e,n){for(let i=0;i<this.builtInEncoders.length;i++){const f=this.builtInEncoders[i];if(f!=null){const b=f(e,n);if(b!=null){const s=-1-i;return new oy(s,b)}}}for(let i=0;i<this.encoders.length;i++){const f=this.encoders[i];if(f!=null){const b=f(e,n);if(b!=null){const s=i;return new oy(s,b)}}}return e instanceof oy?e:null}decode(e,n,i){const f=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return f?f(e,n,i):new oy(n,e)}}z2.defaultCodec=new z2;function w1e(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function AC(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):w1e(t)?new Uint8Array(t):Uint8Array.from(t)}const x1e=100,b1e=2048;let C1e=class Xz{constructor(e){this.entered=!1,this.extensionCodec=e?.extensionCodec??z2.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.maxDepth=e?.maxDepth??x1e,this.initialBufferSize=e?.initialBufferSize??b1e,this.sortKeys=e?.sortKeys??!1,this.forceFloat32=e?.forceFloat32??!1,this.ignoreUndefined=e?.ignoreUndefined??!1,this.forceIntegerToFloat=e?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new Xz({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,n)}ensureBufferSizeToWrite(e){const n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(e){const n=new ArrayBuffer(e),i=new Uint8Array(n),f=new DataView(n);i.set(this.bytes),this.view=f,this.bytes=i}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const i=Qme(e);this.ensureBufferSizeToWrite(5+i),this.writeStringHeader(i),n1e(e,this.bytes,this.pos),this.pos+=i}encodeObject(e,n){const i=this.extensionCodec.tryToEncode(e,this.context);if(i!=null)this.encodeExtension(i);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const i=AC(e);this.writeU8a(i)}encodeArray(e,n){const i=e.length;if(i<16)this.writeU8(144+i);else if(i<65536)this.writeU8(220),this.writeU16(i);else if(i<4294967296)this.writeU8(221),this.writeU32(i);else throw new Error(`Too large array: ${i}`);for(const f of e)this.doEncode(f,n+1)}countWithoutUndefined(e,n){let i=0;for(const f of n)e[f]!==void 0&&i++;return i}encodeMap(e,n){const i=Object.keys(e);this.sortKeys&&i.sort();const f=this.ignoreUndefined?this.countWithoutUndefined(e,i):i.length;if(f<16)this.writeU8(128+f);else if(f<65536)this.writeU8(222),this.writeU16(f);else if(f<4294967296)this.writeU8(223),this.writeU32(f);else throw new Error(`Too large map object: ${f}`);for(const b of i){const s=e[b];this.ignoreUndefined&&s===void 0||(this.encodeString(b),this.doEncode(s,n+1))}}encodeExtension(e){if(typeof e.data=="function"){const i=e.data(this.pos+6),f=i.length;if(f>=4294967296)throw new Error(`Too large extension object: ${f}`);this.writeU8(201),this.writeU32(f),this.writeI8(e.type),this.writeU8a(i);return}const n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),l1e(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),Hz(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function E1e(t,e){return new C1e(e).encodeSharedRef(t)}function A4(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const S1e=16,T1e=16;class A1e{constructor(e=S1e,n=T1e){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=n,this.caches=[];for(let i=0;i<this.maxKeyLength;i++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,n,i){const f=this.caches[i-1];e:for(const b of f){const s=b.bytes;for(let y=0;y<i;y++)if(s[y]!==e[n+y])continue e;return b.str}return null}store(e,n){const i=this.caches[e.length-1],f={bytes:e,str:n};i.length>=this.maxLengthPerKey?i[Math.random()*i.length|0]=f:i.push(f)}decode(e,n,i){const f=this.find(e,n,i);if(f!=null)return this.hit++,f;this.miss++;const b=Vz(e,n,i),s=Uint8Array.prototype.slice.call(e,n,n+i);return this.store(s,b),b}}const PC="array",mv="map_key",Kz="map_value",P1e=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new $s("The type of key must be string or number but "+typeof t)};class I1e{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const n=this.getUninitializedStateFromPool();n.type=PC,n.position=0,n.size=e,n.array=new Array(e)}pushMapState(e){const n=this.getUninitializedStateFromPool();n.type=mv,n.readCount=0,n.size=e,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===PC){const i=e;i.size=0,i.array=void 0,i.position=0,i.type=void 0}if(e.type===mv||e.type===Kz){const i=e;i.size=0,i.map=void 0,i.readCount=0,i.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const $0=-1,US=new DataView(new ArrayBuffer(0)),R1e=new Uint8Array(US.buffer);try{US.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const gO=new RangeError("Insufficient data"),M1e=new A1e;let O1e=class Zz{constructor(e){this.totalPos=0,this.pos=0,this.view=US,this.bytes=R1e,this.headByte=$0,this.stack=new I1e,this.entered=!1,this.extensionCodec=e?.extensionCodec??z2.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.rawStrings=e?.rawStrings??!1,this.maxStrLength=e?.maxStrLength??F0,this.maxBinLength=e?.maxBinLength??F0,this.maxArrayLength=e?.maxArrayLength??F0,this.maxMapLength=e?.maxMapLength??F0,this.maxExtLength=e?.maxExtLength??F0,this.keyDecoder=e?.keyDecoder!==void 0?e.keyDecoder:M1e,this.mapKeyConverter=e?.mapKeyConverter??P1e}clone(){return new Zz({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=$0,this.stack.reset()}setBuffer(e){const n=AC(e);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===$0&&!this.hasRemaining(1))this.setBuffer(e);else{const n=this.bytes.subarray(this.pos),i=AC(e),f=new Uint8Array(n.length+i.length);f.set(n),f.set(i,n.length),this.setBuffer(f)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:n,pos:i}=this;return new RangeError(`Extra ${n.byteLength-i} of ${n.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let n=!1,i;for await(const y of e){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(y);try{i=this.doDecodeSync(),n=!0}catch(r){if(!(r instanceof RangeError))throw r}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return i}const{headByte:f,pos:b,totalPos:s}=this;throw new RangeError(`Insufficient data in parsing ${A4(f)} at ${s} (${b} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,n){if(this.entered){yield*this.clone().decodeMultiAsync(e,n);return}try{this.entered=!0;let i=n,f=-1;for await(const b of e){if(n&&f===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(b),i&&(f=this.readArraySize(),i=!1,this.complete());try{for(;yield this.doDecodeSync(),--f!==0;);}catch(s){if(!(s instanceof RangeError))throw s}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let n;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){const f=e-128;if(f!==0){this.pushMapState(f),this.complete();continue e}else n={}}else if(e<160){const f=e-144;if(f!==0){this.pushArrayState(f),this.complete();continue e}else n=[]}else{const f=e-160;n=this.decodeString(f,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(e===217){const f=this.lookU8();n=this.decodeString(f,1)}else if(e===218){const f=this.lookU16();n=this.decodeString(f,2)}else if(e===219){const f=this.lookU32();n=this.decodeString(f,4)}else if(e===220){const f=this.readU16();if(f!==0){this.pushArrayState(f),this.complete();continue e}else n=[]}else if(e===221){const f=this.readU32();if(f!==0){this.pushArrayState(f),this.complete();continue e}else n=[]}else if(e===222){const f=this.readU16();if(f!==0){this.pushMapState(f),this.complete();continue e}else n={}}else if(e===223){const f=this.readU32();if(f!==0){this.pushMapState(f),this.complete();continue e}else n={}}else if(e===196){const f=this.lookU8();n=this.decodeBinary(f,1)}else if(e===197){const f=this.lookU16();n=this.decodeBinary(f,2)}else if(e===198){const f=this.lookU32();n=this.decodeBinary(f,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){const f=this.lookU8();n=this.decodeExtension(f,1)}else if(e===200){const f=this.lookU16();n=this.decodeExtension(f,2)}else if(e===201){const f=this.lookU32();n=this.decodeExtension(f,4)}else throw new $s(`Unrecognized type byte: ${A4(e)}`);this.complete();const i=this.stack;for(;i.length>0;){const f=i.top();if(f.type===PC)if(f.array[f.position]=n,f.position++,f.position===f.size)n=f.array,i.release(f);else continue e;else if(f.type===mv){if(n==="__proto__")throw new $s("The key __proto__ is not allowed");f.key=this.mapKeyConverter(n),f.type=Kz;continue e}else if(f.map[f.key]=n,f.readCount++,f.readCount===f.size)n=f.map,i.release(f);else{f.key=null,f.type=mv;continue e}}return n}}readHeadByte(){return this.headByte===$0&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=$0}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new $s(`Unrecognized array type byte: ${A4(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new $s(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new $s(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,n):this.decodeBinary(e,n)}decodeUtf8String(e,n){if(e>this.maxStrLength)throw new $s(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+e)throw gO;const i=this.pos+n;let f;return this.stateIsMapKey()&&this.keyDecoder?.canBeCached(e)?f=this.keyDecoder.decode(this.bytes,i,e):f=o1e(this.bytes,i,e),this.pos+=n+e,f}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===mv:!1}decodeBinary(e,n){if(e>this.maxBinLength)throw new $s(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+n))throw gO;const i=this.pos+n,f=this.bytes.subarray(i,i+e);return this.pos+=n+e,f}decodeExtension(e,n){if(e>this.maxExtLength)throw new $s(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const i=this.view.getInt8(this.pos+n),f=this.decodeBinary(e,n+1);return this.extensionCodec.decode(f,i,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=u1e(this.view,this.pos);return this.pos+=8,e}readI64(){const e=Yz(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function F1e(t,e){return new O1e(e).decode(t)}const $1e=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),L1e=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(i,f)=>typeof f=="string"&&f.match(/^\d+n$/)?BigInt(f.substring(0,f.length-1)):f)};function $d(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return L1e(t)}catch{return t}}function nu(t){return typeof t=="string"?t:$1e(t)||""}function D1e(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Jz(t,...e){if(!D1e(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function mO(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function N1e(t,e){Jz(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const ef=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const P4=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function k1e(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function Qz(t){return typeof t=="string"&&(t=k1e(t)),Jz(t),t}let B1e=class{clone(){return this._cloneInto()}};function U1e(t){const e=i=>t().update(Qz(i)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function _z(t=32){if(ef&&typeof ef.getRandomValues=="function")return ef.getRandomValues(new Uint8Array(t));if(ef&&typeof ef.randomBytes=="function")return ef.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function j1e(t,e,n,i){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,i);const f=BigInt(32),b=BigInt(4294967295),s=Number(n>>f&b),y=Number(n&b),r=i?4:0,o=i?0:4;t.setUint32(e+r,s,i),t.setUint32(e+o,y,i)}let z1e=class extends B1e{constructor(e,n,i,f){super(),this.blockLen=e,this.outputLen=n,this.padOffset=i,this.isLE=f,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=P4(this.buffer)}update(e){mO(this);const{view:n,buffer:i,blockLen:f}=this;e=Qz(e);const b=e.length;for(let s=0;s<b;){const y=Math.min(f-this.pos,b-s);if(y===f){const r=P4(e);for(;f<=b-s;s+=f)this.process(r,s);continue}i.set(e.subarray(s,s+y),this.pos),this.pos+=y,s+=y,this.pos===f&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){mO(this),N1e(e,this),this.finished=!0;const{buffer:n,view:i,blockLen:f,isLE:b}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>f-s&&(this.process(i,0),s=0);for(let c=s;c<f;c++)n[c]=0;j1e(i,f-8,BigInt(this.length*8),b),this.process(i,0);const y=P4(e),r=this.outputLen;if(r%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const o=r/4,v=this.get();if(o>v.length)throw new Error("_sha2: outputLen bigger than state");for(let c=0;c<o;c++)y.setUint32(4*c,v[c],b)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const i=e.slice(0,n);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:i,length:f,finished:b,destroyed:s,pos:y}=this;return e.length=f,e.pos=y,e.finished=b,e.destroyed=s,f%n&&e.buffer.set(i),e}};const ly=BigInt(2**32-1),IC=BigInt(32);function qz(t,e=!1){return e?{h:Number(t&ly),l:Number(t>>IC&ly)}:{h:Number(t>>IC&ly)|0,l:Number(t&ly)|0}}function W1e(t,e=!1){let n=new Uint32Array(t.length),i=new Uint32Array(t.length);for(let f=0;f<t.length;f++){const{h:b,l:s}=qz(t[f],e);[n[f],i[f]]=[b,s]}return[n,i]}const G1e=(t,e)=>BigInt(t>>>0)<<IC|BigInt(e>>>0),V1e=(t,e,n)=>t>>>n,H1e=(t,e,n)=>t<<32-n|e>>>n,Y1e=(t,e,n)=>t>>>n|e<<32-n,X1e=(t,e,n)=>t<<32-n|e>>>n,K1e=(t,e,n)=>t<<64-n|e>>>n-32,Z1e=(t,e,n)=>t>>>n-32|e<<64-n,J1e=(t,e)=>e,Q1e=(t,e)=>t,_1e=(t,e,n)=>t<<n|e>>>32-n,q1e=(t,e,n)=>e<<n|t>>>32-n,eye=(t,e,n)=>e<<n-32|t>>>64-n,tye=(t,e,n)=>t<<n-32|e>>>64-n;function nye(t,e,n,i){const f=(e>>>0)+(i>>>0);return{h:t+n+(f/2**32|0)|0,l:f|0}}const rye=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),iye=(t,e,n,i)=>e+n+i+(t/2**32|0)|0,sye=(t,e,n,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(i>>>0),aye=(t,e,n,i,f)=>e+n+i+f+(t/2**32|0)|0,oye=(t,e,n,i,f)=>(t>>>0)+(e>>>0)+(n>>>0)+(i>>>0)+(f>>>0),lye=(t,e,n,i,f,b)=>e+n+i+f+b+(t/2**32|0)|0,Ut={fromBig:qz,split:W1e,toBig:G1e,shrSH:V1e,shrSL:H1e,rotrSH:Y1e,rotrSL:X1e,rotrBH:K1e,rotrBL:Z1e,rotr32H:J1e,rotr32L:Q1e,rotlSH:_1e,rotlSL:q1e,rotlBH:eye,rotlBL:tye,add:nye,add3L:rye,add3H:iye,add4L:sye,add4H:aye,add5H:lye,add5L:oye},[uye,cye]=Ut.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Ru=new Uint32Array(80),Mu=new Uint32Array(80);let dye=class extends z1e{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:i,Bl:f,Ch:b,Cl:s,Dh:y,Dl:r,Eh:o,El:v,Fh:c,Fl:u,Gh:l,Gl:a,Hh:d,Hl:p}=this;return[e,n,i,f,b,s,y,r,o,v,c,u,l,a,d,p]}set(e,n,i,f,b,s,y,r,o,v,c,u,l,a,d,p){this.Ah=e|0,this.Al=n|0,this.Bh=i|0,this.Bl=f|0,this.Ch=b|0,this.Cl=s|0,this.Dh=y|0,this.Dl=r|0,this.Eh=o|0,this.El=v|0,this.Fh=c|0,this.Fl=u|0,this.Gh=l|0,this.Gl=a|0,this.Hh=d|0,this.Hl=p|0}process(e,n){for(let m=0;m<16;m++,n+=4)Ru[m]=e.getUint32(n),Mu[m]=e.getUint32(n+=4);for(let m=16;m<80;m++){const x=Ru[m-15]|0,w=Mu[m-15]|0,C=Ut.rotrSH(x,w,1)^Ut.rotrSH(x,w,8)^Ut.shrSH(x,w,7),E=Ut.rotrSL(x,w,1)^Ut.rotrSL(x,w,8)^Ut.shrSL(x,w,7),T=Ru[m-2]|0,S=Mu[m-2]|0,A=Ut.rotrSH(T,S,19)^Ut.rotrBH(T,S,61)^Ut.shrSH(T,S,6),P=Ut.rotrSL(T,S,19)^Ut.rotrBL(T,S,61)^Ut.shrSL(T,S,6),R=Ut.add4L(E,P,Mu[m-7],Mu[m-16]),L=Ut.add4H(R,C,A,Ru[m-7],Ru[m-16]);Ru[m]=L|0,Mu[m]=R|0}let{Ah:i,Al:f,Bh:b,Bl:s,Ch:y,Cl:r,Dh:o,Dl:v,Eh:c,El:u,Fh:l,Fl:a,Gh:d,Gl:p,Hh:h,Hl:g}=this;for(let m=0;m<80;m++){const x=Ut.rotrSH(c,u,14)^Ut.rotrSH(c,u,18)^Ut.rotrBH(c,u,41),w=Ut.rotrSL(c,u,14)^Ut.rotrSL(c,u,18)^Ut.rotrBL(c,u,41),C=c&l^~c&d,E=u&a^~u&p,T=Ut.add5L(g,w,E,cye[m],Mu[m]),S=Ut.add5H(T,h,x,C,uye[m],Ru[m]),A=T|0,P=Ut.rotrSH(i,f,28)^Ut.rotrBH(i,f,34)^Ut.rotrBH(i,f,39),R=Ut.rotrSL(i,f,28)^Ut.rotrBL(i,f,34)^Ut.rotrBL(i,f,39),L=i&b^i&y^b&y,D=f&s^f&r^s&r;h=d|0,g=p|0,d=l|0,p=a|0,l=c|0,a=u|0,{h:c,l:u}=Ut.add(o|0,v|0,S|0,A|0),o=y|0,v=r|0,y=b|0,r=s|0,b=i|0,s=f|0;const F=Ut.add3L(A,R,D);i=Ut.add3H(F,S,P,L),f=F|0}({h:i,l:f}=Ut.add(this.Ah|0,this.Al|0,i|0,f|0)),{h:b,l:s}=Ut.add(this.Bh|0,this.Bl|0,b|0,s|0),{h:y,l:r}=Ut.add(this.Ch|0,this.Cl|0,y|0,r|0),{h:o,l:v}=Ut.add(this.Dh|0,this.Dl|0,o|0,v|0),{h:c,l:u}=Ut.add(this.Eh|0,this.El|0,c|0,u|0),{h:l,l:a}=Ut.add(this.Fh|0,this.Fl|0,l|0,a|0),{h:d,l:p}=Ut.add(this.Gh|0,this.Gl|0,d|0,p|0),{h,l:g}=Ut.add(this.Hh|0,this.Hl|0,h|0,g|0),this.set(i,f,b,s,y,r,o,v,c,u,l,a,d,p,h,g)}roundClean(){Ru.fill(0),Mu.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const hye=U1e(()=>new dye);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const jS=BigInt(0),eW=BigInt(1),fye=BigInt(2);function zS(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function WS(t){if(!zS(t))throw new Error("Uint8Array expected")}function I4(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const pye=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function GS(t){WS(t);let e="";for(let n=0;n<t.length;n++)e+=pye[t[n]];return e}function tW(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?jS:BigInt("0x"+t)}const Tl={_0:48,_9:57,A:65,F:70,a:97,f:102};function yO(t){if(t>=Tl._0&&t<=Tl._9)return t-Tl._0;if(t>=Tl.A&&t<=Tl.F)return t-(Tl.A-10);if(t>=Tl.a&&t<=Tl.f)return t-(Tl.a-10)}function nW(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const i=new Uint8Array(n);for(let f=0,b=0;f<n;f++,b+=2){const s=yO(t.charCodeAt(b)),y=yO(t.charCodeAt(b+1));if(s===void 0||y===void 0){const r=t[b]+t[b+1];throw new Error('hex string expected, got non-hex character "'+r+'" at index '+b)}i[f]=s*16+y}return i}function vye(t){return tW(GS(t))}function Ky(t){return WS(t),tW(GS(Uint8Array.from(t).reverse()))}function rW(t,e){return nW(t.toString(16).padStart(e*2,"0"))}function RC(t,e){return rW(t,e).reverse()}function Al(t,e,n){let i;if(typeof e=="string")try{i=nW(e)}catch(b){throw new Error(t+" must be hex string or Uint8Array, cause: "+b)}else if(zS(e))i=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const f=i.length;if(typeof n=="number"&&f!==n)throw new Error(t+" of length "+n+" expected, got "+f);return i}function wO(...t){let e=0;for(let i=0;i<t.length;i++){const f=t[i];WS(f),e+=f.length}const n=new Uint8Array(e);for(let i=0,f=0;i<t.length;i++){const b=t[i];n.set(b,f),f+=b.length}return n}const R4=t=>typeof t=="bigint"&&jS<=t;function gye(t,e,n){return R4(t)&&R4(e)&&R4(n)&&e<=t&&t<n}function L0(t,e,n,i){if(!gye(e,n,i))throw new Error("expected valid "+t+": "+n+" <= n < "+i+", got "+e)}function mye(t){let e;for(e=0;t>jS;t>>=eW,e+=1);return e}const yye=t=>(fye<<BigInt(t-1))-eW,wye={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||zS(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function VS(t,e,n={}){const i=(f,b,s)=>{const y=wye[b];if(typeof y!="function")throw new Error("invalid validator function");const r=t[f];if(!(s&&r===void 0)&&!y(r,t))throw new Error("param "+String(f)+" is invalid. Expected "+b+", got "+r)};for(const[f,b]of Object.entries(e))i(f,b,!1);for(const[f,b]of Object.entries(n))i(f,b,!0);return t}function xO(t){const e=new WeakMap;return(n,...i)=>{const f=e.get(n);if(f!==void 0)return f;const b=t(n,...i);return e.set(n,b),b}}const Zr=BigInt(0),hr=BigInt(1),Qc=BigInt(2),xye=BigInt(3),MC=BigInt(4),bO=BigInt(5),CO=BigInt(8);function Mr(t,e){const n=t%e;return n>=Zr?n:e+n}function bye(t,e,n){if(e<Zr)throw new Error("invalid exponent, negatives unsupported");if(n<=Zr)throw new Error("invalid modulus");if(n===hr)return Zr;let i=hr;for(;e>Zr;)e&hr&&(i=i*t%n),t=t*t%n,e>>=hr;return i}function Ro(t,e,n){let i=t;for(;e-- >Zr;)i*=i,i%=n;return i}function EO(t,e){if(t===Zr)throw new Error("invert: expected non-zero number");if(e<=Zr)throw new Error("invert: expected positive modulus, got "+e);let n=Mr(t,e),i=e,f=Zr,b=hr;for(;n!==Zr;){const s=i/n,y=i%n,r=f-b*s;i=n,n=y,f=b,b=r}if(i!==hr)throw new Error("invert: does not exist");return Mr(f,e)}function Cye(t){const e=(t-hr)/Qc;let n,i,f;for(n=t-hr,i=0;n%Qc===Zr;n/=Qc,i++);for(f=Qc;f<t&&bye(f,e,t)!==t-hr;f++)if(f>1e3)throw new Error("Cannot find square root: likely non-prime P");if(i===1){const s=(t+hr)/MC;return function(y,r){const o=y.pow(r,s);if(!y.eql(y.sqr(o),r))throw new Error("Cannot find square root");return o}}const b=(n+hr)/Qc;return function(s,y){if(s.pow(y,e)===s.neg(s.ONE))throw new Error("Cannot find square root");let r=i,o=s.pow(s.mul(s.ONE,f),n),v=s.pow(y,b),c=s.pow(y,n);for(;!s.eql(c,s.ONE);){if(s.eql(c,s.ZERO))return s.ZERO;let u=1;for(let a=s.sqr(c);u<r&&!s.eql(a,s.ONE);u++)a=s.sqr(a);const l=s.pow(o,hr<<BigInt(r-u-1));o=s.sqr(l),v=s.mul(v,l),c=s.mul(c,o),r=u}return v}}function Eye(t){if(t%MC===xye){const e=(t+hr)/MC;return function(n,i){const f=n.pow(i,e);if(!n.eql(n.sqr(f),i))throw new Error("Cannot find square root");return f}}if(t%CO===bO){const e=(t-bO)/CO;return function(n,i){const f=n.mul(i,Qc),b=n.pow(f,e),s=n.mul(i,b),y=n.mul(n.mul(s,Qc),b),r=n.mul(s,n.sub(y,n.ONE));if(!n.eql(n.sqr(r),i))throw new Error("Cannot find square root");return r}}return Cye(t)}const Sye=(t,e)=>(Mr(t,e)&hr)===hr,Tye=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Aye(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Tye.reduce((i,f)=>(i[f]="function",i),e);return VS(t,n)}function Pye(t,e,n){if(n<Zr)throw new Error("invalid exponent, negatives unsupported");if(n===Zr)return t.ONE;if(n===hr)return e;let i=t.ONE,f=e;for(;n>Zr;)n&hr&&(i=t.mul(i,f)),f=t.sqr(f),n>>=hr;return i}function Iye(t,e){const n=new Array(e.length),i=e.reduce((b,s,y)=>t.is0(s)?b:(n[y]=b,t.mul(b,s)),t.ONE),f=t.inv(i);return e.reduceRight((b,s,y)=>t.is0(s)?b:(n[y]=t.mul(b,n[y]),t.mul(b,s)),f),n}function iW(t,e){const n=e!==void 0?e:t.toString(2).length,i=Math.ceil(n/8);return{nBitLength:n,nByteLength:i}}function sW(t,e,n=!1,i={}){if(t<=Zr)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:f,nByteLength:b}=iW(t,e);if(b>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let s;const y=Object.freeze({ORDER:t,isLE:n,BITS:f,BYTES:b,MASK:yye(f),ZERO:Zr,ONE:hr,create:r=>Mr(r,t),isValid:r=>{if(typeof r!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof r);return Zr<=r&&r<t},is0:r=>r===Zr,isOdd:r=>(r&hr)===hr,neg:r=>Mr(-r,t),eql:(r,o)=>r===o,sqr:r=>Mr(r*r,t),add:(r,o)=>Mr(r+o,t),sub:(r,o)=>Mr(r-o,t),mul:(r,o)=>Mr(r*o,t),pow:(r,o)=>Pye(y,r,o),div:(r,o)=>Mr(r*EO(o,t),t),sqrN:r=>r*r,addN:(r,o)=>r+o,subN:(r,o)=>r-o,mulN:(r,o)=>r*o,inv:r=>EO(r,t),sqrt:i.sqrt||(r=>(s||(s=Eye(t)),s(y,r))),invertBatch:r=>Iye(y,r),cmov:(r,o,v)=>v?o:r,toBytes:r=>n?RC(r,b):rW(r,b),fromBytes:r=>{if(r.length!==b)throw new Error("Field.fromBytes: expected "+b+" bytes, got "+r.length);return n?Ky(r):vye(r)}});return Object.freeze(y)}const SO=BigInt(0),uy=BigInt(1);function M4(t,e){const n=e.negate();return t?n:e}function aW(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function O4(t,e){aW(t,e);const n=Math.ceil(e/t)+1,i=2**(t-1);return{windows:n,windowSize:i}}function Rye(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,i)=>{if(!(n instanceof e))throw new Error("invalid point at index "+i)})}function Mye(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,i)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+i)})}const F4=new WeakMap,oW=new WeakMap;function $4(t){return oW.get(t)||1}function Oye(t,e){return{constTimeNegate:M4,hasPrecomputes(n){return $4(n)!==1},unsafeLadder(n,i,f=t.ZERO){let b=n;for(;i>SO;)i&uy&&(f=f.add(b)),b=b.double(),i>>=uy;return f},precomputeWindow(n,i){const{windows:f,windowSize:b}=O4(i,e),s=[];let y=n,r=y;for(let o=0;o<f;o++){r=y,s.push(r);for(let v=1;v<b;v++)r=r.add(y),s.push(r);y=r.double()}return s},wNAF(n,i,f){const{windows:b,windowSize:s}=O4(n,e);let y=t.ZERO,r=t.BASE;const o=BigInt(2**n-1),v=2**n,c=BigInt(n);for(let u=0;u<b;u++){const l=u*s;let a=Number(f&o);f>>=c,a>s&&(a-=v,f+=uy);const d=l,p=l+Math.abs(a)-1,h=u%2!==0,g=a<0;a===0?r=r.add(M4(h,i[d])):y=y.add(M4(g,i[p]))}return{p:y,f:r}},wNAFUnsafe(n,i,f,b=t.ZERO){const{windows:s,windowSize:y}=O4(n,e),r=BigInt(2**n-1),o=2**n,v=BigInt(n);for(let c=0;c<s;c++){const u=c*y;if(f===SO)break;let l=Number(f&r);if(f>>=v,l>y&&(l-=o,f+=uy),l===0)continue;let a=i[u+Math.abs(l)-1];l<0&&(a=a.negate()),b=b.add(a)}return b},getPrecomputes(n,i,f){let b=F4.get(i);return b||(b=this.precomputeWindow(i,n),n!==1&&F4.set(i,f(b))),b},wNAFCached(n,i,f){const b=$4(n);return this.wNAF(b,this.getPrecomputes(b,n,f),i)},wNAFCachedUnsafe(n,i,f,b){const s=$4(n);return s===1?this.unsafeLadder(n,i,b):this.wNAFUnsafe(s,this.getPrecomputes(s,n,f),i,b)},setWindowSize(n,i){aW(i,e),oW.set(n,i),F4.delete(n)}}}function Fye(t,e,n,i){if(Rye(n,t),Mye(i,e),n.length!==i.length)throw new Error("arrays of points and scalars must have equal length");const f=t.ZERO,b=mye(BigInt(n.length)),s=b>12?b-3:b>4?b-2:b?2:1,y=(1<<s)-1,r=new Array(y+1).fill(f),o=Math.floor((e.BITS-1)/s)*s;let v=f;for(let c=o;c>=0;c-=s){r.fill(f);for(let l=0;l<i.length;l++){const a=i[l],d=Number(a>>BigInt(c)&BigInt(y));r[d]=r[d].add(n[l])}let u=f;for(let l=r.length-1,a=f;l>0;l--)a=a.add(r[l]),u=u.add(a);if(v=v.add(u),c!==0)for(let l=0;l<s;l++)v=v.double()}return v}function $ye(t){return Aye(t.Fp),VS(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...iW(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const La=BigInt(0),Zi=BigInt(1),cy=BigInt(2),Lye=BigInt(8),Dye={zip215:!0};function Nye(t){const e=$ye(t);return VS(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function kye(t){const e=Nye(t),{Fp:n,n:i,prehash:f,hash:b,randomBytes:s,nByteLength:y,h:r}=e,o=cy<<BigInt(y*8)-Zi,v=n.create,c=sW(e.n,e.nBitLength),u=e.uvRatio||((F,$)=>{try{return{isValid:!0,value:n.sqrt(F*n.inv($))}}catch{return{isValid:!1,value:La}}}),l=e.adjustScalarBytes||(F=>F),a=e.domain||((F,$,N)=>{if(I4("phflag",N),$.length||N)throw new Error("Contexts/pre-hash are not supported");return F});function d(F,$){L0("coordinate "+F,$,La,o)}function p(F){if(!(F instanceof m))throw new Error("ExtendedPoint expected")}const h=xO((F,$)=>{const{ex:N,ey:k,ez:j}=F,W=F.is0();$==null&&($=W?Lye:n.inv(j));const G=v(N*$),K=v(k*$),z=v(j*$);if(W)return{x:La,y:Zi};if(z!==Zi)throw new Error("invZ was invalid");return{x:G,y:K}}),g=xO(F=>{const{a:$,d:N}=e;if(F.is0())throw new Error("bad point: ZERO");const{ex:k,ey:j,ez:W,et:G}=F,K=v(k*k),z=v(j*j),X=v(W*W),U=v(X*X),Z=v(K*$),V=v(X*v(Z+z)),J=v(U+v(N*v(K*z)));if(V!==J)throw new Error("bad point: equation left != right (1)");const _=v(k*j),ee=v(W*G);if(_!==ee)throw new Error("bad point: equation left != right (2)");return!0});class m{constructor($,N,k,j){this.ex=$,this.ey=N,this.ez=k,this.et=j,d("x",$),d("y",N),d("z",k),d("t",j),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine($){if($ instanceof m)throw new Error("extended point not allowed");const{x:N,y:k}=$||{};return d("x",N),d("y",k),new m(N,k,Zi,v(N*k))}static normalizeZ($){const N=n.invertBatch($.map(k=>k.ez));return $.map((k,j)=>k.toAffine(N[j])).map(m.fromAffine)}static msm($,N){return Fye(m,c,$,N)}_setWindowSize($){C.setWindowSize(this,$)}assertValidity(){g(this)}equals($){p($);const{ex:N,ey:k,ez:j}=this,{ex:W,ey:G,ez:K}=$,z=v(N*K),X=v(W*j),U=v(k*K),Z=v(G*j);return z===X&&U===Z}is0(){return this.equals(m.ZERO)}negate(){return new m(v(-this.ex),this.ey,this.ez,v(-this.et))}double(){const{a:$}=e,{ex:N,ey:k,ez:j}=this,W=v(N*N),G=v(k*k),K=v(cy*v(j*j)),z=v($*W),X=N+k,U=v(v(X*X)-W-G),Z=z+G,V=Z-K,J=z-G,_=v(U*V),ee=v(Z*J),te=v(U*J),ie=v(V*Z);return new m(_,ee,ie,te)}add($){p($);const{a:N,d:k}=e,{ex:j,ey:W,ez:G,et:K}=this,{ex:z,ey:X,ez:U,et:Z}=$;if(N===BigInt(-1)){const Ee=v((W-j)*(X+z)),Ie=v((W+j)*(X-z)),je=v(Ie-Ee);if(je===La)return this.double();const Re=v(G*cy*Z),$e=v(K*cy*U),Ae=$e+Re,Xe=Ie+Ee,st=$e-Re,vt=v(Ae*je),Ge=v(Xe*st),nt=v(Ae*st),Et=v(je*Xe);return new m(vt,Ge,Et,nt)}const V=v(j*z),J=v(W*X),_=v(K*k*Z),ee=v(G*U),te=v((j+W)*(z+X)-V-J),ie=ee-_,le=ee+_,he=v(J-N*V),fe=v(te*ie),oe=v(le*he),Ce=v(te*he),ye=v(ie*le);return new m(fe,oe,ye,Ce)}subtract($){return this.add($.negate())}wNAF($){return C.wNAFCached(this,$,m.normalizeZ)}multiply($){const N=$;L0("scalar",N,Zi,i);const{p:k,f:j}=this.wNAF(N);return m.normalizeZ([k,j])[0]}multiplyUnsafe($,N=m.ZERO){const k=$;return L0("scalar",k,La,i),k===La?w:this.is0()||k===Zi?this:C.wNAFCachedUnsafe(this,k,m.normalizeZ,N)}isSmallOrder(){return this.multiplyUnsafe(r).is0()}isTorsionFree(){return C.unsafeLadder(this,i).is0()}toAffine($){return h(this,$)}clearCofactor(){const{h:$}=e;return $===Zi?this:this.multiplyUnsafe($)}static fromHex($,N=!1){const{d:k,a:j}=e,W=n.BYTES;$=Al("pointHex",$,W),I4("zip215",N);const G=$.slice(),K=$[W-1];G[W-1]=K&-129;const z=Ky(G),X=N?o:n.ORDER;L0("pointHex.y",z,La,X);const U=v(z*z),Z=v(U-Zi),V=v(k*U-j);let{isValid:J,value:_}=u(Z,V);if(!J)throw new Error("Point.fromHex: invalid y coordinate");const ee=(_&Zi)===Zi,te=(K&128)!==0;if(!N&&_===La&&te)throw new Error("Point.fromHex: x=0 and x_0=1");return te!==ee&&(_=v(-_)),m.fromAffine({x:_,y:z})}static fromPrivateKey($){return S($).point}toRawBytes(){const{x:$,y:N}=this.toAffine(),k=RC(N,n.BYTES);return k[k.length-1]|=$&Zi?128:0,k}toHex(){return GS(this.toRawBytes())}}m.BASE=new m(e.Gx,e.Gy,Zi,v(e.Gx*e.Gy)),m.ZERO=new m(La,Zi,Zi,La);const{BASE:x,ZERO:w}=m,C=Oye(m,y*8);function E(F){return Mr(F,i)}function T(F){return E(Ky(F))}function S(F){const $=n.BYTES;F=Al("private key",F,$);const N=Al("hashed private key",b(F),2*$),k=l(N.slice(0,$)),j=N.slice($,2*$),W=T(k),G=x.multiply(W),K=G.toRawBytes();return{head:k,prefix:j,scalar:W,point:G,pointBytes:K}}function A(F){return S(F).pointBytes}function P(F=new Uint8Array,...$){const N=wO(...$);return T(b(a(N,Al("context",F),!!f)))}function R(F,$,N={}){F=Al("message",F),f&&(F=f(F));const{prefix:k,scalar:j,pointBytes:W}=S($),G=P(N.context,k,F),K=x.multiply(G).toRawBytes(),z=P(N.context,K,W,F),X=E(G+z*j);L0("signature.s",X,La,i);const U=wO(K,RC(X,n.BYTES));return Al("result",U,n.BYTES*2)}const L=Dye;function D(F,$,N,k=L){const{context:j,zip215:W}=k,G=n.BYTES;F=Al("signature",F,2*G),$=Al("message",$),N=Al("publicKey",N,G),W!==void 0&&I4("zip215",W),f&&($=f($));const K=Ky(F.slice(G,2*G));let z,X,U;try{z=m.fromHex(N,W),X=m.fromHex(F.slice(0,G),W),U=x.multiplyUnsafe(K)}catch{return!1}if(!W&&z.isSmallOrder())return!1;const Z=P(j,X.toRawBytes(),z.toRawBytes(),$);return X.add(z.multiplyUnsafe(Z)).subtract(U).clearCofactor().equals(m.ZERO)}return x._setWindowSize(8),{CURVE:e,getPublicKey:A,sign:R,verify:D,ExtendedPoint:m,utils:{getExtendedPublicKey:S,randomPrivateKey:()=>s(n.BYTES),precompute(F=8,$=m.BASE){return $._setWindowSize(F),$.multiply(BigInt(3)),$}}}}BigInt(0),BigInt(1);const HS=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),TO=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Bye=BigInt(1),AO=BigInt(2);BigInt(3);const Uye=BigInt(5),jye=BigInt(8);function zye(t){const e=BigInt(10),n=BigInt(20),i=BigInt(40),f=BigInt(80),b=HS,s=t*t%b*t%b,y=Ro(s,AO,b)*s%b,r=Ro(y,Bye,b)*t%b,o=Ro(r,Uye,b)*r%b,v=Ro(o,e,b)*o%b,c=Ro(v,n,b)*v%b,u=Ro(c,i,b)*c%b,l=Ro(u,f,b)*u%b,a=Ro(l,f,b)*u%b,d=Ro(a,e,b)*o%b;return{pow_p_5_8:Ro(d,AO,b)*t%b,b2:s}}function Wye(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function Gye(t,e){const n=HS,i=Mr(e*e*e,n),f=Mr(i*i*e,n),b=zye(t*f).pow_p_5_8;let s=Mr(t*i*b,n);const y=Mr(e*s*s,n),r=s,o=Mr(s*TO,n),v=y===t,c=y===Mr(-t,n),u=y===Mr(-t*TO,n);return v&&(s=r),(c||u)&&(s=o),Sye(s,n)&&(s=Mr(-s,n)),{isValid:v||c,value:s}}const Vye=sW(HS,void 0,!0),Hye={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Vye,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:jye,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:hye,randomBytes:_z,adjustScalarBytes:Wye,uvRatio:Gye},lW=kye(Hye),Yye="EdDSA",Xye="JWT",W2=".",cx="base64url",uW="utf8",cW="utf8",Kye=":",Zye="did",Jye="key",PO="base58btc",Qye="z",_ye="K36",qye=32;function YS(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function dW(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?YS(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function hW(t,e){e||(e=t.reduce((f,b)=>f+b.length,0));const n=dW(e);let i=0;for(const f of t)n.set(f,i),i+=f.length;return YS(n)}function e2e(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var f=0;f<t.length;f++){var b=t.charAt(f),s=b.charCodeAt(0);if(n[s]!==255)throw new TypeError(b+" is ambiguous");n[s]=f}var y=t.length,r=t.charAt(0),o=Math.log(y)/Math.log(256),v=Math.log(256)/Math.log(y);function c(a){if(a instanceof Uint8Array||(ArrayBuffer.isView(a)?a=new Uint8Array(a.buffer,a.byteOffset,a.byteLength):Array.isArray(a)&&(a=Uint8Array.from(a))),!(a instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(a.length===0)return"";for(var d=0,p=0,h=0,g=a.length;h!==g&&a[h]===0;)h++,d++;for(var m=(g-h)*v+1>>>0,x=new Uint8Array(m);h!==g;){for(var w=a[h],C=0,E=m-1;(w!==0||C<p)&&E!==-1;E--,C++)w+=256*x[E]>>>0,x[E]=w%y>>>0,w=w/y>>>0;if(w!==0)throw new Error("Non-zero carry");p=C,h++}for(var T=m-p;T!==m&&x[T]===0;)T++;for(var S=r.repeat(d);T<m;++T)S+=t.charAt(x[T]);return S}function u(a){if(typeof a!="string")throw new TypeError("Expected String");if(a.length===0)return new Uint8Array;var d=0;if(a[d]!==" "){for(var p=0,h=0;a[d]===r;)p++,d++;for(var g=(a.length-d)*o+1>>>0,m=new Uint8Array(g);a[d];){var x=n[a.charCodeAt(d)];if(x===255)return;for(var w=0,C=g-1;(x!==0||w<h)&&C!==-1;C--,w++)x+=y*m[C]>>>0,m[C]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");h=w,d++}if(a[d]!==" "){for(var E=g-h;E!==g&&m[E]===0;)E++;for(var T=new Uint8Array(p+(g-E)),S=p;E!==g;)T[S++]=m[E++];return T}}}function l(a){var d=u(a);if(d)return d;throw new Error(`Non-${e} character`)}return{encode:c,decodeUnsafe:u,decode:l}}var t2e=e2e,n2e=t2e;const fW=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},r2e=t=>new TextEncoder().encode(t),i2e=t=>new TextDecoder().decode(t);let s2e=class{constructor(e,n,i){this.name=e,this.prefix=n,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},a2e=class{constructor(e,n,i){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return pW(this,e)}},o2e=class{constructor(e){this.decoders=e}or(e){return pW(this,e)}decode(e){const n=e[0],i=this.decoders[n];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const pW=(t,e)=>new o2e({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let l2e=class{constructor(e,n,i,f){this.name=e,this.prefix=n,this.baseEncode=i,this.baseDecode=f,this.encoder=new s2e(e,n,i),this.decoder=new a2e(e,n,f)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const dx=({name:t,prefix:e,encode:n,decode:i})=>new l2e(t,e,n,i),vm=({prefix:t,name:e,alphabet:n})=>{const{encode:i,decode:f}=n2e(n,e);return dx({prefix:t,name:e,encode:i,decode:b=>fW(f(b))})},u2e=(t,e,n,i)=>{const f={};for(let v=0;v<e.length;++v)f[e[v]]=v;let b=t.length;for(;t[b-1]==="=";)--b;const s=new Uint8Array(b*n/8|0);let y=0,r=0,o=0;for(let v=0;v<b;++v){const c=f[t[v]];if(c===void 0)throw new SyntaxError(`Non-${i} character`);r=r<<n|c,y+=n,y>=8&&(y-=8,s[o++]=255&r>>y)}if(y>=n||255&r<<8-y)throw new SyntaxError("Unexpected end of data");return s},c2e=(t,e,n)=>{const i=e[e.length-1]==="=",f=(1<<n)-1;let b="",s=0,y=0;for(let r=0;r<t.length;++r)for(y=y<<8|t[r],s+=8;s>n;)s-=n,b+=e[f&y>>s];if(s&&(b+=e[f&y<<n-s]),i)for(;b.length*n&7;)b+="=";return b},li=({name:t,prefix:e,bitsPerChar:n,alphabet:i})=>dx({prefix:e,name:t,encode(f){return c2e(f,i,n)},decode(f){return u2e(f,i,n,t)}}),d2e=dx({prefix:"\0",name:"identity",encode:t=>i2e(t),decode:t=>r2e(t)});var h2e=Object.freeze({__proto__:null,identity:d2e});const f2e=li({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var p2e=Object.freeze({__proto__:null,base2:f2e});const v2e=li({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var g2e=Object.freeze({__proto__:null,base8:v2e});const m2e=vm({prefix:"9",name:"base10",alphabet:"0123456789"});var y2e=Object.freeze({__proto__:null,base10:m2e});const w2e=li({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),x2e=li({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var b2e=Object.freeze({__proto__:null,base16:w2e,base16upper:x2e});const C2e=li({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),E2e=li({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),S2e=li({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),T2e=li({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),A2e=li({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),P2e=li({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),I2e=li({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),R2e=li({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),M2e=li({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var O2e=Object.freeze({__proto__:null,base32:C2e,base32upper:E2e,base32pad:S2e,base32padupper:T2e,base32hex:A2e,base32hexupper:P2e,base32hexpad:I2e,base32hexpadupper:R2e,base32z:M2e});const F2e=vm({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),$2e=vm({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var L2e=Object.freeze({__proto__:null,base36:F2e,base36upper:$2e});const D2e=vm({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),N2e=vm({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var k2e=Object.freeze({__proto__:null,base58btc:D2e,base58flickr:N2e});const B2e=li({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),U2e=li({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),j2e=li({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),z2e=li({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var W2e=Object.freeze({__proto__:null,base64:B2e,base64pad:U2e,base64url:j2e,base64urlpad:z2e});const vW=Array.from(""),G2e=vW.reduce((t,e,n)=>(t[n]=e,t),[]),V2e=vW.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function H2e(t){return t.reduce((e,n)=>(e+=G2e[n],e),"")}function Y2e(t){const e=[];for(const n of t){const i=V2e[n.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(i)}return new Uint8Array(e)}const X2e=dx({prefix:"",name:"base256emoji",encode:H2e,decode:Y2e});var K2e=Object.freeze({__proto__:null,base256emoji:X2e}),Z2e=gW,IO=128,J2e=-128,Q2e=Math.pow(2,31);function gW(t,e,n){e=e||[],n=n||0;for(var i=n;t>=Q2e;)e[n++]=t&255|IO,t/=128;for(;t&J2e;)e[n++]=t&255|IO,t>>>=7;return e[n]=t|0,gW.bytes=n-i+1,e}var _2e=OC,q2e=128,RO=127;function OC(t,i){var n=0,i=i||0,f=0,b=i,s,y=t.length;do{if(b>=y)throw OC.bytes=0,new RangeError("Could not decode varint");s=t[b++],n+=f<28?(s&RO)<<f:(s&RO)*Math.pow(2,f),f+=7}while(s>=q2e);return OC.bytes=b-i,n}var ewe=Math.pow(2,7),twe=Math.pow(2,14),nwe=Math.pow(2,21),rwe=Math.pow(2,28),iwe=Math.pow(2,35),swe=Math.pow(2,42),awe=Math.pow(2,49),owe=Math.pow(2,56),lwe=Math.pow(2,63),uwe=function(t){return t<ewe?1:t<twe?2:t<nwe?3:t<rwe?4:t<iwe?5:t<swe?6:t<awe?7:t<owe?8:t<lwe?9:10},cwe={encode:Z2e,decode:_2e,encodingLength:uwe},mW=cwe;const MO=(t,e,n=0)=>(mW.encode(t,e,n),e),OO=t=>mW.encodingLength(t),FC=(t,e)=>{const n=e.byteLength,i=OO(t),f=i+OO(n),b=new Uint8Array(f+n);return MO(t,b,0),MO(n,b,i),b.set(e,f),new dwe(t,n,e,b)};let dwe=class{constructor(e,n,i,f){this.code=e,this.size=n,this.digest=i,this.bytes=f}};const yW=({name:t,code:e,encode:n})=>new hwe(t,e,n);let hwe=class{constructor(e,n,i){this.name=e,this.code=n,this.encode=i}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?FC(this.code,n):n.then(i=>FC(this.code,i))}else throw Error("Unknown type, must be binary type")}};const wW=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),fwe=yW({name:"sha2-256",code:18,encode:wW("SHA-256")}),pwe=yW({name:"sha2-512",code:19,encode:wW("SHA-512")});var vwe=Object.freeze({__proto__:null,sha256:fwe,sha512:pwe});const xW=0,gwe="identity",bW=fW,mwe=t=>FC(xW,bW(t)),ywe={code:xW,name:gwe,encode:bW,digest:mwe};var wwe=Object.freeze({__proto__:null,identity:ywe});new TextEncoder,new TextDecoder;const FO={...h2e,...p2e,...g2e,...y2e,...b2e,...O2e,...L2e,...k2e,...W2e,...K2e};({...vwe,...wwe});function CW(t,e,n,i){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:i}}}const $O=CW("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),L4=CW("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=dW(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),EW={utf8:$O,"utf-8":$O,hex:FO.base16,latin1:L4,ascii:L4,binary:L4,...FO};function hx(t,e="utf8"){const n=EW[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function Dp(t,e="utf8"){const n=EW[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?YS(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function LO(t){return $d(hx(Dp(t,cx),uW))}function G2(t){return hx(Dp(nu(t),uW),cx)}function SW(t){const e=Dp(_ye,PO),n=Qye+hx(hW([e,t]),PO);return[Zye,Jye,n].join(Kye)}function xwe(t){return hx(t,cx)}function bwe(t){return Dp(t,cx)}function Cwe(t){return Dp([G2(t.header),G2(t.payload)].join(W2),cW)}function Ewe(t){return[G2(t.header),G2(t.payload),xwe(t.signature)].join(W2)}function $C(t){const e=t.split(W2),n=LO(e[0]),i=LO(e[1]),f=bwe(e[2]),b=Dp(e.slice(0,2).join(W2),cW);return{header:n,payload:i,signature:f,data:b}}function DO(t=_z(qye)){const e=lW.getPublicKey(t);return{secretKey:hW([t,e]),publicKey:e}}async function Swe(t,e,n,i,f=qe.fromMiliseconds(Date.now())){const b={alg:Yye,typ:Xye},s=SW(i.publicKey),y=f+n,r={iss:s,sub:t,aud:e,iat:f,exp:y},o=Cwe({header:b,payload:r}),v=lW.sign(o,i.secretKey.slice(0,32));return Ewe({header:b,payload:r,signature:v})}function XS(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function TW(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?XS(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function yv(t,e){e||(e=t.reduce((f,b)=>f+b.length,0));const n=TW(e);let i=0;for(const f of t)n.set(f,i),i+=f.length;return XS(n)}function Twe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var f=0;f<t.length;f++){var b=t.charAt(f),s=b.charCodeAt(0);if(n[s]!==255)throw new TypeError(b+" is ambiguous");n[s]=f}var y=t.length,r=t.charAt(0),o=Math.log(y)/Math.log(256),v=Math.log(256)/Math.log(y);function c(a){if(a instanceof Uint8Array||(ArrayBuffer.isView(a)?a=new Uint8Array(a.buffer,a.byteOffset,a.byteLength):Array.isArray(a)&&(a=Uint8Array.from(a))),!(a instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(a.length===0)return"";for(var d=0,p=0,h=0,g=a.length;h!==g&&a[h]===0;)h++,d++;for(var m=(g-h)*v+1>>>0,x=new Uint8Array(m);h!==g;){for(var w=a[h],C=0,E=m-1;(w!==0||C<p)&&E!==-1;E--,C++)w+=256*x[E]>>>0,x[E]=w%y>>>0,w=w/y>>>0;if(w!==0)throw new Error("Non-zero carry");p=C,h++}for(var T=m-p;T!==m&&x[T]===0;)T++;for(var S=r.repeat(d);T<m;++T)S+=t.charAt(x[T]);return S}function u(a){if(typeof a!="string")throw new TypeError("Expected String");if(a.length===0)return new Uint8Array;var d=0;if(a[d]!==" "){for(var p=0,h=0;a[d]===r;)p++,d++;for(var g=(a.length-d)*o+1>>>0,m=new Uint8Array(g);a[d];){var x=n[a.charCodeAt(d)];if(x===255)return;for(var w=0,C=g-1;(x!==0||w<h)&&C!==-1;C--,w++)x+=y*m[C]>>>0,m[C]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");h=w,d++}if(a[d]!==" "){for(var E=g-h;E!==g&&m[E]===0;)E++;for(var T=new Uint8Array(p+(g-E)),S=p;E!==g;)T[S++]=m[E++];return T}}}function l(a){var d=u(a);if(d)return d;throw new Error(`Non-${e} character`)}return{encode:c,decodeUnsafe:u,decode:l}}var Awe=Twe,Pwe=Awe;const Iwe=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Rwe=t=>new TextEncoder().encode(t),Mwe=t=>new TextDecoder().decode(t);class Owe{constructor(e,n,i){this.name=e,this.prefix=n,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Fwe{constructor(e,n,i){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return AW(this,e)}}class $we{constructor(e){this.decoders=e}or(e){return AW(this,e)}decode(e){const n=e[0],i=this.decoders[n];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const AW=(t,e)=>new $we({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Lwe{constructor(e,n,i,f){this.name=e,this.prefix=n,this.baseEncode=i,this.baseDecode=f,this.encoder=new Owe(e,n,i),this.decoder=new Fwe(e,n,f)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const fx=({name:t,prefix:e,encode:n,decode:i})=>new Lwe(t,e,n,i),gm=({prefix:t,name:e,alphabet:n})=>{const{encode:i,decode:f}=Pwe(n,e);return fx({prefix:t,name:e,encode:i,decode:b=>Iwe(f(b))})},Dwe=(t,e,n,i)=>{const f={};for(let v=0;v<e.length;++v)f[e[v]]=v;let b=t.length;for(;t[b-1]==="=";)--b;const s=new Uint8Array(b*n/8|0);let y=0,r=0,o=0;for(let v=0;v<b;++v){const c=f[t[v]];if(c===void 0)throw new SyntaxError(`Non-${i} character`);r=r<<n|c,y+=n,y>=8&&(y-=8,s[o++]=255&r>>y)}if(y>=n||255&r<<8-y)throw new SyntaxError("Unexpected end of data");return s},Nwe=(t,e,n)=>{const i=e[e.length-1]==="=",f=(1<<n)-1;let b="",s=0,y=0;for(let r=0;r<t.length;++r)for(y=y<<8|t[r],s+=8;s>n;)s-=n,b+=e[f&y>>s];if(s&&(b+=e[f&y<<n-s]),i)for(;b.length*n&7;)b+="=";return b},ui=({name:t,prefix:e,bitsPerChar:n,alphabet:i})=>fx({prefix:e,name:t,encode(f){return Nwe(f,i,n)},decode(f){return Dwe(f,i,n,t)}}),kwe=fx({prefix:"\0",name:"identity",encode:t=>Mwe(t),decode:t=>Rwe(t)}),Bwe=Object.freeze(Object.defineProperty({__proto__:null,identity:kwe},Symbol.toStringTag,{value:"Module"})),Uwe=ui({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),jwe=Object.freeze(Object.defineProperty({__proto__:null,base2:Uwe},Symbol.toStringTag,{value:"Module"})),zwe=ui({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Wwe=Object.freeze(Object.defineProperty({__proto__:null,base8:zwe},Symbol.toStringTag,{value:"Module"})),Gwe=gm({prefix:"9",name:"base10",alphabet:"0123456789"}),Vwe=Object.freeze(Object.defineProperty({__proto__:null,base10:Gwe},Symbol.toStringTag,{value:"Module"})),Hwe=ui({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Ywe=ui({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Xwe=Object.freeze(Object.defineProperty({__proto__:null,base16:Hwe,base16upper:Ywe},Symbol.toStringTag,{value:"Module"})),Kwe=ui({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Zwe=ui({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Jwe=ui({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Qwe=ui({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),_we=ui({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),qwe=ui({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),exe=ui({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),txe=ui({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),nxe=ui({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),rxe=Object.freeze(Object.defineProperty({__proto__:null,base32:Kwe,base32hex:_we,base32hexpad:exe,base32hexpadupper:txe,base32hexupper:qwe,base32pad:Jwe,base32padupper:Qwe,base32upper:Zwe,base32z:nxe},Symbol.toStringTag,{value:"Module"})),ixe=gm({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),sxe=gm({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),axe=Object.freeze(Object.defineProperty({__proto__:null,base36:ixe,base36upper:sxe},Symbol.toStringTag,{value:"Module"})),oxe=gm({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),lxe=gm({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),uxe=Object.freeze(Object.defineProperty({__proto__:null,base58btc:oxe,base58flickr:lxe},Symbol.toStringTag,{value:"Module"})),cxe=ui({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),dxe=ui({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),hxe=ui({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),fxe=ui({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),pxe=Object.freeze(Object.defineProperty({__proto__:null,base64:cxe,base64pad:dxe,base64url:hxe,base64urlpad:fxe},Symbol.toStringTag,{value:"Module"})),PW=Array.from(""),vxe=PW.reduce((t,e,n)=>(t[n]=e,t),[]),gxe=PW.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function mxe(t){return t.reduce((e,n)=>(e+=vxe[n],e),"")}function yxe(t){const e=[];for(const n of t){const i=gxe[n.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(i)}return new Uint8Array(e)}const wxe=fx({prefix:"",name:"base256emoji",encode:mxe,decode:yxe}),xxe=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:wxe},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const NO={...Bwe,...jwe,...Wwe,...Vwe,...Xwe,...rxe,...axe,...uxe,...pxe,...xxe};function IW(t,e,n,i){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:i}}}const kO=IW("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),D4=IW("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=TW(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),RW={utf8:kO,"utf-8":kO,hex:NO.base16,latin1:D4,ascii:D4,binary:D4,...NO};function fa(t,e="utf8"){const n=RW[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?XS(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function cs(t,e="utf8"){const n=RW[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const bxe={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var N4,BO;function MW(){if(BO)return N4;BO=1;const t="Input must be an string, Buffer or Uint8Array";function e(s){let y;if(s instanceof Uint8Array)y=s;else if(typeof s=="string")y=new TextEncoder().encode(s);else throw new Error(t);return y}function n(s){return Array.prototype.map.call(s,function(y){return(y<16?"0":"")+y.toString(16)}).join("")}function i(s){return(4294967296+s).toString(16).substring(1)}function f(s,y,r){let o=`
`+s+" = ";for(let v=0;v<y.length;v+=2){if(r===32)o+=i(y[v]).toUpperCase(),o+=" ",o+=i(y[v+1]).toUpperCase();else if(r===64)o+=i(y[v+1]).toUpperCase(),o+=i(y[v]).toUpperCase();else throw new Error("Invalid size "+r);v%6===4?o+=`
`+new Array(s.length+4).join(" "):v<y.length-2&&(o+=" ")}console.log(o)}function b(s,y,r){let o=new Date().getTime();const v=new Uint8Array(y);for(let u=0;u<y;u++)v[u]=u%256;const c=new Date().getTime();console.log("Generated random input in "+(c-o)+"ms"),o=c;for(let u=0;u<r;u++){const l=s(v),a=new Date().getTime(),d=a-o;o=a,console.log("Hashed in "+d+"ms: "+l.substring(0,20)+"..."),console.log(Math.round(y/(1<<20)/(d/1e3)*100)/100+" MB PER SECOND")}}return N4={normalizeInput:e,toHex:n,debugPrint:f,testSpeed:b},N4}var k4,UO;function Cxe(){if(UO)return k4;UO=1;const t=MW();function e(h,g,m){const x=h[g]+h[m];let w=h[g+1]+h[m+1];x>=4294967296&&w++,h[g]=x,h[g+1]=w}function n(h,g,m,x){let w=h[g]+m;m<0&&(w+=4294967296);let C=h[g+1]+x;w>=4294967296&&C++,h[g]=w,h[g+1]=C}function i(h,g){return h[g]^h[g+1]<<8^h[g+2]<<16^h[g+3]<<24}function f(h,g,m,x,w,C){const E=o[w],T=o[w+1],S=o[C],A=o[C+1];e(r,h,g),n(r,h,E,T);let P=r[x]^r[h],R=r[x+1]^r[h+1];r[x]=R,r[x+1]=P,e(r,m,x),P=r[g]^r[m],R=r[g+1]^r[m+1],r[g]=P>>>24^R<<8,r[g+1]=R>>>24^P<<8,e(r,h,g),n(r,h,S,A),P=r[x]^r[h],R=r[x+1]^r[h+1],r[x]=P>>>16^R<<16,r[x+1]=R>>>16^P<<16,e(r,m,x),P=r[g]^r[m],R=r[g+1]^r[m+1],r[g]=R>>>31^P<<1,r[g+1]=P>>>31^R<<1}const b=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],y=new Uint8Array(s.map(function(h){return h*2})),r=new Uint32Array(32),o=new Uint32Array(32);function v(h,g){let m=0;for(m=0;m<16;m++)r[m]=h.h[m],r[m+16]=b[m];for(r[24]=r[24]^h.t,r[25]=r[25]^h.t/4294967296,g&&(r[28]=~r[28],r[29]=~r[29]),m=0;m<32;m++)o[m]=i(h.b,4*m);for(m=0;m<12;m++)f(0,8,16,24,y[m*16+0],y[m*16+1]),f(2,10,18,26,y[m*16+2],y[m*16+3]),f(4,12,20,28,y[m*16+4],y[m*16+5]),f(6,14,22,30,y[m*16+6],y[m*16+7]),f(0,10,20,30,y[m*16+8],y[m*16+9]),f(2,12,22,24,y[m*16+10],y[m*16+11]),f(4,14,16,26,y[m*16+12],y[m*16+13]),f(6,8,18,28,y[m*16+14],y[m*16+15]);for(m=0;m<16;m++)h.h[m]=h.h[m]^r[m]^r[m+16]}const c=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function u(h,g,m,x){if(h===0||h>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(g&&g.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(m&&m.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(x&&x.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const w={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:h};c.fill(0),c[0]=h,g&&(c[1]=g.length),c[2]=1,c[3]=1,m&&c.set(m,32),x&&c.set(x,48);for(let C=0;C<16;C++)w.h[C]=b[C]^i(c,C*4);return g&&(l(w,g),w.c=128),w}function l(h,g){for(let m=0;m<g.length;m++)h.c===128&&(h.t+=h.c,v(h,!1),h.c=0),h.b[h.c++]=g[m]}function a(h){for(h.t+=h.c;h.c<128;)h.b[h.c++]=0;v(h,!0);const g=new Uint8Array(h.outlen);for(let m=0;m<h.outlen;m++)g[m]=h.h[m>>2]>>8*(m&3);return g}function d(h,g,m,x,w){m=m||64,h=t.normalizeInput(h),x&&(x=t.normalizeInput(x)),w&&(w=t.normalizeInput(w));const C=u(m,g,x,w);return l(C,h),a(C)}function p(h,g,m,x,w){const C=d(h,g,m,x,w);return t.toHex(C)}return k4={blake2b:d,blake2bHex:p,blake2bInit:u,blake2bUpdate:l,blake2bFinal:a},k4}var B4,jO;function Exe(){if(jO)return B4;jO=1;const t=MW();function e(a,d){return a[d]^a[d+1]<<8^a[d+2]<<16^a[d+3]<<24}function n(a,d,p,h,g,m){s[a]=s[a]+s[d]+g,s[h]=i(s[h]^s[a],16),s[p]=s[p]+s[h],s[d]=i(s[d]^s[p],12),s[a]=s[a]+s[d]+m,s[h]=i(s[h]^s[a],8),s[p]=s[p]+s[h],s[d]=i(s[d]^s[p],7)}function i(a,d){return a>>>d^a<<32-d}const f=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),b=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),s=new Uint32Array(16),y=new Uint32Array(16);function r(a,d){let p=0;for(p=0;p<8;p++)s[p]=a.h[p],s[p+8]=f[p];for(s[12]^=a.t,s[13]^=a.t/4294967296,d&&(s[14]=~s[14]),p=0;p<16;p++)y[p]=e(a.b,4*p);for(p=0;p<10;p++)n(0,4,8,12,y[b[p*16+0]],y[b[p*16+1]]),n(1,5,9,13,y[b[p*16+2]],y[b[p*16+3]]),n(2,6,10,14,y[b[p*16+4]],y[b[p*16+5]]),n(3,7,11,15,y[b[p*16+6]],y[b[p*16+7]]),n(0,5,10,15,y[b[p*16+8]],y[b[p*16+9]]),n(1,6,11,12,y[b[p*16+10]],y[b[p*16+11]]),n(2,7,8,13,y[b[p*16+12]],y[b[p*16+13]]),n(3,4,9,14,y[b[p*16+14]],y[b[p*16+15]]);for(p=0;p<8;p++)a.h[p]^=s[p]^s[p+8]}function o(a,d){if(!(a>0&&a<=32))throw new Error("Incorrect output length, should be in [1, 32]");const p=d?d.length:0;if(d&&!(p>0&&p<=32))throw new Error("Incorrect key length, should be in [1, 32]");const h={h:new Uint32Array(f),b:new Uint8Array(64),c:0,t:0,outlen:a};return h.h[0]^=16842752^p<<8^a,p>0&&(v(h,d),h.c=64),h}function v(a,d){for(let p=0;p<d.length;p++)a.c===64&&(a.t+=a.c,r(a,!1),a.c=0),a.b[a.c++]=d[p]}function c(a){for(a.t+=a.c;a.c<64;)a.b[a.c++]=0;r(a,!0);const d=new Uint8Array(a.outlen);for(let p=0;p<a.outlen;p++)d[p]=a.h[p>>2]>>8*(p&3)&255;return d}function u(a,d,p){p=p||32,a=t.normalizeInput(a);const h=o(p,d);return v(h,a),c(h)}function l(a,d,p){const h=u(a,d,p);return t.toHex(h)}return B4={blake2s:u,blake2sHex:l,blake2sInit:o,blake2sUpdate:v,blake2sFinal:c},B4}var U4,zO;function Sxe(){if(zO)return U4;zO=1;const t=Cxe(),e=Exe();return U4={blake2b:t.blake2b,blake2bHex:t.blake2bHex,blake2bInit:t.blake2bInit,blake2bUpdate:t.blake2bUpdate,blake2bFinal:t.blake2bFinal,blake2s:e.blake2s,blake2sHex:e.blake2sHex,blake2sInit:e.blake2sInit,blake2sUpdate:e.blake2sUpdate,blake2sFinal:e.blake2sFinal},U4}var Txe=Sxe(),Axe={};const Pxe=":";function yd(t){const[e,n]=t.split(Pxe);return{namespace:e,reference:n}}function WO(t,e=[]){const n=[];return Object.keys(t).forEach(i=>{if(e.length&&!e.includes(i))return;const f=t[i];n.push(...f.accounts)}),n}function OW(t,e){return t.includes(":")?[t]:e.chains||[]}var Ixe=Object.defineProperty,Rxe=Object.defineProperties,Mxe=Object.getOwnPropertyDescriptors,GO=Object.getOwnPropertySymbols,Oxe=Object.prototype.hasOwnProperty,Fxe=Object.prototype.propertyIsEnumerable,LC=(t,e,n)=>e in t?Ixe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,VO=(t,e)=>{for(var n in e||(e={}))Oxe.call(e,n)&&LC(t,n,e[n]);if(GO)for(var n of GO(e))Fxe.call(e,n)&&LC(t,n,e[n]);return t},$xe=(t,e)=>Rxe(t,Mxe(e)),HO=(t,e,n)=>LC(t,typeof e!="symbol"?e+"":e,n);const Lxe="ReactNative",ks={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},Dxe="js";function V2(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function vc(){return!tu.getDocument()&&!!tu.getNavigator()&&navigator.product===Lxe}function Nxe(){return vc()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function kxe(){return vc()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function Np(){return!V2()&&!!tu.getNavigator()&&!!tu.getDocument()}function mm(){return vc()?ks.reactNative:V2()?ks.node:Np()?ks.browser:ks.unknown}function YO(){var t;try{return vc()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function Bxe(t,e){const n=new URLSearchParams(t);for(const i of Object.keys(e).sort())if(e.hasOwnProperty(i)){const f=e[i];f!==void 0&&n.set(i,f)}return n.toString()}function Uxe(t){var e,n;const i=FW();try{return t!=null&&t.url&&i.url&&new URL(t.url).host!==new URL(i.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${i.url}. This is probably unintended and can lead to issues.`),t.url=i.url),(e=t?.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(f=>f!=="")),$xe(VO(VO({},i),t),{url:t?.url||i.url,name:t?.name||i.name,description:t?.description||i.description,icons:(n=t?.icons)!=null&&n.length&&t.icons.length>0?t.icons:i.icons})}catch(f){return console.warn("Error populating app metadata",f),t||i}}function FW(){return sme.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function jxe(){if(mm()===ks.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:i}=global.Platform;return[n,i].join("-")}const t=Ege();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function zxe(){var t;const e=mm();return e===ks.browser?[e,((t=tu.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function $W(t,e,n){const i=jxe(),f=zxe();return[[t,e].join("-"),[Dxe,n].join("-"),i,f].join("/")}function Wxe({protocol:t,version:e,relayUrl:n,sdkVersion:i,auth:f,projectId:b,useOnCloseEvent:s,bundleId:y,packageName:r}){const o=n.split("?"),v=$W(t,e,i),c={auth:f,ua:v,projectId:b,useOnCloseEvent:s,packageName:r||void 0,bundleId:y||void 0},u=Bxe(o[1]||"",c);return o[0]+"?"+u}function ad(t,e){return t.filter(n=>e.includes(n)).length===t.length}function DC(t){return Object.fromEntries(t.entries())}function NC(t){return new Map(Object.entries(t))}function Kc(t=qe.FIVE_MINUTES,e){const n=qe.toMiliseconds(t||qe.FIVE_MINUTES);let i,f,b,s;return{resolve:y=>{b&&i&&(clearTimeout(b),i(y),s=Promise.resolve(y))},reject:y=>{b&&f&&(clearTimeout(b),f(y))},done:()=>new Promise((y,r)=>{if(s)return y(s);b=setTimeout(()=>{const o=new Error(e);s=Promise.reject(o),r(o)},n),i=y,f=r})}}function Ho(t,e,n){return new Promise(async(i,f)=>{const b=setTimeout(()=>f(new Error(n)),e);try{const s=await t;i(s)}catch(s){f(s)}clearTimeout(b)})}function LW(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function Gxe(t){return LW("topic",t)}function Vxe(t){return LW("id",t)}function DW(t){const[e,n]=t.split(":"),i={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")i.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))i.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return i}function Rr(t,e){return qe.fromMiliseconds(Date.now()+qe.toMiliseconds(t))}function Wu(t){return Date.now()>=qe.toMiliseconds(t)}function fn(t,e){return`${t}${e?`:${e}`:""}`}function Jo(t=[],e=[]){return[...new Set([...t,...e])]}async function Hxe({id:t,topic:e,wcDeepLink:n}){var i;try{if(!n)return;const f=typeof n=="string"?JSON.parse(n):n,b=f?.href;if(typeof b!="string")return;const s=Yxe(b,t,e),y=mm();if(y===ks.browser){if(!((i=tu.getDocument())!=null&&i.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}Xxe(s)}else y===ks.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(s)}catch(f){console.error(f)}}function Yxe(t,e,n){const i=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let f=`${t}`;if(t.startsWith("https://t.me")){const b=t.includes("?")?"&startapp=":"?startapp=";f=`${f}${b}${Qxe(i,!0)}`}else f=`${f}/wc?${i}`;return f}function Xxe(t){let e="_self";Jxe()?e="_top":(Zxe()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function Kxe(t,e){let n="";try{if(Np()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(i){console.error(i)}return n}function XO(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),i=n.indexOf(e);return n[i+2]}function KO(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function KS(){return typeof process<"u"&&Axe.IS_VITEST==="true"}function Zxe(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function Jxe(){try{return window.self!==window.top}catch{return!1}}function Qxe(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function NW(t){return Buffer.from(t,"base64").toString("utf-8")}function _xe(t){return new Promise(e=>setTimeout(e,t))}let qxe=class{constructor({limit:e}){HO(this,"limit"),HO(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(e)}}has(e){return this.set.has(e)}};const dy=BigInt(2**32-1),ZO=BigInt(32);function kW(t,e=!1){return e?{h:Number(t&dy),l:Number(t>>ZO&dy)}:{h:Number(t>>ZO&dy)|0,l:Number(t&dy)|0}}function BW(t,e=!1){const n=t.length;let i=new Uint32Array(n),f=new Uint32Array(n);for(let b=0;b<n;b++){const{h:s,l:y}=kW(t[b],e);[i[b],f[b]]=[s,y]}return[i,f]}const JO=(t,e,n)=>t>>>n,QO=(t,e,n)=>t<<32-n|e>>>n,Gu=(t,e,n)=>t>>>n|e<<32-n,Vu=(t,e,n)=>t<<32-n|e>>>n,sv=(t,e,n)=>t<<64-n|e>>>n-32,av=(t,e,n)=>t>>>n-32|e<<64-n,e3e=(t,e)=>e,t3e=(t,e)=>t,n3e=(t,e,n)=>t<<n|e>>>32-n,r3e=(t,e,n)=>e<<n|t>>>32-n,i3e=(t,e,n)=>e<<n-32|t>>>64-n,s3e=(t,e,n)=>t<<n-32|e>>>64-n;function ja(t,e,n,i){const f=(e>>>0)+(i>>>0);return{h:t+n+(f/2**32|0)|0,l:f|0}}const ZS=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),JS=(t,e,n,i)=>e+n+i+(t/2**32|0)|0,a3e=(t,e,n,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(i>>>0),o3e=(t,e,n,i,f)=>e+n+i+f+(t/2**32|0)|0,l3e=(t,e,n,i,f)=>(t>>>0)+(e>>>0)+(n>>>0)+(i>>>0)+(f>>>0),u3e=(t,e,n,i,f,b)=>e+n+i+f+b+(t/2**32|0)|0,tf=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function QS(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function ru(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function ya(t,...e){if(!QS(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function _S(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");ru(t.outputLen),ru(t.blockLen)}function uc(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function qS(t,e){ya(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Mg(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function wa(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function j4(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Mo(t,e){return t<<32-e|t>>>e}const UW=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function jW(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const Fl=UW?t=>t:t=>jW(t);function c3e(t){for(let e=0;e<t.length;e++)t[e]=jW(t[e]);return t}const Hu=UW?t=>t:c3e,zW=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",d3e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Og(t){if(ya(t),zW)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=d3e[t[n]];return e}const Pl={_0:48,_9:57,A:65,F:70,a:97,f:102};function _O(t){if(t>=Pl._0&&t<=Pl._9)return t-Pl._0;if(t>=Pl.A&&t<=Pl.F)return t-(Pl.A-10);if(t>=Pl.a&&t<=Pl.f)return t-(Pl.a-10)}function eT(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(zW)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const i=new Uint8Array(n);for(let f=0,b=0;f<n;f++,b+=2){const s=_O(t.charCodeAt(b)),y=_O(t.charCodeAt(b+1));if(s===void 0||y===void 0){const r=t[b]+t[b+1];throw new Error('hex string expected, got non-hex character "'+r+'" at index '+b)}i[f]=s*16+y}return i}function h3e(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Ka(t){return typeof t=="string"&&(t=h3e(t)),ya(t),t}function od(...t){let e=0;for(let i=0;i<t.length;i++){const f=t[i];ya(f),e+=f.length}const n=new Uint8Array(e);for(let i=0,f=0;i<t.length;i++){const b=t[i];n.set(b,f),f+=b.length}return n}let px=class{};function ym(t){const e=i=>t().update(Ka(i)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function f3e(t){const e=(i,f)=>t(f).update(Ka(i)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=i=>t(i),e}function kp(t=32){if(tf&&typeof tf.getRandomValues=="function")return tf.getRandomValues(new Uint8Array(t));if(tf&&typeof tf.randomBytes=="function")return Uint8Array.from(tf.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const p3e=BigInt(0),D0=BigInt(1),v3e=BigInt(2),g3e=BigInt(7),m3e=BigInt(256),y3e=BigInt(113),WW=[],GW=[],VW=[];for(let t=0,e=D0,n=1,i=0;t<24;t++){[n,i]=[i,(2*n+3*i)%5],WW.push(2*(5*i+n)),GW.push((t+1)*(t+2)/2%64);let f=p3e;for(let b=0;b<7;b++)e=(e<<D0^(e>>g3e)*y3e)%m3e,e&v3e&&(f^=D0<<(D0<<BigInt(b))-D0);VW.push(f)}const HW=BW(VW,!0),w3e=HW[0],x3e=HW[1],qO=(t,e,n)=>n>32?i3e(t,e,n):n3e(t,e,n),eF=(t,e,n)=>n>32?s3e(t,e,n):r3e(t,e,n);function b3e(t,e=24){const n=new Uint32Array(10);for(let i=24-e;i<24;i++){for(let s=0;s<10;s++)n[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const y=(s+8)%10,r=(s+2)%10,o=n[r],v=n[r+1],c=qO(o,v,1)^n[y],u=eF(o,v,1)^n[y+1];for(let l=0;l<50;l+=10)t[s+l]^=c,t[s+l+1]^=u}let f=t[2],b=t[3];for(let s=0;s<24;s++){const y=GW[s],r=qO(f,b,y),o=eF(f,b,y),v=WW[s];f=t[v],b=t[v+1],t[v]=r,t[v+1]=o}for(let s=0;s<50;s+=10){for(let y=0;y<10;y++)n[y]=t[s+y];for(let y=0;y<10;y++)t[s+y]^=~n[(y+2)%10]&n[(y+4)%10]}t[0]^=w3e[i],t[1]^=x3e[i]}wa(n)}let C3e=class YW extends px{constructor(e,n,i,f=!1,b=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=i,this.enableXOF=f,this.rounds=b,ru(i),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Mg(this.state)}clone(){return this._cloneInto()}keccak(){Hu(this.state32),b3e(this.state32,this.rounds),Hu(this.state32),this.posOut=0,this.pos=0}update(e){uc(this),e=Ka(e),ya(e);const{blockLen:n,state:i}=this,f=e.length;for(let b=0;b<f;){const s=Math.min(n-this.pos,f-b);for(let y=0;y<s;y++)i[this.pos++]^=e[b++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:i,blockLen:f}=this;e[i]^=n,(n&128)!==0&&i===f-1&&this.keccak(),e[f-1]^=128,this.keccak()}writeInto(e){uc(this,!1),ya(e),this.finish();const n=this.state,{blockLen:i}=this;for(let f=0,b=e.length;f<b;){this.posOut>=i&&this.keccak();const s=Math.min(i-this.posOut,b-f);e.set(n.subarray(this.posOut,this.posOut+s),f),this.posOut+=s,f+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return ru(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(qS(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,wa(this.state)}_cloneInto(e){const{blockLen:n,suffix:i,outputLen:f,rounds:b,enableXOF:s}=this;return e||(e=new YW(n,i,f,s,b)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=b,e.suffix=i,e.outputLen=f,e.enableXOF=s,e.destroyed=this.destroyed,e}};const E3e=(t,e,n)=>ym(()=>new C3e(e,t,n)),S3e=E3e(1,136,256/8);function T3e(t,e,n,i){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,i);const f=BigInt(32),b=BigInt(4294967295),s=Number(n>>f&b),y=Number(n&b),r=i?4:0,o=i?0:4;t.setUint32(e+r,s,i),t.setUint32(e+o,y,i)}function A3e(t,e,n){return t&e^~t&n}function P3e(t,e,n){return t&e^t&n^e&n}let XW=class extends px{constructor(e,n,i,f){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=i,this.isLE=f,this.buffer=new Uint8Array(e),this.view=j4(this.buffer)}update(e){uc(this),e=Ka(e),ya(e);const{view:n,buffer:i,blockLen:f}=this,b=e.length;for(let s=0;s<b;){const y=Math.min(f-this.pos,b-s);if(y===f){const r=j4(e);for(;f<=b-s;s+=f)this.process(r,s);continue}i.set(e.subarray(s,s+y),this.pos),this.pos+=y,s+=y,this.pos===f&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){uc(this),qS(e,this),this.finished=!0;const{buffer:n,view:i,blockLen:f,isLE:b}=this;let{pos:s}=this;n[s++]=128,wa(this.buffer.subarray(s)),this.padOffset>f-s&&(this.process(i,0),s=0);for(let c=s;c<f;c++)n[c]=0;T3e(i,f-8,BigInt(this.length*8),b),this.process(i,0);const y=j4(e),r=this.outputLen;if(r%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const o=r/4,v=this.get();if(o>v.length)throw new Error("_sha2: outputLen bigger than state");for(let c=0;c<o;c++)y.setUint32(4*c,v[c],b)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const i=e.slice(0,n);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:i,length:f,finished:b,destroyed:s,pos:y}=this;return e.destroyed=s,e.finished=b,e.length=f,e.pos=y,f%n&&e.buffer.set(i),e}clone(){return this._cloneInto()}};const Ou=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),gi=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),mi=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),I3e=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Fu=new Uint32Array(64);let R3e=class extends XW{constructor(e=32){super(64,e,8,!1),this.A=Ou[0]|0,this.B=Ou[1]|0,this.C=Ou[2]|0,this.D=Ou[3]|0,this.E=Ou[4]|0,this.F=Ou[5]|0,this.G=Ou[6]|0,this.H=Ou[7]|0}get(){const{A:e,B:n,C:i,D:f,E:b,F:s,G:y,H:r}=this;return[e,n,i,f,b,s,y,r]}set(e,n,i,f,b,s,y,r){this.A=e|0,this.B=n|0,this.C=i|0,this.D=f|0,this.E=b|0,this.F=s|0,this.G=y|0,this.H=r|0}process(e,n){for(let c=0;c<16;c++,n+=4)Fu[c]=e.getUint32(n,!1);for(let c=16;c<64;c++){const u=Fu[c-15],l=Fu[c-2],a=Mo(u,7)^Mo(u,18)^u>>>3,d=Mo(l,17)^Mo(l,19)^l>>>10;Fu[c]=d+Fu[c-7]+a+Fu[c-16]|0}let{A:i,B:f,C:b,D:s,E:y,F:r,G:o,H:v}=this;for(let c=0;c<64;c++){const u=Mo(y,6)^Mo(y,11)^Mo(y,25),l=v+u+A3e(y,r,o)+I3e[c]+Fu[c]|0,a=(Mo(i,2)^Mo(i,13)^Mo(i,22))+P3e(i,f,b)|0;v=o,o=r,r=y,y=s+l|0,s=b,b=f,f=i,i=l+a|0}i=i+this.A|0,f=f+this.B|0,b=b+this.C|0,s=s+this.D|0,y=y+this.E|0,r=r+this.F|0,o=o+this.G|0,v=v+this.H|0,this.set(i,f,b,s,y,r,o,v)}roundClean(){wa(Fu)}destroy(){this.set(0,0,0,0,0,0,0,0),wa(this.buffer)}};const KW=BW(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),M3e=KW[0],O3e=KW[1],$u=new Uint32Array(80),Lu=new Uint32Array(80);let tT=class extends XW{constructor(e=64){super(128,e,16,!1),this.Ah=mi[0]|0,this.Al=mi[1]|0,this.Bh=mi[2]|0,this.Bl=mi[3]|0,this.Ch=mi[4]|0,this.Cl=mi[5]|0,this.Dh=mi[6]|0,this.Dl=mi[7]|0,this.Eh=mi[8]|0,this.El=mi[9]|0,this.Fh=mi[10]|0,this.Fl=mi[11]|0,this.Gh=mi[12]|0,this.Gl=mi[13]|0,this.Hh=mi[14]|0,this.Hl=mi[15]|0}get(){const{Ah:e,Al:n,Bh:i,Bl:f,Ch:b,Cl:s,Dh:y,Dl:r,Eh:o,El:v,Fh:c,Fl:u,Gh:l,Gl:a,Hh:d,Hl:p}=this;return[e,n,i,f,b,s,y,r,o,v,c,u,l,a,d,p]}set(e,n,i,f,b,s,y,r,o,v,c,u,l,a,d,p){this.Ah=e|0,this.Al=n|0,this.Bh=i|0,this.Bl=f|0,this.Ch=b|0,this.Cl=s|0,this.Dh=y|0,this.Dl=r|0,this.Eh=o|0,this.El=v|0,this.Fh=c|0,this.Fl=u|0,this.Gh=l|0,this.Gl=a|0,this.Hh=d|0,this.Hl=p|0}process(e,n){for(let m=0;m<16;m++,n+=4)$u[m]=e.getUint32(n),Lu[m]=e.getUint32(n+=4);for(let m=16;m<80;m++){const x=$u[m-15]|0,w=Lu[m-15]|0,C=Gu(x,w,1)^Gu(x,w,8)^JO(x,w,7),E=Vu(x,w,1)^Vu(x,w,8)^QO(x,w,7),T=$u[m-2]|0,S=Lu[m-2]|0,A=Gu(T,S,19)^sv(T,S,61)^JO(T,S,6),P=Vu(T,S,19)^av(T,S,61)^QO(T,S,6),R=a3e(E,P,Lu[m-7],Lu[m-16]),L=o3e(R,C,A,$u[m-7],$u[m-16]);$u[m]=L|0,Lu[m]=R|0}let{Ah:i,Al:f,Bh:b,Bl:s,Ch:y,Cl:r,Dh:o,Dl:v,Eh:c,El:u,Fh:l,Fl:a,Gh:d,Gl:p,Hh:h,Hl:g}=this;for(let m=0;m<80;m++){const x=Gu(c,u,14)^Gu(c,u,18)^sv(c,u,41),w=Vu(c,u,14)^Vu(c,u,18)^av(c,u,41),C=c&l^~c&d,E=u&a^~u&p,T=l3e(g,w,E,O3e[m],Lu[m]),S=u3e(T,h,x,C,M3e[m],$u[m]),A=T|0,P=Gu(i,f,28)^sv(i,f,34)^sv(i,f,39),R=Vu(i,f,28)^av(i,f,34)^av(i,f,39),L=i&b^i&y^b&y,D=f&s^f&r^s&r;h=d|0,g=p|0,d=l|0,p=a|0,l=c|0,a=u|0,{h:c,l:u}=ja(o|0,v|0,S|0,A|0),o=y|0,v=r|0,y=b|0,r=s|0,b=i|0,s=f|0;const F=ZS(A,R,D);i=JS(F,S,P,L),f=F|0}({h:i,l:f}=ja(this.Ah|0,this.Al|0,i|0,f|0)),{h:b,l:s}=ja(this.Bh|0,this.Bl|0,b|0,s|0),{h:y,l:r}=ja(this.Ch|0,this.Cl|0,y|0,r|0),{h:o,l:v}=ja(this.Dh|0,this.Dl|0,o|0,v|0),{h:c,l:u}=ja(this.Eh|0,this.El|0,c|0,u|0),{h:l,l:a}=ja(this.Fh|0,this.Fl|0,l|0,a|0),{h:d,l:p}=ja(this.Gh|0,this.Gl|0,d|0,p|0),{h,l:g}=ja(this.Hh|0,this.Hl|0,h|0,g|0),this.set(i,f,b,s,y,r,o,v,c,u,l,a,d,p,h,g)}roundClean(){wa($u,Lu)}destroy(){wa(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},F3e=class extends tT{constructor(){super(48),this.Ah=gi[0]|0,this.Al=gi[1]|0,this.Bh=gi[2]|0,this.Bl=gi[3]|0,this.Ch=gi[4]|0,this.Cl=gi[5]|0,this.Dh=gi[6]|0,this.Dl=gi[7]|0,this.Eh=gi[8]|0,this.El=gi[9]|0,this.Fh=gi[10]|0,this.Fl=gi[11]|0,this.Gh=gi[12]|0,this.Gl=gi[13]|0,this.Hh=gi[14]|0,this.Hl=gi[15]|0}};const yi=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);let $3e=class extends tT{constructor(){super(32),this.Ah=yi[0]|0,this.Al=yi[1]|0,this.Bh=yi[2]|0,this.Bl=yi[3]|0,this.Ch=yi[4]|0,this.Cl=yi[5]|0,this.Dh=yi[6]|0,this.Dl=yi[7]|0,this.Eh=yi[8]|0,this.El=yi[9]|0,this.Fh=yi[10]|0,this.Fl=yi[11]|0,this.Gh=yi[12]|0,this.Gl=yi[13]|0,this.Hh=yi[14]|0,this.Hl=yi[15]|0}};const vx=ym(()=>new R3e),L3e=ym(()=>new tT),D3e=ym(()=>new F3e),N3e=ym(()=>new $3e),k3e=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),Ar=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),rt=new Uint32Array(32);function Du(t,e,n,i,f,b){const s=f[b],y=f[b+1];let r=rt[2*t],o=rt[2*t+1],v=rt[2*e],c=rt[2*e+1],u=rt[2*n],l=rt[2*n+1],a=rt[2*i],d=rt[2*i+1],p=ZS(r,v,s);o=JS(p,o,c,y),r=p|0,{Dh:d,Dl:a}={Dh:d^o,Dl:a^r},{Dh:d,Dl:a}={Dh:e3e(d,a),Dl:t3e(d)},{h:l,l:u}=ja(l,u,d,a),{Bh:c,Bl:v}={Bh:c^l,Bl:v^u},{Bh:c,Bl:v}={Bh:Gu(c,v,24),Bl:Vu(c,v,24)},rt[2*t]=r,rt[2*t+1]=o,rt[2*e]=v,rt[2*e+1]=c,rt[2*n]=u,rt[2*n+1]=l,rt[2*i]=a,rt[2*i+1]=d}function Nu(t,e,n,i,f,b){const s=f[b],y=f[b+1];let r=rt[2*t],o=rt[2*t+1],v=rt[2*e],c=rt[2*e+1],u=rt[2*n],l=rt[2*n+1],a=rt[2*i],d=rt[2*i+1],p=ZS(r,v,s);o=JS(p,o,c,y),r=p|0,{Dh:d,Dl:a}={Dh:d^o,Dl:a^r},{Dh:d,Dl:a}={Dh:Gu(d,a,16),Dl:Vu(d,a,16)},{h:l,l:u}=ja(l,u,d,a),{Bh:c,Bl:v}={Bh:c^l,Bl:v^u},{Bh:c,Bl:v}={Bh:sv(c,v,63),Bl:av(c,v,63)},rt[2*t]=r,rt[2*t+1]=o,rt[2*e]=v,rt[2*e+1]=c,rt[2*n]=u,rt[2*n+1]=l,rt[2*i]=a,rt[2*i+1]=d}function B3e(t,e={},n,i,f){if(ru(n),t<0||t>n)throw new Error("outputLen bigger than keyLen");const{key:b,salt:s,personalization:y}=e;if(b!==void 0&&(b.length<1||b.length>n))throw new Error("key length must be undefined or 1.."+n);if(s!==void 0&&s.length!==i)throw new Error("salt must be undefined or "+i);if(y!==void 0&&y.length!==f)throw new Error("personalization must be undefined or "+f)}let U3e=class extends px{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,ru(e),ru(n),this.blockLen=e,this.outputLen=n,this.buffer=new Uint8Array(e),this.buffer32=Mg(this.buffer)}update(e){uc(this),e=Ka(e),ya(e);const{blockLen:n,buffer:i,buffer32:f}=this,b=e.length,s=e.byteOffset,y=e.buffer;for(let r=0;r<b;){this.pos===n&&(Hu(f),this.compress(f,0,!1),Hu(f),this.pos=0);const o=Math.min(n-this.pos,b-r),v=s+r;if(o===n&&!(v%4)&&r+o<b){const c=new Uint32Array(y,v,Math.floor((b-r)/4));Hu(c);for(let u=0;r+n<b;u+=f.length,r+=n)this.length+=n,this.compress(c,u,!1);Hu(c);continue}i.set(e.subarray(r,r+o),this.pos),this.pos+=o,this.length+=o,r+=o}return this}digestInto(e){uc(this),qS(e,this);const{pos:n,buffer32:i}=this;this.finished=!0,wa(this.buffer.subarray(n)),Hu(i),this.compress(i,0,!0),Hu(i);const f=Mg(e);this.get().forEach((b,s)=>f[s]=Fl(b))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const i=e.slice(0,n);return this.destroy(),i}_cloneInto(e){const{buffer:n,length:i,finished:f,destroyed:b,outputLen:s,pos:y}=this;return e||(e=new this.constructor({dkLen:s})),e.set(...this.get()),e.buffer.set(n),e.destroyed=b,e.finished=f,e.length=i,e.pos=y,e.outputLen=s,e}clone(){return this._cloneInto()}},j3e=class extends U3e{constructor(e={}){const n=e.dkLen===void 0?64:e.dkLen;super(128,n),this.v0l=Ar[0]|0,this.v0h=Ar[1]|0,this.v1l=Ar[2]|0,this.v1h=Ar[3]|0,this.v2l=Ar[4]|0,this.v2h=Ar[5]|0,this.v3l=Ar[6]|0,this.v3h=Ar[7]|0,this.v4l=Ar[8]|0,this.v4h=Ar[9]|0,this.v5l=Ar[10]|0,this.v5h=Ar[11]|0,this.v6l=Ar[12]|0,this.v6h=Ar[13]|0,this.v7l=Ar[14]|0,this.v7h=Ar[15]|0,B3e(n,e,64,16,16);let{key:i,personalization:f,salt:b}=e,s=0;if(i!==void 0&&(i=Ka(i),s=i.length),this.v0l^=this.outputLen|s<<8|65536|1<<24,b!==void 0){b=Ka(b);const y=Mg(b);this.v4l^=Fl(y[0]),this.v4h^=Fl(y[1]),this.v5l^=Fl(y[2]),this.v5h^=Fl(y[3])}if(f!==void 0){f=Ka(f);const y=Mg(f);this.v6l^=Fl(y[0]),this.v6h^=Fl(y[1]),this.v7l^=Fl(y[2]),this.v7h^=Fl(y[3])}if(i!==void 0){const y=new Uint8Array(this.blockLen);y.set(i),this.update(y)}}get(){let{v0l:e,v0h:n,v1l:i,v1h:f,v2l:b,v2h:s,v3l:y,v3h:r,v4l:o,v4h:v,v5l:c,v5h:u,v6l:l,v6h:a,v7l:d,v7h:p}=this;return[e,n,i,f,b,s,y,r,o,v,c,u,l,a,d,p]}set(e,n,i,f,b,s,y,r,o,v,c,u,l,a,d,p){this.v0l=e|0,this.v0h=n|0,this.v1l=i|0,this.v1h=f|0,this.v2l=b|0,this.v2h=s|0,this.v3l=y|0,this.v3h=r|0,this.v4l=o|0,this.v4h=v|0,this.v5l=c|0,this.v5h=u|0,this.v6l=l|0,this.v6h=a|0,this.v7l=d|0,this.v7h=p|0}compress(e,n,i){this.get().forEach((r,o)=>rt[o]=r),rt.set(Ar,16);let{h:f,l:b}=kW(BigInt(this.length));rt[24]=Ar[8]^b,rt[25]=Ar[9]^f,i&&(rt[28]=~rt[28],rt[29]=~rt[29]);let s=0;const y=k3e;for(let r=0;r<12;r++)Du(0,4,8,12,e,n+2*y[s++]),Nu(0,4,8,12,e,n+2*y[s++]),Du(1,5,9,13,e,n+2*y[s++]),Nu(1,5,9,13,e,n+2*y[s++]),Du(2,6,10,14,e,n+2*y[s++]),Nu(2,6,10,14,e,n+2*y[s++]),Du(3,7,11,15,e,n+2*y[s++]),Nu(3,7,11,15,e,n+2*y[s++]),Du(0,5,10,15,e,n+2*y[s++]),Nu(0,5,10,15,e,n+2*y[s++]),Du(1,6,11,12,e,n+2*y[s++]),Nu(1,6,11,12,e,n+2*y[s++]),Du(2,7,8,13,e,n+2*y[s++]),Nu(2,7,8,13,e,n+2*y[s++]),Du(3,4,9,14,e,n+2*y[s++]),Nu(3,4,9,14,e,n+2*y[s++]);this.v0l^=rt[0]^rt[16],this.v0h^=rt[1]^rt[17],this.v1l^=rt[2]^rt[18],this.v1h^=rt[3]^rt[19],this.v2l^=rt[4]^rt[20],this.v2h^=rt[5]^rt[21],this.v3l^=rt[6]^rt[22],this.v3h^=rt[7]^rt[23],this.v4l^=rt[8]^rt[24],this.v4h^=rt[9]^rt[25],this.v5l^=rt[10]^rt[26],this.v5h^=rt[11]^rt[27],this.v6l^=rt[12]^rt[28],this.v6h^=rt[13]^rt[29],this.v7l^=rt[14]^rt[30],this.v7h^=rt[15]^rt[31],wa(rt)}destroy(){this.destroyed=!0,wa(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const z3e=f3e(t=>new j3e(t)),W3e="https://rpc.walletconnect.org/v1";function ZW(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(S3e(n)).toString("hex")}async function G3e(t,e,n,i,f,b){switch(n.t){case"eip191":return await V3e(t,e,n.s);case"eip1271":return await H3e(t,e,n.s,i,f,b);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function V3e(t,e,n){return(await Kme({hash:ZW(e),signature:n})).toLowerCase()===t.toLowerCase()}async function H3e(t,e,n,i,f,b){const s=yd(i);if(!s.namespace||!s.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${i}`);try{const y="0x1626ba7e",r="0000000000000000000000000000000000000000000000000000000000000040",o=n.substring(2),v=(o.length/2).toString(16).padStart(64,"0"),c=(e.startsWith("0x")?e:ZW(e)).substring(2),u=y+c+r+v+o,l=await fetch(`${b||W3e}/?chainId=${i}&projectId=${f}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:Y3e(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:u},"latest"]})}),{result:a}=await l.json();return a?a.slice(0,y.length).toLowerCase()===y.toLowerCase():!1}catch(y){return console.error("isValidEip1271Signature: ",y),!1}}function Y3e(){return Date.now()+Math.floor(Math.random()*1e3)}function X3e(t){const e=atob(t),n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);const i=n[0];if(i===0)throw new Error("No signatures found");const f=1+i*64;if(n.length<f)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const b=Buffer.from(t,"base64").slice(1,65);return pm.encode(b)}function K3e(t){const e=new Uint8Array(Buffer.from(t,"base64")),n=Array.from("TransactionData::").map(b=>b.charCodeAt(0)),i=new Uint8Array(n.length+e.length);i.set(n),i.set(e,n.length);const f=z3e(i,{dkLen:32});return pm.encode(f)}function tF(t){const e=new Uint8Array(vx(Z3e(t)));return pm.encode(e)}function Z3e(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function nF(t){const e=Buffer.from(t,"base64"),n=F1e(e).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const i=E1e(n),f=Buffer.from("TX"),b=Buffer.concat([f,Buffer.from(i)]),s=N3e(b);return Lpe.encode(s).replace(/=+$/,"")}function z4(t){const e=[];let n=BigInt(t);for(;n>=BigInt(128);)e.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return e.push(Number(n)),Buffer.from(e)}function J3e(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),n=Buffer.from(t.signed.authInfoBytes,"base64"),i=Buffer.from(t.signature.signature,"base64"),f=[];f.push(Buffer.from([10])),f.push(z4(e.length)),f.push(e),f.push(Buffer.from([18])),f.push(z4(n.length)),f.push(n),f.push(Buffer.from([26])),f.push(z4(i.length)),f.push(i);const b=Buffer.concat(f),s=vx(b);return Buffer.from(s).toString("hex").toUpperCase()}var Q3e=Object.defineProperty,_3e=Object.defineProperties,q3e=Object.getOwnPropertyDescriptors,rF=Object.getOwnPropertySymbols,e5e=Object.prototype.hasOwnProperty,t5e=Object.prototype.propertyIsEnumerable,iF=(t,e,n)=>e in t?Q3e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,n5e=(t,e)=>{for(var n in e||(e={}))e5e.call(e,n)&&iF(t,n,e[n]);if(rF)for(var n of rF(e))t5e.call(e,n)&&iF(t,n,e[n]);return t},r5e=(t,e)=>_3e(t,q3e(e));const i5e="did:pkh:",nT=t=>t?.split(":"),s5e=t=>{const e=t&&nT(t);if(e)return t.includes(i5e)?e[3]:e[1]},kC=t=>{const e=t&&nT(t);if(e)return e[2]+":"+e[3]},H2=t=>{const e=t&&nT(t);if(e)return e.pop()};async function sF(t){const{cacao:e,projectId:n}=t,{s:i,p:f}=e,b=JW(f,f.iss),s=H2(f.iss);return await G3e(s,b,i,kC(f.iss),n)}const JW=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,i=H2(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let f=t.statement||void 0;const b=`URI: ${t.aud||t.uri}`,s=`Version: ${t.version}`,y=`Chain ID: ${s5e(e)}`,r=`Nonce: ${t.nonce}`,o=`Issued At: ${t.iat}`,v=t.exp?`Expiration Time: ${t.exp}`:void 0,c=t.nbf?`Not Before: ${t.nbf}`:void 0,u=t.requestId?`Request ID: ${t.requestId}`:void 0,l=t.resources?`Resources:${t.resources.map(d=>`
- ${d}`).join("")}`:void 0,a=Zy(t.resources);if(a){const d=Fg(a);f=p5e(f,d)}return[n,i,"",f,"",b,s,y,r,o,v,c,u,l].filter(d=>d!=null).join(`
`)};function a5e(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function o5e(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function Ld(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const i=t.att[n];if(Array.isArray(i))throw new Error(`Resource must be an object: ${n}`);if(typeof i!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(i).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(i).forEach(f=>{const b=i[f];if(!Array.isArray(b))throw new Error(`Ability limits ${f} must be an array of objects, found: ${b}`);if(!b.length)throw new Error(`Value of ${f} is empty array, must be an array with objects`);b.forEach(s=>{if(typeof s!="object")throw new Error(`Ability limits (${f}) must be an array of objects, found: ${s}`)})})})}function l5e(t,e,n,i={}){return n?.sort((f,b)=>f.localeCompare(b)),{att:{[t]:u5e(e,n,i)}}}function u5e(t,e,n={}){e=e?.sort((f,b)=>f.localeCompare(b));const i=e.map(f=>({[`${t}/${f}`]:[n]}));return Object.assign({},...i)}function QW(t){return Ld(t),`urn:recap:${a5e(t).replace(/=/g,"")}`}function Fg(t){const e=o5e(t.replace("urn:recap:",""));return Ld(e),e}function c5e(t,e,n){const i=l5e(t,e,n);return QW(i)}function d5e(t){return t&&t.includes("urn:recap:")}function h5e(t,e){const n=Fg(t),i=Fg(e),f=f5e(n,i);return QW(f)}function f5e(t,e){Ld(t),Ld(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((f,b)=>f.localeCompare(b)),i={att:{}};return n.forEach(f=>{var b,s;Object.keys(((b=t.att)==null?void 0:b[f])||{}).concat(Object.keys(((s=e.att)==null?void 0:s[f])||{})).sort((y,r)=>y.localeCompare(r)).forEach(y=>{var r,o;i.att[f]=r5e(n5e({},i.att[f]),{[y]:((r=t.att[f])==null?void 0:r[y])||((o=e.att[f])==null?void 0:o[y])})})}),i}function p5e(t="",e){Ld(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const i=[];let f=0;Object.keys(e.att).forEach(y=>{const r=Object.keys(e.att[y]).map(c=>({ability:c.split("/")[0],action:c.split("/")[1]}));r.sort((c,u)=>c.action.localeCompare(u.action));const o={};r.forEach(c=>{o[c.ability]||(o[c.ability]=[]),o[c.ability].push(c.action)});const v=Object.keys(o).map(c=>(f++,`(${f}) '${c}': '${o[c].join("', '")}' for '${y}'.`));i.push(v.join(", ").replace(".,","."))});const b=i.join(" "),s=`${n}${b}`;return`${t?t+" ":""}${s}`}function aF(t){var e;const n=Fg(t);Ld(n);const i=(e=n.att)==null?void 0:e.eip155;return i?Object.keys(i).map(f=>f.split("/")[1]):[]}function oF(t){const e=Fg(t);Ld(e);const n=[];return Object.values(e.att).forEach(i=>{Object.values(i).forEach(f=>{var b;(b=f?.[0])!=null&&b.chains&&n.push(f[0].chains)})}),[...new Set(n.flat())]}function Zy(t){if(!t)return;const e=t?.[t.length-1];return d5e(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function _W(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function BC(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function W4(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function ns(t,...e){if(!_W(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function lF(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function v5e(t,e){ns(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function ac(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function pp(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function g5e(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const m5e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function y5e(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function UC(t){if(typeof t=="string")t=y5e(t);else if(_W(t))t=jC(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function w5e(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function x5e(t,e){if(t.length!==e.length)return!1;let n=0;for(let i=0;i<t.length;i++)n|=t[i]^e[i];return n===0}const b5e=(t,e)=>{function n(i,...f){if(ns(i),!m5e)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const o=f[0];if(!o)throw new Error("nonce / iv required");t.varSizeNonce?ns(o):ns(o,t.nonceLength)}const b=t.tagLength;b&&f[1]!==void 0&&ns(f[1]);const s=e(i,...f),y=(o,v)=>{if(v!==void 0){if(o!==2)throw new Error("cipher output not supported");ns(v)}};let r=!1;return{encrypt(o,v){if(r)throw new Error("cannot encrypt() twice with same key + nonce");return r=!0,ns(o),y(s.encrypt.length,v),s.encrypt(o,v)},decrypt(o,v){if(ns(o),b&&o.length<b)throw new Error("invalid ciphertext length: smaller than tagLength="+b);return y(s.decrypt.length,v),s.decrypt(o,v)}}}return Object.assign(n,t),n};function uF(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!E5e(e))throw new Error("invalid output, must be aligned");return e}function cF(t,e,n,i){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,i);const f=BigInt(32),b=BigInt(4294967295),s=Number(n>>f&b),y=Number(n&b);t.setUint32(e+4,s,i),t.setUint32(e+0,y,i)}function C5e(t,e,n){BC(n);const i=new Uint8Array(16),f=g5e(i);return cF(f,0,BigInt(e),n),cF(f,8,BigInt(t),n),i}function E5e(t){return t.byteOffset%4===0}function jC(t){return Uint8Array.from(t)}const qW=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),S5e=qW("expand 16-byte k"),T5e=qW("expand 32-byte k"),A5e=ac(S5e),P5e=ac(T5e);function rn(t,e){return t<<e|t>>>32-e}function zC(t){return t.byteOffset%4===0}const hy=64,I5e=16,eG=2**32-1,dF=new Uint32Array;function R5e(t,e,n,i,f,b,s,y){const r=f.length,o=new Uint8Array(hy),v=ac(o),c=zC(f)&&zC(b),u=c?ac(f):dF,l=c?ac(b):dF;for(let a=0;a<r;s++){if(t(e,n,i,v,s,y),s>=eG)throw new Error("arx: counter overflow");const d=Math.min(hy,r-a);if(c&&d===hy){const p=a/4;if(a%4!==0)throw new Error("arx: invalid block position");for(let h=0,g;h<I5e;h++)g=p+h,l[g]=u[g]^v[h];a+=hy;continue}for(let p=0,h;p<d;p++)h=a+p,b[h]=f[h]^o[p];a+=d}}function M5e(t,e){const{allowShortKeys:n,extendNonceFn:i,counterLength:f,counterRight:b,rounds:s}=w5e({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return W4(f),W4(s),BC(b),BC(n),(y,r,o,v,c=0)=>{ns(y),ns(r),ns(o);const u=o.length;if(v===void 0&&(v=new Uint8Array(u)),ns(v),W4(c),c<0||c>=eG)throw new Error("arx: counter overflow");if(v.length<u)throw new Error(`arx: output (${v.length}) is shorter than data (${u})`);const l=[];let a=y.length,d,p;if(a===32)l.push(d=jC(y)),p=P5e;else if(a===16&&n)d=new Uint8Array(32),d.set(y),d.set(y,16),p=A5e,l.push(d);else throw new Error(`arx: invalid 32-byte key, got length=${a}`);zC(r)||l.push(r=jC(r));const h=ac(d);if(i){if(r.length!==24)throw new Error("arx: extended nonce must be 24 bytes");i(p,h,ac(r.subarray(0,16)),h),r=r.subarray(16)}const g=16-f;if(g!==r.length)throw new Error(`arx: nonce must be ${g} or 16 bytes`);if(g!==12){const x=new Uint8Array(12);x.set(r,b?0:12-r.length),r=x,l.push(r)}const m=ac(r);return R5e(t,p,h,m,o,v,c,s),pp(...l),v}}const ei=(t,e)=>t[e++]&255|(t[e++]&255)<<8;let O5e=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=UC(e),ns(e,32);const n=ei(e,0),i=ei(e,2),f=ei(e,4),b=ei(e,6),s=ei(e,8),y=ei(e,10),r=ei(e,12),o=ei(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|i<<3)&8191,this.r[2]=(i>>>10|f<<6)&7939,this.r[3]=(f>>>7|b<<9)&8191,this.r[4]=(b>>>4|s<<12)&255,this.r[5]=s>>>1&8190,this.r[6]=(s>>>14|y<<2)&8191,this.r[7]=(y>>>11|r<<5)&8065,this.r[8]=(r>>>8|o<<8)&8191,this.r[9]=o>>>5&127;for(let v=0;v<8;v++)this.pad[v]=ei(e,16+2*v)}process(e,n,i=!1){const f=i?0:2048,{h:b,r:s}=this,y=s[0],r=s[1],o=s[2],v=s[3],c=s[4],u=s[5],l=s[6],a=s[7],d=s[8],p=s[9],h=ei(e,n+0),g=ei(e,n+2),m=ei(e,n+4),x=ei(e,n+6),w=ei(e,n+8),C=ei(e,n+10),E=ei(e,n+12),T=ei(e,n+14);let S=b[0]+(h&8191),A=b[1]+((h>>>13|g<<3)&8191),P=b[2]+((g>>>10|m<<6)&8191),R=b[3]+((m>>>7|x<<9)&8191),L=b[4]+((x>>>4|w<<12)&8191),D=b[5]+(w>>>1&8191),F=b[6]+((w>>>14|C<<2)&8191),$=b[7]+((C>>>11|E<<5)&8191),N=b[8]+((E>>>8|T<<8)&8191),k=b[9]+(T>>>5|f),j=0,W=j+S*y+A*(5*p)+P*(5*d)+R*(5*a)+L*(5*l);j=W>>>13,W&=8191,W+=D*(5*u)+F*(5*c)+$*(5*v)+N*(5*o)+k*(5*r),j+=W>>>13,W&=8191;let G=j+S*r+A*y+P*(5*p)+R*(5*d)+L*(5*a);j=G>>>13,G&=8191,G+=D*(5*l)+F*(5*u)+$*(5*c)+N*(5*v)+k*(5*o),j+=G>>>13,G&=8191;let K=j+S*o+A*r+P*y+R*(5*p)+L*(5*d);j=K>>>13,K&=8191,K+=D*(5*a)+F*(5*l)+$*(5*u)+N*(5*c)+k*(5*v),j+=K>>>13,K&=8191;let z=j+S*v+A*o+P*r+R*y+L*(5*p);j=z>>>13,z&=8191,z+=D*(5*d)+F*(5*a)+$*(5*l)+N*(5*u)+k*(5*c),j+=z>>>13,z&=8191;let X=j+S*c+A*v+P*o+R*r+L*y;j=X>>>13,X&=8191,X+=D*(5*p)+F*(5*d)+$*(5*a)+N*(5*l)+k*(5*u),j+=X>>>13,X&=8191;let U=j+S*u+A*c+P*v+R*o+L*r;j=U>>>13,U&=8191,U+=D*y+F*(5*p)+$*(5*d)+N*(5*a)+k*(5*l),j+=U>>>13,U&=8191;let Z=j+S*l+A*u+P*c+R*v+L*o;j=Z>>>13,Z&=8191,Z+=D*r+F*y+$*(5*p)+N*(5*d)+k*(5*a),j+=Z>>>13,Z&=8191;let V=j+S*a+A*l+P*u+R*c+L*v;j=V>>>13,V&=8191,V+=D*o+F*r+$*y+N*(5*p)+k*(5*d),j+=V>>>13,V&=8191;let J=j+S*d+A*a+P*l+R*u+L*c;j=J>>>13,J&=8191,J+=D*v+F*o+$*r+N*y+k*(5*p),j+=J>>>13,J&=8191;let _=j+S*p+A*d+P*a+R*l+L*u;j=_>>>13,_&=8191,_+=D*c+F*v+$*o+N*r+k*y,j+=_>>>13,_&=8191,j=(j<<2)+j|0,j=j+W|0,W=j&8191,j=j>>>13,G+=j,b[0]=W,b[1]=G,b[2]=K,b[3]=z,b[4]=X,b[5]=U,b[6]=Z,b[7]=V,b[8]=J,b[9]=_}finalize(){const{h:e,pad:n}=this,i=new Uint16Array(10);let f=e[1]>>>13;e[1]&=8191;for(let y=2;y<10;y++)e[y]+=f,f=e[y]>>>13,e[y]&=8191;e[0]+=f*5,f=e[0]>>>13,e[0]&=8191,e[1]+=f,f=e[1]>>>13,e[1]&=8191,e[2]+=f,i[0]=e[0]+5,f=i[0]>>>13,i[0]&=8191;for(let y=1;y<10;y++)i[y]=e[y]+f,f=i[y]>>>13,i[y]&=8191;i[9]-=8192;let b=(f^1)-1;for(let y=0;y<10;y++)i[y]&=b;b=~b;for(let y=0;y<10;y++)e[y]=e[y]&b|i[y];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let s=e[0]+n[0];e[0]=s&65535;for(let y=1;y<8;y++)s=(e[y]+n[y]|0)+(s>>>16)|0,e[y]=s&65535;pp(i)}update(e){lF(this),e=UC(e),ns(e);const{buffer:n,blockLen:i}=this,f=e.length;for(let b=0;b<f;){const s=Math.min(i-this.pos,f-b);if(s===i){for(;i<=f-b;b+=i)this.process(e,b);continue}n.set(e.subarray(b,b+s),this.pos),this.pos+=s,b+=s,this.pos===i&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){pp(this.h,this.r,this.buffer,this.pad)}digestInto(e){lF(this),v5e(e,this),this.finished=!0;const{buffer:n,h:i}=this;let{pos:f}=this;if(f){for(n[f++]=1;f<16;f++)n[f]=0;this.process(n,0,!0)}this.finalize();let b=0;for(let s=0;s<8;s++)e[b++]=i[s]>>>0,e[b++]=i[s]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const i=e.slice(0,n);return this.destroy(),i}};function F5e(t){const e=(i,f)=>t(f).update(UC(i)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=i=>t(i),e}const $5e=F5e(t=>new O5e(t));function L5e(t,e,n,i,f,b=20){let s=t[0],y=t[1],r=t[2],o=t[3],v=e[0],c=e[1],u=e[2],l=e[3],a=e[4],d=e[5],p=e[6],h=e[7],g=f,m=n[0],x=n[1],w=n[2],C=s,E=y,T=r,S=o,A=v,P=c,R=u,L=l,D=a,F=d,$=p,N=h,k=g,j=m,W=x,G=w;for(let z=0;z<b;z+=2)C=C+A|0,k=rn(k^C,16),D=D+k|0,A=rn(A^D,12),C=C+A|0,k=rn(k^C,8),D=D+k|0,A=rn(A^D,7),E=E+P|0,j=rn(j^E,16),F=F+j|0,P=rn(P^F,12),E=E+P|0,j=rn(j^E,8),F=F+j|0,P=rn(P^F,7),T=T+R|0,W=rn(W^T,16),$=$+W|0,R=rn(R^$,12),T=T+R|0,W=rn(W^T,8),$=$+W|0,R=rn(R^$,7),S=S+L|0,G=rn(G^S,16),N=N+G|0,L=rn(L^N,12),S=S+L|0,G=rn(G^S,8),N=N+G|0,L=rn(L^N,7),C=C+P|0,G=rn(G^C,16),$=$+G|0,P=rn(P^$,12),C=C+P|0,G=rn(G^C,8),$=$+G|0,P=rn(P^$,7),E=E+R|0,k=rn(k^E,16),N=N+k|0,R=rn(R^N,12),E=E+R|0,k=rn(k^E,8),N=N+k|0,R=rn(R^N,7),T=T+L|0,j=rn(j^T,16),D=D+j|0,L=rn(L^D,12),T=T+L|0,j=rn(j^T,8),D=D+j|0,L=rn(L^D,7),S=S+A|0,W=rn(W^S,16),F=F+W|0,A=rn(A^F,12),S=S+A|0,W=rn(W^S,8),F=F+W|0,A=rn(A^F,7);let K=0;i[K++]=s+C|0,i[K++]=y+E|0,i[K++]=r+T|0,i[K++]=o+S|0,i[K++]=v+A|0,i[K++]=c+P|0,i[K++]=u+R|0,i[K++]=l+L|0,i[K++]=a+D|0,i[K++]=d+F|0,i[K++]=p+$|0,i[K++]=h+N|0,i[K++]=g+k|0,i[K++]=m+j|0,i[K++]=x+W|0,i[K++]=w+G|0}const D5e=M5e(L5e,{counterRight:!1,counterLength:4,allowShortKeys:!1}),N5e=new Uint8Array(16),hF=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(N5e.subarray(n))},k5e=new Uint8Array(32);function fF(t,e,n,i,f){const b=t(e,n,k5e),s=$5e.create(b);f&&hF(s,f),hF(s,i);const y=C5e(i.length,f?f.length:0,!0);s.update(y);const r=s.digest();return pp(b,y),r}const B5e=t=>(e,n,i)=>({encrypt(f,b){const s=f.length;b=uF(s+16,b,!1),b.set(f);const y=b.subarray(0,-16);t(e,n,y,y,1);const r=fF(t,e,n,y,i);return b.set(r,s),pp(r),b},decrypt(f,b){b=uF(f.length-16,b,!1);const s=f.subarray(0,-16),y=f.subarray(-16),r=fF(t,e,n,s,i);if(!x5e(y,r))throw new Error("invalid tag");return b.set(f.subarray(0,-16)),t(e,n,b,b,1),pp(r),b}}),tG=b5e({blockSize:64,nonceLength:12,tagLength:16},B5e(D5e));let nG=class extends px{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,_S(e);const i=Ka(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const f=this.blockLen,b=new Uint8Array(f);b.set(i.length>f?e.create().update(i).digest():i);for(let s=0;s<b.length;s++)b[s]^=54;this.iHash.update(b),this.oHash=e.create();for(let s=0;s<b.length;s++)b[s]^=106;this.oHash.update(b),wa(b)}update(e){return uc(this),this.iHash.update(e),this}digestInto(e){uc(this),ya(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:i,finished:f,destroyed:b,blockLen:s,outputLen:y}=this;return e=e,e.finished=f,e.destroyed=b,e.blockLen=s,e.outputLen=y,e.oHash=n._cloneInto(e.oHash),e.iHash=i._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const gx=(t,e,n)=>new nG(t,e).update(n).digest();gx.create=(t,e)=>new nG(t,e);function U5e(t,e,n){return _S(t),n===void 0&&(n=new Uint8Array(t.outputLen)),gx(t,Ka(n),Ka(e))}const G4=Uint8Array.from([0]),pF=Uint8Array.of();function j5e(t,e,n,i=32){_S(t),ru(i);const f=t.outputLen;if(i>255*f)throw new Error("Length should be <= 255*HashLen");const b=Math.ceil(i/f);n===void 0&&(n=pF);const s=new Uint8Array(b*f),y=gx.create(t,e),r=y._cloneInto(),o=new Uint8Array(y.outputLen);for(let v=0;v<b;v++)G4[0]=v+1,r.update(v===0?pF:o).update(n).update(G4).digestInto(o),s.set(o,f*v),y._cloneInto(r);return y.destroy(),r.destroy(),wa(o,G4),s.slice(0,i)}const z5e=(t,e,n,i,f)=>j5e(t,U5e(t,e,n),i,f),mx=vx,rT=BigInt(0),WC=BigInt(1);function Y2(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function fy(t){const e=t.toString(16);return e.length&1?"0"+e:e}function rG(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?rT:BigInt("0x"+t)}function yx(t){return rG(Og(t))}function X2(t){return ya(t),rG(Og(Uint8Array.from(t).reverse()))}function iT(t,e){return eT(t.toString(16).padStart(e*2,"0"))}function sT(t,e){return iT(t,e).reverse()}function es(t,e,n){let i;if(typeof e=="string")try{i=eT(e)}catch(b){throw new Error(t+" must be hex string or Uint8Array, cause: "+b)}else if(QS(e))i=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const f=i.length;if(typeof n=="number"&&f!==n)throw new Error(t+" of length "+n+" expected, got "+f);return i}const V4=t=>typeof t=="bigint"&&rT<=t;function W5e(t,e,n){return V4(t)&&V4(e)&&V4(n)&&e<=t&&t<n}function GC(t,e,n,i){if(!W5e(e,n,i))throw new Error("expected valid "+t+": "+n+" <= n < "+i+", got "+e)}function G5e(t){let e;for(e=0;t>rT;t>>=WC,e+=1);return e}const wx=t=>(WC<<BigInt(t))-WC;function V5e(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const i=u=>new Uint8Array(u),f=u=>Uint8Array.of(u);let b=i(t),s=i(t),y=0;const r=()=>{b.fill(1),s.fill(0),y=0},o=(...u)=>n(s,b,...u),v=(u=i(0))=>{s=o(f(0),u),b=o(),u.length!==0&&(s=o(f(1),u),b=o())},c=()=>{if(y++>=1e3)throw new Error("drbg: tried 1000 values");let u=0;const l=[];for(;u<e;){b=o();const a=b.slice();l.push(a),u+=b.length}return od(...l)};return(u,l)=>{r(),v(u);let a;for(;!(a=l(c()));)v();return r(),a}}function xx(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function i(f,b,s){const y=t[f];if(s&&y===void 0)return;const r=typeof y;if(r!==b||y===null)throw new Error(`param "${f}" is invalid: expected ${b}, got ${r}`)}Object.entries(e).forEach(([f,b])=>i(f,b,!1)),Object.entries(n).forEach(([f,b])=>i(f,b,!0))}function vF(t){const e=new WeakMap;return(n,...i)=>{const f=e.get(n);if(f!==void 0)return f;const b=t(n,...i);return e.set(n,b),b}}const ls=BigInt(0),Ni=BigInt(1),ld=BigInt(2),H5e=BigInt(3),iG=BigInt(4),sG=BigInt(5),aG=BigInt(8);function ua(t,e){const n=t%e;return n>=ls?n:e+n}function Ba(t,e,n){let i=t;for(;e-- >ls;)i*=i,i%=n;return i}function gF(t,e){if(t===ls)throw new Error("invert: expected non-zero number");if(e<=ls)throw new Error("invert: expected positive modulus, got "+e);let n=ua(t,e),i=e,f=ls,b=Ni;for(;n!==ls;){const s=i/n,y=i%n,r=f-b*s;i=n,n=y,f=b,b=r}if(i!==Ni)throw new Error("invert: does not exist");return ua(f,e)}function oG(t,e){const n=(t.ORDER+Ni)/iG,i=t.pow(e,n);if(!t.eql(t.sqr(i),e))throw new Error("Cannot find square root");return i}function Y5e(t,e){const n=(t.ORDER-sG)/aG,i=t.mul(e,ld),f=t.pow(i,n),b=t.mul(e,f),s=t.mul(t.mul(b,ld),f),y=t.mul(b,t.sub(s,t.ONE));if(!t.eql(t.sqr(y),e))throw new Error("Cannot find square root");return y}function X5e(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Ni,n=0;for(;e%ld===ls;)e/=ld,n++;let i=ld;const f=Bp(t);for(;mF(f,i)===1;)if(i++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return oG;let b=f.pow(i,e);const s=(e+Ni)/ld;return function(y,r){if(y.is0(r))return r;if(mF(y,r)!==1)throw new Error("Cannot find square root");let o=n,v=y.mul(y.ONE,b),c=y.pow(r,e),u=y.pow(r,s);for(;!y.eql(c,y.ONE);){if(y.is0(c))return y.ZERO;let l=1,a=y.sqr(c);for(;!y.eql(a,y.ONE);)if(l++,a=y.sqr(a),l===o)throw new Error("Cannot find square root");const d=Ni<<BigInt(o-l-1),p=y.pow(v,d);o=l,v=y.sqr(p),c=y.mul(c,v),u=y.mul(u,p)}return u}}function K5e(t){return t%iG===H5e?oG:t%aG===sG?Y5e:X5e(t)}const Z5e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function J5e(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=Z5e.reduce((i,f)=>(i[f]="function",i),e);return xx(t,n),t}function Q5e(t,e,n){if(n<ls)throw new Error("invalid exponent, negatives unsupported");if(n===ls)return t.ONE;if(n===Ni)return e;let i=t.ONE,f=e;for(;n>ls;)n&Ni&&(i=t.mul(i,f)),f=t.sqr(f),n>>=Ni;return i}function lG(t,e,n=!1){const i=new Array(e.length).fill(n?t.ZERO:void 0),f=e.reduce((s,y,r)=>t.is0(y)?s:(i[r]=s,t.mul(s,y)),t.ONE),b=t.inv(f);return e.reduceRight((s,y,r)=>t.is0(y)?s:(i[r]=t.mul(s,i[r]),t.mul(s,y)),b),i}function mF(t,e){const n=(t.ORDER-Ni)/ld,i=t.pow(e,n),f=t.eql(i,t.ONE),b=t.eql(i,t.ZERO),s=t.eql(i,t.neg(t.ONE));if(!f&&!b&&!s)throw new Error("invalid Legendre symbol result");return f?1:b?0:-1}function _5e(t,e){e!==void 0&&ru(e);const n=e!==void 0?e:t.toString(2).length,i=Math.ceil(n/8);return{nBitLength:n,nByteLength:i}}function Bp(t,e,n=!1,i={}){if(t<=ls)throw new Error("invalid field: expected ORDER > 0, got "+t);let f,b;if(typeof e=="object"&&e!=null){if(i.sqrt||n)throw new Error("cannot specify opts in two arguments");const v=e;v.BITS&&(f=v.BITS),v.sqrt&&(b=v.sqrt),typeof v.isLE=="boolean"&&(n=v.isLE)}else typeof e=="number"&&(f=e),i.sqrt&&(b=i.sqrt);const{nBitLength:s,nByteLength:y}=_5e(t,f);if(y>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let r;const o=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:y,MASK:wx(s),ZERO:ls,ONE:Ni,create:v=>ua(v,t),isValid:v=>{if(typeof v!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof v);return ls<=v&&v<t},is0:v=>v===ls,isValidNot0:v=>!o.is0(v)&&o.isValid(v),isOdd:v=>(v&Ni)===Ni,neg:v=>ua(-v,t),eql:(v,c)=>v===c,sqr:v=>ua(v*v,t),add:(v,c)=>ua(v+c,t),sub:(v,c)=>ua(v-c,t),mul:(v,c)=>ua(v*c,t),pow:(v,c)=>Q5e(o,v,c),div:(v,c)=>ua(v*gF(c,t),t),sqrN:v=>v*v,addN:(v,c)=>v+c,subN:(v,c)=>v-c,mulN:(v,c)=>v*c,inv:v=>gF(v,t),sqrt:b||(v=>(r||(r=K5e(t)),r(o,v))),toBytes:v=>n?sT(v,y):iT(v,y),fromBytes:v=>{if(v.length!==y)throw new Error("Field.fromBytes: expected "+y+" bytes, got "+v.length);return n?X2(v):yx(v)},invertBatch:v=>lG(o,v),cmov:(v,c,u)=>u?c:v});return Object.freeze(o)}function uG(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function cG(t){const e=uG(t);return e+Math.ceil(e/2)}function q5e(t,e,n=!1){const i=t.length,f=uG(e),b=cG(e);if(i<16||i<b||i>1024)throw new Error("expected "+b+"-1024 bytes of input, got "+i);const s=n?X2(t):yx(t),y=ua(s,e-Ni)+Ni;return n?sT(y,f):iT(y,f)}const vp=BigInt(0),ud=BigInt(1);function wv(t,e){const n=e.negate();return t?n:e}function ebe(t,e,n){const i=b=>b.pz,f=lG(t.Fp,n.map(i));return n.map((b,s)=>b.toAffine(f[s])).map(t.fromAffine)}function dG(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function H4(t,e){dG(t,e);const n=Math.ceil(e/t)+1,i=2**(t-1),f=2**t,b=wx(t),s=BigInt(t);return{windows:n,windowSize:i,mask:b,maxNumber:f,shiftBy:s}}function yF(t,e,n){const{windowSize:i,mask:f,maxNumber:b,shiftBy:s}=n;let y=Number(t&f),r=t>>s;y>i&&(y-=b,r+=ud);const o=e*i,v=o+Math.abs(y)-1,c=y===0,u=y<0,l=e%2!==0;return{nextN:r,offset:v,isZero:c,isNeg:u,isNegF:l,offsetF:o}}function tbe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,i)=>{if(!(n instanceof e))throw new Error("invalid point at index "+i)})}function nbe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,i)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+i)})}const Y4=new WeakMap,hG=new WeakMap;function X4(t){return hG.get(t)||1}function wF(t){if(t!==vp)throw new Error("invalid wNAF")}function rbe(t,e){return{constTimeNegate:wv,hasPrecomputes(n){return X4(n)!==1},unsafeLadder(n,i,f=t.ZERO){let b=n;for(;i>vp;)i&ud&&(f=f.add(b)),b=b.double(),i>>=ud;return f},precomputeWindow(n,i){const{windows:f,windowSize:b}=H4(i,e),s=[];let y=n,r=y;for(let o=0;o<f;o++){r=y,s.push(r);for(let v=1;v<b;v++)r=r.add(y),s.push(r);y=r.double()}return s},wNAF(n,i,f){let b=t.ZERO,s=t.BASE;const y=H4(n,e);for(let r=0;r<y.windows;r++){const{nextN:o,offset:v,isZero:c,isNeg:u,isNegF:l,offsetF:a}=yF(f,r,y);f=o,c?s=s.add(wv(l,i[a])):b=b.add(wv(u,i[v]))}return wF(f),{p:b,f:s}},wNAFUnsafe(n,i,f,b=t.ZERO){const s=H4(n,e);for(let y=0;y<s.windows&&f!==vp;y++){const{nextN:r,offset:o,isZero:v,isNeg:c}=yF(f,y,s);if(f=r,!v){const u=i[o];b=b.add(c?u.negate():u)}}return wF(f),b},getPrecomputes(n,i,f){let b=Y4.get(i);return b||(b=this.precomputeWindow(i,n),n!==1&&(typeof f=="function"&&(b=f(b)),Y4.set(i,b))),b},wNAFCached(n,i,f){const b=X4(n);return this.wNAF(b,this.getPrecomputes(b,n,f),i)},wNAFCachedUnsafe(n,i,f,b){const s=X4(n);return s===1?this.unsafeLadder(n,i,b):this.wNAFUnsafe(s,this.getPrecomputes(s,n,f),i,b)},setWindowSize(n,i){dG(i,e),hG.set(n,i),Y4.delete(n)}}}function ibe(t,e,n,i){let f=e,b=t.ZERO,s=t.ZERO;for(;n>vp||i>vp;)n&ud&&(b=b.add(f)),i&ud&&(s=s.add(f)),f=f.double(),n>>=ud,i>>=ud;return{p1:b,p2:s}}function sbe(t,e,n,i){tbe(n,t),nbe(i,e);const f=n.length,b=i.length;if(f!==b)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,y=G5e(BigInt(f));let r=1;y>12?r=y-3:y>4?r=y-2:y>0&&(r=2);const o=wx(r),v=new Array(Number(o)+1).fill(s),c=Math.floor((e.BITS-1)/r)*r;let u=s;for(let l=c;l>=0;l-=r){v.fill(s);for(let d=0;d<b;d++){const p=i[d],h=Number(p>>BigInt(l)&o);v[h]=v[h].add(n[d])}let a=s;for(let d=v.length-1,p=s;d>0;d--)p=p.add(v[d]),a=a.add(p);if(u=u.add(a),l!==0)for(let d=0;d<r;d++)u=u.double()}return u}function xF(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return J5e(e),e}else return Bp(t)}function abe(t,e,n={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const s of["p","n","h"]){const y=e[s];if(!(typeof y=="bigint"&&y>vp))throw new Error(`CURVE.${s} must be positive bigint`)}const i=xF(e.p,n.Fp),f=xF(e.n,n.Fn),b=["Gx","Gy","a","b"];for(const s of b)if(!i.isValid(e[s]))throw new Error(`CURVE.${s} must be valid field element of CURVE.Fp`);return{Fp:i,Fn:f}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const N0=BigInt(0),nf=BigInt(1),py=BigInt(2);function obe(t){return xx(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function lbe(t){const e=obe(t),{P:n,type:i,adjustScalarBytes:f,powPminus2:b,randomBytes:s}=e,y=i==="x25519";if(!y&&i!=="x448")throw new Error("invalid type");const r=s||kp,o=y?255:448,v=y?32:56,c=BigInt(y?9:5),u=BigInt(y?121665:39081),l=y?py**BigInt(254):py**BigInt(447),a=y?BigInt(8)*py**BigInt(251)-nf:BigInt(4)*py**BigInt(445)-nf,d=l+a+nf,p=S=>ua(S,n),h=g(c);function g(S){return sT(p(S),v)}function m(S){const A=es("u coordinate",S,v);return y&&(A[31]&=127),p(X2(A))}function x(S){return X2(f(es("scalar",S,v)))}function w(S,A){const P=T(m(A),x(S));if(P===N0)throw new Error("invalid private or public key received");return g(P)}function C(S){return w(S,h)}function E(S,A,P){const R=p(S*(A-P));return A=p(A-R),P=p(P+R),{x_2:A,x_3:P}}function T(S,A){GC("u",S,N0,n),GC("scalar",A,l,d);const P=A,R=S;let L=nf,D=N0,F=S,$=nf,N=N0;for(let j=BigInt(o-1);j>=N0;j--){const W=P>>j&nf;N^=W,{x_2:L,x_3:F}=E(N,L,F),{x_2:D,x_3:$}=E(N,D,$),N=W;const G=L+D,K=p(G*G),z=L-D,X=p(z*z),U=K-X,Z=F+$,V=F-$,J=p(V*G),_=p(Z*z),ee=J+_,te=J-_;F=p(ee*ee),$=p(R*p(te*te)),L=p(K*X),D=p(U*(K+p(u*U)))}({x_2:L,x_3:F}=E(N,L,F)),{x_2:D,x_3:$}=E(N,D,$);const k=b(D);return p(L*k)}return{scalarMult:w,scalarMultBase:C,getSharedSecret:(S,A)=>w(S,A),getPublicKey:S=>C(S),utils:{randomPrivateKey:()=>r(v)},GuBytes:h.slice()}}BigInt(0);const ube=BigInt(1),bF=BigInt(2),cbe=BigInt(3),dbe=BigInt(5);BigInt(8);const fG={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function hbe(t){const e=BigInt(10),n=BigInt(20),i=BigInt(40),f=BigInt(80),b=fG.p,s=t*t%b*t%b,y=Ba(s,bF,b)*s%b,r=Ba(y,ube,b)*t%b,o=Ba(r,dbe,b)*r%b,v=Ba(o,e,b)*o%b,c=Ba(v,n,b)*v%b,u=Ba(c,i,b)*c%b,l=Ba(u,f,b)*u%b,a=Ba(l,f,b)*u%b,d=Ba(a,e,b)*o%b;return{pow_p_5_8:Ba(d,bF,b)*t%b,b2:s}}function fbe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const VC=(()=>{const t=fG.p;return lbe({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:n,b2:i}=hbe(e);return ua(Ba(n,cbe,t)*i,t)},adjustScalarBytes:fbe})})();function CF(t){t.lowS!==void 0&&Y2("lowS",t.lowS),t.prehash!==void 0&&Y2("prehash",t.prehash)}let pbe=class extends Error{constructor(e=""){super(e)}};const Bl={Err:pbe,_tlv:{encode:(t,e)=>{const{Err:n}=Bl;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const i=e.length/2,f=fy(i);if(f.length/2&128)throw new n("tlv.encode: long form length too big");const b=i>127?fy(f.length/2|128):"";return fy(t)+b+f+e},decode(t,e){const{Err:n}=Bl;let i=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[i++]!==t)throw new n("tlv.decode: wrong tlv");const f=e[i++],b=!!(f&128);let s=0;if(!b)s=f;else{const r=f&127;if(!r)throw new n("tlv.decode(long): indefinite length not supported");if(r>4)throw new n("tlv.decode(long): byte length is too big");const o=e.subarray(i,i+r);if(o.length!==r)throw new n("tlv.decode: length bytes not complete");if(o[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const v of o)s=s<<8|v;if(i+=r,s<128)throw new n("tlv.decode(long): not minimal encoding")}const y=e.subarray(i,i+s);if(y.length!==s)throw new n("tlv.decode: wrong value length");return{v:y,l:e.subarray(i+s)}}},_int:{encode(t){const{Err:e}=Bl;if(t<xv)throw new e("integer: negative integers are not allowed");let n=fy(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Bl;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return yx(t)}},toSig(t){const{Err:e,_int:n,_tlv:i}=Bl,f=es("signature",t),{v:b,l:s}=i.decode(48,f);if(s.length)throw new e("invalid signature: left bytes after parsing");const{v:y,l:r}=i.decode(2,b),{v:o,l:v}=i.decode(2,r);if(v.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(y),s:n.decode(o)}},hexFromSig(t){const{_tlv:e,_int:n}=Bl,i=e.encode(2,n.encode(t.r)),f=e.encode(2,n.encode(t.s)),b=i+f;return e.encode(48,b)}},xv=BigInt(0),bv=BigInt(1),vbe=BigInt(2),vy=BigInt(3),gbe=BigInt(4);function mbe(t,e,n){function i(f){const b=t.sqr(f),s=t.mul(b,f);return t.add(t.add(s,t.mul(f,e)),n)}return i}function pG(t,e,n){const{BYTES:i}=t;function f(b){let s;if(typeof b=="bigint")s=b;else{let y=es("private key",b);if(e){if(!e.includes(y.length*2))throw new Error("invalid private key");const r=new Uint8Array(i);r.set(y,r.length-y.length),y=r}try{s=t.fromBytes(y)}catch{throw new Error(`invalid private key: expected ui8a of size ${i}, got ${typeof b}`)}}if(n&&(s=t.create(s)),!t.isValidNot0(s))throw new Error("invalid private key: out of range [1..N-1]");return s}return f}function ybe(t,e={}){const{Fp:n,Fn:i}=abe("weierstrass",t,e),{h:f,n:b}=t;xx(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:s}=e;if(s&&(!n.is0(t.a)||typeof s.beta!="bigint"||typeof s.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function y(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function r(T,S,A){const{x:P,y:R}=S.toAffine(),L=n.toBytes(P);if(Y2("isCompressed",A),A){y();const D=!n.isOdd(R);return od(vG(D),L)}else return od(Uint8Array.of(4),L,n.toBytes(R))}function o(T){ya(T);const S=n.BYTES,A=S+1,P=2*S+1,R=T.length,L=T[0],D=T.subarray(1);if(R===A&&(L===2||L===3)){const F=n.fromBytes(D);if(!n.isValid(F))throw new Error("bad point: is not on curve, wrong x");const $=u(F);let N;try{N=n.sqrt($)}catch(j){const W=j instanceof Error?": "+j.message:"";throw new Error("bad point: is not on curve, sqrt error"+W)}y();const k=n.isOdd(N);return(L&1)===1!==k&&(N=n.neg(N)),{x:F,y:N}}else if(R===P&&L===4){const F=n.fromBytes(D.subarray(S*0,S*1)),$=n.fromBytes(D.subarray(S*1,S*2));if(!l(F,$))throw new Error("bad point: is not on curve");return{x:F,y:$}}else throw new Error(`bad point: got length ${R}, expected compressed=${A} or uncompressed=${P}`)}const v=e.toBytes||r,c=e.fromBytes||o,u=mbe(n,t.a,t.b);function l(T,S){const A=n.sqr(S),P=u(T);return n.eql(A,P)}if(!l(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const a=n.mul(n.pow(t.a,vy),gbe),d=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(a,d)))throw new Error("bad curve params: a or b");function p(T,S,A=!1){if(!n.isValid(S)||A&&n.is0(S))throw new Error(`bad point coordinate ${T}`);return S}function h(T){if(!(T instanceof w))throw new Error("ProjectivePoint expected")}const g=vF((T,S)=>{const{px:A,py:P,pz:R}=T;if(n.eql(R,n.ONE))return{x:A,y:P};const L=T.is0();S==null&&(S=L?n.ONE:n.inv(R));const D=n.mul(A,S),F=n.mul(P,S),$=n.mul(R,S);if(L)return{x:n.ZERO,y:n.ZERO};if(!n.eql($,n.ONE))throw new Error("invZ was invalid");return{x:D,y:F}}),m=vF(T=>{if(T.is0()){if(e.allowInfinityPoint&&!n.is0(T.py))return;throw new Error("bad point: ZERO")}const{x:S,y:A}=T.toAffine();if(!n.isValid(S)||!n.isValid(A))throw new Error("bad point: x or y not field elements");if(!l(S,A))throw new Error("bad point: equation left != right");if(!T.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function x(T,S,A,P,R){return A=new w(n.mul(A.px,T),A.py,A.pz),S=wv(P,S),A=wv(R,A),S.add(A)}class w{constructor(S,A,P){this.px=p("x",S),this.py=p("y",A,!0),this.pz=p("z",P),Object.freeze(this)}static fromAffine(S){const{x:A,y:P}=S||{};if(!S||!n.isValid(A)||!n.isValid(P))throw new Error("invalid affine point");if(S instanceof w)throw new Error("projective point not allowed");return n.is0(A)&&n.is0(P)?w.ZERO:new w(A,P,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(S){return ebe(w,"pz",S)}static fromBytes(S){return ya(S),w.fromHex(S)}static fromHex(S){const A=w.fromAffine(c(es("pointHex",S)));return A.assertValidity(),A}static fromPrivateKey(S){const A=pG(i,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return w.BASE.multiply(A(S))}static msm(S,A){return sbe(w,i,S,A)}precompute(S=8,A=!0){return E.setWindowSize(this,S),A||this.multiply(vy),this}_setWindowSize(S){this.precompute(S)}assertValidity(){m(this)}hasEvenY(){const{y:S}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(S)}equals(S){h(S);const{px:A,py:P,pz:R}=this,{px:L,py:D,pz:F}=S,$=n.eql(n.mul(A,F),n.mul(L,R)),N=n.eql(n.mul(P,F),n.mul(D,R));return $&&N}negate(){return new w(this.px,n.neg(this.py),this.pz)}double(){const{a:S,b:A}=t,P=n.mul(A,vy),{px:R,py:L,pz:D}=this;let F=n.ZERO,$=n.ZERO,N=n.ZERO,k=n.mul(R,R),j=n.mul(L,L),W=n.mul(D,D),G=n.mul(R,L);return G=n.add(G,G),N=n.mul(R,D),N=n.add(N,N),F=n.mul(S,N),$=n.mul(P,W),$=n.add(F,$),F=n.sub(j,$),$=n.add(j,$),$=n.mul(F,$),F=n.mul(G,F),N=n.mul(P,N),W=n.mul(S,W),G=n.sub(k,W),G=n.mul(S,G),G=n.add(G,N),N=n.add(k,k),k=n.add(N,k),k=n.add(k,W),k=n.mul(k,G),$=n.add($,k),W=n.mul(L,D),W=n.add(W,W),k=n.mul(W,G),F=n.sub(F,k),N=n.mul(W,j),N=n.add(N,N),N=n.add(N,N),new w(F,$,N)}add(S){h(S);const{px:A,py:P,pz:R}=this,{px:L,py:D,pz:F}=S;let $=n.ZERO,N=n.ZERO,k=n.ZERO;const j=t.a,W=n.mul(t.b,vy);let G=n.mul(A,L),K=n.mul(P,D),z=n.mul(R,F),X=n.add(A,P),U=n.add(L,D);X=n.mul(X,U),U=n.add(G,K),X=n.sub(X,U),U=n.add(A,R);let Z=n.add(L,F);return U=n.mul(U,Z),Z=n.add(G,z),U=n.sub(U,Z),Z=n.add(P,R),$=n.add(D,F),Z=n.mul(Z,$),$=n.add(K,z),Z=n.sub(Z,$),k=n.mul(j,U),$=n.mul(W,z),k=n.add($,k),$=n.sub(K,k),k=n.add(K,k),N=n.mul($,k),K=n.add(G,G),K=n.add(K,G),z=n.mul(j,z),U=n.mul(W,U),K=n.add(K,z),z=n.sub(G,z),z=n.mul(j,z),U=n.add(U,z),G=n.mul(K,U),N=n.add(N,G),G=n.mul(Z,U),$=n.mul(X,$),$=n.sub($,G),G=n.mul(X,K),k=n.mul(Z,k),k=n.add(k,G),new w($,N,k)}subtract(S){return this.add(S.negate())}is0(){return this.equals(w.ZERO)}multiply(S){const{endo:A}=e;if(!i.isValidNot0(S))throw new Error("invalid scalar: out of range");let P,R;const L=D=>E.wNAFCached(this,D,w.normalizeZ);if(A){const{k1neg:D,k1:F,k2neg:$,k2:N}=A.splitScalar(S),{p:k,f:j}=L(F),{p:W,f:G}=L(N);R=j.add(G),P=x(A.beta,k,W,D,$)}else{const{p:D,f:F}=L(S);P=D,R=F}return w.normalizeZ([P,R])[0]}multiplyUnsafe(S){const{endo:A}=e,P=this;if(!i.isValid(S))throw new Error("invalid scalar: out of range");if(S===xv||P.is0())return w.ZERO;if(S===bv)return P;if(E.hasPrecomputes(this))return this.multiply(S);if(A){const{k1neg:R,k1:L,k2neg:D,k2:F}=A.splitScalar(S),{p1:$,p2:N}=ibe(w,P,L,F);return x(A.beta,$,N,R,D)}else return E.wNAFCachedUnsafe(P,S)}multiplyAndAddUnsafe(S,A,P){const R=this.multiplyUnsafe(A).add(S.multiplyUnsafe(P));return R.is0()?void 0:R}toAffine(S){return g(this,S)}isTorsionFree(){const{isTorsionFree:S}=e;return f===bv?!0:S?S(w,this):E.wNAFCachedUnsafe(this,b).is0()}clearCofactor(){const{clearCofactor:S}=e;return f===bv?this:S?S(w,this):this.multiplyUnsafe(f)}toBytes(S=!0){return Y2("isCompressed",S),this.assertValidity(),v(w,this,S)}toRawBytes(S=!0){return this.toBytes(S)}toHex(S=!0){return Og(this.toBytes(S))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}w.BASE=new w(t.Gx,t.Gy,n.ONE),w.ZERO=new w(n.ZERO,n.ONE,n.ZERO),w.Fp=n,w.Fn=i;const C=i.BITS,E=rbe(w,e.endo?Math.ceil(C/2):C);return w}function vG(t){return Uint8Array.of(t?2:3)}function wbe(t,e,n={}){xx(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const i=e.randomBytes||kp,f=e.hmac||((P,...R)=>gx(e.hash,P,od(...R))),{Fp:b,Fn:s}=t,{ORDER:y,BITS:r}=s;function o(P){const R=y>>bv;return P>R}function v(P){return o(P)?s.neg(P):P}function c(P,R){if(!s.isValidNot0(R))throw new Error(`invalid signature ${P}: out of range 1..CURVE.n`)}class u{constructor(R,L,D){c("r",R),c("s",L),this.r=R,this.s=L,D!=null&&(this.recovery=D),Object.freeze(this)}static fromCompact(R){const L=s.BYTES,D=es("compactSignature",R,L*2);return new u(s.fromBytes(D.subarray(0,L)),s.fromBytes(D.subarray(L,L*2)))}static fromDER(R){const{r:L,s:D}=Bl.toSig(es("DER",R));return new u(L,D)}assertValidity(){}addRecoveryBit(R){return new u(this.r,this.s,R)}recoverPublicKey(R){const L=b.ORDER,{r:D,s:F,recovery:$}=this;if($==null||![0,1,2,3].includes($))throw new Error("recovery id invalid");if(y*vbe<L&&$>1)throw new Error("recovery id is ambiguous for h>1 curve");const N=$===2||$===3?D+y:D;if(!b.isValid(N))throw new Error("recovery id 2 or 3 invalid");const k=b.toBytes(N),j=t.fromHex(od(vG(($&1)===0),k)),W=s.inv(N),G=m(es("msgHash",R)),K=s.create(-G*W),z=s.create(F*W),X=t.BASE.multiplyUnsafe(K).add(j.multiplyUnsafe(z));if(X.is0())throw new Error("point at infinify");return X.assertValidity(),X}hasHighS(){return o(this.s)}normalizeS(){return this.hasHighS()?new u(this.r,s.neg(this.s),this.recovery):this}toBytes(R){if(R==="compact")return od(s.toBytes(this.r),s.toBytes(this.s));if(R==="der")return eT(Bl.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Og(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Og(this.toBytes("compact"))}}const l=pG(s,n.allowedPrivateKeyLengths,n.wrapPrivateKey),a={isValidPrivateKey(P){try{return l(P),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const P=y;return q5e(i(cG(P)),P)},precompute(P=8,R=t.BASE){return R.precompute(P,!1)}};function d(P,R=!0){return t.fromPrivateKey(P).toBytes(R)}function p(P){if(typeof P=="bigint")return!1;if(P instanceof t)return!0;const R=es("key",P).length,L=b.BYTES,D=L+1,F=2*L+1;if(!(n.allowedPrivateKeyLengths||s.BYTES===D))return R===D||R===F}function h(P,R,L=!0){if(p(P)===!0)throw new Error("first arg must be private key");if(p(R)===!1)throw new Error("second arg must be public key");return t.fromHex(R).multiply(l(P)).toBytes(L)}const g=e.bits2int||function(P){if(P.length>8192)throw new Error("input is too large");const R=yx(P),L=P.length*8-r;return L>0?R>>BigInt(L):R},m=e.bits2int_modN||function(P){return s.create(g(P))},x=wx(r);function w(P){return GC("num < 2^"+r,P,xv,x),s.toBytes(P)}function C(P,R,L=E){if(["recovered","canonical"].some(X=>X in L))throw new Error("sign() legacy options not supported");const{hash:D}=e;let{lowS:F,prehash:$,extraEntropy:N}=L;F==null&&(F=!0),P=es("msgHash",P),CF(L),$&&(P=es("prehashed msgHash",D(P)));const k=m(P),j=l(R),W=[w(j),w(k)];if(N!=null&&N!==!1){const X=N===!0?i(b.BYTES):N;W.push(es("extraEntropy",X))}const G=od(...W),K=k;function z(X){const U=g(X);if(!s.isValidNot0(U))return;const Z=s.inv(U),V=t.BASE.multiply(U).toAffine(),J=s.create(V.x);if(J===xv)return;const _=s.create(Z*s.create(K+J*j));if(_===xv)return;let ee=(V.x===J?0:2)|Number(V.y&bv),te=_;return F&&o(_)&&(te=v(_),ee^=1),new u(J,te,ee)}return{seed:G,k2sig:z}}const E={lowS:e.lowS,prehash:!1},T={lowS:e.lowS,prehash:!1};function S(P,R,L=E){const{seed:D,k2sig:F}=C(P,R,L);return V5e(e.hash.outputLen,s.BYTES,f)(D,F)}t.BASE.precompute(8);function A(P,R,L,D=T){const F=P;R=es("msgHash",R),L=es("publicKey",L),CF(D);const{lowS:$,prehash:N,format:k}=D;if("strict"in D)throw new Error("options.strict was renamed to lowS");if(k!==void 0&&!["compact","der","js"].includes(k))throw new Error('format must be "compact", "der" or "js"');const j=typeof F=="string"||QS(F),W=!j&&!k&&typeof F=="object"&&F!==null&&typeof F.r=="bigint"&&typeof F.s=="bigint";if(!j&&!W)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let G,K;try{if(W)if(k===void 0||k==="js")G=new u(F.r,F.s);else throw new Error("invalid format");if(j){try{k!=="compact"&&(G=u.fromDER(F))}catch(ee){if(!(ee instanceof Bl.Err))throw ee}!G&&k!=="der"&&(G=u.fromCompact(F))}K=t.fromHex(L)}catch{return!1}if(!G||$&&G.hasHighS())return!1;N&&(R=e.hash(R));const{r:z,s:X}=G,U=m(R),Z=s.inv(X),V=s.create(U*Z),J=s.create(z*Z),_=t.BASE.multiplyUnsafe(V).add(K.multiplyUnsafe(J));return _.is0()?!1:s.create(_.x)===z}return Object.freeze({getPublicKey:d,getSharedSecret:h,sign:S,verify:A,utils:a,Point:t,Signature:u})}function xbe(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,i=Bp(e.n,t.nBitLength),f={Fp:n,Fn:i,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:f}}function bbe(t){const{CURVE:e,curveOpts:n}=xbe(t),i={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,ecdsaOpts:i}}function Cbe(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function Ebe(t){const{CURVE:e,curveOpts:n,ecdsaOpts:i}=bbe(t),f=ybe(e,n),b=wbe(f,i,n);return Cbe(t,b)}function HC(t,e){const n=i=>Ebe({...t,hash:i});return{...n(e),create:n}}const gG={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},mG={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},yG={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},Sbe=Bp(gG.p),Tbe=Bp(mG.p),Abe=Bp(yG.p),Pbe=HC({...gG,Fp:Sbe,lowS:!1},vx);HC({...mG,Fp:Tbe,lowS:!1},D3e),HC({...yG,Fp:Abe,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},L3e);const Ibe=Pbe,wG="base10",ki="base16",rs="base64pad",Ju="base64url",wm="utf8",xG=0,Xl=1,xm=2,Rbe=0,EF=1,Cv=12,aT=32;function Mbe(){const t=VC.utils.randomPrivateKey(),e=VC.getPublicKey(t);return{privateKey:cs(t,ki),publicKey:cs(e,ki)}}function YC(){const t=kp(aT);return cs(t,ki)}function Obe(t,e){const n=VC.getSharedSecret(fa(t,ki),fa(e,ki)),i=z5e(mx,n,void 0,void 0,aT);return cs(i,ki)}function Jy(t){const e=mx(fa(t,ki));return cs(e,ki)}function oa(t){const e=mx(fa(t,wm));return cs(e,ki)}function bG(t){return fa(`${t}`,wG)}function Dd(t){return Number(cs(t,wG))}function CG(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function EG(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function Fbe(t){const e=bG(typeof t.type<"u"?t.type:xG);if(Dd(e)===Xl&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?fa(t.senderPublicKey,ki):void 0,i=typeof t.iv<"u"?fa(t.iv,ki):kp(Cv),f=fa(t.symKey,ki),b=tG(f,i).encrypt(fa(t.message,wm)),s=SG({type:e,sealed:b,iv:i,senderPublicKey:n});return t.encoding===Ju?CG(s):s}function $be(t){const e=fa(t.symKey,ki),{sealed:n,iv:i}=$g({encoded:t.encoded,encoding:t.encoding}),f=tG(e,i).decrypt(n);if(f===null)throw new Error("Failed to decrypt");return cs(f,wm)}function Lbe(t,e){const n=bG(xm),i=kp(Cv),f=fa(t,wm),b=SG({type:n,sealed:f,iv:i});return e===Ju?CG(b):b}function Dbe(t,e){const{sealed:n}=$g({encoded:t,encoding:e});return cs(n,wm)}function SG(t){if(Dd(t.type)===xm)return cs(yv([t.type,t.sealed]),rs);if(Dd(t.type)===Xl){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return cs(yv([t.type,t.senderPublicKey,t.iv,t.sealed]),rs)}return cs(yv([t.type,t.iv,t.sealed]),rs)}function $g(t){const e=(t.encoding||rs)===Ju?EG(t.encoded):t.encoded,n=fa(e,rs),i=n.slice(Rbe,EF),f=EF;if(Dd(i)===Xl){const r=f+aT,o=r+Cv,v=n.slice(f,r),c=n.slice(r,o),u=n.slice(o);return{type:i,sealed:u,iv:c,senderPublicKey:v}}if(Dd(i)===xm){const r=n.slice(f),o=kp(Cv);return{type:i,sealed:r,iv:o}}const b=f+Cv,s=n.slice(f,b),y=n.slice(b);return{type:i,sealed:y,iv:s}}function Nbe(t,e){const n=$g({encoded:t,encoding:e?.encoding});return TG({type:Dd(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?cs(n.senderPublicKey,ki):void 0,receiverPublicKey:e?.receiverPublicKey})}function TG(t){const e=t?.type||xG;if(e===Xl){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function SF(t){return t.type===Xl&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function TF(t){return t.type===xm}function kbe(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return yv([new Uint8Array([4]),e,n])}function Bbe(t,e){const[n,i,f]=t.split("."),b=Buffer.from(EG(f),"base64");if(b.length!==64)throw new Error("Invalid signature length");const s=b.slice(0,32),y=b.slice(32,64),r=`${n}.${i}`,o=mx(r),v=kbe(e);if(!Ibe.verify(yv([s,y]),o,v))throw new Error("Invalid signature");return $C(t).payload}const Ube="irn";function K2(t){return t?.relay||{protocol:Ube}}function Mf(t){const e=bxe[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function jbe(t,e="-"){const n={},i="relay"+e;return Object.keys(t).forEach(f=>{if(f.startsWith(i)){const b=f.replace(i,""),s=t[f];n[b]=s}}),n}function AF(t){if(!t.includes("wc:")){const o=NW(t);o!=null&&o.includes("wc:")&&(t=o)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,i=t.substring(0,e),f=t.substring(e+1,n).split("@"),b=typeof n<"u"?t.substring(n):"",s=new URLSearchParams(b),y={};s.forEach((o,v)=>{y[v]=o});const r=typeof y.methods=="string"?y.methods.split(","):void 0;return{protocol:i,topic:zbe(f[0]),version:parseInt(f[1],10),symKey:y.symKey,relay:jbe(y),methods:r,expiryTimestamp:y.expiryTimestamp?parseInt(y.expiryTimestamp,10):void 0}}function zbe(t){return t.startsWith("//")?t.substring(2):t}function Wbe(t,e="-"){const n="relay",i={};return Object.keys(t).forEach(f=>{const b=f,s=n+e+b;t[b]&&(i[s]=t[b])}),i}function PF(t){const e=new URLSearchParams,n=Wbe(t.relay);Object.keys(n).sort().forEach(f=>{e.set(f,n[f])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const i=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${i}`}function gy(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var Gbe=Object.defineProperty,Vbe=Object.defineProperties,Hbe=Object.getOwnPropertyDescriptors,IF=Object.getOwnPropertySymbols,Ybe=Object.prototype.hasOwnProperty,Xbe=Object.prototype.propertyIsEnumerable,RF=(t,e,n)=>e in t?Gbe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Kbe=(t,e)=>{for(var n in e||(e={}))Ybe.call(e,n)&&RF(t,n,e[n]);if(IF)for(var n of IF(e))Xbe.call(e,n)&&RF(t,n,e[n]);return t},Zbe=(t,e)=>Vbe(t,Hbe(e));function Up(t){const e=[];return t.forEach(n=>{const[i,f]=n.split(":");e.push(`${i}:${f}`)}),e}function Jbe(t){const e=[];return Object.values(t).forEach(n=>{e.push(...Up(n.accounts))}),e}function Qbe(t,e){const n=[];return Object.values(t).forEach(i=>{Up(i.accounts).includes(e)&&n.push(...i.methods)}),n}function _be(t,e){const n=[];return Object.values(t).forEach(i=>{Up(i.accounts).includes(e)&&n.push(...i.events)}),n}function bx(t){return t.includes(":")}function Of(t){return bx(t)?t.split(":")[0]:t}function MF(t){var e,n,i;const f={};if(!Qo(t))return f;for(const[b,s]of Object.entries(t)){const y=bx(b)?[b]:s.chains,r=s.methods||[],o=s.events||[],v=Of(b);f[v]=Zbe(Kbe({},f[v]),{chains:Jo(y,(e=f[v])==null?void 0:e.chains),methods:Jo(r,(n=f[v])==null?void 0:n.methods),events:Jo(o,(i=f[v])==null?void 0:i.events)})}return f}function qbe(t){const e={};return t?.forEach(n=>{var i;const[f,b]=n.split(":");e[f]||(e[f]={accounts:[],chains:[],events:[],methods:[]}),e[f].accounts.push(n),(i=e[f].chains)==null||i.push(`${f}:${b}`)}),e}function OF(t,e){e=e.map(i=>i.replace("did:pkh:",""));const n=qbe(e);for(const[i,f]of Object.entries(n))f.methods?f.methods=Jo(f.methods,t):f.methods=t,f.events=["chainChanged","accountsChanged"];return n}function e4e(t,e){var n,i,f,b,s,y;const r=MF(t),o=MF(e),v={},c=Object.keys(r).concat(Object.keys(o));for(const u of c)v[u]={chains:Jo((n=r[u])==null?void 0:n.chains,(i=o[u])==null?void 0:i.chains),methods:Jo((f=r[u])==null?void 0:f.methods,(b=o[u])==null?void 0:b.methods),events:Jo((s=r[u])==null?void 0:s.events,(y=o[u])==null?void 0:y.events)};return v}const t4e={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},n4e={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function _e(t,e){const{message:n,code:i}=n4e[t];return{message:e?`${n} ${e}`:n,code:i}}function Un(t,e){const{message:n,code:i}=t4e[t];return{message:e?`${n} ${e}`:n,code:i}}function pa(t,e){return!!Array.isArray(t)}function Qo(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Or(t){return typeof t>"u"}function xr(t,e){return e&&Or(t)?!0:typeof t=="string"&&!!t.trim().length}function oT(t,e){return e&&Or(t)?!0:typeof t=="number"&&!isNaN(t)}function r4e(t,e){const{requiredNamespaces:n}=e,i=Object.keys(t.namespaces),f=Object.keys(n);let b=!0;return ad(f,i)?(i.forEach(s=>{const{accounts:y,methods:r,events:o}=t.namespaces[s],v=Up(y),c=n[s];(!ad(OW(s,c),v)||!ad(c.methods,r)||!ad(c.events,o))&&(b=!1)}),b):!1}function Z2(t){return xr(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function i4e(t){if(xr(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&Z2(n)}}return!1}function s4e(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(xr(t,!1)){if(e(t))return!0;const n=NW(t);return e(n)}}catch{}return!1}function a4e(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function o4e(t){return t?.topic}function l4e(t,e){let n=null;return xr(t?.publicKey,!1)||(n=_e("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function FF(t){let e=!0;return pa(t)?t.length&&(e=t.every(n=>xr(n,!1))):e=!1,e}function u4e(t,e,n){let i=null;return pa(e)&&e.length?e.forEach(f=>{i||Z2(f)||(i=Un("UNSUPPORTED_CHAINS",`${n}, chain ${f} should be a string and conform to "namespace:chainId" format`))}):Z2(t)||(i=Un("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),i}function c4e(t,e,n){let i=null;return Object.entries(t).forEach(([f,b])=>{if(i)return;const s=u4e(f,OW(f,b),`${e} ${n}`);s&&(i=s)}),i}function d4e(t,e){let n=null;return pa(t)?t.forEach(i=>{n||i4e(i)||(n=Un("UNSUPPORTED_ACCOUNTS",`${e}, account ${i} should be a string and conform to "namespace:chainId:address" format`))}):n=Un("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function h4e(t,e){let n=null;return Object.values(t).forEach(i=>{if(n)return;const f=d4e(i?.accounts,`${e} namespace`);f&&(n=f)}),n}function f4e(t,e){let n=null;return FF(t?.methods)?FF(t?.events)||(n=Un("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=Un("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function AG(t,e){let n=null;return Object.values(t).forEach(i=>{if(n)return;const f=f4e(i,`${e}, namespace`);f&&(n=f)}),n}function p4e(t,e,n){let i=null;if(t&&Qo(t)){const f=AG(t,e);f&&(i=f);const b=c4e(t,e,n);b&&(i=b)}else i=_e("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return i}function K4(t,e){let n=null;if(t&&Qo(t)){const i=AG(t,e);i&&(n=i);const f=h4e(t,e);f&&(n=f)}else n=_e("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function PG(t){return xr(t.protocol,!0)}function v4e(t,e){let n=!1;return t?t&&pa(t)&&t.length&&t.forEach(i=>{n=PG(i)}):n=!0,n}function g4e(t){return typeof t=="number"}function qi(t){return typeof t<"u"&&typeof t!==null}function m4e(t){return!(!t||typeof t!="object"||!t.code||!oT(t.code,!1)||!t.message||!xr(t.message,!1))}function y4e(t){return!(Or(t)||!xr(t.method,!1))}function w4e(t){return!(Or(t)||Or(t.result)&&Or(t.error)||!oT(t.id,!1)||!xr(t.jsonrpc,!1))}function x4e(t){return!(Or(t)||!xr(t.name,!1))}function $F(t,e){return!(!Z2(e)||!Jbe(t).includes(e))}function b4e(t,e,n){return xr(n,!1)?Qbe(t,e).includes(n):!1}function C4e(t,e,n){return xr(n,!1)?_be(t,e).includes(n):!1}function LF(t,e,n){let i=null;const f=E4e(t),b=S4e(e),s=Object.keys(f),y=Object.keys(b),r=DF(Object.keys(t)),o=DF(Object.keys(e)),v=r.filter(c=>!o.includes(c));return v.length&&(i=_e("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${v.toString()}
      Received: ${Object.keys(e).toString()}`)),ad(s,y)||(i=_e("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${s.toString()}
      Approved: ${y.toString()}`)),Object.keys(e).forEach(c=>{if(!c.includes(":")||i)return;const u=Up(e[c].accounts);u.includes(c)||(i=_e("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${c}
        Required: ${c}
        Approved: ${u.toString()}`))}),s.forEach(c=>{i||(ad(f[c].methods,b[c].methods)?ad(f[c].events,b[c].events)||(i=_e("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${c}`)):i=_e("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${c}`))}),i}function E4e(t){const e={};return Object.keys(t).forEach(n=>{var i;n.includes(":")?e[n]=t[n]:(i=t[n].chains)==null||i.forEach(f=>{e[f]={methods:t[n].methods,events:t[n].events}})}),e}function DF(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function S4e(t){const e={};return Object.keys(t).forEach(n=>{n.includes(":")?e[n]=t[n]:Up(t[n].accounts)?.forEach(f=>{e[f]={accounts:t[n].accounts.filter(b=>b.includes(`${f}:`)),methods:t[n].methods,events:t[n].events}})}),e}function T4e(t,e){return oT(t,!1)&&t<=e.max&&t>=e.min}function NF(){const t=mm();return new Promise(e=>{switch(t){case ks.browser:e(A4e());break;case ks.reactNative:e(P4e());break;case ks.node:e(I4e());break;default:e(!0)}})}function A4e(){return Np()&&navigator?.onLine}async function P4e(){return vc()&&typeof global<"u"&&global!=null&&global.NetInfo?(await(global==null?void 0:global.NetInfo.fetch()))?.isConnected:!0}function I4e(){return!0}function R4e(t){switch(mm()){case ks.browser:M4e(t);break;case ks.reactNative:O4e(t);break}}function M4e(t){!vc()&&Np()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function O4e(t){vc()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>t(e?.isConnected))}function F4e(){var t;return Np()&&tu.getDocument()?((t=tu.getDocument())==null?void 0:t.visibilityState)==="visible":!0}const Z4={};let k0=class{static get(e){return Z4[e]}static set(e,n){Z4[e]=n}static delete(e){delete Z4[e]}};function $4e(t){const e=pm.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function L4e({publicKey:t,signature:e,payload:n}){var i;const f=XC(n.method),b=128|parseInt(((i=n.version)==null?void 0:i.toString())||"4"),s=k4e(n.address),y=n.era==="00"?new Uint8Array([0]):XC(n.era);if(y.length!==1&&y.length!==2)throw new Error("Invalid era length");const r=parseInt(n.nonce,16),o=new Uint8Array([r&255,r>>8&255]),v=BigInt(`0x${N4e(n.tip)}`),c=U4e(v),u=new Uint8Array([0,...t,s,...e,...y,...o,...c,...f]),l=B4e(u.length+1);return new Uint8Array([...l,b,...u])}function D4e(t){const e=XC(t),n=Txe.blake2b(e,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function XC(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function N4e(t){return t.startsWith("0x")?t.slice(2):t}function k4e(t){const e=pm.decode(t)[0];return e===42?0:e===60?2:1}function B4e(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function U4e(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function j4e(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),n=$4e(t.transaction.address),i=L4e({publicKey:n,signature:e,payload:t.transaction}),f=Buffer.from(i).toString("hex");return D4e(f)}class qd{}let z4e=class extends qd{constructor(e){super()}};const kF=qe.FIVE_SECONDS,eh={pulse:"heartbeat_pulse"};let W4e=class IG extends z4e{constructor(e){super(e),this.events=new Vs.EventEmitter,this.interval=kF,this.interval=e?.interval||kF}static async init(e){const n=new IG(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),qe.toMiliseconds(this.interval))}pulse(){this.events.emit(eh.pulse)}};function G4e(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function Hr(t,...e){try{return G4e(t(...e))}catch(n){return Promise.reject(n)}}function V4e(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function H4e(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function Qy(t){if(V4e(t))return String(t);if(H4e(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return Qy(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const KC="base64:";function Y4e(t){return typeof t=="string"?t:KC+Z4e(t)}function X4e(t){return typeof t!="string"||!t.startsWith(KC)?t:K4e(t.slice(KC.length))}function K4e(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function Z4e(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function _i(t){return t&&t.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function J4e(...t){return _i(t.join(":"))}function my(t){return t=_i(t),t?t+":":""}function Q4e(t,e){if(e===void 0)return!0;let n=0,i=t.indexOf(":");for(;i>-1;)n++,i=t.indexOf(":",i+1);return n<=e}function _4e(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const q4e="memory",e6e=()=>{const t=new Map;return{name:q4e,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function t6e(t={}){const e={mounts:{"":t.driver||e6e()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=o=>{for(const v of e.mountpoints)if(o.startsWith(v))return{base:v,relativeKey:o.slice(v.length),driver:e.mounts[v]};return{base:"",relativeKey:o,driver:e.mounts[""]}},i=(o,v)=>e.mountpoints.filter(c=>c.startsWith(o)||v&&o.startsWith(c)).map(c=>({relativeBase:o.length>c.length?o.slice(c.length):void 0,mountpoint:c,driver:e.mounts[c]})),f=(o,v)=>{if(e.watching){v=_i(v);for(const c of e.watchListeners)c(o,v)}},b=async()=>{if(!e.watching){e.watching=!0;for(const o in e.mounts)e.unwatch[o]=await BF(e.mounts[o],f,o)}},s=async()=>{if(e.watching){for(const o in e.unwatch)await e.unwatch[o]();e.unwatch={},e.watching=!1}},y=(o,v,c)=>{const u=new Map,l=a=>{let d=u.get(a.base);return d||(d={driver:a.driver,base:a.base,items:[]},u.set(a.base,d)),d};for(const a of o){const d=typeof a=="string",p=_i(d?a:a.key),h=d?void 0:a.value,g=d||!a.options?v:{...v,...a.options},m=n(p);l(m).items.push({key:p,value:h,relativeKey:m.relativeKey,options:g})}return Promise.all([...u.values()].map(a=>c(a))).then(a=>a.flat())},r={hasItem(o,v={}){o=_i(o);const{relativeKey:c,driver:u}=n(o);return Hr(u.hasItem,c,v)},getItem(o,v={}){o=_i(o);const{relativeKey:c,driver:u}=n(o);return Hr(u.getItem,c,v).then(l=>nv(l))},getItems(o,v={}){return y(o,v,c=>c.driver.getItems?Hr(c.driver.getItems,c.items.map(u=>({key:u.relativeKey,options:u.options})),v).then(u=>u.map(l=>({key:J4e(c.base,l.key),value:nv(l.value)}))):Promise.all(c.items.map(u=>Hr(c.driver.getItem,u.relativeKey,u.options).then(l=>({key:u.key,value:nv(l)})))))},getItemRaw(o,v={}){o=_i(o);const{relativeKey:c,driver:u}=n(o);return u.getItemRaw?Hr(u.getItemRaw,c,v):Hr(u.getItem,c,v).then(l=>X4e(l))},async setItem(o,v,c={}){if(v===void 0)return r.removeItem(o);o=_i(o);const{relativeKey:u,driver:l}=n(o);l.setItem&&(await Hr(l.setItem,u,Qy(v),c),l.watch||f("update",o))},async setItems(o,v){await y(o,v,async c=>{if(c.driver.setItems)return Hr(c.driver.setItems,c.items.map(u=>({key:u.relativeKey,value:Qy(u.value),options:u.options})),v);c.driver.setItem&&await Promise.all(c.items.map(u=>Hr(c.driver.setItem,u.relativeKey,Qy(u.value),u.options)))})},async setItemRaw(o,v,c={}){if(v===void 0)return r.removeItem(o,c);o=_i(o);const{relativeKey:u,driver:l}=n(o);if(l.setItemRaw)await Hr(l.setItemRaw,u,v,c);else if(l.setItem)await Hr(l.setItem,u,Y4e(v),c);else return;l.watch||f("update",o)},async removeItem(o,v={}){typeof v=="boolean"&&(v={removeMeta:v}),o=_i(o);const{relativeKey:c,driver:u}=n(o);u.removeItem&&(await Hr(u.removeItem,c,v),(v.removeMeta||v.removeMata)&&await Hr(u.removeItem,c+"$",v),u.watch||f("remove",o))},async getMeta(o,v={}){typeof v=="boolean"&&(v={nativeOnly:v}),o=_i(o);const{relativeKey:c,driver:u}=n(o),l=Object.create(null);if(u.getMeta&&Object.assign(l,await Hr(u.getMeta,c,v)),!v.nativeOnly){const a=await Hr(u.getItem,c+"$",v).then(d=>nv(d));a&&typeof a=="object"&&(typeof a.atime=="string"&&(a.atime=new Date(a.atime)),typeof a.mtime=="string"&&(a.mtime=new Date(a.mtime)),Object.assign(l,a))}return l},setMeta(o,v,c={}){return this.setItem(o+"$",v,c)},removeMeta(o,v={}){return this.removeItem(o+"$",v)},async getKeys(o,v={}){o=my(o);const c=i(o,!0);let u=[];const l=[];let a=!0;for(const p of c){p.driver.flags?.maxDepth||(a=!1);const h=await Hr(p.driver.getKeys,p.relativeBase,v);for(const g of h){const m=p.mountpoint+_i(g);u.some(x=>m.startsWith(x))||l.push(m)}u=[p.mountpoint,...u.filter(g=>!g.startsWith(p.mountpoint))]}const d=v.maxDepth!==void 0&&!a;return l.filter(p=>(!d||Q4e(p,v.maxDepth))&&_4e(p,o))},async clear(o,v={}){o=my(o),await Promise.all(i(o,!1).map(async c=>{if(c.driver.clear)return Hr(c.driver.clear,c.relativeBase,v);if(c.driver.removeItem){const u=await c.driver.getKeys(c.relativeBase||"",v);return Promise.all(u.map(l=>c.driver.removeItem(l,v)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(o=>UF(o)))},async watch(o){return await b(),e.watchListeners.push(o),async()=>{e.watchListeners=e.watchListeners.filter(v=>v!==o),e.watchListeners.length===0&&await s()}},async unwatch(){e.watchListeners=[],await s()},mount(o,v){if(o=my(o),o&&e.mounts[o])throw new Error(`already mounted at ${o}`);return o&&(e.mountpoints.push(o),e.mountpoints.sort((c,u)=>u.length-c.length)),e.mounts[o]=v,e.watching&&Promise.resolve(BF(v,f,o)).then(c=>{e.unwatch[o]=c}).catch(console.error),r},async unmount(o,v=!0){o=my(o),!(!o||!e.mounts[o])&&(e.watching&&o in e.unwatch&&(e.unwatch[o]?.(),delete e.unwatch[o]),v&&await UF(e.mounts[o]),e.mountpoints=e.mountpoints.filter(c=>c!==o),delete e.mounts[o])},getMount(o=""){o=_i(o)+":";const v=n(o);return{driver:v.driver,base:v.base}},getMounts(o="",v={}){return o=_i(o),i(o,v.parents).map(u=>({driver:u.driver,base:u.mountpoint}))},keys:(o,v={})=>r.getKeys(o,v),get:(o,v={})=>r.getItem(o,v),set:(o,v,c={})=>r.setItem(o,v,c),has:(o,v={})=>r.hasItem(o,v),del:(o,v={})=>r.removeItem(o,v),remove:(o,v={})=>r.removeItem(o,v)};return r}function BF(t,e,n){return t.watch?t.watch((i,f)=>e(i,n+f)):()=>{}}async function UF(t){typeof t.dispose=="function"&&await Hr(t.dispose)}function th(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function RG(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const i=th(n);return(f,b)=>i.then(s=>b(s.transaction(e,f).objectStore(e)))}let J4;function bm(){return J4||(J4=RG("keyval-store","keyval")),J4}function jF(t,e=bm()){return e("readonly",n=>th(n.get(t)))}function n6e(t,e,n=bm()){return n("readwrite",i=>(i.put(e,t),th(i.transaction)))}function r6e(t,e=bm()){return e("readwrite",n=>(n.delete(t),th(n.transaction)))}function i6e(t=bm()){return t("readwrite",e=>(e.clear(),th(e.transaction)))}function s6e(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},th(t.transaction)}function a6e(t=bm()){return t("readonly",e=>{if(e.getAllKeys)return th(e.getAllKeys());const n=[];return s6e(e,i=>n.push(i.key)).then(()=>n)})}const o6e="idb-keyval";var l6e=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=f=>e+f;let i;return t.dbName&&t.storeName&&(i=RG(t.dbName,t.storeName)),{name:o6e,options:t,async hasItem(f){return!(typeof await jF(n(f),i)>"u")},async getItem(f){return await jF(n(f),i)??null},setItem(f,b){return n6e(n(f),b,i)},removeItem(f){return r6e(n(f),i)},getKeys(){return a6e(i)},clear(){return i6e(i)}}};const u6e="WALLET_CONNECT_V2_INDEXED_DB",c6e="keyvaluestorage";let d6e=class{constructor(){this.indexedDb=t6e({driver:l6e({dbName:u6e,storeName:c6e})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,nu(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var Q4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_y={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,i){this[n]=String(i)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(i){n[i]=void 0,delete n[i]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof Q4<"u"&&Q4.localStorage?_y.exports=Q4.localStorage:typeof window<"u"&&window.localStorage?_y.exports=window.localStorage:_y.exports=new e})();function h6e(t){var e;return[t[0],$d((e=t[1])!=null?e:"")]}let f6e=class{constructor(){this.localStorage=_y.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(h6e)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return $d(n)}async setItem(e,n){this.localStorage.setItem(e,nu(n))}async removeItem(e){this.localStorage.removeItem(e)}};const p6e="wc_storage_version",zF=1,v6e=async(t,e,n)=>{const i=p6e,f=await e.getItem(i);if(f&&f>=zF){n(e);return}const b=await t.getKeys();if(!b.length){n(e);return}const s=[];for(;b.length;){const y=b.shift();if(!y)continue;const r=y.toLowerCase();if(r.includes("wc@")||r.includes("walletconnect")||r.includes("wc_")||r.includes("wallet_connect")){const o=await t.getItem(y);await e.setItem(y,o),s.push(y)}}await e.setItem(i,zF),n(e),g6e(t,s)},g6e=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let m6e=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new f6e;this.storage=e;try{const n=new d6e;v6e(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};var _4,WF;function y6e(){if(WF)return _4;WF=1;function t(n){try{return JSON.stringify(n)}catch{return'"[Circular]"'}}_4=e;function e(n,i,f){var b=f&&f.stringify||t,s=1;if(typeof n=="object"&&n!==null){var y=i.length+s;if(y===1)return n;var r=new Array(y);r[0]=b(n);for(var o=1;o<y;o++)r[o]=b(i[o]);return r.join(" ")}if(typeof n!="string")return n;var v=i.length;if(v===0)return n;for(var c="",u=1-s,l=-1,a=n&&n.length||0,d=0;d<a;){if(n.charCodeAt(d)===37&&d+1<a){switch(l=l>-1?l:0,n.charCodeAt(d+1)){case 100:case 102:if(u>=v||i[u]==null)break;l<d&&(c+=n.slice(l,d)),c+=Number(i[u]),l=d+2,d++;break;case 105:if(u>=v||i[u]==null)break;l<d&&(c+=n.slice(l,d)),c+=Math.floor(Number(i[u])),l=d+2,d++;break;case 79:case 111:case 106:if(u>=v||i[u]===void 0)break;l<d&&(c+=n.slice(l,d));var p=typeof i[u];if(p==="string"){c+="'"+i[u]+"'",l=d+2,d++;break}if(p==="function"){c+=i[u].name||"<anonymous>",l=d+2,d++;break}c+=b(i[u]),l=d+2,d++;break;case 115:if(u>=v)break;l<d&&(c+=n.slice(l,d)),c+=String(i[u]),l=d+2,d++;break;case 37:l<d&&(c+=n.slice(l,d)),c+="%",l=d+2,d++,u--;break}++u}++d}return l===-1?n:(l<a&&(c+=n.slice(l)),c)}return _4}var q4,GF;function w6e(){if(GF)return q4;GF=1;const t=y6e();q4=f;const e=w().console||{},n={mapHttpRequest:a,mapHttpResponse:a,wrapRequestSerializer:d,wrapResponseSerializer:d,wrapErrorSerializer:d,req:a,res:a,err:u};function i(C,E){return Array.isArray(C)?C.filter(function(S){return S!=="!stdSerializers.err"}):C===!0?Object.keys(E):!1}function f(C){C=C||{},C.browser=C.browser||{};const E=C.browser.transmit;if(E&&typeof E.send!="function")throw Error("pino: transmit option must have a send function");const T=C.browser.write||e;C.browser.write&&(C.browser.asObject=!0);const S=C.serializers||{},A=i(C.browser.serialize,S);let P=C.browser.serialize;Array.isArray(C.browser.serialize)&&C.browser.serialize.indexOf("!stdSerializers.err")>-1&&(P=!1);const R=["error","fatal","warn","info","debug","trace"];typeof T=="function"&&(T.error=T.fatal=T.warn=T.info=T.debug=T.trace=T),C.enabled===!1&&(C.level="silent");const L=C.level||"info",D=Object.create(T);D.log||(D.log=p),Object.defineProperty(D,"levelVal",{get:$}),Object.defineProperty(D,"level",{get:N,set:k});const F={transmit:E,serialize:A,asObject:C.browser.asObject,levels:R,timestamp:l(C)};D.levels=f.levels,D.level=L,D.setMaxListeners=D.getMaxListeners=D.emit=D.addListener=D.on=D.prependListener=D.once=D.prependOnceListener=D.removeListener=D.removeAllListeners=D.listeners=D.listenerCount=D.eventNames=D.write=D.flush=p,D.serializers=S,D._serialize=A,D._stdErrSerialize=P,D.child=j,E&&(D._logEvent=c());function $(){return this.level==="silent"?1/0:this.levels.values[this.level]}function N(){return this._level}function k(W){if(W!=="silent"&&!this.levels.values[W])throw Error("unknown level "+W);this._level=W,b(F,D,"error","log"),b(F,D,"fatal","error"),b(F,D,"warn","error"),b(F,D,"info","log"),b(F,D,"debug","log"),b(F,D,"trace","log")}function j(W,G){if(!W)throw new Error("missing bindings for child Pino");G=G||{},A&&W.serializers&&(G.serializers=W.serializers);const K=G.serializers;if(A&&K){var z=Object.assign({},S,K),X=C.browser.serialize===!0?Object.keys(z):A;delete W.serializers,r([W],X,z,this._stdErrSerialize)}function U(Z){this._childLevel=(Z._childLevel|0)+1,this.error=o(Z,W,"error"),this.fatal=o(Z,W,"fatal"),this.warn=o(Z,W,"warn"),this.info=o(Z,W,"info"),this.debug=o(Z,W,"debug"),this.trace=o(Z,W,"trace"),z&&(this.serializers=z,this._serialize=X),E&&(this._logEvent=c([].concat(Z._logEvent.bindings,W)))}return U.prototype=this,new U(this)}return D}f.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},f.stdSerializers=n,f.stdTimeFunctions=Object.assign({},{nullTime:h,epochTime:g,unixTime:m,isoTime:x});function b(C,E,T,S){const A=Object.getPrototypeOf(E);E[T]=E.levelVal>E.levels.values[T]?p:A[T]?A[T]:e[T]||e[S]||p,s(C,E,T)}function s(C,E,T){!C.transmit&&E[T]===p||(E[T]=(function(S){return function(){const P=C.timestamp(),R=new Array(arguments.length),L=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var D=0;D<R.length;D++)R[D]=arguments[D];if(C.serialize&&!C.asObject&&r(R,this._serialize,this.serializers,this._stdErrSerialize),C.asObject?S.call(L,y(this,T,R,P)):S.apply(L,R),C.transmit){const F=C.transmit.level||E.level,$=f.levels.values[F],N=f.levels.values[T];if(N<$)return;v(this,{ts:P,methodLevel:T,methodValue:N,transmitValue:f.levels.values[C.transmit.level||E.level],send:C.transmit.send,val:E.levelVal},R)}}})(E[T]))}function y(C,E,T,S){C._serialize&&r(T,C._serialize,C.serializers,C._stdErrSerialize);const A=T.slice();let P=A[0];const R={};S&&(R.time=S),R.level=f.levels.values[E];let L=(C._childLevel|0)+1;if(L<1&&(L=1),P!==null&&typeof P=="object"){for(;L--&&typeof A[0]=="object";)Object.assign(R,A.shift());P=A.length?t(A.shift(),A):void 0}else typeof P=="string"&&(P=t(A.shift(),A));return P!==void 0&&(R.msg=P),R}function r(C,E,T,S){for(const A in C)if(S&&C[A]instanceof Error)C[A]=f.stdSerializers.err(C[A]);else if(typeof C[A]=="object"&&!Array.isArray(C[A]))for(const P in C[A])E&&E.indexOf(P)>-1&&P in T&&(C[A][P]=T[P](C[A][P]))}function o(C,E,T){return function(){const S=new Array(1+arguments.length);S[0]=E;for(var A=1;A<S.length;A++)S[A]=arguments[A-1];return C[T].apply(this,S)}}function v(C,E,T){const S=E.send,A=E.ts,P=E.methodLevel,R=E.methodValue,L=E.val,D=C._logEvent.bindings;r(T,C._serialize||Object.keys(C.serializers),C.serializers,C._stdErrSerialize===void 0?!0:C._stdErrSerialize),C._logEvent.ts=A,C._logEvent.messages=T.filter(function(F){return D.indexOf(F)===-1}),C._logEvent.level.label=P,C._logEvent.level.value=R,S(P,C._logEvent,L),C._logEvent=c(D)}function c(C){return{ts:0,messages:[],bindings:C||[],level:{label:"",value:0}}}function u(C){const E={type:C.constructor.name,msg:C.message,stack:C.stack};for(const T in C)E[T]===void 0&&(E[T]=C[T]);return E}function l(C){return typeof C.timestamp=="function"?C.timestamp:C.timestamp===!1?h:g}function a(){return{}}function d(C){return C}function p(){}function h(){return!1}function g(){return Date.now()}function m(){return Math.round(Date.now()/1e3)}function x(){return new Date(Date.now()).toISOString()}function w(){function C(E){return typeof E<"u"&&E}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return C(self)||C(window)||C(this)||{}}}return q4}var Ef=w6e();const Cm=co(Ef),x6e={level:"info"},Em="custom_context",lT=1e3*1024;let b6e=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},VF=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new b6e(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},MG=class{constructor(e,n=lT){this.level=e??"error",this.levelValue=Ef.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new VF(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===Ef.levels.values.error?console.error(e):n===Ef.levels.values.warn?console.warn(e):n===Ef.levels.values.debug?console.debug(e):n===Ef.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(nu({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new VF(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(nu({extraMetadata:e})),new Blob(n,{type:"application/json"})}},C6e=class{constructor(e,n=lT){this.baseChunkLogger=new MG(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),i=document.createElement("a");i.href=n,i.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n)}},E6e=class{constructor(e,n=lT){this.baseChunkLogger=new MG(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var S6e=Object.defineProperty,T6e=Object.defineProperties,A6e=Object.getOwnPropertyDescriptors,HF=Object.getOwnPropertySymbols,P6e=Object.prototype.hasOwnProperty,I6e=Object.prototype.propertyIsEnumerable,YF=(t,e,n)=>e in t?S6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,J2=(t,e)=>{for(var n in e||(e={}))P6e.call(e,n)&&YF(t,n,e[n]);if(HF)for(var n of HF(e))I6e.call(e,n)&&YF(t,n,e[n]);return t},Q2=(t,e)=>T6e(t,A6e(e));function Cx(t){return Q2(J2({},t),{level:t?.level||x6e.level})}function R6e(t,e=Em){return t[e]||""}function M6e(t,e,n=Em){return t[n]=e,t}function vs(t,e=Em){let n="";return typeof t.bindings>"u"?n=R6e(t,e):n=t.bindings().context||"",n}function O6e(t,e,n=Em){const i=vs(t,n);return i.trim()?`${i}/${e}`:e}function Ui(t,e,n=Em){const i=O6e(t,e,n),f=t.child({context:i});return M6e(f,i,n)}function F6e(t){var e,n;const i=new C6e((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Cm(Q2(J2({},t.opts),{level:"trace",browser:Q2(J2({},(n=t.opts)==null?void 0:n.browser),{write:f=>i.write(f)})})),chunkLoggerController:i}}function $6e(t){var e;const n=new E6e((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Cm(Q2(J2({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function L6e(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?F6e(t):$6e(t)}var D6e=Object.defineProperty,N6e=(t,e,n)=>e in t?D6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,XF=(t,e,n)=>N6e(t,typeof e!="symbol"?e+"":e,n);let k6e=class extends qd{constructor(e){super(),this.opts=e,XF(this,"protocol","wc"),XF(this,"version",2)}};var B6e=Object.defineProperty,U6e=(t,e,n)=>e in t?B6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,j6e=(t,e,n)=>U6e(t,e+"",n);let z6e=class extends qd{constructor(e,n){super(),this.core=e,this.logger=n,j6e(this,"records",new Map)}},W6e=class{constructor(e,n){this.logger=e,this.core=n}},G6e=class extends qd{constructor(e,n){super(),this.relayer=e,this.logger=n}},V6e=class extends qd{constructor(e){super()}},H6e=class{constructor(e,n,i,f){this.core=e,this.logger=n,this.name=i}},Y6e=class extends qd{constructor(e,n){super(),this.relayer=e,this.logger=n}},X6e=class extends qd{constructor(e,n){super(),this.core=e,this.logger=n}},K6e=class{constructor(e,n,i){this.core=e,this.logger=n,this.store=i}},Z6e=class{constructor(e,n){this.projectId=e,this.logger=n}},J6e=class{constructor(e,n,i){this.core=e,this.logger=n,this.telemetryEnabled=i}};var Q6e=Object.defineProperty,_6e=(t,e,n)=>e in t?Q6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,KF=(t,e,n)=>_6e(t,typeof e!="symbol"?e+"":e,n);let q6e=class{constructor(e){this.opts=e,KF(this,"protocol","wc"),KF(this,"version",2)}},e8e=class{constructor(e){this.client=e}};const t8e="PARSE_ERROR",n8e="INVALID_REQUEST",r8e="METHOD_NOT_FOUND",i8e="INVALID_PARAMS",OG="INTERNAL_ERROR",uT="SERVER_ERROR",s8e=[-32700,-32600,-32601,-32602,-32603],Ev={[t8e]:{code:-32700,message:"Parse error"},[n8e]:{code:-32600,message:"Invalid Request"},[r8e]:{code:-32601,message:"Method not found"},[i8e]:{code:-32602,message:"Invalid params"},[OG]:{code:-32603,message:"Internal error"},[uT]:{code:-32e3,message:"Server error"}},FG=uT;function a8e(t){return s8e.includes(t)}function ZF(t){return Object.keys(Ev).includes(t)?Ev[t]:Ev[FG]}function o8e(t){const e=Object.values(Ev).find(n=>n.code===t);return e||Ev[FG]}function $G(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var e6={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ZC=function(t,e){return ZC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var f in i)i.hasOwnProperty(f)&&(n[f]=i[f])},ZC(t,e)};function l8e(t,e){ZC(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var JC=function(){return JC=Object.assign||function(e){for(var n,i=1,f=arguments.length;i<f;i++){n=arguments[i];for(var b in n)Object.prototype.hasOwnProperty.call(n,b)&&(e[b]=n[b])}return e},JC.apply(this,arguments)};function u8e(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,i=Object.getOwnPropertySymbols(t);f<i.length;f++)e.indexOf(i[f])<0&&Object.prototype.propertyIsEnumerable.call(t,i[f])&&(n[i[f]]=t[i[f]]);return n}function c8e(t,e,n,i){var f=arguments.length,b=f<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(t,e,n,i);else for(var y=t.length-1;y>=0;y--)(s=t[y])&&(b=(f<3?s(b):f>3?s(e,n,b):s(e,n))||b);return f>3&&b&&Object.defineProperty(e,n,b),b}function d8e(t,e){return function(n,i){e(n,i,t)}}function h8e(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function f8e(t,e,n,i){function f(b){return b instanceof n?b:new n(function(s){s(b)})}return new(n||(n=Promise))(function(b,s){function y(v){try{o(i.next(v))}catch(c){s(c)}}function r(v){try{o(i.throw(v))}catch(c){s(c)}}function o(v){v.done?b(v.value):f(v.value).then(y,r)}o((i=i.apply(t,e||[])).next())})}function p8e(t,e){var n={label:0,sent:function(){if(b[0]&1)throw b[1];return b[1]},trys:[],ops:[]},i,f,b,s;return s={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function y(o){return function(v){return r([o,v])}}function r(o){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,f&&(b=o[0]&2?f.return:o[0]?f.throw||((b=f.return)&&b.call(f),0):f.next)&&!(b=b.call(f,o[1])).done)return b;switch(f=0,b&&(o=[o[0]&2,b.value]),o[0]){case 0:case 1:b=o;break;case 4:return n.label++,{value:o[1],done:!1};case 5:n.label++,f=o[1],o=[0];continue;case 7:o=n.ops.pop(),n.trys.pop();continue;default:if(b=n.trys,!(b=b.length>0&&b[b.length-1])&&(o[0]===6||o[0]===2)){n=0;continue}if(o[0]===3&&(!b||o[1]>b[0]&&o[1]<b[3])){n.label=o[1];break}if(o[0]===6&&n.label<b[1]){n.label=b[1],b=o;break}if(b&&n.label<b[2]){n.label=b[2],n.ops.push(o);break}b[2]&&n.ops.pop(),n.trys.pop();continue}o=e.call(t,n)}catch(v){o=[6,v],f=0}finally{i=b=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function v8e(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]}function g8e(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function QC(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function LG(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var i=n.call(t),f,b=[],s;try{for(;(e===void 0||e-- >0)&&!(f=i.next()).done;)b.push(f.value)}catch(y){s={error:y}}finally{try{f&&!f.done&&(n=i.return)&&n.call(i)}finally{if(s)throw s.error}}return b}function m8e(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(LG(arguments[e]));return t}function y8e(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),f=0,e=0;e<n;e++)for(var b=arguments[e],s=0,y=b.length;s<y;s++,f++)i[f]=b[s];return i}function Lg(t){return this instanceof Lg?(this.v=t,this):new Lg(t)}function w8e(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),f,b=[];return f={},s("next"),s("throw"),s("return"),f[Symbol.asyncIterator]=function(){return this},f;function s(u){i[u]&&(f[u]=function(l){return new Promise(function(a,d){b.push([u,l,a,d])>1||y(u,l)})})}function y(u,l){try{r(i[u](l))}catch(a){c(b[0][3],a)}}function r(u){u.value instanceof Lg?Promise.resolve(u.value.v).then(o,v):c(b[0][2],u)}function o(u){y("next",u)}function v(u){y("throw",u)}function c(u,l){u(l),b.shift(),b.length&&y(b[0][0],b[0][1])}}function x8e(t){var e,n;return e={},i("next"),i("throw",function(f){throw f}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(f,b){e[f]=t[f]?function(s){return(n=!n)?{value:Lg(t[f](s)),done:f==="return"}:b?b(s):s}:b}}function b8e(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof QC=="function"?QC(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(b){n[b]=t[b]&&function(s){return new Promise(function(y,r){s=t[b](s),f(y,r,s.done,s.value)})}}function f(b,s,y,r){Promise.resolve(r).then(function(o){b({value:o,done:y})},s)}}function C8e(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function E8e(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function S8e(t){return t&&t.__esModule?t:{default:t}}function T8e(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function A8e(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const P8e=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return JC},__asyncDelegator:x8e,__asyncGenerator:w8e,__asyncValues:b8e,__await:Lg,__awaiter:f8e,__classPrivateFieldGet:T8e,__classPrivateFieldSet:A8e,__createBinding:v8e,__decorate:c8e,__exportStar:g8e,__extends:l8e,__generator:p8e,__importDefault:S8e,__importStar:E8e,__makeTemplateObject:C8e,__metadata:h8e,__param:d8e,__read:LG,__rest:u8e,__spread:m8e,__spreadArrays:y8e,__values:QC},Symbol.toStringTag,{value:"Module"})),I8e=XN(P8e);var Il={},JF;function R8e(){if(JF)return Il;JF=1,Object.defineProperty(Il,"__esModule",{value:!0}),Il.isBrowserCryptoAvailable=Il.getSubtleCrypto=Il.getBrowerCrypto=void 0;function t(){return jo?.crypto||jo?.msCrypto||{}}Il.getBrowerCrypto=t;function e(){const i=t();return i.subtle||i.webkitSubtle}Il.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return Il.isBrowserCryptoAvailable=n,Il}var Rl={},QF;function M8e(){if(QF)return Rl;QF=1,Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.isBrowser=Rl.isNode=Rl.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Rl.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Rl.isNode=e;function n(){return!t()&&!e()}return Rl.isBrowser=n,Rl}var _F;function O8e(){return _F||(_F=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=I8e;e.__exportStar(R8e(),t),e.__exportStar(M8e(),t)})(e6)),e6}var F8e=O8e();function Bo(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function qu(t=6){return BigInt(Bo(t))}function Go(t,e,n){return{id:n||Bo(),jsonrpc:"2.0",method:t,params:e}}function Dg(t,e){return{id:t,jsonrpc:"2.0",result:e}}function Ex(t,e,n){return{id:t,jsonrpc:"2.0",error:$8e(e)}}function $8e(t,e){return typeof t>"u"?ZF(OG):(typeof t=="string"&&(t=Object.assign(Object.assign({},ZF(uT)),{message:t})),a8e(t.code)&&(t=o8e(t.code)),t)}let L8e=class{},D8e=class extends L8e{constructor(){super()}},N8e=class extends D8e{constructor(e){super()}};const k8e="^https?:",B8e="^wss?:";function U8e(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function DG(t,e){const n=U8e(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function qF(t){return DG(t,k8e)}function e$(t){return DG(t,B8e)}function j8e(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function NG(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function cT(t){return NG(t)&&"method"in t}function Sx(t){return NG(t)&&(Uo(t)||la(t))}function Uo(t){return"result"in t}function la(t){return"error"in t}let Ta=class extends N8e{constructor(e){super(e),this.events=new Vs.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(Go(e.method,e.params||[],e.id||qu().toString()),n)}async requestStrict(e,n){return new Promise(async(i,f)=>{if(!this.connection.connected)try{await this.open()}catch(b){f(b)}this.events.on(`${e.id}`,b=>{la(b)?f(b.error):i(b.result)});try{await this.connection.send(e,n)}catch(b){f(b)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Sx(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const z8e=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),W8e=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",t$=t=>t.split("?")[0],n$=10,G8e=z8e();let V8e=class{constructor(e){if(this.url=e,this.events=new Vs.EventEmitter,this.registering=!1,!e$(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=i=>{this.onClose(i),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(nu(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!e$(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((i,f)=>{this.events.once("register_error",b=>{this.resetMaxListeners(),f(b)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return f(new Error("WebSocket connection is missing or invalid"));i(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,i)=>{const f=F8e.isReactNative()?void 0:{rejectUnauthorized:!j8e(e)},b=new G8e(e,[],f);W8e()?b.onerror=s=>{const y=s;i(this.emitError(y.error))}:b.on("error",s=>{i(this.emitError(s))}),b.onopen=()=>{this.onOpen(b),n(b)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?$d(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const i=this.parseError(n),f=i.message||i.toString(),b=Ex(e,f);this.events.emit("payload",b)}parseError(e,n=this.url){return $G(e,t$(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>n$&&this.events.setMaxListeners(n$)}emitError(e){const n=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${t$(this.url)}`));return this.events.emit("register_error",n),n}};var H8e={};const kG="wc",BG=2,_C="core",rl=`${kG}@2:${_C}:`,Y8e={logger:"error"},X8e={database:":memory:"},K8e="crypto",r$="client_ed25519_seed",Z8e=qe.ONE_DAY,J8e="keychain",Q8e="0.3",_8e="messages",q8e="0.3",eCe=qe.SIX_HOURS,tCe="publisher",UG="irn",nCe="error",jG="wss://relay.walletconnect.org",rCe="relayer",cr={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},iCe="_subscription",qs={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},sCe=.1,qC="2.21.7",Bn={link_mode:"link_mode",relay:"relay"},qy={inbound:"inbound",outbound:"outbound"},aCe="0.3",oCe="WALLETCONNECT_CLIENT_ID",i$="WALLETCONNECT_LINK_MODE_APPS",Os={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},lCe="subscription",uCe="0.3",cCe="pairing",dCe="0.3",B0={wc_pairingDelete:{req:{ttl:qe.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:qe.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:qe.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:qe.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:qe.ONE_DAY,prompt:!1,tag:0},res:{ttl:qe.ONE_DAY,prompt:!1,tag:0}}},_c={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Da={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},hCe="history",fCe="0.3",pCe="expirer",sa={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},vCe="0.3",gCe="verify-api",mCe="https://verify.walletconnect.com",zG="https://verify.walletconnect.org",Sv=zG,yCe=`${Sv}/v3`,wCe=[mCe,zG],xCe="echo",bCe="https://echo.walletconnect.com",No={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},$l={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},ku={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},U0={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Hc={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},j0={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},CCe=.1,ECe="event-client",SCe=86400,TCe="https://pulse.walletconnect.org/batch";function ACe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var f=0;f<t.length;f++){var b=t.charAt(f),s=b.charCodeAt(0);if(n[s]!==255)throw new TypeError(b+" is ambiguous");n[s]=f}var y=t.length,r=t.charAt(0),o=Math.log(y)/Math.log(256),v=Math.log(256)/Math.log(y);function c(a){if(a instanceof Uint8Array||(ArrayBuffer.isView(a)?a=new Uint8Array(a.buffer,a.byteOffset,a.byteLength):Array.isArray(a)&&(a=Uint8Array.from(a))),!(a instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(a.length===0)return"";for(var d=0,p=0,h=0,g=a.length;h!==g&&a[h]===0;)h++,d++;for(var m=(g-h)*v+1>>>0,x=new Uint8Array(m);h!==g;){for(var w=a[h],C=0,E=m-1;(w!==0||C<p)&&E!==-1;E--,C++)w+=256*x[E]>>>0,x[E]=w%y>>>0,w=w/y>>>0;if(w!==0)throw new Error("Non-zero carry");p=C,h++}for(var T=m-p;T!==m&&x[T]===0;)T++;for(var S=r.repeat(d);T<m;++T)S+=t.charAt(x[T]);return S}function u(a){if(typeof a!="string")throw new TypeError("Expected String");if(a.length===0)return new Uint8Array;var d=0;if(a[d]!==" "){for(var p=0,h=0;a[d]===r;)p++,d++;for(var g=(a.length-d)*o+1>>>0,m=new Uint8Array(g);a[d];){var x=n[a.charCodeAt(d)];if(x===255)return;for(var w=0,C=g-1;(x!==0||w<h)&&C!==-1;C--,w++)x+=y*m[C]>>>0,m[C]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");h=w,d++}if(a[d]!==" "){for(var E=g-h;E!==g&&m[E]===0;)E++;for(var T=new Uint8Array(p+(g-E)),S=p;E!==g;)T[S++]=m[E++];return T}}}function l(a){var d=u(a);if(d)return d;throw new Error(`Non-${e} character`)}return{encode:c,decodeUnsafe:u,decode:l}}var PCe=ACe,ICe=PCe;const WG=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},RCe=t=>new TextEncoder().encode(t),MCe=t=>new TextDecoder().decode(t);let OCe=class{constructor(e,n,i){this.name=e,this.prefix=n,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},FCe=class{constructor(e,n,i){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return GG(this,e)}},$Ce=class{constructor(e){this.decoders=e}or(e){return GG(this,e)}decode(e){const n=e[0],i=this.decoders[n];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const GG=(t,e)=>new $Ce({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let LCe=class{constructor(e,n,i,f){this.name=e,this.prefix=n,this.baseEncode=i,this.baseDecode=f,this.encoder=new OCe(e,n,i),this.decoder=new FCe(e,n,f)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const Tx=({name:t,prefix:e,encode:n,decode:i})=>new LCe(t,e,n,i),Sm=({prefix:t,name:e,alphabet:n})=>{const{encode:i,decode:f}=ICe(n,e);return Tx({prefix:t,name:e,encode:i,decode:b=>WG(f(b))})},DCe=(t,e,n,i)=>{const f={};for(let v=0;v<e.length;++v)f[e[v]]=v;let b=t.length;for(;t[b-1]==="=";)--b;const s=new Uint8Array(b*n/8|0);let y=0,r=0,o=0;for(let v=0;v<b;++v){const c=f[t[v]];if(c===void 0)throw new SyntaxError(`Non-${i} character`);r=r<<n|c,y+=n,y>=8&&(y-=8,s[o++]=255&r>>y)}if(y>=n||255&r<<8-y)throw new SyntaxError("Unexpected end of data");return s},NCe=(t,e,n)=>{const i=e[e.length-1]==="=",f=(1<<n)-1;let b="",s=0,y=0;for(let r=0;r<t.length;++r)for(y=y<<8|t[r],s+=8;s>n;)s-=n,b+=e[f&y>>s];if(s&&(b+=e[f&y<<n-s]),i)for(;b.length*n&7;)b+="=";return b},ci=({name:t,prefix:e,bitsPerChar:n,alphabet:i})=>Tx({prefix:e,name:t,encode(f){return NCe(f,i,n)},decode(f){return DCe(f,i,n,t)}}),kCe=Tx({prefix:"\0",name:"identity",encode:t=>MCe(t),decode:t=>RCe(t)});var BCe=Object.freeze({__proto__:null,identity:kCe});const UCe=ci({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var jCe=Object.freeze({__proto__:null,base2:UCe});const zCe=ci({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var WCe=Object.freeze({__proto__:null,base8:zCe});const GCe=Sm({prefix:"9",name:"base10",alphabet:"0123456789"});var VCe=Object.freeze({__proto__:null,base10:GCe});const HCe=ci({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),YCe=ci({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var XCe=Object.freeze({__proto__:null,base16:HCe,base16upper:YCe});const KCe=ci({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ZCe=ci({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),JCe=ci({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),QCe=ci({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),_Ce=ci({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),qCe=ci({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),eEe=ci({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),tEe=ci({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),nEe=ci({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var rEe=Object.freeze({__proto__:null,base32:KCe,base32upper:ZCe,base32pad:JCe,base32padupper:QCe,base32hex:_Ce,base32hexupper:qCe,base32hexpad:eEe,base32hexpadupper:tEe,base32z:nEe});const iEe=Sm({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),sEe=Sm({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var aEe=Object.freeze({__proto__:null,base36:iEe,base36upper:sEe});const oEe=Sm({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),lEe=Sm({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var uEe=Object.freeze({__proto__:null,base58btc:oEe,base58flickr:lEe});const cEe=ci({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),dEe=ci({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),hEe=ci({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),fEe=ci({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var pEe=Object.freeze({__proto__:null,base64:cEe,base64pad:dEe,base64url:hEe,base64urlpad:fEe});const VG=Array.from(""),vEe=VG.reduce((t,e,n)=>(t[n]=e,t),[]),gEe=VG.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function mEe(t){return t.reduce((e,n)=>(e+=vEe[n],e),"")}function yEe(t){const e=[];for(const n of t){const i=gEe[n.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(i)}return new Uint8Array(e)}const wEe=Tx({prefix:"",name:"base256emoji",encode:mEe,decode:yEe});var xEe=Object.freeze({__proto__:null,base256emoji:wEe}),bEe=HG,s$=128,CEe=-128,EEe=Math.pow(2,31);function HG(t,e,n){e=e||[],n=n||0;for(var i=n;t>=EEe;)e[n++]=t&255|s$,t/=128;for(;t&CEe;)e[n++]=t&255|s$,t>>>=7;return e[n]=t|0,HG.bytes=n-i+1,e}var SEe=eE,TEe=128,a$=127;function eE(t,i){var n=0,i=i||0,f=0,b=i,s,y=t.length;do{if(b>=y)throw eE.bytes=0,new RangeError("Could not decode varint");s=t[b++],n+=f<28?(s&a$)<<f:(s&a$)*Math.pow(2,f),f+=7}while(s>=TEe);return eE.bytes=b-i,n}var AEe=Math.pow(2,7),PEe=Math.pow(2,14),IEe=Math.pow(2,21),REe=Math.pow(2,28),MEe=Math.pow(2,35),OEe=Math.pow(2,42),FEe=Math.pow(2,49),$Ee=Math.pow(2,56),LEe=Math.pow(2,63),DEe=function(t){return t<AEe?1:t<PEe?2:t<IEe?3:t<REe?4:t<MEe?5:t<OEe?6:t<FEe?7:t<$Ee?8:t<LEe?9:10},NEe={encode:bEe,decode:SEe,encodingLength:DEe},YG=NEe;const o$=(t,e,n=0)=>(YG.encode(t,e,n),e),l$=t=>YG.encodingLength(t),tE=(t,e)=>{const n=e.byteLength,i=l$(t),f=i+l$(n),b=new Uint8Array(f+n);return o$(t,b,0),o$(n,b,i),b.set(e,f),new kEe(t,n,e,b)};let kEe=class{constructor(e,n,i,f){this.code=e,this.size=n,this.digest=i,this.bytes=f}};const XG=({name:t,code:e,encode:n})=>new BEe(t,e,n);let BEe=class{constructor(e,n,i){this.name=e,this.code=n,this.encode=i}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?tE(this.code,n):n.then(i=>tE(this.code,i))}else throw Error("Unknown type, must be binary type")}};const KG=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),UEe=XG({name:"sha2-256",code:18,encode:KG("SHA-256")}),jEe=XG({name:"sha2-512",code:19,encode:KG("SHA-512")});var zEe=Object.freeze({__proto__:null,sha256:UEe,sha512:jEe});const ZG=0,WEe="identity",JG=WG,GEe=t=>tE(ZG,JG(t)),VEe={code:ZG,name:WEe,encode:JG,digest:GEe};var HEe=Object.freeze({__proto__:null,identity:VEe});new TextEncoder,new TextDecoder;const u$={...BCe,...jCe,...WCe,...VCe,...XCe,...rEe,...aEe,...uEe,...pEe,...xEe};({...zEe,...HEe});function QG(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function YEe(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?QG(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function _G(t,e,n,i){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:i}}}const c$=_G("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),t6=_G("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=YEe(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),XEe={utf8:c$,"utf-8":c$,hex:u$.base16,latin1:t6,ascii:t6,binary:t6,...u$};function KEe(t,e="utf8"){const n=XEe[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?QG(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}var ZEe=Object.defineProperty,JEe=(t,e,n)=>e in t?ZEe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Oo=(t,e,n)=>JEe(t,typeof e!="symbol"?e+"":e,n);let QEe=class{constructor(e,n){this.core=e,this.logger=n,Oo(this,"keychain",new Map),Oo(this,"name",J8e),Oo(this,"version",Q8e),Oo(this,"initialized",!1),Oo(this,"storagePrefix",rl),Oo(this,"init",async()=>{if(!this.initialized){const i=await this.getKeyChain();typeof i<"u"&&(this.keychain=i),this.initialized=!0}}),Oo(this,"has",i=>(this.isInitialized(),this.keychain.has(i))),Oo(this,"set",async(i,f)=>{this.isInitialized(),this.keychain.set(i,f),await this.persist()}),Oo(this,"get",i=>{this.isInitialized();const f=this.keychain.get(i);if(typeof f>"u"){const{message:b}=_e("NO_MATCHING_KEY",`${this.name}: ${i}`);throw new Error(b)}return f}),Oo(this,"del",async i=>{this.isInitialized(),this.keychain.delete(i),await this.persist()}),this.core=e,this.logger=Ui(n,this.name)}get context(){return vs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,DC(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?NC(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=_e("NOT_INITIALIZED",this.name);throw new Error(e)}}};var _Ee=Object.defineProperty,qEe=(t,e,n)=>e in t?_Ee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ti=(t,e,n)=>qEe(t,typeof e!="symbol"?e+"":e,n);let e9e=class{constructor(e,n,i){this.core=e,this.logger=n,ti(this,"name",K8e),ti(this,"keychain"),ti(this,"randomSessionIdentifier",YC()),ti(this,"initialized",!1),ti(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),ti(this,"hasKeys",f=>(this.isInitialized(),this.keychain.has(f))),ti(this,"getClientId",async()=>{this.isInitialized();const f=await this.getClientSeed(),b=DO(f);return SW(b.publicKey)}),ti(this,"generateKeyPair",()=>{this.isInitialized();const f=Mbe();return this.setPrivateKey(f.publicKey,f.privateKey)}),ti(this,"signJWT",async f=>{this.isInitialized();const b=await this.getClientSeed(),s=DO(b),y=this.randomSessionIdentifier;return await Swe(y,f,Z8e,s)}),ti(this,"generateSharedKey",(f,b,s)=>{this.isInitialized();const y=this.getPrivateKey(f),r=Obe(y,b);return this.setSymKey(r,s)}),ti(this,"setSymKey",async(f,b)=>{this.isInitialized();const s=b||Jy(f);return await this.keychain.set(s,f),s}),ti(this,"deleteKeyPair",async f=>{this.isInitialized(),await this.keychain.del(f)}),ti(this,"deleteSymKey",async f=>{this.isInitialized(),await this.keychain.del(f)}),ti(this,"encode",async(f,b,s)=>{this.isInitialized();const y=TG(s),r=nu(b);if(TF(y))return Lbe(r,s?.encoding);if(SF(y)){const u=y.senderPublicKey,l=y.receiverPublicKey;f=await this.generateSharedKey(u,l)}const o=this.getSymKey(f),{type:v,senderPublicKey:c}=y;return Fbe({type:v,symKey:o,message:r,senderPublicKey:c,encoding:s?.encoding})}),ti(this,"decode",async(f,b,s)=>{this.isInitialized();const y=Nbe(b,s);if(TF(y)){const r=Dbe(b,s?.encoding);return $d(r)}if(SF(y)){const r=y.receiverPublicKey,o=y.senderPublicKey;f=await this.generateSharedKey(r,o)}try{const r=this.getSymKey(f),o=$be({symKey:r,encoded:b,encoding:s?.encoding});return $d(o)}catch(r){this.logger.error(`Failed to decode message from topic: '${f}', clientId: '${await this.getClientId()}'`),this.logger.error(r)}}),ti(this,"getPayloadType",(f,b=rs)=>{const s=$g({encoded:f,encoding:b});return Dd(s.type)}),ti(this,"getPayloadSenderPublicKey",(f,b=rs)=>{const s=$g({encoded:f,encoding:b});return s.senderPublicKey?cs(s.senderPublicKey,ki):void 0}),this.core=e,this.logger=Ui(n,this.name),this.keychain=i||new QEe(this.core,this.logger)}get context(){return vs(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(r$)}catch{e=YC(),await this.keychain.set(r$,e)}return KEe(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=_e("NOT_INITIALIZED",this.name);throw new Error(e)}}};var t9e=Object.defineProperty,n9e=Object.defineProperties,r9e=Object.getOwnPropertyDescriptors,d$=Object.getOwnPropertySymbols,i9e=Object.prototype.hasOwnProperty,s9e=Object.prototype.propertyIsEnumerable,nE=(t,e,n)=>e in t?t9e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,a9e=(t,e)=>{for(var n in e||(e={}))i9e.call(e,n)&&nE(t,n,e[n]);if(d$)for(var n of d$(e))s9e.call(e,n)&&nE(t,n,e[n]);return t},o9e=(t,e)=>n9e(t,r9e(e)),As=(t,e,n)=>nE(t,typeof e!="symbol"?e+"":e,n);let l9e=class extends W6e{constructor(e,n){super(e,n),this.logger=e,this.core=n,As(this,"messages",new Map),As(this,"messagesWithoutClientAck",new Map),As(this,"name",_8e),As(this,"version",q8e),As(this,"initialized",!1),As(this,"storagePrefix",rl),As(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const i=await this.getRelayerMessages();typeof i<"u"&&(this.messages=i);const f=await this.getRelayerMessagesWithoutClientAck();typeof f<"u"&&(this.messagesWithoutClientAck=f),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(i){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(i)}finally{this.initialized=!0}}}),As(this,"set",async(i,f,b)=>{this.isInitialized();const s=oa(f);let y=this.messages.get(i);if(typeof y>"u"&&(y={}),typeof y[s]<"u")return s;if(y[s]=f,this.messages.set(i,y),b===qy.inbound){const r=this.messagesWithoutClientAck.get(i)||{};this.messagesWithoutClientAck.set(i,o9e(a9e({},r),{[s]:f}))}return await this.persist(),s}),As(this,"get",i=>{this.isInitialized();let f=this.messages.get(i);return typeof f>"u"&&(f={}),f}),As(this,"getWithoutAck",i=>{this.isInitialized();const f={};for(const b of i){const s=this.messagesWithoutClientAck.get(b)||{};f[b]=Object.values(s)}return f}),As(this,"has",(i,f)=>{this.isInitialized();const b=this.get(i),s=oa(f);return typeof b[s]<"u"}),As(this,"ack",async(i,f)=>{this.isInitialized();const b=this.messagesWithoutClientAck.get(i);if(typeof b>"u")return;const s=oa(f);delete b[s],Object.keys(b).length===0?this.messagesWithoutClientAck.delete(i):this.messagesWithoutClientAck.set(i,b),await this.persist()}),As(this,"del",async i=>{this.isInitialized(),this.messages.delete(i),this.messagesWithoutClientAck.delete(i),await this.persist()}),this.logger=Ui(e,this.name),this.core=n}get context(){return vs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,DC(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,DC(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?NC(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?NC(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=_e("NOT_INITIALIZED",this.name);throw new Error(e)}}};var u9e=Object.defineProperty,c9e=Object.defineProperties,d9e=Object.getOwnPropertyDescriptors,h$=Object.getOwnPropertySymbols,h9e=Object.prototype.hasOwnProperty,f9e=Object.prototype.propertyIsEnumerable,rE=(t,e,n)=>e in t?u9e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rf=(t,e)=>{for(var n in e||(e={}))h9e.call(e,n)&&rE(t,n,e[n]);if(h$)for(var n of h$(e))f9e.call(e,n)&&rE(t,n,e[n]);return t},f$=(t,e)=>c9e(t,d9e(e)),ea=(t,e,n)=>rE(t,typeof e!="symbol"?e+"":e,n);let p9e=class extends G6e{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,ea(this,"events",new Vs.EventEmitter),ea(this,"name",tCe),ea(this,"queue",new Map),ea(this,"publishTimeout",qe.toMiliseconds(qe.ONE_MINUTE)),ea(this,"initialPublishTimeout",qe.toMiliseconds(qe.ONE_SECOND*15)),ea(this,"needsTransportRestart",!1),ea(this,"publish",async(i,f,b)=>{var s,y,r,o,v;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:i,message:f,opts:b}});const c=b?.ttl||eCe,u=b?.prompt||!1,l=b?.tag||0,a=b?.id||qu().toString(),d=Mf(K2().protocol),p={id:a,method:b?.publishMethod||d.publish,params:rf({topic:i,message:f,ttl:c,prompt:u,tag:l,attestation:b?.attestation},b?.tvf&&{tvf:b.tvf})},h=`Failed to publish payload, please try again. id:${a} tag:${l}`;try{Or((s=p.params)==null?void 0:s.prompt)&&((y=p.params)==null||delete y.prompt),Or((r=p.params)==null?void 0:r.tag)&&((o=p.params)==null||delete o.tag);const g=new Promise(async m=>{const x=({id:C})=>{var E;((E=p.id)==null?void 0:E.toString())===C.toString()&&(this.removeRequestFromQueue(C),this.relayer.events.removeListener(cr.publish,x),m())};this.relayer.events.on(cr.publish,x);const w=Ho(new Promise((C,E)=>{this.rpcPublish(p,b).then(C).catch(T=>{this.logger.warn(T,T?.message),E(T)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${a} tag:${l}`);try{await w,this.events.removeListener(cr.publish,x)}catch(C){this.queue.set(a,{request:p,opts:b,attempt:1}),this.logger.warn(C,C?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:a,topic:i,message:f,opts:b}}),await Ho(g,this.publishTimeout,h)}catch(g){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(g),(v=b?.internal)!=null&&v.throwOnFailedPublish)throw g}finally{this.queue.delete(a)}}),ea(this,"publishCustom",async i=>{var f,b,s,y,r;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:i});const{payload:o,opts:v={}}=i,{attestation:c,tvf:u,publishMethod:l,prompt:a,tag:d,ttl:p=qe.FIVE_MINUTES}=v,h=v.id||qu().toString(),g=Mf(K2().protocol),m=l||g.publish,x={id:h,method:m,params:rf(f$(rf({},o),{ttl:p,prompt:a,tag:d,attestation:c}),u)},w=`Failed to publish custom payload, please try again. id:${h} tag:${d}`;try{Or((f=x.params)==null?void 0:f.prompt)&&((b=x.params)==null||delete b.prompt),Or((s=x.params)==null?void 0:s.tag)&&((y=x.params)==null||delete y.tag);const C=new Promise(async E=>{const T=({id:A})=>{var P;((P=x.id)==null?void 0:P.toString())===A.toString()&&(this.removeRequestFromQueue(A),this.relayer.events.removeListener(cr.publish,T),E())};this.relayer.events.on(cr.publish,T);const S=Ho(new Promise((A,P)=>{this.rpcPublish(x,v).then(A).catch(R=>{this.logger.warn(R,R?.message),P(R)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${m} id:${h} tag:${d}`);try{await S,this.events.removeListener(cr.publish,T)}catch(A){this.queue.set(h,{request:x,opts:v,attempt:1}),this.logger.warn(A,A?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:h,payload:o,opts:v}}),await Ho(C,this.publishTimeout,w)}catch(C){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(C),(r=v?.internal)!=null&&r.throwOnFailedPublish)throw C}finally{this.queue.delete(h)}}),ea(this,"on",(i,f)=>{this.events.on(i,f)}),ea(this,"once",(i,f)=>{this.events.once(i,f)}),ea(this,"off",(i,f)=>{this.events.off(i,f)}),ea(this,"removeListener",(i,f)=>{this.events.removeListener(i,f)}),this.relayer=e,this.logger=Ui(n,this.name),this.registerEventListeners()}get context(){return vs(this.logger)}async rpcPublish(e,n){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const i=await this.relayer.request(e);return this.relayer.events.emit(cr.publish,rf(rf({},e),n)),this.logger.debug("Successfully Published Payload"),i}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{var i;const f=e.attempt+1;this.queue.set(n,f$(rf({},e),{attempt:f})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(i=e.request.params)==null?void 0:i.tag}, attempt: ${f}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(eh.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(cr.connection_stalled);return}this.checkQueue()}),this.relayer.on(cr.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}};var v9e=Object.defineProperty,g9e=(t,e,n)=>e in t?v9e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sf=(t,e,n)=>g9e(t,typeof e!="symbol"?e+"":e,n);let m9e=class{constructor(){sf(this,"map",new Map),sf(this,"set",(e,n)=>{const i=this.get(e);this.exists(e,n)||this.map.set(e,[...i,n])}),sf(this,"get",e=>this.map.get(e)||[]),sf(this,"exists",(e,n)=>this.get(e).includes(n)),sf(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const i=this.get(e);if(!this.exists(e,n))return;const f=i.filter(b=>b!==n);if(!f.length){this.map.delete(e);return}this.map.set(e,f)}),sf(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}};var y9e=Object.defineProperty,w9e=Object.defineProperties,x9e=Object.getOwnPropertyDescriptors,p$=Object.getOwnPropertySymbols,b9e=Object.prototype.hasOwnProperty,C9e=Object.prototype.propertyIsEnumerable,iE=(t,e,n)=>e in t?y9e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,z0=(t,e)=>{for(var n in e||(e={}))b9e.call(e,n)&&iE(t,n,e[n]);if(p$)for(var n of p$(e))C9e.call(e,n)&&iE(t,n,e[n]);return t},n6=(t,e)=>w9e(t,x9e(e)),En=(t,e,n)=>iE(t,typeof e!="symbol"?e+"":e,n);let E9e=class extends Y6e{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,En(this,"subscriptions",new Map),En(this,"topicMap",new m9e),En(this,"events",new Vs.EventEmitter),En(this,"name",lCe),En(this,"version",uCe),En(this,"pending",new Map),En(this,"cached",[]),En(this,"initialized",!1),En(this,"storagePrefix",rl),En(this,"subscribeTimeout",qe.toMiliseconds(qe.ONE_MINUTE)),En(this,"initialSubscribeTimeout",qe.toMiliseconds(qe.ONE_SECOND*15)),En(this,"clientId"),En(this,"batchSubscribeTopicsLimit",500),En(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),En(this,"subscribe",async(i,f)=>{var b;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:f}});try{const s=K2(f),y={topic:i,relay:s,transportType:f?.transportType};(b=f?.internal)!=null&&b.skipSubscribe||this.pending.set(i,y);const r=await this.rpcSubscribe(i,s,f);return typeof r=="string"&&(this.onSubscribe(r,y),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:f}})),r}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}}),En(this,"unsubscribe",async(i,f)=>{this.isInitialized(),typeof f?.id<"u"?await this.unsubscribeById(i,f.id,f):await this.unsubscribeByTopic(i,f)}),En(this,"isSubscribed",i=>new Promise(f=>{f(this.topicMap.topics.includes(i))})),En(this,"isKnownTopic",i=>new Promise(f=>{f(this.topicMap.topics.includes(i)||this.pending.has(i)||this.cached.some(b=>b.topic===i))})),En(this,"on",(i,f)=>{this.events.on(i,f)}),En(this,"once",(i,f)=>{this.events.once(i,f)}),En(this,"off",(i,f)=>{this.events.off(i,f)}),En(this,"removeListener",(i,f)=>{this.events.removeListener(i,f)}),En(this,"start",async()=>{await this.onConnect()}),En(this,"stop",async()=>{await this.onDisconnect()}),En(this,"restart",async()=>{await this.restore(),await this.onRestart()}),En(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const i=[];this.pending.forEach(f=>{i.push(f)}),await this.batchSubscribe(i)}),En(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(eh.pulse,async()=>{await this.checkPending()}),this.events.on(Os.created,async i=>{const f=Os.created;this.logger.info(`Emitting ${f}`),this.logger.debug({type:"event",event:f,data:i}),await this.persist()}),this.events.on(Os.deleted,async i=>{const f=Os.deleted;this.logger.info(`Emitting ${f}`),this.logger.debug({type:"event",event:f,data:i}),await this.persist()})}),this.relayer=e,this.logger=Ui(n,this.name),this.clientId=""}get context(){return vs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let i=!1;try{i=this.getSubscription(e).topic===n}catch{}return i}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const i=this.topicMap.get(e);await Promise.all(i.map(async f=>await this.unsubscribeById(e,f,n)))}async unsubscribeById(e,n,i){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:i}});try{const f=K2(i);await this.restartToComplete({topic:e,id:n,relay:f}),await this.rpcUnsubscribe(e,n,f);const b=Un("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,b),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:i}})}catch(f){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(f),f}}async rpcSubscribe(e,n,i){var f,b;const s=await this.getSubscriptionId(e);if((f=i?.internal)!=null&&f.skipSubscribe)return s;(!i||i?.transportType===Bn.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const y={method:Mf(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:y});const r=(b=i?.internal)==null?void 0:b.throwOnFailedPublish;try{if(i?.transportType===Bn.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(y).catch(c=>this.logger.warn(c))},qe.toMiliseconds(qe.ONE_SECOND)),s;const o=new Promise(async c=>{const u=l=>{l.topic===e&&(this.events.removeListener(Os.created,u),c(l.id))};this.events.on(Os.created,u);try{const l=await Ho(new Promise((a,d)=>{this.relayer.request(y).catch(p=>{this.logger.warn(p,p?.message),d(p)}).then(a)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Os.created,u),c(l)}catch{}}),v=await Ho(o,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!v&&r)throw new Error(`Subscribing to ${e} failed, please try again`);return v?s:null}catch(o){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(cr.connection_stalled),r)throw o}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,i={method:Mf(n.protocol).batchSubscribe,params:{topics:e.map(f=>f.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});try{await await Ho(new Promise(f=>{this.relayer.request(i).catch(b=>this.logger.warn(b)).then(f)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(cr.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,i={method:Mf(n.protocol).batchFetchMessages,params:{topics:e.map(b=>b.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});let f;try{f=await await Ho(new Promise((b,s)=>{this.relayer.request(i).catch(y=>{this.logger.warn(y),s(y)}).then(b)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(cr.connection_stalled)}return f}rpcUnsubscribe(e,n,i){const f={method:Mf(i.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:f}),this.relayer.request(f)}onSubscribe(e,n){this.setSubscription(e,n6(z0({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,z0({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,i){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,i),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,z0({},n)),this.topicMap.set(n.topic,e),this.events.emit(Os.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:i}=_e("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(i)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const i=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(i.topic,e),this.events.emit(Os.deleted,n6(z0({},i),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Os.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let i=0;i<n;i++){const f=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(f)}}this.events.emit(Os.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(n=>{var i;return n.topic===((i=this.subscriptions.get(n.id))==null?void 0:i.topic)})){const{message:n}=_e("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>n6(z0({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await _xe(qe.toMiliseconds(qe.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=_e("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return oa(e+await this.getClientId())}};var S9e=Object.defineProperty,v$=Object.getOwnPropertySymbols,T9e=Object.prototype.hasOwnProperty,A9e=Object.prototype.propertyIsEnumerable,sE=(t,e,n)=>e in t?S9e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,g$=(t,e)=>{for(var n in e||(e={}))T9e.call(e,n)&&sE(t,n,e[n]);if(v$)for(var n of v$(e))A9e.call(e,n)&&sE(t,n,e[n]);return t},sn=(t,e,n)=>sE(t,typeof e!="symbol"?e+"":e,n);let P9e=class extends V6e{constructor(e){super(e),sn(this,"protocol","wc"),sn(this,"version",2),sn(this,"core"),sn(this,"logger"),sn(this,"events",new Vs.EventEmitter),sn(this,"provider"),sn(this,"messages"),sn(this,"subscriber"),sn(this,"publisher"),sn(this,"name",rCe),sn(this,"transportExplicitlyClosed",!1),sn(this,"initialized",!1),sn(this,"connectionAttemptInProgress",!1),sn(this,"relayUrl"),sn(this,"projectId"),sn(this,"packageName"),sn(this,"bundleId"),sn(this,"hasExperiencedNetworkDisruption",!1),sn(this,"pingTimeout"),sn(this,"heartBeatTimeout",qe.toMiliseconds(qe.THIRTY_SECONDS+qe.FIVE_SECONDS)),sn(this,"reconnectTimeout"),sn(this,"connectPromise"),sn(this,"reconnectInProgress",!1),sn(this,"requestsInFlight",[]),sn(this,"connectTimeout",qe.toMiliseconds(qe.ONE_SECOND*15)),sn(this,"request",async n=>{var i,f;this.logger.debug("Publishing Request Payload");const b=n.id||qu().toString();await this.toEstablishConnection();try{this.logger.trace({id:b,method:n.method,topic:(i=n.params)==null?void 0:i.topic},"relayer.request - publishing...");const s=`${b}:${((f=n.params)==null?void 0:f.tag)||""}`;this.requestsInFlight.push(s);const y=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(r=>r!==s),y}catch(s){throw this.logger.debug(`Failed to Publish Request: ${b}`),s}}),sn(this,"resetPingTimeout",()=>{V2()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,i,f,b;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(b=(f=(i=(n=this.provider)==null?void 0:n.connection)==null?void 0:i.socket)==null?void 0:f.terminate)==null||b.call(f)}catch(s){this.logger.warn(s,s?.message)}},this.heartBeatTimeout))}),sn(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),sn(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(cr.connect)}),sn(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),sn(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(cr.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),sn(this,"registerProviderListeners",()=>{this.provider.on(qs.payload,this.onPayloadHandler),this.provider.on(qs.connect,this.onConnectHandler),this.provider.on(qs.disconnect,this.onDisconnectHandler),this.provider.on(qs.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Ui(e.logger,this.name):Cm(Cx({level:e.logger||nCe})),this.messages=new l9e(this.logger,e.core),this.subscriber=new E9e(this,this.logger),this.publisher=new p9e(this,this.logger),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||jG,Nxe()?this.packageName=YO():kxe()&&(this.bundleId=YO()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return vs(this.logger)}get connected(){var e,n,i;return((i=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:i.readyState)===1||!1}get connecting(){var e,n,i;return((i=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:i.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,i){this.isInitialized(),await this.publisher.publish(e,n,i),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:Bn.relay},qy.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,n){var i,f,b;this.isInitialized(),(!(n!=null&&n.transportType)||n?.transportType==="relay")&&await this.toEstablishConnection();const s=typeof((i=n?.internal)==null?void 0:i.throwOnFailedPublish)>"u"?!0:(f=n?.internal)==null?void 0:f.throwOnFailedPublish;let y=((b=this.subscriber.topicMap.get(e))==null?void 0:b[0])||"",r;const o=v=>{v.topic===e&&(this.subscriber.off(Os.created,o),r())};return await Promise.all([new Promise(v=>{r=v,this.subscriber.on(Os.created,o)}),new Promise(async(v,c)=>{y=await this.subscriber.subscribe(e,g$({internal:{throwOnFailedPublish:s}},n)).catch(u=>{s&&c(u)})||y,v()})]),y}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Ho(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,i)=>{await this.connect(e).then(n).catch(i).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await NF())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((i,f)=>i.publishedAt-f.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const i of n)try{await this.onMessageEvent(i)}catch(f){this.logger.warn(f,"Error while processing batch message event: "+f?.message)}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:i}=e;if(!n.sessionExists){const f=Rr(qe.FIVE_MINUTES),b={topic:i,expiry:f,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(i,b)}this.events.emit(cr.message,e),await this.recordMessageEvent(e,qy.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(i,f)=>{const b=()=>{f(new Error("Connection interrupted while trying to connect"))};this.provider.once(qs.disconnect,b),await Ho(new Promise((s,y)=>{this.provider.connect().then(s).catch(y)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(s=>{f(s)}).finally(()=>{this.provider.off(qs.disconnect,b),clearTimeout(this.reconnectTimeout)}),await new Promise(async(s,y)=>{const r=()=>{f(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(qs.disconnect,r),await this.subscriber.start().then(s).catch(y).finally(()=>{this.provider.off(qs.disconnect,r)})}),this.hasExperiencedNetworkDisruption=!1,i()})}catch(i){await this.subscriber.stop();const f=i;this.logger.warn({},f.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(i=>setTimeout(i,qe.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,i,f,b;if(V2())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((b=(f=(i=this.provider)==null?void 0:i.connection)==null?void 0:f.socket)==null||b.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(s){this.logger.warn(s,s?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Ta(new V8e(Wxe({sdkVersion:qC,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:i,message:f}=e;await this.messages.set(i,f,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:i}=e;if(!i||i.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${i}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const f=this.messages.has(n,i);return f&&this.logger.warn(`Ignoring duplicate message: ${i}`),f}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),cT(e)){if(!e.method.endsWith(iCe))return;const n=e.params,{topic:i,message:f,publishedAt:b,attestation:s}=n.data,y={topic:i,message:f,publishedAt:b,transportType:Bn.relay,attestation:s};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(g$({type:"event",event:n.id},y)),this.events.emit(n.id,y),await this.acknowledgePayload(e),await this.onMessageEvent(y)}else Sx(e)&&this.events.emit(cr.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,qy.inbound),this.events.emit(cr.message,e))}async acknowledgePayload(e){const n=Dg(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(qs.payload,this.onPayloadHandler),this.provider.off(qs.connect,this.onConnectHandler),this.provider.off(qs.disconnect,this.onDisconnectHandler),this.provider.off(qs.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await NF();R4e(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(i=>this.logger.error(i,i?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(eh.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&F4e())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(cr.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},qe.toMiliseconds(sCe)))))}isInitialized(){if(!this.initialized){const{message:e}=_e("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}};function I9e(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function m$(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function y$(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const R9e="[object RegExp]",M9e="[object String]",O9e="[object Number]",F9e="[object Boolean]",w$="[object Arguments]",$9e="[object Symbol]",L9e="[object Date]",D9e="[object Map]",N9e="[object Set]",k9e="[object Array]",B9e="[object Function]",U9e="[object ArrayBuffer]",r6="[object Object]",j9e="[object Error]",z9e="[object DataView]",W9e="[object Uint8Array]",G9e="[object Uint8ClampedArray]",V9e="[object Uint16Array]",H9e="[object Uint32Array]",Y9e="[object BigUint64Array]",X9e="[object Int8Array]",K9e="[object Int16Array]",Z9e="[object Int32Array]",J9e="[object BigInt64Array]",Q9e="[object Float32Array]",_9e="[object Float64Array]";function q9e(){}function x$(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function eSe(t,e,n){return ov(t,e,void 0,void 0,void 0,void 0,n)}function ov(t,e,n,i,f,b,s){const y=s(t,e,n,i,f,b);if(y!==void 0)return y;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return Tv(t,e,b,s)}return Tv(t,e,b,s)}function Tv(t,e,n,i){if(Object.is(t,e))return!0;let f=y$(t),b=y$(e);if(f===w$&&(f=r6),b===w$&&(b=r6),f!==b)return!1;switch(f){case M9e:return t.toString()===e.toString();case O9e:{const r=t.valueOf(),o=e.valueOf();return I9e(r,o)}case F9e:case L9e:case $9e:return Object.is(t.valueOf(),e.valueOf());case R9e:return t.source===e.source&&t.flags===e.flags;case B9e:return t===e}n=n??new Map;const s=n.get(t),y=n.get(e);if(s!=null&&y!=null)return s===e;n.set(t,e),n.set(e,t);try{switch(f){case D9e:{if(t.size!==e.size)return!1;for(const[r,o]of t.entries())if(!e.has(r)||!ov(o,e.get(r),r,t,e,n,i))return!1;return!0}case N9e:{if(t.size!==e.size)return!1;const r=Array.from(t.values()),o=Array.from(e.values());for(let v=0;v<r.length;v++){const c=r[v],u=o.findIndex(l=>ov(c,l,void 0,t,e,n,i));if(u===-1)return!1;o.splice(u,1)}return!0}case k9e:case W9e:case G9e:case V9e:case H9e:case Y9e:case X9e:case K9e:case Z9e:case J9e:case Q9e:case _9e:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!ov(t[r],e[r],r,t,e,n,i))return!1;return!0}case U9e:return t.byteLength!==e.byteLength?!1:Tv(new Uint8Array(t),new Uint8Array(e),n,i);case z9e:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:Tv(new Uint8Array(t),new Uint8Array(e),n,i);case j9e:return t.name===e.name&&t.message===e.message;case r6:{if(!(Tv(t.constructor,e.constructor,n,i)||x$(t)&&x$(e)))return!1;const r=[...Object.keys(t),...m$(t)],o=[...Object.keys(e),...m$(e)];if(r.length!==o.length)return!1;for(let v=0;v<r.length;v++){const c=r[v],u=t[c];if(!Object.hasOwn(e,c))return!1;const l=e[c];if(!ov(u,l,c,t,e,n,i))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function tSe(t,e){return eSe(t,e,q9e)}var nSe=Object.defineProperty,b$=Object.getOwnPropertySymbols,rSe=Object.prototype.hasOwnProperty,iSe=Object.prototype.propertyIsEnumerable,aE=(t,e,n)=>e in t?nSe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,C$=(t,e)=>{for(var n in e||(e={}))rSe.call(e,n)&&aE(t,n,e[n]);if(b$)for(var n of b$(e))iSe.call(e,n)&&aE(t,n,e[n]);return t},Ji=(t,e,n)=>aE(t,typeof e!="symbol"?e+"":e,n);let nh=class extends H6e{constructor(e,n,i,f=rl,b=void 0){super(e,n,i,f),this.core=e,this.logger=n,this.name=i,Ji(this,"map",new Map),Ji(this,"version",aCe),Ji(this,"cached",[]),Ji(this,"initialized",!1),Ji(this,"getKey"),Ji(this,"storagePrefix",rl),Ji(this,"recentlyDeleted",[]),Ji(this,"recentlyDeletedLimit",200),Ji(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(s=>{this.getKey&&s!==null&&!Or(s)?this.map.set(this.getKey(s),s):a4e(s)?this.map.set(s.id,s):o4e(s)&&this.map.set(s.topic,s)}),this.cached=[],this.initialized=!0)}),Ji(this,"set",async(s,y)=>{this.isInitialized(),this.map.has(s)?await this.update(s,y):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:s,value:y}),this.map.set(s,y),await this.persist())}),Ji(this,"get",s=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:s}),this.getData(s))),Ji(this,"getAll",s=>(this.isInitialized(),s?this.values.filter(y=>Object.keys(s).every(r=>tSe(y[r],s[r]))):this.values)),Ji(this,"update",async(s,y)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:s,update:y});const r=C$(C$({},this.getData(s)),y);this.map.set(s,r),await this.persist()}),Ji(this,"delete",async(s,y)=>{this.isInitialized(),this.map.has(s)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:s,reason:y}),this.map.delete(s),this.addToRecentlyDeleted(s),await this.persist())}),this.logger=Ui(n,this.name),this.storagePrefix=f,this.getKey=b}get context(){return vs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:f}=_e("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(f),new Error(f)}const{message:i}=_e("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=_e("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=_e("NOT_INITIALIZED",this.name);throw new Error(e)}}};var sSe=Object.defineProperty,aSe=(t,e,n)=>e in t?sSe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Kt=(t,e,n)=>aSe(t,typeof e!="symbol"?e+"":e,n);let oSe=class{constructor(e,n){this.core=e,this.logger=n,Kt(this,"name",cCe),Kt(this,"version",dCe),Kt(this,"events",new kS),Kt(this,"pairings"),Kt(this,"initialized",!1),Kt(this,"storagePrefix",rl),Kt(this,"ignoredPayloadTypes",[Xl]),Kt(this,"registeredMethods",[]),Kt(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Kt(this,"register",({methods:i})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...i])]}),Kt(this,"create",async i=>{this.isInitialized();const f=YC(),b=await this.core.crypto.setSymKey(f),s=Rr(qe.FIVE_MINUTES),y={protocol:UG},r={topic:b,expiry:s,relay:y,active:!1,methods:i?.methods},o=PF({protocol:this.core.protocol,version:this.core.version,topic:b,symKey:f,relay:y,expiryTimestamp:s,methods:i?.methods});return this.events.emit(_c.create,r),this.core.expirer.set(b,s),await this.pairings.set(b,r),await this.core.relayer.subscribe(b,{transportType:i?.transportType,internal:i?.internal}),{topic:b,uri:o}}),Kt(this,"pair",async i=>{this.isInitialized();const f=this.core.eventClient.createEvent({properties:{topic:i?.uri,trace:[No.pairing_started]}});this.isValidPair(i,f);const{topic:b,symKey:s,relay:y,expiryTimestamp:r,methods:o}=AF(i.uri);f.props.properties.topic=b,f.addTrace(No.pairing_uri_validation_success),f.addTrace(No.pairing_uri_not_expired);let v;if(this.pairings.keys.includes(b)){if(v=this.pairings.get(b),f.addTrace(No.existing_pairing),v.active)throw f.setError($l.active_pairing_already_exists),new Error(`Pairing already exists: ${b}. Please try again with a new connection URI.`);f.addTrace(No.pairing_not_expired)}const c=r||Rr(qe.FIVE_MINUTES),u={topic:b,relay:y,expiry:c,active:!1,methods:o};this.core.expirer.set(b,c),await this.pairings.set(b,u),f.addTrace(No.store_new_pairing),i.activatePairing&&await this.activate({topic:b}),this.events.emit(_c.create,u),f.addTrace(No.emit_inactive_pairing),this.core.crypto.keychain.has(b)||await this.core.crypto.setSymKey(s,b),f.addTrace(No.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{f.setError($l.no_internet_connection)}try{await this.core.relayer.subscribe(b,{relay:y})}catch(l){throw f.setError($l.subscribe_pairing_topic_failure),l}return f.addTrace(No.subscribe_pairing_topic_success),u}),Kt(this,"activate",async({topic:i})=>{this.isInitialized();const f=Rr(qe.FIVE_MINUTES);this.core.expirer.set(i,f),await this.pairings.update(i,{active:!0,expiry:f})}),Kt(this,"ping",async i=>{this.isInitialized(),await this.isValidPing(i),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:f}=i;if(this.pairings.keys.includes(f)){const b=await this.sendRequest(f,"wc_pairingPing",{}),{done:s,resolve:y,reject:r}=Kc();this.events.once(fn("pairing_ping",b),({error:o})=>{o?r(o):y()}),await s()}}),Kt(this,"updateExpiry",async({topic:i,expiry:f})=>{this.isInitialized(),await this.pairings.update(i,{expiry:f})}),Kt(this,"updateMetadata",async({topic:i,metadata:f})=>{this.isInitialized(),await this.pairings.update(i,{peerMetadata:f})}),Kt(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Kt(this,"disconnect",async i=>{this.isInitialized(),await this.isValidDisconnect(i);const{topic:f}=i;this.pairings.keys.includes(f)&&(await this.sendRequest(f,"wc_pairingDelete",Un("USER_DISCONNECTED")),await this.deletePairing(f))}),Kt(this,"formatUriFromPairing",i=>{this.isInitialized();const{topic:f,relay:b,expiry:s,methods:y}=i,r=this.core.crypto.keychain.get(f);return PF({protocol:this.core.protocol,version:this.core.version,topic:f,symKey:r,relay:b,expiryTimestamp:s,methods:y})}),Kt(this,"sendRequest",async(i,f,b)=>{const s=Go(f,b),y=await this.core.crypto.encode(i,s),r=B0[f].req;return this.core.history.set(i,s),this.core.relayer.publish(i,y,r),s.id}),Kt(this,"sendResult",async(i,f,b)=>{const s=Dg(i,b),y=await this.core.crypto.encode(f,s),r=(await this.core.history.get(f,i)).request.method,o=B0[r].res;await this.core.relayer.publish(f,y,o),await this.core.history.resolve(s)}),Kt(this,"sendError",async(i,f,b)=>{const s=Ex(i,b),y=await this.core.crypto.encode(f,s),r=(await this.core.history.get(f,i)).request.method,o=B0[r]?B0[r].res:B0.unregistered_method.res;await this.core.relayer.publish(f,y,o),await this.core.history.resolve(s)}),Kt(this,"deletePairing",async(i,f)=>{await this.core.relayer.unsubscribe(i),await Promise.all([this.pairings.delete(i,Un("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(i),f?Promise.resolve():this.core.expirer.del(i)])}),Kt(this,"cleanup",async()=>{const i=this.pairings.getAll().filter(f=>Wu(f.expiry));await Promise.all(i.map(f=>this.deletePairing(f.topic)))}),Kt(this,"onRelayEventRequest",async i=>{const{topic:f,payload:b}=i;switch(b.method){case"wc_pairingPing":return await this.onPairingPingRequest(f,b);case"wc_pairingDelete":return await this.onPairingDeleteRequest(f,b);default:return await this.onUnknownRpcMethodRequest(f,b)}}),Kt(this,"onRelayEventResponse",async i=>{const{topic:f,payload:b}=i,s=(await this.core.history.get(f,b.id)).request.method;switch(s){case"wc_pairingPing":return this.onPairingPingResponse(f,b);default:return this.onUnknownRpcMethodResponse(s)}}),Kt(this,"onPairingPingRequest",async(i,f)=>{const{id:b}=f;try{this.isValidPing({topic:i}),await this.sendResult(b,i,!0),this.events.emit(_c.ping,{id:b,topic:i})}catch(s){await this.sendError(b,i,s),this.logger.error(s)}}),Kt(this,"onPairingPingResponse",(i,f)=>{const{id:b}=f;setTimeout(()=>{Uo(f)?this.events.emit(fn("pairing_ping",b),{}):la(f)&&this.events.emit(fn("pairing_ping",b),{error:f.error})},500)}),Kt(this,"onPairingDeleteRequest",async(i,f)=>{const{id:b}=f;try{this.isValidDisconnect({topic:i}),await this.deletePairing(i),this.events.emit(_c.delete,{id:b,topic:i})}catch(s){await this.sendError(b,i,s),this.logger.error(s)}}),Kt(this,"onUnknownRpcMethodRequest",async(i,f)=>{const{id:b,method:s}=f;try{if(this.registeredMethods.includes(s))return;const y=Un("WC_METHOD_UNSUPPORTED",s);await this.sendError(b,i,y),this.logger.error(y)}catch(y){await this.sendError(b,i,y),this.logger.error(y)}}),Kt(this,"onUnknownRpcMethodResponse",i=>{this.registeredMethods.includes(i)||this.logger.error(Un("WC_METHOD_UNSUPPORTED",i))}),Kt(this,"isValidPair",(i,f)=>{var b;if(!qi(i)){const{message:y}=_e("MISSING_OR_INVALID",`pair() params: ${i}`);throw f.setError($l.malformed_pairing_uri),new Error(y)}if(!s4e(i.uri)){const{message:y}=_e("MISSING_OR_INVALID",`pair() uri: ${i.uri}`);throw f.setError($l.malformed_pairing_uri),new Error(y)}const s=AF(i?.uri);if(!((b=s?.relay)!=null&&b.protocol)){const{message:y}=_e("MISSING_OR_INVALID","pair() uri#relay-protocol");throw f.setError($l.malformed_pairing_uri),new Error(y)}if(!(s!=null&&s.symKey)){const{message:y}=_e("MISSING_OR_INVALID","pair() uri#symKey");throw f.setError($l.malformed_pairing_uri),new Error(y)}if(s!=null&&s.expiryTimestamp&&qe.toMiliseconds(s?.expiryTimestamp)<Date.now()){f.setError($l.pairing_expired);const{message:y}=_e("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(y)}}),Kt(this,"isValidPing",async i=>{if(!qi(i)){const{message:b}=_e("MISSING_OR_INVALID",`ping() params: ${i}`);throw new Error(b)}const{topic:f}=i;await this.isValidPairingTopic(f)}),Kt(this,"isValidDisconnect",async i=>{if(!qi(i)){const{message:b}=_e("MISSING_OR_INVALID",`disconnect() params: ${i}`);throw new Error(b)}const{topic:f}=i;await this.isValidPairingTopic(f)}),Kt(this,"isValidPairingTopic",async i=>{if(!xr(i,!1)){const{message:f}=_e("MISSING_OR_INVALID",`pairing topic should be a string: ${i}`);throw new Error(f)}if(!this.pairings.keys.includes(i)){const{message:f}=_e("NO_MATCHING_KEY",`pairing topic doesn't exist: ${i}`);throw new Error(f)}if(Wu(this.pairings.get(i).expiry)){await this.deletePairing(i);const{message:f}=_e("EXPIRED",`pairing topic: ${i}`);throw new Error(f)}}),this.core=e,this.logger=Ui(n,this.name),this.pairings=new nh(this.core,this.logger,this.name,this.storagePrefix)}get context(){return vs(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=_e("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(cr.message,async e=>{const{topic:n,message:i,transportType:f}=e;if(this.pairings.keys.includes(n)&&f!==Bn.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(i)))try{const b=await this.core.crypto.decode(n,i);cT(b)?(this.core.history.set(n,b),await this.onRelayEventRequest({topic:n,payload:b})):Sx(b)&&(await this.core.history.resolve(b),await this.onRelayEventResponse({topic:n,payload:b}),this.core.history.delete(n,b.id)),await this.core.relayer.messages.ack(n,i)}catch(b){this.logger.error(b)}})}registerExpirerEvents(){this.core.expirer.on(sa.expired,async e=>{const{topic:n}=DW(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(_c.expire,{topic:n}))})}};var lSe=Object.defineProperty,uSe=(t,e,n)=>e in t?lSe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ni=(t,e,n)=>uSe(t,typeof e!="symbol"?e+"":e,n);let cSe=class extends z6e{constructor(e,n){super(e,n),this.core=e,this.logger=n,ni(this,"records",new Map),ni(this,"events",new Vs.EventEmitter),ni(this,"name",hCe),ni(this,"version",fCe),ni(this,"cached",[]),ni(this,"initialized",!1),ni(this,"storagePrefix",rl),ni(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.records.set(i.id,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),ni(this,"set",(i,f,b)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:i,request:f,chainId:b}),this.records.has(f.id))return;const s={id:f.id,topic:i,request:{method:f.method,params:f.params||null},chainId:b,expiry:Rr(qe.THIRTY_DAYS)};this.records.set(s.id,s),this.persist(),this.events.emit(Da.created,s)}),ni(this,"resolve",async i=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:i}),!this.records.has(i.id))return;const f=await this.getRecord(i.id);typeof f.response>"u"&&(f.response=la(i)?{error:i.error}:{result:i.result},this.records.set(f.id,f),this.persist(),this.events.emit(Da.updated,f))}),ni(this,"get",async(i,f)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:i,id:f}),await this.getRecord(f))),ni(this,"delete",(i,f)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:f}),this.values.forEach(b=>{if(b.topic===i){if(typeof f<"u"&&b.id!==f)return;this.records.delete(b.id),this.events.emit(Da.deleted,b)}}),this.persist()}),ni(this,"exists",async(i,f)=>(this.isInitialized(),this.records.has(f)?(await this.getRecord(f)).topic===i:!1)),ni(this,"on",(i,f)=>{this.events.on(i,f)}),ni(this,"once",(i,f)=>{this.events.once(i,f)}),ni(this,"off",(i,f)=>{this.events.off(i,f)}),ni(this,"removeListener",(i,f)=>{this.events.removeListener(i,f)}),this.logger=Ui(n,this.name)}get context(){return vs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const i={topic:n.topic,request:Go(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(i)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:i}=_e("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(i)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Da.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=_e("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Da.created,e=>{const n=Da.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Da.updated,e=>{const n=Da.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Da.deleted,e=>{const n=Da.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(eh.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{qe.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(Da.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=_e("NOT_INITIALIZED",this.name);throw new Error(e)}}};var dSe=Object.defineProperty,hSe=(t,e,n)=>e in t?dSe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wi=(t,e,n)=>hSe(t,typeof e!="symbol"?e+"":e,n);let fSe=class extends X6e{constructor(e,n){super(e,n),this.core=e,this.logger=n,wi(this,"expirations",new Map),wi(this,"events",new Vs.EventEmitter),wi(this,"name",pCe),wi(this,"version",vCe),wi(this,"cached",[]),wi(this,"initialized",!1),wi(this,"storagePrefix",rl),wi(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.expirations.set(i.target,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),wi(this,"has",i=>{try{const f=this.formatTarget(i);return typeof this.getExpiration(f)<"u"}catch{return!1}}),wi(this,"set",(i,f)=>{this.isInitialized();const b=this.formatTarget(i),s={target:b,expiry:f};this.expirations.set(b,s),this.checkExpiry(b,s),this.events.emit(sa.created,{target:b,expiration:s})}),wi(this,"get",i=>{this.isInitialized();const f=this.formatTarget(i);return this.getExpiration(f)}),wi(this,"del",i=>{if(this.isInitialized(),this.has(i)){const f=this.formatTarget(i),b=this.getExpiration(f);this.expirations.delete(f),this.events.emit(sa.deleted,{target:f,expiration:b})}}),wi(this,"on",(i,f)=>{this.events.on(i,f)}),wi(this,"once",(i,f)=>{this.events.once(i,f)}),wi(this,"off",(i,f)=>{this.events.off(i,f)}),wi(this,"removeListener",(i,f)=>{this.events.removeListener(i,f)}),this.logger=Ui(n,this.name)}get context(){return vs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return Gxe(e);if(typeof e=="number")return Vxe(e);const{message:n}=_e("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(sa.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=_e("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:i}=_e("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(i),new Error(i)}return n}checkExpiry(e,n){const{expiry:i}=n;qe.toMiliseconds(i)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(sa.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(eh.pulse,()=>this.checkExpirations()),this.events.on(sa.created,e=>{const n=sa.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(sa.expired,e=>{const n=sa.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(sa.deleted,e=>{const n=sa.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=_e("NOT_INITIALIZED",this.name);throw new Error(e)}}};var pSe=Object.defineProperty,vSe=(t,e,n)=>e in t?pSe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gr=(t,e,n)=>vSe(t,typeof e!="symbol"?e+"":e,n);let gSe=class extends K6e{constructor(e,n,i){super(e,n,i),this.core=e,this.logger=n,this.store=i,gr(this,"name",gCe),gr(this,"abortController"),gr(this,"isDevEnv"),gr(this,"verifyUrlV3",yCe),gr(this,"storagePrefix",rl),gr(this,"version",BG),gr(this,"publicKey"),gr(this,"fetchPromise"),gr(this,"init",async()=>{var f;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&qe.toMiliseconds((f=this.publicKey)==null?void 0:f.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),gr(this,"register",async f=>{if(!Np()||this.isDevEnv)return;const b=window.location.origin,{id:s,decryptedId:y}=f,r=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${b}&id=${s}&decryptedId=${y}`;try{const o=tu.getDocument(),v=this.startAbortTimer(qe.ONE_SECOND*5),c=await new Promise((u,l)=>{const a=()=>{window.removeEventListener("message",p),o.body.removeChild(d),l("attestation aborted")};this.abortController.signal.addEventListener("abort",a);const d=o.createElement("iframe");d.src=r,d.style.display="none",d.addEventListener("error",a,{signal:this.abortController.signal});const p=h=>{if(h.data&&typeof h.data=="string")try{const g=JSON.parse(h.data);if(g.type==="verify_attestation"){if($C(g.attestation).payload.id!==s)return;clearInterval(v),o.body.removeChild(d),this.abortController.signal.removeEventListener("abort",a),window.removeEventListener("message",p),u(g.attestation===null?"":g.attestation)}}catch(g){this.logger.warn(g)}};o.body.appendChild(d),window.addEventListener("message",p,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",c),c}catch(o){this.logger.warn(o)}return""}),gr(this,"resolve",async f=>{if(this.isDevEnv)return"";const{attestationId:b,hash:s,encryptedId:y}=f;if(b===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(b){if($C(b).payload.id!==y)return;const o=await this.isValidJwtAttestation(b);if(o){if(!o.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return o}}if(!s)return;const r=this.getVerifyUrl(f?.verifyUrl);return this.fetchAttestation(s,r)}),gr(this,"fetchAttestation",async(f,b)=>{this.logger.debug(`resolving attestation: ${f} from url: ${b}`);const s=this.startAbortTimer(qe.ONE_SECOND*5),y=await fetch(`${b}/attestation/${f}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(s),y.status===200?await y.json():void 0}),gr(this,"getVerifyUrl",f=>{let b=f||Sv;return wCe.includes(b)||(this.logger.info(`verify url: ${b}, not included in trusted list, assigning default: ${Sv}`),b=Sv),b}),gr(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const f=this.startAbortTimer(qe.FIVE_SECONDS),b=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(f),await b.json()}catch(f){this.logger.warn(f)}}),gr(this,"persistPublicKey",async f=>{this.logger.debug("persisting public key to local storage",f),await this.store.setItem(this.storeKey,f),this.publicKey=f}),gr(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),gr(this,"isValidJwtAttestation",async f=>{const b=await this.getPublicKey();try{if(b)return this.validateAttestation(f,b)}catch(y){this.logger.error(y),this.logger.warn("error validating attestation")}const s=await this.fetchAndPersistPublicKey();try{if(s)return this.validateAttestation(f,s)}catch(y){this.logger.error(y),this.logger.warn("error validating attestation")}}),gr(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),gr(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async b=>{const s=await this.fetchPublicKey();s&&(await this.persistPublicKey(s),b(s))});const f=await this.fetchPromise;return this.fetchPromise=void 0,f}),gr(this,"validateAttestation",(f,b)=>{const s=Bbe(f,b.publicKey),y={hasExpired:qe.toMiliseconds(s.exp)<Date.now(),payload:s};if(y.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:y.payload.origin,isScam:y.payload.isScam,isVerified:y.payload.isVerified}}),this.logger=Ui(n,this.name),this.abortController=new AbortController,this.isDevEnv=KS(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return vs(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),qe.toMiliseconds(e))}};var mSe=Object.defineProperty,ySe=(t,e,n)=>e in t?mSe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,E$=(t,e,n)=>ySe(t,typeof e!="symbol"?e+"":e,n);let wSe=class extends Z6e{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,E$(this,"context",xCe),E$(this,"registerDeviceToken",async i=>{const{clientId:f,token:b,notificationType:s,enableEncrypted:y=!1}=i,r=`${bCe}/${this.projectId}/clients`;await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:f,type:s,token:b,always_raw:y})})}),this.logger=Ui(n,this.context)}};var xSe=Object.defineProperty,S$=Object.getOwnPropertySymbols,bSe=Object.prototype.hasOwnProperty,CSe=Object.prototype.propertyIsEnumerable,oE=(t,e,n)=>e in t?xSe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,W0=(t,e)=>{for(var n in e||(e={}))bSe.call(e,n)&&oE(t,n,e[n]);if(S$)for(var n of S$(e))CSe.call(e,n)&&oE(t,n,e[n]);return t},Gr=(t,e,n)=>oE(t,typeof e!="symbol"?e+"":e,n);let ESe=class extends J6e{constructor(e,n,i=!0){super(e,n,i),this.core=e,this.logger=n,Gr(this,"context",ECe),Gr(this,"storagePrefix",rl),Gr(this,"storageVersion",CCe),Gr(this,"events",new Map),Gr(this,"shouldPersist",!1),Gr(this,"init",async()=>{if(!KS())try{const f={eventId:KO(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:$W(this.core.relayer.protocol,this.core.relayer.version,qC)}}};await this.sendEvent([f])}catch(f){this.logger.warn(f)}}),Gr(this,"createEvent",f=>{const{event:b="ERROR",type:s="",properties:{topic:y,trace:r}}=f,o=KO(),v=this.core.projectId||"",c=Date.now(),u=W0({eventId:o,timestamp:c,props:{event:b,type:s,properties:{topic:y,trace:r}},bundleId:v,domain:this.getAppDomain()},this.setMethods(o));return this.telemetryEnabled&&(this.events.set(o,u),this.shouldPersist=!0),u}),Gr(this,"getEvent",f=>{const{eventId:b,topic:s}=f;if(b)return this.events.get(b);const y=Array.from(this.events.values()).find(r=>r.props.properties.topic===s);if(y)return W0(W0({},y),this.setMethods(y.eventId))}),Gr(this,"deleteEvent",f=>{const{eventId:b}=f;this.events.delete(b),this.shouldPersist=!0}),Gr(this,"setEventListeners",()=>{this.core.heartbeat.on(eh.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(f=>{qe.fromMiliseconds(Date.now())-qe.fromMiliseconds(f.timestamp)>SCe&&(this.events.delete(f.eventId),this.shouldPersist=!0)})})}),Gr(this,"setMethods",f=>({addTrace:b=>this.addTrace(f,b),setError:b=>this.setError(f,b)})),Gr(this,"addTrace",(f,b)=>{const s=this.events.get(f);s&&(s.props.properties.trace.push(b),this.events.set(f,s),this.shouldPersist=!0)}),Gr(this,"setError",(f,b)=>{const s=this.events.get(f);s&&(s.props.type=b,s.timestamp=Date.now(),this.events.set(f,s),this.shouldPersist=!0)}),Gr(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Gr(this,"restore",async()=>{try{const f=await this.core.storage.getItem(this.storageKey)||[];if(!f.length)return;f.forEach(b=>{this.events.set(b.eventId,W0(W0({},b),this.setMethods(b.eventId)))})}catch(f){this.logger.warn(f)}}),Gr(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const f=[];for(const[b,s]of this.events)s.props.type&&f.push(s);if(f.length!==0)try{if((await this.sendEvent(f)).ok)for(const b of f)this.events.delete(b.eventId),this.shouldPersist=!0}catch(b){this.logger.warn(b)}}),Gr(this,"sendEvent",async f=>{const b=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${TCe}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${qC}${b}`,{method:"POST",body:JSON.stringify(f)})}),Gr(this,"getAppDomain",()=>FW().url),this.logger=Ui(n,this.context),this.telemetryEnabled=i,i?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}};var SSe=Object.defineProperty,T$=Object.getOwnPropertySymbols,TSe=Object.prototype.hasOwnProperty,ASe=Object.prototype.propertyIsEnumerable,lE=(t,e,n)=>e in t?SSe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,A$=(t,e)=>{for(var n in e||(e={}))TSe.call(e,n)&&lE(t,n,e[n]);if(T$)for(var n of T$(e))ASe.call(e,n)&&lE(t,n,e[n]);return t},Rn=(t,e,n)=>lE(t,typeof e!="symbol"?e+"":e,n);let PSe=class qG extends k6e{constructor(e){var n;super(e),Rn(this,"protocol",kG),Rn(this,"version",BG),Rn(this,"name",_C),Rn(this,"relayUrl"),Rn(this,"projectId"),Rn(this,"customStoragePrefix"),Rn(this,"events",new Vs.EventEmitter),Rn(this,"logger"),Rn(this,"heartbeat"),Rn(this,"relayer"),Rn(this,"crypto"),Rn(this,"storage"),Rn(this,"history"),Rn(this,"expirer"),Rn(this,"pairing"),Rn(this,"verify"),Rn(this,"echoClient"),Rn(this,"linkModeSupportedApps"),Rn(this,"eventClient"),Rn(this,"initialized",!1),Rn(this,"logChunkController"),Rn(this,"on",(y,r)=>this.events.on(y,r)),Rn(this,"once",(y,r)=>this.events.once(y,r)),Rn(this,"off",(y,r)=>this.events.off(y,r)),Rn(this,"removeListener",(y,r)=>this.events.removeListener(y,r)),Rn(this,"dispatchEnvelope",({topic:y,message:r,sessionExists:o})=>{if(!y||!r)return;const v={topic:y,message:r,publishedAt:Date.now(),transportType:Bn.link_mode};this.relayer.onLinkMessageEvent(v,{sessionExists:o})});const i=this.getGlobalCore(e?.customStoragePrefix);if(i)try{return this.customStoragePrefix=i.customStoragePrefix,this.logger=i.logger,this.heartbeat=i.heartbeat,this.crypto=i.crypto,this.history=i.history,this.expirer=i.expirer,this.storage=i.storage,this.relayer=i.relayer,this.pairing=i.pairing,this.verify=i.verify,this.echoClient=i.echoClient,this.linkModeSupportedApps=i.linkModeSupportedApps,this.eventClient=i.eventClient,this.initialized=i.initialized,this.logChunkController=i.logChunkController,i}catch(y){console.warn("Failed to copy global core",y)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||jG,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const f=Cx({level:typeof e?.logger=="string"&&e.logger?e.logger:Y8e.logger,name:_C}),{logger:b,chunkLoggerController:s}=L6e({opts:f,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=s,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var y,r;(y=this.logChunkController)!=null&&y.downloadLogsBlobInBrowser&&((r=this.logChunkController)==null||r.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Ui(b,this.name),this.heartbeat=new W4e,this.crypto=new e9e(this,this.logger,e?.keychain),this.history=new cSe(this,this.logger),this.expirer=new fSe(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new m6e(A$(A$({},X8e),e?.storageOptions)),this.relayer=new P9e({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new oSe(this,this.logger),this.verify=new gSe(this,this.logger,this.storage),this.echoClient=new wSe(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new ESe(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new qG(e);await n.initialize();const i=await n.crypto.getClientId();return await n.storage.setItem(oCe,i),n}get context(){return vs(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(i$,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(i$)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,i=`${n}_count`;return globalThis[i]=(globalThis[i]||0)+1,globalThis[i]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[i]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const i=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[i]=e}catch(i){console.warn("Failed to set global WalletConnect core",i)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&H8e.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const ISe=PSe,eV="wc",tV=2,nV="client",dT=`${eV}@${tV}:${nV}:`,i6={name:nV,logger:"error"},P$="WALLETCONNECT_DEEPLINK_CHOICE",RSe="proposal",I$="Proposal expired",MSe="session",af=qe.SEVEN_DAYS,OSe="engine",ri={wc_sessionPropose:{req:{ttl:qe.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:qe.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:qe.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:qe.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:qe.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:qe.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:qe.ONE_DAY,prompt:!1,tag:1104},res:{ttl:qe.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:qe.ONE_DAY,prompt:!1,tag:1106},res:{ttl:qe.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:qe.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:qe.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:qe.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:qe.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:qe.ONE_DAY,prompt:!1,tag:1112},res:{ttl:qe.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:qe.ONE_DAY,prompt:!1,tag:1114},res:{ttl:qe.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:qe.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:qe.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:qe.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:qe.FIVE_MINUTES,prompt:!1,tag:1119}}},s6={min:qe.FIVE_MINUTES,max:qe.SEVEN_DAYS},Fo={idle:"IDLE",active:"ACTIVE"},FSe={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},$Se="request",LSe=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],DSe="wc",NSe="auth",kSe="authKeys",BSe="pairingTopics",USe="requests",Ax=`${DSe}@${1.5}:${NSe}:`,e2=`${Ax}:PUB_KEY`;var jSe=Object.defineProperty,zSe=Object.defineProperties,WSe=Object.getOwnPropertyDescriptors,R$=Object.getOwnPropertySymbols,GSe=Object.prototype.hasOwnProperty,VSe=Object.prototype.propertyIsEnumerable,uE=(t,e,n)=>e in t?jSe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vn=(t,e)=>{for(var n in e||(e={}))GSe.call(e,n)&&uE(t,n,e[n]);if(R$)for(var n of R$(e))VSe.call(e,n)&&uE(t,n,e[n]);return t},xi=(t,e)=>zSe(t,WSe(e)),We=(t,e,n)=>uE(t,typeof e!="symbol"?e+"":e,n);let HSe=class extends e8e{constructor(e){super(e),We(this,"name",OSe),We(this,"events",new kS),We(this,"initialized",!1),We(this,"requestQueue",{state:Fo.idle,queue:[]}),We(this,"sessionRequestQueue",{state:Fo.idle,queue:[]}),We(this,"emittedSessionRequests",new qxe({limit:500})),We(this,"requestQueueDelay",qe.ONE_SECOND),We(this,"expectedPairingMethodMap",new Map),We(this,"recentlyDeletedMap",new Map),We(this,"recentlyDeletedLimit",200),We(this,"relayMessageCache",[]),We(this,"pendingSessions",new Map),We(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(ri)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},qe.toMiliseconds(this.requestQueueDelay)))}),We(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const i=xi(vn({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(i),i.optionalNamespaces=e4e(i.requiredNamespaces,i.optionalNamespaces),i.requiredNamespaces={};const{pairingTopic:f,requiredNamespaces:b,optionalNamespaces:s,sessionProperties:y,scopedProperties:r,relays:o}=i;let v=f,c,u=!1;try{if(v){const C=this.client.core.pairing.pairings.get(v);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),u=C.active}}catch(C){throw this.client.logger.error(`connect() -> pairing.get(${v}) failed`),C}if(!v||!u){const{topic:C,uri:E}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});v=C,c=E}if(!v){const{message:C}=_e("NO_MATCHING_KEY",`connect() pairing topic: ${v}`);throw new Error(C)}const l=await this.client.core.crypto.generateKeyPair(),a=ri.wc_sessionPropose.req.ttl||qe.FIVE_MINUTES,d=Rr(a),p=xi(vn(vn({requiredNamespaces:b,optionalNamespaces:s,relays:o??[{protocol:UG}],proposer:{publicKey:l,metadata:this.client.metadata},expiryTimestamp:d,pairingTopic:v},y&&{sessionProperties:y}),r&&{scopedProperties:r}),{id:Bo()}),h=fn("session_connect",p.id),{reject:g,resolve:m,done:x}=Kc(a,I$),w=({id:C})=>{C===p.id&&(this.client.events.off("proposal_expire",w),this.pendingSessions.delete(p.id),this.events.emit(h,{error:{message:I$,code:0}}))};return this.client.events.on("proposal_expire",w),this.events.once(h,({error:C,session:E})=>{this.client.events.off("proposal_expire",w),C?g(C):E&&m(E)}),await this.sendProposeSession({proposal:p,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:p.id}}}),await this.setProposal(p.id,p),{uri:c,approval:x}}),We(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(i){throw this.client.logger.error("pair() failed"),i}}),We(this,"approve",async n=>{var i,f,b;const s=this.client.core.eventClient.createEvent({properties:{topic:(i=n?.id)==null?void 0:i.toString(),trace:[ku.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(S){throw s.setError(U0.no_internet_connection),S}try{await this.isValidProposalId(n?.id)}catch(S){throw this.client.logger.error(`approve() -> proposal.get(${n?.id}) failed`),s.setError(U0.proposal_not_found),S}try{await this.isValidApprove(n)}catch(S){throw this.client.logger.error("approve() -> isValidApprove() failed"),s.setError(U0.session_approve_namespace_validation_failure),S}const{id:y,relayProtocol:r,namespaces:o,sessionProperties:v,scopedProperties:c,sessionConfig:u}=n,l=this.client.proposal.get(y);this.client.core.eventClient.deleteEvent({eventId:s.eventId});const{pairingTopic:a,proposer:d,requiredNamespaces:p,optionalNamespaces:h}=l;let g=(f=this.client.core.eventClient)==null?void 0:f.getEvent({topic:a});g||(g=(b=this.client.core.eventClient)==null?void 0:b.createEvent({type:ku.session_approve_started,properties:{topic:a,trace:[ku.session_approve_started,ku.session_namespaces_validation_success]}}));const m=await this.client.core.crypto.generateKeyPair(),x=d.publicKey,w=await this.client.core.crypto.generateSharedKey(m,x),C=vn(vn(vn({relay:{protocol:r??"irn"},namespaces:o,controller:{publicKey:m,metadata:this.client.metadata},expiry:Rr(af)},v&&{sessionProperties:v}),c&&{scopedProperties:c}),u&&{sessionConfig:u}),E=Bn.relay;g.addTrace(ku.subscribing_session_topic);try{await this.client.core.relayer.subscribe(w,{transportType:E,internal:{skipSubscribe:!0}})}catch(S){throw g.setError(U0.subscribe_session_topic_failure),S}g.addTrace(ku.subscribe_session_topic_success);const T=xi(vn({},C),{topic:w,requiredNamespaces:p,optionalNamespaces:h,pairingTopic:a,acknowledged:!1,self:C.controller,peer:{publicKey:d.publicKey,metadata:d.metadata},controller:m,transportType:Bn.relay});await this.client.session.set(w,T),g.addTrace(ku.store_session);try{await this.sendApproveSession({sessionTopic:w,proposal:l,pairingProposalResponse:{relay:{protocol:r??"irn"},responderPublicKey:m},sessionSettleRequest:C,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:y}}}),g.addTrace(ku.session_approve_publish_success)}catch(S){throw this.client.logger.error(S),this.client.session.delete(w,Un("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(w),S}return this.client.core.eventClient.deleteEvent({eventId:g.eventId}),await this.client.core.pairing.updateMetadata({topic:a,metadata:d.metadata}),await this.deleteProposal(y),await this.client.core.pairing.activate({topic:a}),await this.setExpiry(w,Rr(af)),{topic:w,acknowledged:()=>Promise.resolve(this.client.session.get(w))}}),We(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(s){throw this.client.logger.error("reject() -> isValidReject() failed"),s}const{id:i,reason:f}=n;let b;try{b=this.client.proposal.get(i).pairingTopic}catch(s){throw this.client.logger.error(`reject() -> proposal.get(${i}) failed`),s}b&&await this.sendError({id:i,topic:b,error:f,rpcOpts:ri.wc_sessionPropose.reject}),await this.deleteProposal(i)}),We(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(c){throw this.client.logger.error("update() -> isValidUpdate() failed"),c}const{topic:i,namespaces:f}=n,{done:b,resolve:s,reject:y}=Kc(),r=Bo(),o=qu().toString(),v=this.client.session.get(i).namespaces;return this.events.once(fn("session_update",r),({error:c})=>{c?y(c):s()}),await this.client.session.update(i,{namespaces:f}),await this.sendRequest({topic:i,method:"wc_sessionUpdate",params:{namespaces:f},throwOnFailedPublish:!0,clientRpcId:r,relayRpcId:o}).catch(c=>{this.client.logger.error(c),this.client.session.update(i,{namespaces:v}),y(c)}),{acknowledged:b}}),We(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(r){throw this.client.logger.error("extend() -> isValidExtend() failed"),r}const{topic:i}=n,f=Bo(),{done:b,resolve:s,reject:y}=Kc();return this.events.once(fn("session_extend",f),({error:r})=>{r?y(r):s()}),await this.setExpiry(i,Rr(af)),this.sendRequest({topic:i,method:"wc_sessionExtend",params:{},clientRpcId:f,throwOnFailedPublish:!0}).catch(r=>{y(r)}),{acknowledged:b}}),We(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(p){throw this.client.logger.error("request() -> isValidRequest() failed"),p}const{chainId:i,request:f,topic:b,expiry:s=ri.wc_sessionRequest.req.ttl}=n,y=this.client.session.get(b);y?.transportType===Bn.relay&&await this.confirmOnlineStateOrThrow();const r=Bo(),o=qu().toString(),{done:v,resolve:c,reject:u}=Kc(s,"Request expired. Please try again.");this.events.once(fn("session_request",r),({error:p,result:h})=>{p?u(p):c(h)});const l="wc_sessionRequest",a=this.getAppLinkIfEnabled(y.peer.metadata,y.transportType);if(a)return await this.sendRequest({clientRpcId:r,relayRpcId:o,topic:b,method:l,params:{request:xi(vn({},f),{expiryTimestamp:Rr(s)}),chainId:i},expiry:s,throwOnFailedPublish:!0,appLink:a}).catch(p=>u(p)),this.client.events.emit("session_request_sent",{topic:b,request:f,chainId:i,id:r}),await v();const d={request:xi(vn({},f),{expiryTimestamp:Rr(s)}),chainId:i};return await Promise.all([new Promise(async p=>{await this.sendRequest({clientRpcId:r,relayRpcId:o,topic:b,method:l,params:d,expiry:s,throwOnFailedPublish:!0,tvf:this.getTVFParams(r,d)}).catch(h=>u(h)),this.client.events.emit("session_request_sent",{topic:b,request:f,chainId:i,id:r}),p()}),new Promise(async p=>{var h;if(!((h=y.sessionConfig)!=null&&h.disableDeepLink)){const g=await Kxe(this.client.core.storage,P$);await Hxe({id:r,topic:b,wcDeepLink:g})}p()}),v()]).then(p=>p[2])}),We(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:i,response:f}=n,{id:b}=f,s=this.client.session.get(i);s.transportType===Bn.relay&&await this.confirmOnlineStateOrThrow();const y=this.getAppLinkIfEnabled(s.peer.metadata,s.transportType);Uo(f)?await this.sendResult({id:b,topic:i,result:f.result,throwOnFailedPublish:!0,appLink:y}):la(f)&&await this.sendError({id:b,topic:i,error:f.error,appLink:y}),this.cleanupAfterResponse(n)}),We(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(f){throw this.client.logger.error("ping() -> isValidPing() failed"),f}const{topic:i}=n;if(this.client.session.keys.includes(i)){const f=Bo(),b=qu().toString(),{done:s,resolve:y,reject:r}=Kc();this.events.once(fn("session_ping",f),({error:o})=>{o?r(o):y()}),await Promise.all([this.sendRequest({topic:i,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:f,relayRpcId:b}),s()])}else this.client.core.pairing.pairings.keys.includes(i)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:i}))}),We(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:i,event:f,chainId:b}=n,s=qu().toString(),y=Bo();await this.sendRequest({topic:i,method:"wc_sessionEvent",params:{event:f,chainId:b},throwOnFailedPublish:!0,relayRpcId:s,clientRpcId:y})}),We(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:i}=n;if(this.client.session.keys.includes(i))await this.sendRequest({topic:i,method:"wc_sessionDelete",params:Un("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:i,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(i))await this.client.core.pairing.disconnect({topic:i});else{const{message:f}=_e("MISMATCHED_TOPIC",`Session or pairing topic not found: ${i}`);throw new Error(f)}}),We(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(i=>r4e(i,n)))),We(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),We(this,"authenticate",async(n,i)=>{var f;this.isInitialized(),this.isValidAuthenticate(n);const b=i&&this.client.core.linkModeSupportedApps.includes(i)&&((f=this.client.metadata.redirect)==null?void 0:f.linkMode),s=b?Bn.link_mode:Bn.relay;s===Bn.relay&&await this.confirmOnlineStateOrThrow();const{chains:y,statement:r="",uri:o,domain:v,nonce:c,type:u,exp:l,nbf:a,methods:d=[],expiry:p}=n,h=[...n.resources||[]],{topic:g,uri:m}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:s});this.client.logger.info({message:"Generated new pairing",pairing:{topic:g,uri:m}});const x=await this.client.core.crypto.generateKeyPair(),w=Jy(x);if(await Promise.all([this.client.auth.authKeys.set(e2,{responseTopic:w,publicKey:x}),this.client.auth.pairingTopics.set(w,{topic:w,pairingTopic:g})]),await this.client.core.relayer.subscribe(w,{transportType:s}),this.client.logger.info(`sending request to new pairing topic: ${g}`),d.length>0){const{namespace:j}=yd(y[0]);let W=c5e(j,"request",d);Zy(h)&&(W=h5e(W,h.pop())),h.push(W)}const C=p&&p>ri.wc_sessionAuthenticate.req.ttl?p:ri.wc_sessionAuthenticate.req.ttl,E={authPayload:{type:u??"caip122",chains:y,statement:r,aud:o,domain:v,version:"1",nonce:c,iat:new Date().toISOString(),exp:l,nbf:a,resources:h},requester:{publicKey:x,metadata:this.client.metadata},expiryTimestamp:Rr(C)},T={eip155:{chains:y,methods:[...new Set(["personal_sign",...d])],events:["chainChanged","accountsChanged"]}},S={requiredNamespaces:{},optionalNamespaces:T,relays:[{protocol:"irn"}],pairingTopic:g,proposer:{publicKey:x,metadata:this.client.metadata},expiryTimestamp:Rr(ri.wc_sessionPropose.req.ttl),id:Bo()},{done:A,resolve:P,reject:R}=Kc(C,"Request expired"),L=Bo(),D=fn("session_connect",S.id),F=fn("session_request",L),$=async({error:j,session:W})=>{this.events.off(F,N),j?R(j):W&&P({session:W})},N=async j=>{var W,G,K;if(await this.deletePendingAuthRequest(L,{message:"fulfilled",code:0}),j.error){const _=Un("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return j.error.code===_.code?void 0:(this.events.off(D,$),R(j.error.message))}await this.deleteProposal(S.id),this.events.off(D,$);const{cacaos:z,responder:X}=j.result,U=[],Z=[];for(const _ of z){await sF({cacao:_,projectId:this.client.core.projectId})||(this.client.logger.error(_,"Signature verification failed"),R(Un("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:ee}=_,te=Zy(ee.resources),ie=[kC(ee.iss)],le=H2(ee.iss);if(te){const he=aF(te),fe=oF(te);U.push(...he),ie.push(...fe)}for(const he of ie)Z.push(`${he}:${le}`)}const V=await this.client.core.crypto.generateSharedKey(x,X.publicKey);let J;U.length>0&&(J={topic:V,acknowledged:!0,self:{publicKey:x,metadata:this.client.metadata},peer:X,controller:X.publicKey,expiry:Rr(af),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:g,namespaces:OF([...new Set(U)],[...new Set(Z)]),transportType:s},await this.client.core.relayer.subscribe(V,{transportType:s}),await this.client.session.set(V,J),g&&await this.client.core.pairing.updateMetadata({topic:g,metadata:X.metadata}),J=this.client.session.get(V)),(W=this.client.metadata.redirect)!=null&&W.linkMode&&(G=X.metadata.redirect)!=null&&G.linkMode&&(K=X.metadata.redirect)!=null&&K.universal&&i&&(this.client.core.addLinkModeSupportedApp(X.metadata.redirect.universal),this.client.session.update(V,{transportType:Bn.link_mode})),P({auths:z,session:J})};this.events.once(D,$),this.events.once(F,N);let k;try{if(b){const j=Go("wc_sessionAuthenticate",E,L);this.client.core.history.set(g,j);const W=await this.client.core.crypto.encode("",j,{type:xm,encoding:Ju});k=gy(i,g,W)}else await Promise.all([this.sendRequest({topic:g,method:"wc_sessionAuthenticate",params:E,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:L}),this.sendRequest({topic:g,method:"wc_sessionPropose",params:S,expiry:ri.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:S.id})])}catch(j){throw this.events.off(D,$),this.events.off(F,N),j}return await this.setProposal(S.id,S),await this.setAuthRequest(L,{request:xi(vn({},E),{verifyContext:{}}),pairingTopic:g,transportType:s}),{uri:k??m,response:A}}),We(this,"approveSessionAuthenticate",async n=>{const{id:i,auths:f}=n,b=this.client.core.eventClient.createEvent({properties:{topic:i.toString(),trace:[Hc.authenticated_session_approve_started]}});try{this.isInitialized()}catch(p){throw b.setError(j0.no_internet_connection),p}const s=this.getPendingAuthRequest(i);if(!s)throw b.setError(j0.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${i}`);const y=s.transportType||Bn.relay;y===Bn.relay&&await this.confirmOnlineStateOrThrow();const r=s.requester.publicKey,o=await this.client.core.crypto.generateKeyPair(),v=Jy(r),c={type:Xl,receiverPublicKey:r,senderPublicKey:o},u=[],l=[];for(const p of f){if(!await sF({cacao:p,projectId:this.client.core.projectId})){b.setError(j0.invalid_cacao);const w=Un("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:i,topic:v,error:w,encodeOpts:c}),new Error(w.message)}b.addTrace(Hc.cacaos_verified);const{p:h}=p,g=Zy(h.resources),m=[kC(h.iss)],x=H2(h.iss);if(g){const w=aF(g),C=oF(g);u.push(...w),m.push(...C)}for(const w of m)l.push(`${w}:${x}`)}const a=await this.client.core.crypto.generateSharedKey(o,r);b.addTrace(Hc.create_authenticated_session_topic);let d;if(u?.length>0){d={topic:a,acknowledged:!0,self:{publicKey:o,metadata:this.client.metadata},peer:{publicKey:r,metadata:s.requester.metadata},controller:r,expiry:Rr(af),authentication:f,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:s.pairingTopic,namespaces:OF([...new Set(u)],[...new Set(l)]),transportType:y},b.addTrace(Hc.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(a,{transportType:y})}catch(p){throw b.setError(j0.subscribe_authenticated_session_topic_failure),p}b.addTrace(Hc.subscribe_authenticated_session_topic_success),await this.client.session.set(a,d),b.addTrace(Hc.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:s.pairingTopic,metadata:s.requester.metadata})}b.addTrace(Hc.publishing_authenticated_session_approve);try{await this.sendResult({topic:v,id:i,result:{cacaos:f,responder:{publicKey:o,metadata:this.client.metadata}},encodeOpts:c,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(s.requester.metadata,y)})}catch(p){throw b.setError(j0.authenticated_session_approve_publish_failure),p}return await this.client.auth.requests.delete(i,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:s.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:b.eventId}),{session:d}}),We(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:i,reason:f}=n,b=this.getPendingAuthRequest(i);if(!b)throw new Error(`Could not find pending auth request with id ${i}`);b.transportType===Bn.relay&&await this.confirmOnlineStateOrThrow();const s=b.requester.publicKey,y=await this.client.core.crypto.generateKeyPair(),r=Jy(s),o={type:Xl,receiverPublicKey:s,senderPublicKey:y};await this.sendError({id:i,topic:r,error:f,encodeOpts:o,rpcOpts:ri.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(b.requester.metadata,b.transportType)}),await this.client.auth.requests.delete(i,{message:"rejected",code:0}),await this.deleteProposal(i)}),We(this,"formatAuthMessage",n=>{this.isInitialized();const{request:i,iss:f}=n;return JW(i,f)}),We(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),We(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const i=this.client.core.pairing.pairings.get(n.pairingTopic),f=this.client.core.pairing.pairings.getAll().filter(b=>{var s,y;return((s=b.peerMetadata)==null?void 0:s.url)&&((y=b.peerMetadata)==null?void 0:y.url)===n.peer.metadata.url&&b.topic&&b.topic!==i.topic});if(f.length===0)return;this.client.logger.info(`Cleaning up ${f.length} duplicate pairing(s)`),await Promise.all(f.map(b=>this.client.core.pairing.disconnect({topic:b.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(i){this.client.logger.error(i)}}),We(this,"deleteSession",async n=>{var i;const{topic:f,expirerHasDeleted:b=!1,emitEvent:s=!0,id:y=0}=n,{self:r}=this.client.session.get(f);await this.client.core.relayer.unsubscribe(f),await this.client.session.delete(f,Un("USER_DISCONNECTED")),this.addToRecentlyDeleted(f,"session"),this.client.core.crypto.keychain.has(r.publicKey)&&await this.client.core.crypto.deleteKeyPair(r.publicKey),this.client.core.crypto.keychain.has(f)&&await this.client.core.crypto.deleteSymKey(f),b||this.client.core.expirer.del(f),this.client.core.storage.removeItem(P$).catch(o=>this.client.logger.warn(o)),this.getPendingSessionRequests().forEach(o=>{o.topic===f&&this.deletePendingSessionRequest(o.id,Un("USER_DISCONNECTED"))}),f===((i=this.sessionRequestQueue.queue[0])==null?void 0:i.topic)&&(this.sessionRequestQueue.state=Fo.idle),s&&this.client.events.emit("session_delete",{id:y,topic:f})}),We(this,"deleteProposal",async(n,i)=>{if(i)try{const f=this.client.proposal.get(n);this.client.core.eventClient.getEvent({topic:f.pairingTopic})?.setError(U0.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,Un("USER_DISCONNECTED")),i?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),We(this,"deletePendingSessionRequest",async(n,i,f=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,i),f?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(b=>b.id!==n),f&&(this.sessionRequestQueue.state=Fo.idle,this.client.events.emit("session_request_expire",{id:n}))}),We(this,"deletePendingAuthRequest",async(n,i,f=!1)=>{await Promise.all([this.client.auth.requests.delete(n,i),f?Promise.resolve():this.client.core.expirer.del(n)])}),We(this,"setExpiry",async(n,i)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,i),await this.client.session.update(n,{expiry:i}))}),We(this,"setProposal",async(n,i)=>{this.client.core.expirer.set(n,Rr(ri.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,i)}),We(this,"setAuthRequest",async(n,i)=>{const{request:f,pairingTopic:b,transportType:s=Bn.relay}=i;this.client.core.expirer.set(n,f.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:f.authPayload,requester:f.requester,expiryTimestamp:f.expiryTimestamp,id:n,pairingTopic:b,verifyContext:f.verifyContext,transportType:s})}),We(this,"setPendingSessionRequest",async n=>{const{id:i,topic:f,params:b,verifyContext:s}=n,y=b.request.expiryTimestamp||Rr(ri.wc_sessionRequest.req.ttl);this.client.core.expirer.set(i,y),await this.client.pendingRequest.set(i,{id:i,topic:f,params:b,verifyContext:s})}),We(this,"sendRequest",async n=>{const{topic:i,method:f,params:b,expiry:s,relayRpcId:y,clientRpcId:r,throwOnFailedPublish:o,appLink:v,tvf:c,publishOpts:u={}}=n,l=Go(f,b,r);let a;const d=!!v;try{const g=d?Ju:rs;a=await this.client.core.crypto.encode(i,l,{encoding:g})}catch(g){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${i} failed`),g}let p;if(LSe.includes(f)){const g=oa(JSON.stringify(l)),m=oa(a);p=await this.client.core.verify.register({id:m,decryptedId:g})}const h=vn(vn({},ri[f].req),u);if(h.attestation=p,s&&(h.ttl=s),y&&(h.id=y),this.client.core.history.set(i,l),d){const g=gy(v,i,a);await global.Linking.openURL(g,this.client.name)}else h.tvf=xi(vn({},c),{correlationId:l.id}),o?(h.internal=xi(vn({},h.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,a,h)):this.client.core.relayer.publish(i,a,h).catch(g=>this.client.logger.error(g));return l.id}),We(this,"sendProposeSession",async n=>{const{proposal:i,publishOpts:f}=n,b=Go("wc_sessionPropose",i,i.id);this.client.core.history.set(i.pairingTopic,b);const s=await this.client.core.crypto.encode(i.pairingTopic,b,{encoding:rs}),y=oa(JSON.stringify(b)),r=oa(s),o=await this.client.core.verify.register({id:r,decryptedId:y});await this.client.core.relayer.publishCustom({payload:{pairingTopic:i.pairingTopic,sessionProposal:s},opts:xi(vn({},f),{publishMethod:"wc_proposeSession",attestation:o})})}),We(this,"sendApproveSession",async n=>{const{sessionTopic:i,pairingProposalResponse:f,proposal:b,sessionSettleRequest:s,publishOpts:y}=n,r=Dg(b.id,f),o=await this.client.core.crypto.encode(b.pairingTopic,r,{encoding:rs}),v=Go("wc_sessionSettle",s,y?.id),c=await this.client.core.crypto.encode(i,v,{encoding:rs});this.client.core.history.set(i,v),await this.client.core.relayer.publishCustom({payload:{sessionTopic:i,pairingTopic:b.pairingTopic,sessionProposalResponse:o,sessionSettlementRequest:c},opts:xi(vn({},y),{publishMethod:"wc_approveSession"})})}),We(this,"sendResult",async n=>{const{id:i,topic:f,result:b,throwOnFailedPublish:s,encodeOpts:y,appLink:r}=n,o=Dg(i,b);let v;const c=r&&typeof(global==null?void 0:global.Linking)<"u";try{const a=c?Ju:rs;v=await this.client.core.crypto.encode(f,o,xi(vn({},y||{}),{encoding:a}))}catch(a){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${f} failed`),a}let u,l;try{u=await this.client.core.history.get(f,i);const a=u.request;try{l=this.getTVFParams(i,a.params,b)}catch(d){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${d?.message}`)}}catch(a){throw this.client.logger.error(`sendResult() -> history.get(${f}, ${i}) failed`),a}if(c){const a=gy(r,f,v);await global.Linking.openURL(a,this.client.name)}else{const a=u.request.method,d=ri[a].res;d.tvf=xi(vn({},l),{correlationId:i}),s?(d.internal=xi(vn({},d.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(f,v,d)):this.client.core.relayer.publish(f,v,d).catch(p=>this.client.logger.error(p))}await this.client.core.history.resolve(o)}),We(this,"sendError",async n=>{const{id:i,topic:f,error:b,encodeOpts:s,rpcOpts:y,appLink:r}=n,o=Ex(i,b);let v;const c=r&&typeof(global==null?void 0:global.Linking)<"u";try{const l=c?Ju:rs;v=await this.client.core.crypto.encode(f,o,xi(vn({},s||{}),{encoding:l}))}catch(l){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${f} failed`),l}let u;try{u=await this.client.core.history.get(f,i)}catch(l){throw this.client.logger.error(`sendError() -> history.get(${f}, ${i}) failed`),l}if(c){const l=gy(r,f,v);await global.Linking.openURL(l,this.client.name)}else{const l=u.request.method,a=y||ri[l].res;this.client.core.relayer.publish(f,v,a)}await this.client.core.history.resolve(o)}),We(this,"cleanup",async()=>{const n=[],i=[];this.client.session.getAll().forEach(f=>{let b=!1;Wu(f.expiry)&&(b=!0),this.client.core.crypto.keychain.has(f.topic)||(b=!0),b&&n.push(f.topic)}),this.client.proposal.getAll().forEach(f=>{Wu(f.expiryTimestamp)&&i.push(f.id)}),await Promise.all([...n.map(f=>this.deleteSession({topic:f})),...i.map(f=>this.deleteProposal(f))])}),We(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),We(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),We(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Fo.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Fo.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(i){this.client.logger.warn(i)}}this.requestQueue.state=Fo.idle}),We(this,"processRequest",async n=>{const{topic:i,payload:f,attestation:b,transportType:s,encryptedId:y}=n,r=f.method;if(!this.shouldIgnorePairingRequest({topic:i,requestMethod:r}))switch(r){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:i,payload:f,attestation:b,encryptedId:y});case"wc_sessionSettle":return await this.onSessionSettleRequest(i,f);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(i,f);case"wc_sessionExtend":return await this.onSessionExtendRequest(i,f);case"wc_sessionPing":return await this.onSessionPingRequest(i,f);case"wc_sessionDelete":return await this.onSessionDeleteRequest(i,f);case"wc_sessionRequest":return await this.onSessionRequest({topic:i,payload:f,attestation:b,encryptedId:y,transportType:s});case"wc_sessionEvent":return await this.onSessionEventRequest(i,f);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:i,payload:f,attestation:b,encryptedId:y,transportType:s});default:return this.client.logger.info(`Unsupported request method ${r}`)}}),We(this,"onRelayEventResponse",async n=>{const{topic:i,payload:f,transportType:b}=n,s=(await this.client.core.history.get(i,f.id)).request.method;switch(s){case"wc_sessionPropose":return this.onSessionProposeResponse(i,f,b);case"wc_sessionSettle":return this.onSessionSettleResponse(i,f);case"wc_sessionUpdate":return this.onSessionUpdateResponse(i,f);case"wc_sessionExtend":return this.onSessionExtendResponse(i,f);case"wc_sessionPing":return this.onSessionPingResponse(i,f);case"wc_sessionRequest":return this.onSessionRequestResponse(i,f);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(i,f);default:return this.client.logger.info(`Unsupported response method ${s}`)}}),We(this,"onRelayEventUnknownPayload",n=>{const{topic:i}=n,{message:f}=_e("MISSING_OR_INVALID",`Decoded payload on topic ${i} is not identifiable as a JSON-RPC request or a response.`);throw new Error(f)}),We(this,"shouldIgnorePairingRequest",n=>{const{topic:i,requestMethod:f}=n,b=this.expectedPairingMethodMap.get(i);return!b||b.includes(f)?!1:!!(b.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),We(this,"onSessionProposeRequest",async n=>{const{topic:i,payload:f,attestation:b,encryptedId:s}=n,{params:y,id:r}=f;try{const o=this.client.core.eventClient.getEvent({topic:i});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),o?.setError($l.proposal_listener_not_found)),this.isValidConnect(vn({},f.params));const v=y.expiryTimestamp||Rr(ri.wc_sessionPropose.req.ttl),c=vn({id:r,pairingTopic:i,expiryTimestamp:v,attestation:b,encryptedId:s},y);await this.setProposal(r,c);const u=await this.getVerifyContext({attestationId:b,hash:oa(JSON.stringify(f)),encryptedId:s,metadata:c.proposer.metadata});o?.addTrace(No.emit_session_proposal),this.client.events.emit("session_proposal",{id:r,params:c,verifyContext:u})}catch(o){await this.sendError({id:r,topic:i,error:o,rpcOpts:ri.wc_sessionPropose.autoReject}),this.client.logger.error(o)}}),We(this,"onSessionProposeResponse",async(n,i,f)=>{const{id:b}=i;if(Uo(i)){const{result:s}=i;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:s});const y=this.client.proposal.get(b);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:y});const r=y.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:r});const o=s.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:o});const v=await this.client.core.crypto.generateSharedKey(r,o);this.pendingSessions.set(b,{sessionTopic:v,pairingTopic:n,proposalId:b,publicKey:r});const c=await this.client.core.relayer.subscribe(v,{transportType:f});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:c}),await this.client.core.pairing.activate({topic:n})}else if(la(i)){await this.deleteProposal(b);const s=fn("session_connect",b);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners, 954`);this.events.emit(s,{error:i.error})}}),We(this,"onSessionSettleRequest",async(n,i)=>{const{id:f,params:b}=i;try{this.isValidSessionSettleRequest(b);const{relay:s,controller:y,expiry:r,namespaces:o,sessionProperties:v,scopedProperties:c,sessionConfig:u}=i.params,l=[...this.pendingSessions.values()].find(p=>p.sessionTopic===n);if(!l)return this.client.logger.error(`Pending session not found for topic ${n}`);const a=this.client.proposal.get(l.proposalId),d=xi(vn(vn(vn({topic:n,relay:s,expiry:r,namespaces:o,acknowledged:!0,pairingTopic:l.pairingTopic,requiredNamespaces:a.requiredNamespaces,optionalNamespaces:a.optionalNamespaces,controller:y.publicKey,self:{publicKey:l.publicKey,metadata:this.client.metadata},peer:{publicKey:y.publicKey,metadata:y.metadata}},v&&{sessionProperties:v}),c&&{scopedProperties:c}),u&&{sessionConfig:u}),{transportType:Bn.relay});await this.client.session.set(d.topic,d),await this.setExpiry(d.topic,d.expiry),await this.client.core.pairing.updateMetadata({topic:l.pairingTopic,metadata:d.peer.metadata}),this.client.events.emit("session_connect",{session:d}),this.events.emit(fn("session_connect",l.proposalId),{session:d}),this.pendingSessions.delete(l.proposalId),this.deleteProposal(l.proposalId,!1),this.cleanupDuplicatePairings(d),await this.sendResult({id:i.id,topic:n,result:!0})}catch(s){await this.sendError({id:f,topic:n,error:s}),this.client.logger.error(s)}}),We(this,"onSessionSettleResponse",async(n,i)=>{const{id:f}=i;Uo(i)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(fn("session_approve",f),{})):la(i)&&(await this.client.session.delete(n,Un("USER_DISCONNECTED")),this.events.emit(fn("session_approve",f),{error:i.error}))}),We(this,"onSessionUpdateRequest",async(n,i)=>{const{params:f,id:b}=i;try{const s=`${n}_session_update`,y=k0.get(s);if(y&&this.isRequestOutOfSync(y,b)){this.client.logger.warn(`Discarding out of sync request - ${b}`),this.sendError({id:b,topic:n,error:Un("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(vn({topic:n},f));try{k0.set(s,b),await this.client.session.update(n,{namespaces:f.namespaces}),await this.sendResult({id:b,topic:n,result:!0})}catch(r){throw k0.delete(s),r}this.client.events.emit("session_update",{id:b,topic:n,params:f})}catch(s){await this.sendError({id:b,topic:n,error:s}),this.client.logger.error(s)}}),We(this,"isRequestOutOfSync",(n,i)=>i.toString().slice(0,-3)<n.toString().slice(0,-3)),We(this,"onSessionUpdateResponse",(n,i)=>{const{id:f}=i,b=fn("session_update",f);if(this.events.listenerCount(b)===0)throw new Error(`emitting ${b} without any listeners`);Uo(i)?this.events.emit(fn("session_update",f),{}):la(i)&&this.events.emit(fn("session_update",f),{error:i.error})}),We(this,"onSessionExtendRequest",async(n,i)=>{const{id:f}=i;try{this.isValidExtend({topic:n}),await this.setExpiry(n,Rr(af)),await this.sendResult({id:f,topic:n,result:!0}),this.client.events.emit("session_extend",{id:f,topic:n})}catch(b){await this.sendError({id:f,topic:n,error:b}),this.client.logger.error(b)}}),We(this,"onSessionExtendResponse",(n,i)=>{const{id:f}=i,b=fn("session_extend",f);if(this.events.listenerCount(b)===0)throw new Error(`emitting ${b} without any listeners`);Uo(i)?this.events.emit(fn("session_extend",f),{}):la(i)&&this.events.emit(fn("session_extend",f),{error:i.error})}),We(this,"onSessionPingRequest",async(n,i)=>{const{id:f}=i;try{this.isValidPing({topic:n}),await this.sendResult({id:f,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:f,topic:n})}catch(b){await this.sendError({id:f,topic:n,error:b}),this.client.logger.error(b)}}),We(this,"onSessionPingResponse",(n,i)=>{const{id:f}=i,b=fn("session_ping",f);setTimeout(()=>{if(this.events.listenerCount(b)===0)throw new Error(`emitting ${b} without any listeners 2176`);Uo(i)?this.events.emit(fn("session_ping",f),{}):la(i)&&this.events.emit(fn("session_ping",f),{error:i.error})},500)}),We(this,"onSessionDeleteRequest",async(n,i)=>{const{id:f}=i;try{this.isValidDisconnect({topic:n,reason:i.params}),await Promise.all([new Promise(b=>{this.client.core.relayer.once(cr.publish,async()=>{b(await this.deleteSession({topic:n,id:f}))})}),this.sendResult({id:f,topic:n,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:Un("USER_DISCONNECTED")})]).catch(b=>this.client.logger.error(b))}catch(b){this.client.logger.error(b)}}),We(this,"onSessionRequest",async n=>{var i,f,b;const{topic:s,payload:y,attestation:r,encryptedId:o,transportType:v}=n,{id:c,params:u}=y;try{await this.isValidRequest(vn({topic:s},u));const l=this.client.session.get(s),a=await this.getVerifyContext({attestationId:r,hash:oa(JSON.stringify(Go("wc_sessionRequest",u,c))),encryptedId:o,metadata:l.peer.metadata,transportType:v}),d={id:c,topic:s,params:u,verifyContext:a};await this.setPendingSessionRequest(d),v===Bn.link_mode&&(i=l.peer.metadata.redirect)!=null&&i.universal&&this.client.core.addLinkModeSupportedApp((f=l.peer.metadata.redirect)==null?void 0:f.universal),(b=this.client.signConfig)!=null&&b.disableRequestQueue?this.emitSessionRequest(d):(this.addSessionRequestToSessionRequestQueue(d),this.processSessionRequestQueue())}catch(l){await this.sendError({id:c,topic:s,error:l}),this.client.logger.error(l)}}),We(this,"onSessionRequestResponse",(n,i)=>{const{id:f}=i,b=fn("session_request",f);if(this.events.listenerCount(b)===0)throw new Error(`emitting ${b} without any listeners`);Uo(i)?this.events.emit(fn("session_request",f),{result:i.result}):la(i)&&this.events.emit(fn("session_request",f),{error:i.error})}),We(this,"onSessionEventRequest",async(n,i)=>{const{id:f,params:b}=i;try{const s=`${n}_session_event_${b.event.name}`,y=k0.get(s);if(y&&this.isRequestOutOfSync(y,f)){this.client.logger.info(`Discarding out of sync request - ${f}`);return}this.isValidEmit(vn({topic:n},b)),this.client.events.emit("session_event",{id:f,topic:n,params:b}),k0.set(s,f)}catch(s){await this.sendError({id:f,topic:n,error:s}),this.client.logger.error(s)}}),We(this,"onSessionAuthenticateResponse",(n,i)=>{const{id:f}=i;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:i}),Uo(i)?this.events.emit(fn("session_request",f),{result:i.result}):la(i)&&this.events.emit(fn("session_request",f),{error:i.error})}),We(this,"onSessionAuthenticateRequest",async n=>{var i;const{topic:f,payload:b,attestation:s,encryptedId:y,transportType:r}=n;try{const{requester:o,authPayload:v,expiryTimestamp:c}=b.params,u=await this.getVerifyContext({attestationId:s,hash:oa(JSON.stringify(b)),encryptedId:y,metadata:o.metadata,transportType:r}),l={requester:o,pairingTopic:f,id:b.id,authPayload:v,verifyContext:u,expiryTimestamp:c};await this.setAuthRequest(b.id,{request:l,pairingTopic:f,transportType:r}),r===Bn.link_mode&&(i=o.metadata.redirect)!=null&&i.universal&&this.client.core.addLinkModeSupportedApp(o.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:f,params:b.params,id:b.id,verifyContext:u})}catch(o){this.client.logger.error(o);const v=b.params.requester.publicKey,c=await this.client.core.crypto.generateKeyPair(),u=this.getAppLinkIfEnabled(b.params.requester.metadata,r),l={type:Xl,receiverPublicKey:v,senderPublicKey:c};await this.sendError({id:b.id,topic:f,error:o,encodeOpts:l,rpcOpts:ri.wc_sessionAuthenticate.autoReject,appLink:u})}}),We(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),We(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Fo.idle,this.processSessionRequestQueue()},qe.toMiliseconds(this.requestQueueDelay))}),We(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:i})=>{const f=this.client.core.history.pending;f.length>0&&f.filter(b=>b.topic===n&&b.request.method==="wc_sessionRequest").forEach(b=>{const s=b.request.id,y=fn("session_request",s);if(this.events.listenerCount(y)===0)throw new Error(`emitting ${y} without any listeners`);this.events.emit(fn("session_request",b.request.id),{error:i})})}),We(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Fo.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(n)}catch(i){this.client.logger.error(i)}}),We(this,"emitSessionRequest",n=>{if(this.emittedSessionRequests.has(n.id)){this.client.logger.warn({id:n.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${n.id}`);return}this.sessionRequestQueue.state=Fo.active,this.emittedSessionRequests.add(n.id),this.client.events.emit("session_request",n)}),We(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const i=this.client.proposal.getAll().find(f=>f.pairingTopic===n.topic);i&&this.onSessionProposeRequest({topic:n.topic,payload:Go("wc_sessionPropose",xi(vn({},i),{requiredNamespaces:i.requiredNamespaces,optionalNamespaces:i.optionalNamespaces,relays:i.relays,proposer:i.proposer,sessionProperties:i.sessionProperties,scopedProperties:i.scopedProperties}),i.id),attestation:i.attestation,encryptedId:i.encryptedId})}),We(this,"isValidConnect",async n=>{if(!qi(n)){const{message:o}=_e("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(o)}const{pairingTopic:i,requiredNamespaces:f,optionalNamespaces:b,sessionProperties:s,scopedProperties:y,relays:r}=n;if(Or(i)||await this.isValidPairingTopic(i),!v4e(r)){const{message:o}=_e("MISSING_OR_INVALID",`connect() relays: ${r}`);throw new Error(o)}if(!Or(f)&&Qo(f)!==0){const o="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(o):this.client.logger.warn(o),this.validateNamespaces(f,"requiredNamespaces")}if(!Or(b)&&Qo(b)!==0&&this.validateNamespaces(b,"optionalNamespaces"),Or(s)||this.validateSessionProps(s,"sessionProperties"),!Or(y)){this.validateSessionProps(y,"scopedProperties");const o=Object.keys(f||{}).concat(Object.keys(b||{}));if(!Object.keys(y).every(v=>o.includes(v.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(y)}, required/optional namespaces: ${JSON.stringify(o)}`)}}),We(this,"validateNamespaces",(n,i)=>{const f=p4e(n,"connect()",i);if(f)throw new Error(f.message)}),We(this,"isValidApprove",async n=>{if(!qi(n))throw new Error(_e("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:i,namespaces:f,relayProtocol:b,sessionProperties:s,scopedProperties:y}=n;this.checkRecentlyDeleted(i),await this.isValidProposalId(i);const r=this.client.proposal.get(i),o=K4(f,"approve()");if(o)throw new Error(o.message);const v=LF(r.requiredNamespaces,f,"approve()");if(v)throw new Error(v.message);if(!xr(b,!0)){const{message:c}=_e("MISSING_OR_INVALID",`approve() relayProtocol: ${b}`);throw new Error(c)}if(Or(s)||this.validateSessionProps(s,"sessionProperties"),!Or(y)){this.validateSessionProps(y,"scopedProperties");const c=new Set(Object.keys(f));if(!Object.keys(y).every(u=>c.has(u.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(y)}, approved namespaces: ${Array.from(c).join(", ")}`)}}),We(this,"isValidReject",async n=>{if(!qi(n)){const{message:b}=_e("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(b)}const{id:i,reason:f}=n;if(this.checkRecentlyDeleted(i),await this.isValidProposalId(i),!m4e(f)){const{message:b}=_e("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(f)}`);throw new Error(b)}}),We(this,"isValidSessionSettleRequest",n=>{if(!qi(n)){const{message:o}=_e("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(o)}const{relay:i,controller:f,namespaces:b,expiry:s}=n;if(!PG(i)){const{message:o}=_e("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(o)}const y=l4e(f,"onSessionSettleRequest()");if(y)throw new Error(y.message);const r=K4(b,"onSessionSettleRequest()");if(r)throw new Error(r.message);if(Wu(s)){const{message:o}=_e("EXPIRED","onSessionSettleRequest()");throw new Error(o)}}),We(this,"isValidUpdate",async n=>{if(!qi(n)){const{message:r}=_e("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(r)}const{topic:i,namespaces:f}=n;this.checkRecentlyDeleted(i),await this.isValidSessionTopic(i);const b=this.client.session.get(i),s=K4(f,"update()");if(s)throw new Error(s.message);const y=LF(b.requiredNamespaces,f,"update()");if(y)throw new Error(y.message)}),We(this,"isValidExtend",async n=>{if(!qi(n)){const{message:f}=_e("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(f)}const{topic:i}=n;this.checkRecentlyDeleted(i),await this.isValidSessionTopic(i)}),We(this,"isValidRequest",async n=>{if(!qi(n)){const{message:r}=_e("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(r)}const{topic:i,request:f,chainId:b,expiry:s}=n;this.checkRecentlyDeleted(i),await this.isValidSessionTopic(i);const{namespaces:y}=this.client.session.get(i);if(!$F(y,b)){const{message:r}=_e("MISSING_OR_INVALID",`request() chainId: ${b}`);throw new Error(r)}if(!y4e(f)){const{message:r}=_e("MISSING_OR_INVALID",`request() ${JSON.stringify(f)}`);throw new Error(r)}if(!b4e(y,b,f.method)){const{message:r}=_e("MISSING_OR_INVALID",`request() method: ${f.method}`);throw new Error(r)}if(s&&!T4e(s,s6)){const{message:r}=_e("MISSING_OR_INVALID",`request() expiry: ${s}. Expiry must be a number (in seconds) between ${s6.min} and ${s6.max}`);throw new Error(r)}}),We(this,"isValidRespond",async n=>{var i;if(!qi(n)){const{message:s}=_e("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(s)}const{topic:f,response:b}=n;try{await this.isValidSessionTopic(f)}catch(s){throw(i=n?.response)!=null&&i.id&&this.cleanupAfterResponse(n),s}if(!w4e(b)){const{message:s}=_e("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(b)}`);throw new Error(s)}}),We(this,"isValidPing",async n=>{if(!qi(n)){const{message:f}=_e("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(f)}const{topic:i}=n;await this.isValidSessionOrPairingTopic(i)}),We(this,"isValidEmit",async n=>{if(!qi(n)){const{message:y}=_e("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(y)}const{topic:i,event:f,chainId:b}=n;await this.isValidSessionTopic(i);const{namespaces:s}=this.client.session.get(i);if(!$F(s,b)){const{message:y}=_e("MISSING_OR_INVALID",`emit() chainId: ${b}`);throw new Error(y)}if(!x4e(f)){const{message:y}=_e("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(f)}`);throw new Error(y)}if(!C4e(s,b,f.name)){const{message:y}=_e("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(f)}`);throw new Error(y)}}),We(this,"isValidDisconnect",async n=>{if(!qi(n)){const{message:f}=_e("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(f)}const{topic:i}=n;await this.isValidSessionOrPairingTopic(i)}),We(this,"isValidAuthenticate",n=>{const{chains:i,uri:f,domain:b,nonce:s}=n;if(!Array.isArray(i)||i.length===0)throw new Error("chains is required and must be a non-empty array");if(!xr(f,!1))throw new Error("uri is required parameter");if(!xr(b,!1))throw new Error("domain is required parameter");if(!xr(s,!1))throw new Error("nonce is required parameter");if([...new Set(i.map(r=>yd(r).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:y}=yd(i[0]);if(y!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),We(this,"getVerifyContext",async n=>{const{attestationId:i,hash:f,encryptedId:b,metadata:s,transportType:y}=n,r={verified:{verifyUrl:s.verifyUrl||Sv,validation:"UNKNOWN",origin:s.url||""}};try{if(y===Bn.link_mode){const v=this.getAppLinkIfEnabled(s,y);return r.verified.validation=v&&new URL(v).origin===new URL(s.url).origin?"VALID":"INVALID",r}const o=await this.client.core.verify.resolve({attestationId:i,hash:f,encryptedId:b,verifyUrl:s.verifyUrl});o&&(r.verified.origin=o.origin,r.verified.isScam=o.isScam,r.verified.validation=o.origin===new URL(s.url).origin?"VALID":"INVALID")}catch(o){this.client.logger.warn(o)}return this.client.logger.debug(`Verify context: ${JSON.stringify(r)}`),r}),We(this,"validateSessionProps",(n,i)=>{Object.values(n).forEach((f,b)=>{if(f==null){const{message:s}=_e("MISSING_OR_INVALID",`${i} must contain an existing value for each key. Received: ${f} for key ${Object.keys(n)[b]}`);throw new Error(s)}})}),We(this,"getPendingAuthRequest",n=>{const i=this.client.auth.requests.get(n);return typeof i=="object"?i:void 0}),We(this,"addToRecentlyDeleted",(n,i)=>{if(this.recentlyDeletedMap.set(n,i),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let f=0;const b=this.recentlyDeletedLimit/2;for(const s of this.recentlyDeletedMap.keys()){if(f++>=b)break;this.recentlyDeletedMap.delete(s)}}}),We(this,"checkRecentlyDeleted",n=>{const i=this.recentlyDeletedMap.get(n);if(i){const{message:f}=_e("MISSING_OR_INVALID",`Record was recently deleted - ${i}: ${n}`);throw new Error(f)}}),We(this,"isLinkModeEnabled",(n,i)=>{var f,b,s,y,r,o,v,c,u;return!n||i!==Bn.link_mode?!1:((b=(f=this.client.metadata)==null?void 0:f.redirect)==null?void 0:b.linkMode)===!0&&((y=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:y.universal)!==void 0&&((o=(r=this.client.metadata)==null?void 0:r.redirect)==null?void 0:o.universal)!==""&&((v=n?.redirect)==null?void 0:v.universal)!==void 0&&((c=n?.redirect)==null?void 0:c.universal)!==""&&((u=n?.redirect)==null?void 0:u.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),We(this,"getAppLinkIfEnabled",(n,i)=>{var f;return this.isLinkModeEnabled(n,i)?(f=n?.redirect)==null?void 0:f.universal:void 0}),We(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const i=XO(n,"topic")||"",f=decodeURIComponent(XO(n,"wc_ev")||""),b=this.client.session.keys.includes(i);b&&this.client.session.update(i,{transportType:Bn.link_mode}),this.client.core.dispatchEnvelope({topic:i,message:f,sessionExists:b})}),We(this,"registerLinkModeListeners",async()=>{var n;if(KS()||vc()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const i=global==null?void 0:global.Linking;if(typeof i<"u"){i.addEventListener("url",this.handleLinkModeMessage,this.client.name);const f=await i.getInitialURL();f&&setTimeout(()=>{this.handleLinkModeMessage({url:f})},50)}}}),We(this,"getTVFParams",(n,i,f)=>{var b,s,y;if(!((b=i.request)!=null&&b.method))return{};const r={correlationId:n,rpcMethods:[i.request.method],chainId:i.chainId};try{const o=this.extractTxHashesFromResult(i.request,f);r.txHashes=o,r.contractAddresses=this.isValidContractData(i.request.params)?[(y=(s=i.request.params)==null?void 0:s[0])==null?void 0:y.to]:[]}catch(o){this.client.logger.warn("Error getting TVF params",o)}return r}),We(this,"isValidContractData",n=>{var i;if(!n)return!1;try{const f=n?.data||((i=n?.[0])==null?void 0:i.data);if(!f.startsWith("0x"))return!1;const b=f.slice(2);return/^[0-9a-fA-F]*$/.test(b)?b.length%2===0:!1}catch{}return!1}),We(this,"extractTxHashesFromResult",(n,i)=>{var f;try{if(!i)return[];const b=n.method,s=FSe[b];if(b==="sui_signTransaction")return[K3e(i.transactionBytes)];if(b==="near_signTransaction")return[tF(i)];if(b==="near_signTransactions")return i.map(r=>tF(r));if(b==="xrpl_signTransactionFor"||b==="xrpl_signTransaction")return[(f=i.tx_json)==null?void 0:f.hash];if(b==="polkadot_signTransaction")return[j4e({transaction:n.params.transactionPayload,signature:i.signature})];if(b==="algo_signTxn")return pa(i)?i.map(r=>nF(r)):[nF(i)];if(b==="cosmos_signDirect")return[J3e(i)];if(typeof i=="string")return[i];const y=i[s.key];if(pa(y))return b==="solana_signAllTransactions"?y.map(r=>X3e(r)):y;if(typeof y=="string")return[y]}catch(b){this.client.logger.warn("Error extracting tx hashes from result",b)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[i,f]of Object.entries(n))for(const b of f)try{await this.onProviderMessageEvent({topic:i,message:b,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${i}, message: ${b}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=_e("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(cr.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:i,attestation:f,transportType:b}=e,{publicKey:s}=this.client.auth.authKeys.keys.includes(e2)?this.client.auth.authKeys.get(e2):{publicKey:void 0};try{const y=await this.client.core.crypto.decode(n,i,{receiverPublicKey:s,encoding:b===Bn.link_mode?Ju:rs});cT(y)?(this.client.core.history.set(n,y),await this.onRelayEventRequest({topic:n,payload:y,attestation:f,transportType:b,encryptedId:oa(i)})):Sx(y)?(await this.client.core.history.resolve(y),await this.onRelayEventResponse({topic:n,payload:y,transportType:b}),this.client.core.history.delete(n,y.id)):await this.onRelayEventUnknownPayload({topic:n,payload:y,transportType:b}),await this.client.core.relayer.messages.ack(n,i)}catch(y){this.client.logger.error(y)}}registerExpirerEvents(){this.client.core.expirer.on(sa.expired,async e=>{const{topic:n,id:i}=DW(e.target);if(i&&this.client.pendingRequest.keys.includes(i))return await this.deletePendingSessionRequest(i,_e("EXPIRED"),!0);if(i&&this.client.auth.requests.keys.includes(i))return await this.deletePendingAuthRequest(i,_e("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):i&&(await this.deleteProposal(i,!0),this.client.events.emit("proposal_expire",{id:i}))})}registerPairingEvents(){this.client.core.pairing.events.on(_c.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(_c.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!xr(e,!1)){const{message:n}=_e("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=_e("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(Wu(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=_e("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!xr(e,!1)){const{message:n}=_e("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=_e("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(Wu(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=_e("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=_e("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(xr(e,!1)){const{message:n}=_e("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=_e("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!g4e(e)){const{message:n}=_e("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=_e("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(Wu(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=_e("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}},YSe=class extends nh{constructor(e,n){super(e,n,RSe,dT),this.core=e,this.logger=n}},XSe=class extends nh{constructor(e,n){super(e,n,MSe,dT),this.core=e,this.logger=n}},KSe=class extends nh{constructor(e,n){super(e,n,$Se,dT,i=>i.id),this.core=e,this.logger=n}},ZSe=class extends nh{constructor(e,n){super(e,n,kSe,Ax,()=>e2),this.core=e,this.logger=n}},JSe=class extends nh{constructor(e,n){super(e,n,BSe,Ax),this.core=e,this.logger=n}},QSe=class extends nh{constructor(e,n){super(e,n,USe,Ax,i=>i.id),this.core=e,this.logger=n}};var _Se=Object.defineProperty,qSe=(t,e,n)=>e in t?_Se(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,a6=(t,e,n)=>qSe(t,typeof e!="symbol"?e+"":e,n);let eTe=class{constructor(e,n){this.core=e,this.logger=n,a6(this,"authKeys"),a6(this,"pairingTopics"),a6(this,"requests"),this.authKeys=new ZSe(this.core,this.logger),this.pairingTopics=new JSe(this.core,this.logger),this.requests=new QSe(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}};var tTe=Object.defineProperty,nTe=(t,e,n)=>e in t?tTe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zt=(t,e,n)=>nTe(t,typeof e!="symbol"?e+"":e,n);let rTe=class rV extends q6e{constructor(e){super(e),Zt(this,"protocol",eV),Zt(this,"version",tV),Zt(this,"name",i6.name),Zt(this,"metadata"),Zt(this,"core"),Zt(this,"logger"),Zt(this,"events",new Vs.EventEmitter),Zt(this,"engine"),Zt(this,"session"),Zt(this,"proposal"),Zt(this,"pendingRequest"),Zt(this,"auth"),Zt(this,"signConfig"),Zt(this,"on",(i,f)=>this.events.on(i,f)),Zt(this,"once",(i,f)=>this.events.once(i,f)),Zt(this,"off",(i,f)=>this.events.off(i,f)),Zt(this,"removeListener",(i,f)=>this.events.removeListener(i,f)),Zt(this,"removeAllListeners",i=>this.events.removeAllListeners(i)),Zt(this,"connect",async i=>{try{return await this.engine.connect(i)}catch(f){throw this.logger.error(f.message),f}}),Zt(this,"pair",async i=>{try{return await this.engine.pair(i)}catch(f){throw this.logger.error(f.message),f}}),Zt(this,"approve",async i=>{try{return await this.engine.approve(i)}catch(f){throw this.logger.error(f.message),f}}),Zt(this,"reject",async i=>{try{return await this.engine.reject(i)}catch(f){throw this.logger.error(f.message),f}}),Zt(this,"update",async i=>{try{return await this.engine.update(i)}catch(f){throw this.logger.error(f.message),f}}),Zt(this,"extend",async i=>{try{return await this.engine.extend(i)}catch(f){throw this.logger.error(f.message),f}}),Zt(this,"request",async i=>{try{return await this.engine.request(i)}catch(f){throw this.logger.error(f.message),f}}),Zt(this,"respond",async i=>{try{return await this.engine.respond(i)}catch(f){throw this.logger.error(f.message),f}}),Zt(this,"ping",async i=>{try{return await this.engine.ping(i)}catch(f){throw this.logger.error(f.message),f}}),Zt(this,"emit",async i=>{try{return await this.engine.emit(i)}catch(f){throw this.logger.error(f.message),f}}),Zt(this,"disconnect",async i=>{try{return await this.engine.disconnect(i)}catch(f){throw this.logger.error(f.message),f}}),Zt(this,"find",i=>{try{return this.engine.find(i)}catch(f){throw this.logger.error(f.message),f}}),Zt(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(i){throw this.logger.error(i.message),i}}),Zt(this,"authenticate",async(i,f)=>{try{return await this.engine.authenticate(i,f)}catch(b){throw this.logger.error(b.message),b}}),Zt(this,"formatAuthMessage",i=>{try{return this.engine.formatAuthMessage(i)}catch(f){throw this.logger.error(f.message),f}}),Zt(this,"approveSessionAuthenticate",async i=>{try{return await this.engine.approveSessionAuthenticate(i)}catch(f){throw this.logger.error(f.message),f}}),Zt(this,"rejectSessionAuthenticate",async i=>{try{return await this.engine.rejectSessionAuthenticate(i)}catch(f){throw this.logger.error(f.message),f}}),this.name=e?.name||i6.name,this.metadata=Uxe(e?.metadata),this.signConfig=e?.signConfig;const n=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:Cm(Cx({level:e?.logger||i6.logger}));this.core=e?.core||new ISe(e),this.logger=Ui(n,this.name),this.session=new XSe(this.core,this.logger),this.proposal=new YSe(this.core,this.logger),this.pendingRequest=new KSe(this.core,this.logger),this.engine=new HSe(this),this.auth=new eTe(this.core,this.logger)}static async init(e){const n=new rV(e);return await n.initialize(),n}get context(){return vs(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var yy={exports:{}},M$;function iTe(){return M$||(M$=1,(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof jo<"u"&&jo,i=(function(){function b(){this.fetch=!1,this.DOMException=n.DOMException}return b.prototype=n,new b})();(function(b){(function(s){var y=typeof b<"u"&&b||typeof self<"u"&&self||typeof jo<"u"&&jo||{},r={searchParams:"URLSearchParams"in y,iterable:"Symbol"in y&&"iterator"in Symbol,blob:"FileReader"in y&&"Blob"in y&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in y,arrayBuffer:"ArrayBuffer"in y};function o(F){return F&&DataView.prototype.isPrototypeOf(F)}if(r.arrayBuffer)var v=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(F){return F&&v.indexOf(Object.prototype.toString.call(F))>-1};function u(F){if(typeof F!="string"&&(F=String(F)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(F)||F==="")throw new TypeError('Invalid character in header field name: "'+F+'"');return F.toLowerCase()}function l(F){return typeof F!="string"&&(F=String(F)),F}function a(F){var $={next:function(){var N=F.shift();return{done:N===void 0,value:N}}};return r.iterable&&($[Symbol.iterator]=function(){return $}),$}function d(F){this.map={},F instanceof d?F.forEach(function($,N){this.append(N,$)},this):Array.isArray(F)?F.forEach(function($){if($.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+$.length);this.append($[0],$[1])},this):F&&Object.getOwnPropertyNames(F).forEach(function($){this.append($,F[$])},this)}d.prototype.append=function(F,$){F=u(F),$=l($);var N=this.map[F];this.map[F]=N?N+", "+$:$},d.prototype.delete=function(F){delete this.map[u(F)]},d.prototype.get=function(F){return F=u(F),this.has(F)?this.map[F]:null},d.prototype.has=function(F){return this.map.hasOwnProperty(u(F))},d.prototype.set=function(F,$){this.map[u(F)]=l($)},d.prototype.forEach=function(F,$){for(var N in this.map)this.map.hasOwnProperty(N)&&F.call($,this.map[N],N,this)},d.prototype.keys=function(){var F=[];return this.forEach(function($,N){F.push(N)}),a(F)},d.prototype.values=function(){var F=[];return this.forEach(function($){F.push($)}),a(F)},d.prototype.entries=function(){var F=[];return this.forEach(function($,N){F.push([N,$])}),a(F)},r.iterable&&(d.prototype[Symbol.iterator]=d.prototype.entries);function p(F){if(!F._noBody){if(F.bodyUsed)return Promise.reject(new TypeError("Already read"));F.bodyUsed=!0}}function h(F){return new Promise(function($,N){F.onload=function(){$(F.result)},F.onerror=function(){N(F.error)}})}function g(F){var $=new FileReader,N=h($);return $.readAsArrayBuffer(F),N}function m(F){var $=new FileReader,N=h($),k=/charset=([A-Za-z0-9_-]+)/.exec(F.type),j=k?k[1]:"utf-8";return $.readAsText(F,j),N}function x(F){for(var $=new Uint8Array(F),N=new Array($.length),k=0;k<$.length;k++)N[k]=String.fromCharCode($[k]);return N.join("")}function w(F){if(F.slice)return F.slice(0);var $=new Uint8Array(F.byteLength);return $.set(new Uint8Array(F)),$.buffer}function C(){return this.bodyUsed=!1,this._initBody=function(F){this.bodyUsed=this.bodyUsed,this._bodyInit=F,F?typeof F=="string"?this._bodyText=F:r.blob&&Blob.prototype.isPrototypeOf(F)?this._bodyBlob=F:r.formData&&FormData.prototype.isPrototypeOf(F)?this._bodyFormData=F:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(F)?this._bodyText=F.toString():r.arrayBuffer&&r.blob&&o(F)?(this._bodyArrayBuffer=w(F.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(F)||c(F))?this._bodyArrayBuffer=w(F):this._bodyText=F=Object.prototype.toString.call(F):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof F=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(F)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var F=p(this);if(F)return F;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var F=p(this);return F||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(r.blob)return this.blob().then(g);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var F=p(this);if(F)return F;if(this._bodyBlob)return m(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(x(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(A)}),this.json=function(){return this.text().then(JSON.parse)},this}var E=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function T(F){var $=F.toUpperCase();return E.indexOf($)>-1?$:F}function S(F,$){if(!(this instanceof S))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');$=$||{};var N=$.body;if(F instanceof S){if(F.bodyUsed)throw new TypeError("Already read");this.url=F.url,this.credentials=F.credentials,$.headers||(this.headers=new d(F.headers)),this.method=F.method,this.mode=F.mode,this.signal=F.signal,!N&&F._bodyInit!=null&&(N=F._bodyInit,F.bodyUsed=!0)}else this.url=String(F);if(this.credentials=$.credentials||this.credentials||"same-origin",($.headers||!this.headers)&&(this.headers=new d($.headers)),this.method=T($.method||this.method||"GET"),this.mode=$.mode||this.mode||null,this.signal=$.signal||this.signal||(function(){if("AbortController"in y){var W=new AbortController;return W.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&N)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(N),(this.method==="GET"||this.method==="HEAD")&&($.cache==="no-store"||$.cache==="no-cache")){var k=/([?&])_=[^&]*/;if(k.test(this.url))this.url=this.url.replace(k,"$1_="+new Date().getTime());else{var j=/\?/;this.url+=(j.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}S.prototype.clone=function(){return new S(this,{body:this._bodyInit})};function A(F){var $=new FormData;return F.trim().split("&").forEach(function(N){if(N){var k=N.split("="),j=k.shift().replace(/\+/g," "),W=k.join("=").replace(/\+/g," ");$.append(decodeURIComponent(j),decodeURIComponent(W))}}),$}function P(F){var $=new d,N=F.replace(/\r?\n[\t ]+/g," ");return N.split("\r").map(function(k){return k.indexOf(`
`)===0?k.substr(1,k.length):k}).forEach(function(k){var j=k.split(":"),W=j.shift().trim();if(W){var G=j.join(":").trim();try{$.append(W,G)}catch(K){console.warn("Response "+K.message)}}}),$}C.call(S.prototype);function R(F,$){if(!(this instanceof R))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if($||($={}),this.type="default",this.status=$.status===void 0?200:$.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=$.statusText===void 0?"":""+$.statusText,this.headers=new d($.headers),this.url=$.url||"",this._initBody(F)}C.call(R.prototype),R.prototype.clone=function(){return new R(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},R.error=function(){var F=new R(null,{status:200,statusText:""});return F.ok=!1,F.status=0,F.type="error",F};var L=[301,302,303,307,308];R.redirect=function(F,$){if(L.indexOf($)===-1)throw new RangeError("Invalid status code");return new R(null,{status:$,headers:{location:F}})},s.DOMException=y.DOMException;try{new s.DOMException}catch{s.DOMException=function($,N){this.message=$,this.name=N;var k=Error($);this.stack=k.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function D(F,$){return new Promise(function(N,k){var j=new S(F,$);if(j.signal&&j.signal.aborted)return k(new s.DOMException("Aborted","AbortError"));var W=new XMLHttpRequest;function G(){W.abort()}W.onload=function(){var X={statusText:W.statusText,headers:P(W.getAllResponseHeaders()||"")};j.url.indexOf("file://")===0&&(W.status<200||W.status>599)?X.status=200:X.status=W.status,X.url="responseURL"in W?W.responseURL:X.headers.get("X-Request-URL");var U="response"in W?W.response:W.responseText;setTimeout(function(){N(new R(U,X))},0)},W.onerror=function(){setTimeout(function(){k(new TypeError("Network request failed"))},0)},W.ontimeout=function(){setTimeout(function(){k(new TypeError("Network request timed out"))},0)},W.onabort=function(){setTimeout(function(){k(new s.DOMException("Aborted","AbortError"))},0)};function K(X){try{return X===""&&y.location.href?y.location.href:X}catch{return X}}if(W.open(j.method,K(j.url),!0),j.credentials==="include"?W.withCredentials=!0:j.credentials==="omit"&&(W.withCredentials=!1),"responseType"in W&&(r.blob?W.responseType="blob":r.arrayBuffer&&(W.responseType="arraybuffer")),$&&typeof $.headers=="object"&&!($.headers instanceof d||y.Headers&&$.headers instanceof y.Headers)){var z=[];Object.getOwnPropertyNames($.headers).forEach(function(X){z.push(u(X)),W.setRequestHeader(X,l($.headers[X]))}),j.headers.forEach(function(X,U){z.indexOf(U)===-1&&W.setRequestHeader(U,X)})}else j.headers.forEach(function(X,U){W.setRequestHeader(U,X)});j.signal&&(j.signal.addEventListener("abort",G),W.onreadystatechange=function(){W.readyState===4&&j.signal.removeEventListener("abort",G)}),W.send(typeof j._bodyInit>"u"?null:j._bodyInit)})}return D.polyfill=!0,y.fetch||(y.fetch=D,y.Headers=d,y.Request=S,y.Response=R),s.Headers=d,s.Request=S,s.Response=R,s.fetch=D,Object.defineProperty(s,"__esModule",{value:!0}),s})({})})(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var f=n.fetch?n:i;e=f.fetch,e.default=f.fetch,e.fetch=f.fetch,e.Headers=f.Headers,e.Request=f.Request,e.Response=f.Response,t.exports=e})(yy,yy.exports)),yy.exports}var sTe=iTe();const O$=co(sTe);var aTe=Object.defineProperty,oTe=Object.defineProperties,lTe=Object.getOwnPropertyDescriptors,F$=Object.getOwnPropertySymbols,uTe=Object.prototype.hasOwnProperty,cTe=Object.prototype.propertyIsEnumerable,$$=(t,e,n)=>e in t?aTe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,L$=(t,e)=>{for(var n in e||(e={}))uTe.call(e,n)&&$$(t,n,e[n]);if(F$)for(var n of F$(e))cTe.call(e,n)&&$$(t,n,e[n]);return t},D$=(t,e)=>oTe(t,lTe(e));const dTe={Accept:"application/json","Content-Type":"application/json"},hTe="POST",N$={headers:dTe,method:hTe},k$=10;let vo=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new Vs.EventEmitter,this.isAvailable=!1,this.registering=!1,!qF(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=nu(e),i=await(await O$(this.url,D$(L$({},N$),{body:n}))).json();this.onPayload({data:i})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!qF(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((i,f)=>{this.events.once("register_error",b=>{this.resetMaxListeners(),f(b)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return f(new Error("HTTP connection is missing or invalid"));i()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=nu({id:1,jsonrpc:"2.0",method:"test",params:[]});await O$(e,D$(L$({},N$),{body:n}))}this.onOpen()}catch(n){const i=this.parseError(n);throw this.events.emit("register_error",i),this.onClose(),i}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?$d(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const i=this.parseError(n),f=i.message||i.toString(),b=Ex(e,f);this.events.emit("payload",b)}parseError(e,n=this.url){return $G(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>k$&&this.events.setMaxListeners(k$)}};const B$="error",fTe="wss://relay.walletconnect.org",pTe="wc",vTe="universal_provider",wy=`${pTe}@2:${vTe}:`,iV="https://rpc.walletconnect.org/v1/",sV="generic",gTe=`${iV}bundler`,Aa={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function hT(t){return t==null||typeof t!="object"&&typeof t!="function"}function aV(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function oV(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const mTe="[object RegExp]",lV="[object String]",uV="[object Number]",cV="[object Boolean]",dV="[object Arguments]",yTe="[object Symbol]",wTe="[object Date]",xTe="[object Map]",bTe="[object Set]",CTe="[object Array]",ETe="[object ArrayBuffer]",STe="[object Object]",TTe="[object DataView]",ATe="[object Uint8Array]",PTe="[object Uint8ClampedArray]",ITe="[object Uint16Array]",RTe="[object Uint32Array]",MTe="[object Int8Array]",OTe="[object Int16Array]",FTe="[object Int32Array]",$Te="[object Float32Array]",LTe="[object Float64Array]";function fT(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function DTe(t,e){return Ff(t,void 0,t,new Map,e)}function Ff(t,e,n,i=new Map,f=void 0){const b=f?.(t,e,n,i);if(b!=null)return b;if(hT(t))return t;if(i.has(t))return i.get(t);if(Array.isArray(t)){const s=new Array(t.length);i.set(t,s);for(let y=0;y<t.length;y++)s[y]=Ff(t[y],y,n,i,f);return Object.hasOwn(t,"index")&&(s.index=t.index),Object.hasOwn(t,"input")&&(s.input=t.input),s}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const s=new RegExp(t.source,t.flags);return s.lastIndex=t.lastIndex,s}if(t instanceof Map){const s=new Map;i.set(t,s);for(const[y,r]of t)s.set(y,Ff(r,y,n,i,f));return s}if(t instanceof Set){const s=new Set;i.set(t,s);for(const y of t)s.add(Ff(y,void 0,n,i,f));return s}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(fT(t)){const s=new(Object.getPrototypeOf(t)).constructor(t.length);i.set(t,s);for(let y=0;y<t.length;y++)s[y]=Ff(t[y],y,n,i,f);return s}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const s=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return i.set(t,s),qc(s,t,n,i,f),s}if(typeof File<"u"&&t instanceof File){const s=new File([t],t.name,{type:t.type});return i.set(t,s),qc(s,t,n,i,f),s}if(t instanceof Blob){const s=new Blob([t],{type:t.type});return i.set(t,s),qc(s,t,n,i,f),s}if(t instanceof Error){const s=new t.constructor;return i.set(t,s),s.message=t.message,s.name=t.name,s.stack=t.stack,s.cause=t.cause,qc(s,t,n,i,f),s}if(typeof t=="object"&&NTe(t)){const s=Object.create(Object.getPrototypeOf(t));return i.set(t,s),qc(s,t,n,i,f),s}return t}function qc(t,e,n=t,i,f){const b=[...Object.keys(e),...aV(e)];for(let s=0;s<b.length;s++){const y=b[s],r=Object.getOwnPropertyDescriptor(t,y);(r==null||r.writable)&&(t[y]=Ff(e[y],y,n,i,f))}}function NTe(t){switch(oV(t)){case dV:case CTe:case ETe:case TTe:case cV:case wTe:case $Te:case LTe:case MTe:case OTe:case FTe:case xTe:case uV:case STe:case mTe:case bTe:case lV:case yTe:case ATe:case PTe:case ITe:case RTe:return!0;default:return!1}}function kTe(t,e){return DTe(t,(n,i,f,b)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case uV:case lV:case cV:{const s=new t.constructor(t?.valueOf());return qc(s,t),s}case dV:{const s={};return qc(s,t),s.length=t.length,s[Symbol.iterator]=t[Symbol.iterator],s}default:return}})}function U$(t){return kTe(t)}function j$(t){return t!==null&&typeof t=="object"&&oV(t)==="[object Arguments]"}function z$(t){return typeof t=="object"&&t!==null}function BTe(){}function UTe(t){return fT(t)}function jTe(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const n=t[Symbol.toStringTag];return n==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${n}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function zTe(t){if(hT(t))return t;if(Array.isArray(t)||fT(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const i=new n(t);return i.lastIndex=t.lastIndex,i}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const i=new n(t.message);return i.stack=t.stack,i.name=t.name,i.cause=t.cause,i}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const i=Object.create(e);return Object.assign(i,t)}return t}function WTe(t,...e){const n=e.slice(0,-1),i=e[e.length-1];let f=t;for(let b=0;b<n.length;b++){const s=n[b];f=cE(f,s,i,new Map)}return f}function cE(t,e,n,i){if(hT(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(i.has(e))return zTe(i.get(e));if(i.set(e,t),Array.isArray(e)){e=e.slice();for(let b=0;b<e.length;b++)e[b]=e[b]??void 0}const f=[...Object.keys(e),...aV(e)];for(let b=0;b<f.length;b++){const s=f[b];let y=e[s],r=t[s];if(j$(y)&&(y={...y}),j$(r)&&(r={...r}),typeof Buffer<"u"&&Buffer.isBuffer(y)&&(y=U$(y)),Array.isArray(y))if(typeof r=="object"&&r!=null){const v=[],c=Reflect.ownKeys(r);for(let u=0;u<c.length;u++){const l=c[u];v[l]=r[l]}r=v}else r=[];const o=n(r,y,s,t,e,i);o!=null?t[s]=o:Array.isArray(y)||z$(r)&&z$(y)?t[s]=cE(r,y,n,i):r==null&&jTe(y)?t[s]=cE({},y,n,i):r==null&&UTe(y)?t[s]=U$(y):(r===void 0||y!==void 0)&&(t[s]=y)}return t}function GTe(t,...e){return WTe(t,...e,BTe)}var VTe=Object.defineProperty,HTe=Object.defineProperties,YTe=Object.getOwnPropertyDescriptors,W$=Object.getOwnPropertySymbols,XTe=Object.prototype.hasOwnProperty,KTe=Object.prototype.propertyIsEnumerable,G$=(t,e,n)=>e in t?VTe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xy=(t,e)=>{for(var n in e||(e={}))XTe.call(e,n)&&G$(t,n,e[n]);if(W$)for(var n of W$(e))KTe.call(e,n)&&G$(t,n,e[n]);return t},ZTe=(t,e)=>HTe(t,YTe(e));function zs(t,e,n){var i;const f=yd(t);return((i=e.rpcMap)==null?void 0:i[f.reference])||`${iV}?chainId=${f.namespace}:${f.reference}&projectId=${n}`}function rh(t){return t.includes(":")?t.split(":")[1]:t}function hV(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function JTe(t,e){const n=Object.keys(e.namespaces).filter(f=>f.includes(t));if(!n.length)return[];const i=[];return n.forEach(f=>{const b=e.namespaces[f].accounts;i.push(...b)}),i}function V$(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>{var i,f;return((i=n?.chains)==null?void 0:i.length)&&((f=n?.chains)==null?void 0:f.length)>0}))}function by(t={},e={}){const n=V$(H$(t)),i=V$(H$(e));return GTe(n,i)}function H$(t){var e,n,i,f,b;const s={};if(!Qo(t))return s;for(const[y,r]of Object.entries(t)){const o=bx(y)?[y]:r.chains,v=r.methods||[],c=r.events||[],u=r.rpcMap||{},l=Of(y);s[l]=ZTe(xy(xy({},s[l]),r),{chains:Jo(o,(e=s[l])==null?void 0:e.chains),methods:Jo(v,(n=s[l])==null?void 0:n.methods),events:Jo(c,(i=s[l])==null?void 0:i.events)}),(Qo(u)||Qo(((f=s[l])==null?void 0:f.rpcMap)||{}))&&(s[l].rpcMap=xy(xy({},u),(b=s[l])==null?void 0:b.rpcMap))}return s}function Y$(t){return t.includes(":")?t.split(":")[2]:t}function X$(t){const e={};for(const[n,i]of Object.entries(t)){const f=i.methods||[],b=i.events||[],s=i.accounts||[],y=bx(n)?[n]:i.chains?i.chains:hV(i.accounts);e[n]={chains:y,methods:f,events:b,accounts:s}}return e}function o6(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const fV={},on=t=>fV[t],l6=(t,e)=>{fV[t]=e};var QTe=Object.defineProperty,K$=Object.getOwnPropertySymbols,_Te=Object.prototype.hasOwnProperty,qTe=Object.prototype.propertyIsEnumerable,Z$=(t,e,n)=>e in t?QTe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,J$=(t,e)=>{for(var n in e||(e={}))_Te.call(e,n)&&Z$(t,n,e[n]);if(K$)for(var n of K$(e))qTe.call(e,n)&&Z$(t,n,e[n]);return t};const Q$="eip155",e7e=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],t7e=t=>t&&t.startsWith("0x")?BigInt(t).toString(10):t,u6=t=>t&&t.startsWith("0x")?t:`0x${BigInt(t).toString(16)}`,_$=t=>Object.keys(t).filter(e=>e7e.includes(e)).reduce((e,n)=>(e[n]=t[n],e),{}),n7e=(t,e,n)=>{const{sessionProperties:i={},scopedProperties:f={}}=t,b={};if(!Qo(f)&&!Qo(i))return;const s=_$(i);for(const y of n){const r=t7e(y);if(!r)continue;b[u6(r)]=s;const o=f?.[`${Q$}:${r}`];if(o){const v=o?.[`${Q$}:${r}:${e}`];b[u6(r)]=J$(J$({},b[u6(r)]),_$(v||o))}}for(const[y,r]of Object.entries(b))Object.keys(r).length===0&&delete b[y];return Object.keys(b).length>0?b:void 0};var r7e=Object.defineProperty,i7e=(t,e,n)=>e in t?r7e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,of=(t,e,n)=>i7e(t,typeof e!="symbol"?e+"":e,n);let s7e=class{constructor(e){of(this,"name","polkadot"),of(this,"client"),of(this,"httpProviders"),of(this,"events"),of(this,"namespace"),of(this,"chainId"),this.namespace=e.namespace,this.events=on("events"),this.client=on("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Aa.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var i;const f=rh(n);e[f]=this.createHttpProvider(f,(i=this.namespace.rpcMap)==null?void 0:i[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const i=this.createHttpProvider(e,n);i&&(this.httpProviders[e]=i)}createHttpProvider(e,n){const i=n||zs(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ta(new vo(i,on("disableProviderPing")))}};var a7e=Object.defineProperty,o7e=Object.defineProperties,l7e=Object.getOwnPropertyDescriptors,q$=Object.getOwnPropertySymbols,u7e=Object.prototype.hasOwnProperty,c7e=Object.prototype.propertyIsEnumerable,dE=(t,e,n)=>e in t?a7e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,eL=(t,e)=>{for(var n in e||(e={}))u7e.call(e,n)&&dE(t,n,e[n]);if(q$)for(var n of q$(e))c7e.call(e,n)&&dE(t,n,e[n]);return t},tL=(t,e)=>o7e(t,l7e(e)),lf=(t,e,n)=>dE(t,typeof e!="symbol"?e+"":e,n);let d7e=class{constructor(e){lf(this,"name","eip155"),lf(this,"client"),lf(this,"chainId"),lf(this,"namespace"),lf(this,"httpProviders"),lf(this,"events"),this.namespace=e.namespace,this.events=on("events"),this.client=on("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(Aa.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const i=n||zs(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ta(new vo(i,on("disableProviderPing")))}setHttpProvider(e,n){const i=this.createHttpProvider(e,n);i&&(this.httpProviders[e]=i)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var i;const f=parseInt(rh(n));e[f]=this.createHttpProvider(f,(i=this.namespace.rpcMap)==null?void 0:i[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,i;let f=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";f=f.startsWith("0x")?f:`0x${f}`;const b=parseInt(f,16);if(this.isChainApproved(b))this.setDefaultChain(`${b}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:f}]},chainId:(i=this.namespace.chains)==null?void 0:i[0]}),this.setDefaultChain(`${b}`);else throw new Error(`Failed to switch to chain 'eip155:${b}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,i,f,b,s;const y=(i=(n=e.request)==null?void 0:n.params)==null?void 0:i[0],r=((b=(f=e.request)==null?void 0:f.params)==null?void 0:b[1])||[];if(!y)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const o=this.client.session.get(e.topic),v=((s=o?.sessionProperties)==null?void 0:s.capabilities)||{},c=`${y}${r.join(",")}`,u=v?.[c];if(u)return u;let l;try{l=n7e(o,y,r)}catch(d){console.warn("Failed to extract capabilities from session",d)}if(l)return l;const a=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:tL(eL({},o.sessionProperties||{}),{capabilities:tL(eL({},v||{}),{[c]:a})})})}catch(d){console.warn("Failed to update session with capabilities",d)}return a}async getCallStatus(e){var n,i;const f=this.client.session.get(e.topic),b=(n=f.sessionProperties)==null?void 0:n.bundler_name;if(b){const y=this.getBundlerUrl(e.chainId,b);try{return await this.getUserOperationReceipt(y,e)}catch(r){console.warn("Failed to fetch call status from bundler",r,y)}}const s=(i=f.sessionProperties)==null?void 0:i.bundler_url;if(s)try{return await this.getUserOperationReceipt(s,e)}catch(y){console.warn("Failed to fetch call status from custom bundler",y,s)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var i;const f=new URL(e),b=await fetch(f,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Go("eth_getUserOperationReceipt",[(i=n.request.params)==null?void 0:i[0]]))});if(!b.ok)throw new Error(`Failed to fetch user operation receipt - ${b.status}`);return await b.json()}getBundlerUrl(e,n){return`${gTe}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}};var h7e=Object.defineProperty,f7e=(t,e,n)=>e in t?h7e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,uf=(t,e,n)=>f7e(t,typeof e!="symbol"?e+"":e,n);class p7e{constructor(e){uf(this,"name","solana"),uf(this,"client"),uf(this,"httpProviders"),uf(this,"events"),uf(this,"namespace"),uf(this,"chainId"),this.namespace=e.namespace,this.events=on("events"),this.client=on("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Aa.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var i;const f=rh(n);e[f]=this.createHttpProvider(f,(i=this.namespace.rpcMap)==null?void 0:i[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const i=this.createHttpProvider(e,n);i&&(this.httpProviders[e]=i)}createHttpProvider(e,n){const i=n||zs(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ta(new vo(i,on("disableProviderPing")))}}var v7e=Object.defineProperty,g7e=(t,e,n)=>e in t?v7e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cf=(t,e,n)=>g7e(t,typeof e!="symbol"?e+"":e,n);let m7e=class{constructor(e){cf(this,"name","cosmos"),cf(this,"client"),cf(this,"httpProviders"),cf(this,"events"),cf(this,"namespace"),cf(this,"chainId"),this.namespace=e.namespace,this.events=on("events"),this.client=on("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Aa.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var i;const f=rh(n);e[f]=this.createHttpProvider(f,(i=this.namespace.rpcMap)==null?void 0:i[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const i=this.createHttpProvider(e,n);i&&(this.httpProviders[e]=i)}createHttpProvider(e,n){const i=n||zs(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ta(new vo(i,on("disableProviderPing")))}};var y7e=Object.defineProperty,w7e=(t,e,n)=>e in t?y7e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,df=(t,e,n)=>w7e(t,typeof e!="symbol"?e+"":e,n);let x7e=class{constructor(e){df(this,"name","algorand"),df(this,"client"),df(this,"httpProviders"),df(this,"events"),df(this,"namespace"),df(this,"chainId"),this.namespace=e.namespace,this.events=on("events"),this.client=on("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const i=n||zs(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,i)}this.chainId=e,this.events.emit(Aa.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var i;e[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const i=this.createHttpProvider(e,n);i&&(this.httpProviders[e]=i)}createHttpProvider(e,n){const i=n||zs(e,this.namespace,this.client.core.projectId);return typeof i>"u"?void 0:new Ta(new vo(i,on("disableProviderPing")))}};var b7e=Object.defineProperty,C7e=(t,e,n)=>e in t?b7e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hf=(t,e,n)=>C7e(t,typeof e!="symbol"?e+"":e,n);let E7e=class{constructor(e){hf(this,"name","cip34"),hf(this,"client"),hf(this,"httpProviders"),hf(this,"events"),hf(this,"namespace"),hf(this,"chainId"),this.namespace=e.namespace,this.events=on("events"),this.client=on("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Aa.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const i=this.getCardanoRPCUrl(n),f=rh(n);e[f]=this.createHttpProvider(f,i)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const i=this.createHttpProvider(e,n);i&&(this.httpProviders[e]=i)}createHttpProvider(e,n){const i=n||this.getCardanoRPCUrl(e);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ta(new vo(i,on("disableProviderPing")))}};var S7e=Object.defineProperty,T7e=(t,e,n)=>e in t?S7e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ff=(t,e,n)=>T7e(t,typeof e!="symbol"?e+"":e,n);let A7e=class{constructor(e){ff(this,"name","elrond"),ff(this,"client"),ff(this,"httpProviders"),ff(this,"events"),ff(this,"namespace"),ff(this,"chainId"),this.namespace=e.namespace,this.events=on("events"),this.client=on("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Aa.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var i;const f=rh(n);e[f]=this.createHttpProvider(f,(i=this.namespace.rpcMap)==null?void 0:i[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const i=this.createHttpProvider(e,n);i&&(this.httpProviders[e]=i)}createHttpProvider(e,n){const i=n||zs(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ta(new vo(i,on("disableProviderPing")))}};var P7e=Object.defineProperty,I7e=(t,e,n)=>e in t?P7e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pf=(t,e,n)=>I7e(t,typeof e!="symbol"?e+"":e,n);let R7e=class{constructor(e){pf(this,"name","multiversx"),pf(this,"client"),pf(this,"httpProviders"),pf(this,"events"),pf(this,"namespace"),pf(this,"chainId"),this.namespace=e.namespace,this.events=on("events"),this.client=on("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Aa.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var i;const f=rh(n);e[f]=this.createHttpProvider(f,(i=this.namespace.rpcMap)==null?void 0:i[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const i=this.createHttpProvider(e,n);i&&(this.httpProviders[e]=i)}createHttpProvider(e,n){const i=n||zs(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ta(new vo(i,on("disableProviderPing")))}};var M7e=Object.defineProperty,O7e=(t,e,n)=>e in t?M7e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vf=(t,e,n)=>O7e(t,typeof e!="symbol"?e+"":e,n);let F7e=class{constructor(e){vf(this,"name","near"),vf(this,"client"),vf(this,"httpProviders"),vf(this,"events"),vf(this,"namespace"),vf(this,"chainId"),this.namespace=e.namespace,this.events=on("events"),this.client=on("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const i=n||zs(`${this.name}:${e}`,this.namespace);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,i)}this.events.emit(Aa.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var i;e[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const i=this.createHttpProvider(e,n);i&&(this.httpProviders[e]=i)}createHttpProvider(e,n){const i=n||zs(e,this.namespace);return typeof i>"u"?void 0:new Ta(new vo(i,on("disableProviderPing")))}};var $7e=Object.defineProperty,L7e=(t,e,n)=>e in t?$7e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gf=(t,e,n)=>L7e(t,typeof e!="symbol"?e+"":e,n);let D7e=class{constructor(e){gf(this,"name","tezos"),gf(this,"client"),gf(this,"httpProviders"),gf(this,"events"),gf(this,"namespace"),gf(this,"chainId"),this.namespace=e.namespace,this.events=on("events"),this.client=on("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const i=n||zs(`${this.name}:${e}`,this.namespace);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,i)}this.events.emit(Aa.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const i=this.createHttpProvider(e,n);i&&(this.httpProviders[e]=i)}createHttpProvider(e,n){const i=n||zs(e,this.namespace);return typeof i>"u"?void 0:new Ta(new vo(i))}};var N7e=Object.defineProperty,k7e=(t,e,n)=>e in t?N7e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mf=(t,e,n)=>k7e(t,typeof e!="symbol"?e+"":e,n);let B7e=class{constructor(e){mf(this,"name",sV),mf(this,"client"),mf(this,"httpProviders"),mf(this,"events"),mf(this,"namespace"),mf(this,"chainId"),this.namespace=e.namespace,this.events=on("events"),this.client=on("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Aa.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return yd(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const i={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(f=>{const b=yd(f);i[b.reference]=this.createHttpProvider(f)}),i}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const i=this.createHttpProvider(e,n);i&&(this.httpProviders[e]=i)}createHttpProvider(e,n){const i=n||zs(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ta(new vo(i,on("disableProviderPing")))}};var U7e=Object.defineProperty,j7e=Object.defineProperties,z7e=Object.getOwnPropertyDescriptors,nL=Object.getOwnPropertySymbols,W7e=Object.prototype.hasOwnProperty,G7e=Object.prototype.propertyIsEnumerable,hE=(t,e,n)=>e in t?U7e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Cy=(t,e)=>{for(var n in e||(e={}))W7e.call(e,n)&&hE(t,n,e[n]);if(nL)for(var n of nL(e))G7e.call(e,n)&&hE(t,n,e[n]);return t},c6=(t,e)=>j7e(t,z7e(e)),ta=(t,e,n)=>hE(t,typeof e!="symbol"?e+"":e,n);let V7e=class pV{constructor(e){ta(this,"client"),ta(this,"namespaces"),ta(this,"optionalNamespaces"),ta(this,"sessionProperties"),ta(this,"scopedProperties"),ta(this,"events",new kS),ta(this,"rpcProviders",{}),ta(this,"session"),ta(this,"providerOpts"),ta(this,"logger"),ta(this,"uri"),ta(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:Cm(Cx({level:e?.logger||B$})),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const n=new pV(e);return await n.initialize(),n}async request(e,n,i){const[f,b]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(f).request({request:Cy({},e),chainId:`${f}:${b}`,topic:this.session.topic,expiry:i})}sendAsync(e,n,i,f){const b=new Date().getTime();this.request(e,i,f).then(s=>n(null,Dg(b,s))).catch(s=>n(s,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Un("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:i,response:f}=await this.client.authenticate(e,n);i&&(this.uri=i,this.events.emit("display_uri",i));const b=await f();if(this.session=b.session,this.session){const s=X$(this.session.namespaces);this.namespaces=by(this.namespaces,s),await this.persist("namespaces",this.namespaces),this.onConnect()}return b}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:i}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const f=await i();this.session=f;const b=X$(f.namespaces);return this.namespaces=by(this.namespaces,b),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[i,f]=this.validateChain(e);this.getProvider(i).setDefaultChain(f,n)}catch(i){if(!/Please call connect/.test(i.message))throw i}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(!pa(n))return;for(const i of n)e.deletePairings?this.client.core.expirer.set(i.topic,0):await this.client.core.relayer.subscriber.unsubscribe(i.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}catch(n){this.logger.warn("Failed to cleanup pending pairings",n)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await rTe.init({core:this.providerOpts.core,logger:this.providerOpts.logger||B$,relayUrl:this.providerOpts.relayUrl||fTe,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(i){throw this.logger.error("Failed to get session",i),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const i=this.client.session.getAll();this.session=i[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>Of(n)))];l6("client",this.client),l6("events",this.events),l6("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const i=JTe(n,this.session);if(i?.length===0)return;const f=hV(i),b=by(this.namespaces,this.optionalNamespaces),s=c6(Cy({},b[n]),{accounts:i,chains:f});switch(n){case"eip155":this.rpcProviders[n]=new d7e({namespace:s});break;case"algorand":this.rpcProviders[n]=new x7e({namespace:s});break;case"solana":this.rpcProviders[n]=new p7e({namespace:s});break;case"cosmos":this.rpcProviders[n]=new m7e({namespace:s});break;case"polkadot":this.rpcProviders[n]=new s7e({namespace:s});break;case"cip34":this.rpcProviders[n]=new E7e({namespace:s});break;case"elrond":this.rpcProviders[n]=new A7e({namespace:s});break;case"multiversx":this.rpcProviders[n]=new R7e({namespace:s});break;case"near":this.rpcProviders[n]=new F7e({namespace:s});break;case"tezos":this.rpcProviders[n]=new D7e({namespace:s});break;default:this.rpcProviders[n]=new B7e({namespace:s})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:i}=e;i===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:i,topic:f}=e;if(f!==((n=this.session)==null?void 0:n.topic))return;const{event:b}=i;if(b.name==="accountsChanged"){const s=b.data;s&&pa(s)&&this.events.emit("accountsChanged",s.map(Y$))}else if(b.name==="chainChanged"){const s=i.chainId,y=i.event.data,r=Of(s),o=o6(s)!==o6(y)?`${r}:${o6(y)}`:s;this.onChainChanged(o)}else this.events.emit(b.name,b.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var i,f;if(e!==((i=this.session)==null?void 0:i.topic))return;const{namespaces:b}=n,s=(f=this.client)==null?void 0:f.session.get(e);this.session=c6(Cy({},s),{namespaces:b}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",c6(Cy({},Un("USER_DISCONNECTED")),{data:e.topic})))}),this.on(Aa.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[sV]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n={},optionalNamespaces:i={},sessionProperties:f,scopedProperties:b}=e;this.optionalNamespaces=by(n,i),this.sessionProperties=f,this.scopedProperties=b}validateChain(e){const[n,i]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,i];if(n&&!Object.keys(this.namespaces||{}).map(s=>Of(s)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&i)return[n,i];const f=Of(Object.keys(this.namespaces)[0]),b=this.rpcProviders[f].getDefaultChain();return[f,b]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[i,f]=this.validateChain(e);if(!f)return;this.updateNamespaceChain(i,f);const b=this.getProvider(i).getDefaultChain();n?(this.events.emit("chainChanged",f),this.emitAccountsChangedOnChainChange({namespace:i,previousChainId:b,newChainId:e})):this.getProvider(i).setDefaultChain(f),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:i}){var f,b;try{if(n===i)return;const s=(b=(f=this.session)==null?void 0:f.namespaces[e])==null?void 0:b.accounts;if(!s)return;const y=s.filter(r=>r.includes(`${i}:`)).map(Y$);if(!pa(y))return;this.events.emit("accountsChanged",y)}catch(s){this.logger.warn("Failed to emit accountsChanged on chain change",s)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const i=this.namespaces[e]?e:`${e}:${n}`,f={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[i]?this.namespaces[i]&&(this.namespaces[i].defaultChain=n):this.namespaces[i]=f}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var i;const f=((i=this.session)==null?void 0:i.topic)||"";await this.client.core.storage.setItem(`${wy}/${e}${f}`,n)}async getFromStore(e){var n;const i=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${wy}/${e}${i}`)}async deleteFromStore(e){var n;const i=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${wy}/${e}${i}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const i of n)i.startsWith(wy)&&await this.client.core.storage.removeItem(i)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}};const H7e=V7e,Y7e="wc",X7e="ethereum_provider",K7e=`${Y7e}@2:${X7e}:`,Z7e="https://rpc.walletconnect.org/v1/",fE=["eth_sendTransaction","personal_sign"],vV=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],pE=["chainChanged","accountsChanged"],gV=["chainChanged","accountsChanged","message","disconnect","connect"],J7e=async()=>{const{createAppKit:t}=await Ko(()=>import("./core-CE0v0uze.js").then(e=>e.X),[]);return t};var Q7e=Object.defineProperty,_7e=Object.defineProperties,q7e=Object.getOwnPropertyDescriptors,rL=Object.getOwnPropertySymbols,eAe=Object.prototype.hasOwnProperty,tAe=Object.prototype.propertyIsEnumerable,vE=(t,e,n)=>e in t?Q7e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zc=(t,e)=>{for(var n in e||(e={}))eAe.call(e,n)&&vE(t,n,e[n]);if(rL)for(var n of rL(e))tAe.call(e,n)&&vE(t,n,e[n]);return t},G0=(t,e)=>_7e(t,q7e(e)),Ps=(t,e,n)=>vE(t,typeof e!="symbol"?e+"":e,n);function _2(t){return Number(t[0].split(":")[1])}function Ey(t){return`0x${t.toString(16)}`}function nAe(t){const{chains:e,optionalChains:n,methods:i,optionalMethods:f,events:b,optionalEvents:s,rpcMap:y}=t;if(!pa(e))throw new Error("Invalid chains");const r={chains:e,methods:i||fE,events:b||pE,rpcMap:Zc({},e.length?{[_2(e)]:y[_2(e)]}:{})},o=b?.filter(l=>!pE.includes(l)),v=i?.filter(l=>!fE.includes(l));if(!n&&!s&&!f&&!(o!=null&&o.length)&&!(v!=null&&v.length))return{required:e.length?r:void 0};const c=o?.length&&v?.length||!n,u={chains:[...new Set(c?r.chains.concat(n||[]):n)],methods:[...new Set(r.methods.concat(f!=null&&f.length?f:vV))],events:[...new Set(r.events.concat(s!=null&&s.length?s:gV))],rpcMap:y};return{required:e.length?r:void 0,optional:n.length?u:void 0}}let rAe=class mV{constructor(){Ps(this,"events",new Vs.EventEmitter),Ps(this,"namespace","eip155"),Ps(this,"accounts",[]),Ps(this,"signer"),Ps(this,"chainId",1),Ps(this,"modal"),Ps(this,"rpc"),Ps(this,"STORAGE_KEY",K7e),Ps(this,"on",(e,n)=>(this.events.on(e,n),this)),Ps(this,"once",(e,n)=>(this.events.once(e,n),this)),Ps(this,"removeListener",(e,n)=>(this.events.removeListener(e,n),this)),Ps(this,"off",(e,n)=>(this.events.off(e,n),this)),Ps(this,"parseAccount",e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e),this.signer={},this.rpc={}}static async init(e){const n=new mV;return await n.initialize(e),n}async request(e,n){return await this.signer.request(e,this.formatChainId(this.chainId),n)}sendAsync(e,n,i){this.signer.sendAsync(e,n,this.formatChainId(this.chainId),i)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){var n;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:i,optional:f}=nAe(this.rpc);try{const b=await new Promise(async(y,r)=>{var o,v;this.rpc.showQrModal&&((o=this.modal)==null||o.open(),(v=this.modal)==null||v.subscribeState(u=>{!u.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),r(new Error("Connection request reset. Please try again.")))}));const c=e!=null&&e.scopedProperties?{[this.namespace]:e.scopedProperties}:void 0;await this.signer.connect(G0(Zc({namespaces:Zc({},i&&{[this.namespace]:i})},f&&{optionalNamespaces:{[this.namespace]:f}}),{pairingTopic:e?.pairingTopic,scopedProperties:c})).then(u=>{y(u)}).catch(u=>{var l;(l=this.modal)==null||l.showErrorMessage("Unable to connect"),r(new Error(u.message))})});if(!b)return;const s=WO(b.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:s),this.setAccounts(s),this.events.emit("connect",{chainId:Ey(this.chainId)})}catch(b){throw this.signer.logger.error(b),b}finally{(n=this.modal)==null||n.close()}}async authenticate(e,n){var i;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:e?.chains});try{const f=await new Promise(async(s,y)=>{var r,o;this.rpc.showQrModal&&((r=this.modal)==null||r.open(),(o=this.modal)==null||o.subscribeState(v=>{!v.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),y(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(G0(Zc({},e),{chains:this.rpc.chains}),n).then(v=>{s(v)}).catch(v=>{var c;(c=this.modal)==null||c.showErrorMessage("Unable to connect"),y(new Error(v.message))})}),b=f.session;if(b){const s=WO(b.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:s),this.setAccounts(s),this.events.emit("connect",{chainId:Ey(this.chainId)})}return f}catch(f){throw this.signer.logger.error(f),f}finally{(i=this.modal)==null||i.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:n}=e,{event:i}=n;i.name==="accountsChanged"?(this.accounts=this.parseAccounts(i.data),this.events.emit("accountsChanged",this.accounts)):i.name==="chainChanged"?this.setChainId(this.formatChainId(i.data)):this.events.emit(i.name,i.data),this.events.emit("session_event",e)}),this.signer.on("accountsChanged",e=>{this.accounts=this.parseAccounts(e),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",e=>{const n=parseInt(e);this.chainId=n,this.events.emit("chainChanged",Ey(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",G0(Zc({},Un("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const n=e.filter(i=>this.isCompatibleChainId(i)).map(i=>this.parseChainId(i));n.length&&(this.chainId=n[0],this.events.emit("chainChanged",Ey(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const n=this.parseChainId(e);this.chainId=n,this.switchEthereumChain(n)}}parseAccountId(e){const[n,i,f]=e.split(":");return{chainId:`${n}:${i}`,address:f}}setAccounts(e){this.accounts=e.filter(n=>this.parseChainId(this.parseAccountId(n).chainId)===this.chainId).map(n=>this.parseAccountId(n).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var n,i;const f=(n=e?.chains)!=null?n:[],b=(i=e?.optionalChains)!=null?i:[],s=f.concat(b);if(!s.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const y=f.length?e?.methods||fE:[],r=f.length?e?.events||pE:[],o=e?.optionalMethods||[],v=e?.optionalEvents||[],c=e?.rpcMap||this.buildRpcMap(s,e.projectId),u=e?.qrModalOptions||void 0;return{chains:f?.map(l=>this.formatChainId(l)),optionalChains:b.map(l=>this.formatChainId(l)),methods:y,events:r,optionalMethods:o,optionalEvents:v,rpcMap:c,showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:u,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,n){const i={};return e.forEach(f=>{i[f]=this.getRpcUrl(f,n)}),i}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?_2(this.rpc.chains):_2(this.rpc.optionalChains),this.signer=await H7e.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storage:e.storage,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled,logger:e.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let n;try{const i=await J7e(),{convertWCMToAppKitOptions:f}=await Promise.resolve().then(function(){return pAe}),b=f(G0(Zc({},this.rpc.qrModalOptions),{chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId}));if(!b.networks.length)throw new Error("No networks found for WalletConnect");n=i(G0(Zc({},b),{universalProvider:this.signer,manualWCControl:!0}))}catch(i){throw console.warn(i),new Error("To use QR modal, please install @reown/appkit package")}if(n)try{this.modal=n}catch(i){throw this.signer.logger.error(i),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:n,optionalChains:i,rpcMap:f}=e;n&&pa(n)&&(this.rpc.chains=n.map(b=>this.formatChainId(b)),n.forEach(b=>{this.rpc.rpcMap[b]=f?.[b]||this.getRpcUrl(b)})),i&&pa(i)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=i?.map(b=>this.formatChainId(b)),i.forEach(b=>{this.rpc.rpcMap[b]=f?.[b]||this.getRpcUrl(b)}))}getRpcUrl(e,n){var i;return((i=this.rpc.rpcMap)==null?void 0:i[e])||`${Z7e}?chainId=eip155:${e}&projectId=${n||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),n=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:n?.accounts),this.setAccounts(n?.accounts)}catch(e){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(e),await this.disconnect().catch(n=>this.signer.logger.warn(n))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(n=>this.parseAccount(n))}};const iAe=rAe;var sAe=Object.defineProperty,aAe=Object.defineProperties,oAe=Object.getOwnPropertyDescriptors,iL=Object.getOwnPropertySymbols,lAe=Object.prototype.hasOwnProperty,uAe=Object.prototype.propertyIsEnumerable,sL=(t,e,n)=>e in t?sAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yV=(t,e)=>{for(var n in e||(e={}))lAe.call(e,n)&&sL(t,n,e[n]);if(iL)for(var n of iL(e))uAe.call(e,n)&&sL(t,n,e[n]);return t},cAe=(t,e)=>aAe(t,oAe(e));function dAe(t){if(t)return{"--w3m-font-family":t["--wcm-font-family"],"--w3m-accent":t["--wcm-accent-color"],"--w3m-color-mix":t["--wcm-background-color"],"--w3m-z-index":t["--wcm-z-index"]?Number(t["--wcm-z-index"]):void 0,"--w3m-qr-color":t["--wcm-accent-color"],"--w3m-font-size-master":t["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":t["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}const hAe=t=>{const[e,n]=t.split(":");return wV({id:n,caipNetworkId:t,chainNamespace:e,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function fAe(t){var e,n,i,f,b,s,y;const r=(e=t.chains)==null?void 0:e.map(hAe).filter(Boolean);if(r.length===0)throw new Error("At least one chain must be specified");const o=r.find(c=>{var u;return c.id===((u=t.defaultChain)==null?void 0:u.id)}),v={projectId:t.projectId,networks:r,themeMode:t.themeMode,themeVariables:dAe(t.themeVariables),chainImages:t.chainImages,connectorImages:t.walletImages,defaultNetwork:o,metadata:cAe(yV({},t.metadata),{name:((n=t.metadata)==null?void 0:n.name)||"WalletConnect",description:((i=t.metadata)==null?void 0:i.description)||"Connect to WalletConnect-compatible wallets",url:((f=t.metadata)==null?void 0:f.url)||"https://walletconnect.org",icons:((b=t.metadata)==null?void 0:b.icons)||["https://walletconnect.org/walletconnect-logo.png"]}),showWallets:!0,featuredWalletIds:t.explorerRecommendedWalletIds==="NONE"?[]:Array.isArray(t.explorerRecommendedWalletIds)?t.explorerRecommendedWalletIds:[],excludeWalletIds:t.explorerExcludedWalletIds==="ALL"?[]:Array.isArray(t.explorerExcludedWalletIds)?t.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if((s=t.mobileWallets)!=null&&s.length||(y=t.desktopWallets)!=null&&y.length){const c=[...(t.mobileWallets||[]).map(a=>({id:a.id,name:a.name,links:a.links})),...(t.desktopWallets||[]).map(a=>({id:a.id,name:a.name,links:{native:a.links.native,universal:a.links.universal}}))],u=[...v.featuredWalletIds||[],...v.excludeWalletIds||[]],l=c.filter(a=>!u.includes(a.id));l.length&&(v.customWallets=l)}return v}function wV(t){return yV({formatters:void 0,fees:void 0,serializers:void 0},t)}var pAe=Object.freeze({__proto__:null,convertWCMToAppKitOptions:fAe,defineChain:wV});function vAe({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{fillRule:"evenodd",d:"M15.97 2.47a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1 0 1.06l-4.5 4.5a.75.75 0 1 1-1.06-1.06l3.22-3.22H7.5a.75.75 0 0 1 0-1.5h11.69l-3.22-3.22a.75.75 0 0 1 0-1.06Zm-7.94 9a.75.75 0 0 1 0 1.06l-3.22 3.22H16.5a.75.75 0 0 1 0 1.5H4.81l3.22 3.22a.75.75 0 1 1-1.06 1.06l-4.5-4.5a.75.75 0 0 1 0-1.06l4.5-4.5a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const pT=H.forwardRef(vAe),xV=typeof document<"u"?Ze.useLayoutEffect:()=>{};var d6;const gAe=(d6=Ze.useInsertionEffect)!==null&&d6!==void 0?d6:xV;function mAe(t){const e=H.useRef(null);return gAe(()=>{e.current=t},[t]),H.useCallback((...n)=>{const i=e.current;return i?.(...n)},[])}const gc=t=>{var e;return(e=t?.ownerDocument)!==null&&e!==void 0?e:document},cd=t=>t&&"window"in t&&t.window===t?t:gc(t).defaultView||window;function yAe(t){return t!==null&&typeof t=="object"&&"nodeType"in t&&typeof t.nodeType=="number"}function wAe(t){return yAe(t)&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in t}let xAe=!1;function vT(){return xAe}function bV(t,e){if(!vT())return e&&t?t.contains(e):!1;if(!t||!e)return!1;let n=e;for(;n!==null;){if(n===t)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:wAe(n)?n=n.host:n=n.parentNode}return!1}const gE=(t=document)=>{var e;if(!vT())return t.activeElement;let n=t.activeElement;for(;n&&"shadowRoot"in n&&(!((e=n.shadowRoot)===null||e===void 0)&&e.activeElement);)n=n.shadowRoot.activeElement;return n};function CV(t){return vT()&&t.target.shadowRoot&&t.composedPath?t.composedPath()[0]:t.target}function bAe(t){var e;if(typeof window>"u"||window.navigator==null)return!1;let n=(e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands;return Array.isArray(n)&&n.some(i=>t.test(i.brand))||t.test(window.navigator.userAgent)}function CAe(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function EV(t){let e=null;return()=>(e==null&&(e=t()),e)}const EAe=EV(function(){return CAe(/^Mac/i)}),SAe=EV(function(){return bAe(/Android/i)});function SV(){let t=H.useRef(new Map),e=H.useCallback((f,b,s,y)=>{let r=y?.once?(...o)=>{t.current.delete(s),s(...o)}:s;t.current.set(s,{type:b,eventTarget:f,fn:r,options:y}),f.addEventListener(b,r,y)},[]),n=H.useCallback((f,b,s,y)=>{var r;let o=((r=t.current.get(s))===null||r===void 0?void 0:r.fn)||s;f.removeEventListener(b,o,y),t.current.delete(s)},[]),i=H.useCallback(()=>{t.current.forEach((f,b)=>{n(f.eventTarget,f.type,b,f.options)})},[n]);return H.useEffect(()=>i,[i]),{addGlobalListener:e,removeGlobalListener:n,removeAllGlobalListeners:i}}function TAe(t){return t.pointerType===""&&t.isTrusted?!0:SAe()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function TV(t){let e=t;return e.nativeEvent=t,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function AAe(t,e){Object.defineProperty(t,"target",{value:e}),Object.defineProperty(t,"currentTarget",{value:e})}function AV(t){let e=H.useRef({isFocused:!1,observer:null});xV(()=>{const i=e.current;return()=>{i.observer&&(i.observer.disconnect(),i.observer=null)}},[]);let n=mAe(i=>{t?.(i)});return H.useCallback(i=>{if(i.target instanceof HTMLButtonElement||i.target instanceof HTMLInputElement||i.target instanceof HTMLTextAreaElement||i.target instanceof HTMLSelectElement){e.current.isFocused=!0;let f=i.target,b=s=>{if(e.current.isFocused=!1,f.disabled){let y=TV(s);n(y)}e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};f.addEventListener("focusout",b,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&f.disabled){var s;(s=e.current.observer)===null||s===void 0||s.disconnect();let y=f===document.activeElement?null:document.activeElement;f.dispatchEvent(new FocusEvent("blur",{relatedTarget:y})),f.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:y}))}}),e.current.observer.observe(f,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let PAe=!1,Tm=null,mE=new Set,Av=new Map,Nd=!1,yE=!1;const IAe={Tab:!0,Escape:!0};function gT(t,e){for(let n of mE)n(t,e)}function RAe(t){return!(t.metaKey||!EAe()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function q2(t){Nd=!0,RAe(t)&&(Tm="keyboard",gT("keyboard",t))}function Vf(t){Tm="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(Nd=!0,gT("pointer",t))}function PV(t){TAe(t)&&(Nd=!0,Tm="virtual")}function IV(t){t.target===window||t.target===document||PAe||!t.isTrusted||(!Nd&&!yE&&(Tm="virtual",gT("virtual",t)),Nd=!1,yE=!1)}function RV(){Nd=!1,yE=!0}function wE(t){if(typeof window>"u"||typeof document>"u"||Av.get(cd(t)))return;const e=cd(t),n=gc(t);let i=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){Nd=!0,i.apply(this,arguments)},n.addEventListener("keydown",q2,!0),n.addEventListener("keyup",q2,!0),n.addEventListener("click",PV,!0),e.addEventListener("focus",IV,!0),e.addEventListener("blur",RV,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",Vf,!0),n.addEventListener("pointermove",Vf,!0),n.addEventListener("pointerup",Vf,!0)),e.addEventListener("beforeunload",()=>{MV(t)},{once:!0}),Av.set(e,{focus:i})}const MV=(t,e)=>{const n=cd(t),i=gc(t);e&&i.removeEventListener("DOMContentLoaded",e),Av.has(n)&&(n.HTMLElement.prototype.focus=Av.get(n).focus,i.removeEventListener("keydown",q2,!0),i.removeEventListener("keyup",q2,!0),i.removeEventListener("click",PV,!0),n.removeEventListener("focus",IV,!0),n.removeEventListener("blur",RV,!1),typeof PointerEvent<"u"&&(i.removeEventListener("pointerdown",Vf,!0),i.removeEventListener("pointermove",Vf,!0),i.removeEventListener("pointerup",Vf,!0)),Av.delete(n))};function MAe(t){const e=gc(t);let n;return e.readyState!=="loading"?wE(t):(n=()=>{wE(t)},e.addEventListener("DOMContentLoaded",n)),()=>MV(t,n)}typeof document<"u"&&MAe();function OV(){return Tm!=="pointer"}const OAe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function FAe(t,e,n){let i=gc(n?.target);const f=typeof window<"u"?cd(n?.target).HTMLInputElement:HTMLInputElement,b=typeof window<"u"?cd(n?.target).HTMLTextAreaElement:HTMLTextAreaElement,s=typeof window<"u"?cd(n?.target).HTMLElement:HTMLElement,y=typeof window<"u"?cd(n?.target).KeyboardEvent:KeyboardEvent;return t=t||i.activeElement instanceof f&&!OAe.has(i.activeElement.type)||i.activeElement instanceof b||i.activeElement instanceof s&&i.activeElement.isContentEditable,!(t&&e==="keyboard"&&n instanceof y&&!IAe[n.key])}function $Ae(t,e,n){wE(),H.useEffect(()=>{let i=(f,b)=>{FAe(!!n?.isTextInput,f,b)&&t(OV())};return mE.add(i),()=>{mE.delete(i)}},e)}function LAe(t){let{isDisabled:e,onFocus:n,onBlur:i,onFocusChange:f}=t;const b=H.useCallback(r=>{if(r.target===r.currentTarget)return i&&i(r),f&&f(!1),!0},[i,f]),s=AV(b),y=H.useCallback(r=>{const o=gc(r.target),v=o?gE(o):gE();r.target===r.currentTarget&&v===CV(r.nativeEvent)&&(n&&n(r),f&&f(!0),s(r))},[f,n,s]);return{focusProps:{onFocus:!e&&(n||f||i)?y:void 0,onBlur:!e&&(i||f)?b:void 0}}}function DAe(t){let{isDisabled:e,onBlurWithin:n,onFocusWithin:i,onFocusWithinChange:f}=t,b=H.useRef({isFocusWithin:!1}),{addGlobalListener:s,removeAllGlobalListeners:y}=SV(),r=H.useCallback(c=>{c.currentTarget.contains(c.target)&&b.current.isFocusWithin&&!c.currentTarget.contains(c.relatedTarget)&&(b.current.isFocusWithin=!1,y(),n&&n(c),f&&f(!1))},[n,f,b,y]),o=AV(r),v=H.useCallback(c=>{if(!c.currentTarget.contains(c.target))return;const u=gc(c.target),l=gE(u);if(!b.current.isFocusWithin&&l===CV(c.nativeEvent)){i&&i(c),f&&f(!0),b.current.isFocusWithin=!0,o(c);let a=c.currentTarget;s(u,"focus",d=>{if(b.current.isFocusWithin&&!bV(a,d.target)){let p=new u.defaultView.FocusEvent("blur",{relatedTarget:d.target});AAe(p,a);let h=TV(p);r(h)}},{capture:!0})}},[i,f,o,s,r]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:v,onBlur:r}}}let xE=!1,Sy=0;function NAe(){xE=!0,setTimeout(()=>{xE=!1},50)}function aL(t){t.pointerType==="touch"&&NAe()}function kAe(){if(!(typeof document>"u"))return Sy===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",aL),Sy++,()=>{Sy--,!(Sy>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",aL)}}function BAe(t){let{onHoverStart:e,onHoverChange:n,onHoverEnd:i,isDisabled:f}=t,[b,s]=H.useState(!1),y=H.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;H.useEffect(kAe,[]);let{addGlobalListener:r,removeAllGlobalListeners:o}=SV(),{hoverProps:v,triggerHoverEnd:c}=H.useMemo(()=>{let u=(d,p)=>{if(y.pointerType=p,f||p==="touch"||y.isHovered||!d.currentTarget.contains(d.target))return;y.isHovered=!0;let h=d.currentTarget;y.target=h,r(gc(d.target),"pointerover",g=>{y.isHovered&&y.target&&!bV(y.target,g.target)&&l(g,g.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:h,pointerType:p}),n&&n(!0),s(!0)},l=(d,p)=>{let h=y.target;y.pointerType="",y.target=null,!(p==="touch"||!y.isHovered||!h)&&(y.isHovered=!1,o(),i&&i({type:"hoverend",target:h,pointerType:p}),n&&n(!1),s(!1))},a={};return typeof PointerEvent<"u"&&(a.onPointerEnter=d=>{xE&&d.pointerType==="mouse"||u(d,d.pointerType)},a.onPointerLeave=d=>{!f&&d.currentTarget.contains(d.target)&&l(d,d.pointerType)}),{hoverProps:a,triggerHoverEnd:l}},[e,n,i,f,y,r,o]);return H.useEffect(()=>{f&&c({currentTarget:y.target},y.pointerType)},[f]),{hoverProps:v,isHovered:b}}function UAe(t={}){let{autoFocus:e=!1,isTextInput:n,within:i}=t,f=H.useRef({isFocused:!1,isFocusVisible:e||OV()}),[b,s]=H.useState(!1),[y,r]=H.useState(()=>f.current.isFocused&&f.current.isFocusVisible),o=H.useCallback(()=>r(f.current.isFocused&&f.current.isFocusVisible),[]),v=H.useCallback(l=>{f.current.isFocused=l,s(l),o()},[o]);$Ae(l=>{f.current.isFocusVisible=l,o()},[],{isTextInput:n});let{focusProps:c}=LAe({isDisabled:i,onFocusChange:v}),{focusWithinProps:u}=DAe({isDisabled:!i,onFocusWithinChange:v});return{isFocused:b,isFocusVisible:y,focusProps:i?u:c}}var jAe=Object.defineProperty,zAe=(t,e,n)=>e in t?jAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,h6=(t,e,n)=>(zAe(t,typeof e!="symbol"?e+"":e,n),n);let WAe=class{constructor(){h6(this,"current",this.detect()),h6(this,"handoffState","pending"),h6(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},_o=new WAe;function ih(t){var e;return _o.isServer?null:t==null?document:(e=t?.ownerDocument)!=null?e:document}function ew(t){var e,n;return _o.isServer?null:t==null?document:(n=(e=t?.getRootNode)==null?void 0:e.call(t))!=null?n:document}function mT(t){var e,n;return(n=(e=ew(t))==null?void 0:e.activeElement)!=null?n:null}function FV(t){return mT(t)===t}function Px(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function gs(){let t=[],e={addEventListener(n,i,f,b){return n.addEventListener(i,f,b),e.add(()=>n.removeEventListener(i,f,b))},requestAnimationFrame(...n){let i=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(i))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let i=setTimeout(...n);return e.add(()=>clearTimeout(i))},microTask(...n){let i={current:!0};return Px(()=>{i.current&&n[0]()}),e.add(()=>{i.current=!1})},style(n,i,f){let b=n.style.getPropertyValue(i);return Object.assign(n.style,{[i]:f}),this.add(()=>{Object.assign(n.style,{[i]:b})})},group(n){let i=gs();return n(i),this.add(()=>i.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let i=t.indexOf(n);if(i>=0)for(let f of t.splice(i,1))f()}},dispose(){for(let n of t.splice(0))n()}};return e}function sh(){let[t]=H.useState(gs);return H.useEffect(()=>()=>t.dispose(),[t]),t}let zn=(t,e)=>{_o.isServer?H.useEffect(t,e):H.useLayoutEffect(t,e)};function ah(t){let e=H.useRef(t);return zn(()=>{e.current=t},[t]),e}let Rt=function(t){let e=ah(t);return Ze.useCallback((...n)=>e.current(...n),[e])};function GAe(t){let e=t.width/2,n=t.height/2;return{top:t.clientY-n,right:t.clientX+e,bottom:t.clientY+n,left:t.clientX-e}}function VAe(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function HAe({disabled:t=!1}={}){let e=H.useRef(null),[n,i]=H.useState(!1),f=sh(),b=Rt(()=>{e.current=null,i(!1),f.dispose()}),s=Rt(y=>{if(f.dispose(),e.current===null){e.current=y.currentTarget,i(!0);{let r=ih(y.currentTarget);f.addEventListener(r,"pointerup",b,!1),f.addEventListener(r,"pointermove",o=>{if(e.current){let v=GAe(o);i(VAe(v,e.current.getBoundingClientRect()))}},!1),f.addEventListener(r,"pointercancel",b,!1)}}});return{pressed:n,pressProps:t?{}:{onPointerDown:s,onPointerUp:b,onClick:b}}}function ll(t){return H.useMemo(()=>t,Object.values(t))}let YAe=H.createContext(void 0);function $V(){return H.useContext(YAe)}function bE(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function so(t,e,...n){if(t in e){let f=e[t];return typeof f=="function"?f(...n):f}let i=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(f=>`"${f}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,so),i}var gp=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(gp||{}),ec=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(ec||{});function Er(){let t=KAe();return H.useCallback(e=>XAe({mergeRefs:t,...e}),[t])}function XAe({ourProps:t,theirProps:e,slot:n,defaultTag:i,features:f,visible:b=!0,name:s,mergeRefs:y}){y=y??ZAe;let r=LV(e,t);if(b)return Ty(r,n,i,s,y);let o=f??0;if(o&2){let{static:v=!1,...c}=r;if(v)return Ty(c,n,i,s,y)}if(o&1){let{unmount:v=!0,...c}=r;return so(v?0:1,{0(){return null},1(){return Ty({...c,hidden:!0,style:{display:"none"}},n,i,s,y)}})}return Ty(r,n,i,s,y)}function Ty(t,e={},n,i,f){let{as:b=n,children:s,refName:y="ref",...r}=f6(t,["unmount","static"]),o=t.ref!==void 0?{[y]:t.ref}:{},v=typeof s=="function"?s(e):s;"className"in r&&r.className&&typeof r.className=="function"&&(r.className=r.className(e)),r["aria-labelledby"]&&r["aria-labelledby"]===r.id&&(r["aria-labelledby"]=void 0);let c={};if(e){let u=!1,l=[];for(let[a,d]of Object.entries(e))typeof d=="boolean"&&(u=!0),d===!0&&l.push(a.replace(/([A-Z])/g,p=>`-${p.toLowerCase()}`));if(u){c["data-headlessui-state"]=l.join(" ");for(let a of l)c[`data-${a}`]=""}}if(Pv(b)&&(Object.keys(Jc(r)).length>0||Object.keys(Jc(c)).length>0))if(!H.isValidElement(v)||Array.isArray(v)&&v.length>1||QAe(v)){if(Object.keys(Jc(r)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${i} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Jc(r)).concat(Object.keys(Jc(c))).map(u=>`  - ${u}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(u=>`  - ${u}`).join(`
`)].join(`
`))}else{let u=v.props,l=u?.className,a=typeof l=="function"?(...h)=>bE(l(...h),r.className):bE(l,r.className),d=a?{className:a}:{},p=LV(v.props,Jc(f6(r,["ref"])));for(let h in c)h in p&&delete c[h];return H.cloneElement(v,Object.assign({},p,c,o,{ref:f(JAe(v),o.ref)},d))}return H.createElement(b,Object.assign({},f6(r,["ref"]),!Pv(b)&&o,!Pv(b)&&c),v)}function KAe(){let t=H.useRef([]),e=H.useCallback(n=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(n):i.current=n)},[]);return(...n)=>{if(!n.every(i=>i==null))return t.current=n,e}}function ZAe(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function LV(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let i of t)for(let f in i)f.startsWith("on")&&typeof i[f]=="function"?(n[f]!=null||(n[f]=[]),n[f].push(i[f])):e[f]=i[f];if(e.disabled||e["aria-disabled"])for(let i in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(i)&&(n[i]=[f=>{var b;return(b=f?.preventDefault)==null?void 0:b.call(f)}]);for(let i in n)Object.assign(e,{[i](f,...b){let s=n[i];for(let y of s){if((f instanceof Event||f?.nativeEvent instanceof Event)&&f.defaultPrevented)return;y(f,...b)}}});return e}function DV(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let i of t)for(let f in i)f.startsWith("on")&&typeof i[f]=="function"?(n[f]!=null||(n[f]=[]),n[f].push(i[f])):e[f]=i[f];for(let i in n)Object.assign(e,{[i](...f){let b=n[i];for(let s of b)s?.(...f)}});return e}function ir(t){var e;return Object.assign(H.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Jc(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function f6(t,e=[]){let n=Object.assign({},t);for(let i of e)i in n&&delete n[i];return n}function JAe(t){return Ze.version.split(".")[0]>="19"?t.props.ref:t.ref}function Pv(t){return t===H.Fragment||t===Symbol.for("react.fragment")}function QAe(t){return Pv(t.type)}let _Ae="span";var tw=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(tw||{});function qAe(t,e){var n;let{features:i=1,...f}=t,b={ref:e,"aria-hidden":(i&2)===2?!0:(n=f["aria-hidden"])!=null?n:void 0,hidden:(i&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(i&4)===4&&(i&2)!==2&&{display:"none"}}};return Er()({ourProps:b,theirProps:f,slot:{},defaultTag:_Ae,name:"Hidden"})}let CE=ir(qAe),ePe=H.createContext(void 0);function tPe(){return H.useContext(ePe)}function NV(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function Kl(t){return NV(t)&&"tagName"in t}function Ws(t){return Kl(t)&&"accessKey"in t}function Yo(t){return Kl(t)&&"tabIndex"in t}function nPe(t){return Kl(t)&&"style"in t}function rPe(t){return Ws(t)&&t.nodeName==="IFRAME"}function kV(t){return Ws(t)&&t.nodeName==="INPUT"}function oL(t){return Ws(t)&&t.nodeName==="LABEL"}function iPe(t){return Ws(t)&&t.nodeName==="FIELDSET"}function BV(t){return Ws(t)&&t.nodeName==="LEGEND"}function sPe(t){return Kl(t)?t.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function lL(t){let e=t.parentElement,n=null;for(;e&&!iPe(e);)BV(e)&&(n=e),e=e.parentElement;let i=e?.getAttribute("disabled")==="";return i&&aPe(n)?!1:i}function aPe(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(BV(e))return!1;e=e.previousElementSibling}return!0}let UV=Symbol();function oPe(t,e=!0){return Object.assign(t,{[UV]:e})}function ji(...t){let e=H.useRef(t);H.useEffect(()=>{e.current=t},[t]);let n=Rt(i=>{for(let f of e.current)f!=null&&(typeof f=="function"?f(i):f.current=i)});return t.every(i=>i==null||i?.[UV])?void 0:n}let yT=H.createContext(null);yT.displayName="DescriptionContext";function jV(){let t=H.useContext(yT);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,jV),e}return t}function zV(){let[t,e]=H.useState([]);return[t.length>0?t.join(" "):void 0,H.useMemo(()=>function(n){let i=Rt(b=>(e(s=>[...s,b]),()=>e(s=>{let y=s.slice(),r=y.indexOf(b);return r!==-1&&y.splice(r,1),y}))),f=H.useMemo(()=>({register:i,slot:n.slot,name:n.name,props:n.props,value:n.value}),[i,n.slot,n.name,n.props,n.value]);return Ze.createElement(yT.Provider,{value:f},n.children)},[e])]}let lPe="p";function uPe(t,e){let n=H.useId(),i=$V(),{id:f=`headlessui-description-${n}`,...b}=t,s=jV(),y=ji(e);zn(()=>s.register(f),[f,s.register]);let r=ll({...s.slot,disabled:i||!1}),o={ref:y,...s.props,id:f};return Er()({ourProps:o,theirProps:b,slot:r,defaultTag:lPe,name:s.name||"Description"})}let cPe=ir(uPe),dPe=Object.assign(cPe,{});var Xr=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Xr||{});let Ix=H.createContext(null);Ix.displayName="LabelContext";function wT(){let t=H.useContext(Ix);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,wT),e}return t}function hPe(t){var e,n,i;let f=(n=(e=H.useContext(Ix))==null?void 0:e.value)!=null?n:void 0;return((i=void 0)!=null?i:0)>0?[f,...t].filter(Boolean).join(" "):f}function WV({inherit:t=!1}={}){let e=hPe(),[n,i]=H.useState([]),f=t?[e,...n].filter(Boolean):n;return[f.length>0?f.join(" "):void 0,H.useMemo(()=>function(b){let s=Rt(r=>(i(o=>[...o,r]),()=>i(o=>{let v=o.slice(),c=v.indexOf(r);return c!==-1&&v.splice(c,1),v}))),y=H.useMemo(()=>({register:s,slot:b.slot,name:b.name,props:b.props,value:b.value}),[s,b.slot,b.name,b.props,b.value]);return Ze.createElement(Ix.Provider,{value:y},b.children)},[i])]}let fPe="label";function pPe(t,e){var n;let i=H.useId(),f=wT(),b=tPe(),s=$V(),{id:y=`headlessui-label-${i}`,htmlFor:r=b??((n=f.props)==null?void 0:n.htmlFor),passive:o=!1,...v}=t,c=ji(e);zn(()=>f.register(y),[y,f.register]);let u=Rt(d=>{let p=d.currentTarget;if(!(d.target!==d.currentTarget&&sPe(d.target))&&(oL(p)&&d.preventDefault(),f.props&&"onClick"in f.props&&typeof f.props.onClick=="function"&&f.props.onClick(d),oL(p))){let h=document.getElementById(p.htmlFor);if(h){let g=h.getAttribute("disabled");if(g==="true"||g==="")return;let m=h.getAttribute("aria-disabled");if(m==="true"||m==="")return;(kV(h)&&(h.type==="file"||h.type==="radio"||h.type==="checkbox")||h.role==="radio"||h.role==="checkbox"||h.role==="switch")&&h.click(),h.focus({preventScroll:!0})}}}),l=ll({...f.slot,disabled:s||!1}),a={ref:c,...f.props,id:y,htmlFor:r,onClick:u};return o&&("onClick"in a&&(delete a.htmlFor,delete a.onClick),"onClick"in v&&delete v.onClick),Er()({ourProps:a,theirProps:v,slot:l,defaultTag:r?fPe:"div",name:f.name||"Label"})}let vPe=ir(pPe);Object.assign(vPe,{});let gPe=H.createContext(()=>{});function mPe({value:t,children:e}){return Ze.createElement(gPe.Provider,{value:t},e)}function uL(t){if(t===null)return{width:0,height:0};let{width:e,height:n}=t.getBoundingClientRect();return{width:e,height:n}}function yPe(t,e,n=!1){let[i,f]=H.useState(()=>uL(e));return zn(()=>{if(!e||!t)return;let b=gs();return b.requestAnimationFrame(function s(){b.requestAnimationFrame(s),f(y=>{let r=uL(e);return r.width===y.width&&r.height===y.height?y:r})}),()=>{b.dispose()}},[e,t]),n?{width:`${i.width}px`,height:`${i.height}px`}:i}var GV=(t=>(t[t.Left=0]="Left",t[t.Right=2]="Right",t))(GV||{});function wPe(t){let e=H.useRef(null),n=Rt(f=>{e.current=f.pointerType,!lL(f.currentTarget)&&f.pointerType==="mouse"&&f.button===GV.Left&&(f.preventDefault(),t(f))}),i=Rt(f=>{e.current!=="mouse"&&(lL(f.currentTarget)||t(f))});return{onPointerDown:n,onClick:i}}let VV=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};var xPe=Object.defineProperty,bPe=(t,e,n)=>e in t?xPe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,CPe=(t,e,n)=>(bPe(t,e+"",n),n),HV=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},na=(t,e,n)=>(HV(t,e,"read from private field"),n?n.call(t):e.get(t)),p6=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},cL=(t,e,n,i)=>(HV(t,e,"write to private field"),e.set(t,n),n),ko,lv,uv;let YV=class{constructor(e){p6(this,ko,{}),p6(this,lv,new VV(()=>new Set)),p6(this,uv,new Set),CPe(this,"disposables",gs()),cL(this,ko,e),_o.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return na(this,ko)}subscribe(e,n){if(_o.isServer)return()=>{};let i={selector:e,callback:n,current:e(na(this,ko))};return na(this,uv).add(i),this.disposables.add(()=>{na(this,uv).delete(i)})}on(e,n){return _o.isServer?()=>{}:(na(this,lv).get(e).add(n),this.disposables.add(()=>{na(this,lv).get(e).delete(n)}))}send(e){let n=this.reduce(na(this,ko),e);if(n!==na(this,ko)){cL(this,ko,n);for(let i of na(this,uv)){let f=i.selector(na(this,ko));XV(i.current,f)||(i.current=f,i.callback(f))}for(let i of na(this,lv).get(e.type))i(na(this,ko),e)}}};ko=new WeakMap,lv=new WeakMap,uv=new WeakMap;function XV(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:v6(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:v6(t.entries(),e.entries()):dL(t)&&dL(e)?v6(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function v6(t,e){do{let n=t.next(),i=e.next();if(n.done&&i.done)return!0;if(n.done||i.done||!Object.is(n.value,i.value))return!1}while(!0)}function dL(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}function hL(t){let[e,n]=t(),i=gs();return(...f)=>{e(...f),i.dispose(),i.microTask(n)}}var EPe=Object.defineProperty,SPe=(t,e,n)=>e in t?EPe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fL=(t,e,n)=>(SPe(t,typeof e!="symbol"?e+"":e,n),n),KV=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(KV||{});let TPe={0(t,e){let n=e.id,i=t.stack,f=t.stack.indexOf(n);if(f!==-1){let b=t.stack.slice();return b.splice(f,1),b.push(n),i=b,{...t,stack:i}}return{...t,stack:[...t.stack,n]}},1(t,e){let n=e.id,i=t.stack.indexOf(n);if(i===-1)return t;let f=t.stack.slice();return f.splice(i,1),{...t,stack:f}}},APe=class ZV extends YV{constructor(){super(...arguments),fL(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),fL(this,"selectors",{isTop:(e,n)=>e.stack[e.stack.length-1]===n,inStack:(e,n)=>e.stack.includes(n)})}static new(){return new ZV({stack:[]})}reduce(e,n){return so(n.type,TPe,e,n)}};const Rx=new VV(()=>APe.new());var g6={exports:{}},m6={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pL;function PPe(){if(pL)return m6;pL=1;var t=Kg();function e(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var n=typeof Object.is=="function"?Object.is:e,i=t.useSyncExternalStore,f=t.useRef,b=t.useEffect,s=t.useMemo,y=t.useDebugValue;return m6.useSyncExternalStoreWithSelector=function(r,o,v,c,u){var l=f(null);if(l.current===null){var a={hasValue:!1,value:null};l.current=a}else a=l.current;l=s(function(){function p(w){if(!h){if(h=!0,g=w,w=c(w),u!==void 0&&a.hasValue){var C=a.value;if(u(C,w))return m=C}return m=w}if(C=m,n(g,w))return C;var E=c(w);return u!==void 0&&u(C,E)?(g=w,C):(g=w,m=E)}var h=!1,g,m,x=v===void 0?null:v;return[function(){return p(o())},x===null?void 0:function(){return p(x())}]},[o,v,c,u]);var d=i(r,l[0],l[1]);return b(function(){a.hasValue=!0,a.value=d},[d]),y(d),d},m6}var vL;function IPe(){return vL||(vL=1,g6.exports=PPe()),g6.exports}var RPe=IPe();function ca(t,e,n=XV){return RPe.useSyncExternalStoreWithSelector(Rt(i=>t.subscribe(MPe,i)),Rt(()=>t.state),Rt(()=>t.state),Rt(e),n)}function MPe(t){return t}function Am(t,e){let n=H.useId(),i=Rx.get(e),[f,b]=ca(i,H.useCallback(s=>[i.selectors.isTop(s,n),i.selectors.inStack(s,n)],[i,n]));return zn(()=>{if(t)return i.actions.push(n),()=>i.actions.pop(n)},[i,t,n]),t?b?f:!0:!1}let EE=new Map,Iv=new Map;function gL(t){var e;let n=(e=Iv.get(t))!=null?e:0;return Iv.set(t,n+1),n!==0?()=>mL(t):(EE.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>mL(t))}function mL(t){var e;let n=(e=Iv.get(t))!=null?e:1;if(n===1?Iv.delete(t):Iv.set(t,n-1),n!==1)return;let i=EE.get(t);i&&(i["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",i["aria-hidden"]),t.inert=i.inert,EE.delete(t))}function JV(t,{allowed:e,disallowed:n}={}){let i=Am(t,"inert-others");zn(()=>{var f,b;if(!i)return;let s=gs();for(let r of(f=n?.())!=null?f:[])r&&s.add(gL(r));let y=(b=e?.())!=null?b:[];for(let r of y){if(!r)continue;let o=ih(r);if(!o)continue;let v=r.parentElement;for(;v&&v!==o.body;){for(let c of v.children)y.some(u=>c.contains(u))||s.add(gL(c));v=v.parentElement}}return s.dispose},[i,e,n])}function QV(t,e,n){let i=ah(f=>{let b=f.getBoundingClientRect();b.x===0&&b.y===0&&b.width===0&&b.height===0&&n()});H.useEffect(()=>{if(!t)return;let f=e===null?null:Ws(e)?e:e.current;if(!f)return;let b=gs();if(typeof ResizeObserver<"u"){let s=new ResizeObserver(()=>i.current(f));s.observe(f),b.add(()=>s.disconnect())}if(typeof IntersectionObserver<"u"){let s=new IntersectionObserver(()=>i.current(f));s.observe(f),b.add(()=>s.disconnect())}return()=>b.dispose()},[e,i,t])}let nw=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),OPe=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Va=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(Va||{}),SE=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(SE||{}),FPe=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(FPe||{});function _V(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(nw)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function $Pe(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(OPe)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var xT=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(xT||{});function bT(t,e=0){var n;return t===((n=ih(t))==null?void 0:n.body)?!1:so(e,{0(){return t.matches(nw)},1(){let i=t;for(;i!==null;){if(i.matches(nw))return!0;i=i.parentElement}return!1}})}function qV(t){gs().nextFrame(()=>{let e=mT(t);e&&Yo(e)&&!bT(e,0)&&qo(t)})}var LPe=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(LPe||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function qo(t){t?.focus({preventScroll:!0})}let DPe=["textarea","input"].join(",");function NPe(t){var e,n;return(n=(e=t?.matches)==null?void 0:e.call(t,DPe))!=null?n:!1}function eH(t,e=n=>n){return t.slice().sort((n,i)=>{let f=e(n),b=e(i);if(f===null||b===null)return 0;let s=f.compareDocumentPosition(b);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function kPe(t,e,n=t===null?document.body:ew(t)){return Hf(_V(n),e,{relativeTo:t})}function Hf(t,e,{sorted:n=!0,relativeTo:i=null,skipElements:f=[]}={}){let b=Array.isArray(t)?t.length>0?ew(t[0]):document:ew(t),s=Array.isArray(t)?n?eH(t):t:e&64?$Pe(t):_V(t);f.length>0&&s.length>1&&(s=s.filter(l=>!f.some(a=>a!=null&&"current"in a?a?.current===l:a===l))),i=i??b?.activeElement;let y=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),r=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,s.indexOf(i))-1;if(e&4)return Math.max(0,s.indexOf(i))+1;if(e&8)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),o=e&32?{preventScroll:!0}:{},v=0,c=s.length,u;do{if(v>=c||v+c<=0)return 0;let l=r+v;if(e&16)l=(l+c)%c;else{if(l<0)return 3;if(l>=c)return 1}u=s[l],u?.focus(o),v+=y}while(u!==mT(u));return e&6&&NPe(u)&&u.select(),2}function tH(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function BPe(){return/Android/gi.test(window.navigator.userAgent)}function yL(){return tH()||BPe()}function $f(t,e,n,i){let f=ah(n);H.useEffect(()=>{if(!t)return;function b(s){f.current(s)}return document.addEventListener(e,b,i),()=>document.removeEventListener(e,b,i)},[t,e,i])}function nH(t,e,n,i){let f=ah(n);H.useEffect(()=>{if(!t)return;function b(s){f.current(s)}return window.addEventListener(e,b,i),()=>window.removeEventListener(e,b,i)},[t,e,i])}const wL=30;function rH(t,e,n){let i=ah(n),f=H.useCallback(function(y,r){if(y.defaultPrevented)return;let o=r(y);if(o===null||!o.getRootNode().contains(o)||!o.isConnected)return;let v=(function c(u){return typeof u=="function"?c(u()):Array.isArray(u)||u instanceof Set?u:[u]})(e);for(let c of v)if(c!==null&&(c.contains(o)||y.composed&&y.composedPath().includes(c)))return;return!bT(o,xT.Loose)&&o.tabIndex!==-1&&y.preventDefault(),i.current(y,o)},[i,e]),b=H.useRef(null);$f(t,"pointerdown",y=>{var r,o;yL()||(b.current=((o=(r=y.composedPath)==null?void 0:r.call(y))==null?void 0:o[0])||y.target)},!0),$f(t,"pointerup",y=>{if(yL()||!b.current)return;let r=b.current;return b.current=null,f(y,()=>r)},!0);let s=H.useRef({x:0,y:0});$f(t,"touchstart",y=>{s.current.x=y.touches[0].clientX,s.current.y=y.touches[0].clientY},!0),$f(t,"touchend",y=>{let r={x:y.changedTouches[0].clientX,y:y.changedTouches[0].clientY};if(!(Math.abs(r.x-s.current.x)>=wL||Math.abs(r.y-s.current.y)>=wL))return f(y,()=>Yo(y.target)?y.target:null)},!0),nH(t,"blur",y=>f(y,()=>rPe(window.document.activeElement)?window.document.activeElement:null),!0)}function Ng(...t){return H.useMemo(()=>ih(...t),[...t])}var UPe=(t=>(t[t.Ignore=0]="Ignore",t[t.Select=1]="Select",t[t.Close=2]="Close",t))(UPe||{});const Ay={Ignore:{kind:0},Select:t=>({kind:1,target:t}),Close:{kind:2}},jPe=200,xL=5;function zPe(t,{trigger:e,action:n,close:i,select:f}){let b=H.useRef(null),s=H.useRef(null),y=H.useRef(null);$f(t&&e!==null,"pointerdown",r=>{NV(r?.target)&&e!=null&&e.contains(r.target)&&(s.current=r.x,y.current=r.y,b.current=r.timeStamp)}),$f(t&&e!==null,"pointerup",r=>{var o,v;let c=b.current;if(c===null||(b.current=null,!Yo(r.target))||Math.abs(r.x-((o=s.current)!=null?o:r.x))<xL&&Math.abs(r.y-((v=y.current)!=null?v:r.y))<xL)return;let u=n(r);switch(u.kind){case 0:return;case 1:{r.timeStamp-c>jPe&&(f(u.target),i());break}case 2:{i();break}}},{capture:!0})}function iH(t,e,n,i){let f=ah(n);H.useEffect(()=>{t=t??window;function b(s){f.current(s)}return t.addEventListener(e,b,i),()=>t.removeEventListener(e,b,i)},[t,e,i])}function WPe(t,e){return H.useMemo(()=>{var n;if(t.type)return t.type;let i=(n=t.as)!=null?n:"button";if(typeof i=="string"&&i.toLowerCase()==="button"||e?.tagName==="BUTTON"&&!e.hasAttribute("type"))return"button"},[t.type,t.as,e])}function GPe(t){return H.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function VPe(t,e){let n=t(),i=new Set;return{getSnapshot(){return n},subscribe(f){return i.add(f),()=>i.delete(f)},dispatch(f,...b){let s=e[f].call(n,...b);s&&(n=s,i.forEach(y=>y()))}}}function HPe(){let t;return{before({doc:e}){var n;let i=e.documentElement,f=(n=e.defaultView)!=null?n:window;t=Math.max(0,f.innerWidth-i.clientWidth)},after({doc:e,d:n}){let i=e.documentElement,f=Math.max(0,i.clientWidth-i.offsetWidth),b=Math.max(0,t-f);n.style(i,"paddingRight",`${b}px`)}}}function YPe(){return tH()?{before({doc:t,d:e,meta:n}){function i(f){for(let b of n().containers)for(let s of b())if(s.contains(f))return!0;return!1}e.microTask(()=>{var f;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let y=gs();y.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>y.dispose()))}let b=(f=window.scrollY)!=null?f:window.pageYOffset,s=null;e.addEventListener(t,"click",y=>{if(Yo(y.target))try{let r=y.target.closest("a");if(!r)return;let{hash:o}=new URL(r.href),v=t.querySelector(o);Yo(v)&&!i(v)&&(s=v)}catch{}},!0),e.group(y=>{e.addEventListener(t,"touchstart",r=>{if(y.dispose(),Yo(r.target)&&nPe(r.target))if(i(r.target)){let o=r.target;for(;o.parentElement&&i(o.parentElement);)o=o.parentElement;y.style(o,"overscrollBehavior","contain")}else y.style(r.target,"touchAction","none")})}),e.addEventListener(t,"touchmove",y=>{if(Yo(y.target)){if(kV(y.target))return;if(i(y.target)){let r=y.target;for(;r.parentElement&&r.dataset.headlessuiPortal!==""&&!(r.scrollHeight>r.clientHeight||r.scrollWidth>r.clientWidth);)r=r.parentElement;r.dataset.headlessuiPortal===""&&y.preventDefault()}else y.preventDefault()}},{passive:!1}),e.add(()=>{var y;let r=(y=window.scrollY)!=null?y:window.pageYOffset;b!==r&&window.scrollTo(0,b),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})})}}:{}}function XPe(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function bL(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let dd=VPe(()=>new Map,{PUSH(t,e){var n;let i=(n=this.get(t))!=null?n:{doc:t,count:0,d:gs(),meta:new Set,computedMeta:{}};return i.count++,i.meta.add(e),i.computedMeta=bL(i.meta),this.set(t,i),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e),n.computedMeta=bL(n.meta)),this},SCROLL_PREVENT(t){let e={doc:t.doc,d:t.d,meta(){return t.computedMeta}},n=[YPe(),HPe(),XPe()];n.forEach(({before:i})=>i?.(e)),n.forEach(({after:i})=>i?.(e))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});dd.subscribe(()=>{let t=dd.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let i=e.get(n.doc)==="hidden",f=n.count!==0;(f&&!i||!f&&i)&&dd.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&dd.dispatch("TEARDOWN",n)}});function KPe(t,e,n=()=>({containers:[]})){let i=GPe(dd),f=e?i.get(e):void 0,b=f?f.count>0:!1;return zn(()=>{if(!(!e||!t))return dd.dispatch("PUSH",e,n),()=>dd.dispatch("POP",e,n)},[t,e]),b}function sH(t,e,n=()=>[document.body]){let i=Am(t,"scroll-lock");KPe(i,e,f=>{var b;return{containers:[...(b=f.containers)!=null?b:[],n]}})}function CL(t){return[t.screenX,t.screenY]}function ZPe(){let t=H.useRef([-1,-1]);return{wasMoved(e){let n=CL(e);return t.current[0]===n[0]&&t.current[1]===n[1]?!1:(t.current=n,!0)},update(e){t.current=CL(e)}}}function JPe(t=0){let[e,n]=H.useState(t),i=H.useCallback(r=>n(r),[]),f=H.useCallback(r=>n(o=>o|r),[]),b=H.useCallback(r=>(e&r)===r,[e]),s=H.useCallback(r=>n(o=>o&~r),[]),y=H.useCallback(r=>n(o=>o^r),[]);return{flags:e,setFlag:i,addFlag:f,hasFlag:b,removeFlag:s,toggleFlag:y}}var QPe={},EL,SL;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((EL=process==null?void 0:QPe)==null?void 0:EL.NODE_ENV)==="test"&&typeof((SL=Element?.prototype)==null?void 0:SL.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var _Pe=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(_Pe||{});function aH(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function oH(t,e,n,i){let[f,b]=H.useState(n),{hasFlag:s,addFlag:y,removeFlag:r}=JPe(t&&f?3:0),o=H.useRef(!1),v=H.useRef(!1),c=sh();return zn(()=>{var u;if(t){if(n&&b(!0),!e){n&&y(3);return}return(u=i?.start)==null||u.call(i,n),qPe(e,{inFlight:o,prepare(){v.current?v.current=!1:v.current=o.current,o.current=!0,!v.current&&(n?(y(3),r(4)):(y(4),r(2)))},run(){v.current?n?(r(3),y(4)):(r(4),y(3)):n?r(1):y(1)},done(){var l;v.current&&nIe(e)||(o.current=!1,r(7),n||b(!1),(l=i?.end)==null||l.call(i,n))}})}},[t,n,e,c]),t?[f,{closed:s(1),enter:s(2),leave:s(4),transition:s(2)||s(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function qPe(t,{prepare:e,run:n,done:i,inFlight:f}){let b=gs();return tIe(t,{prepare:e,inFlight:f}),b.nextFrame(()=>{n(),b.requestAnimationFrame(()=>{b.add(eIe(t,i))})}),b.dispose}function eIe(t,e){var n,i;let f=gs();if(!t)return f.dispose;let b=!1;f.add(()=>{b=!0});let s=(i=(n=t.getAnimations)==null?void 0:n.call(t).filter(y=>y instanceof CSSTransition))!=null?i:[];return s.length===0?(e(),f.dispose):(Promise.allSettled(s.map(y=>y.finished)).then(()=>{b||e()}),f.dispose)}function tIe(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let i=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=i}function nIe(t){var e,n;return((n=(e=t.getAnimations)==null?void 0:e.call(t))!=null?n:[]).some(i=>i instanceof CSSTransition&&i.playState!=="finished")}function rIe(t,{container:e,accept:n,walk:i}){let f=H.useRef(n),b=H.useRef(i);H.useEffect(()=>{f.current=n,b.current=i},[n,i]),zn(()=>{if(!e||!t)return;let s=ih(e);if(!s)return;let y=f.current,r=b.current,o=Object.assign(c=>y(c),{acceptNode:y}),v=s.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,o,!1);for(;v.nextNode();)r(v.currentNode)},[e,t,f,b])}function CT(t,e){let n=H.useRef([]),i=Rt(t);H.useEffect(()=>{let f=[...n.current];for(let[b,s]of e.entries())if(n.current[b]!==s){let y=i(e,f);return n.current=e,y}},[i,...e])}function Mx(){return typeof window<"u"}function jp(t){return lH(t)?(t.nodeName||"").toLowerCase():"#document"}function Bs(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ul(t){var e;return(e=(lH(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function lH(t){return Mx()?t instanceof Node||t instanceof Bs(t).Node:!1}function Fi(t){return Mx()?t instanceof Element||t instanceof Bs(t).Element:!1}function il(t){return Mx()?t instanceof HTMLElement||t instanceof Bs(t).HTMLElement:!1}function TL(t){return!Mx()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Bs(t).ShadowRoot}const iIe=new Set(["inline","contents"]);function Pm(t){const{overflow:e,overflowX:n,overflowY:i,display:f}=ao(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!iIe.has(f)}const sIe=new Set(["table","td","th"]);function aIe(t){return sIe.has(jp(t))}const oIe=[":popover-open",":modal"];function Ox(t){return oIe.some(e=>{try{return t.matches(e)}catch{return!1}})}const lIe=["transform","translate","scale","rotate","perspective"],uIe=["transform","translate","scale","rotate","perspective","filter"],cIe=["paint","layout","strict","content"];function ET(t){const e=ST(),n=Fi(t)?ao(t):t;return lIe.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||uIe.some(i=>(n.willChange||"").includes(i))||cIe.some(i=>(n.contain||"").includes(i))}function dIe(t){let e=cc(t);for(;il(e)&&!mp(e);){if(ET(e))return e;if(Ox(e))return null;e=cc(e)}return null}function ST(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const hIe=new Set(["html","body","#document"]);function mp(t){return hIe.has(jp(t))}function ao(t){return Bs(t).getComputedStyle(t)}function Fx(t){return Fi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function cc(t){if(jp(t)==="html")return t;const e=t.assignedSlot||t.parentNode||TL(t)&&t.host||ul(t);return TL(e)?e.host:e}function uH(t){const e=cc(t);return mp(e)?t.ownerDocument?t.ownerDocument.body:t.body:il(e)&&Pm(e)?e:uH(e)}function kg(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const f=uH(t),b=f===((i=t.ownerDocument)==null?void 0:i.body),s=Bs(f);if(b){const y=TE(s);return e.concat(s,s.visualViewport||[],Pm(f)?f:[],y&&n?kg(y):[])}return e.concat(f,kg(f,[],n))}function TE(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function fIe(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:i}=e;return n+"/"+i}).join(" "):navigator.userAgent}const kd=Math.min,Ei=Math.max,Bg=Math.round,Py=Math.floor,el=t=>({x:t,y:t}),pIe={left:"right",right:"left",bottom:"top",top:"bottom"},vIe={start:"end",end:"start"};function AL(t,e,n){return Ei(t,kd(e,n))}function zp(t,e){return typeof t=="function"?t(e):t}function dc(t){return t.split("-")[0]}function Im(t){return t.split("-")[1]}function cH(t){return t==="x"?"y":"x"}function dH(t){return t==="y"?"height":"width"}const gIe=new Set(["top","bottom"]);function Wl(t){return gIe.has(dc(t))?"y":"x"}function hH(t){return cH(Wl(t))}function mIe(t,e,n){n===void 0&&(n=!1);const i=Im(t),f=hH(t),b=dH(f);let s=f==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[b]>e.floating[b]&&(s=rw(s)),[s,rw(s)]}function yIe(t){const e=rw(t);return[AE(t),e,AE(e)]}function AE(t){return t.replace(/start|end/g,e=>vIe[e])}const PL=["left","right"],IL=["right","left"],wIe=["top","bottom"],xIe=["bottom","top"];function bIe(t,e,n){switch(t){case"top":case"bottom":return n?e?IL:PL:e?PL:IL;case"left":case"right":return e?wIe:xIe;default:return[]}}function CIe(t,e,n,i){const f=Im(t);let b=bIe(dc(t),n==="start",i);return f&&(b=b.map(s=>s+"-"+f),e&&(b=b.concat(b.map(AE)))),b}function rw(t){return t.replace(/left|right|bottom|top/g,e=>pIe[e])}function EIe(t){return{top:0,right:0,bottom:0,left:0,...t}}function SIe(t){return typeof t!="number"?EIe(t):{top:t,right:t,bottom:t,left:t}}function iw(t){const{x:e,y:n,width:i,height:f}=t;return{width:i,height:f,top:n,left:e,right:e+i,bottom:n+f,x:e,y:n}}function RL(t,e,n){let{reference:i,floating:f}=t;const b=Wl(e),s=hH(e),y=dH(s),r=dc(e),o=b==="y",v=i.x+i.width/2-f.width/2,c=i.y+i.height/2-f.height/2,u=i[y]/2-f[y]/2;let l;switch(r){case"top":l={x:v,y:i.y-f.height};break;case"bottom":l={x:v,y:i.y+i.height};break;case"right":l={x:i.x+i.width,y:c};break;case"left":l={x:i.x-f.width,y:c};break;default:l={x:i.x,y:i.y}}switch(Im(e)){case"start":l[s]-=u*(n&&o?-1:1);break;case"end":l[s]+=u*(n&&o?-1:1);break}return l}const TIe=async(t,e,n)=>{const{placement:i="bottom",strategy:f="absolute",middleware:b=[],platform:s}=n,y=b.filter(Boolean),r=await(s.isRTL==null?void 0:s.isRTL(e));let o=await s.getElementRects({reference:t,floating:e,strategy:f}),{x:v,y:c}=RL(o,i,r),u=i,l={},a=0;for(let d=0;d<y.length;d++){const{name:p,fn:h}=y[d],{x:g,y:m,data:x,reset:w}=await h({x:v,y:c,initialPlacement:i,placement:u,strategy:f,middlewareData:l,rects:o,platform:s,elements:{reference:t,floating:e}});v=g??v,c=m??c,l={...l,[p]:{...l[p],...x}},w&&a<=50&&(a++,typeof w=="object"&&(w.placement&&(u=w.placement),w.rects&&(o=w.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:f}):w.rects),{x:v,y:c}=RL(o,u,r)),d=-1)}return{x:v,y:c,placement:u,strategy:f,middlewareData:l}};async function $x(t,e){var n;e===void 0&&(e={});const{x:i,y:f,platform:b,rects:s,elements:y,strategy:r}=t,{boundary:o="clippingAncestors",rootBoundary:v="viewport",elementContext:c="floating",altBoundary:u=!1,padding:l=0}=zp(e,t),a=SIe(l),p=y[u?c==="floating"?"reference":"floating":c],h=iw(await b.getClippingRect({element:(n=await(b.isElement==null?void 0:b.isElement(p)))==null||n?p:p.contextElement||await(b.getDocumentElement==null?void 0:b.getDocumentElement(y.floating)),boundary:o,rootBoundary:v,strategy:r})),g=c==="floating"?{x:i,y:f,width:s.floating.width,height:s.floating.height}:s.reference,m=await(b.getOffsetParent==null?void 0:b.getOffsetParent(y.floating)),x=await(b.isElement==null?void 0:b.isElement(m))?await(b.getScale==null?void 0:b.getScale(m))||{x:1,y:1}:{x:1,y:1},w=iw(b.convertOffsetParentRelativeRectToViewportRelativeRect?await b.convertOffsetParentRelativeRectToViewportRelativeRect({elements:y,rect:g,offsetParent:m,strategy:r}):g);return{top:(h.top-w.top+a.top)/x.y,bottom:(w.bottom-h.bottom+a.bottom)/x.y,left:(h.left-w.left+a.left)/x.x,right:(w.right-h.right+a.right)/x.x}}const AIe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:f,middlewareData:b,rects:s,initialPlacement:y,platform:r,elements:o}=e,{mainAxis:v=!0,crossAxis:c=!0,fallbackPlacements:u,fallbackStrategy:l="bestFit",fallbackAxisSideDirection:a="none",flipAlignment:d=!0,...p}=zp(t,e);if((n=b.arrow)!=null&&n.alignmentOffset)return{};const h=dc(f),g=Wl(y),m=dc(y)===y,x=await(r.isRTL==null?void 0:r.isRTL(o.floating)),w=u||(m||!d?[rw(y)]:yIe(y)),C=a!=="none";!u&&C&&w.push(...CIe(y,d,a,x));const E=[y,...w],T=await $x(e,p),S=[];let A=((i=b.flip)==null?void 0:i.overflows)||[];if(v&&S.push(T[h]),c){const D=mIe(f,s,x);S.push(T[D[0]],T[D[1]])}if(A=[...A,{placement:f,overflows:S}],!S.every(D=>D<=0)){var P,R;const D=(((P=b.flip)==null?void 0:P.index)||0)+1,F=E[D];if(F&&(!(c==="alignment"?g!==Wl(F):!1)||A.every(k=>Wl(k.placement)===g?k.overflows[0]>0:!0)))return{data:{index:D,overflows:A},reset:{placement:F}};let $=(R=A.filter(N=>N.overflows[0]<=0).sort((N,k)=>N.overflows[1]-k.overflows[1])[0])==null?void 0:R.placement;if(!$)switch(l){case"bestFit":{var L;const N=(L=A.filter(k=>{if(C){const j=Wl(k.placement);return j===g||j==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(j=>j>0).reduce((j,W)=>j+W,0)]).sort((k,j)=>k[1]-j[1])[0])==null?void 0:L[0];N&&($=N);break}case"initialPlacement":$=y;break}if(f!==$)return{reset:{placement:$}}}return{}}}},PIe=new Set(["left","top"]);async function IIe(t,e){const{placement:n,platform:i,elements:f}=t,b=await(i.isRTL==null?void 0:i.isRTL(f.floating)),s=dc(n),y=Im(n),r=Wl(n)==="y",o=PIe.has(s)?-1:1,v=b&&r?-1:1,c=zp(e,t);let{mainAxis:u,crossAxis:l,alignmentAxis:a}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:c.mainAxis||0,crossAxis:c.crossAxis||0,alignmentAxis:c.alignmentAxis};return y&&typeof a=="number"&&(l=y==="end"?a*-1:a),r?{x:l*v,y:u*o}:{x:u*o,y:l*v}}const RIe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:f,y:b,placement:s,middlewareData:y}=e,r=await IIe(e,t);return s===((n=y.offset)==null?void 0:n.placement)&&(i=y.arrow)!=null&&i.alignmentOffset?{}:{x:f+r.x,y:b+r.y,data:{...r,placement:s}}}}},MIe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:f}=e,{mainAxis:b=!0,crossAxis:s=!1,limiter:y={fn:p=>{let{x:h,y:g}=p;return{x:h,y:g}}},...r}=zp(t,e),o={x:n,y:i},v=await $x(e,r),c=Wl(dc(f)),u=cH(c);let l=o[u],a=o[c];if(b){const p=u==="y"?"top":"left",h=u==="y"?"bottom":"right",g=l+v[p],m=l-v[h];l=AL(g,l,m)}if(s){const p=c==="y"?"top":"left",h=c==="y"?"bottom":"right",g=a+v[p],m=a-v[h];a=AL(g,a,m)}const d=y.fn({...e,[u]:l,[c]:a});return{...d,data:{x:d.x-n,y:d.y-i,enabled:{[u]:b,[c]:s}}}}}},OIe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,i;const{placement:f,rects:b,platform:s,elements:y}=e,{apply:r=()=>{},...o}=zp(t,e),v=await $x(e,o),c=dc(f),u=Im(f),l=Wl(f)==="y",{width:a,height:d}=b.floating;let p,h;c==="top"||c==="bottom"?(p=c,h=u===(await(s.isRTL==null?void 0:s.isRTL(y.floating))?"start":"end")?"left":"right"):(h=c,p=u==="end"?"top":"bottom");const g=d-v.top-v.bottom,m=a-v.left-v.right,x=kd(d-v[p],g),w=kd(a-v[h],m),C=!e.middlewareData.shift;let E=x,T=w;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=m),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(E=g),C&&!u){const A=Ei(v.left,0),P=Ei(v.right,0),R=Ei(v.top,0),L=Ei(v.bottom,0);l?T=a-2*(A!==0||P!==0?A+P:Ei(v.left,v.right)):E=d-2*(R!==0||L!==0?R+L:Ei(v.top,v.bottom))}await r({...e,availableWidth:T,availableHeight:E});const S=await s.getDimensions(y.floating);return a!==S.width||d!==S.height?{reset:{rects:!0}}:{}}}};function fH(t){const e=ao(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const f=il(t),b=f?t.offsetWidth:n,s=f?t.offsetHeight:i,y=Bg(n)!==b||Bg(i)!==s;return y&&(n=b,i=s),{width:n,height:i,$:y}}function TT(t){return Fi(t)?t:t.contextElement}function Yf(t){const e=TT(t);if(!il(e))return el(1);const n=e.getBoundingClientRect(),{width:i,height:f,$:b}=fH(e);let s=(b?Bg(n.width):n.width)/i,y=(b?Bg(n.height):n.height)/f;return(!s||!Number.isFinite(s))&&(s=1),(!y||!Number.isFinite(y))&&(y=1),{x:s,y}}const FIe=el(0);function pH(t){const e=Bs(t);return!ST()||!e.visualViewport?FIe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function $Ie(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Bs(t)?!1:e}function Bd(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const f=t.getBoundingClientRect(),b=TT(t);let s=el(1);e&&(i?Fi(i)&&(s=Yf(i)):s=Yf(t));const y=$Ie(b,n,i)?pH(b):el(0);let r=(f.left+y.x)/s.x,o=(f.top+y.y)/s.y,v=f.width/s.x,c=f.height/s.y;if(b){const u=Bs(b),l=i&&Fi(i)?Bs(i):i;let a=u,d=TE(a);for(;d&&i&&l!==a;){const p=Yf(d),h=d.getBoundingClientRect(),g=ao(d),m=h.left+(d.clientLeft+parseFloat(g.paddingLeft))*p.x,x=h.top+(d.clientTop+parseFloat(g.paddingTop))*p.y;r*=p.x,o*=p.y,v*=p.x,c*=p.y,r+=m,o+=x,a=Bs(d),d=TE(a)}}return iw({width:v,height:c,x:r,y:o})}function Lx(t,e){const n=Fx(t).scrollLeft;return e?e.left+n:Bd(ul(t)).left+n}function vH(t,e){const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-Lx(t,n),f=n.top+e.scrollTop;return{x:i,y:f}}function LIe(t){let{elements:e,rect:n,offsetParent:i,strategy:f}=t;const b=f==="fixed",s=ul(i),y=e?Ox(e.floating):!1;if(i===s||y&&b)return n;let r={scrollLeft:0,scrollTop:0},o=el(1);const v=el(0),c=il(i);if((c||!c&&!b)&&((jp(i)!=="body"||Pm(s))&&(r=Fx(i)),il(i))){const l=Bd(i);o=Yf(i),v.x=l.x+i.clientLeft,v.y=l.y+i.clientTop}const u=s&&!c&&!b?vH(s,r):el(0);return{width:n.width*o.x,height:n.height*o.y,x:n.x*o.x-r.scrollLeft*o.x+v.x+u.x,y:n.y*o.y-r.scrollTop*o.y+v.y+u.y}}function DIe(t){return Array.from(t.getClientRects())}function NIe(t){const e=ul(t),n=Fx(t),i=t.ownerDocument.body,f=Ei(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),b=Ei(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let s=-n.scrollLeft+Lx(t);const y=-n.scrollTop;return ao(i).direction==="rtl"&&(s+=Ei(e.clientWidth,i.clientWidth)-f),{width:f,height:b,x:s,y}}const ML=25;function kIe(t,e){const n=Bs(t),i=ul(t),f=n.visualViewport;let b=i.clientWidth,s=i.clientHeight,y=0,r=0;if(f){b=f.width,s=f.height;const v=ST();(!v||v&&e==="fixed")&&(y=f.offsetLeft,r=f.offsetTop)}const o=Lx(i);if(o<=0){const v=i.ownerDocument,c=v.body,u=getComputedStyle(c),l=v.compatMode==="CSS1Compat"&&parseFloat(u.marginLeft)+parseFloat(u.marginRight)||0,a=Math.abs(i.clientWidth-c.clientWidth-l);a<=ML&&(b-=a)}else o<=ML&&(b+=o);return{width:b,height:s,x:y,y:r}}const BIe=new Set(["absolute","fixed"]);function UIe(t,e){const n=Bd(t,!0,e==="fixed"),i=n.top+t.clientTop,f=n.left+t.clientLeft,b=il(t)?Yf(t):el(1),s=t.clientWidth*b.x,y=t.clientHeight*b.y,r=f*b.x,o=i*b.y;return{width:s,height:y,x:r,y:o}}function OL(t,e,n){let i;if(e==="viewport")i=kIe(t,n);else if(e==="document")i=NIe(ul(t));else if(Fi(e))i=UIe(e,n);else{const f=pH(t);i={x:e.x-f.x,y:e.y-f.y,width:e.width,height:e.height}}return iw(i)}function gH(t,e){const n=cc(t);return n===e||!Fi(n)||mp(n)?!1:ao(n).position==="fixed"||gH(n,e)}function jIe(t,e){const n=e.get(t);if(n)return n;let i=kg(t,[],!1).filter(y=>Fi(y)&&jp(y)!=="body"),f=null;const b=ao(t).position==="fixed";let s=b?cc(t):t;for(;Fi(s)&&!mp(s);){const y=ao(s),r=ET(s);!r&&y.position==="fixed"&&(f=null),(b?!r&&!f:!r&&y.position==="static"&&!!f&&BIe.has(f.position)||Pm(s)&&!r&&gH(t,s))?i=i.filter(v=>v!==s):f=y,s=cc(s)}return e.set(t,i),i}function zIe(t){let{element:e,boundary:n,rootBoundary:i,strategy:f}=t;const s=[...n==="clippingAncestors"?Ox(e)?[]:jIe(e,this._c):[].concat(n),i],y=s[0],r=s.reduce((o,v)=>{const c=OL(e,v,f);return o.top=Ei(c.top,o.top),o.right=kd(c.right,o.right),o.bottom=kd(c.bottom,o.bottom),o.left=Ei(c.left,o.left),o},OL(e,y,f));return{width:r.right-r.left,height:r.bottom-r.top,x:r.left,y:r.top}}function WIe(t){const{width:e,height:n}=fH(t);return{width:e,height:n}}function GIe(t,e,n){const i=il(e),f=ul(e),b=n==="fixed",s=Bd(t,!0,b,e);let y={scrollLeft:0,scrollTop:0};const r=el(0);function o(){r.x=Lx(f)}if(i||!i&&!b)if((jp(e)!=="body"||Pm(f))&&(y=Fx(e)),i){const l=Bd(e,!0,b,e);r.x=l.x+e.clientLeft,r.y=l.y+e.clientTop}else f&&o();b&&!i&&f&&o();const v=f&&!i&&!b?vH(f,y):el(0),c=s.left+y.scrollLeft-r.x-v.x,u=s.top+y.scrollTop-r.y-v.y;return{x:c,y:u,width:s.width,height:s.height}}function y6(t){return ao(t).position==="static"}function FL(t,e){if(!il(t)||ao(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ul(t)===n&&(n=n.ownerDocument.body),n}function mH(t,e){const n=Bs(t);if(Ox(t))return n;if(!il(t)){let f=cc(t);for(;f&&!mp(f);){if(Fi(f)&&!y6(f))return f;f=cc(f)}return n}let i=FL(t,e);for(;i&&aIe(i)&&y6(i);)i=FL(i,e);return i&&mp(i)&&y6(i)&&!ET(i)?n:i||dIe(t)||n}const VIe=async function(t){const e=this.getOffsetParent||mH,n=this.getDimensions,i=await n(t.floating);return{reference:GIe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function HIe(t){return ao(t).direction==="rtl"}const YIe={convertOffsetParentRelativeRectToViewportRelativeRect:LIe,getDocumentElement:ul,getClippingRect:zIe,getOffsetParent:mH,getElementRects:VIe,getClientRects:DIe,getDimensions:WIe,getScale:Yf,isElement:Fi,isRTL:HIe};function yH(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function XIe(t,e){let n=null,i;const f=ul(t);function b(){var y;clearTimeout(i),(y=n)==null||y.disconnect(),n=null}function s(y,r){y===void 0&&(y=!1),r===void 0&&(r=1),b();const o=t.getBoundingClientRect(),{left:v,top:c,width:u,height:l}=o;if(y||e(),!u||!l)return;const a=Py(c),d=Py(f.clientWidth-(v+u)),p=Py(f.clientHeight-(c+l)),h=Py(v),m={rootMargin:-a+"px "+-d+"px "+-p+"px "+-h+"px",threshold:Ei(0,kd(1,r))||1};let x=!0;function w(C){const E=C[0].intersectionRatio;if(E!==r){if(!x)return s();E?s(!1,E):i=setTimeout(()=>{s(!1,1e-7)},1e3)}E===1&&!yH(o,t.getBoundingClientRect())&&s(),x=!1}try{n=new IntersectionObserver(w,{...m,root:f.ownerDocument})}catch{n=new IntersectionObserver(w,m)}n.observe(t)}return s(!0),b}function KIe(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:f=!0,ancestorResize:b=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:y=typeof IntersectionObserver=="function",animationFrame:r=!1}=i,o=TT(t),v=f||b?[...o?kg(o):[],...kg(e)]:[];v.forEach(h=>{f&&h.addEventListener("scroll",n,{passive:!0}),b&&h.addEventListener("resize",n)});const c=o&&y?XIe(o,n):null;let u=-1,l=null;s&&(l=new ResizeObserver(h=>{let[g]=h;g&&g.target===o&&l&&(l.unobserve(e),cancelAnimationFrame(u),u=requestAnimationFrame(()=>{var m;(m=l)==null||m.observe(e)})),n()}),o&&!r&&l.observe(o),l.observe(e));let a,d=r?Bd(t):null;r&&p();function p(){const h=Bd(t);d&&!yH(d,h)&&n(),d=h,a=requestAnimationFrame(p)}return n(),()=>{var h;v.forEach(g=>{f&&g.removeEventListener("scroll",n),b&&g.removeEventListener("resize",n)}),c?.(),(h=l)==null||h.disconnect(),l=null,r&&cancelAnimationFrame(a)}}const w6=$x,ZIe=RIe,JIe=MIe,QIe=AIe,_Ie=OIe,qIe=(t,e,n)=>{const i=new Map,f={platform:YIe,...n},b={...f.platform,_c:i};return TIe(t,e,{...f,platform:b})};var eRe=typeof document<"u",tRe=function(){},t2=eRe?H.useLayoutEffect:tRe;function sw(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,i,f;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(i=n;i--!==0;)if(!sw(t[i],e[i]))return!1;return!0}if(f=Object.keys(t),n=f.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(e,f[i]))return!1;for(i=n;i--!==0;){const b=f[i];if(!(b==="_owner"&&t.$$typeof)&&!sw(t[b],e[b]))return!1}return!0}return t!==t&&e!==e}function wH(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function $L(t,e){const n=wH(t);return Math.round(e*n)/n}function x6(t){const e=H.useRef(t);return t2(()=>{e.current=t}),e}function nRe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:i=[],platform:f,elements:{reference:b,floating:s}={},transform:y=!0,whileElementsMounted:r,open:o}=t,[v,c]=H.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[u,l]=H.useState(i);sw(u,i)||l(i);const[a,d]=H.useState(null),[p,h]=H.useState(null),g=H.useCallback(k=>{k!==C.current&&(C.current=k,d(k))},[]),m=H.useCallback(k=>{k!==E.current&&(E.current=k,h(k))},[]),x=b||a,w=s||p,C=H.useRef(null),E=H.useRef(null),T=H.useRef(v),S=r!=null,A=x6(r),P=x6(f),R=x6(o),L=H.useCallback(()=>{if(!C.current||!E.current)return;const k={placement:e,strategy:n,middleware:u};P.current&&(k.platform=P.current),qIe(C.current,E.current,k).then(j=>{const W={...j,isPositioned:R.current!==!1};D.current&&!sw(T.current,W)&&(T.current=W,eu.flushSync(()=>{c(W)}))})},[u,e,n,P,R]);t2(()=>{o===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,c(k=>({...k,isPositioned:!1})))},[o]);const D=H.useRef(!1);t2(()=>(D.current=!0,()=>{D.current=!1}),[]),t2(()=>{if(x&&(C.current=x),w&&(E.current=w),x&&w){if(A.current)return A.current(x,w,L);L()}},[x,w,L,A,S]);const F=H.useMemo(()=>({reference:C,floating:E,setReference:g,setFloating:m}),[g,m]),$=H.useMemo(()=>({reference:x,floating:w}),[x,w]),N=H.useMemo(()=>{const k={position:n,left:0,top:0};if(!$.floating)return k;const j=$L($.floating,v.x),W=$L($.floating,v.y);return y?{...k,transform:"translate("+j+"px, "+W+"px)",...wH($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:j,top:W}},[n,y,$.floating,v.x,v.y]);return H.useMemo(()=>({...v,update:L,refs:F,elements:$,floatingStyles:N}),[v,L,F,$,N])}const xH=(t,e)=>({...ZIe(t),options:[t,e]}),rRe=(t,e)=>({...JIe(t),options:[t,e]}),iRe=(t,e)=>({...QIe(t),options:[t,e]}),sRe=(t,e)=>({..._Ie(t),options:[t,e]}),bH={...u8},aRe=bH.useInsertionEffect,oRe=aRe||(t=>t());function CH(t){const e=H.useRef(()=>{});return oRe(()=>{e.current=t}),H.useCallback(function(){for(var n=arguments.length,i=new Array(n),f=0;f<n;f++)i[f]=arguments[f];return e.current==null?void 0:e.current(...i)},[])}var PE=typeof document<"u"?H.useLayoutEffect:H.useEffect;let LL=!1,lRe=0;const DL=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+lRe++;function uRe(){const[t,e]=H.useState(()=>LL?DL():void 0);return PE(()=>{t==null&&e(DL())},[]),H.useEffect(()=>{LL=!0},[]),t}const cRe=bH.useId,dRe=cRe||uRe;function hRe(){const t=new Map;return{emit(e,n){var i;(i=t.get(e))==null||i.forEach(f=>f(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var i;t.set(e,((i=t.get(e))==null?void 0:i.filter(f=>f!==n))||[])}}}const fRe=H.createContext(null),pRe=H.createContext(null),vRe=()=>{var t;return((t=H.useContext(fRe))==null?void 0:t.id)||null},gRe=()=>H.useContext(pRe),mRe="data-floating-ui-focusable";function yRe(t){const{open:e=!1,onOpenChange:n,elements:i}=t,f=dRe(),b=H.useRef({}),[s]=H.useState(()=>hRe()),y=vRe()!=null,[r,o]=H.useState(i.reference),v=CH((l,a,d)=>{b.current.openEvent=l?a:void 0,s.emit("openchange",{open:l,event:a,reason:d,nested:y}),n?.(l,a,d)}),c=H.useMemo(()=>({setPositionReference:o}),[]),u=H.useMemo(()=>({reference:r||i.reference||null,floating:i.floating||null,domReference:i.reference}),[r,i.reference,i.floating]);return H.useMemo(()=>({dataRef:b,open:e,onOpenChange:v,elements:u,events:s,floatingId:f,refs:c}),[e,v,u,s,f,c])}function wRe(t){t===void 0&&(t={});const{nodeId:e}=t,n=yRe({...t,elements:{reference:null,floating:null,...t.elements}}),i=t.rootContext||n,f=i.elements,[b,s]=H.useState(null),[y,r]=H.useState(null),v=f?.domReference||b,c=H.useRef(null),u=gRe();PE(()=>{v&&(c.current=v)},[v]);const l=nRe({...t,elements:{...f,...y&&{reference:y}}}),a=H.useCallback(m=>{const x=Fi(m)?{getBoundingClientRect:()=>m.getBoundingClientRect(),contextElement:m}:m;r(x),l.refs.setReference(x)},[l.refs]),d=H.useCallback(m=>{(Fi(m)||m===null)&&(c.current=m,s(m)),(Fi(l.refs.reference.current)||l.refs.reference.current===null||m!==null&&!Fi(m))&&l.refs.setReference(m)},[l.refs]),p=H.useMemo(()=>({...l.refs,setReference:d,setPositionReference:a,domReference:c}),[l.refs,d,a]),h=H.useMemo(()=>({...l.elements,domReference:v}),[l.elements,v]),g=H.useMemo(()=>({...l,...i,refs:p,elements:h,nodeId:e}),[l,p,h,e,i]);return PE(()=>{i.dataRef.current.floatingContext=g;const m=u?.nodesRef.current.find(x=>x.id===e);m&&(m.context=g)}),H.useMemo(()=>({...l,context:g,refs:p,elements:h}),[l,p,h,g])}const NL="active",kL="selected";function b6(t,e,n){const i=new Map,f=n==="item";let b=t;if(f&&t){const{[NL]:s,[kL]:y,...r}=t;b=r}return{...n==="floating"&&{tabIndex:-1,[mRe]:""},...b,...e.map(s=>{const y=s?s[n]:null;return typeof y=="function"?t?y(t):null:y}).concat(t).reduce((s,y)=>(y&&Object.entries(y).forEach(r=>{let[o,v]=r;if(!(f&&[NL,kL].includes(o)))if(o.indexOf("on")===0){if(i.has(o)||i.set(o,[]),typeof v=="function"){var c;(c=i.get(o))==null||c.push(v),s[o]=function(){for(var u,l=arguments.length,a=new Array(l),d=0;d<l;d++)a[d]=arguments[d];return(u=i.get(o))==null?void 0:u.map(p=>p(...a)).find(p=>p!==void 0)}}}else s[o]=v}),s),{})}}function xRe(t){t===void 0&&(t=[]);const e=t.map(y=>y?.reference),n=t.map(y=>y?.floating),i=t.map(y=>y?.item),f=H.useCallback(y=>b6(y,t,"reference"),e),b=H.useCallback(y=>b6(y,t,"floating"),n),s=H.useCallback(y=>b6(y,t,"item"),i);return H.useMemo(()=>({getReferenceProps:f,getFloatingProps:b,getItemProps:s}),[f,b,s])}function BL(t,e){return{...t,rects:{...t.rects,floating:{...t.rects.floating,height:e}}}}const bRe=t=>({name:"inner",options:t,async fn(e){const{listRef:n,overflowRef:i,onFallbackChange:f,offset:b=0,index:s=0,minItemsVisible:y=4,referenceOverflowThreshold:r=0,scrollRef:o,...v}=zp(t,e),{rects:c,elements:{floating:u}}=e,l=n.current[s],a=o?.current||u,d=u.clientTop||a.clientTop,p=u.clientTop!==0,h=a.clientTop!==0,g=u===a;if(!l)return{};const m={...e,...await xH(-l.offsetTop-u.clientTop-c.reference.height/2-l.offsetHeight/2-b).fn(e)},x=await w6(BL(m,a.scrollHeight+d+u.clientTop),v),w=await w6(m,{...v,elementContext:"reference"}),C=Ei(0,x.top),E=m.y+C,A=(a.scrollHeight>a.clientHeight?P=>P:Bg)(Ei(0,a.scrollHeight+(p&&g||h?d*2:0)-C-Ei(0,x.bottom)));if(a.style.maxHeight=A+"px",a.scrollTop=C,f){const P=a.offsetHeight<l.offsetHeight*kd(y,n.current.length)-1||w.top>=-r||w.bottom>=-r;eu.flushSync(()=>f(P))}return i&&(i.current=await w6(BL({...m,y:E},a.offsetHeight+d+u.clientTop),v)),{y:E}}});function CRe(t,e){const{open:n,elements:i}=t,{enabled:f=!0,overflowRef:b,scrollRef:s,onChange:y}=e,r=CH(y),o=H.useRef(!1),v=H.useRef(null),c=H.useRef(null);H.useEffect(()=>{if(!f)return;function l(d){if(d.ctrlKey||!a||b.current==null)return;const p=d.deltaY,h=b.current.top>=-.5,g=b.current.bottom>=-.5,m=a.scrollHeight-a.clientHeight,x=p<0?-1:1,w=p<0?"max":"min";a.scrollHeight<=a.clientHeight||(!h&&p>0||!g&&p<0?(d.preventDefault(),eu.flushSync(()=>{r(C=>C+Math[w](p,m*x))})):/firefox/i.test(fIe())&&(a.scrollTop+=p))}const a=s?.current||i.floating;if(n&&a)return a.addEventListener("wheel",l),requestAnimationFrame(()=>{v.current=a.scrollTop,b.current!=null&&(c.current={...b.current})}),()=>{v.current=null,c.current=null,a.removeEventListener("wheel",l)}},[f,n,i.floating,b,s,r]);const u=H.useMemo(()=>({onKeyDown(){o.current=!0},onWheel(){o.current=!1},onPointerMove(){o.current=!1},onScroll(){const l=s?.current||i.floating;if(!(!b.current||!l||!o.current)){if(v.current!==null){const a=l.scrollTop-v.current;(b.current.bottom<-.5&&a<-1||b.current.top<-.5&&a>1)&&eu.flushSync(()=>r(d=>d+a))}requestAnimationFrame(()=>{v.current=l.scrollTop})}}}),[i.floating,r,b,s]);return H.useMemo(()=>f?{floating:u}:{},[f,u])}let Wp=H.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Wp.displayName="FloatingContext";let AT=H.createContext(null);AT.displayName="PlacementContext";function ERe(t){return H.useMemo(()=>t?typeof t=="string"?{to:t}:t:null,[t])}function SRe(){return H.useContext(Wp).setReference}function TRe(){return H.useContext(Wp).getReferenceProps}function ARe(){let{getFloatingProps:t,slot:e}=H.useContext(Wp);return H.useCallback((...n)=>Object.assign({},t(...n),{"data-anchor":e.anchor}),[t,e])}function PRe(t=null){t===!1&&(t=null),typeof t=="string"&&(t={to:t});let e=H.useContext(AT),n=H.useMemo(()=>t,[JSON.stringify(t,(f,b)=>{var s;return(s=b?.outerHTML)!=null?s:b})]);zn(()=>{e?.(n??null)},[e,n]);let i=H.useContext(Wp);return H.useMemo(()=>[i.setFloating,t?i.styles:{}],[i.setFloating,t,i.styles])}let UL=4;function IRe({children:t,enabled:e=!0}){let[n,i]=H.useState(null),[f,b]=H.useState(0),s=H.useRef(null),[y,r]=H.useState(null);RRe(y);let o=e&&n!==null&&y!==null,{to:v="bottom",gap:c=0,offset:u=0,padding:l=0,inner:a}=MRe(n,y),[d,p="center"]=v.split(" ");zn(()=>{o&&b(0)},[o]);let{refs:h,floatingStyles:g,context:m}=wRe({open:o,placement:d==="selection"?p==="center"?"bottom":`bottom-${p}`:p==="center"?`${d}`:`${d}-${p}`,strategy:"absolute",transform:!1,middleware:[xH({mainAxis:d==="selection"?0:c,crossAxis:u}),rRe({padding:l}),d!=="selection"&&iRe({padding:l}),d==="selection"&&a?bRe({...a,padding:l,overflowRef:s,offset:f,minItemsVisible:UL,referenceOverflowThreshold:l,onFallbackChange(P){var R,L;if(!P)return;let D=m.elements.floating;if(!D)return;let F=parseFloat(getComputedStyle(D).scrollPaddingBottom)||0,$=Math.min(UL,D.childElementCount),N=0,k=0;for(let j of(L=(R=m.elements.floating)==null?void 0:R.childNodes)!=null?L:[])if(Ws(j)){let W=j.offsetTop,G=W+j.clientHeight+F,K=D.scrollTop,z=K+D.clientHeight;if(W>=K&&G<=z)$--;else{k=Math.max(0,Math.min(G,z)-Math.max(W,K)),N=j.clientHeight;break}}$>=1&&b(j=>{let W=N*$-k+F;return j>=W?j:W})}}):null,sRe({padding:l,apply({availableWidth:P,availableHeight:R,elements:L}){Object.assign(L.floating.style,{overflow:"auto",maxWidth:`${P}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${R}px)`})}})].filter(Boolean),whileElementsMounted:KIe}),[x=d,w=p]=m.placement.split("-");d==="selection"&&(x="selection");let C=H.useMemo(()=>({anchor:[x,w].filter(Boolean).join(" ")}),[x,w]),E=CRe(m,{overflowRef:s,onChange:b}),{getReferenceProps:T,getFloatingProps:S}=xRe([E]),A=Rt(P=>{r(P),h.setFloating(P)});return H.createElement(AT.Provider,{value:i},H.createElement(Wp.Provider,{value:{setFloating:A,setReference:h.setReference,styles:g,getReferenceProps:T,getFloatingProps:S,slot:C}},t))}function RRe(t){zn(()=>{if(!t)return;let e=new MutationObserver(()=>{let n=window.getComputedStyle(t).maxHeight,i=parseFloat(n);if(isNaN(i))return;let f=parseInt(n);isNaN(f)||i!==f&&(t.style.maxHeight=`${Math.ceil(i)}px`)});return e.observe(t,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[t])}function MRe(t,e){var n,i,f;let b=C6((n=t?.gap)!=null?n:"var(--anchor-gap, 0)",e),s=C6((i=t?.offset)!=null?i:"var(--anchor-offset, 0)",e),y=C6((f=t?.padding)!=null?f:"var(--anchor-padding, 0)",e);return{...t,gap:b,offset:s,padding:y}}function C6(t,e,n=void 0){let i=sh(),f=Rt((r,o)=>{if(r==null)return[n,null];if(typeof r=="number")return[r,null];if(typeof r=="string"){if(!o)return[n,null];let v=jL(r,o);return[v,c=>{let u=EH(r);{let l=u.map(a=>window.getComputedStyle(o).getPropertyValue(a));i.requestAnimationFrame(function a(){i.nextFrame(a);let d=!1;for(let[h,g]of u.entries()){let m=window.getComputedStyle(o).getPropertyValue(g);if(l[h]!==m){l[h]=m,d=!0;break}}if(!d)return;let p=jL(r,o);v!==p&&(c(p),v=p)})}return i.dispose}]}return[n,null]}),b=H.useMemo(()=>f(t,e)[0],[t,e]),[s=b,y]=H.useState();return zn(()=>{let[r,o]=f(t,e);if(y(r),!!o)return o(y)},[t,e]),s}function EH(t){let e=/var\((.*)\)/.exec(t);if(e){let n=e[1].indexOf(",");if(n===-1)return[e[1]];let i=e[1].slice(0,n).trim(),f=e[1].slice(n+1).trim();return f?[i,...EH(f)]:[i]}return[]}function jL(t,e){let n=document.createElement("div");e.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",t,"important");let i=parseFloat(window.getComputedStyle(n).marginTop)||0;return e.removeChild(n),i}let Dx=H.createContext(null);Dx.displayName="OpenClosedContext";var $i=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))($i||{});function Rm(){return H.useContext(Dx)}function SH({value:t,children:e}){return Ze.createElement(Dx.Provider,{value:t},e)}function ORe({children:t}){return Ze.createElement(Dx.Provider,{value:null},t)}function FRe(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Qu=[];FRe(()=>{function t(e){if(!Yo(e.target)||e.target===document.body||Qu[0]===e.target)return;let n=e.target;n=n.closest(nw),Qu.unshift(n??e.target),Qu=Qu.filter(i=>i!=null&&i.isConnected),Qu.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function $Re(t){throw new Error("Unexpected object: "+t)}var br=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(br||{});function Iy(t,e){let n=e.resolveItems();if(n.length<=0)return null;let i=e.resolveActiveIndex(),f=i??-1;switch(t.focus){case 0:{for(let b=0;b<n.length;++b)if(!e.resolveDisabled(n[b],b,n))return b;return i}case 1:{f===-1&&(f=n.length);for(let b=f-1;b>=0;--b)if(!e.resolveDisabled(n[b],b,n))return b;return i}case 2:{for(let b=f+1;b<n.length;++b)if(!e.resolveDisabled(n[b],b,n))return b;return i}case 3:{for(let b=n.length-1;b>=0;--b)if(!e.resolveDisabled(n[b],b,n))return b;return i}case 4:{for(let b=0;b<n.length;++b)if(e.resolveId(n[b],b,n)===t.id)return b;return i}case 5:return null;default:$Re(t)}}function PT(t){let e=Rt(t),n=H.useRef(!1);H.useEffect(()=>(n.current=!1,()=>{n.current=!0,Px(()=>{n.current&&e()})}),[e])}let TH=H.createContext(!1);function LRe(){return H.useContext(TH)}function zL(t){return Ze.createElement(TH.Provider,{value:t.force},t.children)}function DRe(t){let e=LRe(),n=H.useContext(PH),[i,f]=H.useState(()=>{var b;if(!e&&n!==null)return(b=n.current)!=null?b:null;if(_o.isServer)return null;let s=t?.getElementById("headlessui-portal-root");if(s)return s;if(t===null)return null;let y=t.createElement("div");return y.setAttribute("id","headlessui-portal-root"),t.body.appendChild(y)});return H.useEffect(()=>{i!==null&&(t!=null&&t.body.contains(i)||t==null||t.body.appendChild(i))},[i,t]),H.useEffect(()=>{e||n!==null&&f(n.current)},[n,f,e]),i}let AH=H.Fragment,NRe=ir(function(t,e){let{ownerDocument:n=null,...i}=t,f=H.useRef(null),b=ji(oPe(u=>{f.current=u}),e),s=Ng(f.current),y=n??s,r=DRe(y),o=H.useContext(IE),v=sh(),c=Er();return PT(()=>{var u;r&&r.childNodes.length<=0&&((u=r.parentElement)==null||u.removeChild(r))}),r?eu.createPortal(Ze.createElement("div",{"data-headlessui-portal":"",ref:u=>{v.dispose(),o&&u&&v.add(o.register(u))}},c({ourProps:{ref:b},theirProps:i,slot:{},defaultTag:AH,name:"Portal"})),r):null});function kRe(t,e){let n=ji(e),{enabled:i=!0,ownerDocument:f,...b}=t,s=Er();return i?Ze.createElement(NRe,{...b,ownerDocument:f,ref:n}):s({ourProps:{ref:n},theirProps:b,slot:{},defaultTag:AH,name:"Portal"})}let BRe=H.Fragment,PH=H.createContext(null);function URe(t,e){let{target:n,...i}=t,f={ref:ji(e)},b=Er();return Ze.createElement(PH.Provider,{value:n},b({ourProps:f,theirProps:i,defaultTag:BRe,name:"Popover.Group"}))}let IE=H.createContext(null);function jRe(){let t=H.useContext(IE),e=H.useRef([]),n=Rt(b=>(e.current.push(b),t&&t.register(b),()=>i(b))),i=Rt(b=>{let s=e.current.indexOf(b);s!==-1&&e.current.splice(s,1),t&&t.unregister(b)}),f=H.useMemo(()=>({register:n,unregister:i,portals:e}),[n,i,e]);return[e,H.useMemo(()=>function({children:b}){return Ze.createElement(IE.Provider,{value:f},b)},[f])]}let zRe=ir(kRe),IH=ir(URe),RH=Object.assign(zRe,{Group:IH});const n2={Idle:{kind:"Idle"},Tracked:t=>({kind:"Tracked",position:t}),Moved:{kind:"Moved"}};function MH(t){let e=t.getBoundingClientRect();return`${e.x},${e.y}`}function WRe(t,e,n){let i=gs();if(e.kind==="Tracked"){let f=function(){b!==MH(t)&&(i.dispose(),n())},{position:b}=e,s=new ResizeObserver(f);s.observe(t),i.add(()=>s.disconnect()),i.addEventListener(window,"scroll",f,{passive:!0}),i.addEventListener(window,"resize",f)}return()=>i.dispose()}function GRe(t,e=typeof document<"u"?document.defaultView:null,n){let i=Am(t,"escape");iH(e,"keydown",f=>{i&&(f.defaultPrevented||f.key===Xr.Escape&&n(f))})}function VRe(){var t;let[e]=H.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,i]=H.useState((t=e?.matches)!=null?t:!1);return zn(()=>{if(!e)return;function f(b){i(b.matches)}return e.addEventListener("change",f),()=>e.removeEventListener("change",f)},[e]),n}function HRe({defaultContainers:t=[],portals:e,mainTreeNode:n}={}){let i=Rt(()=>{var f,b;let s=ih(n),y=[];for(let r of t)r!==null&&(Kl(r)?y.push(r):"current"in r&&Kl(r.current)&&y.push(r.current));if(e!=null&&e.current)for(let r of e.current)y.push(r);for(let r of(f=s?.querySelectorAll("html > *, body > *"))!=null?f:[])r!==document.body&&r!==document.head&&Kl(r)&&r.id!=="headlessui-portal-root"&&(n&&(r.contains(n)||r.contains((b=n?.getRootNode())==null?void 0:b.host))||y.some(o=>r.contains(o))||y.push(r));return y});return{resolveContainers:i,contains:Rt(f=>i().some(b=>b.contains(f)))}}let OH=H.createContext(null);function WL({children:t,node:e}){let[n,i]=H.useState(null),f=FH(e??n);return Ze.createElement(OH.Provider,{value:f},t,f===null&&Ze.createElement(CE,{features:tw.Hidden,ref:b=>{var s,y;if(b){for(let r of(y=(s=ih(b))==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?y:[])if(r!==document.body&&r!==document.head&&Kl(r)&&r!=null&&r.contains(b)){i(r);break}}}}))}function FH(t=null){var e;return(e=H.useContext(OH))!=null?e:t}function YRe(){let t=typeof document>"u";return"useSyncExternalStore"in u8?(e=>e.useSyncExternalStore)(u8)(()=>()=>{},()=>!1,()=>!t):!1}function Nx(){let t=YRe(),[e,n]=H.useState(_o.isHandoffComplete);return e&&_o.isHandoffComplete===!1&&n(!1),H.useEffect(()=>{e!==!0&&n(!0)},[e]),H.useEffect(()=>_o.handoff(),[]),t?!1:e}function IT(){let t=H.useRef(!1);return zn(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var cv=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(cv||{});function XRe(){let t=H.useRef(0);return nH(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function $H(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)Kl(n.current)&&e.add(n.current);return e}let KRe="div";var ed=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(ed||{});function ZRe(t,e){let n=H.useRef(null),i=ji(n,e),{initialFocus:f,initialFocusFallback:b,containers:s,features:y=15,...r}=t;Nx()||(y=0);let o=Ng(n.current);qRe(y,{ownerDocument:o});let v=eMe(y,{ownerDocument:o,container:n,initialFocus:f,initialFocusFallback:b});tMe(y,{ownerDocument:o,container:n,containers:s,previousActiveElement:v});let c=XRe(),u=Rt(g=>{if(!Ws(n.current))return;let m=n.current;(x=>x())(()=>{so(c.current,{[cv.Forwards]:()=>{Hf(m,Va.First,{skipElements:[g.relatedTarget,b]})},[cv.Backwards]:()=>{Hf(m,Va.Last,{skipElements:[g.relatedTarget,b]})}})})}),l=Am(!!(y&2),"focus-trap#tab-lock"),a=sh(),d=H.useRef(!1),p={ref:i,onKeyDown(g){g.key=="Tab"&&(d.current=!0,a.requestAnimationFrame(()=>{d.current=!1}))},onBlur(g){if(!(y&4))return;let m=$H(s);Ws(n.current)&&m.add(n.current);let x=g.relatedTarget;Yo(x)&&x.dataset.headlessuiFocusGuard!=="true"&&(LH(m,x)||(d.current?Hf(n.current,so(c.current,{[cv.Forwards]:()=>Va.Next,[cv.Backwards]:()=>Va.Previous})|Va.WrapAround,{relativeTo:g.target}):Yo(g.target)&&qo(g.target)))}},h=Er();return Ze.createElement(Ze.Fragment,null,l&&Ze.createElement(CE,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:u,features:tw.Focusable}),h({ourProps:p,theirProps:r,defaultTag:KRe,name:"FocusTrap"}),l&&Ze.createElement(CE,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:u,features:tw.Focusable}))}let JRe=ir(ZRe),QRe=Object.assign(JRe,{features:ed});function _Re(t=!0){let e=H.useRef(Qu.slice());return CT(([n],[i])=>{i===!0&&n===!1&&Px(()=>{e.current.splice(0)}),i===!1&&n===!0&&(e.current=Qu.slice())},[t,Qu,e]),Rt(()=>{var n;return(n=e.current.find(i=>i!=null&&i.isConnected))!=null?n:null})}function qRe(t,{ownerDocument:e}){let n=!!(t&8),i=_Re(n);CT(()=>{n||FV(e?.body)&&qo(i())},[n]),PT(()=>{n&&qo(i())})}function eMe(t,{ownerDocument:e,container:n,initialFocus:i,initialFocusFallback:f}){let b=H.useRef(null),s=Am(!!(t&1),"focus-trap#initial-focus"),y=IT();return CT(()=>{if(t===0)return;if(!s){f!=null&&f.current&&qo(f.current);return}let r=n.current;r&&Px(()=>{if(!y.current)return;let o=e?.activeElement;if(i!=null&&i.current){if(i?.current===o){b.current=o;return}}else if(r.contains(o)){b.current=o;return}if(i!=null&&i.current)qo(i.current);else{if(t&16){if(Hf(r,Va.First|Va.AutoFocus)!==SE.Error)return}else if(Hf(r,Va.First)!==SE.Error)return;if(f!=null&&f.current&&(qo(f.current),e?.activeElement===f.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}b.current=e?.activeElement})},[f,s,t]),b}function tMe(t,{ownerDocument:e,container:n,containers:i,previousActiveElement:f}){let b=IT(),s=!!(t&4);iH(e?.defaultView,"focus",y=>{if(!s||!b.current)return;let r=$H(i);Ws(n.current)&&r.add(n.current);let o=f.current;if(!o)return;let v=y.target;Ws(v)?LH(r,v)?(f.current=v,qo(v)):(y.preventDefault(),y.stopPropagation(),qo(o)):qo(f.current)},!0)}function LH(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function DH(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||!Pv((e=t.as)!=null?e:kH)||Ze.Children.count(t.children)===1}let kx=H.createContext(null);kx.displayName="TransitionContext";var nMe=(t=>(t.Visible="visible",t.Hidden="hidden",t))(nMe||{});function rMe(){let t=H.useContext(kx);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function iMe(){let t=H.useContext(Bx);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let Bx=H.createContext(null);Bx.displayName="NestingContext";function Ux(t){return"children"in t?Ux(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function NH(t,e){let n=ah(t),i=H.useRef([]),f=IT(),b=sh(),s=Rt((l,a=ec.Hidden)=>{let d=i.current.findIndex(({el:p})=>p===l);d!==-1&&(so(a,{[ec.Unmount](){i.current.splice(d,1)},[ec.Hidden](){i.current[d].state="hidden"}}),b.microTask(()=>{var p;!Ux(i)&&f.current&&((p=n.current)==null||p.call(n))}))}),y=Rt(l=>{let a=i.current.find(({el:d})=>d===l);return a?a.state!=="visible"&&(a.state="visible"):i.current.push({el:l,state:"visible"}),()=>s(l,ec.Unmount)}),r=H.useRef([]),o=H.useRef(Promise.resolve()),v=H.useRef({enter:[],leave:[]}),c=Rt((l,a,d)=>{r.current.splice(0),e&&(e.chains.current[a]=e.chains.current[a].filter(([p])=>p!==l)),e?.chains.current[a].push([l,new Promise(p=>{r.current.push(p)})]),e?.chains.current[a].push([l,new Promise(p=>{Promise.all(v.current[a].map(([h,g])=>g)).then(()=>p())})]),a==="enter"?o.current=o.current.then(()=>e?.wait.current).then(()=>d(a)):d(a)}),u=Rt((l,a,d)=>{Promise.all(v.current[a].splice(0).map(([p,h])=>h)).then(()=>{var p;(p=r.current.shift())==null||p()}).then(()=>d(a))});return H.useMemo(()=>({children:i,register:y,unregister:s,onStart:c,onStop:u,wait:o,chains:v}),[y,s,i,c,u,v,o])}let kH=H.Fragment,BH=gp.RenderStrategy;function sMe(t,e){var n,i;let{transition:f=!0,beforeEnter:b,afterEnter:s,beforeLeave:y,afterLeave:r,enter:o,enterFrom:v,enterTo:c,entered:u,leave:l,leaveFrom:a,leaveTo:d,...p}=t,[h,g]=H.useState(null),m=H.useRef(null),x=DH(t),w=ji(...x?[m,e,g]:e===null?[]:[e]),C=(n=p.unmount)==null||n?ec.Unmount:ec.Hidden,{show:E,appear:T,initial:S}=rMe(),[A,P]=H.useState(E?"visible":"hidden"),R=iMe(),{register:L,unregister:D}=R;zn(()=>L(m),[L,m]),zn(()=>{if(C===ec.Hidden&&m.current){if(E&&A!=="visible"){P("visible");return}return so(A,{hidden:()=>D(m),visible:()=>L(m)})}},[A,m,L,D,E,C]);let F=Nx();zn(()=>{if(x&&F&&A==="visible"&&m.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[m,A,F,x]);let $=S&&!T,N=T&&E&&S,k=H.useRef(!1),j=NH(()=>{k.current||(P("hidden"),D(m))},R),W=Rt(V=>{k.current=!0;let J=V?"enter":"leave";j.onStart(m,J,_=>{_==="enter"?b?.():_==="leave"&&y?.()})}),G=Rt(V=>{let J=V?"enter":"leave";k.current=!1,j.onStop(m,J,_=>{_==="enter"?s?.():_==="leave"&&r?.()}),J==="leave"&&!Ux(j)&&(P("hidden"),D(m))});H.useEffect(()=>{x&&f||(W(E),G(E))},[E,x,f]);let K=!(!f||!x||!F||$),[,z]=oH(K,h,E,{start:W,end:G}),X=Jc({ref:w,className:((i=bE(p.className,N&&o,N&&v,z.enter&&o,z.enter&&z.closed&&v,z.enter&&!z.closed&&c,z.leave&&l,z.leave&&!z.closed&&a,z.leave&&z.closed&&d,!z.transition&&E&&u))==null?void 0:i.trim())||void 0,...aH(z)}),U=0;A==="visible"&&(U|=$i.Open),A==="hidden"&&(U|=$i.Closed),E&&A==="hidden"&&(U|=$i.Opening),!E&&A==="visible"&&(U|=$i.Closing);let Z=Er();return Ze.createElement(Bx.Provider,{value:j},Ze.createElement(SH,{value:U},Z({ourProps:X,theirProps:p,defaultTag:kH,features:BH,visible:A==="visible",name:"Transition.Child"})))}function aMe(t,e){let{show:n,appear:i=!1,unmount:f=!0,...b}=t,s=H.useRef(null),y=DH(t),r=ji(...y?[s,e]:e===null?[]:[e]);Nx();let o=Rm();if(n===void 0&&o!==null&&(n=(o&$i.Open)===$i.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[v,c]=H.useState(n?"visible":"hidden"),u=NH(()=>{n||c("hidden")}),[l,a]=H.useState(!0),d=H.useRef([n]);zn(()=>{l!==!1&&d.current[d.current.length-1]!==n&&(d.current.push(n),a(!1))},[d,n]);let p=H.useMemo(()=>({show:n,appear:i,initial:l}),[n,i,l]);zn(()=>{n?c("visible"):!Ux(u)&&s.current!==null&&c("hidden")},[n,u]);let h={unmount:f},g=Rt(()=>{var w;l&&a(!1),(w=t.beforeEnter)==null||w.call(t)}),m=Rt(()=>{var w;l&&a(!1),(w=t.beforeLeave)==null||w.call(t)}),x=Er();return Ze.createElement(Bx.Provider,{value:u},Ze.createElement(kx.Provider,{value:p},x({ourProps:{...h,as:H.Fragment,children:Ze.createElement(UH,{ref:r,...h,...b,beforeEnter:g,beforeLeave:m})},theirProps:{},defaultTag:H.Fragment,features:BH,visible:v==="visible",name:"Transition"})))}function oMe(t,e){let n=H.useContext(kx)!==null,i=Rm()!==null;return Ze.createElement(Ze.Fragment,null,!n&&i?Ze.createElement(RE,{ref:e,...t}):Ze.createElement(UH,{ref:e,...t}))}let RE=ir(aMe),UH=ir(sMe),Ug=ir(oMe),jH=Object.assign(RE,{Child:Ug,Root:RE});var lMe=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(lMe||{}),uMe=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(uMe||{});let cMe={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},RT=H.createContext(null);RT.displayName="DialogContext";function jx(t){let e=H.useContext(RT);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,jx),n}return e}function dMe(t,e){return so(e.type,cMe,t,e)}let GL=ir(function(t,e){let n=H.useId(),{id:i=`headlessui-dialog-${n}`,open:f,onClose:b,initialFocus:s,role:y="dialog",autoFocus:r=!0,__demoMode:o=!1,unmount:v=!1,...c}=t,u=H.useRef(!1);y=(function(){return y==="dialog"||y==="alertdialog"?y:(u.current||(u.current=!0,console.warn(`Invalid role [${y}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let l=Rm();f===void 0&&l!==null&&(f=(l&$i.Open)===$i.Open);let a=H.useRef(null),d=ji(a,e),p=Ng(a.current),h=f?0:1,[g,m]=H.useReducer(dMe,{titleId:null,descriptionId:null,panelRef:H.createRef()}),x=Rt(()=>b(!1)),w=Rt(z=>m({type:0,id:z})),C=Nx()?h===0:!1,[E,T]=jRe(),S={get current(){var z;return(z=g.panelRef.current)!=null?z:a.current}},A=FH(),{resolveContainers:P}=HRe({mainTreeNode:A,portals:E,defaultContainers:[S]}),R=l!==null?(l&$i.Closing)===$i.Closing:!1;JV(o||R?!1:C,{allowed:Rt(()=>{var z,X;return[(X=(z=a.current)==null?void 0:z.closest("[data-headlessui-portal]"))!=null?X:null]}),disallowed:Rt(()=>{var z;return[(z=A?.closest("body > *:not(#headlessui-portal-root)"))!=null?z:null]})});let L=Rx.get(null);zn(()=>{if(C)return L.actions.push(i),()=>L.actions.pop(i)},[L,i,C]);let D=ca(L,H.useCallback(z=>L.selectors.isTop(z,i),[L,i]));rH(D,P,z=>{z.preventDefault(),x()}),GRe(D,p?.defaultView,z=>{z.preventDefault(),z.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),x()}),sH(o||R?!1:C,p,P),QV(C,a,x);let[F,$]=zV(),N=H.useMemo(()=>[{dialogState:h,close:x,setTitleId:w,unmount:v},g],[h,x,w,v,g]),k=ll({open:h===0}),j={ref:d,id:i,role:y,tabIndex:-1,"aria-modal":o?void 0:h===0?!0:void 0,"aria-labelledby":g.titleId,"aria-describedby":F,unmount:v},W=!VRe(),G=ed.None;C&&!o&&(G|=ed.RestoreFocus,G|=ed.TabLock,r&&(G|=ed.AutoFocus),W&&(G|=ed.InitialFocus));let K=Er();return Ze.createElement(ORe,null,Ze.createElement(zL,{force:!0},Ze.createElement(RH,null,Ze.createElement(RT.Provider,{value:N},Ze.createElement(IH,{target:a},Ze.createElement(zL,{force:!1},Ze.createElement($,{slot:k},Ze.createElement(T,null,Ze.createElement(QRe,{initialFocus:s,initialFocusFallback:a,containers:P,features:G},Ze.createElement(mPe,{value:x},K({ourProps:j,theirProps:c,slot:k,defaultTag:hMe,features:fMe,visible:h===0,name:"Dialog"})))))))))))}),hMe="div",fMe=gp.RenderStrategy|gp.Static;function pMe(t,e){let{transition:n=!1,open:i,...f}=t,b=Rm(),s=t.hasOwnProperty("open")||b!==null,y=t.hasOwnProperty("onClose");if(!s&&!y)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!s)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!y)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!b&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(i!==void 0||n)&&!f.static?Ze.createElement(WL,null,Ze.createElement(jH,{show:i,transition:n,unmount:f.unmount},Ze.createElement(GL,{ref:e,...f}))):Ze.createElement(WL,null,Ze.createElement(GL,{ref:e,open:i,...f}))}let vMe="div";function gMe(t,e){let n=H.useId(),{id:i=`headlessui-dialog-panel-${n}`,transition:f=!1,...b}=t,[{dialogState:s,unmount:y},r]=jx("Dialog.Panel"),o=ji(e,r.panelRef),v=ll({open:s===0}),c=Rt(p=>{p.stopPropagation()}),u={ref:o,id:i,onClick:c},l=f?Ug:H.Fragment,a=f?{unmount:y}:{},d=Er();return Ze.createElement(l,{...a},d({ourProps:u,theirProps:b,slot:v,defaultTag:vMe,name:"Dialog.Panel"}))}let mMe="div";function yMe(t,e){let{transition:n=!1,...i}=t,[{dialogState:f,unmount:b}]=jx("Dialog.Backdrop"),s=ll({open:f===0}),y={ref:e,"aria-hidden":!0},r=n?Ug:H.Fragment,o=n?{unmount:b}:{},v=Er();return Ze.createElement(r,{...o},v({ourProps:y,theirProps:i,slot:s,defaultTag:mMe,name:"Dialog.Backdrop"}))}let wMe="h2";function xMe(t,e){let n=H.useId(),{id:i=`headlessui-dialog-title-${n}`,...f}=t,[{dialogState:b,setTitleId:s}]=jx("Dialog.Title"),y=ji(e);H.useEffect(()=>(s(i),()=>s(null)),[i,s]);let r=ll({open:b===0}),o={ref:y,id:i};return Er()({ourProps:o,theirProps:f,slot:r,defaultTag:wMe,name:"Dialog.Title"})}let bMe=ir(pMe),zH=ir(gMe);ir(yMe);let CMe=ir(xMe),EMe=Object.assign(bMe,{Panel:zH,Title:CMe,Description:dPe}),VL=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function HL(t){var e,n;let i=(e=t.innerText)!=null?e:"",f=t.cloneNode(!0);if(!Ws(f))return i;let b=!1;for(let y of f.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))y.remove(),b=!0;let s=b?(n=f.innerText)!=null?n:"":i;return VL.test(s)&&(s=s.replace(VL,"")),s}function SMe(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let n=t.getAttribute("aria-labelledby");if(n){let i=n.split(" ").map(f=>{let b=document.getElementById(f);if(b){let s=b.getAttribute("aria-label");return typeof s=="string"?s.trim():HL(b).trim()}return null}).filter(Boolean);if(i.length>0)return i.join(", ")}return HL(t).trim()}function TMe(t){let e=H.useRef(""),n=H.useRef("");return Rt(()=>{let i=t.current;if(!i)return"";let f=i.innerText;if(e.current===f)return n.current;let b=SMe(i).trim().toLowerCase();return e.current=f,n.current=b,b})}var AMe=Object.defineProperty,PMe=(t,e,n)=>e in t?AMe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,YL=(t,e,n)=>(PMe(t,typeof e!="symbol"?e+"":e,n),n),Ci=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Ci||{}),aw=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(aw||{}),An=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItems=5]="RegisterItems",t[t.UnregisterItems=6]="UnregisterItems",t[t.SetButtonElement=7]="SetButtonElement",t[t.SetItemsElement=8]="SetItemsElement",t[t.SortItems=9]="SortItems",t[t.MarkButtonAsMoved=10]="MarkButtonAsMoved",t))(An||{});function XL(t,e=n=>n){let n=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,i=eH(e(t.items.slice()),b=>b.dataRef.current.domRef.current),f=n?i.indexOf(n):null;return f===-1&&(f=null),{items:i,activeItemIndex:f}}let IMe={1(t){if(t.menuState===1)return t;let e=t.buttonElement?n2.Tracked(MH(t.buttonElement)):t.buttonPositionState;return{...t,activeItemIndex:null,pendingFocus:{focus:br.Nothing},menuState:1,buttonPositionState:e}},0(t,e){return t.menuState===0?t:{...t,__demoMode:!1,pendingFocus:e.focus,menuState:0,buttonPositionState:n2.Idle}},2:(t,e)=>{var n,i,f,b,s;if(t.menuState===1)return t;let y={...t,searchQuery:"",activationTrigger:(n=e.trigger)!=null?n:1,__demoMode:!1};if(e.focus===br.Nothing)return{...y,activeItemIndex:null};if(e.focus===br.Specific)return{...y,activeItemIndex:t.items.findIndex(v=>v.id===e.id)};if(e.focus===br.Previous){let v=t.activeItemIndex;if(v!==null){let c=t.items[v].dataRef.current.domRef,u=Iy(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:l=>l.id,resolveDisabled:l=>l.dataRef.current.disabled});if(u!==null){let l=t.items[u].dataRef.current.domRef;if(((i=c.current)==null?void 0:i.previousElementSibling)===l.current||((f=l.current)==null?void 0:f.previousElementSibling)===null)return{...y,activeItemIndex:u}}}}else if(e.focus===br.Next){let v=t.activeItemIndex;if(v!==null){let c=t.items[v].dataRef.current.domRef,u=Iy(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:l=>l.id,resolveDisabled:l=>l.dataRef.current.disabled});if(u!==null){let l=t.items[u].dataRef.current.domRef;if(((b=c.current)==null?void 0:b.nextElementSibling)===l.current||((s=l.current)==null?void 0:s.nextElementSibling)===null)return{...y,activeItemIndex:u}}}}let r=XL(t),o=Iy(e,{resolveItems:()=>r.items,resolveActiveIndex:()=>r.activeItemIndex,resolveId:v=>v.id,resolveDisabled:v=>v.dataRef.current.disabled});return{...y,...r,activeItemIndex:o}},3:(t,e)=>{let n=t.searchQuery!==""?0:1,i=t.searchQuery+e.value.toLowerCase(),f=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+n).concat(t.items.slice(0,t.activeItemIndex+n)):t.items).find(s=>{var y;return((y=s.dataRef.current.textValue)==null?void 0:y.startsWith(i))&&!s.dataRef.current.disabled}),b=f?t.items.indexOf(f):-1;return b===-1||b===t.activeItemIndex?{...t,searchQuery:i}:{...t,searchQuery:i,activeItemIndex:b,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let n=t.items.concat(e.items.map(f=>f)),i=t.activeItemIndex;return t.pendingFocus.focus!==br.Nothing&&(i=Iy(t.pendingFocus,{resolveItems:()=>n,resolveActiveIndex:()=>t.activeItemIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.current.disabled})),{...t,items:n,activeItemIndex:i,pendingFocus:{focus:br.Nothing},pendingShouldSort:!0}},6:(t,e)=>{let n=t.items,i=[],f=new Set(e.items);for(let[b,s]of n.entries())if(f.has(s.id)&&(i.push(b),f.delete(s.id),f.size===0))break;if(i.length>0){n=n.slice();for(let b of i.reverse())n.splice(b,1)}return{...t,items:n,activationTrigger:1}},7:(t,e)=>t.buttonElement===e.element?t:{...t,buttonElement:e.element},8:(t,e)=>t.itemsElement===e.element?t:{...t,itemsElement:e.element},9:t=>t.pendingShouldSort?{...t,...XL(t),pendingShouldSort:!1}:t,10(t){return t.buttonPositionState.kind!=="Tracked"?t:{...t,buttonPositionState:n2.Moved}}},RMe=class WH extends YV{constructor(e){super(e),YL(this,"actions",{registerItem:hL(()=>{let n=[],i=new Set;return[(f,b)=>{i.has(b)||(i.add(b),n.push({id:f,dataRef:b}))},()=>(i.clear(),this.send({type:5,items:n.splice(0)}))]}),unregisterItem:hL(()=>{let n=[];return[i=>n.push(i),()=>this.send({type:6,items:n.splice(0)})]})}),YL(this,"selectors",{activeDescendantId(n){var i;let f=n.activeItemIndex,b=n.items;return f===null||(i=b[f])==null?void 0:i.id},isActive(n,i){var f;let b=n.activeItemIndex,s=n.items;return b!==null?((f=s[b])==null?void 0:f.id)===i:!1},shouldScrollIntoView(n,i){return n.__demoMode||n.menuState!==0||n.activationTrigger===0?!1:this.isActive(n,i)},didButtonMove(n){return n.buttonPositionState.kind==="Moved"}}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let n=this.state.id,i=Rx.get(null);this.disposables.add(i.on(KV.Push,f=>{!i.selectors.isTop(f,n)&&this.state.menuState===0&&this.send({type:1})})),this.on(0,()=>i.actions.push(n)),this.on(1,()=>i.actions.pop(n))}this.disposables.group(n=>{this.on(1,i=>{i.buttonElement&&(n.dispose(),n.add(WRe(i.buttonElement,i.buttonPositionState,()=>{this.send({type:10})})))})})}static new({id:e,__demoMode:n=!1}){return new WH({id:e,__demoMode:n,menuState:n?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:br.Nothing},buttonPositionState:n2.Idle})}reduce(e,n){return so(n.type,IMe,e,n)}};const GH=H.createContext(null);function MT(t){let e=H.useContext(GH);if(e===null){let n=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,VH),n}return e}function VH({id:t,__demoMode:e=!1}){let n=H.useMemo(()=>RMe.new({id:t,__demoMode:e}),[]);return PT(()=>n.dispose()),n}let MMe=H.Fragment;function OMe(t,e){let n=H.useId(),{__demoMode:i=!1,...f}=t,b=VH({id:n,__demoMode:i}),[s,y,r]=ca(b,p=>[p.menuState,p.itemsElement,p.buttonElement]),o=ji(e),v=Rx.get(null),c=ca(v,H.useCallback(p=>v.selectors.isTop(p,n),[v,n]));rH(c,[r,y],(p,h)=>{var g;b.send({type:An.CloseMenu}),bT(h,xT.Loose)||(p.preventDefault(),(g=b.state.buttonElement)==null||g.focus())});let u=Rt(()=>{b.send({type:An.CloseMenu})}),l=ll({open:s===Ci.Open,close:u}),a={ref:o},d=Er();return Ze.createElement(IRe,null,Ze.createElement(GH.Provider,{value:b},Ze.createElement(SH,{value:so(s,{[Ci.Open]:$i.Open,[Ci.Closed]:$i.Closed})},d({ourProps:a,theirProps:f,slot:l,defaultTag:MMe,name:"Menu"}))))}let FMe="button";function $Me(t,e){let n=MT("Menu.Button"),i=H.useId(),{id:f=`headlessui-menu-button-${i}`,disabled:b=!1,autoFocus:s=!1,...y}=t,r=H.useRef(null),o=TRe(),v=ji(e,r,SRe(),Rt(A=>n.send({type:An.SetButtonElement,element:A}))),c=Rt(A=>{switch(A.key){case Xr.Space:case Xr.Enter:case Xr.ArrowDown:A.preventDefault(),A.stopPropagation(),n.send({type:An.OpenMenu,focus:{focus:br.First}});break;case Xr.ArrowUp:A.preventDefault(),A.stopPropagation(),n.send({type:An.OpenMenu,focus:{focus:br.Last}});break}}),u=Rt(A=>{switch(A.key){case Xr.Space:A.preventDefault();break}}),[l,a,d]=ca(n,A=>[A.menuState,A.buttonElement,A.itemsElement]),p=l===Ci.Open;zPe(p,{trigger:a,action:H.useCallback(A=>{if(a!=null&&a.contains(A.target))return Ay.Ignore;let P=A.target.closest('[role="menuitem"]:not([data-disabled])');return Ws(P)?Ay.Select(P):d!=null&&d.contains(A.target)?Ay.Ignore:Ay.Close},[a,d]),close:H.useCallback(()=>n.send({type:An.CloseMenu}),[]),select:H.useCallback(A=>A.click(),[])});let h=wPe(A=>{var P;b||(l===Ci.Open?(eu.flushSync(()=>n.send({type:An.CloseMenu})),(P=r.current)==null||P.focus({preventScroll:!0})):(A.preventDefault(),n.send({type:An.OpenMenu,focus:{focus:br.Nothing},trigger:aw.Pointer})))}),{isFocusVisible:g,focusProps:m}=UAe({autoFocus:s}),{isHovered:x,hoverProps:w}=BAe({isDisabled:b}),{pressed:C,pressProps:E}=HAe({disabled:b}),T=ll({open:l===Ci.Open,active:C||l===Ci.Open,disabled:b,hover:x,focus:g,autofocus:s}),S=DV(o(),{ref:v,id:f,type:WPe(t,r.current),"aria-haspopup":"menu","aria-controls":d?.id,"aria-expanded":l===Ci.Open,disabled:b||void 0,autoFocus:s,onKeyDown:c,onKeyUp:u},h,m,w,E);return Er()({ourProps:S,theirProps:y,slot:T,defaultTag:FMe,name:"Menu.Button"})}let LMe="div",DMe=gp.RenderStrategy|gp.Static;function NMe(t,e){let n=H.useId(),{id:i=`headlessui-menu-items-${n}`,anchor:f,portal:b=!1,modal:s=!0,transition:y=!1,...r}=t,o=ERe(f),v=MT("Menu.Items"),[c,u]=PRe(o),l=ARe(),[a,d]=H.useState(null),p=ji(e,o?c:null,Rt(k=>v.send({type:An.SetItemsElement,element:k})),d),[h,g]=ca(v,k=>[k.menuState,k.buttonElement]),m=Ng(g),x=Ng(a);o&&(b=!0);let w=Rm(),[C,E]=oH(y,a,w!==null?(w&$i.Open)===$i.Open:h===Ci.Open);QV(C,g,()=>{v.send({type:An.CloseMenu})});let T=ca(v,k=>k.__demoMode),S=T?!1:s&&h===Ci.Open;sH(S,x);let A=T?!1:s&&h===Ci.Open;JV(A,{allowed:H.useCallback(()=>[g,a],[g,a])});let P=ca(v,v.selectors.didButtonMove)?!1:C;H.useEffect(()=>{let k=a;k&&h===Ci.Open&&(FV(k)||k.focus({preventScroll:!0}))},[h,a]),rIe(h===Ci.Open,{container:a,accept(k){return k.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:k.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(k){k.setAttribute("role","none")}});let R=sh(),L=Rt(k=>{var j,W,G;switch(R.dispose(),k.key){case Xr.Space:if(v.state.searchQuery!=="")return k.preventDefault(),k.stopPropagation(),v.send({type:An.Search,value:k.key});case Xr.Enter:if(k.preventDefault(),k.stopPropagation(),v.state.activeItemIndex!==null){let{dataRef:K}=v.state.items[v.state.activeItemIndex];(W=(j=K.current)==null?void 0:j.domRef.current)==null||W.click()}v.send({type:An.CloseMenu}),qV(v.state.buttonElement);break;case Xr.ArrowDown:return k.preventDefault(),k.stopPropagation(),v.send({type:An.GoToItem,focus:br.Next});case Xr.ArrowUp:return k.preventDefault(),k.stopPropagation(),v.send({type:An.GoToItem,focus:br.Previous});case Xr.Home:case Xr.PageUp:return k.preventDefault(),k.stopPropagation(),v.send({type:An.GoToItem,focus:br.First});case Xr.End:case Xr.PageDown:return k.preventDefault(),k.stopPropagation(),v.send({type:An.GoToItem,focus:br.Last});case Xr.Escape:k.preventDefault(),k.stopPropagation(),eu.flushSync(()=>v.send({type:An.CloseMenu})),(G=v.state.buttonElement)==null||G.focus({preventScroll:!0});break;case Xr.Tab:k.preventDefault(),k.stopPropagation(),eu.flushSync(()=>v.send({type:An.CloseMenu})),kPe(v.state.buttonElement,k.shiftKey?Va.Previous:Va.Next);break;default:k.key.length===1&&(v.send({type:An.Search,value:k.key}),R.setTimeout(()=>v.send({type:An.ClearSearch}),350));break}}),D=Rt(k=>{switch(k.key){case Xr.Space:k.preventDefault();break}}),F=ll({open:h===Ci.Open}),$=DV(o?l():{},{"aria-activedescendant":ca(v,v.selectors.activeDescendantId),"aria-labelledby":ca(v,k=>{var j;return(j=k.buttonElement)==null?void 0:j.id}),id:i,onKeyDown:L,onKeyUp:D,role:"menu",tabIndex:h===Ci.Open?0:void 0,ref:p,style:{...r.style,...u,"--button-width":yPe(C,g,!0).width},...aH(E)}),N=Er();return Ze.createElement(RH,{enabled:b?t.static||C:!1,ownerDocument:m},N({ourProps:$,theirProps:r,slot:F,defaultTag:LMe,features:DMe,visible:P,name:"Menu.Items"}))}let kMe=H.Fragment;function BMe(t,e){let n=H.useId(),{id:i=`headlessui-menu-item-${n}`,disabled:f=!1,...b}=t,s=MT("Menu.Item"),y=ca(s,P=>s.selectors.isActive(P,i)),r=H.useRef(null),o=ji(e,r),v=ca(s,P=>s.selectors.shouldScrollIntoView(P,i));zn(()=>{if(v)return gs().requestAnimationFrame(()=>{var P,R;(R=(P=r.current)==null?void 0:P.scrollIntoView)==null||R.call(P,{block:"nearest"})})},[v,r]);let c=TMe(r),u=H.useRef({disabled:f,domRef:r,get textValue(){return c()}});zn(()=>{u.current.disabled=f},[u,f]),zn(()=>(s.actions.registerItem(i,u),()=>s.actions.unregisterItem(i)),[u,i]);let l=Rt(()=>{s.send({type:An.CloseMenu})}),a=Rt(P=>{if(f)return P.preventDefault();s.send({type:An.CloseMenu}),qV(s.state.buttonElement)}),d=Rt(()=>{if(f)return s.send({type:An.GoToItem,focus:br.Nothing});s.send({type:An.GoToItem,focus:br.Specific,id:i})}),p=ZPe(),h=Rt(P=>p.update(P)),g=Rt(P=>{p.wasMoved(P)&&(f||y||s.send({type:An.GoToItem,focus:br.Specific,id:i,trigger:aw.Pointer}))}),m=Rt(P=>{p.wasMoved(P)&&(f||y&&s.state.activationTrigger===aw.Pointer&&s.send({type:An.GoToItem,focus:br.Nothing}))}),[x,w]=WV(),[C,E]=zV(),T=ll({active:y,focus:y,disabled:f,close:l}),S={id:i,ref:o,role:"menuitem",tabIndex:f===!0?void 0:-1,"aria-disabled":f===!0?!0:void 0,"aria-labelledby":x,"aria-describedby":C,disabled:void 0,onClick:a,onFocus:d,onPointerEnter:h,onMouseEnter:h,onPointerMove:g,onMouseMove:g,onPointerLeave:m,onMouseLeave:m},A=Er();return Ze.createElement(w,null,Ze.createElement(E,null,A({ourProps:S,theirProps:b,slot:T,defaultTag:kMe,name:"Menu.Item"})))}let UMe="div";function jMe(t,e){let[n,i]=WV(),f=t,b={ref:e,"aria-labelledby":n,role:"group"},s=Er();return Ze.createElement(i,null,s({ourProps:b,theirProps:f,slot:{},defaultTag:UMe,name:"Menu.Section"}))}let zMe="header";function WMe(t,e){let n=H.useId(),{id:i=`headlessui-menu-heading-${n}`,...f}=t,b=wT();zn(()=>b.register(i),[i,b.register]);let s={id:i,ref:e,role:"presentation",...b.props};return Er()({ourProps:s,theirProps:f,slot:{},defaultTag:zMe,name:"Menu.Heading"})}let GMe="div";function VMe(t,e){let n=t,i={ref:e,role:"separator"};return Er()({ourProps:i,theirProps:n,slot:{},defaultTag:GMe,name:"Menu.Separator"})}let HMe=ir(OMe),HH=ir($Me),YH=ir(NMe),XH=ir(BMe),YMe=ir(jMe),XMe=ir(WMe),KMe=ir(VMe),ZMe=Object.assign(HMe,{Button:HH,Items:YH,Item:XH,Section:YMe,Heading:XMe,Separator:KMe});class KH{get(e){let n=localStorage.getItem(e);return n===null?void 0:JSON.parse(n)}put(e,n){n!==void 0?localStorage.setItem(e,JSON.stringify(n)):this.del(e)}del(e){localStorage.removeItem(e)}getKeys(){return Object.entries(localStorage).map((([e])=>e))}}function ME(){try{let t="privy:__session_storage__test",e=new KH;return e.put(t,"blobby"),e.del(t),!0}catch{return!1}}var Ct=typeof window<"u"&&window.localStorage?new KH:new class{get(t){return this._cache[t]}put(t,e){e!==void 0?this._cache[t]=e:this.del(t)}del(t){delete this._cache[t]}getKeys(){return Object.keys(this._cache)}constructor(){this._cache={}}};function ZH(t){return{name:t.metadata?.shortName||t.name||"",universalLink:t.mobile.universal,deepLink:t.mobile.native}}function KL(t,e){let n=ZH(e);if(n.universalLink)return OT(n.universalLink,t)}let E6="WALLETCONNECT_DEEPLINK_CHOICE";function JH(t){return t.startsWith("http://")||t.startsWith("https://")}function QH(t,e){if(JH(t))return OT(t,e);let n=t;return n.includes("://")||(n=t.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),{redirect:`${n}wc?uri=${encodeURIComponent(e)}`,href:n}}function OT(t,e){if(!JH(t))return QH(t,e);let n=t;return n.endsWith("/")||(n=`${n}/`),{redirect:`${n}wc?uri=${encodeURIComponent(e)}`,href:n}}function _H(t,e){window.open(t,e,"noreferrer noopener")}class Li{execute(e){return this.promise===null&&(this.promise=(async()=>{try{return await this.fn(e)}finally{this.promise=null}})()),this.promise}constructor(e){this.promise=null,this.fn=e}}const OE="https://auth.privy.io",JMe=2e4,Wn=1400,qH=2500,FT=4e3,QMe="3.4.1",dv="privy:token",ZL="privy-token",S6="privy:refresh_token",_Me="privy-refresh-token",r2="privy:pat",JL="privy:id_token",QL="privy-id-token",T6="privy-session",FE="privy:caid",eY=t=>`privy:guest:${t}`,Ry=t=>`privy:cross-app:${t}`,ow="privy:state_code",hv="privy:code_verifier",lw="privy:headless_oauth",Rv="privy:oauth_disable_signup",A6=t=>`privy:wallet:${t}`,tY="privy:connections",zx=12e4,qMe=3e4,eOe="deprecated";function $E(t){return crypto.getRandomValues(new Uint8Array(t))}function Wx(){return Md($E(36))}function $T(){return Wx()}async function LT(t,e="S256"){if(e!="S256")return t;{let n=await(async function(i){let f=new TextEncoder().encode(i);return new Uint8Array(await crypto.subtle.digest("SHA-256",f))})(t);return Md(n)}}function tOe(){let t=Ct.get(hv);if(!t)throw new ge("Authentication error.");return t}function nY(t){return t.charAt(0).toUpperCase()+t.slice(1)}const rY=({style:t,...e})=>O.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[O.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#040507"}),O.jsx("path",{d:"M17.2949 6.37537C18.0156 5.44684 19.4671 4.57877 20.4927 4.46512C20.8178 4.42885 20.8581 4.43127 20.9312 4.50139L20.9967 4.56426L20.9816 4.99225C20.9564 5.65963 20.8682 6.12873 20.6716 6.6341C20.4751 7.13705 20.1198 7.71738 19.8426 7.97852C19.7594 8.06074 19.6007 8.22516 19.4948 8.34848C19.0563 8.84901 18.439 9.20205 17.5973 9.4366C17.2823 9.52606 17.2596 9.52848 16.8917 9.52606C16.4482 9.52365 16.3852 9.51156 16.3524 9.43176C16.3398 9.39791 16.3272 9.18996 16.3222 8.9675L16.3171 8.56127L16.423 8.17922C16.6347 7.41512 16.8791 6.90733 17.2949 6.37537Z",fill:"white"}),O.jsx("path",{d:"M17.4512 10.2081C18.4163 9.84541 19.7595 9.48754 20.2584 9.46336C20.6616 9.4416 21.2966 9.49238 21.7225 9.57943C22.1383 9.66164 22.4357 9.76078 22.8666 9.96148C23.5571 10.2831 24.1442 10.7135 24.6104 11.2382C24.9582 11.6299 24.9783 11.6807 24.8397 11.8113C24.7944 11.8548 24.6885 11.9249 24.6054 11.9709C24.4542 12.0507 23.8368 12.5464 23.8368 12.5875C23.8368 12.5971 23.736 12.7108 23.6125 12.8341C23.2068 13.25 23.0279 13.5861 22.7683 14.4252C22.7078 14.6186 22.6448 14.8725 22.6272 14.9934C22.5566 15.4577 22.5919 16.125 22.7154 16.7344C22.7885 17.1044 23.0808 17.7306 23.3706 18.1489C23.7763 18.7317 24.3786 19.2491 24.9909 19.5514C25.316 19.7086 25.5 19.8464 25.5 19.9334C25.5 19.96 25.4773 20.0205 25.4521 20.064C25.4244 20.1075 25.3866 20.2164 25.3639 20.3034C25.311 20.521 25.001 21.244 24.807 21.5971C24.0862 22.9052 23.3731 23.8748 22.6095 24.5833C21.8611 25.2725 21.1606 25.582 20.4348 25.5385C19.9359 25.5094 19.4596 25.3934 18.7842 25.1322C18.2248 24.917 18.0081 24.8493 17.7939 24.8203C17.688 24.8058 17.4915 24.7768 17.3604 24.7574C16.9774 24.697 16.7254 24.6921 16.4533 24.7478C15.5461 24.9267 15.5133 24.9364 15.0144 25.1371C14.2231 25.4562 13.8073 25.5578 13.2907 25.5578C12.8875 25.5602 12.696 25.5143 12.2575 25.3087C11.8694 25.125 11.5948 24.9315 11.2546 24.5978C10.9295 24.2811 10.7052 24.0151 10.2642 23.4323C9.18818 22.0081 9.02187 21.7276 8.49519 20.4582C8.28612 19.9546 8.19971 19.7502 8.13026 19.5402C8.07498 19.373 8.03043 19.2023 7.94332 18.8744C7.73164 18.074 7.70896 17.9869 7.70896 17.8709C7.70896 17.8153 7.68628 17.675 7.66108 17.5565C7.44184 16.5917 7.44688 15.0007 7.67116 14.1713C7.82236 13.6127 8.02648 13.088 8.30367 12.5512C8.92863 11.3325 9.71738 10.5539 10.874 10.0123C11.2571 9.8309 11.5444 9.74627 12.0534 9.65922C12.2903 9.62054 12.5523 9.56976 12.6355 9.54799C12.8421 9.49238 13.3184 9.49963 13.6057 9.56008C14.2911 9.71 14.7548 9.84058 15.2059 10.0123C16.0551 10.3411 16.549 10.4789 16.7506 10.4475C16.7692 10.4444 16.7848 10.4418 16.8002 10.4387C16.8815 10.4225 16.9601 10.3929 17.4512 10.2081Z",fill:"white"})]}),iY=({style:t,...e})=>O.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[O.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#5462EB"}),O.jsx("path",{d:"M23.5433 8.87438C22.2479 8.26174 20.8587 7.81038 19.4063 7.55187C19.3799 7.54688 19.3534 7.55934 19.3398 7.58428C19.1612 7.91179 18.9633 8.33905 18.8247 8.67487C17.2625 8.43382 15.7084 8.43382 14.1782 8.67487C14.0396 8.33158 13.8345 7.91179 13.6551 7.58428C13.6414 7.56018 13.615 7.54771 13.5886 7.55187C12.1369 7.80955 10.7478 8.26092 9.45159 8.87438C9.44037 8.87937 9.43075 8.88769 9.42437 8.89849C6.78947 12.9558 6.06766 16.9134 6.42176 20.8219C6.42336 20.841 6.43378 20.8593 6.4482 20.871C8.18663 22.1868 9.87059 22.9857 11.5233 23.5152C11.5497 23.5235 11.5778 23.5135 11.5946 23.491C11.9855 22.9408 12.334 22.3606 12.6328 21.7504C12.6505 21.7147 12.6336 21.6723 12.5976 21.6581C12.0448 21.442 11.5185 21.1785 11.0122 20.8793C10.9721 20.8552 10.9689 20.7961 11.0058 20.7679C11.1123 20.6856 11.2189 20.6 11.3206 20.5135C11.339 20.4977 11.3647 20.4944 11.3863 20.5044C14.7125 22.0696 18.3136 22.0696 21.6006 20.5044C21.6222 20.4936 21.6479 20.4969 21.6671 20.5127C21.7688 20.5991 21.8754 20.6856 21.9827 20.7679C22.0196 20.7961 22.0172 20.8552 21.9771 20.8793C21.4708 21.1843 20.9445 21.442 20.3909 21.6573C20.3548 21.6715 20.3388 21.7147 20.3564 21.7504C20.6617 22.3597 21.0101 22.9399 21.3939 23.4902C21.4099 23.5135 21.4387 23.5235 21.4652 23.5152C23.1259 22.9857 24.8099 22.1868 26.5483 20.871C26.5635 20.8593 26.5731 20.8419 26.5747 20.8228C26.9985 16.3041 25.8649 12.3789 23.5697 8.89931C23.5641 8.88769 23.5545 8.87937 23.5433 8.87438ZM13.1295 18.442C12.1281 18.442 11.303 17.4944 11.303 16.3307C11.303 15.1669 12.1121 14.2193 13.1295 14.2193C14.155 14.2193 14.9721 15.1752 14.9561 16.3307C14.9561 17.4944 14.1469 18.442 13.1295 18.442ZM19.883 18.442C18.8816 18.442 18.0564 17.4944 18.0564 16.3307C18.0564 15.1669 18.8655 14.2193 19.883 14.2193C20.9084 14.2193 21.7255 15.1752 21.7095 16.3307C21.7095 17.4944 20.9084 18.442 19.883 18.442Z",fill:"#F7F7F7"})]}),sY=({style:t,...e})=>O.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[O.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),O.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.5083 5.62451C10.8896 5.62451 6.34741 10.2078 6.34741 15.878C6.34741 20.4104 9.25774 24.2471 13.2951 25.605C13.7999 25.7071 13.9848 25.3844 13.9848 25.1129C13.9848 24.8752 13.9682 24.0604 13.9682 23.2115C11.1417 23.8227 10.5531 21.9892 10.5531 21.9892C10.0988 20.8009 9.42579 20.4954 9.42579 20.4954C8.50068 19.8673 9.49318 19.8673 9.49318 19.8673C10.5194 19.9352 11.0578 20.9198 11.0578 20.9198C11.9661 22.4815 13.4297 22.0402 14.0185 21.7686C14.1025 21.1065 14.3719 20.6482 14.6579 20.3936C12.4035 20.1559 10.0317 19.2732 10.0317 15.3347C10.0317 14.2142 10.4351 13.2976 11.0745 12.5847C10.9736 12.3301 10.6202 11.2774 11.1756 9.86844C11.1756 9.86844 12.0335 9.59678 13.968 10.9209C14.7962 10.6965 15.6503 10.5823 16.5083 10.5814C17.3662 10.5814 18.2408 10.7003 19.0484 10.9209C20.9831 9.59678 21.841 9.86844 21.841 9.86844C22.3963 11.2774 22.0428 12.3301 21.9419 12.5847C22.5981 13.2976 22.9849 14.2142 22.9849 15.3347C22.9849 19.2732 20.6131 20.1388 18.3419 20.3936C18.7121 20.7161 19.0316 21.3271 19.0316 22.2948C19.0316 23.6698 19.0149 24.7733 19.0149 25.1127C19.0149 25.3844 19.2 25.7071 19.7046 25.6052C23.742 24.2469 26.6523 20.4104 26.6523 15.878C26.669 10.2078 22.1102 5.62451 16.5083 5.62451Z",fill:"white"})]}),aY=t=>O.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[O.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#F1F2F9"}),O.jsx("path",{d:"M26.1001 16.2273C26.1001 15.5182 26.0365 14.8364 25.9183 14.1818H16.5001V18.05H21.8819C21.6501 19.3 20.9456 20.3591 19.8865 21.0682V23.5773H23.1183C25.0092 21.8364 26.1001 19.2727 26.1001 16.2273Z",fill:"#4285F4"}),O.jsx("path",{d:"M16.5001 26C19.2001 26 21.4637 25.1046 23.1182 23.5773L19.8864 21.0682C18.991 21.6682 17.8455 22.0227 16.5001 22.0227C13.8955 22.0227 11.691 20.2637 10.9046 17.9H7.56372V20.4909C9.20917 23.7591 12.591 26 16.5001 26Z",fill:"#34A853"}),O.jsx("path",{d:"M10.9047 17.8999C10.7047 17.2999 10.591 16.659 10.591 15.9999C10.591 15.3408 10.7047 14.6999 10.9047 14.0999V11.509H7.56376C6.86376 12.9025 6.49951 14.4405 6.50012 15.9999C6.50012 17.6136 6.88649 19.1408 7.56376 20.4908L10.9047 17.8999Z",fill:"#FBBC05"}),O.jsx("path",{d:"M16.5001 9.97726C17.9682 9.97726 19.2864 10.4818 20.3228 11.4727L23.191 8.60454C21.4591 6.99091 19.1955 6 16.5001 6C12.591 6 9.20917 8.2409 7.56372 11.5091L10.9046 14.1C11.691 11.7364 13.8955 9.97726 16.5001 9.97726Z",fill:"#EA4335"})]});function oY(t){return O.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:26,height:26,viewBox:"0 0 140 140",x:"0px",y:"0px",fill:"none",...t,children:[O.jsxs("defs",{children:[O.jsxs("linearGradient",{id:"b",children:[O.jsx("stop",{offset:"0",stopColor:"#3771c8"}),O.jsx("stop",{stopColor:"#3771c8",offset:".128"}),O.jsx("stop",{offset:"1",stopColor:"#60f",stopOpacity:"0"})]}),O.jsxs("linearGradient",{id:"a",children:[O.jsx("stop",{offset:"0",stopColor:"#fd5"}),O.jsx("stop",{offset:".1",stopColor:"#fd5"}),O.jsx("stop",{offset:".5",stopColor:"#ff543e"}),O.jsx("stop",{offset:"1",stopColor:"#c837ab"})]}),O.jsx("radialGradient",{id:"c",cx:"158.429",cy:"578.088",r:"65",xlinkHref:"#a",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 -1.98198 1.8439 0 -1031.402 454.004)",fx:"158.429",fy:"578.088"}),O.jsx("radialGradient",{id:"d",cx:"147.694",cy:"473.455",r:"65",xlinkHref:"#b",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(.17394 .86872 -3.5818 .71718 1648.348 -458.493)",fx:"147.694",fy:"473.455"})]}),O.jsx("path",{fill:"url(#c)",d:"M65.03 0C37.888 0 29.95.028 28.407.156c-5.57.463-9.036 1.34-12.812 3.22-2.91 1.445-5.205 3.12-7.47 5.468C4 13.126 1.5 18.394.595 24.656c-.44 3.04-.568 3.66-.594 19.188-.01 5.176 0 11.988 0 21.125 0 27.12.03 35.05.16 36.59.45 5.42 1.3 8.83 3.1 12.56 3.44 7.14 10.01 12.5 17.75 14.5 2.68.69 5.64 1.07 9.44 1.25 1.61.07 18.02.12 34.44.12 16.42 0 32.84-.02 34.41-.1 4.4-.207 6.955-.55 9.78-1.28 7.79-2.01 14.24-7.29 17.75-14.53 1.765-3.64 2.66-7.18 3.065-12.317.088-1.12.125-18.977.125-36.81 0-17.836-.04-35.66-.128-36.78-.41-5.22-1.305-8.73-3.127-12.44-1.495-3.037-3.155-5.305-5.565-7.624C116.9 4 111.64 1.5 105.372.596 102.335.157 101.73.027 86.19 0H65.03z",transform:"translate(1.004 1)"}),O.jsx("path",{fill:"url(#d)",d:"M65.03 0C37.888 0 29.95.028 28.407.156c-5.57.463-9.036 1.34-12.812 3.22-2.91 1.445-5.205 3.12-7.47 5.468C4 13.126 1.5 18.394.595 24.656c-.44 3.04-.568 3.66-.594 19.188-.01 5.176 0 11.988 0 21.125 0 27.12.03 35.05.16 36.59.45 5.42 1.3 8.83 3.1 12.56 3.44 7.14 10.01 12.5 17.75 14.5 2.68.69 5.64 1.07 9.44 1.25 1.61.07 18.02.12 34.44.12 16.42 0 32.84-.02 34.41-.1 4.4-.207 6.955-.55 9.78-1.28 7.79-2.01 14.24-7.29 17.75-14.53 1.765-3.64 2.66-7.18 3.065-12.317.088-1.12.125-18.977.125-36.81 0-17.836-.04-35.66-.128-36.78-.41-5.22-1.305-8.73-3.127-12.44-1.495-3.037-3.155-5.305-5.565-7.624C116.9 4 111.64 1.5 105.372.596 102.335.157 101.73.027 86.19 0H65.03z",transform:"translate(1.004 1)"}),O.jsx("path",{fill:"#fff",d:"M66.004 18c-13.036 0-14.672.057-19.792.29-5.11.234-8.598 1.043-11.65 2.23-3.157 1.226-5.835 2.866-8.503 5.535-2.67 2.668-4.31 5.346-5.54 8.502-1.19 3.053-2 6.542-2.23 11.65C18.06 51.327 18 52.964 18 66s.058 14.667.29 19.787c.235 5.11 1.044 8.598 2.23 11.65 1.227 3.157 2.867 5.835 5.536 8.503 2.667 2.67 5.345 4.314 8.5 5.54 3.054 1.187 6.543 1.996 11.652 2.23 5.12.233 6.755.29 19.79.29 13.037 0 14.668-.057 19.788-.29 5.11-.234 8.602-1.043 11.656-2.23 3.156-1.226 5.83-2.87 8.497-5.54 2.67-2.668 4.31-5.346 5.54-8.502 1.18-3.053 1.99-6.542 2.23-11.65.23-5.12.29-6.752.29-19.788 0-13.036-.06-14.672-.29-19.792-.24-5.11-1.05-8.598-2.23-11.65-1.23-3.157-2.87-5.835-5.54-8.503-2.67-2.67-5.34-4.31-8.5-5.535-3.06-1.187-6.55-1.996-11.66-2.23-5.12-.233-6.75-.29-19.79-.29zm-4.306 8.65c1.278-.002 2.704 0 4.306 0 12.816 0 14.335.046 19.396.276 4.68.214 7.22.996 8.912 1.653 2.24.87 3.837 1.91 5.516 3.59 1.68 1.68 2.72 3.28 3.592 5.52.657 1.69 1.44 4.23 1.653 8.91.23 5.06.28 6.58.28 19.39s-.05 14.33-.28 19.39c-.214 4.68-.996 7.22-1.653 8.91-.87 2.24-1.912 3.835-3.592 5.514-1.68 1.68-3.275 2.72-5.516 3.59-1.69.66-4.232 1.44-8.912 1.654-5.06.23-6.58.28-19.396.28-12.817 0-14.336-.05-19.396-.28-4.68-.216-7.22-.998-8.913-1.655-2.24-.87-3.84-1.91-5.52-3.59-1.68-1.68-2.72-3.276-3.592-5.517-.657-1.69-1.44-4.23-1.653-8.91-.23-5.06-.276-6.58-.276-19.398s.046-14.33.276-19.39c.214-4.68.996-7.22 1.653-8.912.87-2.24 1.912-3.84 3.592-5.52 1.68-1.68 3.28-2.72 5.52-3.592 1.692-.66 4.233-1.44 8.913-1.655 4.428-.2 6.144-.26 15.09-.27zm29.928 7.97c-3.18 0-5.76 2.577-5.76 5.758 0 3.18 2.58 5.76 5.76 5.76 3.18 0 5.76-2.58 5.76-5.76 0-3.18-2.58-5.76-5.76-5.76zm-25.622 6.73c-13.613 0-24.65 11.037-24.65 24.65 0 13.613 11.037 24.645 24.65 24.645C79.617 90.645 90.65 79.613 90.65 66S79.616 41.35 66.003 41.35zm0 8.65c8.836 0 16 7.163 16 16 0 8.836-7.164 16-16 16-8.837 0-16-7.164-16-16 0-8.837 7.163-16 16-16z"})]})}function lY(t){return O.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",...t,children:[O.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),O.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#06C755"}),O.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"url(#pattern0_1769_69)"}),O.jsxs("defs",{children:[O.jsx("pattern",{id:"pattern0_1769_69",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:O.jsx("use",{xlinkHref:"#image0_1769_69",transform:"scale(0.003125)"})}),O.jsx("image",{id:"image0_1769_69",width:"320",height:"320",preserveAspectRatio:"none",xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAFACAYAAADNkKWqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABpkSURBVHgB7d1fbFTXtcfxdWZs45h7g6lClajoetJIRKIqGKmhTSvF5qEvqUqIitM+XEIikYf+QWlVaF+IACVPBamN0ps8NFL5cx+qmioOVXsf+oCJ1Pg2VMKkKlKRSMZVqlalCiaSHf9hZvesMx5jm/k/58w5Z+/vR3KM8cSAPf55rbX32ccTx/Rf3tO/uNiXWygsDnri5UTMgOd5/UZMTozXX3qU/2vAOl4++K+Y4LUR8V97U5KRyUwxM93bOzc5vWNsWhziicU07GYXeoY9I0P+mzljZJBwA6rzv0emM55MGvEuajD29SyM2xyKVgWgBt7cXO+g8YpP+BXdsASBB6AtfiD63dK4ZzJvzj36i3GxSOoDUENvZq57T0Zkf9EPPM+TfgEQGX9kNFY05s31vYtjaa8OUxuAvRPfGDZSOEroAfHRMDSenF74/C/HJIVSFYDBTG+u53ljzHcJPSBR8hqGfpv8st8m5yUlUhGAWu0VTfF58cweAZB0pzKSPZ6GIEx0AJbbXH+5flgApE3igzCRAdj9+5HBTEZ+TPABVkhsECYqAIMV3fmeo54/4xMAtklcECYmANf9/9efLxaLx1jcAKyW9zu744uPjp6SBIg9AP05X86f8/2cdhdwSt6vBnfFXQ1mJEZa9RVM4TLhBzgnV5TC+z0TTx2VGMVSAVL1AVjmyWTGZJ+MoxrseAXY84ev7aHqA7DMyKBfDV7onhh5RjqsowHY8we/3C1m3mChA8AaOb8d/XmnW+KOtMC6veXjue43qPoA1KOX1N2zbuHZThy0EHkA6ryvKMULnMMHoAkdWSWOtAXWKzoIPwAt0FXiC1pASYQiqwA1/PyPfoF5H4CWeTLdnZFdMztHJyUCkQQg4QcgNBGGYOgBSPgBCF1EIRhqABJ+ACITQQiGFoA6rNQNzoQfgMiEHIKhrAKXt7oQfgAiZaR/sSBvhLU63HYA6iZntroA6KBgi4xmj7Sp7QCc/bjn54QfgA7L6dVl0qa2AjC4tpcbFQGIgV5a2+61wy0vgujJDXrxsgBAnDLFJxc+/6uW7kvcUgByfS+AxPBXhjMmu6OV64ZbaoGLXuENwg9AIvgrw3rAsrSg6QAM5n5GBgUAEkLngeve/nrTd5NsqgUutb6F9wUAkqaFVripCrA09wOABGqhFW44AEvn9TP3A5BczbbCDbXArPoCSA2/Fe5bt/hgI0fqN1QB+nO/o4QfgFTwW+GZj3sa2iBdtwJk4QNAGnVnZUe9U2PqVoCl6g8A0uV2QX5c7zE1K0CqPwBplhGza+7Rc+PV318D1R+ANDPi1cywqhUg1R8AG9SqAqtWgFR/AGxgvMzz1d5XsQKk+gNgk77exY2V9gVWrAAL3u2qiQkAaTM721Px6pCKAeiZDKc8A7BH1lQs6u4KwJ63v7aHqz4AWMVIf+/E3uG1v31XAHqZ7H4BAMtU2hKzehHkwp7+nt7umwIAtqlwSMKqCrC7t5vZHwA76SEJc6szblUAZjzvCQEAS/mBt3/N23cYwz1+AdjLeDLYf3lPf/nt5QDsnfjGsACAzfw2eG6ua/mmbssBWDAFqj8A1jPGW8665QD0l4OHBAAsZ1ZkXWkbDNtfADikfG1wUAH2rMsOCwA4YvbjnmF9XWqBveygAIAjPDHD+rpr6Y0hI0B7+rvWy4bsehlYtyl4CX4v2ycb/N9XuXWfbOjj5Of/Gby+dXtGpguzcqvgv749G7w9tXDD//WMAG3K6X+CADRGBhu7QzBcpgE30LNJtq3PBQGngVYOu3Lgdcq7s/kgFKfmbwSBWX679JqARG3Gk+362mMBBJUM+OH22L1bZbuGnR9625dCLw3KQXjFf3nroz/L1NyN4NfASroQ4ukG6KIULgicpZWdht1j935GtvflZJv/0t/VJzYph+JFPxDf+ugqlSKkO9u9o6toFvvFq3t7YFhEA09DbvcnHpEhP/j017bTQC+F/Nbl3ysF4lU5/+GloFKEWxYKi4NdpRVglkBspy3t7o2f80Nvp5UVXiu2LVW7B+9/PHhbK8OzN8aDUJxaWoiBvTzxcroIkhNYSVtarfD2bRpOzfwuTisrRK0O3/Qrw1/7L8wPLeWZAW/dxMgFv/4bFlhBK72nNw0ReiHSleZX/v4bOX/zj1SGFvGMvEkAWkBnevvuGwra25UzLoSv3Caf8V+QckYmvZ6Jp97nJkjppC2uLmTsu2+YmV6HaVWoCycvfnCOqjC98gRgCmmlp4N7qr1koCpMLQ3AEZaAU0DbXA2979z/Faq9hNKq8KUPRgnCFCEAE47gSx8WTdKDAEwogi/9NAhLrfFFgjChCMCEIfjsQ2ucXARggujevZMDzxB8liIIk4cATADdzvLC5hFWdR1xZSYvI9dO0hYnAAEYI213Twzsl6f9yg/u0fkg+wjjRQDGROd8RzY/RbvrONrieBGAHabX6r7+0Ldod7EK1WA8CMAOoupDLXpA6+Gp01SDHUQAdgBVH5pBNdg5BGDE9LCCn33621R9aIrOBg9cf5WTqiPGWfgROpl7Rka3HCb80DQ9y/F3W48G26MQHSrACGjLe+7hQ07cawPR0yrwwPXXaIkjQAUYMt3UrD+5CT+EpfycGmjwxvJoHAEYIl3lLT1ROYoe4dLn1LUdP12+gRPCQQCGRGc1OvMDoqTPMeaC4ekStEUvZzs5sD84yADohCN+AG7I9smhqdOC9hCAbdDwY96HOBx84CtBW/zce68FG6jRGlrgFulAmvBDnPTeMPoc1B/EaA0B2ALCD0mhz8F3PvsjVohbRAA2qRx+rPQiKcqbpgnB5hGATSD8kFTlEKQdbg4B2CDCD0lHCDaPAGyAPqH00jbCD0mnM8HRLYcEjSEAG/CzT3+LBQ+khl46p8evoT4CsA7dda9HWgFpohvzuWKkPgKwBn0CHeFJhJTS5y7XDtdGAFahbQThh7TTa4e3M76pigCsoHyEPWCD0YcPs0ewCgKwAra7wCb6XH79oW8K7kYArqEtA+EH2+hIR08twmoE4Aq6csbQGLbSE2Q0CHEHAbhEZyRsG4DtdLbNlSJ3EIBLjmzeS+sL6+lz/Min9gpKCEAptb5Pc6IzHEErfIfzAUjrCxfRCpc4H4C0vnARrXCJ0wGoBxzQ+sJV2gq7fpWI0wF47uHDArjsZM7tvYHOBqAufND6wnW6GOLygoizAcjCB1Di8nXvTgYg1R9wh34vuDoLdzIAqf6A1Vw9+s25AKT6A+7mahXoXABS/QGVuVgFOhWAVH9Adfq94dqKsFMBSPUH1PbCZreuDnEmAPUnG9UfUJtr+wKdCcB9m4YEQH0u3QbWiQDUE1+45hdozL77hpw5KcaJAHzs3q0CoDEafo/9pxvfM13igCRUf1PzN2q+P+75ZL2/n0rLDHX69ozcKszWfMyGbB/n4dVw8IHH5fzNS2I76wNQ2984K8Cp+X/Kl68ebygAdR9WHGF94PqrcvbGeN3H6fFhl7b9qOZjzvgf55W//7ZuAOnXJIprUPXzvfNPPwxCsJ7RLYdrzrvenc0HX7tGPlZU9DkRx+4F/VrrD4g4/+2dYH0LHHf7q2HQSHWlj3npg1HptLc+utpQ+CkNhDM1Hqvh85wfpvo4/XWtF/0zD02dlrAdyp9u+Jv2lX/8tub7v9/Ex4qKPiemb89Kp2n4fXWj/Ysh1gdg3O3vdKHzT964TM3/q6nHv/L33/gB/GcJUzOfbw3iWv5a5/2dMl2IJ4SHHJidWx2AwTCXBZBEG7l2sm4QIR5UgCm3zfHjvtNAW8wD118TJE+pgLB7U7TVAejShs400zb4xRjmn6jP9g7K6gB0/YYvaaLD/rDngWif7XNAawOQ+V/66HacOFY8UZ3tYyRrA5D5X/roVqCRaycEyaGFhM2dlMUBOCBIH22D6+3PQ2dtW58TW1kbgEMb3L3VX9odyp9iHrhEr2TKxXwJ4naLA9DaS+H6s1znmWY6D3znsyf8FqxP0kCDKuwj17T93HffsMRtoOc+sZW1AcgMMN10Hvjce6/K6JZDkgZ6LbetJ45vX/+g2MrKFlh/cqalckB15z98h3lgAmi423pyjpUBSPVnD90fqIcrIF79WTsLCmsrQNhBL5Xb+5cT7A+Mma1FhZUB+F8WD21dpPPAQ1OnBPHZQAucHlSA9tHzA5kHxocWOEW4/aWddB7I0VnxsLUCdOKeILCDzgP1iPok7g/UhRrduxgmrbr03hy6xzBucW/GjoqVAUgLbK/g1gF/G5WTA/slSTScG721QDP0xkRp2hCeNnbOALkKJBUOPvCVln5Y6VH6ZyIImyTSwI/rSHwXOHFfYCSTHlhx5FN7pRWHp04zD0TbCEDESqvAVm5cVdofeFKAdhCAiN0Jf57XyqBfFx6iuLUm3GFlAOZpjVJF54DnHm7t0AOdB57/8JIAraACRCLopVatruzqqTHMA6Nl6/2tCUAkhs4DW7kNI7fWjJ5+jm1kZQDq1gGkk57/18o8UE+QZh4YnVsEYHoQgOml88DXH/qmtELngTYenZWEfa20wECHaBvc6jzQplZNfxiczD2TiKtAbC0qrLwU7t3ZKUG66Tzw/M0/pubmSBrav9t6VGxFC5wirAja4fWHvpWIgwAgcsXSU7mtDEBtgzhBOP30WLNW54EIz5WZvNjK2hngXxeoAm2greXB+x8XxOeWpQsgytoAnLT4p5ZrdCGglf2BCIet7a+yNgBtLttdpPNAznmMx1u30rEQ1QprA5CVYLvoPPBnn2YeGAeb99VaeyR+WjfEhv1k25Dts6Zy2v2JncE8MIk3R9I5mY1fO91RYXMLbG0A6kqw7iFL0+xIv4G2XP62hE331CXtCPlW6TzwrY+uJu6b8srM+5F87Y5sHpEX/Je42D5KsvpKkCu0wQHbLhEbffiwM/NAvRNePsYW9Nc3/yg2szoAOSfuDpv2Reo80JaKNumoAFNMqx42RNtp36Zh9gdGzPb5n7I6AHUO+O7s+wI76Xxse19OEA2dtdrO+tNg3qQNtpbOAV2aB3bamRsXxXbWB+D//sv+L6LLdB7Y6q01UZ22v2k5iacd1gdgeTsM7KXbfJgHhsuF9lc5cSAqbbD9dB7I0VnhefGDUXGBEwGobTCrweFI6rytfGvNZv5+/V3/Ibibbn1x5bYSTgSgtsFn/zUucRi6d6vETSsjnZVVsq1voOHKScOl1qqrfqxmAmgo5Kt09NaazcwDd2/8XM33//emYYmbfm1yVb52UflpAi81jIrXMzFixAFxHlmu85SLMc0hNZB2b3ykagAq/Wl/5sZ42x9Hnf/wHXnlH/9X52P1yVf9j/V0RAGjn2/9oVfrHDv9dzzWwA+ns/7nJa4rMfRzvu++4Y7eE0QXP7Zc/o64wpkAVBqAnCsHVKeXTbp0e1Gn7grnwr4moB1JPGknSk4F4K9vXmIxBKhC233X7qntVADqXOiVf/xGANzNla0vKzl3Y3Rd4aIKBFZzsfpTzgUgVSCwmn5PuFj9KecCUFEFAnfowoeL1Z9yMgD1J96hqVMCuE73/b3kaPWnnAxApTMPDkmA61764Jy4zNkAVC86/sWH2/SWEfWuALKd0wGoFaDrTwC4izGQ4wGoDk+dZkEEztFVX1cXPlZyPgB1QeSlv7k7BIZ7XF/4WMn5AFR6ATgLInDFl68eF5QQgEsOXH+VVhjWo/VdjQBcok+K5957VQBb6aovre9qBOAKpcM83ToOCG7QuR+rvncjANd4KWgR/imATfb+5SStbwUE4Bq6KqxDYuaBsIXO/d6dzQvuRgBWwDwQttBLPpn7VUcAVqHzQFePCIIdSnM/d+7v0QoCsAb9ycmiCNJIw680ypkRVEcA1nEof4pN0kgVDT0WPRpDADZg5NpJhshIDZ1f83xtDAHYgNJP1BNsj0Hi6dxaNzyjMQRgg7Sd0JkKIYik0vBjxbc5BGATCEEklS7WEX7NIwCbRAgiabTl1cU6NI8AbAEhiKTQxQ427beOAGxROQRZbUNc9LnHXr/2EIBtKIcgq27oNDY6h4MAbJM+AUeuneCyOXQM4RceAjAkugJHCCJq5fDjKo9wEIAh0hBkcQRR0Znfzj/9kPALEQEYMr1umBBE2FjwiAYBGAH9Cb3l8nc4SQaheOujq4RfRAjACOnmVL3bHNUgWnXmxrgffscIv4gQgBE7GzyBj3OkFpqmi2rPXWeTc5QIwA4o7xdklRiN4mCDzvB6JkaMoGMG1m2Scw8flm19OQEq0dEJ8+POIABjsm/TsLywea8fiJ8UQJU21Z9kXNJBBGCMtBo8snlEnvbDEG5jg3M8CMAE2L4+J6NbDlENOkr3+JVOHCf8Oo1FkAS4MpMP9g2yZcY9Z5Z2CRB+8aACTCDmg25gpTd+BGBC6XxQg/DpTUMEoWV0sUNvWK57RBEvAjDhNAgfu/czVISW0BGH3rOXg3STgQBMEVrjdGOxI3kIwBTa/YmdcvD+x/3KcKsgHXRjMzcuSh4CMMXK+wiH/CCkKkwuruxILgLQEtoe7974iF8dPiJIBuZ9yUcAWqa8aKJXl9Aix0fP8Dtw/X+Y9yUcAWgxwjAe7O9LDwLQEf1d6+WrfousQcjMMBocZpA+BKCj9DguDUKtEDUUNSDROra4pBMBiIAGoh7KoGE46L/mvMLGscUlvQhAVKQVYRCKfQMy0PtJ/7WG4gCV4gra8j733qty/sNLgnQiANGUcjDq6/I80cVqkVVeOxCAaJuuNusexIMPPO7E4gotrz0IQITK5uuVdWPzgeuvscprEQIQodOK8OTAM1ZdlaJzPp33cX9eu3AiNEKnc7GRayesqJSCs/v8dlf/PYSffQhAREYP/Uwz3du3808/4CADixGAiIze6yStBwFo6D3y7g9Y5bVclwARmvRDME3bZFjocAsBiEilqYLSqk8PMWDW5w4CEJFKQwBS9bmLAITTqPrcRgDCSVzHC0UAIlK6KTpp2NSMMgIQkUrS6TFUfViLAESkklIBMutDJQQgItWfjbcCZIUXtRCAiFScm6Cp+lAPAYjIbF//oD8D7JNOo+pDowhARGZDtrPhp5VeueoDGkEAIjJ6D5FO4Yh6tIIARGSGNnxGoqZV3+Gp03LmxrgAzfID0MuLmJwAIYt6BZhFDrQpTwWIyES1Aqzt7ot+8LHIgXZ1iTHT4gkQqihWgLXS04qPE5oRBk8rQC/j5Y0xgwKEKOwVYNpdRKHLGLklQMjCWgFmdRdRMV5pBpgXIGS53vbuC6z3Evl+/jRzPkTHeFNdRkyeESDC1moLzLYWdIyRya6erEwuFgQI1a3CbFOPL1/F8VP/hTkfOiHjFae7ZmYW8z293QKESWd3B+9/vO7jCD7Epbf39mTQ/fZMPPU+m6ERtkvbflR1LyB7+RArT6YXvjC6MdgI7Xky6a8G5wQIkd5YfN+mYRm6t3RJ3HRhJgg+DT2qPcTJ8+d/+joIwGLRTHmshCACZ/3FjLMsaCBhjHgX9XVG/+NJcVwAwBVLFWAQgAvzhXEBAEf03bMwrq+DAJRdY9PlRAQAq/lZN73DzzwpB2Dwe3JRAMBy3oqsWw7ArGfGBAAs563IuuUAnJu7PemXgdMCABabe/TcePnXywGoc0DdDygAYCnPyJsr386sfKMocloAwFJ+kbdq1LcqABfnFsdogwHYqrd3sXoA0gYDsJW2v+XtL2WZux4k5rgAgGWMeKfW/l7FK4B73h656b+nXwDAAnoDpPlHRx9c+/uZyo/2XhYAsETR8yruc64YgAtzCz8RALBE1mQqFnWVK8BgMcTjyhAA6efJqblHf5Gv9K5M1f/HFGmDAaRexmSrLuxWDUC9XMQfHI4LAKRVjepPZWr/v2yJAZBetaq/4P213kkVCCC16lR/qmYAqmJRvicAkDL1qr/gMfUesPil0UnDggiANGmg+lN1A1AtzheOcUgCgDTQqz4aqf5UQwEY7AvMsCACIPn8ADzeSPW39NjGrZsYuWBEhgUAEqjaNb/VNFYBLn/w7LO0wgCSys+oXc08vqkA1LKSVhhAIhVNw61vWVMtcBmtMIAk0YOc578wukOa1FQFuPyH0QoDSAid+3km+6S0oKUALJWZxWcFAGLWzKrvWi0FoFr44q/GhGuFAcQpmPuNnpIWtTQDXIl5IIBYeN7Ywhd+2VLrW9ZyBVg2P7f4pCdeXgCgQ3Tu17duoe0xXNsBGFwlIpldhCCATggWPSS7a+0tLlv8WOHo/v3IoL8UfYG7yQGIjJHpjJfd0eqix1rtV4BLSqfGyC62xwCIhJ8tmjFhhZ8KrQIsoxIEELql8NNCS0IUegAqQhBAaCIKPxVJACpCEEDbIgw/FdoMcC39C+uwktVhAK3Q1d4ow2/pz4hW78Q3ckaKF4yYnABAA8pbXcJc8KgksgqwTP8B83MLO8R4YwIAdeidKO/pXdwRdfgt/Vmd0zOx95j/Rx4VAKikaI4vfOncMemQjgag6p0Yecb4IUhLDGCZv9jRlS0+O/v5X3W0U+x4ACqdCxZN4Q3/Tx8UAE7TllfPGO1Ey7tWLAFYRksMOMyv+jwxx+e/eO4nEpNYA1CxSgy4J86qb83fIxmYDQIOSEDVt1JiAlAFs0G5fcz/a+0XAFbxTPHle+4pHAvjGKuwJCoAywhCwB7a7haL8r0or+hoVSIDsIwgBNKrNOfTe3acG5eESnQAlhGEQHp4njem7W6Sg68sFQFYpkFYMIvfzXjZJ1gsARJED0L2zMt9vbd/kqQZXz2pCsCVet7+2h6R7H7/k75HAHSeruh6Mpn0NreW1AZgWf/lPf1zc917isZ7gjAEIrYUekWR0+t7F8fSVO1VkvoAXKt3Yu+w8bw9pihDXGoHhMD4VV5GLnrGjPX23p5Me+itZF0ArqTV4ezH2WHxsoN+mT5kjB+InFAN1ODlS4FnpkyxON53T2HcpsBby+oArKTUMncNFo3p12D0f7wN+J+EnL7PiJcrPYoFFtho6XR2Y6aDX3vB6yl/QTEvRZlc37eYtznsKvk3kqxyUwkTXfIAAAAASUVORK5CYII="})]})]})}function uY(t){return O.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[O.jsxs("g",{"clip-path":"url(#clip0_1715_1956)",children:[O.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#0977B6"}),O.jsx("path",{d:"M9.46878 6.82104C10.6699 6.82104 11.6461 7.79742 11.6461 8.999C11.6461 10.2017 10.6699 11.1782 9.46878 11.1782C8.26447 11.1782 7.28967 10.2017 7.28967 8.999C7.28967 7.79742 8.26447 6.82104 9.46878 6.82104ZM7.58908 12.8309H11.3467V24.9207H7.58908V12.8309Z",fill:"white"}),O.jsx("path",{d:"M13.7032 12.8309H17.3076V14.4827H17.3576C17.8589 13.5322 19.0846 12.53 20.9127 12.53C24.7175 12.53 25.42 15.0341 25.42 18.2891V24.9207H21.6651V19.0415C21.6651 17.6388 21.6394 15.8355 19.7126 15.8355C17.7573 15.8355 17.4579 17.363 17.4579 18.9399V24.9207H13.7032L13.7032 12.8309Z",fill:"white"})]}),O.jsx("defs",{children:O.jsx("clipPath",{id:"clip0_1715_1956",children:O.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"white"})})})]})}function cY(t){return O.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512",...t,children:[O.jsx("path",{fill:"#1ed760",d:"M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8Z"}),O.jsx("path",{d:"M406.6 231.1c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3zm-31 76.2c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm-26.9 65.6c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4z"})]})}function dY(t){return O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg","shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision","image-rendering":"optimizeQuality","fill-rule":"evenodd","clip-rule":"evenodd",viewBox:"0 0 1000 1000",...t,children:O.jsx("path",{d:"M906.25 0H93.75C42.19 0 0 42.19 0 93.75v812.49c0 51.57 42.19 93.75 93.75 93.75l812.5.01c51.56 0 93.75-42.19 93.75-93.75V93.75C1000 42.19 957.81 0 906.25 0zM684.02 319.72c-32.42-21.13-55.81-54.96-63.11-94.38-1.57-8.51-2.45-17.28-2.45-26.25H515l-.17 414.65c-1.74 46.43-39.96 83.7-86.8 83.7-14.57 0-28.27-3.63-40.35-9.99-27.68-14.57-46.63-43.58-46.63-76.97 0-47.96 39.02-86.98 86.97-86.98 8.95 0 17.54 1.48 25.66 4.01V421.89c-8.41-1.15-16.95-1.86-25.66-1.86-105.01 0-190.43 85.43-190.43 190.45 0 64.42 32.18 121.44 81.3 155.92 30.93 21.72 68.57 34.51 109.14 34.51 105.01 0 190.43-85.43 190.43-190.43V400.21c40.58 29.12 90.3 46.28 143.95 46.28V343.03c-28.89 0-55.8-8.59-78.39-23.31z"})})}function hY(t){return O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 2400 2800",...t,children:O.jsxs("g",{children:[O.jsx("polygon",{fill:"#FFFFFF",points:"2200,1300 1800,1700 1400,1700 1050,2050 1050,1700 600,1700 600,200 2200,200"}),O.jsx("g",{children:O.jsxs("g",{id:"Layer_1-2",children:[O.jsx("path",{fill:"#9146FF",d:"M500,0L0,500v1800h600v500l500-500h400l900-900V0H500z M2200,1300l-400,400h-400l-350,350v-350H600V200h1600V1300z"}),O.jsx("rect",{x:"1700",y:"550",width:"200",height:"600",fill:"#9146FF"}),O.jsx("rect",{x:"1150",y:"550",width:"200",height:"600",fill:"#9146FF"})]})})]})})}const fY=t=>O.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[O.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),O.jsx("path",{d:"M8.53901 8L14.7164 16.2153L8.5 22.8947H9.89907L15.3415 17.0468L19.7389 22.8947H24.5L17.975 14.2173L23.7612 8H22.3621L17.3499 13.3858L13.3001 8H8.53901ZM10.5964 9.02501H12.7837L22.4422 21.8695H20.255L10.5964 9.02501Z",fill:"#F7F7F7"})]});function LE(){let t=new URL(window.location.href);t.searchParams.delete("privy_oauth_code"),t.searchParams.delete("privy_oauth_provider"),t.searchParams.delete("privy_oauth_state"),Ct.del(ow),window.history.replaceState({},"",t)}const DE=({address:t,chainId:e,nonce:n})=>`${window.location.host} wants you to sign in with your Ethereum account:
${t}

By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.

URI: ${window.location.origin}
Version: 1
Chain ID: ${e}
Nonce: ${n}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`;class Xf{get meta(){return{connectorType:this.wallet?.connectorType,walletClientType:this.wallet?.walletClientType,chainId:this.wallet?.chainId,address:this.wallet?.address,disableSignup:this._meta.disableSignup}}async authenticate(){if(!this.client)throw new ge("SiweFlow has no client instance");try{if(this.preparedMessage&&this.signature)return await this.client.authenticateWithSiweInternal({message:this.preparedMessage,signature:this.signature,chainId:this.wallet?.chainId,walletClientType:this.wallet?.walletClientType,connectorType:this.wallet?.connectorType,mode:this._meta.disableSignup?"no-signup":"login-or-sign-up"});if(!this.wallet)throw new ge("SiweFlow has no wallet instance");let{message:e,signature:n}=await this.sign();return await this.client.authenticateWithSiweInternal({message:e,signature:n,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Ht(e)}}async link(){if(!this.client)throw new ge("SiweFlow has no client instance");try{if(!this.wallet)throw new ge("SiweFlow has no wallet instance");let{message:e,signature:n}=await this.sign();return await this.client.linkWithSiweInternal({message:e,signature:n,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType})}catch(e){throw Ht(e)}}async sign(){if(!this.client)throw new ge("SiweFlow has no client instance");if(await this.buildMessage(),!this.preparedMessage)throw new ge("Could not prepare SIWE message");if(!this.wallet)throw new ge("SiweFlow has no wallet instance");let e=await this.wallet.sign(this.preparedMessage);return{message:this.preparedMessage,signature:e}}async _getNonceOnce(){if(!this.client)throw new ge("SiweFlow has no client instance");if(!this.wallet)throw new ge("UI SiweFlow has no wallet instance");return await this.client.generateSiweNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new ge("SiweFlow has no client instance");if(!this.wallet)throw new ge("SiweFlow has no wallet instance");let e=this.wallet.address,n=this.wallet.chainId.replace("eip155:","");return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.preparedMessage=DE({address:e,chainId:n,nonce:this.nonce}),this.preparedMessage}constructor(e,n,i,f=!1,b){this._meta={disableSignup:!1},this.getNonceOnce=new Li(this._getNonceOnce.bind(this)),this.wallet=n,this.captchaToken=i,this.client=e,this._meta.disableSignup=f,this.preparedMessage=b?.message,this.signature=b?.signature}}const nOe=({address:t,nonce:e})=>`${window.location.host} wants you to sign in with your Solana account:
${t}

${`You are proving you own ${t}.`}

URI: ${window.location.origin}
Version: 1
Chain ID: mainnet
Nonce: ${e}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`;class uw{get meta(){return{connectorType:this.wallet.connectorType,walletClientType:this.wallet.walletClientType,disableSignup:this._meta.disableSignup,messageType:this._meta.messageType,address:this.wallet?.address}}set messageType(e){this._meta.messageType=e}async authenticate(){if(!this.client)throw new ge("SiwsFlow has no client instance");try{let{message:e,signature:n}=await this.sign();return await this.client.authenticateWithSiwsInternal({message:e,signature:n,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up",messageType:this.meta.messageType})}catch(e){throw Ht(e)}}async link(){if(!this.client)throw new ge("SiwsFlow has no client instance");try{let{message:e,signature:n}=await this.sign();return await this.client.linkWithSiwsInternal({message:e,signature:n,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,messageType:this.meta.messageType})}catch(e){throw Ht(e)}}async sign(){let e,n;if(!this.client)throw new ge("SiwsFlow has no client instance");await this.buildMessage();let i=this.meta.messageType==="transaction";if(!this.preparedMessage)throw new ge("Could not prepare SIWS message");if(!i&&!this.wallet.provider.signMessage||i&&!this.wallet.provider.signTransaction)throw new ge("Wallet does not support the necessary signing methods");if(i&&this._plugin){let f=await this.wallet.provider.signTransaction({transaction:Xy.decode(this.preparedMessage)});e=Xy.encode(f.signedTransaction),n=this._plugin.getSignatureFromTransaction(f.signedTransaction,this.wallet.address)}else{e=this.preparedMessage;let f=await this.wallet.provider.signMessage({message:new TextEncoder().encode(this.preparedMessage)});n=Xy.encode(f.signature)}return{message:e,signature:n}}async _getNonceOnce(){if(!this.client)throw new ge("SiwsFlow has no client instance");return await this.client.generateSiwsNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new ge("SiwsFlow has no client instance");let e=this.wallet.address;return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.meta.messageType==="transaction"&&this._plugin?this.preparedMessage=this._plugin.createSiwsMemoTransaction({address:e,nonce:this.nonce}):this.preparedMessage=nOe({address:e,nonce:this.nonce}),this.preparedMessage}constructor(e,n,i,f=!1,b="plain",s){this._meta={disableSignup:!1,messageType:"plain"},this.getNonceOnce=new Li(this._getNonceOnce.bind(this)),this.wallet=e,this.captchaToken=i,this.client=n,this._meta.disableSignup=f,this._meta.messageType=b,this._plugin=s}}const pY=t=>t.isApexWallet?"Apex Wallet":t.isAvalanche?"Core Wallet":t.isBackpack?"Backpack":t.isBifrost?"Bifrost Wallet":t.isBitKeep?"BitKeep":t.isBitski?"Bitski":t.isBlockWallet?"BlockWallet":t.isBraveWallet?"Brave Wallet":t.isClover?"Clover":t.isCoin98?"Coin98 Wallet":t.isCoinbaseWallet?"Coinbase Wallet":t.isDawn?"Dawn Wallet":t.isDefiant?"Defiant":t.isDesig?"Desig Wallet":t.isEnkrypt?"Enkrypt":t.isExodus?"Exodus":t.isFordefi?"Fordefi":t.isFrame?"Frame":t.isFrontier?"Frontier Wallet":t.isGamestop?"GameStop Wallet":t.isHaqqWallet?"HAQQ Wallet":t.isHyperPay?"HyperPay Wallet":t.isImToken?"ImToken":t.isHaloWallet?"Halo Wallet":t.isKuCoinWallet?"KuCoin Wallet":t.isMathWallet?"MathWallet":t.isNovaWallet?"Nova Wallet":t.isOkxWallet||t.isOKExWallet?"OKX Wallet":t.isOneInchIOSWallet||t.isOneInchAndroidWallet?"1inch Wallet":t.isOneKey?"OneKey Wallet":t.isOpera?"Opera":t.isPhantom||"isPhantom"in t?"Phantom":t.isPortal?"Ripio Portal":t.isRabby?"Rabby Wallet":t.isRainbow?"Rainbow":t.isSafePal?"SafePal Wallet":t.isStatus?"Status":t.isSubWallet?"SubWallet":t.isTalisman?"Talisman":t.isTally||t.isTaho?"Taho":t.isTokenPocket?"TokenPocket":t.isTokenary?"Tokenary":t.isTrust||t.isTrustWallet?"Trust Wallet":t.isTTWallet?"TTWallet":t.isXDEFI?"XDEFI Wallet":t.isZeal?"Zeal":t.isZerion?"Zerion":t.isMetaMask?"MetaMask":void 0,vY=(t,e)=>{if(!t.isMetaMask)return!1;if(t.isMetaMask&&!e)return!0;if(t.isBraveWallet&&!t._events&&!t._state||pY(t)!=="MetaMask")return!1;if(t.providers){for(let n of t.providers)if(!vY(n))return!1}return!0},gY=()=>{let t=window;if(!t.ethereum)return!1;if(t.ethereum.isCoinbaseWallet)return!0;if(t.ethereum.providers){for(let e of t.ethereum.providers)if(e&&e.isCoinbaseWallet)return!0}return!1},yp=(t,e,n,i)=>{let f=Number(t),b=e.find((s=>s.id===f));if(!b)throw new On(`Unsupported chainId ${t}`,4901);return tl({transport:nl(iu(b,n,i.appId)),chain:b})},iu=(t,e,n)=>{let i,f=t.id,b=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])i=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[b])i=e.rpcUrls[b];else if(t.rpcUrls.privy?.http[0]){let s=new URL(t.rpcUrls.privy.http[0]);s.searchParams.append("privyAppId",n),i=s.toString()}else i=t.rpcUrls.public?.http[0]?t.rpcUrls.public.http[0]:t.rpcUrls.default?.http[0];if(!i)throw new On(`No RPC url found for ${f}`);return i},mY=t=>!!String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),Oi=(t,e=3,n=4,i="ethereum")=>{if(!t)return"";let f=i==="ethereum"?2:0;return e+n+f+3>=t.length?t:`${t.slice(0,f+e)}...${t.slice(t.length-n,t.length)}`},P6=(t,e=3,n=4)=>Oi(t,e,n,"solana"),cw=t=>new Promise((e=>setTimeout(e,t))),NE=(t,e={})=>{let n=e.delayMs||150,i=e.maxAttempts||270;return new Promise((async(f,b)=>{let s=!1,y=0;for(;!s&&y<i;){if(e.abortSignal?.aborted)return;t().then((r=>{s=!0,f(r)}),((...r)=>{s=!0,b(...r)})),y+=1,await cw(n)}s||b(Error("Exceeded max attempts before resolving function"))}))},rOe=t=>t.replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,""),kE=t=>typeof t=="string"?t:"0x"+t.toString(16);async function iOe({store:t,walletList:e,externalWalletConfig:n,walletChainType:i,timeout:f=3e3}){let b=!1,s=window;return new Promise((y=>{function r(){if(b)return;b=!0,window.removeEventListener("ethereum#initialized",r);let o=t.getProviders();console.debug("Detected injected providers:",o.map((c=>c.info)));let v=[];for(let c of o)e.includes("coinbase_wallet")&&c.info.rdns==="com.coinbase.wallet"||i==="solana-only"&&c.info.rdns==="app.phantom"||v.push({type:c.info.name.toLowerCase().replace(/\s/g,"_"),eip6963InjectedProvider:c});if(i!=="solana-only")for(let c of(function(){let u=window,l=u.ethereum;if(!l)return[];let a=[];if(l.providers?.length)for(let d of l.providers)d&&a.push(d);return a.push(u.ethereum),a})()){let u=pY(c);if(!o.some((l=>l.info.name===u))){if(vY(c,!0)&&!v.find((l=>l.type==="metamask"))){v.push({type:"metamask",legacyInjectedProvider:c});continue}if(u==="Phantom"&&!v.find((l=>l.type==="phantom"))){v.push({type:"phantom",legacyInjectedProvider:c});continue}if(u==="Coinbase Wallet"&&!v.find((l=>l.type==="coinbase_wallet"&&n.coinbaseWallet?.config?.preference?.options!=="smartWalletOnly"))){v.push({type:"coinbase_wallet",legacyInjectedProvider:c});continue}v.find((l=>l.type==="unknown_browser_extension"))||v.push({type:"unknown_browser_extension",legacyInjectedProvider:c})}}y(v)}s.ethereum?r():(window.addEventListener("ethereum#initialized",r,{once:!0}),setTimeout((()=>{r()}),f))}))}function Mv(t){return`eip155:${String(Number(t))}`}const sOe=(t,e,n,i)=>{let f=Number(t),b=e.find((s=>s.id===f));if(!b)throw new On(`Unsupported chainId ${t}`,4901);return iu(b,n,i)},i2=t=>{let e={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},n=t.types.EIP712Domain??Object.entries(t.domain).map((([i,f])=>{if(f!=null&&typeof i=="string"&&i in e)return{name:i,type:e[i]}})).filter((i=>i!==void 0));return{...t,types:{...t.types,EIP712Domain:n}}},yY=H.createContext({siteKey:"",enabled:!1,appId:void 0,token:void 0,error:void 0,status:"disabled",setToken:Oe,setError:Oe,setExecuting:Oe,waitForResult:()=>Promise.resolve(""),ref:{current:null},remove:Oe,reset:Oe,execute:Oe});class Gx extends Ai{constructor(e,n,i){super(e||"Captcha failed"),this.type="Captcha",n instanceof Error&&(this.cause=n),this.privyErrorCode=i}}const aOe=({children:t,id:e,captchaSiteKey:n,captchaEnabled:i})=>{let f=H.useRef(null),[b,s]=H.useState(),[y,r]=H.useState(),[o,v]=H.useState(!1),c=H.useMemo((()=>i?o||b||y?!o||b||y?b&&!y?{status:"success",token:b}:y?{status:"error",error:y}:{status:"ready"}:{status:"loading"}:{status:"ready"}:{status:"disabled"}),[i,b,y,o]);return O.jsx(yY.Provider,{value:{...c,ref:f,enabled:i,siteKey:n,appId:e,setToken:s,setError:r,setExecuting:v,remove(){i&&(f.current?.remove(),v(!1),r(void 0),s(void 0))},reset(){i&&(f.current?.reset(),v(!1),r(void 0),s(void 0))},execute(){i&&(v(!0),f.current?.execute())},async waitForResult(){if(!i)return"";try{return await(function(u,{interval:l=100,timeout:a=5e3}={}){return new Promise(((d,p)=>{let h,g=0,m=()=>{g>=a?p("Max attempts reached without result"):(h=u(),g+=l,h==null?setTimeout(m,l):d(h))};m()}))})((()=>f.current?.getResponse()),{interval:200,timeout:2e4})}catch{throw new Gx("Captcha failed",null,we.CAPTCHA_TIMEOUT)}}},children:t})},ms=()=>H.useContext(yY);class V0{async authenticate(){if(!this.api)throw new ge("Auth flow has no API instance");try{return await this.api.post(efe,{captcha_token:this.meta.captchaToken,telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Ht(e)}}async link(){if(!this.api)throw new ge("Auth flow has no API instance");try{return await this.api.post(tfe,{telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData})}catch(e){throw Ht(e)}}constructor(e,n=!1){this.meta={disableSignup:!1},this.meta={captchaToken:e,disableSignup:!1},this.meta.disableSignup=n}}function _L(t){let e={detail:"",retryable:!1};return t?.privyErrorCode===we.LINKED_TO_ANOTHER_USER&&(e.detail="This account has already been linked to another user."),t?.privyErrorCode===we.DISALLOWED_LOGIN_METHOD&&(e.detail="Login with Telegram not allowed."),t?.privyErrorCode===we.INVALID_DATA&&(e.retryable=!0,e.detail="Something went wrong. Try again."),t?.privyErrorCode===we.CANNOT_LINK_MORE_OF_TYPE&&(e.retryable=!0,e.detail="Something went wrong. Try again."),t?.privyErrorCode===we.INVALID_CREDENTIALS&&(e.retryable=!0,e.detail="Something went wrong. Try again."),t?.privyErrorCode===we.TOO_MANY_REQUESTS&&(e.detail="Too many requests. Please wait before trying again."),t?.privyErrorCode===we.TOO_MANY_REQUESTS&&t.message.includes("rate limit")&&(e.detail="Request limit reached for Telegram. Please wait a moment and try again."),t instanceof Gx&&(e.retryable=!0,e.detail="Something went wrong. Try again."),e}function oOe(){let t;return(t=(function(){let e=new URLSearchParams(window.location.search),n=Number(e.get("id")||""),i=e.get("hash"),f=Number(e.get("auth_date")||""),b=e.get("first_name");if(n&&b&&f&&i)return Object.fromEntries(e.entries())})())?(qL(),{flowType:"login-url",authData:t}):(t=(function(){let e=window.location.hash;if(!e||!e.startsWith("#tgWebAppData"))return;let n=wY(e.replace("#tgWebAppData=","")),{user:i,auth_date:f,hash:b}=n;return i&&f&&b?n:void 0})())?(qL(),{flowType:"web-app",authData:t}):void 0}function wY(t){return Object.fromEntries(decodeURIComponent(t).split("&").map((e=>e.split("=").map(decodeURIComponent))))}function qL(){let t=new URL(window.location.href);t.searchParams.delete("id"),t.searchParams.delete("hash"),t.searchParams.delete("auth_date"),t.searchParams.delete("first_name"),t.searchParams.delete("last_name"),t.searchParams.delete("username"),t.searchParams.delete("photo_url"),t.hash="",window.history.replaceState({},"",t)}let eD=t=>{if(t.chainType==="ethereum")return{entropyId:t.address,entropyIdVerifier:"ethereum-address-verifier"};if(t.chainType==="solana")return{entropyId:t.address,entropyIdVerifier:"solana-address-verifier"};throw Error("Failed to get account entropy details")};const Wa=(t,e)=>{if(e?.imported)return eD(e);let n=io(t);if(!n)throw Error("Failed to find primary wallet");return eD(n)},lOe=({style:t,...e})=>O.jsxs("svg",{viewBox:"0 0 1024 1024",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[O.jsx("rect",{width:"1024",height:"1024",fill:"#0052FF",rx:100,ry:100}),O.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z",fill:"white"})]}),xY="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PScwIDAgMTAyNCAxMDI0JyBmaWxsPSdub25lJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHN0eWxlPSdoZWlnaHQ6MjhweDt3aWR0aDoyOHB4Jz48cmVjdCB3aWR0aD0nMTAyNCcgaGVpZ2h0PScxMDI0JyBmaWxsPScjMDA1MkZGJyByeD0nMTAwJyByeT0nMTAwJz48L3JlY3Q+PHBhdGggZmlsbC1ydWxlPSdldmVub2RkJyBjbGlwLXJ1bGU9J2V2ZW5vZGQnIGQ9J00xNTIgNTEyQzE1MiA3MTAuODIzIDMxMy4xNzcgODcyIDUxMiA4NzJDNzEwLjgyMyA4NzIgODcyIDcxMC44MjMgODcyIDUxMkM4NzIgMzEzLjE3NyA3MTAuODIzIDE1MiA1MTIgMTUyQzMxMy4xNzcgMTUyIDE1MiAzMTMuMTc3IDE1MiA1MTJaTTQyMCAzOTZDNDA2Ljc0NSAzOTYgMzk2IDQwNi43NDUgMzk2IDQyMFY2MDRDMzk2IDYxNy4yNTUgNDA2Ljc0NSA2MjggNDIwIDYyOEg2MDRDNjE3LjI1NSA2MjggNjI4IDYxNy4yNTUgNjI4IDYwNFY0MjBDNjI4IDQwNi43NDUgNjE3LjI1NSAzOTYgNjA0IDM5Nkg0MjBaJyBmaWxsPSd3aGl0ZSc+PC9wYXRoPjwvc3ZnPg==",bY="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAALZJREFUaEPtmjEOhDAMBNc/O14GvOzys3CAKK6eAlmaVGl2Zc+kTOU685vkc9/bnD2prZK5/TZY24z9P+g4F5hNh7/GdoG37WlAA5CATwgCxHENYISwQAMQII5rACOEBRqAAHFcAxghLNAABIjjGsAIYYEGIEAc1wBGCAs0AAHiuAYwQligAQgQxzWAEcICDUCAOK4BjBAWaAACxHENYISwQAMQII6fBjr+VHkW3+u+tfyxMpJaDgYzYxb/ALZVAAAAAElFTkSuQmCC";class CY extends On{constructor(){super("Wallet timeout"),this.type="wallet_error"}}const mc=t=>t instanceof On?t:t?.code?new bi(t):new On("Unknown connector error",t);class Kf extends Ai{constructor(e,n,i){super(e),this.type="provider_error",this.code=n,this.data=i}}class bi extends Kf{constructor(e){super(e.message,e.code,e.data);let n=Object.values(Ga).find((i=>i.eipCode===e.code));this.details=n||Ga.UNKNOWN_ERROR,e.code===-32002&&(e.message?.includes("already pending for origin")?e.message?.includes("wallet_requestPermissions")?this.details=Ga.E32002_CONNECTION_ALREADY_PENDING:this.details=Ga.E32002_REQUEST_ALREADY_PENDING:e.message?.includes("Already processing")&&e.message.includes("eth_requestAccounts")&&(this.details=Ga.E32002_WALLET_LOCKED))}}const hd={ERROR_USER_EXISTS:{message:"User already exists for this address",detail:"Try another address!",retryable:!1},ERROR_TIMED_OUT:{message:"Wallet request timed out",detail:"Please try connecting again.",retryable:!0},ERROR_WALLET_CONNECTION:{message:"Could not log in with wallet",detail:"Please try connecting again.",retryable:!0},ERROR_USER_LIMIT_REACHED:{message:"Unable to link",detail:"You've reached the maximum number of linked wallets.",retryable:!1},...Ga};function Yu(t){return t.type==="ethereum"}function EY(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){let i=t[n],f=e[n];if(i?.address!==f?.address||i&&f&&Yu(i)&&Yu(f)&&i?.chainId!==f?.chainId||i?.connectorType!==f?.connectorType||i?.connectedAt!==f?.connectedAt||i?.walletClientType!==f?.walletClientType||i?.isConnected!==f?.isConnected||i?.linked!==f?.linked)return!1}return!0}class SY extends Zd{constructor(e){super(),this.walletClientType=e,this.connected=!1,this.initialized=!1}}const DT=(t,e)=>t.rpcTimeouts&&t.rpcTimeouts[e]||zx;function H0(t){return t.chainType==="ethereum"}class oh extends SY{buildConnectedWallet(e,n,i,f){let b=async()=>!!this.wallets.find((s=>yr(s.address)===yr(e)));return{type:"ethereum",address:yr(e),chainId:n,meta:i,imported:f,switchChain:async s=>{let y,r;if(!b)throw new On("Wallet is not currently connected.");let o=this.wallets.find((u=>yr(u.address)===yr(e)))?.chainId;if(!o)throw new On("Unable to determine current chainId.");if(typeof s=="number"?(y=`0x${s.toString(16)}`,r=s):(y=s,r=Number(s)),o===Mv(y))return;let v=this.chains.find((u=>u.id===r));if(!v)throw new On(`Unsupported chainId: ${s}`);let c=async()=>{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:y}]})};try{return await c()}catch(u){if(((l,a)=>{switch(a){case"coinbase_wallet":case"base_account":return l.message.includes("addEthereumChain");case"rabby_wallet":return l.message.includes("Unrecognized chain ID");default:return l.code===4902||l.message?.includes("4902")}})(u,this.walletClientType))return this.walletClientType==="rabby_wallet"&&await cw(300),await this.proxyProvider.request({method:"wallet_addEthereumChain",params:[{chainId:y,chainName:v.name,nativeCurrency:v.nativeCurrency,rpcUrls:[v.rpcUrls.default?.http[0]??""],blockExplorerUrls:[v.blockExplorers?.default.url??""]}]}),c();throw this.walletClientType==="rainbow"&&u.message?.includes("wallet_switchEthereumChain")?new On(`Rainbow does not support the chainId ${n}`):u}},connectedAt:Date.now(),walletClientType:this.walletClientType,connectorType:this.connectorType,isConnected:b,getEthereumProvider:async()=>{if(!await b())throw new On("Wallet is not currently connected.");return this.proxyProvider},sign:async s=>{if(!await b())throw new On("Wallet is not currently connected.");return await this.sign(s)},disconnect:()=>{this.disconnect()}}}async syncAccounts(e){let n,i=e;try{if(i===void 0){let r=await NE((()=>this.proxyProvider.request({method:"eth_accounts"})),{maxAttempts:10,delayMs:500});console.debug(`eth_accounts for ${this.walletClientType}:`,r),Array.isArray(r)&&(i=r)}}catch(r){console.debug("Wallet did not respond to eth_accounts. Defaulting to prefetched accounts.",r)}if(!i||!Array.isArray(i)||i.length<=0||!i[0])return;let f=i[0],b=yr(f),s=[];if(this.walletClientType==="privy"){let r=Ct.get(A6(b));this.chains.find((o=>o.id===Number(r)))||(Ct.del(A6(b)),r=null),n=r||`0x${this.defaultChain.id.toString(16)}`;try{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]})}catch{console.warn(`Unable to switch embedded wallet to chain ID ${n} on initialization`)}}else try{let r=await NE((()=>this.proxyProvider.request({method:"eth_chainId"})),{maxAttempts:10,delayMs:500});if(console.debug(`eth_chainId for ${this.walletClientType}:`,r),typeof r=="string")n=r;else{if(typeof r!="number")throw Error("Invalid chainId returned from provider");n=`0x${r.toString(16)}`}}catch(r){console.warn("Failed to get chainId from provider, defaulting to 0x1",r),n="0x1"}let y=Mv(n);if(!s.find((r=>yr(r.address)===b))){let r={name:this.walletBranding.name,icon:typeof this.walletBranding.icon=="string"?this.walletBranding.icon:void 0,id:this.walletBranding.id};s.push(this.buildConnectedWallet(yr(f),y,r,this.connectorType==="embedded_imported"))}EY(s,this.wallets)||(this.wallets=s,this.emit("walletsUpdated"))}async getConnectedWallet(){let e=await this.proxyProvider.request({method:"eth_accounts"});return this.wallets.sort(((n,i)=>i.connectedAt-n.connectedAt)).find((n=>e.find((i=>yr(i)===yr(n.address)))))||null}async isConnected(){let e=await this.proxyProvider.request({method:"eth_accounts"});return Array.isArray(e)&&e.length>0}async sign(e){return await this.connect({showPrompt:!1}),this.proxyProvider.request({method:"personal_sign",params:[er(e),this.wallets[0]?.address]})}subscribeListeners(){this.proxyProvider.on("accountsChanged",this.onAccountsChanged),this.proxyProvider.on("chainChanged",this.onChainChanged),this.proxyProvider.on("disconnect",this.onDisconnect),this.proxyProvider.on("connect",this.onConnect)}unsubscribeListeners(){this.proxyProvider.removeListener("accountsChanged",this.onAccountsChanged),this.proxyProvider.removeListener("chainChanged",this.onChainChanged),this.proxyProvider.removeListener("disconnect",this.onDisconnect),this.proxyProvider.removeListener("connect",this.onConnect)}constructor(e,n,i,f){super(e),this.chainType="ethereum",this.onAccountsChanged=b=>{b.length===0?this.onDisconnect():this.syncAccounts(b)},this.onChainChanged=b=>{this.wallets.forEach((s=>{s.chainId=Mv(b),this.walletClientType==="privy"&&Ct.put(A6(s.address),b)})),this.emit("walletsUpdated")},this.onDisconnect=()=>{this.connected=!1,this.wallets=[],this.emit("walletsUpdated")},this.onConnect=async()=>{this.connectorType==="base_account"&&this.connected||(this.connected=!0,this.connectorType==="coinbase_wallet"&&await cw(500),this.syncAccounts())},this.wallets=[],this.walletClientType=e,this.chains=n,this.defaultChain=i,this.rpcConfig=f,this.rpcTimeoutDuration=DT(f,e),this.connected=!1,this.initialized=!1}}class lh{on(e,n){if(this.walletProvider)return this.walletProvider.on(e,n);this._subscriptions.push({eventName:e,listener:n})}async request(e){if(!this.walletProvider)throw new On(`A wallet request of type ${e.method} was made before setting a wallet provider.`);return Promise.race([this.walletProvider.request(e),this.walletTimeout()]).catch((n=>{throw mc(n)}))}constructor(e,n){this.removeListener=(i,f)=>{if(this.walletProvider)try{return this.walletProvider.removeListener(i,f)}catch{console.warn("Unable to remove wallet provider listener")}},this.walletTimeout=(i=new CY,f=this.rpcTimeoutDuration)=>new Promise(((b,s)=>setTimeout((()=>{s(i)}),f))),this.setWalletProvider=i=>{this.walletProvider&&this._subscriptions.forEach((f=>{this.removeListener(f.eventName,f.listener)})),this.walletProvider=i,this._subscriptions.forEach((f=>{this.walletProvider?.on(f.eventName,f.listener)}))},this.walletProvider=e,this.rpcTimeoutDuration=n||zx,this._subscriptions=[]}}const TY=({...t})=>O.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:O.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.37126 11.0323C2.37126 12.696 3.90598 13.4421 5.40654 13.4468C8.91753 13.4468 12.8021 11.2897 12.7819 7.67984C12.7673 5.07728 10.3748 2.86167 7.54357 2.88296C4.8495 2.88296 2.21821 4.6411 2.21803 7.03628C2.21803 7.67951 2.58722 8.30178 3.55231 8.37184C2.74763 9.16826 2.37126 10.1225 2.37126 11.0323ZM7.55283 8.68012C8.11562 8.68012 8.57186 8.13217 8.57186 7.45624C8.57186 6.78032 8.11562 6.23237 7.55283 6.23237C6.99003 6.23237 6.53379 6.78032 6.53379 7.45624C6.53379 8.13217 6.99003 8.68012 7.55283 8.68012ZM10.4747 8.68012C11.0375 8.68012 11.4937 8.13217 11.4937 7.45625C11.4937 6.78032 11.0375 6.23237 10.4747 6.23237C9.91186 6.23237 9.45562 6.78032 9.45562 7.45625C9.45562 8.13217 9.91186 8.68012 10.4747 8.68012Z",fill:t.color||"var(--privy-color-foreground-3)"})});class NT extends oh{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the EthereumNullConnector")}disconnect(){throw Error("disconnect called for an uninstalled wallet via the EthereumNullConnector")}promptConnection(e){throw Error(`promptConnection called for an uninstalled wallet via the EthereumNullConnector for ${e}`)}constructor({id:e,name:n,icon:i,walletClientType:f,defaultChain:b}){super(f,[],b,{}),this.connectorType="null",this.proxyProvider=new lh(void 0,zx),this.id=e,this.name=n,this.icon=i,this.connectorType=f}}const kT=({style:t,...e})=>O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeWidth:1.5,viewBox:"0 0 24 24",style:{...t},...e,children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25"})}),BE=({...t})=>O.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",...t,children:[O.jsx("rect",{width:"32",height:"32",rx:"6",fill:"#121314"}),O.jsx("g",{transform:"translate(4, 4)",children:O.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 318.6 318.6",children:[O.jsx("style",{children:".s1{stroke-linecap:round;stroke-linejoin:round}.s2{fill:#e4761b;stroke:#e4761b}.s3{fill:#f6851b;stroke:#f6851b}"}),O.jsx("path",{fill:"#e2761b",stroke:"#e2761b",className:"s1",d:"m274.1 35.5-99.5 73.9L193 65.8z"}),O.jsx("path",{d:"m44.4 35.5 98.7 74.6-17.5-44.3zm193.9 171.3-26.5 40.6 56.7 15.6 16.3-55.3zm-204.4.9L50.1 263l56.7-15.6-26.5-40.6z",className:"s1 s2"}),O.jsx("path",{d:"m103.6 138.2-15.8 23.9 56.3 2.5-2-60.5zm111.3 0-39-34.8-1.3 61.2 56.2-2.5zM106.8 247.4l33.8-16.5-29.2-22.8zm71.1-16.5 33.9 16.5-4.7-39.3z",className:"s1 s2"}),O.jsx("path",{fill:"#d7c1b3",stroke:"#d7c1b3",className:"s1",d:"m211.8 247.4-33.9-16.5 2.7 22.1-.3 9.3zm-105 0 31.5 14.9-.2-9.3 2.5-22.1z"}),O.jsx("path",{fill:"#233447",stroke:"#233447",className:"s1",d:"m138.8 193.5-28.2-8.3 19.9-9.1zm40.9 0 8.3-17.4 20 9.1z"}),O.jsx("path",{fill:"#cd6116",stroke:"#cd6116",className:"s1",d:"m106.8 247.4 4.8-40.6-31.3.9zM207 206.8l4.8 40.6 26.5-39.7zm23.8-44.7-56.2 2.5 5.2 28.9 8.3-17.4 20 9.1zm-120.2 23.1 20-9.1 8.2 17.4 5.3-28.9-56.3-2.5z"}),O.jsx("path",{fill:"#e4751f",stroke:"#e4751f",className:"s1",d:"m87.8 162.1 23.6 46-.8-22.9zm120.3 23.1-1 22.9 23.7-46zm-64-20.6-5.3 28.9 6.6 34.1 1.5-44.9zm30.5 0-2.7 18 1.2 45 6.7-34.1z"}),O.jsx("path",{d:"m179.8 193.5-6.7 34.1 4.8 3.3 29.2-22.8 1-22.9zm-69.2-8.3.8 22.9 29.2 22.8 4.8-3.3-6.6-34.1z",className:"s3"}),O.jsx("path",{fill:"#c0ad9e",stroke:"#c0ad9e",className:"s1",d:"m180.3 262.3.3-9.3-2.5-2.2h-37.7l-2.3 2.2.2 9.3-31.5-14.9 11 9 22.3 15.5h38.3l22.4-15.5 11-9z"}),O.jsx("path",{fill:"#161616",stroke:"#161616",className:"s1",d:"m177.9 230.9-4.8-3.3h-27.7l-4.8 3.3-2.5 22.1 2.3-2.2h37.7l2.5 2.2z"}),O.jsx("path",{fill:"#763d16",stroke:"#763d16",className:"s1",d:"m278.3 114.2 8.5-40.8-12.7-37.9-96.2 71.4 37 31.3 52.3 15.3 11.6-13.5-5-3.6 8-7.3-6.2-4.8 8-6.1zM31.8 73.4l8.5 40.8-5.4 4 8 6.1-6.1 4.8 8 7.3-5 3.6 11.5 13.5 52.3-15.3 37-31.3-96.2-71.4z"}),O.jsx("path",{d:"m267.2 153.5-52.3-15.3 15.9 23.9-23.7 46 31.2-.4h46.5zm-163.6-15.3-52.3 15.3-17.4 54.2h46.4l31.1.4-23.6-46zm71 26.4 3.3-57.7 15.2-41.1h-67.5l15 41.1 3.5 57.7 1.2 18.2.1 44.8h27.7l.2-44.8z",className:"s3"})]})})]}),AY=({style:t,...e})=>O.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"108",height:"108",viewBox:"0 0 108 108",fill:"none",style:{height:"28px",width:"28px",...t},...e,children:[O.jsx("rect",{width:"108",height:"108",rx:"23",fill:"#AB9FF2"}),O.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46.5267 69.9229C42.0054 76.8509 34.4292 85.6182 24.348 85.6182C19.5824 85.6182 15 83.6563 15 75.1342C15 53.4305 44.6326 19.8327 72.1268 19.8327C87.768 19.8327 94 30.6846 94 43.0079C94 58.8258 83.7355 76.9122 73.5321 76.9122C70.2939 76.9122 68.7053 75.1342 68.7053 72.314C68.7053 71.5783 68.8275 70.7812 69.0719 69.9229C65.5893 75.8699 58.8685 81.3878 52.5754 81.3878C47.993 81.3878 45.6713 78.5063 45.6713 74.4598C45.6713 72.9884 45.9768 71.4556 46.5267 69.9229ZM83.6761 42.5794C83.6761 46.1704 81.5575 47.9658 79.1875 47.9658C76.7816 47.9658 74.6989 46.1704 74.6989 42.5794C74.6989 38.9885 76.7816 37.1931 79.1875 37.1931C81.5575 37.1931 83.6761 38.9885 83.6761 42.5794ZM70.2103 42.5795C70.2103 46.1704 68.0916 47.9658 65.7216 47.9658C63.3157 47.9658 61.233 46.1704 61.233 42.5795C61.233 38.9885 63.3157 37.1931 65.7216 37.1931C68.0916 37.1931 70.2103 38.9885 70.2103 42.5795Z",fill:"#FFFDF8"})]}),uOe=["metamask","phantom","brave_wallet","rainbow","uniswap_wallet_extension","uniswap_extension","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","crypto.com_wallet_extension","crypto.com_onchain","binance","bitget_wallet","coinbase_wallet","coinbase_smart_wallet","base_account","metamask","trust","safe","rainbow","uniswap","zerion","argent","spot","omni","cryptocom","blockchain","safepal","bitget_wallet","zengo","1inch","binance","exodus","mew_wallet","alphawallet","keyring_pro","mathwallet","unstoppable","obvious","ambire","internet_money_wallet","coin98","abc_wallet","arculus_wallet","haha","cling_wallet","broearn","copiosa","burrito_wallet","enjin_wallet","plasma_wallet","avacus","bee","pitaka","pltwallet","minerva","kryptogo","prema","slingshot","kriptonio","timeless","secux","bitizen","blocto","okx_wallet","safemoon","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","privy","unknown","phantom","solflare","glow","backpack","mobile_wallet_adapter"],BT=Object.freeze({phantom:{client:"phantom",name:"Phantom",installLink:tn.isFirefox?"https://addons.mozilla.org/en-US/firefox/addon/phantom-app/":"https://chrome.google.com/webstore/detail/phantom/bfnaelmomeimhlpmgjnjophhpkkoljpa?hl=en",chainTypes:["ethereum","solana"],get isInstalled(){if("phantom"in window){let t=window;if(t?.phantom?.ethereum?.isPhantom&&t?.phantom?.ethereum?.chainId||t?.phantom?.solana?.isPhantom)return!0}return!1},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let i=My({client:this.client,isSolana:e,connectOnly:n});return`${t?"phantom://":"https://phantom.app/ul/"}browse/${i}?ref=${i}`}},solflare:{client:"solflare",name:"Solflare",installLink:tn.isFirefox?"https://addons.mozilla.org/es/firefox/addon/solflare-wallet/":"https://chromewebstore.google.com/detail/solflare-wallet/bhhhlbepdkbapadjdnnojkbgioiodbic",chainTypes:["solana"],get isInstalled(){return"solflare"in window&&!!window?.solflare?.isSolflare},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let i=My({client:this.client,isSolana:e,connectOnly:n});return`${t?"solflare://ul/v1/":"https://solflare.com/ul/v1/"}browse/${i}?ref=${i}`}},backpack:{client:"backpack",name:"Backpack",installLink:"https://chromewebstore.google.com/detail/backpack/aflkmfhebedbjioipglgcbcmnbpgliof",chainTypes:["ethereum","solana"],get isInstalled(){return!(!("backpack"in window)||!window?.backpack?.ethereum?.isBackpack&&!window?.backpack?.solana?.isBackpack)},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let i=My({client:this.client,isSolana:e,connectOnly:n});return`${t?"backpack://ul/v1/":"https://backpack.app/ul/v1/"}browse/${i}?ref=${i}`}},okx_wallet:{client:"okx_wallet",name:"OKX Wallet",installLink:"https://chromewebstore.google.com/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge",chainTypes:["solana"],get isInstalled(){return"okxwallet"in window&&!!window?.okxwallet?.isOkxWallet},getMobileRedirect({isSolana:t,connectOnly:e}){return"https://www.okx.com/download?deeplink="+encodeURIComponent("okx://wallet/dapp/url?dappUrl="+My({client:this.client,isSolana:t,connectOnly:e}))}}});function PY({connectorType:t,walletClientType:e}){for(let n of uOe)if(t===n||e===n)return BT[n]}function My({client:t,isSolana:e,connectOnly:n}){let i=new URL(window.location.href);return i.searchParams.set("privy_connector",e?"solana_adapter":"injected"),i.searchParams.set("privy_wallet_client",t),i.searchParams.set("privy_connect_only",String(n)),encodeURIComponent(i.href.replace(/\/$/g,""))}const s2=()=>{let t=Ct.get(tY);return t&&Array.isArray(t)&&t.map((e=>(n=>n&&typeof n.address=="string"&&typeof n.connectorType=="string"&&typeof n.walletClientType=="string"&&typeof n.connectedAt=="number")(e))).every(Boolean)?t:[]};let cOe=["phantom","glow","solflare","backpack","okx_wallet","walletconnect","mobile_wallet_adapter"];function UE(t){return t.toLowerCase().split(" ").join("_")}class dOe extends SY{get isInstalled(){return!0}get wallet(){return this._wallet}buildConnectedWallet(){return this._wallet.accounts.map((e=>({type:"solana",provider:new vj({wallet:this._wallet,account:e}),address:e.address,connectedAt:Date.now(),walletClientType:this._wallet.name,connectorType:this.connectorType,imported:!1,meta:{name:this._wallet.name,id:this._wallet.name,icon:this._wallet.icon},isConnected:async()=>this._wallet.accounts.length>0,disconnect:()=>{this.disconnect()}})))}async syncAccounts(){this.wallets=this.buildConnectedWallet(),this.emit("walletsUpdated")}get walletBranding(){return{id:this.wallet.name,name:this.wallet.name,icon:this.wallet.icon}}async initialize(){this.subscribeListeners(),await this.syncAccounts(),this.shouldAttemptAutoConnect()&&await this.wallet.features["standard:connect"]?.connect({silent:!0}).catch((()=>{})),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}async getConnectedWallet(){return this.wallets.sort(((e,n)=>n.connectedAt-e.connectedAt))[0]||null}async isConnected(){return this._wallet.accounts.length>0}subscribeListeners(){this._unsubscribeListeners=this.wallet.features["standard:events"]?.on("change",this.onChange)}unsubscribeListeners(){this._unsubscribeListeners?.()}shouldAttemptAutoConnect(){return!(!this.autoConnectEnabled||!cOe.includes(this.walletClientType))&&(this.walletClientType!=="phantom"||s2().some((({walletClientType:e})=>e==="phantom")))}constructor(e,n){super(UE(e.name)),this.chainType="solana",this.connectorType="solana_adapter",this.disconnect=()=>{this.wallet.features["standard:disconnect"]?.disconnect().catch((i=>console.error("Error disconnecting",i)))},this.promptConnection=async()=>{try{await this.wallet.features["standard:connect"]?.connect()}catch(i){throw mc(i)}},this.onChange=()=>{this.syncAccounts()},this._wallet=e,this.autoConnectEnabled=n,this.wallets=[]}}class UT extends dOe{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the SolanaNullConnector")}constructor({id:e,name:n,icon:i}){super({name:n},!1),this.connectorType="null",this.proxyProvider=new lh(void 0,zx),this.disconnect=async()=>{throw Error("disconnect called for an uninstalled wallet via the SolanaNullConnector")},this.promptConnection=async()=>{throw Error("promptConnection called for an uninstalled wallet via the SolanaNullConnector")},this.id=e,this.name=n,this.icon=i}}function Vx(t){return t.chainType==="solana"}function hOe(t){return t.type==="solana"}const Mm=Fp((()=>({listings:[]}))),fOe=Mm.setState,I6=t=>{let e;try{e=new URL(t).hostname}catch{return}return Mm.getState().listings.find((({homepage:n})=>{let i;try{i=new URL(n).hostname}catch{return!1}return e.includes(i)}))},yc=t=>Mm((({listings:e})=>e.find((({slug:n})=>dw(n)===dw(t)))));function dw(t){return t==="cryptocom"?"cryptocom-defi":t==="binance"?"binance-defi":t.replace(/[-_]wallet$/,"")}const Ml={appearance:{landingHeader:"Log in or sign up",theme:"light",walletList:["detected_ethereum_wallets","detected_solana_wallets","metamask","coinbase_wallet","rainbow","base_account","wallet_connect"]},walletConnectCloudProjectId:"34357d3c125c2bcf2ce2bc3309d98715",captchaEnabled:!1,_render:{standalone:!1},fundingMethodConfig:{moonpay:{useSandbox:!1}}};let pOe=new Set(["coinbase_wallet","base_account","cryptocom","metamask","okx_wallet","phantom","rainbow","uniswap","zerion","universal_profile","bybit_wallet","ronin_wallet","haha_wallet","wallet_connect","wallet_connect_qr","detected_solana_wallets","detected_ethereum_wallets","rabby_wallet","safe","solflare","backpack","binance","binanceus","bitget_wallet"]),tD=t=>pOe.has(t),nD=(t,e,n)=>n.indexOf(t)===e;function Oy(t,e){let n=Math.max(0,Math.min(1,t.toHsl().l+e));return ot({...t.toHsl(),l:n})}function R6(t,e){let n=t.getLuminance(),i=e.getLuminance();return(Math.max(n,i)+.05)/(Math.min(n,i)+.05)}function vOe({backgroundTheme:t,accentHex:e}){let n,i;t==="light"?n=!1:t==="dark"?n=!0:(n=.5>=ot(t).getLuminance(),i=ot(t).toHslString());let f=n?"dark":"light",b=n?Y0:Fy,{accent:s,accentLight:y,accentHover:r,accentDark:o,accentDarkest:v}=(function(a,d){if(!a){let h=d?Y0:Fy;return{accent:ot(h.background.interactive),accentLight:ot(h.background.interactive),accentHover:ot(h.background["interactive-hover"]),accentDark:ot(h.background["interactive-clicked"]),accentDarkest:ot(h.background["interactive-disabled"])}}let p=ot(a);return{accent:p,accentLight:Oy(p,.15),accentHover:Oy(p,.3),accentDark:Oy(p,-.06),accentDarkest:Oy(p,-.6)}})(e,n),c=(function(a){let d=ot(Fy.text.default),p=ot(Y0.text.default),h=R6(a,d),g=R6(a,p),m=a.toHsl();return m.h>=220&&m.h<=300&&g>=3?Y0.text.default:h>g?Fy.text.default:Y0.text.default})(s),u=ot(c),l=R6(s,ot(b.background.default))>=3;return{colorScheme:f,background:i||b.background.default,background2:b.background.elevated,background3:b.background.interactive,foreground:b.text.default,foreground2:b.text.muted,foreground3:b.text.placeholder,foreground4:b.border.default,accent:s.toHslString(),accentLight:y.toHslString(),accentHover:r.toHslString(),accentDark:o.toHslString(),accentDarkest:v.toHslString(),foregroundAccent:u.toHslString(),success:b.background.success,successDark:b.text.success,successLight:b.background.success,error:b.text.error,errorLight:b.background.error,warn:b.background.warning,warnLight:b.background.warning,warningDark:b.text.warning,errorDark:b.text.error,successBg:b.background.success,errorBg:b.background.error,errorBgHover:b.background["error-hover"],warnBg:b.background.warning,infoBg:b.background.info,infoBgHover:b.background["info-hover"],borderDefault:b.border.default,borderHover:b.border["default-hover"],borderFocus:b.border.focused,borderError:b.border.error,borderSuccess:b.border.success,borderWarning:b.border.warning,borderInfo:b.border.info,borderInteractive:b.border.interactive,borderInteractiveHover:b.border["interactive-hover"],backgroundHover:b.background["default-hover"],backgroundClicked:b.background["default-clicked"],backgroundDisabled:b.background["default-disabled"],backgroundInteractive:b.background.interactive,backgroundInteractiveHover:b.background["interactive-hover"],backgroundInteractiveClicked:b.background["interactive-clicked"],backgroundInteractiveDisabled:b.background["interactive-disabled"],foregroundHover:b.text.default,foregroundClicked:b.text.default,foregroundDisabled:b.text["default-disabled"],foregroundInteractive:b.text.interactive,foregroundInteractiveHover:b.text["interactive-hover"],accentHasGoodContrast:l?"1":"0",linkNavigationColor:l?s.toHslString():b.text.default,linkNavigationDecoration:l?"none":"underline",iconDefault:b.icon.default,iconMuted:b.icon.muted,iconSubtle:b.icon.subtle,iconInverse:b.icon.inverse,iconSuccess:b.icon.success,iconWarning:b.icon.warning,iconError:b.icon.error,iconInteractive:b.icon.interactive,iconDefaultHover:b.icon["default-hover"],iconMutedHover:b.icon["muted-hover"],iconSubtleHover:b.icon["subtle-hover"],iconDefaultClicked:b.icon["default-clicked"],iconMutedClicked:b.icon["muted-clicked"],iconSubtleClicked:b.icon["subtle-clicked"],iconDefaultDisabled:b.icon["default-disabled"],iconMutedDisabled:b.icon["muted-disabled"],iconSubtleDisabled:b.icon["subtle-disabled"],iconErrorHover:b.icon["error-hover"],iconInteractiveHover:b.icon["interactive-hover"],iconErrorClicked:b.icon["error-clicked"],iconInteractiveClicked:b.icon["interactive-clicked"],iconMutedDisabledAlt:b.icon["muted-disabled"],iconSubtleDisabledAlt:b.icon["subtle-disabled"]}}const Y0={background:{default:"#020713",elevated:"#1A2230","default-hover":"#101724","default-clicked":"#1A2230","default-disabled":"#020713",success:"#0E3E2D",warning:"#373827",error:"#2E0C18",interactive:"#8B86FF","error-hover":"#441821","interactive-hover":"#7B73E5","interactive-clicked":"#6560CC","interactive-disabled":"#141824",info:"#1F2937","info-hover":"#141824"},icon:{default:"#F8F8F8",muted:"#9BA2AE",subtle:"#7B8491",inverse:"#020713",success:"#88E3B5",warning:"#FDF27B",error:"#EF4444",interactive:"#88B6FF","default-hover":"#F8F8F8","muted-hover":"#AEB3BD","subtle-hover":"#8B939E","default-clicked":"#F8F8F8","muted-clicked":"#9097A5","subtle-clicked":"#78818E","default-disabled":"#404452","muted-disabled":"#404452","subtle-disabled":"#404452","error-hover":"#F05555","interactive-hover":"#7B73E5","error-clicked":"#EF4444","interactive-clicked":"#6560CC"},text:{default:"#F8F8F8",muted:"#9BA2AE",placeholder:"#7B8491",success:"#ACEECB",warning:"#FEF9A0",error:"#FCA5A5",interactive:"#A29EFF","default-disabled":"#404452","interactive-hover":"#8C88E5"},border:{default:"#1F2937",interactive:"#88B0FF",focused:"#F8F8FC",info:"#5B83D3",success:"#317056",warning:"#FBBF24",error:"#F87171","default-hover":"#34304A","interactive-hover":"#88B0FF"}},Fy={background:{default:"#FFFFFF",elevated:"#F1F2F9","default-hover":"#F8F9FC","default-clicked":"#F1F2F9","default-disabled":"#FFFFFF",success:"#DCFCE7",warning:"#FEF3C7",error:"#FEE2E2",interactive:"#5B4FFF","error-hover":"#FECACA","interactive-hover":"#4F46E5","interactive-clicked":"#4338CA","interactive-disabled":"#F1F2F9",info:"#E0E7FF","info-hover":"#EEF2FF"},icon:{default:"#110F2A",muted:"#64668B",subtle:"#9498B8",inverse:"#FFFFFF",success:"#33B287",warning:"#F59E0B",error:"#EF4444",interactive:"#564FFF","default-hover":"#1D1B35","muted-hover":"#64668B","subtle-hover":"#888AAE","default-clicked":"#060C23","muted-clicked":"#64668B","subtle-clicked":"#788804","default-disabled":"#CBCDE1","muted-disabled":"#CBCDE1","subtle-disabled":"#CBCDE1","error-hover":"#F06060","interactive-hover":"#4F46E5","error-clicked":"#DC3838","interactive-clicked":"#2BA482"},text:{default:"#040217",muted:"#64668B",placeholder:"#9498B8",success:"#135638",warning:"#906218",error:"#991B1B",interactive:"#5B4FFF","default-disabled":"#CBCDE1","interactive-hover":"#5B4FFF"},border:{default:"#E2E3F0",interactive:"#5B4FFF",focused:"#949DF9",info:"#F1F2F9",success:"#87D7B7",warning:"#FACD63",error:"#F69393","default-hover":"#E2E3F0","interactive-hover":"#5B4FFF"}};function IY(t,e,n,i,f){let b,s,y,r,o,v,c,u,l,a,d,p,h,g,m,x,w,C=n?console.warn:()=>{};e?.loginMethods?(b=e.loginMethods.includes("email"),s=e.loginMethods.includes("sms"),r=e.loginMethods.includes("wallet"),o=e.loginMethods.includes("google"),v=e.loginMethods.includes("twitter"),c=e.loginMethods.includes("discord"),d=e.loginMethods.includes("spotify"),p=e.loginMethods.includes("instagram"),u=e.loginMethods.includes("tiktok"),l=e.loginMethods.includes("line"),a=e.loginMethods.includes("twitch"),g=e.loginMethods.includes("github"),h=e.loginMethods.includes("linkedin"),m=e.loginMethods.includes("apple"),x=e.loginMethods.includes("farcaster"),w=e.loginMethods.includes("telegram"),y=e.loginMethods.includes("passkey")):(b=t.email_auth,s=t.sms_auth,r=t.wallet_auth||t.solana_wallet_auth,o=t.google_oauth,v=t.twitter_oauth,c=t.discord_oauth,g=t.github_oauth,d=t.spotify_oauth,p=t.instagram_oauth,u=t.tiktok_oauth,l=t.line_oauth,a=t.twitch_oauth,h=t.linkedin_oauth,m=t.apple_oauth,x=t.farcaster_auth,w=t.telegram_auth,y=t.passkey_auth),t.passkey_auth&&(y=!0),typeof window<"u"&&typeof window.PublicKeyCredential!="function"&&(y=!1);let E=[b,s].filter(Boolean),T=[o,v,c,g,d,p,u,l,h,m,x,w].filter(Boolean),S=[r].filter(Boolean),A=e?.loginMethods?.includes("passkey")??!1,P=t.passkeys_for_signup_enabled??!1,R=[y&&(P||A)].filter(Boolean);if(E.length+T.length+S.length+R.length===0)throw Error("You must enable at least one login method");let L=e?.appearance?.showWalletLoginFirst!==void 0?e?.appearance?.showWalletLoginFirst:t.show_wallet_login_first;L&&S.length===0?(C("You should only enable `showWalletLoginFirst` when `wallet` logins are also enabled. `showWalletLoginFirst` has been set to false"),L=!1):L||T.length+E.length!==0||(C("You should only disable `showWalletLoginFirst` when `email`, `sms`, or social logins are also enabled. `showWalletLoginFirst` has been set to true"),L=!0);let D=e?.externalWallets?.walletConnect?.enabled??!0;e?.loginMethods&&e.loginMethodsAndOrder&&C("You should only configure one of `loginMethods` or `loginMethodsAndOrder`");let F=(({input:Z,overrides:V})=>V?V.primary.concat(V.overflow??[]).filter(tD).filter(nD):Z?Z.filter(tD).filter(nD):Ml.appearance.walletList)({input:e?.appearance?.walletList,overrides:e?.loginMethodsAndOrder}),$=(({input:Z})=>{if(!Z||!Z.primary[0])return;let V=[Z.primary[0]],J=[];for(let _ of(Z.primary.length>4&&console.warn("You should not specify greater than 4 login methods in `loginMethodsAndOrder.primary`"),Z.primary.slice(1)))V.includes(_)?console.warn(`Duplicated login method: ${_}`):V.push(_);for(let _ of Z.overflow??[])V.includes(_)||J.includes(_)?console.warn(`Duplicated login method: ${_}`):J.push(_);return{primary:V,overflow:J}})({input:e?.loginMethodsAndOrder}),N=e?.intl?.defaultCountry??"US",{chains:k,defaultChain:j}=(function({supportedChains:Z,defaultChainFromConfig:V}){let J;if(Z){if(Z.length===0)throw Error("`supportedChains` must contain at least one chain");J=ej(Z)}else J=[...um];let _=Z?J[0]:Ea,ee=V??_;if(!J.find((te=>te.id===ee.id)))throw Error("`defaultChain` must be included in `supportedChains`");return{chains:J,defaultChain:ee}})({supportedChains:e?.supportedChains,defaultChainFromConfig:e?.defaultChain}),W=!!e?.defaultChain,G=e?.customAuth?.getCustomAccessToken&&e?.customAuth?.enabled!==!1,K=G?"all-users":t.embedded_wallet_config.ethereum.create_on_login,z=t.embedded_wallet_config.solana.create_on_login;t.solana_wallet_auth&&!e?.externalWallets?.solana?.connectors&&console.warn("App configuration has Solana wallet login enabled, but no Solana wallet connectors have been passed to Privy. Make sure to pass Solana connectors to the `config.externalWallets.solana.connectors` field of the `PrivyProvider`");let X=t.telegram_auth_config?{botId:t.telegram_auth_config.bot_id,botName:t.telegram_auth_config.bot_name,linkEnabled:t.telegram_auth_config.link_enabled,seamlessAuthEnabled:t.telegram_auth_config.seamless_auth_enabled}:void 0,U=t.funding_config?{methods:t.funding_config.methods,options:t.funding_config.options,defaultRecommendedAmount:t.funding_config.default_recommended_amount,defaultRecommendedCurrency:t.funding_config.default_recommended_currency,promptFundingOnWalletCreation:t.funding_config.prompt_funding_on_wallet_creation,crossChainBridgingEnabled:t.funding_config.cross_chain_bridging_enabled}:void 0;return{id:t.id,appClientId:f,name:t.name,allowlistConfig:{errorTitle:t.allowlist_config.error_title,errorDetail:t.allowlist_config.error_detail,errorCtaText:t.allowlist_config.cta_text,errorCtaLink:t.allowlist_config.cta_link},legacyWalletUiConfig:t.legacy_wallet_ui_config,appearance:{logo:e?.appearance?.logo??t.logo_url??void 0,landingHeader:e?.appearance?.landingHeader??Ml.appearance.landingHeader,loginMessage:typeof e?.appearance?.loginMessage=="string"?e?.appearance?.loginMessage.slice(0,100):e?.appearance?.loginMessage,footerLogo:e?.appearance?.footerLogo,palette:vOe({backgroundTheme:e?.appearance?.theme??Ml.appearance.theme,accentHex:e?.appearance?.accentColor??t.accent_color}),loginGroupPriority:L?"web3-first":"web2-first",hideDirectWeb2Inputs:!!e?.appearance?.hideDirectWeb2Inputs,walletList:F,walletChainType:e?.appearance?.walletChainType??(({evmWalletAuth:Z,solanaWalletAuth:V})=>Z&&V?"ethereum-and-solana":Z?"ethereum-only":V?"solana-only":"ethereum-only")({evmWalletAuth:t.wallet_auth??!1,solanaWalletAuth:t.solana_wallet_auth??!1})},loginMethods:{wallet:r,email:b,sms:s,passkey:y,google:o,twitter:v,discord:c,github:g,spotify:d,instagram:p,tiktok:u,line:l,twitch:a,linkedin:h,apple:m,farcaster:x,telegram:w},customOAuthProviders:(t.custom_oauth_providers??[]).filter((Z=>Z.enabled!==!1)),disablePlusEmails:t.disable_plus_emails,loginMethodsAndOrder:$,legal:{termsAndConditionsUrl:e?.legal?.termsAndConditionsUrl??t.terms_and_conditions_url,privacyPolicyUrl:e?.legal?.privacyPolicyUrl??t.privacy_policy_url,requireUsersAcceptTerms:t.require_users_accept_terms??!1},walletConnectCloudProjectId:e?.walletConnectCloudProjectId??t.wallet_connect_cloud_project_id??Ml.walletConnectCloudProjectId,rpcConfig:{rpcUrls:{},rpcTimeouts:e?.externalWallets?.signatureRequestTimeouts??{}},chains:k,defaultChain:j,intl:{defaultCountry:N},shouldEnforceDefaultChainOnConnect:W,captchaEnabled:t.captcha_enabled??Ml.captchaEnabled,captchaSiteKey:t.captcha_site_key,externalWallets:{coinbaseWallet:{config:{appName:t.name,appLogoUrl:t.logo_url,preference:{options:"all",...e?.externalWallets?.coinbaseWallet?.config?.preference},...e?.externalWallets?.coinbaseWallet?.config}},baseAccount:{config:{appName:t.name,appLogoUrl:t.logo_url,...e?.externalWallets?.baseAccount?.config,preference:{...e?.externalWallets?.baseAccount?.config?.preference,telemetry:!1}}},walletConnect:{enabled:D},solana:{connectors:e?.externalWallets?.solana?.connectors},disableAllExternalWallets:e?.externalWallets?.disableAllExternalWallets??!1},embeddedWallets:{requireUserOwnedRecoveryOnCreate:!G&&(t.embedded_wallet_config.require_user_owned_recovery_on_create??!1),userOwnedRecoveryOptions:G?["user-passcode"]:t.embedded_wallet_config.user_owned_recovery_options,priceDisplay:e?.embeddedWallets?.priceDisplay??{primary:"fiat-currency",secondary:"native-token"},ethereum:{createOnLogin:e?.embeddedWallets?.ethereum?.createOnLogin??K},solana:{createOnLogin:e?.embeddedWallets?.solana?.createOnLogin??z},disableAutomaticMigration:e?.embeddedWallets?.disableAutomaticMigration??!1,mode:t.embedded_wallet_config.mode,showWalletUIs:e?.embeddedWallets?.showWalletUIs??t.enforce_wallet_uis??!0,extendedCalldataDecoding:e?.embeddedWallets?.extendedCalldataDecoding??!1,transactionScanning:{enabled:e?.embeddedWallets?.transactionScanning?.enabled??!1,domain:e?.embeddedWallets?.transactionScanning?.domain??i??"https://auth.privy.io"}},mfa:{methods:t.mfa_methods??[],noPromptOnMfaRequired:e?.mfa?.noPromptOnMfaRequired??!1},passkeys:{shouldUnlinkOnUnenrollMfa:e?.passkeys?.shouldUnlinkOnUnenrollMfa,shouldUnenrollMfaOnUnlink:e?.passkeys?.shouldUnenrollMfaOnUnlink,registration:e?.passkeys?.registration},customAuth:G?{enabled:!0,...e.customAuth}:void 0,loginConfig:{telegramAuthConfiguration:X,passkeysForSignupEnabled:t.passkeys_for_signup_enabled},headless:!!e?.headless,render:{standalone:e?._render?.standalone??Ml._render.standalone},fundingConfig:U,fundingMethodConfig:{...e?.fundingMethodConfig??Ml.fundingMethodConfig,moonpay:{...e?.fundingMethodConfig?.moonpay??Ml.fundingMethodConfig.moonpay,useSandbox:e?.fundingMethodConfig?.moonpay.useSandbox??Ml.fundingMethodConfig.moonpay.useSandbox}},whatsAppEnabled:!!t.whatsapp_enabled,customOAuthRedirectUrl:e?.customOAuthRedirectUrl,solanaRpcs:{"solana:mainnet":e?.solana?.rpcs?.["solana:mainnet"]??null,"solana:devnet":e?.solana?.rpcs?.["solana:devnet"]??null,"solana:testnet":e?.solana?.rpcs?.["solana:testnet"]??null}}}const RY={show_wallet_login_first:!0,allowlist_config:{error_title:null,error_detail:null,cta_text:null,cta_link:null},wallet_auth:!0,email_auth:!0,sms_auth:!1,google_oauth:!1,twitter_oauth:!1,discord_oauth:!1,github_oauth:!1,linkedin_oauth:!1,apple_oauth:!1,disable_plus_emails:!1,terms_and_conditions_url:null,privacy_policy_url:null,embedded_wallet_config:{create_on_login:"off",ethereum:{create_on_login:"off"},solana:{create_on_login:"off"},require_user_owned_recovery_on_create:!1,user_owned_recovery_options:["user-passcode"],mode:"user-controlled-server-wallets-only"},captcha_enabled:!1,captcha_site_key:"",enforce_wallet_uis:!1,legacy_wallet_ui_config:!1,id:"",name:"",passkeys_for_signup_enabled:!1,whatsapp_enabled:!1};let jT=H.createContext({appConfig:IY(RY,void 0,!1),isServerConfigLoaded:!1});const gOe=({children:t,client:e,legacyClient:n,clientConfig:i,appClientId:f})=>{let[b,s]=H.useState(null),y=H.useMemo((()=>IY(b??RY,i,!!b,typeof window<"u"?window.location.origin:void 0,f)),[b,i,f]);return H.useEffect((()=>{if(!b)return;let r=(function(c){if(!c)return{};let{appearance:u,supportedChains:l,defaultChain:a,externalWallets:d,...p}=c;return{...p,...l?{supportedChains:l.map((h=>h.id))}:void 0,...a?{defaultChain:a.id}:void 0,...d?{walletConnect:d.walletConnect?{enabled:d.walletConnect.enabled}:void 0,coinbaseWallet:d.coinbaseWallet,solana:{connectors:d.solana?.connectors?.get().map((h=>h.walletClientType))}}:void 0}})(i),o=(function(c,u=0){let l=3735928559^u,a=1103547991^u;for(let d,p=0;p<c.length;p++)l=Math.imul(l^(d=c.charCodeAt(p)),2654435761),a=Math.imul(a^d,1597334677);return l=Math.imul(l^l>>>16,2246822507)^Math.imul(a^a>>>13,3266489909),4294967296*(2097151&(a=Math.imul(a^a>>>16,2246822507)^Math.imul(l^l>>>13,3266489909)))+(l>>>0)})(JSON.stringify(r)).toString(),v=`privy:sent:${b.id}:${o}`;localStorage.getItem(v)||(n.createAnalyticsEvent({eventName:"sdk_initialize",payload:r}),localStorage.setItem(v,"t"))}),[i,b]),H.useEffect((()=>{b||(async()=>{try{await e.initialize();let r=e.app.getConfig();r.custom_api_url&&n.updateApiUrl(r.custom_api_url),s(r)}catch(r){console.warn("Error generating app config: ",r)}})()}),[]),O.jsx(jT.Provider,{value:{appConfig:y,isServerConfigLoaded:!!b},children:t})},it=()=>{let{appConfig:t}=H.useContext(jT);return t},MY=()=>{let{isServerConfigLoaded:t}=H.useContext(jT);return t},mOe=({style:t,...e})=>{let n=it();return O.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[O.jsx("rect",{width:"28",height:"28",rx:"3",fill:n?.appearance.palette.colorScheme==="dark"?"#3396ff":"#141414"}),O.jsx("g",{clipPath:"url(#clip0_1765_9946)",children:O.jsx("path",{d:"M8.09448 10.3941C11.3558 7.20196 16.6442 7.20196 19.9055 10.3941L20.2982 10.7782C20.3369 10.8157 20.3677 10.8606 20.3887 10.9102C20.4097 10.9599 20.4206 11.0132 20.4206 11.0671C20.4206 11.121 20.4097 11.1744 20.3887 11.224C20.3677 11.2737 20.3369 11.3186 20.2982 11.3561L18.9554 12.6702C18.9158 12.7086 18.8628 12.7301 18.8077 12.7301C18.7526 12.7301 18.6996 12.7086 18.66 12.6702L18.1198 12.1415C15.8448 9.91503 12.1557 9.91503 9.88015 12.1415L9.30167 12.7075C9.26207 12.7459 9.20909 12.7673 9.15395 12.7673C9.0988 12.7673 9.04582 12.7459 9.00622 12.7075L7.66346 11.3934C7.62475 11.3559 7.59397 11.3109 7.57295 11.2613C7.55193 11.2117 7.5411 11.1583 7.5411 11.1044C7.5411 11.0505 7.55193 10.9971 7.57295 10.9475C7.59397 10.8979 7.62475 10.8529 7.66346 10.8154L8.09448 10.3941ZM22.6829 13.1115L23.8776 14.2814C23.9163 14.319 23.9471 14.3639 23.9681 14.4135C23.9892 14.4632 24 14.5165 24 14.5704C24 14.6243 23.9892 14.6777 23.9681 14.7273C23.9471 14.777 23.9163 14.8219 23.8776 14.8594L18.4893 20.1332C18.4102 20.2101 18.3042 20.2531 18.1938 20.2531C18.0835 20.2531 17.9775 20.2101 17.8984 20.1332L14.0743 16.3901C14.0545 16.3708 14.0279 16.36 14.0003 16.36C13.9726 16.36 13.9461 16.3708 13.9263 16.3901L10.1021 20.1332C10.023 20.2101 9.91703 20.2531 9.8067 20.2531C9.69636 20.2531 9.59038 20.2101 9.51124 20.1332L4.12236 14.8594C4.08365 14.8219 4.05287 14.777 4.03185 14.7273C4.01083 14.6777 4 14.6243 4 14.5704C4 14.5165 4.01083 14.4632 4.03185 14.4135C4.05287 14.3639 4.08365 14.319 4.12236 14.2814L5.31767 13.1115C5.39678 13.0348 5.50265 12.9919 5.61285 12.9919C5.72305 12.9919 5.82892 13.0348 5.90803 13.1115L9.73216 16.8546C9.75194 16.874 9.7785 16.8848 9.80616 16.8848C9.83381 16.8848 9.86037 16.874 9.88015 16.8546L13.7043 13.1115C13.7834 13.0346 13.8894 12.9916 13.9997 12.9916C14.1101 12.9916 14.216 13.0346 14.2952 13.1115L18.1198 16.8546C18.1396 16.874 18.1662 16.8848 18.1938 16.8848C18.2215 16.8848 18.2481 16.874 18.2678 16.8546L22.092 13.1115C22.1711 13.0346 22.2771 12.9916 22.3874 12.9916C22.4977 12.9916 22.6037 13.0346 22.6829 13.1115Z",fill:"white"})}),O.jsx("defs",{children:O.jsx("clipPath",{id:"clip0_1765_9946",children:O.jsx("rect",{width:"20",height:"12.2531",fill:"white",transform:"translate(4 8)"})})})]})},OY="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAHdElNRQfoDAIVODUC+w+GAAAGsUlEQVRYw6WXbYwWVxXHf+fOLAtCXYS2QJdIaClipGCTknXXNqBQMVHbfmhItH4Aral+IAEaG03UxJgYKQJGTUxtDWjaxDSNtcZqIGDwpRuW1oYiVqpdpZSlpC3qysu+PHPP3w/3mXnmeXZbPzjJZO7cefn/z/mfe865xlscq3dGDIguGiHLaMQVLja4s87FShcLo5jtApdddnHexUmHIy475JmdUkPRAQMu7gzT4ljnxJpdk0QPmMFkyAKN2OfOFpc2uuh1J3MZDrjAvXmVEQUuoosRxw642FcEG7IoDxiFxNiu8NYE+vcUYIFYRKKs113bXWx2Z34CoQZsVHOiCZ7mopdzdsFhv8NexEgRDHMxUSNREbh1bwNZwBsFblmfu/a4a6AEENYO5i3AOoEWeEUCF4MOOxBDMQAOk99OJALA2u80sBCwWGBZWG/yRwMaCAbBIAsQTJT3gea1OWfNeaPzvjoHEI85rA8ObtB1v7cIdJkIHgkh9AXpocy0LJjIKvB2wPpZB0v3wkrw5jdNEjeYeMhFX3BAyfn2ke9NUrgB9LrrcZcGJFCld4fWNddXbvbWfWzGR6xJFZsBGh0cBh3bBIxIEGTQ3W0h4NuDaSAzyAxCmGq11Vzf5uaa1aG8p+WFtrEYQGwvjICJkAEqvC+YNmcmMlMNvEaCdrcbyUvQAWDTjVuESHObM6cPGWHmzDwLaEtmzG9Z3qF1zUpXmuuZBb1z4bqeNC6f0WE1NtUTwHzEloiy3BvFisy0sYoLlQtT6XW15md2Qf9SY+2Ngfdca/TMSm/9ewz+/Boc/It45h/i4kSTsKw90SQJsPTvjSZbkWemDW7qTRZ0JEYJWSKxZJ7xmf6M224MzMzbX1s8F1YugjtvMg6eErt/4/z1jUrz1rXUKxnZC2zIg2mdBTK1mFUOKC1fOt/48kdzVixIz86Nij+eEacvpJWyZJ5xy7th8VzjjpuMJfMCW58QL73ekXPVlhsyE+vyzFiplJyauEIyrGIquruMq7qTxk+dcB495rzyTzFepCUWLIFv/kBg081Gd55WUk1IDGFTS89K++TDYxddzKnWcbluHd450xgdh7EGrOo1rr868PMTzqWJRGZ2d8oB/xpL33Xnxl2rjeNn4blXRXduzJ4B5y+28kWscAwXl+yeR654FFZPHoUb710YuPeDOUdPO48di1xptKpeEeHqOcYXNwQKGd88EDk3mqxtxPSfGRlsXRtYt8z4ytPOH/7eqpg1Aso7fYKgK4NPrMpYvsC4/poMA34yVJIQC3sCD9yecdsNyaV5yPj6ryJnR1PAvSNP4J+/1cgDfLbfePaMGGtM7Qdyl12WmKOmXgKKAp54vmBRTxfLrjE+tSYjBPjRM5FrrzIeuD2jf2lLzw8vN4JlfPVp581LsO1DgXv7jSzAiXPw/d+JiYLpjsu26Yfjf5O0rF5WoxsNT9G/bX0XKxakmPjlSee6HlizJJXSX7/oRDc+vjKR+f2wODcKd78/gR8/C9uedF44myJxmhh4OY/ipMQyqaWxmjn95TfEroMFOzbkvG+RceeqViPx1Aln1yEnOow1AnffHCpJAJ5/Vex4UvzptZRdY/O/1dJIS/NkcNmR6MTYah6qzseA4TfFtw4UvHBW1bc/O+7sPhwZHYf/jMODh5yfPudVbXj2TAJ/8XxrOZagNamj4Ei2/GNfuyRxh8t6BG2l15up+MIVODEiFr8rcPS0+O6RBF6mrrEGHHtFzOo2Lo7Dl37hvPQ6mNV6R9JYKgnYWcE37K5HlE2OT/5A0udaPUBHH+BQOMzuNsYLuDyZflTW+fTcmJFDHhJhaZqewMuewXDxcDR9IYyPN6Jj+6K4MF2vV8qBtZJScqVRNi6lpGONVJis5mpKi1WbgwsY+zIsBpcR8mzIZfuTRVZrtdu9odrptR/Xx5XONXJqBmCN0P6YMUQq9WJiwt0Je102WHdbpxSqydMObBWYdwDWLVcqcIMYe3NPjg0Ht84od0Ajju1w2XCr9e6QoqM9V23ZtnmI6cfAMMb9AY0YEHdb6oobEh4y3H3Ize6LsmGvN5IdUnhttdQ9UVrfLk/ljWEZ9wXsqAdQk1EA+O22GcgdZTke/bAs3OPY4HSdcB20HhvVtTMu0jmI8ekAhz2IICj2hKpNqI60NcuIRUHEej1quzubXa2tmZhenrfZmv3YYQ9ipDAIgvHptmblccuDjdRcmjFpWbDi/9ycZjZkRbk5jYztai/AUwiUx+qdEQB/m+25i9lxyvbcjrg45Lmd0uT/3p7/Fw6ODf+WO019AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDI0LTEyLTAyVDIxOjU2OjQ4KzAwOjAwMVpslgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyNC0xMi0wMlQyMTo1Njo0OCswMDowMEAH1CoAAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjQtMTItMDJUMjE6NTY6NTMrMDA6MDDZv6GRAAAAAElFTkSuQmCC";class Zf extends oh{async initialize(){let e=await this.createProvider();this.provider=e,this.proxyProvider.setWalletProvider(e),this.subscribeListeners(),e.session&&(this.walletProvider?.session?.peer.metadata.url&&(this.walletEntry=I6(this.walletProvider?.session?.peer.metadata.url),this.walletClientType=this.walletEntry?.slug||"unknown"),this.connected=!0,await this.syncAccounts()),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),this.getConnectedWallet()}async isConnected(){return!!this.walletProvider?.connected}get walletBranding(){let e=this.walletProvider?.session?.peer.metadata.icons?.[0];return{name:rOe(this.walletProvider?.session?.peer.metadata.name||"")||"WalletConnect",icon:typeof e=="string"?e:OY,id:this.walletProvider?.session?.peer.metadata.name.toLowerCase()||"wallet_connect_v2"}}async resetConnection(e){this.walletProvider&&this.walletProvider.connected&&(await this.walletProvider.disconnect(),this.walletProvider.signer.session=void 0,this.walletClientType=e,this.redirectUri=void 0,this.fallbackUniversalRedirectUri=void 0,(function(){try{localStorage.removeItem(E6)}catch{}})(),this.onDisconnect())}async promptConnection(){if(this.provider)return new Promise(((e,n)=>{(async()=>{let i="",f=await Promise.race([this.walletProvider?.enable(),this.proxyProvider.walletTimeout()]);if(f?.length&&(i=f[0]),!i||i==="")throw new On("Unable to retrieve address");this.walletProvider?.session?.peer.metadata.url&&(this.walletEntry=I6(this.walletProvider?.session?.peer.metadata.url),this.walletClientType=this.walletEntry?.slug||"unknown",this.proxyProvider.rpcTimeoutDuration=DT(this.rpcConfig,this.walletClientType)),this.connected=!0,await this.syncAccounts(f),e()})().catch((i=>{n(i?mc(i):new On("Unknown error during connection"))}))}))}disconnect(){this.walletProvider?.disconnect().then((()=>this.onDisconnect())).catch((()=>console.warn("Unable to disconnect WalletConnect provider")))}get walletProvider(){return this.proxyProvider.walletProvider}setWalletProvider(e){this.proxyProvider.setWalletProvider(e)}async createProvider(){let e={};for(let b of this.chains){let s=sOe(b.id,this.chains,this.rpcConfig,this.privyAppId);s&&(e[b.id]=s)}let n=this.shouldEnforceDefaultChainOnConnect?[this.defaultChain.id]:[],i=this.chains.map((b=>b.id)),f=await iAe.init({projectId:this.walletConnectCloudProjectId,chains:n,optionalChains:i,optionalEvents:gV,optionalMethods:vV,rpcMap:e,showQrModal:!1,metadata:{description:this.privyAppName,name:this.privyAppName,url:window.location.origin,icons:[]}});return f.on("display_uri",(b=>{if(f.signer.abortPairingAttempt(),(function(){try{localStorage.removeItem(E6)}catch{}})(),!this.showPrivyQrModal)throw new On("WalletConnect modal not available - Privy handles wallet connections through its own UI");if(tn.isMobile&&this.walletEntry){let{redirect:s,href:y}=(function(o,v){let c=ZH(v);if(c.deepLink)return QH(c.deepLink,o);if(c.universalLink)return OT(c.universalLink,o);throw new ge(`Unsupported wallet ${v.id}`)})(b,this.walletEntry);_H(s,"_self"),(function({href:o,name:v}){try{localStorage.setItem(E6,JSON.stringify({href:o,name:v}))}catch{}})({href:y,name:this.walletEntry.metadata?.shortName||this.walletEntry.name});let r=KL(b,this.walletEntry);return this.redirectUri=s,this.fallbackUniversalRedirectUri=r?.redirect,this.showPrivyQrModal({native:s,universal:s})}if(this.redirectUri=void 0,this.walletEntry){let s=KL(b,this.walletEntry);this.fallbackUniversalRedirectUri=s?.redirect}this.showPrivyQrModal({native:b,universal:void 0})})),f.on("connect",(()=>{f.session?.peer.metadata.url&&(this.walletEntry=I6(f.session?.peer.metadata.url),this.walletClientType=this.walletEntry?.slug||"unknown")})),f}async enableProvider(){return this.walletProvider?.connected?Promise.resolve(this.walletProvider.accounts):await this.walletProvider?.enable()}setWalletEntry(e,n){this.walletEntry=e,this.showPrivyQrModal=n}constructor({walletConnectCloudProjectId:e,rpcConfig:n,chains:i,defaultChain:f,shouldEnforceDefaultChainOnConnect:b,privyAppId:s,privyAppName:y,walletClientType:r}){super(r||"unknown",i,f,n),this.connectorType="wallet_connect_v2",this.privyAppId=s,this.privyAppName=y,this.walletConnectCloudProjectId=e,this.rpcConfig=n,this.shouldEnforceDefaultChainOnConnect=b,this.proxyProvider=new lh(void 0,this.rpcTimeoutDuration),r&&(this.walletEntry=(o=>Mm.getState().listings.find((({slug:v})=>dw(v)===dw(o))))(r),this.walletClientType=r)}}function yOe({src:t,...e}){return O.jsx("img",{src:t,...e,style:{display:"none"}})}const FY=H.createContext({currentScreen:null,lastScreen:null,navigate:Oe,navigateBack:Oe,resetNavigation:Oe,setModalData:Oe,onUserCloseViaDialogOrKeybindRef:void 0}),wOe=t=>{let e=it(),n=t.authenticated,[i,f]=H.useState(t.initialScreen);H.useEffect((()=>{n||!t.initialScreen||t.initialScreen.isUnauthenticatedScreem||t.setInitialScreen(null)}),[n]);let b=H.useRef(null);H.useEffect((()=>{t.open||(b.current=null)}),[t.open]),H.useEffect((()=>{b.current=null}),[t.initialScreen]);let s={data:t.data,setModalData:t.setModalData,currentScreen:t.initialScreen,lastScreen:i,navigate:(y,r=!0)=>{t.setInitialScreen(y),r&&f(t.initialScreen)},navigateBack:()=>{t.setInitialScreen(i)},resetNavigation:()=>{t.setInitialScreen(null),f(null)},onUserCloseViaDialogOrKeybindRef:b};return O.jsxs(FY.Provider,{value:s,children:[(typeof e.appearance.logo=="string"||e.appearance.logo?.type==="img")&&O.jsx(yOe,{src:typeof e.appearance.logo=="string"?e.appearance.logo:e.appearance.logo.props.src}),t.children]})},lt=()=>H.useContext(FY),xOe={login:{onComplete:[],onError:[]},logout:{onSuccess:[]},connectWallet:{onSuccess:[],onError:[]},connectOrCreateWallet:{onSuccess:[],onError:[]},createWallet:{onSuccess:[],onError:[]},linkAccount:{onSuccess:[],onError:[]},update:{onSuccess:[],onError:[]},configureMfa:{onMfaRequired:[]},setWalletPassword:{onSuccess:[],onError:[]},setWalletRecovery:{onSuccess:[],onError:[]},signMessage:{onSuccess:[],onError:[]},signTypedData:{onSuccess:[],onError:[]},sendTransaction:{onSuccess:[],onError:[]},signTransaction:{onSuccess:[],onError:[]},accessToken:{onAccessTokenGranted:[],onAccessTokenRemoved:[]},oAuthAuthorization:{onOAuthTokenGrant:[]},fundWallet:{onUserExited:[]},fundSolanaWallet:{onUserExited:[]},customAuth:{onAuthenticated:[],onUnauthenticated:[]}},$Y=H.createContext(void 0);let LY=()=>H.useContext($Y);function Hx(t,e){if(!e)return;let n=LY().current[t];return H.useEffect((()=>{for(let[i,f]of Object.entries(e))Object.prototype.hasOwnProperty.call(n,i)||console.warn(`Invalid event type "${i}" for action "${t}"`),n[i]?.push(f);return()=>{for(let[i,f]of Object.entries(e))Object.prototype.hasOwnProperty.call(n,i)||console.warn(`Invalid event type "${i}" for action "${t}"`),n[i]=n[i]?.filter((b=>b!==f))}}),[e])}function ke(t,e,n,...i){for(let f of t.current[e][n])f(...i)}function uh(){let t=LY();return(e,n,...i)=>ke(t,e,n,...i)}const wp=ae.div.withConfig({displayName:"Grow",componentId:"sc-681ff332-0"})(["text-align:left;flex-grow:1;"]),bOe=ae.div.withConfig({displayName:"AlignBottom",componentId:"sc-681ff332-1"})(["display:flex;flex-direction:column;justify-content:flex-end;flex-grow:1;"]),jE=ae.div.withConfig({displayName:"LoginMethodContainer",componentId:"sc-681ff332-2"})(["display:flex;flex-direction:column;gap:8px;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]),DY=ae(jE).withConfig({displayName:"LoginMethodContainerWithScrollShadows",componentId:"sc-681ff332-3"})([""," background-repeat:no-repeat;background-size:100% 32px,100% 16px;background-attachment:local,scroll;max-height:400px;overflow-y:auto;scrollbar-width:none;padding:3px;"],(t=>t.$colorScheme==="light"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":t.$colorScheme==="dark"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0));let COe=Dr(["&&{width:100%;font-size:16px;line-height:24px;min-height:56px;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;align-items:center;color:var(--privy-color-foreground);padding:10px 12px;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-md);transition:background-color 200ms ease;cursor:pointer;&:hover{background-color:var(--privy-color-background-2);}&:disabled{cursor:pointer;background-color:var(--privy-color-background-2);}}"]);const EOe=ae.div.withConfig({displayName:"Subtitle",componentId:"sc-681ff332-4"})(["text-align:center;font-size:14px;margin-bottom:24px;"]),Xn=ae.button.attrs({className:"login-method-button"}).withConfig({displayName:"LoginMethodButton",componentId:"sc-681ff332-5"})(["",""],COe),Za=ae.div.withConfig({displayName:"LoginMethodIconWrapper",componentId:"sc-681ff332-7"})(["width:32px;height:32px;border-radius:",";background:",";display:flex;align-items:center;justify-content:center;flex-shrink:0;svg{width:",";height:",";color:",";}"],(t=>t.$fullSize?"0":"4px"),(t=>t.$fullSize?"transparent":"var(--privy-color-background-2)"),(t=>t.$fullSize?"32px":"18px"),(t=>t.$fullSize?"32px":"18px"),(t=>t.$fullSize?"inherit":"var(--privy-color-icon-muted)")),xp=ae.div.withConfig({displayName:"Hide",componentId:"sc-681ff332-8"})(["width:100%;height:100%;min-height:inherit;display:flex;flex-direction:column;",""],(t=>t.$if?"display: none;":"")),SOe=ae.div.withConfig({displayName:"EmptyWalletState",componentId:"sc-681ff332-9"})(["width:100%;height:100%;padding:",";"],(t=>t.$withPadding?"64px 0px":"0px")),TOe=ae.div.withConfig({displayName:"Header",componentId:"sc-681ff332-10"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:32px;gap:12px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]);function AOe(t){return O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 460 40",...t,children:O.jsx("g",{fill:t.color||"var(--privy-color-foreground)",children:O.jsx("path",{d:"M0 15.4v15.38h4.64V19.96h3.58c2.47 0 3.63-.01 3.77-.02 1-.08 1.49-.15 2.18-.3a9.45 9.45 0 0 0 4.6-2.37c1.66-1.57 2.64-3.87 2.81-6.56.02-.3.02-1.19 0-1.49-.1-1.77-.56-3.35-1.36-4.72A8.84 8.84 0 0 0 15.14.57c-.93-.3-1.75-.43-3.09-.54C11.9.02 10.2 0 5.93 0H0ZM10.85 4c1.85.05 3.1.45 4.16 1.3.22.17.54.49.69.68a5.97 5.97 0 0 1 1.19 3.13c.04.35.04 1.36 0 1.71-.08.68-.23 1.3-.44 1.85a4.8 4.8 0 0 1-1.09 1.68A5.63 5.63 0 0 1 12 15.92c-.6.08-.4.08-4.01.09H4.64V3.98h2.9c1.6 0 3.08 0 3.31.02ZM187.65 5.71v5.72h-.27l-.09-.14a15.9 15.9 0 0 0-1.21-1.73c-.43-.5-1-.95-1.7-1.36-.54-.3-1.05-.5-1.73-.63a8.98 8.98 0 0 0-1.7-.17 8.84 8.84 0 0 0-7.8 4.03 12.95 12.95 0 0 0-2.03 6.39c-.07.98-.06 2.15.02 3.13.2 2.47.87 4.53 2.02 6.25a8.98 8.98 0 0 0 10.22 3.65 6.5 6.5 0 0 0 2.8-1.93c.41-.51.84-1.1 1.1-1.55l.1-.17h.37v3.58h4.38V0h-4.48Zm-5.24 5.54c1.3.14 2.3.6 3.17 1.48.9.9 1.5 2.09 1.85 3.64.36 1.6.39 3.72.06 5.43a8.13 8.13 0 0 1-1.54 3.62 5.1 5.1 0 0 1-3.93 1.96 6.13 6.13 0 0 1-2.32-.31 5.87 5.87 0 0 1-3.33-3.5c-.39-1-.62-2.05-.72-3.32-.03-.32-.04-1.35-.02-1.73.08-1.56.4-2.91.96-4.05a6.2 6.2 0 0 1 1.06-1.58 5.08 5.08 0 0 1 3.6-1.66c.25-.02.9 0 1.16.02ZM210.07 15.39l.01 15.38h4.38l.01-3.57h.37l.09.15c.24.44.84 1.26 1.21 1.7a6.79 6.79 0 0 0 2.57 1.75 9.3 9.3 0 0 0 6.86-.49 9.28 9.28 0 0 0 4.05-4.07A13.05 13.05 0 0 0 231 21.6c.21-1.73.18-3.7-.09-5.32a13.03 13.03 0 0 0-1.5-4.3 9.1 9.1 0 0 0-3.75-3.63 9.15 9.15 0 0 0-4.43-.96 7.46 7.46 0 0 0-2.8.5A7.07 7.07 0 0 0 216 9.7c-.4.52-.82 1.12-1.1 1.59l-.07.14h-.27V0h-4.5Zm11.13-4.14c1.07.1 1.94.44 2.7 1.04a6.1 6.1 0 0 1 1.64 1.98c.43.84.78 2 .94 3.11.15 1.16.16 2.4.02 3.54a9.34 9.34 0 0 1-1.39 4.03 5.33 5.33 0 0 1-2.69 2.15c-.9.3-2.04.38-3.06.2a5.14 5.14 0 0 1-3.45-2.37 6.03 6.03 0 0 1-.45-.8c-.5-1.03-.8-2.2-.92-3.58-.04-.49-.06-.89-.05-1.53.01-.76.05-1.23.13-1.85.38-2.53 1.47-4.38 3.15-5.31a5.46 5.46 0 0 1 2.3-.63 10 10 0 0 1 1.13.02ZM69.05 2.17l-.01 2.77V7.7h-3.36v3.6h3.36v6.8l.01 7.15c.06 1.4.4 2.44 1.1 3.37a5.8 5.8 0 0 0 2.97 2.07c.91.3 1.83.42 2.9.38a8.71 8.71 0 0 0 2.66-.48l-.8-3.7-.38.06a4.96 4.96 0 0 1-2.43-.06c-.33-.1-.56-.25-.8-.49-.4-.41-.6-.88-.7-1.67-.02-.2-.02-.62-.03-6.82v-6.6h4.73V7.7h-4.73V2.16h-4.49ZM133.34 2.17V7.7h-3.39v3.6h3.38v6.9l.01 7.17a5.66 5.66 0 0 0 2.36 4.49c.85.6 2.03 1.03 3.26 1.17.85.1 2.03.05 2.81-.1.3-.06.75-.18 1-.26l.2-.06v-.05l-.81-3.67-.37.06a4.99 4.99 0 0 1-1.8.09c-.85-.13-1.32-.4-1.7-.97a2.63 2.63 0 0 1-.39-1.04c-.06-.4-.06 0-.06-7.1V11.3h4.7V7.7h-4.7l-.01-2.77V2.16h-4.49ZM293.41 2.36a14.56 14.56 0 0 0-13.7 16.07 14.59 14.59 0 0 0 21.86 11.08 14.5 14.5 0 0 0 7.11-14.07 14.61 14.61 0 0 0-6.53-10.73 14.49 14.49 0 0 0-8.74-2.35ZM350.8 2.36a10.17 10.17 0 0 0-7.56 4.2c-.16.2-.45.63-.58.83l-.05.1h-.47l-.01-4.36h-7.36v36.4h7.82V27.27h.49l.05.07a11.3 11.3 0 0 0 7.49 4.15 10.52 10.52 0 0 0 9.38-4.1c1.66-2.1 2.73-4.9 3.07-8.06.1-.87.13-1.4.13-2.37 0-.8 0-1.1-.07-1.76a15.95 15.95 0 0 0-3.23-8.72 12.8 12.8 0 0 0-1.85-1.84 10.49 10.49 0 0 0-7.26-2.28Zm-.94 6.05c1.27.15 2.33.65 3.2 1.5.98.96 1.67 2.31 2.03 4 .34 1.57.38 3.68.12 5.39a9.78 9.78 0 0 1-1.04 3.25c-.14.25-.44.69-.6.89a5.35 5.35 0 0 1-4.31 2.07 5.25 5.25 0 0 1-4.41-1.9 7.35 7.35 0 0 1-1.26-2.32 14.09 14.09 0 0 1-.62-4.83c.05-1.98.38-3.53 1.02-4.85a5.63 5.63 0 0 1 2.5-2.65c.66-.34 1.3-.5 2.14-.58.18-.02 1.04 0 1.23.03ZM363.63 3.1l-.01 3.2v3.16h1.43c1.26.01 1.44.02 1.54.04.42.09.66.28.79.62.08.23.08.08.08 2.96a911.57 911.57 0 0 1 .03 10.18v7.54h7.82v-7.4l.01-7.83c.03-.94.11-1.63.27-2.28.46-1.9 1.54-2.93 3.35-3.23.52-.08.2-.08 5-.08h4.4V3.08h-3.1c-3.48 0-3.91.01-4.67.1-1.83.2-3.04.79-3.96 1.88-.5.6-.9 1.32-1.26 2.26l-.06.17h-.46V3.09h-5.6c-4.46 0-5.6 0-5.6.02ZM390.8 16.95V30.8h3.87l3.86-.01V3.09h-7.73ZM400.6 3.1l-.01.4v.38l4.66 13.4 4.69 13.47.02.05h10.3l.03-.05 4.67-13.45 4.67-13.4V3.1h-7.43l-6.7 19.26h-.5l-3.28-9.5-3.31-9.64-.05-.12h-3.88l-3.88.01ZM430.98 3.1c-.01 0-.02.19-.02.4v.39l5.08 14.59c2.8 8.02 5.08 14.6 5.08 14.61.01.02-.22.02-4.8.02h-4.82v6.42h4.95c5.09 0 5.23 0 5.87-.06 3.15-.28 5.29-1.63 6.63-4.15.28-.55.44-.95.87-2.16L459 6.78l1-2.89v-.8h-7.43l-6.69 19.26h-.5l-3.27-9.46-3.31-9.64-.06-.16h-3.88l-3.88.01ZM36.57 7.36c-1.36.1-2.6.6-3.62 1.45a5.65 5.65 0 0 0-1.67 2.42l-.05.13H31V7.7h-4.35v23.08h4.5v-7.3c0-8 0-7.34.08-7.82a4.89 4.89 0 0 1 2.06-3.18c.83-.58 1.74-.89 2.87-.98a11.87 11.87 0 0 1 2.8.25H39v-4.3l-.21-.02c-.61-.07-1.74-.1-2.22-.07ZM51.08 7.41c-2.33.12-4.3.84-5.95 2.16a9.89 9.89 0 0 0-2.03 2.2 12.5 12.5 0 0 0-2 5.78 18.04 18.04 0 0 0 0 3.65 12.13 12.13 0 0 0 2.26 6.05 9.74 9.74 0 0 0 5 3.52c2.11.64 4.7.64 6.8 0a9.78 9.78 0 0 0 4.88-3.37c1.38-1.78 2.19-4 2.4-6.58.13-1.46.06-3.06-.18-4.42a11.24 11.24 0 0 0-3.58-6.6 10 10 0 0 0-5.75-2.35c-.56-.06-1.31-.07-1.85-.04Zm1.42 3.78c.88.1 1.62.34 2.28.75a6.13 6.13 0 0 1 1.99 2.15 10.31 10.31 0 0 1 1.2 5c.02 1.23-.12 2.44-.42 3.51a7.14 7.14 0 0 1-1.81 3.32c-.61.6-1.2.98-1.95 1.24a6 6 0 0 1-2 .3 5.7 5.7 0 0 1-2.72-.6 5 5 0 0 1-1.28-.94A7.1 7.1 0 0 1 46 22.73c-.57-1.99-.6-4.46-.08-6.5a7.24 7.24 0 0 1 2.03-3.67 5.13 5.13 0 0 1 3.35-1.4 11 11 0 0 1 1.2.03ZM92.05 7.4c-.96.06-1.56.15-2.3.33a9.62 9.62 0 0 0-6.09 4.66 13.5 13.5 0 0 0-1.71 7c0 .83 0 1.04.06 1.6.16 1.77.58 3.32 1.29 4.7A9.72 9.72 0 0 0 90.28 31c1.84.37 4.08.32 5.85-.13a9.07 9.07 0 0 0 5.02-3.1A7.64 7.64 0 0 0 102.5 25l-2.11-.39-2.11-.38-.08.13a4.72 4.72 0 0 1-2.35 2.55 6.3 6.3 0 0 1-2.23.58c-.29.03-1.13.03-1.44 0a6.35 6.35 0 0 1-3.02-1.04 5.93 5.93 0 0 1-2.02-2.43 8.44 8.44 0 0 1-.72-3.18v-.26h16.38v-.81c0-1.83-.06-2.76-.25-3.87-.2-1.22-.53-2.24-1.05-3.28a8.9 8.9 0 0 0-2.66-3.26 10.1 10.1 0 0 0-5.34-1.94 18.3 18.3 0 0 0-1.46-.03Zm1.3 3.75c1.2.13 2.19.55 3.05 1.3a5.8 5.8 0 0 1 1.78 2.96c.13.51.21 1.17.21 1.66v.15H86.43v-.12c.08-.97.3-1.78.72-2.61.5-1 1.2-1.8 2.14-2.42a5.32 5.32 0 0 1 2.9-.95c.2-.01.97 0 1.17.03ZM116.79 7.41c-2 .1-3.73.65-5.22 1.65a10.7 10.7 0 0 0-4.25 6.06 16.1 16.1 0 0 0-.5 5.8c.2 2.17.84 4.13 1.88 5.76.58.9 1.32 1.73 2.15 2.4a9.37 9.37 0 0 0 3.6 1.8 12.06 12.06 0 0 0 3.92.34 10.2 10.2 0 0 0 3.84-.95 8.31 8.31 0 0 0 4.76-6.75l.01-.04h-4.37l-.05.16a4.87 4.87 0 0 1-4.24 3.75c-.59.07-1.32.06-1.93-.05a5.47 5.47 0 0 1-3.5-2.27c-.56-.75-1-1.73-1.26-2.79a13.8 13.8 0 0 1-.16-5.24 7.77 7.77 0 0 1 2.1-4.3 5.48 5.48 0 0 1 2.15-1.3 6.4 6.4 0 0 1 3.89.1c.59.21 1.03.5 1.5.96a5.32 5.32 0 0 1 1.46 2.5l.04.15h4.37v-.06a8.22 8.22 0 0 0-5.31-6.94 10.98 10.98 0 0 0-4.88-.74ZM156.2 7.41a9.87 9.87 0 0 0-6 2.29 11.02 11.02 0 0 0-3.41 5.43c-.52 1.78-.68 3.9-.48 5.97.17 1.8.63 3.38 1.37 4.8a9.68 9.68 0 0 0 5.91 4.86c1.65.48 3.63.61 5.53.36 3.72-.49 6.55-2.62 7.56-5.69.12-.39.13-.42.1-.43-.02 0-4.13-.75-4.19-.75-.03 0-.04 0-.1.16-.18.42-.45.9-.72 1.22-.16.2-.49.53-.7.7-.67.54-1.5.9-2.43 1.08-.48.08-.83.11-1.41.11-.64 0-1.07-.04-1.6-.15a5.76 5.76 0 0 1-3.93-2.83 8 8 0 0 1-.99-3.79v-.16h16.38v-1.11l-.02-1.43c-.1-2.25-.53-4-1.35-5.59a9.24 9.24 0 0 0-6.18-4.75c-1.04-.26-2.2-.36-3.33-.3Zm1.45 3.74a5.35 5.35 0 0 1 3.66 1.94 6.1 6.1 0 0 1 1.38 4.01v.12h-11.97v-.06c0-.02 0-.14.02-.25a6.6 6.6 0 0 1 2.15-4.32 5.73 5.73 0 0 1 3.5-1.46c.25-.02 1 0 1.26.02ZM233.58 7.82l8.37 23.22a49.22 49.22 0 0 1-.67 1.9 5.36 5.36 0 0 1-1.14 1.8c-.41.4-.82.58-1.48.69-.27.04-1.03.03-1.35 0a8.05 8.05 0 0 1-1.1-.23l-1.08 3.67c0 .02.32.14.66.22.83.21 1.57.29 2.56.28.56-.01.8-.03 1.24-.1 2.71-.4 4.66-2.09 5.86-5.08l9.64-26.44c0-.02-4.82-.06-4.83-.05l-2.93 8.96-2.91 8.94h-.24l-.22-.65-2.91-8.95-2.7-8.3H233.53ZM293.05 35.8c-1.18.04-1.93.09-2.8.16-2.52.24-4.53.69-5.43 1.23-.7.41-.76.86-.2 1.28.88.66 3.29 1.19 6.36 1.4a48.55 48.55 0 0 0 5.75.05c3.47-.19 6.24-.78 7.11-1.5.22-.19.3-.34.3-.53 0-.1 0-.12-.04-.22-.35-.69-2.32-1.3-5.25-1.63a41.09 41.09 0 0 0-5.8-.24Zm0 0"})})})}let rD=ae.span.withConfig({displayName:"TermsAndConditionsContainer",componentId:"sc-ff3bd734-0"})(["margin-top:16px;font-size:13px;text-align:center;color:var(--privy-color-foreground-3);display:block;&& > a{color:var(--privy-color-accent);}"]);function zT({app:{legal:{privacyPolicyUrl:t,termsAndConditionsUrl:e,requireUsersAcceptTerms:n}},alwaysShowImplicitConsent:i}){let f=!(!t||!e);return n&&!i||!e&&!t?O.jsx(rD,{}):O.jsxs(rD,{children:["By logging in I agree to the"," ",e&&O.jsx("a",{href:e,target:"_blank",children:f?"Terms":"Terms of Service"}),f&&" & ",t&&O.jsx("a",{href:t,target:"_blank",children:"Privacy Policy"})]})}const un=({className:t})=>{let{appearance:e}=it();return O.jsx(fr,{className:t,children:e.footerLogo??O.jsx(POe,{href:"https://www.privy.io/",target:"_blank",id:"protected-by-privy",children:O.jsx(AOe,{color:"currentColor",height:13,width:150})})})};let POe=ae.a.withConfig({displayName:"PrivyLink",componentId:"sc-ff3bd734-1"})(["&&{padding:0;color:var(--privy-color-foreground-3);}"]);const fr=ae.div.withConfig({displayName:"ModalFooter",componentId:"sc-ff3bd734-2"})(["display:flex;align-items:center;justify-content:center;padding-top:8px;padding-bottom:12px;gap:8px;font-size:13px;&& a{padding:0.5rem 0;&:hover{text-decoration:none;}}@media all and (display-mode:standalone){padding-bottom:30px;}"]),NY=({success:t,fail:e})=>O.jsxs(IOe,{children:[O.jsx(iD,{children:O.jsx(WT,{className:t?"success":e?"fail":""})}),O.jsx(iD,{children:O.jsx(xa,{className:t?"success":e?"fail":""})})]});let iD=ae.span.withConfig({displayName:"PositionedAbsoluteLoader",componentId:"sc-aba6339d-0"})(["&&{position:absolute;top:0;left:0;z-index:2;}"]),IOe=ae.span.withConfig({displayName:"ConnectionLoaderContainer",componentId:"sc-aba6339d-1"})(["position:relative;width:82px;height:82px;display:inline-block;"]);const xa=ae.span.withConfig({displayName:"Loader",componentId:"sc-aba6339d-2"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;}@keyframes rotation{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}&&&.success{border-color:var(--privy-color-icon-success);border-bottom-color:var(--privy-color-icon-success);}&&&.fail{border-color:var(--privy-color-icon-error);border-bottom-color:var(--privy-color-icon-error);}"],(t=>t.color??"var(--privy-color-icon-subtle)")),WT=ae(xa).withConfig({displayName:"LoaderFaint",componentId:"sc-aba6339d-3"})(["&&{border-bottom-color:",";border-color:",";animation:none;opacity:0.5;}"],(t=>t.color??"var(--privy-color-border-default)"),(t=>t.color??"var(--privy-color-border-default)")),wc=t=>O.jsx(ROe,{color:t.color||"var(--privy-color-foreground-3)"});let ROe=ae(xa).withConfig({displayName:"StyledButtonLoader",componentId:"sc-aba6339d-4"})(["&&{height:1rem;width:1rem;margin:2px 0;border-width:1.5px;transition:border-color 200ms ease;}"]);const Ud=({variant:t="primary",size:e="lg",children:n,success:i,...f})=>{switch(t){case"secondary":return O.jsx(oo,{size:e,...f,children:n});case"error":return O.jsx(oo,{$warn:!0,size:e,...f,children:n});case"muted":return O.jsx(FOe,{size:e,...f,children:n});default:return O.jsx(xn,{size:e,success:i,...f,children:n})}},Yx=ae.button.withConfig({displayName:"BaseButton",componentId:"sc-e537b447-0"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none;&{width:auto;cursor:pointer;border-radius:",";font-size:14px;font-style:normal;font-weight:500;line-height:22px;letter-spacing:-0.016px;}&&{height:",";padding:0 ",";}"],(({$size:t})=>t==="sm"?"6px":"var(--privy-border-radius-sm)"),(({$size:t})=>t==="sm"?"28px":"48px"),(({$size:t})=>t==="sm"?"10px":"16px")),xn=({children:t,loading:e,disabled:n,success:i,size:f="lg",loadingText:b="Loading...",as:s,onClick:y,...r})=>{let o=s==="a",v=!(!e&&!n);return O.jsx(OOe,{as:s,disabled:o?void 0:v,"aria-disabled":o?v:void 0,$success:i,$size:f,onClick:c=>{o&&v?c.preventDefault():y?.(c)},...r,children:e?O.jsxs(O.Fragment,{children:[O.jsx(wc,{}),b?O.jsx("span",{style:{marginLeft:"8px"},children:b}):null]}):t})},hw=({children:t,loading:e,disabled:n,...i})=>O.jsx(MOe,{disabled:n,...i,children:e?O.jsx(wc,{color:"var(--privy-color-foreground-accent)"}):t});let MOe=ae(Yx).withConfig({displayName:"StyledPrimaryButtonWithoutGray",componentId:"sc-e537b447-1"})(["position:relative;&&{background-color:var(--privy-color-accent);color:var(--privy-color-foreground-accent);transition:background-color 200ms ease;}&:hover{background-color:var(--privy-color-accent-dark);}&:active{background-color:var(--privy-color-accent-dark);}&:disabled,&:hover:disabled,&:active:disabled{cursor:not-allowed;color:var(--privy-color-foreground-disabled);background-color:var(--privy-color-accent-dark);}"]),OOe=ae(Yx).withConfig({displayName:"StyledPrimaryButton",componentId:"sc-e537b447-2"})(["position:relative;&&{background-color:",";color:var(--privy-color-foreground-accent);transition:background-color 200ms ease;}&:hover{background-color:",";}&:active{background-color:",";}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;}&:disabled{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],(t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)"),(t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent-dark)"),(t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent-dark)"),(t=>t.disabled&&Dr(["&&&,&&&:hover,&&&:active{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"])));const oo=({children:t,loading:e,disabled:n,size:i="lg",loadingText:f="Loading...",as:b,onClick:s,...y})=>{let r=b==="a",o=!(!e&&!n);return O.jsx($Oe,{as:b,disabled:r?void 0:o,"aria-disabled":r?o:void 0,$size:i,onClick:v=>{r&&o?v.preventDefault():s?.(v)},...y,children:e?O.jsxs(O.Fragment,{children:[O.jsx(wc,{}),f?O.jsx("span",{style:{marginLeft:"8px"},children:f}):null]}):t})},FOe=({children:t,loading:e,disabled:n,size:i="lg",loadingText:f="Loading...",as:b,onClick:s,...y})=>{let r=b==="a",o=!(!e&&!n);return O.jsx(LOe,{as:b,disabled:r?void 0:o,"aria-disabled":r?o:void 0,$size:i,onClick:v=>{r&&o?v.preventDefault():s?.(v)},...y,children:e?O.jsxs(O.Fragment,{children:[O.jsx(wc,{}),f?O.jsx("span",{style:{marginLeft:"8px"},children:f}):null]}):t})};let $Oe=ae(Yx).withConfig({displayName:"StyledSecondaryButton",componentId:"sc-e537b447-3"})(["&&{border-width:1px;border-style:solid;border-color:",";background-color:var(--privy-color-background);color:",";transition:border-color 200ms ease,color 200ms ease,background-color 200ms ease;}&:hover{border-color:",";background-color:",";color:",";}&:active{border-color:",";background-color:",";color:",";}&:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],(t=>t.$warn?"var(--privy-color-border-error)":"var(--privy-color-accent)"),(t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)"),(t=>t.$warn?"var(--privy-color-border-error)":"var(--privy-color-border-interactive-hover)"),(t=>t.$warn?"var(--privy-color-error-light)":"var(--privy-color-info-bg-hover)"),(t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)"),(t=>t.$warn?"var(--privy-color-border-error)":"var(--privy-color-border-interactive)"),(t=>t.$warn?"var(--privy-color-error-bg-hover)":"var(--privy-color-info-bg)"),(t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)"),(t=>t.disabled&&Dr(["&&&,&&&:hover,&&&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"]))),LOe=ae(Yx).withConfig({displayName:"StyledMutedButton",componentId:"sc-e537b447-4"})(["&&{border-width:1px;border-style:solid;border-color:var(--privy-color-border-default);background-color:transparent;color:var(--privy-color-text-muted);transition:border-color 200ms ease,color 200ms ease,background-color 200ms ease;}&:hover{border-color:var(--privy-color-border-default);background-color:var(--privy-color-info-bg-hover);color:var(--privy-color-foreground-2);}&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-info-bg);color:var(--privy-color-foreground-2);}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;}&:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],(t=>t.disabled&&Dr(["&&&,&&&:hover,&&&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"])));const Xx=({children:t,onClick:e,disabled:n,isSubmitting:i,...f})=>O.jsxs(DOe,{$isSubmitting:i,onClick:e,disabled:n,...f,children:[O.jsx("span",{children:t}),O.jsx("span",{children:O.jsx(wc,{})})]});let DOe=ae.button.withConfig({displayName:"StyledEmbeddedButton",componentId:"sc-e537b447-7"})(["&&{color:var(--privy-color-accent);font-size:16px;font-style:normal;font-weight:500;line-height:24px;cursor:pointer;border-radius:0px var(--privy-border-radius-mdlg) var(--privy-border-radius-mdlg) 0px;border:none;transition:color 200ms ease;@media (min-width:441px){font-size:14px;}:hover{color:var(--privy-color-accent-dark);}&& > :first-child{opacity:",";}&& > :last-child{position:absolute;display:flex;top:50%;left:50%;transform:translate3d(-50%,-50%,0);opacity:",";}:disabled,:hover:disabled{color:var(--privy-color-foreground-disabled);cursor:not-allowed;}}"],(t=>t.$isSubmitting?0:1),(t=>t.$isSubmitting?1:0));const NOe=({backFn:t})=>O.jsx("div",{children:O.jsx(GT,{onClick:t,children:O.jsx(c0e,{height:"16px",width:"16px",strokeWidth:2})})}),kOe=({infoFn:t})=>O.jsx("div",{children:O.jsx(UOe,{"aria-label":"info",onClick:t,children:O.jsx(Gf,{height:"22px",width:"22px",strokeWidth:2})})}),BOe=t=>O.jsx("div",{children:O.jsx(GT,{"aria-label":"close modal",onClick:t.onClose,children:O.jsx(v0e,{height:"16px",width:"16px",strokeWidth:2})})}),zt=({backFn:t,infoFn:e,onClose:n,title:i,closeable:f=!0,className:b})=>{let{closePrivyModal:s}=et(),y=it();return O.jsxs(jOe,{className:b,children:[O.jsxs(zOe,{children:[t&&O.jsx(NOe,{backFn:t}),e&&O.jsx(kOe,{infoFn:e})]}),i&&O.jsx(GOe,{id:"privy-dialog-title",children:i}),O.jsx(WOe,{children:!y.render.standalone&&f&&O.jsx(BOe,{onClose:n||(()=>s())})})]})};let GT=ae.button.withConfig({displayName:"StyledButton",componentId:"sc-e033e17a-0"})(["&&{cursor:pointer;display:flex;opacity:0.6;background-color:var(--privy-color-background-2);border-radius:var(--privy-border-radius-full);padding:4px;> svg{margin:auto;color:var(--privy-color-foreground);}:hover{opacity:1;}}"]),UOe=ae(GT).withConfig({displayName:"TransparentStyledButton",componentId:"sc-e033e17a-1"})(["&&{background-color:transparent;}"]),jOe=ae.div.withConfig({displayName:"StyledHeader",componentId:"sc-e033e17a-2"})(["padding:16px 0;display:flex;align-items:center;justify-content:space-between;h2{font-size:16px;line-height:24px;font-weight:600;color:var(--privy-color-foreground);}"]),zOe=ae.div.withConfig({displayName:"LeftActionContainer",componentId:"sc-e033e17a-3"})(["flex:1;align-items:center;display:flex;gap:8px;"]),WOe=ae.div.withConfig({displayName:"RightActionContainer",componentId:"sc-e033e17a-4"})(["flex:1;display:flex;justify-content:flex-end;"]),GOe=ae.div.withConfig({displayName:"TitleContainer",componentId:"sc-e033e17a-5"})(["overflow:hidden;white-space:nowrap;max-width:100%;text-overflow:ellipsis;text-align:center;color:var(--privy-color-foreground-2);"]);const Gp=({size:t,centerIcon:e})=>O.jsx(VOe,{$size:t,children:O.jsxs(HOe,{children:[O.jsx(XOe,{}),O.jsx(KOe,{}),e?O.jsx(YOe,{children:e}):null]})});let VOe=ae.div.withConfig({displayName:"LoadingContainer",componentId:"sc-ebc93df8-0"})(["--spinner-size:",";display:inline-flex;justify-content:center;align-items:center;@media all and (display-mode:standalone){margin-bottom:30px;}"],(t=>t.$size?t.$size:"96px")),HOe=ae.div.withConfig({displayName:"SpinnerContainer",componentId:"sc-ebc93df8-1"})(["position:relative;height:var(--spinner-size);width:var(--spinner-size);opacity:1;animation:fadein 200ms ease;"]),YOe=ae.div.withConfig({displayName:"CenterIconContainer",componentId:"sc-ebc93df8-2"})(["position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center;svg,img{width:calc(var(--spinner-size) * 0.4);height:calc(var(--spinner-size) * 0.4);border-radius:var(--privy-border-radius-full);}"]),XOe=ae.div.withConfig({displayName:"CircleFixed",componentId:"sc-ebc93df8-3"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);&&{border:4px solid var(--privy-color-border-default);border-radius:50%;}"]),KOe=ae.div.withConfig({displayName:"CircleRotate",componentId:"sc-ebc93df8-4"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);animation:spin 1200ms linear infinite;&&{border:4px solid;border-color:var(--privy-color-icon-subtle) transparent transparent transparent;border-radius:50%;}@keyframes spin{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}"]);const ZOe=ae.div.withConfig({displayName:"ScreenRoot",componentId:"sc-cc9e9a32-0"})(["--screen-space:16px;--screen-space-lg:calc(var(--screen-space) * 1.5);position:relative;overflow:hidden;margin:0 calc(-1 * var(--screen-space));height:100%;border-radius:var(--privy-border-radius-lg);"]),JOe=ae.div.withConfig({displayName:"ScreenRootInner",componentId:"sc-cc9e9a32-1"})(["display:flex;flex-direction:column;gap:calc(var(--screen-space) * 1.5);width:100%;background:var(--privy-color-background);padding:0 var(--screen-space-lg) var(--screen-space);height:100%;border-radius:var(--privy-border-radius-lg);"]),QOe=ae.div.withConfig({displayName:"HeaderContainer",componentId:"sc-cc9e9a32-2"})(["position:relative;display:flex;flex-direction:column;"]),_Oe=ae(zt).withConfig({displayName:"StyledModalHeader",componentId:"sc-cc9e9a32-3"})(["margin:0 -8px;"]),qOe=ae.div.withConfig({displayName:"BodyContainer",componentId:"sc-cc9e9a32-4"})(["flex:1 1 auto;display:flex;flex-direction:column;overflow-y:auto;padding:3px;margin:-3px;&::-webkit-scrollbar{display:none;}scrollbar-gutter:stable both-edges;scrollbar-width:none;-ms-overflow-style:none;"," background-repeat:no-repeat;background-size:100% 32px,100% 16px;background-attachment:local,scroll;"],(({$colorScheme:t})=>t==="light"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":t==="dark"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0)),eFe=ae.div.withConfig({displayName:"FooterContainer",componentId:"sc-cc9e9a32-5"})(["display:flex;flex-direction:column;gap:var(--screen-space-lg);"]);let tFe=ae.div.withConfig({displayName:"CenteredHeader",componentId:"sc-cc9e9a32-6"})(["text-align:center;display:flex;flex-direction:column;align-items:center;gap:var(--screen-space);"]),nFe=ae.div.withConfig({displayName:"TitleContainer",componentId:"sc-cc9e9a32-7"})(["display:flex;flex-direction:column;gap:4px;"]),rFe=ae.h3.withConfig({displayName:"HeaderTitle",componentId:"sc-cc9e9a32-8"})(["&&{font-size:20px;line-height:32px;font-weight:500;color:var(--privy-color-foreground);margin:0;}"]),iFe=ae.p.withConfig({displayName:"HeaderSubtitle",componentId:"sc-cc9e9a32-9"})(["&&{margin:0;font-size:16px;font-weight:300;line-height:24px;color:var(--privy-color-foreground);}"]),sD=ae.div.withConfig({displayName:"IconContainer",componentId:"sc-cc9e9a32-10"})(["background:",";border-radius:50%;width:64px;height:64px;display:flex;align-items:center;justify-content:center;"],(({$variant:t})=>{switch(t){case"success":return"var(--privy-color-success-bg, #EAFCEF)";case"warning":return"var(--privy-color-warn, #FEF3C7)";case"error":return"var(--privy-color-error-bg, #FEE2E2)";case"loading":case"logo":return"transparent";default:return"var(--privy-color-background-2)"}})),sFe=ae.div.withConfig({displayName:"LogoContainer",componentId:"sc-cc9e9a32-11"})(["display:flex;align-items:center;justify-content:center;margin-bottom:var(--screen-space);img,svg{max-height:90px;max-width:180px;}"]),aFe=ae.div.withConfig({displayName:"LoadingWithIconContainer",componentId:"sc-cc9e9a32-12"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > :first-child{position:relative;}> div > :last-child{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);}"]);const mn=({children:t,...e})=>O.jsx(ZOe,{children:O.jsx(JOe,{...e,children:t})});let oFe=ae.div.withConfig({displayName:"ProgressBarContainer",componentId:"sc-cc9e9a32-13"})(["position:absolute;top:0;left:calc(-1 * var(--screen-space-lg));width:calc(100% + calc(var(--screen-space-lg) * 2));height:4px;background:var(--privy-color-background-2);border-top-left-radius:inherit;border-top-right-radius:inherit;overflow:hidden;"]),lFe=ae(un).withConfig({displayName:"StyledBlobbyFooter",componentId:"sc-cc9e9a32-14"})(["padding:0;&& a{padding:0;color:var(--privy-color-foreground-3);}"]),uFe=ae.div.withConfig({displayName:"ProgressBarFill",componentId:"sc-cc9e9a32-15"})(["height:100%;width:","%;background:var(--privy-color-foreground-3);border-radius:2px;transition:width 300ms ease-in-out;"],(({pct:t})=>t)),cFe=({step:t})=>t?O.jsx(oFe,{children:O.jsx(uFe,{pct:Math.min(100,t.current/t.total*100)})}):null;mn.Header=({title:t,subtitle:e,icon:n,iconVariant:i,iconLoadingStatus:f,showBack:b,onBack:s,showInfo:y,onInfo:r,showClose:o,onClose:v,step:c,...u})=>O.jsxs(QOe,{...u,children:[O.jsx(_Oe,{backFn:b?s:void 0,infoFn:y?r:void 0,onClose:o?v:void 0,closeable:o}),(n||i||t||e)&&O.jsxs(tFe,{children:[n||i?O.jsx(mn.Icon,{icon:n,variant:i,loadingStatus:f}):null,O.jsxs(nFe,{children:[t&&O.jsx(rFe,{children:t}),e&&O.jsx(iFe,{children:e})]})]}),c&&O.jsx(cFe,{step:c})]}),mn.Body=Ze.forwardRef((({children:t,...e},n)=>O.jsx(qOe,{ref:n,...e,children:t}))),mn.Body.displayName="Screen.Body",mn.Footer=({children:t,...e})=>O.jsx(eFe,{...e,children:t}),mn.Actions=({children:t,...e})=>O.jsx(dFe,{...e,children:t}),mn.HelpText=({children:t,...e})=>O.jsx(hFe,{...e,children:t}),mn.Watermark=()=>O.jsx(lFe,{}),mn.Icon=({icon:t,variant:e="subtle",loadingStatus:n})=>e==="logo"&&t?O.jsx(sFe,typeof t=="string"?{children:O.jsx("img",{src:t,alt:""})}:Ze.isValidElement(t)?{children:t}:{children:Ze.createElement(t)}):e==="loading"?t?O.jsx(aFe,{children:O.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[O.jsx(NY,{success:n?.success,fail:n?.fail}),typeof t=="string"?O.jsx("span",{style:{background:`url('${t}') 0 0 / contain`,height:"38px",width:"38px",borderRadius:"6px",margin:"auto",backgroundSize:"contain"}}):Ze.isValidElement(t)?Ze.cloneElement(t,{style:{width:"38px",height:"38px"}}):Ze.createElement(t,{style:{width:"38px",height:"38px"}})]})}):O.jsx(sD,{$variant:e,children:O.jsx(Gp,{size:"64px"})}):O.jsx(sD,{$variant:e,children:t&&(typeof t=="string"?O.jsx("img",{src:t,alt:"",style:{width:"32px",height:"32px",borderRadius:"6px"}}):Ze.isValidElement(t)?t:Ze.createElement(t,{width:32,height:32,stroke:(()=>{switch(e){case"success":return"var(--privy-color-icon-success)";case"warning":return"var(--privy-color-icon-warning)";case"error":return"var(--privy-color-icon-error)";default:return"var(--privy-color-icon-muted)"}})(),strokeWidth:2}))});let dFe=ae.div.withConfig({displayName:"ActionsContainer",componentId:"sc-cc9e9a32-16"})(["width:100%;display:flex;flex-direction:column;gap:calc(var(--screen-space) / 2);"]),hFe=ae.p.withConfig({displayName:"HelpTextContainer",componentId:"sc-cc9e9a32-17"})(["&&{margin:0;width:100%;text-align:center;color:var(--privy-color-foreground-3);font-size:14px;line-height:22px;& a{color:var(--privy-color-accent);}}"]);const Yt=({primaryCta:t,secondaryCta:e,helpText:n,watermark:i=!0,children:f,...b})=>{let s=t||e?O.jsxs(O.Fragment,{children:[t&&(()=>{let{label:y,...r}=t,o=r.variant||"primary";return O.jsx(Ud,{...r,variant:o,style:{width:"100%",...r.style},children:y})})(),e&&(()=>{let{label:y,...r}=e,o=r.variant||"secondary";return O.jsx(Ud,{...r,variant:o,style:{width:"100%",...r.style},children:y})})()]}):null;return O.jsxs(mn,{id:b.id,className:b.className,children:[O.jsx(mn.Header,{...b}),f?O.jsx(mn.Body,{children:f}):null,n||s||i?O.jsxs(mn.Footer,{children:[n?O.jsx(mn.HelpText,{children:n}):null,s?O.jsx(mn.Actions,{children:s}):null,i?O.jsx(mn.Watermark,{}):null]}):null]})},M6=({label:t,children:e,valueStyles:n})=>O.jsxs(fFe,{children:[O.jsx("div",{children:t}),O.jsx(pFe,{style:{...n},children:e})]});let fFe=ae.div.withConfig({displayName:"StyledDetailsRow",componentId:"sc-4ebfdd45-0"})(["display:flex;align-items:center;justify-content:space-between;width:100%;> :first-child{color:var(--privy-color-foreground-3);text-align:left;}> :last-child{color:var(--privy-color-foreground-2);text-align:right;}"]),pFe=ae.div.withConfig({displayName:"ValueWrapper",componentId:"sc-4ebfdd45-1"})(["font-size:14px;line-height:100%;display:flex;align-items:center;justify-content:center;border-radius:var(--privy-border-radius-full);background-color:var(--privy-color-background-2);padding:4px 8px;"]),vFe=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2}),kY=t=>vFe.format(t);const BY=(t,e)=>{let n=kY(e*parseFloat(t));return n!=="$0.00"?n:"<$0.01"},wd=(t,e)=>{let n=kY(e*parseFloat(Yd(t)));return n==="$0.00"?"<$0.01":n},Ja=(t,e,n=6,i=!1)=>`${UY(t,n,i)} ${e}`,UY=(t,e=6,n=!1)=>{let i=parseFloat(Yd(t)).toFixed(e).replace(/0+$/,"").replace(/\.$/,"");return n?i:`${i==="0"?"<0.001":i}`},VT=t=>t.reduce(((e,n)=>e+n),0n),gFe=(t,e)=>{let{chains:n}=et(),i=`https://etherscan.io/address/${e}`,f=`${((b,s)=>{let y=Number(b),r=s.find((o=>o.id===y));if(!r)throw new On(`Unsupported chainId ${b}`,4901);return r.blockExplorers?.default.url})(t,n)}/address/${e}`;if(!f)return i;try{new URL(f)}catch{return i}return f},mFe=1e9,yFe={"solana:mainnet":{EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v:{symbol:"USDC",decimals:6,address:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"},Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB:{symbol:"USDT",decimals:6,address:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"},So11111111111111111111111111111111111111112:{symbol:"SOL",decimals:9,address:"So11111111111111111111111111111111111111112"}},"solana:devnet":{"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU":{symbol:"USDC",decimals:6,address:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU"},EJwZgeZrdC8TXTQbQBoL6bfuAnFUUy1PVCMB4DYPzVaS:{symbol:"USDT",decimals:6,address:"EJwZgeZrdC8TXTQbQBoL6bfuAnFUUy1PVCMB4DYPzVaS"},So11111111111111111111111111111111111111112:{symbol:"SOL",decimals:9,address:"So11111111111111111111111111111111111111112"}},"solana:testnet":{}};function O6(t,e){let n=parseFloat(t.toString())/mFe,i=wFe.format(e*n);return i==="$0.00"?"<$0.01":i}let wFe=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2});function a2(t,e=6,n=!1,i=!1){let f=(parseFloat(t.toString())/1e9).toFixed(e).replace(/0+$/,"").replace(/\.$/,""),b=i?"":" SOL";return n?`${f}${b}`:`${f==="0"?"<0.001":f}${b}`}const xFe=({weiQuantities:t,tokenPrice:e,tokenSymbol:n})=>{let i=VT(t),f=e?wd(i,e):void 0,b=Ja(i,n);return O.jsx(zY,{children:f||b})},jY=({weiQuantities:t,tokenPrice:e,tokenSymbol:n})=>{let i=VT(t),f=e?wd(i,e):void 0,b=Ja(i,n);return O.jsx(zY,{children:f?O.jsxs(O.Fragment,{children:[O.jsx(bFe,{children:"USD"}),f==="<$0.01"?O.jsxs(EFe,{children:[O.jsx(CFe,{children:"<"}),"$0.01"]}):f]}):b})};let zY=ae.span.withConfig({displayName:"StyledPriceDisplay",componentId:"sc-3cd56c8a-0"})(["font-size:14px;line-height:140%;display:flex;gap:4px;align-items:center;"]),bFe=ae.span.withConfig({displayName:"StyledPriceUnit",componentId:"sc-3cd56c8a-1"})(["font-size:12px;line-height:12px;color:var(--privy-color-foreground-3);"]),CFe=ae.span.withConfig({displayName:"TinyLessThan",componentId:"sc-3cd56c8a-2"})(["font-size:10px;"]),EFe=ae.span.withConfig({displayName:"FlexCenter",componentId:"sc-3cd56c8a-3"})(["display:flex;align-items:center;"]);const WY=ae.div.withConfig({displayName:"BottomPusherContainer",componentId:"sc-cb963810-0"})(["display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-end;margin-top:auto;gap:16px;flex-grow:100;"]),GY=ae.div.withConfig({displayName:"CenteredItem",componentId:"sc-cb963810-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;flex-grow:1;width:100%;"]),SFe=ae.div.withConfig({displayName:"HorizontallyCenteredItem",componentId:"sc-cb963810-2"})(["display:flex;flex-direction:column;align-items:center;width:100%;"]),TFe=ae(GY).withConfig({displayName:"CenteredItemWithPadding",componentId:"sc-cb963810-3"})(["padding:20px 0;"]),Kx=ae(GY).withConfig({displayName:"CenteredItemWithGap",componentId:"sc-cb963810-4"})(["gap:16px;"]),Zx=ae.div.withConfig({displayName:"FlexContainer",componentId:"sc-cb963810-5"})(["display:flex;flex-direction:column;width:100%;"]),HT=ae.div.withConfig({displayName:"FixedGappedContainer",componentId:"sc-cb963810-6"})(["display:flex;flex-direction:column;gap:8px;"]),AFe=ae.div.withConfig({displayName:"StyledCalloutSection",componentId:"sc-cb963810-8"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;padding:16px;margin-top:16px;margin-bottom:16px;width:100%;background:var(--privy-color-background-2);border-radius:var(--privy-border-radius-md);&& h4{color:var(--privy-color-foreground-3);font-size:14px;text-decoration:underline;font-weight:medium;}&& p{color:var(--privy-color-foreground-3);font-size:14px;}"]),cl=ae.div.withConfig({displayName:"RefactorSpacerTop",componentId:"sc-cb963810-9"})(["height:16px;"]),go=ae.div.withConfig({displayName:"RefactorSpacerBottom",componentId:"sc-cb963810-10"})(["height:12px;"]),PFe=ae.div.withConfig({displayName:"ConfigurableSpacer",componentId:"sc-cb963810-12"})(["height:","px;"],(t=>t.height??"12")),IFe=({gas:t,tokenPrice:e,tokenSymbol:n})=>O.jsxs(Zx,{style:{paddingBottom:"12px"},children:[O.jsxs(VY,{children:[O.jsx(YY,{children:"Est. Fees"}),O.jsx("div",{children:O.jsx(jY,{weiQuantities:[BigInt(t)],tokenPrice:e,tokenSymbol:n})})]}),e&&O.jsx(HY,{children:`${Ja(BigInt(t),n)}`})]}),RFe=({value:t,gas:e,tokenPrice:n,tokenSymbol:i})=>{let f=BigInt(t??0)+BigInt(e);return O.jsxs(Zx,{children:[O.jsxs(VY,{children:[O.jsx(YY,{children:"Total (including fees)"}),O.jsx("div",{children:O.jsx(jY,{weiQuantities:[BigInt(t||0),BigInt(e)],tokenPrice:n,tokenSymbol:i})})]}),n&&O.jsx(HY,{children:Ja(f,i)})]})};let VY=ae.div.withConfig({displayName:"TransactionTotalRow",componentId:"sc-f8ef9b74-0"})(["display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding-top:4px;"]),HY=ae.div.withConfig({displayName:"ValueConversionRow",componentId:"sc-f8ef9b74-1"})(["display:flex;flex-direction:row;height:12px;font-size:12px;line-height:12px;color:var(--privy-color-foreground-3);font-weight:400;"]),YY=ae.div.withConfig({displayName:"TotalText",componentId:"sc-f8ef9b74-2"})(["font-size:14px;line-height:22.4px;font-weight:400;"]);const Om=H.createContext(void 0),Jx=H.createContext(void 0),MFe=({defaultValue:t,children:e})=>{let[n,i]=H.useState(t||null);return O.jsx(Om.Provider,{value:{activePanel:n,togglePanel:f=>{i(n===f?null:f)}},children:O.jsx(DFe,{children:e})})},OFe=({value:t,children:e})=>{let{activePanel:n,togglePanel:i}=H.useContext(Om),f=n===t;return O.jsx(Jx.Provider,{value:{onToggle:()=>i(t),value:t},children:O.jsx(UFe,{isActive:f?"true":"false","data-open":String(f),children:e})})},FFe=({children:t})=>{let{activePanel:e}=H.useContext(Om),{onToggle:n,value:i}=H.useContext(Jx),f=e===i;return O.jsxs(O.Fragment,{children:[O.jsxs(NFe,{onClick:n,"data-open":String(f),children:[O.jsx(BFe,{children:t}),O.jsx(zFe,{isactive:f?"true":"false",children:O.jsx(LS,{height:"16px",width:"16px",strokeWidth:"2"})})]}),O.jsx(kFe,{})]})},$Fe=({children:t})=>{let{activePanel:e}=H.useContext(Om),{value:n}=H.useContext(Jx);return O.jsx(jFe,{"data-open":String(e===n),children:O.jsx(XY,{children:t})})},LFe=({children:t})=>{let{activePanel:e}=H.useContext(Om),{value:n}=H.useContext(Jx);return O.jsx(XY,{children:typeof t=="function"?t({isActive:e===n}):t})};let DFe=ae.div.withConfig({displayName:"AccordionRoot",componentId:"sc-d25f9267-0"})(["display:flex;flex-direction:column;width:100%;gap:8px;"]),NFe=ae.div.withConfig({displayName:"AccordionTriggerContainer",componentId:"sc-d25f9267-1"})(["display:flex;justify-content:space-between;align-items:center;width:100%;cursor:pointer;padding-bottom:8px;"]),kFe=ae.div.withConfig({displayName:"AccordionDivider",componentId:"sc-d25f9267-2"})(["width:100%;&&{border-top:1px solid;border-color:var(--privy-color-foreground-4);}padding-bottom:12px;"]),BFe=ae.div.withConfig({displayName:"AccordionTriggerContent",componentId:"sc-d25f9267-3"})(["font-size:14px;font-weight:500;line-height:19.6px;width:100%;padding-right:8px;"]),UFe=ae.div.withConfig({displayName:"AccordionPanelContainer",componentId:"sc-d25f9267-4"})(["display:flex;flex-direction:column;width:100%;overflow:hidden;padding:12px;&&{border:1px solid;border-color:var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);}"]),jFe=ae.div.withConfig({displayName:"AccordionContentContainer",componentId:"sc-d25f9267-5"})(["position:relative;overflow:hidden;transition:max-height 25ms ease-out;&[data-open='true']{max-height:700px;}&[data-open='false']{max-height:0;}"]),XY=ae.div.withConfig({displayName:"ContentWrapper",componentId:"sc-d25f9267-6"})(["display:flex;flex-direction:column;gap:12px;flex:1 1 auto;min-height:1px;"]),zFe=ae.div.withConfig({displayName:"IconWrapper",componentId:"sc-d25f9267-7"})(["transform:",";"],(t=>t.isactive==="true"?"rotate(180deg)":"rotate(0deg)"));function WFe(t,e){return`https://explorer.solana.com/account/${t}?chain=${e}`}const aD=t=>O.jsx(GFe,{href:t.chainType==="ethereum"?gFe(t.chainId,t.walletAddress):WFe(t.walletAddress,t.chainId),target:"_blank",children:Oi(t.walletAddress)});let GFe=ae.a.withConfig({displayName:"StyledLink",componentId:"sc-dd6c0f9f-0"})(["&:hover{text-decoration:underline;}"]);const KY=({from:t,to:e,txn:n,transactionInfo:i,tokenPrice:f,gas:b,tokenSymbol:s})=>{let y=BigInt(n?.value||0);return O.jsx(MFe,{...it().render.standalone?{defaultValue:"details"}:{},children:O.jsxs(OFe,{value:"details",children:[O.jsx(FFe,{children:O.jsxs(VFe,{children:[O.jsx("div",{children:i?.title||"Details"}),O.jsx(HFe,{children:O.jsx(xFe,{weiQuantities:[y],tokenPrice:f,tokenSymbol:s})})]})}),O.jsxs($Fe,{children:[O.jsx(M6,{label:"From",children:O.jsx(aD,{walletAddress:t,chainId:n.chainId||1,chainType:"ethereum"})}),O.jsx(M6,{label:"To",children:O.jsx(aD,{walletAddress:e,chainId:n.chainId||1,chainType:"ethereum"})}),i&&i.action&&O.jsx(M6,{label:"Action",children:i.action}),b&&O.jsx(IFe,{value:n.value,gas:b,tokenPrice:f,tokenSymbol:s})]}),O.jsx(LFe,{children:({isActive:r})=>O.jsx(RFe,{value:n.value,displayFee:r,gas:b||"0x0",tokenPrice:f,tokenSymbol:s})})]})})};let VFe=ae.div.withConfig({displayName:"AccordionTriggerContent",componentId:"sc-2eff9f5c-0"})(["display:flex;flex-direction:row;justify-content:space-between;"]),HFe=ae.div.withConfig({displayName:"TotalText",componentId:"sc-2eff9f5c-1"})(["flex-shrink:0;padding-left:8px;"]);const YFe=({enabled:t=!0}={})=>{let{showFiatPrices:e,getUsdPriceForSol:n}=et(),[i,f]=H.useState(!0),[b,s]=H.useState(void 0),[y,r]=H.useState(void 0);return H.useEffect((()=>{(async()=>{if(e&&t)try{f(!0);let o=await n();o?r(o):s(Error("Unable to fetch SOL price"))}catch(o){s(o)}finally{f(!1)}else f(!1)})()}),[]),{solPrice:y,isSolPriceLoading:i,solPriceError:b}};function Fm(t){let{tokenPrice:e,isTokenPriceLoading:n,tokenPriceError:i}=(y=>{let{showFiatPrices:r,getUsdTokenPrice:o,chains:v}=et(),[c,u]=H.useState(!0),[l,a]=H.useState(void 0),[d,p]=H.useState(void 0);return H.useEffect((()=>{y||=1;let h=yS(v).find((g=>g.id===Number(y)));(async()=>{if(r){if(!h)return u(!1),void a(Error(`Unable to fetch token price on chain id ${y}`));try{u(!0);let g=await o(h);g?p(g):a(Error(`Unable to fetch token price on chain id ${h.id}`))}catch(g){a(g)}finally{u(!1)}}else u(!1)})()}),[y]),{tokenPrice:d,isTokenPriceLoading:c,tokenPriceError:l}})(t==="solana"?-1:t),{solPrice:f,isSolPriceLoading:b,solPriceError:s}=YFe({enabled:t==="solana"});return t==="solana"?{tokenPrice:f,isTokenPriceLoading:b,tokenPriceError:s}:{tokenPrice:e,isTokenPriceLoading:n,tokenPriceError:i}}const ZY=H.createContext(null);function ch(){let t=H.useContext(ZY);return t===null?(console.warn("`useWallets` was called outside the PrivyProvider component"),{wallets:[],ready:!1}):t}async function fw(t,e,n,i){let f=A2(t),b=await(async()=>i?await i():await e.prepareTransactionRequest({...f,account:{address:n,type:"json-rpc"}}))();return{...b,type:ij[b.type]}}let JY=ae.div.withConfig({displayName:"StackedContainer",componentId:"sc-f7e7d474-0"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > span{position:absolute;left:-41px;top:-41px;}> div > :last-child{position:absolute;left:-19px;top:-19px;}"]);const XFe=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","missing_or_invalid_mfa","mfa_verification_max_attempts_reached","mfa_timeout","twilio_verification_failed"];let Qn=class extends Error{constructor(e,n){super(n),this.type=e}};function Vp(t){let e=t.type;return typeof e=="string"&&XFe.includes(e)}function jg(t){return Vp(t)&&t.type==="wallet_not_on_device"}function YT(t){return!!Vp(t)&&t.type==="mfa_timeout"}function XT(t){return!!Vp(t)&&t.type==="missing_or_invalid_mfa"}function KFe(t){return!!Vp(t)&&t.type==="mfa_verification_max_attempts_reached"}function QY(t){return!(!Vp(t)||!t.message.includes("code 429"))}function _Y(t){return!!(function(e){let n=e.type;return typeof n=="string"&&n==="client_error"})(t)&&t.message==="MFA canceled"}const Qx=()=>window.open(void 0,void 0,ZFe({w:440,h:680}));let ZFe=({w:t,h:e})=>{let n=window.screenLeft!==void 0?window.screenLeft:window.screenX,i=window.screenTop!==void 0?window.screenTop:window.screenY,f=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,b=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;return`toolbar=0,location=0,menubar=0,height=${e},width=${t},popup=1,left=${(f-t)/2/(f/window.screen.availWidth)+n},top=${(b-e)/2/(b/window.screen.availHeight)+i}`};const JFe=({title:t,description:e,children:n,...i})=>O.jsx(qY,{...i,children:O.jsxs(O.Fragment,{children:[O.jsx("h3",{children:t}),typeof e=="string"?O.jsx("p",{children:e}):e,n]})}),lo=({title:t,description:e,icon:n,children:i,...f})=>O.jsxs(QFe,{...f,children:[n||null,O.jsx("h3",{children:t}),e&&typeof e=="string"?O.jsx("p",{children:e}):e,i]});let qY=ae.div.withConfig({displayName:"StyledSection",componentId:"sc-523a75d6-1"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;width:100%;margin-bottom:24px;&& h3{font-size:17px;color:var(--privy-color-foreground);}&& p{color:var(--privy-color-foreground-2);font-size:14px;}"]),QFe=ae(qY).withConfig({displayName:"CenteredStyledSection",componentId:"sc-523a75d6-2"})(["align-items:center;text-align:center;gap:16px;h3{margin-bottom:24px;}"]);const eX=t=>O.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 21 20",...t,children:[O.jsx("path",{fill:"url(#icloud-gradient)",d:"M12.34 7.315a4.26 4.26 0 0 0-3.707 2.18 2.336 2.336 0 0 0-1.02-.236 2.336 2.336 0 0 0-2.3 1.963 3.217 3.217 0 0 0 1.244 6.181c.135-.001.27-.01.404-.029h8.943c.047.004.094.006.141.007.045-.001.09-.004.135-.007h.214v-.016a2.99 2.99 0 0 0 1.887-.988c.487-.55.757-1.261.757-1.998v-.006a3.017 3.017 0 0 0-.69-1.915 2.992 2.992 0 0 0-1.748-1.034 4.26 4.26 0 0 0-4.26-4.102Z"}),O.jsx("defs",{children:O.jsxs("linearGradient",{id:"icloud-gradient",x1:19.086,x2:3.333,y1:14.38,y2:14.163,gradientUnits:"userSpaceOnUse",children:[O.jsx("stop",{stopColor:"#3E82F4"}),O.jsx("stop",{offset:1,stopColor:"#93DCF7"})]})})]}),tX=({style:t,...e})=>O.jsxs("svg",{width:"16",height:"14",style:t,viewBox:"0 0 16 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[O.jsxs("g",{clipPath:"url(#clip0_2115_829)",children:[O.jsx("path",{d:"M2.34709 12.9404L2.3471 12.9404L2.34565 12.938L1.64031 11.7448L1.64004 11.7444L0.651257 10.0677C0.640723 10.0496 0.630746 10.0314 0.621325 10.0129H4.16461L2.39424 13.0139C2.3775 12.9901 2.36178 12.9656 2.34709 12.9404Z",fill:"#0066DA",stroke:"#6366F1"}),O.jsx("path",{d:"M8 4.48713L5.47995 0.215332C5.23253 0.358922 5.02176 0.556358 4.87514 0.80764L0.219931 8.70508C0.076007 8.95094 0.000191627 9.22937 0 9.51277H5.04009L8 4.48713Z",fill:"#00AC47"}),O.jsx("path",{d:"M13.48 13.7847C13.7274 13.6411 13.9382 13.4437 14.0848 13.1924L14.3781 12.6988L15.7801 10.3206C15.9267 10.0693 16.0001 9.79114 16.0001 9.51294H10.9596L12.0321 11.577L13.48 13.7847Z",fill:"#EA4335"}),O.jsx("path",{d:"M8.00003 4.48718L10.5201 0.215385C10.2726 0.0717949 9.98857 0 9.69533 0H6.30472C6.01148 0 5.7274 0.0807692 5.47998 0.215385L8.00003 4.48718Z",fill:"#00832D"}),O.jsx("path",{d:"M10.9599 9.51294H5.04007L2.52002 13.7847C2.76744 13.9283 3.05152 14.0001 3.34476 14.0001H12.6552C12.9484 14.0001 13.2325 13.9194 13.4799 13.7847L10.9599 9.51294Z",fill:"#2684FC"}),O.jsx("path",{d:"M13.4525 4.75636L11.1249 0.80764C10.9782 0.556358 10.7675 0.358922 10.52 0.215332L8 4.48713L10.9599 9.51277H15.9908C15.9908 9.23456 15.9175 8.95636 15.7709 8.70508L13.4525 4.75636Z",fill:"#FFBA00"})]}),O.jsx("defs",{children:O.jsx("clipPath",{id:"clip0_2115_829",children:O.jsx("rect",{width:"16",height:"14",fill:"white"})})})]});async function oD({url:t,popup:e,provider:n}){return e.location=t,new Promise(((i,f)=>{function b(){e?.close(),window.removeEventListener("message",s)}function s(y){y.data&&(y.data.type==="PRIVY_OAUTH_RESPONSE"&&y.data.stateCode&&y.data.authorizationCode&&(i(y.data),b()),y.origin==="https://cdn.apple-cloudkit.com"&&y.data.ckSession&&(i({type:"PRIVY_OAUTH_RESPONSE",ckWebAuthToken:y.data.ckSession}),b()),y.data.type==="PRIVY_OAUTH_ERROR"&&(f(y.data.error),b()))}window.addEventListener("message",s)}))}async function _Fe({api:t,provider:e,stateCode:n,codeVerifier:i,authorizationCode:f}){if(!f||!n)throw new ge("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if(f==="undefined")throw new ge("User denied confirmation during OAuth flow");try{return(await t.post(Xhe,{authorization_code:f,state_code:n,code_verifier:i,provider:e})).access_token}catch(b){let s=Ht(b);throw s.privyErrorCode?new ge(s.message||"Invalid code during OAuth flow.",void 0,s.privyErrorCode):s.message==="User denied confirmation during OAuth flow"?new ge("Invalid code during oauth flow.",void 0,we.OAUTH_USER_DENIED):new ge("Invalid code during OAuth flow.",void 0,we.UNKNOWN_AUTH_ERROR)}}async function lD({api:t,provider:e}){let n=Wx(),i=$T(),f=await LT(n);try{return e==="icloud"?{url:(await t.post(Yhe,{client_type:"web"})).url}:{url:(await t.post(Hhe,{redirect_to:window.location.href,code_challenge:f,state_code:i})).url,codeVerifier:n,stateCode:i,provider:e}}catch(b){throw Ht(b)}}const KT=(t,{chainType:e,walletIndex:n}={})=>t?.linkedAccounts.filter((i=>!(i.type!=="wallet"||i.walletClientType!=="privy"||n!==void 0&&i.walletIndex!==n||e!==void 0&&i.chainType!==e)))??[],nX=async({user:t,accessToken:e,proxy:n,refreshSessionAndUser:i,privy:f,appConfig:b,recoverEmbeddedWallet:s,setUser:y,walletIndex:r,chainType:o,recoveryMethod:v,recoveryPassword:c,recoveryAccessToken:u})=>{if(r===0)if(b.embeddedWallets.mode==="user-controlled-server-wallets-only")await nC(f,{request:{chain_type:o}});else if(o==="ethereum"){let d=_w(t);d&&await s({address:d.address}),await n.create({accessToken:e,solanaAddress:d?.address,recoveryMethod:v,recoveryPassword:c,recoveryAccessToken:u})}else{if(o!=="solana")throw Error("Invalid input to create wallet");{let d=zo(t);d&&await s({address:d.address}),await n.createSolana({accessToken:e,ethereumAddress:d?.address,recoveryMethod:v,recoveryPassword:c,recoveryAccessToken:u})}}else if(b.embeddedWallets.mode==="user-controlled-server-wallets-only")await nC(f,{request:{chain_type:o}});else{let{entropyId:d,entropyIdVerifier:p}=Wa(t);await s(),await n.addWallet({accessToken:e,entropyId:d,entropyIdVerifier:p,chainType:o,hdWalletIndex:r})}let l=await i(),a=KT(l,{chainType:o,walletIndex:r})[0];return y(l),{user:l,account:a}},ZT=()=>{let{walletProxy:t,recoverEmbeddedWallet:e,setUser:n,refreshSessionAndUser:i,privy:f,client:b}=et(),s=it();return{create:async({walletIndex:y,chainType:r,latestUser:o,recoveryMethod:v,recoveryPassword:c,recoveryAccessToken:u})=>{let l=o;l||(l=await i());let a=await b.getAccessToken();if(!l||!a||!t)throw Error("User must be authenticated before creating a Privy wallet");return await nX({appConfig:s,user:l,refreshSessionAndUser:i,privy:f,accessToken:a,proxy:t,recoverEmbeddedWallet:e,setUser:n,walletIndex:y,chainType:r,recoveryMethod:v,recoveryPassword:c,recoveryAccessToken:u})}}},qFe=({title:t,description:e,onClose:n})=>O.jsx(Yt,{title:t,subtitle:e,icon:dm,iconVariant:"success",watermark:!0,onBack:n}),JT={component:()=>{let{user:t}=Vt(),{closePrivyModal:e,isNewUserThisSession:n,updateWallets:i}=et(),{data:f,onUserCloseViaDialogOrKeybindRef:b}=lt(),s=it(),{onSuccess:y,onFailure:r,callAuthOnSuccessOnClose:o}=f.createWallet,v=()=>{let c=zo(t)??_w(t);t&&c?(i(),y({user:t,account:c})):r(Error("Failed to create wallet")),e({shouldCallAuthOnSuccess:o})};return H.useEffect((()=>{let c=setTimeout(v,2500);return()=>clearTimeout(c)}),[]),b.current=v,O.jsx(qFe,{title:n?"Welcome"+(s?.name?` to ${s?.name}`:""):"All set!",description:n?"You've successfully created an account.":"Your account is secured.",onClose:v})}},zE=ae.div.withConfig({displayName:"RecoveryContainer",componentId:"sc-12b46968-0"})(["display:flex;flex-direction:column;gap:12px;padding-top:24px;padding-bottom:24px;"]),e$e=ae.div.withConfig({displayName:"RecoveryExplainerContainer",componentId:"sc-12b46968-1"})(["padding-bottom:24px;"]);let uD={"google-drive":{name:"Google Drive",component:tX},icloud:{name:"iCloud",component:eX}};const rX={component:()=>{let{logout:t}=Vt(),{navigate:e,setModalData:n,data:i}=lt(),{closePrivyModal:f,createAnalyticsEvent:b}=et(),{execute:s}=(()=>{let{client:A,walletProxy:P,refreshSessionAndUser:R}=et(),{data:L}=lt(),{user:D}=Vt(),F=uh(),{create:$}=ZT();return{execute:async({provider:N,action:k,popup:j,shouldCreateEth:W,shouldCreateSol:G})=>{let K,z;if(!A)throw new ge("Missing client");function X(U){if(!U&&A)throw A.createAnalyticsEvent({eventName:"recovery_oauth_error",payload:{error:"Unable to open recovery OAuth popup",provider:N}}),new ge("Recovery OAuth failed")}switch(N){case"google-drive":{let U,Z,{url:V,codeVerifier:J,stateCode:_}=await lD({api:A.api,provider:N});X(V);try{let ee=await oD({url:V,popup:j,provider:N});if(U=ee.stateCode,Z=ee.authorizationCode,U!==_)throw A.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:N,storedStateCode:_??"",returnedStateCode:U??""}}),new ge("Unexpected auth flow. This may be a phishing attempt.",void 0,we.OAUTH_UNEXPECTED)}catch(ee){throw A.createAnalyticsEvent({eventName:"recovery_oauth_error",payload:{error:ee.toString(),provider:N}}),new ge("Recovery OAuth failed")}[K,z]=await Promise.all([A.getAccessToken(),_Fe({api:A.api,provider:N,codeVerifier:J,stateCode:U,authorizationCode:Z})]);break}case"icloud":{let{url:U}=await lD({api:A.api,provider:N});X(U);let{ckWebAuthToken:Z}=await oD({url:U,popup:j,provider:N});z=Z,K=await A.getAccessToken()}}if(!P)throw new ge("Cannot connect to wallet proxy");if(!K)throw new ge("Unable to authorize user");switch(k){case"recover":{let U=L?.recoverWallet?.entropyId,Z=L?.recoverWallet?.entropyIdVerifier;if(!U||!Z)throw new ge("Recovery OAuth failed");A.createAnalyticsEvent({eventName:"embedded_wallet_recovery_started",payload:{walletAddress:U,recoveryMethod:N}}),await P.recover({accessToken:K,entropyId:U,entropyIdVerifier:Z,recoveryAccessToken:z}),A.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:U,recoveryMethod:N}});break}case"create-wallet":{let U;if(A.createAnalyticsEvent({eventName:"embedded_wallet_creation_started"}),W&&G)U=await $({recoveryMethod:N,recoveryAccessToken:z,chainType:"ethereum",walletIndex:0,latestUser:D}),U=await $({chainType:"solana",walletIndex:0,latestUser:U.user});else if(G)U=await $({recoveryMethod:N,recoveryAccessToken:z,chainType:"solana",walletIndex:0,latestUser:D});else{if(!W)throw Error("Invalid args to create wallet");U=await $({recoveryMethod:N,recoveryAccessToken:z,chainType:"ethereum",walletIndex:0,latestUser:D})}if(!U)throw F("createWallet","onError",we.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to create wallet");A.createAnalyticsEvent({eventName:"embedded_wallet_creation_completed",payload:{walletAddress:U.account.address}}),F("createWallet","onSuccess",{wallet:U.account});break}case"set-recovery":{let U=io(D);if(!U)throw F("setWalletRecovery","onError",we.EMBEDDED_WALLET_NOT_FOUND),Error("Embedded wallet not found");A.createAnalyticsEvent({eventName:"embedded_wallet_set_recovery_started",payload:{walletAddress:U.address,existingRecoveryMethod:U.recoveryMethod,targetRecoveryMethod:N}});let{entropyId:Z,entropyIdVerifier:V}=Wa(D);await P.setRecovery({accessToken:K,entropyId:Z,entropyIdVerifier:V,recoveryMethod:N,recoveryAccessToken:z});let J=io(await R());if(!J)throw F("createWallet","onError",we.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to set recovery on wallet");A.createAnalyticsEvent({eventName:"embedded_wallet_set_recovery_completed",payload:{walletAddress:U.address,existingRecoveryMethod:U.recoveryMethod,targetRecoveryMethod:N}}),F("setWalletRecovery","onSuccess",{method:N,wallet:J});break}default:throw new ge("Unsupported recovery action")}}}})(),[y,r]=H.useState(!1),{provider:o,action:v,isInAccountCreateFlow:c,shouldCreateEth:u,shouldCreateSol:l}=i?.recoveryOAuthStatus,[a,d]=H.useState(void 0),[p,h]=H.useState(v==="create-wallet");if(o==="user-passcode")throw Error("RecoveryOAuthScreen should never be called with a wallet that specifies recoveryMethod: `user-passcode`");let g=uD[o].name,m=uD[o].component,x=i?.recoverWallet?.onCompleteNavigateTo,w=new Li((async(A="create-wallet")=>(h(!0),new Promise(((P,R)=>{setTimeout((async()=>{try{let L=window.open();await s({provider:o,action:A,popup:L,shouldCreateEth:u,shouldCreateSol:l}),r(!0),P()}catch{d({message:`${A==="recover"?"Recovery":"Back up"} with ${g} unsuccessful`,detail:v==="recover"?`Please verify that you are selecting the ${g} account associated with your backup.`:"",retryable:!0}),R()}}),0)})))));H.useEffect((()=>{v!=="recover"&&w.execute(c?"create-wallet":"set-recovery")}),[]),H.useEffect((()=>{if(!y)return;let A=setTimeout((()=>{c?(n({createWallet:{onSuccess:()=>{},onFailure:P=>{b({eventName:"embedded_wallet_creation_failure_logout",payload:{error:P,screen:"RecoveryOAuthScreen"}}),t()},callAuthOnSuccessOnClose:!0,shouldCreateEth:!1,shouldCreateSol:!1}}),e(JT)):f({shouldCallAuthOnSuccess:!1})}),Wn);return()=>clearTimeout(A)}),[y]);let C=H.useCallback((async()=>{await w.execute("recover"),x?e(x):r(!0)}),[]),E=o==="google-drive"?"Google Drive":"Apple iCloud",T=y&&`Successfully ${v==="recover"?"recovered":"backed up"} with ${E}.`||a&&a.message||`${v==="recover"?"Recovering":"Backing up"} with ${E}...`,S=a?a.detail:"";return O.jsxs(O.Fragment,{children:[O.jsx(zt,{}),p?O.jsx(O.Fragment,{children:O.jsxs(zE,{children:[O.jsx(lo,{title:T,icon:O.jsx(m,{style:{width:"38px",height:"38px"}}),description:S}),a&&a?.retryable?O.jsx(xn,{onClick:()=>{LE(),d(void 0),v==="create-wallet"?w.execute("create-wallet"):C()},disabled:!y&&!a?.retryable,children:"Try again"}):null]})}):O.jsxs(zE,{children:[O.jsx(lo,{title:"Confirm it's really you",icon:O.jsx(m,{style:{height:42,width:48}}),description:`To confirm your identity, please log in to ${E} where your account is backed up.`}),O.jsxs(xn,{onClick:C,children:["Confirm with ",E]})]}),O.jsx(un,{})]})}};let F6=ae.div.withConfig({displayName:"IconContainer",componentId:"sc-ccfae04f-0"})(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;"]),t$e={"google-drive":"Google Drive",icloud:"iCloud","user-passcode":"password",privy:"Privy","privy-v2":"Privy"},n$e=({onClose:t})=>O.jsxs(e$e,{children:[O.jsx(lo,{title:"Why do I need to secure my account?",icon:O.jsx(Gf,{width:48}),description:O.jsxs(O.Fragment,{children:[O.jsx("p",{children:"Your app uses cryptography to secure your account. App secrets are split and encrypted so only you can access them."}),O.jsx("p",{children:"To use this app on new devices, secure account secrets using a password, your Google or your Apple account. Its important you dont lose access to the method you choose."})]})}),O.jsx(xn,{onClick:t,children:"Select backup method"})]});const WE={component:()=>{let[t,e]=H.useState(!1),{navigate:n,lastScreen:i,navigateBack:f,setModalData:b,data:s,onUserCloseViaDialogOrKeybindRef:y}=lt(),{user:r}=Vt(),{embeddedWallets:o}=it(),{closePrivyModal:v}=et(),c=io(r),u=c===null,{isInAccountCreateFlow:l,isResettingPassword:a,shouldCreateEth:d,shouldCreateSol:p}=s.recoverySelection,h=c&&c.recoveryMethod!=="privy",g=h?O.jsxs("span",{children:["Your account is currently secured using"," ",O.jsx("strong",{children:t$e[c?.recoveryMethod||"user-passcode"]}),"."]}):"Select a method for logging in on new devices and recovering your account.";function m(w){b({recoveryOAuthStatus:{provider:w,action:u?"create-wallet":"set-recovery",isInAccountCreateFlow:l,shouldCreateEth:d,shouldCreateSol:p}}),n(rX)}function x(){s?.setWalletPassword?.onFailure(Error("User exited set recovery flow")),v({shouldCallAuthOnSuccess:s?.setWalletPassword?.callAuthOnSuccessOnClose??!1})}return y.current=x,O.jsxs(O.Fragment,{children:[O.jsx(zt,{onClose:x,backFn:t?()=>e(!1):i?f:void 0,infoFn:i||t?void 0:()=>e(!0)},"header"),t?O.jsx(n$e,{onClose:()=>e(!1)}):O.jsxs(O.Fragment,{children:[O.jsx(lo,{title:h?"Update backup method":"Secure your account",icon:O.jsx(wz,{width:48}),description:g}),O.jsx(zE,{children:o.userOwnedRecoveryOptions.filter((w=>!["icloud","google-drive"].includes(c?.recoveryMethod||"")||w!==c?.recoveryMethod)).sort().map((w=>{switch(w){case"google-drive":return O.jsxs(Xn,{onClick:()=>m("google-drive"),children:[O.jsx(F6,{children:O.jsx(tX,{style:{width:18}})}),"Back up to Google Drive"]},w);case"icloud":return O.jsxs(Xn,{onClick:()=>m("icloud"),children:[O.jsx(F6,{children:O.jsx(eX,{style:{width:24}})}),"Back up to Apple iCloud"]},w);case"user-passcode":return O.jsxs(Xn,{onClick:()=>{n(wK({isCreatingWallet:u,skipSplashScreen:!0}))},children:[O.jsx(F6,{children:O.jsx(B0e,{style:{width:18}})}),a?"Reset your":"Set a"," password"]},w);default:return null}}))})]}),O.jsx(un,{})]})}};let r$e=Dr(["font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;text-align:left;transition:color 0.1s ease-in;"]);const iX=ae.span.withConfig({displayName:"StatusText",componentId:"sc-acac4b9-0"})([""," transition:color 0.1s ease-in;color:",";text-transform:",";&[aria-hidden='true']{visibility:hidden;}"],r$e,(({error:t})=>t?"var(--privy-color-error)":"var(--privy-color-foreground-3)"),(({error:t})=>t?"":"capitalize")),_x=ae.div.withConfig({displayName:"EmbeddedWalletScreenContainer",componentId:"sc-acac4b9-1"})(["display:flex;flex-direction:column;justify-content:center;flex-grow:1;"]),qx=ae(xn).withConfig({displayName:"NoAnimationPrimaryButton",componentId:"sc-acac4b9-2"})(["",""],(({$hideAnimations:t})=>t&&Dr(["&&{transition:none;}"])));let sX=Dr(["&&{width:100%;border-width:1px;border-radius:var(--privy-border-radius-md);border-color:var(--privy-color-foreground-3);background:var(--privy-color-background);color:var(--privy-color-foreground);padding:12px;font-size:16px;font-style:normal;font-weight:300;line-height:22px;}"]);const QT=ae.input.withConfig({displayName:"PasswordInput",componentId:"sc-acac4b9-3"})([""," &::placeholder{color:var(--privy-color-foreground-3);font-style:italic;font-size:14px;}overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"],sX),i$e=ae.div.withConfig({displayName:"PasswordDisplay",componentId:"sc-acac4b9-4"})(["",""],sX),e3=ae.div.withConfig({displayName:"PasswordContainer",componentId:"sc-acac4b9-5"})(["position:relative;width:100%;display:flex;align-items:center;justify-content:",";"],(({centered:t})=>t?"center":"space-between")),t3=ae.div.withConfig({displayName:"Header",componentId:"sc-acac4b9-6"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin:32px 0;gap:4px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]),_T=ae.div.withConfig({displayName:"Details",componentId:"sc-acac4b9-7"})(["display:flex;flex-direction:column;gap:10px;padding-bottom:1rem;"]),GE=ae.div.withConfig({displayName:"DetailItem",componentId:"sc-acac4b9-8"})(["display:flex;text-align:left;align-items:center;gap:8px;max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;margin:0 8px;color:var(--privy-color-foreground-2);> :first-child{min-width:24px;}"]),cD=ae(Ud).withConfig({displayName:"ExportButton",componentId:"sc-acac4b9-10"})(["display:flex;flex:1;gap:4px;justify-content:center;&&{background:var(--privy-color-background);border-radius:var(--privy-border-radius-md);border-color:var(--privy-color-foreground-3);border-width:1px;}"]),n3=ae.div.withConfig({displayName:"InputRightIcons",componentId:"sc-acac4b9-11"})(["position:absolute;right:0.5rem;display:flex;flex-direction:row;justify-content:space-around;align-items:center;"]),s$e=ae(j0e).withConfig({displayName:"RegenerateIcon",componentId:"sc-acac4b9-12"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),r3=ae(V0e).withConfig({displayName:"HiddenIcon",componentId:"sc-acac4b9-13"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),i3=ae(W0e).withConfig({displayName:"ShownIcon",componentId:"sc-acac4b9-14"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),a$e=ae.progress.withConfig({displayName:"StrengthMeter",componentId:"sc-acac4b9-15"})(["height:4px;width:100%;margin:8px 0;::-webkit-progress-bar{border-radius:8px;background:var(--privy-color-foreground-4);}::-webkit-progress-value{border-radius:8px;transition:all 0.1s ease-out;background:",";}"],(({label:t})=>(t==="Strong"?"#78dca6":t==="Medium"&&"var(--privy-color-warn)")||"var(--privy-color-error)")),o$e=({buttonHideAnimations:t,buttonLoading:e,password:n,onSubmit:i,onBack:f})=>{let[b,s]=H.useState(!0),[y,r]=H.useState(!1),[o,v]=H.useState(""),c=n===o;return H.useEffect((()=>{o&&!y&&r(!0)}),[o]),O.jsxs(O.Fragment,{children:[O.jsx(zt,{closeable:!1,backFn:f}),O.jsx(cl,{}),O.jsxs(_x,{children:[O.jsxs(t3,{children:[O.jsx(Jd,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-accent)"}),O.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Confirm your password"}),O.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Please re-enter your password below to continue."})]}),O.jsxs(e3,{children:[O.jsx(QT,{value:o,onChange:u=>v(u.target.value),onKeyUp:u=>{u.key==="Enter"&&i()},onBlur:()=>r(!0),placeholder:"confirm your password",type:b?"password":"text",style:{paddingRight:"2.3rem"}}),O.jsx(n3,{style:{right:"0.75rem"},children:b?O.jsx(r3,{onClick:()=>s(!1)}):O.jsx(i3,{onClick:()=>s(!0)})})]}),O.jsx(iX,{"aria-hidden":!y||c,error:!0,children:"Passwords do not match"})]}),O.jsx(qx,{onClick:i,loading:e,disabled:!c,$hideAnimations:t,children:"Continue"}),O.jsx(go,{}),O.jsx(un,{})]})},aX=({className:t,checked:e,color:n="var(--privy-color-accent)",...i})=>O.jsx("label",{children:O.jsxs(l$e,{className:t,children:[O.jsx(lX,{checked:e,...i}),O.jsx(u$e,{color:n,checked:e,children:O.jsx(oX,{viewBox:"0 0 24 24",children:O.jsx("polyline",{points:"20 6 9 17 4 12"})})})]})});let l$e=ae.div.withConfig({displayName:"CheckboxContainer",componentId:"sc-db51b935-1"})(["display:inline-block;vertical-align:middle;"]),oX=ae.svg.withConfig({displayName:"Icon",componentId:"sc-db51b935-2"})(["fill:none;stroke:white;stroke-width:3px;"]),lX=ae.input.attrs({type:"checkbox"}).withConfig({displayName:"HiddenCheckbox",componentId:"sc-db51b935-3"})(["border:0;clip:rect(0 0 0 0);clippath:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;"]),u$e=ae.div.withConfig({displayName:"StyledCheckbox",componentId:"sc-db51b935-4"})(["display:inline-block;width:18px;height:18px;transition:all 150ms;cursor:pointer;border-color:",";border-radius:3px;background:",";&&{border-width:1px;}",":focus + &{box-shadow:0 0 0 1px ",";}","{visibility:",";}"],(t=>t.color),(t=>t.checked?t.color:"var(--privy-color-background)"),lX,(t=>t.color),oX,(t=>t.checked?"visible":"hidden"));const c$e=({buttonHideAnimations:t,buttonLoading:e,onSubmit:n,onBack:i,config:f})=>{let[b,s]=H.useState(!1);return O.jsxs(O.Fragment,{children:[O.jsx(zt,{closeable:!1,backFn:i}),O.jsx(cl,{}),O.jsxs(_x,{children:[O.jsxs(t3,{children:[O.jsx(Jd,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-error)"}),O.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Confirm you have saved"}),O.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Losing access to your password means you will lose access to your account."})]}),O.jsx(_T,{children:O.jsxs(GE,{style:{color:"var(--privy-color-error)",cursor:"pointer"},onClick:y=>{y.preventDefault(),s((r=>!r))},children:[O.jsx(aX,{color:"var(--privy-color-error)",readOnly:!0,checked:b}),O.jsx(O.Fragment,{children:"I understand that if I lose my password and device, I will lose access to my account and my assets."})]})})]}),O.jsxs(d$e,{children:[f.initiatedBy==="user"&&O.jsx(oo,{onClick:f.onCancel,disabled:e,children:"Cancel"}),O.jsx(qx,{onClick:n,loading:e,$hideAnimations:t,disabled:!b,children:"Set Password"})]}),O.jsx(go,{}),O.jsx(un,{})]})};let d$e=ae.div.withConfig({displayName:"ButtonsContainer",componentId:"sc-d1659c5f-0"})(["display:flex;gap:10px;"]),h$e=/[a-z]/,f$e=/[A-Z]/,p$e=/[0-9]/,uX="!@#$%^&*()\\-_+.",cX=`a-zA-Z0-9${uX}`,v$e=RegExp(`[${uX}]`),g$e=RegExp(`[${cX}]`);const m$e=RegExp(`^[${cX}]{6,}$`),dX=()=>$0e(4,D0e);function y$e(t){return t>.9?"Strong":t>.5?"Medium":"Weak"}function w$e(t=""){return(.3*(function(e){if(e.length<8)return 0;let n=0;return h$e.test(e)&&(n+=1),f$e.test(e)&&(n+=1),p$e.test(e)&&(n+=1),v$e.test(e)&&(n+=1),Math.max(0,Math.min(1,n/3))})(t)+P0e(t)/95)/2}const x$e=({buttonHideAnimations:t,buttonLoading:e,password:n="",config:i,isResettingPassword:f,onSubmit:b,onClose:s,onBack:y,onPasswordChange:r,onPasswordGenerate:o})=>{let[v,c]=H.useState(!1),[u,l]=H.useState(!1);H.useEffect((()=>{n&&!u&&l(!0)}),[n]);let a=H.useMemo((()=>u?6>(n?.length||0)?"Password must be at least 6 characters":m$e.test(n||"")?null:`Invalid characters used ( ${((h="")=>[...new Set(h.split("").filter((g=>!g$e.test(g))).map((g=>g.replace(" ","SPACE"))))])(n).join(" ")} )`:null),[n,u]),d=H.useMemo((()=>a?{value:0,label:"Weak"}:(function(h=""){let g=w$e(h);return{value:g,label:y$e(g)}})(n)),[n,a]),p=H.useMemo((()=>!n?.length||!!a),[a,n]);return O.jsxs(O.Fragment,{children:[O.jsx(zt,{onClose:s,closeable:i.initiatedBy==="user",backFn:y}),O.jsx(cl,{}),O.jsxs(_x,{children:[O.jsxs(t3,{children:[O.jsx(Y0e,{height:48,width:48,stroke:"var(--privy-color-accent)"}),O.jsxs("h3",{style:{color:"var(--privy-color-foreground)"},children:[f?"Reset":"Set"," your password"]}),O.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Select a strong, memorable password to secure your account."})]}),O.jsxs(e3,{children:[O.jsx(QT,{value:n,onChange:h=>r(h.target.value),onKeyUp:h=>{h.key==="Enter"&&b()},placeholder:"enter or generate a strong password",type:v?"password":"text",style:{paddingRight:"3.8rem"}}),O.jsxs(n3,{style:{width:"3.5rem"},children:[v?O.jsx(r3,{onClick:()=>c(!1)}):O.jsx(i3,{onClick:()=>c(!0)}),O.jsx(s$e,{onClick:o})]})]}),O.jsx(a$e,{value:d.value===0?.01:d.value,label:d.label}),O.jsx(iX,{error:!!a,children:a||`Password Strength: ${u?d.label:"--"}`}),O.jsxs(C$e,{children:[O.jsx(b$e,{children:O.jsxs(_T,{children:[O.jsxs(GE,{children:[O.jsx(Ag,{width:24,height:24,fill:"var(--privy-color-accent)"}),"This password is used to secure your account."]}),O.jsxs(GE,{children:[O.jsx(Ag,{width:24,height:24,fill:"var(--privy-color-accent)"}),"Use it to log in on a new environment, like another browser or device."]})]})}),O.jsx(qx,{onClick:b,loading:e,disabled:p,$hideAnimations:t,children:"Continue"})]})]}),O.jsx(go,{}),O.jsx(un,{})]})};let b$e=ae(_T).withConfig({displayName:"DetailsContainer",componentId:"sc-2da5fe90-0"})(["flex:1;padding-top:1rem;"]),C$e=ae.div.withConfig({displayName:"LowerContainer",componentId:"sc-2da5fe90-1"})(["display:flex;flex-direction:column;height:100%;"]);const E$e=({buttonHideAnimations:t,buttonLoading:e,appName:n,password:i,onSubmit:f,onBack:b})=>{let[s,y]=H.useState(!1),[r,o]=H.useState(!0),v=H.useCallback((()=>{y(!0),i&&navigator.clipboard.writeText(i)}),[i]),c=H.useCallback((()=>{let u=document.createElement("a"),l=n.toLowerCase().replace(/[^a-z\s]/g,"").replace(/\s/g,"-"),a=new Blob([S$e(n,i)],{type:"text/plain"}),d=URL.createObjectURL(a);u.href=d,u.target="_blank",u.download=`${l}-privy-wallet-recovery.txt`,document.body.appendChild(u),u.click(),setTimeout((()=>{u.remove(),URL.revokeObjectURL(d)}),5e3)}),[i]);return O.jsxs(O.Fragment,{children:[O.jsx(zt,{backFn:b,closeable:!1}),O.jsx(cl,{}),O.jsxs(_x,{children:[O.jsxs(t3,{children:[O.jsx(Jd,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-accent)"}),O.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Save your password"}),O.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"For your security, this password cannot be reset, so keep it somewhere safe."})]}),O.jsxs(e3,{centered:!0,children:[O.jsx(i$e,{children:r?"".repeat(i.length):i}),O.jsx(n3,{style:{right:"0.75rem"},children:r?O.jsx(r3,{onClick:()=>o(!1)}):O.jsx(i3,{onClick:()=>o(!0)})})]}),O.jsxs("div",{style:{display:"flex",margin:"12px 0",gap:"12px"},children:[O.jsx(cD,{onClick:v,children:O.jsxs(O.Fragment,s?{children:[O.jsx(xz,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Copied"]}:{children:[O.jsx(_0e,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Copy"]})}),O.jsxs(cD,{onClick:c,children:[O.jsx(Z0e,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Download"]})]})]}),O.jsx(qx,{onClick:f,loading:e,$hideAnimations:t,children:"Continue"}),O.jsx(go,{}),O.jsx(un,{})]})};let S$e=(t,e)=>`Your wallet recovery password for ${t} is

${e}

You will need this password to access your ${t} wallet on a new device. Please keep it somewhere safe.`;const T$e=({error:t,onClose:e})=>O.jsxs(O.Fragment,{children:[O.jsx(zt,{closeable:!1}),O.jsx(cl,{}),O.jsxs(Kx,t?{children:[O.jsx(eve,{fill:"var(--privy-color-error)",width:"64px",height:"64px"}),O.jsx(lo,{title:"Something went wrong",description:t})]}:{children:[O.jsx(Ag,{fill:"var(--privy-color-success)",width:"64px",height:"64px"}),O.jsx(lo,{title:"Success"})]}),O.jsx(xn,{onClick:e,children:"Close"}),O.jsx(go,{}),O.jsx(un,{})]});let A$e=(t,e)=>{switch(t){case"creating":return e==="back"?t:"saving";case"saving":return e==="back"?"creating":"confirming";case"confirming":return e==="back"?"saving":"finalizing";case"finalizing":return e==="back"?"confirming":"done";default:return t}};const hX=({onSubmit:t,...e})=>{let{lastScreen:n,navigate:i}=lt(),{send:f,state:b}=(()=>{let[o,v]=H.useReducer(A$e,"creating");return{send:v,state:o}})(),s=H.useCallback((async()=>{b==="finalizing"&&await t(),f("next")}),[b,f,t]);H.useEffect((()=>{let o;return b==="done"&&e.config.initiatedBy==="automatic"&&(o=setTimeout((()=>e.onClose?.()),Wn)),()=>{o&&clearTimeout(o)}}),[b,e.config.initiatedBy,e.onClose]);let y=H.useCallback((()=>{f("back")}),[f]),r=H.useCallback((()=>{i(WE)}),[n,i]);return b==="creating"?O.jsx(x$e,{...e,onSubmit:s,onBack:n===WE?r:void 0}):b==="saving"?O.jsx(E$e,{...e,onSubmit:s,onBack:y}):b==="confirming"?O.jsx(o$e,{...e,onSubmit:s,onBack:y}):b==="finalizing"?O.jsx(c$e,{...e,onSubmit:s,onBack:y}):b==="done"?O.jsx(T$e,{...e,onSubmit:s}):null};let P$e={apple_oauth:"apple",custom_auth:"custom",discord_oauth:"discord",email:"email",farcaster:"farcaster",github_oauth:"github",google_oauth:"google",instagram_oauth:"instagram",linkedin_oauth:"linkedin",passkey:"passkey",phone:"sms",spotify_oauth:"spotify",telegram:"telegram",tiktok_oauth:"tiktok",line_oauth:"line",twitch_oauth:"twitch",twitter_oauth:"twitter",wallet:"siwe",smart_wallet:"siwe",cross_app:"privy:"};const s3=t=>{if(hm(t))return{displayName:t.replace("custom:",""),loginMethod:"custom"};let e=P$e[t];return t==="wallet"||t==="phone"?{displayName:t,loginMethod:e}:{displayName:e,loginMethod:e}};let fX=H.createContext({});const I$e=({children:t})=>{let e=it(),[n,i]=H.useState({});return Hx("login",{onComplete:({loginAccount:f})=>{f&&f.type!=="passkey"&&f.type!=="cross_app"&&(f.type!=="wallet"||f.walletClientType!=="privy")&&(Ct.put(dD(e.id),f.type),f.type==="wallet"?(Ct.put($6(e.id),f.walletClientType),Ct.put(L6(e.id),f.chainType),i({accountType:f.type,walletClientType:f.walletClientType,chainType:f.chainType})):(Ct.del($6(e.id)),Ct.del(L6(e.id)),i({accountType:f.type})))}}),H.useEffect((()=>{if(!e.id)return;let f=Ct.get(dD(e.id)),b=Ct.get($6(e.id)),s=Ct.get(L6(e.id));f&&i(f==="wallet"?{accountType:f,walletClientType:b,chainType:s}:{accountType:f})}),[e.id]),O.jsx(fX.Provider,{value:n,children:t})};let dD=t=>`privy:${t}:recent-login-method`,$6=t=>`privy:${t}:recent-login-wallet-client`,L6=t=>`privy:${t}:recent-login-chain-type`;const xc=()=>H.useContext(fX),pX=()=>{let t=it(),e=t?.appearance?.logo,n=`${t?.name} logo`,i={maxHeight:"90px",maxWidth:"180px"};return e?typeof e=="string"?O.jsx("img",{src:e,alt:n,style:i}):e.type==="svg"||e.type==="img"?Ze.cloneElement(e,{alt:n,style:i}):(console.warn("`config.appearance.logo` must be a string, or an SVG / IMG element. Nothing will be rendered."),null):null},R$e=t=>it()?.appearance.logo?O.jsx(M$e,{...t,children:O.jsx(pX,{})}):null,M$e=ae.div.withConfig({displayName:"AppLogoContainer",componentId:"sc-b210074-0"})(["display:flex;flex-direction:column;align-items:center;padding:24px 0;flex-grow:1;justify-content:center;"]),O$e=({name:t,logoUrl:e,size:n="38px"})=>typeof e=="string"?O.jsx("img",{src:e,alt:`${t??"Provider app"} logo`,style:{width:n,height:n,maxHeight:"90px",maxWidth:"180px",borderRadius:"8px"}}):O.jsx("span",{}),F$e=({appId:t})=>{let[e,n]=H.useState(void 0),{startCrossAppAuthFlow:i,authenticated:f}=Vt(),{client:b}=et();return H.useEffect((()=>{(async()=>b&&n(await b.getCrossAppProviderDetails(t)))()}),[b]),O.jsx(Xn,{onClick:()=>i({appId:t,action:f?"link":"login"}),disabled:!e,children:e?O.jsxs(O.Fragment,{children:[O.jsx(O$e,{name:e.name,logoUrl:e.icon_url||void 0,size:"24px"})," ",e.name]}):O.jsx(wc,{})})};let $$e=ae.a.withConfig({displayName:"StyledLink",componentId:"sc-c8577138-0"})(["&&{color:",";font-weight:400;text-decoration:",";text-underline-offset:4px;text-decoration-thickness:1px;cursor:",";opacity:",";font-size:",";line-height:",";transition:color 200ms ease,text-decoration-color 200ms ease,opacity 200ms ease;&:hover{color:",";text-decoration:",";text-underline-offset:4px;}&:active{color:",";}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;border-radius:2px;}}"],(({$variant:t})=>t==="underlined"?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))"),(({$variant:t})=>t==="underlined"?"underline":"var(--privy-link-navigation-decoration, none)"),(({$disabled:t})=>t?"not-allowed":"pointer"),(({$disabled:t})=>t?.5:1),(({$size:t})=>{switch(t){case"xs":return"12px";case"sm":return"14px";default:return"16px"}}),(({$size:t})=>{switch(t){case"xs":return"18px";case"sm":return"22px";default:return"24px"}}),(({$variant:t,$disabled:e})=>t==="underlined"?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))"),(({$disabled:t})=>t?"none":"underline"),(({$variant:t,$disabled:e})=>e?t==="underlined"?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))":"var(--privy-color-foreground)"));const bp=({size:t="md",variant:e="navigation",disabled:n=!1,as:i,children:f,onClick:b,...s})=>O.jsx($$e,{as:i,$size:t,$variant:e,$disabled:n,onClick:y=>{n?y.preventDefault():b?.(y)},...s,children:f}),qT=(t,e)=>!zo(t)&&(e==="all-users"||e==="users-without-wallets"&&!L$e(t).length);let L$e=t=>t.linkedAccounts.filter((e=>e.type==="wallet"&&e.chainType==="ethereum"));const e7=(t,e)=>!_w(t)&&(e==="all-users"||e==="users-without-wallets"&&!D$e(t).length);let D$e=t=>t.linkedAccounts.filter((e=>e.type==="wallet"&&e.chainType==="solana"));const bc=(t,e)=>qT(t,e.ethereum.createOnLogin)||e7(t,e.solana.createOnLogin),N$e=({title:t="Account not found",subtitle:e,appName:n="this app",ctaText:i="Try logging in again",onRetry:f})=>O.jsx(Yt,{title:t,subtitle:e||`Please try logging in again or go to ${n} to create an account.`,icon:bfe,iconVariant:"warning",primaryCta:{label:i,onClick:f},watermark:!0}),$m={component:()=>{let{navigate:t,setModalData:e,data:n}=lt(),i=it(),{getAuthMeta:f,client:b}=et();return O.jsx(N$e,{appName:i?.name,onRetry:()=>{let s=f();e({...n,login:{...n?.login,...s?.disableSignup?{disableSignup:!0}:{}}}),b?.authFlow&&(b.authFlow=void 0),t(Pi)}})}},k$e=ae.span.withConfig({displayName:"CircleBorder",componentId:"sc-9056b8b8-0"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;border-bottom-color:",";}"],(t=>t.color??"var(--privy-color-accent)"),(t=>t.color??"var(--privy-color-accent)")),is=({address:t,showCopyIcon:e,url:n,className:i})=>{let[f,b]=H.useState(!1);function s(y){y.stopPropagation(),navigator.clipboard.writeText(t).then((()=>b(!0))).catch(console.error)}return H.useEffect((()=>{if(f){let y=setTimeout((()=>b(!1)),3e3);return()=>clearTimeout(y)}}),[f]),O.jsxs(B$e,n?{children:[O.jsx(j$e,{title:t,className:i,href:`${n}/address/${t}`,target:"_blank",children:Oi(t)}),e&&O.jsx(oo,{onClick:s,size:"sm",style:{gap:"0.375rem"},children:O.jsxs(O.Fragment,f?{children:["Copied",O.jsx(Eg,{size:16})]}:{children:["Copy",O.jsx(M2,{size:16})]})})]}:{children:[O.jsx(U$e,{title:t,className:i,children:Oi(t)}),e&&O.jsx(oo,{onClick:s,size:"sm",style:{gap:"0.375rem",fontSize:"14px"},children:O.jsxs(O.Fragment,f?{children:["Copied",O.jsx(Eg,{size:14})]}:{children:["Copy",O.jsx(M2,{size:14})]})})]})};let B$e=ae.span.withConfig({displayName:"AddressContainer",componentId:"sc-3a987cc8-0"})(["display:inline-flex;align-items:center;gap:0.5rem;"]),U$e=ae.span.withConfig({displayName:"AddressText",componentId:"sc-3a987cc8-1"})(["font-size:14px;font-weight:500;color:var(--privy-color-foreground);"]),j$e=ae.a.withConfig({displayName:"AddressLink",componentId:"sc-3a987cc8-2"})(["font-size:14px;color:var(--privy-color-foreground);text-decoration:none;&:hover{text-decoration:underline;}"]);function z$e(t){return O.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",...t,children:[O.jsx("circle",{cx:"12",cy:"12",r:"10"}),O.jsx("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),O.jsx("line",{x1:"12",x2:"12.01",y1:"16",y2:"16"})]})}const VE=792703809,HE="11111111111111111111111111111111";let hD="0x0000000000000000000000000000000000000000";const Jf=({originCurrency:t,destinationCurrency:e,...n})=>({tradeType:"EXPECTED_OUTPUT",originCurrency:t??hD,destinationCurrency:e??hD,...n});let vX="https://api.relay.link",gX="https://api.testnets.relay.link";const zg=async({input:t,isTestnet:e})=>{let n=await fetch((e?gX:vX)+"/quote",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),i=await n.json();if(!(n.ok||typeof i.message=="string"&&i.message.startsWith("Invalid address")))throw console.error("Relay error:",i),Error(i.message??"Error fetching quote from relay");return i},pw=t=>{let e=t.steps[0]?.items?.[0];if(e)return{from:e.data.from,to:e.data.to,value:Number(e.data.value),chainId:Number(e.data.chainId),data:e.data.data}};async function W$e({transactionHash:t,isTestnet:e}){let n=await fetch((e?gX:vX)+"/requests/v2?hash="+t),i=await n.json();if(!n.ok)throw"message"in i&&typeof i.message=="string"?Error(i.message):Error("Error fetching request from relay");return i.requests.at(0)?.status??"pending"}function t7({transactionHash:t,isTestnet:e,bridgingStatus:n,setBridgingStatus:i,onSuccess:f,onFailure:b}){H.useEffect((()=>{if(t&&n){if(["delayed","waiting","pending"].includes(n)){let s=setInterval((async()=>{try{let y=await W$e({transactionHash:t,isTestnet:e});i(y)}catch(y){console.error(y)}}),1e3);return()=>clearInterval(s)}n==="success"?f({transactionHash:t}):["refund","failure"].includes(n)&&b({error:new mX(t,e)})}}),[n,t,e])}let mX=class extends ge{constructor(e,n){super("We were unable to complete the bridging transaction. Funds will be refunded on your wallet.",void 0,we.TRANSACTION_FAILURE),this.relayLink=n?`https://testnets.relay.link/transaction/${e}`:`https://relay.link/transaction/${e}`}};const a3=({error:t,allowlistConfig:e,onRetry:n,onCaptchaReset:i,onBack:f})=>{let b=((s,y)=>{if(s instanceof mX)return{title:"Transaction failed",detail:O.jsxs(O.Fragment,{children:[O.jsx("span",{children:s.message}),O.jsxs("span",{children:[" ","Check the"," ",O.jsx(G$e,{href:s.relayLink,target:"_blank",children:"refund status"}),"."]})]}),ctaText:"Try again",icon:Ts};if(s instanceof ge)switch(s.privyErrorCode){case we.CLIENT_REQUEST_TIMEOUT:return{title:"Timed out",detail:s.message,ctaText:"Try again",icon:Ts};case we.INSUFFICIENT_BALANCE:return{title:"Insufficient balance",detail:s.message,ctaText:"Try again",icon:Ts};case we.TRANSACTION_FAILURE:return{title:"Transaction failure",detail:s.message,ctaText:"Try again",icon:Ts};default:return{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:Ts}}else{if(s instanceof Qn&&s.type==="twilio_verification_failed")return{title:"Something went wrong",detail:s.message,ctaText:"Try again",icon:Tfe};if(!(s instanceof Ai))return s instanceof Ls&&s.status&&[400,422].includes(s.status)?{title:"Something went wrong",detail:s.message,ctaText:"Try again",icon:Ts}:{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:Ts};switch(s.privyErrorCode){case we.INVALID_CAPTCHA:return{title:"Something went wrong",detail:"Please try again.",ctaText:"Try again",icon:Ts};case we.DISALLOWED_LOGIN_METHOD:return{title:"Not allowed",detail:s.message,ctaText:"Try another method",icon:Ts};case we.ALLOWLIST_REJECTED:return{title:y.errorTitle||"You don't have access to this app",detail:y.errorDetail||"Have you been invited?",ctaText:y.errorCtaText||"Try another account",icon:ES};case we.CAPTCHA_FAILURE:return{title:"Something went wrong",detail:"You did not pass CAPTCHA. Please try again.",ctaText:"Try again",icon:null};case we.CAPTCHA_TIMEOUT:return{title:"Something went wrong",detail:"Something went wrong! Please try again later.",ctaText:"Try again",icon:null};case we.LINKED_TO_ANOTHER_USER:return{title:"Authentication failed",detail:"This account has already been linked to another user.",ctaText:"Try again",icon:Ts};case we.NOT_SUPPORTED:return{title:"This region is not supported",detail:"SMS authentication from this region is not available",ctaText:"Try another method",icon:Ts};case we.TOO_MANY_REQUESTS:return{title:"Request failed",detail:"Too many attempts.",ctaText:"Try again later",icon:Ts};default:return{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:Ts}}}})(t,e);return O.jsx(Yt,{title:b.title,subtitle:b.detail,icon:b.icon,onBack:f,iconVariant:"error",primaryCta:{label:b.ctaText,onClick:()=>{t instanceof Ai&&(t.privyErrorCode===we.INVALID_CAPTCHA&&i?.(),t.privyErrorCode===we.ALLOWLIST_REJECTED&&e.errorCtaLink)?window.location.href=e.errorCtaLink:n?.()},variant:"error"},watermark:!0})},Gn={component:()=>{let{navigate:t,data:e,lastScreen:n,currentScreen:i}=lt(),f=it(),{reset:b}=ms(),s=e?.errorModalData?.previousScreen||(n===i?void 0:n);return O.jsx(a3,{error:e?.errorModalData?.error||Error(),allowlistConfig:f.allowlistConfig,onRetry:()=>{t(s||Pi,!1)},onCaptchaReset:b})}};let G$e=ae.a.withConfig({displayName:"Link",componentId:"sc-e29a7de8-0"})(["color:var(--privy-color-accent) !important;font-weight:600;"]);const yX=({onTransfer:t,isTransferring:e,transferSuccess:n})=>O.jsx(xn,{...n?{success:!0,children:"Success!"}:{warn:!0,loading:e,onClick:t,children:"Transfer and delete account"}}),wX=ae.div.withConfig({displayName:"ConnectContainer",componentId:"sc-3505eb4c-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;width:100%;padding-bottom:16px;"]),YE=ae.div.withConfig({displayName:"GappedContainer",componentId:"sc-3505eb4c-1"})(["display:flex;flex-direction:column;&& p{font-size:14px;}width:100%;gap:16px;"]),xX=ae.div.withConfig({displayName:"DisclosedAccountContainer",componentId:"sc-3505eb4c-2"})(["display:flex;cursor:pointer;align-items:center;width:100%;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-md);padding:8px 10px;font-size:14px;font-weight:500;gap:8px;"]),V$e=ae($S).withConfig({displayName:"StyledExclamationCircleIcon",componentId:"sc-3505eb4c-3"})(["position:relative;width:",";height:",";color:var(--privy-color-foreground-3);margin-left:auto;"],(({$iconSize:t})=>`${t}px`),(({$iconSize:t})=>`${t}px`)),H$e=ae(S0e).withConfig({displayName:"StyledCopyIcon",componentId:"sc-3505eb4c-4"})(["position:relative;width:15px;height:15px;color:var(--privy-color-foreground-3);margin-left:auto;"]),Y$e=ae.ol.withConfig({displayName:"ListContainer",componentId:"sc-3505eb4c-5"})(["display:flex;flex-direction:column;font-size:14px;width:100%;text-align:left;"]),fD=ae.li.withConfig({displayName:"ListItem",componentId:"sc-3505eb4c-6"})(["font-size:14px;list-style-type:auto;list-style-position:outside;margin-left:1rem;margin-bottom:0.5rem;&:last-child{margin-bottom:0;}"]),X$e=ae.div.withConfig({displayName:"CircleContainer",componentId:"sc-3505eb4c-7"})(["position:relative;width:60px;height:60px;margin:10px;display:flex;justify-content:center;align-items:center;"]);let K$e=()=>O.jsx(X$e,{children:O.jsx(V$e,{$iconSize:60})});const Z$e=({address:t,onClose:e,onRetry:n,onTransfer:i,isTransferring:f,transferSuccess:b})=>{let{defaultChain:s}=it(),y=s.blockExplorers?.default.url??"https://etherscan.io";return O.jsxs(O.Fragment,{children:[O.jsx(zt,{onClose:e,backFn:n}),O.jsxs(wX,{children:[O.jsx(K$e,{}),O.jsxs(YE,{children:[O.jsx("h3",{children:"Check account assets before transferring"}),O.jsx("p",{children:"Before transferring, ensure there are no assets in the other account. Assets in that account will not transfer automatically and may be lost."}),O.jsxs(Y$e,{children:[O.jsx("p",{children:" To check your balance, you can:"}),O.jsx(fD,{children:"Log out and log back into the other account, or "}),O.jsxs(fD,{children:["Copy your wallet address and use a"," ",O.jsx("u",{children:O.jsx("a",{target:"_blank",href:y,children:"block explorer"})})," ","to see if the account holds any assets."]})]}),O.jsxs(xX,{onClick:()=>navigator.clipboard.writeText(t).catch(console.error),children:[O.jsx(ax,{color:"var(--privy-color-foreground-1)",strokeWidth:2,height:"28px",width:"28px"}),O.jsx(is,{address:t,showCopyIcon:!1}),O.jsx(H$e,{})]}),O.jsx(yX,{onTransfer:i,isTransferring:f,transferSuccess:b})]})]}),O.jsx(un,{})]})},dh={component:()=>{let{initiateAccountTransfer:t,closePrivyModal:e}=et(),{data:n,navigate:i,lastScreen:f,setModalData:b}=lt(),[s,y]=H.useState(void 0),[r,o]=H.useState(!1),[v,c]=H.useState(!1),u=async()=>{try{if(!n?.accountTransfer?.nonce||!n?.accountTransfer?.account)throw Error("missing account transfer inputs");c(!0),await t({nonce:n?.accountTransfer?.nonce,account:n?.accountTransfer?.account,accountType:n?.accountTransfer?.linkMethod,externalWalletMetadata:n?.accountTransfer?.externalWalletMetadata,telegramWebAppData:n?.accountTransfer?.telegramWebAppData,telegramAuthResult:n?.accountTransfer?.telegramAuthResult,farcasterEmbeddedAddress:n?.accountTransfer?.farcasterEmbeddedAddress,oAuthUserInfo:n?.accountTransfer?.oAuthUserInfo}),o(!0),c(!1),setTimeout(e,1e3)}catch(l){b({errorModalData:{error:l,previousScreen:f||dh}}),i(Gn,!0)}};return s?O.jsx(Z$e,{address:s,onClose:e,onRetry:()=>y(void 0),onTransfer:u,isTransferring:v,transferSuccess:r}):O.jsx(J$e,{onClose:e,onInfo:()=>y(n?.accountTransfer?.embeddedWalletAddress),onContinue:()=>y(n?.accountTransfer?.embeddedWalletAddress),onTransfer:u,isTransferring:v,transferSuccess:r,data:n})}},J$e=({onClose:t,onContinue:e,onInfo:n,onTransfer:i,transferSuccess:f,isTransferring:b,data:s})=>{if(!s?.accountTransfer?.linkMethod||!s?.accountTransfer?.displayName)return;let y={method:s?.accountTransfer?.linkMethod,handle:s?.accountTransfer?.displayName,disclosedAccount:s?.accountTransfer?.embeddedWalletAddress?{type:"wallet",handle:s?.accountTransfer?.embeddedWalletAddress}:void 0};return O.jsxs(O.Fragment,{children:[O.jsx(zt,{closeable:!0}),O.jsxs(wX,{children:[O.jsx(JY,{children:O.jsxs("div",{children:[O.jsx(k$e,{color:"var(--privy-color-error)"}),O.jsx(Jd,{height:38,width:38,stroke:"var(--privy-color-error)"})]})}),O.jsxs(YE,{children:[O.jsxs("h3",{children:[(function(r){switch(r){case"sms":return"Phone number";case"email":return"Email address";case"siwe":return"Wallet address";case"siws":return"Solana wallet address";case"linkedin":return"LinkedIn profile";case"google":case"apple":case"discord":case"github":case"instagram":case"spotify":case"tiktok":case"line":case"twitch":case"twitter":case"telegram":case"farcaster":return`${nY(r.replace("_oauth",""))} profile`;default:return r.startsWith("privy:")?"Cross-app account":r}})(y.method)," is associated with another account"]}),O.jsxs("p",{children:["Do you want to transfer",O.jsx("b",{children:y.handle?` ${y.handle}`:""})," to this account instead? This will delete your other account."]}),O.jsx(Q$e,{onClick:n,disclosedAccount:y.disclosedAccount})]}),O.jsxs(YE,{style:{gap:12,marginTop:12},children:[s?.accountTransfer?.embeddedWalletAddress?O.jsx(xn,{onClick:e,children:"Continue"}):O.jsx(yX,{onTransfer:i,transferSuccess:f,isTransferring:b}),O.jsx(oo,{onClick:t,children:"No thanks"})]})]}),O.jsx(un,{})]})};function Q$e({disclosedAccount:t,onClick:e}){return t?O.jsxs(xX,{onClick:e,children:[O.jsx(ax,{color:"var(--privy-color-foreground-1)",strokeWidth:2,height:"28px",width:"28px"}),O.jsx(is,{address:t.handle,showCopyIcon:!1}),O.jsx(z$e,{width:15,height:15,color:"var(--privy-color-foreground-3)",style:{marginLeft:"auto"}})]}):null}const _$e=({errorMessage:t,onClose:e})=>O.jsx(Yt,t?{title:"Something went wrong",subtitle:t,icon:Jw,iconVariant:"error",primaryCta:{label:"Close",onClick:e},watermark:!0}:{title:"Creating your wallet",subtitle:"Please wait...",iconVariant:"loading",watermark:!1}),lu={component:()=>{let{setModalData:t,navigate:e,data:n,onUserCloseViaDialogOrKeybindRef:i}=lt(),f=it(),[b,s]=H.useState(""),{embeddedWallets:y}=it(),{authenticated:r,user:o}=Vt(),{closePrivyModal:v,walletProxy:c,client:u}=et(),{onSuccess:l,onFailure:a,callAuthOnSuccessOnClose:d,shouldCreateEth:p,shouldCreateSol:h}=n.createWallet,g=f.embeddedWallets.mode==="legacy-embedded-wallets-only"&&f?.embeddedWallets.requireUserOwnedRecoveryOnCreate===!0,[m,x]=H.useState(null),{create:w}=ZT(),C=p??(!!o&&qT(o,f.embeddedWallets.ethereum.createOnLogin)),E=h??(!!o&&e7(o,f.embeddedWallets.solana.createOnLogin)),T=new Li((async()=>{let S=await u.getAccessToken();if(o&&S&&c)try{let A;if(C&&E)A=await w({chainType:"ethereum",walletIndex:0,latestUser:o}),A=await w({chainType:"solana",walletIndex:0,latestUser:A.user});else if(E)A=await w({chainType:"solana",walletIndex:0,latestUser:o});else{if(!C)return void v({shouldCallAuthOnSuccess:d});A=await w({chainType:"ethereum",walletIndex:0,latestUser:o})}x(A),e(JT)}catch(A){s(A.message)}}));return H.useEffect((()=>r&&o?g?(t({...n,createWallet:{...n.createWallet,shouldCreateEth:C,shouldCreateSol:E},recoverySelection:{...n?.recoverySelection,isInAccountCreateFlow:!0,shouldCreateEth:C,shouldCreateSol:E}}),e(xK({walletAction:"create",showAutomaticRecovery:!1,availableRecoveryMethods:y.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:!1,isResettingPassword:!1}))):void T.execute():(e(Pi),void a(Error("User must be authenticated before creating a Privy wallet")))),[g,r]),i.current=()=>null,O.jsx(_$e,{errorMessage:b||void 0,onClose:()=>{m?(l(m),v({shouldCallAuthOnSuccess:d})):(a(new ic("User wallet creation failed")),v({shouldCallAuthOnSuccess:!1}))}})}},hh={component:()=>{let{user:t,logout:e}=Vt(),{onUserCloseViaDialogOrKeybindRef:n,setModalData:i,navigate:f}=lt(),b=it(),{acceptTerms:s,closePrivyModal:y,createAnalyticsEvent:r}=et(),o=v=>{v?.preventDefault(),y({shouldCallAuthOnSuccess:!1}),e()};return n.current=o,O.jsx(q$e,{termsAndConditionsUrl:b?.legal.termsAndConditionsUrl,privacyPolicyUrl:b?.legal.privacyPolicyUrl,onAccept:async v=>{v?.preventDefault(),await s(),t&&bc(t,b.embeddedWallets)?(i({createWallet:{onSuccess:()=>{},onFailure:c=>{console.error(c),r({eventName:"embedded_wallet_creation_failure_logout",payload:{error:c,screen:"AffirmativeConsentScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),f(lu)):y()},onDecline:o})}},q$e=({termsAndConditionsUrl:t,privacyPolicyUrl:e,onAccept:n,onDecline:i,title:f="One last step",subtitle:b="By signing up, you agree to our terms and privacy policy."})=>O.jsx(Yt,{title:f,subtitle:b,icon:Sfe,primaryCta:{label:"Accept",onClick:n},secondaryCta:{label:"No thanks",onClick:i},watermark:!0,children:(t||e)&&O.jsxs(eLe,{children:[t&&O.jsxs(Ud,{variant:"muted",href:t,target:"_blank",size:"lg",style:{justifyContent:"space-between"},as:"a",children:["View Terms",O.jsx(lC,{width:16,height:16,strokeWidth:2.25})]}),e&&O.jsxs(Ud,{variant:"muted",href:e,target:"_blank",size:"lg",style:{justifyContent:"space-between"},as:"a",children:["View Privacy Policy",O.jsx(lC,{width:16,height:16,strokeWidth:2.25})]})]})});let eLe=ae.div.withConfig({displayName:"LinksContainer",componentId:"sc-21e1b98c-0"})(["display:flex;flex-direction:column;gap:12px;margin-top:var(--screen-space);"]);const bX=({color:t,...e})=>O.jsx("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 115.77 122.88",xmlSpace:"preserve",...e,children:O.jsx("g",{children:O.jsx("path",{fill:t||"currentColor",className:"st0",d:"M89.62,13.96v7.73h12.19h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02v0.02 v73.27v0.01h-0.02c-0.01,3.84-1.57,7.33-4.1,9.86c-2.51,2.5-5.98,4.06-9.82,4.07v0.02h-0.02h-61.7H40.1v-0.02 c-3.84-0.01-7.34-1.57-9.86-4.1c-2.5-2.51-4.06-5.98-4.07-9.82h-0.02v-0.02V92.51H13.96h-0.01v-0.02c-3.84-0.01-7.34-1.57-9.86-4.1 c-2.5-2.51-4.06-5.98-4.07-9.82H0v-0.02V13.96v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07V0h0.02h61.7 h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02V13.96L89.62,13.96z M79.04,21.69v-7.73v-0.02h0.02 c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v64.59v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h12.19V35.65 v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07v-0.02h0.02H79.04L79.04,21.69z M105.18,108.92V35.65v-0.02 h0.02c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v73.27v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h61.7h0.02 v0.02c0.91,0,1.75-0.39,2.37-1.01c0.61-0.61,1-1.46,1-2.37h-0.02V108.92L105.18,108.92z"})})});let tLe=ae.button.withConfig({displayName:"CopyTextButton",componentId:"sc-4b0620dc-0"})(["display:flex;align-items:center;gap:0.5rem;&:hover{text-decoration:underline;}svg{width:0.875rem;height:0.875rem;}"]),nLe=ae.span.withConfig({displayName:"CopiedText",componentId:"sc-4b0620dc-1"})(["display:flex;align-items:center;gap:0.25rem;font-size:0.875rem;color:var(--privy-color-foreground-2);"]),rLe=ae(cve).withConfig({displayName:"GreenCheck",componentId:"sc-4b0620dc-2"})(["color:var(--privy-color-success);"]),iLe=ae(bX).withConfig({displayName:"StyledCopy",componentId:"sc-4b0620dc-3"})(["color:var(--privy-color-foreground-3);opactiy:0.5;"]);function sLe({children:t,iconOnly:e,value:n,hideCopyIcon:i,...f}){let[b,s]=H.useState(!1);return O.jsxs(tLe,{...f,onClick:()=>{navigator.clipboard.writeText(n||t).catch(console.error),s(!0),setTimeout((()=>s(!1)),1500)},children:[t," ",b?O.jsxs(nLe,{children:[O.jsx(rLe,{})," ",!e&&"Copied"]}):!i&&O.jsx(iLe,{})]})}const aLe=()=>O.jsx("svg",{width:"200",height:"200",viewBox:"-77 -77 200 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px"},children:O.jsx("rect",{width:"50",height:"50",fill:"black",rx:10,ry:10})});let D6=(t,e,n,i,f)=>{for(let b=e;b<e+i;b++)for(let s=n;s<n+f;s++){let y=t?.[s];y&&y[b]&&(y[b]=0)}return t},oLe=({x:t,y:e,cellSize:n,bgColor:i,fgColor:f})=>O.jsx(O.Fragment,{children:[0,1,2].map((b=>O.jsx("circle",{r:n*(7-2*b)/2,cx:t+7*n/2,cy:e+7*n/2,fill:b%2!=0?i:f},`finder-${t}-${e}-${b}`)))}),lLe=({cellSize:t,matrixSize:e,bgColor:n,fgColor:i})=>O.jsx(O.Fragment,{children:[[0,0],[(e-7)*t,0],[0,(e-7)*t]].map((([f,b])=>O.jsx(oLe,{x:f,y:b,cellSize:t,bgColor:n,fgColor:i},`finder-${f}-${b}`)))}),uLe=({matrix:t,cellSize:e,color:n})=>O.jsx(O.Fragment,{children:t.map(((i,f)=>i.map(((b,s)=>b?O.jsx("rect",{height:e-.4,width:e-.4,x:f*e+.1*e,y:s*e+.1*e,rx:.5*e,ry:.5*e,fill:n},`cell-${f}-${s}`):O.jsx(Ze.Fragment,{},`circle-${f}-${s}`)))))}),cLe=({cellSize:t,matrixSize:e,element:n,sizePercentage:i,bgColor:f})=>{if(!n)return O.jsx(O.Fragment,{});let b=e*(i||.14),s=Math.floor(e/2-b/2),y=Math.floor(e/2+b/2);(y-s)%2!=e%2&&(y+=1);let r=(y-s)*t,o=r-.2*r,v=s*t;return O.jsxs(O.Fragment,{children:[O.jsx("rect",{x:s*t,y:s*t,width:r,height:r,fill:f}),O.jsx(n,{x:v+.1*r,y:v+.1*r,height:o,width:o})]})},dLe=t=>{let e=t.outputSize,n=((b,s)=>{let y=cge.create(b,{errorCorrectionLevel:s}).modules,r=((o,v)=>{let c=o.slice(0),u=[];for(;c.length;)u.push(c.splice(0,v));return u})(Array.from(y.data),y.size);return r=D6(r,0,0,7,7),r=D6(r,r.length-7,0,7,7),D6(r,0,r.length-7,7,7)})(t.url,t.errorCorrectionLevel),i=e/n.length,f=(function(b,{min:s,max:y}){return Math.min(Math.max(b,s),y)})(2*i,{min:.025*e,max:.036*e});return O.jsxs("svg",{height:t.outputSize,width:t.outputSize,viewBox:`0 0 ${t.outputSize} ${t.outputSize}`,style:{height:"100%",width:"100%",padding:`${f}px`},children:[O.jsx(uLe,{matrix:n,cellSize:i,color:t.fgColor}),O.jsx(lLe,{cellSize:i,matrixSize:n.length,fgColor:t.fgColor,bgColor:t.bgColor}),O.jsx(cLe,{cellSize:i,element:t.logo?.element,bgColor:t.bgColor,matrixSize:n.length})]})},hLe=ae.div.attrs({className:"ph-no-capture"}).withConfig({displayName:"QrContainer",componentId:"sc-597e27f3-0"})(["display:flex;justify-content:center;align-items:center;height:",";width:",";margin:auto;background-color:",";&&{border-width:2px;border-color:",";border-radius:var(--privy-border-radius-md);}"],(t=>`${t.$size}px`),(t=>`${t.$size}px`),(t=>t.$bgColor),(t=>t.$borderColor));const Lm=t=>{let{appearance:e}=it(),n=t.bgColor||"#FFFFFF",i=t.fgColor||"#000000",f=t.size||160,b=e.palette.colorScheme==="dark"?n:i;return O.jsx(hLe,{$size:f,$bgColor:n,$fgColor:i,$borderColor:b,children:O.jsx(dLe,{url:t.url,logo:{element:t.squareLogoElement??aLe},outputSize:f,bgColor:n,fgColor:i,errorCorrectionLevel:t.errorCorrectionLevel||"Q"})})},jd=ae.span.withConfig({displayName:"ErrorMessage",componentId:"sc-fcb8cd50-0"})(["text-align:left;font-size:0.75rem;font-weight:500;line-height:1.125rem;color:var(--privy-color-error);"]);let CX=ae.label.withConfig({displayName:"BaseEmailForm",componentId:"sc-f34af797-0"})(["display:block;position:relative;width:100%;height:56px;&& > :first-child{position:absolute;left:0.75em;top:50%;transform:translate(0,-50%);}&& > input{font-size:16px;line-height:24px;color:var(--privy-color-foreground);padding:12px 88px 12px 52px;flex-grow:1;background:var(--privy-color-background);border:1px solid ",";border-radius:var(--privy-border-radius-md);width:100%;height:100%;@media (min-width:441px){font-size:14px;padding-right:78px;}:focus{outline:none;border-color:",";box-shadow:",";}:autofill,:-webkit-autofill{background:var(--privy-color-background);}&& > input::placeholder{color:var(--privy-color-foreground-3);}&:disabled{opacity:0.4;cursor:not-allowed;}&:disabled,&:disabled:hover,&:disabled > span{color:var(--privy-color-foreground-3);}}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;}&:disabled{opacity:0.4;cursor:not-allowed;}&:disabled,&:disabled:hover,&:disabled > span{color:var(--privy-color-foreground-3);}}"],(({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-foreground-4)"),(({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-accent-light)"),(({$error:t})=>t?"none":"0 0 0 1px var(--privy-color-accent-light)"));const EX=ae(CX).withConfig({displayName:"EmailUpdateForm",componentId:"sc-f34af797-1"})(["background-color:var(--privy-color-background);transition:background-color 200ms ease;&& > button{right:0;line-height:24px;position:absolute;padding:13px 17px;background-color:#090;:focus{outline:none;border-color:var(--privy-color-accent);}}"]),fLe=ae(CX).withConfig({displayName:"EmailInputForm",componentId:"sc-f34af797-2"})(["&& > input{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding-right:",";border:1px solid ",";&& > input::placeholder{color:var(--privy-color-foreground-3);}}&& > :last-child{right:16px;position:absolute;top:50%;transform:translate(0,-50%);}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;}}"],(t=>t.$stacked?"16px":"88px"),(({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-foreground-4)")),SX=ae.div.withConfig({displayName:"InputContainerForm",componentId:"sc-f34af797-3"})(["width:100%;&& > ","{display:block;text-align:left;padding-left:var(--privy-border-radius-md);padding-bottom:5px;}"],jd),TX=({...t})=>O.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[O.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}),O.jsx("path",{d:"M3 9a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2"}),O.jsx("path",{d:"M3 11h3c.8 0 1.6.3 2.1.9l1.1.9c1.6 1.6 4.1 1.6 5.7 0l1.1-.9c.5-.5 1.3-.9 2.1-.9H21"})]}),Lf={phantom:{mobile:{native:"phantom://",universal:"https://phantom.app/ul/"}},solflare:{mobile:{native:void 0,universal:"https://solflare.com/ul/v1/"}},metamask:{image_url:{sm:BE,md:BE}}};class Ds{static normalize(e){return e.replace(/[-_]wallet$/,"").replace(/[-_]extension$/,"").toLowerCase()}isEth(e){return e.chains.some((n=>n.startsWith("eip155:")))}isSol(e){return e.chains.some((n=>n.startsWith("solana:")))}inAllowList(e,n){if(!this.normalizedAllowList||this.normalizedAllowList.length===0||n==="listing"&&this.includeWalletConnect)return!0;let i=Ds.normalize(e);return this.normalizedAllowList.some((f=>i===Ds.normalize(f)))}chainMatches(e){return this.chainFilter==="ethereum-only"?e==="ethereum":this.chainFilter!=="solana-only"||e==="solana"}connectorOk(e){return!!(e.connectorType!=="null"&&this.chainMatches(e.chainType)&&(this.inAllowList(e.walletClientType,"connector")||(e.connectorType==="injected"||e.connectorType==="solana_adapter")&&(e.chainType==="ethereum"&&this.detectedEth||e.chainType==="solana"&&this.detectedSol)))}listingOk(e){if(e.slug.includes("coinbase"))return!1;let n=this.isEth(e);if(this.isSol(e)&&!n)return!1;if(this.chainFilter==="ethereum-only"){if(!this.isEth(e))return!1}else if(this.chainFilter==="solana-only"&&!this.isSol(e))return!1;return!!this.inAllowList(e.slug,"listing")}getWallets(e,n){let i=new Map,f=r=>{let o=i.get(r.id);if(o){o.chainType!==r.chainType&&(o.chainType="multi");let v=new Set(o.chains);r.chains.forEach((c=>v.add(c))),o.chains=Array.from(v),!o.icon&&r.icon&&(o.icon=r.icon),!o.url&&r.url&&(o.url=r.url),!o.listing&&r.listing&&(o.listing=r.listing)}else i.set(r.id,r)};e.filter((r=>this.connectorOk(r))).forEach((r=>{let o=Ds.normalize(r.walletClientType);f({id:o,label:r.walletBranding?.name??o,source:"connector",connector:r,chainType:r.chainType,icon:r.walletBranding?.icon,url:void 0,chains:[r.chainType==="ethereum"?"eip155":"solana"]})})),n.filter((r=>this.listingOk(r))).forEach((r=>{let o=r.chains.filter((l=>!l.startsWith("solana:"))),v=Ds.normalize(r.slug),c=Lf[r.slug],u=c?.image_url?.sm||r.image_url?.sm;f({id:v,label:r.name||v,source:"listing",listing:r,chainType:"ethereum",icon:u,url:r.homepage,chains:o})}));let b=e.find((r=>r.connectorType==="wallet_connect_v2"));this.includeWalletConnectQr&&b&&f({id:"wallet_connect_qr",label:"WalletConnect",source:"connector",connector:b,chainType:"ethereum",icon:OY,url:void 0,chains:[b.chainType==="ethereum"?"eip155":"solana"]});let s=Array.from(i.values());s.forEach((r=>{let o=Lf[r.listing?.slug||r.id];o?.image_url?.sm&&(r.icon=o.image_url.sm)}));let y=new Map;return this.normalizedAllowList?.forEach(((r,o)=>{y.set(Ds.normalize(r),o)})),{wallets:s.slice().sort(((r,o)=>{let v=Ds.normalize(r.id),c=Ds.normalize(o.id);v==="binance-defi"?v="binance":v==="universalprofiles"?v="universal_profile":v==="cryptocom-defi"&&(v="cryptocom"),c==="binance-defi"?c="binance":c==="universalprofiles"?c="universal_profile":c==="cryptocom-defi"&&(c="cryptocom");let u=y.has(v),l=y.has(c);return u&&l?y.get(v)-y.get(c):u?-1:l?1:r.source==="connector"&&o.source==="listing"?-1:r.source==="listing"&&o.source==="connector"?1:r.label.toLowerCase().localeCompare(o.label.toLowerCase())})),walletCount:s.length}}constructor(e,n){this.chainFilter=e,n&&n.length>0&&(this.normalizedAllowList=n.map(String),this.normalizedAllowList.includes("binance")&&this.normalizedAllowList.push("binance-defi-wallet")),this.detectedEth=this.normalizedAllowList?.includes("detected_ethereum_wallets")??!1,this.detectedSol=this.normalizedAllowList?.includes("detected_solana_wallets")??!1,this.includeWalletConnect=this.normalizedAllowList?.includes("wallet_connect")??!1,this.includeWalletConnectQr=this.normalizedAllowList?.includes("wallet_connect_qr")??!1}}var XE=t=>O.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",...t,children:[O.jsx("path",{d:"m0 0h32v32h-32z",fill:"#5469d4"}),O.jsx("path",{d:"m15.997 5.333-.143.486v14.106l.143.143 6.548-3.87z",fill:"#c2ccf4"}),O.jsx("path",{d:"m15.996 5.333-6.548 10.865 6.548 3.87z",fill:"#fff"}),O.jsx("path",{d:"m15.997 21.306-.08.098v5.025l.08.236 6.552-9.227z",fill:"#c2ccf4"}),O.jsx("path",{d:"m15.996 26.665v-5.36l-6.548-3.867z",fill:"#fff"}),O.jsx("path",{d:"m15.995 20.07 6.548-3.87-6.548-2.976v6.847z",fill:"#8698e8"}),O.jsx("path",{d:"m9.448 16.2 6.548 3.87v-6.846z",fill:"#c2ccf4"})]}),KE=t=>O.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",...t,children:[O.jsxs("linearGradient",{id:"a",gradientUnits:"userSpaceOnUse",x1:"7.233",x2:"24.766",y1:"24.766",y2:"7.234",children:[O.jsx("stop",{offset:"0",stopColor:"#9945ff"}),O.jsx("stop",{offset:".2",stopColor:"#7962e7"}),O.jsx("stop",{offset:"1",stopColor:"#00d18c"})]}),O.jsx("path",{d:"m0 0h32v32h-32z",fill:"#10111a"}),O.jsx("path",{clipRule:"evenodd",d:"m9.873 20.41a.645.645 0 0 1 .476-.21l14.662.012a.323.323 0 0 1 .238.54l-3.123 3.438a.643.643 0 0 1 -.475.21l-14.662-.012a.323.323 0 0 1 -.238-.54zm15.376-2.862a.322.322 0 0 1 -.238.54l-14.662.012a.642.642 0 0 1 -.476-.21l-3.122-3.44a.323.323 0 0 1 .238-.54l14.662-.012a.644.644 0 0 1 .475.21zm-15.376-9.738a.644.644 0 0 1 .476-.21l14.662.012a.322.322 0 0 1 .238.54l-3.123 3.438a.643.643 0 0 1 -.475.21l-14.662-.012a.323.323 0 0 1 -.238-.54z",fill:"url(#a)",fillRule:"evenodd"})]});const pLe=ae.div.withConfig({displayName:"WalletIconWithActiveIndicator",componentId:"sc-9b65f2b6-2"})(["position:relative;display:inline-flex;align-items:center;&::after{content:' ';border-radius:var(--privy-border-radius-full);height:6px;width:6px;background-color:var(--privy-color-icon-success);position:absolute;right:-3px;top:-3px;}"]),Ov=ae.img.withConfig({displayName:"WalletIcon",componentId:"sc-9b65f2b6-3"})(["width:32px;height:32px;border-radius:0.25rem;object-fit:contain;"]),vLe=ae.span.withConfig({displayName:"Chip",componentId:"sc-9b65f2b6-4"})(["display:flex;gap:0.25rem;align-items:center;padding:0.25rem 0.5rem;font-size:0.75rem;font-weight:500;line-height:1.125rem;border-radius:var(--privy-border-radius-sm);background-color:var(--privy-color-background-2);svg{width:100%;max-width:1rem;max-height:1rem;stroke-width:2;}"]),gLe=Fp((()=>({isModalOpen:!1,resolvers:null})));Fp((()=>({})));const mLe=({address:t,client:e,appId:n})=>{let i=`${e}:${t}`;n&&Ct.put(yLe(n),i),gLe.setState({wallet:i})},yLe=t=>`privy:${t}:active-wallet-connection`;function AX({walletList:t,walletChainType:e}){let n=it(),{connectors:i}=et(),f=Mm((d=>d.listings)),b=e??n.appearance.walletChainType,s=t??n.appearance?.walletList,y=H.useMemo((()=>new Ds(b,s)),[b,s]),{wallets:r,walletCount:o}=H.useMemo((()=>y.getWallets(i,f)),[y,i,f]),[v,c]=H.useState(""),u=H.useMemo((()=>v?r.filter((d=>d.label.toLowerCase().includes(v.toLowerCase()))):r),[v,r]),[l,a]=H.useState();return{selected:l,setSelected:a,search:v,setSearch:c,wallets:u,walletCount:o}}let PX=t=>!t||typeof t!="string"&&(t instanceof NT||t instanceof UT);const ZE=({index:t,style:e,data:n,recent:i})=>{let f=n.wallets[t],{walletChainType:b,handleWalletClick:s}=n,y={...e,boxSizing:"border-box"};return f?O.jsxs(o2,{style:y,onClick:()=>s(f),children:[f.icon&&(f.connector&&!PX(f.connector)?O.jsx(pLe,{children:typeof f.icon=="string"?O.jsx(Ov,{src:f.icon}):O.jsx(f.icon,{style:{width:"32px",height:"32px"}})}):typeof f.icon=="string"?O.jsx(Ov,{src:f.icon}):O.jsx(f.icon,{style:{width:"32px",height:"32px"}})),O.jsx(l2,{children:f.label}),i?O.jsxs(O.Fragment,{children:[O.jsx(vLe,{children:"Last used"}),O.jsx(vw,{children:O.jsxs(O.Fragment,{children:[b==="ethereum-only"&&O.jsx(XE,{}),b==="solana-only"&&O.jsx(KE,{})]})})]}):O.jsx(vw,{children:!(b==="ethereum-only"||b==="solana-only")&&O.jsxs(O.Fragment,{children:[f.chains?.some((r=>r.startsWith("eip155")))&&O.jsx(XE,{}),f.chains?.some((r=>r.startsWith("solana")))&&O.jsx(KE,{})]})})]}):null};var IX=({className:t,customDescription:e,connectOnly:n,preSelectedWalletId:i,...f})=>{let b=it(),{connectors:s}=et(),y=f.walletChainType||b.appearance.walletChainType,r=f.walletList||b.appearance?.walletList,{onBack:o,onClose:v,app:c}=f,{selected:u,setSelected:l,qrUrl:a,setQrUrl:d,connecting:p,uiState:h,wallets:g,walletCount:m,handleConnect:x,handleBack:w,showSearchBar:C,isInitialConnectView:E,title:T,search:S,setSearch:A}=(function({onConnect:N,onBack:k,onClose:j,onConnectError:W,walletList:G,walletChainType:K,app:z}){let X=it(),{connectors:U}=et(),{wallets:Z,walletCount:V,search:J,setSearch:_,selected:ee,setSelected:te}=AX({walletList:G,walletChainType:K}),[ie,le]=H.useState(),[he,fe]=H.useState(),[oe,Ce]=H.useState(),ye=!ee&&!he&&!oe,Ee=ye&&(V>6||J.length>0),Ie=U.find((Ae=>Ae.connectorType==="wallet_connect_v2")),je=H.useCallback((async(Ae,Xe)=>{if(Ae){if(oe?.connector===Ae)return void console.log("Already connecting to this wallet, skipping duplicate attempt");if(le("loading"),typeof Ae=="string")return Ce({connector:Ae,name:Xe?.name??"Wallet",icon:Xe?.icon}),void window.open(Ae,"_blank");Ce({connector:Ae,name:Xe?.name??Ae.walletBranding.name??"Wallet",icon:Xe?.icon??Ae.walletBranding.icon});try{let st=await Ae.connect({showPrompt:!0});if(!st)return le("error"),void W?.(new On("Unable to connect wallet"));le("success"),mLe({address:st.address,client:st.walletClientType,appId:X.id}),setTimeout((()=>{N({connector:Ae,wallet:st})}),Wn)}catch(st){if(console.error("ERROR: ",{e:st}),st?.message?.includes("already pending for origin")||st?.message?.includes("wallet_requestPermissions"))return void console.log("Connection request already pending, maintaining loading state");le("error"),W?.(new On("Unable to connect wallet"))}}}),[X.id,N,oe]),Re=H.useCallback((()=>he?(le(void 0),Ce(void 0),void fe(void 0)):oe?(le(void 0),void Ce(void 0)):ee?(le(void 0),Ce(void 0),void te(void 0)):ie==="error"||ie==="loading"?(le(void 0),void Ce(void 0)):void k?.()),[he,oe,ee,ie,k]),$e=H.useMemo((()=>oe?.connector===Ie&&he&&tn.isMobile?`Go to ${oe.name} to continue`:oe?.connector===Ie&&he?`Scan code to connect to ${oe.name}`:typeof oe?.connector=="string"?`Open or install ${oe.name}`:ee&&!oe?"Select network":oe?null:"Select your wallet"),[oe,he,ee,Ie]);return{selected:ee,setSelected:te,qrUrl:he,setQrUrl:fe,connecting:oe,uiState:ie,search:J,setSearch:_,wallets:Z,walletCount:V,wc:Ie,isInitialConnectView:ye,showSearchBar:Ee,title:$e,handleConnect:je,handleBack:Re,onClose:j,onConnect:N,app:z}})({...f,walletList:r,walletChainType:y}),P=s.find((N=>N.connectorType==="wallet_connect_v2")),R=H.useRef(null),L=zve({count:g.length,getScrollElement:()=>R.current,estimateSize:()=>56,overscan:6,gap:5}),D=H.useCallback((async N=>{let k,j=y!=="solana-only"&&N.chains?.some((K=>K.startsWith("eip155"))),W=y!=="ethereum-only"&&N.chains?.some((K=>K.startsWith("solana"))),G=BT[N.id];if(W&&G)k=G.getMobileRedirect({isSolana:!0,connectOnly:!!n,useUniversalLink:!1});else{let K=N.listing?.mobile?.native;k=N.listing?.mobile?.universal||K||N.url}if(j&&W){let K=Ds.normalize(N.id),z=s.filter((Z=>Ds.normalize(Z.walletClientType)===K&&!(Z.chainType==="ethereum"&&Z instanceof NT||Z.chainType==="solana"&&Z instanceof UT))),X=z.find((Z=>Z.chainType==="ethereum")),U=z.find((Z=>Z.chainType==="solana"));if(!X&&N.listing){let Z=Lf[N.listing.slug]?{...N.listing,...Lf[N.listing.slug]}:N.listing;P.setWalletEntry(Z,d),await P.resetConnection(N.id),X=P}if(!U&&k&&(U=k),X||U)return void l({eth:X,sol:U,name:N.label,icon:N.icon})}if(!PX(N.connector))return N.connector?.connectorType==="wallet_connect_v2"&&(await P.resetConnection(N.id),P.setWalletEntry({id:"wallet_connect_qr",name:"WalletConnect",rdns:"",slug:"wallet-connect",homepage:"",chains:["eip155"],mobile:{native:"",universal:void 0}},d)),void await x(N.connector,{name:N.label,icon:N.icon});if(j||W||N.url||N.listing){if(j&&N.listing){let K=Lf[N.listing.slug]?{...N.listing,...Lf[N.listing.slug]}:N.listing;P.setWalletEntry(K,d),await P.resetConnection(N.id)}if(j&&W)return void l({eth:P,sol:k,name:N.label,icon:N.icon});if(W)return void await x(k,{name:N.label,icon:N.icon});if(j)return void(N.listing?await x(P,{name:N.label,icon:N.icon}):N.url?await x(N.url,{name:N.label,icon:N.icon}):console.warn("Cannot connect to EVM wallet without connector or listing details:",N.label));if(N.url)return void await x(N.url,{name:N.label,icon:N.icon})}}),[P,x,l,d,w,v,c,E,T,e,b,s]),F=o||w,$=!!o||!E;return H.useEffect((()=>{if(!i)return;let N=g.find((({id:k})=>k===i));N&&D(N).catch(console.error)}),[i]),O.jsxs(mn,{className:t,children:[O.jsx(mn.Header,{icon:p&&!a||a&&tn.isMobile&&p?.icon?p.icon:p?void 0:TX,iconVariant:p&&!a||a&&tn.isMobile?"loading":void 0,iconLoadingStatus:p&&!a||a&&tn.isMobile?{success:h==="success",fail:h==="error"}:void 0,title:p&&!a?`Waiting for ${p.name}`:a&&tn.isMobile?`Waiting for ${p?.name??"connection"}`:T,subtitle:p&&!a&&typeof p.connector=="string"?`To connect to ${p.name}, install and open the app. Then confirm the connection when prompted.`:p&&!a&&typeof p.connector!="string"?h==="error"?"Please try connecting again.":"For the best experience, connect only one wallet at a time.":E?e??(c?`Connect a wallet to your ${c.name} account`:null):null,showBack:$,showClose:!0,onBack:F,onClose:v}),O.jsxs(mn.Body,{ref:R,$colorScheme:b.appearance.palette.colorScheme,style:{marginBottom:a?"0.5rem":void 0},children:[C&&O.jsx(wLe,{children:O.jsxs(EX,{style:{background:"transparent"},children:[O.jsx(Za,{children:O.jsx(Ave,{})}),O.jsx("input",{className:"login-method-button",type:"text",placeholder:"Search wallets",onChange:N=>A(N.target.value),value:S})]})}),a&&tn.isMobile&&h==="loading"&&O.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:O.jsx(Ud,{variant:"primary",onClick:()=>window.open(a.universal??a.native,"_blank"),style:{width:"100%"},children:"Open in app"})}),a&&!tn.isMobile&&h==="loading"&&O.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:O.jsx(CLe,{value:a.universal??a.native,iconOnly:!0,children:"Copy link"})}),a&&!tn.isMobile&&O.jsx(Lm,{size:280,url:a.universal??a.native,squareLogoElement:p?.icon?typeof p.icon=="string"?N=>O.jsx("svg",{...N,children:O.jsx("image",{href:p.icon,height:N.height,width:N.width})}):p.icon:mOe}),O.jsxs(xLe,{children:[p&&!a&&typeof p.connector=="string"&&O.jsxs(o2,{onClick:()=>window.open(p.connector,"_blank"),children:[p.icon&&(typeof p.icon=="string"?O.jsx(Ov,{src:p.icon}):O.jsx(p.icon,{})),O.jsx(l2,{children:p.name})]}),u?.eth&&!p&&O.jsxs(o2,{onClick:()=>x(u.eth,{name:u.name,icon:u.icon}),children:[u.icon&&(typeof u.icon=="string"?O.jsx(Ov,{src:u.icon}):O.jsx(u.icon,{})),O.jsx(l2,{children:u.name}),O.jsx(vw,{children:O.jsx(XE,{})})]}),u?.sol&&!p&&O.jsxs(o2,{onClick:()=>x(u.sol,{name:u.name,icon:u.icon}),children:[u.icon&&(typeof u.icon=="string"?O.jsx(Ov,{src:u.icon}):O.jsx(u.icon,{})),O.jsx(l2,{children:u.name}),O.jsx(vw,{children:O.jsx(KE,{})})]}),E&&O.jsxs(O.Fragment,{children:[!(m>0)&&O.jsx(bLe,{children:"No wallets found. Try another search."}),m>0&&!a&&O.jsx("div",{style:{maxHeight:56*Math.min(g.length,5)+5,width:"100%"},children:O.jsx("div",{style:{height:`${L.getTotalSize()}px`,width:"100%",position:"relative"},children:L.getVirtualItems().map((N=>O.jsx(ZE,{index:N.index,style:{position:"absolute",top:0,left:0,height:`${N.size}px`,transform:`translateY(${N.start}px)`},data:{wallets:g,walletChainType:y,handleWalletClick:D}},N.key)))})})]})]})]}),O.jsxs(mn.Footer,{children:[p&&!a&&typeof p.connector!="string"&&h==="error"&&O.jsx(mn.Actions,{children:O.jsx(Ud,{style:{width:"100%",alignItems:"center"},variant:"error",onClick:()=>x(p.connector,{name:p.name,icon:p.icon}),children:"Retry"})}),!!(c&&c.legal.privacyPolicyUrl&&c.legal.termsAndConditionsUrl)&&O.jsx(zT,{app:c,alwaysShowImplicitConsent:!0}),O.jsx(mn.Watermark,{})]})]})};let wLe=ae.div.withConfig({displayName:"StickySearchContainer",componentId:"sc-850f7dce-0"})(["position:sticky;margin-top:-3px;padding-top:3px;top:-3px;z-index:1;background:var(--privy-color-background);padding-bottom:calc(var(--screen-space) / 2);"]),xLe=ae.div.withConfig({displayName:"WalletListContainer",componentId:"sc-850f7dce-1"})(["display:flex;flex-direction:column;gap:","px;"],5),o2=ae.button.withConfig({displayName:"Button",componentId:"sc-850f7dce-2"})(["&&{gap:0.5rem;align-items:center;display:flex;position:relative;text-align:left;font-weight:500;transition:background 200ms ease-in;width:calc(100% - 4px);border-radius:var(--privy-border-radius-md);padding:0.75em;border:1px solid var(--privy-color-foreground-4);justify-content:space-between;}&:hover{background:var(--privy-color-background-2);}"]),vw=ae.span.withConfig({displayName:"ButtonBadge",componentId:"sc-850f7dce-3"})(["display:flex;align-items:center;justify-content:end;position:relative;& > svg{border-radius:var(--privy-border-radius-full);stroke-width:2.5;width:100%;max-height:1rem;max-width:1rem;flex-shrink:0;}& > svg:not(:last-child){border-radius:var(--privy-border-radius-full);margin-right:-0.375rem;}"]),bLe=ae.div.withConfig({displayName:"EmptyContainer",componentId:"sc-850f7dce-4"})(["height:60px;display:flex;align-items:center;justify-content:center;text-align:center;"]),l2=ae.span.withConfig({displayName:"WalletName",componentId:"sc-850f7dce-5"})(["text-overflow:ellipsis;white-space:nowrap;color:var(--privy-color-foreground);font-weight:400;flex:1;"]),CLe=ae(sLe).withConfig({displayName:"StyledCopyableText",componentId:"sc-850f7dce-6"})(["&&{margin:0.5rem auto 0 auto;}"]);const ELe=({...t})=>O.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",...t,children:[O.jsxs("g",{clipPath:"url(#clip0_2856_1743)",children:[O.jsx("path",{d:"M22.1673 8.24075V16.3642C22.1673 17.3256 21.3421 18.105 20.3241 18.105H17.0028M22.1673 8.24075C22.1673 7.27936 21.3421 6.5 20.3241 6.5H11.5302M22.1673 8.24075V8.42852C22.1673 9.03302 21.8352 9.59423 21.2901 9.91105L15.1463 13.4818C14.5539 13.8261 13.8067 13.8261 13.2143 13.4818L10.1621 11.5401",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),O.jsx("path",{d:"M3.12913 6.64816C0.508085 12.9507 3.49251 20.1847 9.79504 22.8057L11.5068 23.5176C12.4522 23.9108 13.7783 23.2222 14.1714 22.2768L14.6054 21.2333C14.7687 20.8406 14.6438 20.3871 14.3024 20.1334L11.2872 17.8927C10.9878 17.6702 10.5843 17.6488 10.2632 17.8384L9.11575 18.5156C8.78274 18.7121 8.3597 18.6844 8.07552 18.4221C5.94293 16.4542 4.77629 13.6264 4.90096 10.7273C4.91757 10.3409 5.19796 10.023 5.57269 9.92753L6.86381 9.59869C7.22522 9.50664 7.49627 9.20696 7.55169 8.83815L8.10986 5.12321C8.17306 4.70259 7.94188 4.29293 7.54915 4.1296L6.50564 3.69564C5.56026 3.30248 4.23416 3.99103 3.84101 4.9364L3.12913 6.64816Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),O.jsx("defs",{children:O.jsx("clipPath",{id:"clip0_2856_1743",children:O.jsx("rect",{x:"0.5",y:"0.5",width:"24",height:"24",rx:"6",fill:"white"})})})]}),pD=t=>{let e=localStorage.getItem("-walletlink:https://www.walletlink.org:Addresses")?.split(" ").filter((n=>Ti(n,{strict:!0}))).map((n=>yr(n)));return!!e?.length&&!!t?.linkedAccounts.filter((n=>n.type=="wallet"&&e.includes(n.address))).length};let RX=H.createContext({plugins:{current:{}}});const SLe=({children:t})=>{let e=H.useRef({});return O.jsx(RX.Provider,{value:{plugins:e},children:t})},n7=()=>{let{plugins:t}=H.useContext(RX);return H.useCallback((e=>t.current[e]),[t])},MX=Symbol("solana-ledger-plugin"),TLe=({title:t="You don't have access to this app",subtitle:e="Have you been invited?",ctaText:n="Try another account",ctaLink:i,onCtaClick:f})=>O.jsx(Yt,{title:t,subtitle:e,icon:ES,iconVariant:"warning",primaryCta:{label:n,onClick:()=>{i?window.open(i,"_blank"):f?.()}},watermark:!0}),o3={component:()=>{let{navigate:t}=lt(),e=it(),n=e?.allowlistConfig.errorTitle||"You don't have access to this app",i=e?.allowlistConfig.errorDetail||"Have you been invited?",f=e?.allowlistConfig.errorCtaText||"Try another account",b=e?.allowlistConfig.errorCtaLink;return O.jsx(TLe,{title:n,subtitle:i,ctaText:f,ctaLink:b??void 0,onCtaClick:()=>{t(Pi)}})}},ALe=({status:t,title:e,description:n,userIntentRequired:i,retriesRemaining:f,hasSelectedCta:b,onContinue:s,onRetry:y})=>{let r=H.useMemo((()=>{switch(t){case"loading":default:return;case"success":return i?{label:b?"Continuing...":"Continue",onClick:s,disabled:b,loading:b}:void 0;case"error":return f>0?{label:"Retry",onClick:y}:void 0}}),[t,b,s,y]),o=H.useMemo((()=>({loading:"loading",ready:"subtle",disabled:"subtle",success:"success",error:"error"})[t]||"loading"),[t]);return O.jsx(Yt,{icon:t==="loading"||t==="ready"?void 0:t==="success"?dm:Jw,iconVariant:o,title:e,subtitle:n,primaryCta:r,watermark:!0})},uo={component:()=>{let{lastScreen:t,data:e,navigate:n,setModalData:i}=lt(),{status:f,token:b,waitForResult:s,reset:y,execute:r}=ms(),o=H.useRef([]),v=E=>{o.current=[E,...o.current]},[c,u]=H.useState(!0);H.useEffect((()=>(v(setTimeout(u,1e3,!1)),()=>{o.current.forEach((E=>clearTimeout(E))),o.current=[]})),[]);let[l,a]=H.useState(""),[d,p]=H.useState("Checking that you are a human..."),[h,g]=H.useState(!1),[m,x]=H.useState(3),w=e?.captchaModalData,C=async E=>{try{await w?.callback(E),w?.onSuccessNavigateTo&&n(w?.onSuccessNavigateTo,!1)}catch(T){if(T instanceof Gx)return;i({errorModalData:{error:T,previousScreen:t||Pi}}),n(w?.onErrorNavigateTo||Gn,!1)}};return H.useEffect((()=>{f==="success"?v(setTimeout((async()=>{let E=await s();!E||w?.userIntentRequired||C(E)}),1e3)):f==="ready"&&v(setTimeout((()=>{f==="ready"&&r()}),500))}),[f]),H.useEffect((()=>{if(!c)switch(f){case"success":a("Success!"),p("CAPTCHA passed successfully."),w?.userIntentRequired||setTimeout((()=>{g(!0),C(b)}),2e3);break;case"loading":a(""),p("Checking that you are a human...");break;case"error":a("Something went wrong"),p(m<=0?"If you use an adblocker or VPN, try disabling and re-attempting.":"You did not pass CAPTCHA. Please try again.")}}),[f,c,h]),O.jsx(ALe,{status:f,title:l,description:d,userIntentRequired:w?.userIntentRequired,retriesRemaining:m,hasSelectedCta:h,onContinue:()=>{g(!0),C(b)},onRetry:async()=>{if(m<=0)return;x((T=>T-1)),y(),r();let E=await s();!E||w?.userIntentRequired||C(E)}})}},PLe=t=>O.jsx("svg",{id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"-0.625 12.48 397.647 399.546",width:"2500",height:"674",preserveAspectRatio:"none",...t,children:O.jsx("g",{children:O.jsx("path",{fill:"#333745",d:"M 333.9 12.8 L 150.9 12.8 L 150.9 258.4 L 396.5 258.4 L 396.5 76.7 C 396.6 42.2 368.4 12.8 333.9 12.8 Z M 94.7 12.8 L 64 12.8 C 29.5 12.8 0 40.9 0 76.8 L 0 107.5 L 94.7 107.5 L 94.7 12.8 Z M 0 165 L 94.7 165 L 94.7 259.7 L 0 259.7 L 0 165 Z M 301.9 410.6 L 332.6 410.6 C 367.1 410.6 396.6 382.5 396.6 346.6 L 396.6 316 L 301.9 316 L 301.9 410.6 Z M 150.9 316 L 245.6 316 L 245.6 410.7 L 150.9 410.7 L 150.9 316 Z M 0 316 L 0 346.7 C 0 381.2 28.1 410.7 64 410.7 L 94.7 410.7 L 94.7 316 L 0 316 Z"})})}),ILe=({onContinueWithLedger:t,onContinueWithoutLedger:e,title:n="Phantom supports Ledger",subtitle:i=`Are you using a Ledger hardware wallet?
Continue to sign with Ledger`})=>O.jsx(Yt,{title:n,subtitle:O.jsx(OLe,{children:i}),primaryCta:{label:"Continue with Ledger",onClick:t},secondaryCta:{label:"Continue without Ledger",onClick:e},watermark:!0,children:O.jsxs(MLe,{children:[O.jsx(AY,{style:{width:"48px",height:"48px"}}),O.jsx(wfe,{strokeWidth:2,color:"var(--privy-color-icon-subtle)",width:22,height:22}),O.jsx(PLe,{style:{width:"48px",height:"48px"}})]})}),RLe={component:function(){let{data:t,setModalData:e,navigate:n}=lt();return O.jsx(ILe,{onContinueWithLedger:function(){e({...t,login:{...t?.login,isSigningInWithLedgerSolana:!0}}),n(Zl)},onContinueWithoutLedger:function(){e({...t,login:{...t?.login,isSigningInWithLedgerSolana:!1}}),n(Zl)}})}};let MLe=ae.div.withConfig({displayName:"IconContainer",componentId:"sc-218811f1-0"})(["display:flex;align-items:center;justify-content:center;gap:8px;margin-bottom:var(--screen-space);"]),OLe=ae.span.withConfig({displayName:"SubtitleText",componentId:"sc-218811f1-1"})(["white-space:pre-wrap;"]);const FLe=({style:t,...e})=>O.jsx("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"38px",width:"38px",...t},...e,children:O.jsx("path",{d:"M20 13.6V20M20 26.4H20.016M36 20C36 28.8365 28.8366 36 20 36C11.1635 36 4.00001 28.8365 4.00001 20C4.00001 11.1634 11.1635 3.99999 20 3.99999C28.8366 3.99999 36 11.1634 36 20Z",stroke:"currentColor",strokeWidth:"3.2",strokeLinecap:"round",strokeLinejoin:"round"})}),$Le=({title:t="Unable to sign in",subtitle:e="This is a test application that has reached its user limit. To allow more users, this app needs to be upgraded to production.",onGoBack:n})=>O.jsx(Yt,{title:t,subtitle:e,icon:FLe,iconVariant:"subtle",primaryCta:{label:"Go back",onClick:n},showBack:!0,onBack:n,watermark:!0}),Dm={component:()=>{let{navigate:t}=lt();return O.jsx($Le,{onGoBack:()=>{t(Pi)}})}},OX=t=>t?.privyErrorCode===we.LINKED_TO_ANOTHER_USER?hd.ERROR_USER_EXISTS:t instanceof bi&&!t.details.default?t.details:t instanceof CY?hd.ERROR_TIMED_OUT:t?.privyErrorCode===we.CANNOT_LINK_MORE_OF_TYPE?hd.ERROR_USER_LIMIT_REACHED:hd.ERROR_WALLET_CONNECTION,LLe=({walletLogo:t,title:e,subtitle:n,signSuccess:i,errorMessage:f,connectSuccess:b,separateConnectAndSign:s,signing:y,walletConnectRedirectUri:r,walletConnectFallbackUniversalUri:o,hasTabbedAway:v,showCoinbaseWalletResetCta:c,numRetries:u,onBack:l,onSign:a,onRetry:d,onCoinbaseReset:p,onDifferentWallet:h})=>{let g=c?{label:"Use a different wallet",onClick:p,disabled:i}:f===hd.ERROR_USER_EXISTS&&l?{label:"Use a different wallet",onClick:h}:b&&!i&&s?{label:y?"Signing":"Sign with your wallet",onClick:a,disabled:y}:!i&&f?.retryable&&u<2?{label:"Retry",onClick:d,disabled:!1}:i||f?void 0:{label:"Connecting",onClick:()=>{},disabled:!0};return O.jsx(Yt,{title:e,subtitle:n,icon:t,iconVariant:"loading",iconLoadingStatus:{success:i,fail:!!f},primaryCta:g,onBack:l,watermark:!0,children:!b&&r&&!v&&O.jsxs(DLe,{children:["Still here?"," ",O.jsx(bp,{href:r,target:"_blank",variant:"underlined",size:"sm",children:"Try connecting again"}),o&&O.jsxs(O.Fragment,{children:[" ","or"," ",O.jsx(bp,{href:o,target:"_blank",variant:"underlined",size:"sm",children:"use this different link"})]})]})})},Zl={component:()=>{let t,[e,n]=H.useState(!1),[i,f]=H.useState(!1),[b,s]=H.useState(void 0),{authenticated:y,logout:r}=Vt(),{navigate:o,navigateBack:v,lastScreen:c,currentScreen:u,setModalData:l,data:a}=lt(),d=it(),{getAuthFlow:p,walletConnectionStatus:h,closePrivyModal:g,initLoginWithWallet:m,loginWithWallet:x,updateWallets:w,createAnalyticsEvent:C}=et(),{walletConnectors:E}=Vt(),[T,S]=H.useState(0),{user:A}=Vt(),P=n7(),[R]=H.useState(A?.linkedAccounts.length||0),[L,D]=H.useState(""),[F,$]=H.useState(""),[N,k]=H.useState(!1),{hasTabbedAway:j}=(function(){let[oe,Ce]=H.useState(!1),ye=H.useCallback((()=>{document.hidden&&Ce(!0)}),[]);return H.useEffect((()=>(document.addEventListener("visibilitychange",ye),()=>document.removeEventListener("visibilitychange",ye))),[ye]),{hasTabbedAway:oe,reset:()=>Ce(!1)}})(),{enabled:W,token:G}=ms(),K=yc(h?.connector?.walletClientType||"unknown"),z=tn.isMobile&&h?.connector?.connectorType==="wallet_connect_v2"||tn.isMobile&&h?.connector?.connectorType==="coinbase_wallet"||tn.isMobile&&h?.connector?.connectorType==="base_account"||tn.isMobile&&h?.connector?.connectorType==="injected"&&h?.connector?.walletClientType==="phantom"||tn.isMobile&&h?.connector?.connectorType==="solana_adapter"&&h.connector.walletClientType==="mobile_wallet_adapter",X=h?.status==="connected",U=h?.status==="switching_to_supported_chain";H.useEffect((()=>{let oe=p(),Ce=oe instanceof Xf||oe instanceof uw?oe:void 0;X&&h.connector?.chainType==="solana"&&h.connector?.walletClientType==="phantom"&&P(MX)&&a?.login?.isSigningInWithLedgerSolana===void 0?o(RLe,!1):(X&&!Ce&&(!W||G||y?m(h.connectedWallet,G,a?.login?.disableSignup,a?.login?.isSigningInWithLedgerSolana?"transaction":"plain").then((()=>{k(!0)})):(l({captchaModalData:{callback:ye=>m(h.connectedWallet,ye,a?.login?.disableSignup,a?.login?.isSigningInWithLedgerSolana?"transaction":"plain").then((()=>{k(!0)})),userIntentRequired:!1,onSuccessNavigateTo:Zl,onErrorNavigateTo:Gn}}),o(uo,!1))),Ce instanceof uw&&a?.login?.isSigningInWithLedgerSolana&&(Ce.messageType="transaction"),Ce&&z&&X&&!Ce.preparedMessage?Ce.buildMessage():Ce&&!z&&X&&(i||(async()=>{f(!0),s(void 0);try{h?.connector?.connectorType==="wallet_connect_v2"&&h?.connector?.walletClientType==="metamask"&&await cw(2500),await V()}catch(ye){console.warn("Auto-prompted signature failed",ye)}finally{f(!1)}})()))}),[T,X,N]),H.useEffect((()=>{if(A&&e){let oe=900;if(d?.legal.requireUsersAcceptTerms&&!A.hasAcceptedTerms){let ye=setTimeout((()=>{o(hh)}),oe);return()=>clearTimeout(ye)}if(bc(A,d.embeddedWallets)){let ye=setTimeout((()=>{l({createWallet:{onSuccess:()=>{},onFailure:Ee=>{console.error(Ee),C({eventName:"embedded_wallet_creation_failure_logout",payload:{error:Ee,screen:"ConnectionStatusScreen"}}),r()},callAuthOnSuccessOnClose:!0}}),o(lu)}),oe);return()=>clearTimeout(ye)}w();let Ce=setTimeout((()=>g({shouldCallAuthOnSuccess:!0,isSuccess:!0})),Wn);return()=>clearTimeout(Ce)}}),[A,e]);let Z=oe=>{if(oe?.privyErrorCode!==we.ALLOWLIST_REJECTED){if(oe?.privyErrorCode===we.USER_LIMIT_REACHED)return console.error(new cm(oe).toString()),void o(Dm);if(oe?.privyErrorCode!==we.USER_DOES_NOT_EXIST)return oe?.privyErrorCode===we.ACCOUNT_TRANSFER_REQUIRED&&oe.data?.data?.nonce?(l({accountTransfer:{nonce:oe.data?.data?.nonce,account:p()?.meta.address,displayName:oe.data?.data?.account?.displayName,externalWalletMetadata:{walletClientType:p()?.meta.walletClientType,chainId:p()?.meta.chainId,connectorType:p()?.meta.connectorType},linkMethod:p()instanceof Xf?"siwe":"siws",embeddedWalletAddress:oe.data?.data?.otherUser?.embeddedWalletAddress}}),void o(dh)):void s(OX(oe));o($m)}else o(o3)};async function V(){try{await x(),n(!0)}catch(oe){Z(oe)}finally{f(!1)}}H.useEffect((()=>{h?.connectError&&Z(h?.connectError)}),[h]),((oe,Ce)=>{let ye=H.useRef((()=>{}));H.useEffect((()=>{ye.current=oe})),H.useEffect((()=>{if(Ce!==null){let Ee=setInterval((()=>ye.current()),Ce||0);return()=>clearInterval(Ee)}}),[Ce])})((()=>{let oe=J==="wallet_connect_v2"&&h?.connector instanceof Zf?h.connector.redirectUri:void 0;oe&&D(oe);let Ce=J==="wallet_connect_v2"&&h?.connector instanceof Zf?h.connector.fallbackUniversalRedirectUri:void 0;Ce&&$(Ce)}),h?.connector instanceof Zf&&!L?500:null);let J=h?.connector?.connectorType||"injected",_=h?.connector?.walletClientType||"unknown",ee=K?.metadata?.shortName||K?.name||h?.connector?.walletBranding.name||"Browser Extension",te=K?.image_url?.md||h?.connector?.walletBranding.icon||(oe=>O.jsx(kT,{...oe})),ie=ee==="Browser Extension"?ee.toLowerCase():ee;t=e?`Successfully connected with ${ie}`:b?b.message:U?"Switching networks":X?i&&z?"Signing":"Sign to verify":`Waiting for ${ie}`;let le="Dont see your wallet? Check your other browser windows.";e?le=R===(A?.linkedAccounts.length||0)?"Wallet was already linked.":"Youre good to go!":T>=2&&b?le="Unable to connect wallet":b?le=b.detail:U?le="Switch your wallet to the requested network.":X&&z?le="Sign the message in your wallet to verify it belongs to you.":_==="metamask"&&tn.isMobile?le="Click continue to open and connect MetaMask.":_==="metamask"?le="For the best experience, connect only one wallet at a time.":J==="wallet_connect"?le="Open your mobile wallet app to continue":J==="coinbase_wallet"?gY()||(le=pD(A)?"Continue with the Coinbase app. Not the right wallet? Reset your connection below.":"Confirm in the Coinbase app/popup to continue."):a?.login?.isSigningInWithLedgerSolana&&(le="Ledger requires a transaction to verify your identity. Youll sign a transaction that performs no onchain action.");let he=E?.walletConnectors?.find((oe=>oe.walletClientType==="coinbase_wallet")),fe=_==="coinbase_wallet"&&(pD(A)||b===hd.ERROR_USER_EXISTS);return O.jsx(LLe,{walletLogo:te,title:t,subtitle:le,signSuccess:e,errorMessage:b,connectSuccess:X,separateConnectAndSign:z,signing:i,walletConnectRedirectUri:L,walletConnectFallbackUniversalUri:F,hasTabbedAway:j,showCoinbaseWalletResetCta:fe,numRetries:T,onBack:c&&u!==c?v:void 0,onSign:()=>{f(!0),V()},onRetry:()=>{S(T+1),s(void 0),X?(f(!0),V()):h?.connectRetry()},onCoinbaseReset:()=>{he&&he?.disconnect()},onDifferentWallet:v})}};let DLe=ae.p.withConfig({displayName:"RedirectLinksContainer",componentId:"sc-7b4251f2-0"})(["text-align:center;color:var(--privy-color-foreground-2);font-size:14px;line-height:22px;margin:16px 0;"]);const u2={component:()=>{let{setWalletConnectionStatus:t,closePrivyModal:e,inProgressAuthFlowRef:n}=et(),{data:i,navigate:f}=lt(),b=it(),s=uh(),y=i?.externalConnectWallet?.description,r=H.useRef(i?.externalConnectWallet?.walletList??b.appearance.walletList),o=H.useRef(i?.externalConnectWallet?.walletChainType??b.appearance.walletChainType),v=r.current,c=o.current,u=n.current==="link"?void 0:()=>f(Pi);return O.jsx(IX,{walletList:v,walletChainType:c,onClose:e,onConnect:H.useCallback((({connector:l,wallet:a})=>{s("connectWallet","onSuccess",{wallet:a}),t({status:"connected",connectedWallet:a,connector:l,connectError:null,connectRetry:()=>null}),f(Zl,!i?.externalConnectWallet?.preSelectedWalletId)}),[t,f,i?.login?.disableSignup,i?.externalConnectWallet?.preSelectedWalletId]),onConnectError:l=>{l instanceof Ai?(console.warn(l.cause?l.cause:l.message),s("connectWallet","onError",l.privyErrorCode||we.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(l),s("connectWallet","onError",we.UNKNOWN_CONNECT_WALLET_ERROR))},onBack:u,customDescription:y||"",preSelectedWalletId:i?.externalConnectWallet?.preSelectedWalletId,app:b})},isUnauthenticatedScreem:!0},FX=({children:t,theme:e})=>O.jsxs(NLe,{$theme:e,children:[O.jsx(Sve,{width:"20px",height:"20px",color:"var(--privy-color-icon-subtle)",strokeWidth:2,style:{flexShrink:0}}),O.jsx(kLe,{$theme:e,children:t})]});let NLe=ae.div.withConfig({displayName:"Container",componentId:"sc-1b5ed8dd-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-background-2);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),kLe=ae.div.withConfig({displayName:"Content",componentId:"sc-1b5ed8dd-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],(t=>t.$theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)"));const zd=ae.span.withConfig({displayName:"Subtitle",componentId:"sc-7a11f796-0"})(["margin-top:4px;color:var(--privy-color-foreground);text-align:center;font-size:0.875rem;font-weight:400;line-height:1.375rem;&& a{color:var(--privy-color-accent);}"]),hc=ae.span.withConfig({displayName:"Title",componentId:"sc-66de63c-0"})(["color:var(--privy-color-foreground);font-size:1.125rem;font-weight:600;line-height:1.875rem;text-align:center;"]),r7=ae.span.withConfig({displayName:"LabelXs",componentId:"sc-4c43f9fd-0"})(["color:var(--privy-color-foreground-3);font-size:0.75rem;font-weight:500;line-height:1.125rem;"]),$X=Dr(["&&{border-width:1px;padding:0.5rem 1rem;}width:100%;text-align:left;border:solid 1px var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);display:flex;justify-content:space-between;align-items:center;",""],(t=>t.$state==="error"?`
        border-color: var(--privy-color-error);
        background: var(--privy-color-error-bg);
      `:"")),l3=ae.div.withConfig({displayName:"Box",componentId:"sc-7252360a-0"})(["",""],$X);let BLe=ae(l3).withConfig({displayName:"StyledBox",componentId:"sc-4010d8f3-0"})(["&&{padding:0.75rem;height:56px;}"]),ULe=ae.div.withConfig({displayName:"WalletContent",componentId:"sc-4010d8f3-1"})(["display:flex;align-items:center;justify-content:space-between;width:100%;"]),jLe=ae.div.withConfig({displayName:"AddressContainer",componentId:"sc-4010d8f3-2"})(["display:flex;flex-direction:column;gap:0;"]),zLe=ae.div.withConfig({displayName:"BalanceText",componentId:"sc-4010d8f3-3"})(["font-size:12px;line-height:1rem;color:var(--privy-color-foreground-3);"]),WLe=ae(r7).withConfig({displayName:"TitleLabel",componentId:"sc-4010d8f3-4"})(["text-align:left;margin-bottom:0.5rem;"]),GLe=ae(jd).withConfig({displayName:"StyledErrorMessage",componentId:"sc-4010d8f3-5"})(["margin-top:0.25rem;"]),VLe=ae(oo).withConfig({displayName:"CopyButton",componentId:"sc-4010d8f3-6"})(["&&{gap:0.375rem;font-size:14px;}"]);const u3=({errMsg:t,balance:e,address:n,className:i,title:f,showCopyButton:b=!1})=>{let[s,y]=H.useState(!1);return H.useEffect((()=>{if(s){let r=setTimeout((()=>y(!1)),3e3);return()=>clearTimeout(r)}}),[s]),O.jsxs("div",{children:[f&&O.jsx(WLe,{children:f}),O.jsx(BLe,{className:i,$state:t?"error":void 0,children:O.jsxs(ULe,{children:[O.jsxs(jLe,{children:[O.jsx(is,{address:n,showCopyIcon:!1}),e!==void 0&&O.jsx(zLe,{children:e})]}),b&&O.jsx(VLe,{onClick:function(r){r.stopPropagation(),navigator.clipboard.writeText(n).then((()=>y(!0))).catch(console.error)},size:"sm",children:O.jsxs(O.Fragment,s?{children:["Copied",O.jsx(Eg,{size:14})]}:{children:["Copy",O.jsx(M2,{size:14})]})})]})}),t&&O.jsx(GLe,{children:t})]})};function LX({rpcConfig:t,appId:e,address:n,chain:i}){let{chains:f}=et(),[b,s]=H.useState(0n),[y,r]=H.useState(!1),o=H.useMemo((()=>{let c=i||f[0];if(c)return tl({chain:i,transport:nl(iu(c,t,e))})}),[i,t,e]),v=H.useCallback((async()=>{if(!n||!o)return;r(!0);let c=await o.getBalance({address:n}).catch(console.error);return c?(s(c),r(!1),c):void 0}),[o,n,s]);return H.useEffect((()=>{v().catch(console.error)}),[]),{balance:b,isLoading:y,reloadBalance:v}}const sl="sdk_fiat_on_ramp_completed_with_status";async function i7({rpc:t,address:e}){return(await t.getBalance(e,{commitment:"confirmed"}).send()).value??0n}function c3(t){switch(t){case"solana:mainnet":return"Solana";case"solana:devnet":return"Devnet";case"solana:testnet":return"Testnet"}}function N6(t){let[e]=Object.entries(yFe[t]).find((([n,i])=>i.symbol==="USDC"))??[];return e}const s7=async({chain:t,address:e,appId:n,rpcConfig:i,erc20Address:f})=>({balance:await tl({chain:t,transport:nl(iu(t,i,n))}).readContract({address:f,abi:HLe,functionName:"balanceOf",args:[e]}).catch((()=>0n)),chain:t});let HLe=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];const gw={component:()=>{let{wallets:t}=ch(),{connectors:e}=et(),n=e.filter(Vx).flatMap((A=>A.wallets)),{data:i,setModalData:f,navigate:b,lastScreen:s}=lt(),{rpcConfig:y,appId:r,createAnalyticsEvent:o,closePrivyModal:v}=et(),c=it(),[u,l]=H.useState(void 0),[a,d]=H.useState(!1),p=i?.funding,{reloadBalance:h}=LX({rpcConfig:y,appId:r,address:p.chainType==="ethereum"?p.address:void 0,chain:p.chainType==="ethereum"?p.chain:void 0}),g=p.chainType==="solana",m=g?p.isUSDC?"USDC":"SOL":p.erc20Address?p.erc20ContractInfo?.symbol:p.chain.nativeCurrency.symbol,x=g?n.find((({address:A})=>A===p.address)):t.find((({address:A})=>Oi(A)===Oi(p.address)));if(!p)return f({errorModalData:{error:Error("Couldn't find funding config"),previousScreen:s||va},funding:i?.funding,solanaFundingData:i?.solanaFundingData,sendTransaction:i?.sendTransaction}),b(Gn),O.jsx(O.Fragment,{});H.useEffect((()=>{let A=g?async function(){if(p.chainType!=="solana")return;let R=c.solanaRpcs[p.chain];R?(p.isUSDC?(async function({rpc:L,address:D,mintAddress:F}){let $=await L.getTokenAccountsByOwner(D,{mint:F},{encoding:"jsonParsed",commitment:"confirmed"}).send(),N=$.value[0]?.account;return N?BigInt(N.data.parsed.info.tokenAmount.amount):0n})({rpc:R.rpc,address:p.address,mintAddress:N6(p.chain)}):i7({rpc:R.rpc,address:p.address})).then((L=>{let D=BigInt(L);u&&D>u&&(d(!0),o({eventName:sl,payload:{provider:"manual",status:"success",chainType:"solana",address:x?.address,value:p.isUSDC?as(D-u,6):as(D-u,9),token:p.isUSDC?"USDC":"SOL"}})),l(D)})):console.warn("Unable to load solana rpc, skipping balance")}:async function(){p.chainType==="ethereum"&&(async()=>{if(!p.erc20Address)return await h()??BigInt(0);{let{balance:R}=await s7({chain:p.chain,address:p.address,erc20Address:p.erc20Address,rpcConfig:y,appId:r});return R}})().then((R=>{u&&R>u&&(d(!0),o({eventName:sl,payload:{provider:"manual",status:"success",chainType:"ethereum",address:x?.address,chainId:p.chain.id,value:as(R-u,p.erc20ContractInfo?.decimals??18),token:p.erc20ContractInfo?.symbol??p.erc20Address??"ETH"}})),l(R)})).catch((()=>l(void 0)))},P=setInterval(A,2e3);return A(),()=>clearInterval(P)}),[u]);let w=H.useMemo((()=>u==null?"":p.isUSDC?aC({amount:u,decimals:6}):g?a2(u,3,!0,!0):p.erc20ContractInfo?.decimals!=null?aC({amount:u,decimals:p.erc20ContractInfo.decimals}):yde({wei:u})),[u,g,p]),C=p.chainType==="ethereum"?p.chain.name:c3(p.chain),E=H.useMemo((()=>p.uiConfig?.receiveFundsTitle===""?null:O.jsx(hc,{children:p.uiConfig?.receiveFundsTitle??`Receive ${p.amount} ${m??""}`.trim()})),[p.uiConfig?.receiveFundsTitle,p.amount,m]),T=H.useMemo((()=>p.uiConfig?.receiveFundsSubtitle===""?null:O.jsx(zd,{children:p.uiConfig?.receiveFundsSubtitle??`Scan this code or copy your wallet address to receive funds on ${C}.`})),[p.uiConfig?.receiveFundsSubtitle,C]),S=p.chainType==="solana"&&p.isUSDC&&N6(p.chain)?`?spl-token=${N6(p.chain)}`:"";return O.jsxs(O.Fragment,{children:[O.jsx(ba,{}),E,T,O.jsxs(Zx,{style:{gap:"1rem",margin:E||T?"1rem 0":"0"},children:[O.jsx(Lm,{url:`${p.chainType}:${p.address}${S}`,size:200,squareLogoElement:YLe}),O.jsxs(FX,{theme:c.appearance.palette.colorScheme,children:["Make sure to send funds on ",C,"."]}),O.jsx(u3,{title:"Your wallet",errMsg:void 0,showCopyButton:!0,balance:`${w} ${m}`,address:p.address}),a&&O.jsx(xn,{onClick:()=>v({shouldCallAuthOnSuccess:!1,isSuccess:!0}),children:"Continue"})]}),O.jsx(un,{})]})}};let YLe=({...t})=>O.jsx(TY,{color:"black",...t}),XLe=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];const DX=async({address:t,chain:e,rpcConfig:n,privyAppId:i})=>{try{let f=tl({chain:e,transport:nl(iu(e,n,i))}),[b,s]=await Promise.all([f.readContract({abi:vD,address:t,functionName:"symbol"}),f.readContract({abi:vD,address:t,functionName:"decimals"})]);return{decimals:s,symbol:b}}catch(f){return console.log(f),null}};let vD=[{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],KLe=2n**256n-1n;const mw=({amount:t,decimals:e})=>t===KLe?"Maximum":Intl.NumberFormat(void 0,{maximumFractionDigits:e}).format(Number(t)/10**e);let ZLe=({data:t})=>{let e=n=>typeof n=="object"&&n!==null?O.jsx(JLe,{children:Object.entries(n).map((([i,f])=>O.jsxs("li",{children:[O.jsxs("strong",{children:[i,":"]})," ",e(f)]},i)))}):O.jsx("span",{children:String(n)});return O.jsx("div",{children:e(t)})};const NX=ae.div.withConfig({displayName:"Message",componentId:"sc-70ec2a4f-0"})(["margin-top:1.5rem;background-color:var(--privy-color-background-2);border-radius:var(--privy-border-radius-md);padding:12px;text-align:left;max-height:310px;overflow:scroll;white-space:pre-wrap;width:100%;font-size:0.875rem;font-weight:400;color:var(--privy-color-foreground);line-height:1.5;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]);let JLe=ae.ul.withConfig({displayName:"MessageList",componentId:"sc-70ec2a4f-1"})(["margin-left:12px !important;white-space:nowrap;&:first-child{margin-left:0 !important;}strong{font-weight:500 !important;}"]);const kX=({data:t,className:e})=>O.jsx(NX,{className:e,children:O.jsx(ZLe,{data:t})});let QLe=ae.div.withConfig({displayName:"Container",componentId:"sc-b3a607dd-0"})(["display:flex;flex-direction:column;min-height:72px;"]);var _Le=({onBack:t,details:e})=>O.jsxs(QLe,{children:[O.jsx(zt,{backFn:t}),O.jsx(kX,{data:e}),O.jsx(un,{})]});const gn=ae.span.withConfig({displayName:"LabelSm",componentId:"sc-6c002d6-0"})(["color:var(--privy-color-foreground-3);font-size:0.875rem;font-weight:400;line-height:1.375rem;"]),qLe=ae(gn).withConfig({displayName:"LabelSmPrimary",componentId:"sc-6c002d6-1"})(["color:var(--privy-color-accent);"]),eDe=ae(gn).withConfig({displayName:"InteractiveLabel",componentId:"sc-b57d0824-0"})(["cursor:pointer;display:inline-flex;gap:8px;align-items:center;color:var(--privy-color-accent);svg{fill:var(--privy-color-accent);}"]),a7=ae.span.withConfig({displayName:"Rows",componentId:"sc-b764aab6-0"})(["display:flex;flex-direction:column;gap:0.35rem;width:100%;"]),Mn=ae.span.withConfig({displayName:"Row",componentId:"sc-b764aab6-1"})(["display:flex;width:100%;justify-content:space-between;gap:0.5rem;"]);let tDe=az(["from,to{background:var(--privy-color-foreground-4);color:var(--privy-color-foreground-4);}50%{background:var(--privy-color-foreground-accent);color:var(--privy-color-foreground-accent);}"]);const d3=Dr(["",""],(t=>t.$isLoading?Dr(["width:35%;animation:"," 2s linear infinite;border-radius:var(--privy-border-radius-sm);"],tDe):"")),ur=ae.span.withConfig({displayName:"Value",componentId:"sc-72aa026-0"})(["color:var(--privy-color-foreground);font-size:0.875rem;font-weight:500;line-height:1.375rem;word-break:break-all;text-align:right;",""],d3);var gD=({iconUrl:t,value:e,symbol:n,usdValue:i,nftName:f,nftCount:b,decimals:s,$isLoading:y})=>{if(y)return O.jsx(mD,{$isLoading:y});let r=e&&i&&s?(function(o,v,c){let u=parseFloat(o),l=parseFloat(c);if(u===0||l===0||Number.isNaN(u)||Number.isNaN(l))return o;let a=Math.ceil(-Math.log10(.01/(l/u))),d=Math.pow(10,a=Math.max(a=Math.min(a,v),1)),p=+(Math.floor(u*d)/d).toFixed(a).replace(/\.?0+$/,"");return Intl.NumberFormat(void 0,{maximumFractionDigits:v}).format(p)})(e,s,i):e;return O.jsxs("div",{children:[O.jsxs(mD,{$isLoading:y,children:[t&&O.jsx(rDe,{src:t,alt:"Token icon"}),b&&b>1?b+"x":void 0," ",f,r," ",n]}),i&&O.jsxs(nDe,{$isLoading:y,children:["$",i]})]})};let mD=ae.span.withConfig({displayName:"Value",componentId:"sc-991db279-0"})(["color:var(--privy-color-foreground);font-size:0.875rem;font-weight:500;line-height:1.375rem;word-break:break-all;text-align:right;display:flex;justify-content:flex-end;",""],d3);const nDe=ae.span.withConfig({displayName:"Subvalue",componentId:"sc-991db279-1"})(["color:var(--privy-color-foreground-2);font-size:12px;font-weight:400;line-height:18px;word-break:break-all;text-align:right;display:flex;justify-content:flex-end;",""],d3);let rDe=ae.img.withConfig({displayName:"TokenIcon",componentId:"sc-991db279-2"})(["height:14px;width:14px;margin-right:4px;object-fit:contain;"]);const iDe=t=>{let{chain:e,transactionDetails:n,isTokenContractInfoLoading:i,symbol:f}=t,{action:b,functionName:s}=n;return O.jsx(l3,{children:O.jsxs(a7,{children:[b!=="transaction"&&O.jsxs(Mn,{children:[O.jsx(gn,{children:"Action"}),O.jsx(ur,{children:s})]}),s==="mint"&&"args"in n&&n.args.filter((y=>y)).map(((y,r)=>O.jsxs(Mn,{children:[O.jsx(gn,{children:`Param ${r}`}),O.jsx(ur,{children:typeof y=="string"&&ds(y)?O.jsx(is,{address:y,url:e?.blockExplorers?.default?.url,showCopyIcon:!1}):y?.toString()})]},r))),s==="setApprovalForAll"&&n.operator&&O.jsxs(Mn,{children:[O.jsx(gn,{children:"Operator"}),O.jsx(ur,{children:O.jsx(is,{address:n.operator,url:e?.blockExplorers?.default?.url,showCopyIcon:!1})})]}),s==="setApprovalForAll"&&n.approved!==void 0&&O.jsxs(Mn,{children:[O.jsx(gn,{children:"Set approval to"}),O.jsx(ur,{children:n.approved?"true":"false"})]}),s==="transfer"||s==="transferFrom"||s==="safeTransferFrom"||s==="approve"?O.jsxs(O.Fragment,{children:["formattedAmount"in n&&n.formattedAmount&&O.jsxs(Mn,{children:[O.jsx(gn,{children:"Amount"}),O.jsxs(ur,{$isLoading:i,children:[n.formattedAmount," ",f]})]}),"tokenId"in n&&n.tokenId&&O.jsxs(Mn,{children:[O.jsx(gn,{children:"Token ID"}),O.jsx(ur,{children:n.tokenId.toString()})]})]}):null,s==="safeBatchTransferFrom"&&O.jsxs(O.Fragment,{children:["amounts"in n&&n.amounts&&O.jsxs(Mn,{children:[O.jsx(gn,{children:"Amounts"}),O.jsx(ur,{children:n.amounts.join(", ")})]}),"tokenIds"in n&&n.tokenIds&&O.jsxs(Mn,{children:[O.jsx(gn,{children:"Token IDs"}),O.jsx(ur,{children:n.tokenIds.join(", ")})]})]}),s==="approve"&&n.spender&&O.jsxs(Mn,{children:[O.jsx(gn,{children:"Spender"}),O.jsx(ur,{children:O.jsx(is,{address:n.spender,url:e?.blockExplorers?.default?.url,showCopyIcon:!1})})]}),(s==="transferFrom"||s==="safeTransferFrom"||s==="safeBatchTransferFrom")&&n.transferFrom&&O.jsxs(Mn,{children:[O.jsx(gn,{children:"Transferring from"}),O.jsx(ur,{children:O.jsx(is,{address:n.transferFrom,url:e?.blockExplorers?.default?.url,showCopyIcon:!1})})]}),(s==="transferFrom"||s==="safeTransferFrom"||s==="safeBatchTransferFrom")&&n.transferTo&&O.jsxs(Mn,{children:[O.jsx(gn,{children:"Transferring to"}),O.jsx(ur,{children:O.jsx(is,{address:n.transferTo,url:e?.blockExplorers?.default?.url,showCopyIcon:!1})})]})]})})},BX=({children:t,theme:e})=>O.jsxs(sDe,{$theme:e,children:[O.jsx($S,{width:"20px",height:"20px",color:"var(--privy-color-icon-error)",strokeWidth:2,style:{flexShrink:0}}),O.jsx(aDe,{$theme:e,children:t})]});let sDe=ae.div.withConfig({displayName:"Container",componentId:"sc-34910fd1-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-error-bg);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),aDe=ae.div.withConfig({displayName:"Content",componentId:"sc-34910fd1-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],(t=>t.$theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)"));const UX=({children:t,theme:e})=>O.jsxs(oDe,{$theme:e,children:[O.jsx(Jd,{width:"20px",height:"20px",color:"var(--privy-color-icon-warning)",strokeWidth:2,style:{flexShrink:0}}),O.jsx(lDe,{$theme:e,children:t})]});let oDe=ae.div.withConfig({displayName:"Container",componentId:"sc-a77c2854-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-warn-bg);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),lDe=ae.div.withConfig({displayName:"Content",componentId:"sc-a77c2854-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],(t=>t.$theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)"));const uDe=({variant:t,setPreventMaliciousTransaction:e,colorScheme:n="light",preventMaliciousTransaction:i})=>t==="warn"?O.jsx(yD,{children:O.jsxs(UX,{theme:n,children:[O.jsx("span",{style:{fontWeight:"500"},children:"Warning: Suspicious transaction"}),O.jsx("br",{}),"This has been flagged as a potentially deceptive request. Approving could put your assets or funds at risk."]})}):t==="error"?O.jsx(O.Fragment,{children:O.jsxs(yD,{children:[O.jsx(BX,{theme:n,children:O.jsxs("div",{children:[O.jsx("strong",{children:"This is a malicious transaction"}),O.jsx("br",{}),"This transaction transfers tokens to a known malicious address. Proceeding may result in the loss of valuable assets."]})}),O.jsxs(cDe,{children:[O.jsx(aX,{color:"var(--privy-color-error)",checked:!i,readOnly:!0,onClick:()=>e(!i)}),O.jsx("span",{children:"I understand and want to proceed anyways."})]})]})}):null;let yD=ae.div.withConfig({displayName:"BannerContainer",componentId:"sc-ab8a5a0b-0"})(["margin-top:1.5rem;"]),cDe=ae.div.withConfig({displayName:"CheckboxContainer",componentId:"sc-ab8a5a0b-1"})(["display:flex;align-items:center;gap:0.5rem;margin-top:0.75rem;"]);const dDe=({transactionIndex:t,maxIndex:e})=>typeof t!="number"||e===0?"":` (${t+1} / ${e+1})`,hDe=({img:t,submitError:e,prepareError:n,onClose:i,action:f,title:b,subtitle:s,to:y,tokenAddress:r,network:o,missingFunds:v,fee:c,from:u,cta:l,disabled:a,chain:d,isSubmitting:p,isPreparing:h,isTokenPriceLoading:g,isTokenContractInfoLoading:m,isSponsored:x,symbol:w,balance:C,onClick:E,transactionDetails:T,transactionIndex:S,maxIndex:A,onBack:P,chainName:R,validation:L,hasScanDetails:D,setIsScanDetailsOpen:F,preventMaliciousTransaction:$,setPreventMaliciousTransaction:N,tokensSent:k,tokensReceived:j,isScanning:W,isCancellable:G,functionName:K})=>{let{showTransactionDetails:z,setShowTransactionDetails:X,hasMoreDetails:U,isErc20Ish:Z}=(_=>{let[ee,te]=H.useState(!1),ie=!0,le=!1;return(!_||_.isErc20Ish||_.action==="transaction")&&(ie=!1),ie&&(le=Object.entries(_||{}).some((([he,fe])=>fe&&!["action","isErc20Ish","isNFTIsh"].includes(he)))),{showTransactionDetails:ee,setShowTransactionDetails:te,hasMoreDetails:ie&&le,isErc20Ish:_?.isErc20Ish}})(T),V=it(),J=Z&&m||h||g||W;return O.jsxs(O.Fragment,{children:[O.jsx(zt,{onClose:i,backFn:P}),t&&O.jsx(vDe,{children:t}),O.jsxs(hc,{style:{marginTop:t?"1.5rem":0},children:[b,O.jsx(dDe,{maxIndex:A,transactionIndex:S})]}),O.jsx(zd,{children:s}),O.jsxs(a7,{style:{marginTop:"2rem"},children:[(!!k[0]||J)&&O.jsxs(Mn,{children:[j.length>0?O.jsx(gn,{children:"Send"}):O.jsx(gn,{children:f==="approve"?"Approval amount":"Amount"}),O.jsx("div",{className:"flex flex-col",children:k.map(((_,ee)=>O.jsx(gD,{iconUrl:_.iconUrl,value:K==="setApprovalForAll"?"All":_.value,usdValue:_.usdValue,symbol:_.symbol,nftName:_.nftName,nftCount:_.nftCount,decimals:_.decimals},ee)))})]}),j.length>0&&O.jsxs(Mn,{children:[O.jsx(gn,{children:"Receive"}),O.jsx("div",{className:"flex flex-col",children:j.map(((_,ee)=>O.jsx(gD,{iconUrl:_.iconUrl,value:_.value,usdValue:_.usdValue,symbol:_.symbol,nftName:_.nftName,nftCount:_.nftCount,decimals:_.decimals},ee)))})]}),T&&"spender"in T&&T?.spender?O.jsxs(Mn,{children:[O.jsx(gn,{children:"Spender"}),O.jsx(ur,{children:O.jsx(is,{address:T.spender,url:d?.blockExplorers?.default?.url})})]}):null,y&&O.jsxs(Mn,{children:[O.jsx(gn,{children:"To"}),O.jsx(ur,{children:O.jsx(is,{address:y,url:d?.blockExplorers?.default?.url,showCopyIcon:!0})})]}),r&&O.jsxs(Mn,{children:[O.jsx(gn,{children:"Token address"}),O.jsx(ur,{children:O.jsx(is,{address:r,url:d?.blockExplorers?.default?.url})})]}),O.jsxs(Mn,{children:[O.jsx(gn,{children:"Network"}),O.jsx(ur,{children:o})]}),O.jsxs(Mn,{children:[O.jsx(gn,{children:"Estimated fee"}),O.jsx(ur,{$isLoading:h||g||x===void 0,children:x?O.jsxs(gDe,{children:[O.jsxs(mDe,{children:["Sponsored by ",V.name]}),O.jsx(sve,{height:16,width:16})]}):c})]}),U&&!D&&O.jsxs(O.Fragment,{children:[O.jsx(Mn,{className:"cursor-pointer",onClick:()=>X(!z),children:O.jsxs(qLe,{className:"flex items-center gap-x-1",children:["Details"," ",O.jsx(LS,{style:{width:"0.75rem",marginLeft:"0.25rem",transform:z?"rotate(180deg)":void 0}})]})}),z&&T&&O.jsx(iDe,{action:f,chain:d,transactionDetails:T,isTokenContractInfoLoading:m,symbol:w})]}),D&&O.jsx(Mn,{children:O.jsxs(eDe,{onClick:()=>F(!0),children:[O.jsx("span",{className:"text-color-primary",children:"Details"}),O.jsx(h0e,{height:"14px",width:"14px",strokeWidth:"2"})]})})]}),O.jsx(wp,{}),e?O.jsx(jd,{style:{marginTop:"2rem"},children:e.message}):n&&S===0?O.jsx(jd,{style:{marginTop:"2rem"},children:n.shortMessage??pDe}):null,O.jsx(uDe,{variant:L,preventMaliciousTransaction:$,setPreventMaliciousTransaction:N}),O.jsx(fDe,{$useSmallMargins:!(!n&&!e&&L!=="warn"&&L!=="error"),address:u,balance:C,errMsg:h||n||e||!v?void 0:`Add funds on ${d?.name??R} to complete transaction.`}),O.jsx(xn,{style:{marginTop:"1rem"},loading:p,disabled:a||h,onClick:E,children:l}),G&&O.jsx(Xx,{style:{marginTop:"1rem"},onClick:i,isSubmitting:!1,children:"Not now"}),O.jsx(un,{})]})};let fDe=ae(u3).withConfig({displayName:"StyledWalletInfoCard",componentId:"sc-cbe5ab37-0"})(["",""],(t=>t.$useSmallMargins?"margin-top: 0.5rem;":"margin-top: 2rem;")),pDe="There was an error preparing your transaction. Your transaction request will likely fail.",vDe=ae.div.withConfig({displayName:"ImageContainer",componentId:"sc-cbe5ab37-2"})(["display:flex;width:100%;justify-content:center;max-height:40px;> img{object-fit:contain;border-radius:var(--privy-border-radius-sm);}"]),gDe=ae.span.withConfig({displayName:"SponsoredRow",componentId:"sc-cbe5ab37-3"})(["display:inline-flex;align-items:center;gap:0.3rem;"]),mDe=ae.span.withConfig({displayName:"SponsoredText",componentId:"sc-cbe5ab37-4"})(["font-size:14px;font-weight:500;color:var(--privy-color-foreground);"]),yDe=()=>O.jsxs(EDe,{children:[O.jsx(TDe,{}),O.jsx(SDe,{})]});const wDe=({transactionError:t,chainId:e,onClose:n,onRetry:i,chainType:f,transactionHash:b})=>{let{chains:s}=et(),[y,r]=H.useState(!1),{errorCode:o,errorMessage:v}=((u,l)=>{if(l==="ethereum")return{errorCode:u.details??u.message,errorMessage:u.shortMessage};let a=u.txSignature,d=u?.transactionMessage||"Something went wrong.";if(Array.isArray(u.logs)){let p=u.logs.find((h=>/insufficient (lamports|funds)/gi.test(h)));p&&(d=p)}return{transactionHash:a,errorMessage:d}})(t,f),c=(({chains:u,chainId:l,chainType:a,transactionHash:d})=>a==="ethereum"?u.find((p=>p.id===l))?.blockExplorers?.default.url??"https://etherscan.io":(function(p,h){return`https://explorer.solana.com/tx/${p}?chain=${h}`})(d||"",l))({chains:s,chainId:e,chainType:f,transactionHash:b});return O.jsxs(O.Fragment,{children:[O.jsx(zt,{onClose:n}),O.jsxs(xDe,{children:[O.jsx(yDe,{}),O.jsx(bDe,{children:o}),O.jsx(CDe,{children:"Please try again."}),O.jsxs(xD,{children:[O.jsx(wD,{children:"Error message"}),O.jsx(bD,{$clickable:!1,children:v})]}),b&&O.jsxs(xD,{children:[O.jsx(wD,{children:"Transaction hash"}),O.jsxs(PDe,{children:["Copy this hash to view details about the transaction on a"," ",O.jsx("u",{children:O.jsx("a",{href:c,children:"block explorer"})}),"."]}),O.jsxs(bD,{$clickable:!0,onClick:async()=>{await navigator.clipboard.writeText(b),r(!0)},children:[b,O.jsx(MDe,{clicked:y})]})]}),O.jsx(ADe,{onClick:()=>i({resetNonce:!!b}),children:"Retry transaction"})]}),O.jsx(fr,{})]})};let xDe=ae.div.withConfig({displayName:"TransactionErrorScreenContainer",componentId:"sc-d58f10e6-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;"]),bDe=ae.span.withConfig({displayName:"ErrorCode",componentId:"sc-d58f10e6-1"})(["color:var(--privy-color-foreground);text-align:center;font-size:1.125rem;font-weight:500;line-height:1.25rem;text-align:center;margin:10px;"]),CDe=ae.span.withConfig({displayName:"Subtitle",componentId:"sc-d58f10e6-2"})(["margin-top:4px;margin-bottom:10px;color:var(--privy-color-foreground-3);text-align:center;font-size:0.875rem;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;"]),EDe=ae.div.withConfig({displayName:"CircleContainer",componentId:"sc-d58f10e6-3"})(["position:relative;width:60px;height:60px;margin:10px;display:flex;justify-content:center;align-items:center;"]),SDe=ae($S).withConfig({displayName:"StyledExclamationCircleIcon",componentId:"sc-d58f10e6-4"})(["position:absolute;width:35px;height:35px;color:var(--privy-color-error);"]),TDe=ae.div.withConfig({displayName:"StyledRedCircle",componentId:"sc-d58f10e6-5"})(["position:absolute;width:60px;height:60px;border-radius:50%;background-color:var(--privy-color-error);opacity:0.1;"]),ADe=ae(xn).withConfig({displayName:"RetryButton",componentId:"sc-d58f10e6-6"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]),wD=ae.span.withConfig({displayName:"TextBoxTitle",componentId:"sc-d58f10e6-7"})(["width:100%;text-align:left;font-size:0.825rem;color:var(--privy-color-foreground);padding:4px;"]),xD=ae.div.withConfig({displayName:"TextBoxContainer",componentId:"sc-d58f10e6-8"})(["width:100%;margin:5px;display:flex;flex-direction:column;justify-content:center;align-items:center;"]),PDe=ae.text.withConfig({displayName:"HelperText",componentId:"sc-d58f10e6-9"})(["position:relative;width:100%;padding:5px;font-size:0.8rem;color:var(--privy-color-foreground-3);text-align:left;word-wrap:break-word;"]),bD=ae.span.withConfig({displayName:"TextBox",componentId:"sc-d58f10e6-10"})(["position:relative;width:100%;background-color:var(--privy-color-background-2);padding:8px 12px;border-radius:10px;margin-top:5px;font-size:14px;color:var(--privy-color-foreground-3);text-align:left;word-wrap:break-word;",""],(t=>t.$clickable&&`cursor: pointer;
  transition: background-color 0.3s;
  padding-right: 45px;

  &:hover {
    background-color: var(--privy-color-foreground-4);
  }`)),IDe=ae(vve).withConfig({displayName:"StyledClipboardIcon",componentId:"sc-d58f10e6-11"})(["position:absolute;top:13px;right:13px;width:24px;height:24px;"]),RDe=ae(xz).withConfig({displayName:"StyledClipboardCheckIcon",componentId:"sc-d58f10e6-12"})(["position:absolute;top:13px;right:13px;width:24px;height:24px;"]),MDe=({clicked:t})=>O.jsx(t?RDe:IDe,{}),ODe=({gasUsed:t,effectiveGasPrice:e})=>{if(t&&e)try{return er(t*e)}catch{return}};const FDe=({txn:t,receipt:e,transactionInfo:n,onClose:i,tokenPrice:f,tokenSymbol:b,receiptHeader:s,receiptDescription:y})=>O.jsxs(O.Fragment,{children:[O.jsx(zt,{onClose:i}),O.jsx(JFe,{title:s??"Transaction complete!",description:y??"You're all set."}),O.jsx(KY,{tokenPrice:f,from:e.from,to:e.to,gas:ODe(e),txn:t,transactionInfo:n,tokenSymbol:b}),O.jsx(wp,{}),O.jsx($De,{loading:!1,onClick:i,children:"All Done"}),O.jsx(go,{}),O.jsx(un,{})]});let $De=ae(xn).withConfig({displayName:"SubmitButton",componentId:"sc-f70d0f7a-0"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]);const LDe=[{constant:!1,inputs:[{name:"_salt",type:"bytes32"},{name:"_initializer",type:"bytes"}],name:"deployAccount",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],DDe=[{name:"from",type:"address"},{name:"param2",type:"address"},{name:"param3",type:"bytes"},{name:"param4",type:"tuple",components:[]},{type:"tuple",components:[{name:"param5",type:"address"},{name:"param6",type:"uint256"},{name:"param7",type:"uint256"},{name:"encodedInitData",type:"bytes"}]}],NDe=[{constant:!1,inputs:[{name:"spender",type:"address"},{name:"value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],JE=[{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],kDe=[{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"quantities",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"quantities",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"batchMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"batchMint",outputs:[],stateMutability:"payable",type:"function"}],BDe=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],UDe=[{constant:!1,inputs:[{name:"_operator",type:"address"},{name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],jDe=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],zDe=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenIds",type:"uint256[]"},{name:"_amounts",type:"uint256[]"},{name:"_data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],WDe=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"},{name:"_amount",type:"uint256"},{name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],jX=(t,e)=>{let n=Ol(NDe,t);if(n)return{action:"approve",functionName:"approve",isErc20Ish:!0,isNFTIsh:!1,spender:n.args[0],amount:n.args[1]};let i=Ol(JE,t);if(i)return{action:"transfer",functionName:"transfer",isErc20Ish:!0,isNFTIsh:!1,transferTo:i.args[0],amount:i.args[1]};if(!e)return{action:"transaction",functionName:"",isErc20Ish:!1,isNFTIsh:!1};let f=Ol(LDe,t);if(f&&typeof f.args[1]=="string"){let c=GDe(f.args[1]);if(c&&c[4].encodedInitData)return jX(c[4].encodedInitData,e)}let b=Ol(UDe,t);if(b)return{action:"approve",functionName:"setApprovalForAll",isNFTIsh:!0,isErc20Ish:!1,operator:b.args[0],approved:b.args[1]};let s=Ol(jDe,t);if(s)return{action:"transfer",functionName:"transferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:s.args[0],transferTo:s.args[1],tokenId:s.args[2]};let y=Ol(BDe,t);if(y)return{action:"transfer",functionName:"safeTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:y.args[0],transferTo:y.args[1],tokenId:y.args[2]};let r=Ol(WDe,t);if(r)return{action:"transfer",functionName:"safeTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:r.args[0],transferTo:r.args[1],tokenId:r.args[2],amount:r.args[3]};let o=Ol(zDe,t);if(o)return{action:"batch transfer",functionName:"safeBatchTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:o.args[0],transferTo:o.args[1],tokenIds:o.args[2],amounts:o.args[3]};let v=Ol(kDe,t);return v?{action:"mint",functionName:v.functionName,isNFTIsh:!0,isErc20Ish:!1,args:v.args}:{action:"transaction",isErc20Ish:!1,isNFTIsh:!1}};let Ol=(t,e)=>{try{let n=$k({abi:t,data:e});return{functionName:n.functionName,args:n.args||[]}}catch{return null}},GDe=t=>{try{if(typeof t=="string")return Pp(DDe,`0x${t.slice(10)}`)}catch{return null}},k6=t=>`${parseFloat(t).toFixed(2)}`;const VDe=(t,e,n,i)=>{let[f,b]=H.useState(null),{walletProxy:s}=et();return H.useEffect((()=>{f&&b(null),(async()=>{if(!s||!e)return null;let y=[],r=!0,o=await fw(t,n,e,i).catch((v=>(v.message&&v.message.includes("Insufficient balance for transaction")||v.details&&v.details.includes("insufficient funds")?r=!1:y.push(v),t)));return{tx:o,totalGasEstimate:o.gas,hasFunds:r,errors:y}})().then(b)}),[t]),f};let CD=new bi(new Kf("There was an issue preparing your transaction",Ga.E32603_DEFAULT_INTERNAL_ERROR.eipCode)),ED=(t,e)=>t?.sendTransaction?"transactionRequest"in t.sendTransaction?t.sendTransaction.transactionRequest:t.sendTransaction.transactionRequests[e]:void 0;const zX={component:()=>{let{data:t,onUserCloseViaDialogOrKeybindRef:e,setModalData:n,navigate:i}=lt(),{client:f,rpcConfig:b,chains:s,closePrivyModal:y,walletProxy:r,showFiatPrices:o}=et(),{user:v}=Vt(),c=it(),[u,l]=H.useState(0),[a,d]=H.useState(0),[p,h]=H.useState(ED(t,u)),[g,m]=H.useState(null),[x,w]=H.useState(),[C,E]=H.useState(!1),[T,S]=H.useState(null),[A,P]=H.useState(null),[R,L]=H.useState(null),[D,F]=H.useState(void 0),[$,N]=H.useState(void 0),[k,j]=H.useState(!1),[W,G]=H.useState(!1),[K,z]=H.useState([]),[X,U]=H.useState([]),[Z,V]=H.useState("uninitiated"),[J,_]=H.useState(void 0);if(!p||!t?.sendTransaction||!t?.sendTransaction)return O.jsx(a3,{error:Error("Invalid transaction request"),allowlistConfig:c.allowlistConfig,onRetry:()=>{t?.sendTransaction?.onFailure(CD),y({shouldCallAuthOnSuccess:!1})}});let{transactingWalletAddress:ee}=t.sendTransaction,te=H.useMemo((()=>s.find((It=>Number(It.id)===Number(p.chainId)))),[p.chainId]),ie=te?.nativeCurrency.symbol??"ETH",le=H.useMemo((()=>jX(p.data,!!c.embeddedWallets.extendedCalldataDecoding)),[p.data]),{action:he,isErc20Ish:fe,isNFTIsh:oe,functionName:Ce}=le,{toAddress:ye,tokenAddress:Ee}=H.useMemo((()=>({toAddress:le.isErc20Ish?le.transferTo:p.to??void 0,tokenAddress:le.isErc20Ish?p.to:void 0})),[le]);H.useEffect((()=>{p.to&&te&&fe&&DX({address:p.to,chain:te,rpcConfig:c.rpcConfig,privyAppId:c.id}).then(m).catch(console.error)}),[p.to,te]);let{tokenPrice:Ie,isTokenPriceLoading:je}=Fm(p.chainId),{balance:Re}=LX({rpcConfig:c.rpcConfig,appId:c.id,address:ee,chain:te}),$e=(function({rpcConfig:It,appId:pt,address:Kn,chain:bn,tokenInfo:Nr}){let{chains:ne}=et(),[se,ue]=H.useState(null),[pe,be]=H.useState(!1),Pe=H.useMemo((()=>{let Ye=bn||ne[0];if(Ye)return tl({chain:bn,transport:nl(nj(Ye,It,pt))})}),[bn,It,pt]),De=H.useCallback((async()=>{if(Kn&&Pe&&Nr.address)try{return be(!0),await Pe.readContract({address:Nr.address,abi:XLe,functionName:"balanceOf",args:[Kn]})}catch(Ye){console.error(Ye)}finally{be(!1)}}),[Pe,Kn,Nr?.address,bn]);return H.useEffect((()=>{De().then((Ye=>Ye!=null&&ue(Ye)))}),[De]),{balance:se,isLoading:pe&&se==null,formattedBalance:aC({amount:se??BigInt(0),decimals:Nr.decimals})}})({rpcConfig:c.rpcConfig,appId:c.id,address:ee,tokenInfo:{address:Ee||"",decimals:g?.decimals??18},chain:te}),Ae=H.useMemo((()=>yp(Number(p.chainId),s,b,{appId:c.id})),[p.chainId,b]),Xe=VDe(p,ee,Ae,t?.sendTransaction?.prepareTransactionRequest);H.useEffect((()=>{h(ED(t,u))}),[u]),H.useEffect((()=>{t.sendTransaction?.getIsSponsored?t.sendTransaction.getIsSponsored().then(w).catch(console.error):w(!1)}),[t.sendTransaction.getIsSponsored]);let st=()=>{if(!C)return T?t?.sendTransaction?.onSuccess({hash:T}):R||Xe?.errors[0]?t?.sendTransaction?.onFailure(R??Xe?.errors[0]??CD):t?.sendTransaction?.onFailure(new bi(new Kf("The user rejected the request",Ga.E4001_USER_REJECTED_REQUEST.eipCode))),y({shouldCallAuthOnSuccess:!1})};e.current=st;let vt=!!(t.funding&&t.funding.supportedOptions.length>0),Ge=Ja(BigInt(Xe?.totalGasEstimate??0n),ie),nt=o&&Ie?wd(BigInt(Xe?.totalGasEstimate??0n),Ie):void 0,Et=Ja(Re??0n,ie,void 0,!0),Je=o&&Ie?wd(Re??0n,Ie):void 0,He=g&&!$e.isLoading&&fe&&he!=="approve"?`${$e.formattedBalance} ${g.symbol}`:void 0,Qe=t.sendTransaction?.uiOptions?.transactionInfo?.title;Qe||(Qe=he==="approve"?fe?"Confirm address":"Confirm action":`Approve ${he}`);let dt=H.useMemo((()=>{if(t.sendTransaction?.uiOptions?.description)return t.sendTransaction?.uiOptions?.description;if(he==="approve"&&Ce==="setApprovalForAll"&&le.approved){let It=O.jsx(is,{address:le.operator||"",url:te?.blockExplorers?.default?.url});return O.jsxs(O.Fragment,{children:[c.name," would like your permission for ",It," to transfer tokens on your behalf."]})}if(he==="approve"&&Ce==="setApprovalForAll"&&!le.approved){let It=O.jsx(is,{address:le.operator||"",url:te?.blockExplorers?.default?.url});return O.jsxs(O.Fragment,{children:[c.name," would like your permission to revoke permissions of ",It," from transferring tokens on your behalf."]})}return fe&&he==="approve"||fe&&he==="approve"?`${c.name} would like your permission for ${Oi(le.spender)} to spend tokens on your behalf.`:`${c.name} wants your permission to approve the following transaction.`}),[c.name,fe,le,t.sendTransaction?.uiOptions.description,Ce]),$t=t.sendTransaction?.uiOptions?.transactionInfo?.contractInfo?.imgUrl?O.jsx("img",{src:t.sendTransaction.uiOptions.transactionInfo.contractInfo.imgUrl,alt:t.sendTransaction.uiOptions.transactionInfo.contractInfo.imgAltText}):null,ut=!(!Xe||Xe.errors[0]||Xe.hasFunds||x!==!1),wt=ut&&vt,tt=wt?"Add funds":t.sendTransaction?.uiOptions?.buttonText||(u<a?"Continue":"Approve"),cn=It=>{if(!It)throw Error("Transaction scan failed");if(It.validation.status==="Success"&&(It.validation.result_type==="Benign"?N("safe"):It.validation.result_type==="Warning"?N("warn"):It.validation.result_type==="Malicious"&&(N("error"),G(!0))),It.simulation.status!=="Success")throw Error("Simulation failed");{F(It.simulation.params);let{assetsIn:pt,assetsOut:Kn}=(function(bn,Nr){let ne=[],se=new Map;if(bn){for(let ue of bn)if(ue.in[0]){let pe;pe=ue.asset.type==="ERC721"||ue.in[0].value==="approve_for_all"?{id:`nft:${ue.asset.name}`,nftName:ue.asset.name,nftCount:ue.in.length}:{id:`token:${ue.asset.type}:${ue.asset.symbol}:${ue.asset.name}`,iconUrl:ue.asset.logo_url,value:ue.in[0].value,symbol:ue.asset.symbol,usdValue:ue.in[0].usd_price?k6(ue.in[0].usd_price):void 0,decimals:ue.asset.decimals},ne.push(pe)}else if(ue.out[0]?.value){let pe;pe=ue.asset.type==="ERC721"||ue.out[0].value==="approve_for_all"?{id:`nft:${ue.asset.name}`,nftName:ue.asset.name}:{id:`token:${ue.asset.type}:${ue.asset.symbol}:${ue.asset.name}`,iconUrl:ue.asset.logo_url,value:ue.out[0].value,symbol:ue.asset.symbol,usdValue:ue.out[0].usd_price?k6(ue.out[0].usd_price):void 0,decimals:ue.asset.decimals},se.has(pe.id)||se.set(pe.id,pe)}}for(let ue of Nr)for(let pe of Object.keys(ue.spenders)){let be;be=ue.asset.type==="ERC721"||ue.spenders[pe]?.value==="approve_for_all"?{id:`nft:${ue.asset.name}`,nftName:ue.asset.name}:{id:`token:${ue.asset.type}:${ue.asset.symbol}:${ue.asset.name}`,iconUrl:ue.asset.logo_url,value:ue.spenders[pe]?.value,symbol:ue.asset.symbol,usdValue:ue.spenders[pe]?.usd_price?k6(ue.spenders[pe]?.usd_price):void 0,decimals:ue.asset.decimals},se.has(be.id)||se.set(be.id,be)}return{assetsIn:ne,assetsOut:Array.from(se.values())}})(It.simulation.assets_diffs,It.simulation.exposures);if(Kn.length===0&&pt.length===0)throw Error("No tokens found");z(Kn),U(pt)}};if(H.useEffect((()=>{t.sendTransaction?.scanTransaction&&c.embeddedWallets.transactionScanning.enabled&&Z==="uninitiated"&&(V("in progress"),t.sendTransaction.scanTransaction().then((It=>{cn(It),V("completed")})).catch((()=>V("failed"))))}),[!!t.sendTransaction?.scanTransaction]),H.useEffect((()=>{t.sendTransaction?.scanTransaction&&Z!=="failed"||((It,pt,Kn)=>{if(d((bn=>bn?.sendTransaction?"transactionRequest"in bn.sendTransaction?0:bn.sendTransaction.transactionRequests.length-1:0)(t)),pt.isErc20Ish&&pt.amount&&Kn){let bn=mw({amount:pt.amount,decimals:Kn.decimals});_(bn),z([{value:bn,symbol:Kn?.symbol,decimals:Kn?.decimals}])}else if(It.value){let bn=BigInt(It.value),Nr=Ie?wd(bn,Ie):void 0;z(o&&Nr?[{value:Nr}]:[{value:UY(bn),symbol:ie,decimals:18,usdValue:Nr}])}else z(o?[{value:"$0"}]:[{value:"0",symbol:ie,decimals:18}])})(Xe?.tx??p,le,g)}),[p,Xe?.tx,le,g,Z]),A)return O.jsx(FDe,{txn:Xe?.tx??p,onClose:st,receipt:A,transactionInfo:t.sendTransaction?.uiOptions.transactionInfo,tokenPrice:Ie,tokenSymbol:ie,receiptHeader:t.sendTransaction?.uiOptions.successHeader,receiptDescription:t.sendTransaction?.uiOptions.successDescription});if(R)return O.jsx(wDe,{transactionError:R,transactionHash:T??void 0,chainType:"ethereum",chainId:Xe?.tx.chainId??p.chainId,onClose:st,onRetry:({resetNonce:It})=>{L(null);let pt={...Xe?.tx??p};It&&(pt.nonce=void 0),h(pt)}});let Pn=a!==0&&typeof u=="number"&&u!==0?()=>{l(u-1)}:void 0;return k&&D?O.jsx(_Le,{details:D,onBack:()=>j(!1)}):O.jsx(hDe,{transactionIndex:u,onBack:Pn,maxIndex:a,disabled:ut&&!vt||W,isSubmitting:C,submitError:R,isPreparing:!Xe,isTokenPriceLoading:je,isTokenContractInfoLoading:!oe&&!g,prepareError:Xe?.errors[0],symbol:g?.symbol,chain:te,img:$t,title:Qe,subtitle:dt,txValue:p.value,fee:nt??Ge,isSponsored:x,from:ee??"",to:ye,tokenAddress:Ee??void 0,network:c.chains.find((It=>It.id===p.chainId))?.name??"",transactionDetails:{...le,formattedAmount:J},cta:tt,missingFunds:ut,action:he,balance:He??Je??Et,onClose:st,onClick:wt?async()=>{if(ee){if(!vt)throw Error("Funding wallet is not enabled");n({...t,funding:{...t.funding,methodScreen:va,chainType:"ethereum",amount:Yd(BigInt(Xe?.tx.value??0)+BigInt(Xe?.totalGasEstimate?.toString()??0)),chain:te},solanaFundingData:t?.solanaFundingData}),i(va)}}:async()=>{if(u<a)l(u+1);else{E(!0);try{let It=await f.getAccessToken();if(C||!It||!r||!v)return;let pt=await t.sendTransaction.onConfirm({transactionRequest:Xe?.tx??p});if(S(pt),t.sendTransaction?.signOnly)return await new Promise((bn=>setTimeout(bn,Wn))),t?.sendTransaction?.onSuccess({hash:pt}),y({shouldCallAuthOnSuccess:!1});let Kn=await Ae.waitForTransactionReceipt({hash:pt});if(Kn.status==="reverted")throw Error("Transaction failed");P(Kn)}catch(It){console.warn({transaction:Xe?.tx??p,error:It}),L(It)}finally{E(!1)}}},validation:$,hasScanDetails:!!D,setIsScanDetailsOpen:j,preventMaliciousTransaction:W,setPreventMaliciousTransaction:G,tokensSent:K,tokensReceived:X,isScanning:Z==="in progress",isCancellable:t.sendTransaction?.uiOptions?.isCancellable??!1,functionName:Ce})}};function ba({title:t}){let{currentScreen:e,navigateBack:n,navigate:i,data:f,setModalData:b}=lt();return O.jsx(zt,{title:t,backFn:e===gw?n:e===f?.funding?.methodScreen?f.funding.comingFromSendTransactionScreen?()=>i(zX):void 0:f?.funding?.methodScreen?()=>{let s=f.funding;s.usingDefaultFundingMethod&&(s.usingDefaultFundingMethod=!1),b({funding:s,solanaFundingData:f?.solanaFundingData}),i(s.methodScreen)}:void 0})}const HDe=t=>O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 210.2",xmlSpace:"preserve",...t,children:O.jsx("path",{d:"M93.6,27.1C87.6,34.2,78,39.8,68.4,39c-1.2-9.6,3.5-19.8,9-26.1c6-7.3,16.5-12.5,25-12.9  C103.4,10,99.5,19.8,93.6,27.1 M102.3,40.9c-13.9-0.8-25.8,7.9-32.4,7.9c-6.7,0-16.8-7.5-27.8-7.3c-14.3,0.2-27.6,8.3-34.9,21.2  c-15,25.8-3.9,64,10.6,85c7.1,10.4,15.6,21.8,26.8,21.4c10.6-0.4,14.8-6.9,27.6-6.9c12.9,0,16.6,6.9,27.8,6.7  c11.6-0.2,18.9-10.4,26-20.8c8.1-11.8,11.4-23.3,11.6-23.9c-0.2-0.2-22.4-8.7-22.6-34.3c-0.2-21.4,17.5-31.6,18.3-32.2  C123.3,42.9,107.7,41.3,102.3,40.9 M182.6,11.9v155.9h24.2v-53.3h33.5c30.6,0,52.1-21,52.1-51.4c0-30.4-21.1-51.2-51.3-51.2H182.6z   M206.8,32.3h27.9c21,0,33,11.2,33,30.9c0,19.7-12,31-33.1,31h-27.8V32.3z M336.6,169c15.2,0,29.3-7.7,35.7-19.9h0.5v18.7h22.4V90.2  c0-22.5-18-37-45.7-37c-25.7,0-44.7,14.7-45.4,34.9h21.8c1.8-9.6,10.7-15.9,22.9-15.9c14.8,0,23.1,6.9,23.1,19.6v8.6l-30.2,1.8  c-28.1,1.7-43.3,13.2-43.3,33.2C298.4,155.6,314.1,169,336.6,169z M343.1,150.5c-12.9,0-21.1-6.2-21.1-15.7c0-9.8,7.9-15.5,23-16.4  l26.9-1.7v8.8C371.9,140.1,359.5,150.5,343.1,150.5z M425.1,210.2c23.6,0,34.7-9,44.4-36.3L512,54.7h-24.6l-28.5,92.1h-0.5  l-28.5-92.1h-25.3l41,113.5l-2.2,6.9c-3.7,11.7-9.7,16.2-20.4,16.2c-1.9,0-5.6-0.2-7.1-0.4v18.7C417.3,210,423.3,210.2,425.1,210.2z"})}),YDe=t=>O.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 80 38.1",xmlSpace:"preserve",...t,children:[O.jsx("path",{style:{fill:"#5F6368"},d:"M37.8,19.7V29h-3V6h7.8c1.9,0,3.7,0.7,5.1,2c1.4,1.2,2.1,3,2.1,4.9c0,1.9-0.7,3.6-2.1,4.9c-1.4,1.3-3.1,2-5.1,2  L37.8,19.7L37.8,19.7z M37.8,8.8v8h5c1.1,0,2.2-0.4,2.9-1.2c1.6-1.5,1.6-4,0.1-5.5c0,0-0.1-0.1-0.1-0.1c-0.8-0.8-1.8-1.3-2.9-1.2  L37.8,8.8L37.8,8.8z"}),O.jsx("path",{style:{fill:"#5F6368"},d:"M56.7,12.8c2.2,0,3.9,0.6,5.2,1.8s1.9,2.8,1.9,4.8V29H61v-2.2h-0.1c-1.2,1.8-2.9,2.7-4.9,2.7  c-1.7,0-3.2-0.5-4.4-1.5c-1.1-1-1.8-2.4-1.8-3.9c0-1.6,0.6-2.9,1.8-3.9c1.2-1,2.9-1.4,4.9-1.4c1.8,0,3.2,0.3,4.3,1v-0.7  c0-1-0.4-2-1.2-2.6c-0.8-0.7-1.8-1.1-2.9-1.1c-1.7,0-3,0.7-3.9,2.1l-2.6-1.6C51.8,13.8,53.9,12.8,56.7,12.8z M52.9,24.2  c0,0.8,0.4,1.5,1,1.9c0.7,0.5,1.5,0.8,2.3,0.8c1.2,0,2.4-0.5,3.3-1.4c1-0.9,1.5-2,1.5-3.2c-0.9-0.7-2.2-1.1-3.9-1.1  c-1.2,0-2.2,0.3-3,0.9C53.3,22.6,52.9,23.3,52.9,24.2z"}),O.jsx("path",{style:{fill:"#5F6368"},d:"M80,13.3l-9.9,22.7h-3l3.7-7.9l-6.5-14.7h3.2l4.7,11.3h0.1l4.6-11.3H80z"}),O.jsx("path",{style:{fill:"#4285F4"},d:"M25.9,17.7c0-0.9-0.1-1.8-0.2-2.7H13.2v5.1h7.1c-0.3,1.6-1.2,3.1-2.6,4v3.3H22C24.5,25.1,25.9,21.7,25.9,17.7z"}),O.jsx("path",{style:{fill:"#34A853"},d:"M13.2,30.6c3.6,0,6.6-1.2,8.8-3.2l-4.3-3.3c-1.2,0.8-2.7,1.3-4.5,1.3c-3.4,0-6.4-2.3-7.4-5.5H1.4v3.4  C3.7,27.8,8.2,30.6,13.2,30.6z"}),O.jsx("path",{style:{fill:"#FBBC04"},d:"M5.8,19.9c-0.6-1.6-0.6-3.4,0-5.1v-3.4H1.4c-1.9,3.7-1.9,8.1,0,11.9L5.8,19.9z"}),O.jsx("path",{style:{fill:"#EA4335"},d:"M13.2,9.4c1.9,0,3.7,0.7,5.1,2l0,0l3.8-3.8c-2.4-2.2-5.6-3.5-8.8-3.4c-5,0-9.6,2.8-11.8,7.3l4.4,3.4  C6.8,11.7,9.8,9.4,13.2,9.4z"})]}),SD=t=>{let[e,n]=H.useState();return H.useEffect((()=>{t().then((i=>{n(i)})).catch((()=>{}))}),[]),e},al=({children:t,color:e,isLoading:n,isPulsing:i,...f})=>O.jsx(XDe,{$color:e,$isLoading:n,$isPulsing:i,...f,children:t});let XDe=ae.span.withConfig({displayName:"StyledSpan",componentId:"sc-80725f4-0"})(["padding:0.25rem;font-size:0.75rem;font-weight:500;line-height:1rem;border-radius:var(--privy-border-radius-xs);display:flex;align-items:center;"," ",""],(t=>{let e,n;t.$color==="green"&&(e="var(--privy-color-success-dark)",n="var(--privy-color-success-light)"),t.$color==="red"&&(e="var(--privy-color-error)",n="var(--privy-color-error-light)"),t.$color==="gray"&&(e="var(--privy-color-foreground-2)",n="var(--privy-color-background-2)");let i=az(["from,to{background-color:",";}50%{background-color:rgba(",",0.8);}"],n,n);return Dr(["color:",";background-color:",";",";"],e,n,t.$isPulsing&&Dr(["animation:"," 3s linear infinite;"],i))}),d3);const WX=({onClick:t,text:e})=>O.jsxs(Xn,{onClick:t,children:[O.jsx(Za,{children:O.jsx(Ife,{})}),O.jsx(wp,{children:e})]}),TD=({chainType:t,withPadding:e})=>{let n="";return n=t==="ethereum-only"||t==="ethereum-and-solana"?"Rainbow, Phantom, or Coinbase Wallet":"Phantom or Solflare",O.jsx(SOe,{$withPadding:e,children:O.jsxs(TOe,{children:[O.jsx(Gf,{style:{color:"var(--privy-color-warn)",height:48,width:48}}),O.jsx("h3",{children:"No wallets available"}),O.jsxs("p",{children:["Please download an external wallet provider, like ",n,"."]})]})},"empty-wallet-state")},GX=({icon:t,name:e})=>typeof t=="string"?O.jsx("img",{alt:`${e||"wallet"} logo`,src:t,style:{height:24,width:24,borderRadius:4}}):t===void 0?O.jsx(ax,{style:{height:24,width:24}}):t?O.jsx(t,{}):null;function QE(t){let e=t.toLowerCase();return!!window?.webkit?.messageHandlers?.ReactNativeWebView||!!window?.ReactNativeWebView||["fbav","fban","instagram","snapchat","linkedinapp"].some((n=>e.includes(n)))}const KDe=({walletLogo:t,success:e,errorMessage:n,title:i,subtitle:f,onRetry:b,onUseDifferentWallet:s,onBack:y,numRetries:r,maxRetries:o})=>O.jsx(Yt,{title:i,subtitle:f,icon:t,iconVariant:"loading",iconLoadingStatus:{success:e,fail:!!n},primaryCta:n===hd.ERROR_USER_EXISTS?{label:"Use a different wallet",onClick:s}:!e&&n?.retryable&&r<o?{label:"Retry",onClick:b,disabled:!n?.retryable||r>=o}:!e&&n&&r>=o?{label:"Use a different wallet",onClick:s}:void 0,onBack:y,watermark:!0}),_E={component:()=>{let t,{navigateBack:e,navigate:n,lastScreen:i,currentScreen:f,data:b,setModalData:s}=lt(),{walletConnectionStatus:y,closePrivyModal:r}=et(),[o,v]=H.useState(void 0),[c,u]=H.useState(0),l=yc(y?.connector?.walletClientType||"unknown"),a=y?.status==="connected",d=y?.status==="switching_to_supported_chain";H.useEffect((()=>{if(a){let C;if(b?.externalConnectWallet?.onCompleteNavigateTo){let E=b.externalConnectWallet.onCompleteNavigateTo,T=y.connectedWallet?.address;C=setTimeout((()=>{b.funding&&s({...b,funding:{...b.funding,connectedWalletAddress:T}}),n(E({address:T,walletClientType:y.connector?.walletClientType,walletChainType:y.connector?.chainType}))}),Wn)}else C=setTimeout(r,Wn);return()=>clearTimeout(C)}}),[a]),H.useEffect((()=>{y?.connectError&&(C=>{v(OX(C))})(y?.connectError)}),[y]);let p=y?.connector?.connectorType||"injected",h=y?.connector?.walletClientType||"unknown",g=l?.metadata?.shortName||l?.name||y?.connector?.walletBranding.name||"Browser Extension",m=l?.image_url?.md||y?.connector?.walletBranding.icon||(C=>O.jsx(kT,{...C})),x=g==="Browser Extension"?g.toLowerCase():g;t=a?`Successfully connected with ${x}`:o?o.message:d?"Switching networks":`Waiting for ${x}`;let w="Dont see your wallet? Check your other browser windows.";return a?w="Youre good to go!":c>=2&&o?w="Unable to connect wallet":o?w=o.detail:d?w="Switch your wallet to the requested network.":h==="metamask"&&tn.isMobile?w="Click to continue to open and connect MetaMask.":h==="metamask"?w="For the best experience, connect only one wallet at a time.":p==="wallet_connect_v2"?w="Open your mobile wallet app to continue":p==="coinbase_wallet"&&(w="Confirm in the Coinbase app/popup to continue."),O.jsx(KDe,{walletName:g,walletLogo:m,success:a,errorMessage:o,title:t,subtitle:w,onRetry:()=>{u(c+1),v(void 0),y?.connectRetry()},onUseDifferentWallet:e,onBack:f===i?void 0:e,numRetries:c,maxRetries:2})}},VX=ae.div.withConfig({displayName:"TodoList",componentId:"sc-bcc78743-0"})(["display:flex;flex-direction:column;justify-content:flex-start;gap:10px;padding-left:8px;"]),Qf=({children:t,variant:e="default",icon:n})=>{let i=()=>{switch(e){case"success":return"var(--privy-color-icon-success)";case"error":return"var(--privy-color-icon-error)";default:return"var(--privy-color-icon-muted)"}};return O.jsxs(JDe,{children:[O.jsx(ZDe,{$variant:e,"data-variant":e,children:(()=>{if(n)return Ze.isValidElement(n)?Ze.cloneElement(n,{stroke:i(),strokeWidth:2}):n;switch(e){case"success":default:return O.jsx(Eg,{size:12,stroke:i(),strokeWidth:3});case"error":return O.jsx(Rfe,{size:12,stroke:i(),strokeWidth:3})}})()}),t]})};let ZDe=ae.div.withConfig({displayName:"IconBackground",componentId:"sc-bcc78743-2"})(["display:flex;align-items:center;justify-content:center;width:20px;height:20px;border-radius:50%;background-color:",";flex-shrink:0;"],(({$variant:t})=>{switch(t){case"success":return"var(--privy-color-success-bg, #EAFCEF)";case"error":return"var(--privy-color-error-bg, #FEE2E2)";default:return"var(--privy-color-background-2)"}})),JDe=ae.div.withConfig({displayName:"TodoItemWrapper",componentId:"sc-bcc78743-3"})(["display:flex;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;&&{a{color:var(--privy-color-accent);}}"]);const QDe=({walletName:t,installLink:e,title:n,subtitle:i="Follow the instructions below to get started.",onReload:f,onBack:b})=>{let s=n||`Create a ${t} wallet`.replace(/wallet wallet/gi,"wallet");return O.jsx(Yt,{title:s,subtitle:i,onBack:b,showBack:!0,primaryCta:{label:"Reload the page to use your wallet",onClick:f},helpText:O.jsxs(O.Fragment,{children:[O.jsx("span",{children:"Still not sure? "}),O.jsx(bp,{size:"sm",target:"_blank",href:"https://solana.com/docs/intro/wallets",children:"Learn more"})]}),watermark:!0,children:O.jsxs(VX,{children:[O.jsx(Qf,{children:O.jsxs("div",{children:[O.jsx("span",{children:"Install the "})," ",O.jsxs(bp,{href:e,target:"_blank",children:[t," browser extension"]})]})}),O.jsx(Qf,{children:"Set up your first wallet"}),O.jsx(Qf,{children:"Store your recovery phrase in a safe place!"})]})})},_De={component:()=>{let{navigateBack:t,data:e}=lt();if(!e?.installWalletModalData)throw Error("Wallet data is missing");let{walletConfig:n}=e.installWalletModalData;return O.jsx(QDe,{walletName:n.name,installLink:n.installLink,onReload:()=>{window.location.reload()},onBack:t})}},qDe=({title:t,subtitle:e,buttonText:n,buttonHref:i,isLoading:f=!1,helpText:b,onButtonClick:s})=>O.jsx(Yt,{title:t,subtitle:e,primaryCta:{label:n,onClick:()=>{i&&window.open(i,"_self"),s?.()},disabled:f},helpText:b,watermark:!0}),eNe={component:()=>{let{ready:t}=Vt(),{data:e}=lt(),[n,i]=H.useState(!1);if(!e?.installWalletModalData)throw Error("Wallet data is missing");let{walletConfig:f,connectOnly:b,chainType:s}=e.installWalletModalData,y=f.getMobileRedirect({useUniversalLink:!n,isSolana:s==="solana",connectOnly:b}),r=f.name.replace(/ wallet/gi,""),o={title:`Redirecting to ${r} Mobile Wallet`,description:`We'll take you to the ${r} Mobile Wallet app to continue your login experience.`,footnote:""};return t&&(o.description=`For the best experience, we'll automatically log you into the ${r} Mobile Wallet in-app browser.`,o.footnote="You can always return here to login via other methods."),n&&(o.title="Still here?",o.description=`You may need to install the ${f.name} mobile app.`,o.footnote=`Once you're done, you can connect with ${f.name} wallet to complete the login.`),O.jsx(qDe,{title:o.title,subtitle:o.description,buttonText:n?"Go to App Store":"Continue",buttonHref:y,isLoading:t&&!y,helpText:o.footnote||void 0,onButtonClick:()=>{setTimeout((()=>i(!0)),1e3)}})}},$o=({provider:t,displayName:e,logo:n,connectOnly:i,connector:f})=>{let b,{navigate:s,setModalData:y}=lt(),{connectWallet:r}=et(),o=xc(),v=yc(t),c=f.connectorType==="wallet_connect_v2"?t:f.walletClientType,u=window.matchMedia("(display-mode: standalone)").matches,l=PY({connectorType:f.connectorType,walletClientType:c});b=l&&l.chainTypes.includes(f.chainType)?()=>{l.isInstalled||f.chainType==="solana"&&"isInstalled"in f&&f.isInstalled?(r(f,c),s(i?_E:Zl)):tn.isMobile?(y({installWalletModalData:{walletConfig:l,chainType:f.chainType,connectOnly:i}}),s(eNe)):(y({installWalletModalData:{walletConfig:l,chainType:f.chainType,connectOnly:i}}),s(_De))}:f.connectorType!=="coinbase_wallet"||f.coinbaseWalletConfig.preference?.options!=="eoaOnly"||!tn.isMobile||u||gY()?()=>{(!QE(window.navigator.userAgent)||event?.isTrusted)&&(r(f,c),i?f.connectorType==="wallet_connect_v2"?(y((d=>({...d,externalConnectWallet:{...d?.externalConnectWallet,preSelectedWalletId:"wallet_connect_qr"}}))),s(Fv)):s(_E):s(Zl))}:()=>{window.location.href=`https://go.cb-w.com/dapp?cb_url=${encodeURI(window.location.href)}`};let a=e||v?.metadata?.shortName||v?.name||f.walletClientType;return O.jsxs(tNe,{onClick:b,children:[O.jsx(GX,{icon:n||v?.image_url?.md,name:a}),O.jsx("span",{children:a}),O.jsxs(nNe,{id:"chip-container",children:[o?.walletClientType===c&&o?.chainType===f.chainType?O.jsx(AD,{color:"gray",children:"Recent"}):O.jsx("span",{id:"connect-text",children:"Connect"}),f.chainType==="solana"&&O.jsx(AD,{color:"gray",children:"Solana"})]})]})};let tNe=ae(Xn).withConfig({displayName:"ConnectWalletButton",componentId:"sc-89605346-0"})(["> span{color:var(--privy-color-foreground);}> #chip-container > #connect-text{font-weight:500;color:var(--privy-color-accent);opacity:0;transition:opacity 0.1s ease-out;}:hover > #chip-container > #connect-text{opacity:1;}@media (max-width:440px){> #chip-container > #connect-text{display:none;}}"]),AD=ae(al).withConfig({displayName:"StyledChip",componentId:"sc-89605346-1"})(["margin-left:auto;"]),nNe=ae.div.withConfig({displayName:"ChipContainer",componentId:"sc-89605346-2"})(["display:flex;flex-wrap:wrap;gap:8px;margin-left:auto;"]);const rNe=["coinbase_wallet","base_account"];let iNe=["metamask","okx_wallet","rainbow","uniswap","bybit_wallet","ronin_wallet","haha_wallet","uniswap_extension","zerion","rabby_wallet","cryptocom","binance"];const sNe=["safe"],aNe=["phantom","backpack","solflare","universal_profile"],HX=({walletList:t,walletChainType:e,connectors:n,connectOnly:i,ignore:f,walletConnectEnabled:b,forceWallet:s})=>{let y=[],r=[],o=[],v=n.filter((u=>e==="ethereum-only"?u.chainType==="ethereum":e!=="solana-only"||u.chainType==="solana")),c=v.find((u=>u.connectorType==="wallet_connect_v2"));for(let[u,l]of(s?[s.wallet]:t).entries()){if(l==="detected_ethereum_wallets")for(let[a,d]of v.filter((({chainType:p,connectorType:h,walletClientType:g})=>p!=="solana"&&(g==="uniswap_wallet_extension"||g==="uniswap_extension"?!f.includes("uniswap"):g==="crypto.com_wallet_extension"||g==="crypto.com_onchain"?!f.includes("cryptocom"):h==="injected"&&!f.includes(g)))).entries()){let{walletClientType:p,walletBranding:h,chainType:g}=d;(p==="unknown"?r:y).push(O.jsx($o,{connectOnly:i,provider:p,logo:h.icon,displayName:h.name,connector:d},`${u}-${l}-${p}-${g}-${a}`))}if(l==="detected_solana_wallets")for(let[a,d]of v.filter((({chainType:p,walletClientType:h})=>{if(p==="solana")return e!=="ethereum-only"&&!f.includes(h)})).entries()){let{walletClientType:p,walletBranding:h,chainType:g}=d;(p==="unknown"?r:y).push(O.jsx($o,{connectOnly:i,provider:p,logo:h.icon,displayName:h.name,connector:d},`${u}-${l}-${p}-${g}-${a}`))}if(aNe.includes(l)){let a=v.find((d=>d.connectorType==="injected"&&d.walletClientType===l||d.connectorType===l));if(a&&y.push(O.jsx($o,{connectOnly:i,provider:l,connector:a},`${u}-${l}`)),e==="solana-only"||e==="ethereum-and-solana"){let d=v.find((({chainType:p,walletClientType:h})=>p==="solana"&&h===l));d&&y.push(O.jsx($o,{connectOnly:i,provider:l,connector:d},`${l}-solana`))}}else if(iNe.includes(l)){let a=v.find((d=>l==="uniswap"?d.walletClientType==="uniswap_wallet_extension"||d.walletClientType==="uniswap_extension":l==="cryptocom"?d.walletClientType==="crypto.com_wallet_extension"||d.walletClientType==="crypto.com_onchain":d.connectorType==="injected"&&d.walletClientType===l));if(b&&!a&&(a=c),a&&y.push(O.jsx($o,{connectOnly:i,provider:l,connector:a,logo:a.connectorType==="injected"?a.walletBranding.icon:void 0,displayName:a.connectorType==="injected"?a.walletBranding.name:void 0},`${u}-${l}`)),e==="solana-only"||e==="ethereum-and-solana"){let d=v.find((({chainType:p,walletClientType:h})=>p==="solana"&&h===l));d&&y.push(O.jsx($o,{connectOnly:i,provider:l,connector:d},`${l}-solana`))}}else if(rNe.includes(l)){let a=v.find((({connectorType:d})=>d===l));a&&y.push(O.jsx($o,{connectOnly:i,provider:l,connector:a,displayName:a.walletClientType==="coinbase_wallet"?"Coinbase":"Base",logo:a.walletClientType==="coinbase_wallet"?xY:bY},`${u}-${l}`))}else if(sNe.includes(l))c&&o.push(O.jsx($o,{connectOnly:i,provider:l,connector:c},`${u}-${l}`));else if(l==="wallet_connect")c&&o.push(O.jsx($o,{connectOnly:i,provider:l,connector:c,logo:c.walletBranding.icon,displayName:"WalletConnect"},`${u}-${l}`));else if(l===s?.wallet){let a=s.chainType==="ethereum"&&t.includes("detected_ethereum_wallets"),d=s.chainType==="solana"&&t.includes("detected_solana_wallets");if(a||d){let p=v.find((({walletClientType:h})=>h===l));p&&y.push(O.jsx($o,{connectOnly:i,provider:l,displayName:p.walletBranding?.name,logo:p.walletBranding?.icon,connector:p},`${u}-${l}`))}}}return[...r,...y,...o]},YX=({chains:t,appId:e,address:n,rpcConfig:i,includeUsdc:f})=>Promise.all(t.map((async b=>{let s=tl({chain:b,transport:nl(iu(b,i,e))}),y=await s.getBalance({address:n}).catch((()=>0n)),r=null,o=cde[b.id];if(f&&o){let{balance:v}=await s7({address:n,chain:b,rpcConfig:i,appId:e,erc20Address:o});r=v}return{balance:y,erc20Balance:r,erc20Address:o,chain:b}}))),oNe=t=>O.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 397.7 311.7",enableBackground:"new 0 0 397.7 311.7",xmlSpace:"preserve",...t,children:[O.jsxs("linearGradient",{id:"SVGID_1_",gradientUnits:"userSpaceOnUse",x1:"360.8791",y1:"351.4553",x2:"141.213",y2:"-69.2936",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[O.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),O.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),O.jsx("path",{d:"M64.6,237.9c2.4-2.4,5.7-3.8,9.2-3.8h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5  c-5.8,0-8.7-7-4.6-11.1L64.6,237.9z",fill:"url(#SVGID_1_)"}),O.jsxs("linearGradient",{id:"SVGID_2_",gradientUnits:"userSpaceOnUse",x1:"264.8291",y1:"401.6014",x2:"45.163",y2:"-19.1475",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[O.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),O.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),O.jsx("path",{d:"M64.6,3.8C67.1,1.4,70.4,0,73.8,0h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5  c-5.8,0-8.7-7-4.6-11.1L64.6,3.8z",fill:"url(#SVGID_2_)"}),O.jsxs("linearGradient",{id:"SVGID_3_",gradientUnits:"userSpaceOnUse",x1:"312.5484",y1:"376.688",x2:"92.8822",y2:"-44.061",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[O.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),O.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),O.jsx("path",{d:"M333.1,120.1c-2.4-2.4-5.7-3.8-9.2-3.8H6.5c-5.8,0-8.7,7-4.6,11.1l62.7,62.7c2.4,2.4,5.7,3.8,9.2,3.8h317.4  c5.8,0,8.7-7,4.6-11.1L333.1,120.1z",fill:"url(#SVGID_3_)"})]});let lNe={[ho.id]:t=>O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 2500 2500",xmlSpace:"preserve",...t,children:O.jsx("g",{id:"Layer_x0020_1",children:O.jsxs("g",{id:"_2405588477232",children:[O.jsx("rect",{fill:"none",width:"2500",height:"2500"}),O.jsx("g",{children:O.jsxs("g",{children:[O.jsx("path",{fill:"#213147",d:"M226,760v980c0,63,33,120,88,152l849,490c54,31,121,31,175,0l849-490c54-31,88-89,88-152V760      c0-63-33-120-88-152l-849-490c-54-31-121-31-175,0L314,608c-54,31-87,89-87,152H226z"}),O.jsx("g",{children:O.jsxs("g",{children:[O.jsx("g",{children:O.jsx("path",{fill:"#12AAFF",d:"M1435,1440l-121,332c-3,9-3,19,0,29l208,571l241-139l-289-793C1467,1422,1442,1422,1435,1440z"})}),O.jsx("g",{children:O.jsx("path",{fill:"#12AAFF",d:"M1678,882c-7-18-32-18-39,0l-121,332c-3,9-3,19,0,29l341,935l241-139L1678,883V882z"})})]})}),O.jsx("g",{children:O.jsx("path",{fill:"#9DCCED",d:"M1250,155c6,0,12,2,17,5l918,530c11,6,17,18,17,30v1060c0,12-7,24-17,30l-918,530c-5,3-11,5-17,5       s-12-2-17-5l-918-530c-11-6-17-18-17-30V719c0-12,7-24,17-30l918-530c5-3,11-5,17-5l0,0V155z M1250,0c-33,0-65,8-95,25L237,555       c-59,34-95,96-95,164v1060c0,68,36,130,95,164l918,530c29,17,62,25,95,25s65-8,95-25l918-530c59-34,95-96,95-164V719       c0-68-36-130-95-164L1344,25c-29-17-62-25-95-25l0,0H1250z"})}),O.jsx("polygon",{fill:"#213147",points:"642,2179 727,1947 897,2088 738,2234     "}),O.jsxs("g",{children:[O.jsx("path",{fill:"#FFFFFF",d:"M1172,644H939c-17,0-33,11-39,27L401,2039l241,139l550-1507c5-14-5-28-19-28L1172,644z"}),O.jsx("path",{fill:"#FFFFFF",d:"M1580,644h-233c-17,0-33,11-39,27L738,2233l241,139l620-1701c5-14-5-28-19-28V644z"})]})]})})]})})}),[fo.id]:t=>O.jsxs("svg",{width:"1503",height:"1504",viewBox:"0 0 1503 1504",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[O.jsx("rect",{x:"287",y:"258",width:"928",height:"844",fill:"white"}),O.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1502.5 752C1502.5 1166.77 1166.27 1503 751.5 1503C336.734 1503 0.5 1166.77 0.5 752C0.5 337.234 336.734 1 751.5 1C1166.27 1 1502.5 337.234 1502.5 752ZM538.688 1050.86H392.94C362.314 1050.86 347.186 1050.86 337.962 1044.96C327.999 1038.5 321.911 1027.8 321.173 1015.99C320.619 1005.11 328.184 991.822 343.312 965.255L703.182 330.935C718.495 303.999 726.243 290.531 736.021 285.55C746.537 280.2 759.083 280.2 769.599 285.55C779.377 290.531 787.126 303.999 802.438 330.935L876.42 460.079L876.797 460.738C893.336 489.635 901.723 504.289 905.385 519.669C909.443 536.458 909.443 554.169 905.385 570.958C901.695 586.455 893.393 601.215 876.604 630.549L687.573 964.702L687.084 965.558C670.436 994.693 661.999 1009.46 650.306 1020.6C637.576 1032.78 622.263 1041.63 605.474 1046.62C590.161 1050.86 573.004 1050.86 538.688 1050.86ZM906.75 1050.86H1115.59C1146.4 1050.86 1161.9 1050.86 1171.13 1044.78C1181.09 1038.32 1187.36 1027.43 1187.92 1015.63C1188.45 1005.1 1181.05 992.33 1166.55 967.307C1166.05 966.455 1165.55 965.588 1165.04 964.706L1060.43 785.75L1059.24 783.735C1044.54 758.877 1037.12 746.324 1027.59 741.472C1017.08 736.121 1004.71 736.121 994.199 741.472C984.605 746.453 976.857 759.552 961.544 785.934L857.306 964.891L856.949 965.507C841.69 991.847 834.064 1005.01 834.614 1015.81C835.352 1027.62 841.44 1038.5 851.402 1044.96C860.443 1050.86 875.94 1050.86 906.75 1050.86Z",fill:"#E84142"})]}),[po.id]:t=>O.jsxs("svg",{width:"146",height:"146",viewBox:"0 0 146 146",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[O.jsx("circle",{cx:"73",cy:"73",r:"73",fill:"#0052FF"}),O.jsx("path",{d:"M73.323 123.729C101.617 123.729 124.553 100.832 124.553 72.5875C124.553 44.343 101.617 21.4463 73.323 21.4463C46.4795 21.4463 24.4581 42.0558 22.271 68.2887H89.9859V76.8864H22.271C24.4581 103.119 46.4795 123.729 73.323 123.729Z",fill:"white"})]}),[Kw.id]:t=>O.jsxs("svg",{fill:"none",height:"400",viewBox:"0 0 400 400",width:"400",xmlns:"http://www.w3.org/2000/svg",...t,children:[O.jsx("path",{d:"m0 0h400v400h-400z",fill:"#fcff52"}),O.jsx("path",{d:"m300 100h-200v200h199.996v-69.813h-33.191c-11.442 25.468-37.194 43.206-66.665 43.206-40.63 0-73.533-33.187-73.533-73.533s32.903-73.249 73.533-73.249c30.043 0 55.795 18.313 67.24 44.349h32.62z",fill:"#000"})]}),[QU.id]:t=>O.jsxs("svg",{width:"200",height:"208",viewBox:"0 0 200 208",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[O.jsx("rect",{width:"199.4",height:"207.623",fill:"#121212"}),O.jsxs("g",{"clip-path":"url(#clip0_2303_643)",children:[O.jsx("path",{d:"M132.369 155.99H49.7001V68.8854H68.6148V139.109H132.369V155.981V155.99Z",fill:"white"}),O.jsx("path",{d:"M132.369 85.7575C141.687 85.7575 149.241 78.2036 149.241 68.8855C149.241 59.5673 141.687 52.0134 132.369 52.0134C123.05 52.0134 115.497 59.5673 115.497 68.8855C115.497 78.2036 123.05 85.7575 132.369 85.7575Z",fill:"white"})]}),O.jsx("defs",{children:O.jsx("clipPath",{id:"clip0_2303_643",children:O.jsx("rect",{width:"99.5407",height:"103.977",fill:"white",transform:"translate(49.7001 52.0134)"})})})]}),[Ea.id]:t=>O.jsxs("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 327.5 533.3",enableBackground:"new 0 0 327.5 533.3;",xmlSpace:"preserve",...t,children:[O.jsx("path",{fill:"#8492B2",d:"M163.7,197.2V0L0,271.6L163.7,197.2z"}),O.jsx("path",{fill:"#62688F",d:"M163.7,368.4V197.2L0,271.6L163.7,368.4z M163.7,197.2l163.7,74.4L163.7,0V197.2z"}),O.jsx("path",{fill:"#454A75",d:"M163.7,197.2v171.2l163.7-96.8L163.7,197.2z"}),O.jsx("path",{fill:"#8492B2",d:"M163.7,399.4L0,302.7l163.7,230.7V399.4z"}),O.jsx("path",{fill:"#62688F",d:"M327.5,302.7l-163.8,96.7v134L327.5,302.7z"})]}),[ou.id]:t=>O.jsxs("svg",{width:"500",height:"500",viewBox:"0 0 500 500",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[O.jsx("circle",{cx:"250",cy:"250",r:"250",fill:"#FF0420"}),O.jsx("path",{d:"M177.133 316.446C162.247 316.446 150.051 312.943 140.544 305.938C131.162 298.808 126.471 288.676 126.471 275.541C126.471 272.789 126.784 269.411 127.409 265.408C129.036 256.402 131.35 245.581 134.352 232.947C142.858 198.547 164.812 181.347 200.213 181.347C209.845 181.347 218.476 182.973 226.107 186.225C233.738 189.352 239.742 194.106 244.12 200.486C248.498 206.74 250.688 214.246 250.688 223.002C250.688 225.629 250.375 228.944 249.749 232.947C247.873 244.08 245.621 254.901 242.994 265.408C238.616 282.546 231.048 295.368 220.29 303.874C209.532 312.255 195.147 316.446 177.133 316.446ZM179.76 289.426C186.766 289.426 192.707 287.362 197.586 283.234C202.59 279.106 206.155 272.789 208.281 264.283C211.158 252.524 213.348 242.266 214.849 233.51C215.349 230.883 215.599 228.194 215.599 225.441C215.599 214.058 209.657 208.366 197.774 208.366C190.768 208.366 184.764 210.43 179.76 214.558C174.882 218.687 171.379 225.004 169.253 233.51C167.001 241.891 164.749 252.149 162.498 264.283C161.997 266.784 161.747 269.411 161.747 272.163C161.747 283.672 167.752 289.426 179.76 289.426Z",fill:"white"}),O.jsx("path",{d:"M259.303 314.57C257.927 314.57 256.863 314.132 256.113 313.256C255.487 312.255 255.3 311.13 255.55 309.879L281.444 187.914C281.694 186.538 282.382 185.412 283.508 184.536C284.634 183.661 285.822 183.223 287.073 183.223H336.985C350.87 183.223 362.003 186.1 370.384 191.854C378.891 197.609 383.144 205.927 383.144 216.81C383.144 219.937 382.769 223.19 382.018 226.567C378.891 240.953 372.574 251.586 363.067 258.466C353.685 265.346 340.8 268.786 324.413 268.786H299.082L290.451 309.879C290.2 311.255 289.512 312.38 288.387 313.256C287.261 314.132 286.072 314.57 284.822 314.57H259.303ZM325.727 242.892C330.98 242.892 335.546 241.453 339.424 238.576C343.427 235.699 346.054 231.571 347.305 226.192C347.68 224.065 347.868 222.189 347.868 220.563C347.868 216.935 346.805 214.183 344.678 212.307C342.551 210.305 338.924 209.305 333.795 209.305H311.278L304.148 242.892H325.727Z",fill:"white"})]}),[Sa.id]:t=>O.jsxs("svg",{width:"360",height:"360",viewBox:"0 0 360 360",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[O.jsx("rect",{width:"360",height:"360",rx:"180",fill:"#6C00F6"}),O.jsx("path",{d:"M157.743 154.241L141.052 144.58L90.9766 173.561V231.519L141.052 260.5L191.13 231.519V141.359L218.948 125.26L246.77 141.359V173.561L218.948 189.66L202.257 180.002V205.759L218.948 215.42L269.024 186.439V128.481L218.948 99.5L168.873 128.481V218.641L141.052 234.74L113.233 218.641V186.439L141.052 170.34L157.743 179.998V154.241Z",fill:"white"})]}),[_U.id]:t=>O.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",...t,children:[O.jsx("g",{clipPath:"url(#clip0)",children:O.jsx("g",{clipPath:"url(#clip1)",children:O.jsx("path",{d:"M14.9188 29.8373C6.67944 29.8373 0.00012207 23.1581 0.00012207 14.9187C0.00012207 6.67931 6.67944 0 14.9188 0C23.1581 0 29.8373 6.67931 29.8373 14.9187C29.8373 23.1581 23.1581 29.8373 14.9188 29.8373Z",fill:"url(#paint0)"})})}),O.jsxs("defs",{children:[O.jsxs("radialGradient",{id:"paint0",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(21.6921 8.02215) rotate(180) scale(25.2008)",children:[O.jsx("stop",{offset:"0.00682297",stopColor:"#F2CEFE"}),O.jsx("stop",{offset:"0.1913",stopColor:"#AFBAF1"}),O.jsx("stop",{offset:"0.4982",stopColor:"#4281D3"}),O.jsx("stop",{offset:"0.666667",stopColor:"#2E427D"}),O.jsx("stop",{offset:"0.822917",stopColor:"#230101"}),O.jsx("stop",{offset:"1",stopColor:"#8F6B40"})]}),O.jsx("clipPath",{id:"clip0",children:O.jsx("rect",{width:"30",height:"30",fill:"white"})}),O.jsx("clipPath",{id:"clip1",children:O.jsx("rect",{width:"30",height:"30",fill:"white"})})]})]})};const XX=({chainId:t,...e})=>{if(t==="solana")return O.jsx(oNe,{...e});let n=lNe[t];return O.jsx(n||bz,{...e})},uNe=({balance:t,className:e,chain:n})=>O.jsx(l3,{className:e,$state:void 0,children:O.jsx(qE,{balance:t,chain:n})}),qE=({balance:t,chain:e})=>O.jsxs(O.Fragment,{children:[O.jsxs(cNe,{children:[O.jsx(hNe,{chainId:typeof e=="object"?e.id:"solana"}),O.jsx(ur,{children:typeof e=="object"?e.name:c3(e)})]}),O.jsxs(al,{isLoading:!1,isPulsing:!1,color:"gray",children:[O.jsx(dNe,{children:O.jsx(ax,{})}),t]})]});let cNe=ae.div.withConfig({displayName:"Container",componentId:"sc-63f80cee-0"})(["display:flex;align-items:center;"]),dNe=ae.div.withConfig({displayName:"IconContainer",componentId:"sc-63f80cee-1"})(["height:0.75rem;width:0.75rem;margin-right:0.2rem;"]),hNe=ae(XX).withConfig({displayName:"StyledNetworkIcon",componentId:"sc-63f80cee-2"})(["height:1.25rem;width:1.25rem;display:inline-block;margin-right:0.5rem;border-radius:4px;"]);const fNe=({options:t,onSelect:e,selected:n,className:i})=>O.jsxs(ZMe,{as:pNe,children:[O.jsxs(HH,{as:mNe,children:[O.jsx(qE,{balance:n.balance,chain:n.chain}),O.jsx(e9,{height:16})]}),O.jsx(YH,{as:vNe,className:i,children:t.map(((f,b)=>O.jsx(XH,{as:gNe,onClick:()=>e(b),children:O.jsx(qE,{balance:f.balance,chain:f.chain})},b)))})]});let pNe=ae.div.withConfig({displayName:"Wrapper",componentId:"sc-31c00f79-0"})(["width:100%;position:relative;"]),vNe=ae.div.withConfig({displayName:"Popover",componentId:"sc-31c00f79-1"})(["width:100%;margin-top:0.5rem;position:absolute;background-color:var(--privy-color-background);border-radius:var(--privy-border-radius-md);overflow-x:hidden;overflow-y:auto;box-shadow:0px 1px 2px 0px rgba(16,24,40,0.05);max-height:11.75rem;&&{border:solid 1px var(--privy-color-foreground-4);}z-index:1;"]),gNe=ae.button.withConfig({displayName:"Button",componentId:"sc-31c00f79-2"})(["width:100%;display:flex;justify-content:space-between;&&{padding:1rem;}:not(:last-child){border-bottom:solid 1px var(--privy-color-foreground-4);}:hover{background:var(--privy-color-background-2);}"]),e9=ae(LS).withConfig({displayName:"StyledChevronIcon",componentId:"sc-31c00f79-3"})(["height:1rem;margin-left:0.5rem;"]),mNe=ae.button.withConfig({displayName:"StyledMenuButton",componentId:"sc-31c00f79-4"})([""," span{margin-left:auto;}","{transition:rotate 100ms ease-in;}&[aria-expanded='true']{","{rotate:-180deg;}}"],$X,e9,e9);const yNe=ae.div.withConfig({displayName:"FundingMethodContainer",componentId:"sc-eaaa12a-0"})(["display:flex;flex-direction:column;gap:12px;padding-top:24px;padding-bottom:24px;"]),fv=ae.div.withConfig({displayName:"IconContainer",componentId:"sc-eaaa12a-1"})(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;svg{border-radius:var(--privy-border-radius-sm);}"]),KX=ae.div.withConfig({displayName:"FundingQuantityWrapper",componentId:"sc-eaaa12a-2"})(["display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:8px;"]),ZX=ae.div.withConfig({displayName:"FundingQuantity",componentId:"sc-eaaa12a-3"})(["display:flex;align-items:center;gap:4px;width:100%;padding:0 16px;border-width:1px !important;border-radius:12px;cursor:text;&:focus-within{border-color:var(--privy-color-accent);}"]),JX=ae.input.withConfig({displayName:"FundingAmountInput",componentId:"sc-eaaa12a-5"})(["background-color:var(--privy-color-background);width:100%;&:focus{outline:none !important;border:none !important;box-shadow:none !important;}&&{font-size:26px;}"]),wNe=ae(JX).withConfig({displayName:"FundingAmountInputLarge",componentId:"sc-eaaa12a-6"})(["&&{font-size:42px;}"]),QX=ae.div.withConfig({displayName:"FundingCurrency",componentId:"sc-eaaa12a-8"})(["font-size:18px;"]),_X=ae.div.withConfig({displayName:"FundingDollars",componentId:"sc-eaaa12a-9"})(["font-size:12px;color:var(--privy-color-foreground-3);height:20px;"]),xNe=ae.div.withConfig({displayName:"InfoButtonText",componentId:"sc-eaaa12a-13"})([""]),bNe=ae.a.withConfig({displayName:"InfoButtonLink",componentId:"sc-eaaa12a-14"})(["&&{color:var(--privy-color-accent);}cursor:pointer;"]),qX=({displayName:t,errorMessage:e,configuredFundingChain:n,formattedBalance:i,fundingAmount:f,fundingCurrency:b,fundingAmountInUsd:s,options:y,selectedOption:r,isPreparing:o,isSubmitting:v,addressToFund:c,fundingWalletAddress:u,onSubmit:l,onSelect:a,onAmountChange:d,erc20ContractInfo:p})=>{let h=H.useRef(null);return O.jsxs(O.Fragment,{children:[O.jsx(ba,{}),O.jsx(cl,{}),O.jsx(hc,{children:"Transfer from another network"}),O.jsxs(zd,{children:["You need more funds on the"," ",typeof n=="object"?n.name:c3(n)," ","network. Bridge from another blockchain network."]}),O.jsxs(KX,{style:{marginTop:"2rem"},children:[O.jsxs(ZX,{onClick:()=>h.current?.focus(),children:[O.jsx(JX,{ref:h,value:f,onChange:g=>{let m=g.target.value;if(/^[0-9.]*$/.test(m)&&m.split(".").length-1<=1){let x=/\.$/.test(m)?".":"",w=Number(m.replace(/\.$/,"")||"0");if(Number.isNaN(w))return void d("0");d(w.toString()+x)}}}),O.jsx(QX,{children:b})]}),s&&O.jsx(_X,{children:s})]}),O.jsxs(Mn,{style:{marginTop:"1.5rem"},children:[O.jsx(gn,{children:"From"}),O.jsx(gn,{children:WR(u)})]}),O.jsx(fNe,{selected:{chain:r.chain,balance:r.isErc20Quote?mw({amount:r.erc20Balance??0n,decimals:p?.decimals??6})+` ${p?.symbol||""}`:Ja(r.balance,r.chain.nativeCurrency.symbol,3,!0)},options:y.map((({chain:g,balance:m,isErc20Quote:x,erc20Balance:w})=>({chain:g,balance:x?mw({amount:w??0n,decimals:p?.decimals??6})+` ${p?.symbol||""}`:Ja(m,g.nativeCurrency.symbol,3,!0)}))),onSelect:a}),O.jsxs(Mn,{style:{marginTop:"1.5rem"},children:[O.jsx(gn,{children:"To"}),O.jsx(gn,{children:WR(c)})]}),O.jsx(uNe,{chain:n,balance:i}),O.jsx(jd,{style:{marginTop:"1rem"},children:e}),O.jsxs(hw,{style:{marginTop:"1rem"},loading:v||o,disabled:o||v,onClick:l,children:["Confirm with ",t]}),O.jsx(go,{}),O.jsx(un,{})]})},o7=({walletClientType:t,displayName:e,addressToFund:n,chainId:i,chainName:f,isBridging:b,isErc20Flow:s,totalPriceInNativeCurrency:y,totalPriceInUsd:r,gasPriceInNativeCurrency:o,gasPriceInUsd:v})=>{let c=yc(t);return O.jsxs(O.Fragment,{children:[O.jsx(ba,{}),O.jsx(Gp,{centerIcon:O.jsx(GX,{icon:c?.image_url?.md,name:t})}),O.jsx(lo,{style:{marginTop:"8px",marginBottom:"12px"},title:`${b?"Bridging":"Confirming"} with ${e}`}),!b&&!s&&O.jsxs(a7,{children:[O.jsxs(Mn,{children:[O.jsx(gn,{children:"Total"}),O.jsx(ur,{children:r||y})]}),O.jsxs(Mn,{children:[O.jsx(gn,{children:"To"}),O.jsx(ur,{children:O.jsx(is,{address:n,showCopyIcon:!1})})]}),O.jsxs(Mn,{children:[O.jsx(gn,{children:"Network"}),O.jsx(ur,{children:O.jsxs(CNe,{children:[O.jsx(XX,{chainId:i,height:16,width:16})," ",f]})})]}),o&&O.jsxs(Mn,{children:[O.jsx(gn,{children:"Estimated fee"}),O.jsx(ur,{children:v||o})]})]}),O.jsx(PFe,{height:24}),O.jsx(un,{})]})};let CNe=ae.div.withConfig({displayName:"NetworkColumn",componentId:"sc-5bdbf842-0"})(["display:flex;flex-direction:row;align-items:center;gap:4px;"]);const eK={component:()=>{let t=it(),{rpcConfig:e,appId:n,closePrivyModal:i,createAnalyticsEvent:f}=et(),{navigate:b,setModalData:s,data:y}=lt(),r=it(),{wallets:o}=ch(),[v,c]=H.useState(null),[u,l]=H.useState(null),[a,d]=H.useState([]),[p,h]=H.useState(0),[g,m]=H.useState(!1),[x,w]=H.useState(!1),[C,E]=H.useState(!1),[T,S]=H.useState(!1),[A,P]=H.useState(),[R,L]=H.useState();if(!y?.funding||y.funding.chainType!=="solana")throw Error("Invalid funding data");let{address:D,chain:F,connectedWalletAddress:$}=y.funding,[N,k]=H.useState(y.funding.amount),j=$?o.find((({address:le})=>le===$)):o[0],W=yc(j?.walletClientType||"unknown"),G=W?.name||"wallet",[K,z]=H.useState(null);H.useEffect((()=>{(async()=>{if(!j)return;let le=await j.getEthereumProvider();z(HU({account:j.address,transport:XU(le)}).extend(dS))})().catch(console.error)}),[j]);let[X,U]=H.useState(0n),Z=a2(X);H.useEffect((()=>{let le=t.solanaRpcs[F];le?i7({rpc:le.rpc,address:D}).then((he=>U(BigInt(he)))).catch(console.error):console.warn("Unable to load solana rpc, skipping balance")}),[]);let[V,J]=H.useState(),{tokenPrice:_}=Fm("solana"),{fundingAmountInBaseUnit:ee,fundingAmountInUsd:te}=(function({amount:le,fee:he,tokenPrice:fe,isUsdc:oe}){let Ce=BigInt(Math.floor(parseFloat(le)*10**(oe?6:9))),ye=oe?Ce:Ce+he;return{fundingAmountInBaseUnit:Ce,fundingAmountInUsd:fe?O6(Ce,fe):void 0,totalPriceInUsd:fe?O6(ye,fe):void 0,totalPriceInNativeCurrency:a2(ye),feePriceInNativeCurrency:a2(he),feePriceInUsd:fe?O6(he,fe):void 0}})({amount:N,fee:0n,tokenPrice:_,isUsdc:y.funding.isUSDC});if(H.useEffect((()=>{(async()=>{if(!K||!j)return;let le=["solana:testnet","solana:devnet"].includes(F);le&&console.warn("Solana testnets are not supported for bridging");let he=yS(r.chains).filter((({testnet:Ee})=>!!Ee===le)),fe=(await YX({chains:he,address:j.address,appId:n,rpcConfig:e})).filter((Ee=>Ee.balance>0n));if(fe.length<1)return void c(new ge(`Wallet ${Oi(j.address)} does not have enough funds.`,void 0,we.INSUFFICIENT_BALANCE));fe.sort(((Ee,Ie)=>Number(Ie.balance-Ee.balance)));let oe=(await Promise.allSettled(fe.map((async Ee=>({...Ee,quote:await zg({isTestnet:!1,input:Jf({amount:ee.toString(),user:j.address,recipient:D,destinationChainId:VE,destinationCurrency:HE,originChainId:Ee.chain.id})})}))))).filter((Ee=>Ee.status==="fulfilled")).map((Ee=>Ee.value));if(oe.length<1)return void c(new ge(`Unable to fetch quotes for bridging. Wallet ${Oi(j.address)} does not have enough funds.`,void 0,we.INSUFFICIENT_BALANCE));let Ce=oe.map((({quote:Ee,balance:Ie,chain:je})=>({bridgeTx:pw(Ee),balance:Ie,chain:je,isErc20Quote:!1}))).filter((({bridgeTx:Ee})=>!!Ee));if(Ce.length>1)return void d(Ce);let ye=Ce.at(0);ye?(w(!0),J({data:ye.bridgeTx.data,to:ye.bridgeTx.to,value:ye.bridgeTx.value,chain:ye.chain})):c(new ge(`Unable to select bridge option from quotes. Wallet ${Oi(j.address)} does not have enough funds.`,void 0,we.INSUFFICIENT_BALANCE))})().catch(console.error)}),[K]),H.useEffect((()=>{(async()=>{let le,he;if(!K||!j||g||C||!V)return;m(!0);let fe=tl({chain:V.chain,transport:nl(iu(V.chain,e,n))});try{le=await fe.prepareTransactionRequest({account:j.address,to:V.to,chain:V.chain,data:V.data,value:BigInt(V.value??0)})}catch(oe){console.error(oe),a.length>1&&l(oe.shortMessage??"Something went wrong")}if(le){m(!1),E(!0);try{await K.switchChain({id:V.chain.id})}catch{await K.addChain({chain:V.chain}),await K.switchChain({id:V.chain.id})}try{he=await K.sendTransaction(le)}catch(oe){console.error(oe),oe.name==="TransactionExecutionError"&&(a.length<1?c(new ge(oe.shortMessage,void 0,we.TRANSACTION_FAILURE)):l(oe.shortMessage??"Something went wrong"))}if(he)return await K.waitForTransactionReceipt({hash:he}),x?(L("pending"),void P(he)):(E(!1),S(!0),void f({eventName:sl,payload:{provider:"external",status:"success",txHash:he,address:j.address,chainId:V.chain.id,chainType:"ethereum",value:V.value?as(BigInt(V.value),18):void 0,token:"ETH",destination:D,destinationClusterName:"mainnet-beta",destinationChainType:"solana",destinationValue:as(ee,9),destinationToken:"SOL"}}));E(!1)}else m(!1)})().catch(console.error)}),[K,V]),t7({transactionHash:A,isTestnet:!1,bridgingStatus:R,setBridgingStatus:L,onSuccess({transactionHash:le}){w(!1),S(!0),f({eventName:sl,payload:{provider:"external",status:"success",txHash:le,address:j?.address,chainId:V?.chain.id,chainType:"ethereum",value:V?.value?as(BigInt(V.value),18):void 0,token:"ETH",destination:D,destinationClusterName:"mainnet-beta",destinationChainType:"solana",destinationValue:as(ee,9),destinationToken:"SOL"}})},onFailure({error:le}){w(!1),c(le)}}),H.useEffect((()=>{v&&(s({funding:y?.funding,solanaFundingData:y?.solanaFundingData,sendTransaction:y?.sendTransaction,errorModalData:{error:v,previousScreen:Nm}}),b(Gn,!1))}),[v]),H.useEffect((()=>{if(!T)return;let le=setTimeout(i,FT);return()=>clearTimeout(le)}),[T]),T)return O.jsxs(O.Fragment,{children:[O.jsx(ba,{}),O.jsx(cl,{}),O.jsxs(Kx,{children:[O.jsx(ox,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),O.jsx(lo,{title:"Success!",description:`Youve successfully added ${N} SOL to your ${r.name} wallet. It may take a minute before the funds are available to use.`})]}),O.jsx(go,{}),O.jsx(un,{})]});let ie=a[p];return a.length>1&&ie?O.jsx(qX,{displayName:G,configuredFundingChain:F,formattedBalance:Z,fundingAmount:N,fundingCurrency:"SOL",fundingAmountInUsd:te,options:a,selectedOption:ie,isPreparing:g,isSubmitting:C,addressToFund:D,fundingWalletAddress:j?.address||"",errorMessage:u,onSubmit:()=>{y.funding?.amount!==N?(async function(){if(j&&ie)try{let le=await zg({isTestnet:!1,input:Jf({amount:ee.toString(),user:j.address,recipient:D,destinationChainId:VE,destinationCurrency:HE,originChainId:ie.chain.id})}),he=pw(le);if(!he)throw Error("Invalid transaction request");w(!0),J({data:he.data,to:he.to,value:he.value,chain:ie.chain})}catch(le){console.error(le),c(new ge("Unable to fetch quotes for bridging",le,we.INSUFFICIENT_BALANCE))}})().catch(console.error):J({to:ie.bridgeTx.to,data:ie.bridgeTx.data,value:ie.bridgeTx.value,chain:ie.chain})},onSelect:le=>{le!==p&&(l(null),h(le))},onAmountChange:k}):C&&j?O.jsx(o7,{walletClientType:j?.walletClientType||"unknown",displayName:G,addressToFund:D,isBridging:x,isErc20Flow:!1,chainId:"solana",chainName:c3(F),totalPriceInUsd:void 0,totalPriceInNativeCurrency:void 0,gasPriceInUsd:void 0,gasPriceInNativeCurrency:void 0}):O.jsxs(O.Fragment,{children:[O.jsx(ba,{}),O.jsx(Gp,{}),O.jsx("div",{style:{marginTop:"1rem"}}),O.jsx(un,{})]})}},tK={component:()=>{let{rpcConfig:t,appId:e,closePrivyModal:n,createAnalyticsEvent:i}=et(),{navigate:f,setModalData:b,data:s}=lt(),y=it(),{wallets:r}=ch(),[o,v]=H.useState(!1),[c,u]=H.useState(0n),[l,a]=H.useState(!1),[d,p]=H.useState(null),[h,g]=H.useState(null),[m,x]=H.useState([]),[w,C]=H.useState(0),[E,T]=H.useState(!1),[S,A]=H.useState(!1),[P,R]=H.useState(!1),[L,D]=H.useState(!1),[F,$]=H.useState(),[N,k]=H.useState();if(!s?.funding||s.funding.chainType!=="ethereum")throw Error("Invalid funding data");let{erc20ContractInfo:j,chain:W,connectedWalletAddress:G}=s.funding,K=s.funding.address,z=s.funding.erc20Address,[X,U]=H.useState(s.funding.amount);H.useEffect((()=>{z&&!j&&p(Error("Unable to fetch token details"))}),[]);let Z=!!z&&!!j,V=Z?BigInt(parseFloat(X)*10**j.decimals):nU(X),J=G?r.find((({address:Ge})=>Ge===G)):r[0],_=yc(J?.walletClientType||"unknown"),ee=_?.name||"wallet",[te,ie]=H.useState(null);H.useEffect((()=>{(async()=>{if(!J)return;let Ge=await J.getEthereumProvider();ie(HU({account:J.address,transport:XU(Ge)}).extend(dS))})().catch(console.error)}),[J]);let[le,he]=H.useState(0n);H.useEffect((()=>{tl({chain:W,transport:nl(iu(W,t,e))}).getBalance({address:K}).then(he).catch(console.error)}),[]);let[fe,oe]=H.useState(0n);H.useEffect((()=>{Z&&s7({chain:W,address:K,appId:e,rpcConfig:t,erc20Address:z}).then((Ge=>oe(Ge.balance))).catch(console.error)}),[]);let{tokenPrice:Ce}=Fm(W.id),[ye,Ee]=H.useState({to:K,chain:W,value:V,data:void 0});H.useEffect((()=>{(async()=>{let Ge,nt;if(!te||!J||E||P)return;T(!0);let Et=tl({chain:ye.chain,transport:nl(iu(ye.chain,t,e))});if(Z&&!ye.data)return await Et.simulateContract({address:z,chain:ye.chain,abi:JE,functionName:"transfer",args:[K,V],account:J.address}).catch((Je=>{console.warn("Simulated token transfer failed with error, fetching bridge options.",Je)}))?(T(!1),void Ee({to:z,chain:ye.chain,data:fs({abi:JE,functionName:"transfer",args:[K,V]}),value:"0x0"})):(T(!1),void a(!0));try{Ge=await Et.prepareTransactionRequest({account:J.address,to:ye.to,chain:ye.chain,data:ye.data,value:BigInt(ye.value??0)})}catch(Je){if(console.error(Je),m.length>1)g(Je.shortMessage??"Something went wrong");else if(S&&m.length===0)return void p(new ge(`Wallet ${Oi(J.address)} does not have enough funds.`,void 0,we.INSUFFICIENT_BALANCE))}if(!Ge)return T(!1),void a(!0);T(!1),R(!0),v(!0),u(Ge.gas);try{await te.switchChain({id:ye.chain.id})}catch{await te.addChain({chain:ye.chain}),await te.switchChain({id:ye.chain.id})}try{nt=await te.sendTransaction(Ge)}catch(Je){if(console.error(Je),Je.name==="TransactionExecutionError")if(m.length<1){let He=Je.shortMessage;(Je.shortMessage.includes("rejected the request")||Je.details.includes("rejected the request"))&&(He="User rejected the request."),p(new ge(He,void 0,we.TRANSACTION_FAILURE))}else g(Je.shortMessage??"Something went wrong")}if(nt)return await te.waitForTransactionReceipt({hash:nt}),R(!1),S?($(nt),void k("pending")):(D(!0),void i({eventName:sl,payload:{provider:"external",status:"success",txHash:nt,address:J.address,chainId:ye.chain.id,chainType:"ethereum",value:ye.value?as(BigInt(ye.value),j?.decimals??18):void 0,token:j?.symbol??z??"ETH",destinationAddress:K,destinationChainId:W.id,destinationChainType:"ethereum",destinationValue:V?as(V,j?.decimals??18):void 0,destinationToken:j?.symbol??z??W.nativeCurrency.name}}));R(!1)})().catch(console.error)}),[te,ye]),H.useEffect((()=>{(async()=>{if(!l||!te||!J)return;let Ge=yS(y.chains).filter((ut=>ut.id!==W.id&&!!ut.testnet==!!W.testnet));Z&&Ge.unshift(W);let nt=await YX({chains:Ge,address:J.address,appId:e,rpcConfig:t,includeUsdc:s.funding?.isUSDC}),Et=Z?nt.filter((ut=>ut.balance>0n)):nt.filter((ut=>ut.balance>V)),Je=Z&&nt.every((ut=>ut.balance===0n));if(Et.length<1)return void p(new ge(Je?`Wallet ${Oi(J.address)} doesn't have enough funds to cover gas fees. Top up your wallet and try again.`:`Wallet ${Oi(J.address)} does not have enough funds.`,void 0,we.INSUFFICIENT_BALANCE));Et.sort(((ut,wt)=>Number(Z?(wt.erc20Balance??0n)-(ut.erc20Balance??0n):wt.balance-ut.balance)));let He=Et.flatMap((ut=>{let wt=[{...ut,isErc20Quote:!1,isTestnet:!!W.testnet,input:Jf({amount:V.toString(),user:J.address,recipient:K,destinationChainId:W.id,destinationCurrency:z,originChainId:ut.chain.id})}];return Z&&z&&(ut.erc20Balance??0n)>=V&&wt.push({...ut,isErc20Quote:!0,isTestnet:!!W.testnet,input:Jf({amount:V.toString(),user:J.address,recipient:K,destinationChainId:W.id,destinationCurrency:z,originChainId:ut.chain.id,originCurrency:ut.erc20Address})}),wt})),Qe=(await Promise.allSettled(He.map((async ut=>({...ut,quote:await zg(ut)}))))).filter((ut=>ut.status==="fulfilled")).map((ut=>ut.value));if(Qe.length<1)return void p(new ge(`Wallet ${Oi(J.address)} does not have enough funds.`,void 0,we.INSUFFICIENT_BALANCE));let dt=Qe.map((ut=>({bridgeTx:pw(ut.quote),balance:ut.balance,chain:ut.chain,erc20Balance:ut.erc20Balance,isErc20Quote:ut.isErc20Quote}))).filter((ut=>!!ut.bridgeTx));if(dt.length>1)return void x(dt);let $t=dt[0];$t?(A(!0),Ee({data:$t.bridgeTx.data,to:$t.bridgeTx.to,value:$t.bridgeTx.value,chain:$t.chain})):p(new ge(`Wallet ${Oi(J.address)} does not have enough funds.`,void 0,we.INSUFFICIENT_BALANCE))})().catch(console.error)}),[l]),t7({transactionHash:F,isTestnet:!!W.testnet,bridgingStatus:N,setBridgingStatus:k,onSuccess({transactionHash:Ge}){A(!1),D(!0),i({eventName:sl,payload:{provider:"external",status:"success",txHash:Ge,address:J?.address,chainId:ye.chain.id,chainType:"ethereum",value:ye.value?as(BigInt(ye.value),j?.decimals??18):void 0,token:j?.symbol??z??"ETH",destinationAddress:K,destinationChainId:W.id,destinationChainType:"ethereum",destinationValue:V?as(V,j?.decimals??18):void 0,destinationToken:j?.symbol??z??W.nativeCurrency.name}})},onFailure({error:Ge}){A(!1),p(Ge)}}),H.useEffect((()=>{d&&(b({funding:s?.funding,solanaFundingData:s?.solanaFundingData,sendTransaction:s?.sendTransaction,errorModalData:{error:d,previousScreen:Nm}}),f(Gn,!1))}),[d]);let Ie=!Z&&Ce?BY(X??"0",Ce):void 0,je=Z?c:VT([c,V]),Re=je&&Ce?wd(je,Ce):void 0,$e=je?Ja(je,s?.funding?.erc20Address?s?.funding?.erc20ContractInfo?.symbol||"ETH":s?.funding?.chain.nativeCurrency.symbol||"ETH"):void 0,Ae=c&&Ce?wd(c,Ce):void 0,Xe=c?Ja(c,W?.nativeCurrency?.symbol||"ETH"):void 0;if(H.useEffect((()=>{if(!L)return;let Ge=setTimeout(n,FT);return()=>clearTimeout(Ge)}),[L]),L)return O.jsxs(O.Fragment,{children:[O.jsx(ba,{}),O.jsx(cl,{}),O.jsxs(Kx,{children:[O.jsx(ox,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),O.jsx(lo,{title:"Success!",description:`Youve successfully added ${X} ${Z?j.symbol:W.nativeCurrency.symbol} to your ${y.name} wallet. It may take a minute before the funds are available to use.`})]}),O.jsx(go,{}),O.jsx(un,{})]});let st=Z?`${mw({amount:fe,decimals:j.decimals})}  ${j.symbol}`:Ja(le,W.nativeCurrency.symbol,3,!0),vt=m[w];return m.length>1&&vt?O.jsx(qX,{displayName:ee,configuredFundingChain:W,erc20ContractInfo:j,formattedBalance:st,fundingAmount:X,fundingCurrency:Z?j.symbol:W.nativeCurrency.symbol,fundingAmountInUsd:Ie,options:m,selectedOption:vt,isPreparing:E,isSubmitting:P,addressToFund:K,fundingWalletAddress:J?.address||"",errorMessage:h,onSubmit:()=>{s.funding?.amount!==X?(async function(){if(J&&vt)try{let Ge=await zg({isTestnet:!!W.testnet,input:Jf({amount:V.toString(),user:J.address,recipient:K,destinationChainId:W.id,destinationCurrency:z,originChainId:vt.chain.id})}),nt=pw(Ge);if(!nt)throw Error("Invalid transaction request");A(!0),Ee({data:nt.data,to:nt.to,value:nt.value,chain:vt.chain})}catch(Ge){console.error(Ge),p(new ge("Unable to fetch quotes for bridging",Ge,we.INSUFFICIENT_BALANCE))}})().catch(console.error):Ee({to:vt.bridgeTx.to,data:vt.bridgeTx.data,value:vt.bridgeTx.value,chain:vt.chain})},onSelect:Ge=>{Ge!==w&&(g(null),C(Ge))},onAmountChange:U}):o&&c&&J&&s?.funding?O.jsx(o7,{walletClientType:J?.walletClientType||"unknown",displayName:ee,addressToFund:K,isBridging:S,isErc20Flow:Z,totalPriceInUsd:Re,totalPriceInNativeCurrency:$e,gasPriceInUsd:Ae,gasPriceInNativeCurrency:Xe,chainId:W.id,chainName:W.name}):O.jsxs(O.Fragment,{children:[O.jsx(ba,{}),O.jsx(Gp,{}),O.jsx("div",{style:{marginTop:"1rem"}}),O.jsx(un,{})]})}},t9=Symbol("solana-funding-plugin"),nK={component:function(){let t=it(),{closePrivyModal:e,createAnalyticsEvent:n,connectors:i}=et(),{navigate:f,setModalData:b,data:s}=lt(),y=it(),r=H.useRef(!1),o=n7(),[v,c]=H.useState(!1),[u,l]=H.useState(!1),[a,d]=H.useState(null),[p,h]=H.useState(),[g,m]=H.useState();if(!s?.funding||s.funding.chainType!=="ethereum")throw Error("Invalid funding data");let{amount:x,connectedWalletAddress:w,chain:C,solanaChain:E,isUSDC:T}=s.funding,S=s.funding.address,A=s.funding.erc20Address,P=s.funding.isUSDC?"USDC":C.nativeCurrency.symbol,R=H.useMemo((()=>(function({connectors:$,connectedWalletAddress:N}){let k=$.find((W=>W.chainType==="solana"&&W.wallets.some((G=>G.address===N)))),j=k?.wallet.accounts.find((W=>W.address===N));if(!k||!j)throw new ge("Unable to find source wallet connector");return new vj({wallet:k.wallet,account:j})})({connectors:i,connectedWalletAddress:w||""})),[i,w]),L=H.useMemo((()=>{let $=o(t9);if(!$)throw new ge("Unable to load solana plugin");let N=t.solanaRpcs["solana:mainnet"];if(!N)throw new ge("Unable to load mainnet RPC");return $.getSolanaRpcClient({rpc:N.rpc,rpcSubscriptions:N.rpcSubscriptions,chain:"solana:mainnet",blockExplorerUrl:N.blockExplorerUrl??"https://explorer.solana.com"})}),[]),D=yc(UE(R?.standardWallet.name||"unknown")),F=D?.name||"wallet";return H.useEffect((()=>{(async function(){if(!R||!C||r.current)return;let $=o(t9);if(!$)return void d(new ge("Unable to solana plugin"));r.current=!0,C?.testnet&&console.warn("Solana testnets are not supported for bridging");let N=T?1e6*parseFloat(x):nU(x),k=await zg({isTestnet:!!C.testnet,input:Jf({amount:N.toString(),user:R.address,recipient:S,destinationChainId:C.id,originChainId:VE,originCurrency:T?"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v":HE,destinationCurrency:T?A:void 0})}).catch(console.error);if(!k)return void d(new ge(`Unable to fetch quotes for bridging. Wallet ${P6(R.address)} does not have enough funds.`,void 0,we.INSUFFICIENT_BALANCE));let j=await $.createTransactionFromRelayQuote({quote:k,source:R.address,solanaClient:L});if(j)try{c(!0);let W=await $.simulateTransaction({solanaClient:L,tx:j});if(W.hasError)return W.hasFunds?(console.error("Transaction failed:",W.error),void d(new ge("Something went wrong",void 0,we.TRANSACTION_FAILURE))):void d(new ge(`Wallet ${P6(R?.address)} does not have enough funds. ${k.details.currencyIn.amountFormatted} ${P} are needed to complete the transaction.`,void 0,we.INSUFFICIENT_BALANCE));let{signature:G}=await R.signAndSendTransaction({chain:"solana:mainnet",transaction:j}),K=$.getAddressFromBuffer(G);h(K),m("pending")}catch(W){if(console.error(W),/user rejected the request/gi.test(W.message||""))return void d(new ge("Transaction was rejected by the user",void 0,we.TRANSACTION_FAILURE));d(new ge("Something went wrong",void 0,we.TRANSACTION_FAILURE))}else d(new ge(`Unable to select bridge option from quotes. Wallet ${P6(R.address)} does not have enough funds.`,void 0,we.INSUFFICIENT_BALANCE))})().catch(console.error)}),[]),t7({transactionHash:p,isTestnet:!1,bridgingStatus:g,setBridgingStatus:m,onSuccess({transactionHash:$}){c(!1),l(!0),n({eventName:sl,payload:{provider:"external",status:"success",txHash:$,address:R.address,chainType:"solana",clusterName:E,token:"SOL",destinationAddress:S,destinationChainId:C.id,destinationChainType:"ethereum",destinationValue:x,destinationToken:T?"USDC":"ETH"}})},onFailure({error:$}){c(!1),d($)}}),H.useEffect((()=>{if(!u)return;let $=setTimeout(e,FT);return()=>clearTimeout($)}),[u]),H.useEffect((()=>{a&&(b({funding:s?.funding,solanaFundingData:s?.solanaFundingData,sendTransaction:s?.sendTransaction,errorModalData:{error:a,previousScreen:Nm}}),f(Gn,!1))}),[a]),u?O.jsxs(O.Fragment,{children:[O.jsx(ba,{}),O.jsx(cl,{}),O.jsxs(Kx,{children:[O.jsx(ox,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),O.jsx(lo,{title:"Success!",description:`Youve successfully added ${x} ${P} to your ${y.name} wallet. It may take a minute before the funds are available to use.`})]}),O.jsx(go,{}),O.jsx(un,{})]}):v&&R?O.jsx(o7,{walletClientType:UE(R?.standardWallet.name||"unknown"),displayName:F,addressToFund:S,isBridging:v,isErc20Flow:!1,chainId:C.id,chainName:C.name,totalPriceInUsd:void 0,totalPriceInNativeCurrency:void 0,gasPriceInUsd:void 0,gasPriceInNativeCurrency:void 0}):O.jsxs(O.Fragment,{children:[O.jsx(ba,{}),O.jsx(Gp,{}),O.jsx("div",{style:{marginTop:"1rem"}}),O.jsx(un,{})]})}},PD={component:()=>{let{data:t,setModalData:e}=lt(),n=t?.funding,i=n.chainType==="solana",f=H.useRef(null),{tokenPrice:b}=Fm(i?"solana":n.chain.id),s=i?void 0:n,y=!(!s?.erc20Address||s?.erc20ContractInfo),r=i?n.isUSDC?"USDC":"SOL":n.erc20Address?n.erc20ContractInfo?.symbol:n.chain.nativeCurrency.symbol||"ETH",o=parseFloat(n.amount),v=!isNaN(o)&&o>0,c=b?BY(n.amount,b):void 0;return O.jsxs(O.Fragment,{children:[O.jsx(ba,{}),O.jsx(hc,{children:"Confirm or edit amount"}),O.jsxs(Zx,{style:{marginTop:"32px"},children:[O.jsx(KX,{children:y?O.jsx(Gp,{size:"50px"}):O.jsxs(O.Fragment,{children:[O.jsxs(ZX,{onClick:()=>f.current?.focus(),children:[O.jsx(wNe,{ref:f,value:n.amount,onChange:u=>{let l=u.target.value;/^[0-9.]*$/.test(l)&&l.split(".").length-1<=1&&e({...t,funding:{...n,amount:l},solanaFundingData:t?.solanaFundingData?{...t.solanaFundingData,amount:l}:void 0})}}),O.jsx(QX,{children:r})]}),!s?.erc20Address&&O.jsx(_X,{children:c&&v?`${c} USD`:""})]})}),O.jsx(hw,{style:{marginTop:"1rem"},disabled:!v,onClick:n.onContinueWithExternalWallet,children:"Continue"})]}),O.jsx(un,{})]})}},Nm={component:()=>{let t,{connectors:e}=et(),{setModalData:n,data:i,navigate:f}=lt(),b=it(),{wallets:s}=ch(),y=e.filter(Vx).flatMap((w=>w.wallets)),[r,o]=H.useState("default"),v=i?.funding?.chainType==="solana",c=!!i?.funding?.crossChainBridgingEnabled;t=i?.funding?.chainType==="ethereum"?i.funding.erc20Address&&!i.funding.isUSDC?"ethereum-only":c&&!i.funding.chain.testnet?"ethereum-and-solana":"ethereum-only":c&&!i.funding?.isUSDC?"ethereum-and-solana":"solana-only";let u=s.filter((w=>w.walletClientType!=="privy")),l=u.map((w=>w.walletClientType)),a=y.filter((w=>w.walletClientType!=="privy")),d=a.map((w=>w.walletClientType)),p=[],h={...i.funding};h.usingDefaultFundingMethod&&(h.usingDefaultFundingMethod=!1);let g=({address:w,walletChainType:C,walletClientType:E})=>{n({...i,funding:{...h,connectedWalletAddress:w,onContinueWithExternalWallet:()=>f(x({destChainType:v?"solana":"ethereum",sourceChainType:C}))},solanaFundingData:i?.solanaFundingData?{...i.solanaFundingData,sourceWalletData:{address:w,walletClientType:E}}:void 0}),f(PD)};t!=="solana-only"&&p.push(...u.map(((w,C)=>O.jsx(ID,{onClick:()=>g({address:w.address,walletChainType:"ethereum",walletClientType:w.walletClientType}),icon:w.meta.icon,name:w.meta.name,chainType:w.type},C)))),t!=="ethereum-only"&&p.push(...a.map(((w,C)=>O.jsx(ID,{onClick:()=>g({address:w.address,walletChainType:"solana",walletClientType:w.walletClientType}),icon:w.meta.icon,name:w.meta.name,chainType:w.type},C)))),p.push(...HX({walletList:b.appearance.walletList.filter((w=>!u.some((C=>C.walletClientType===w))&&!a.some((C=>C.walletClientType===w)))),walletChainType:t,connectors:e,connectOnly:!0,ignore:[...b.appearance.walletList,...l,...d],walletConnectEnabled:b.externalWallets.walletConnect.enabled}));let m=O.jsx(WX,{text:"More wallets",onClick:()=>o("overflow")}),x=({sourceChainType:w,destChainType:C})=>w==="ethereum"&&C==="solana"?eK:w==="ethereum"&&C==="ethereum"?tK:w==="solana"&&C==="ethereum"?nK:h.externalSolanaFundingScreen;return H.useEffect((()=>{n({...i,externalConnectWallet:{onCompleteNavigateTo:({address:w,walletClientType:C,walletChainType:E})=>(n({...i,funding:{...h,connectedWalletAddress:w,onContinueWithExternalWallet:()=>{f(x({destChainType:v?"solana":"ethereum",sourceChainType:E??"ethereum"}))}},solanaFundingData:i?.solanaFundingData?{...i.solanaFundingData,sourceWalletData:{address:w||"",walletClientType:C||""}}:void 0}),PD)}})}),[]),O.jsxs(O.Fragment,r==="overflow"?{children:[O.jsx(zt,{backFn:()=>o("default")},"header"),O.jsxs(jE,{children:[O.jsx(zd,{style:{color:"var(--privy-color-foreground-3)",textAlign:"left"},children:"More wallets"}),p]}),O.jsx(un,{})]}:{children:[O.jsx(ba,{}),O.jsx(lo,{title:"Transfer from wallet",description:"Connect a wallet to deposit funds or send funds manually to your wallet address."}),O.jsxs(jE,{children:[p.length>4?p.slice(0,3):p,p.length>4&&m]}),O.jsx(un,{})]})}};let ID=({onClick:t,icon:e,name:n,chainType:i})=>O.jsxs(Xn,{onClick:t,children:[O.jsx(fv,{style:{width:20},children:O.jsx("img",{src:e})}),n,O.jsx(al,{color:"gray",style:{marginLeft:"auto"},children:"Connected"}),i==="solana"&&O.jsx(al,{color:"gray",children:"Solana"})]});const ENe={component:()=>{let{data:t,setModalData:e,navigate:n,navigateBack:i}=lt(),{closePrivyModal:f,createAnalyticsEvent:b,client:s}=et(),[y,r]=H.useState("pending-in-flow"),o=H.useRef(0),v={...t?.funding,showAlternateFundingMethod:!0};v.usingDefaultFundingMethod&&(v.usingDefaultFundingMethod=!1);let{partnerUserId:c,popup:u}=t?.coinbaseOnrampStatus??{};return H.useEffect((()=>{if(y==="pending-in-flow"||y==="pending-after-flow"){let l=setInterval((async()=>{if(c)try{let{status:a}=await s.getCoinbaseOnRampStatus({partnerUserId:c});if(a==="success")return void r("success");if(a==="failure")throw Error("There was an error completing Coinbase Onramp flow.");if(o.current>=3)return e({funding:v,solanaFundingData:t?.solanaFundingData}),void n(va);u?.closed&&(o.current=o.current+1,r("pending-after-flow"))}catch(a){console.error(a),r("error"),b({eventName:sl,payload:{status:"failure",provider:"coinbase-onramp",error:a.message}}),e({funding:{...v,errorMessage:"Something went wrong adding funds. Please try again or use another method."},solanaFundingData:t?.solanaFundingData}),n(va)}}),1500);return()=>clearInterval(l)}}),[c,u,y]),O.jsxs(O.Fragment,{children:[O.jsx(zt,{title:"Fund account",backFn:()=>{e({funding:v,solanaFundingData:t?.solanaFundingData}),i()}},"header"),O.jsx(SNe,{status:y,onClickCta:f}),O.jsx(un,{})]})}};let SNe=({status:t,onClickCta:e})=>{let{title:n,body:i,cta:f}=H.useMemo((()=>(b=>{switch(b){case"success":return{title:"You've funded your account!",body:"It may take a few minutes for the assets to appear.",cta:"Continue"};case"pending-after-flow":return{title:"In Progress",body:"Almost done. Retrieving transaction status from Coinbase",cta:""};case"error":case"pending-in-flow":return{title:"In Progress",body:"Go back to Coinbase Onramp to finish funding your account.",cta:""}}})(t)),[t]);return O.jsxs(O.Fragment,{children:[O.jsxs(PNe,{children:[O.jsx(TNe,{isSucccess:t==="success"}),O.jsxs(HT,{children:[O.jsx("h3",{children:n}),O.jsx(ANe,{children:i})]})]}),f&&O.jsx(xn,{onClick:e,children:f})]})},TNe=({isSucccess:t})=>{if(!t){let i="var(--privy-color-foreground-4)";return O.jsxs("div",{style:{position:"relative"},children:[O.jsx(xa,{color:i,style:{position:"absolute"}}),O.jsx(WT,{color:i}),O.jsx(lOe,{style:{position:"absolute",width:"2.8rem",height:"2.8rem",top:"1.2rem",left:"1.2rem"}})]})}let e=(i=>i?Ag:()=>O.jsx(pT,{width:"3rem",height:"3rem",style:{backgroundColor:"var(--privy-color-foreground-4)",color:"var(--privy-color-background)",borderRadius:"100%",padding:"0.5rem",margin:"0.5rem"}}))(t),n=(i=>i?"var(--privy-color-success)":"var(--privy-color-foreground-4)")(t);return O.jsx("div",{style:{borderColor:n,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100%",borderWidth:2,padding:"0.5rem",marginBottom:"0.5rem"},children:e&&O.jsx(e,{width:"4rem",height:"4rem",color:n})})},ANe=ae.p.withConfig({displayName:"StatusBody",componentId:"sc-8428a551-0"})(["font-size:1rem;color:var(--privy-color-foreground-3);margin-bottom:1rem;display:flex;flex-direction:column;gap:1rem;"]),PNe=ae.div.withConfig({displayName:"ConnectContainer",componentId:"sc-8428a551-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:1.75rem;margin-right:1.75rem;padding:2rem 0;"]),INe={[Ea.id]:"ethereum",[po.id]:"base",[ou.id]:"optimism",[Sa.id]:"polygon",[ho.id]:"arbitrum",[fo.id]:"avacchain"};const RD=(t,e,n,i,f,b)=>new Promise((async(s,y)=>{let r=Qx();if(!r)return void y(Error("Unable to initialize flow"));let o=e.chainType==="ethereum"?(function(a){let d=INe[a];if(!d)throw new ge(`Unsupported chainId: ${a} for Coinbase Onramp`);return d})(e.chain.id):"solana",v=e.isUSDC?"USDC":e.chainType==="ethereum"?mde(e.chain.id):"SOL",c=await t.initCoinbaseOnRamp({addresses:[{address:e.address,blockchains:[o]}],assets:[v]}),{url:u}=vde({appId:t.getAppId(),input:c,amount:e.amount,blockchain:o,asset:v,experience:b});r.location=u.toString();let l={...f?.funding,showAlternateFundingMethod:!0};e.usingDefaultFundingMethod&&(l.usingDefaultFundingMethod=!1),n({funding:l,solanaFundingData:f?.solanaFundingData,coinbaseOnrampStatus:{popup:r}}),i(ENe),t.createAnalyticsEvent({eventName:"sdk_fiat_on_ramp_started",payload:{provider:"coinbase-onramp",value:e.amount,chainType:e.chainType,chainId:e.chainType==="ethereum"?e.chain.id:e.chain}}),setTimeout((()=>{n({funding:l,solanaFundingData:f?.solanaFundingData,coinbaseOnrampStatus:{partnerUserId:c.partner_user_id,popup:r}})}),5e3),s()})),MD="moonpay";function RNe(t){return parseFloat(t)}function MNe(t,e=!1){let[n,i]=H.useState(null),{createAnalyticsEvent:f}=et(),{data:b,navigate:s,setModalData:y}=lt(),r=b?.funding,o=H.useRef(0);return H.useEffect((()=>{let v=setInterval((async()=>{if(t)try{let[c]=await(async function(l,a){return bj(`https://api.moonpay.com/v1/transactions/ext/${l}`,{query:{apiKey:a?"pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI":"pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL"}})})(t,e),u=c.status==="waitingAuthorization"&&c.paymentMethod==="credit_debit_card"?"pending":c.status;if(["failed","completed","awaitingAuthorization"].includes(u)&&(f({eventName:sl,payload:{status:u,provider:MD,paymentMethod:c.paymentMethod,cardPaymentType:c.cardPaymentType,currency:c.currency?.code,baseCurrencyAmount:c.baseCurrencyAmount,quoteCurrencyAmount:c.quoteCurrencyAmount,feeAmount:c.feeAmount,extraFeeAmount:c.extraFeeAmount,networkFeeAmount:c.networkFeeAmount,isSandbox:e}}),clearInterval(v)),u==="failed"||u==="serviceFailure")return y({funding:{...r,errorMessage:"Something went wrong adding funds from Moonpay. Please try again or use another method to fund your wallet."},solanaFundingData:b?.solanaFundingData}),void s(va);i(u)}catch(c){c.response?.status!==404&&(o.current+=1),o.current>=3&&(f({eventName:sl,payload:{status:"serviceFailure",provider:MD}}),clearInterval(v),y({funding:{...r,errorMessage:"Something went wrong adding funds from Moonpay. Please try again or use another method to fund your wallet."},solanaFundingData:b?.solanaFundingData}),s(va))}}),3e3);return()=>clearInterval(v)}),[t,o]),n}const ONe=({size:t=61,...e})=>O.jsx("svg",{width:t,height:t,viewBox:"0 0 61 61",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:O.jsxs("g",{id:"moonpay_symbol_wht 2",children:[O.jsx("rect",{x:"1.3374",y:"1",width:"59",height:"59",rx:"11.5",fill:"#7715F5"}),O.jsx("path",{id:"Vector",d:"M43.8884 23.3258C45.0203 23.3258 46.1268 22.9901 47.068 22.3613C48.0091 21.7324 48.7427 20.8386 49.1759 19.7928C49.6091 18.747 49.7224 17.5962 49.5016 16.4861C49.2807 15.3759 48.7357 14.3561 47.9353 13.5557C47.1349 12.7553 46.1151 12.2102 45.0049 11.9893C43.8947 11.7685 42.7439 11.8819 41.6982 12.3151C40.6524 12.7482 39.7585 13.4818 39.1297 14.423C38.5008 15.3641 38.1651 16.4707 38.1651 17.6026C38.165 18.3542 38.3131 19.0985 38.6007 19.7929C38.8883 20.4873 39.3098 21.1182 39.8413 21.6496C40.3728 22.1811 41.0037 22.6027 41.6981 22.8903C42.3925 23.1778 43.1367 23.3259 43.8884 23.3258ZM26.3395 49.1017C23.5804 49.1017 20.8832 48.2836 18.5891 46.7507C16.295 45.2178 14.5069 43.039 13.4511 40.49C12.3952 37.9409 12.1189 35.1359 12.6572 32.4298C13.1955 29.7237 14.5241 27.238 16.4751 25.287C18.4262 23.336 20.9118 22.0074 23.6179 21.4691C26.324 20.9308 29.129 21.2071 31.6781 22.2629C34.2272 23.3189 36.406 25.1069 37.9389 27.401C39.4717 29.6952 40.2899 32.3923 40.2899 35.1514C40.2899 36.9835 39.9291 38.7975 39.2281 40.49C38.527 42.1826 37.4994 43.7205 36.204 45.0159C34.9086 46.3113 33.3707 47.3389 31.6781 48.04C29.9856 48.741 28.1715 49.1018 26.3395 49.1017Z",fill:"white"})]})}),rK={component:()=>{let{data:t,setModalData:e,navigateBack:n}=lt(),i=it(),{closePrivyModal:f}=et(),{externalTransactionId:b}=t?.moonpayStatus,s=MNe(b||null,i.fundingMethodConfig.moonpay.useSandbox??!1);return O.jsxs(O.Fragment,{children:[O.jsx(zt,{title:"Fund account",backFn:()=>{let y={...t?.funding,showAlternateFundingMethod:!0};y.usingDefaultFundingMethod&&(y.usingDefaultFundingMethod=!1),e({funding:y,solanaFundingData:t?.solanaFundingData}),n()}}),O.jsx(FNe,{status:s,onClickCta:f}),O.jsx(un,{})]})}};let FNe=({status:t,onClickCta:e})=>{let{title:n,body:i,cta:f}=H.useMemo((()=>(b=>{switch(b){case"completed":return{title:"You've funded your account!",body:"It may take a few minutes for the assets to appear.",cta:"Continue"};case"waitingAuthorization":return{title:"Processing payment",body:"This may take up to a few hours. You will receive an email when the purchase is complete.",cta:"Continue"};default:return{title:"In Progress",body:"Go back to MoonPay to finish funding your account.",cta:""}}})(t)),[t]);return O.jsxs(O.Fragment,{children:[O.jsxs(DNe,{children:[O.jsx($Ne,{status:t}),O.jsxs(HT,{children:[O.jsx("h3",{children:n}),O.jsx(LNe,{children:i})]})]}),f&&O.jsx(xn,{onClick:e,children:f})]})},$Ne=({status:t})=>{if(!t||t==="pending"){let i="var(--privy-color-foreground-4)";return O.jsxs("div",{style:{position:"relative"},children:[O.jsx(xa,{color:i,style:{position:"absolute"}}),O.jsx(WT,{color:i}),O.jsx(ONe,{size:"3rem",style:{position:"absolute",top:"1rem",left:"1rem"}})]})}let e=(i=>{switch(i){case"completed":return Ag;case"waitingAuthorization":return()=>O.jsx(pT,{width:"3rem",height:"3rem",style:{backgroundColor:"var(--privy-color-foreground-4)",color:"var(--privy-color-background)",borderRadius:"100%",padding:"0.5rem",margin:"0.5rem"}});default:return}})(t),n=(i=>i?{completed:"var(--privy-color-success)",failed:"var(--privy-color-error)",serviceFailure:"var(--privy-color-error)",waitingAuthorization:"var(--privy-color-accent)",pending:"var(--privy-color-foreground-4)"}[i]:"var(--privy-color-foreground-4)")(t);return O.jsx("div",{style:{borderColor:n,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100%",borderWidth:2,padding:"0.5rem",marginBottom:"0.5rem"},children:e&&O.jsx(e,{width:"4rem",height:"4rem",color:n})})},LNe=ae.p.withConfig({displayName:"StatusBody",componentId:"sc-727a5a8d-0"})(["font-size:1rem;color:var(--privy-color-foreground-3);margin-bottom:1rem;display:flex;flex-direction:column;gap:1rem;"]),DNe=ae.div.withConfig({displayName:"ConnectContainer",componentId:"sc-727a5a8d-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:1.75rem;margin-right:1.75rem;padding:2rem 0;"]);const NNe=async(t,e,n,i,f,b,s,y)=>{let r=Qx();if(!r)throw Error("Unable to initialize flow");let o=e.chainType==="ethereum"?Vce(e.chain.id,i):e.isUSDC?"USDC_SOL":"SOL",{signedUrl:v,externalTransactionId:c}=await t.signMoonpayOnRampUrl({address:e.address,useSandbox:n.fundingMethodConfig.moonpay.useSandbox??!1,config:{uiConfig:{accentColor:n.appearance.palette.accent,theme:n.appearance.palette.colorScheme},paymentMethod:y,currencyCode:o,quoteCurrencyAmount:RNe(e.amount)}});t.createAnalyticsEvent({eventName:"sdk_fiat_on_ramp_started",payload:{provider:"moonpay",value:e.amount,chainType:e.chainType,chainId:e.chainType==="ethereum"?e.chain.id:e.chain}}),r.location=v;let u={...s?.funding,showAlternateFundingMethod:!0};e.usingDefaultFundingMethod&&(u.usingDefaultFundingMethod=!1),f({moonpayStatus:{},funding:u,solanaFundingData:s?.solanaFundingData}),b(rK),setTimeout((()=>{f({moonpayStatus:{externalTransactionId:c},funding:u,solanaFundingData:s?.solanaFundingData})}),8e3)};let iK=async t=>typeof window<"u"&&"PaymentRequest"in window&&await new window.PaymentRequest([{supportedMethods:t}],{id:"0",total:{label:"Item",amount:{currency:"USD",value:"1.00"}}}).canMakePayment();const kNe=()=>iK("https://apple.com/apple-pay"),BNe=()=>iK("https://google.com/pay"),va={component:()=>{let{wallets:t}=ch(),{connectors:e}=et(),n=e.filter(Vx).flatMap((x=>x.wallets)),{navigate:i,data:f,setModalData:b}=lt(),{client:s}=et(),y=it(),r=f?.funding,o=SD(kNe),v=SD(BNe),c=r.chainType==="solana",u=c?void 0:r,l=H.useMemo((()=>((x,w,C,E,T,S)=>{let A,P,R=C.chainType==="solana",L=R?void 0:C,D=C.isUSDC?"USDC":L?.erc20Address?void 0:"native-currency",F=!!R||D&&Gce(Number(C.chain.id),D),$=!!R||D&&gde(Number(C.chain.id),D),N=[];for(let k of(C.preferredCardProvider&&C.supportedOptions.sort((j=>j.provider===C.preferredCardProvider?-1:1)),C.supportedOptions))k.method==="card"&&k.provider==="coinbase"&&$&&N.push((()=>RD(w,C,E,T,S,"buy"))),k.method==="card"&&k.provider==="moonpay"&&F&&D&&N.push((()=>NNe(w,C,x,D,E,T,S,"credit_debit_card")));for(let k of C.supportedOptions)k.method==="exchange"&&k.provider==="coinbase"&&$&&(A=()=>RD(w,C,E,T,S,"buy"));for(let k of S?.funding?.supportedOptions??[])k.method==="wallets"&&(P=()=>T(Nm));return{onFundWithCard:N,onFundWithExchange:A,onFundWithWallet:P}})(y,s,r,b,i,f)),[y,s,r,f,b,i]),a=c?n.find((({address:x})=>x===r.address)):t.find((({address:x})=>yr(x)===yr(r.address))),d=yc(a?.walletClientType||"unknown"),p=d?.name||"wallet",h=a&&a.walletClientType!=="privy"?p:y.name,g=H.useMemo((()=>r.uiConfig?.landing?.title?r.uiConfig?.landing?.title:`Add funds to your ${h?.toLowerCase().endsWith("wallet")?h:h+" wallet"}`),[r.uiConfig?.landing?.title,h]);H.useEffect((()=>{if(r?.defaultFundingMethod&&r.usingDefaultFundingMethod)switch(b({funding:{...r,usingDefaultFundingMethod:!1},solanaFundingData:f?.solanaFundingData}),r?.defaultFundingMethod){case"card":l.onFundWithCard[0]&&l.onFundWithCard[0]();break;case"exchange":l.onFundWithExchange&&l.onFundWithExchange();break;case"wallet":l.onFundWithWallet&&l.onFundWithWallet();break;case"manual":i(gw)}}),[]),H.useEffect((()=>{u?.erc20Address&&!u.erc20ContractInfo&&DX({address:u.erc20Address,chain:u.chain,rpcConfig:y.rpcConfig,privyAppId:y.id}).then((x=>{b({...f,funding:{...u,erc20ContractInfo:x?{symbol:x.symbol,decimals:x.decimals}:void 0}})})).catch(console.error)}),[u?.erc20Address,u?.chain]);let m=!(!u?.erc20Address||u?.erc20ContractInfo);return O.jsxs(O.Fragment,{children:[O.jsx(ba,{}),O.jsx("h3",{children:g}),O.jsxs(yNe,{children:[r.errorMessage&&O.jsx(BX,{theme:y.appearance.palette.colorScheme,children:r.errorMessage}),l.onFundWithCard?.[0]&&O.jsxs(Xn,{disabled:m,onClick:l.onFundWithCard[0],children:[O.jsx(fv,{children:O.jsx(wve,{style:{width:24}})}),"Pay with card",o?O.jsx(HDe,{style:{marginLeft:"auto",maxWidth:"100%",width:"auto",height:"0.875rem"}}):v?O.jsx(YDe,{style:{marginLeft:"auto",maxWidth:"100%",width:"auto",height:"0.875rem"}}):null]}),l.onFundWithExchange&&O.jsxs(Xn,{disabled:m,onClick:l.onFundWithExchange,children:[O.jsx(fv,{children:O.jsx(pT,{style:{width:24}})}),"Transfer from an exchange"]}),l.onFundWithWallet&&O.jsxs(Xn,{disabled:m,onClick:l.onFundWithWallet,children:[O.jsx(fv,{children:O.jsx(TX,{style:{width:24}})}),"Transfer from wallet"]}),O.jsxs(Xn,{disabled:m,onClick:()=>i(gw),children:[O.jsx(fv,{children:O.jsx(Rve,{style:{width:24}})}),"Receive funds"]}),r?.showAlternateFundingMethod&&l.onFundWithCard?.[1]&&O.jsx(FX,{theme:y.appearance.palette.colorScheme,children:O.jsxs(xNe,{children:["Having trouble or facing location restrictions?"," ",O.jsx(bNe,{onClick:l.onFundWithCard[1],children:"Try a different provider."})]})})]}),O.jsx(un,{})]})}},Fv={component:()=>{let{closePrivyModal:t}=et(),{data:e,navigate:n}=lt(),i=it(),f=uh(),b=e?.externalConnectWallet?.description,s=H.useRef(e?.externalConnectWallet?.walletList??i.appearance.walletList),y=H.useRef(e?.externalConnectWallet?.walletChainType??i.appearance.walletChainType);return O.jsx(IX,{walletList:s.current,walletChainType:y.current,preSelectedWalletId:e?.externalConnectWallet?.preSelectedWalletId,onBack:e?.funding?()=>n(va):void 0,onClose:()=>{f("connectWallet","onError",we.GENERIC_CONNECT_WALLET_ERROR),t()},onConnect:({connector:r,wallet:o})=>{f("connectWallet","onSuccess",{wallet:o});let v=e?.externalConnectWallet?.onCompleteNavigateTo;v?n(v({address:o.address,walletClientType:r?.walletClientType,walletChainType:r?.chainType})):t()},onConnectError:r=>{r instanceof Ai?(console.warn(r.cause?r.cause:r.message),f("connectWallet","onError",r.privyErrorCode||we.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(r),f("connectWallet","onError",we.UNKNOWN_CONNECT_WALLET_ERROR))},customDescription:b,app:i})},isUnauthenticatedScreem:!0},xd=t=>O.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[O.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#855DCD"}),O.jsxs("g",{"clip-path":"url(#clip0_1715_1960)",children:[O.jsx("path",{d:"M4.5 4H28.5V28H4.5V4Z",fill:"#855DCD"}),O.jsx("path",{d:"M11.1072 8.42105H21.6983V23.5789H20.1437V16.6357H20.1284C19.9566 14.7167 18.3542 13.2129 16.4028 13.2129C14.4514 13.2129 12.849 14.7167 12.6771 16.6357H12.6619V23.5789H11.1072V8.42105Z",fill:"white"}),O.jsx("path",{d:"M8.28943 10.5725L8.92101 12.7239H9.45542V21.4275C9.1871 21.4275 8.96959 21.6464 8.96959 21.9165V22.5032H8.87242C8.60411 22.5032 8.38659 22.7221 8.38659 22.9922V23.5789H13.8279V22.9922C13.8279 22.7221 13.6104 22.5032 13.3421 22.5032H13.2449V21.9165C13.2449 21.6464 13.0274 21.4275 12.7591 21.4275H12.1761V10.5725H8.28943Z",fill:"white"}),O.jsx("path",{d:"M20.2408 21.4275C19.9725 21.4275 19.755 21.6464 19.755 21.9165V22.5032H19.6579C19.3895 22.5032 19.172 22.7221 19.172 22.9922V23.5789H24.6133V22.9922C24.6133 22.7221 24.3958 22.5032 24.1275 22.5032H24.0303V21.9165C24.0303 21.6464 23.8128 21.4275 23.5445 21.4275V12.7239H24.0789L24.7105 10.5725H20.8238V21.4275H20.2408Z",fill:"white"})]}),O.jsx("defs",{children:O.jsx("clipPath",{id:"clip0_1715_1960",children:O.jsx("rect",{width:"24",height:"24",fill:"white",transform:"translate(4.5 4)"})})})]}),sK=t=>{let[e,n]=H.useState(!1);return O.jsx(UNe,{color:t.color,href:t.url,target:"_blank",rel:"noreferrer noopener",onClick:()=>{n(!0),setTimeout((()=>n(!1)),1500)},justOpened:e,children:t.text})};let UNe=ae.a.withConfig({displayName:"StyledOpenLinkButton",componentId:"sc-4e695c83-0"})(["display:flex;align-items:center;gap:6px;&&{margin:8px 2px;font-size:14px;color:",";font-weight:",";transition:color 350ms ease;:focus,:active{background-color:transparent;border:none;outline:none;box-shadow:none;}:hover{color:",";}:active{color:'var(--privy-color-foreground)';font-weight:medium;}@media (max-width:440px){margin:12px 2px;}}svg{width:14px;height:14px;}"],(t=>t.justOpened?"var(--privy-color-foreground)":t.color||"var(--privy-color-foreground-3)"),(t=>t.justOpened?"medium":"normal"),(t=>t.justOpened?"var(--privy-color-foreground)":"var(--privy-color-foreground-2)")),jNe=ae.div.withConfig({displayName:"Container",componentId:"sc-913deead-0"})(["width:100%;"]),zNe=ae.div.withConfig({displayName:"InputContainer",componentId:"sc-913deead-1"})(["display:flex;align-items:center;justify-content:space-between;gap:0.75rem;padding:0.75rem;height:56px;background:",";border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);&:hover{border-color:",";}"],(t=>t.$disabled?"var(--privy-color-background-2)":"var(--privy-color-background)"),(t=>t.$disabled?"var(--privy-color-foreground-4)":"var(--privy-color-foreground-3)")),WNe=ae.div.withConfig({displayName:"TextContainer",componentId:"sc-913deead-2"})(["flex:1;min-width:0;display:flex;align-items:center;"]),aK=ae.span.withConfig({displayName:"Text",componentId:"sc-913deead-3"})(["display:block;font-size:16px;line-height:24px;color:",";overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;word-break:break-all;@media (min-width:441px){font-size:14px;line-height:20px;}"],(t=>t.$disabled?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)")),GNe=ae(aK).withConfig({displayName:"PlaceholderText",componentId:"sc-913deead-4"})(["color:var(--privy-color-foreground-3);font-style:italic;"]),VNe=ae(r7).withConfig({displayName:"TitleLabel",componentId:"sc-913deead-5"})(["margin-bottom:0.5rem;"]),HNe=ae(oo).withConfig({displayName:"CopyButton",componentId:"sc-913deead-6"})(["&&{gap:0.375rem;font-size:14px;flex-shrink:0;}"]);const YNe=({value:t,title:e,placeholder:n,className:i,showCopyButton:f=!0,truncate:b,maxLength:s=40,disabled:y=!1})=>{let[r,o]=H.useState(!1),v=b&&t?((c,u,l)=>{if((c=c.startsWith("https://")?c.slice(8):c).length<=l)return c;if(u==="middle"){let a=Math.ceil(l/2)-2,d=Math.floor(l/2)-1;return`${c.slice(0,a)}...${c.slice(-d)}`}return`${c.slice(0,l-3)}...`})(t,b,s):t;return H.useEffect((()=>{if(r){let c=setTimeout((()=>o(!1)),3e3);return()=>clearTimeout(c)}}),[r]),O.jsxs(jNe,{className:i,children:[e&&O.jsx(VNe,{children:e}),O.jsxs(zNe,{$disabled:y,children:[O.jsx(WNe,{children:t?O.jsx(aK,{$disabled:y,title:t,children:v}):O.jsx(GNe,{$disabled:y,children:n||"No value"})}),f&&t&&O.jsx(HNe,{onClick:function(c){c.stopPropagation(),navigator.clipboard.writeText(t).then((()=>o(!0))).catch(console.error)},size:"sm",children:O.jsxs(O.Fragment,r?{children:["Copied",O.jsx(Eg,{size:14})]}:{children:["Copy",O.jsx(M2,{size:14})]})})]})]})},XNe=({connectUri:t,loading:e,success:n,errorMessage:i,onBack:f,onClose:b,onOpenFarcaster:s})=>O.jsx(Yt,tn.isMobile||e?tn.isIOS?{title:i?i.message:"Sign in with Farcaster",subtitle:i?i.detail:"To sign in with Farcaster, please open the Farcaster app.",icon:xd,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!i},primaryCta:t&&s?{label:"Open Farcaster app",onClick:s}:void 0,onBack:f,onClose:b,watermark:!0}:{title:i?i.message:"Signing in with Farcaster",subtitle:i?i.detail:"This should only take a moment",icon:xd,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!i},onBack:f,onClose:b,watermark:!0,children:t&&tn.isMobile&&O.jsx(KNe,{children:O.jsx(sK,{text:"Take me to Farcaster",url:t,color:"#8a63d2"})})}:{title:"Sign in with Farcaster",subtitle:"Scan with your phone's camera to continue.",onBack:f,onClose:b,watermark:!0,children:O.jsxs(ZNe,{children:[O.jsx(JNe,{children:t?O.jsx(Lm,{url:t,size:275,squareLogoElement:xd}):O.jsx(qNe,{children:O.jsx(xa,{})})}),O.jsxs(QNe,{children:[O.jsx(_Ne,{children:"Or copy this link and paste it into a phone browser to open the Farcaster app."}),t&&O.jsx(YNe,{value:t,truncate:"end",maxLength:30,showCopyButton:!0,disabled:!0})]})]})}),n9={component:()=>{let{authenticated:t,logout:e,ready:n,user:i}=Vt(),{lastScreen:f,navigate:b,navigateBack:s,setModalData:y}=lt(),r=it(),{getAuthFlow:o,loginWithFarcaster:v,closePrivyModal:c,createAnalyticsEvent:u}=et(),[l,a]=H.useState(void 0),[d,p]=H.useState(!1),[h,g]=H.useState(!1),m=H.useRef([]),x=o(),w=x?.meta.connectUri;return H.useEffect((()=>{let C=Date.now(),E=setInterval((async()=>{let T=await x.pollForReady.execute(),S=Date.now()-C;if(T){clearInterval(E),p(!0);try{await v(),g(!0)}catch(A){let P={retryable:!1,message:"Authentication failed"};if(A?.privyErrorCode===we.ALLOWLIST_REJECTED)return void b(o3);if(A?.privyErrorCode===we.USER_LIMIT_REACHED)return console.error(new cm(A).toString()),void b(Dm);if(A?.privyErrorCode===we.USER_DOES_NOT_EXIST)return void b($m);if(A?.privyErrorCode===we.LINKED_TO_ANOTHER_USER)P.detail=A.message??"This account has already been linked to another user.";else{if(A?.privyErrorCode===we.ACCOUNT_TRANSFER_REQUIRED&&A.data?.data?.nonce)return y({accountTransfer:{nonce:A.data?.data?.nonce,account:A.data?.data?.subject,displayName:A.data?.data?.account?.displayName,linkMethod:"farcaster",embeddedWalletAddress:A.data?.data?.otherUser?.embeddedWalletAddress,farcasterEmbeddedAddress:A.data?.data?.otherUser?.farcasterEmbeddedAddress}}),void b(dh);A?.privyErrorCode===we.INVALID_CREDENTIALS?(P.retryable=!0,P.detail="Something went wrong. Try again."):A?.privyErrorCode===we.TOO_MANY_REQUESTS&&(P.detail="Too many requests. Please wait before trying again.")}a(P)}}else S>12e4&&(clearInterval(E),a({retryable:!0,message:"Authentication failed",detail:"The request timed out. Try again."}))}),2e3);return()=>{clearInterval(E),m.current.forEach((T=>clearTimeout(T)))}}),[]),H.useEffect((()=>{if(n&&t&&h&&i){if(r?.legal.requireUsersAcceptTerms&&!i.hasAcceptedTerms){let C=setTimeout((()=>{b(hh)}),Wn);return()=>clearTimeout(C)}h&&(bc(i,r.embeddedWallets)?m.current.push(setTimeout((()=>{y({createWallet:{onSuccess:()=>{},onFailure:C=>{console.error(C),u({eventName:"embedded_wallet_creation_failure_logout",payload:{error:C,screen:"FarcasterConnectStatusScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),b(lu)}),Wn)):m.current.push(setTimeout((()=>c({shouldCallAuthOnSuccess:!0,isSuccess:!0})),Wn)))}}),[h,n,t,i]),O.jsx(XNe,{connectUri:w,loading:d,success:h,errorMessage:l,onBack:f?s:void 0,onClose:c,onOpenFarcaster:()=>{w&&(window.location.href=w)}})}};let KNe=ae.div.withConfig({displayName:"MobileLinkContainer",componentId:"sc-6e4b180b-0"})(["margin-top:24px;"]),ZNe=ae.div.withConfig({displayName:"ContentContainer",componentId:"sc-6e4b180b-1"})(["display:flex;flex-direction:column;align-items:center;gap:24px;"]),JNe=ae.div.withConfig({displayName:"QrContainer",componentId:"sc-6e4b180b-2"})(["display:flex;align-items:center;justify-content:center;min-height:275px;"]),QNe=ae.div.withConfig({displayName:"InstructionsContainer",componentId:"sc-6e4b180b-3"})(["display:flex;flex-direction:column;align-items:center;gap:16px;"]),_Ne=ae.div.withConfig({displayName:"InstructionText",componentId:"sc-6e4b180b-4"})(["font-size:0.875rem;text-align:center;color:var(--privy-color-foreground-2);"]),qNe=ae.div.withConfig({displayName:"LoaderWrapper",componentId:"sc-6e4b180b-5"})(["position:relative;width:82px;height:82px;"]);const oK=()=>{let[t,e]=H.useState(!1),{currentScreen:n,navigate:i,setModalData:f,data:b}=lt(),{enabled:s,token:y}=ms(),{initLoginWithFarcaster:r}=et(),{accountType:o}=xc();return O.jsxs(Xn,{onClick:async()=>{e(!0);try{s&&!y?(f({captchaModalData:{callback:v=>r(v,b?.login?.disableSignup),userIntentRequired:!0,onSuccessNavigateTo:n9,onErrorNavigateTo:Gn}}),i(uo)):(await r(y,b?.login?.disableSignup),i(n9))}catch(v){f({errorModalData:{error:v,previousScreen:n||Pi}}),i(Gn)}finally{e(!1)}},disabled:!1,children:[O.jsx(xd,{width:32,height:32})," Farcaster",t&&O.jsx(wc,{}),o==="farcaster"&&O.jsx(eke,{color:"gray",children:"Recent"})]})};let eke=ae(al).withConfig({displayName:"StyledChip",componentId:"sc-c6317ff9-0"})(["margin-left:auto;"]);const tke=({status:t,passkeySignupFlow:e=!1,error:n,onRetry:i})=>O.jsx(Yt,{title:(()=>{switch(t){case"loading":return"Waiting for passkey";case"success":return"Success";case"error":return"Something went wrong"}})(),subtitle:O.jsx(nke,{children:(()=>{switch(t){case"loading":return e?"Please follow prompts to register your passkey.":`Please follow prompts to verify your passkey.
You will have to sign up with another method first to register a passkey for your account.`;case"success":return"You've successfully logged in with your passkey.";case"error":if(n instanceof Ai){if(n.privyErrorCode===we.CANNOT_LINK_MORE_OF_TYPE)return"Cannot link more passkeys to account.";if(n.privyErrorCode===we.PASSKEY_NOT_ALLOWED)return`Passkey request timed out or rejected by user.
You will have to sign up with another method first to register a passkey for your account.`}return`An unknown error occurred.
You will have to sign up with another method first to register a passkey for your account.`}})()}),icon:O2,iconVariant:"loading",iconLoadingStatus:{success:t==="success",fail:t==="error"},primaryCta:t==="error"&&i?{label:"Retry",onClick:i}:t==="success"?{label:"Continue",disabled:!0}:void 0,watermark:!0}),Df={component:()=>{let{data:t,setModalData:e,navigate:n}=lt(),i=it(),{loginWithPasskey:f,signupWithPasskey:b,closePrivyModal:s,createAnalyticsEvent:y}=et(),{user:r,logout:o}=Vt(),{passkeySignupFlow:v}=t?.passkeyAuthModalData??{},[c,u]=H.useState("loading"),[l,a]=H.useState(null),d=H.useRef([]),p=g=>{d.current=[g,...d.current]};H.useEffect((()=>()=>{d.current.forEach((g=>clearTimeout(g))),d.current=[]}),[]);let h=async()=>{u("loading");try{v?await b():await f(),u("success")}catch(g){a(g),u("error")}};return H.useEffect((()=>{if(c==="success"&&r){if(i?.legal.requireUsersAcceptTerms&&!r.hasAcceptedTerms)return void p(setTimeout((()=>{n(hh)}),900));if(!bc(r,i?.embeddedWallets))return void p(setTimeout((()=>{s({shouldCallAuthOnSuccess:!0,isSuccess:!0})}),Wn));p(setTimeout((()=>{e({createWallet:{onSuccess:()=>{},onFailure:g=>{console.error(g),y({eventName:"embedded_wallet_creation_failure_logout",payload:{error:g,screen:"PasskeyStatusScreen"}}),o()},callAuthOnSuccessOnClose:!0}}),n(lu)}),900))}}),[r,c]),H.useEffect((()=>{h()}),[]),O.jsx(tke,{status:c,passkeySignupFlow:v,error:l,onRetry:h})}};let nke=ae.span.withConfig({displayName:"SubtitleText",componentId:"sc-7ff4a13e-0"})(["white-space:pre-wrap;"]);const rke=({title:t="Log in or create a new account?",subtitle:e="Create a new account with a passkey or use a passkey to log in to an existing account.",onSignup:n,onLogin:i})=>O.jsx(Yt,{title:t,subtitle:e,icon:O2,primaryCta:{label:"Create new account",onClick:n},secondaryCta:{label:"Log in with a passkey",onClick:i},watermark:!0}),ike={component:()=>{let{enabled:t,token:e}=ms(),{navigate:n,setModalData:i}=lt(),{initSignupWithPasskey:f,initLoginWithPasskey:b}=et();return O.jsx(rke,{onSignup:async()=>{t&&!e?(i({passkeyAuthModalData:{passkeySignupFlow:!0},captchaModalData:{callback:s=>f({captchaToken:s,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:Df,onErrorNavigateTo:Gn}}),n(uo)):(await f({withPrivyUi:!0,captchaToken:e}),i({passkeyAuthModalData:{passkeySignupFlow:!0}}),n(Df))},onLogin:async()=>{t&&!e?(i({passkeyAuthModalData:{passkeySignupFlow:!1},captchaModalData:{callback:s=>b({captchaToken:s,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:Df,onErrorNavigateTo:Gn}}),n(uo)):(await b({withPrivyUi:!0,captchaToken:e}),i({passkeyAuthModalData:{passkeySignupFlow:!1}}),n(Df))}})}},lK=()=>{let{enabled:t,token:e}=ms(),{navigate:n,setModalData:i,data:f}=lt(),b=it(),{initLoginWithPasskey:s}=et(),y=()=>{b.loginConfig.passkeysForSignupEnabled?n(ike):(async()=>t&&!e?(i({passkeyAuthModalData:{passkeySignupFlow:!1},captchaModalData:{callback:r=>s({captchaToken:r,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:Df,onErrorNavigateTo:Gn}}),n(uo)):(await s({withPrivyUi:!0,captchaToken:e}),i({passkeyAuthModalData:{passkeySignupFlow:!1}}),n(Df)))()};return H.useMemo((()=>{let r=f?.login?.loginMethods;return r?r.filter((o=>o!=="passkey")).length:Object.entries(b.loginMethods).filter((([o,v])=>v)).filter((([o])=>o!=="passkey")).length}),[b.loginMethods,f?.login])===0?O.jsxs(Xn,{onClick:y,children:[O.jsx(DS,{})," Continue with passkey"]}):O.jsx(bp,{as:"button",onClick:y,size:"sm",variant:"navigation",style:{width:"100%",justifyContent:"center"},children:"I have a passkey"})},ske=({value:t,onChange:e})=>O.jsx("select",{value:t,onChange:e,children:ade.map((n=>O.jsxs("option",{value:n.code,children:[n.code," +",n.callCode]},n.code)))}),h3=H.forwardRef(((t,e)=>{let n=it(),[i,f]=H.useState(!1),{accountType:b}=xc(),[s,y]=H.useState(""),[r,o]=H.useState(n?.intl.defaultCountry??"US"),v=ey(s,r),c=sde(r),u=ode(r),l=bS(r),a=!v,[d,p]=H.useState(!1),h=l.length,g=w=>{let C=w.target.value;o(C),y(""),t.onChange&&t.onChange({rawPhoneNumber:s,qualifiedPhoneNumber:jb(s,C),countryCode:C,isValid:ey(s,r)})},m=(w,C)=>{try{let E=w.replace(/\D/g,"")===s.replace(/\D/g,"")?w:c.input(w);y(E),t.onChange&&t.onChange({rawPhoneNumber:E,qualifiedPhoneNumber:jb(w,C),countryCode:C,isValid:ey(w,C)})}catch(E){console.error("Error processing phone number:",E)}},x=()=>{p(!0);let w=jb(s,r);t.onSubmit({rawPhoneNumber:s,qualifiedPhoneNumber:w,countryCode:r,isValid:ey(s,r)}).finally((()=>p(!1)))};return H.useEffect((()=>{if(t.defaultValue){let w=lde(t.defaultValue);c.reset(),g({target:{value:w.countryCode}}),m(w.phone,w.countryCode)}}),[t.defaultValue]),O.jsxs(O.Fragment,{children:[O.jsx(ake,{children:O.jsxs(oke,{$callingCodeLength:h,$stacked:t.stacked,children:[O.jsx(ske,{value:r,onChange:g}),O.jsx("input",{ref:e,id:"phone-number-input",className:"login-method-button",type:"tel",placeholder:u,onFocus:()=>f(!0),onChange:w=>{m(w.target.value,r)},onKeyUp:w=>{w.key==="Enter"&&x()},value:s,autoComplete:"tel"}),b!=="phone"||i||t.hideRecent?t.stacked||t.noIncludeSubmitButton?O.jsx("span",{}):O.jsx(Xx,{isSubmitting:d,onClick:x,disabled:a,children:"Submit"}):O.jsx(al,{color:"gray",children:"Recent"})]})}),t.stacked&&!t.noIncludeSubmitButton?O.jsx(xn,{loading:d,loadingText:null,onClick:x,disabled:a,children:"Submit"}):null]})}));let ake=ae.div.withConfig({displayName:"InputContainer",componentId:"sc-545daacd-0"})(["width:100%;"]),oke=ae.label.withConfig({displayName:"PhoneNumberInput",componentId:"sc-545daacd-1"})(["--country-code-dropdown-width:calc(54px + calc(12 * ","px));--phone-input-extra-padding-left:calc(12px + calc(3 * ","px));display:block;position:relative;width:100%;@media (min-width:441px){--country-code-dropdown-width:calc(52px + calc(10 * ","px));}&& > select{font-size:16px;height:24px;position:absolute;margin:13px calc(var(--country-code-dropdown-width) / 4);line-height:24px;width:var(--country-code-dropdown-width);background-color:var(--privy-color-background);background-size:auto;background-position-x:right;cursor:pointer;@media (min-width:441px){font-size:14px;width:var(--country-code-dropdown-width);}:focus{outline:none;box-shadow:none;}}&& > input{font-size:16px;line-height:24px;color:var(--privy-color-foreground);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:calc(100% - var(--country-code-dropdown-width));padding:12px 88px 12px calc(var(--country-code-dropdown-width) + var(--phone-input-extra-padding-left));padding-right:",";flex-grow:1;background:var(--privy-color-background);border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);width:100%;:focus{outline:none;border-color:var(--privy-color-accent);}:autofill,:-webkit-autofill{background:var(--privy-color-background);}@media (min-width:441px){font-size:14px;padding-right:78px;}}&& > :last-child{right:16px;position:absolute;top:50%;transform:translate(0,-50%);}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;border-color:var(--privy-color-accent);}}&& > input::placeholder{color:var(--privy-color-foreground-3);}"],(t=>t.$callingCodeLength),(t=>t.$callingCodeLength),(t=>t.$callingCodeLength),(t=>t.$stacked?"16px":"88px"));const uK=({isEditable:t,setIsEditable:e,defaultValue:n})=>{let i=H.useRef(null),{authenticated:f}=Vt(),{navigate:b,setModalData:s,currentScreen:y,data:r}=lt(),{initLoginWithSms:o}=et(),{enabled:v,token:c}=ms(),{whatsAppEnabled:u}=it();return O.jsxs(O.Fragment,{children:[O.jsx(xp,{$if:!t,children:O.jsx(h3,{ref:i,onSubmit:async function({qualifiedPhoneNumber:l}){if(!v||c||f)try{await o({phoneNumber:l,captchaToken:c,withPrivyUi:!0,disableSignup:r?.login?.disableSignup}),b(su)}catch(a){s({errorModalData:{error:a,previousScreen:y||Pi}}),b(Gn)}else s({captchaModalData:{callback:a=>o({phoneNumber:l,captchaToken:a,withPrivyUi:!0,disableSignup:r?.login?.disableSignup}),userIntentRequired:!1,onSuccessNavigateTo:su,onErrorNavigateTo:Gn}}),b(uo)},defaultValue:n})}),O.jsx(xp,{$if:t,children:O.jsxs(Xn,{onClick:()=>{e(),setTimeout((()=>{i.current?.focus()}),0)},children:[O.jsx(Za,{children:O.jsx(Mj,{})}),"Continue with ",u?"WhatsApp":"SMS"]})})]})};let lke={apple:{logo:rY,displayName:"Apple"},discord:{logo:iY,displayName:"Discord"},github:{logo:sY,displayName:"GitHub"},google:{logo:aY,displayName:"Google"},linkedin:{logo:uY,displayName:"LinkedIn"},spotify:{logo:cY,displayName:"Spotify"},instagram:{logo:oY,displayName:"Instagram"},twitter:{logo:fY,displayName:"Twitter"},tiktok:{logo:dY,displayName:"TikTok"},line:{logo:lY,displayName:"LINE"},twitch:{logo:hY,displayName:"Twitch"}};const _n=({provider:t})=>{let{enabled:e,token:n}=ms(),{navigate:i,setModalData:f,data:b}=lt(),[s,y]=H.useState(!1),r=it(),{initLoginWithOAuth:o}=et(),{accountType:v}=xc(),c=H.useMemo((()=>v&&v!=="guest"&&v!=="authorization_key"&&v!=="cross_app"?s3(v):null),[v]),{displayName:u,logo:l}=H.useMemo((()=>{if(hm(t)){let a=r.customOAuthProviders.find((h=>h.provider===t)),d=a.provider_icon_url,p=a.provider_display_name;return{displayName:p,logo:({style:h})=>O.jsx("img",{alt:`${p} logo`,src:d,style:h})}}return lke[t]}),[t,r.customOAuthProviders]);return O.jsxs(Xn,{onClick:()=>{y(!0),setTimeout((()=>{y(!1)}),2e3),e&&!n?(f({captchaModalData:{callback:a=>o(t,a,b?.login?.disableSignup),userIntentRequired:!0,onSuccessNavigateTo:null,onErrorNavigateTo:Gn}}),i(uo)):o(t,void 0,b?.login?.disableSignup)},disabled:s,children:[O.jsx(Za,{$fullSize:!0,children:O.jsx(l,{style:{width:"32px",height:"32px"}})}),u,c?.loginMethod===t&&O.jsx(uke,{color:"gray",children:"Recent"})]})};let uke=ae(al).withConfig({displayName:"StyledChip",componentId:"sc-45a4e2df-0"})(["margin-left:auto;"]);function cK(t){return O.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",...t,children:[O.jsx("rect",{width:"512",height:"512",rx:"15%",fill:"#37aee2"}),O.jsx("path",{fill:"#c8daea",d:"M199 404c-11 0-10-4-13-14l-32-105 245-144"}),O.jsx("path",{fill:"#a9c9dd",d:"M199 404c7 0 11-4 16-8l45-43-56-34"}),O.jsx("path",{fill:"#f6fbfe",d:"M204 319l135 99c14 9 26 4 30-14l55-258c5-22-9-32-24-25L79 245c-21 8-21 21-4 26l83 26 190-121c9-5 17-3 11 4"})]})}const cke=({success:t,errorMessage:e,onRetry:n})=>{let i=t?"Successfully connected with Telegram":e?e.message:"Verifying connection to Telegram";return O.jsx(Yt,{title:i,subtitle:t?"You're good to go!":e?e.detail:"Just a few moments more",icon:cK,iconVariant:"loading",iconLoadingStatus:{success:t,fail:!!e},secondaryCta:e?.retryable&&n?{label:"Retry",onClick:n}:void 0,watermark:!0})},c2={component:()=>{let{authenticated:t,logout:e,ready:n,user:i}=Vt(),{setModalData:f,navigate:b,resetNavigation:s,data:y}=lt(),r=it(),{initLoginWithTelegram:o,loginWithTelegram:v,updateWallets:c,setReadyToTrue:u,closePrivyModal:l,createAnalyticsEvent:a,getAuthMeta:d}=et(),[p,h]=H.useState(!1),[g,m]=H.useState(void 0),x=ms();async function w(){try{let C=await(async function(){let E;if(!t){if(x.enabled&&x.status==="error")throw new Gx(x.error,null,we.CAPTCHA_FAILURE);return x.enabled&&x.status!=="success"&&(x.execute(),E=await x.waitForResult()),E}})();await v({captchaToken:C}),h(!0),u(!0)}catch(C){if(C?.privyErrorCode===we.ALLOWLIST_REJECTED)return m(void 0),s(),void b(o3);if(C?.privyErrorCode===we.USER_LIMIT_REACHED)return console.error(new cm(C).toString()),m(void 0),s(),void b(Dm);if(C?.privyErrorCode===we.USER_DOES_NOT_EXIST)return m(void 0),s(),void b($m);if(C?.privyErrorCode===we.ACCOUNT_TRANSFER_REQUIRED&&C.data?.data?.nonce)return m(void 0),s(),f({accountTransfer:{nonce:C.data?.data?.nonce,account:C.data?.data?.subject,telegramAuthResult:d()?.telegramAuthResult,telegramWebAppData:d()?.telegramWebAppData,displayName:C.data?.data?.account?.displayName,linkMethod:"telegram",embeddedWalletAddress:C.data?.data?.otherUser?.embeddedWalletAddress}}),void b(dh);let{retryable:E,detail:T}=_L(C);m({retryable:E,detail:T,message:"Authentication failed"})}}return H.useEffect((()=>{w()}),[]),H.useEffect((()=>{if(!(n&&t&&p&&i))return;if(r?.legal.requireUsersAcceptTerms&&!i.hasAcceptedTerms){let E=setTimeout((()=>{b(hh)}),Wn);return()=>clearTimeout(E)}if(bc(i,r.embeddedWallets)){let E=setTimeout((()=>{f({createWallet:{onSuccess:()=>{},onFailure:T=>{console.error(T),a({eventName:"embedded_wallet_creation_failure_logout",payload:{error:T,provider:"telegram",screen:"TelegramAuthScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),b(lu)}),Wn);return()=>clearTimeout(E)}c();let C=setTimeout((()=>l({shouldCallAuthOnSuccess:!0,isSuccess:!0})),Wn);return()=>clearTimeout(C)}),[n,t,p,i]),O.jsx(cke,{success:p,errorMessage:g,onRetry:g?.retryable?async()=>{try{m(void 0),y?.telegramAuthModalData?.seamlessAuth||await o(void 0,y?.login?.disableSignup),await w()}catch(C){let{retryable:E,detail:T}=_L(C);m({retryable:E,detail:T,message:"Authentication failed"})}}:void 0})},isCaptchaRequired:!0},dK=()=>{let{enabled:t,token:e}=ms(),{navigate:n,setModalData:i,data:f}=lt(),[b,s]=H.useState(!1),{initLoginWithTelegram:y}=et(),{accountType:r}=xc();async function o(v){try{await y(v,f?.login?.disableSignup),i({telegramAuthModalData:{seamlessAuth:!1}}),n(c2)}catch(c){console.error(c),s(!1)}}return O.jsxs(Xn,{onClick:async function(){if(s(!0),t&&!e)return i({captchaModalData:{callback:o,userIntentRequired:!0,onSuccessNavigateTo:null,onErrorNavigateTo:Gn}}),void n(uo);await o(e)},disabled:b,children:[O.jsx(cK,{width:32,height:32}),"Telegram",r==="telegram"&&O.jsx(dke,{color:"gray",children:"Recent"})]})};let dke=ae(al).withConfig({displayName:"StyledChip",componentId:"sc-4b233cf1-0"})(["margin-left:auto;"]);const hK=({onClick:t,text:e,icon:n})=>O.jsxs(Xn,{onClick:t,children:[O.jsx(Za,{children:n}),O.jsx(wp,{children:e})]}),fK=({connectOnly:t})=>{let{closePrivyModal:e}=et(),{data:n,setModalData:i,onUserCloseViaDialogOrKeybindRef:f,navigate:b}=lt(),s=it(),y=n?.login,r=s.appearance.walletList,o=y?.walletChainType??s.appearance.walletChainType,{accountType:v,walletClientType:c,chainType:u}=xc(),{wallets:l}=AX({walletList:r,walletChainType:o}),a=H.useMemo((()=>v&&v!=="guest"&&v!=="authorization_key"&&v!=="cross_app"?s3(v):null),[v]),{email:d,sms:p,google:h,twitter:g,discord:m,github:x,spotify:w,instagram:C,tiktok:E,line:T,twitch:S,linkedin:A,apple:P,wallet:R,farcaster:L,telegram:D}=H.useMemo((()=>y?.loginMethods?ude(y.loginMethods,!0):null),[y])??s.loginMethods,F=s.customOAuthProviders,{passkey:$}=s.loginMethods,N=[d&&"email",p&&"sms",h&&"google",g&&"twitter",m&&"discord",x&&"github",w&&"spotify",C&&"instagram",E&&"tiktok",T&&"line",S&&"twitch",A&&"linkedin",P&&"apple",L&&"farcaster",D&&"telegram",...F.map((Ae=>Ae.provider))].filter((Ae=>!!Ae)),k=N.length>0,j=H.useMemo((()=>R&&!k?"web3-first":R&&s?.appearance.loginGroupPriority||"web2-first"),[R,k,s?.appearance.loginGroupPriority]),W=s?.appearance.hideDirectWeb2Inputs,[G,K]=H.useState("default"),[z,X]=H.useState(yw({mostRecentlyUsedAccountType:v,smsAvailable:p,emailAvailable:d,prefilledType:y?.prefill?.type}));H.useEffect((()=>{X(yw({mostRecentlyUsedAccountType:v,smsAvailable:p,emailAvailable:d,prefilledType:y?.prefill?.type}))}),[d,p,v]);let U=()=>{e({shouldCallAuthOnSuccess:!0}),setTimeout((()=>{K("default")}),150)};f.current=U;let Z=[];c&&R?Z.push(c):a?.loginMethod&&N.includes(a.loginMethod)&&Z.push(a.loginMethod);let V=Ae=>{if(Ae==="email")return O.jsx(gK,{isEditable:z==="email",setIsEditable:()=>{X("email")},defaultValue:y?.prefill?.type==="email"?y.prefill.value:void 0},Ae);if(Ae==="sms")return O.jsx(uK,{isEditable:z==="sms",setIsEditable:()=>{X("sms")},defaultValue:y?.prefill?.type==="phone"?y.prefill.value:void 0},Ae);if(Ae==="apple")return O.jsx(_n,{provider:"apple"},Ae);if(Ae==="discord")return O.jsx(_n,{provider:"discord"},Ae);if(Ae==="farcaster")return O.jsx(oK,{},Ae);if(Ae==="github")return O.jsx(_n,{provider:"github"},Ae);if(Ae==="google")return O.jsx(_n,{provider:"google"},Ae);if(Ae==="linkedin")return O.jsx(_n,{provider:"linkedin"},Ae);if(Ae==="tiktok")return O.jsx(_n,{provider:"tiktok"},Ae);if(Ae==="line")return O.jsx(_n,{provider:"line"},Ae);if(Ae==="twitch")return O.jsx(_n,{provider:"twitch"},Ae);if(Ae==="spotify")return O.jsx(_n,{provider:"spotify"},Ae);if(Ae==="instagram")return O.jsx(_n,{provider:"instagram"},Ae);if(Ae==="twitter")return O.jsx(_n,{provider:"twitter"},Ae);if(Ae==="telegram")return O.jsx(dK,{},Ae);if(hm(Ae))return O.jsx(_n,{provider:Ae},Ae);let Xe=l.findIndex((({id:vt})=>vt===Ds.normalize(Ae))),st=u==="solana"?"solana-only":"ethereum-only";return O.jsx(ZE,{recent:!0,index:Xe,data:{wallets:l,walletChainType:st,handleWalletClick(vt){i((Ge=>({...Ge,externalConnectWallet:{walletList:r,walletChainType:st,preSelectedWalletId:vt.id}}))),b(t?Fv:u2)}}})},J=l.filter((Ae=>Ae.id!==Ds.normalize(c||""))),_=J.map(((Ae,Xe)=>O.jsx(ZE,{index:Xe,data:{walletChainType:o,wallets:J,handleWalletClick(st){i((vt=>({...vt,externalConnectWallet:{walletList:r,walletChainType:o,preSelectedWalletId:st.id}}))),b(t?Fv:u2)}}},Ae.id))),ee=N.filter((Ae=>Ae!==a?.loginMethod)).flatMap(V),te=Z.flatMap(V);j==="web3-first"&&G==="default"?_.unshift(...te):j==="web2-first"&&ee.unshift(...te);let ie=G==="web2-overflow"?()=>K("default"):void 0,le=N.filter((Ae=>Ae!=="email"&&Ae!=="sms")),he=pke({priority:j,email:d,sms:p,social:le}),fe=vke({priority:j,email:d,sms:p,social:le}),oe=O.jsx(WX,{text:gke({priority:j}),onClick:()=>{i({...n,externalConnectWallet:{walletChainType:y?.walletChainType??s.appearance.walletChainType}}),b(t?Fv:u2)}}),Ce=O.jsx(hK,{text:he,icon:fe,onClick:()=>K("web2-overflow")}),ye=W?0:1,Ee=R&&_.length>0,Ie=ee.length===0&&R&&_.length===0,je=5-(Ee?1:0),Re=G==="default"&&s?.appearance.logo,$e=G==="default"&&s.appearance.loginMessage;return O.jsxs(Yt,{title:s.appearance.landingHeader,icon:Re?O.jsx(pX,{}):void 0,iconVariant:Re?"logo":void 0,onClose:U,showClose:!0,onBack:ie,showBack:!!ie,helpText:s||$&&G==="default"?O.jsxs(O.Fragment,{children:[$&&G==="default"&&O.jsx(lK,{}),s&&O.jsx(zT,{app:s})]}):void 0,watermark:!0,children:[$e&&(typeof s.appearance.loginMessage=="string"?O.jsx(hke,{children:s.appearance.loginMessage}):O.jsx(fke,{children:s.appearance.loginMessage})),O.jsx(DY,{$colorScheme:s.appearance.palette.colorScheme,children:G==="default"&&j==="web2-first"?O.jsxs(O.Fragment,{children:[ee.length>je?ee.slice(0,je-1):ee,ee.length>je&&Ce,Ee&&oe,Ie&&O.jsx(TD,{chainType:s.appearance.walletChainType})]}):G==="default"&&j==="web3-first"?O.jsxs(O.Fragment,{children:[R&&O.jsxs(O.Fragment,{children:[_.length>je?_.slice(0,je-1):_,_.length>je&&oe]}),ee.length>ye&&Ce,ee.length===ye&&ee[0],Ie&&O.jsx(TD,{chainType:s.appearance.walletChainType})]}):G==="web2-overflow"?O.jsx(O.Fragment,{children:j==="web3-first"?ee:ee.slice(3)}):null})]})};let hke=ae.div.withConfig({displayName:"StyledSubtitle",componentId:"sc-b9aad528-0"})(["text-align:center;font-size:14px;margin-bottom:24px;"]),fke=ae.div.withConfig({displayName:"MessageContainer",componentId:"sc-b9aad528-1"})(["margin-bottom:24px;"]),pke=({priority:t,email:e,sms:n,social:i})=>t==="web2-first"?"Other socials":e&&n&&i.length>0||e&&i.length>0?"Log in with email or socials":n&&i.length>0?"Log in with sms or socials":e&&n?"Continue with email or sms":e?"Continue with email":n?"Continue with sms":"Log in with a social account",vke=({priority:t,email:e,sms:n,social:i})=>t==="web2-first"||i.length>0?O.jsx(Cfe,{}):e&&n?O.jsx(ELe,{}):e?O.jsx(Qw,{}):n?O.jsx(Mj,{}):null,gke=({priority:t})=>t==="web2-first"?"Continue with a wallet":"Other wallets";const yw=({mostRecentlyUsedAccountType:t,smsAvailable:e,emailAvailable:n,prefilledType:i})=>n&&(t==="email"&&i!=="phone"||i==="email")||!e||t!=="phone"&&i!=="phone"?"email":"sms",pK={component:()=>{let t=it();return t.loginMethodsAndOrder&&t.loginMethodsAndOrder.primary.length>0?O.jsx(mK,{connectOnly:!0}):O.jsx(fK,{connectOnly:!0})}},mke=({contactMethod:t,authFlow:e,appName:n="Privy",whatsAppEnabled:i=!1,onBack:f,onCodeSubmit:b,onResend:s,errorMessage:y,success:r=!1,resendCountdown:o=0,onInvalidInput:v,onClearError:c})=>{let[u,l]=H.useState(FD);H.useEffect((()=>{y||l(FD)}),[y]);let a=async d=>{d.preventDefault();let p=d.currentTarget.value.replace(" ","");if(p==="")return;if(isNaN(Number(p)))return void v?.("Code should be numeric");c?.();let h=Number(d.currentTarget.name?.charAt(5)),g=[...p||[""]].slice(0,OD-h),m=[...u.slice(0,h),...g,...u.slice(h+g.length)];l(m);let x=Math.min(Math.max(h+g.length,0),OD-1);isNaN(Number(d.currentTarget.value))||document.querySelector(`input[name=code-${x}]`)?.focus(),m.every((w=>w&&!isNaN(+w)))&&(document.querySelector(`input[name=code-${x}]`)?.blur(),await b?.(m.join("")))};return O.jsx(Yt,{title:"Enter confirmation code",subtitle:O.jsxs("span",e==="email"?{children:["Please check ",O.jsx($D,{children:t})," for an email from privy.io and enter your code below."]}:{children:["Please check ",O.jsx($D,{children:t})," for a",i?" WhatsApp":""," message from ",n," and enter your code below."]}),icon:e==="email"?FS:lc,onBack:f,showBack:!0,helpText:O.jsxs(Eke,{children:[O.jsxs("span",{children:["Didn't get ",e==="email"?"an email":"a message","?"]}),o?O.jsxs(Ske,{children:[O.jsx(m0e,{color:"var(--privy-color-foreground)",strokeWidth:1.33,height:"12px",width:"12px"}),O.jsx("span",{children:"Code sent"})]}):O.jsx(bp,{as:"button",size:"sm",onClick:s,children:"Resend code"})]}),children:O.jsx(xke,{children:O.jsx(SFe,{children:O.jsxs(bke,{children:[O.jsx("div",{children:u.map(((d,p)=>O.jsx("input",{name:`code-${p}`,type:"text",value:u[p],onChange:a,onKeyUp:h=>{h.key==="Backspace"&&(g=>{c?.(),l([...u.slice(0,g),"",...u.slice(g+1)]),g>0&&document.querySelector(`input[name=code-${g-1}]`)?.focus()})(p)},inputMode:"numeric",autoFocus:p===0,pattern:"[0-9]",className:`${r?"success":""} ${y?"fail":""}`,autoComplete:tn.isMobile?"one-time-code":"off"},p)))}),O.jsx(Cke,{$fail:!!y,$success:r,children:O.jsx("span",{children:y==="Invalid or expired verification code"?"Incorrect code":y||(r?"Success!":"")})})]})})})})};let OD=6,FD=Array(6).fill("");var X0,K0,yke=((X0=yke||{})[X0.RESET_AFTER_DELAY=0]="RESET_AFTER_DELAY",X0[X0.CLEAR_ON_NEXT_VALID_INPUT=1]="CLEAR_ON_NEXT_VALID_INPUT",X0),wke=((K0=wke||{})[K0.EMAIL=0]="EMAIL",K0[K0.SMS=1]="SMS",K0);const su={component:()=>{let{navigate:t,lastScreen:e,navigateBack:n,setModalData:i,onUserCloseViaDialogOrKeybindRef:f}=lt(),b=it(),{closePrivyModal:s,resendEmailCode:y,resendSmsCode:r,getAuthMeta:o,loginWithCode:v,updateWallets:c,createAnalyticsEvent:u}=et(),{authenticated:l,logout:a,user:d}=Vt(),{whatsAppEnabled:p}=it(),[h,g]=H.useState(!1),[m,x]=H.useState(null),[w,C]=H.useState(null),[E,T]=H.useState(0);f.current=()=>null;let S=o()?.email?0:1,A=S===0?o()?.email||"":o()?.phoneNumber||"";return H.useEffect((()=>{if(E){let P=setTimeout((()=>{T(E-1)}),1e3);return()=>clearTimeout(P)}}),[E]),H.useEffect((()=>{if(l&&h&&d){if(b?.legal.requireUsersAcceptTerms&&!d.hasAcceptedTerms){let P=setTimeout((()=>{t(hh)}),900);return()=>clearTimeout(P)}if(bc(d,b.embeddedWallets)){let P=setTimeout((()=>{i({createWallet:{onSuccess:()=>{},onFailure:R=>{console.error(R),u({eventName:"embedded_wallet_creation_failure_logout",payload:{error:R,screen:"AwaitingPasswordlessCodeScreen"}}),a()},callAuthOnSuccessOnClose:!0}}),t(lu)}),900);return()=>clearTimeout(P)}{c();let P=setTimeout((()=>s({shouldCallAuthOnSuccess:!0,isSuccess:!0})),Wn);return()=>clearTimeout(P)}}}),[l,h,d]),H.useEffect((()=>{if(m&&w===0){let P=setTimeout((()=>{x(null),C(null),document.querySelector("input[name=code-0]")?.focus()}),1400);return()=>clearTimeout(P)}}),[m,w]),O.jsx(mke,{contactMethod:A,authFlow:S===0?"email":"sms",appName:b?.name,whatsAppEnabled:p,onBack:()=>n(),onCodeSubmit:async P=>{try{await v(P),g(!0)}catch(R){if(R instanceof Ls&&R.privyErrorCode===we.INVALID_CREDENTIALS)x("Invalid or expired verification code"),C(0);else if(R instanceof Ls&&R.privyErrorCode===we.CANNOT_LINK_MORE_OF_TYPE)x(R.message);else{if(R instanceof Ls&&R.privyErrorCode===we.USER_LIMIT_REACHED)return console.error(new cm(R).toString()),void t(Dm);if(R instanceof Ls&&R.privyErrorCode===we.USER_DOES_NOT_EXIST)return void t($m);if(R instanceof Ls&&R.privyErrorCode===we.LINKED_TO_ANOTHER_USER)return i({errorModalData:{error:R,previousScreen:e??su}}),void t(Gn,!1);if(R instanceof Ls&&R.privyErrorCode===we.DISALLOWED_PLUS_EMAIL)return i({inlineError:{error:R}}),void t(pK,!1);if(R instanceof Ls&&R.privyErrorCode===we.ACCOUNT_TRANSFER_REQUIRED&&R.data?.data?.nonce)return i({accountTransfer:{nonce:R.data?.data?.nonce,account:A,displayName:R.data?.data?.account?.displayName,linkMethod:S===0?"email":"sms",embeddedWalletAddress:R.data?.data?.otherUser?.embeddedWalletAddress}}),void t(dh);x("Issue verifying code"),C(0)}}},onResend:async()=>{T(30),S===0?await y():await r()},errorMessage:m||void 0,success:h,resendCountdown:E,onInvalidInput:P=>{x(P),C(1)},onClearError:()=>{w===1&&(x(null),C(null))}})}};let xke=ae.div.withConfig({displayName:"PasswordlessCodeContainer",componentId:"sc-63a7dae3-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin:auto;gap:16px;flex-grow:1;width:100%;"]),bke=ae.div.withConfig({displayName:"CodeInput",componentId:"sc-63a7dae3-1"})(["display:flex;flex-direction:column;width:100%;gap:12px;> div:first-child{display:flex;justify-content:center;gap:0.5rem;width:100%;border-radius:var(--privy-border-radius-sm);> input{border:1px solid var(--privy-color-foreground-4);background:var(--privy-color-background);border-radius:var(--privy-border-radius-sm);padding:8px 10px;height:48px;width:40px;text-align:center;font-size:18px;font-weight:600;color:var(--privy-color-foreground);transition:all 0.2s ease;}> input:focus{border:1px solid var(--privy-color-foreground);box-shadow:0 0 0 1px var(--privy-color-foreground);}> input:invalid{border:1px solid var(--privy-color-error);}> input.success{border:1px solid var(--privy-color-border-success);background:var(--privy-color-success-bg);}> input.fail{border:1px solid var(--privy-color-border-error);background:var(--privy-color-error-bg);animation:shake 180ms;animation-iteration-count:2;}}@keyframes shake{0%{transform:translate(1px,0px);}33%{transform:translate(-1px,0px);}67%{transform:translate(-1px,0px);}100%{transform:translate(1px,0px);}}"]),Cke=ae.div.withConfig({displayName:"InputHelp",componentId:"sc-63a7dae3-2"})(["line-height:20px;min-height:20px;font-size:14px;font-weight:400;color:",";display:flex;justify-content:center;width:100%;text-align:center;"],(t=>t.$success?"var(--privy-color-success-dark)":t.$fail?"var(--privy-color-error-dark)":"transparent")),Eke=ae.div.withConfig({displayName:"HelpTextContainer",componentId:"sc-63a7dae3-3"})(["display:flex;gap:8px;align-items:center;justify-content:center;width:100%;color:var(--privy-color-foreground-2);"]),Ske=ae.div.withConfig({displayName:"Badge",componentId:"sc-63a7dae3-4"})(["display:flex;align-items:center;justify-content:center;border-radius:var(--privy-border-radius-sm);padding:2px 8px;gap:4px;background:var(--privy-color-background-2);color:var(--privy-color-foreground-2);"]),$D=ae.span.withConfig({displayName:"BoldWrappingSpan",componentId:"sc-63a7dae3-5"})(["font-weight:500;word-break:break-all;color:var(--privy-color-foreground);"]);const vK=H.forwardRef(((t,e)=>{let[n,i]=H.useState(t.defaultValue||""),[f,b]=H.useState(""),[s,y]=H.useState(!1),{authenticated:r}=Vt(),{initLoginWithEmail:o}=et(),{navigate:v,setModalData:c,currentScreen:u,data:l}=lt(),{enabled:a,token:d}=ms(),[p,h]=H.useState(!1),{accountType:g}=xc(),m=it();H.useEffect((()=>{!n&&m.disablePlusEmails&&l?.inlineError?.error instanceof Ai&&l?.inlineError?.error.privyErrorCode===we.DISALLOWED_PLUS_EMAIL&&!f&&b("Please enter a valid email address without a '+'."),f&&b("")}),[n]);let x=mY(n),w=s||!x,C=()=>{c({login:l?.login,inlineError:void 0}),!a||d||r?(E=>{y(!0),o({email:n,captchaToken:E,disableSignup:l?.login?.disableSignup,withPrivyUi:!0}).then((()=>{v(su)})).catch((T=>{c({errorModalData:{error:T,previousScreen:u||Pi}}),v(Gn)})).finally((()=>{y(!1)}))})(d):(c({captchaModalData:{callback:E=>o({email:n,captchaToken:E,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:su,onErrorNavigateTo:Gn}}),v(uo))};return O.jsxs(O.Fragment,{children:[O.jsxs(Tke,{children:[f&&O.jsx(jd,{style:{display:"block",marginTop:"0.25rem",textAlign:"left"},children:f}),O.jsxs(Ake,{stacked:t.stacked,$error:!!f,children:[O.jsx(Pke,{children:O.jsx(Qw,{})}),O.jsx("input",{ref:e,id:"email-input",className:"login-method-button",type:"email",placeholder:"your@email.com",onFocus:()=>h(!0),onChange:E=>i(E.target.value),onKeyUp:E=>{E.key==="Enter"&&C()},value:n,autoComplete:"email"}),g!=="email"||p?t.stacked?O.jsx("span",{}):O.jsx(Xx,{isSubmitting:s,onClick:C,disabled:w,children:"Submit"}):O.jsx(al,{color:"gray",children:"Recent"})]})]}),t.stacked?O.jsx(xn,{loadingText:null,loading:s,disabled:w,onClick:C,style:{width:"100%"},children:"Submit"}):null]})}));let Tke=SX,Ake=fLe,Pke=ae(Za).withConfig({displayName:"StyledLoginMethodIconWrapper",componentId:"sc-e33d938a-0"})(["display:inline-flex;"]);const gK=({isEditable:t,setIsEditable:e,defaultValue:n})=>{let i=H.useRef(null);return O.jsxs(O.Fragment,{children:[O.jsx(xp,{$if:!t,children:O.jsx(vK,{ref:i,defaultValue:n})}),O.jsx(xp,{$if:t,children:O.jsxs(Xn,{onClick:()=>{e(),setTimeout((()=>{i.current?.focus()}),0)},children:[O.jsx(Za,{children:O.jsx(Qw,{})}),"Continue with Email"]})})]})},mK=({connectOnly:t})=>{let{closePrivyModal:e,connectors:n}=et(),{onUserCloseViaDialogOrKeybindRef:i,data:f}=lt(),b=it(),{appearance:{palette:{colorScheme:s}}}=it(),{accountType:y,walletClientType:r,chainType:o}=xc(),v=H.useMemo((()=>y&&y!=="guest"&&y!=="authorization_key"&&y!=="cross_app"?s3(y):null),[y]),c=b.loginMethodsAndOrder?.primary??[],u=b.loginMethodsAndOrder?.overflow??[],l=H.useMemo((()=>[...c,...u]),[c,u]),a=b.loginMethods.passkey,d=f?.login,p=[];r&&l.includes(r)?p.push(r):y&&l.includes(v?.loginMethod)&&p.push(v?.loginMethod);let[h,g]=H.useState("default"),[m,x]=H.useState(yw({mostRecentlyUsedAccountType:y,smsAvailable:l.includes("sms"),emailAvailable:l.includes("email"),prefilledType:d?.prefill?.type}));H.useEffect((()=>{x(yw({mostRecentlyUsedAccountType:y,smsAvailable:l.includes("sms"),emailAvailable:l.includes("email"),prefilledType:d?.prefill?.type}))}),[l,y]),H.useEffect((()=>{y==="phone"&&x("sms");let R=l.indexOf("sms"),L=l.indexOf("email");R>-1&&R<L&&x("sms")}),[y,c,u]);let w=()=>{e({shouldCallAuthOnSuccess:!0}),setTimeout((()=>{g("default")}),150)};i.current=w;let C=R=>R==="email"?O.jsx(gK,{isEditable:m==="email",setIsEditable:()=>{x("email")},defaultValue:d?.prefill?.type==="email"?d.prefill.value:void 0},R):R==="sms"?O.jsx(uK,{isEditable:m==="sms",setIsEditable:()=>{x("sms")},defaultValue:d?.prefill?.type==="phone"?d.prefill.value:void 0},R):R==="apple"?O.jsx(_n,{provider:"apple"},R):R==="discord"?O.jsx(_n,{provider:"discord"},R):R==="farcaster"?O.jsx(oK,{},R):R==="github"?O.jsx(_n,{provider:"github"},R):R==="google"?O.jsx(_n,{provider:"google"},R):R==="linkedin"?O.jsx(_n,{provider:"linkedin"},R):R==="spotify"?O.jsx(_n,{provider:"spotify"},R):R==="instagram"?O.jsx(_n,{provider:"instagram"},R):R==="tiktok"?O.jsx(_n,{provider:"tiktok"},R):R==="line"?O.jsx(_n,{provider:"line"},R):R==="twitch"?O.jsx(_n,{provider:"twitch"},R):R==="twitter"?O.jsx(_n,{provider:"twitter"},R):R==="telegram"?O.jsx(dK,{},R):R.startsWith("privy:")?O.jsx(F$e,{appId:R.replace("privy:","")},R):HX({walletList:b.appearance.walletList,walletChainType:d?.walletChainType??b.appearance.walletChainType,connectors:n,connectOnly:t,ignore:l,walletConnectEnabled:b.externalWallets.walletConnect.enabled,forceWallet:{wallet:R,chainType:o??"ethereum"}}),E=p.flatMap(C),T=c.filter((R=>R!==r&&R!==v?.loginMethod)).flatMap(C),S=u.filter((R=>R!==r&&R!==v?.loginMethod)).flatMap(C),[A,P]=((R,L)=>{let D=[],F=[];for(let[$,N]of R.entries())$<L?D.push(N):F.push(N);return[D,F]})([...E,...T,...S],Ike({primary:T.length+E.length,overflow:S.length}));return O.jsxs(O.Fragment,{children:[O.jsx(zt,{title:b.appearance.landingHeader,onClose:w,backFn:h==="default"?void 0:()=>{g("default")}}),h==="default"&&O.jsx(Rke,{}),h==="default"&&(typeof b.appearance.loginMessage=="string"?O.jsx(EOe,{children:b.appearance.loginMessage}):b.appearance.loginMessage),O.jsx(bOe,{style:{overflow:"hidden"},children:O.jsxs(DY,{$colorScheme:s,children:[h==="default"&&O.jsxs(O.Fragment,{children:[A,P.length>0&&O.jsx(hK,{text:"More options",icon:O.jsx(l0e,{}),onClick:()=>g("overflow")})]}),h==="overflow"&&O.jsx(O.Fragment,{children:P}),a&&h==="default"&&O.jsx(lK,{})]})}),b&&O.jsx(zT,{app:b}),O.jsx(un,{})]})};let Ike=({primary:t,overflow:e})=>t<5?t:t===5&&e===0?5:4,Rke=ae(R$e).withConfig({displayName:"StyledAppLogoHeader",componentId:"sc-7cdadd41-0"})(["margin-bottom:16px;"]);const Pi={component:()=>{let t=it();return t.loginMethodsAndOrder&&t.loginMethodsAndOrder.primary.length>0?O.jsx(mK,{connectOnly:!1}):O.jsx(fK,{connectOnly:!1})},isCaptchaRequired:!0,isUnauthenticatedScreem:!0},yK={component:()=>{let[t,e]=H.useState(null),[n,i]=H.useState(!1),[f,b]=H.useState(null),[s,y]=H.useState(""),{authenticated:r,user:o}=Vt(),{client:v,walletProxy:c,refreshSessionAndUser:u,closePrivyModal:l,createAnalyticsEvent:a}=et(),{navigate:d,data:p,onUserCloseViaDialogOrKeybindRef:h}=lt(),g=it(),{onSuccess:m,onFailure:x}=p.setWalletPassword,w=io(o),C=t?.recoveryMethod==="user-passcode",E=w?.recoveryMethod==="user-passcode";H.useEffect((()=>{r||(d(Pi),x(new fhe("User must be authenticated before setting a password on a Privy wallet")))}),[r]);let T=()=>f?(x(f),void l({shouldCallAuthOnSuccess:!1})):C?(m(t),void l({shouldCallAuthOnSuccess:!1})):(x(new ic("Exited before password was added to wallet")),void l({shouldCallAuthOnSuccess:!1}));return h.current=T,O.jsx(hX,{appName:g?.name||"privy",config:{initiatedBy:"user",onCancel:T},error:f?"An error has occurred, please try again.":void 0,buttonLoading:n,buttonHideAnimations:!1,password:s,isResettingPassword:E,onPasswordGenerate:()=>y(dX()),onPasswordChange:y,onSubmit:async()=>{C?(m(t),l({shouldCallAuthOnSuccess:!1})):(i(!0),b(null),await(async()=>{let S=await v.getAccessToken();if(S&&o&&w?.address&&s&&c)try{a({eventName:"embedded_wallet_set_recovery_started",payload:{walletAddress:w.address,existingRecoveryMethod:w.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:E}});let{entropyId:A,entropyIdVerifier:P}=Wa(o);if(!(await c.setRecovery({accessToken:S,entropyId:A,entropyIdVerifier:P,recoveryPassword:s,recoveryMethod:"user-passcode"})).entropyId)return b(new ic("Error setting password on privy wallet")),void a({eventName:"embedded_wallet_set_recovery_failed",payload:{walletAddress:w.address,existingRecoveryMethod:w.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:E,reason:"error setting password"}});let R=await u(),L=io(R);if(!L)return b(new ic("Error setting password on privy wallet")),void a({eventName:"embedded_wallet_set_recovery_failed",payload:{walletAddress:w.address,existingRecoveryMethod:w.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:E,reason:"wallet disconnected"}});e(L),a({eventName:"embedded_wallet_set_recovery_completed",payload:{walletAddress:w.address,existingRecoveryMethod:w.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:E}})}catch(A){console.warn(A),b(A instanceof Error?A:Error("Error setting password on privy wallet")),a({eventName:"embedded_wallet_set_password_failed",payload:{walletAddress:w.address,reason:A}})}})(),i(!1))},onClose:T})}},Mke=({onClose:t,onProceed:e})=>O.jsx(Yt,{title:"Secure Your Account",subtitle:O.jsxs(O.Fragment,{children:["Please set a password to secure your account.",O.jsx("br",{}),"Losing access to this password and this device will make your account inaccessible."]}),icon:ES,primaryCta:{label:"Add password",onClick:e},onClose:t,watermark:!0}),Oke={component:()=>{let{closePrivyModal:t}=et(),{data:e,navigate:n,onUserCloseViaDialogOrKeybindRef:i}=lt(),{onFailure:f}=e.setWalletPassword,b=()=>{f(new ic("Exited before password was added to wallet")),t({shouldCallAuthOnSuccess:!1})};return i.current=b,O.jsx(Mke,{onClose:b,onProceed:()=>{n(yK)}})}},Fke={component:()=>{let[t,e]=H.useState(!0),{authenticated:n,user:i}=Vt(),{walletProxy:f,closePrivyModal:b,createAnalyticsEvent:s,client:y}=et(),{navigate:r,data:o,onUserCloseViaDialogOrKeybindRef:v}=lt(),[c,u]=H.useState(void 0),[l,a]=H.useState(""),[d,p]=H.useState(!1),{entropyId:h,entropyIdVerifier:g,onCompleteNavigateTo:m,onSuccess:x,onFailure:w}=o.recoverWallet,C=(E="User exited before their wallet could be recovered")=>{b({shouldCallAuthOnSuccess:!1}),w(typeof E=="string"?new ic(E):E)};return v.current=C,H.useEffect((()=>{if(!n)return C("User must be authenticated and have a Privy wallet before it can be recovered")}),[n]),O.jsxs(mn,{children:[O.jsx(mn.Header,{icon:Od,title:"Enter your password",subtitle:"Please provision your account on this new device. To continue, enter your recovery password.",showClose:!0,onClose:C}),O.jsx(mn.Body,{children:O.jsx($ke,{children:O.jsxs("div",{children:[O.jsxs(e3,{children:[O.jsx(QT,{type:t?"password":"text",onChange:E=>(T=>{T&&u(T)})(E.target.value),disabled:d,style:{paddingRight:"2.3rem"}}),O.jsx(n3,{style:{right:"0.75rem"},children:t?O.jsx(r3,{onClick:()=>e(!1)}):O.jsx(i3,{onClick:()=>e(!0)})})]}),!!l&&O.jsx(Lke,{children:l})]})})}),O.jsxs(mn.Footer,{children:[O.jsx(mn.HelpText,{children:O.jsxs(AFe,{children:[O.jsx("h4",{children:"Why is this necessary?"}),O.jsx("p",{children:"You previously set a password for this wallet. This helps ensure only you can access it"})]})}),O.jsx(mn.Actions,{children:O.jsx(Dke,{loading:d||!f,disabled:!c,onClick:async()=>{p(!0);let E=await y.getAccessToken(),T=kl(i,h);if(!E||!T||c===null)return C("User must be authenticated and have a Privy wallet before it can be recovered");try{s({eventName:"embedded_wallet_recovery_started",payload:{walletAddress:T.address}}),await f?.recover({accessToken:E,entropyId:h,entropyIdVerifier:g,recoveryPassword:c}),a(""),m?r(m):b({shouldCallAuthOnSuccess:!1}),x?.(T),s({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:T.address}})}catch(S){(function(A){return Vp(A)&&(A.type==="invalid_recovery_pin"||A.type==="invalid_request_arguments")})(S)?a("Invalid recovery password, please try again."):a("An error has occurred, please try again.")}finally{p(!1)}},$hideAnimations:!h&&d,children:"Recover your account"})}),O.jsx(mn.Watermark,{})]})]})}};let $ke=ae.div.withConfig({displayName:"Content",componentId:"sc-f366413c-0"})(["display:flex;flex-direction:column;gap:1.5rem;"]),Lke=ae.div.withConfig({displayName:"ErrorMessage",componentId:"sc-f366413c-1"})(["line-height:20px;height:20px;font-size:13px;color:var(--privy-color-error);text-align:left;margin-top:0.5rem;"]),Dke=ae(xn).withConfig({displayName:"NoAnimationPrimaryButton",componentId:"sc-f366413c-2"})(["",""],(({$hideAnimations:t})=>t&&Dr(["&&{transition:none;}"])));const Nke={component:()=>{let{navigate:t,data:e,onUserCloseViaDialogOrKeybindRef:n}=lt(),i=it(),[f,b]=H.useState(""),[s,y]=H.useState(!1),[r,o]=H.useState(),[v,c]=H.useState(null),{create:u}=ZT(),{authenticated:l,user:a}=Vt(),{closePrivyModal:d,isNewUserThisSession:p,initializeWalletProxy:h}=et(),{onSuccess:g,onFailure:m,callAuthOnSuccessOnClose:x,shouldCreateEth:w,shouldCreateSol:C}=e.createWallet,[E,T]=H.useState(null),S=new Li((async()=>{try{let A;if(w&&C)A=await u({recoveryMethod:"user-passcode",recoveryPassword:r,chainType:"ethereum",walletIndex:0,latestUser:a}),A=await u({chainType:"solana",walletIndex:0,latestUser:A.user});else if(C)A=await u({recoveryMethod:"user-passcode",recoveryPassword:r,chainType:"solana",walletIndex:0,latestUser:a});else{if(!w)throw Error("Invalid args to create wallet");A=await u({recoveryMethod:"user-passcode",recoveryPassword:r,chainType:"ethereum",walletIndex:0,latestUser:a})}T(A),p?t(JT):(g(A),d({shouldCallAuthOnSuccess:x}))}catch(A){b(A.message)}}));return H.useEffect((()=>{v||h(3e4).then((A=>c(A)))}),[v]),H.useEffect((()=>{if(!l||!a)return t(Pi),void m(Error("User must be authenticated before creating a Privy wallet"))}),[l]),n.current=()=>null,O.jsx(hX,{config:{initiatedBy:"automatic"},appName:i?.name||"privy",loading:!v,buttonLoading:s,buttonHideAnimations:!E&&s,isResettingPassword:!1,error:f,password:r||"",onClose:()=>{E&&E.account.recoveryMethod!=="user-passcode"?(m(new ic("User created a wallet but failed to set a password for it")),d({shouldCallAuthOnSuccess:!1})):E?(g(E),d({shouldCallAuthOnSuccess:x})):(m(new ic("User wallet creation failed")),d({shouldCallAuthOnSuccess:!1}))},onPasswordChange:o,onPasswordGenerate:()=>o(dX()),onSubmit:async()=>(y(!0),S.execute().then((()=>new Promise((A=>setTimeout(A,250))))).finally((()=>y(!1))))})}},kke=ae.div.withConfig({displayName:"WithCircleBorder",componentId:"sc-e4fc5563-0"})(["&&{border-width:4px;}display:flex;justify-content:center;align-items:center;padding:1rem;aspect-ratio:1;border-style:solid;border-color:",";border-radius:50%;"],(t=>t.$color??"var(--privy-color-accent)")),Bke={component:()=>{let{user:t}=Vt(),{client:e,walletProxy:n,refreshSessionAndUser:i,closePrivyModal:f}=et(),b=lt(),{entropyId:s,entropyIdVerifier:y}=b.data?.recoverWallet,[r,o]=H.useState(!1),[v,c]=H.useState(null),[u,l]=H.useState(null);function a(){if(!r){if(u)return b.data?.setWalletPassword?.onFailure(u),void f();if(!v)return b.data?.setWalletPassword?.onFailure(Error("User exited set recovery flow")),void f()}}b.onUserCloseViaDialogOrKeybindRef.current=a;let d=!(!r&&!v);return O.jsxs(O.Fragment,u?{children:[O.jsx(zt,{onClose:a},"header"),O.jsx(kke,{$color:"var(--privy-color-error)",style:{alignSelf:"center"},children:O.jsx(Jd,{height:38,width:38,stroke:"var(--privy-color-error)"})}),O.jsx(hc,{style:{marginTop:"0.5rem"},children:"Something went wrong"}),O.jsx(wp,{style:{minHeight:"2rem"}}),O.jsx(hw,{onClick:()=>l(null),children:"Try again"}),O.jsx(un,{})]}:{children:[O.jsx(zt,{onClose:a},"header"),O.jsx(wz,{style:{width:"3rem",height:"3rem",alignSelf:"center"}}),O.jsx(hc,{style:{marginTop:"0.5rem"},children:"Automatically secure your account"}),O.jsx(zd,{style:{marginTop:"1rem"},children:"When you log into a new device, youll only need to authenticate to access your account. Never get logged out if you forget your password."}),O.jsx(wp,{style:{minHeight:"2rem"}}),O.jsx(hw,{loading:r,disabled:d,onClick:()=>(async function(){o(!0);try{let p=await e.getAccessToken(),h=kl(t,s);if(!p||!n||!h)return;if(!(await n.setRecovery({accessToken:p,entropyId:s,entropyIdVerifier:y,existingRecoveryMethod:h.recoveryMethod,recoveryMethod:"privy"})).entropyId)throw Error("Unable to set recovery on wallet");let g=await i();if(!g)throw Error("Unable to set recovery on wallet");let m=kl(g,h.address);if(!m)throw Error("Unabled to set recovery on wallet");c(!!g),setTimeout((()=>{b.data?.setWalletPassword?.onSuccess(m),f()}),Wn)}catch(p){l(p)}finally{o(!1)}})(),children:v?"Success":"Confirm"}),O.jsx(un,{})]})}};function wK({isCreatingWallet:t,skipSplashScreen:e}){return t?Nke:e?yK:Oke}function xK({walletAction:t,availableRecoveryMethods:e,legacySetWalletPasswordFlow:n,isResettingPassword:i,showAutomaticRecovery:f}){return f?Bke:n||e.length===1?wK({isCreatingWallet:t==="create",skipSplashScreen:i}):WE}function bK(t){switch(t){case"user-passcode":return Fke;case"google-drive":case"icloud":return rX;default:throw Error("Recovery method not supported")}}const Uke=({address:t,accessToken:e,appConfigTheme:n,onClose:i,isLoading:f=!1,exportButtonProps:b})=>O.jsx(Yt,{title:"Export wallet",subtitle:O.jsxs(O.Fragment,{children:["Copy either your private key or seed phrase to export your wallet."," ",O.jsx("a",{href:"https://privy-io.notion.site/Transferring-your-account-9dab9e16c6034a7ab1ff7fa479b02828",target:"blank",rel:"noopener noreferrer",children:"Learn more"})]}),onClose:i,watermark:!0,children:O.jsxs(jke,{children:[O.jsx(UX,{theme:n,children:"Never share your private key or seed phrase with anyone."}),O.jsx(u3,{title:"Your wallet",address:t,showCopyButton:!0}),O.jsx("div",{style:{width:"100%"},children:f?O.jsx(zke,{}):e&&b&&O.jsx(Vke,{accessToken:e,dimensions:{height:"44px"},...b})})]})});let jke=ae.div.withConfig({displayName:"ContentContainer",componentId:"sc-39a41d8e-0"})(["display:flex;flex-direction:column;gap:1.25rem;text-align:left;"]),zke=()=>O.jsx(Wke,{children:O.jsx(Gke,{children:"Loading..."})}),Wke=ae.div.withConfig({displayName:"PlaceholderContainer",componentId:"sc-39a41d8e-1"})(["display:flex;gap:12px;height:44px;"]),Gke=ae.div.withConfig({displayName:"PlaceholderButton",componentId:"sc-39a41d8e-2"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:16px;font-weight:500;border-radius:var(--privy-border-radius-md);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);"]);function Vke(t){let[e,n]=H.useState(t.dimensions.width),[i,f]=H.useState(void 0),b=H.useRef(null);H.useEffect((()=>{if(b.current&&e===void 0){let{width:r}=b.current.getBoundingClientRect();n(r)}let y=getComputedStyle(document.documentElement);f({background:y.getPropertyValue("--privy-color-background"),background2:y.getPropertyValue("--privy-color-background-2"),foreground3:y.getPropertyValue("--privy-color-foreground-3"),foregroundAccent:y.getPropertyValue("--privy-color-foreground-accent"),accent:y.getPropertyValue("--privy-color-accent"),accentDark:y.getPropertyValue("--privy-color-accent-dark"),success:y.getPropertyValue("--privy-color-success"),colorScheme:y.getPropertyValue("color-scheme")})}),[]);let s=t.chainType==="ethereum"&&!t.imported&&!t.isUnifiedWallet;return O.jsx("div",{ref:b,children:e&&O.jsxs(Hke,{children:[O.jsx("iframe",{style:{position:"absolute",zIndex:1},width:e,height:t.dimensions.height,allow:"clipboard-write self *",src:oz({origin:t.origin,path:`/apps/${t.appId}/embedded-wallets/export`,query:t.isUnifiedWallet?{v:"1-unified",wallet_id:t.walletId,client_id:t.appClientId,width:`${e}px`,caid:t.clientAnalyticsId,phrase_export:s,...i}:{v:"1",entropy_id:t.entropyId,entropy_id_verifier:t.entropyIdVerifier,hd_wallet_index:t.hdWalletIndex,chain_type:t.chainType,client_id:t.appClientId,width:`${e}px`,caid:t.clientAnalyticsId,phrase_export:s,...i},hash:{token:t.accessToken}})}),O.jsx(LD,{children:"Loading..."}),s&&O.jsx(LD,{children:"Loading..."})]})})}const CK={component:()=>{let[t,e]=H.useState(null),{authenticated:n,user:i}=Vt(),{closePrivyModal:f,createAnalyticsEvent:b,clientAnalyticsId:s,client:y}=et(),r=it(),{data:o,onUserCloseViaDialogOrKeybindRef:v}=lt(),{onFailure:c,onSuccess:u,origin:l,appId:a,appClientId:d,entropyId:p,entropyIdVerifier:h,walletId:g,hdWalletIndex:m,chainType:x,address:w,isUnifiedWallet:C,imported:E}=o.keyExport,T=A=>{f({shouldCallAuthOnSuccess:!1}),c(typeof A=="string"?Error(A):A)},S=()=>{f({shouldCallAuthOnSuccess:!1}),u(),b({eventName:"embedded_wallet_key_export_completed",payload:{walletAddress:w}})};return H.useEffect((()=>{if(!n)return T("User must be authenticated before exporting their wallet");y.getAccessToken().then(e).catch(T)}),[n,i]),v.current=S,O.jsx(Uke,{address:w,accessToken:t,appConfigTheme:r.appearance.palette.colorScheme,onClose:S,isLoading:!t,exportButtonProps:t?{origin:l,appId:a,appClientId:d,clientAnalyticsId:s,entropyId:p,entropyIdVerifier:h,walletId:g,hdWalletIndex:m,isUnifiedWallet:C,imported:E,chainType:x}:void 0})}};let Hke=ae.div.withConfig({displayName:"ButtonContainer",componentId:"sc-39a41d8e-3"})(["overflow:visible;position:relative;overflow:none;height:44px;display:flex;gap:12px;"]),LD=ae.div.withConfig({displayName:"LoadingButton",componentId:"sc-39a41d8e-4"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:16px;font-weight:500;border-radius:var(--privy-border-radius-md);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);"]);const Yke=({connectionFailed:t,onClose:e})=>O.jsx(Yt,t?{title:"Something went wrong",subtitle:"We're on it. Please try again later.",icon:Jw,iconVariant:"error",primaryCta:{label:"Close",onClick:e},watermark:!0}:{title:"Connecting to your wallet",subtitle:"Please wait...",iconVariant:"loading",showClose:!0,onClose:e,watermark:!1}),Z0={component:()=>{let{authenticated:t,user:e}=Vt(),{client:n,closePrivyModal:i,createAnalyticsEvent:f,walletProxy:b}=et(),{navigate:s,data:y,setModalData:r,onUserCloseViaDialogOrKeybindRef:o}=lt(),v=H.useMemo((()=>Date.now()),[]),[c,u]=H.useState(!1),{onCompleteNavigateTo:l,onFailure:a,shouldForceMFA:d,entropyId:p,entropyIdVerifier:h,recoveryMethod:g,connectingWalletAddress:m,isUnifiedWallet:x=!1}=y?.connectWallet,w=C=>{c||(u(!0),a(typeof C=="string"?Error(C):C))};return H.useEffect((()=>{let C;return t?b?((async()=>{let E=await n.getAccessToken();if(!E)return w("User must be authenticated and have a Privy wallet before it can be connected");try{x||await b.connect({accessToken:E,entropyId:p,entropyIdVerifier:h}),d&&await b.verifyMfa({accessToken:E});let T=(Date.now()-v)/1e3;l===CK&&T<1?C=setTimeout((()=>{s(l,!1)}),1e3*(1-T)):s(l,!1)}catch(T){if(jg(T)&&g==="privy"){let S=await n.getAccessToken();if(!S)return w("User must be authenticated and have a Privy wallet before it can be recovered");try{f({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:m}}),(await b?.recover({accessToken:S,entropyId:p,entropyIdVerifier:h}))?.entropyId||w(Error("Unable to recover wallet")),l?s(l):i({shouldCallAuthOnSuccess:!1}),f({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:m}}),s(l)}catch{w("An error has occurred, please try again.")}}else jg(T)&&g!=="privy"&&g!=="privy-v2"?(r({...y,recoverWallet:{entropyId:p,entropyIdVerifier:h,onCompleteNavigateTo:l,onFailure:a},recoveryOAuthStatus:{provider:g,action:"recover",isInAccountCreateFlow:!1,shouldCreateEth:!1,shouldCreateSol:!1}}),s(bK(g))):w(T)}})(),()=>clearTimeout(C)):void 0:w("User must be authenticated and have a Privy wallet before it can be connected")}),[t,e,b]),o.current=()=>{w("User exited before wallet could be connected"),i({shouldCallAuthOnSuccess:!1})},O.jsx(Yke,{connectionFailed:c,onClose:()=>i({shouldCallAuthOnSuccess:!1})})}},Xke=({style:t,color:e,...n})=>O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:e||"currentColor",style:{height:"1.5rem",width:"1.5rem",...t},...n,children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),l7=t=>{let[e,n]=H.useState(!1);return O.jsxs(Kke,{color:t.color,onClick:()=>{n(!0),navigator.clipboard.writeText(t.text),setTimeout((()=>n(!1)),1500)},$justCopied:e,children:[e?O.jsx(Xke,{style:{height:"14px",width:"14px"},strokeWidth:"2"}):O.jsx(bX,{style:{height:"14px",width:"14px"}}),e?"Copied":"Copy"," ",t.itemName?t.itemName:"to Clipboard"]})};let Kke=ae.button.withConfig({displayName:"StyledCopytoClipboardButton",componentId:"sc-46f4187f-0"})(["display:flex;align-items:center;gap:6px;&&{margin:8px 2px;font-size:14px;color:",";font-weight:",";transition:color 350ms ease;:focus,:active{background-color:transparent;border:none;outline:none;box-shadow:none;}:hover{color:",";}:active{color:'var(--privy-color-foreground)';font-weight:medium;}@media (max-width:440px){margin:12px 2px;}}svg{width:14px;height:14px;}"],(t=>t.$justCopied?"var(--privy-color-foreground)":t.color||"var(--privy-color-foreground-3)"),(t=>t.$justCopied?"medium":"normal"),(t=>t.$justCopied?"var(--privy-color-foreground)":"var(--privy-color-foreground-2)"));const Zke=ae.img.withConfig({displayName:"StyledLogo",componentId:"sc-68c1b1ea-0"})(["&&{height:",";width:",";border-radius:16px;margin-bottom:12px;}"],(t=>t.size==="sm"?"65px":"140px"),(t=>t.size==="sm"?"65px":"140px"));let Jke=t=>{if(!Ti(t))return t;try{let e=m_(t);return e.includes("")?t:e}catch{return t}},Qke=t=>{try{let e=Xy.decode(t),n=new TextDecoder().decode(e);return n.includes("")?t:n}catch{return t}},_ke=t=>JSON.stringify(t,null,2),qke=t=>{let{types:e,primaryType:n,...i}=t.typedData;return O.jsxs(O.Fragment,{children:[O.jsx(rBe,{data:i}),O.jsx(l7,{text:_ke(t.typedData),itemName:"full payload to clipboard"})," "]})};const eBe=({method:t,messageData:e,copy:n,iconUrl:i,isLoading:f,success:b,walletProxyIsLoading:s,errorMessage:y,isCancellable:r,onSign:o,onCancel:v,onClose:c})=>O.jsx(Yt,{title:n.title,subtitle:n.description,showClose:!0,onClose:c,icon:Afe,iconVariant:"subtle",helpText:y?O.jsx(nBe,{children:y}):void 0,primaryCta:{label:n.buttonText,onClick:o,disabled:f||b||s,loading:f},secondaryCta:r?{label:"Not now",onClick:v,disabled:f||b||s}:void 0,watermark:!0,children:O.jsxs(HT,{children:[i?O.jsx(Zke,{style:{alignSelf:"center"},size:"sm",src:i,alt:"app image"}):null,O.jsxs(tBe,{children:[t==="personal_sign"&&O.jsx(ND,{children:Jke(e)}),t==="eth_signTypedData_v4"&&O.jsx(qke,{typedData:e}),t==="solana_signMessage"&&O.jsx(ND,{children:Qke(e)})]})]})}),DD={component:()=>{let{authenticated:t}=Vt(),{initializeWalletProxy:e,closePrivyModal:n}=et(),{navigate:i,data:f,onUserCloseViaDialogOrKeybindRef:b}=lt(),[s,y]=H.useState(!0),[r,o]=H.useState(""),[v,c]=H.useState(),[u,l]=H.useState(null),[a,d]=H.useState(!1);H.useEffect((()=>{t||i(Pi)}),[t]),H.useEffect((()=>{e(3e4).then((T=>{y(!1),T||(o("An error has occurred, please try again."),c(new bi(new Kf(r,Ga.E32603_DEFAULT_INTERNAL_ERROR.eipCode))))}))}),[]);let{method:p,data:h,confirmAndSign:g,onSuccess:m,onFailure:x,uiOptions:w}=f.signMessage,C={title:w?.title||"Sign message",description:w?.description||"Signing this message will not cost you any fees.",buttonText:w?.buttonText||"Sign and continue"},E=T=>{T?m(T):x(v||new bi(new Kf("The user rejected the request.",Ga.E4001_USER_REJECTED_REQUEST.eipCode))),n({shouldCallAuthOnSuccess:!1}),setTimeout((()=>{l(null),o(""),c(void 0)}),200)};return b.current=()=>{E(u)},O.jsx(eBe,{method:p,messageData:h,copy:C,iconUrl:w?.iconUrl&&typeof w.iconUrl=="string"?w.iconUrl:void 0,isLoading:a,success:u!==null,walletProxyIsLoading:s,errorMessage:r,isCancellable:w?.isCancellable,onSign:async()=>{d(!0),o("");try{let T=await g();l(T),d(!1),setTimeout((()=>{E(T)}),Wn)}catch(T){console.error(T),o("An error has occurred, please try again."),c(new bi(new Kf(r,Ga.E32603_DEFAULT_INTERNAL_ERROR.eipCode))),d(!1)}},onCancel:()=>E(null),onClose:()=>E(u)})}};let tBe=ae.div.withConfig({displayName:"MessageContainer",componentId:"sc-e01d451f-0"})(["flex:1;display:flex;flex-direction:column;gap:16px;"]),nBe=ae.p.withConfig({displayName:"ErrorText",componentId:"sc-e01d451f-1"})(["&&{margin:0;width:100%;text-align:center;color:var(--privy-color-error-dark);font-size:14px;line-height:22px;}"]),rBe=ae(kX).withConfig({displayName:"StyledDisplayJsonTree",componentId:"sc-e01d451f-2"})(["margin-top:0;"]),ND=ae(NX).withConfig({displayName:"StyledMessage",componentId:"sc-e01d451f-3"})(["margin-top:0;"]);class ol{constructor(e,n){this.scope=e,this.module=n}storeObject(e,n){this.setItem(e,JSON.stringify(n))}loadObject(e){const n=this.getItem(e);return n?JSON.parse(n):void 0}setItem(e,n){localStorage.setItem(this.scopedKey(e),n)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),n=[];for(let i=0;i<localStorage.length;i++){const f=localStorage.key(i);typeof f=="string"&&f.startsWith(e)&&n.push(f)}n.forEach(i=>localStorage.removeItem(i))}scopedKey(e){return`-${this.scope}${this.module?`:${this.module}`:""}:${e}`}static clearAll(){new ol("CBWSDK").clear(),new ol("walletlink").clear()}}const or={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}},r9={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}},EK="Unspecified error message.",iBe="Unspecified server error.";function u7(t,e=EK){if(t&&Number.isInteger(t)){const n=t.toString();if(i9(r9,n))return r9[n].message;if(SK(t))return iBe}return e}function sBe(t){if(!Number.isInteger(t))return!1;const e=t.toString();return!!(r9[e]||SK(t))}function aBe(t,{shouldIncludeStack:e=!1}={}){const n={};if(t&&typeof t=="object"&&!Array.isArray(t)&&i9(t,"code")&&sBe(t.code)){const i=t;n.code=i.code,i.message&&typeof i.message=="string"?(n.message=i.message,i9(i,"data")&&(n.data=i.data)):(n.message=u7(n.code),n.data={originalError:kD(t)})}else n.code=or.rpc.internal,n.message=BD(t,"message")?t.message:EK,n.data={originalError:kD(t)};return e&&(n.stack=BD(t,"stack")?t.stack:void 0),n}function SK(t){return t>=-32099&&t<=-32e3}function kD(t){return t&&typeof t=="object"&&!Array.isArray(t)?Object.assign({},t):t}function i9(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function BD(t,e){return typeof t=="object"&&t!==null&&e in t&&typeof t[e]=="string"}const en={rpc:{parse:t=>ra(or.rpc.parse,t),invalidRequest:t=>ra(or.rpc.invalidRequest,t),invalidParams:t=>ra(or.rpc.invalidParams,t),methodNotFound:t=>ra(or.rpc.methodNotFound,t),internal:t=>ra(or.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return ra(e,t)},invalidInput:t=>ra(or.rpc.invalidInput,t),resourceNotFound:t=>ra(or.rpc.resourceNotFound,t),resourceUnavailable:t=>ra(or.rpc.resourceUnavailable,t),transactionRejected:t=>ra(or.rpc.transactionRejected,t),methodNotSupported:t=>ra(or.rpc.methodNotSupported,t),limitExceeded:t=>ra(or.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>yf(or.provider.userRejectedRequest,t),unauthorized:t=>yf(or.provider.unauthorized,t),unsupportedMethod:t=>yf(or.provider.unsupportedMethod,t),disconnected:t=>yf(or.provider.disconnected,t),chainDisconnected:t=>yf(or.provider.chainDisconnected,t),unsupportedChain:t=>yf(or.provider.unsupportedChain,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:n,data:i}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new PK(e,n,i)}}};function ra(t,e){const[n,i]=TK(e);return new AK(t,n||u7(t),i)}function yf(t,e){const[n,i]=TK(e);return new PK(t,n||u7(t),i)}function TK(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,n]}}return[]}class AK extends Error{constructor(e,n,i){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string.');super(n),this.code=e,i!==void 0&&(this.data=i)}}class PK extends AK{constructor(e,n,i){if(!oBe(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,n,i)}}function oBe(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function c7(){return t=>t}const Wg=c7(),lBe=c7(),uBe=c7();function Ul(t){return Math.floor(t)}const IK=/^[0-9]*$/,RK=/^[a-f0-9]*$/;function td(t){return d7(crypto.getRandomValues(new Uint8Array(t)))}function d7(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}function d2(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>Number.parseInt(e,16)))}function $v(t,e=!1){const n=t.toString("hex");return Wg(e?`0x${n}`:n)}function B6(t){return $v(s9(t),!0)}function Lo(t){return uBe(t.toString(10))}function tc(t){return Wg(`0x${BigInt(t).toString(16)}`)}function MK(t){return t.startsWith("0x")||t.startsWith("0X")}function h7(t){return MK(t)?t.slice(2):t}function OK(t){return MK(t)?`0x${t.slice(2)}`:`0x${t}`}function f3(t){if(typeof t!="string")return!1;const e=h7(t).toLowerCase();return RK.test(e)}function cBe(t,e=!1){if(typeof t=="string"){const n=h7(t).toLowerCase();if(RK.test(n))return Wg(e?`0x${n}`:n)}throw en.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}function f7(t,e=!1){let n=cBe(t,!1);return n.length%2===1&&(n=Wg(`0${n}`)),e?Wg(`0x${n}`):n}function Bu(t){if(typeof t=="string"){const e=h7(t).toLowerCase();if(f3(e)&&e.length===40)return lBe(OK(e))}throw en.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}function s9(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string"){if(f3(t)){const e=f7(t,!1);return Buffer.from(e,"hex")}return Buffer.from(t,"utf8")}throw en.rpc.invalidParams(`Not binary data: ${String(t)}`)}function Lv(t){if(typeof t=="number"&&Number.isInteger(t))return Ul(t);if(typeof t=="string"){if(IK.test(t))return Ul(Number(t));if(f3(t))return Ul(Number(BigInt(f7(t,!0))))}throw en.rpc.invalidParams(`Not an integer: ${String(t)}`)}function J0(t){if(t!==null&&(typeof t=="bigint"||hBe(t)))return BigInt(t.toString(10));if(typeof t=="number")return BigInt(Lv(t));if(typeof t=="string"){if(IK.test(t))return BigInt(t);if(f3(t))return BigInt(f7(t,!0))}throw en.rpc.invalidParams(`Not an integer: ${String(t)}`)}function dBe(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw en.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}function hBe(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}async function fBe(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}async function pBe(t,e){return crypto.subtle.deriveKey({name:"ECDH",public:e},t,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function vBe(t,e){const n=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.encrypt({name:"AES-GCM",iv:n},t,new TextEncoder().encode(e));return{iv:n,cipherText:i}}async function gBe(t,{iv:e,cipherText:n}){const i=await crypto.subtle.decrypt({name:"AES-GCM",iv:e},t,n);return new TextDecoder().decode(i)}function FK(t){switch(t){case"public":return"spki";case"private":return"pkcs8"}}async function $K(t,e){const n=FK(t),i=await crypto.subtle.exportKey(n,e);return d7(new Uint8Array(i))}async function LK(t,e){const n=FK(t),i=d2(e).buffer;return await crypto.subtle.importKey(n,new Uint8Array(i),{name:"ECDH",namedCurve:"P-256"},!0,t==="private"?["deriveKey"]:[])}async function mBe(t,e){const n=JSON.stringify(t,(i,f)=>{if(!(f instanceof Error))return f;const b=f;return Object.assign(Object.assign({},b.code?{code:b.code}:{}),{message:b.message})});return vBe(e,n)}async function yBe(t,e){return JSON.parse(await gBe(e,t))}const U6={storageKey:"ownPrivateKey",keyType:"private"},j6={storageKey:"ownPublicKey",keyType:"public"},z6={storageKey:"peerPublicKey",keyType:"public"};class wBe{constructor(){this.storage=new ol("CBWSDK","SCWKeyManager"),this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(e){this.sharedSecret=null,this.peerPublicKey=e,await this.storeKey(z6,e),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,this.storage.removeItem(j6.storageKey),this.storage.removeItem(U6.storageKey),this.storage.removeItem(z6.storageKey)}async generateKeyPair(){const e=await fBe();this.ownPrivateKey=e.privateKey,this.ownPublicKey=e.publicKey,await this.storeKey(U6,e.privateKey),await this.storeKey(j6,e.publicKey)}async loadKeysIfNeeded(){if(this.ownPrivateKey===null&&(this.ownPrivateKey=await this.loadKey(U6)),this.ownPublicKey===null&&(this.ownPublicKey=await this.loadKey(j6)),(this.ownPrivateKey===null||this.ownPublicKey===null)&&await this.generateKeyPair(),this.peerPublicKey===null&&(this.peerPublicKey=await this.loadKey(z6)),this.sharedSecret===null){if(this.ownPrivateKey===null||this.peerPublicKey===null)return;this.sharedSecret=await pBe(this.ownPrivateKey,this.peerPublicKey)}}async loadKey(e){const n=this.storage.getItem(e.storageKey);return n?LK(e.keyType,n):null}async storeKey(e,n){const i=await $K(e.keyType,n);this.storage.setItem(e.storageKey,i)}}const km="4.3.2",DK="@coinbase/wallet-sdk";async function p7(t,e){const n=Object.assign(Object.assign({},t),{jsonrpc:"2.0",id:crypto.randomUUID()}),i=await window.fetch(e,{method:"POST",body:JSON.stringify(n),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":km,"X-Cbw-Sdk-Platform":DK}}),{result:f,error:b}=await i.json();if(b)throw b;return f}function xBe(){return globalThis.coinbaseWalletExtension}function bBe(){var t,e;try{const n=globalThis;return(t=n.ethereum)!==null&&t!==void 0?t:(e=n.top)===null||e===void 0?void 0:e.ethereum}catch{return}}function CBe({metadata:t,preference:e}){var n,i;const{appName:f,appLogoUrl:b,appChainIds:s}=t;if(e.options!=="smartWalletOnly"){const r=xBe();if(r)return(n=r.setAppInfo)===null||n===void 0||n.call(r,f,b,s,e),r}const y=bBe();if(y?.isCoinbaseBrowser)return(i=y.setAppInfo)===null||i===void 0||i.call(y,f,b,s,e),y}function EBe(t){if(!t||typeof t!="object"||Array.isArray(t))throw en.rpc.invalidParams({message:"Expected a single, non-array, object argument.",data:t});const{method:e,params:n}=t;if(typeof e!="string"||e.length===0)throw en.rpc.invalidParams({message:"'args.method' must be a non-empty string.",data:t});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw en.rpc.invalidParams({message:"'args.params' must be an object or array if provided.",data:t});switch(e){case"eth_sign":case"eth_signTypedData_v2":case"eth_subscribe":case"eth_unsubscribe":throw en.provider.unsupportedMethod()}}const UD="accounts",jD="activeChain",zD="availableChains",WD="walletCapabilities";class SBe{constructor(e){var n,i,f;this.metadata=e.metadata,this.communicator=e.communicator,this.callback=e.callback,this.keyManager=new wBe,this.storage=new ol("CBWSDK","SCWStateManager"),this.accounts=(n=this.storage.loadObject(UD))!==null&&n!==void 0?n:[],this.chain=this.storage.loadObject(jD)||{id:(f=(i=e.metadata.appChainIds)===null||i===void 0?void 0:i[0])!==null&&f!==void 0?f:1},this.handshake=this.handshake.bind(this),this.request=this.request.bind(this),this.createRequestMessage=this.createRequestMessage.bind(this),this.decryptResponseMessage=this.decryptResponseMessage.bind(this)}async handshake(e){var n,i,f,b;await((i=(n=this.communicator).waitForPopupLoaded)===null||i===void 0?void 0:i.call(n));const s=await this.createRequestMessage({handshake:{method:e.method,params:Object.assign({},this.metadata,(f=e.params)!==null&&f!==void 0?f:{})}}),y=await this.communicator.postRequestAndWaitForResponse(s);if("failure"in y.content)throw y.content.failure;const r=await LK("public",y.sender);await this.keyManager.setPeerPublicKey(r);const v=(await this.decryptResponseMessage(y)).result;if("error"in v)throw v.error;switch(e.method){case"eth_requestAccounts":{const c=v.value;this.accounts=c,this.storage.storeObject(UD,c),(b=this.callback)===null||b===void 0||b.call(this,"accountsChanged",c);break}}}async request(e){var n;if(this.accounts.length===0)switch(e.method){case"wallet_sendCalls":return this.sendRequestToPopup(e);default:throw en.provider.unauthorized()}switch(e.method){case"eth_requestAccounts":return(n=this.callback)===null||n===void 0||n.call(this,"connect",{chainId:tc(this.chain.id)}),this.accounts;case"eth_accounts":return this.accounts;case"eth_coinbase":return this.accounts[0];case"net_version":return this.chain.id;case"eth_chainId":return tc(this.chain.id);case"wallet_getCapabilities":return this.storage.loadObject(WD);case"wallet_switchEthereumChain":return this.handleSwitchChainRequest(e);case"eth_ecRecover":case"personal_sign":case"wallet_sign":case"personal_ecRecover":case"eth_signTransaction":case"eth_sendTransaction":case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"wallet_sendCalls":case"wallet_showCallsStatus":case"wallet_grantPermissions":return this.sendRequestToPopup(e);default:if(!this.chain.rpcUrl)throw en.rpc.internal("No RPC URL set for chain");return p7(e,this.chain.rpcUrl)}}async sendRequestToPopup(e){var n,i;await((i=(n=this.communicator).waitForPopupLoaded)===null||i===void 0?void 0:i.call(n));const f=await this.sendEncryptedRequest(e),s=(await this.decryptResponseMessage(f)).result;if("error"in s)throw s.error;return s.value}async cleanup(){var e,n;this.storage.clear(),await this.keyManager.clear(),this.accounts=[],this.chain={id:(n=(e=this.metadata.appChainIds)===null||e===void 0?void 0:e[0])!==null&&n!==void 0?n:1}}async handleSwitchChainRequest(e){var n;const i=e.params;if(!i||!(!((n=i[0])===null||n===void 0)&&n.chainId))throw en.rpc.invalidParams();const f=Lv(i[0].chainId);if(this.updateChain(f))return null;const s=await this.sendRequestToPopup(e);return s===null&&this.updateChain(f),s}async sendEncryptedRequest(e){const n=await this.keyManager.getSharedSecret();if(!n)throw en.provider.unauthorized("No valid session found, try requestAccounts before other methods");const i=await mBe({action:e,chainId:this.chain.id},n),f=await this.createRequestMessage({encrypted:i});return this.communicator.postRequestAndWaitForResponse(f)}async createRequestMessage(e){const n=await $K("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),sender:n,content:e,timestamp:new Date}}async decryptResponseMessage(e){var n,i;const f=e.content;if("failure"in f)throw f.failure;const b=await this.keyManager.getSharedSecret();if(!b)throw en.provider.unauthorized("Invalid session");const s=await yBe(f.encrypted,b),y=(n=s.data)===null||n===void 0?void 0:n.chains;if(y){const o=Object.entries(y).map(([v,c])=>({id:Number(v),rpcUrl:c}));this.storage.storeObject(zD,o),this.updateChain(this.chain.id,o)}const r=(i=s.data)===null||i===void 0?void 0:i.capabilities;return r&&this.storage.storeObject(WD,r),s}updateChain(e,n){var i;const f=n??this.storage.loadObject(zD),b=f?.find(s=>s.id===e);return b?(b!==this.chain&&(this.chain=b,this.storage.storeObject(jD,b),(i=this.callback)===null||i===void 0||i.call(this,"chainChanged",tc(b.id))),!0):!1}}var Sn={},Vr={},GD;function NK(){if(GD)return Vr;GD=1,Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.output=Vr.exists=Vr.hash=Vr.bytes=Vr.bool=Vr.number=Vr.isBytes=void 0;function t(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`positive integer expected, not ${r}`)}Vr.number=t;function e(r){if(typeof r!="boolean")throw new Error(`boolean expected, not ${r}`)}Vr.bool=e;function n(r){return r instanceof Uint8Array||r!=null&&typeof r=="object"&&r.constructor.name==="Uint8Array"}Vr.isBytes=n;function i(r,...o){if(!n(r))throw new Error("Uint8Array expected");if(o.length>0&&!o.includes(r.length))throw new Error(`Uint8Array expected of length ${o}, not of length=${r.length}`)}Vr.bytes=i;function f(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");t(r.outputLen),t(r.blockLen)}Vr.hash=f;function b(r,o=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(o&&r.finished)throw new Error("Hash#digest() has already been called")}Vr.exists=b;function s(r,o){i(r);const v=o.outputLen;if(r.length<v)throw new Error(`digestInto() expects output buffer of length at least ${v}`)}Vr.output=s;const y={number:t,bool:e,bytes:i,hash:f,exists:b,output:s};return Vr.default=y,Vr}var Mt={},VD;function TBe(){if(VD)return Mt;VD=1,Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.add5L=Mt.add5H=Mt.add4H=Mt.add4L=Mt.add3H=Mt.add3L=Mt.add=Mt.rotlBL=Mt.rotlBH=Mt.rotlSL=Mt.rotlSH=Mt.rotr32L=Mt.rotr32H=Mt.rotrBL=Mt.rotrBH=Mt.rotrSL=Mt.rotrSH=Mt.shrSL=Mt.shrSH=Mt.toBig=Mt.split=Mt.fromBig=void 0;const t=BigInt(2**32-1),e=BigInt(32);function n(S,A=!1){return A?{h:Number(S&t),l:Number(S>>e&t)}:{h:Number(S>>e&t)|0,l:Number(S&t)|0}}Mt.fromBig=n;function i(S,A=!1){let P=new Uint32Array(S.length),R=new Uint32Array(S.length);for(let L=0;L<S.length;L++){const{h:D,l:F}=n(S[L],A);[P[L],R[L]]=[D,F]}return[P,R]}Mt.split=i;const f=(S,A)=>BigInt(S>>>0)<<e|BigInt(A>>>0);Mt.toBig=f;const b=(S,A,P)=>S>>>P;Mt.shrSH=b;const s=(S,A,P)=>S<<32-P|A>>>P;Mt.shrSL=s;const y=(S,A,P)=>S>>>P|A<<32-P;Mt.rotrSH=y;const r=(S,A,P)=>S<<32-P|A>>>P;Mt.rotrSL=r;const o=(S,A,P)=>S<<64-P|A>>>P-32;Mt.rotrBH=o;const v=(S,A,P)=>S>>>P-32|A<<64-P;Mt.rotrBL=v;const c=(S,A)=>A;Mt.rotr32H=c;const u=(S,A)=>S;Mt.rotr32L=u;const l=(S,A,P)=>S<<P|A>>>32-P;Mt.rotlSH=l;const a=(S,A,P)=>A<<P|S>>>32-P;Mt.rotlSL=a;const d=(S,A,P)=>A<<P-32|S>>>64-P;Mt.rotlBH=d;const p=(S,A,P)=>S<<P-32|A>>>64-P;Mt.rotlBL=p;function h(S,A,P,R){const L=(A>>>0)+(R>>>0);return{h:S+P+(L/2**32|0)|0,l:L|0}}Mt.add=h;const g=(S,A,P)=>(S>>>0)+(A>>>0)+(P>>>0);Mt.add3L=g;const m=(S,A,P,R)=>A+P+R+(S/2**32|0)|0;Mt.add3H=m;const x=(S,A,P,R)=>(S>>>0)+(A>>>0)+(P>>>0)+(R>>>0);Mt.add4L=x;const w=(S,A,P,R,L)=>A+P+R+L+(S/2**32|0)|0;Mt.add4H=w;const C=(S,A,P,R,L)=>(S>>>0)+(A>>>0)+(P>>>0)+(R>>>0)+(L>>>0);Mt.add5L=C;const E=(S,A,P,R,L,D)=>A+P+R+L+D+(S/2**32|0)|0;Mt.add5H=E;const T={fromBig:n,split:i,toBig:f,shrSH:b,shrSL:s,rotrSH:y,rotrSL:r,rotrBH:o,rotrBL:v,rotr32H:c,rotr32L:u,rotlSH:l,rotlSL:a,rotlBH:d,rotlBL:p,add:h,add3L:g,add3H:m,add4L:x,add4H:w,add5H:E,add5L:C};return Mt.default=T,Mt}var W6={},Q0={},HD;function ABe(){return HD||(HD=1,Object.defineProperty(Q0,"__esModule",{value:!0}),Q0.crypto=void 0,Q0.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),Q0}var YD;function PBe(){return YD||(YD=1,(function(t){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.byteSwap32=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=t.isBytes=void 0;const e=ABe(),n=NK();function i(R){return R instanceof Uint8Array||R!=null&&typeof R=="object"&&R.constructor.name==="Uint8Array"}t.isBytes=i;const f=R=>new Uint8Array(R.buffer,R.byteOffset,R.byteLength);t.u8=f;const b=R=>new Uint32Array(R.buffer,R.byteOffset,Math.floor(R.byteLength/4));t.u32=b;const s=R=>new DataView(R.buffer,R.byteOffset,R.byteLength);t.createView=s;const y=(R,L)=>R<<32-L|R>>>L;t.rotr=y;const r=(R,L)=>R<<L|R>>>32-L>>>0;t.rotl=r,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;const o=R=>R<<24&4278190080|R<<8&16711680|R>>>8&65280|R>>>24&255;t.byteSwap=o,t.byteSwapIfBE=t.isLE?R=>R:R=>(0,t.byteSwap)(R);function v(R){for(let L=0;L<R.length;L++)R[L]=(0,t.byteSwap)(R[L])}t.byteSwap32=v;const c=Array.from({length:256},(R,L)=>L.toString(16).padStart(2,"0"));function u(R){(0,n.bytes)(R);let L="";for(let D=0;D<R.length;D++)L+=c[R[D]];return L}t.bytesToHex=u;const l={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function a(R){if(R>=l._0&&R<=l._9)return R-l._0;if(R>=l._A&&R<=l._F)return R-(l._A-10);if(R>=l._a&&R<=l._f)return R-(l._a-10)}function d(R){if(typeof R!="string")throw new Error("hex string expected, got "+typeof R);const L=R.length,D=L/2;if(L%2)throw new Error("padded hex string expected, got unpadded hex of length "+L);const F=new Uint8Array(D);for(let $=0,N=0;$<D;$++,N+=2){const k=a(R.charCodeAt(N)),j=a(R.charCodeAt(N+1));if(k===void 0||j===void 0){const W=R[N]+R[N+1];throw new Error('hex string expected, got non-hex character "'+W+'" at index '+N)}F[$]=k*16+j}return F}t.hexToBytes=d;const p=async()=>{};t.nextTick=p;async function h(R,L,D){let F=Date.now();for(let $=0;$<R;$++){D($);const N=Date.now()-F;N>=0&&N<L||(await(0,t.nextTick)(),F+=N)}}t.asyncLoop=h;function g(R){if(typeof R!="string")throw new Error(`utf8ToBytes expected string, got ${typeof R}`);return new Uint8Array(new TextEncoder().encode(R))}t.utf8ToBytes=g;function m(R){return typeof R=="string"&&(R=g(R)),(0,n.bytes)(R),R}t.toBytes=m;function x(...R){let L=0;for(let F=0;F<R.length;F++){const $=R[F];(0,n.bytes)($),L+=$.length}const D=new Uint8Array(L);for(let F=0,$=0;F<R.length;F++){const N=R[F];D.set(N,$),$+=N.length}return D}t.concatBytes=x;class w{clone(){return this._cloneInto()}}t.Hash=w;const C={}.toString;function E(R,L){if(L!==void 0&&C.call(L)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(R,L)}t.checkOpts=E;function T(R){const L=F=>R().update(m(F)).digest(),D=R();return L.outputLen=D.outputLen,L.blockLen=D.blockLen,L.create=()=>R(),L}t.wrapConstructor=T;function S(R){const L=(F,$)=>R($).update(m(F)).digest(),D=R({});return L.outputLen=D.outputLen,L.blockLen=D.blockLen,L.create=F=>R(F),L}t.wrapConstructorWithOpts=S;function A(R){const L=(F,$)=>R($).update(m(F)).digest(),D=R({});return L.outputLen=D.outputLen,L.blockLen=D.blockLen,L.create=F=>R(F),L}t.wrapXOFConstructorWithOpts=A;function P(R=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(R));throw new Error("crypto.getRandomValues must be defined")}t.randomBytes=P})(W6)),W6}var XD;function IBe(){if(XD)return Sn;XD=1,Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.shake256=Sn.shake128=Sn.keccak_512=Sn.keccak_384=Sn.keccak_256=Sn.keccak_224=Sn.sha3_512=Sn.sha3_384=Sn.sha3_256=Sn.sha3_224=Sn.Keccak=Sn.keccakP=void 0;const t=NK(),e=TBe(),n=PBe(),i=[],f=[],b=[],s=BigInt(0),y=BigInt(1),r=BigInt(2),o=BigInt(7),v=BigInt(256),c=BigInt(113);for(let x=0,w=y,C=1,E=0;x<24;x++){[C,E]=[E,(2*C+3*E)%5],i.push(2*(5*E+C)),f.push((x+1)*(x+2)/2%64);let T=s;for(let S=0;S<7;S++)w=(w<<y^(w>>o)*c)%v,w&r&&(T^=y<<(y<<BigInt(S))-y);b.push(T)}const[u,l]=(0,e.split)(b,!0),a=(x,w,C)=>C>32?(0,e.rotlBH)(x,w,C):(0,e.rotlSH)(x,w,C),d=(x,w,C)=>C>32?(0,e.rotlBL)(x,w,C):(0,e.rotlSL)(x,w,C);function p(x,w=24){const C=new Uint32Array(10);for(let E=24-w;E<24;E++){for(let A=0;A<10;A++)C[A]=x[A]^x[A+10]^x[A+20]^x[A+30]^x[A+40];for(let A=0;A<10;A+=2){const P=(A+8)%10,R=(A+2)%10,L=C[R],D=C[R+1],F=a(L,D,1)^C[P],$=d(L,D,1)^C[P+1];for(let N=0;N<50;N+=10)x[A+N]^=F,x[A+N+1]^=$}let T=x[2],S=x[3];for(let A=0;A<24;A++){const P=f[A],R=a(T,S,P),L=d(T,S,P),D=i[A];T=x[D],S=x[D+1],x[D]=R,x[D+1]=L}for(let A=0;A<50;A+=10){for(let P=0;P<10;P++)C[P]=x[A+P];for(let P=0;P<10;P++)x[A+P]^=~C[(P+2)%10]&C[(P+4)%10]}x[0]^=u[E],x[1]^=l[E]}C.fill(0)}Sn.keccakP=p;class h extends n.Hash{constructor(w,C,E,T=!1,S=24){if(super(),this.blockLen=w,this.suffix=C,this.outputLen=E,this.enableXOF=T,this.rounds=S,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,t.number)(E),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,n.u32)(this.state)}keccak(){n.isLE||(0,n.byteSwap32)(this.state32),p(this.state32,this.rounds),n.isLE||(0,n.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(w){(0,t.exists)(this);const{blockLen:C,state:E}=this;w=(0,n.toBytes)(w);const T=w.length;for(let S=0;S<T;){const A=Math.min(C-this.pos,T-S);for(let P=0;P<A;P++)E[this.pos++]^=w[S++];this.pos===C&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:w,suffix:C,pos:E,blockLen:T}=this;w[E]^=C,(C&128)!==0&&E===T-1&&this.keccak(),w[T-1]^=128,this.keccak()}writeInto(w){(0,t.exists)(this,!1),(0,t.bytes)(w),this.finish();const C=this.state,{blockLen:E}=this;for(let T=0,S=w.length;T<S;){this.posOut>=E&&this.keccak();const A=Math.min(E-this.posOut,S-T);w.set(C.subarray(this.posOut,this.posOut+A),T),this.posOut+=A,T+=A}return w}xofInto(w){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(w)}xof(w){return(0,t.number)(w),this.xofInto(new Uint8Array(w))}digestInto(w){if((0,t.output)(w,this),this.finished)throw new Error("digest() was already called");return this.writeInto(w),this.destroy(),w}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(w){const{blockLen:C,suffix:E,outputLen:T,rounds:S,enableXOF:A}=this;return w||(w=new h(C,E,T,A,S)),w.state32.set(this.state32),w.pos=this.pos,w.posOut=this.posOut,w.finished=this.finished,w.rounds=S,w.suffix=E,w.outputLen=T,w.enableXOF=A,w.destroyed=this.destroyed,w}}Sn.Keccak=h;const g=(x,w,C)=>(0,n.wrapConstructor)(()=>new h(w,x,C));Sn.sha3_224=g(6,144,224/8),Sn.sha3_256=g(6,136,256/8),Sn.sha3_384=g(6,104,384/8),Sn.sha3_512=g(6,72,512/8),Sn.keccak_224=g(1,144,224/8),Sn.keccak_256=g(1,136,256/8),Sn.keccak_384=g(1,104,384/8),Sn.keccak_512=g(1,72,512/8);const m=(x,w,C)=>(0,n.wrapXOFConstructorWithOpts)((E={})=>new h(w,x,E.dkLen===void 0?C:E.dkLen,!0));return Sn.shake128=m(31,168,128/8),Sn.shake256=m(31,136,256/8),Sn}var G6,KD;function kK(){if(KD)return G6;KD=1;const{keccak_256:t}=IBe();function e(l){return Buffer.allocUnsafe(l).fill(0)}function n(l){return l.toString(2).length}function i(l,a){let d=l.toString(16);d.length%2!==0&&(d="0"+d);const p=d.match(/.{1,2}/g).map(h=>parseInt(h,16));for(;p.length<a;)p.unshift(0);return Buffer.from(p)}function f(l,a){const d=l<0n;let p;if(d){const h=(1n<<BigInt(a))-1n;p=(~l&h)+1n}else p=l;return p&=(1n<<BigInt(a))-1n,p}function b(l,a,d){const p=e(a);return l=y(l),d?l.length<a?(l.copy(p),p):l.slice(0,a):l.length<a?(l.copy(p,a-l.length),p):l.slice(-a)}function s(l,a){return b(l,a,!0)}function y(l){if(!Buffer.isBuffer(l))if(Array.isArray(l))l=Buffer.from(l);else if(typeof l=="string")c(l)?l=Buffer.from(v(u(l)),"hex"):l=Buffer.from(l);else if(typeof l=="number")l=intToBuffer(l);else if(l==null)l=Buffer.allocUnsafe(0);else if(typeof l=="bigint")l=i(l);else if(l.toArray)l=Buffer.from(l.toArray());else throw new Error("invalid type");return l}function r(l){return l=y(l),"0x"+l.toString("hex")}function o(l,a){if(l=y(l),a||(a=256),a!==256)throw new Error("unsupported");return Buffer.from(t(new Uint8Array(l)))}function v(l){return l.length%2?"0"+l:l}function c(l){return typeof l=="string"&&l.match(/^0x[0-9A-Fa-f]*$/)}function u(l){return typeof l=="string"&&l.startsWith("0x")?l.slice(2):l}return G6={zeros:e,setLength:b,setLengthRight:s,isHexString:c,stripHexPrefix:u,toBuffer:y,bufferToHex:r,keccak:o,bitLengthFromBigInt:n,bufferBEFromBigInt:i,twosFromBigInt:f},G6}var V6,ZD;function RBe(){if(ZD)return V6;ZD=1;const t=kK();function e(u){return u.startsWith("int[")?"int256"+u.slice(3):u==="int"?"int256":u.startsWith("uint[")?"uint256"+u.slice(4):u==="uint"?"uint256":u.startsWith("fixed[")?"fixed128x128"+u.slice(5):u==="fixed"?"fixed128x128":u.startsWith("ufixed[")?"ufixed128x128"+u.slice(6):u==="ufixed"?"ufixed128x128":u}function n(u){return Number.parseInt(/^\D+(\d+)$/.exec(u)[1],10)}function i(u){var l=/^\D+(\d+)x(\d+)$/.exec(u);return[Number.parseInt(l[1],10),Number.parseInt(l[2],10)]}function f(u){var l=u.match(/(.*)\[(.*?)\]$/);return l?l[2]===""?"dynamic":Number.parseInt(l[2],10):null}function b(u){var l=typeof u;if(l==="string"||l==="number")return BigInt(u);if(l==="bigint")return u;throw new Error("Argument is not a number")}function s(u,l){var a,d,p,h;if(u==="address")return s("uint160",b(l));if(u==="bool")return s("uint8",l?1:0);if(u==="string")return s("bytes",new Buffer(l,"utf8"));if(r(u)){if(typeof l.length>"u")throw new Error("Not an array?");if(a=f(u),a!=="dynamic"&&a!==0&&l.length>a)throw new Error("Elements exceed array size: "+a);p=[],u=u.slice(0,u.lastIndexOf("[")),typeof l=="string"&&(l=JSON.parse(l));for(h in l)p.push(s(u,l[h]));if(a==="dynamic"){var g=s("uint256",l.length);p.unshift(g)}return Buffer.concat(p)}else{if(u==="bytes")return l=new Buffer(l),p=Buffer.concat([s("uint256",l.length),l]),l.length%32!==0&&(p=Buffer.concat([p,t.zeros(32-l.length%32)])),p;if(u.startsWith("bytes")){if(a=n(u),a<1||a>32)throw new Error("Invalid bytes<N> width: "+a);return t.setLengthRight(l,32)}else if(u.startsWith("uint")){if(a=n(u),a%8||a<8||a>256)throw new Error("Invalid uint<N> width: "+a);d=b(l);const m=t.bitLengthFromBigInt(d);if(m>a)throw new Error("Supplied uint exceeds width: "+a+" vs "+m);if(d<0)throw new Error("Supplied uint is negative");return t.bufferBEFromBigInt(d,32)}else if(u.startsWith("int")){if(a=n(u),a%8||a<8||a>256)throw new Error("Invalid int<N> width: "+a);d=b(l);const m=t.bitLengthFromBigInt(d);if(m>a)throw new Error("Supplied int exceeds width: "+a+" vs "+m);const x=t.twosFromBigInt(d,256);return t.bufferBEFromBigInt(x,32)}else if(u.startsWith("ufixed")){if(a=i(u),d=b(l),d<0)throw new Error("Supplied ufixed is negative");return s("uint256",d*BigInt(2)**BigInt(a[1]))}else if(u.startsWith("fixed"))return a=i(u),s("int256",b(l)*BigInt(2)**BigInt(a[1]))}throw new Error("Unsupported or invalid type: "+u)}function y(u){return u==="string"||u==="bytes"||f(u)==="dynamic"}function r(u){return u.lastIndexOf("]")===u.length-1}function o(u,l){var a=[],d=[],p=32*u.length;for(var h in u){var g=e(u[h]),m=l[h],x=s(g,m);y(g)?(a.push(s("uint256",p)),d.push(x),p+=x.length):a.push(x)}return Buffer.concat(a.concat(d))}function v(u,l){if(u.length!==l.length)throw new Error("Number of types are not matching the values");for(var a,d,p=[],h=0;h<u.length;h++){var g=e(u[h]),m=l[h];if(g==="bytes")p.push(m);else if(g==="string")p.push(new Buffer(m,"utf8"));else if(g==="bool")p.push(new Buffer(m?"01":"00","hex"));else if(g==="address")p.push(t.setLength(m,20));else if(g.startsWith("bytes")){if(a=n(g),a<1||a>32)throw new Error("Invalid bytes<N> width: "+a);p.push(t.setLengthRight(m,a))}else if(g.startsWith("uint")){if(a=n(g),a%8||a<8||a>256)throw new Error("Invalid uint<N> width: "+a);d=b(m);const x=t.bitLengthFromBigInt(d);if(x>a)throw new Error("Supplied uint exceeds width: "+a+" vs "+x);p.push(t.bufferBEFromBigInt(d,a/8))}else if(g.startsWith("int")){if(a=n(g),a%8||a<8||a>256)throw new Error("Invalid int<N> width: "+a);d=b(m);const x=t.bitLengthFromBigInt(d);if(x>a)throw new Error("Supplied int exceeds width: "+a+" vs "+x);const w=t.twosFromBigInt(d,a);p.push(t.bufferBEFromBigInt(w,a/8))}else throw new Error("Unsupported or invalid type: "+g)}return Buffer.concat(p)}function c(u,l){return t.keccak(v(u,l))}return V6={rawEncode:o,solidityPack:v,soliditySHA3:c},V6}var H6,JD;function MBe(){if(JD)return H6;JD=1;const t=kK(),e=RBe(),n={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},i={encodeData(b,s,y,r=!0){const o=["bytes32"],v=[this.hashType(b,y)];if(r){const c=(u,l,a)=>{if(y[l]!==void 0)return["bytes32",a==null?"0x0000000000000000000000000000000000000000000000000000000000000000":t.keccak(this.encodeData(l,a,y,r))];if(a===void 0)throw new Error(`missing value for field ${u} of type ${l}`);if(l==="bytes")return["bytes32",t.keccak(a)];if(l==="string")return typeof a=="string"&&(a=Buffer.from(a,"utf8")),["bytes32",t.keccak(a)];if(l.lastIndexOf("]")===l.length-1){const d=l.slice(0,l.lastIndexOf("[")),p=a.map(h=>c(u,d,h));return["bytes32",t.keccak(e.rawEncode(p.map(([h])=>h),p.map(([,h])=>h)))]}return[l,a]};for(const u of y[b]){const[l,a]=c(u.name,u.type,s[u.name]);o.push(l),v.push(a)}}else for(const c of y[b]){let u=s[c.name];if(u!==void 0)if(c.type==="bytes")o.push("bytes32"),u=t.keccak(u),v.push(u);else if(c.type==="string")o.push("bytes32"),typeof u=="string"&&(u=Buffer.from(u,"utf8")),u=t.keccak(u),v.push(u);else if(y[c.type]!==void 0)o.push("bytes32"),u=t.keccak(this.encodeData(c.type,u,y,r)),v.push(u);else{if(c.type.lastIndexOf("]")===c.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");o.push(c.type),v.push(u)}}return e.rawEncode(o,v)},encodeType(b,s){let y="",r=this.findTypeDependencies(b,s).filter(o=>o!==b);r=[b].concat(r.sort());for(const o of r){if(!s[o])throw new Error("No type definition specified: "+o);y+=o+"("+s[o].map(({name:c,type:u})=>u+" "+c).join(",")+")"}return y},findTypeDependencies(b,s,y=[]){if(b=b.match(/^\w*/)[0],y.includes(b)||s[b]===void 0)return y;y.push(b);for(const r of s[b])for(const o of this.findTypeDependencies(r.type,s,y))!y.includes(o)&&y.push(o);return y},hashStruct(b,s,y,r=!0){return t.keccak(this.encodeData(b,s,y,r))},hashType(b,s){return t.keccak(this.encodeType(b,s))},sanitizeData(b){const s={};for(const y in n.properties)b[y]&&(s[y]=b[y]);return s.types&&(s.types=Object.assign({EIP712Domain:[]},s.types)),s},hash(b,s=!0){const y=this.sanitizeData(b),r=[Buffer.from("1901","hex")];return r.push(this.hashStruct("EIP712Domain",y.domain,y.types,s)),y.primaryType!=="EIP712Domain"&&r.push(this.hashStruct(y.primaryType,y.message,y.types,s)),t.keccak(Buffer.concat(r))}};H6={TYPED_MESSAGE_SCHEMA:n,TypedDataUtils:i,hashForSignTypedDataLegacy:function(b){return f(b.data)},hashForSignTypedData_v3:function(b){return i.hash(b.data,!1)},hashForSignTypedData_v4:function(b){return i.hash(b.data)}};function f(b){const s=new Error("Expect argument to be non-empty array");if(typeof b!="object"||!b.length)throw s;const y=b.map(function(v){return v.type==="bytes"?t.toBuffer(v.value):v.value}),r=b.map(function(v){return v.type}),o=b.map(function(v){if(!v.name)throw s;return v.type+" "+v.name});return e.soliditySHA3(["bytes32","bytes32"],[e.soliditySHA3(new Array(b.length).fill("string"),o),e.soliditySHA3(r,y)])}return H6}var OBe=MBe();const $y=co(OBe),FBe="walletUsername",a9="Addresses",$Be="AppVersion";function ai(t){return t.errorMessage!==void 0}class LBe{constructor(e){this.secret=e}async encrypt(e){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");const i=crypto.getRandomValues(new Uint8Array(12)),f=await crypto.subtle.importKey("raw",d2(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),b=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:i},f,b.encode(e)),y=16,r=s.slice(s.byteLength-y),o=s.slice(0,s.byteLength-y),v=new Uint8Array(r),c=new Uint8Array(o),u=new Uint8Array([...i,...v,...c]);return d7(u)}async decrypt(e){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");return new Promise((i,f)=>{(async function(){const b=await crypto.subtle.importKey("raw",d2(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=d2(e),y=s.slice(0,12),r=s.slice(12,28),o=s.slice(28),v=new Uint8Array([...o,...r]),c={name:"AES-GCM",iv:new Uint8Array(y)};try{const u=await window.crypto.subtle.decrypt(c,b,v),l=new TextDecoder;i(l.decode(u))}catch(u){f(u)}})()})}}class DBe{constructor(e,n,i){this.linkAPIUrl=e,this.sessionId=n;const f=`${n}:${i}`;this.auth=`Basic ${btoa(f)}`}async markUnseenEventsAsSeen(e){return Promise.all(e.map(n=>fetch(`${this.linkAPIUrl}/events/${n.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(n=>console.error("Unabled to mark event as failed:",n))}async fetchUnseenEvents(){var e;const n=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(n.ok){const{events:i,error:f}=await n.json();if(f)throw new Error(`Check unseen events failed: ${f}`);const b=(e=i?.filter(s=>s.event==="Web3Response").map(s=>({type:"Event",sessionId:this.sessionId,eventId:s.id,event:s.event,data:s.data})))!==null&&e!==void 0?e:[];return this.markUnseenEventsAsSeen(b),b}throw new Error(`Check unseen events failed: ${n.status}`)}}var Gl;(function(t){t[t.DISCONNECTED=0]="DISCONNECTED",t[t.CONNECTING=1]="CONNECTING",t[t.CONNECTED=2]="CONNECTED"})(Gl||(Gl={}));class NBe{setConnectionStateListener(e){this.connectionStateListener=e}setIncomingDataListener(e){this.incomingDataListener=e}constructor(e,n=WebSocket){this.WebSocketClass=n,this.webSocket=null,this.pendingData=[],this.url=e.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((e,n)=>{var i;let f;try{this.webSocket=f=new this.WebSocketClass(this.url)}catch(b){n(b);return}(i=this.connectionStateListener)===null||i===void 0||i.call(this,Gl.CONNECTING),f.onclose=b=>{var s;this.clearWebSocket(),n(new Error(`websocket error ${b.code}: ${b.reason}`)),(s=this.connectionStateListener)===null||s===void 0||s.call(this,Gl.DISCONNECTED)},f.onopen=b=>{var s;e(),(s=this.connectionStateListener)===null||s===void 0||s.call(this,Gl.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(r=>this.sendData(r)),this.pendingData=[])},f.onmessage=b=>{var s,y;if(b.data==="h")(s=this.incomingDataListener)===null||s===void 0||s.call(this,{type:"Heartbeat"});else try{const r=JSON.parse(b.data);(y=this.incomingDataListener)===null||y===void 0||y.call(this,r)}catch{}}})}disconnect(){var e;const{webSocket:n}=this;if(n){this.clearWebSocket(),(e=this.connectionStateListener)===null||e===void 0||e.call(this,Gl.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{n.close()}catch{}}}sendData(e){const{webSocket:n}=this;if(!n){this.pendingData.push(e),this.connect();return}n.send(e)}clearWebSocket(){const{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}}const QD=1e4,kBe=6e4;class BBe{constructor({session:e,linkAPIUrl:n,listener:i}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=Ul(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=b=>{if(!b)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",y=>b.JsonRpcUrl&&this.handleChainUpdated(y,b.JsonRpcUrl)]]).forEach((y,r)=>{const o=b[r];o!==void 0&&y(o)})},this.handleDestroyed=b=>{var s;b==="1"&&((s=this.listener)===null||s===void 0||s.resetAndReload())},this.handleAccountUpdated=async b=>{var s;const y=await this.cipher.decrypt(b);(s=this.listener)===null||s===void 0||s.accountUpdated(y)},this.handleMetadataUpdated=async(b,s)=>{var y;const r=await this.cipher.decrypt(s);(y=this.listener)===null||y===void 0||y.metadataUpdated(b,r)},this.handleWalletUsernameUpdated=async b=>{this.handleMetadataUpdated(FBe,b)},this.handleAppVersionUpdated=async b=>{this.handleMetadataUpdated($Be,b)},this.handleChainUpdated=async(b,s)=>{var y;const r=await this.cipher.decrypt(b),o=await this.cipher.decrypt(s);(y=this.listener)===null||y===void 0||y.chainUpdated(r,o)},this.session=e,this.cipher=new LBe(e.secret),this.listener=i;const f=new NBe(`${n}/rpc`,WebSocket);f.setConnectionStateListener(async b=>{let s=!1;switch(b){case Gl.DISCONNECTED:if(!this.destroyed){const y=async()=>{await new Promise(r=>setTimeout(r,5e3)),this.destroyed||f.connect().catch(()=>{y()})};y()}break;case Gl.CONNECTED:s=await this.handleConnected(),this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},QD),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case Gl.CONNECTING:break}this.connected!==s&&(this.connected=s)}),f.setIncomingDataListener(b=>{var s;switch(b.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const y=b.type==="IsLinkedOK"?b.linked:void 0;this.linked=y||b.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{this.handleSessionMetadataUpdated(b.metadata);break}case"Event":{this.handleIncomingEvent(b);break}}b.id!==void 0&&((s=this.requestResolutions.get(b.id))===null||s===void 0||s(b))}),this.ws=f,this.http=new DBe(n,e.id,e.key)}connect(){if(this.destroyed)throw new Error("instance is destroyed");this.ws.connect()}async destroy(){this.destroyed||(await this.makeRequest({type:"SetSessionConfig",id:Ul(this.nextReqId++),sessionId:this.session.id,metadata:{__destroyed:"1"}},{timeout:1e3}),this.destroyed=!0,this.ws.disconnect(),this.listener=void 0)}get connected(){return this._connected}set connected(e){this._connected=e}get linked(){return this._linked}set linked(e){var n,i;this._linked=e,e&&((n=this.onceLinked)===null||n===void 0||n.call(this)),(i=this.listener)===null||i===void 0||i.linkedUpdated(e)}setOnceLinked(e){return new Promise(n=>{this.linked?e().then(n):this.onceLinked=()=>{e().then(n),this.onceLinked=void 0}})}async handleIncomingEvent(e){var n;if(e.type!=="Event"||e.event!=="Web3Response")return;const i=await this.cipher.decrypt(e.data),f=JSON.parse(i);if(f.type!=="WEB3_RESPONSE")return;const{id:b,response:s}=f;(n=this.listener)===null||n===void 0||n.handleWeb3ResponseMessage(b,s)}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(e=>setTimeout(e,250));try{await this.fetchUnseenEventsAPI()}catch(e){console.error("Unable to check for unseen events",e)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(n=>this.handleIncomingEvent(n))}async publishEvent(e,n,i=!1){const f=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},n),{origin:location.origin,location:location.href,relaySource:"coinbaseWalletExtension"in window&&window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),b={type:"PublishEvent",id:Ul(this.nextReqId++),sessionId:this.session.id,event:e,data:f,callWebhook:i};return this.setOnceLinked(async()=>{const s=await this.makeRequest(b);if(s.type==="Fail")throw new Error(s.error||"failed to publish event");return s.eventId})}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>QD*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(e,n={timeout:kBe}){const i=e.id;this.sendData(e);let f;return Promise.race([new Promise((b,s)=>{f=window.setTimeout(()=>{s(new Error(`request ${i} timed out`))},n.timeout)}),new Promise(b=>{this.requestResolutions.set(i,s=>{clearTimeout(f),b(s),this.requestResolutions.delete(i)})})])}async handleConnected(){return(await this.makeRequest({type:"HostSession",id:Ul(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key})).type==="Fail"?!1:(this.sendData({type:"IsLinked",id:Ul(this.nextReqId++),sessionId:this.session.id}),this.sendData({type:"GetSessionConfig",id:Ul(this.nextReqId++),sessionId:this.session.id}),!0)}}class UBe{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,n=OK(e.toString(16));return this.callbacks.get(n)&&this.callbacks.delete(n),e}}function jBe(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function v7(t,...e){if(!jBe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function _D(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function zBe(t,e){v7(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Y6=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Do=(t,e)=>t<<32-e|t>>>e;new Uint8Array(new Uint32Array([287454020]).buffer)[0];const WBe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function GBe(t){v7(t);let e="";for(let n=0;n<t.length;n++)e+=WBe[t[n]];return e}function VBe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function BK(t){return typeof t=="string"&&(t=VBe(t)),v7(t),t}class HBe{clone(){return this._cloneInto()}}function YBe(t){const e=i=>t().update(BK(i)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function XBe(t,e,n,i){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,i);const f=BigInt(32),b=BigInt(4294967295),s=Number(n>>f&b),y=Number(n&b),r=i?4:0,o=i?0:4;t.setUint32(e+r,s,i),t.setUint32(e+o,y,i)}const KBe=(t,e,n)=>t&e^~t&n,ZBe=(t,e,n)=>t&e^t&n^e&n;class JBe extends HBe{constructor(e,n,i,f){super(),this.blockLen=e,this.outputLen=n,this.padOffset=i,this.isLE=f,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Y6(this.buffer)}update(e){_D(this);const{view:n,buffer:i,blockLen:f}=this;e=BK(e);const b=e.length;for(let s=0;s<b;){const y=Math.min(f-this.pos,b-s);if(y===f){const r=Y6(e);for(;f<=b-s;s+=f)this.process(r,s);continue}i.set(e.subarray(s,s+y),this.pos),this.pos+=y,s+=y,this.pos===f&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){_D(this),zBe(e,this),this.finished=!0;const{buffer:n,view:i,blockLen:f,isLE:b}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>f-s&&(this.process(i,0),s=0);for(let c=s;c<f;c++)n[c]=0;XBe(i,f-8,BigInt(this.length*8),b),this.process(i,0);const y=Y6(e),r=this.outputLen;if(r%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const o=r/4,v=this.get();if(o>v.length)throw new Error("_sha2: outputLen bigger than state");for(let c=0;c<o;c++)y.setUint32(4*c,v[c],b)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const i=e.slice(0,n);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:i,length:f,finished:b,destroyed:s,pos:y}=this;return e.length=f,e.pos=y,e.finished=b,e.destroyed=s,f%n&&e.buffer.set(i),e}}const QBe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Uu=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ju=new Uint32Array(64);class _Be extends JBe{constructor(){super(64,32,8,!1),this.A=Uu[0]|0,this.B=Uu[1]|0,this.C=Uu[2]|0,this.D=Uu[3]|0,this.E=Uu[4]|0,this.F=Uu[5]|0,this.G=Uu[6]|0,this.H=Uu[7]|0}get(){const{A:e,B:n,C:i,D:f,E:b,F:s,G:y,H:r}=this;return[e,n,i,f,b,s,y,r]}set(e,n,i,f,b,s,y,r){this.A=e|0,this.B=n|0,this.C=i|0,this.D=f|0,this.E=b|0,this.F=s|0,this.G=y|0,this.H=r|0}process(e,n){for(let c=0;c<16;c++,n+=4)ju[c]=e.getUint32(n,!1);for(let c=16;c<64;c++){const u=ju[c-15],l=ju[c-2],a=Do(u,7)^Do(u,18)^u>>>3,d=Do(l,17)^Do(l,19)^l>>>10;ju[c]=d+ju[c-7]+a+ju[c-16]|0}let{A:i,B:f,C:b,D:s,E:y,F:r,G:o,H:v}=this;for(let c=0;c<64;c++){const u=Do(y,6)^Do(y,11)^Do(y,25),l=v+u+KBe(y,r,o)+QBe[c]+ju[c]|0,d=(Do(i,2)^Do(i,13)^Do(i,22))+ZBe(i,f,b)|0;v=o,o=r,r=y,y=s+l|0,s=b,b=f,f=i,i=l+d|0}i=i+this.A|0,f=f+this.B|0,b=b+this.C|0,s=s+this.D|0,y=y+this.E|0,r=r+this.F|0,o=o+this.G|0,v=v+this.H|0,this.set(i,f,b,s,y,r,o,v)}roundClean(){ju.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const qBe=YBe(()=>new _Be),qD="session:id",eN="session:secret",tN="session:linked";class _f{constructor(e,n,i,f=!1){this.storage=e,this.id=n,this.secret=i,this.key=GBe(qBe(`${n}, ${i} WalletLink`)),this._linked=!!f}static create(e){const n=td(16),i=td(32);return new _f(e,n,i).save()}static load(e){const n=e.getItem(qD),i=e.getItem(tN),f=e.getItem(eN);return n&&f?new _f(e,n,f,i==="1"):null}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this.storage.setItem(qD,this.id),this.storage.setItem(eN,this.secret),this.persistLinked(),this}persistLinked(){this.storage.setItem(tN,this._linked?"1":"0")}}function eUe(){try{return window.frameElement!==null}catch{return!1}}function tUe(){try{return eUe()&&window.top?window.top.location:window.location}catch{return window.location}}function nUe(){var t;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((t=window?.navigator)===null||t===void 0?void 0:t.userAgent)}function UK(){var t,e;return(e=(t=window?.matchMedia)===null||t===void 0?void 0:t.call(window,"(prefers-color-scheme: dark)").matches)!==null&&e!==void 0?e:!1}const rUe='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';function jK(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(rUe)),document.documentElement.appendChild(t)}function zK(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=zK(t[e]))&&(i&&(i+=" "),i+=n);else for(e in t)t[e]&&(i&&(i+=" "),i+=e);return i}function Dv(){for(var t,e,n=0,i="";n<arguments.length;)(t=arguments[n++])&&(e=zK(t))&&(i&&(i+=" "),i+=e);return i}var p3,jn,WK,nd,nN,GK,o9,g7,l9,u9,Gg={},VK=[],iUe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,m7=Array.isArray;function nc(t,e){for(var n in e)t[n]=e[n];return t}function HK(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function wn(t,e,n){var i,f,b,s={};for(b in e)b=="key"?i=e[b]:b=="ref"?f=e[b]:s[b]=e[b];if(arguments.length>2&&(s.children=arguments.length>3?p3.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(b in t.defaultProps)s[b]===void 0&&(s[b]=t.defaultProps[b]);return h2(t,s,i,f,null)}function h2(t,e,n,i,f){var b={type:t,props:e,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:f??++WK,__i:-1,__u:0};return f==null&&jn.vnode!=null&&jn.vnode(b),b}function v3(t){return t.children}function f2(t,e){this.props=t,this.context=e}function Cp(t,e){if(e==null)return t.__?Cp(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Cp(t):null}function YK(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return YK(t)}}function rN(t){(!t.__d&&(t.__d=!0)&&nd.push(t)&&!ww.__r++||nN!==jn.debounceRendering)&&((nN=jn.debounceRendering)||GK)(ww)}function ww(){var t,e,n,i,f,b,s,y;for(nd.sort(o9);t=nd.shift();)t.__d&&(e=nd.length,i=void 0,b=(f=(n=t).__v).__e,s=[],y=[],n.__P&&((i=nc({},f)).__v=f.__v+1,jn.vnode&&jn.vnode(i),y7(n.__P,i,f,n.__n,n.__P.namespaceURI,32&f.__u?[b]:null,s,b??Cp(f),!!(32&f.__u),y),i.__v=f.__v,i.__.__k[i.__i]=i,ZK(s,i,y),i.__e!=b&&YK(i)),nd.length>e&&nd.sort(o9));ww.__r=0}function XK(t,e,n,i,f,b,s,y,r,o,v){var c,u,l,a,d,p=i&&i.__k||VK,h=e.length;for(n.__d=r,sUe(n,e,p),r=n.__d,c=0;c<h;c++)(l=n.__k[c])!=null&&(u=l.__i===-1?Gg:p[l.__i]||Gg,l.__i=c,y7(t,l,u,f,b,s,y,r,o,v),a=l.__e,l.ref&&u.ref!=l.ref&&(u.ref&&w7(u.ref,null,l),v.push(l.ref,l.__c||a,l)),d==null&&a!=null&&(d=a),65536&l.__u||u.__k===l.__k?r=KK(l,r,t):typeof l.type=="function"&&l.__d!==void 0?r=l.__d:a&&(r=a.nextSibling),l.__d=void 0,l.__u&=-196609);n.__d=r,n.__e=d}function sUe(t,e,n){var i,f,b,s,y,r=e.length,o=n.length,v=o,c=0;for(t.__k=[],i=0;i<r;i++)(f=e[i])!=null&&typeof f!="boolean"&&typeof f!="function"?(s=i+c,(f=t.__k[i]=typeof f=="string"||typeof f=="number"||typeof f=="bigint"||f.constructor==String?h2(null,f,null,null,null):m7(f)?h2(v3,{children:f},null,null,null):f.constructor===void 0&&f.__b>0?h2(f.type,f.props,f.key,f.ref?f.ref:null,f.__v):f).__=t,f.__b=t.__b+1,b=null,(y=f.__i=aUe(f,n,s,v))!==-1&&(v--,(b=n[y])&&(b.__u|=131072)),b==null||b.__v===null?(y==-1&&c--,typeof f.type!="function"&&(f.__u|=65536)):y!==s&&(y==s-1?c--:y==s+1?c++:(y>s?c--:c++,f.__u|=65536))):f=t.__k[i]=null;if(v)for(i=0;i<o;i++)(b=n[i])!=null&&(131072&b.__u)==0&&(b.__e==t.__d&&(t.__d=Cp(b)),JK(b,b))}function KK(t,e,n){var i,f;if(typeof t.type=="function"){for(i=t.__k,f=0;i&&f<i.length;f++)i[f]&&(i[f].__=t,e=KK(i[f],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=Cp(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function aUe(t,e,n,i){var f=t.key,b=t.type,s=n-1,y=n+1,r=e[n];if(r===null||r&&f==r.key&&b===r.type&&(131072&r.__u)==0)return n;if(i>(r!=null&&(131072&r.__u)==0?1:0))for(;s>=0||y<e.length;){if(s>=0){if((r=e[s])&&(131072&r.__u)==0&&f==r.key&&b===r.type)return s;s--}if(y<e.length){if((r=e[y])&&(131072&r.__u)==0&&f==r.key&&b===r.type)return y;y++}}return-1}function iN(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||iUe.test(e)?n:n+"px"}function Ly(t,e,n,i,f){var b;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof i=="string"&&(t.style.cssText=i=""),i)for(e in i)n&&e in n||iN(t.style,e,"");if(n)for(e in n)i&&n[e]===i[e]||iN(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")b=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+b]=n,n?i?n.u=i.u:(n.u=g7,t.addEventListener(e,b?u9:l9,b)):t.removeEventListener(e,b?u9:l9,b);else{if(f=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function sN(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=g7++;else if(e.t<n.u)return;return n(jn.event?jn.event(e):e)}}}function y7(t,e,n,i,f,b,s,y,r,o){var v,c,u,l,a,d,p,h,g,m,x,w,C,E,T,S,A=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(r=!!(32&n.__u),b=[y=e.__e=n.__e]),(v=jn.__b)&&v(e);e:if(typeof A=="function")try{if(h=e.props,g="prototype"in A&&A.prototype.render,m=(v=A.contextType)&&i[v.__c],x=v?m?m.props.value:v.__:i,n.__c?p=(c=e.__c=n.__c).__=c.__E:(g?e.__c=c=new A(h,x):(e.__c=c=new f2(h,x),c.constructor=A,c.render=lUe),m&&m.sub(c),c.props=h,c.state||(c.state={}),c.context=x,c.__n=i,u=c.__d=!0,c.__h=[],c._sb=[]),g&&c.__s==null&&(c.__s=c.state),g&&A.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=nc({},c.__s)),nc(c.__s,A.getDerivedStateFromProps(h,c.__s))),l=c.props,a=c.state,c.__v=e,u)g&&A.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),g&&c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(g&&A.getDerivedStateFromProps==null&&h!==l&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(h,x),!c.__e&&(c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(h,c.__s,x)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(c.props=h,c.state=c.__s,c.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(P){P&&(P.__=e)}),w=0;w<c._sb.length;w++)c.__h.push(c._sb[w]);c._sb=[],c.__h.length&&s.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(h,c.__s,x),g&&c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(l,a,d)})}if(c.context=x,c.props=h,c.__P=t,c.__e=!1,C=jn.__r,E=0,g){for(c.state=c.__s,c.__d=!1,C&&C(e),v=c.render(c.props,c.state,c.context),T=0;T<c._sb.length;T++)c.__h.push(c._sb[T]);c._sb=[]}else do c.__d=!1,C&&C(e),v=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++E<25);c.state=c.__s,c.getChildContext!=null&&(i=nc(nc({},i),c.getChildContext())),g&&!u&&c.getSnapshotBeforeUpdate!=null&&(d=c.getSnapshotBeforeUpdate(l,a)),XK(t,m7(S=v!=null&&v.type===v3&&v.key==null?v.props.children:v)?S:[S],e,n,i,f,b,s,y,r,o),c.base=e.__e,e.__u&=-161,c.__h.length&&s.push(c),p&&(c.__E=c.__=null)}catch(P){if(e.__v=null,r||b!=null){for(e.__u|=r?160:32;y&&y.nodeType===8&&y.nextSibling;)y=y.nextSibling;b[b.indexOf(y)]=null,e.__e=y}else e.__e=n.__e,e.__k=n.__k;jn.__e(P,e,n)}else b==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=oUe(n.__e,e,n,i,f,b,s,r,o);(v=jn.diffed)&&v(e)}function ZK(t,e,n){e.__d=void 0;for(var i=0;i<n.length;i++)w7(n[i],n[++i],n[++i]);jn.__c&&jn.__c(e,t),t.some(function(f){try{t=f.__h,f.__h=[],t.some(function(b){b.call(f)})}catch(b){jn.__e(b,f.__v)}})}function oUe(t,e,n,i,f,b,s,y,r){var o,v,c,u,l,a,d,p=n.props,h=e.props,g=e.type;if(g==="svg"?f="http://www.w3.org/2000/svg":g==="math"?f="http://www.w3.org/1998/Math/MathML":f||(f="http://www.w3.org/1999/xhtml"),b!=null){for(o=0;o<b.length;o++)if((l=b[o])&&"setAttribute"in l==!!g&&(g?l.localName===g:l.nodeType===3)){t=l,b[o]=null;break}}if(t==null){if(g===null)return document.createTextNode(h);t=document.createElementNS(f,g,h.is&&h),y&&(jn.__m&&jn.__m(e,b),y=!1),b=null}if(g===null)p===h||y&&t.data===h||(t.data=h);else{if(b=b&&p3.call(t.childNodes),p=n.props||Gg,!y&&b!=null)for(p={},o=0;o<t.attributes.length;o++)p[(l=t.attributes[o]).name]=l.value;for(o in p)if(l=p[o],o!="children"){if(o=="dangerouslySetInnerHTML")c=l;else if(!(o in h)){if(o=="value"&&"defaultValue"in h||o=="checked"&&"defaultChecked"in h)continue;Ly(t,o,null,l,f)}}for(o in h)l=h[o],o=="children"?u=l:o=="dangerouslySetInnerHTML"?v=l:o=="value"?a=l:o=="checked"?d=l:y&&typeof l!="function"||p[o]===l||Ly(t,o,l,p[o],f);if(v)y||c&&(v.__html===c.__html||v.__html===t.innerHTML)||(t.innerHTML=v.__html),e.__k=[];else if(c&&(t.innerHTML=""),XK(t,m7(u)?u:[u],e,n,i,g==="foreignObject"?"http://www.w3.org/1999/xhtml":f,b,s,b?b[0]:n.__k&&Cp(n,0),y,r),b!=null)for(o=b.length;o--;)HK(b[o]);y||(o="value",g==="progress"&&a==null?t.removeAttribute("value"):a!==void 0&&(a!==t[o]||g==="progress"&&!a||g==="option"&&a!==p[o])&&Ly(t,o,a,p[o],f),o="checked",d!==void 0&&d!==t[o]&&Ly(t,o,d,p[o],f))}return t}function w7(t,e,n){try{if(typeof t=="function"){var i=typeof t.__u=="function";i&&t.__u(),i&&e==null||(t.__u=t(e))}else t.current=e}catch(f){jn.__e(f,n)}}function JK(t,e,n){var i,f;if(jn.unmount&&jn.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.__e||w7(i,null,e)),(i=t.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(b){jn.__e(b,e)}i.base=i.__P=null}if(i=t.__k)for(f=0;f<i.length;f++)i[f]&&JK(i[f],e,n||typeof t.type!="function");n||HK(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function lUe(t,e,n){return this.constructor(t,n)}function c9(t,e,n){var i,f,b,s;jn.__&&jn.__(t,e),f=(i=!1)?null:e.__k,b=[],s=[],y7(e,t=e.__k=wn(v3,null,[t]),f||Gg,Gg,e.namespaceURI,f?null:e.firstChild?p3.call(e.childNodes):null,b,f?f.__e:e.firstChild,i,s),ZK(b,t,s)}p3=VK.slice,jn={__e:function(t,e,n,i){for(var f,b,s;e=e.__;)if((f=e.__c)&&!f.__)try{if((b=f.constructor)&&b.getDerivedStateFromError!=null&&(f.setState(b.getDerivedStateFromError(t)),s=f.__d),f.componentDidCatch!=null&&(f.componentDidCatch(t,i||{}),s=f.__d),s)return f.__E=f}catch(y){t=y}throw t}},WK=0,f2.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=nc({},this.state),typeof t=="function"&&(t=t(nc({},n),this.props)),t&&nc(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),rN(this))},f2.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),rN(this))},f2.prototype.render=v3,nd=[],GK=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,o9=function(t,e){return t.__v.__b-e.__v.__b},ww.__r=0,g7=0,l9=sN(!1),u9=sN(!0);var Vg,dr,X6,aN,d9=0,QK=[],wr=jn,oN=wr.__b,lN=wr.__r,uN=wr.diffed,cN=wr.__c,dN=wr.unmount,hN=wr.__;function x7(t,e){wr.__h&&wr.__h(dr,t,d9||e),d9=0;var n=dr.__H||(dr.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function fN(t){return d9=1,uUe(qK,t)}function uUe(t,e,n){var i=x7(Vg++,2);if(i.t=t,!i.__c&&(i.__=[qK(void 0,e),function(y){var r=i.__N?i.__N[0]:i.__[0],o=i.t(r,y);r!==o&&(i.__N=[o,i.__[1]],i.__c.setState({}))}],i.__c=dr,!dr.u)){var f=function(y,r,o){if(!i.__c.__H)return!0;var v=i.__c.__H.__.filter(function(u){return!!u.__c});if(v.every(function(u){return!u.__N}))return!b||b.call(this,y,r,o);var c=!1;return v.forEach(function(u){if(u.__N){var l=u.__[0];u.__=u.__N,u.__N=void 0,l!==u.__[0]&&(c=!0)}}),!(!c&&i.__c.props===y)&&(!b||b.call(this,y,r,o))};dr.u=!0;var b=dr.shouldComponentUpdate,s=dr.componentWillUpdate;dr.componentWillUpdate=function(y,r,o){if(this.__e){var v=b;b=void 0,f(y,r,o),b=v}s&&s.call(this,y,r,o)},dr.shouldComponentUpdate=f}return i.__N||i.__}function cUe(t,e){var n=x7(Vg++,3);!wr.__s&&_K(n.__H,e)&&(n.__=t,n.i=e,dr.__H.__h.push(n))}function lYe(t,e){var n=x7(Vg++,7);return _K(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function dUe(){for(var t;t=QK.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(p2),t.__H.__h.forEach(h9),t.__H.__h=[]}catch(e){t.__H.__h=[],wr.__e(e,t.__v)}}wr.__b=function(t){dr=null,oN&&oN(t)},wr.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),hN&&hN(t,e)},wr.__r=function(t){lN&&lN(t),Vg=0;var e=(dr=t.__c).__H;e&&(X6===dr?(e.__h=[],dr.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(p2),e.__h.forEach(h9),e.__h=[],Vg=0)),X6=dr},wr.diffed=function(t){uN&&uN(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(QK.push(e)!==1&&aN===wr.requestAnimationFrame||((aN=wr.requestAnimationFrame)||hUe)(dUe)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),X6=dr=null},wr.__c=function(t,e){e.some(function(n){try{n.__h.forEach(p2),n.__h=n.__h.filter(function(i){return!i.__||h9(i)})}catch(i){e.some(function(f){f.__h&&(f.__h=[])}),e=[],wr.__e(i,n.__v)}}),cN&&cN(t,e)},wr.unmount=function(t){dN&&dN(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{p2(i)}catch(f){e=f}}),n.__H=void 0,e&&wr.__e(e,n.__v))};var pN=typeof requestAnimationFrame=="function";function hUe(t){var e,n=function(){clearTimeout(i),pN&&cancelAnimationFrame(e),setTimeout(t)},i=setTimeout(n,100);pN&&(e=requestAnimationFrame(n))}function p2(t){var e=dr,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),dr=e}function h9(t){var e=dr;t.__c=t.__(),dr=e}function _K(t,e){return!t||t.length!==e.length||e.some(function(n,i){return n!==t[i]})}function qK(t,e){return typeof e=="function"?e(t):e}const fUe=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}",pUe="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",vUe="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class eZ{constructor(){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=UK()}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",e.appendChild(this.root),this.render()}presentItem(e){const n=this.nextItemKey++;return this.items.set(n,e),this.render(),()=>{this.items.delete(n),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&c9(wn("div",null,wn(tZ,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([e,n])=>wn(gUe,Object.assign({},n,{key:e}))))),this.root)}}const tZ=t=>wn("div",{class:Dv("-cbwsdk-snackbar-container")},wn("style",null,fUe),wn("div",{class:"-cbwsdk-snackbar"},t.children)),gUe=({autoExpand:t,message:e,menuItems:n})=>{const[i,f]=fN(!0),[b,s]=fN(t??!1);cUe(()=>{const r=[window.setTimeout(()=>{f(!1)},1),window.setTimeout(()=>{s(!0)},1e4)];return()=>{r.forEach(window.clearTimeout)}});const y=()=>{s(!b)};return wn("div",{class:Dv("-cbwsdk-snackbar-instance",i&&"-cbwsdk-snackbar-instance-hidden",b&&"-cbwsdk-snackbar-instance-expanded")},wn("div",{class:"-cbwsdk-snackbar-instance-header",onClick:y},wn("img",{src:pUe,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",wn("div",{class:"-cbwsdk-snackbar-instance-header-message"},e),wn("div",{class:"-gear-container"},!b&&wn("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},wn("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),wn("img",{src:vUe,class:"-gear-icon",title:"Expand"}))),n&&n.length>0&&wn("div",{class:"-cbwsdk-snackbar-instance-menu"},n.map((r,o)=>wn("div",{class:Dv("-cbwsdk-snackbar-instance-menu-item",r.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:r.onClick,key:o},wn("svg",{width:r.svgWidth,height:r.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},wn("path",{"fill-rule":r.defaultFillRule,"clip-rule":r.defaultClipRule,d:r.path,fill:"#AAAAAA"})),wn("span",{class:Dv("-cbwsdk-snackbar-instance-menu-item-info",r.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},r.info)))))},nZ="M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z";class mUe{constructor(){this.attached=!1,this.snackbar=new eZ}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,n=document.createElement("div");n.className="-cbwsdk-css-reset",e.appendChild(n),this.snackbar.attach(n),this.attached=!0,jK()}showConnecting(e){let n;return e.isUnlinkedErrorState?n={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:n={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:nZ,defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(n)}}const yUe=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}";class wUe{constructor(){this.root=null,this.darkMode=UK()}attach(){const e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),jK()}present(e){this.render(e)}clear(){this.render(null)}render(e){this.root&&(c9(null,this.root),e&&c9(wn(xUe,Object.assign({},e,{onDismiss:()=>{this.clear()},darkMode:this.darkMode})),this.root))}}const xUe=({title:t,buttonText:e,darkMode:n,onButtonClick:i,onDismiss:f})=>{const b=n?"dark":"light";return wn(tZ,{darkMode:n},wn("div",{class:"-cbwsdk-redirect-dialog"},wn("style",null,yUe),wn("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:f}),wn("div",{class:Dv("-cbwsdk-redirect-dialog-box",b)},wn("p",null,t),wn("button",{onClick:i},e))))},bUe="https://keys.coinbase.com/connect",CUe="https://rpc.wallet.coinbase.com",vN="https://www.walletlink.org",EUe="https://go.cb-w.com/walletlink";class gN{constructor(){this.attached=!1,this.redirectDialog=new wUe}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}redirectToCoinbaseWallet(e){const n=new URL(EUe);n.searchParams.append("redirect_url",tUe().href),e&&n.searchParams.append("wl_url",e);const i=document.createElement("a");i.target="cbw-opener",i.href=n.href,i.rel="noreferrer noopener",i.click()}openCoinbaseWalletDeeplink(e){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",onButtonClick:()=>{this.redirectToCoinbaseWallet(e)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(e)},99)}showConnecting(e){return()=>{this.redirectDialog.clear()}}}class jl{constructor(e){this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.isMobileWeb=nUe(),this.linkedUpdated=b=>{this.isLinked=b;const s=this.storage.getItem(a9);if(b&&(this._session.linked=b),this.isUnlinkedErrorState=!1,s){const y=s.split(" "),r=this.storage.getItem("IsStandaloneSigning")==="true";y[0]!==""&&!b&&this._session.linked&&!r&&(this.isUnlinkedErrorState=!0)}},this.metadataUpdated=(b,s)=>{this.storage.setItem(b,s)},this.chainUpdated=(b,s)=>{this.chainCallbackParams.chainId===b&&this.chainCallbackParams.jsonRpcUrl===s||(this.chainCallbackParams={chainId:b,jsonRpcUrl:s},this.chainCallback&&this.chainCallback(s,Number.parseInt(b,10)))},this.accountUpdated=b=>{this.accountsCallback&&this.accountsCallback([b]),jl.accountRequestCallbackIds.size>0&&(Array.from(jl.accountRequestCallbackIds.values()).forEach(s=>{this.invokeCallback(s,{method:"requestEthereumAccounts",result:[b]})}),jl.accountRequestCallbackIds.clear())},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.metadata=e.metadata,this.accountsCallback=e.accountsCallback,this.chainCallback=e.chainCallback;const{session:n,ui:i,connection:f}=this.subscribe();this._session=n,this.connection=f,this.relayEventManager=new UBe,this.ui=i,this.ui.attach()}subscribe(){const e=_f.load(this.storage)||_f.create(this.storage),{linkAPIUrl:n}=this,i=new BBe({session:e,linkAPIUrl:n,listener:this}),f=this.isMobileWeb?new gN:new mUe;return i.connect(),{session:e,ui:f,connection:i}}resetAndReload(){this.connection.destroy().then(()=>{const e=_f.load(this.storage);e?.id===this._session.id&&ol.clearAll(),document.location.reload()}).catch(e=>{})}signEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:Lo(e.weiValue),data:$v(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?Lo(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?Lo(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?Lo(e.gasPriceInWei):null,gasLimit:e.gasLimit?Lo(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:Lo(e.weiValue),data:$v(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?Lo(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?Lo(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?Lo(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?Lo(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,n){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:$v(e,!0),chainId:n}})}getWalletLinkSession(){return this._session}sendRequest(e){let n=null;const i=td(8),f=b=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,e.method,b),n?.()};return new Promise((b,s)=>{n=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:f,onResetConnection:this.resetAndReload}),this.relayEventManager.callbacks.set(i,y=>{if(n?.(),ai(y))return s(new Error(y.errorMessage));b(y)}),this.publishWeb3RequestEvent(i,e)})}publishWeb3RequestEvent(e,n){const i={type:"WEB3_REQUEST",id:e,request:n};this.publishEvent("Web3Request",i,!0).then(f=>{}).catch(f=>{this.handleWeb3ResponseMessage(i.id,{method:n.method,errorMessage:f.message})}),this.isMobileWeb&&this.openCoinbaseWalletDeeplink(n.method)}openCoinbaseWalletDeeplink(e){if(this.ui instanceof gN)switch(e){case"requestEthereumAccounts":case"switchEthereumChain":return;default:window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0}),this.ui.openCoinbaseWalletDeeplink();break}}publishWeb3RequestCanceledEvent(e){const n={type:"WEB3_REQUEST_CANCELED",id:e};this.publishEvent("Web3RequestCanceled",n,!1).then()}publishEvent(e,n,i){return this.connection.publishEvent(e,n,i)}handleWeb3ResponseMessage(e,n){if(n.method==="requestEthereumAccounts"){jl.accountRequestCallbackIds.forEach(i=>this.invokeCallback(i,n)),jl.accountRequestCallbackIds.clear();return}this.invokeCallback(e,n)}handleErrorResponse(e,n,i){var f;const b=(f=i?.message)!==null&&f!==void 0?f:"Unspecified error message.";this.handleWeb3ResponseMessage(e,{method:n,errorMessage:b})}invokeCallback(e,n){const i=this.relayEventManager.callbacks.get(e);i&&(i(n),this.relayEventManager.callbacks.delete(e))}requestEthereumAccounts(){const{appName:e,appLogoUrl:n}=this.metadata,i={method:"requestEthereumAccounts",params:{appName:e,appLogoUrl:n}},f=td(8);return new Promise((b,s)=>{this.relayEventManager.callbacks.set(f,y=>{if(ai(y))return s(new Error(y.errorMessage));b(y)}),jl.accountRequestCallbackIds.add(f),this.publishWeb3RequestEvent(f,i)})}watchAsset(e,n,i,f,b,s){const y={method:"watchAsset",params:{type:e,options:{address:n,symbol:i,decimals:f,image:b},chainId:s}};let r=null;const o=td(8),v=c=>{this.publishWeb3RequestCanceledEvent(o),this.handleErrorResponse(o,y.method,c),r?.()};return r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:v,onResetConnection:this.resetAndReload}),new Promise((c,u)=>{this.relayEventManager.callbacks.set(o,l=>{if(r?.(),ai(l))return u(new Error(l.errorMessage));c(l)}),this.publishWeb3RequestEvent(o,y)})}addEthereumChain(e,n,i,f,b,s){const y={method:"addEthereumChain",params:{chainId:e,rpcUrls:n,blockExplorerUrls:f,chainName:b,iconUrls:i,nativeCurrency:s}};let r=null;const o=td(8),v=c=>{this.publishWeb3RequestCanceledEvent(o),this.handleErrorResponse(o,y.method,c),r?.()};return r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:v,onResetConnection:this.resetAndReload}),new Promise((c,u)=>{this.relayEventManager.callbacks.set(o,l=>{if(r?.(),ai(l))return u(new Error(l.errorMessage));c(l)}),this.publishWeb3RequestEvent(o,y)})}switchEthereumChain(e,n){const i={method:"switchEthereumChain",params:Object.assign({chainId:e},{address:n})};let f=null;const b=td(8),s=y=>{this.publishWeb3RequestCanceledEvent(b),this.handleErrorResponse(b,i.method,y),f?.()};return f=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:s,onResetConnection:this.resetAndReload}),new Promise((y,r)=>{this.relayEventManager.callbacks.set(b,o=>{if(f?.(),ai(o)&&o.errorCode)return r(en.provider.custom({code:o.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(ai(o))return r(new Error(o.errorMessage));y(o)}),this.publishWeb3RequestEvent(b,i)})}}jl.accountRequestCallbackIds=new Set;const mN="DefaultChainId",yN="DefaultJsonRpcUrl";class rZ{constructor(e){this._relay=null,this._addresses=[],this.metadata=e.metadata,this._storage=new ol("walletlink",vN),this.callback=e.callback||null;const n=this._storage.getItem(a9);if(n){const i=n.split(" ");i[0]!==""&&(this._addresses=i.map(f=>Bu(f)))}this.initializeRelay()}getSession(){const e=this.initializeRelay(),{id:n,secret:i}=e.getWalletLinkSession();return{id:n,secret:i}}async handshake(){await this._eth_requestAccounts()}get selectedAddress(){return this._addresses[0]||void 0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(yN))!==null&&e!==void 0?e:void 0}set jsonRpcUrl(e){this._storage.setItem(yN,e)}updateProviderInfo(e,n){var i;this.jsonRpcUrl=e;const f=this.getChainId();this._storage.setItem(mN,n.toString(10)),Lv(n)!==f&&((i=this.callback)===null||i===void 0||i.call(this,"chainChanged",tc(n)))}async watchAsset(e){const n=Array.isArray(e)?e[0]:e;if(!n.type)throw en.rpc.invalidParams("Type is required");if(n?.type!=="ERC20")throw en.rpc.invalidParams(`Asset of type '${n.type}' is not supported`);if(!n?.options)throw en.rpc.invalidParams("Options are required");if(!n?.options.address)throw en.rpc.invalidParams("Address is required");const i=this.getChainId(),{address:f,symbol:b,image:s,decimals:y}=n.options,o=await this.initializeRelay().watchAsset(n.type,f,b,y,s,i?.toString());return ai(o)?!1:!!o.result}async addEthereumChain(e){var n,i;const f=e[0];if(((n=f.rpcUrls)===null||n===void 0?void 0:n.length)===0)throw en.rpc.invalidParams("please pass in at least 1 rpcUrl");if(!f.chainName||f.chainName.trim()==="")throw en.rpc.invalidParams("chainName is a required field");if(!f.nativeCurrency)throw en.rpc.invalidParams("nativeCurrency is a required field");const b=Number.parseInt(f.chainId,16);if(b===this.getChainId())return!1;const s=this.initializeRelay(),{rpcUrls:y=[],blockExplorerUrls:r=[],chainName:o,iconUrls:v=[],nativeCurrency:c}=f,u=await s.addEthereumChain(b.toString(),y,v,r,o,c);if(ai(u))return!1;if(((i=u.result)===null||i===void 0?void 0:i.isApproved)===!0)return this.updateProviderInfo(y[0],b),null;throw en.rpc.internal("unable to add ethereum chain")}async switchEthereumChain(e){const n=e[0],i=Number.parseInt(n.chainId,16),b=await this.initializeRelay().switchEthereumChain(i.toString(10),this.selectedAddress||void 0);if(ai(b))throw b;const s=b.result;return s.isApproved&&s.rpcUrl.length>0&&this.updateProviderInfo(s.rpcUrl,i),null}async cleanup(){this.callback=null,this._relay&&this._relay.resetAndReload(),this._storage.clear()}_setAddresses(e,n){var i;if(!Array.isArray(e))throw new Error("addresses is not an array");const f=e.map(b=>Bu(b));JSON.stringify(f)!==JSON.stringify(this._addresses)&&(this._addresses=f,(i=this.callback)===null||i===void 0||i.call(this,"accountsChanged",f),this._storage.setItem(a9,f.join(" ")))}async request(e){const n=e.params||[];switch(e.method){case"eth_accounts":return[...this._addresses];case"eth_coinbase":return this.selectedAddress||null;case"net_version":return this.getChainId().toString(10);case"eth_chainId":return tc(this.getChainId());case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_ecRecover":case"personal_ecRecover":return this.ecRecover(e);case"personal_sign":return this.personalSign(e);case"eth_signTransaction":return this._eth_signTransaction(n);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(n);case"eth_sendTransaction":return this._eth_sendTransaction(n);case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":return this.signTypedData(e);case"wallet_addEthereumChain":return this.addEthereumChain(n);case"wallet_switchEthereumChain":return this.switchEthereumChain(n);case"wallet_watchAsset":return this.watchAsset(n);default:if(!this.jsonRpcUrl)throw en.rpc.internal("No RPC URL set for chain");return p7(e,this.jsonRpcUrl)}}_ensureKnownAddress(e){const n=Bu(e);if(!this._addresses.map(f=>Bu(f)).includes(n))throw new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const n=e.from?Bu(e.from):this.selectedAddress;if(!n)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(n);const i=e.to?Bu(e.to):null,f=e.value!=null?J0(e.value):BigInt(0),b=e.data?s9(e.data):Buffer.alloc(0),s=e.nonce!=null?Lv(e.nonce):null,y=e.gasPrice!=null?J0(e.gasPrice):null,r=e.maxFeePerGas!=null?J0(e.maxFeePerGas):null,o=e.maxPriorityFeePerGas!=null?J0(e.maxPriorityFeePerGas):null,v=e.gas!=null?J0(e.gas):null,c=e.chainId?Lv(e.chainId):this.getChainId();return{fromAddress:n,toAddress:i,weiValue:f,data:b,nonce:s,gasPriceInWei:y,maxFeePerGas:r,maxPriorityFeePerGas:o,gasLimit:v,chainId:c}}async ecRecover(e){const{method:n,params:i}=e;if(!Array.isArray(i))throw en.rpc.invalidParams();const b=await this.initializeRelay().sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:B6(i[0]),signature:B6(i[1]),addPrefix:n==="personal_ecRecover"}});if(ai(b))throw b;return b.result}getChainId(){var e;return Number.parseInt((e=this._storage.getItem(mN))!==null&&e!==void 0?e:"1",10)}async _eth_requestAccounts(){var e,n;if(this._addresses.length>0)return(e=this.callback)===null||e===void 0||e.call(this,"connect",{chainId:tc(this.getChainId())}),this._addresses;const f=await this.initializeRelay().requestEthereumAccounts();if(ai(f))throw f;if(!f.result)throw new Error("accounts received is empty");return this._setAddresses(f.result),(n=this.callback)===null||n===void 0||n.call(this,"connect",{chainId:tc(this.getChainId())}),this._addresses}async personalSign({params:e}){if(!Array.isArray(e))throw en.rpc.invalidParams();const n=e[1],i=e[0];this._ensureKnownAddress(n);const b=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:Bu(n),message:B6(i),addPrefix:!0,typedDataJson:null}});if(ai(b))throw b;return b.result}async _eth_signTransaction(e){const n=this._prepareTransactionParams(e[0]||{}),f=await this.initializeRelay().signEthereumTransaction(n);if(ai(f))throw f;return f.result}async _eth_sendRawTransaction(e){const n=s9(e[0]),f=await this.initializeRelay().submitEthereumTransaction(n,this.getChainId());if(ai(f))throw f;return f.result}async _eth_sendTransaction(e){const n=this._prepareTransactionParams(e[0]||{}),f=await this.initializeRelay().signAndSubmitEthereumTransaction(n);if(ai(f))throw f;return f.result}async signTypedData(e){const{method:n,params:i}=e;if(!Array.isArray(i))throw en.rpc.invalidParams();const f=o=>{const v={eth_signTypedData_v1:$y.hashForSignTypedDataLegacy,eth_signTypedData_v3:$y.hashForSignTypedData_v3,eth_signTypedData_v4:$y.hashForSignTypedData_v4,eth_signTypedData:$y.hashForSignTypedData_v4};return $v(v[n]({data:dBe(o)}),!0)},b=i[n==="eth_signTypedData_v1"?1:0],s=i[n==="eth_signTypedData_v1"?0:1];this._ensureKnownAddress(b);const r=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:Bu(b),message:f(s),typedDataJson:JSON.stringify(s,null,2),addPrefix:!1}});if(ai(r))throw r;return r.result}initializeRelay(){return this._relay||(this._relay=new jl({linkAPIUrl:vN,storage:this._storage,metadata:this.metadata,accountsCallback:this._setAddresses.bind(this),chainCallback:this.updateProviderInfo.bind(this)})),this._relay}}const iZ="SignerType",sZ=new ol("CBWSDK","SignerConfigurator");function SUe(){return sZ.getItem(iZ)}function TUe(t){sZ.setItem(iZ,t)}async function AUe(t){const{communicator:e,metadata:n,handshakeRequest:i,callback:f}=t;IUe(e,n,f).catch(()=>{});const b={id:crypto.randomUUID(),event:"selectSignerType",data:Object.assign(Object.assign({},t.preference),{handshakeRequest:i})},{data:s}=await e.postRequestAndWaitForResponse(b);return s}function PUe(t){const{signerType:e,metadata:n,communicator:i,callback:f}=t;switch(e){case"scw":return new SBe({metadata:n,callback:f,communicator:i});case"walletlink":return new rZ({metadata:n,callback:f})}}async function IUe(t,e,n){await t.onMessage(({event:f})=>f==="WalletLinkSessionRequest");const i=new rZ({metadata:e,callback:n});t.postMessage({event:"WalletLinkUpdate",data:{session:i.getSession()}}),await i.handshake(),t.postMessage({event:"WalletLinkUpdate",data:{connected:!0}})}const RUe=`Coinbase Wallet SDK requires the Cross-Origin-Opener-Policy header to not be set to 'same-origin'. This is to ensure that the SDK can communicate with the Coinbase Smart Wallet app.

Please see https://www.smartwallet.dev/guides/tips/popup-tips#cross-origin-opener-policy for more information.`,MUe=()=>{let t;return{getCrossOriginOpenerPolicy:()=>t===void 0?"undefined":t,checkCrossOriginOpenerPolicy:async()=>{if(typeof window>"u"){t="non-browser-env";return}try{const e=`${window.location.origin}${window.location.pathname}`,n=await fetch(e,{method:"HEAD"});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const i=n.headers.get("Cross-Origin-Opener-Policy");t=i??"null",t==="same-origin"&&console.error(RUe)}catch(e){console.error("Error checking Cross-Origin-Opener-Policy:",e.message),t="error"}}}},{checkCrossOriginOpenerPolicy:OUe,getCrossOriginOpenerPolicy:FUe}=MUe(),wN=420,xN=540,$Ue={isRed:!1,info:"Retry",svgWidth:"10",svgHeight:"11",path:nZ,defaultFillRule:"evenodd",defaultClipRule:"evenodd"},LUe="Popup was blocked. Try again.";let Dy=null;function DUe(t){const e=(window.innerWidth-wN)/2+window.screenX,n=(window.innerHeight-xN)/2+window.screenY;kUe(t);function i(){const b=`wallet_${crypto.randomUUID()}`,s=window.open(t,b,`width=${wN}, height=${xN}, left=${e}, top=${n}`);return s?.focus(),s||null}let f=i();if(!f){const b=BUe();return new Promise((s,y)=>{b.presentItem({autoExpand:!0,message:LUe,menuItems:[Object.assign(Object.assign({},$Ue),{onClick:()=>{f=i(),f?s(f):y(en.rpc.internal("Popup window was blocked")),b.clear()}})]})})}return Promise.resolve(f)}function NUe(t){t&&!t.closed&&t.close()}function kUe(t){const e={sdkName:DK,sdkVersion:km,origin:window.location.origin,coop:FUe()};for(const[n,i]of Object.entries(e))t.searchParams.append(n,i.toString())}function BUe(){if(!Dy){const t=document.createElement("div");t.className="-cbwsdk-css-reset",document.body.appendChild(t),Dy=new eZ,Dy.attach(t)}return Dy}class UUe{constructor({url:e=bUe,metadata:n,preference:i}){this.popup=null,this.listeners=new Map,this.postMessage=async f=>{(await this.waitForPopupLoaded()).postMessage(f,this.url.origin)},this.postRequestAndWaitForResponse=async f=>{const b=this.onMessage(({requestId:s})=>s===f.id);return this.postMessage(f),await b},this.onMessage=async f=>new Promise((b,s)=>{const y=r=>{if(r.origin!==this.url.origin)return;const o=r.data;f(o)&&(b(o),window.removeEventListener("message",y),this.listeners.delete(y))};window.addEventListener("message",y),this.listeners.set(y,{reject:s})}),this.disconnect=()=>{NUe(this.popup),this.popup=null,this.listeners.forEach(({reject:f},b)=>{f(en.provider.userRejectedRequest("Request rejected")),window.removeEventListener("message",b)}),this.listeners.clear()},this.waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?(this.popup.focus(),this.popup):(this.popup=await DUe(this.url),this.onMessage(({event:f})=>f==="PopupUnload").then(this.disconnect).catch(()=>{}),this.onMessage(({event:f})=>f==="PopupLoaded").then(f=>{this.postMessage({requestId:f.id,data:{version:km,metadata:this.metadata,preference:this.preference,location:window.location.toString()}})}).then(()=>{if(!this.popup)throw en.rpc.internal();return this.popup})),this.url=new URL(e),this.metadata=n,this.preference=i}}function jUe(t){const e=aBe(zUe(t),{shouldIncludeStack:!0}),n=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");return n.searchParams.set("version",km),n.searchParams.set("code",e.code.toString()),n.searchParams.set("message",e.message),Object.assign(Object.assign({},e),{docUrl:n.href})}function zUe(t){var e;if(typeof t=="string")return{message:t,code:or.rpc.internal};if(ai(t)){const n=t.errorMessage,i=(e=t.errorCode)!==null&&e!==void 0?e:n.match(/(denied|rejected)/i)?or.provider.userRejectedRequest:void 0;return Object.assign(Object.assign({},t),{message:n,code:i,data:{method:t.method}})}return t}class WUe extends Zd{}var GUe=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,i=Object.getOwnPropertySymbols(t);f<i.length;f++)e.indexOf(i[f])<0&&Object.prototype.propertyIsEnumerable.call(t,i[f])&&(n[i[f]]=t[i[f]]);return n};class VUe extends WUe{constructor(e){var{metadata:n}=e,i=e.preference,{keysUrl:f}=i,b=GUe(i,["keysUrl"]);super(),this.signer=null,this.isCoinbaseWallet=!0,this.metadata=n,this.preference=b,this.communicator=new UUe({url:f,metadata:n,preference:b});const s=SUe();s&&(this.signer=this.initSigner(s))}async request(e){try{if(EBe(e),!this.signer)switch(e.method){case"eth_requestAccounts":{const n=await this.requestSignerSelection(e),i=this.initSigner(n);await i.handshake(e),this.signer=i,TUe(n);break}case"wallet_sendCalls":{const n=this.initSigner("scw");await n.handshake({method:"handshake"});const i=await n.request(e);return await n.cleanup(),i}case"wallet_getCallsStatus":return p7(e,CUe);case"net_version":return 1;case"eth_chainId":return tc(1);default:throw en.provider.unauthorized("Must call 'eth_requestAccounts' before other methods")}return await this.signer.request(e)}catch(n){const{code:i}=n;return i===or.provider.unauthorized&&this.disconnect(),Promise.reject(jUe(n))}}async enable(){return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'),await this.request({method:"eth_requestAccounts"})}async disconnect(){var e;await((e=this.signer)===null||e===void 0?void 0:e.cleanup()),this.signer=null,ol.clearAll(),this.emit("disconnect",en.provider.disconnected("User initiated disconnection"))}requestSignerSelection(e){return AUe({communicator:this.communicator,preference:this.preference,metadata:this.metadata,handshakeRequest:e,callback:this.emit.bind(this)})}initSigner(e){return PUe({signerType:e,metadata:this.metadata,communicator:this.communicator,callback:this.emit.bind(this)})}}function HUe(t){if(t){if(!["all","smartWalletOnly","eoaOnly"].includes(t.options))throw new Error(`Invalid options: ${t.options}`);if(t.attribution&&t.attribution.auto!==void 0&&t.attribution.dataSuffix!==void 0)throw new Error("Attribution cannot contain both auto and dataSuffix properties")}}function YUe(t){var e;const n={metadata:t.metadata,preference:t.preference};return(e=CBe(n))!==null&&e!==void 0?e:new VUe(n)}const XUe={options:"all"};function bN(t){var e;new ol("CBWSDK").setItem("VERSION",km),OUe();const i={metadata:{appName:t.appName||"Dapp",appLogoUrl:t.appLogoUrl||"",appChainIds:t.appChainIds||[]},preference:Object.assign(XUe,(e=t.preference)!==null&&e!==void 0?e:{})};HUe(i.preference);let f=null;return{getProvider:()=>(f||(f=YUe(i)),f)}}var KUe=({as:t="div",...e},n)=>O.jsx(t,{...e,ref:n}),ZUe=H.forwardRef(KUe),JUe="https://challenges.cloudflare.com/turnstile/v0/api.js",b7="cf-turnstile-script",QUe="cf-turnstile",C7="onloadTurnstileCallback",aZ=t=>!!document.getElementById(t),_Ue=({render:t="explicit",onLoadCallbackName:e=C7,scriptOptions:{nonce:n="",defer:i=!0,async:f=!0,id:b="",appendTo:s,onError:y,crossOrigin:r=""}={}})=>{let o=b||b7;if(aZ(o))return;let v=document.createElement("script");v.id=o,v.src=`${JUe}?onload=${e}&render=${t}`,!document.querySelector(`script[src="${v.src}"]`)&&(v.defer=!!i,v.async=!!f,n&&(v.nonce=n),r&&(v.crossOrigin=r),y&&(v.onerror=y,delete window[e]),(s==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(v))},Yc={normal:{width:300,height:65},compact:{width:150,height:140},invisible:{width:0,height:0,overflow:"hidden"},flexible:{minWidth:300,width:"100%",height:65},interactionOnly:{width:"fit-content",height:"auto",display:"flex"}};function qUe(t){if(t!=="invisible"&&t!=="interactionOnly")return t}function eje(t=b7){let[e,n]=H.useState(!1);return H.useEffect(()=>{let i=()=>{aZ(t)&&n(!0)},f=new MutationObserver(i);return f.observe(document,{childList:!0,subtree:!0}),i(),()=>{f.disconnect()}},[t]),e}var Nv="unloaded",oZ,tje=new Promise((t,e)=>{oZ={resolve:t,reject:e},Nv==="ready"&&t(void 0)}),nje=(t=C7)=>(Nv==="unloaded"&&(Nv="loading",window[t]=()=>{oZ.resolve(),Nv="ready",delete window[t]}),tje),lZ=H.forwardRef((t,e)=>{let{scriptOptions:n,options:i={},siteKey:f,onWidgetLoad:b,onSuccess:s,onExpire:y,onError:r,onBeforeInteractive:o,onAfterInteractive:v,onUnsupported:c,onTimeout:u,onLoadScript:l,id:a,style:d,as:p="div",injectScript:h=!0,rerenderOnCallbackChange:g=!1,...m}=t,x=i.size,w=H.useCallback(()=>typeof x>"u"?{}:i.execution==="execute"?Yc.invisible:i.appearance==="interaction-only"?Yc.interactionOnly:Yc[x],[i.execution,x,i.appearance]),[C,E]=H.useState(w()),T=H.useRef(null),[S,A]=H.useState(!1),P=H.useRef(),R=H.useRef(!1),L=a||QUe,D=H.useRef({onSuccess:s,onError:r,onExpire:y,onBeforeInteractive:o,onAfterInteractive:v,onUnsupported:c,onTimeout:u});H.useEffect(()=>{g||(D.current={onSuccess:s,onError:r,onExpire:y,onBeforeInteractive:o,onAfterInteractive:v,onUnsupported:c,onTimeout:u})});let F=n?.id||b7,$=eje(F),N=n?.onLoadCallbackName||C7,k=i.appearance||"always",j=H.useMemo(()=>({sitekey:f,action:i.action,cData:i.cData,theme:i.theme||"auto",language:i.language||"auto",tabindex:i.tabIndex,"response-field":i.responseField,"response-field-name":i.responseFieldName,size:qUe(x),retry:i.retry||"auto","retry-interval":i.retryInterval||8e3,"refresh-expired":i.refreshExpired||"auto","refresh-timeout":i.refreshTimeout||"auto",execution:i.execution||"render",appearance:i.appearance||"always","feedback-enabled":i.feedbackEnabled||!0,callback:G=>{R.current=!0,g?s?.(G):D.current.onSuccess?.(G)},"error-callback":g?r:(...G)=>D.current.onError?.(...G),"expired-callback":g?y:(...G)=>D.current.onExpire?.(...G),"before-interactive-callback":g?o:(...G)=>D.current.onBeforeInteractive?.(...G),"after-interactive-callback":g?v:(...G)=>D.current.onAfterInteractive?.(...G),"unsupported-callback":g?c:(...G)=>D.current.onUnsupported?.(...G),"timeout-callback":g?u:(...G)=>D.current.onTimeout?.(...G)}),[i.action,i.appearance,i.cData,i.execution,i.language,i.refreshExpired,i.responseField,i.responseFieldName,i.retry,i.retryInterval,i.tabIndex,i.theme,i.feedbackEnabled,i.refreshTimeout,f,x,g,g?s:null,g?r:null,g?y:null,g?o:null,g?v:null,g?c:null,g?u:null]),W=H.useCallback(()=>typeof window<"u"&&!!window.turnstile,[]);return H.useEffect(function(){h&&!S&&_Ue({onLoadCallbackName:N,scriptOptions:{...n,id:F}})},[h,S,n,F]),H.useEffect(function(){Nv!=="ready"&&nje(N).then(()=>A(!0)).catch(console.error)},[]),H.useEffect(function(){if(!T.current||!S)return;let G=!1;return(async()=>{if(G||!T.current)return;let K=window.turnstile.render(T.current,j);P.current=K,P.current&&b?.(P.current)})(),()=>{G=!0,P.current&&(window.turnstile.remove(P.current),R.current=!1)}},[L,S,j]),H.useImperativeHandle(e,()=>{let{turnstile:G}=window;return{getResponse(){if(!G?.getResponse||!P.current||!W()){console.warn("Turnstile has not been loaded");return}return G.getResponse(P.current)},async getResponsePromise(K=3e4,z=100){return new Promise((X,U)=>{let Z,V=async()=>{if(R.current&&window.turnstile&&P.current)try{let J=window.turnstile.getResponse(P.current);return Z&&clearTimeout(Z),J?X(J):U(new Error("No response received"))}catch(J){return Z&&clearTimeout(Z),console.warn("Failed to get response",J),U(new Error("Failed to get response"))}Z||(Z=setTimeout(()=>{Z&&clearTimeout(Z),U(new Error("Timeout"))},K)),await new Promise(J=>setTimeout(J,z)),await V()};V()})},reset(){if(!G?.reset||!P.current||!W()){console.warn("Turnstile has not been loaded");return}i.execution==="execute"&&E(Yc.invisible);try{R.current=!1,G.reset(P.current)}catch(K){console.warn(`Failed to reset Turnstile widget ${P}`,K)}},remove(){if(!G?.remove||!P.current||!W()){console.warn("Turnstile has not been loaded");return}E(Yc.invisible),R.current=!1,G.remove(P.current),P.current=null},render(){if(!G?.render||!T.current||!W()||P.current){console.warn("Turnstile has not been loaded or container not found");return}let K=G.render(T.current,j);return P.current=K,P.current&&b?.(P.current),i.execution!=="execute"&&E(x?Yc[x]:{}),K},execute(){if(i.execution!=="execute"){console.warn('Execution mode is not set to "execute"');return}if(!G?.execute||!T.current||!P.current||!W()){console.warn("Turnstile has not been loaded or container not found");return}G.execute(T.current,j),E(x?Yc[x]:{})},isExpired(){return!G?.isExpired||!P.current||!W()?(console.warn("Turnstile has not been loaded"),!1):G.isExpired(P.current)}}},[P,i.execution,x,j,T,W,S,b]),H.useEffect(()=>{$&&!S&&window.turnstile&&A(!0)},[S,$]),H.useEffect(()=>{E(w())},[i.execution,x,k]),H.useEffect(()=>{!$||typeof l!="function"||l()},[$]),O.jsx(ZUe,{ref:T,as:p,id:L,style:{...C,...d},...m})});lZ.displayName="Turnstile";const rje=t=>{let[e,n]=H.useState("auto");return H.useEffect((()=>{let i=new ResizeObserver((f=>{n(f[0]?.contentRect.height??"auto")}));return t.current&&i.observe(t.current),()=>{t.current&&i.unobserve(t.current)}}),[t.current]),e};function ije(t){let{logout:e}=H.useContext(Mp);return Hx("logout",t),{logout:e}}const sje=ae.div.withConfig({displayName:"Column",componentId:"sc-cfc52180-0"})(["display:flex;flex-direction:column;"]);function Hg(t){return["ethereum","solana"].includes(t.chainType)}function uZ(t){let e=t.replace("eip155:","");if(e)return parseInt(e);throw Error("Chain ID not compatible with CAIP-2 format.")}const cZ=t=>t.filter((e=>e.method==="wallets"||(e.method==="exchange"?e.provider==="coinbase":e.method==="card"||e.method==="payment-request"?e.provider==="coinbase"||e.provider==="moonpay":(e.method,!1)))),CN={[Ea.id]:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",[mS.id]:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",[ou.id]:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",[vS.id]:"0x5fd84259d66Cd46123540766Be93DFE6D43130D7",[Sa.id]:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",[gS.id]:"0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582",[po.id]:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",[pS.id]:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",[fo.id]:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",[fS.id]:"0x5425890298aed601595a70ab815c96711a31bc65",[ho.id]:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",[hS.id]:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"},EN=({address:t,appConfig:e,fundWalletConfig:n,methodScreen:i,chainIdOverride:f,comingFromSendTransactionScreen:b=!1})=>{let s,y;if(!e.fundingConfig)throw Error("Wallet funding is not enabled");let r=cZ(e.fundingConfig.options);if(r.length<1)throw Error("Wallet funding is not enabled");s=f||(n?.chain?n.chain.id:uZ(e.fundingConfig.defaultRecommendedCurrency.chain));let o=e.chains.find((d=>d.id===s));if(!o)throw new ge(`Funding chain ${s} is not in PrivyProvider chains list`);let v=n?.amount??e.fundingConfig.defaultRecommendedAmount,c=!1;function u(){if(!s)return;let d=CN[s];r.find((p=>p.method==="wallets"))&&!d&&console.warn("Attempting to fund with USDC on chain where USDC address is not known. Funding via external wallet will be disabled."),y=d,c=!0}var l;n&&"asset"in n?n.asset==="USDC"?u():typeof n.asset!="string"&&"erc20"in n.asset&&(l=y=n.asset.erc20,c=l===CN[o.id]):e.fundingConfig.defaultRecommendedCurrency.asset==="USDC"&&u();let a=n?.defaultFundingMethod;return{chainType:"ethereum",address:t,amount:v,chain:o,erc20Address:y,erc20ContractInfo:c?{symbol:"USDC",decimals:6}:void 0,isUSDC:c,methodScreen:i,supportedOptions:r,comingFromSendTransactionScreen:b,defaultFundingMethod:a,usingDefaultFundingMethod:!!a,preferredCardProvider:n?.card?.preferredProvider,crossChainBridgingEnabled:e.fundingConfig.crossChainBridgingEnabled??!1,solanaChain:"solana:mainnet",uiConfig:n&&"uiConfig"in n?n.uiConfig:void 0,externalSolanaFundingScreen:null}},aje=t=>t.reduce(((e,n)=>!e||e.walletIndex<n.walletIndex?n:e),null),oje=async({appConfig:t,getAccessToken:e,initializeWalletProxy:n,user:i,privy:f,emitPrivyEvent:b,recoverEmbeddedWallet:s,setModalData:y,openModal:r,setUser:o,options:v,timeoutDuration:c,refreshSessionAndUser:u,chainType:l})=>{let[a,d]=await Promise.all([n(c),e()]);if(!d||!i)throw b("createWallet","onError",we.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");if(!a&&t.customAuth?.enabled)throw b("createWallet","onError",we.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");if(v&&"walletIndex"in v&&typeof v.walletIndex=="number"){if(t.embeddedWallets.mode==="user-controlled-server-wallets-only")throw b("createWallet","onError",we.INVALID_DATA),Error("Invalid input, use `createAdditional` instead of `walletIndex` to create additional wallets.");return SN({accessToken:d,appConfig:t,privy:f,emitPrivyEvent:b,openModal:r,proxy:a,refreshSessionAndUser:u,recoverEmbeddedWallet:s,setModalData:y,user:i,walletIndex:v.walletIndex,chainType:l,setUser:o})}let p=v&&"createAdditional"in v&&v.createAdditional,h=KT(i,{chainType:l});if(h[0]&&!p)throw b("createWallet","onError",we.EMBEDDED_WALLET_ALREADY_EXISTS),Error("User already has an embedded wallet.");return SN({accessToken:d,appConfig:t,privy:f,emitPrivyEvent:b,openModal:r,proxy:a,recoverEmbeddedWallet:s,setModalData:y,user:i,walletIndex:(aje(h)?.walletIndex??-1)+1,chainType:l,refreshSessionAndUser:u,setUser:o})};let SN=async({accessToken:t,appConfig:e,privy:n,emitPrivyEvent:i,proxy:f,refreshSessionAndUser:b,recoverEmbeddedWallet:s,user:y,walletIndex:r,setModalData:o,openModal:v,chainType:c,setUser:u})=>{if(r<0)throw i("createWallet","onError",we.EMBEDDED_WALLET_CREATE_ERROR),Error(`A negative walletIndex (${r}) is invalid.`);let l=io(y);if(r>0&&!l)throw i("createWallet","onError",we.EMBEDDED_WALLET_NOT_FOUND),Error("Must have an existing embedded wallet to create an additional wallet.");if(e.embeddedWallets.requireUserOwnedRecoveryOnCreate&&e.embeddedWallets.mode==="user-controlled-server-wallets-only")throw i("createWallet","onError",we.EMBEDDED_WALLET_CREATE_ERROR),Error("User owned recovery not yet supported for this app.");if(!l&&e.embeddedWallets.requireUserOwnedRecoveryOnCreate)return await TN({emitPrivyEvent:i,setModalData:o,openModal:v,chainType:c});let a=KT(y,{chainType:c,walletIndex:r})[0];if(a)return{user:y,account:a};if(r===0&&!f)return TN({emitPrivyEvent:i,setModalData:o,openModal:v,chainType:c});if(!f)throw i("createWallet","onError",we.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");return nX({appConfig:e,walletIndex:r,chainType:c,user:y,accessToken:t,proxy:f,refreshSessionAndUser:b,privy:n,recoverEmbeddedWallet:s,setUser:u})},TN=async({emitPrivyEvent:t,setModalData:e,openModal:n,chainType:i})=>new Promise(((f,b)=>{e({createWallet:{onSuccess:({user:s,account:y})=>{t("createWallet","onSuccess",{wallet:y}),f({user:s,account:y})},onFailure:s=>{t("createWallet","onError",we.UNKNOWN_EMBEDDED_WALLET_ERROR),b(s)},callAuthOnSuccessOnClose:!1,shouldCreateEth:i==="ethereum",shouldCreateSol:i==="solana"}}),n(lu)}));const lje=()=>{let t=it(),e=uh(),{setModalData:n}=lt(),{initializeWalletProxy:i,recoverEmbeddedWallet:f,setUser:b,openModal:s,refreshSessionAndUser:y,privy:r,client:o}=et();return{create:async({chainType:v,options:c,latestUser:u})=>{let l=u;if(l||(l=await y()),!l)throw e("createWallet","onError",we.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");return await oje({appConfig:t,privy:r,getAccessToken:()=>o.getAccessToken(),refreshSessionAndUser:y,initializeWalletProxy:i,user:l,emitPrivyEvent:e,recoverEmbeddedWallet:f,setModalData:n,openModal:s,setUser:b,options:c,timeoutDuration:qMe,chainType:v})}}};function uje(t){let{create:e}=lje();return Hx("createWallet",t),{createWallet:async n=>{n&&"target"in n&&n&&(n=void 0);let{account:i}=await e({chainType:"ethereum",options:n});return i}}}const cje=async({emitPrivyEvent:t,getAccessToken:e,initializeWalletProxy:n,refreshSessionAndUser:i,user:f,appConfig:b},{privateKey:s,chainType:y,additionalSigners:r})=>{if(!f)throw t("linkAccount","onError",we.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new ge("User must be authenticated before linking an account.");let o=b.embeddedWallets.mode==="user-controlled-server-wallets-only"?"tee":"on-device";if(r&&o==="on-device")throw new ge("Specifying additionalSigners is only supported for TEE execution and this app uses On-device execution. Learn more https://docs.privy.io/recipes/tee-wallet-migration-guide");let[v,c]=await Promise.all([e(),n(15e3)]);if(!c||!v)throw t("linkAccount","onError",we.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new ge("User must be authenticated before linking an account.");let{address:u}=await c.importWallet({privateKey:s,accessToken:v,chainType:y,mode:o,additionalSigners:r}),l=await i(),a=uC(l),d=a?.find((p=>p.address===u));if(!d)throw t("createWallet","onError",we.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to import wallet");return t("createWallet","onSuccess",{wallet:d}),d},dje=()=>{let{user:t}=Vt(),{client:e,refreshSessionAndUser:n,initializeWalletProxy:i}=et(),f=uh(),b=it();return{importWallet:H.useCallback((({privateKey:s,additionalSigners:y})=>cje({getAccessToken:()=>e.getAccessToken(),user:t,initializeWalletProxy:i,refreshSessionAndUser:n,emitPrivyEvent:f,appConfig:b},{privateKey:s,chainType:"ethereum",additionalSigners:y})),[t,e,n,i,f,b])}},dZ=()=>{let{importWallet:t}=dje(),{createWallet:e}=uje();return{...H.useContext(Mp),importWallet:t,createWallet:e}};function hje({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{fillRule:"evenodd",d:"M8.603 3.799A4.49 4.49 0 0 1 12 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 0 1 3.498 1.307 4.491 4.491 0 0 1 1.307 3.497A4.49 4.49 0 0 1 21.75 12a4.49 4.49 0 0 1-1.549 3.397 4.491 4.491 0 0 1-1.307 3.497 4.491 4.491 0 0 1-3.497 1.307A4.49 4.49 0 0 1 12 21.75a4.49 4.49 0 0 1-3.397-1.549 4.49 4.49 0 0 1-3.498-1.306 4.491 4.491 0 0 1-1.307-3.498A4.49 4.49 0 0 1 2.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 0 1 1.307-3.497 4.49 4.49 0 0 1 3.497-1.307Zm7.007 6.387a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const fje=H.forwardRef(hje);function pje({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{fillRule:"evenodd",d:"M4.5 3.75a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-15Zm4.125 3a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Zm-3.873 8.703a4.126 4.126 0 0 1 7.746 0 .75.75 0 0 1-.351.92 7.47 7.47 0 0 1-3.522.877 7.47 7.47 0 0 1-3.522-.877.75.75 0 0 1-.351-.92ZM15 8.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15ZM14.25 12a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H15a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15Z",clipRule:"evenodd"}))}const vje=H.forwardRef(pje);function gje({title:t,titleId:e,...n},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?H.createElement("title",{id:e},t):null,H.createElement("path",{fillRule:"evenodd",d:"M12.516 2.17a.75.75 0 0 0-1.032 0 11.209 11.209 0 0 1-7.877 3.08.75.75 0 0 0-.722.515A12.74 12.74 0 0 0 2.25 9.75c0 5.942 4.064 10.933 9.563 12.348a.749.749 0 0 0 .374 0c5.499-1.415 9.563-6.406 9.563-12.348 0-1.39-.223-2.73-.635-3.985a.75.75 0 0 0-.722-.516l-.143.001c-2.996 0-5.717-1.17-7.734-3.08Zm3.094 8.016a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const mje=H.forwardRef(gje);function Yg(t){return t?{"privy-ui":"t"}:void 0}class Nf{async authenticate(){if(!this.api)throw new ge("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new ge("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(Fhe,{email:this.meta.email,code:this.meta.emailCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Ht(e)}}async link(){if(!this.api)throw new ge("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new ge("Email and email code must be set prior to calling authenticate.");try{return await this.api.post($he,{email:this.meta.email,code:this.meta.emailCode})}catch(e){throw Ht(e)}}async sendCodeEmail({email:e,captchaToken:n,withPrivyUi:i}){if(!this.api)throw new ge("Auth flow has no API instance");if(e&&(this.meta.email=e),n&&(this.meta.captchaToken=n),!this.meta.email)throw new ge("Email must be set when initialzing authentication.");let f=Yg(i);try{return await this.api.post(Ohe,{email:this.meta.email,token:this.meta.captchaToken},{headers:{...f}})}catch(b){throw Ht(b)}}constructor({email:e,captchaToken:n,disableSignup:i}){this.meta={email:e,captchaToken:n,disableSignup:i??!1}}}class yje extends Nf{async link(){if(!this.api)throw new ge("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode||!this.meta.oldAddress)throw new ge("Email, email code, and an old email address must be set prior to calling update.");try{return await this.api.post(Dhe,{oldAddress:this.meta.oldAddress,newAddress:this.meta.email,code:this.meta.emailCode})}catch(e){throw Ht(e)}}constructor(e,n,i){super({email:n,captchaToken:i}),this.meta={email:n,captchaToken:i,oldAddress:e,disableSignup:!1}}}class AN{get meta(){return this._meta}async authenticate(){if(!this.api)throw new ge("Auth flow has no API instance");if(!this.meta.channelToken)throw new ge("Auth flow must be initialized first");try{let e=await this.api.post(Ahe,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});if(!e)throw new ge("No response from authentication");return e}catch(e){throw Ht(e)}}async link(){if(!this.api)throw new ge("Auth flow has no API instance");try{return await this.api.post(Phe,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid})}catch(e){throw Ht(e)}}async _startChannelOnce(){if(!this.api)throw new ge("Auth flow has no API instance");let e=await this.api.post(The,{token:this.captchaToken});tn.isMobile&&!tn.isIOS&&e.connect_uri&&_H(e.connect_uri,"_blank"),this._meta={...this._meta,connectUri:e.connect_uri,channelToken:e.channel_token}}async initializeFarcasterConnect(){if(!this.api)throw new ge("Auth flow has no API instance");await this.startChannelOnce.execute()}async _pollForReady(){if(!this.api)throw new ge("Auth flow has no API instance");if(!this.meta.channelToken)throw new ge("Auth flow must be initialized first");let e=await this.api.get(Ihe,{headers:{"farcaster-channel-token":this.meta.channelToken}});return e.state==="completed"&&(this.message=e.message,this.signature=e.signature,this.fid=e.fid,!0)}constructor(e,n=!1){this._meta={disableSignup:!1},this.captchaToken=e,this.startChannelOnce=new Li(this._startChannelOnce.bind(this)),this.pollForReady=new Li(this._pollForReady.bind(this)),this._meta.disableSignup=n}}function E7(){return typeof window<"u"&&window.location.protocol==="chrome-extension:"&&"chrome"in window}function hZ(){return E7()?window.chrome?.runtime?.id:void 0}function f9(){return E7()?typeof window.chrome?.identity?.launchWebAuthFlow=="function":!1}async function PN(t){return new Promise(((e,n)=>{f9()?window.chrome.identity.launchWebAuthFlow({url:t,interactive:!0},(async i=>{try{let f=(function(){return E7()?window.chrome?.runtime?.lastError?.message:void 0})();if(f||!i){let o=`WebAuthFlow failed: ${f||"Response URI missing"}`;throw Error(o)}let b=new URL(i),s=hZ();if(!s)throw Error("Invalid extension context");if(b.protocol==="chrome-extension:"){if(b.hostname!==s)throw Error("Invalid responseUri origin")}else{if(b.protocol!=="https:")throw Error("Invalid responseUri protocol");{let o=b.hostname.split(".");if(o.length!==3||o[1]!=="chromiumapp"||o[2]!=="org"||o[0]!==s)throw Error("Invalid responseUri origin")}}let y=b.searchParams.get("privy_oauth_state"),r=b.searchParams.get("privy_oauth_code");if(!y||!r)throw Error("Invalid responseUri - missing required parameters");e({privyOAuthState:y,privyOAuthCode:r})}catch(f){n(f)}})):n(Error("Chrome identity API not available"))}))}class Sf{addCaptchaToken(e){this.meta.captchaToken=e}isActive(){return!!(this.meta.authorizationCode&&this.meta.stateCode&&this.meta.provider)}async authenticate(){if(!this.api)throw new ge("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new ge("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenticate.");if(this.meta.authorizationCode==="undefined")throw new ge("User denied confirmation during OAuth flow");let e=tOe();try{let n=await this.api.post(Tj,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});return Ct.del(hv),Ct.del(lw),Ct.del(Rv),n}catch(n){let i=Ht(n);throw i.privyErrorCode?new ge(i.message||"Invalid code during OAuth flow.",void 0,i.privyErrorCode):i.message==="User denied confirmation during OAuth flow"?new ge("Invalid code during oauth flow.",void 0,we.OAUTH_USER_DENIED):new ge("Invalid code during OAuth flow.",void 0,we.UNKNOWN_AUTH_ERROR)}}async link(){if(!this.api)throw new ge("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new ge("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling link.");if(this.meta.authorizationCode==="undefined")throw new ge("User denied confirmation during OAuth flow");let e=Ct.get(hv);if(!e)throw new ge("Authentication error.");try{let n=await this.api.post(Aj,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e});return Ct.del(hv),n}catch(n){throw Ht(n)}}async getAuthorizationUrl(){if(!this.api)throw new ge("Auth flow has no API instance");if(!this.meta.provider)throw new ge("Provider must be set when initializing OAuth authentication.");let e=Wx();Ct.put(hv,e);let n=$T();Ct.put(ow,n);let i=await LT(e);this.meta.withPrivyUi||Ct.put(lw,!0),this.meta.disableSignup?Ct.put(Rv,!0):Ct.del(Rv);let f=Yg(this.meta.withPrivyUi),b=window.location.href,s=(function(){let y=hZ();if(y)return`https://${y}.chromiumapp.org`})();s&&(b=s);try{return await this.api.post(Sj,{provider:this.meta.provider,redirect_to:this.meta.customOAuthRedirectUrl||b,token:this.meta.captchaToken,code_challenge:i,state_code:n},{headers:{...f}})}catch(y){throw Ht(y)}}constructor(e){this.meta=e}}const wje=({style:t})=>O.jsx(bz,{style:{color:"var(--privy-color-error)",...t}});let IN={google:{name:"Google",component:aY},discord:{name:"Discord",component:iY},github:{name:"Github",component:sY},linkedin:{name:"LinkedIn",component:uY},twitter:{name:"Twitter",component:fY},spotify:{name:"Spotify",component:cY},instagram:{name:"Instagram",component:oY},tiktok:{name:"Tiktok",component:dY},line:{name:"LINE",component:lY},twitch:{name:"Twitch",component:hY},apple:{name:"Apple",component:rY}},xje=({iconUrl:t,...e})=>Ze.createElement("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},Ze.createElement("foreignObject",{x:"2",y:"2",width:"29",height:"28"},Ze.createElement("img",{src:t,width:"29",height:"28",style:{display:"block",objectFit:"contain",borderRadius:"4px"},alt:"Provider icon"})));const K6=(t,e)=>{if(t in IN)return IN[t];if(hm(t)&&e){let n=e.find((i=>i.provider===t));if(n)return{name:n.provider_display_name,component:i=>Ze.createElement(xje,{...i,iconUrl:n.provider_icon_url})}}return{name:"Unknown",component:wje}};function bje(){let t=new URLSearchParams(window.location.search),e=t.get("privy_oauth_code"),n=t.get("privy_oauth_state"),i=t.get("privy_oauth_provider");if(!e||!n||!i)return{inProgress:!1};let f=!1;try{f=!!window.opener.location.origin}catch{}return{inProgress:!0,authorizationCode:e,stateCode:n,provider:i,withPrivyUi:!Ct.get(lw),popupFlow:window.opener!==null&&f,disableSignup:!!Ct.get(Rv)}}class wf{async initRegisterFlow(e){if(!this.api)throw new ge("Auth flow has no API instance");this.authenticateForRegistration=!0,this.meta.initRegisterResponse=await this.initRegisterOnce.execute(e)}async initAuthenticationFlow(e){if(!this.api)throw new ge("Auth flow has no API instance");this.authenticateForRegistration=!1,this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute(e)}async initLinkFlow(){if(!this.api)throw new ge("Auth flow has no API instance");this.meta.initLinkResponse=await this.initLinkOnce.execute()}async register(){let e=await Ko(()=>import("./index-D9std1Z8.js"),[]);if(!this.api)throw new ge("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new ge("WebAuthn is not supported in this browser");this.meta.initRegisterResponse||(this.meta.initRegisterResponse=await this.initRegisterOnce.execute());try{let n=this.meta.initRegisterResponse.options,i=await e.startRegistration({optionsJSON:this._transformInitLinkOptionsToCamelCase(n)});return this.meta.setPasskeyAuthState?.({status:"submitting-response"}),await this.api.post(qhe,{relying_party:this.meta.initRegisterResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(i)})}catch(n){throw n.name==="NotAllowedError"?new ge("Passkey request timed out or rejected by user.",void 0,we.PASSKEY_NOT_ALLOWED):Ht(n)}}async authenticate(){if(this.authenticateForRegistration)return this.register();let e=await Ko(()=>import("./index-D9std1Z8.js"),[]);if(!this.api)throw new ge("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new ge("WebAuthn is not supported in this browser");this.meta.initAuthenticateResponse||(this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute());let n=this.meta.allowedCredentialsIds?.map((i=>({type:"public-key",id:i})))??this.meta.initAuthenticateResponse.options.allow_credentials;try{let i=await e.startAuthentication({optionsJSON:this._transformInitAuthenticateOptionsToCamelCase({...this.meta.initAuthenticateResponse.options,allow_credentials:n})});return this.meta.setPasskeyAuthState?.({status:"submitting-response"}),await this.api.post(_he,{relying_party:this.meta.initAuthenticateResponse.relying_party,challenge:this.meta.initAuthenticateResponse.options.challenge,authenticator_response:this._transformAuthenticationResponseToSnakeCase(i)})}catch(i){throw i.name==="NotAllowedError"?new ge("Passkey request timed out or rejected by user.",void 0,we.PASSKEY_NOT_ALLOWED):Ht(i)}}async link(){let e=await Ko(()=>import("./index-D9std1Z8.js"),[]);if(!this.api)throw new ge("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new ge("WebAuthn is not supported in this browser");this.meta.initLinkResponse||(this.meta.initLinkResponse=await this.initLinkOnce.execute());try{let n=this.meta.initLinkResponse.options,i=await e.startRegistration({optionsJSON:this._transformInitLinkOptionsToCamelCase(n)});return this.meta.setPasskeyAuthState?.({status:"submitting-response"}),await this.api.post(Qhe,{relying_party:this.meta.initLinkResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(i)})}catch(n){throw n.name==="NotAllowedError"?new ge("Passkey request timed out or rejected by user.",void 0,we.PASSKEY_NOT_ALLOWED):Ht(n)}}async _initRegisterOnce(e){if(!this.api)throw new ge("Auth flow has no API instance");let n=Yg(e);return await this.api.post(Jhe,{token:this.meta.captchaToken},{headers:{...n}})}async _initAuthenticateOnce(e){if(!this.api)throw new ge("Auth flow has no API instance");let n=Yg(e);return await this.api.post(Zhe,{token:this.meta.captchaToken},{headers:{...n}})}async _initLinkOnce(){if(!this.api)throw new ge("Auth flow has no API instance");return await this.api.post(Khe,{})}_transformInitLinkOptionsToCamelCase(e){return{rp:e.rp,user:{id:e.user.id,name:e.user.name,displayName:e.user.display_name},challenge:e.challenge,pubKeyCredParams:e.pub_key_cred_params.map((n=>({type:n.type,alg:n.alg}))),timeout:e.timeout,excludeCredentials:e.exclude_credentials?.map((n=>({id:n.id,type:n.type,transports:n.transports}))),authenticatorSelection:{authenticatorAttachment:e.authenticator_selection?.authenticator_attachment,requireResidentKey:e.authenticator_selection?.require_resident_key,residentKey:e.authenticator_selection?.resident_key,userVerification:e.authenticator_selection?.user_verification},attestation:e.attestation,extensions:{appid:e.extensions?.app_id,credProps:e.extensions?.cred_props?.rk,hmacCreateSecret:e.extensions?.hmac_create_secret},hints:this.meta.hints}}_transformRegistrationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}_transformInitAuthenticateOptionsToCamelCase(e){return{rpId:e.rp_id,challenge:e.challenge,allowCredentials:e.allow_credentials?.map((n=>({id:n.id,type:n.type,transports:n.transports})))||[],timeout:e.timeout,extensions:{appid:e.extensions?.app_id,credProps:e.extensions?.cred_props,hmacCreateSecret:e.extensions?.hmac_create_secret},userVerification:e.user_verification}}_transformAuthenticationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,signature:e.response.signature,user_handle:e.response.userHandle},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}constructor({captchaToken:e,setPasskeyAuthState:n,hints:i}){this.authenticateForRegistration=!1,this.initRegisterOnce=new Li(this._initRegisterOnce.bind(this)),this.initAuthenticateOnce=new Li(this._initAuthenticateOnce.bind(this)),this.initLinkOnce=new Li(this._initLinkOnce.bind(this)),this.meta={captchaToken:e,setPasskeyAuthState:n,hints:i}}}class kf{async authenticate(){if(!this.api)throw new ge("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new ge("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(jhe,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Ht(e)}}async link(){if(!this.api)throw new ge("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new ge("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(Bhe,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw Ht(e)}}async sendSmsCode({phoneNumber:e,captchaToken:n,withPrivyUi:i}){if(!this.api)throw new ge("Auth flow has no API instance");if(e&&(this.meta.phoneNumber=e),n&&(this.meta.captchaToken=n),!this.meta.phoneNumber)throw new ge("phone nNumber must be set when initialzing authentication.");let f=Yg(i);try{return await this.api.post(khe,{phoneNumber:this.meta.phoneNumber,token:this.meta.captchaToken},{headers:{...f}})}catch(b){throw Ht(b)}}constructor({phoneNumber:e,captchaToken:n,disableSignup:i}){this.meta={phoneNumber:e,captchaToken:n,disableSignup:i??!1}}}class Cje extends kf{async link(){if(!this.api)throw new ge("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode||!this.meta.oldPhoneNumber)throw new ge("Phone number, sms code, and an old phone number must be set prior to calling update.");try{return await this.api.post(zhe,{old_phone_number:this.meta.oldPhoneNumber,new_phone_number:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw Ht(e)}}constructor(e,n,i){super({phoneNumber:n,captchaToken:i}),this.meta={phoneNumber:n,captchaToken:i,oldPhoneNumber:e,disableSignup:!1}}}class _u{static parse(e){try{return new _u(e)}catch{return null}}static throwIfNotWellFormedJwt(e){return eC(e),e}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=eC(e)}}class S7 extends _u{static parse(e){try{return new S7(e)}catch{return null}}get appId(){return this._decoded.aid?this._decoded.aid:this.audience}}let xf,_0;class Eje extends oh{async initialize(){await this.importPromise,await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:bY,id:"com.coinbase.wallet"}}async promptConnection(){try{await this.importPromise;let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new On("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw mc(e)}}constructor(e,n,i,f,b){super("base_account",e,n,i),this.connectorType="base_account",this.walletClientType="base_account",this.displayName="Base",this.setBaseAccountSdk=b,this.proxyProvider=new lh(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.baseAccountConfig={...f,appChainIds:[n.id].concat(e.map((s=>s.id)))},xf?(this.proxyProvider.setWalletProvider(xf.getProvider()),this.setBaseAccountSdk(xf),console.log("Base Account SDK Initialized")):this.importPromise=Ko(()=>import("./index-OlS-37-K.js"),[]).then((({createBaseAccountSDK:s})=>{xf=s(this.baseAccountConfig),this.proxyProvider.setWalletProvider(xf.getProvider()),this.setBaseAccountSdk(xf),console.log("Base Account SDK Initialized")})).catch(console.error)}}let Sje=[1,11155111,137,10,8453,84532,42161,7777777,43114,56];class Tje extends oh{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:xY,id:"com.coinbase.wallet"}}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new On("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw mc(e)}}updateConnectionPreference(e){this.coinbaseWalletConfig={...this.coinbaseWalletConfig,preference:{...this.coinbaseWalletConfig.preference,options:e}},this.walletClientType=e==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",_0=bN({...this.coinbaseWalletConfig}),this.proxyProvider.setWalletProvider(_0.getProvider())}constructor(e,n,i,f){if(super("coinbase_wallet",e,n,i),this.connectorType="coinbase_wallet",this.displayName="Coinbase Wallet",this.proxyProvider=new lh(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.coinbaseWalletConfig={...f,appChainIds:[n.id].concat(e.map((b=>b.id)))},this.walletClientType=this.coinbaseWalletConfig.preference?.options==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",this.walletClientType==="coinbase_smart_wallet"&&(this.displayName="Coinbase Smart Wallet"),!_0){let b=this.coinbaseWalletConfig.preference?.options!=="eoaOnly"?(this.coinbaseWalletConfig.appChainIds??[]).filter((s=>!Sje.includes(s))):[];b.length>0&&!b.every((s=>qU.has(s)))&&console.info(`The configured chains are not supported by Coinbase Smart Wallet: ${b.join(", ")}`),_0=bN(this.coinbaseWalletConfig)}this.proxyProvider.setWalletProvider(_0.getProvider())}}class RN extends oh{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return await this.isConnected()?(await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[kE(e?.chainId||"0x1")]}),this.getConnectedWallet()):null}get walletBranding(){return{name:"Privy Wallet",icon:TY,id:"io.privy.wallet"}}disconnect(){this.connected=!1}async promptConnection(){}constructor({provider:e,chains:n,defaultChain:i,rpcConfig:f,imported:b,walletIndex:s}){super("privy",n,i,f),this.connectorType="embedded",this.proxyProvider=e,this.walletIndex=s,b&&(this.connectorType="embedded_imported"),this.subscribeListeners()}}const Aje=["eth_sign","eth_populateTransactionRequest","eth_signTransaction","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"];class Na extends Error{constructor(e,n,i){super(e),this.code=n,this.data=i}}class MN extends Zd{async handleSendTransaction(e){if(!e.params||!Array.isArray(e.params))throw new Na(`Invalid params for ${e.method}`,4200);let n=e.params[0];if(!await Tn()||!this.address)throw new Na("Disconnected",4900);let{hash:i}=await PWe(n,{address:this.address});return i}async handleSignTransaction(e){if(!e.params||!Array.isArray(e.params))throw new Na(`Invalid params for ${e.method}`,4200);let n=e.params[0];if(!await Tn()||!this.address)throw new Na("Disconnected",4900);let{signature:i}=await AWe(n,{address:this.address});return i}handleSwitchEthereumChain(e){let n;if(!e.params||!Array.isArray(e.params))throw new Na(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")n=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new Na(`Invalid params for ${e.method}`,4200);n=e.params[0].chainId}this.chainId=Number(n),this.publicClient=yp(this.chainId,this.chains,this.rpcConfig,{appId:this.appId}),this.emit("chainChanged",n)}async handlePersonalSign(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for personal_sign");let n=e.params[0],i=e.params[1],{signature:f}=await SWe({message:n},{address:i});return f}async handleSignedTypedData(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_signTypedData_v4");let n=e.params[0],i=typeof e.params[1]=="string"?JSON.parse(e.params[1]):e.params[1],{signature:f}=await TWe(i2(i),{address:n});return f}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");delete e.params[0].gasPrice,delete e.params[0].maxFeePerGas,delete e.params[0].maxPriorityFeePerGas;let n={...e.params[0],chainId:kE(this.chainId)};return await this.publicClient.estimateGas({account:n.from??this.address,...A2(n)})}async request(e){switch(console.debug("Embedded1193Provider.request() called with args",e),e.method){case"eth_accounts":case"eth_requestAccounts":return this.address?[this.address]:[];case"eth_chainId":return kE(this.chainId);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_sendTransaction":return this.handleSendTransaction(e);case"eth_signTransaction":return this.handleSignTransaction(e);case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"personal_sign":return this.handlePersonalSign(e);case"eth_signTypedData_v4":return this.handleSignedTypedData(e)}if(!(n=>Aje.includes(n))(e.method))return this.publicClient.request({method:e.method,params:e.params});{let n=await Tn();if(await IWe({address:this.address}),!n||!this.address)throw new Na("Disconnected",4900);try{let i={method:e.method,params:e.params},f=this.walletAccount;return f&&Ms(f)?this.handleWalletApiRequest(i,f,n):(await this.walletProxy.rpc({accessToken:n,entropyId:this.entropyId,entropyIdVerifier:this.entropyIdVerifier,chainType:"ethereum",hdWalletIndex:this.walletIndex,request:i})).response.data}catch(i){throw console.error(i),new Na("Disconnected",4900)}}}async handleWalletApiRequest(e,n,i){let f=this.privyClient;if(!f)throw new Na("Disconnected",4900);if(e.method==="secp256k1_sign"){let b=await za(f,(async({message:s})=>this.walletProxy.signWithUserSigner({accessToken:i,message:s})),{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:n.id,params:{hash:e.params[0]}});if(b.method!=="secp256k1_sign")throw new Na(`Invalid params for ${e.method}`,4200);return b.data.signature}throw new Na(`Method not supported: ${e.method}`,4200)}constructor({walletProxy:e,address:n,entropyId:i,entropyIdVerifier:f,rpcConfig:b,chains:s,appId:y,chainId:r=1,walletIndex:o,privyClient:v,walletAccount:c}){super(),this.walletProxy=e,this.address=n,this.entropyId=i,this.entropyIdVerifier=f,this.chainId=r,this.rpcConfig=b,this.chains=s,this.publicClient=yp(r,this.chains,b,{appId:y}),this.rpcTimeoutDuration=DT(b,"privy"),this.appId=y,this.walletIndex=o,this.privyClient=v,this.walletAccount=c}}function Z6(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var Pje=0;class fZ extends oh{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return{name:this.providerDetail.info.name,icon:this.providerDetail.info.icon,id:this.providerDetail.info.rdns}}disconnect(){console.warn(`Programmatic disconnect with ${this.providerDetail.info.name} is not yet supported.`)}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new On("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw mc(e)}}constructor(e,n,i,f,b){super(b||"unknown",e,n,i),this.connectorType="injected",this.proxyProvider=new lh(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.providerDetail=f;let s=f.provider;this.proxyProvider.setWalletProvider(s)}}var Xc="__private_"+Pje+++"__walletBranding";class J6 extends oh{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return Z6(this,Xc)[Xc]??{name:"Browser Extension",icon:kT,id:"extension"}}disconnect(){console.warn("Programmatic disconnect with browser wallets is not yet supported.")}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new On("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw mc(e)}}constructor(e,n,i,f,b){super(b??"unknown",e,n,i),Object.defineProperty(this,Xc,{writable:!0,value:void 0}),this.connectorType="injected",this.proxyProvider=new lh(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.proxyProvider.setWalletProvider(f),b==="metamask"?Z6(this,Xc)[Xc]={name:"MetaMask",icon:BE,id:"io.metamask"}:b==="phantom"&&(Z6(this,Xc)[Xc]={name:"Phantom",icon:AY,id:"phantom"})}}class Ije extends fZ{disconnect(){console.warn("MetaMask does not support programmatic disconnect.")}async promptConnection(){try{tn.isMobile||await this.proxyProvider.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new On("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw mc(e)}}}class Rje extends Zd{get wallets(){let e=new Set;return this.walletConnectors.flatMap((n=>n.wallets)).sort(((n,i)=>n.connectedAt&&i.connectedAt?i.connectedAt-n.connectedAt:0)).filter((n=>{let i=`${n.address}${n.walletClientType}${n.connectorType}${n.meta.id}`;return!e.has(i)&&(e.add(i),!0)}))}async initialize(e){if(this.initialized&&!e||(e&&this.removeAllConnectors(),this.externalWalletConfig.disableAllExternalWallets))return;let n=iOe({store:this.store,walletList:this.walletList,externalWalletConfig:this.externalWalletConfig,walletChainType:this.walletChainType}).then((i=>{i.forEach((({type:f,eip6963InjectedProvider:b,legacyInjectedProvider:s})=>{this.createEthereumWalletConnector({connectorType:"injected",walletClientType:f,providers:{eip6963InjectedProvider:b,legacyInjectedProvider:s}})}))}));for(let i of(this.walletList.includes("coinbase_wallet")&&this.createEthereumWalletConnector({connectorType:"coinbase_wallet",walletClientType:"coinbase_wallet"}),this.walletList.includes("base_account")&&this.createEthereumWalletConnector({connectorType:"base_account",walletClientType:"base_account"}),Object.values(BT)))!i.isInstalled&&this.walletList.includes(i.client)&&(["ethereum-only","ethereum-and-solana"].includes(this.walletChainType)&&i.chainTypes.includes("ethereum")&&this.createEthereumWalletConnector({connectorType:"null",walletClientType:i.client,walletConfig:i}),["ethereum-and-solana","solana-only"].includes(this.walletChainType)&&i.chainTypes.includes("solana")&&this.addSolanaWalletConnector(new UT({id:i.client,name:i.name})));this.externalWalletConfig.walletConnect.enabled&&this.createEthereumWalletConnector({connectorType:"wallet_connect_v2",walletClientType:"unknown"}),this.externalWalletConfig.solana.connectors?.get().forEach(this.addSolanaWalletConnector),this.externalWalletConfig.solana.connectors?._setOnConnectorsUpdated?.((i=>{i?.forEach(this.addSolanaWalletConnector)})),await n,this.initialized=!0}findWalletConnector(e,n,i){return e==="wallet_connect_v2"?this.walletConnectors.filter(H0).find((f=>f.connectorType===e&&(!i||f.wallets.some((b=>b.address===i)))))??null:this.walletConnectors.filter(H0).find((f=>f.connectorType===e&&f.walletClientType===n&&(!i||f.wallets.some((b=>b.address===i)))))??null}findSolanaWalletConnector(e){return this.walletConnectors.filter(Vx).find((n=>n.walletClientType==="unknown"?n.walletBranding.id===e:n.walletClientType===e))??null}findEmbeddedWalletConnectors(){return this.walletConnectors.filter((e=>e.connectorType==="embedded"))}findImportedWalletConnectors(){return this.walletConnectors.filter((e=>e.connectorType==="embedded_imported"))}onInitialized(e){e.wallets.forEach((n=>{let i=this.storedConnections.find((f=>f.address===n.address&&f.connectorType===n.connectorType&&(n.type==="solana"&&f.walletClientType==="unknown"&&n.walletClientType==="unknown"?n.meta.id===f.id:f.walletClientType===n.walletClientType)));i&&(n.connectedAt=i.connectedAt)})),this.emit("walletsUpdated"),this.emit("connectorInitialized")}onWalletsUpdated(e){e.initialized&&this.emit("walletsUpdated")}addEmbeddedWalletConnectors({walletProxy:e,user:n,embeddedWallets:i,defaultChain:f,appId:b,privyClient:s}){let{entropyId:y,entropyIdVerifier:r}=Wa(n);for(let o of i){let v=this.findEmbeddedWalletConnectors().find((c=>c.walletIndex===o.walletIndex));if(v&&H0(v))v.proxyProvider.walletProxy=e;else{let c=new RN({provider:new MN({walletProxy:e,address:o.address,entropyId:y,entropyIdVerifier:r,rpcConfig:this.rpcConfig,chains:this.chains,appId:b,chainId:f.id,walletIndex:o.walletIndex,privyClient:s,walletAccount:o}),chains:this.chains,defaultChain:f,rpcConfig:this.rpcConfig,imported:!1,walletIndex:o.walletIndex});this.addWalletConnector(c)}}}addImportedWalletConnector(e,n,i,f){let b=this.findWalletConnector("embedded_imported","privy",n);if(b&&H0(b))b.proxyProvider.walletProxy=e;else{let s=new RN({provider:new MN({walletProxy:e,address:n,entropyId:n,entropyIdVerifier:"ethereum-address-verifier",walletIndex:0,rpcConfig:this.rpcConfig,chains:this.chains,appId:f,chainId:i.id}),chains:this.chains,walletIndex:0,defaultChain:i,rpcConfig:this.rpcConfig,imported:!0});this.addWalletConnector(s)}}removeEmbeddedWalletConnectors(){this.walletConnectors=this.walletConnectors.filter((e=>e.connectorType!=="embedded")),this.storedConnections=s2(),this.emit("walletsUpdated")}removeImportedWalletConnectors(){let e=this.findImportedWalletConnectors();e.length&&(e.forEach((n=>{let i=this.walletConnectors.indexOf(n);this.walletConnectors.splice(i,1)})),this.storedConnections=s2(),this.emit("walletsUpdated"))}async createEthereumWalletConnector({connectorType:e,walletClientType:n,providers:i,walletConfig:f}){let b=this.findWalletConnector(e,n);if(b&&H0(b))return b instanceof Zf&&b.resetConnection(n),b;let s=e!=="injected"?e==="coinbase_wallet"?new Tje(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.coinbaseWallet.config):e==="base_account"?new Eje(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.baseAccount.config,this.setBaseAccountSdk):e!=="null"?new Zf({walletConnectCloudProjectId:this.walletConnectCloudProjectId,rpcConfig:this.rpcConfig,chains:this.chains,defaultChain:this.defaultChain,shouldEnforceDefaultChainOnConnect:this.shouldEnforceDefaultChainOnConnect,privyAppId:this.privyAppId,privyAppName:this.privyAppName,walletClientType:n}):f?new NT({id:f.client,name:f.name,defaultChain:this.defaultChain,walletClientType:f.client}):null:n==="metamask"&&i?.eip6963InjectedProvider?new Ije(this.chains,this.defaultChain,this.rpcConfig,i?.eip6963InjectedProvider,"metamask"):n==="metamask"&&i?.legacyInjectedProvider?new J6(this.chains,this.defaultChain,this.rpcConfig,i?.legacyInjectedProvider,"metamask"):n==="phantom"&&i?.legacyInjectedProvider?new J6(this.chains,this.defaultChain,this.rpcConfig,i?.legacyInjectedProvider,"phantom"):i?.legacyInjectedProvider&&n==="unknown_browser_extension"?new J6(this.chains,this.defaultChain,this.rpcConfig,i?.legacyInjectedProvider):i?.eip6963InjectedProvider?new fZ(this.chains,this.defaultChain,this.rpcConfig,i?.eip6963InjectedProvider,n):void 0;return s&&this.addWalletConnector(s),s||null}addWalletConnector(e){this.walletConnectors.push(e),e.on("initialized",(()=>this.onInitialized(e))),e.on("walletsUpdated",(()=>this.onWalletsUpdated(e))),e.initialize().catch((n=>{console.debug("Failed to initialize connector",n)}))}setWalletList(e){this.walletList=e,this.initialized&&this.initialize(!0).catch(console.error)}removeAllConnectors(){for(let e of this.walletConnectors)e.removeAllListeners();this.walletConnectors=[]}constructor(e,n,i,f,b,s,y,r,o,v,c,u){super(),this.addSolanaWalletConnector=async l=>{let a=this.findSolanaWalletConnector(l.walletClientType);if(!a||a.connectorType==="null"){if(a?.connectorType==="null"){let d=this.walletConnectors.indexOf(a);this.walletConnectors.splice(d,1)}this.addWalletConnector(l)}},this.privyAppId=e,this.walletConnectCloudProjectId=n,this.rpcConfig=i,this.chains=f,this.defaultChain=b,this.walletConnectors=[],this.initialized=!1,this.store=s,this.walletList=y,this.shouldEnforceDefaultChainOnConnect=r,this.externalWalletConfig=o,this.privyAppName=v,this.walletChainType=u||"ethereum-only",this.setBaseAccountSdk=c,this.storedConnections=s2()}}let Mje=[Cj,Ej,Pj];class Oje{async get(e,n){try{return await this.baseFetch(e,n)}catch(i){throw Ht(i)}}async post(e,n,i){try{return await this.baseFetch(e,{method:"POST",...n?{body:n}:{},...i})}catch(f){throw Ht(f)}}async delete(e,n){try{return await this.baseFetch(e,{method:"DELETE",...n})}catch(i){throw Ht(i)}}constructor({appId:e,appClientId:n,client:i,defaults:f}){this.appId=e,this.appClientId=n,this.clientAnalyticsId=i.clientAnalyticsId,this.sdkVersion=QMe,this.client=i,this.defaults=f,this.fallbackApiUrl=i.fallbackApiUrl,this.baseFetch=bj.create({baseURL:this.defaults.baseURL,timeout:this.defaults.timeout,retry:3,retryDelay:500,retryStatusCodes:[408,409,425,500,502,503,504],credentials:"include",onRequest:async({request:b,options:s})=>{let y=new Headers(s.headers);y.set("privy-app-id",this.appId),this.appClientId&&y.set("privy-client-id",this.appClientId),y.set("privy-ca-id",this.clientAnalyticsId||""),y.set("privy-client",`react-auth:${this.sdkVersion}`);let r=Mje.includes(b.toString());if(!y.has("authorization")){let o=await this.client.getAccessToken({disableAutoRefresh:r});o!==null&&y.set("authorization",`Bearer ${o}`)}s.headers=y,s.retryDelay&&typeof s.retryDelay=="number"&&(s.retryDelay=3*s.retryDelay)},onRequestError:({error:b})=>{if(b instanceof DOMException&&b.name==="AbortError")throw new hhe}})}}let Fje=/paymaster\.biconomy\.io\/api/i,$je={mode:"SPONSORED",calculateGasLimits:!0,expiryDuration:300,sponsorshipInfo:{webhookData:{},smartAccountInfo:{name:"BICONOMY",version:"2.0.0"}}};const Lje=(t,e)=>t&&Fje.test(t)?$je:e&&e.policy_id?{policyId:e.policy_id}:void 0,Dje=t=>({rpId:t.rp_id,challenge:t.challenge,allowCredentials:t.allow_credentials?.map((e=>({id:e.id,type:e.type,transports:e.transports})))||[],timeout:t.timeout,extensions:{appid:t.extensions?.app_id,credProps:t.extensions?.cred_props,hmacCreateSecret:t.extensions?.hmac_create_secret},userVerification:t.user_verification});class pZ{async authenticate(){if(!this.api)throw new ge("Auth flow has no API instance");try{return await this.api.post(ofe,{token:this.meta.token})}catch(e){throw Ht(e)}}async link(){if(!this.api)throw new ge("Auth flow has no API instance");try{return await this.api.post(lfe,{token:this.meta.token})}catch(e){throw Ht(e)}}constructor(e){this.meta={token:e}}}class Nje{getOrCreateGuestCredential(e){let n=eY(e);if(ME()){if(Ct.get(n))return Ct.get(n);{let i=Md($E(32));return Ct.put(n,i),i}}return Md($E(32))}async authenticate(){if(!this.api)throw new ge("Auth flow has no API instance");try{return await this.api.post(ufe,{guest_credential:this.meta.guestCredential})}catch(e){throw Ht(e)}}async link(){throw Error("Linking is not supported for the guest flow")}constructor(e){this.meta={guestCredential:this.getOrCreateGuestCredential(e)}}}function Q6(){return!(tn.isSafari&&window.location.origin.startsWith("http://localhost"))}const ON=Fp((()=>({identityToken:null})));var _6,FN=((_6={}).PRIVY="privy_access_token",_6.CUSTOMER="customer_access_token",_6);class kje{get token(){return this.privyAccessToken||this.customerAccessToken}getToken(e){return e==="privy_access_token"?this.privyAccessToken:this.customerAccessToken}get customerAccessToken(){return this._getToken(dv)}get privyAccessToken(){return this._getToken(r2)}_getToken(e){try{let n=Ct.get(e);return typeof n=="string"?_u.throwIfNotWellFormedJwt(n):null}catch(n){return console.error(n),this.destroyLocalState(),null}}get refreshToken(){try{let e=Ct.get(S6);return typeof e=="string"?e:null}catch(e){return console.error(e),this.destroyLocalState(),null}}getProviderAccessToken(e){try{let n=Ct.get(Ry(e));if(typeof n!="string")return null;{let i=new _u(n);return i.isExpired()?(Ct.del(Ry(e)),null):i.value}}catch(n){return console.error(n),null}}get mightHaveServerCookies(){try{let e=lr.get(T6);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e="privy_access_token"){let n=typeof this.getToken(e)=="string",i=typeof this.refreshToken=="string"&&this.refreshToken!==eOe;return this.mightHaveServerCookies||n&&i}hasActiveAccessToken(e){let n=_u.parse(this.getToken(e));return n!==null&&!n.isExpired(30)}authenticate(e){return this.authenticateOnce.execute(e)}link(e){return this.linkOnce.execute(e)}refresh(){return this.refreshOnce.execute()}destroy(){return this.destroyOnce.execute()}storeProviderAccessToken(e,n){typeof n=="string"?Ct.put(Ry(e),n):Ct.del(Ry(e))}updateIdentityToken(e){typeof e=="string"?this.storeIdentityToken(e):this.clearIdentityToken()}async _authenticate(e){try{let n=await e.authenticate(),{user:i,is_new_user:f,oauth_tokens:b}=n;this.handleTokenResponse(n);let s=b?{provider:b.provider,accessToken:b.access_token,accessTokenExpiresInSeconds:b.access_token_expires_in_seconds,refreshToken:b.refresh_token,refreshTokenExpiresInSeconds:b.refresh_token_expires_in_seconds,scopes:b.scopes}:void 0;return this._trackAuthenticateEvents(e,f),{user:si(i),isNewUser:f,oAuthTokens:s}}catch(n){throw console.warn("Error authenticating session"),kn(n)}}_trackAuthenticateEvents(e,n){let i=(function(f){return f instanceof Nf?"email":f instanceof kf?"sms":f instanceof Xf?"siwe":f instanceof Nje?"guest":f instanceof pZ?"custom_auth":f instanceof Sf?f.meta.provider:null})(e);i&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate",payload:{method:i,isNewUser:n}}),i==="siwe"&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate_siwe",payload:{connectorType:e.meta.connectorType,walletClientType:e.meta.walletClientType}})}async _link(e){try{let n=await e.link(),i=n.oauth_tokens,f=i?{provider:i.provider,accessToken:i.access_token,accessTokenExpiresInSeconds:i.access_token_expires_in_seconds,refreshToken:i.refresh_token,refreshTokenExpiresInSeconds:i.refresh_token_expires_in_seconds,scopes:i.scopes}:void 0;return{user:si(n),oAuthTokens:f}}catch(n){throw console.warn("Error linking account"),kn(n)}}async _refresh(){if(!this.api)throw new ge("Session has no API instance");if(!this.client)throw new ge("Session has no PrivyClient instance");await this.client.getAccessToken({disableAutoRefresh:!0});let e=this.token,n=this.refreshToken;if(this.client.useServerCookies&&!this.mightHaveServerCookies&&this.token&&window.location.origin===this.client.apiUrl)return this.destroyLocalState(),null;try{let i;if(!(e&&n||this.mightHaveServerCookies))return null;{let f={};e&&(f.authorization=`Bearer ${e}`),i=await this.api.post(Cj,n?{refresh_token:n}:{},{headers:f})}return this.handleTokenResponse(i),si(i.user)}catch(i){if(i instanceof Ls&&i.privyErrorCode===we.MISSING_OR_INVALID_TOKEN)return console.warn("Unable to refresh tokens - token is missing or no longer valid"),this.destroyLocalState(),null;throw kn(i)}}handleTokenResponse(e){e.session_update_action&&e.session_update_action!=="set"?e.session_update_action==="clear"?this.destroyLocalState():e.session_update_action==="ignore"&&(e.token&&(this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token)),e.identity_token&&this.storeIdentityToken(e.identity_token)):this._storeAllTokens(e)}_storeAllTokens(e){this.storeRefreshToken(e.refresh_token),this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token),e.identity_token&&this.storeIdentityToken(e.identity_token)}async _destroy(){try{await this.api?.post(Ej,{refresh_token:this.refreshToken})}catch{console.warn("Error destroying session")}this.destroyLocalState()}destroyLocalState(){this.storeRefreshToken(null),this.storeCustomerAccessToken(null),this.storePrivyAccessToken(null),this.clearIdentityToken()}storeCustomerAccessToken(e){if(typeof e=="string"){let n=Ct.get(dv);if(Ct.put(dv,e),!this.client?.useServerCookies){let i=_u.parse(e)?.expiration;lr.set(ZL,e,{sameSite:"Strict",secure:Q6(),expires:i?new Date(1e3*i):void 0})}n!==e&&this.client?.onStoreCustomerAccessToken?.(e)}else Ct.del(dv),lr.remove(ZL),this.client?.onDeleteCustomerAccessToken?.()}storeRefreshToken(e){typeof e=="string"?(Ct.put(S6,e),this.client?.useServerCookies||lr.set(T6,"t",{sameSite:"Strict",secure:Q6(),expires:30})):(Ct.del(S6),lr.remove(_Me),lr.remove(T6))}storePrivyAccessToken(e){typeof e=="string"?Ct.put(r2,e):Ct.del(r2)}storeIdentityToken(e){if(ON.setState({identityToken:e}),this.client?.useServerCookies)return;Ct.put(JL,e);let n=_u.parse(e)?.expiration;lr.set(QL,e,{sameSite:"Strict",secure:Q6(),expires:n?new Date(1e3*n):void 0})}clearIdentityToken(){Ct.del(JL),ON.setState({identityToken:null}),lr.remove(QL)}constructor(){this.authenticateOnce=new Li((async e=>this._authenticate(e))),this.linkOnce=new Li((async e=>this._link(e))),this.refreshOnce=new Li(this._refresh.bind(this)),this.destroyOnce=new Li(this._destroy.bind(this))}}let q6;var Bje=0,e8="__private_"+Bje+++"__getOrGenerateClientAnalyticsId";class Uje{getAppId(){return this.appId}initializeConnectorManager({walletConnectCloudProjectId:e,rpcConfig:n,chains:i,defaultChain:f,store:b,walletList:s,shouldEnforceDefaultChainOnConnect:y,externalWalletConfig:r,appName:o,walletChainType:v,setBaseAccountSdk:c}){this.connectors||(this.connectors=new Rje(this.appId,e,n,i,f,b,s,y,r,o,c,v))}generateApi(){let e=new Oje({appId:this.appId,appClientId:this.appClientId,client:this,defaults:{baseURL:this.apiUrl,timeout:this.timeout}});return this.session.api=e,e}updateApiUrl(e){this.apiUrl=e||this.fallbackApiUrl,this.api=this.generateApi(),e&&(this.useServerCookies=!0)}authenticate(){if(!this.authFlow)throw new ge("No auth flow in progress.");return this.session.authenticate(this.authFlow)}async link(){if(!this.authFlow)throw new ge("No auth flow in progress.");let{oAuthTokens:e}=await this.session.link(this.authFlow);return{user:await this.getAuthenticatedUser(),oAuthTokens:e}}storeProviderAccessToken(e,n){this.session.storeProviderAccessToken(e,n)}getProviderAccessToken(e){return this.session.getProviderAccessToken(e)}async logout(){await this.session.destroy(),this.authFlow=void 0}clearProviderAcccessTokens(e){e.linkedAccounts.filter((n=>n.type==="cross_app")).forEach((n=>{this.storeProviderAccessToken(n.providerApp.id,null)}))}startAuthFlow(e){return e.api=this.api,this.authFlow=e,this.authFlow}async initMfaSmsVerification(){try{await this.api.post(ife,{action:"verify"})}catch(e){throw Ht(e)}}async initMfaPasskeyVerification(){try{let e=await this.api.post(sfe,{});return Dje(e.options)}catch(e){throw Ht(e)}}async getCrossAppProviderDetails(e){try{return this._cachedProviderAppDetails[e]||(this._cachedProviderAppDetails[e]=await this.api.get(`/api/v1/apps/${e}/cross-app/details`)),this._cachedProviderAppDetails[e]}catch(n){console.error("Error fetching cross app provider details",n)}}async acceptTerms(){try{let e=await this.api.post(afe,{});return si(e)}catch(e){throw kn(e)}}async unlinkEmail(e){try{let n=await this.api.post(Lhe,{address:e});return await this.getAuthenticatedUser()??si(n)}catch(n){throw kn(n)}}async unlinkPhone(e){try{let n=await this.api.post(Uhe,{phoneNumber:e});return await this.getAuthenticatedUser()??si(n)}catch(n){throw kn(n)}}async unlinkEthereumWallet(e){try{let n=await this.api.post(yhe,{address:e});return await this.getAuthenticatedUser()??si(n)}catch(n){throw kn(n)}}async unlinkSolanaWallet(e){try{let n=await this.api.post(Ehe,{address:e});return await this.getAuthenticatedUser()??si(n)}catch(n){throw kn(n)}}async unlinkOAuth(e,n){try{let i=await this.api.post(Ghe,{provider:e,subject:n});return await this.getAuthenticatedUser()??si(i)}catch(i){throw kn(i)}}async unlinkFarcaster(e){try{let n=await this.api.post(Rhe,{fid:e});return await this.getAuthenticatedUser()??si(n)}catch(n){throw kn(n)}}async unlinkTelegram(e){try{let n=await this.api.post(nfe,{telegram_user_id:e});return await this.getAuthenticatedUser()??si(n)}catch(n){throw kn(n)}}async revokeDelegatedWallet(){try{await this.api.post(ffe,{})}catch(e){throw kn(e)}}async createAnalyticsEvent({eventName:e,payload:n,timestamp:i,options:f}){if(typeof window<"u")try{this.clientAnalyticsId||console.warn("No client analytics id set, refusing to send analytics event"),await this.api.post(Pj,{event_name:e,client_id:this.clientAnalyticsId,payload:{...n||{},clientTimestamp:i?i.toISOString():new Date().toISOString()}},{retry:-1,keepalive:f?.keepAlive??!1})}catch{console.log("Unable to submit event. This is not an issue.")}}async signMoonpayOnRampUrl(e){try{return this.api.post(cfe,e)}catch(n){throw kn(n)}}async initCoinbaseOnRamp(e){try{return this.api.post(dfe,e)}catch(n){throw kn(n)}}async getCoinbaseOnRampStatus({partnerUserId:e}){try{return this.api.get(`${hfe}?partnerUserId=${e}`)}catch(n){throw kn(n)}}async getAuthenticatedUser(){return this.session.hasRefreshCredentials()?this.session.refresh():null}async getAccessToken(e){return await this.getPrivyAccessToken(e)||await this.getCustomerAccessToken(e)}async getCustomerAccessToken(e){return await this._getToken(FN.CUSTOMER,e)}async getPrivyAccessToken(e){return await this._getToken(FN.PRIVY,e)}async _getToken(e,n){return this.session.getToken(e)?this.session.hasActiveAccessToken(e)?this.session.hasRefreshCredentials(e)?S7.parse(this.session.getToken(e))?.appId!==this.appId?(await this.logout(),null):this.session.getToken(e):(this.session.destroyLocalState(),null):!n?.disableAutoRefresh&&this.session.hasRefreshCredentials(e)?(await this.session.refresh(),this.session.getToken(e)):null:null}async getSmartWalletsConfig(){try{let e={},n=this.session.token;n&&(e.authorization=`Bearer ${n}`);let i=await this.api.get(`/api/v1/apps/${this.appId}/smart_wallets`,{baseURL:this.fallbackApiUrl,headers:e});return i.enabled?{enabled:i.enabled,smartWalletVersion:i.smart_wallet_version,smartWalletType:i.smart_wallet_type,configuredNetworks:i.configured_networks.map((f=>({chainId:f.chain_id,bundlerUrl:f.bundler_url,paymasterUrl:f.paymaster_url,paymasterContext:Lje(f.paymaster_url,f.paymaster_context)})))}:{enabled:i.enabled}}catch(e){throw kn(e)}}async getUsdTokenPrice(e){try{return(await this.api.get(`/api/v1/token_price?chainId=${e.id}&tokenSymbol=${e.nativeCurrency.symbol}`)).usd}catch{return void console.error(`Unable to fetch token price for chain with id ${e.id}`)}}async getUsdPriceForSol(){try{return(await this.api.get("/api/v1/token_price?chainId=0&tokenSymbol=SOL")).usd}catch{return void console.error("Unable to fetch token price for SOL")}}async getSplTokenMetadata({mintAddress:e,cluster:n}){try{return await this.api.get(`/api/v1/spl_token_info?mint_address=${e}&cluster=${n}`)}catch{return void console.error(`Unable to fetch token metadata for ${n}:${e}`)}}async requestFarcasterSignerStatus(e){try{return await this.api.post("/api/v1/farcaster/signer/status",{ed25519_public_key:e})}catch(n){throw console.error("Unable to fetch Farcaster signer status"),n}}async generateSiweNonce({address:e,captchaToken:n}){try{return(await this.api.post(phe,{address:e,token:n})).nonce}catch(i){throw kn(i)}}async authenticateWithSiweInternal({message:e,signature:n,chainId:i,walletClientType:f,connectorType:b,mode:s}){return await this.api.post(vhe,{message:e,signature:n,chainId:i,walletClientType:f,connectorType:b,mode:s})}async linkWithSiweInternal({message:e,signature:n,chainId:i,walletClientType:f,connectorType:b}){return await this.api.post(ghe,{message:e,signature:n,chainId:i,walletClientType:f,connectorType:b})}async linkSmartWallet({message:e,signature:n,smartWalletType:i,smartWalletVersion:f}){try{let b=await this.api.post(mhe,{message:e,signature:n,smart_wallet_type:i,smart_wallet_version:f});return si(b)}catch(b){throw kn(b)}}async linkWithSiwe({message:e,signature:n,chainId:i,walletClientType:f,connectorType:b}){try{let s=await this.linkWithSiweInternal({message:e,signature:n,chainId:i,walletClientType:f,connectorType:b});return si(s)}catch(s){throw kn(s)}}async generateSiwsNonce({address:e,captchaToken:n}){try{return(await this.api.post(xhe,{address:e,token:n})).nonce}catch(i){throw kn(i)}}async authenticateWithSiwsInternal({message:e,signature:n,walletClientType:i,connectorType:f,mode:b,messageType:s="plain"}){return await this.api.post(bhe,{message:e,signature:n,walletClientType:i,connectorType:f,mode:b,message_type:s})}async authenticateWithSiws({message:e,signature:n,walletClientType:i,connectorType:f,mode:b,messageType:s="plain"}){let y=await this.authenticateWithSiwsInternal({message:e,signature:n,walletClientType:i,connectorType:f,mode:b,messageType:s});this.session.handleTokenResponse(y);let r=si(y.user);if(!r)throw Error("Authentication failed - no user returned");return{user:r,isNewUser:y.is_new_user||!1}}async sendAccountTransferRequest({nonce:e,account:n,accountType:i,externalWalletMetadata:f,telegramAuthResult:b,telegramWebAppData:s,farcasterEmbeddedAddress:y,oAuthUserInfo:r}){try{let o,v;switch(i){case"email":o=Nhe,v={nonce:e,email:n};break;case"sms":o=Whe,v={nonce:e,phoneNumber:n};break;case"siwe":if(o=whe,!f)throw Error("Wallet parameters must be defined");v={nonce:e,address:n,...f};break;case"farcaster":o=Mhe,v={nonce:e,farcaster_id:n,farcaster_embedded_address:y};break;case"telegram":o=rfe,v={nonce:e,telegram_auth_result:b,telegram_web_app_data:s};break;case"siws":o=She,v={nonce:e,address:n,...f};break;case"custom":case"guest":case"passkey":throw Error("Invalid transfer account type");default:o=Vhe,v={nonce:e,userInfo:r}}let c=await this.api.post(o,v);return await this.getAuthenticatedUser()??si(c)}catch(o){throw kn(o)}}async linkWithSiwsInternal({message:e,signature:n,walletClientType:i,connectorType:f,messageType:b="plain"}){return await this.api.post(Che,{message:e,signature:n,walletClientType:i,connectorType:f,message_type:b})}async linkWithSiws({message:e,signature:n,walletClientType:i,connectorType:f,messageType:b="plain"}){try{let s=await this.linkWithSiwsInternal({message:e,signature:n,walletClientType:i,connectorType:f,messageType:b});return si(s)}catch(s){throw kn(s)}}async updateUserAndIdToken(){try{let e=await this.api.get(pfe);return this.session.updateIdentityToken(e.identity_token),si(e.user)}catch(e){throw kn(e)}}async scanTransaction(e){try{return await this.api.post(vfe,e)}catch(n){throw kn(n)}}constructor({apiUrl:e=OE,appId:n,appClientId:i,timeout:f=JMe}){Object.defineProperty(this,e8,{value:jje}),this._cachedProviderAppDetails={},this.apiUrl=e,this.fallbackApiUrl=this.apiUrl,this.useServerCookies=e!==OE&&e.startsWith("https://privy."),this.timeout=f,this.appId=n,this.appClientId=i,this.clientAnalyticsId=(function(b,s){if(!Object.prototype.hasOwnProperty.call(b,s))throw TypeError("attempted to use private field on non-instance");return b})(this,e8)[e8](),q6||(q6=new kje),this.session=q6,this.api=this.generateApi(),this.session.client=this}}function jje(){if(typeof window>"u")return null;try{let e=Ct.get(FE);if(typeof e=="string"&&e.length>0)return e}catch{}let t=iC();try{return Ct.put(FE,t),t}catch{return t}}const zje=({delayedExecution:t,...e})=>{let{enabled:n,siteKey:i,appId:f,setError:b,setToken:s,setExecuting:y,ref:r}=ms(),[,o]=H.useMemo((()=>i?.split("t:")||[]),[i]);if(H.useEffect((()=>r.current?.remove),[]),!n)return null;if(!o)throw Error("Unsupported captcha site key");return O.jsx("div",{className:"hidden h-0 w-0",children:O.jsx(lZ,{...e,ref:r,siteKey:o,options:{action:f,size:"invisible",...t?{appearance:"execute",execution:"execute"}:{appearance:"always",execution:"render"}},onUnsupported:()=>{e.onUnsupported?.(),console.warn("Browser does not support Turnstile.")},onError:v=>{e.onError?.(v),b("Captcha failed"),y(!1)},onSuccess:v=>{e.onSuccess?.(v),s(v),y(!1)},onExpire:v=>{e.onExpire?.(v);try{r.current?.reset(),b(void 0),s(void 0)}catch{b("expired_and_failed_reset")}}})})};function Wje(t){Hx("configureMfa",t)}const T7=ae.div.withConfig({displayName:"AppLogoContainer",componentId:"sc-ba98f772-0"})(["display:flex;flex-direction:column;align-items:center;padding:0px 0px 30px;@media (max-width:440px){padding:10px 10px 20px;}"]),ss=ae.div.withConfig({displayName:"Title",componentId:"sc-ba98f772-1"})(["font-size:18px;line-height:30px;text-align:center;font-weight:600;margin-bottom:10px;"]),da=ae.div.withConfig({displayName:"SubTitle",componentId:"sc-ba98f772-2"})(["font-size:0.875rem;text-align:center;"]),Wd=ae.div.withConfig({displayName:"Container",componentId:"sc-ba98f772-3"})(["display:flex;flex-direction:column;align-items:center;gap:10px;flex-grow:1;padding:20px 0;@media (max-width:440px){padding:10px 10px 20px;}"]),g3=ae.div.withConfig({displayName:"List",componentId:"sc-ba98f772-4"})(["display:flex;flex-direction:column;align-items:stretch;gap:0.75rem;padding:1rem 0rem 0rem;flex-grow:1;width:100%;"]),bd=ae.div.withConfig({displayName:"ListItemIcon",componentId:"sc-ba98f772-5"})(["width:25px;display:flex;align-items:center;justify-content:flex-start;> svg{z-index:2;height:25px !important;width:25px !important;color:var(--privy-color-accent);}"]),Cd=ae.div.withConfig({displayName:"ListItem",componentId:"sc-ba98f772-6"})(["display:flex;align-items:center;gap:10px;font-size:0.875rem;line-height:1rem;text-align:left;"]),Tf=ae.div.withConfig({displayName:"BottomSection",componentId:"sc-ba98f772-7"})(["display:flex;flex-direction:column;gap:10px;padding-top:20px;"]),vZ=ae.div.withConfig({displayName:"MethodList",componentId:"sc-ba98f772-8"})(["display:flex;flex-direction:column;align-items:stretch;gap:1rem;padding:1rem 0rem 0rem;flex-grow:1;width:100%;"]),t8=ae.div.withConfig({displayName:"MethodListItem",componentId:"sc-ba98f772-9"})(["display:flex;gap:5px;width:100%;position:relative;"]),n8=ae.button.withConfig({displayName:"RemoveMethodButton",componentId:"sc-ba98f772-10"})(["&&{background-color:transparent;color:var(--privy-color-foreground-3);padding:0 0.75rem;display:flex;align-items:center;height:100%;> svg{z-index:2;height:20px !important;width:20px !important;}}&&:hover{color:var(--privy-color-error);}"]),r8=ae.div.withConfig({displayName:"MethodText",componentId:"sc-ba98f772-11"})(["display:flex;align-items:center;gap:0.5rem;> svg{z-index:2;height:20px !important;width:20px !important;}"]),$N=ae.div.withConfig({displayName:"ExtraText",componentId:"sc-ba98f772-12"})(["display:flex;align-items:center;gap:6px;font-weight:400 !important;color:",";> svg{z-index:2;height:18px !important;width:18px !important;display:flex !important;align-items:flex-end;}"],(t=>t.$isAccent?"var(--privy-color-accent)":"var(--privy-color-foreground-3)")),i8=ae.div.withConfig({displayName:"SmsInsecureText",componentId:"sc-ba98f772-13"})(["width:100%;display:flex;justify-content:space-between;"]),gZ=ae.p.withConfig({displayName:"TermsText",componentId:"sc-ba98f772-14"})(["text-align:left;width:100%;color:var(--privy-color-foreground-3) !important;"]),p9=ae.button.withConfig({displayName:"PrimaryTextButton",componentId:"sc-ba98f772-15"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none;&{width:100%;cursor:pointer;border-radius:var(--privy-border-radius-md);font-size:0.875rem;line-height:1rem;font-style:normal;font-weight:500;line-height:22px;letter-spacing:-0.016px;}&&{color:",";background-color:transparent;padding:0.5rem 0px;}&:hover{text-decoration:underline;}"],(t=>t.theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-accent)")),ha=ae.div.withConfig({displayName:"IconWrapper",componentId:"sc-ba98f772-16"})(["display:flex;align-items:center;justify-content:center;color:var(--privy-color-accent);width:100%;> svg{z-index:2;width:3rem;height:3rem;}"]),mZ=ae.div.withConfig({displayName:"ErrorMessage",componentId:"sc-ba98f772-17"})(["color:var(--privy-color-error);"]),yZ=({handleClose:t,user:e,onSelect:n})=>O.jsxs(Yt,{title:"Verify your identity",subtitle:"Choose a verification method",icon:Od,iconVariant:"subtle",onClose:t,showClose:!0,watermark:!0,children:[O.jsxs(vZ,{children:[e.mfaMethods.includes("totp")&&O.jsxs(Xn,{onClick:()=>n("totp"),children:[O.jsx(Za,{children:O.jsx(lx,{})}),"Authenticator app"]},"totp"),e.mfaMethods.includes("sms")&&O.jsxs(Xn,{onClick:()=>n("sms"),children:[O.jsx(Za,{children:O.jsx(lc,{})}),"SMS"]},"sms"),e.mfaMethods.includes("passkey")&&O.jsxs(Xn,{onClick:()=>n("passkey"),children:[O.jsx(Za,{children:O.jsx(DS,{})}),"Passkey"]},"passkey")]}),O.jsx(fr,{})]}),v9=({pendingTransaction:t})=>{let{wallets:e}=ch(),{walletProxy:n,rpcConfig:i,chains:f,appId:b,nativeTokenSymbolForChainId:s}=et(),[y,r]=H.useState(null),[o,v]=H.useState(t),{tokenPrice:c}=Fm(o.chainId),u=s(t.chainId)||"ETH",l=H.useMemo((()=>e.find((a=>a.walletClientType==="privy"))),[e]);return H.useEffect((()=>{(async function(){if(!n||!l)return o;let a=yp(o.chainId,f,i,{appId:b}),d=await fw(o,a,l.address);return r(er(BigInt(d.gas??0))),d})().then(v).catch(console.error)}),[n]),l?O.jsx(Gje,{children:O.jsx(KY,{from:l.address,to:o.to,txn:o,gas:y??void 0,tokenPrice:c,tokenSymbol:u})}):null};let Gje=ae.div.withConfig({displayName:"TransactionInfoWrapper",componentId:"sc-8d9a2f57-0"})(["width:100%;padding:1rem 0;"]);const A7=({style:t,...e})=>O.jsx("svg",{x:0,y:0,width:"65",height:"64",viewBox:"0 0 65 64",style:{height:"64px",width:"65px",...t},fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:O.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.71369 17.5625V10.375C3.71369 6.44625 6.85845 3.25 10.7238 3.25H17.7953C18.6783 3.25 19.3941 2.52244 19.3941 1.625C19.3941 0.727562 18.6783 0 17.7953 0H10.7238C5.09529 0 0.516113 4.65419 0.516113 10.375V17.5625C0.516113 18.4599 1.23194 19.1875 2.1149 19.1875C2.99787 19.1875 3.71369 18.4599 3.71369 17.5625ZM17.7953 60.7501C18.6783 60.7501 19.3941 61.4777 19.3941 62.3751C19.3941 63.2726 18.6783 64.0001 17.7953 64.0001H10.7238C5.09529 64.0001 0.516113 59.3459 0.516113 53.6251V46.4376C0.516113 45.5402 1.23194 44.8126 2.1149 44.8126C2.99787 44.8126 3.71369 45.5402 3.71369 46.4376V53.6251C3.71369 57.5538 6.85845 60.7501 10.7238 60.7501H17.7953ZM63.4839 46.4376V53.6251C63.4839 59.3459 58.9048 64.0001 53.2763 64.0001H46.2047C45.3217 64.0001 44.6059 63.2726 44.6059 62.3751C44.6059 61.4777 45.3217 60.7501 46.2047 60.7501H53.2763C57.1416 60.7501 60.2864 57.5538 60.2864 53.6251V46.4376C60.2864 45.5402 61.0022 44.8126 61.8851 44.8126C62.7681 44.8126 63.4839 45.5402 63.4839 46.4376ZM63.4839 10.375V17.5625C63.4839 18.4599 62.7681 19.1875 61.8851 19.1875C61.0022 19.1875 60.2864 18.4599 60.2864 17.5625V10.375C60.2864 6.44625 57.1416 3.25 53.2763 3.25H46.2047C45.3217 3.25 44.6059 2.52244 44.6059 1.625C44.6059 0.727562 45.3217 0 46.2047 0H53.2763C58.9048 0 63.4839 4.65419 63.4839 10.375ZM43.0331 47.3022C43.7067 46.6698 43.7483 45.6022 43.1262 44.9176C42.5039 44.233 41.4536 44.1906 40.78 44.823C38.3832 47.0732 35.265 48.3125 31.9997 48.3125C28.7344 48.3125 25.6162 47.0732 23.2194 44.823C22.5457 44.1906 21.4955 44.233 20.8732 44.9176C20.251 45.6022 20.2927 46.6698 20.9663 47.3022C23.9784 50.1301 27.8968 51.6875 31.9997 51.6875C36.1026 51.6875 40.021 50.1301 43.0331 47.3022ZM35.3207 24.1249V36.1249C35.3207 38.5029 33.4173 40.4374 31.0777 40.4374H29.7249C28.8079 40.4374 28.0646 39.6819 28.0646 38.7499C28.0646 37.8179 28.8079 37.0624 29.7249 37.0624H31.0777C31.5863 37.0624 32.0001 36.6419 32.0001 36.1249V24.1249C32.0001 23.1929 32.7434 22.4374 33.6604 22.4374C34.5774 22.4374 35.3207 23.1929 35.3207 24.1249ZM46.7581 28.8437V24.0312C46.7581 23.151 46.056 22.4374 45.19 22.4374C44.324 22.4374 43.622 23.151 43.622 24.0312V28.8437C43.622 29.7239 44.324 30.4374 45.19 30.4374C46.056 30.4374 46.7581 29.7239 46.7581 28.8437ZM17.6109 28.8437C17.6109 29.7239 18.313 30.4374 19.1789 30.4374C20.0449 30.4374 20.747 29.7239 20.747 28.8437V24.0312C20.747 23.151 20.0449 22.4374 19.1789 22.4374C18.313 22.4374 17.6109 23.151 17.6109 24.0312V28.8437Z"})}),wZ=({hasBlockingError:t,error:e,onClose:n,onBack:i,handleSubmit:f,account:b,submitSuccess:s})=>{let{pendingTransaction:y}=et();return O.jsxs(O.Fragment,{children:[O.jsx(zt,{onClose:n},"header"),O.jsx(JY,{children:O.jsxs("div",{children:[O.jsx(NY,{success:s,fail:!!e}),O.jsx(e?Jd:A7,{style:{width:"38px",height:"38px"}})]})}),O.jsx(ss,{style:{marginTop:"1rem"},children:"Verifying with passkey"}),O.jsxs(g3,{children:[O.jsxs(Cd,{children:[O.jsx(bd,{children:O.jsx(Od,{})}),"Approve this action using your touch, face, PIN, or hardware key."]}),O.jsxs(Cd,{children:[O.jsx(bd,{children:O.jsx(ove,{})}),"You last added a passkey on"," ",b?.firstVerifiedAt?.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}),"."]})]}),y&&O.jsx(Wd,{children:O.jsx(v9,{pendingTransaction:y})}),e&&O.jsxs(O.Fragment,{children:[O.jsx(mZ,{style:{marginTop:"1.25rem"},children:e.message}),O.jsx(xn,{disabled:t,onClick:f,style:{margin:"1.25rem auto 0"},children:"Try again"})]}),i&&O.jsx(p9,{style:{marginTop:"1rem"},onClick:i,children:"Choose another method"}),O.jsx(fr,{})]})};let Vje=Array(6).fill("");var q0,Hje=((q0=Hje||{})[q0.RESET_AFTER_DELAY=0]="RESET_AFTER_DELAY",q0[q0.CLEAR_ON_NEXT_VALID_INPUT=1]="CLEAR_ON_NEXT_VALID_INPUT",q0);function g9(t){return/^[0-9]{1}$/.test(t)}function LN(t){return t.length===6&&t.every(g9)}const xw=({onChange:t,disabled:e,errorReasonOverride:n,success:i})=>{let[f,b]=H.useState(Vje),[s,y]=H.useState(null),[r,o]=H.useState(null),v=async u=>{u.preventDefault();let l=u.currentTarget.value.replace(/\s+/g,"");if(l==="")return;let a=f.reduce(((E,T)=>E+Number(g9(T))),0),d=l.split(""),p=!d.every(g9),h=d.length+a>6;if(p)return y("Passcode can only be numbers"),void o(1);if(h)return y("Passcode must be exactly 6 numbers"),void o(1);y(null),o(null);let g=Number(u.currentTarget.name?.charAt(4)),m=[...l||[""]].slice(0,6-g),x=[...f.slice(0,g),...m,...f.slice(g+m.length)];b(x);let w=Math.min(Math.max(g+m.length,0),5);if(document.querySelector(`input[name=pin-${w}]`)?.focus(),LN(x))try{await t(x.join("")),document.querySelector(`input[name=pin-${w}]`)?.blur()}catch(E){o(1),y(E.message)}else try{await t(null)}catch(E){o(1),y(E.message)}},c=i?"success":!n&&!s?"":"fail";return O.jsx(O.Fragment,{children:O.jsxs(Yje,{children:[O.jsx("div",{children:f.map(((u,l)=>O.jsx("input",{name:`pin-${l}`,type:"text",value:f[l],onChange:v,onKeyUp:a=>{a.key==="Backspace"&&(d=>{r===1&&(y(null),o(null));let p=[...f.slice(0,d),"",...f.slice(d+1)];b(p),d>0&&document.querySelector(`input[name=pin-${d-1}]`)?.focus(),LN(p)?t(p.join("")):t(null)})(l)},inputMode:"numeric",autoFocus:l===0,pattern:"[0-9]",className:c,autoComplete:tn.isMobile?"one-time-code":"off",disabled:e},l)))}),O.jsx("div",{children:O.jsx(Xje,{$fail:!!n||!!s,children:n||s})})]})})};let Yje=ae.div.withConfig({displayName:"PinInputContainer",componentId:"sc-7a171f6-0"})(["display:flex;flex-direction:column;width:100%;gap:8px;@media (max-width:440px){margin-top:8px;margin-bottom:8px;}> div:nth-child(1){display:flex;justify-content:center;gap:0.5rem;width:100%;border-radius:var(--privy-border-radius-md);> input{border:1px solid var(--privy-color-foreground-4);background:var(--privy-color-background);border-radius:var(--privy-border-radius-md);padding:8px 10px;height:58px;width:46px;text-align:center;font-size:18px;}> input:disabled{background:var(--privy-color-background-2);}> input:focus{border:1px solid var(--privy-color-accent);}> input:invalid{border:1px solid var(--privy-color-error);}> input.success{border:1px solid var(--privy-color-success);}> input.fail{border:1px solid var(--privy-color-error);animation:shake 180ms;animation-iteration-count:2;}}@keyframes shake{0%{transform:translate(1px,0px);}33%{transform:translate(-1px,0px);}67%{transform:translate(-1px,0px);}100%{transform:translate(1px,0px);}}"]),Xje=ae.div.withConfig({displayName:"InputHelp",componentId:"sc-7a171f6-1"})(["line-height:20px;font-size:13px;display:flex;justify-content:flex-start;width:100%;color:",";"],(t=>t.$fail?"var(--privy-color-error)":"var(--privy-color-foreground-3)"));const xZ=({selectedMethod:t,submitSuccess:e,hasBlockingError:n,onClose:i,onBack:f,handleSubmitCode:b})=>{let s=it(),{pendingTransaction:y}=et();switch(t){case"sms":return O.jsxs(O.Fragment,{children:[O.jsx(zt,{onClose:i},"header"),O.jsx(ha,{style:{marginBottom:"1.5rem"},children:O.jsx(lc,{})}),O.jsx(ss,{children:"Enter verification code"}),O.jsxs(Wd,{children:[O.jsx(xw,{success:e,disabled:n,onChange:b}),O.jsxs(da,{children:["To continue, please enter the 6-digit code sent to your ",O.jsx("strong",{children:"mobile device"})]}),y&&O.jsx(v9,{pendingTransaction:y})]}),f&&O.jsx(p9,{theme:s?.appearance.palette.colorScheme,onClick:f,children:"Choose another method"}),O.jsx(oo,{onClick:i,children:"Cancel"}),O.jsx(fr,{})]});case"totp":return O.jsxs(O.Fragment,{children:[O.jsx(zt,{onClose:i},"header"),O.jsx(ha,{style:{marginBottom:"1.5rem"},children:O.jsx(lx,{})}),O.jsx(ss,{children:"Enter verification code"}),O.jsxs(Wd,{children:[O.jsx(xw,{success:e,disabled:n,onChange:b}),O.jsxs(da,{children:["To continue, please enter the 6-digit code generated from your"," ",O.jsx("strong",{children:"authenticator app"})]}),y&&O.jsx(v9,{pendingTransaction:y})]}),f&&O.jsx(p9,{theme:s?.appearance.palette.colorScheme,onClick:f,children:"Choose another method"}),O.jsx(oo,{onClick:i,children:"Cancel"}),O.jsx(fr,{})]});default:return null}},bw=t=>KFe(t)?{isBlocking:!0,error:Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds.")}:XT(t)?{isBlocking:!1,error:Error("The code you entered is not valid")}:YT(t)?{isBlocking:!0,error:Error("You have exceeded the time limit for code entry. Please try again in 30 seconds.")}:(console.error(t),{isBlocking:!1,error:Error("Something went wrong.")}),Kje={component:()=>{let{user:t}=Vt(),{data:e}=lt(),[n,i]=H.useState(t?.mfaMethods[0]),[f,b]=H.useState(!1),[s,y]=H.useState(),[r,o]=H.useState();if(H.useEffect((()=>{i(t?.mfaMethods[0])}),[t?.mfaMethods]),!e?.mfaVerify)throw Error("Missing modal data for MFA verification screen.");let{onFailure:v,onSuccess:c,generateOptions:u,verifyTotpCode:l,verifyPasskey:a,verifySmsCode:d,sendSmsCode:p}=e.mfaVerify,h=async w=>{if(w!=="passkey")try{i(w),w==="sms"&&(i(w),await p()),w==="totp"&&i(w)}catch(C){console.error(C)}else try{i(w);let C=await u();if(!C)throw Error("something went wrong");y(C),await a(C),b(!0),o(void 0),c()}catch(C){o(bw(C))}},g=async w=>{o(void 0);try{if(!w||!n)return;if(n==="passkey"){if(!s)throw Error("Missing passkey challenge");await a(s)}else n==="sms"?await d(w):n==="totp"&&await l(w);o(void 0),b(!0),c()}catch(C){throw bw(C).error}},m=()=>{r||!f?v(r?.error??Error("Canceled MFA verification.")):c()},x=H.useRef(!1);return H.useEffect((()=>{!x.current&&n&&(x.current=!0,h(n).finally((()=>{x.current=!1})))}),[open]),t?n==="passkey"?O.jsx(wZ,{account:t.linkedAccounts.filter((w=>w.type==="passkey"&&w.enrolledInMfa)).sort(((w,C)=>C.firstVerifiedAt.valueOf()-w.firstVerifiedAt.valueOf()))[0],submitSuccess:f,hasBlockingError:r?.isBlocking??!1,error:r?.error,onClose:m,onBack:()=>{i(void 0),o(void 0)},handleSubmit:()=>g(s).catch(o)}):n==="sms"||n==="totp"?O.jsx(xZ,{selectedMethod:n,submitSuccess:f,hasBlockingError:r?.isBlocking??!1,handleSubmitCode:g,onClose:m,onBack:t.mfaMethods.length>1?()=>i(void 0):void 0}):O.jsx(yZ,{user:t,onSelect:h,handleClose:m}):null}};function bZ(){let{promptMfa:t,init:e,submit:n,cancel:i,mfaMethods:f}=H.useContext(Mp);return{promptMfa:t,init:e,submit:n,cancel:i,mfaMethods:f}}const DN=({onClose:t})=>{let{user:e}=Vt(),[n,i]=H.useState(e?.mfaMethods[0]??null),{init:f,cancel:b,submit:s}=bZ(),[y,r]=H.useState(!1),[o,v]=H.useState(null),[c,u]=H.useState();H.useEffect((()=>{i(e?.mfaMethods[0]??null)}),[e?.mfaMethods]);let l=H.useRef(!1);async function a(h){u(void 0);try{if(!h||!n)return;await s(n,h),r(!0),u(void 0),t()}catch(g){throw bw(g).error}}async function d(h){if(h!=="passkey")try{i(h),await f(h)}catch(g){console.error(g)}else try{i(h);let g=await f(h);if(!g)throw Error("something went wrong");v(g),await s(h,g),r(!0),u(void 0),t()}catch(g){u(bw(g))}}H.useEffect((()=>{!l.current&&n&&(l.current=!0,d(n).finally((()=>{l.current=!1})))}),[]);let p=()=>{i(null),u(void 0),b(),t()};return e?n==="passkey"?O.jsx(wZ,{account:e.linkedAccounts.filter((h=>h.type==="passkey"&&h.enrolledInMfa)).sort(((h,g)=>g.firstVerifiedAt.valueOf()-h.firstVerifiedAt.valueOf()))[0],submitSuccess:y,hasBlockingError:c?.isBlocking??!1,error:c?.error,onClose:p,onBack:()=>{i(null),u(void 0)},handleSubmit:()=>a(o).catch(u)}):n?O.jsx(xZ,{submitSuccess:y,hasBlockingError:c?.isBlocking??!1,handleSubmitCode:a,selectedMethod:n,onClose:p,onBack:e.mfaMethods.length>1?()=>i(null):void 0}):O.jsx(yZ,{user:e,onSelect:d,handleClose:p}):null},Xg=Fp((()=>({inProgressMfaFlow:void 0}))),Zje=Ope([":root{","};"],(t=>Jje(t.palette))),Jje=t=>Dr(["",""],Object.entries((function(e){return{"--privy-color-background":e.background,"--privy-color-background-2":e.background2,"--privy-color-background-3":e.background3,"--privy-color-foreground":e.foreground,"--privy-color-foreground-2":e.foreground2,"--privy-color-foreground-3":e.foreground3,"--privy-color-foreground-4":e.foreground4,"--privy-color-foreground-accent":e.foregroundAccent,"--privy-color-accent":e.accent,"--privy-color-accent-light":e.accentLight,"--privy-color-accent-hover":e.accentHover,"--privy-color-accent-dark":e.accentDark,"--privy-color-accent-darkest":e.accentDarkest,"--privy-color-success":e.success,"--privy-color-success-dark":e.successDark,"--privy-color-success-light":e.successLight,"--privy-color-success-bg":e.successBg,"--privy-color-error":e.error,"--privy-color-error-light":e.errorLight,"--privy-color-error-bg":e.errorBg,"--privy-color-error-bg-hover":e.errorBgHover,"--privy-color-warn":e.warn,"--privy-color-warn-light":e.warnLight,"--privy-color-warn-bg":e.warnBg,"--privy-color-warning-dark":e.warningDark,"--privy-color-error-dark":e.errorDark,"--privy-color-info-bg":e.infoBg,"--privy-color-info-bg-hover":e.infoBgHover,"--privy-color-border-default":e.borderDefault,"--privy-color-border-hover":e.borderHover,"--privy-color-border-focus":e.borderFocus,"--privy-color-border-error":e.borderError,"--privy-color-border-success":e.borderSuccess,"--privy-color-border-warning":e.borderWarning,"--privy-color-border-info":e.borderInfo,"--privy-color-border-interactive":e.borderInteractive,"--privy-color-border-interactive-hover":e.borderInteractiveHover,"--privy-color-background-hover":e.backgroundHover,"--privy-color-background-clicked":e.backgroundClicked,"--privy-color-background-disabled":e.backgroundDisabled,"--privy-color-background-interactive":e.backgroundInteractive,"--privy-color-background-interactive-hover":e.backgroundInteractiveHover,"--privy-color-background-interactive-clicked":e.backgroundInteractiveClicked,"--privy-color-background-interactive-disabled":e.backgroundInteractiveDisabled,"--privy-color-foreground-hover":e.foregroundHover,"--privy-color-foreground-clicked":e.foregroundClicked,"--privy-color-foreground-disabled":e.foregroundDisabled,"--privy-color-foreground-interactive":e.foregroundInteractive,"--privy-color-foreground-interactive-hover":e.foregroundInteractiveHover,"--privy-link-navigation-color":e.linkNavigationColor,"--privy-link-navigation-decoration":e.linkNavigationDecoration,"--privy-accent-has-good-contrast":e.accentHasGoodContrast,"--privy-color-icon-default":e.iconDefault,"--privy-color-icon-muted":e.iconMuted,"--privy-color-icon-subtle":e.iconSubtle,"--privy-color-icon-inverse":e.iconInverse,"--privy-color-icon-success":e.iconSuccess,"--privy-color-icon-warning":e.iconWarning,"--privy-color-icon-error":e.iconError,"--privy-color-icon-interactive":e.iconInteractive,"--privy-color-icon-default-hover":e.iconDefaultHover,"--privy-color-icon-muted-hover":e.iconMutedHover,"--privy-color-icon-subtle-hover":e.iconSubtleHover,"--privy-color-icon-default-clicked":e.iconDefaultClicked,"--privy-color-icon-muted-clicked":e.iconMutedClicked,"--privy-color-icon-subtle-clicked":e.iconSubtleClicked,"--privy-color-icon-default-disabled":e.iconDefaultDisabled,"--privy-color-icon-muted-disabled":e.iconMutedDisabled,"--privy-color-icon-subtle-disabled":e.iconSubtleDisabled,"--privy-color-icon-error-hover":e.iconErrorHover,"--privy-color-icon-interactive-hover":e.iconInteractiveHover,"--privy-color-icon-error-clicked":e.iconErrorClicked,"--privy-color-icon-interactive-clicked":e.iconInteractiveClicked,"--privy-color-icon-muted-disabled-alt":e.iconMutedDisabledAlt,"--privy-color-icon-subtle-disabled-alt":e.iconSubtleDisabledAlt,"--privy-border-radius-xs":"6px","--privy-border-radius-sm":"8px","--privy-border-radius-md":"12px","--privy-border-radius-mdlg":"16px","--privy-border-radius-lg":"24px","--privy-border-radius-full":"9999px","--privy-height-modal-full":"620px","--privy-height-modal-compact":"480px"}})(t)).map((([e,n])=>`${e}: ${n};`)).join(`
`)),NN=ae.div.withConfig({displayName:"StylesWrapper",componentId:"sc-188229e4-0"})([""," color:var(--privy-color-foreground-2);h3{font-size:16px;line-height:24px;font-weight:500;color:var(--privy-color-foreground-2);}h4{font-size:14px;line-height:20px;font-weight:500;color:var(--privy-color-foreground);}p{font-size:13px;line-height:20px;color:var(--privy-color-foreground-2);}button:focus,input:focus,optgroup:focus,select:focus,textarea:focus{outline:none;border-color:var(--privy-color-accent-light);box-shadow:0 0 0 3px var(--privy-color-border-focus);}.mobile-only{@media (min-width:441px){display:none;}}@keyframes fadein{0%{opacity:0;}100%{opacity:1;}}"],`
  *,
  ::before,
  ::after {
    box-sizing: border-box;
    border-width: 0;
    border-style: solid;
  }

  line-height: 1.15;
  -webkit-text-size-adjust: 100%;
  -moz-tab-size: 4;
  tab-size: 4;
  font-feature-settings: normal;

  margin: 0;
  font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';

  hr {
    height: 0;
    color: inherit;
    border-top-width: 1px;
  }

  abbr:where([title]) {
    text-decoration: underline dotted;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-size: inherit;
    font-weight: inherit;
    font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';
    display: inline;
  }

  a {
    color: inherit;
    text-decoration: inherit;
  }

  b,
  strong {
    font-weight: bolder;
  }

  code,
  kbd,
  samp,
  pre {
    font-family: ui-monospace, SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace;
    font-size: 1em;
  }

  small {
    font-size: 80%;
  }

  sub,
  sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
  }

  sub {
    bottom: -0.25em;
  }

  sup {
    top: -0.5em;
  }

  table {
    text-indent: 0;
    border-color: inherit;
    border-collapse: collapse;
  }

  button,
  input,
  optgroup,
  select,
  textarea {
    font-family: inherit;
    font-size: 100%;
    font-weight: inherit;
    line-height: inherit;
    color: inherit;
    margin: 0;
    padding: 0;
  }

  button,
  select {
    text-transform: none;
  }

  button,
  [type='button'],
  [type='reset'],
  [type='submit'] {
    -webkit-appearance: button;
    background-color: transparent;
    background-image: none;
  }

  ::-moz-focus-inner {
    border-style: none;
    padding: 0;
  }

  :-moz-focusring {
    outline: 1px dotted ButtonText;
  }

  :-moz-ui-invalid {
    box-shadow: none;
  }

  legend {
    padding: 0;
  }

  progress {
    vertical-align: baseline;
  }

  ::-webkit-inner-spin-button,
  ::-webkit-outer-spin-button {
    height: auto;
  }

  [type='search'] {
    -webkit-appearance: textfield;
    outline-offset: -2px;
  }

  ::-webkit-search-decoration {
    -webkit-appearance: none;
  }

  ::-webkit-file-upload-button {
    -webkit-appearance: button;
    font: inherit;
  }

  summary {
    display: list-item;
  }

  blockquote,
  dl,
  dd,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  hr,
  figure,
  p,
  pre {
    margin: 0;
  }

  fieldset {
    margin: 0;
    padding: 0;
  }

  legend {
    padding: 0;
  }

  ol,
  ul,
  menu {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  textarea {
    resize: vertical;
  }

  input::placeholder,
  textarea::placeholder {
    opacity: 1;
    color: #9ca3af;
  }

  button,
  [role='button'] {
    cursor: pointer;
  }

  :disabled {
    cursor: default;
  }

  img,
  svg,
  video,
  canvas,
  audio,
  iframe,
  embed,
  object {
    display: block;
  }

  img,
  video {
    max-width: 100%;
    height: auto;
  }

  [hidden] {
    display: none;
  }
`),Qje=({children:t,open:e,onClick:n,...i})=>O.jsx(jH,{show:e,as:Ze.Fragment,children:O.jsxs(EMe,{onClose:n,...i,as:qje,children:[O.jsx(Ug,{as:Ze.Fragment,enterFrom:"entering",leaveTo:"leaving",children:O.jsx(_je,{id:"privy-dialog-backdrop","aria-hidden":"true"})}),O.jsx(eze,{children:O.jsx(Ug,{as:Ze.Fragment,enterFrom:"entering",leaveTo:"leaving",children:O.jsx(zH,{as:tze,children:t})})})]})});let _je=ae.div.withConfig({displayName:"Backdrop",componentId:"sc-3cfde0b5-0"})(["position:fixed;inset:0;transition:backdrop-filter 100ms ease;backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px);&.entering,&.leaving{backdrop-filter:unset;-webkit-backdrop-filter:unset;}"]),qje=ae.div.withConfig({displayName:"DialogWrapper",componentId:"sc-3cfde0b5-1"})(["position:relative;z-index:999999;"]),eze=ae.div.withConfig({displayName:"DialogContainer",componentId:"sc-3cfde0b5-2"})(["position:fixed;inset:0;display:flex;align-items:center;justify-content:center;width:100vw;min-height:100vh;"]);const tze=ae.div.withConfig({displayName:"Panel",componentId:"sc-3cfde0b5-3"})(["padding:0;background:transparent;border:none;width:100%;pointer-events:auto;outline:none;display:block;@media (max-width:440px){opacity:1;transform:translate3d(0,0,0);transition:transform 200ms ease-in;position:fixed;bottom:0;&.entering,&.leaving{opacity:0;transform:translate3d(0,100%,0);transition:transform 150ms ease-in 0ms,opacity 0ms ease 150ms;}}@media (min-width:441px){opacity:1;transition:opacity 100ms ease-in;&.entering,&.leaving{opacity:0;transition-delay:5ms;}margin:auto;width:360px;box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]),nze=ae.div.withConfig({displayName:"CenterItem",componentId:"sc-3cfde0b5-4"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;"]);let CZ=()=>{let{ready:t,isModalOpen:e}=Vt(),{headless:n}=it(),{currentScreen:i}=lt(),{status:f,execute:b,reset:s,enabled:y}=ms(),r=Xg((c=>c.inProgressMfaFlow)),o=()=>Xg.setState({inProgressMfaFlow:void 0}),v=e&&i&&i.isCaptchaRequired&&!n&&f==="ready";return H.useEffect((()=>{v&&b()}),[v]),H.useEffect((()=>{!e&&y&&s()}),[e,y]),i&&!t&&i.isShownBeforeReady?O.jsxs(O.Fragment,{children:[O.jsx(zt,{}),O.jsx(cl,{}),O.jsx(nze,{children:O.jsx(xa,{})}),O.jsx(go,{}),O.jsx(fr,{})]}):i||r!=="txn"?i?O.jsxs(O.Fragment,{children:[O.jsx(xp,{$if:!!r,children:O.jsx(i.component,{})}),r==="txn"&&O.jsx(DN,{onClose:o}),r==="auth"&&O.jsx(Kje.component,{})]}):null:O.jsx(DN,{onClose:o})},rze=()=>{let t=H.useRef(null);return O.jsx(sze,{style:{height:rje(t)},id:"privy-modal-content",children:O.jsx("div",{ref:t,children:O.jsx(CZ,{})})})};const ize=({open:t})=>{let e=it(),{gracefulClosePrivyModal:n}=(()=>{let{closePrivyModal:f}=et(),{onUserCloseViaDialogOrKeybindRef:b}=lt();return{gracefulClosePrivyModal:H.useCallback((()=>{if(!b?.current)return f({shouldCallAuthOnSuccess:!1});b.current()}),[f])}})(),i=Xg((f=>f.inProgressMfaFlow));return Wje({onMfaRequired:()=>{e.mfa.noPromptOnMfaRequired||Xg.setState({inProgressMfaFlow:"txn"})}}),e.render.standalone?O.jsx(NN,{children:O.jsx(EZ,{id:"privy-modal-content",children:O.jsx(CZ,{})})}):O.jsx(Qje,{open:!(!t&&!i),id:"privy-dialog","aria-label":"log in or sign up","aria-labelledby":"privy-dialog-title",onClick:()=>n(),children:O.jsx(NN,{children:O.jsx(rze,{})})})};let EZ=ae.div.withConfig({displayName:"ContentWrapper",componentId:"sc-b220e1ee-0"})(["display:flex;flex-direction:column;text-align:center;font-size:14px;line-height:20px;width:100%;background:var(--privy-color-background);padding:0 16px;"]),sze=ae(EZ).withConfig({displayName:"BaseModal",componentId:"sc-b220e1ee-1"})(["transition:height 150ms ease-out;overflow-x:hidden;overflow-y:auto;scrollbar-width:none;max-height:calc(100svh - 32px);border-radius:var(--privy-border-radius-lg) var(--privy-border-radius-lg) 0 0;box-shadow:0px 0px 36px rgba(55,65,81,0.15);@media (min-width:441px){box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]);function aze(t){let e=H.useRef(null),n=H.useRef();return H.useEffect((()=>{n.current?.remove(),n.current=(function({botUsername:i,scriptHost:f}){let b=document.createElement("script"),{origin:s}=new URL(f);return b.async=!0,b.src=`${s}/js/telegram-login.js`,b.setAttribute("data-telegram-login",i),b.setAttribute("data-request-access","write"),b.setAttribute("data-lang","en"),b})(t),e.current?.after(n.current)}),[t]),O.jsx("div",{ref:e,hidden:!0})}const oze=()=>{let{ready:t}=ch(),{client:e}=et();return H.useEffect((()=>{let n=()=>{if(!e.connectors||!t)return;let i=e.connectors.wallets.map((f=>({address:f.address,connectorType:f.connectorType,walletClientType:f.walletClientType,connectedAt:f.connectedAt,id:f.meta.id})));Ct.put(tY,i)};return e.connectors?.on("walletsUpdated",n),()=>{e.connectors?.off("walletsUpdated",n)}}),[t,e.connectors]),null};async function ia(t,e,n,i,f,b=!1){let s=b,y=async o=>{if(s&&e&&e.length>0){o===(b?0:1)?f("configureMfa","onMfaRequired",{mfaMethods:e}):i.current?.reject(new Qn("missing_or_invalid_mfa","MFA verification failed, retry."));let v=await new Promise(((c,u)=>{n.current={resolve:c,reject:u},setTimeout((()=>{let l=new Qn("mfa_timeout","Timed out waiting for MFA code");i.current?.reject(l),u(l)}),3e5)}));return await t(v)}return await t()},r=null;for(let o=0;o<4;o++)try{r=await y(o),i.current?.resolve(void 0);break}catch(v){if(v.type!=="missing_or_invalid_mfa")throw i.current?.resolve(void 0),v;s=!0}if(r===null){let o=new Qn("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw i.current?.reject(o),o}return r}var kN;let lze=(kN=0,()=>"id-"+kN++);function Pr(t){return t.error!==void 0}let mr=new class{enqueue(t,e){this.callbacks[t]=e}dequeue(t,e){let n=this.callbacks[e];if(!n)throw Error(`cannot dequeue ${t} event: no event found for id ${e}`);switch(delete this.callbacks[e],t){case"privy:iframe:ready":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:import":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":case"privy:auth:unlink-passkey":case"privy:farcaster:init-signer":case"privy:farcaster:sign":case"privy:solana-wallet:create":case"privy:delegated-actions:consent":return n;default:throw Error(`invalid wallet event type ${t}`)}}constructor(){this.callbacks={}}},s8=new Map,uze=(t,e)=>typeof e=="bigint"?e.toString():e;function Ir(t,e,n,i){let f=n.contentWindow;if(!f)throw Error("iframe not initialized");let b=((y,r)=>`${y}${JSON.stringify(r,uze)}`)(t,e);if(t==="privy:wallet:create"){let y=s8.get(b);if(y)return y}let s=new Promise(((y,r)=>{let o=lze();mr.enqueue(o,{resolve:y,reject:r}),f.postMessage({id:o,event:t,data:e},i)})).finally((()=>{s8.delete(b)}));return s8.set(b,s),s}function cze(t){let e=MY(),n=H.useRef(null),i=H.useRef(t.mfaMethods),f=uh(),[b,s]=H.useState(!1);return H.useEffect((()=>{i.current=t.mfaMethods}),[t.mfaMethods]),H.useEffect((()=>{if(!b)return;let y=n.current;if(!y)return;function r(c){var u;c&&c.origin===t.origin&&typeof(u=c.data).event=="string"&&/^privy:.+/.test(u.event)&&(function(l){switch(l.event){case"privy:iframe:ready":let a=mr.dequeue(l.event,l.id);return Pr(l)?a.reject(new Qn(l.error.type,l.error.message)):a.resolve(l.data);case"privy:user-signer:sign":{let m=mr.dequeue(l.event,l.id);return Pr(l)?m.reject(new Qn(l.error.type,l.error.message)):m.resolve(l.data)}case"privy:wallets:add":{let m=mr.dequeue(l.event,l.id);return Pr(l)?m.reject(new Qn(l.error.type,l.error.message)):m.resolve(l.data)}case"privy:wallets:set-recovery":{let m=mr.dequeue(l.event,l.id);return Pr(l)?m.reject(new Qn(l.error.type,l.error.message)):m.resolve(l.data)}case"privy:wallets:connect":{let m=mr.dequeue(l.event,l.id);return Pr(l)?m.reject(new Qn(l.error.type,l.error.message)):m.resolve(l.data)}case"privy:wallets:recover":{let m=mr.dequeue(l.event,l.id);return Pr(l)?m.reject(new Qn(l.error.type,l.error.message)):m.resolve(l.data)}case"privy:wallets:rpc":{let m=mr.dequeue(l.event,l.id);return Pr(l)?m.reject(new Qn(l.error.type,l.error.message)):m.resolve(l.data)}case"privy:wallet:create":let d=mr.dequeue(l.event,l.id);return Pr(l)?d.reject(new Qn(l.error.type,l.error.message)):d.resolve(l.data);case"privy:wallets:import":let p=mr.dequeue(l.event,l.id);return Pr(l)?p.reject(new Qn(l.error.type,l.error.message)):p.resolve(l.data);case"privy:mfa:verify":let h=mr.dequeue(l.event,l.id);return Pr(l)?h.reject(new Qn(l.error.type,l.error.message)):h.resolve(l.data);case"privy:mfa:init-enrollment":{let m=mr.dequeue(l.event,l.id);return Pr(l)?m.reject(new Qn(l.error.type,l.error.message)):m.resolve(l.data)}case"privy:mfa:submit-enrollment":{let m=mr.dequeue(l.event,l.id);return Pr(l)?m.reject(new Qn(l.error.type,l.error.message)):m.resolve(l.data)}case"privy:mfa:unenroll":{let m=mr.dequeue(l.event,l.id);return Pr(l)?m.reject(new Qn(l.error.type,l.error.message)):m.resolve(l.data)}case"privy:mfa:clear":{let m=mr.dequeue(l.event,l.id);return Pr(l)?m.reject(new Qn(l.error.type,l.error.message)):m.resolve(l.data)}case"privy:auth:unlink-passkey":{let m=mr.dequeue(l.event,l.id);return Pr(l)?m.reject(new Qn(l.error.type,l.error.message)):m.resolve(l.data)}case"privy:solana-wallet:create":let g=mr.dequeue(l.event,l.id);return Pr(l)?g.reject(new Qn(l.error.type,l.error.message)):g.resolve(l.data);case"privy:farcaster:init-signer":{let m=mr.dequeue(l.event,l.id);return Pr(l)?m.reject(new Qn(l.error.type,l.error.message)):m.resolve(l.data)}case"privy:farcaster:sign":{let m=mr.dequeue(l.event,l.id);return Pr(l)?m.reject(new Qn(l.error.type,l.error.message)):m.resolve(l.data)}case"privy:delegated-actions:consent":{let m=mr.dequeue(l.event,l.id);return Pr(l)?m.reject(new Qn(l.error.type,l.error.message)):m.resolve(l.data)}default:console.warn("Unsupported wallet proxy method:",l)}})(c.data)}let o={signWithUserSigner:c=>ia((u=>Ir("privy:user-signer:sign",{...c,...u},y,t.origin)),i.current,t.mfaPromise,t.mfaSubmitPromise,f),addWallet:c=>ia((u=>Ir("privy:wallets:add",{...c,...u},y,t.origin)),i.current,t.mfaPromise,t.mfaSubmitPromise,f),setRecovery:c=>ia((u=>Ir("privy:wallets:set-recovery",{...c,...u},y,t.origin)),i.current,t.mfaPromise,t.mfaSubmitPromise,f),connect:c=>ia((u=>Ir("privy:wallets:connect",{...c,...u},y,t.origin)),i.current,t.mfaPromise,t.mfaSubmitPromise,f),recover:c=>ia((u=>Ir("privy:wallets:recover",{...c,...u},y,t.origin)),i.current,t.mfaPromise,t.mfaSubmitPromise,f,!c.recoveryAccessToken&&!c.recoveryPassword&&!c.recoverySecretOverride),rpc:c=>ia((u=>Ir("privy:wallets:rpc",{...c,...u},y,t.origin)),i.current,t.mfaPromise,t.mfaSubmitPromise,f),create:c=>Ir("privy:wallet:create",c,y,t.origin),importWallet:c=>Ir("privy:wallets:import",c,y,t.origin),createSolana:c=>ia((u=>Ir("privy:solana-wallet:create",{...c,...u},y,t.origin)),i.current,t.mfaPromise,t.mfaSubmitPromise,f),createDelegatedAction:c=>Ir("privy:delegated-actions:consent",c,y,t.origin),verifyMfa:c=>ia((u=>Ir("privy:mfa:verify",{...c,...u},y,t.origin)),i.current,t.mfaPromise,t.mfaSubmitPromise,f,!0),initEnrollMfa:c=>ia((u=>Ir("privy:mfa:init-enrollment",{...c,...u},y,t.origin)),i.current,t.mfaPromise,t.mfaSubmitPromise,f),submitEnrollMfa:c=>ia((u=>Ir("privy:mfa:submit-enrollment",{...c,...u},y,t.origin)),i.current,t.mfaPromise,t.mfaSubmitPromise,f),unenrollMfa:c=>ia((u=>Ir("privy:mfa:unenroll",{...c,...u},y,t.origin)),i.current,t.mfaPromise,t.mfaSubmitPromise,f),clearMfa:c=>Ir("privy:mfa:clear",c,y,t.origin),unlinkPasskeyAccount:c=>ia((u=>Ir("privy:auth:unlink-passkey",{...c,...u},y,t.origin)),i.current,t.mfaPromise,t.mfaSubmitPromise,f),initFarcasterSigner:c=>Ir("privy:farcaster:init-signer",c,y,t.origin),signFarcasterMessage:c=>Ir("privy:farcaster:sign",c,y,t.origin)};window.addEventListener("message",r);let v=new AbortController;return NE((()=>Ir("privy:iframe:ready",{},y,t.origin)),{abortSignal:v.signal}).then((()=>t.onLoad(o)),((...c)=>{console.warn("Privy iframe failed to load: ",...c),t.onLoadFailed()})),()=>{window.removeEventListener("message",r),v.abort()}}),[b]),e?O.jsx("iframe",{ref:n,width:"0",height:"0",style:{display:"none",height:"0px",width:"0px"},onLoad:()=>s(!0),src:oz({origin:t.origin,path:`/apps/${t.appId}/embedded-wallets`,query:{caid:t.clientAnalyticsId,client_id:t.appClientId}})}):null}const dze=({address:t,user:e})=>{let n=e.linkedAccounts.find((i=>i.type==="wallet"&&i.walletClientType==="privy"&&i.address===t));if(!n)throw new ge("Address to delegate is not associated with current user.");if(!Hg(n))throw new ge(`useDelegatedActions is not supported for ${n.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:n.address,chainType:n.chainType,walletIndex:n.walletIndex??0}},hze=({address:t,user:e})=>{let n=e.linkedAccounts.find((f=>f.type==="wallet"&&f.walletClientType==="privy"&&f.address===t));if(!n)throw new ge("Address to delegate is not associated with current user.");let i=n.imported?n:io(e);if(!i)throw new ge("Unable to determine root address for delegated address.");if(!Hg(i))throw new ge(`useDelegatedActions is not supported for ${i.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:i.address,chainType:i.chainType,imported:i.imported}},BN=t=>t.linkedAccounts.filter((e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.delegated)),fze=()=>{let t=it();H.useEffect((()=>{(async e=>{let n=new URL("v3/wallets","https://explorer-api.walletconnect.com");n.searchParams.append("projectId",e);let i=await fetch(n);return i.ok?Object.values((await i.json()).listings).sort((({slug:f},{slug:b})=>f==="rainbow"&&b==="metamask"?1:f==="metamask"||f==="rainbow"?-1:1)):(console.debug(`Failed to fetch WalletConnect listings: ${await i.text().catch((()=>"No response."))}`),[])})(t.walletConnectCloudProjectId).then((e=>fOe({listings:e}))).catch(console.error)}),[t.walletConnectCloudProjectId])},UN="popup-privy-oauth",jN="PRIVY_OAUTH_USE_BROADCAST_CHANNEL";class pze{async authenticate(){if(!this.api)throw new ge("Auth flow has no API instance");try{return await this.api.post(Tj,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw Ht(e)}}async link(){if(!this.api)throw new ge("Auth flow has no API instance");try{return await this.api.post(Aj,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw Ht(e)}}constructor({authorizationCode:e,stateCode:n,codeVerifier:i,provider:f}){this.meta={authorizationCode:e,stateCode:n,codeVerifier:i,provider:f}}}async function SZ({api:t,requesterAppId:e,providerAppId:n}){let i=(await t.get(`/api/v1/apps/${e}/cross-app/connections`)).connections.find((f=>f.provider_app_id===n));if(!i)throw new ge("Invalid connected app");return{name:i.provider_app_name,logoUrl:i.provider_app_icon_url||void 0,apiUrl:i.provider_app_custom_api_url,readOnly:i.read_only,customAuthAuthorizeUrl:i.provider_app_custom_auth_authorize_url,customAuthTransactUrl:i.provider_app_custom_auth_transact_url}}const Ny=async({user:t,address:e,client:n,request:i,requesterAppId:f,reconnect:b})=>{n.createAnalyticsEvent({eventName:"cross_app_request_started",payload:{address:e,method:i.method}});let s=t?.linkedAccounts.find((c=>c.type==="cross_app"&&(c.embeddedWallets.some((u=>u.address===e))||c.smartWallets.some((u=>u.address===e)))));if(!t||!s)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Cannot request a signature with this wallet address",address:e}}),new ge("Cannot request a signature with this wallet address");let y=n.getProviderAccessToken(s.providerApp.id),r=await SZ({api:n.api,requesterAppId:f,providerAppId:s.providerApp.id});if(!y){if(r.readOnly)throw console.error("cannot transact against a read-only provider app"),new ge("Cannot transact against a read-only provider app");await b({appId:s.providerApp.id,action:"link"})&&(y=n.getProviderAccessToken(s.providerApp.id))}if(!y)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Transactions require a valid token",address:e}}),new ge("Transactions require a valid token");let o=Qx();if(!o)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Missing token",address:e}}),new ge("Failed to initialize signature request");let v=new URL(r.customAuthTransactUrl||`${r.apiUrl}/oauth/transact`);return v.searchParams.set("token",y||""),v.searchParams.set("request",vze(i)),o.location=v.href,new Promise(((c,u)=>{let l=setTimeout((()=>{p(),u(new ge("Request timeout")),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Request timeout",address:e}})}),12e4),a=setInterval((()=>{o.closed&&(p(),u(new ge("User rejected request")),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"User rejected request",address:e}}))}),300),d=h=>{h.data&&(h.data.token?.action==="set"&&h.data.token?.value!==void 0?n.storeProviderAccessToken(s.providerApp.id,h.data.token.value):h.data.token?.action==="clear"&&n.storeProviderAccessToken(s.providerApp.id,null),h.data.type==="PRIVY_CROSS_APP_ACTION_RESPONSE"&&h.data.result&&(p(),c(h.data.result),n.createAnalyticsEvent({eventName:"cross_app_request_success",payload:{address:e,method:i.method}})),h.data.type==="PRIVY_CROSS_APP_ACTION_ERROR"&&h.data.error&&(p(),u(h.data.error),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:h.data.error,address:e}})))};window.addEventListener("message",d);let p=()=>{o.close(),clearInterval(a),clearTimeout(l),window.removeEventListener("message",d)}}))};let vze=t=>JSON.stringify({content:{request:{request:m9(t,er)}},timestamp:Date.now(),callbackUrl:window.origin});const m9=(t,e)=>typeof t=="bigint"?e(t):Array.isArray(t)?t.map((n=>m9(n,e))):t&&typeof t=="object"?Object.fromEntries(Object.entries(t).map((([n,i])=>[n,m9(i,e)]))):t,gze=({passkeys:t,isLoading:e,errorReason:n,success:i,expanded:f,onLinkPasskey:b,onUnlinkPasskey:s,onExpand:y,onBack:r,onClose:o})=>O.jsx(Yt,i?{title:"Passkeys updated",icon:dm,iconVariant:"success",primaryCta:{label:"Done",onClick:o},onClose:o,watermark:!0}:f?{icon:O2,title:"Your passkeys",onBack:r,onClose:o,watermark:!0,children:O.jsx(zN,{passkeys:t,expanded:f,onUnlink:s,onExpand:y})}:{icon:O2,title:"Set up passkey verification",subtitle:"Verify with passkey",primaryCta:{label:"Add new passkey",onClick:b,loading:e},onClose:o,watermark:!0,helpText:n||void 0,children:t.length===0?O.jsx(yze,{}):O.jsx(mze,{children:O.jsx(zN,{passkeys:t,expanded:f,onUnlink:s,onExpand:y})})});let mze=ae.div.withConfig({displayName:"ContentContainer",componentId:"sc-d4c46a0c-0"})(["margin-bottom:12px;"]),zN=({passkeys:t,expanded:e,onUnlink:n,onExpand:i})=>{let[f,b]=H.useState([]),s=e?t.length:2,y=r=>r.authenticatorName?r.createdWithBrowser?`${r.authenticatorName} on ${r.createdWithBrowser}`:r.authenticatorName:r.createdWithBrowser?r.createdWithOs?`${r.createdWithBrowser} on ${r.createdWithOs}`:`${r.createdWithBrowser}`:"Unknown device";return O.jsxs("div",{children:[O.jsx(Eze,{children:"Your passkeys"}),O.jsxs(Cze,{children:[t.slice(0,s).map((r=>O.jsxs(Aze,{children:[O.jsxs("div",{children:[O.jsx(Sze,{children:y(r)}),O.jsxs(Tze,{children:["Last used:"," ",(r.latestVerifiedAt??r.firstVerifiedAt)?.toLocaleString()??"N/A"]})]}),O.jsx(Ize,{disabled:f.includes(r.credentialId),onClick:()=>(async o=>{b((v=>v.concat([o]))),await n(o),b((v=>v.filter((c=>c!==o))))})(r.credentialId),children:f.includes(r.credentialId)?O.jsx(wc,{}):O.jsx(Pfe,{size:16})})]},r.credentialId))),t.length>2&&!e&&O.jsx(bze,{onClick:i,children:"View all"})]})]})},yze=()=>O.jsxs(VX,{style:{color:"var(--privy-color-foreground)"},children:[O.jsx(Qf,{children:"Verify with Touch ID, Face ID, PIN, or hardware key"}),O.jsx(Qf,{children:"Takes seconds to set up and use"}),O.jsx(Qf,{children:"Use your passkey to verify transactions and login to your account"})]});const wze={component:()=>{let{user:t,unlinkPasskey:e}=Vt(),{linkWithPasskey:n,closePrivyModal:i}=et(),f=t?.linkedAccounts.filter((l=>l.type==="passkey")),[b,s]=H.useState(!1),[y,r]=H.useState(""),[o,v]=H.useState(!1),[c,u]=H.useState(!1);return H.useEffect((()=>{f.length===0&&u(!1)}),[f.length]),O.jsx(gze,{passkeys:f,isLoading:b,errorReason:y,success:o,expanded:c,onLinkPasskey:()=>{s(!0),n().then((()=>v(!0))).catch((l=>{if(l instanceof Ai){if(l.privyErrorCode===we.CANNOT_LINK_MORE_OF_TYPE)return void r("Cannot link more passkeys to account.");if(l.privyErrorCode===we.PASSKEY_NOT_ALLOWED)return void r("Passkey request timed out or rejected by user.")}r("Unknown error occurred.")})).finally((()=>{s(!1)}))},onUnlinkPasskey:async l=>(s(!0),await e(l).then((()=>v(!0))).catch((a=>{a instanceof Ai&&a.privyErrorCode===we.MISSING_MFA_CREDENTIALS?r("Cannot unlink a passkey enrolled in MFA"):r("Unknown error occurred.")})).finally((()=>{s(!1)}))),onExpand:()=>u(!0),onBack:()=>u(!1),onClose:()=>i()})}},TZ=ae.div.withConfig({displayName:"DoubleIconWrapper",componentId:"sc-d4c46a0c-1"})(["display:flex;align-items:center;justify-content:center;width:180px;height:90px;border-radius:50%;svg + svg{margin-left:12px;}> svg{z-index:2;color:var(--privy-color-accent) !important;stroke:var(--privy-color-accent) !important;fill:var(--privy-color-accent) !important;}"]);let xze=Dr(["&&{width:100%;font-size:0.875rem;line-height:1rem;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;justify-content:center;padding:6px 8px;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent) !important;:focus{outline:none;box-shadow:none;}}"]);const bze=ae.button.withConfig({displayName:"LinkButton",componentId:"sc-d4c46a0c-2"})(["",""],xze);let Cze=ae.div.withConfig({displayName:"List",componentId:"sc-d4c46a0c-3"})(["display:flex;flex-direction:column;align-items:stretch;gap:0.8rem;padding:0.5rem 0rem 0rem;flex-grow:1;width:100%;"]),Eze=ae.div.withConfig({displayName:"PasskeyListTitle",componentId:"sc-d4c46a0c-4"})(["line-height:20px;height:20px;font-size:1em;font-weight:450;display:flex;justify-content:flex-beginning;width:100%;"]),Sze=ae.div.withConfig({displayName:"PasskeyItemTitle",componentId:"sc-d4c46a0c-5"})(["font-size:1em;line-height:1.3em;font-weight:500;color:var(--privy-color-foreground-2);padding:0.2em 0;"]),Tze=ae.div.withConfig({displayName:"PasskeyItemSubtitle",componentId:"sc-d4c46a0c-6"})(["font-size:0.875rem;line-height:1rem;color:#64668b;padding:0.2em 0;"]),Aze=ae.div.withConfig({displayName:"PasskeyListItem",componentId:"sc-d4c46a0c-7"})(["display:flex;align-items:center;justify-content:space-between;padding:1em;gap:10px;font-size:0.875rem;line-height:1rem;text-align:left;border-radius:8px;border:1px solid #e2e3f0 !important;width:100%;height:5em;"]),Pze=Dr([":focus,:hover,:active{outline:none;}display:flex;width:2em;height:2em;justify-content:center;align-items:center;svg{color:var(--privy-color-error);}svg:hover{color:var(--privy-color-foreground-3);}"]),Ize=ae.button.withConfig({displayName:"PasskeyItemUnlinkButton",componentId:"sc-d4c46a0c-8"})(["",""],Pze);const a8=new Map([[va,null],[Nm,"external"],[tK,"external"],[eK,"external"],[nK,"external"],[gw,"manual"],[rK,"moonpay"]]),Rze=()=>{let t=it(),{user:e}=Vt(),{client:n,refreshSessionAndUser:i,walletProxy:f}=et();return{migrate:H.useCallback((async()=>{if(t.embeddedWallets.mode==="legacy-embedded-wallets-only")return{success:!0};if(!e)throw new ge("User must be authenticated before migrating wallets",we.MUST_BE_AUTHENTICATED);let b=io(e);if(!b||Ms(b)||!Hg(b))return{success:!0};if(!f)throw new ge("Cannot connect to wallet proxy");let s=await n.getAccessToken();if(!s)throw new ge("User must be authenticated before migrating wallets",we.MUST_BE_AUTHENTICATED);let y=b.imported?[b]:e.linkedAccounts.filter((v=>v.type==="wallet"&&v.walletClientType==="privy"&&!v.imported)).filter(Hg),{entropyId:r,entropyIdVerifier:o}=Wa(e,b);try{await f.connect({accessToken:s,entropyId:r,entropyIdVerifier:o})}catch(v){if(!jg(v)||b.recoveryMethod!=="privy")throw v;await f.recover({accessToken:s,entropyId:r,entropyIdVerifier:o})}return await f.createDelegatedAction({accessToken:s,rootWallet:{address:b.address,chainType:b.chainType,imported:b.imported},delegatedWallets:y}),await i(),{success:!0}}),[t.embeddedWallets.mode,e,f,n,i])}},Mze=({disabled:t})=>{let{migrate:e}=Rze(),{user:n}=Vt(),{walletProxy:i}=et();return H.useEffect((()=>{!t&&n&&i&&e().catch((f=>{console.debug("Unable to migrate wallets: ",f)}))}),[n,i,t,e]),null},Oze=t=>({id:t.id,raw_id:t.rawId,response:{client_data_json:t.response.clientDataJSON,authenticator_data:t.response.authenticatorData,signature:t.response.signature,user_handle:t.response.userHandle},authenticator_attachment:t.authenticatorAttachment,client_extension_results:{app_id:t.clientExtensionResults.appid,cred_props:t.clientExtensionResults.credProps,hmac_create_secret:t.clientExtensionResults.hmacCreateSecret},type:t.type}),Fze=({providerApp:t,success:e,error:n,onClose:i})=>{let{title:f,subtitle:b}=H.useMemo((()=>e?{title:`Successfully connected with ${t.name}`,subtitle:"You're good to go!"}:n?{title:"Authentication failed",subtitle:n.message}:{title:`Connecting to ${t.name}`,subtitle:`Please check the pop-up from ${t.name} to continue`}),[e,n,t.name]);return O.jsx(Yt,{title:f,subtitle:b,icon:t.logoUrl,iconVariant:"loading",iconLoadingStatus:{success:e,fail:!!n},onBack:i,watermark:!0})},$ze={component:()=>{let t=it(),{data:e,navigate:n,setModalData:i,onUserCloseViaDialogOrKeybindRef:f}=lt(),{crossAppAuthFlow:b,updateWallets:s,closePrivyModal:y,createAnalyticsEvent:r}=et(),{logout:o}=ije(),[v,c]=H.useState({}),u=e?.crossAppAuth,l={id:u.appId,name:u.name,logoUrl:u.logoUrl},a=new ge(`There was an issue connecting your ${l.name} account. Please try again.`),d=new Li((async h=>{if(u.popup)try{let g=await b({appId:h,popup:u.popup,action:u.action});c({data:g})}catch(g){if(g instanceof ge)c({error:g});else if(g instanceof Ls){if(g.privyErrorCode===we.ACCOUNT_TRANSFER_REQUIRED&&g.data?.data?.nonce)return i({accountTransfer:{nonce:g.data?.data?.nonce,account:g.data?.data?.subject,displayName:g.data?.data?.account?.displayName,linkMethod:`privy:${l.id}`,embeddedWalletAddress:g.data?.data?.otherUser?.embeddedWalletAddress,oAuthUserInfo:g.data?.data?.otherUser?.oAuthUserInfo}}),void n(dh);u.popup&&u.popup.close(),c({error:a})}else c({error:a})}else c({error:a})})),p=()=>{v.data&&(s(),u.onSuccess(v.data),y({shouldCallAuthOnSuccess:!0,isSuccess:!0})),u.onError(v.error??new ge("User canceled flow")),y({shouldCallAuthOnSuccess:!1,isSuccess:!1})};return f.current=p,H.useEffect((()=>{l.id.length&&d.execute(l.id)}),[l.id]),H.useEffect((()=>{if(!v.data)return;let h=v.data;if(t.legal.requireUsersAcceptTerms&&!h.hasAcceptedTerms){let m=setTimeout((()=>{n(hh)}),Wn);return()=>clearTimeout(m)}if(bc(h,t.embeddedWallets)){let m=setTimeout((()=>{i({createWallet:{onSuccess:()=>{},onFailure:x=>{console.error(x),r({eventName:"embedded_wallet_creation_failure_logout",payload:{error:x,provider:`privy:${l.id}`,screen:"CrossAppAuthScreen"}}),o()},callAuthOnSuccessOnClose:!0}}),n(lu)}),Wn);return()=>clearTimeout(m)}let g=setTimeout(p,Wn);return()=>clearTimeout(g)}),[v.data]),O.jsx(Fze,{providerApp:l,success:!!v.data,error:v.error,onClose:p})}},Lze=({appName:t,address:e,success:n,error:i,onAccept:f,onDecline:b,onClose:s})=>O.jsx(Yt,n||i?{title:i?"Something went wrong":"Success!",subtitle:i?"Please try again.":`You've successfully granted delegated action permissions to ${t}.`,icon:i?Rj:dm,iconVariant:i?"error":"success",onBack:s,watermark:!0}:{title:"Enable offline access",subtitle:`By confirming, ${t} will be able to use your wallet for you even when you're not around. You can revoke this later.`,icon:Efe,primaryCta:{label:"Accept",onClick:f},secondaryCta:{label:"Not now",onClick:b},onBack:s,watermark:!0,children:O.jsx(u3,{address:e,title:"Wallet"})}),Dze={component:()=>{let{data:t}=lt(),e=it(),{closePrivyModal:n}=et(),[i,f]=H.useState(!1),[b,s]=H.useState(),{address:y,onDelegate:r,onSuccess:o,onError:v}=t.delegatedActions.consent,c=async()=>{i?o():v(b??new ge("User declined delegating actions.")),n({shouldCallAuthOnSuccess:!1})};return H.useEffect((()=>{if(!i&&!b)return;let u=setTimeout(c,qH);return()=>clearTimeout(u)}),[i,b]),O.jsx(Lze,{appName:e.name,address:y,success:i,error:b,onAccept:async()=>{try{await r(),f(!0)}catch(u){s(u)}},onDecline:()=>{c()},onClose:c})}},Nze=({appName:t,success:e,error:n,onRevoke:i,onDeny:f,onClose:b})=>O.jsx(Yt,e||n?{title:n?"Something went wrong":"Success!",subtitle:n?"Please try again.":"You've successfully revoked permissions.",icon:n?Rj:dm,iconVariant:n?"error":"success",onBack:b,watermark:!0}:{title:"Revoke offline access to wallet",subtitle:`By confirming, ${t} will no longer be able to use this wallet on your behalf when you are not online.`,icon:xfe,primaryCta:{label:"Confirm",onClick:i},secondaryCta:{label:"Deny",onClick:f},onBack:b,watermark:!0}),kze={component:()=>{let{data:t}=lt(),e=it(),{closePrivyModal:n}=et(),[i,f]=H.useState(!1),[b,s]=H.useState(),{onRevoke:y,onSuccess:r,onError:o}=t.delegatedActions.revoke,v=async()=>{i?r():o(b??new ge("User declined revoking access to their delegated wallet.")),n({shouldCallAuthOnSuccess:!1})};return H.useEffect((()=>{if(!i&&!b)return;let c=setTimeout(v,qH);return()=>clearTimeout(c)}),[i,b]),O.jsx(Nze,{appName:e.name,success:i,error:b,onRevoke:async()=>{try{await y(),f(!0)}catch(c){s(c)}},onDeny:()=>{v()},onClose:v})}};let WN="#8a63d2";const Bze=({appName:t,loading:e,success:n,errorMessage:i,connectUri:f,onBack:b,onClose:s,onOpenFarcaster:y})=>O.jsx(Yt,tn.isMobile||e?tn.isIOS?{title:i?i.message:"Add a signer to Farcaster",subtitle:i?i.detail:`This will allow ${t} to add casts, likes, follows, and more on your behalf.`,icon:xd,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!i},primaryCta:f&&y?{label:"Open Farcaster app",onClick:y}:void 0,onBack:b,onClose:s,watermark:!0}:{title:i?i.message:"Requesting signer from Farcaster",subtitle:i?i.detail:"This should only take a moment",icon:xd,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!i},onBack:b,onClose:s,watermark:!0,children:f&&tn.isMobile&&O.jsx(Uze,{children:O.jsx(sK,{text:"Take me to Farcaster",url:f,color:WN})})}:{title:"Add a signer to Farcaster",subtitle:`This will allow ${t} to add casts, likes, follows, and more on your behalf.`,onBack:b,onClose:s,watermark:!0,children:O.jsxs(jze,{children:[O.jsx(zze,{children:f?O.jsx(Lm,{url:f,size:275,squareLogoElement:xd}):O.jsx(Vze,{children:O.jsx(xa,{})})}),O.jsxs(Wze,{children:[O.jsx(Gze,{children:"Or copy this link and paste it into a phone browser to open the Farcaster app."}),f&&O.jsx(l7,{text:f,itemName:"link",color:WN})]})]})});let Uze=ae.div.withConfig({displayName:"MobileLinkContainer",componentId:"sc-75c99bb6-0"})(["margin-top:24px;"]),jze=ae.div.withConfig({displayName:"ContentContainer",componentId:"sc-75c99bb6-1"})(["display:flex;flex-direction:column;align-items:center;gap:24px;"]),zze=ae.div.withConfig({displayName:"QrContainer",componentId:"sc-75c99bb6-2"})(["padding:24px;position:relative;display:flex;align-items:center;justify-content:center;min-height:275px;"]),Wze=ae.div.withConfig({displayName:"InstructionsContainer",componentId:"sc-75c99bb6-3"})(["display:flex;flex-direction:column;align-items:center;gap:16px;"]),Gze=ae.div.withConfig({displayName:"InstructionText",componentId:"sc-75c99bb6-4"})(["font-size:0.875rem;text-align:center;color:var(--privy-color-foreground-2);"]),Vze=ae.div.withConfig({displayName:"LoaderWrapper",componentId:"sc-75c99bb6-5"})(["position:relative;width:82px;height:82px;"]);const Hze={component:()=>{let{lastScreen:t,navigateBack:e,data:n}=lt(),i=it(),{requestFarcasterSignerStatus:f,closePrivyModal:b}=et(),[s,y]=H.useState(void 0),[r,o]=H.useState(!1),[v,c]=H.useState(!1),u=H.useRef([]),l=n?.farcasterSigner;H.useEffect((()=>{let d=Date.now(),p=setInterval((async()=>{if(!l?.public_key)return clearInterval(p),void y({retryable:!0,message:"Connect failed",detail:"Something went wrong. Please try again."});l.status==="approved"&&(clearInterval(p),o(!1),c(!0),u.current.push(setTimeout((()=>b({shouldCallAuthOnSuccess:!1,isSuccess:!0})),Wn)));let h=await f(l?.public_key),g=Date.now()-d;h.status==="approved"?(clearInterval(p),o(!1),c(!0),u.current.push(setTimeout((()=>b({shouldCallAuthOnSuccess:!1,isSuccess:!0})),Wn))):g>3e5?(clearInterval(p),y({retryable:!0,message:"Connect failed",detail:"The request timed out. Try again."})):h.status==="revoked"&&(clearInterval(p),y({retryable:!0,message:"Request rejected",detail:"The request was rejected. Please try again."}))}),2e3);return()=>{clearInterval(p),u.current.forEach((h=>clearTimeout(h)))}}),[]);let a=l?.status==="pending_approval"?l.signer_approval_url:void 0;return O.jsx(Bze,{appName:i.name,loading:r,success:v,errorMessage:s,connectUri:a,onBack:t?e:void 0,onClose:b,onOpenFarcaster:()=>{a&&(window.location.href=a)}})}},Yze=({onClose:t})=>O.jsx(Yt,{title:"Could not log in with provider",subtitle:"It looks like you're using an in-app browser. To log in, please try again using an external browser.",icon:lC,primaryCta:{label:"Close",onClick:t},watermark:!0}),GN={component:()=>{let{closePrivyModal:t}=et();return O.jsx(Yze,{onClose:()=>t()})}},Xze=({title:t="Connect your email",subtitle:e="Add your email to your account"})=>O.jsx(Yt,{title:t,subtitle:e,icon:FS,watermark:!0,children:O.jsx(WY,{children:O.jsx(vK,{stacked:!0})})}),Kze={component:()=>{let t=it();return O.jsx(Xze,{subtitle:`Add your email to your ${t?.name} account`})}},Zze=({title:t="Connect your phone",subtitle:e="Add your number to your account",onSubmit:n,isSubmitting:i=!1})=>{let[f,b]=H.useState(null),s=async()=>{f?.qualifiedPhoneNumber&&await n(f)};return O.jsx(Yt,{title:t,subtitle:e,icon:lc,primaryCta:{label:i?"Submitting":"Submit",onClick:s,disabled:!f?.isValid||i},watermark:!0,children:O.jsx(h3,{onChange:y=>{b(y)},onSubmit:s,noIncludeSubmitButton:!0,hideRecent:!0})})},P7={component:()=>{let{currentScreen:t,data:e,navigate:n,setModalData:i}=lt(),f=it(),{initLoginWithSms:b}=et(),[s,y]=H.useState(!1);return O.jsx(Zze,{subtitle:`Add your number to your ${f?.name} account`,onSubmit:async r=>{y(!0);try{await b({phoneNumber:r.qualifiedPhoneNumber,withPrivyUi:!0}),n(su)}catch(o){i({errorModalData:{error:o,previousScreen:e?.errorModalData?.previousScreen||t||P7}}),n(Gn)}finally{y(!1)}},isSubmitting:s})}},Jze=({title:t="Could not connect with wallet",subtitle:e="Please check that Phantom multichain is enabled and try again.",primaryCtaText:n="Try again",secondaryCtaText:i="Cancel",onTryAgain:f,onCancel:b})=>O.jsx(Yt,{title:t,subtitle:e,icon:Jw,iconVariant:"error",primaryCta:{label:n,onClick:f},secondaryCta:{label:i,onClick:b},watermark:!0}),Qze={component:()=>{let{closePrivyModal:t}=et(),{navigate:e}=lt();return O.jsx(Jze,{onTryAgain:()=>{e(Pi)},onCancel:async()=>{await t()}})}};function AZ(){let{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:n,submitEnrollmentWithSms:i,submitEnrollmentWithTotp:f,submitEnrollmentWithPasskey:b,unenroll:s,enrollInMfa:y}=H.useContext(Mp);return{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:n,submitEnrollmentWithSms:i,submitEnrollmentWithTotp:f,submitEnrollmentWithPasskey:b,unenrollWithSms:()=>s("sms"),unenrollWithTotp:()=>s("totp"),unenrollWithPasskey:r=>s("passkey",r),showMfaEnrollmentModal:()=>y(!0),closeMfaEnrollmentModal:()=>y(!1)}}const _ze=t=>O.jsxs(qze,{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:"88",height:"89",viewBox:"0 0 88 89",...t,children:[O.jsx("rect",{y:"0.666016",width:"88",height:"88",rx:"44"}),O.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M45.2463 20.9106C44.5473 20.2486 43.4527 20.2486 42.7537 20.9106C37.8798 25.5263 31.3034 28.3546 24.0625 28.3546C23.9473 28.3546 23.8323 28.3539 23.7174 28.3525C22.9263 28.3427 22.2202 28.8471 21.9731 29.5987C20.9761 32.6311 20.4375 35.8693 20.4375 39.2297C20.4375 53.5896 30.259 65.651 43.5482 69.0714C43.8446 69.1477 44.1554 69.1477 44.4518 69.0714C57.741 65.651 67.5625 53.5896 67.5625 39.2297C67.5625 35.8693 67.0239 32.6311 66.0269 29.5987C65.7798 28.8471 65.0737 28.3427 64.2826 28.3525C64.1677 28.3539 64.0527 28.3546 63.9375 28.3546C56.6966 28.3546 50.1202 25.5263 45.2463 20.9106ZM52.7249 40.2829C53.3067 39.4683 53.1181 38.3363 52.3035 37.7545C51.4889 37.1726 50.3569 37.3613 49.7751 38.1759L41.9562 49.1223L38.0316 45.1977C37.3238 44.4899 36.1762 44.4899 35.4684 45.1977C34.7605 45.9056 34.7605 47.0532 35.4684 47.761L40.9059 53.1985C41.2826 53.5752 41.806 53.7671 42.337 53.7232C42.868 53.6792 43.3527 53.4039 43.6624 52.9704L52.7249 40.2829Z"})]});let qze=ae.svg.withConfig({displayName:"StyledSvg",componentId:"sc-59fa943f-0"})(["height:90px;width:90px;> rect{","}> path{fill:white;}"],(t=>t.color==="success"?"fill: var(--privy-color-success);":"fill: var(--privy-color-accent);"));const eWe=({showIntro:t,userMfaMethods:e,appMfaMethods:n,userHasAuthSms:i,isTotpLoading:f,isPasskeyLoading:b,error:s,onClose:y,backFn:r,handleSelectMethod:o,setRemovingMfaMethod:v})=>{let c=e.reduce(((l,a)=>({...l,[a]:!0})),{}),u=n.reduce(((l,a)=>({...l,[a]:!0})),{});return O.jsxs(O.Fragment,{children:[O.jsx(zt,{backFn:t?r:void 0,onClose:y},"header"),O.jsx(ha,{style:{marginBottom:"1.5rem"},children:O.jsx(Od,{})}),O.jsx(ss,{children:"Choose a verification method"}),e.length>0?O.jsx(da,{children:"To add or delete verification methods, verification is required."}):O.jsx(da,{children:"How would you like to verify your identity?"}),s&&O.jsx(mZ,{style:{marginTop:"1.25rem"},children:s.message}),O.jsxs(vZ,{children:[(u.passkey||c.passkey)&&O.jsxs(t8,{children:[O.jsx(Xn,{style:{justifyContent:"center"},onClick:()=>o("passkey"),disabled:c.passkey||b,children:b?O.jsx(xa,{style:{height:24,width:24,borderWidth:2},color:"var(--privy-color-foreground-3)"}):O.jsxs(i8,{children:[O.jsxs(r8,{children:[O.jsx(DS,{}),"Passkey"]}),c.passkey?O.jsx(o8,{color:"green",children:"Enabled"}):O.jsx($N,{$isAccent:!0,children:O.jsx(fve,{})})]})}),c.passkey&&O.jsx(n8,{style:{position:"absolute",right:0},onClick:()=>v("passkey"),children:O.jsx(Zb,{})})]},"passkey"),(u.totp||c.totp)&&O.jsxs(t8,{children:[O.jsx(Xn,{style:{justifyContent:"center"},disabled:c.totp||f,onClick:()=>o("totp"),children:f?O.jsx(xa,{style:{height:24,width:24,borderWidth:2},color:"var(--privy-color-foreground-3)"}):O.jsxs(i8,{children:[O.jsxs(r8,{children:[O.jsx(lx,{}),"Authenticator app"]}),c.totp&&O.jsx(o8,{color:"green",children:"Enabled"})]})}),c.totp&&O.jsx(n8,{style:{position:"absolute",right:0},onClick:()=>v("totp"),children:O.jsx(Zb,{})})]},"totp"),(u.sms||c.sms)&&O.jsxs(t8,{children:[O.jsx(Xn,{disabled:c.sms||i,onClick:()=>o("sms"),children:O.jsxs(i8,{children:[O.jsxs(r8,{children:[O.jsx(lc,{}),"SMS"]}),c.sms&&O.jsx(o8,{color:"green",children:"Enabled"}),i&&O.jsx($N,{children:"Disabled"})]})}),c.sms&&O.jsx(n8,{style:{position:"absolute",right:0},onClick:()=>v("sms"),children:O.jsx(Zb,{})})]},"sms")]}),O.jsx(tWe,{children:"You can always change your selection later"}),O.jsx(fr,{})]})};let o8=ae(al).withConfig({displayName:"StyledChip",componentId:"sc-5f06df7f-0"})(["margin-right:1.5rem;"]),tWe=ae(gZ).withConfig({displayName:"StyledTerms",componentId:"sc-5f06df7f-1"})(["&&{margin-top:1rem;}text-align:center;"]);const PZ=({style:t,...e})=>O.jsxs("svg",{x:0,y:0,width:"65",height:"64",viewBox:"0 0 65 64",style:{height:"64px",width:"65px",...t},xmlns:"http://www.w3.org/2000/svg",...e,children:[O.jsxs("g",{clipPath:"url(#clip0_113_33841)",children:[O.jsx("path",{d:"M39.1193 0.943398C34.636 -0.174912 29.9185 -0.334713 25.328 0.656273C24.9732 0.732859 24.7477 1.08253 24.8243 1.43729C24.9009 1.79205 25.2506 2.01756 25.6053 1.94097C30.0015 0.991934 34.53 1.14842 38.8375 2.22802C49.1385 4.80983 57.7129 12.5548 60.9786 22.6718C62.2416 26.5843 62.7781 30.7505 62.8855 35.1167C62.8945 35.4795 63.1958 35.7664 63.5586 35.7575C63.9215 35.7485 64.2083 35.4472 64.1994 35.0843C64.0905 30.6582 63.5477 26.3849 62.2536 22.3432C58.8621 11.7515 49.9005 3.63265 39.1193 0.943398Z"}),O.jsx("path",{d:"M21.9931 2.93163C22.343 2.83511 22.5484 2.47325 22.4518 2.12339C22.3553 1.77352 21.9935 1.56815 21.6436 1.66466C16.8429 2.98903 10.0898 7.56519 5.91628 13.6786C5.91465 13.681 5.91304 13.6834 5.91145 13.6858C2.24684 19.2083 -0.0503572 26.1484 0.591012 32.8828C0.591623 32.8892 0.592328 32.8956 0.593127 32.902C0.746837 34.1317 1.00488 35.3591 1.26323 36.5879C1.80735 39.1761 2.35282 41.7706 1.92765 44.4064C1.86986 44.7647 2.11347 45.102 2.47177 45.1598C2.83007 45.2176 3.16738 44.974 3.22518 44.6157C3.66961 41.8605 3.11776 39.173 2.56581 36.4851C2.31054 35.2419 2.05525 33.9987 1.89847 32.7486C1.29525 26.3851 3.46802 19.7466 7.00418 14.416C11.0189 8.5373 17.5201 4.16562 21.9931 2.93163Z"}),O.jsx("path",{d:"M30.6166 4.39985C38.8671 3.89603 47.1159 7.26314 52.6556 13.7139C52.8921 13.9893 52.8605 14.4042 52.5852 14.6406C52.3099 14.8771 51.895 14.8455 51.6585 14.5702C46.3904 8.43576 38.541 5.23144 30.6927 5.71195C30.6899 5.71212 30.6871 5.71227 30.6843 5.71241C20.7592 6.19265 11.4643 12.9257 8.04547 22.3603C7.92183 22.7016 7.54498 22.8779 7.20375 22.7543C6.86253 22.6306 6.68616 22.2538 6.80981 21.9126C10.4114 11.9735 20.1717 4.90702 30.6166 4.39985Z"}),O.jsx("path",{d:"M54.6576 16.5848C54.4553 16.2836 54.047 16.2033 53.7457 16.4057C53.4444 16.608 53.3642 17.0163 53.5665 17.3176C56.6376 21.8904 57.9074 26.8665 58.4094 32.7717C58.4401 33.1333 58.7582 33.4016 59.1199 33.3708C59.4815 33.3401 59.7497 33.022 59.719 32.6604C59.206 26.6261 57.8965 21.4076 54.6576 16.5848Z"}),O.jsx("path",{d:"M59.2796 35.4504C59.6419 35.4277 59.9539 35.703 59.9765 36.0653C60.2242 40.0279 60.2265 44.5112 59.7881 47.8243C59.7405 48.1841 59.4102 48.4372 59.0504 48.3896C58.6906 48.342 58.4376 48.0117 58.4852 47.6519C58.9077 44.4586 58.91 40.0704 58.6648 36.1473C58.6421 35.785 58.9174 35.473 59.2796 35.4504Z"}),O.jsx("path",{d:"M7.05311 25.5432C7.13829 25.1904 6.92135 24.8354 6.56855 24.7502C6.21576 24.665 5.86071 24.882 5.77553 25.2348C5.2932 27.2325 5.0428 29.2847 5.03288 31.3388C5.02266 33.4559 5.41742 35.5225 5.81234 37.5899C6.1354 39.2811 6.45855 40.9728 6.5602 42.6932C6.69373 44.9531 6.21839 47.2163 5.39698 49.3703C5.26766 49.7094 5.43774 50.0891 5.77685 50.2184C6.11596 50.3477 6.4957 50.1777 6.62502 49.8386C7.49325 47.5617 8.01954 45.1092 7.87221 42.6157C7.77126 40.9071 7.44813 39.2252 7.12512 37.5439C6.73099 35.4925 6.33704 33.442 6.34716 31.3451C6.35659 29.3933 6.59455 27.4425 7.05311 25.5432Z"}),O.jsx("path",{d:"M24.2964 10.94C24.4317 11.2768 24.2683 11.6595 23.9315 11.7947C17.1187 14.5307 12.0027 20.7047 10.959 27.9852C10.523 31.0269 10.9941 34.0398 11.465 37.052C11.7303 38.7483 11.9954 40.4443 12.0985 42.1451C12.3221 45.833 11.902 49.8839 9.50192 53.5696C9.30387 53.8737 8.89677 53.9597 8.59264 53.7617C8.28851 53.5636 8.20251 53.1565 8.40056 52.8524C10.5873 49.4944 11.0012 45.7644 10.7867 42.2246C10.6821 40.499 10.4185 38.7833 10.1552 37.0686C9.68265 33.9923 9.21067 30.9195 9.65804 27.7987C10.7724 20.025 16.221 13.4748 23.4417 10.5751C23.7785 10.4399 24.1612 10.6032 24.2964 10.94Z"}),O.jsx("path",{d:"M47.3662 14.6814C41.9915 9.64741 34.2017 7.89046 27.122 9.4433C26.7675 9.52105 26.5432 9.87147 26.6209 10.226C26.6987 10.5805 27.0491 10.8048 27.4036 10.7271C34.1075 9.25665 41.4426 10.934 46.4677 15.6406C50.7033 19.6077 53.1628 25.38 53.8066 31.6779C53.8435 32.0389 54.1661 32.3017 54.5272 32.2648C54.8883 32.2279 55.151 31.9053 55.1141 31.5442C54.4456 25.0047 51.8822 18.9111 47.3662 14.6814Z"}),O.jsx("path",{d:"M54.9766 34.6738C55.3376 34.6368 55.6604 34.8994 55.6975 35.2604C56.3216 41.337 56.0526 47.9003 55.1104 54.2496C55.0571 54.6086 54.7229 54.8565 54.3639 54.8032C54.0049 54.7499 53.7571 54.4157 53.8103 54.0567C54.7394 47.7957 55.001 41.3439 54.39 35.3947C54.353 35.0336 54.6156 34.7109 54.9766 34.6738Z"}),O.jsx("path",{d:"M32.0659 13.3553C21.9959 13.3553 13.814 21.3892 13.814 31.3219C13.814 32.3829 13.9081 33.4225 14.0876 34.4334C14.1511 34.7907 14.4922 35.029 14.8495 34.9655C15.2069 34.9021 15.4451 34.561 15.3817 34.2036C15.2155 33.2677 15.1283 32.305 15.1283 31.3219C15.1283 22.1352 22.7014 14.6696 32.0659 14.6696C36.2978 14.6696 40.1642 16.1949 43.1319 18.7152C43.4086 18.9501 43.8233 18.9163 44.0582 18.6396C44.2931 18.363 44.2593 17.9483 43.9827 17.7134C40.7847 14.9975 36.6188 13.3553 32.0659 13.3553Z"}),O.jsx("path",{d:"M45.455 20.1635C45.717 19.9123 46.133 19.921 46.3842 20.183C49.2843 23.2072 50.2126 27.9605 50.8269 31.9494C51.5188 36.4426 51.6244 40.826 51.6244 42.8585C51.6244 43.2214 51.3302 43.5156 50.9673 43.5156C50.6044 43.5156 50.3101 43.2214 50.3101 42.8585C50.3101 40.8589 50.2055 36.5497 49.5279 32.1494C48.9577 28.4462 48.1356 23.9082 45.4356 21.0927C45.1844 20.8307 45.1931 20.4147 45.455 20.1635Z"}),O.jsx("path",{d:"M51.4576 46.6219C51.4864 46.2601 51.2165 45.9435 50.8547 45.9146C50.493 45.8858 50.1763 46.1557 50.1474 46.5175C49.8247 50.5654 49.403 54.6088 48.5474 58.3439C48.4663 58.6977 48.6874 59.0502 49.0412 59.1312C49.3949 59.2123 49.7474 58.9912 49.8285 58.6374C50.7067 54.8039 51.134 50.6806 51.4576 46.6219Z"}),O.jsx("path",{d:"M15.1454 36.852C15.5015 36.7819 15.847 37.0137 15.9171 37.3698C17.3066 44.4257 16.3467 50.8355 12.6672 56.4502C12.4682 56.7537 12.0609 56.8385 11.7573 56.6396C11.4538 56.4407 11.369 56.0333 11.5679 55.7298C15.0299 50.4469 15.9617 44.3985 14.6276 37.6238C14.5575 37.2677 14.7893 36.9221 15.1454 36.852Z"}),O.jsx("path",{d:"M32.0659 17.631C25.5291 17.631 19.1165 22.691 18.462 29.0504C18.1754 31.8345 18.578 34.5769 18.9807 37.3204C19.3323 39.7159 19.684 42.1124 19.5772 44.5381C19.3328 50.0898 17.7039 54.6726 14.905 58.4471C14.6888 58.7386 14.7499 59.1502 15.0414 59.3663C15.333 59.5825 15.7445 59.5214 15.9607 59.2299C18.9293 55.2266 20.6354 50.386 20.8903 44.5959C20.9966 42.1811 20.6438 39.7923 20.2912 37.4051C19.888 34.6752 19.4851 31.9473 19.7694 29.1849C20.3444 23.5983 26.0946 18.9453 32.0659 18.9453C34.851 18.9453 42.057 20.4534 44.3492 27.9205C45.7856 32.5998 46.1774 38.9326 45.8295 45.0849C45.4816 51.2364 44.3994 57.12 42.9442 60.8928C42.8136 61.2314 42.9822 61.6118 43.3208 61.7424C43.6594 61.873 44.0398 61.7044 44.1704 61.3658C45.6929 57.4186 46.7895 51.386 47.1417 45.1591C47.4938 38.9329 47.1068 32.4249 45.6056 27.5348C43.0612 19.2461 35.0851 17.631 32.0659 17.631Z"}),O.jsx("path",{d:"M21.9529 56.4512C22.2569 56.6494 22.3426 57.0566 22.1444 57.3606C21.7369 57.9854 21.3784 58.6391 21.0199 59.2928C20.6614 59.9465 20.3028 60.6004 19.8953 61.2253C19.697 61.5293 19.2898 61.615 18.9858 61.4167C18.6819 61.2184 18.5962 60.8113 18.7944 60.5073C19.2019 59.8825 19.5604 59.2288 19.9189 58.5751C20.2774 57.9213 20.636 57.2675 21.0435 56.6426C21.2418 56.3386 21.649 56.2529 21.9529 56.4512Z"}),O.jsx("path",{d:"M27.5799 24.4525C27.8816 24.2508 27.9625 23.8426 27.7608 23.541C27.559 23.2393 27.1509 23.1583 26.8492 23.3601C24.247 25.1006 22.6505 27.494 22.6505 31.0002C22.6505 33.088 23.0203 34.7946 23.3997 36.5449C23.9674 39.1641 24.3524 41.7777 24.2832 44.468C24.1992 47.7349 23.56 50.7201 22.3313 53.564C22.1873 53.8971 22.3407 54.2839 22.6739 54.4278C23.0071 54.5718 23.3938 54.4184 23.5378 54.0852C24.8369 51.0784 25.509 47.9266 25.5971 44.5018C25.6689 41.7062 25.2732 38.9892 24.6845 36.267C24.3042 34.509 23.9648 32.9394 23.9648 31.0002C23.9648 27.9961 25.2863 25.9866 27.5799 24.4525Z"}),O.jsx("path",{d:"M30.1447 22.1436C32.8717 21.5877 35.8061 22.2746 37.966 24.0228C41.8241 27.1455 42.3372 32.8403 42.753 37.4549L42.7742 37.69C43.3115 43.6385 42.6964 49.4163 41.4575 55.2186C41.3817 55.5736 41.0326 55.7999 40.6776 55.7241C40.3227 55.6483 40.0964 55.2991 40.1722 54.9442C41.3926 49.2288 41.9873 43.5885 41.4652 37.8082C41.4479 37.6169 41.4307 37.4228 41.4133 37.2264L41.4131 37.2235C41.0438 33.0534 40.5812 27.8304 37.1392 25.0444C35.2926 23.5498 32.7599 22.9518 30.4073 23.4314C30.0517 23.5039 29.7046 23.2744 29.6321 22.9188C29.5596 22.5632 29.7891 22.2161 30.1447 22.1436Z"}),O.jsx("path",{d:"M40.5287 58.4885C40.6183 58.1368 40.4057 57.7791 40.054 57.6896C39.7023 57.6 39.3446 57.8126 39.2551 58.1643C38.8578 59.7247 38.2456 61.1333 37.4695 62.4301C37.2831 62.7415 37.3844 63.145 37.6958 63.3314C38.0072 63.5178 38.4108 63.4165 38.5972 63.1051C39.4336 61.7075 40.0977 60.1816 40.5287 58.4885Z"}),O.jsx("path",{d:"M37.3152 48.9521C37.6756 48.9948 37.9332 49.3215 37.8906 49.682C37.2699 54.9267 35.8688 59.6042 33.6205 63.6613C33.4446 63.9787 33.0446 64.0934 32.7272 63.9175C32.4097 63.7416 32.295 63.3417 32.4709 63.0242C34.6226 59.1416 35.9811 54.6339 36.5854 49.5275C36.6281 49.1671 36.9548 48.9095 37.3152 48.9521Z"}),O.jsx("path",{d:"M37.1798 30.6556C36.7242 28.2212 34.6349 26.3591 32.0985 26.3591C28.6638 26.3591 26.254 29.8212 27.1032 33.0422C28.54 38.7279 28.7759 44.2077 27.8032 49.4855L27.8025 49.4893C26.9584 54.228 25.3374 58.4908 23.1263 62.1031C22.9368 62.4127 23.0342 62.8172 23.3437 63.0067C23.6533 63.1962 24.0578 63.0988 24.2473 62.7893C26.5488 59.0292 28.2249 54.6109 29.0961 49.7218C30.106 44.2403 29.8558 38.5684 28.3765 32.7168L28.3748 32.7099C27.7378 30.3005 29.5133 27.6734 32.0985 27.6734C33.9641 27.6734 35.5393 29.0459 35.8871 30.8929C36.8436 36.4411 37.3418 41.5862 36.9871 46.016C36.9581 46.3778 37.2279 46.6945 37.5897 46.7235C37.9515 46.7525 38.2682 46.4827 38.2972 46.1209C38.6649 41.5294 38.1459 36.2576 37.1815 30.6648C37.1809 30.6617 37.1804 30.6586 37.1798 30.6556Z"}),O.jsx("path",{d:"M30.1376 59.1171C30.4604 59.283 30.5876 59.6792 30.4217 60.002L28.6804 63.3906C28.5145 63.7134 28.1184 63.8406 27.7956 63.6747C27.4728 63.5088 27.3456 63.1127 27.5114 62.7899L29.2527 59.4013C29.4186 59.0785 29.8147 58.9513 30.1376 59.1171Z"}),O.jsx("path",{d:"M32.5872 31.2892C32.5042 30.9359 32.1505 30.7168 31.7972 30.7998C31.4439 30.8828 31.2247 31.2365 31.3077 31.5898C33.5238 41.0232 33.2194 49.3066 30.5201 56.363C30.3905 56.702 30.5602 57.0819 30.8991 57.2115C31.2381 57.3412 31.618 57.1715 31.7477 56.8326C34.5622 49.475 34.8483 40.9141 32.5872 31.2892Z"})]}),O.jsx("defs",{children:O.jsx("clipPath",{id:"clip0_113_33841",children:O.jsx("rect",{width:"64",height:"64",fill:"white",transform:"translate(0.483887)"})})})]}),nWe=({onClose:t,onReset:e,submitEnrollmentWithPasskey:n})=>{let{user:i}=Vt(),{initLinkWithPasskey:f,linkWithPasskey:b}=et(),s=it(),[y,r]=H.useState(!1),[o,v]=H.useState(!1),[c,u]=H.useState(null),l=H.useMemo((()=>i?.linkedAccounts.filter((p=>p.type==="passkey"))??[]),[i]),a=async p=>{r(!0);try{await n(p)}catch(h){u(h)}finally{r(!1)}},d=async()=>{v(!0),u(null);try{await f();let p=await b(),h=p?.linkedAccounts.filter((g=>g.type==="passkey")).map((g=>g.credentialId))??[];await a(h)}catch(p){u(p)}finally{v(!1)}};return l.length===0||o?O.jsx(rWe,{onReset:e,onClose:t,onClick:d,isCreating:o}):c?O.jsx(a3,{allowlistConfig:s.allowlistConfig,error:c,onBack:()=>u(null),onRetry:()=>u(null)}):O.jsx(iWe,{passkeys:l,isSubmitting:y,isCreating:o,onReset:e,onClose:t,onSubmitEnrollment:()=>a(l.map((p=>p.credentialId))),onAddPasskey:d})};let rWe=({onReset:t,onClose:e,onClick:n,isCreating:i})=>O.jsxs(O.Fragment,{children:[O.jsx(zt,{backFn:t,onClose:e},"header"),O.jsx(T7,{children:O.jsxs(TZ,{children:[O.jsx(A7,{}),O.jsx(PZ,{})]})}),O.jsx(ss,{children:"Set up passkey verification"}),O.jsxs(g3,{children:[O.jsxs(Cd,{children:[O.jsx(bd,{children:O.jsx(Od,{})}),"Verify with Touch ID, Face ID, PIN, or hardware key"]}),O.jsxs(Cd,{children:[O.jsx(bd,{children:O.jsx(mve,{})}),"Takes seconds to set up and use"]}),O.jsxs(Cd,{children:[O.jsx(bd,{children:O.jsx(rve,{})}),"Use your passkey to verify transactions and login to your account"]})]}),O.jsx(xn,{style:{marginTop:"2.25rem"},onClick:n,loading:i,children:"Add a new passkey"}),O.jsx(fr,{})]}),iWe=({onReset:t,onClose:e,onAddPasskey:n,onSubmitEnrollment:i,passkeys:f,isSubmitting:b,isCreating:s})=>{let[y,r]=H.useState(!1),o=y?f.length:f.length>3?2:3;return O.jsxs(O.Fragment,{children:[O.jsx(zt,{backFn:y?()=>r(!1):t,onClose:e},"header"),!y&&O.jsx(T7,{children:O.jsxs(TZ,{children:[O.jsx(A7,{}),O.jsx(PZ,{})]})}),O.jsx(ss,{children:"Enable your passkeys for verification"}),O.jsxs(g3,{children:[f.slice(0,o).map((v=>O.jsxs(sWe,{children:[O.jsx(aWe,{children:lWe(v)}),O.jsxs(oWe,{children:["Last used: ",v.latestVerifiedAt?.toLocaleString()]})]},v.credentialId))),!y&&f.length>3&&O.jsx(VN,{onClick:()=>r(!0),children:"View All"})]}),O.jsx(xn,{style:{marginTop:"1.5rem"},onClick:i,loading:b,children:"Enable passkeys"}),f.length<5&&O.jsx(VN,{style:{marginTop:"0.5rem"},onClick:n,disabled:s,children:s?O.jsx(xa,{style:{height:"1rem",width:"1rem",borderWidth:2}}):"Add new passkey"}),O.jsx(fr,{})]})},sWe=ae.div.withConfig({displayName:"PasskeyItem",componentId:"sc-23451ce2-0"})(["&&{padding:0.75rem 1rem;text-align:left;border-radius:0.5rem;border:1px solid var(--privy-color-foreground-4);width:100%;}"]),aWe=ae.div.withConfig({displayName:"PasskeyItemTitle",componentId:"sc-23451ce2-1"})(["font-size:0.875rem;line-height:1.375rem;font-weight:500;color:var(--privy-color-foreground-1);"]),oWe=ae.div.withConfig({displayName:"PasskeyItemSubtitle",componentId:"sc-23451ce2-2"})(["font-size:0.75rem;font-weight:400;line-height:1.125rem;color:var(--privy-color-foreground-2);"]),lWe=t=>t.authenticatorName?t.createdWithBrowser?`${t.authenticatorName} on ${t.createdWithBrowser}`:t.authenticatorName:t.createdWithBrowser?t.createdWithOs?`${t.createdWithBrowser} on ${t.createdWithOs}`:`${t.createdWithBrowser}`:"Unknown device";const VN=ae.button.withConfig({displayName:"StyledLink",componentId:"sc-23451ce2-3"})(["&&{width:100%;font-size:0.875rem;line-height:1rem;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;justify-content:center;padding:0.75rem 1rem;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent);:focus{outline:none;box-shadow:none;}}"]),uWe=({appName:t,onComplete:e,onReset:n,onClose:i})=>{let[f,b]=H.useState(""),[s,y]=H.useState(!1),[r,o]=H.useState(null),[v,c]=H.useState("enroll"),{initEnrollmentWithSms:u,submitEnrollmentWithSms:l}=AZ(),{data:a}=lt(),d=it();function p(){a?.mfaEnrollmentFlow?.onSuccess(),e()}return r?O.jsx(a3,{allowlistConfig:d.allowlistConfig,error:r,onBack:()=>o(null),onRetry:()=>o(null)}):O.jsxs(O.Fragment,v==="enroll"?{children:[O.jsx(zt,{backFn:n,onClose:i},"header"),O.jsx(ha,{style:{marginBottom:"1.5rem"},children:O.jsx(lc,{})}),O.jsx(ss,{children:"Set up SMS verification"}),O.jsxs(da,{children:["We'll text a verification code to this mobile device whenever you use your ",t," ","wallet."]}),O.jsxs(Wd,{children:[O.jsx(h3,{onSubmit:async function({qualifiedPhoneNumber:h}){try{await u({phoneNumber:h}),b(h),c("verify")}catch(g){o(g)}},hideRecent:!0}),O.jsxs(gZ,{children:["By providing your mobile number, you agree to receive text messages from ",d?.name,". Some carrier charges may apply"]})]}),O.jsx(fr,{})]}:s?{children:[O.jsx(zt,{onClose:p},"header"),O.jsx(ha,{style:{marginBottom:"1.5rem"},children:O.jsx(ox,{})}),O.jsx(ss,{children:"SMS verification added"}),O.jsxs(da,{children:["From now on, you'll enter the verification code sent to your mobile device whenever you use your ",t," wallet."]}),O.jsx(Tf,{children:O.jsx(xn,{onClick:p,children:"Done"})}),O.jsx(fr,{})]}:{children:[O.jsx(zt,{backFn:function(){v==="verify"?c("enroll"):n()},onClose:i},"header"),O.jsx(ha,{style:{marginBottom:"1.5rem"},children:O.jsx(lc,{})}),O.jsx(ss,{children:"Enter enrollment code"}),O.jsxs(Wd,{children:[O.jsx(xw,{onChange:async function(h){try{if(!h)return;await l({phoneNumber:f,mfaCode:h}),y(!0)}catch(g){throw QY(g)?Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds."):XT(g)?Error("The code you entered is not valid"):YT(g)?Error("You have exceeded the time limit for code entry. Please try again in 30 seconds."):_Y(g)?Error("Verification canceled"):Error("Unknown error")}}}),O.jsxs(da,{children:["To continue, enter the 6-digit code sent to ",O.jsx("strong",{children:ide(f)})]})]}),O.jsx(fr,{})]})},cWe=({size:t,authUrl:e})=>O.jsx(Lm,{url:e,squareLogoElement:mje,size:t,fgColor:"#1F1F1F"}),dWe=({onClose:t,onReset:e,totpInfo:n,submitEnrollmentWithTotp:i,error:f})=>{let[b,s]=H.useState("enroll");return O.jsxs(O.Fragment,b==="enroll"?{children:[O.jsx(zt,{backFn:e,onClose:t},"header"),O.jsx(hc,{children:"Scan QR code"}),O.jsx(zd,{children:"Open your authenticator app and scan this code to continue"}),O.jsx(TFe,{children:O.jsx(cWe,{authUrl:n.authUrl,size:240})}),O.jsx(r7,{style:{textAlign:"left"},children:"Setup key"}),O.jsxs(l3,{style:{marginTop:"0.25rem"},children:[O.jsx(sje,{children:"".repeat(16)}),O.jsx(l7,{itemName:" ",text:n.secret})]}),O.jsx(xn,{style:{marginTop:"1rem"},onClick:function(){s("verify")},children:"Continue"}),O.jsx(fr,{})]}:{children:[O.jsx(zt,{backFn:function(){b==="verify"?s("enroll"):e()},onClose:t},"header"),O.jsx(ha,{style:{marginBottom:"1.5rem"},children:O.jsx(lx,{})}),O.jsx(hc,{children:"Enter enrollment code"}),O.jsx(zd,{children:"To continue, enter the 6-digit code generated from your authenticator app"}),O.jsx(Wd,{children:O.jsx(xw,{onChange:async function(y){try{if(!y)return;await i({mfaCode:y})}catch(r){throw QY(r)?Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds."):XT(r)?Error("The code you entered is not valid"):YT(r)?Error("You have exceeded the time limit for code entry. Please try again in 30 seconds."):_Y(r)?Error("Verification canceled"):Error("Unknown error")}},errorReasonOverride:f?.message})}),O.jsx(fr,{})]})},hWe={component:()=>{let{user:t,enrollInMfa:e,ready:n}=Vt(),[i,f]=H.useState(null),{unenrollWithSms:b,unenrollWithTotp:s,unenrollWithPasskey:y,submitEnrollmentWithTotp:r,initEnrollmentWithPasskey:o,submitEnrollmentWithPasskey:v,initEnrollmentWithTotp:c}=AZ(),{data:u,onUserCloseViaDialogOrKeybindRef:l}=lt(),a=it(),{closePrivyModal:d}=et(),{promptMfa:p}=bZ(),[h,g]=H.useState(!1),[m,x]=H.useState(null),[w,C]=H.useState(null),E=()=>{d({shouldCallAuthOnSuccess:!0}),e(!1),setTimeout((()=>{f(null),x(null)}),500)},[T,S]=H.useState(!1),[A,P]=H.useState();l.current=E;let R=t?.mfaMethods.includes("sms"),L=!!t?.phone,D=t?.mfaMethods.includes("totp"),F=t?.mfaMethods.includes("passkey"),$=R||D||F,N=t?.linkedAccounts.filter((G=>G.type==="passkey")).map((G=>G.credentialId))??[];function k(){f(null),x(null)}async function j(G=N){S(!0);try{return await o(),await v({credentialIds:G},{removeForLogin:u?.mfaEnrollmentFlow?.shouldUnlinkOnUnenrollMfa}),u?.mfaEnrollmentFlow?.onSuccess(),E()}catch(K){P(K)}finally{S(!1)}}if(H.useEffect((()=>{$&&g(!0)}),[$]),!n||!t||!a)return O.jsxs(O.Fragment,{children:[O.jsx(zt,{onClose:E},"header"),O.jsx(T7,{children:O.jsx(_ze,{})}),O.jsx(Wd,{children:O.jsx(xa,{})}),O.jsx(fr,{})]});if(i==="sms")return O.jsxs(O.Fragment,{children:[O.jsx(zt,{backFn:k,onClose:E},"header"),O.jsx(ha,{style:{marginBottom:"1.5rem"},children:O.jsx(Gf,{})}),O.jsx(ss,{children:"Remove SMS verification?"}),O.jsxs(da,{children:["MFA adds an extra layer of security to your ",a?.name," account. Make sure you have other methods to secure your account."]}),O.jsx(Tf,{children:O.jsx(xn,{$warn:!0,onClick:async function(){f(null);try{await b()}catch{f(null)}},children:"Remove"})}),O.jsx(fr,{})]});if(i==="totp")return O.jsxs(O.Fragment,{children:[O.jsx(zt,{backFn:k,onClose:E},"header"),O.jsx(ha,{style:{marginBottom:"1.5rem"},children:O.jsx(Gf,{})}),O.jsx(ss,{children:"Remove authenticator app verification?"}),O.jsxs(da,{children:["MFA adds an extra layer of security to your ",a?.name," account. Make sure you have other methods to secure your account."]}),O.jsx(Tf,{children:O.jsx(xn,{$warn:!0,onClick:async function(){f(null);try{await s()}catch{f(null)}},children:"Remove"})}),O.jsx(fr,{})]});if(i==="passkey"){let G=u?.mfaEnrollmentFlow?.shouldUnlinkOnUnenrollMfa??!0;return O.jsxs(O.Fragment,{children:[O.jsx(zt,{backFn:k,onClose:E},"header"),O.jsx(ha,{style:{marginBottom:"1.5rem"},children:O.jsx(Gf,{})}),O.jsx(ss,{children:"Are you sure you want to remove this passkey?"}),O.jsx(da,{children:G?"Removing your passkey will remove as both a verification method and a login method.":"Removing your passkey will remove as a verification method."}),O.jsx(Tf,{children:O.jsx(xn,{$warn:!0,onClick:async function(){f(null);try{await y({removeForLogin:u?.mfaEnrollmentFlow?.shouldUnlinkOnUnenrollMfa})}catch{f(null)}},children:"Remove"})}),O.jsx(fr,{})]})}if(u.mfaEnrollmentFlow.mfaMethods.length===0&&!$)return O.jsxs(O.Fragment,{children:[O.jsx(zt,{onClose:E},"header"),O.jsx(ha,{style:{marginBottom:"1.5rem"},children:O.jsx(Od,{})}),O.jsx(ss,{children:"Add more security"}),O.jsxs(da,{children:[a?.name," does not have any verification methods enabled."]}),O.jsx(Tf,{children:O.jsx(xn,{onClick:E,children:"Close"})}),O.jsx(fr,{})]});let W=!$&&!h;return W?O.jsxs(O.Fragment,{children:[O.jsx(zt,{onClose:E},"header"),O.jsx(ha,{style:{marginBottom:"1.5rem"},children:O.jsx(Od,{})}),O.jsx(ss,{children:"Transaction Protection"}),O.jsx(da,{children:"Set up transaction protection to add an extra layer of security to your account"}),O.jsxs(g3,{children:[O.jsxs(Cd,{children:[O.jsx(bd,{children:O.jsx(fje,{})}),"Enable 2-Step verification for your ",a?.name," wallet."]}),O.jsxs(Cd,{children:[O.jsx(bd,{children:O.jsx(vje,{})}),"You'll be prompted to authenticate to complete transactions."]})]}),O.jsxs(Tf,{children:[O.jsx(xn,{onClick:()=>g(!0),children:"Continue"}),O.jsx(oo,{onClick:E,children:"Not now"})]}),O.jsx(fr,{})]}):m==="sms"?O.jsx(uWe,{appName:a?.name||"Privy",onComplete:E,onReset:k,onClose:E}):m==="totp"&&w?O.jsx(dWe,{onClose:E,onReset:k,submitEnrollmentWithTotp:({mfaCode:G})=>(async function(K){try{return P(void 0),await r({mfaCode:K}),u?.mfaEnrollmentFlow?.onSuccess(),E()}catch(z){P(z)}finally{f(null)}})(G),totpInfo:{...w,appName:a?.name||"Privy"}}):m==="passkey"?O.jsx(nWe,{onReset:k,onClose:E,submitEnrollmentWithPasskey:j}):O.jsx(eWe,{showIntro:W,userMfaMethods:t.mfaMethods,appMfaMethods:a.mfa.methods,userHasAuthSms:L,backFn:function(){g(!1)},handleSelectMethod:async function(G){try{await p()}catch(K){return void P(K)}return G==="totp"?(x(G),C(null),void c().then((K=>{C(K)})).catch((()=>{C(null),k()}))):G==="passkey"&&N.length===1?await j():void x(G)},isTotpLoading:m==="totp"&&!w,isPasskeyLoading:T,error:A,onClose:E,setRemovingMfaMethod:async G=>{try{await p()}catch(K){return void P(K)}f(G)}})}},fWe=({providerName:t,ProviderLogo:e,success:n,errorMessage:i,onRetry:f})=>{let b=n?`Successfully connected with ${t}`:i?i.message:`Verifying connection to ${t}`;return O.jsx(Yt,{title:b,subtitle:n?"You're good to go!":i?i.detail:"Just a few moments more",icon:e,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!i},secondaryCta:i?.retryable&&f?{label:"Retry",onClick:f}:void 0,watermark:!0})},HN={component:()=>{let{authenticated:t,logout:e,ready:n,user:i}=Vt(),{setModalData:f,navigate:b,resetNavigation:s}=lt(),y=it(),{getAuthMeta:r,initLoginWithOAuth:o,loginWithOAuth:v,updateWallets:c,setReadyToTrue:u,closePrivyModal:l,createAnalyticsEvent:a}=et(),[d,p]=H.useState(!1),[h,g]=H.useState(void 0),m=r()?.provider||"google",{name:x,component:w}=K6(m,y.customOAuthProviders);return H.useEffect((()=>{v(m).then((()=>{p(!0),u(!0)})).catch((C=>{if(u(!1),C?.privyErrorCode===we.ALLOWLIST_REJECTED)return g(void 0),s(),void b(o3);if(C?.privyErrorCode===we.USER_LIMIT_REACHED)return console.error(new cm(C).toString()),g(void 0),s(),void b(Dm);if(C?.privyErrorCode===we.USER_DOES_NOT_EXIST)return g(void 0),s(),void b($m);if(C?.privyErrorCode===we.ACCOUNT_TRANSFER_REQUIRED&&C.data?.data?.nonce)return g(void 0),s(),f({accountTransfer:{nonce:C.data?.data?.nonce,account:C.data?.data?.subject,displayName:C.data?.data?.account?.displayName,linkMethod:r()?.provider,embeddedWalletAddress:C.data?.data?.otherUser?.embeddedWalletAddress,oAuthUserInfo:C.data?.data?.otherUser?.oAuthUserInfo}}),void b(dh);let{retryable:E,detail:T}=(function(S,A,P){let R={detail:"",retryable:!1},L=nY(A);if(S?.privyErrorCode===we.LINKED_TO_ANOTHER_USER&&(R.detail="This account has already been linked to another user."),S?.privyErrorCode===we.INVALID_CREDENTIALS&&(R.retryable=!0,R.detail="Something went wrong. Try again."),S.privyErrorCode===we.OAUTH_USER_DENIED&&(R.detail=`Retry and check ${L} to finish connecting your account.`,R.retryable=!0),S?.privyErrorCode===we.TOO_MANY_REQUESTS&&(R.detail="Too many requests. Please wait before trying again."),S?.privyErrorCode===we.TOO_MANY_REQUESTS&&S.message.includes("provider rate limit")){let D=K6(A,P).name;R.detail=`Request limit reached for ${D}. Please wait a moment and try again.`}if(S?.privyErrorCode===we.OAUTH_ACCOUNT_SUSPENDED){let D=K6(A,P).name;R.detail=`Your ${D} account is suspended. Please try another login method.`}return S?.privyErrorCode===we.CANNOT_LINK_MORE_OF_TYPE&&(R.detail="You cannot authorize more than one account for this user."),S?.privyErrorCode===we.OAUTH_UNEXPECTED&&A.startsWith("privy:")&&(R.detail="Something went wrong. Please try again."),R})(C,m,y.customOAuthProviders);g({retryable:E,detail:T,message:"Authentication failed"})})).finally((()=>{LE()}))}),[x,m]),H.useEffect((()=>{if(n&&t&&d&&i){if(y?.legal.requireUsersAcceptTerms&&!i.hasAcceptedTerms){let C=setTimeout((()=>{b(hh)}),Wn);return()=>clearTimeout(C)}if(bc(i,y.embeddedWallets)){let C=setTimeout((()=>{f({createWallet:{onSuccess:()=>{},onFailure:E=>{console.error(E),a({eventName:"embedded_wallet_creation_failure_logout",payload:{error:E,provider:m,screen:"OAuthStatusScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),b(lu)}),Wn);return()=>clearTimeout(C)}{let C=setTimeout((()=>l({shouldCallAuthOnSuccess:!0,isSuccess:!0})),Wn);return c(),()=>clearTimeout(C)}}}),[n,t,d,i]),O.jsx(fWe,{providerName:x,ProviderLogo:w,success:d,errorMessage:h,onRetry:h?.retryable?()=>{LE(),o(m),g(void 0)}:void 0})}},pWe=H.forwardRef(((t,e)=>{let[n,i]=H.useState(""),[f,b]=H.useState(""),[s,y]=H.useState(!1),{authenticated:r,user:o}=Vt(),{initUpdateEmail:v}=et(),{navigate:c,setModalData:u,currentScreen:l}=lt(),{enabled:a,token:d}=ms(),p=it(),h=mY(n)&&(p.disablePlusEmails&&n.includes("+")?(f||b("Please enter a valid email address without a '+'."),!1):(f&&b(""),!0)),g=s||!h,m=()=>{!a||d||r?(async x=>{if(!o?.email)throw Error("User is required to have an email address to update it.");y(!0);try{await v({oldAddress:o.email.address,newAddress:n,captchaToken:x}),c(su)}catch(w){u({errorModalData:{error:w,previousScreen:l||Pi}}),c(Gn)}y(!1)})(d):(u({captchaModalData:{callback:x=>{if(!o?.email)throw Error("User is required to have an email address to update it.");return v({oldAddress:o.email.address,newAddress:n,captchaToken:x})},userIntentRequired:!1,onSuccessNavigateTo:su,onErrorNavigateTo:Gn}}),c(uo))};return O.jsxs(O.Fragment,{children:[O.jsxs(vWe,{children:[f&&O.jsx(jd,{style:{marginTop:"0.25rem",textAlign:"left"},children:f}),O.jsxs(gWe,{$error:!!f,children:[O.jsx(Za,{children:O.jsx(Qw,{})}),O.jsx("input",{ref:e,id:"email-input",type:"email",placeholder:"your@email.com",onChange:x=>i(x.target.value),onKeyUp:x=>{x.key==="Enter"&&m()},value:n,autoComplete:"email"}),t.stacked?null:O.jsx(Xx,{isSubmitting:s,onClick:m,disabled:g,children:"Submit"})]})]}),t.stacked?O.jsx(xn,{loadingText:null,loading:s,disabled:g,onClick:m,style:{width:"100%"},children:"Submit"}):null]})}));let vWe=SX,gWe=EX;const mWe=({title:t="Update your email",subtitle:e="Add the email address you'd like to use going forward. We'll send you a confirmation code"})=>O.jsx(Yt,{title:t,subtitle:e,icon:FS,watermark:!0,children:O.jsx(WY,{children:O.jsx(pWe,{stacked:!0})})}),yWe={component:()=>O.jsx(mWe,{})},wWe=({title:t="Update your phone number",subtitle:e="Add the phone number you'd like to use going forward. We'll send you a confirmation code",onSubmit:n,isSubmitting:i=!1})=>{let[f,b]=H.useState(null);return O.jsx(Yt,{title:t,subtitle:e,icon:lc,primaryCta:{label:i?"Submitting":"Update",onClick:async()=>{f?.qualifiedPhoneNumber&&await n(f)},disabled:!f?.isValid||i},watermark:!0,children:O.jsx(h3,{onChange:s=>{b(s)},onSubmit:async()=>{},noIncludeSubmitButton:!0,hideRecent:!0})})},xWe={component:()=>{let{currentScreen:t,data:e,navigate:n,setModalData:i}=lt(),{user:f}=Vt(),{initUpdatePhone:b}=et(),[s,y]=H.useState(!1);return O.jsx(wWe,{onSubmit:async r=>{y(!0);try{if(!f?.phone?.number)throw Error("User is required to have an phone number to update it.");await b(f?.phone?.number,r.qualifiedPhoneNumber),n(su)}catch(o){i({errorModalData:{error:o,previousScreen:e?.errorModalData?.previousScreen||t||P7}}),n(Gn)}finally{y(!1)}},isSubmitting:s})}};function bWe({subscribe:t,getExternalJwt:e,enabled:n=!0,onAuthenticated:i,onUnauthenticated:f,onError:b}){let{client:s,onCustomAuthAuthenticated:y}=et(),{logout:r,authenticated:o,ready:v}=dZ();if(!s)throw new ge("`useSyncJwtBasedAuthState` must be used within a `PrivyProvider`");let[c,u]=H.useState({status:"initial"}),l=H.useRef(),a=H.useRef(!1),d=H.useRef(e);H.useEffect((()=>{d.current=e}),[e]);let p=H.useRef(i);H.useEffect((()=>{p.current=i}),[i]);let h=H.useRef(f);H.useEffect((()=>{h.current=f}),[f]);let g=H.useRef(b);return H.useEffect((()=>{g.current=b}),[b]),H.useEffect((()=>{if(!n||!v)return;let m=async()=>{if(!a.current){a.current=!0;try{u({status:"loading"});let x=await d.current();if(l.current!==void 0&&l.current===x)return void u({status:"done"});if(!x)return o&&(await r(),h.current?.()),l.current=x,void u({status:"done"});s.startAuthFlow(new pZ(x));let{user:w,isNewUser:C=!1}=await s.authenticate();if(!w)throw new ge("Failed to sync with custom auth provider");p.current?.({user:w,isNewUser:C}),y(w,C),l.current=x,u({status:"done"})}catch(x){if(console.warn(x),await r().catch((()=>{})),h.current?.(),x instanceof Ls&&x.privyErrorCode===we.LINKED_TO_ANOTHER_USER)return u({status:"initial"}),void setTimeout((()=>{m()}),0);g.current?.(x),u({status:"error",error:x})}finally{a.current=!1}}};return m(),t(m)}),[t,s,y,o,r,n,v]),n?{state:c}:{state:{status:"not-enabled"}}}let CWe=Fp((()=>({jwtAuthFlowState:{status:"not-enabled"}})));function EWe({customAuth:t}){let{jwtAuthFlowState:e}=(function({customAuth:n}){let i=uh(),f=H.useRef(),b=H.useCallback((r=>(f.current=r,()=>{f.current=void 0})),[]),s=n?.getCustomAccessToken??(()=>Promise.resolve(void 0)),{state:y}=bWe({enabled:n?.enabled===!0,subscribe:b,getExternalJwt:s,onAuthenticated:({user:r,isNewUser:o})=>{i("login","onComplete",{user:r,isNewUser:o,wasAlreadyAuthenticated:!1,loginMethod:"custom",loginAccount:null}),i("customAuth","onAuthenticated",{user:r})},onUnauthenticated:()=>{i("customAuth","onUnauthenticated")},onError:r=>{i("login","onError",r.privyErrorCode||we.UNKNOWN_AUTH_ERROR)}});return H.useEffect((()=>{(async()=>n&&!n.isLoading&&f.current?.())()}),[n?.enabled,n?.getCustomAccessToken,n?.isLoading]),{jwtAuthFlowState:y}})({customAuth:t});return H.useEffect((()=>{CWe.setState({jwtAuthFlowState:e})}),[e]),null}const IZ=H.createContext(!1);let Bf,RZ,MZ,OZ,FZ,$Z;async function Tn(){return Bf?Bf.getAccessToken():Promise.resolve(Ct.get(r2)||Ct.get(dv)||null)}const SWe=(t,e)=>RZ(t,e),TWe=(t,e)=>MZ(t,e),AWe=(t,e)=>OZ(t,e),PWe=(t,e)=>FZ(t,e),IWe=t=>$Z(t),RWe=({config:t,...e})=>{var n;if((()=>{if(H.useContext(IZ))throw new ge("Multiple PrivyProvider instances found","Found multiple instances of PrivyProvider, ensure there is only one mounted in your application tree.")})(),typeof window<"u"&&0>["localhost","127.0.0.1"].indexOf(window.location.hostname)&&window.location.protocol!=="https:"&&window.location.protocol!=="chrome-extension:")throw new ge("Embedded wallet is only available over HTTPS");if(typeof(n=e.appId)!="string"||n.length!==25)throw new ge("Cannot initialize the Privy provider with an invalid Privy app ID");Bf||(Bf=new Uje({appId:e.appId,appClientId:e.clientId,apiUrl:e.apiUrl}));let i=Object.assign({},t),f=H.useMemo((()=>new qce({appId:e.appId,clientId:e.clientId,storage:Ct,baseUrl:e.apiUrl,sdkVersion:"react-auth:3.4.1"})),[]);return O.jsx(gOe,{client:f,legacyClient:Bf,appClientId:e.clientId,clientConfig:i,children:O.jsx(SLe,{children:O.jsx(MWe,{...e,client:Bf,privy:f})})})};let MWe=t=>{let e=t.client,n=t.privy,i=n7();fze();let[f,b]=H.useState(!1),s=Xg((ne=>ne.inProgressMfaFlow)),[y,r]=H.useState(!1),[o,v]=H.useState(!1),[c,u]=H.useState(null),[l,a]=H.useState([]),[d,p]=H.useState(void 0),[h,g]=H.useState(!1),[m,x]=H.useState(null),[w,C]=H.useState(!1),[E,T]=H.useState({status:"disconnected",connectedWallet:null,connectError:null,connector:null,connectRetry:Oe}),[S,A]=H.useState({status:"initial"}),[P,R]=H.useState({status:"initial"}),[L,D]=H.useState({status:"initial"}),[F,$]=H.useState({status:"initial"}),[N,k]=H.useState({status:"initial"}),[j,W]=H.useState({status:"initial"}),[G,K]=H.useState(null),z=it(),X=MY(),[U,Z]=H.useState({}),[V,J]=H.useState(null),_=H.useRef(null),[ee,te]=H.useState(!1),[ie,le]=H.useState(!1),he=H.useRef(null),fe=H.useRef(null),oe=H.useRef(xOe),[Ce,ye]=H.useState(!1);e.onStoreCustomerAccessToken=ne=>{ne&&ke(oe,"accessToken","onAccessTokenGranted",{accessToken:ne})},e.onDeleteCustomerAccessToken=()=>{u(null),v(!1),ke(oe,"accessToken","onAccessTokenRemoved")};let Ee=H.useRef(null),Ie=H.useRef(null),je=H.useRef(!1),Re=({showWalletUIs:ne})=>je.current?je.current:ne!==void 0?!ne:!z.embeddedWallets.showWalletUIs,$e=ne=>{x(ne),setTimeout((()=>{b(!0)}),15)};H.useEffect((()=>{if(!c)return void e.connectors?.removeEmbeddedWalletConnectors();let ne=zo(c),se=Fj(c),ue=uC(c);ne&&se.length||e.connectors?.removeEmbeddedWalletConnectors(),ue.length||e.connectors?.removeImportedWalletConnectors(),e.connectors?G?(ne&&e.connectors.addEmbeddedWalletConnectors({walletProxy:G,user:c,embeddedWallets:se,defaultChain:z.defaultChain,appId:t.appId,privyClient:n}),ue.forEach((pe=>e.connectors?.addImportedWalletConnector(G,pe.address,z.defaultChain,t.appId)))):console.debug("Failed to add embedded wallet connector: Wallet proxy not initialized"):console.debug("Failed to add embedded wallet connector: Client connectors not initialized")}),[G,c]),H.useEffect((()=>{G&&_.current?.(G)}),[G]);let Ae=H.useCallback(((ne,se)=>{u(ne),g(se),v(!0),le(!0)}),[]);H.useEffect((()=>{ie&&G&&c&&(async()=>{let ne=qT(c,z.embeddedWallets.ethereum.createOnLogin),se=e7(c,z.embeddedWallets.solana.createOnLogin),ue=await Tn();if(ue){if(ne&&se){let pe=await G.create({accessToken:ue});return await G.createSolana({accessToken:ue,ethereumAddress:pe?.address}),void le(!1)}if(se)return await G.createSolana({accessToken:ue,ethereumAddress:zo(c)?.address}),await pt.refreshSessionAndUser(),void le(!1);if(ne)return await G.create({accessToken:ue}),void le(!1)}})().catch(console.error)}),[ie&&G&&c]),H.useEffect((()=>{if(z.externalWallets.solana.connectors)return z.externalWallets.solana.connectors.onMount(),()=>z.externalWallets.solana.connectors?.onUnmount()}),[z.externalWallets.solana.connectors]),H.useEffect((()=>{!y&&X&&(async function(){let ne,se=Xe(),ue=st(),pe=bQ();e.initializeConnectorManager({walletConnectCloudProjectId:z.walletConnectCloudProjectId,rpcConfig:z.rpcConfig,chains:z.chains,defaultChain:z.defaultChain,store:pe,walletList:z.appearance.walletList,shouldEnforceDefaultChainOnConnect:z.shouldEnforceDefaultChainOnConnect,externalWalletConfig:z.externalWallets,appName:z.name??"Privy",walletChainType:z.appearance.walletChainType,setBaseAccountSdk:p}),e.connectors?.on("connectorInitialized",(()=>{ne&&clearTimeout(ne);let De=e.connectors.walletConnectors.length,Ye=e.connectors.walletConnectors.reduce(((kt,Bt)=>kt+(Bt.initialized?1:0)),0);Ye===De?ye(!0):ne=setTimeout((()=>{console.debug({message:"Unable to initialize all expected connectors before timeout",initialized:Ye,expected:De}),ye(!0)}),1500)})),e.connectors?.initialize().then((()=>{Je()}));let be=await e.getAuthenticatedUser(),Pe=!!be;z.legal.requireUsersAcceptTerms&&be&&!be.hasAcceptedTerms?(await e.logout(),pt.setReadyToTrue(!0),ke(oe,"logout","onSuccess")):(z.customAuth?.enabled||(v(!!be),be&&ke(oe,"login","onComplete",{user:be,isNewUser:!1,wasAlreadyAuthenticated:!0,loginMethod:null,loginAccount:null}),u(be)),se?Ie.current=Pe?"link":"login":ue&&!Pe?(Ie.current="login",Z({telegramAuthModalData:{seamlessAuth:!0}}),$e(c2)):pt.setReadyToTrue(!!be))})()}),[e,V,y,X]),H.useEffect((()=>{if(y){if(!c||!c.linkedAccounts.find((ne=>ne.type==="wallet"&&ne.walletClientType==="privy")))return void te(!!G);if([...l].some((ne=>ne.walletClientType==="privy")))return void te(!0);te(!!G)}}),[y,c,l,G]),H.useEffect((()=>{e.connectors?.setWalletList(z.appearance.walletList)}),[z.appearance.walletList.join()]);let Xe=()=>{let ne=bje();return ne.inProgress&&ne.popupFlow?window.opener.location.origin!==window.location.origin?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Origins between parent and child windows do not match."}):ne.authorizationCode==="error"?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Something went wrong. Try again."}):void window.opener.postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:ne.stateCode,authorizationCode:ne.authorizationCode}):(ne.inProgress&&(function(se){return se.startsWith("privy:")})(ne.provider)&&!ne.popupFlow&&(new BroadcastChannel(UN).postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:ne.stateCode,authorizationCode:ne.authorizationCode}),window.close()),!!ne.inProgress&&!!ne.withPrivyUi&&(e.startAuthFlow(new Sf({...ne,customOAuthRedirectUrl:z.customOAuthRedirectUrl})),$e(HN),!0))},st=()=>{let ne=oOe();if(!ne||!z.loginMethods.telegram||!z.loginConfig.telegramAuthConfiguration?.seamlessAuthEnabled)return;let se=new V0;return e.startAuthFlow(se),ne.flowType==="login-url"&&(se.meta.telegramWebAppData=void 0,se.meta.telegramAuthResult=ne.authData),ne.flowType==="web-app"&&(se.meta.telegramAuthResult=void 0,se.meta.telegramWebAppData=ne.authData),!0},vt=async(ne,se,ue,pe)=>{if(ne!=="solana_adapter")Ge(await e.connectors?.createEthereumWalletConnector({connectorType:ne,walletClientType:se})||null,se,ue,pe);else{let be=e.connectors?.findSolanaWalletConnector(se);if(!be)return;Ge(be,se,ue,pe)}};async function Ge(ne,se,ue,pe){if(!ne)return T({status:"disconnected",connectedWallet:null,connectError:new On("Unable to connect to wallet."),connector:null,connectRetry:Oe}),pe?.(null,ue);T({status:"disconnected",connectedWallet:null,connectError:null,connector:ne,connectRetry:Oe}),ne instanceof Zf&&se&&await ne.resetConnection(se),T({connector:ne,status:"connecting",connectedWallet:null,connectError:null,connectRetry:()=>Ge(ne,se,ue,pe)});try{let be=await ne.connect({showPrompt:!0});if((!be||Yu(be))&&z.shouldEnforceDefaultChainOnConnect&&!z.chains.find((Pe=>Pe.id===Number(be?.chainId.replace("eip155:",""))))&&(be?.connectorType!=="wallet_connect_v2"||be?.walletClientType!=="metamask")){T((Pe=>({...Pe,connector:ne,status:"switching_to_supported_chain",connectedWallet:null,connectError:null,connectRetry:Oe})));try{await be?.switchChain(z.defaultChain.id),be&&(be.chainId=Mv(er(z.defaultChain.id)))}catch{console.warn(`Unable to switch to default chain: ${z.defaultChain.id}`)}}return T((Pe=>({...Pe,status:"connected",connectedWallet:be,connectError:null,connectRetry:Oe}))),be&&ke(oe,"connectWallet","onSuccess",{wallet:be}),pe?.(be,ue)}catch(be){return be instanceof Ai?(console.warn(be.cause?be.cause:be.message),ke(oe,"connectWallet","onError",be.privyErrorCode||we.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(be),ke(oe,"connectWallet","onError",we.UNKNOWN_CONNECT_WALLET_ERROR)),T((Pe=>({...Pe,status:"disconnected",connectedWallet:null,connectError:be}))),pe?.(null,ue)}}let nt=async(ne,se,ue)=>{if(ne===null||!Yu(ne))return;let pe=new Xf(e,ne,se,ue);e.startAuthFlow(pe)},Et=async(ne,se,ue,pe="plain")=>{let be=i(MX);if(pe==="transaction"&&!be)throw new ge("useSolanaLedger plugin hook must be mounted");if(ne===null||!hOe(ne))return;let Pe=new uw(ne,e,se,ue,pe,be);e.startAuthFlow(Pe)},Je=()=>{let ne=new URLSearchParams(window.location.search),se=ne.get("privy_connector"),ue=ne.get("privy_wallet_client"),pe=ne.get("privy_connect_only")==="true";if(!se||!ue)return;let be=PY({connectorType:se,walletClientType:ue});if(!be||!be.isInstalled)return $e(Qze);if(!e.connectors)throw new ge("Connector not initialized");$e(pe?_E:Zl);let Pe=new URL(window.location.href);Pe.searchParams.delete("privy_connector"),Pe.searchParams.delete("privy_wallet_client"),Pe.searchParams.delete("privy_connect_only"),window.history.pushState({},"",Pe),vt(se,ue,void 0,pe?void 0:se==="solana_adapter"?Et:nt)};H.useEffect((()=>{y&&o&&c===null&&e.getAuthenticatedUser().then(u)}),[y,o,c,e]);let He=ne=>{if(!o)throw ke(oe,"linkAccount","onError",we.MUST_BE_AUTHENTICATED,{linkMethod:ne}),new ge("User must be authenticated before linking an account.")},Qe=ne=>{if(!o||!c)return!1;if(ne.walletClientType==="privy")return!0;for(let se of c.linkedAccounts)if(se.type==="wallet"&&se.address===ne.address&&se.walletClientType!=="privy")return!0;return!1},dt=()=>{a((ne=>{let se=e.connectors?.wallets.filter(Yu).map((ue=>({...ue,linked:Qe(ue),loginOrLink:async()=>{if(!await ue.isConnected())throw new ge("Wallet is not connected");if(ue.connectorType==="embedded"&&ue.walletClientType==="privy")throw new ge("Cannot link or login with embedded wallet");(async pe=>{let be;if(!e.connectors)throw new ge("Connector not initialized");be=pe.type==="ethereum"?e.connectors.findWalletConnector(pe.connectorType,pe.walletClientType)||null:e.connectors.findSolanaWalletConnector(pe.walletClientType)||null,T((Pe=>({...Pe,connector:be,status:"connected",connectedWallet:pe,connectError:null,connectRetry:Oe}))),z.captchaEnabled&&!o?(Z({captchaModalData:{callback:Pe=>Yu(pe)?nt(pe,Pe):Et(pe,Pe),userIntentRequired:!1,onSuccessNavigateTo:Zl,onErrorNavigateTo:Gn}}),$e(uo)):(Yu(pe)?await nt(pe):await Et(pe),$e(Zl))})(ue)},fund:async pe=>{await pt.fundWallet(ue.address,pe)},unlink:async()=>{if(!o)throw new ge("User is not authenticated.");if(ue.connectorType==="embedded"&&ue.walletClientType==="privy")throw new ge("Cannot unlink an embedded wallet");u(await e.unlinkEthereumWallet(ue.address))}})))||[];return EY(ne,se)?ne:se}))};H.useEffect((()=>{dt()}),[c?.linkedAccounts,o,y]),H.useEffect((()=>{if(y){if(!e.connectors)throw new ge("Connector not initialized");dt(),e.connectors.on("walletsUpdated",dt)}}),[y]),H.useEffect((()=>{[...z.loginMethodsAndOrder?.primary??[],...z.loginMethodsAndOrder?.overflow??[]].filter((ne=>ne.startsWith("privy:"))).forEach((ne=>e.getCrossAppProviderDetails(ne.replace("privy:",""))))}),[!!e]);let $t=({transaction:ne,sponsor:se,uiOptions:ue,fundWalletConfig:pe,address:be,signOnly:Pe})=>new Promise((async(De,Ye)=>{let{requesterAppId:kt}=ue||{},Bt=Pe?"signTransaction":"sendTransaction",Xt=be?kl(c,be):zo(c);if(!Xt&&be){let Gt=Wb(l,be);if(Gt){if(se)throw new ge("Cannot sponsor transactions for externally connected wallet.");try{let Ft=await Gt.getEthereumProvider(),Nt={...ne,from:be,chainId:ne.chainId||Number(Gt.chainId.replace("eip155:","")),value:ne.value!==void 0?er(ne.value):void 0},Vn=await Ft.request({method:Bt==="sendTransaction"?"eth_sendTransaction":"eth_signTransaction",params:[Nt]});return ke(oe,Bt,"onSuccess",{hash:Vn}),void De({hash:Vn})}catch(Ft){return ke(oe,Bt,"onError",we.TRANSACTION_FAILURE),void Ye(Ft??new bi("Unable to "+Bt+Ft))}}}if(!Xt)return ke(oe,Bt,"onError",we.EMBEDDED_WALLET_NOT_FOUND),void Ye(new ge("No embedded or connected wallet found for address."));if(!o||!c)return ke(oe,Bt,"onError",we.MUST_BE_AUTHENTICATED),void Ye(Error("User must be authenticated before signing with a Privy wallet"));let Qt=Xt.address,dn=Xt.walletIndex??0,{entropyId:bt,entropyIdVerifier:yn}=Wa(c,Xt),_t=Kn.wallets.find((Gt=>Gt.walletClientType==="privy"&&yr(Gt.address)===yr(Qt)));if(!_t)return ke(oe,Bt,"onError",we.EMBEDDED_WALLET_NOT_FOUND),void Ye(Error("Must have a Privy wallet before signing"));let pr=await _t.getEthereumProvider(),sr=await pr.request({method:"eth_chainId"}),kr=ne.chainId?Number(ne.chainId):uZ(sr);(Gt=>{if(!z.chains.map((Ft=>Ft.id)).includes(Gt))throw new On(`Chain ID ${Gt} is not supported. It must be added to the config.supportedChains property of the PrivyProvider.`,we.UNSUPPORTED_CHAIN_ID)})(kr);let pn={...ne,from:ne.from??Qt,chainId:kr},Br=await Tn();if(!Br||!G)return ke(oe,Bt,"onError",we.EMBEDDED_WALLET_NOT_FOUND),void Ye(Error("Must have valid access token and Privy wallet to send transaction"));let Jr=yp(pn.chainId,z.chains,z.rpcConfig,{appId:t.appId}),dl=Ms(Xt),Cc=async({transactionRequest:Gt})=>{try{let Ft;if(!await pt.recoverEmbeddedWallet({address:Qt}))throw ke(oe,Bt,"onError",we.UNKNOWN_CONNECT_WALLET_ERROR),Ye(Error("Unable to connect to wallet")),Error("Unable to connect to wallet");if(se){let Nt=await(async({transactionRequest:Vn})=>{if(!dl)throw new ge("Sponsoring is only supported for wallets on the TEE stack");if(Pe)throw new ge("Cannot sponsor a sign transaction request");let zi=mo=>mo==null?void 0:er(mo),ys=await za(n,(async({message:mo})=>await G.signWithUserSigner({accessToken:Br,requesterAppId:kt,message:mo})),{chain_type:"ethereum",method:"eth_sendTransaction",caip2:Mv(er(Vn.chainId)),sponsor:!0,params:{transaction:{from:Vn.from,to:Vn.to,chain_id:zi(Vn.chainId),data:Ti(Vn.data)?Vn.data?Vn.data:er(Uint8Array.from(Vn.data)):void 0,value:zi(Vn.value)}},wallet_id:Xt.id});if(ys.data&&"hash"in ys.data)return ys.data.hash;throw new bi("Unable to sign transaction")})({transactionRequest:Gt});return ke(oe,"sendTransaction","onSuccess",{hash:Nt}),Nt}if(dl){let Nt=zi=>zi==null?void 0:er(zi),Vn=await za(n,(async({message:zi})=>await G.signWithUserSigner({accessToken:Br,requesterAppId:kt,message:zi})),{chain_type:"ethereum",method:"eth_signTransaction",params:{transaction:{from:Gt.from,to:Gt.to,nonce:Nt(Gt.nonce),chain_id:Nt(Gt.chainId),data:Ti(Gt.data)?Gt.data?Gt.data:er(Uint8Array.from(Gt.data)):void 0,value:Nt(Gt.value),type:Gt.type,gas_limit:Nt(Gt.gasLimit??Gt.gas),gas_price:Nt(Gt.gasPrice??Gt.gas),max_fee_per_gas:Nt(Gt.maxFeePerGas),max_priority_fee_per_gas:Nt(Gt.maxPriorityFeePerGas)}},wallet_id:Xt.id});if(!Vn.data||!("signed_transaction"in Vn.data))throw new bi("Unable to sign transaction");Ft=Vn.data.signed_transaction}else Ft=await(async function({accessToken:Nt,entropyId:Vn,entropyIdVerifier:zi,transactingWalletIndex:ys,walletProxy:mo,transactionRequest:fh,requesterAppId:uu}){return(await mo.rpc({entropyId:Vn,entropyIdVerifier:zi,hdWalletIndex:ys??0,chainType:"ethereum",accessToken:Nt,requesterAppId:uu,request:{method:"eth_signTransaction",params:[fh]}})).response.data})({accessToken:Br,entropyId:bt,entropyIdVerifier:yn,transactingWalletIndex:dn,walletProxy:G,transactionRequest:Gt,requesterAppId:kt});if(Pe)return ke(oe,"signTransaction","onSuccess",{signature:Ft}),Ft;{let Nt=await Jr.sendRawTransaction({serializedTransaction:Ft});return ke(oe,"sendTransaction","onSuccess",{hash:Nt}),Nt}}catch(Ft){throw ke(oe,Bt,"onError",we.TRANSACTION_FAILURE),Ft}};if(Re({showWalletUIs:ue?.showWalletUIs})){let Gt=Pe||se?pn:await fw(pn,Jr,pn.from);try{let Ft=await Cc({transactionRequest:Gt});Pe?ke(oe,"signTransaction","onSuccess",{signature:Ft}):ke(oe,"sendTransaction","onSuccess",{hash:Ft}),De({hash:Ft})}catch(Ft){ke(oe,Bt,"onError",we.TRANSACTION_FAILURE),Ye(Ft)}}else{let Gt={connectingWalletAddress:Qt,recoveryMethod:Xt.recoveryMethod,entropyId:bt,entropyIdVerifier:yn,onCompleteNavigateTo:zX,isUnifiedWallet:dl,onFailure:Nt=>{ke(oe,Bt,"onError",we.UNKNOWN_CONNECT_WALLET_ERROR),Ye(Nt)}},Ft=(Nt=>!!Nt.fundingConfig&&cZ(Nt.fundingConfig.options).length>=1)(z)?EN({address:Qt,appConfig:z,fundWalletConfig:pe,methodScreen:va,chainIdOverride:pn.chainId,comingFromSendTransactionScreen:!0}):void 0;Z({connectWallet:Gt,sendTransaction:{transactionRequest:pn,transactingWalletIndex:dn,transactingWalletAddress:Qt,entropyId:bt,entropyIdVerifier:yn,signOnly:Pe,scanTransaction:async()=>{let Nt=await fw(pn,Jr,pn.from);return await e.scanTransaction({metadata:{domain:z.embeddedWallets.transactionScanning.domain},chain_id:Nt.chainId.toString(),request:{method:"eth_sendTransaction",params:[{from:Nt.from,to:Nt.to,value:Nt.value?.toString(),gas:Nt.gas?.toString(),gasPrice:Nt.gasPrice?.toString(),nonce:Nt.nonce?.toString(),data:Nt.data}]}})},getIsSponsored:async()=>!!se,onConfirm:({transactionRequest:Nt})=>Cc({transactionRequest:Nt}),onSuccess:Nt=>{Pe?ke(oe,"signTransaction","onSuccess",{signature:Nt.hash}):ke(oe,"sendTransaction","onSuccess",{hash:Nt.hash}),De(Nt)},onFailure:Nt=>{ke(oe,Bt,"onError",we.TRANSACTION_FAILURE),Ye(Nt)},uiOptions:ue||{},fundWalletConfig:pe,requesterAppId:kt},funding:Ft}),$e(Z0)}}));function ut(){return new Promise((async(ne,se)=>{let ue=await Tn();if(!ue||!G)throw Error("Must have valid access token to enroll in MFA");try{await G.verifyMfa({accessToken:ue}),ne()}catch(pe){se(pe)}}))}let wt=ne=>ne?.linkedAccounts.filter((se=>se.latestVerifiedAt!==null&&!(se.type==="wallet"&&se.walletClientType==="privy"))).sort(((se,ue)=>ue.latestVerifiedAt.getTime()-se.latestVerifiedAt.getTime()))[0],tt=ne=>{let se=c?.linkedAccounts.filter((be=>be.type===ne)).length??0,{displayName:ue,loginMethod:pe}=s3(ne);if(ne==="passkey"&&se>=5||ne!=="passkey"&&se>=1)throw ke(oe,"linkAccount","onError",we.CANNOT_LINK_MORE_OF_TYPE,{linkMethod:pe}),new ge(`User already has an account of type ${ue} linked.`)};async function cn({showAutomaticRecovery:ne=!1,legacySetWalletPasswordFlow:se=!1}){x(null);let ue=se?"setWalletPassword":"setWalletRecovery";if(!o||!c)throw ke(oe,ue,"onError",we.MUST_BE_AUTHENTICATED),Error("User must be authenticated before adding recovery method to Privy wallet");let pe=io(c);if(!pe||!G)throw ke(oe,ue,"onError",we.EMBEDDED_WALLET_NOT_FOUND),Error("Must have a Privy wallet to add a recovery method");let be=Ms(pe);if(be)throw ke(oe,ue,"onError",we.UNSUPPORTED_WALLET_TYPE),new ge("User owned wallet recovery is only supported for on-device execution and this app uses TEE execution. Learn more https://docs.privy.io/recipes/tee-wallet-migration-guide");try{await ut()}catch(Pe){throw ke(oe,ue,"onError",we.MISSING_MFA_CREDENTIALS),Pe}return new Promise(((Pe,De)=>{let Ye=pe.recoveryMethod==="user-passcode",kt=xK({walletAction:"update",availableRecoveryMethods:z.embeddedWallets.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:se,isResettingPassword:Ye,showAutomaticRecovery:ne}),{entropyId:Bt,entropyIdVerifier:Xt}=Wa(c),Qt={recoveryMethod:pe.recoveryMethod,connectingWalletAddress:pe.address,onCompleteNavigateTo:kt,shouldForceMFA:!1,entropyId:Bt,isUnifiedWallet:be,entropyIdVerifier:Xt,onFailure:dn=>{ke(oe,ue,"onError",we.UNKNOWN_CONNECT_WALLET_ERROR),De(dn)}};Z({setWalletPassword:{onSuccess:dn=>{ke(oe,ue,"onSuccess",{method:"user-passcode",wallet:dn}),Pe(dn)},onFailure:dn=>{ke(oe,ue,"onError",we.USER_EXITED_SET_PASSWORD_FLOW),De(dn)},callAuthOnSuccessOnClose:!1},recoverWallet:{entropyId:Bt,entropyIdVerifier:Xt,onFailure:De},connectWallet:Qt,recoverySelection:{isInAccountCreateFlow:!1,isResettingPassword:Ye,shouldCreateEth:!1,shouldCreateSol:!1}}),$e(Z0)}))}async function Pn({appId:ne,action:se}){let ue=await Tn();if(se==="link"&&!ue)throw ke(oe,"linkAccount","onError",we.MUST_BE_AUTHENTICATED,{linkMethod:`privy:${ne}`}),new ge("User must be authenticated before linking an account.");if(se==="login"&&ue)throw ke(oe,"login","onError",we.UNKNOWN_AUTH_ERROR),new ge("Attempted to log in, but user is already logged in. Use a `link` helper instead.");Ee.current=`privy:${ne}`,Ie.current=se;let pe=Qx();return e.createAnalyticsEvent({eventName:"cross_app_auth_started",payload:{providerAppId:ne}}),new Promise((async(be,Pe)=>{let{name:De,logoUrl:Ye}=await SZ({api:e.api,providerAppId:ne,requesterAppId:z.id});Z({crossAppAuth:{appId:ne,name:De,logoUrl:Ye,action:se,popup:pe,onSuccess:be,onError:Pe}}),$e($ze)}))}let It={ready:y,authenticated:o,user:c,walletConnectors:e.connectors||null,connectWallet:ne=>{ne&&"target"in ne&&ne&&(ne=void 0),Z({externalConnectWallet:{walletList:ne?.walletList&&ne?.walletList.length>0?ne.walletList:void 0,walletChainType:ne?.walletChainType,description:ne?.description}}),$e(Fv)},linkWallet:ne=>{ne&&"target"in ne&&ne&&(ne=void 0),He("siwe"),Ee.current="siwe",Ie.current="link",Z({...U,externalConnectWallet:{...U.externalConnectWallet,walletList:ne?.walletList,walletChainType:ne?.walletChainType,description:ne?.description||`Link a wallet to your ${z?.name} account`}}),$e(u2)},startCrossAppAuthFlow:Pn,linkEmail:()=>{He("email"),tt("email"),Ee.current="email",Ie.current="link",$e(Kze)},linkPhone:()=>{He("sms"),tt("phone"),Ee.current="sms",Ie.current="link",$e(P7)},linkGoogle:async()=>{He("google"),tt("google_oauth"),Ie.current="link",await pt.initLoginWithOAuth("google")},linkTwitter:async()=>{He("twitter"),tt("twitter_oauth"),Ie.current="link",await pt.initLoginWithOAuth("twitter")},linkTwitch:async()=>{He("twitch"),tt("twitch_oauth"),Ie.current="link",await pt.initLoginWithOAuth("twitch")},linkDiscord:async()=>{He("discord"),tt("discord_oauth"),Ie.current="link",await pt.initLoginWithOAuth("discord")},linkGithub:async()=>{He("github"),tt("github_oauth"),Ie.current="link",await pt.initLoginWithOAuth("github")},linkSpotify:async()=>{He("spotify"),tt("spotify_oauth"),Ie.current="link",await pt.initLoginWithOAuth("spotify")},linkInstagram:async()=>{He("instagram"),tt("instagram_oauth"),Ie.current="link",await pt.initLoginWithOAuth("instagram")},linkTiktok:async()=>{He("tiktok"),tt("tiktok_oauth"),Ie.current="link",await pt.initLoginWithOAuth("tiktok")},linkLine:async()=>{He("line"),tt("line_oauth"),Ie.current="link",await pt.initLoginWithOAuth("line")},linkLinkedIn:async()=>{He("linkedin"),tt("linkedin_oauth"),Ie.current="link",await pt.initLoginWithOAuth("linkedin")},linkApple:async()=>{He("apple"),tt("apple_oauth"),Ie.current="link",await pt.initLoginWithOAuth("apple")},linkPasskey:async()=>{He("passkey"),tt("passkey"),await pt.initLinkWithPasskey(),$e(wze)},linkTelegram:async ne=>{if(He("telegram"),tt("telegram"),Ie.current="link",Ee.current="telegram",ne?.launchParams)if(ne.launchParams.initDataRaw){let se=new V0;e.startAuthFlow(se),se.meta.telegramAuthResult=void 0,se.meta.telegramWebAppData=wY(ne.launchParams.initDataRaw),Z({telegramAuthModalData:{seamlessAuth:!0}}),$e(c2)}else ke(oe,"linkAccount","onError",we.INVALID_DATA,{linkMethod:"telegram"});else await pt.initLoginWithTelegram();$e(c2)},linkFarcaster:async()=>{He("farcaster"),tt("farcaster"),await pt.initLoginWithFarcaster(),Ie.current="link",Ee.current="farcaster",$e(n9)},updateEmail:()=>{if(He("email"),!c?.email)throw new ge("User does not have an email linked to their account.");Ie.current="update",Ee.current="email",$e(yWe)},updatePhone:()=>{if(He("sms"),!c?.phone)throw new ge("User does not have a phone number linked to their account.");Ie.current="update",Ee.current="sms",$e(xWe)},login:async ne=>{ne&&"target"in ne&&ne&&(ne=void 0);let se="Attempted to log in, but user is already logged in. Use a `link` helper instead.";if(!y){let ue=await new Promise((pe=>{J((be=>pe.bind(be)))}));if(J(null),ue)return void console.warn(se)}!c||c.isGuest?(Ie.current="login",Z({login:ne}),$e(Pi)):console.warn(se)},connectOrCreateWallet:async()=>{y||(await new Promise((ne=>{J((()=>ne))})),J(null)),o?console.warn("User must be unauthenticated to `connectOrCreateWallet`"):(Ie.current="connect-or-create",$e(pK))},logout:async()=>{if(Ie.current=null,Ee.current=null,c&&e.clearProviderAcccessTokens(c),x(null),await e.logout(),c&&G)try{await G.clearMfa({userId:c.id})}catch{}u(null),v(!1),R({status:"initial"}),D({status:"initial"}),A({status:"initial"}),$({status:"initial"}),k({status:"initial"}),W({status:"initial"}),ke(oe,"logout","onSuccess"),b(!1),Ct.del(FE),Ct.del(eY(z.id))},getAccessToken:H.useCallback((()=>e.getCustomerAccessToken()),[e]),unlinkWallet:async ne=>{let se;return u(se=ne.startsWith("0x")?await e.unlinkEthereumWallet(ne):await e.unlinkSolanaWallet(ne)),se},unlinkEmail:async ne=>{let se=await e.unlinkEmail(ne);return u(se),se},unlinkPhone:async ne=>{let se=await e.unlinkPhone(ne);return u(se),se},unlinkGoogle:async ne=>{let se=await e.unlinkOAuth("google",ne);return u(se),se},unlinkTwitter:async ne=>{let se=await e.unlinkOAuth("twitter",ne);return u(se),se},unlinkTwitch:async ne=>{let se=await e.unlinkOAuth("twitch",ne);return u(se),se},unlinkDiscord:async ne=>{let se=await e.unlinkOAuth("discord",ne);return u(se),se},unlinkGithub:async ne=>{let se=await e.unlinkOAuth("github",ne);return u(se),se},unlinkSpotify:async ne=>{let se=await e.unlinkOAuth("spotify",ne);return u(se),se},unlinkInstagram:async ne=>{let se=await e.unlinkOAuth("instagram",ne);return u(se),se},unlinkTiktok:async ne=>{let se=await e.unlinkOAuth("tiktok",ne);return u(se),se},unlinkLine:async ne=>{let se=await e.unlinkOAuth("line",ne);return u(se),se},unlinkLinkedIn:async ne=>{let se=await e.unlinkOAuth("linkedin",ne);return u(se),se},unlinkApple:async ne=>{let se=await e.unlinkOAuth("apple",ne);return u(se),se},unlinkFarcaster:async ne=>{let se=await e.unlinkFarcaster(ne);return u(se),se},unlinkTelegram:async ne=>{let se=await e.unlinkTelegram(ne);return u(se),se},unlinkPasskey:async ne=>{let se=await Tn();if(!se)throw Error("Must have valid access token to enroll in MFA");if(!G)throw Error("Wallet proxy not initialized.");let ue=z.passkeys.shouldUnenrollMfaOnUnlink;await G.unlinkPasskeyAccount({credentialId:ne,accessToken:se,removeAsMfa:ue});let pe=await e.getAuthenticatedUser();return u(pe),pe},unlinkCrossAppAccount:async({subject:ne})=>{let se=c?.linkedAccounts.find((pe=>pe.type==="cross_app"&&pe.subject===ne))?.providerApp;if(!se)throw new ge("Invalid subject");e.storeProviderAccessToken(se.id,null);let ue=await e.unlinkOAuth(`privy:${se.id}`,ne);return u(ue),ue},setWalletRecovery:async ne=>cn({legacySetWalletPasswordFlow:!1,showAutomaticRecovery:ne?.showAutomaticRecovery??!1}),setWalletPassword:async()=>cn({legacySetWalletPasswordFlow:!0,showAutomaticRecovery:!1}),signMessage:(ne,se)=>new Promise((async(ue,pe)=>{let{requesterAppId:be}=se?.uiOptions||{},Pe=ne.message,De=se?.address?kl(c,se.address):zo(c);if(!De&&se?.address!==void 0){let bt=Wb(l,se.address);if(bt)try{let yn=await bt.getEthereumProvider(),_t=await yn.request({method:"personal_sign",params:[Pe,bt.address]});return ke(oe,"signMessage","onSuccess",{signature:_t}),void ue({signature:_t})}catch(yn){return ke(oe,"signMessage","onError",we.UNABLE_TO_SIGN),void pe(yn??new bi("Unable to sign message"))}}if(!De)throw new ge("No embedded or connected wallet found for address.");if(!o||!c)return ke(oe,"signMessage","onError",we.MUST_BE_AUTHENTICATED),void pe(Error("User must be authenticated before signing with a Privy wallet"));let Ye=De.address,kt=De.walletIndex??0,{entropyId:Bt,entropyIdVerifier:Xt}=Wa(c,De),Qt=Ms(De);if(typeof Pe!="string"||Pe.length<1)return ke(oe,"signMessage","onError",we.INVALID_MESSAGE),void pe(Error("Message must be a non-empty string"));let dn=async()=>{let bt;if(!o)throw Error("User must be authenticated before signing with a Privy wallet");let yn=await Tn();if(!G||!yn||!await pt.recoverEmbeddedWallet({address:Ye}))throw Error("Unable to connect to wallet");if(e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_started",payload:{walletAddress:Ye,requesterAppId:be}}),Qt){let _t=Ti(ne.message,{strict:!0}),pr=await za(n,(async({message:sr})=>await G.signWithUserSigner({accessToken:yn,requesterAppId:be,message:sr})),{chain_type:"ethereum",method:"personal_sign",params:_t?{message:Pe.slice(2),encoding:"hex"}:{message:Pe,encoding:"utf-8"},wallet_id:De.id});if(!pr.data||!("signature"in pr.data))throw new bi("Unable to sign message");bt=pr.data.signature}else{let{response:_t}=await G.rpc({accessToken:yn,entropyId:Bt,entropyIdVerifier:Xt,chainType:"ethereum",hdWalletIndex:kt,requesterAppId:be,request:{method:"personal_sign",params:[Pe,Ye]}});bt=_t.data}return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_completed",payload:{walletAddress:Ye,requesterAppId:be}}),bt};if(Re({showWalletUIs:se?.uiOptions?.showWalletUIs}))try{let bt=await dn();ke(oe,"signMessage","onSuccess",{signature:bt}),ue({signature:bt})}catch(bt){ke(oe,"signMessage","onError",we.UNABLE_TO_SIGN),pe(bt??new bi("Unable to sign message"))}else Z({signMessage:{method:"personal_sign",data:Pe,confirmAndSign:dn,onSuccess:bt=>{ke(oe,"signMessage","onSuccess",{signature:bt}),ue({signature:bt})},onFailure:bt=>{ke(oe,"signMessage","onError",we.UNABLE_TO_SIGN),pe(bt)},uiOptions:se?.uiOptions||{}},connectWallet:{recoveryMethod:De.recoveryMethod,connectingWalletAddress:Ye,entropyId:Bt,entropyIdVerifier:Xt,onCompleteNavigateTo:DD,isUnifiedWallet:Qt,onFailure:bt=>{ke(oe,"signMessage","onError",we.UNKNOWN_CONNECT_WALLET_ERROR),pe(bt)}}}),$e(Z0)})),signTypedData:(ne,se)=>new Promise((async(ue,pe)=>{let{requesterAppId:be}=se?.uiOptions||{},Pe=se?.address?kl(c,se.address):zo(c);if(!Pe&&se?.address){let bt=Wb(l,se.address);if(bt)try{let yn=await bt.getEthereumProvider(),_t=i2(ne),pr=await yn.request({method:"eth_signTypedData_v4",params:[bt.address,_t]});return ke(oe,"signTypedData","onSuccess",{signature:pr}),void ue({signature:pr})}catch(yn){return ke(oe,"signTypedData","onError",we.UNABLE_TO_SIGN),void pe(yn??new bi("Unable to sign typed data "+yn))}}if(!Pe)throw new ge("No embedded or connected wallet found for address.");if(!o||!c)return ke(oe,"signTypedData","onError",we.MUST_BE_AUTHENTICATED),void pe(Error("User must be authenticated before signing with a Privy wallet"));let De=Pe.address,Ye=Pe.walletIndex??0,{entropyId:kt,entropyIdVerifier:Bt}=Wa(c,Pe),Xt=Ms(Pe),Qt=i2(ne),dn=async()=>{let bt;if(!o)throw Error("User must be authenticated before signing with a Privy wallet");let yn=await Tn();if(!G||!yn||!await pt.recoverEmbeddedWallet({address:De}))throw Error("Unable to connect to wallet");if(e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_started",payload:{walletAddress:De,requesterAppId:be}}),Xt){let{domain:_t,types:pr,primaryType:sr,message:kr}=Qt,pn=await za(n,(async({message:Br})=>await G.signWithUserSigner({accessToken:yn,requesterAppId:be,message:Br})),{chain_type:"ethereum",method:"eth_signTypedData_v4",params:{typed_data:{domain:_t,types:pr,primary_type:sr,message:kr}},wallet_id:Pe.id});if(!pn.data||!("signature"in pn.data))throw new bi("Unable to sign message");bt=pn.data.signature}else{let{response:_t}=await G.rpc({accessToken:yn,entropyId:kt,entropyIdVerifier:Bt,chainType:"ethereum",hdWalletIndex:Ye,requesterAppId:be,request:{method:"eth_signTypedData_v4",params:[De,Qt]}});bt=_t.data}return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_completed",payload:{walletAddress:De,requesterAppId:be}}),bt};if(Re({showWalletUIs:se?.uiOptions?.showWalletUIs}))try{let bt=await dn();ke(oe,"signTypedData","onSuccess",{signature:bt}),ue({signature:bt})}catch(bt){ke(oe,"signTypedData","onError",we.UNABLE_TO_SIGN),pe(bt??new bi("Unable to sign message"))}else Z({signMessage:{method:"eth_signTypedData_v4",data:Qt,confirmAndSign:dn,onSuccess:bt=>{ke(oe,"signTypedData","onSuccess",{signature:bt}),ue({signature:bt})},onFailure:bt=>{ke(oe,"signTypedData","onError",we.UNABLE_TO_SIGN),pe(bt)},uiOptions:se?.uiOptions||{}},connectWallet:{recoveryMethod:Pe.recoveryMethod,connectingWalletAddress:Pe.address,entropyId:kt,isUnifiedWallet:Xt,entropyIdVerifier:Bt,onCompleteNavigateTo:DD,onFailure:bt=>{ke(oe,"signMessage","onError",we.UNKNOWN_CONNECT_WALLET_ERROR),pe(bt)}}}),$e(Z0)})),sendTransaction:async(ne,se)=>await $t({transaction:ne,sponsor:se?.sponsor,uiOptions:se?.uiOptions,fundWalletConfig:se?.fundWalletConfig,address:se?.address,signOnly:!1}),signTransaction:async(ne,se)=>({signature:(await $t({transaction:ne,uiOptions:se?.uiOptions,address:se?.address,signOnly:!0})).hash}),exportWallet:ne=>new Promise((async(se,ue)=>{if(!o||!c)return void ue(Error("User must be authenticated before exporting their Privy wallet"));ne&&"target"in ne&&ne&&(ne=void 0);let pe=ne?.address?kl(c,ne.address):zo(c);if(!pe)return void ue(new ge("User must have an embedded wallet."));let be=pe.address,{entropyId:Pe,entropyIdVerifier:De}=Wa(c,pe),Ye=Ms(pe);if(!be)return void ue(Error("User does not have an HD Ethereum wallet. To export an imported wallet, pass the `address` of the wallet to `exportWallet`."));if(!ds(be))return void ue(Error("Must provide a valid Ethereum address."));let kt={recoveryMethod:pe.recoveryMethod,connectingWalletAddress:pe.address,isUnifiedWallet:Ye,entropyId:Pe,entropyIdVerifier:De,onCompleteNavigateTo:CK,onFailure:ue,shouldForceMFA:!0};Z(U),await Tn()&&G?G?Hg(pe)?(Z({keyExport:{appId:t.appId,appClientId:t.clientId,origin:e.apiUrl,address:pe.address,entropyId:Pe,entropyIdVerifier:De,hdWalletIndex:pe.walletIndex,chainType:pe.chainType,walletId:pe.id,isUnifiedWallet:Ye,imported:pe.imported,onSuccess:se,onFailure:ue},connectWallet:kt}),$e(Z0)):ue(Error(`Export is not supported for ${pe.chainType} wallets`)):ue(Error("Must have a Privy wallet before exporting")):ue(Error("Must have valid access token to enroll in MFA"))})),promptMfa:ut,async init(ne){switch(ne){case"sms":return void await e.initMfaSmsVerification();case"passkey":return await e.initMfaPasskeyVerification();case"totp":return;default:throw Error(`Unsupported MFA method: ${ne}`)}},async submit(ne,se){switch(ne){case"totp":case"sms":if(typeof se!="string")throw new ge("Invalid MFA code");he.current?.resolve({mfaMethod:ne,mfaCode:se,relyingParty:window.origin}),await new Promise(((be,Pe)=>{fe.current={resolve:be,reject:Pe}}));break;case"passkey":if(typeof se=="string")throw new ge("Invalid authenticator response");let ue=await Ko(()=>import("./index-D9std1Z8.js"),[]),pe=Oze(await ue.startAuthentication({optionsJSON:se}));he.current?.resolve({mfaMethod:ne,mfaCode:pe,relyingParty:window.origin}),await new Promise(((be,Pe)=>{fe.current={resolve:be,reject:Pe}}));break;default:throw he.current?.reject(new ge("Unsupported MFA method")),new ge(`Unsupported MFA method: ${ne}`)}},cancel(){he.current?.reject(new ge("MFA canceled"))},async initEnrollmentWithSms(ne){let se=await Tn();if(!se||!G)throw Error("Must have valid access token to enroll in MFA");await G.initEnrollMfa({method:"sms",accessToken:se,phoneNumber:ne.phoneNumber})},enrollInMfa:ne=>new Promise(((se,ue)=>{if(!ne)return pt.closePrivyModal(),void se();z.mfa.noPromptOnMfaRequired&&console.warn("[Privy Warning] Triggering the 'showMfaEnrollmentModal' function when 'noPromptOnMfaRequired' is set to true is unexpected. If this is intentional, ensure that you are building custom UIs for MFA verification."),Z({mfaEnrollmentFlow:{mfaMethods:z.mfa.methods,shouldUnlinkOnUnenrollMfa:z.passkeys.shouldUnlinkOnUnenrollMfa,onSuccess:se,onFailure:ue}}),$e(hWe)})),async initEnrollmentWithTotp(){let ne=await Tn();if(!ne||!G)throw Error("Must have valid access token to enroll in MFA");let se=await G.initEnrollMfa({method:"totp",accessToken:ne});return{secret:se.secret,authUrl:se.authUrl}},async submitEnrollmentWithSms(ne){let se=await Tn();if(!se||!G)throw Error("Must have valid access token to enroll in MFA");await G.submitEnrollMfa({method:"sms",accessToken:se,phoneNumber:ne.phoneNumber,code:ne.mfaCode}),u(await e.getAuthenticatedUser())},async submitEnrollmentWithTotp(ne){let se=await Tn();if(!se||!G)throw Error("Must have valid access token to enroll in MFA");await G.submitEnrollMfa({method:"totp",accessToken:se,code:ne.mfaCode}),u(await e.getAuthenticatedUser())},async initEnrollmentWithPasskey(){},async submitEnrollmentWithPasskey({credentialIds:ne},se={}){let ue=await Tn();if(!ue||!G)throw Error("Must have valid access token to enroll in MFA");await G.submitEnrollMfa({method:"passkey",accessToken:ue,credentialIds:ne,removeForLogin:se.removeForLogin}),u(await e.getAuthenticatedUser())},async unenroll(ne,se={}){let ue=await Tn();if(!ue||!G)throw Error("Must have valid access token to remove MFA");ne==="passkey"?await G.submitEnrollMfa({method:"passkey",accessToken:ue,credentialIds:[],removeForLogin:se.removeForLogin}):await G.unenrollMfa({method:ne,accessToken:ue}),u(await e.getAuthenticatedUser())},requestFarcasterSignerFromWarpcast:async()=>{let ne=await Tn(),se=c?.linkedAccounts.find((pe=>pe.type==="wallet"&&pe.walletClientType==="privy"));if(!ne)throw Error("Must have valid access token to connect with Farcaster");if(!G||!se)throw Error("Must have an embedded wallet to use Farcaster signers");if(Ms(se))throw new ge("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!c?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");if(!await pt.recoverEmbeddedWallet({address:se.address}))throw Error("Unable to connect to wallet");let ue=await G.initFarcasterSigner({address:se.address,hdWalletIndex:null,accessToken:ne,mfaCode:null,mfaMethod:null,relyingParty:window.origin});ue.status==="approved"&&u(await e.getAuthenticatedUser()||c||null),Z({farcasterSigner:ue}),$e(Hze)},getFarcasterSignerPublicKey:async()=>{let ne,se=await Tn(),ue=c?.linkedAccounts.find((pe=>pe.type==="wallet"&&pe.walletClientType==="privy"));if(!se)throw Error("Must have valid access token to connect with Farcaster");if(!G||!ue)throw Error("Must have an embedded wallet to use Farcaster signers");if(Ms(ue))throw new ge("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!c?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");if(!await pt.recoverEmbeddedWallet({address:ue.address}))throw Error("Unable to connect to wallet");if(!c.farcaster?.signerPublicKey)throw Error("Must have a Farcaster signer public key to sign");return ne=c.farcaster.signerPublicKey.slice(2),Uint8Array.from(ne.match(/.{1,2}/g).map((pe=>parseInt(pe,16))))},signFarcasterMessage:async ne=>{let se=await Tn(),ue=c?.linkedAccounts.find((Pe=>Pe.type==="wallet"&&Pe.walletClientType==="privy"));if(!se)throw Error("Must have valid access token to connect with Farcaster");if(!G||!ue)throw Error("Must have an embedded wallet to use Farcaster signers");if(Ms(ue))throw new ge("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!c?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");if(!await pt.recoverEmbeddedWallet({address:ue.address}))throw Error("Unable to connect to wallet");if(!c.farcaster?.signerPublicKey)throw Error("Must have a Farcaster signer public key to sign");let pe=await Ko(()=>import("./index-D9std1Z8.js"),[]),be=await G.signFarcasterMessage({address:ue.address,hdWalletIndex:null,accessToken:se,mfaCode:null,mfaMethod:null,payload:{hash:pe.bufferToBase64URLString(ne)},fid:BigInt(c.farcaster.fid),relyingParty:window.origin});return new Uint8Array(pe.base64URLStringToBuffer(be.signature))},signMessageWithCrossAppWallet(ne,{address:se,chainId:ue}){let pe=c?.linkedAccounts.some((be=>be.type==="cross_app"&&be.smartWallets.some((Pe=>Pe.address===se))));return Ny({user:c,client:e,address:se,requesterAppId:z.id,request:{method:pe?"privy_signSmartWalletMessage":"personal_sign",params:[ne,se],chainId:ue},reconnect:Pn})},signTypedDataWithCrossAppWallet(ne,{address:se,chainId:ue}){let pe=c?.linkedAccounts.some((Pe=>Pe.type==="cross_app"&&Pe.smartWallets.some((De=>De.address===se)))),be=i2(ne);return Ny({user:c,client:e,address:se,requesterAppId:z.id,request:{method:pe?"privy_signSmartWalletTypedData":"eth_signTypedData_v4",params:[se,be],chainId:ue},reconnect:Pn})},sendTransactionWithCrossAppWallet(ne,{address:se}){let ue=c?.linkedAccounts.some((pe=>pe.type==="cross_app"&&pe.smartWallets.some((be=>be.address===se))));return Ny({user:c,client:e,address:se,requesterAppId:z.id,request:{method:ue?"privy_sendSmartWalletTx":"eth_sendTransaction",params:[ne],chainId:ne.chainId},reconnect:Pn})},signTransactionWithCrossAppWallet(ne,{address:se}){let ue=c?.linkedAccounts.some((pe=>pe.type==="cross_app"&&pe.smartWallets.some((be=>be.address===se))));return Ny({user:c,client:e,address:se,requesterAppId:z.id,request:{method:ue?"privy_signSmartWalletTx":"eth_signTransaction",params:[ne],chainId:ne.chainId},reconnect:Pn})},isModalOpen:f||!!s,mfaMethods:z.mfa.methods};RZ=It.signMessage,MZ=It.signTypedData,FZ=async(ne,se)=>await $t({transaction:ne,...se,signOnly:!1}),OZ=async(ne,se)=>({signature:(await $t({transaction:ne,...se,signOnly:!0})).hash});let pt={privy:n,setAuthenticated:v,setUser:u,setIsNewUser:g,isNewUserThisSession:h,pendingTransaction:null,walletConnectionStatus:E,setWalletConnectionStatus:T,connectors:e.connectors?.walletConnectors??[],rpcConfig:z.rpcConfig,chains:z.chains,appId:t.appId,showFiatPrices:z.embeddedWallets.priceDisplay.primary!=="native-token",clientAnalyticsId:e.clientAnalyticsId,onCustomAuthAuthenticated:Ae,hideWalletUIs:je,isHeadlessSigning:H.useCallback(Re,[z.embeddedWallets.showWalletUIs]),emailOtpState:P,setEmailOtpState:R,smsOtpState:L,setSmsOtpState:D,oAuthState:N,setOAuthState:k,telegramAuthState:j,setTelegramAuthState:W,siweState:F,setSiweState:$,isHeadlessOAuthLoading:w,baseAccountSdk:d,setBaseAccountSdk:p,nativeTokenSymbolForChainId:ne=>z.chains.find((se=>se.id===Number(ne)))?.nativeCurrency.symbol,initializeWalletProxy:async ne=>{if(G)return G;let se=new Promise((be=>{_.current=be})),ue=new Promise((be=>setTimeout((()=>be(null)),ne))),pe=await Promise.race([se,ue]);return _.current=null,pe},getAuthFlow:()=>e.authFlow,getAuthMeta:()=>e.authFlow?.meta,client:e,closePrivyModal:async(ne={shouldCallAuthOnSuccess:!0,isSuccess:!1})=>{let se,ue=y&&o&&c;ue&&Ee.current&&(se=wt(c)),Ie.current==="login"?ne.shouldCallAuthOnSuccess&&ue&&Ee.current?ke(oe,"login","onComplete",{user:c,isNewUser:h,wasAlreadyAuthenticated:!1,loginMethod:Ee.current,loginAccount:se??null}):ke(oe,"login","onError",we.USER_EXITED_AUTH_FLOW):Ie.current==="link"&&se?ne.isSuccess&&ue&&Ee.current?ke(oe,"linkAccount","onSuccess",{user:c,linkMethod:Ee.current,linkedAccount:se}):Ee.current&&ke(oe,"linkAccount","onError",we.USER_EXITED_LINK_FLOW,{linkMethod:Ee.current}):Ie.current==="update"&&se?ne.isSuccess&&ue&&Ee.current?ke(oe,"update","onSuccess",{user:c,updateMethod:Ee.current,updatedAccount:se}):Ee.current&&ke(oe,"update","onError",we.USER_EXITED_UPDATE_FLOW,{linkMethod:Ee.current}):Ie.current==="connect-or-create"&&(l[0]?ke(oe,"connectOrCreateWallet","onSuccess",{wallet:l[0]}):ke(oe,"connectOrCreateWallet","onError",we.USER_EXITED_AUTH_FLOW));let pe=m&&a8.has(m),be=m===Gn&&U.errorModalData&&a8.has(U.errorModalData.previousScreen);if((pe||be)&&U.funding){let Pe,De=a8.get(m)??null;if(U.funding.chainType==="solana"){let Ye=z.solanaRpcs[U.funding.chain];if(!Ye)return void console.warn("Unable to load solana rpc, skipping balance");if(i(t9))try{Pe=await i7({rpc:Ye.rpc,address:U.funding.address})}catch{console.error("Unable to pull wallet balance")}else console.warn("Unable to load solana plugin, skipping balance");ke(oe,"fundSolanaWallet","onUserExited",{address:U.funding.address,fundingMethod:De,chain:U.funding.chain,balance:Pe})}else{let Ye=yp(U.funding.chain.id,z.chains,z.rpcConfig,{appId:t.appId});try{Pe=await Ye.getBalance({address:U.funding.address})}catch{console.error("Unable to pull wallet balance")}ke(oe,"fundWallet","onUserExited",{address:U.funding.address,chain:U.funding.chain,fundingMethod:De,balance:Pe})}}Z((Pe=>({...Pe,externalConnectWallet:{}}))),Ie.current=null,Ee.current=null,g(!1),b(!1),setTimeout((()=>{e.authFlow=void 0}),200)},openPrivyModal:$e,connectWallet:Ge,initLoginWithWallet:async(ne,se,ue,pe)=>{Yu(ne)?(Ee.current="siwe",nt(ne,se,ue)):(Ee.current="siws",Et(ne,se,ue,pe))},loginWithWallet:async()=>{let ne,se,ue;if(!y)throw new Wc;if(e.authFlow instanceof Xf?ne="siwe":e.authFlow instanceof uw&&(ne="siws"),!ne)throw new ge("Must initialize SIWE/SIWS flow first.");if(await e.getAccessToken()!==null)try{({user:se}=await e.link()),Ee.current=ne}catch(pe){throw ke(oe,"linkAccount","onError",pe.privyErrorCode||we.FAILED_TO_LINK_ACCOUNT,{linkMethod:ne}),pe}else try{({user:se,isNewUser:ue}=await e.authenticate()),Ee.current=ne}catch(pe){throw ke(oe,"login","onError",pe.privyErrorCode||we.GENERIC_CONNECT_WALLET_ERROR),pe}u(se||c||null),g(ue||!1),v(!0)},delegateWallet:async({address:ne,chainType:se,showDelegationUIs:ue})=>new Promise((async(pe,be)=>{let Pe=await Tn();if(!o||!c||!Pe)throw new ge("User must be authenticated and have an embedded wallet to delegate actions.");if(se!=="solana"&&se!=="ethereum")throw new ge("Only Solana and Ethereum embedded wallets are supported for delegation and revocation.");let De=pt.walletProxy??await pt.initializeWalletProxy(15e3);if(!De)throw new ge("Wallet proxy not initialized.");if((({address:Qt,user:dn})=>!!BN(dn).find((bt=>bt.address===Qt)))({address:ne,user:c}))return pe();let Ye=kl(c,ne);if(!Ye)throw new ge("Address to delegate is not associated with current user.");if(Ms(Ye))throw new ge("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let kt=dze({address:ne,user:c}),Bt=hze({address:ne,user:c}),Xt=async()=>{await De.createDelegatedAction({accessToken:Pe,rootWallet:Bt,delegatedWallets:[kt]}),await pt.refreshSessionAndUser()};if(await pt.recoverEmbeddedWallet({address:ne}),ue)Z({delegatedActions:{consent:{address:ne,onDelegate:Xt,onSuccess:async()=>{pe()},onError:async Qt=>{be(Qt)}}}}),$e(Dze);else try{await Xt(),pe()}catch(Qt){be(Qt)}})),revokeDelegatedWallets:async({showDelegationUIs:ne})=>new Promise((async(se,ue)=>{if(!o||!c)throw new ge("User must be authenticated and have an embedded wallet to revoke a delegated wallet.");let pe=BN(c);if(pe.length===0)throw new ge("User has no delegated wallets to revoke.");if(pe.some(Ms))throw new ge("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let be=async()=>{await e.revokeDelegatedWallet(),await pt.refreshSessionAndUser()};if(ne)Z({delegatedActions:{revoke:{onRevoke:be,onSuccess:async()=>{se()},onError:async Pe=>{ue(Pe)}}}}),$e(kze);else try{await be(),se()}catch(Pe){ue(Pe)}})),initLoginWithFarcaster:async(ne,se)=>{let ue=new AN(ne,se);e.startAuthFlow(ue);try{Ee.current="farcaster",await ue.initializeFarcasterConnect()}catch(pe){throw Ie.current==="login"?ke(oe,"login","onError",pe.privyErrorCode||we.UNKNOWN_AUTH_ERROR):Ie.current==="link"&&ke(oe,"linkAccount","onError",pe.privyErrorCode||we.UNKNOWN_AUTH_ERROR,{linkMethod:"farcaster"}),pe}},loginWithFarcaster:async()=>{let ne,se;if(!y)throw new Wc;if(!(e.authFlow instanceof AN))throw new ge("Must initialize Farcaster flow first.");if(await e.getAccessToken()!==null)try{({user:ne}=await e.link()),Ee.current="farcaster"}catch(ue){throw ke(oe,"linkAccount","onError",ue.privyErrorCode||we.FAILED_TO_LINK_ACCOUNT,{linkMethod:"farcaster"}),ue}else try{({user:ne,isNewUser:se}=await e.authenticate()),Ee.current="farcaster"}catch(ue){throw ke(oe,"login","onError",ue.privyErrorCode||we.UNKNOWN_AUTH_ERROR),ue}u(ne||null),g(se||!1),v(!0)},async crossAppAuthFlow({appId:ne,popup:se,action:ue}){let pe=`privy:${ne}`;Ee.current=pe;let{url:be,stateCode:Pe,codeVerifier:De}=await(async function({api:Ye,appId:kt}){let Bt=Wx(),Xt=$T(),Qt=await LT(Bt);try{let{url:dn}=await Ye.post(Sj,{provider:`privy:${kt}`,redirect_to:window.location.href,code_challenge:Qt,state_code:Xt});return{url:dn,stateCode:Xt,codeVerifier:Bt}}catch(dn){throw Ht(dn)}})({api:e.api,appId:ne});if(!be)throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:"Unable to open cross-app auth popup",appId:ne}}),new ge("No authorization URL returned for cross-app auth.");try{let Ye=await(async function({url:dn,popup:bt}){return bt.location=dn,new Promise(((yn,_t)=>{let pr,sr=setTimeout((()=>{_t(new ge("Authorization request timed out after 2 minutes.")),kr()}),12e4);function kr(){bt?.close(),window.removeEventListener("message",Br)}let pn=setInterval((()=>{bt?.closed&&!pr&&(kr(),clearInterval(pn),clearTimeout(sr),_t(new ge("User rejected request")))}),300);function Br(Jr){Jr.data&&(Jr.data.type==="PRIVY_OAUTH_RESPONSE"&&Jr.data.stateCode&&Jr.data.authorizationCode&&(clearTimeout(sr),yn(Jr.data),kr()),Jr.data.type==="PRIVY_OAUTH_ERROR"&&(clearTimeout(sr),_t(new ge(Jr.data.error)),kr()),Jr.data.type===jN&&((pr=new BroadcastChannel(UN)).onmessage=Br))}window.addEventListener("message",Br)}))})({url:be,popup:se,provider:pe}),kt=Ye.stateCode,Bt=Ye.authorizationCode;if(kt!==Pe)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:pe,storedStateCode:Pe??"",returnedStateCode:kt??""}}),new ge("Unexpected auth flow. This may be a phishing attempt.",void 0,we.OAUTH_UNEXPECTED);let Xt=await(async function({appId:dn,stateCode:bt,codeVerifier:yn,authorizationCode:_t,action:pr,client:sr}){if(!_t||!bt)throw new ge("[Cross-App AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if(_t==="undefined")throw new ge("User denied confirmation during cross-app auth flow");try{let kr=new pze({authorizationCode:_t,stateCode:bt,codeVerifier:yn,provider:`privy:${dn}`});sr.startAuthFlow(kr);let pn=pr==="link"?await sr.link():await sr.authenticate(),Br=pn.oAuthTokens?.accessToken;return console.debug(),Br}catch(kr){let pn=Ht(kr);throw pn.privyErrorCode===we.ACCOUNT_TRANSFER_REQUIRED?pn:pn.privyErrorCode?new ge(pn.message||"Invalid code during cross-app auth flow.",void 0,pn.privyErrorCode):pn.message==="User denied confirmation during cross-app auth flow"?new ge("Invalid code during cross-app auth flow.",void 0,we.OAUTH_USER_DENIED):new ge("Invalid code during cross-app auth flow.",void 0,we.UNKNOWN_AUTH_ERROR)}})({appId:ne,codeVerifier:De,stateCode:kt,authorizationCode:Bt,action:ue,client:e});Xt&&e.storeProviderAccessToken(ne,Xt);let Qt=await pt.refreshSessionAndUser();if(!Qt)throw new ge("Unable to update user");return e.createAnalyticsEvent({eventName:"cross_app_auth_completed",payload:{providerAppId:ne}}),Qt}catch(Ye){throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:Ye.toString(),provider:pe}}),Ye}},async initLoginWithOAuth(ne,se,ue){if(Ee.current=ne,!ME()||ne==="google"&&QE(window.navigator.userAgent))return void $e(GN);ne==="twitter"&&window.opener&&window.opener.postMessage({type:jN},"*"),Ct.del(lw),Ct.del(Rv);let pe=new Sf({provider:ne,disableSignup:!!ue,withPrivyUi:!0,customOAuthRedirectUrl:z.customOAuthRedirectUrl});se&&pe.addCaptchaToken(se),e.startAuthFlow(pe);let be=await e.authFlow.getAuthorizationUrl();if(be&&be.url)if(ne==="twitter"&&tn.isAndroid&&(be.url=be.url.replace("x.com","twitter.com")),window.location.protocol==="chrome-extension:"&&f9())try{let{privyOAuthCode:Pe,privyOAuthState:De}=await PN(be.url);$e(HN),pe.meta.stateCode=De,pe.meta.authorizationCode=Pe}catch(Pe){throw console.error("OAuth in chrome extension flow failed:",Pe),Pe}else window.location.assign(be.url)},async initLoginWithTelegram(ne,se){if(!y)throw new Wc;Ee.current="telegram";let ue=new V0(ne,se);e.startAuthFlow(ue),W({status:"loading"}),ue.meta.telegramWebAppData=void 0,ue.meta.telegramAuthResult=await new Promise(((pe,be)=>z.loginConfig.telegramAuthConfiguration?window.Telegram?void window.Telegram.Login.auth({bot_id:z.loginConfig.telegramAuthConfiguration.botId,request_access:!0},(Pe=>Pe?pe(Pe):(Ie.current==="link"?ke(oe,"linkAccount","onError",we.FAILED_TO_LINK_ACCOUNT,{linkMethod:"telegram"}):Ie.current==="login"?ke(oe,"login","onError",we.INVALID_CREDENTIALS):Ie.current==="update"&&ke(oe,"login","onError",we.FAILED_TO_UPDATE_ACCOUNT),be(new ge("Telegram auth failed or was canceled by the client"))))):be(new ge("Telegram was not initialized")):be(new ge("Telegram Auth configuration is not loaded"))))},async loginWithTelegram(ne){let se,ue;if(!(e.authFlow instanceof V0))throw new ge("Must initialize Telegram flow before calling loginWithTelegram");e.authFlow.meta.captchaToken||=ne?.captchaToken;let pe=await Tn(),be=ne?.intent||Ie.current;if(be==="login")try{let De=await e.authenticate();se=De.user,ue=De.isNewUser,Ee.current="telegram"}catch(De){throw ke(oe,"login","onError",De.privyErrorCode||we.UNKNOWN_AUTH_ERROR),De}else{if(be!=="link")throw new ge("Unknown auth intent");try{se=(await e.link()).user,Ee.current="telegram"}catch(De){throw ke(oe,"linkAccount","onError",De.privyErrorCode||we.FAILED_TO_LINK_ACCOUNT,{linkMethod:"telegram"}),De}}u(se),g(ue||!1),v(!0),W({status:"done"});let Pe=se?.linkedAccounts.find((({type:De})=>De==="telegram"))||null;return{user:se,isNewUser:ue||!1,wasAlreadyAuthenticated:!!pe,loginAccount:Pe}},async loginWithOAuth(ne){let se,ue,pe;if(!(e.authFlow instanceof Sf))throw new ge("Must initialize OAuth flow before calling loginWithOAuth");let be=Ct.get(ow),Pe=e.authFlow.meta.stateCode;if(be!==Pe)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:ne,storedStateCode:be??"",returnedStateCode:Pe??""}}),new ge("Unexpected auth flow. This may be a phishing attempt.",void 0,we.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{let De=await e.link();se=De.user,pe=De.oAuthTokens,Ee.current=ne}catch(De){throw ke(oe,"linkAccount","onError",De.privyErrorCode||we.FAILED_TO_LINK_ACCOUNT,{linkMethod:ne}),De}else try{let De=await e.authenticate();se=De.user,ue=De.isNewUser,pe=De.oAuthTokens,Ee.current=ne}catch(De){throw Ie.current==="login"?ke(oe,"login","onError",De.privyErrorCode||we.UNKNOWN_AUTH_ERROR):Ie.current==="link"&&ke(oe,"linkAccount","onError",De.privyErrorCode||we.FAILED_TO_LINK_ACCOUNT,{linkMethod:ne}),De}return u(se),g(ue||!1),v(!0),pe&&se&&ke(oe,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:pe,user:se}),pe},passkeyAuthState:S,setPasskeyAuthState:A,async initSignupWithPasskey({captchaToken:ne,withPrivyUi:se}){let ue=new wf({captchaToken:ne,setPasskeyAuthState:A,hints:z.passkeys.registration?.hints});e.startAuthFlow(ue),Ie.current="login";try{Ee.current="passkey",A({status:"generating-challenge"}),await ue.initRegisterFlow(se),A({status:"awaiting-passkey"})}catch(pe){throw A({status:"error",error:pe}),ke(oe,"login","onError",pe.privyErrorCode||we.UNKNOWN_AUTH_ERROR),pe}},async signupWithPasskey(){let ne,se;if(!y)throw new Wc;if(!(e.authFlow instanceof wf))throw new ge("Must initialize Passkey flow first.");if(Ee.current!=="passkey"){let be=new ge("Must init login with Passkey flow first.");throw A({status:"error",error:be}),be}let ue=await Tn();try{Ee.current="passkey",A({status:"awaiting-passkey"}),{user:ne,isNewUser:se}=await e.authenticate()}catch(be){throw A({status:"error",error:be}),ke(oe,"login","onError",be.privyErrorCode||we.UNKNOWN_AUTH_ERROR),be}u(ne),g(se||!1),v(!0),A({status:"done"});let pe=ne?.linkedAccounts.find((({type:be})=>be==="passkey"))||null;return{user:ne,isNewUser:se||!1,wasAlreadyAuthenticated:!!ue,loginAccount:pe}},async initLoginWithPasskey({captchaToken:ne,withPrivyUi:se}){let ue=new wf({captchaToken:ne,setPasskeyAuthState:A,hints:void 0});e.startAuthFlow(ue),Ie.current="login";try{Ee.current="passkey",A({status:"generating-challenge"}),await ue.initAuthenticationFlow(se),A({status:"awaiting-passkey"})}catch(pe){throw A({status:"error",error:pe}),ke(oe,"login","onError",pe.privyErrorCode||we.UNKNOWN_AUTH_ERROR),pe}},async loginWithPasskey(ne){let se,ue;if(!y)throw new Wc;if(!(e.authFlow instanceof wf))throw new ge("Must initialize Passkey flow first.");if(ne?.credentialIds&&(e.authFlow.meta.allowedCredentialsIds=ne.credentialIds),Ee.current!=="passkey"){let Pe=new ge("Must init login with Passkey flow first.");throw A({status:"error",error:Pe}),Pe}let pe=await Tn();try{Ee.current="passkey",A({status:"awaiting-passkey"}),{user:se,isNewUser:ue}=await e.authenticate()}catch(Pe){throw A({status:"error",error:Pe}),ke(oe,"login","onError",Pe.privyErrorCode||we.UNKNOWN_AUTH_ERROR),Pe}u(se),g(ue||!1),v(!0),A({status:"done"});let be=se?.linkedAccounts.find((({type:Pe})=>Pe==="passkey"))||null;return{user:se,isNewUser:ue||!1,wasAlreadyAuthenticated:!!pe,loginAccount:be}},async initLinkWithPasskey(ne){let se=new wf({captchaToken:ne,hints:z.passkeys.registration?.hints});e.startAuthFlow(se),Ie.current="link",Ee.current="passkey",A({status:"generating-challenge"});try{await se.initLinkFlow(),A({status:"awaiting-passkey"})}catch(ue){throw ke(oe,"linkAccount","onError",ue.privyErrorCode||we.UNKNOWN_AUTH_ERROR,{linkMethod:"passkey"}),A({status:"error",error:ue}),ue}},async linkWithPasskey(){let ne;if(!y)throw new Wc;if(!(e.authFlow instanceof wf))throw new ge("Must initialize Passkey flow first.");if(Ee.current!=="passkey")throw new ge("Must init login with Passkey flow first.");try{Ee.current="passkey",{user:ne}=await e.link()}catch(se){throw ke(oe,"linkAccount","onError",se.privyErrorCode||we.FAILED_TO_LINK_ACCOUNT,{linkMethod:"passkey"}),se}return u(ne||c||null),A({status:"done"}),ne},async initLoginWithHeadlessOAuth(ne,se,ue){if(!ME()||ne==="google"&&QE(window.navigator.userAgent))throw Error("It looks like you're using an in-app browser.  To log in, please try again using an external browser.");let pe=new Sf({provider:ne,withPrivyUi:!1,disableSignup:ue??!1,customOAuthRedirectUrl:z.customOAuthRedirectUrl});se&&pe.addCaptchaToken(se),k({status:"loading"});let be=await e.startAuthFlow(pe).getAuthorizationUrl();if(be?.url)if(window.location.protocol==="chrome-extension:"&&f9())try{let{privyOAuthCode:Pe,privyOAuthState:De}=await PN(be.url);pe.meta.stateCode=De,pe.meta.authorizationCode=Pe,await this.loginWithHeadlessOAuth(pe.meta)}catch(Pe){throw k({status:"error",error:Pe}),Pe}else window.location.assign(be.url)},async loginWithHeadlessOAuth(ne){let se,ue,pe;C(!0),k({status:"loading"}),e.startAuthFlow(new Sf({...ne,customOAuthRedirectUrl:z.customOAuthRedirectUrl}));let be=Ct.get(ow),Pe=ne.stateCode;if(be!==Pe)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:ne.provider,storedStateCode:be??"",returnedStateCode:Pe??""}}),C(!1),new ge("Unexpected auth flow. This may be a phishing attempt.",void 0,we.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{({user:se,oAuthTokens:pe}=await e.link()),Ee.current=ne.provider;let De=wt(se);se&&De&&ke(oe,"linkAccount","onSuccess",{user:se,linkMethod:Ee.current,linkedAccount:De})}catch(De){throw C(!1),ke(oe,"linkAccount","onError",De.privyErrorCode||we.FAILED_TO_LINK_ACCOUNT,{linkMethod:ne.provider}),De}else try{({user:se,isNewUser:ue,oAuthTokens:pe}=await e.authenticate()),Ee.current=ne.provider;let De=wt(se);se&&De&&ue!==void 0&&ke(oe,"login","onComplete",{user:se,isNewUser:ue,wasAlreadyAuthenticated:!1,loginMethod:Ee.current,loginAccount:De})}catch(De){throw C(!1),k({status:"error",error:De}),ke(oe,"login","onError",De.privyErrorCode||we.UNKNOWN_AUTH_ERROR),De}return u(se),g(ue||!1),v(!0),C(!1),k({status:"done"}),pe&&se&&ke(oe,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:pe,user:se}),se??void 0},initLoginWithEmail:async({email:ne,captchaToken:se,disableSignup:ue,withPrivyUi:pe})=>{let be=new Nf({email:ne,captchaToken:se,disableSignup:ue});e.startAuthFlow(be);try{Ee.current="email",R({status:"sending-code"}),await be.sendCodeEmail({withPrivyUi:pe}),R({status:"awaiting-code-input"})}catch(Pe){throw R({status:"error",error:Pe}),Ie.current==="login"?ke(oe,"login","onError",Pe.privyErrorCode||we.UNKNOWN_AUTH_ERROR):Ie.current==="link"&&ke(oe,"linkAccount","onError",Pe.privyErrorCode||we.FAILED_TO_LINK_ACCOUNT,{linkMethod:"email"}),Pe}},initUpdateEmail:async({oldAddress:ne,newAddress:se,captchaToken:ue})=>{let pe=new yje(ne,se,ue);e.startAuthFlow(pe);try{await pe.sendCodeEmail({withPrivyUi:!0})}catch(be){throw ke(oe,"update","onError",be.privyErrorCode||we.UNKNOWN_AUTH_ERROR,{linkMethod:Ee.current}),be}},initUpdatePhone:async(ne,se,ue)=>{let pe=new Cje(ne,se,ue);e.startAuthFlow(pe);try{await pe.sendSmsCode({withPrivyUi:!0})}catch(be){ke(oe,"update","onError",be.privyErrorCode||we.UNKNOWN_AUTH_ERROR,{linkMethod:Ee.current})}},initLoginWithSms:async({phoneNumber:ne,captchaToken:se,disableSignup:ue,withPrivyUi:pe})=>{D({status:"sending-code"});let be=new kf({phoneNumber:ne,captchaToken:se,disableSignup:ue});e.startAuthFlow(be);try{Ee.current="sms",await be.sendSmsCode({withPrivyUi:pe}),D({status:"awaiting-code-input"})}catch(Pe){throw D({status:"error",error:Pe}),Ie.current==="login"?ke(oe,"login","onError",Pe.privyErrorCode||we.UNKNOWN_AUTH_ERROR):Ie.current==="link"&&ke(oe,"linkAccount","onError",Pe.privyErrorCode||we.FAILED_TO_LINK_ACCOUNT,{linkMethod:"sms"}),Pe}},resendEmailCode:async()=>{await e.authFlow?.sendCodeEmail({withPrivyUi:!0})},resendSmsCode:async()=>{await e.authFlow?.sendSmsCode({withPrivyUi:!0})},loginWithCode:async ne=>{let se,ue;function pe(Ye){e.authFlow instanceof Nf?R(Ye):e.authFlow instanceof kf&&D(Ye)}if(pe({status:"submitting-code"}),!y){let Ye=new Wc;throw pe({status:"error",error:Ye}),Ye}if(e.authFlow instanceof Nf)e.authFlow.meta.emailCode=ne.trim();else{if(!(e.authFlow instanceof kf)){let Ye=new ge("Must initialize a passwordless code flow first");throw pe({status:"error",error:Ye}),Ye}e.authFlow.meta.smsCode=ne.trim()}let be=await Tn();if(Ie.current==="link")try{({user:se}=await e.link())}catch(Ye){throw pe({status:"error",error:Ye}),ke(oe,"linkAccount","onError",Ye.privyErrorCode||we.FAILED_TO_LINK_ACCOUNT,{linkMethod:Ee.current}),Ye}else if(Ie.current==="update")try{({user:se}=await e.link())}catch(Ye){throw pe({status:"error",error:Ye}),ke(oe,"update","onError",Ye.privyErrorCode||we.FAILED_TO_UPDATE_ACCOUNT,{linkMethod:Ee.current}),Ye}else try{({user:se,isNewUser:ue}=await e.authenticate())}catch(Ye){throw pe({status:"error",error:Ye}),ke(oe,"login","onError",Ye.privyErrorCode||we.UNKNOWN_AUTH_ERROR),Ye}let Pe=se||c;u(Pe||null),g(ue||!1),v(!0),pe({status:"done"});let De=null;return e.authFlow instanceof Nf?De=Pe?.linkedAccounts.find((({type:Ye})=>Ye==="email"))||null:e.authFlow instanceof kf&&(De=Pe?.linkedAccounts.find((({type:Ye})=>Ye==="phone"))||null),{user:Pe,isNewUser:ue||!1,wasAlreadyAuthenticated:!!be,linkedAccount:De}},generateSiweMessage:async({address:ne,chainId:se,captchaToken:ue})=>{Ie.current=o?"link":"login",Ee.current="siwe",$({status:"generating-message"});let pe=await e.generateSiweNonce({address:ne,captchaToken:ue});return $({status:"awaiting-signature"}),DE({address:ne,chainId:se.replace("eip155:",""),nonce:pe})},generateSiweMessageForSmartWallet:async({address:ne,chainId:se})=>{let ue=await e.generateSiweNonce({address:ne});return DE({address:ne,chainId:se.replace("eip155:",""),nonce:ue})},linkSmartWallet:async({message:ne,signature:se,smartWalletType:ue,smartWalletVersion:pe})=>{let be;be=await e.linkSmartWallet({message:ne,signature:se,smartWalletType:ue,smartWalletVersion:pe}),u((be=await pt.refreshSessionAndUser()??be)||c||null)},loginWithSiwe:async({message:ne,signature:se,captchaToken:ue,disableSignup:pe})=>{let be,Pe=null;try{if(c)throw Error("User already authenticated");let De=new Xf(e,void 0,ue,pe,{message:ne,signature:se});if(e.startAuthFlow(De),Ee.current="siwe",Ie.current="login",$({status:"submitting-signature"}),{user:Pe,isNewUser:be}=await e.authenticate(),!Pe)throw Error("Authentication failed - no user returned")}catch(De){throw ke(oe,"login","onError",De.privyErrorCode||we.UNKNOWN_AUTH_ERROR),$({status:"error",error:De}),De}return u(Pe),g(be||!1),v(!0),$({status:"done"}),Ie.current=null,Ee.current=null,{user:Pe,isNewUser:be||!1}},linkWithSiwe:async({message:ne,signature:se,chainId:ue,walletClientType:pe,connectorType:be})=>{let Pe;He("siwe");let De=null;try{$({status:"submitting-signature"}),Pe=await e.linkWithSiwe({message:ne,signature:se,chainId:ue,walletClientType:pe,connectorType:be}),Pe=await pt.refreshSessionAndUser()??Pe,$({status:"done"}),(De=wt(Pe)||null)&&ke(oe,"linkAccount","onSuccess",{user:Pe,linkMethod:"siwe",linkedAccount:De})}catch(kt){throw ke(oe,"linkAccount","onError",kt.privyErrorCode||we.FAILED_TO_LINK_ACCOUNT,{linkMethod:"siwe"}),Ie.current=null,Ee.current=null,$({status:"error",error:kt}),kt}let Ye=Pe||c;return u(Ye||null),Ie.current=null,Ee.current=null,{user:Ye,linkedAccount:De}},refreshSessionAndUser:async()=>{let ne=await e.getAuthenticatedUser();return v(!!ne),u(ne),ne},walletProxy:G,createAnalyticsEvent:({eventName:ne,payload:se,timestamp:ue})=>e.createAnalyticsEvent({eventName:ne,payload:se,timestamp:ue}),acceptTerms:async()=>{let ne=await e.acceptTerms();return u(ne),ne},getUsdTokenPrice:ne=>e.getUsdTokenPrice(ne),getUsdPriceForSol:()=>e.getUsdPriceForSol(),getSplTokenMetadata:ne=>e.getSplTokenMetadata(ne),recoverEmbeddedWallet:async ne=>new Promise((async(se,ue)=>{if(!c)return void se(!0);let pe=ne?.address?kl(c,ne.address):io(c)||uC(c).at(0)||Ofe(c).at(0);if(!pe||Ms(pe))return void se(!0);let be=await Tn();if(!be||!G||!pe)return void ue(Error("Must have valid access token and Privy wallet to recover wallet"));let{entropyId:Pe,entropyIdVerifier:De}=Wa(c,pe);try{await G.connect({accessToken:be,entropyId:Pe,entropyIdVerifier:De}),se(!0)}catch(Ye){if(jg(Ye)&&pe.recoveryMethod==="privy"){let kt;e.createAnalyticsEvent({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:pe.address}});try{kt=await G.recover({entropyId:Pe,entropyIdVerifier:De,accessToken:be})}catch(Bt){return void ue(Bt)}kt.entropyId||ue(Error("Unable to recover wallet")),e.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:pe.address}}),se(!0)}else jg(Ye)&&pe.recoveryMethod!=="privy"&&pe.recoveryMethod!=="privy-v2"?(Z({recoverWallet:{entropyId:Pe,entropyIdVerifier:De,onFailure:ue,onSuccess:()=>se(!0)},recoveryOAuthStatus:{provider:pe.recoveryMethod,action:"recover",shouldCreateEth:!1,shouldCreateSol:!1}}),$e(bK(pe.recoveryMethod))):ue(Ye)}})),setReadyToTrue:ne=>{r(!0),V?.(ne)},updateWallets:()=>dt(),fundWallet:async(ne,se)=>{Z({funding:EN({address:ne,appConfig:z,fundWalletConfig:se,methodScreen:va})}),$e(va)},openModal:$e,requestFarcasterSignerStatus:async ne=>{let se=await Tn(),ue=c?.linkedAccounts.find((be=>be.type==="wallet"&&be.walletClientType==="privy"));if(!se)throw Error("Must have valid access token to connect with Farcaster");if(!G||!ue)throw Error("Must have an embedded wallet to use Farcaster signers");if(!c?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");let pe=await e.requestFarcasterSignerStatus(ne);return pe.status==="approved"&&u(await e.getAuthenticatedUser()||c||null),pe},connectCoinbaseSmartWallet:async()=>{z.externalWallets.coinbaseWallet.config.preference={...z.externalWallets.coinbaseWallet.config.preference,options:"smartWalletOnly"};let ne=e.connectors?.findWalletConnector("coinbase_wallet","coinbase_smart_wallet")||e.connectors?.findWalletConnector("coinbase_wallet","coinbase_wallet");if(ne)return ne.updateConnectionPreference("smartWalletOnly"),Ge(ne);await vt("coinbase_wallet","coinbase_smart_wallet")},connectBaseAccount:async()=>{let ne=e.connectors?.findWalletConnector("base_account","base_account");if(ne)return Ge(ne);await vt("base_account","base_account")},initiateAccountTransfer:async({nonce:ne,account:se,accountType:ue,externalWalletMetadata:pe,telegramAuthResult:be,telegramWebAppData:Pe,farcasterEmbeddedAddress:De,oAuthUserInfo:Ye})=>{let kt=await e.sendAccountTransferRequest({nonce:ne,account:se,accountType:ue,externalWalletMetadata:pe,telegramAuthResult:be,telegramWebAppData:Pe,farcasterEmbeddedAddress:De,oAuthUserInfo:Ye});return u(kt),kt},inProgressAuthFlowRef:Ie,inProgressLoginOrLinkMethodRef:Ee};$Z=pt.recoverEmbeddedWallet,pt.recoverEmbeddedWallet;let Kn=H.useMemo((()=>({wallets:l,ready:ee&&Ce})),[l,ee,Ce]),bn=e.authFlow instanceof V0,Nr=!z.headless&&z.captchaEnabled&&!o&&(y||bn);return O.jsx(IZ.Provider,{value:!0,children:O.jsx(Mp.Provider,{value:It,children:O.jsx($Y.Provider,{value:oe,children:O.jsx(ZY.Provider,{value:Kn,children:O.jsx(aOe,{...z,children:O.jsxs(Oj.Provider,{value:pt,children:[O.jsx(I$e,{children:O.jsxs(wOe,{data:U,setModalData:Z,setInitialScreen:x,initialScreen:m,authenticated:o,open:f,children:[t.children,O.jsx(EWe,{customAuth:z.customAuth}),Nr&&O.jsx(zje,{delayedExecution:!1}),O.jsx(oze,{}),O.jsx(Mze,{disabled:z.embeddedWallets.disableAutomaticMigration}),O.jsx(Zje,{palette:z.appearance.palette||{}}),!z.render.standalone&&O.jsx(ize,{open:f})]})}),O.jsx(cze,{appId:t.appId,appClientId:t.clientId,clientAnalyticsId:e.clientAnalyticsId,origin:e.apiUrl,mfaMethods:c?.mfaMethods,mfaPromise:he,mfaSubmitPromise:fe,onLoad:K,onLoadFailed:()=>null}),z.loginConfig.telegramAuthConfiguration&&O.jsx(xp,{$if:!0,children:O.jsx(aze,{scriptHost:t.apiUrl||OE,botUsername:z.loginConfig.telegramAuthConfiguration.botName})})]})})})})})})};const OWe="cmh7hev2x001ri70b4z4jmf8q";function FWe({onAuthenticated:t}){const{ready:e,authenticated:n,user:i,login:f}=dZ(),[b,s]=Ze.useState(!1);return H.useEffect(()=>{e&&n&&i&&!b&&(s(!0),t(i))},[e,n,i,b]),e?n?O.jsx("div",{style:Qi.container,children:O.jsxs("div",{style:Qi.content,children:[O.jsx("h1",{style:Qi.title,children:" DEGEN MILITIA"}),O.jsx("p",{style:Qi.subtitle,children:"Loading game..."})]})}):O.jsx("div",{style:Qi.container,children:O.jsxs("div",{style:Qi.content,children:[O.jsx("h1",{style:Qi.title,children:" DEGEN MILITIA"}),O.jsx("p",{style:Qi.subtitle,children:"Mobile Multiplayer Shooter"}),O.jsx("button",{onClick:f,style:Qi.loginButton,onMouseEnter:y=>{y.target.style.transform="scale(1.05)",y.target.style.boxShadow="0 6px 30px rgba(157, 78, 221, 0.6)"},onMouseLeave:y=>{y.target.style.transform="scale(1)",y.target.style.boxShadow="0 4px 20px rgba(157, 78, 221, 0.4)"},onMouseDown:y=>{y.target.style.transform="scale(0.98)"},onMouseUp:y=>{y.target.style.transform="scale(1.05)"},children:" LOGIN WITH X"}),O.jsx("p",{style:Qi.info,children:"Secure sign-in powered by Privy"})]})}):O.jsx("div",{style:Qi.container,children:O.jsxs("div",{style:Qi.content,children:[O.jsx("h1",{style:Qi.title,children:" DEGEN MILITIA"}),O.jsx("p",{style:Qi.subtitle,children:"Initializing..."})]})})}function $We({onAuthenticated:t}){return O.jsx(RWe,{appId:OWe,config:{loginMethods:["twitter","wallet"],appearance:{theme:"dark",accentColor:"#9D4EDD",logo:void 0},embeddedWallets:{createOnLogin:"users-without-wallets"}},children:O.jsx(FWe,{onAuthenticated:t})})}const Qi={container:{width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",background:"linear-gradient(135deg, #10002B 0%, #240046 50%, #3C096C 100%)",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},content:{textAlign:"center",padding:"40px"},title:{fontSize:"56px",fontWeight:"bold",color:"#9D4EDD",textShadow:"0 0 20px rgba(157, 78, 221, 0.5)",marginBottom:"20px",letterSpacing:"2px"},subtitle:{fontSize:"22px",color:"#00F5FF",marginBottom:"40px"},loginButton:{padding:"18px 56px",fontSize:"22px",fontWeight:"bold",color:"#FFFFFF",background:"linear-gradient(135deg, #9D4EDD 0%, #7B2CBF 100%)",border:"none",borderRadius:"16px",cursor:"pointer",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 4px 20px rgba(157, 78, 221, 0.4)",outline:"none",letterSpacing:"0.5px"},info:{marginTop:"30px",fontSize:"14px",color:"#888888"}};let LWe=null;const LZ=()=>LWe,ev=LZ();class DWe{constructor(){this.currentUser=null,this.privyUser=null}async initPrivy(){const e=localStorage.getItem("degen_militia_user");return e?(this.currentUser=JSON.parse(e),this.currentUser):null}async loginWithWallet(e){try{if(!ev){console.warn("Supabase not initialized, using local-only mode");const f={id:`local_${Date.now()}`,wallet_address:e,username:`Player${Math.floor(Math.random()*1e4)}`,created_at:new Date().toISOString(),last_login:new Date().toISOString(),is_local:!0};return this.currentUser=f,localStorage.setItem("degen_militia_user",JSON.stringify(this.currentUser)),this.currentUser}const{data:n,error:i}=await ev.from("players").select("*").eq("wallet_address",e).maybeSingle();if(i){console.warn("Supabase query error:",i);const f={id:`local_${Date.now()}`,wallet_address:e,username:`Player${Math.floor(Math.random()*1e4)}`,created_at:new Date().toISOString(),last_login:new Date().toISOString(),is_local:!0};return this.currentUser=f,localStorage.setItem("degen_militia_user",JSON.stringify(this.currentUser)),this.currentUser}if(n)await ev.from("players").update({last_login:new Date().toISOString()}).eq("id",n.id),this.currentUser=n;else{const f={wallet_address:e,username:`Player${Math.floor(Math.random()*1e4)}`,created_at:new Date().toISOString(),last_login:new Date().toISOString()},{data:b,error:s}=await ev.from("players").insert([f]).select().single();s?(console.warn("Error creating user in database:",s),this.currentUser={...f,id:`local_${Date.now()}`,is_local:!0}):this.currentUser=b}return localStorage.setItem("degen_militia_user",JSON.stringify(this.currentUser)),this.currentUser}catch(n){console.error("Login error:",n);const i={id:`local_${Date.now()}`,wallet_address:e,username:`Player${Math.floor(Math.random()*1e4)}`,created_at:new Date().toISOString(),last_login:new Date().toISOString(),is_local:!0};return this.currentUser=i,localStorage.setItem("degen_militia_user",JSON.stringify(this.currentUser)),this.currentUser}}async loginAsGuest(){const e=`guest_${Date.now()}_${Math.floor(Math.random()*1e3)}`,n=`Guest${Math.floor(Math.random()*1e4)}`;return this.currentUser={id:e,username:n,is_guest:!0,wallet_address:null},localStorage.setItem("degen_militia_user",JSON.stringify(this.currentUser)),this.currentUser}logout(){this.currentUser=null,this.privyUser=null,localStorage.removeItem("degen_militia_user")}getCurrentUser(){return this.currentUser}isLoggedIn(){return this.currentUser!==null}async updateProfile(e){if(!this.currentUser||this.currentUser.is_guest)throw new Error("Cannot update guest profile");try{const{data:n,error:i}=await ev.from("players").update(e).eq("id",this.currentUser.id).select().single();if(i)throw i;return this.currentUser={...this.currentUser,...n},localStorage.setItem("degen_militia_user",JSON.stringify(this.currentUser)),this.currentUser}catch(n){throw console.error("Update profile error:",n),n}}}const Xo=new DWe;var v2={exports:{}},NWe=v2.exports,YN;function kWe(){return YN||(YN=1,(function(t,e){(function(i,f){t.exports=f()})(NWe,()=>(()=>{var n={50792:(s=>{var y=Object.prototype.hasOwnProperty,r="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(r=!1));function v(a,d,p){this.fn=a,this.context=d,this.once=p||!1}function c(a,d,p,h,g){if(typeof p!="function")throw new TypeError("The listener must be a function");var m=new v(p,h||a,g),x=r?r+d:d;return a._events[x]?a._events[x].fn?a._events[x]=[a._events[x],m]:a._events[x].push(m):(a._events[x]=m,a._eventsCount++),a}function u(a,d){--a._eventsCount===0?a._events=new o:delete a._events[d]}function l(){this._events=new o,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],p,h;if(this._eventsCount===0)return d;for(h in p=this._events)y.call(p,h)&&d.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},l.prototype.listeners=function(d){var p=r?r+d:d,h=this._events[p];if(!h)return[];if(h.fn)return[h.fn];for(var g=0,m=h.length,x=new Array(m);g<m;g++)x[g]=h[g].fn;return x},l.prototype.listenerCount=function(d){var p=r?r+d:d,h=this._events[p];return h?h.fn?1:h.length:0},l.prototype.emit=function(d,p,h,g,m,x){var w=r?r+d:d;if(!this._events[w])return!1;var C=this._events[w],E=arguments.length,T,S;if(C.fn){switch(C.once&&this.removeListener(d,C.fn,void 0,!0),E){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,p),!0;case 3:return C.fn.call(C.context,p,h),!0;case 4:return C.fn.call(C.context,p,h,g),!0;case 5:return C.fn.call(C.context,p,h,g,m),!0;case 6:return C.fn.call(C.context,p,h,g,m,x),!0}for(S=1,T=new Array(E-1);S<E;S++)T[S-1]=arguments[S];C.fn.apply(C.context,T)}else{var A=C.length,P;for(S=0;S<A;S++)switch(C[S].once&&this.removeListener(d,C[S].fn,void 0,!0),E){case 1:C[S].fn.call(C[S].context);break;case 2:C[S].fn.call(C[S].context,p);break;case 3:C[S].fn.call(C[S].context,p,h);break;case 4:C[S].fn.call(C[S].context,p,h,g);break;default:if(!T)for(P=1,T=new Array(E-1);P<E;P++)T[P-1]=arguments[P];C[S].fn.apply(C[S].context,T)}}return!0},l.prototype.on=function(d,p,h){return c(this,d,p,h,!1)},l.prototype.once=function(d,p,h){return c(this,d,p,h,!0)},l.prototype.removeListener=function(d,p,h,g){var m=r?r+d:d;if(!this._events[m])return this;if(!p)return u(this,m),this;var x=this._events[m];if(x.fn)x.fn===p&&(!g||x.once)&&(!h||x.context===h)&&u(this,m);else{for(var w=0,C=[],E=x.length;w<E;w++)(x[w].fn!==p||g&&!x[w].once||h&&x[w].context!==h)&&C.push(x[w]);C.length?this._events[m]=C.length===1?C[0]:C:u(this,m)}return this},l.prototype.removeAllListeners=function(d){var p;return d?(p=r?r+d:d,this._events[p]&&u(this,p)):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,s.exports=l}),11517:((s,y,r)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(38829),v=function(c,u,l,a){for(var d=c[0],p=1;p<c.length;p++){var h=c[p];o(h,d,u,l,a),d=h}return c};s.exports=v}),80318:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66979),v=function(c,u,l,a,d){return o(c,"angle",u,l,a,d)};s.exports=v}),60757:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){for(var c=0;c<r.length;c++){var u=r[c];o.call(v,u)}return r};s.exports=y}),69927:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){v===void 0&&(v=0);for(var c=v;c<r.length;c++){var u=r[c],l=!0;for(var a in o)u[a]!==o[a]&&(l=!1);if(l)return u}return null};s.exports=y}),32265:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){v===void 0&&(v=0);for(var c=r.length-1;c>=v;c--){var u=r[c],l=!0;for(var a in o)u[a]!==o[a]&&(l=!1);if(l)return u}return null};s.exports=y}),94420:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(11879),v=r(60461),c=r(95540),u=r(29747),l=r(41481),a=new l({sys:{queueDepthSort:u,events:{once:u}}},0,0,1,1).setOrigin(0,0),d=function(p,h){h===void 0&&(h={});var g=h.hasOwnProperty("width"),m=h.hasOwnProperty("height"),x=c(h,"width",-1),w=c(h,"height",-1),C=c(h,"cellWidth",1),E=c(h,"cellHeight",C),T=c(h,"position",v.TOP_LEFT),S=c(h,"x",0),A=c(h,"y",0),P=0,R=0,L=x*C,D=w*E;a.setPosition(S,A),a.setSize(C,E);for(var F=0;F<p.length;F++)if(o(p[F],a,T),g&&x===-1)a.x+=C;else if(m&&w===-1)a.y+=E;else if(m&&!g){if(R+=E,a.y+=E,R===D&&(R=0,P+=C,a.y=A,a.x+=C,P===L))break}else if(P+=C,a.x+=C,P===L&&(P=0,R+=E,a.x=S,a.y+=E,R===D))break;return p};s.exports=d}),41721:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66979),v=function(c,u,l,a,d){return o(c,"alpha",u,l,a,d)};s.exports=v}),67285:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66979),v=function(c,u,l,a,d){return o(c,"x",u,l,a,d)};s.exports=v}),9074:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66979),v=function(c,u,l,a,d,p,h){return l==null&&(l=u),o(c,"x",u,a,p,h),o(c,"y",l,d,p,h)};s.exports=v}),75222:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66979),v=function(c,u,l,a,d){return o(c,"y",u,l,a,d)};s.exports=v}),22983:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c){v===void 0&&(v=0),c===void 0&&(c=6.28);for(var u=v,l=(c-v)/r.length,a=o.x,d=o.y,p=o.radius,h=0;h<r.length;h++)r[h].x=a+p*Math.cos(u),r[h].y=d+p*Math.sin(u),u+=l;return r};s.exports=y}),95253:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c){v===void 0&&(v=0),c===void 0&&(c=6.28);for(var u=v,l=(c-v)/r.length,a=o.width/2,d=o.height/2,p=0;p<r.length;p++)r[p].x=o.x+a*Math.cos(u),r[p].y=o.y+d*Math.sin(u),u+=l;return r};s.exports=y}),88505:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(15258),v=r(26708),c=function(u,l,a){var d;a?d=v(l,a,u.length):d=o(l,u.length);for(var p=0;p<u.length;p++){var h=u[p],g=d[p];h.x=g.x,h.y=g.y}return u};s.exports=c}),41346:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(14649),v=r(86003),c=r(49498),u=function(l,a,d){d===void 0&&(d=0);var p=o(a,!1,l.length);d>0?v(p,d):d<0&&c(p,Math.abs(d));for(var h=0;h<l.length;h++)l[h].x=p[h].x,l[h].y=p[h].y;return l};s.exports=u}),11575:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(84993),v=function(c,u,l){var a=o({x1:u.x1,y1:u.y1,x2:u.x2,y2:u.y2},l),d=o({x1:u.x2,y1:u.y2,x2:u.x3,y2:u.y3},l),p=o({x1:u.x3,y1:u.y3,x2:u.x1,y2:u.y1},l);a.pop(),d.pop(),p.pop(),a=a.concat(d,p);for(var h=a.length/c.length,g=0,m=0;m<c.length;m++){var x=c[m],w=a[Math.floor(g)];x.x=w.x,x.y=w.y,g+=h}return c};s.exports=v}),29953:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){for(var c=0;c<r.length;c++){var u=r[c];u.anims&&u.anims.play(o,v)}return r};s.exports=y}),66979:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c,u,l){c===void 0&&(c=0),u===void 0&&(u=0),l===void 0&&(l=1);var a,d=0,p=r.length;if(l===1)for(a=u;a<p;a++)r[a][o]+=v+d*c,d++;else for(a=u;a>=0;a--)r[a][o]+=v+d*c,d++;return r};s.exports=y}),43967:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c,u,l){c===void 0&&(c=0),u===void 0&&(u=0),l===void 0&&(l=1);var a,d=0,p=r.length;if(l===1)for(a=u;a<p;a++)r[a][o]=v+d*c,d++;else for(a=u;a>=0;a--)r[a][o]=v+d*c,d++;return r};s.exports=y}),88926:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(28176),v=function(c,u){for(var l=0;l<c.length;l++)o(u,c[l]);return c};s.exports=v}),33286:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(24820),v=function(c,u){for(var l=0;l<c.length;l++)o(u,c[l]);return c};s.exports=v}),96e3:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(65822),v=function(c,u){for(var l=0;l<c.length;l++)o(u,c[l]);return c};s.exports=v}),28789:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26597),v=function(c,u){for(var l=0;l<c.length;l++)o(u,c[l]);return c};s.exports=v}),97154:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(90260),v=function(c,u){for(var l=0;l<c.length;l++)o(u,c[l]);return c};s.exports=v}),20510:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66979),v=function(c,u,l,a,d){return o(c,"rotation",u,l,a,d)};s.exports=v}),91051:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(1163),v=r(20339),c=function(u,l,a){for(var d=l.x,p=l.y,h=0;h<u.length;h++){var g=u[h];o(g,d,p,a,Math.max(1,v(g.x,g.y,d,p)))}return u};s.exports=c}),76332:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(1163),v=function(c,u,l,a){var d=u.x,p=u.y;if(a===0)return c;for(var h=0;h<c.length;h++)o(c[h],d,p,l,a);return c};s.exports=v}),61619:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66979),v=function(c,u,l,a,d){return o(c,"scaleX",u,l,a,d)};s.exports=v}),94868:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66979),v=function(c,u,l,a,d,p,h){return l==null&&(l=u),o(c,"scaleX",u,a,p,h),o(c,"scaleY",l,d,p,h)};s.exports=v}),95532:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66979),v=function(c,u,l,a,d){return o(c,"scaleY",u,l,a,d)};s.exports=v}),8689:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),v=function(c,u,l,a,d){return o(c,"alpha",u,l,a,d)};s.exports=v}),2645:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),v=function(c,u,l,a){return o(c,"blendMode",u,0,l,a)};s.exports=v}),32372:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),v=function(c,u,l,a,d){return o(c,"depth",u,l,a,d)};s.exports=v}),85373:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){for(var c=0;c<r.length;c++)r[c].setInteractive(o,v);return r};s.exports=y}),81583:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),v=function(c,u,l,a,d,p,h){return l==null&&(l=u),o(c,"originX",u,a,p,h),o(c,"originY",l,d,p,h),c.forEach(function(g){g.updateDisplayOrigin()}),c};s.exports=v}),79939:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),v=function(c,u,l,a,d){return o(c,"rotation",u,l,a,d)};s.exports=v}),2699:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),v=function(c,u,l,a,d,p,h){return l==null&&(l=u),o(c,"scaleX",u,a,p,h),o(c,"scaleY",l,d,p,h)};s.exports=v}),98739:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),v=function(c,u,l,a,d){return o(c,"scaleX",u,l,a,d)};s.exports=v}),98476:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),v=function(c,u,l,a,d){return o(c,"scaleY",u,l,a,d)};s.exports=v}),6207:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),v=function(c,u,l,a,d,p,h){return l==null&&(l=u),o(c,"scrollFactorX",u,a,p,h),o(c,"scrollFactorY",l,d,p,h)};s.exports=v}),6607:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),v=function(c,u,l,a,d){return o(c,"scrollFactorX",u,l,a,d)};s.exports=v}),72248:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),v=function(c,u,l,a,d){return o(c,"scrollFactorY",u,l,a,d)};s.exports=v}),14036:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c,u){for(var l=0;l<r.length;l++)r[l].setTint(o,v,c,u);return r};s.exports=y}),50159:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),v=function(c,u,l,a){return o(c,"visible",u,0,l,a)};s.exports=v}),77597:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),v=function(c,u,l,a,d){return o(c,"x",u,l,a,d)};s.exports=v}),83194:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),v=function(c,u,l,a,d,p,h){return l==null&&(l=u),o(c,"x",u,a,p,h),o(c,"y",l,d,p,h)};s.exports=v}),67678:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),v=function(c,u,l,a,d){return o(c,"y",u,l,a,d)};s.exports=v}),35850:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),v=function(c,u,l,a,d){a===void 0&&(a=0),d===void 0&&(d=new o);var p,h,g=c.length;if(g===1)p=c[0].x,h=c[0].y,c[0].x=u,c[0].y=l;else{var m=1,x=0;a===0&&(x=g-1,m=g-2),p=c[x].x,h=c[x].y,c[x].x=u,c[x].y=l;for(var w=0;w<g;w++)if(!(m>=g||m===-1)){var C=c[m],E=C.x,T=C.y;C.x=p,C.y=h,p=E,h=T,a===0?m--:m++}}return d.x=p,d.y=h,d};s.exports=v}),8628:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(33680),v=function(c){return o(c)};s.exports=v}),21837:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7602),v=function(c,u,l,a,d){d===void 0&&(d=!1);var p=Math.abs(a-l)/c.length,h;if(d)for(h=0;h<c.length;h++)c[h][u]+=o(h*p,l,a);else for(h=0;h<c.length;h++)c[h][u]=o(h*p,l,a);return c};s.exports=v}),21910:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(54261),v=function(c,u,l,a,d){d===void 0&&(d=!1);var p=Math.abs(a-l)/c.length,h;if(d)for(h=0;h<c.length;h++)c[h][u]+=o(h*p,l,a);else for(h=0;h<c.length;h++)c[h][u]=o(h*p,l,a);return c};s.exports=v}),62054:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c,u){if(u===void 0&&(u=!1),r.length===0)return r;if(r.length===1)return u?r[0][o]+=(c+v)/2:r[0][o]=(c+v)/2,r;var l=Math.abs(c-v)/(r.length-1),a;if(u)for(a=0;a<r.length;a++)r[a][o]+=a*l+v;else for(a=0;a<r.length;a++)r[a][o]=a*l+v;return r};s.exports=y}),79815:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){for(var o=0;o<r.length;o++)r[o].visible=!r[o].visible;return r};s.exports=y}),39665:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(15994),v=function(c,u,l){l===void 0&&(l=0);for(var a=0;a<c.length;a++){var d=c[a];d.x=o(d.x,u.left-l,u.right+l),d.y=o(d.y,u.top-l,u.bottom+l)}return c};s.exports=v}),61061:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={AlignTo:r(11517),Angle:r(80318),Call:r(60757),GetFirst:r(69927),GetLast:r(32265),GridAlign:r(94420),IncAlpha:r(41721),IncX:r(67285),IncXY:r(9074),IncY:r(75222),PlaceOnCircle:r(22983),PlaceOnEllipse:r(95253),PlaceOnLine:r(88505),PlaceOnRectangle:r(41346),PlaceOnTriangle:r(11575),PlayAnimation:r(29953),PropertyValueInc:r(66979),PropertyValueSet:r(43967),RandomCircle:r(88926),RandomEllipse:r(33286),RandomLine:r(96e3),RandomRectangle:r(28789),RandomTriangle:r(97154),Rotate:r(20510),RotateAround:r(91051),RotateAroundDistance:r(76332),ScaleX:r(61619),ScaleXY:r(94868),ScaleY:r(95532),SetAlpha:r(8689),SetBlendMode:r(2645),SetDepth:r(32372),SetHitArea:r(85373),SetOrigin:r(81583),SetRotation:r(79939),SetScale:r(2699),SetScaleX:r(98739),SetScaleY:r(98476),SetScrollFactor:r(6207),SetScrollFactorX:r(6607),SetScrollFactorY:r(72248),SetTint:r(14036),SetVisible:r(50159),SetX:r(77597),SetXY:r(83194),SetY:r(67678),ShiftPosition:r(35850),Shuffle:r(8628),SmootherStep:r(21910),SmoothStep:r(21837),Spread:r(62054),ToggleVisible:r(79815),WrapInRectangle:r(39665)}}),42099:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),v=r(83419),c=r(74943),u=r(81957),l=r(41138),a=r(35154),d=r(90126),p=new v({initialize:function(g,m,x){this.manager=g,this.key=m,this.type="frame",this.frames=this.getFrames(g.textureManager,a(x,"frames",[]),a(x,"defaultTextureKey",null),a(x,"sortFrames",!0)),this.frameRate=a(x,"frameRate",null),this.duration=a(x,"duration",null),this.msPerFrame,this.skipMissedFrames=a(x,"skipMissedFrames",!0),this.delay=a(x,"delay",0),this.repeat=a(x,"repeat",0),this.repeatDelay=a(x,"repeatDelay",0),this.yoyo=a(x,"yoyo",!1),this.showBeforeDelay=a(x,"showBeforeDelay",!1),this.showOnStart=a(x,"showOnStart",!1),this.hideOnComplete=a(x,"hideOnComplete",!1),this.randomFrame=a(x,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(c.PAUSE_ALL,this.pause,this),this.manager.on(c.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(h,g,m,x){m===null&&x===null?(h.frameRate=24,h.duration=24/g*1e3):m&&x===null?(h.duration=m,h.frameRate=g/(m/1e3)):(h.frameRate=x,h.duration=g/x*1e3),h.msPerFrame=1e3/h.frameRate},addFrame:function(h){return this.addFrameAt(this.frames.length,h)},addFrameAt:function(h,g){var m=this.getFrames(this.manager.textureManager,g);if(m.length>0){if(h===0)this.frames=m.concat(this.frames);else if(h===this.frames.length)this.frames=this.frames.concat(m);else{var x=this.frames.slice(0,h),w=this.frames.slice(h);this.frames=x.concat(m,w)}this.updateFrameSequence()}return this},checkFrame:function(h){return h>=0&&h<this.frames.length},getFirstTick:function(h){h.accumulator=0,h.nextTick=h.frameRate===h.currentAnim.frameRate&&h.currentFrame.duration||h.msPerFrame},getFrameAt:function(h){return this.frames[h]},getFrames:function(h,g,m,x){x===void 0&&(x=!0);var w=[],C,E,T=1,S,A;if(typeof g=="string"){if(A=g,!h.exists(A))return console.warn('Texture "%s" not found',A),w;var P=h.get(A),R=P.getFrameNames();x&&d(R),g=[],R.forEach(function(k){g.push({key:A,frame:k})})}if(!Array.isArray(g)||g.length===0)return w;for(S=0;S<g.length;S++){var L=g[S],D=a(L,"key",m);if(D){var F=a(L,"frame",0),$=h.getFrame(D,F);if(!$){console.warn('Texture "%s" not found',D);continue}E=new l(D,F,T,$),E.duration=a(L,"duration",0),E.isFirst=!C,C&&(C.nextFrame=E,E.prevFrame=C),w.push(E),C=E,T++}}if(w.length>0){E.isLast=!0,E.nextFrame=w[0],w[0].prevFrame=E;var N=1/(w.length-1);for(S=0;S<w.length;S++)w[S].progress=S*N}return w},getNextTick:function(h){h.accumulator-=h.nextTick,h.nextTick=h.frameRate===h.currentAnim.frameRate&&h.currentFrame.duration||h.msPerFrame},getFrameByProgress:function(h){return h=o(h,0,1),u(h,this.frames,"progress")},nextFrame:function(h){var g=h.currentFrame;g.isLast?h.yoyo?this.handleYoyoFrame(h,!1):h.repeatCounter>0?h.inReverse&&h.forward?h.forward=!1:this.repeatAnimation(h):h.complete():this.updateAndGetNextTick(h,g.nextFrame)},handleYoyoFrame:function(h,g){if(g||(g=!1),h.inReverse===!g&&h.repeatCounter>0){(h.repeatDelay===0||h.pendingRepeat)&&(h.forward=g),this.repeatAnimation(h);return}if(h.inReverse!==g&&h.repeatCounter===0){h.complete();return}h.forward=g;var m=g?h.currentFrame.nextFrame:h.currentFrame.prevFrame;this.updateAndGetNextTick(h,m)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(h){var g=h.currentFrame;g.isFirst?h.yoyo?this.handleYoyoFrame(h,!0):h.repeatCounter>0?h.inReverse&&!h.forward?this.repeatAnimation(h):(h.forward=!0,this.repeatAnimation(h)):h.complete():this.updateAndGetNextTick(h,g.prevFrame)},updateAndGetNextTick:function(h,g){h.setCurrentFrame(g),this.getNextTick(h)},removeFrame:function(h){var g=this.frames.indexOf(h);return g!==-1&&this.removeFrameAt(g),this},removeFrameAt:function(h){return this.frames.splice(h,1),this.updateFrameSequence(),this},repeatAnimation:function(h){if(h._pendingStop===2){if(h._pendingStopValue===0)return h.stop();h._pendingStopValue--}h.repeatDelay>0&&!h.pendingRepeat?(h.pendingRepeat=!0,h.accumulator-=h.nextTick,h.nextTick+=h.repeatDelay):(h.repeatCounter--,h.forward?h.setCurrentFrame(h.currentFrame.nextFrame):h.setCurrentFrame(h.currentFrame.prevFrame),h.isPlaying&&(this.getNextTick(h),h.handleRepeat()))},toJSON:function(){var h={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(g){h.frames.push(g.toJSON())}),h},updateFrameSequence:function(){for(var h=this.frames.length,g=1/(h-1),m,x=0;x<h;x++)m=this.frames[x],m.index=x+1,m.isFirst=!1,m.isLast=!1,m.progress=x*g,x===0?(m.isFirst=!0,h===1?(m.isLast=!0,m.nextFrame=m,m.prevFrame=m):(m.isLast=!1,m.prevFrame=this.frames[h-1],m.nextFrame=this.frames[x+1])):x===h-1&&h>1?(m.isLast=!0,m.prevFrame=this.frames[h-2],m.nextFrame=this.frames[0]):h>1&&(m.prevFrame=this.frames[x-1],m.nextFrame=this.frames[x+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(c.PAUSE_ALL,this.pause,this),this.manager.off(c.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var h=0;h<this.frames.length;h++)this.frames[h].destroy();this.frames=[],this.manager=null}});s.exports=p}),41138:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=new o({initialize:function(u,l,a,d,p){p===void 0&&(p=!1),this.textureKey=u,this.textureFrame=l,this.index=a,this.frame=d,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=p},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});s.exports=v}),60848:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(42099),v=r(83419),c=r(90330),u=r(50792),l=r(74943),a=r(8443),d=r(95540),p=r(35154),h=r(36383),g=r(20283),m=r(41836),x=new v({Extends:u,initialize:function(C){u.call(this),this.game=C,this.textureManager=null,this.globalTimeScale=1,this.anims=new c,this.mixes=new c,this.paused=!1,this.name="AnimationManager",C.events.once(a.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(a.DESTROY,this.destroy,this)},addMix:function(w,C,E){var T=this.anims,S=this.mixes,A=typeof w=="string"?w:w.key,P=typeof C=="string"?C:C.key;if(T.has(A)&&T.has(P)){var R=S.get(A);R||(R={}),R[P]=E,S.set(A,R)}return this},removeMix:function(w,C){var E=this.mixes,T=typeof w=="string"?w:w.key,S=E.get(T);if(S)if(C){var A=typeof C=="string"?C:C.key;S.hasOwnProperty(A)&&delete S[A]}else C||E.delete(T);return this},getMix:function(w,C){var E=this.mixes,T=typeof w=="string"?w:w.key,S=typeof C=="string"?C:C.key,A=E.get(T);return A&&A.hasOwnProperty(S)?A[S]:0},add:function(w,C){return this.anims.has(w)?(console.warn("Animation key exists: "+w),this):(C.key=w,this.anims.set(w,C),this.emit(l.ADD_ANIMATION,w,C),this)},exists:function(w){return this.anims.has(w)},createFromAseprite:function(w,C,E){var T=[],S=this.game.cache.json.get(w);if(!S)return console.warn("No Aseprite data found for: "+w),T;var A=this,P=p(S,"meta",null),R=p(S,"frames",null);if(P&&R){var L=p(P,"frameTags",[]);L.forEach(function(D){var F=[],$=d(D,"name",null),N=d(D,"from",0),k=d(D,"to",0),j=d(D,"direction","forward");if($&&(!C||C&&C.indexOf($)>-1)){for(var W=0,G=N;G<=k;G++){var K=G.toString(),z=R[K];if(z){var X=d(z,"duration",h.MAX_SAFE_INTEGER);F.push({key:w,frame:K,duration:X}),W+=X}}j==="reverse"&&(F=F.reverse());var U={key:$,frames:F,duration:W,yoyo:j==="pingpong"},Z;E?E.anims&&(Z=E.anims.create(U)):Z=A.create(U),Z&&T.push(Z)}})}return T},create:function(w){var C=w.key,E=!1;return C&&(E=this.get(C),E?console.warn("AnimationManager key already exists: "+C):(E=new o(this,C,w),this.anims.set(C,E),this.emit(l.ADD_ANIMATION,C,E))),E},fromJSON:function(w,C){C===void 0&&(C=!1),C&&this.anims.clear(),typeof w=="string"&&(w=JSON.parse(w));var E=[];if(w.hasOwnProperty("anims")&&Array.isArray(w.anims)){for(var T=0;T<w.anims.length;T++)E.push(this.create(w.anims[T]));w.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=w.globalTimeScale)}else w.hasOwnProperty("key")&&w.type==="frame"&&E.push(this.create(w));return E},generateFrameNames:function(w,C){var E=p(C,"prefix",""),T=p(C,"start",0),S=p(C,"end",0),A=p(C,"suffix",""),P=p(C,"zeroPad",0),R=p(C,"outputArray",[]),L=p(C,"frames",!1);if(!this.textureManager.exists(w))return console.warn('Texture "%s" not found',w),R;var D=this.textureManager.get(w);if(!D)return R;var F;if(C)for(L||(L=g(T,S)),F=0;F<L.length;F++){var $=E+m(L[F],P,"0",1)+A;D.has($)?R.push({key:w,frame:$}):console.warn('Frame "%s" not found in texture "%s"',$,w)}else for(L=D.getFrameNames(),F=0;F<L.length;F++)R.push({key:w,frame:L[F]});return R},generateFrameNumbers:function(w,C){var E=p(C,"start",0),T=p(C,"end",-1),S=p(C,"first",!1),A=p(C,"outputArray",[]),P=p(C,"frames",!1);if(!this.textureManager.exists(w))return console.warn('Texture "%s" not found',w),A;var R=this.textureManager.get(w);if(!R)return A;S&&R.has(S)&&A.push({key:w,frame:S}),P||(T===-1&&(T=R.frameTotal-2),P=g(E,T));for(var L=0;L<P.length;L++){var D=P[L];R.has(D)?A.push({key:w,frame:D}):console.warn('Frame "%s" not found in texture "%s"',D,w)}return A},get:function(w){return this.anims.get(w)},getAnimsFromTexture:function(w){for(var C=this.textureManager.get(w),E=C.key,T=this.anims.getArray(),S=[],A=0;A<T.length;A++)for(var P=T[A],R=P.frames,L=0;L<R.length;L++)if(R[L].textureKey===E){S.push(P.key);break}return S},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(l.PAUSE_ALL)),this},play:function(w,C){Array.isArray(C)||(C=[C]);for(var E=0;E<C.length;E++)C[E].anims.play(w);return this},staggerPlay:function(w,C,E,T){E===void 0&&(E=0),T===void 0&&(T=!0),Array.isArray(C)||(C=[C]);var S=C.length;T||S--;for(var A=0;A<C.length;A++){var P=E<0?Math.abs(E)*(S-A):E*A;C[A].anims.playAfterDelay(w,P)}return this},remove:function(w){var C=this.get(w);return C&&(this.emit(l.REMOVE_ANIMATION,w,C),this.anims.delete(w),this.removeMix(w)),C},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(l.RESUME_ALL)),this},toJSON:function(w){var C={anims:[],globalTimeScale:this.globalTimeScale};return w!==void 0&&w!==""?C.anims.push(this.anims.get(w).toJSON()):this.anims.each(function(E,T){C.anims.push(T.toJSON())}),C},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});s.exports=x}),9674:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(42099),v=r(30976),c=r(83419),u=r(90330),l=r(74943),a=r(95540),d=new c({initialize:function(h){this.parent=h,this.animationManager=h.scene.sys.anims,this.animationManager.on(l.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(p){var h=this.parent;if(p===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,h;Array.isArray(p)||(p=[p]);for(var g=0;g<p.length;g++){var m=p[g];this.nextAnim?this.nextAnimsQueue.push(m):this.nextAnim=m}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(p){this.isPlaying&&this.stop();var h=this.animationManager,g=typeof p=="string"?p:a(p,"key",null),m=this.exists(g)?this.get(g):h.get(g);if(!m)console.warn("Missing animation: "+g);else{this.currentAnim=m;var x=m.getTotalFrames(),w=a(p,"frameRate",m.frameRate),C=a(p,"duration",m.duration);m.calculateDuration(this,x,C,w),this.delay=a(p,"delay",m.delay),this.repeat=a(p,"repeat",m.repeat),this.repeatDelay=a(p,"repeatDelay",m.repeatDelay),this.yoyo=a(p,"yoyo",m.yoyo),this.showBeforeDelay=a(p,"showBeforeDelay",m.showBeforeDelay),this.showOnStart=a(p,"showOnStart",m.showOnStart),this.hideOnComplete=a(p,"hideOnComplete",m.hideOnComplete),this.skipMissedFrames=a(p,"skipMissedFrames",m.skipMissedFrames),this.randomFrame=a(p,"randomFrame",m.randomFrame),this.timeScale=a(p,"timeScale",this.timeScale);var E=a(p,"startFrame",0);E>x&&(E=0),this.randomFrame&&(E=v(0,x-1));var T=m.frames[E];E===0&&!this.forward&&(T=m.getLastFrame()),this.currentFrame=T}return this.parent},pause:function(p){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),p!==void 0&&this.setCurrentFrame(p),this.parent},resume:function(p){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),p!==void 0&&this.setCurrentFrame(p),this.parent},playAfterDelay:function(p,h){if(!this.isPlaying)this.delayCounter=h,this.play(p,!0);else{var g=this.nextAnim,m=this.nextAnimsQueue;g&&m.unshift(g),this.nextAnim=p,this._pendingStop=1,this._pendingStopValue=h}return this.parent},playAfterRepeat:function(p,h){if(h===void 0&&(h=1),!this.isPlaying)this.play(p);else{var g=this.nextAnim,m=this.nextAnimsQueue;g&&m.unshift(g),this.repeatCounter!==-1&&h>this.repeatCounter&&(h=this.repeatCounter),this.nextAnim=p,this._pendingStop=2,this._pendingStopValue=h}return this.parent},play:function(p,h){h===void 0&&(h=!1);var g=this.currentAnim,m=this.parent,x=typeof p=="string"?p:p.key;if(h&&this.isPlaying&&g.key===x)return m;if(g&&this.isPlaying){var w=this.animationManager.getMix(g.key,p);if(w>0)return this.playAfterDelay(p,w)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(p)},playReverse:function(p,h){h===void 0&&(h=!1);var g=typeof p=="string"?p:p.key;return h&&this.isPlaying&&this.currentAnim.key===g?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(p))},startAnimation:function(p){this.load(p);var h=this.currentAnim,g=this.parent;return h&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,h.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),g},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(l.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(l.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(l.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(l.ANIMATION_COMPLETE,l.ANIMATION_COMPLETE_KEY)},emitEvents:function(p,h){var g=this.currentAnim;if(g){var m=this.currentFrame,x=this.parent,w=m.textureFrame;x.emit(p,g,m,x,w),h&&x.emit(h+g.key,g,m,x,w)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var p=this.currentFrame;if(!p)return 0;var h=p.progress;return this.inReverse&&(h*=-1),h},setProgress:function(p){return this.forward||(p=1-p),this.setCurrentFrame(this.currentAnim.getFrameByProgress(p)),this.parent},setRepeat:function(p){return this.repeatCounter=p===-1?Number.MAX_VALUE:p,this.parent},globalRemove:function(p,h){h===void 0&&(h=this.currentAnim),this.isPlaying&&h.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(p,h){p===void 0&&(p=!1),h===void 0&&(h=!1);var g=this.currentAnim,m=this.parent;return g?(h&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),g.getFirstTick(this),this.emitEvents(l.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!p,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(g.frames[0]),this.parent):m},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var p=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(p)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var p=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(p)}return this.parent},stopAfterDelay:function(p){return this._pendingStop=1,this._pendingStopValue=p,this.parent},stopAfterRepeat:function(p){return p===void 0&&(p=1),this.repeatCounter!==-1&&p>this.repeatCounter&&(p=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=p,this.parent},stopOnFrame:function(p){return this._pendingStop=3,this._pendingStopValue=p,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(p,h){var g=this.currentAnim;if(!(!this.isPlaying||!g||g.paused)){if(this.accumulator+=h*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=h,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?g.nextFrame(this):g.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var m=0;do this.forward?g.nextFrame(this):g.previousFrame(this),m++;while(this.isPlaying&&this.accumulator>this.nextTick&&m<60)}}},setCurrentFrame:function(p){var h=this.parent;return this.currentFrame=p,h.texture=p.frame.texture,h.frame=p.frame,h.isCropped&&h.frame.updateCropUVs(h._crop,h.flipX,h.flipY),p.setAlpha&&(h.alpha=p.alpha),h.setSizeToFrame(),h._originComponent&&(p.frame.customPivot?h.setOrigin(p.frame.pivotX,p.frame.pivotY):h.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(l.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===p&&this.stop()),h},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(p){return this.anims?this.anims.get(p):null},exists:function(p){return this.anims?this.anims.has(p):!1},create:function(p){var h=p.key,g=!1;return h&&(g=this.get(h),g?console.warn("Animation key already exists: "+h):(g=new o(this,h,p),this.anims||(this.anims=new u),this.anims.set(h,g))),g},createFromAseprite:function(p,h){return this.animationManager.createFromAseprite(p,h,this.parent)},generateFrameNames:function(p,h){return this.animationManager.generateFrameNames(p,h)},generateFrameNumbers:function(p,h){return this.animationManager.generateFrameNumbers(p,h)},remove:function(p){var h=this.get(p);return h&&(this.currentAnim===h&&this.stop(),this.anims.delete(p)),h},destroy:function(){this.animationManager.off(l.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});s.exports=d}),57090:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="add"}),25312:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="animationcomplete"}),89580:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="animationcomplete-"}),52860:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="animationrepeat"}),63850:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="animationrestart"}),99085:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="animationstart"}),28087:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="animationstop"}),1794:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="animationupdate"}),52562:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pauseall"}),57953:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="remove"}),68339:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="resumeall"}),74943:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={ADD_ANIMATION:r(57090),ANIMATION_COMPLETE:r(25312),ANIMATION_COMPLETE_KEY:r(89580),ANIMATION_REPEAT:r(52860),ANIMATION_RESTART:r(63850),ANIMATION_START:r(99085),ANIMATION_STOP:r(28087),ANIMATION_UPDATE:r(1794),PAUSE_ALL:r(52562),REMOVE_ANIMATION:r(57953),RESUME_ALL:r(68339)}}),60421:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Animation:r(42099),AnimationFrame:r(41138),AnimationManager:r(60848),AnimationState:r(9674),Events:r(74943)}}),2161:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(90330),c=r(50792),u=r(24736),l=new o({initialize:function(){this.entries=new v,this.events=new c},add:function(a,d){return this.entries.set(a,d),this.events.emit(u.ADD,this,a,d),this},has:function(a){return this.entries.has(a)},exists:function(a){return this.entries.has(a)},get:function(a){return this.entries.get(a)},remove:function(a){var d=this.get(a);return d&&(this.entries.delete(a),this.events.emit(u.REMOVE,this,a,d.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});s.exports=l}),24047:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2161),v=r(83419),c=r(8443),u=new v({initialize:function(a){this.game=a,this.binary=new o,this.bitmapFont=new o,this.json=new o,this.physics=new o,this.shader=new o,this.audio=new o,this.video=new o,this.text=new o,this.html=new o,this.obj=new o,this.tilemap=new o,this.xml=new o,this.custom={},this.game.events.once(c.DESTROY,this.destroy,this)},addCustom:function(l){return this.custom.hasOwnProperty(l)||(this.custom[l]=new o),this.custom[l]},destroy:function(){for(var l=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],a=0;a<l.length;a++)this[l[a]].destroy(),this[l[a]]=null;for(var d in this.custom)this.custom[d].destroy();this.custom=null,this.game=null}});s.exports=u}),51464:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="add"}),59261:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="remove"}),24736:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={ADD:r(51464),REMOVE:r(59261)}}),83388:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={BaseCache:r(2161),CacheManager:r(24047),Events:r(24736)}}),71911:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(31401),c=r(39506),u=r(50792),l=r(19715),a=r(87841),d=r(61340),p=r(80333),h=r(26099),g=new o({Extends:u,Mixins:[v.AlphaSingle,v.Visible],initialize:function(x,w,C,E){x===void 0&&(x=0),w===void 0&&(w=0),C===void 0&&(C=0),E===void 0&&(E=0),u.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new a,this.dirty=!0,this._x=x,this._y=w,this._width=C,this._height=E,this._bounds=new a,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new d,this.transparent=!0,this.backgroundColor=p("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new h(C/2,E/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},addToRenderList:function(m){this.renderList.push(m)},setOrigin:function(m,x){return m===void 0&&(m=.5),x===void 0&&(x=m),this.originX=m,this.originY=x,this},getScroll:function(m,x,w){w===void 0&&(w=new h);var C=this.width*.5,E=this.height*.5;return w.x=m-C,w.y=x-E,this.useBounds&&(w.x=this.clampX(w.x),w.y=this.clampY(w.y)),w},centerOnX:function(m){var x=this.width*.5;return this.midPoint.x=m,this.scrollX=m-x,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(m){var x=this.height*.5;return this.midPoint.y=m,this.scrollY=m-x,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(m,x){return this.centerOnX(m),this.centerOnY(x),this},centerToBounds:function(){if(this.useBounds){var m=this._bounds,x=this.width*.5,w=this.height*.5;this.midPoint.set(m.centerX,m.centerY),this.scrollX=m.centerX-x,this.scrollY=m.centerY-w}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(m){if(this.disableCull)return m;var x=this.matrix.matrix,w=x[0],C=x[1],E=x[2],T=x[3],S=w*T-C*E;if(!S)return m;var A=x[4],P=x[5],R=this.scrollX,L=this.scrollY,D=this.width,F=this.height,$=this.y,N=$+F,k=this.x,j=k+D,W=this.culledObjects,G=m.length;S=1/S,W.length=0;for(var K=0;K<G;++K){var z=m[K];if(!z.hasOwnProperty("width")||z.parentContainer){W.push(z);continue}var X=z.width,U=z.height,Z=z.x-R*z.scrollFactorX-X*z.originX,V=z.y-L*z.scrollFactorY-U*z.originY,J=Z*w+V*E+A,_=Z*C+V*T+P,ee=(Z+X)*w+(V+U)*E+A,te=(Z+X)*C+(V+U)*T+P;ee>k&&J<j&&te>$&&_<N&&W.push(z)}return W},getWorldPoint:function(m,x,w){w===void 0&&(w=new h);var C=this.matrix.matrix,E=C[0],T=C[1],S=C[2],A=C[3],P=C[4],R=C[5],L=E*A-T*S;if(!L)return w.x=m,w.y=x,w;L=1/L;var D=A*L,F=-T*L,$=-S*L,N=E*L,k=(S*R-A*P)*L,j=(T*P-E*R)*L,W=Math.cos(this.rotation),G=Math.sin(this.rotation),K=this.zoomX,z=this.zoomY,X=this.scrollX,U=this.scrollY,Z=m+(X*W-U*G)*K,V=x+(X*G+U*W)*z;return w.x=Z*D+V*$+k,w.y=Z*F+V*N+j,w},ignore:function(m){var x=this.id;Array.isArray(m)||(m=[m]);for(var w=0;w<m.length;w++){var C=m[w];Array.isArray(C)?this.ignore(C):C.isParent?this.ignore(C.getChildren()):C.cameraFilter|=x}return this},clampX:function(m){var x=this._bounds,w=this.displayWidth,C=x.x+(w-this.width)/2,E=Math.max(C,C+x.width-w);return m<C?m=C:m>E&&(m=E),m},clampY:function(m){var x=this._bounds,w=this.displayHeight,C=x.y+(w-this.height)/2,E=Math.max(C,C+x.height-w);return m<C?m=C:m>E&&(m=E),m},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(m){return m===void 0&&(m=0),this.rotation=c(m),this},setBackgroundColor:function(m){return m===void 0&&(m="rgba(0,0,0,0)"),this.backgroundColor=p(m),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(m,x,w,C,E){return E===void 0&&(E=!1),this._bounds.setTo(m,x,w,C),this.dirty=!0,this.useBounds=!0,E?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(m){m===void 0&&(m=new a);var x=this._bounds;return m.setTo(x.x,x.y,x.width,x.height),m},setName:function(m){return m===void 0&&(m=""),this.name=m,this},setPosition:function(m,x){return x===void 0&&(x=m),this.x=m,this.y=x,this},setRotation:function(m){return m===void 0&&(m=0),this.rotation=m,this},setRoundPixels:function(m){return this.roundPixels=m,this},setScene:function(m,x){x===void 0&&(x=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=m,this.isSceneCamera=x;var w=m.sys;return this.sceneManager=w.game.scene,this.scaleManager=w.scale,this.cameraManager=w.cameras,this.updateSystem(),this},setScroll:function(m,x){return x===void 0&&(x=m),this.scrollX=m,this.scrollY=x,this},setSize:function(m,x){return x===void 0&&(x=m),this.width=m,this.height=x,this},setViewport:function(m,x,w,C){return this.x=m,this.y=x,this.width=w,this.height=C,this},setZoom:function(m,x){return m===void 0&&(m=1),x===void 0&&(x=m),m===0&&(m=.001),x===0&&(x=.001),this.zoomX=m,this.zoomY=x,this},setMask:function(m,x){return x===void 0&&(x=!0),this.mask=m,this._maskCamera=x?this.cameraManager.default:this,this},clearMask:function(m){return m===void 0&&(m=!1),m&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var m={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(m.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),m},update:function(){},setIsSceneCamera:function(m){return this.isSceneCamera=m,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var m=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,x=this.sceneManager;m&&!this._customViewport?x.customViewports++:!m&&this._customViewport&&x.customViewports--,this.dirty=!0,this._customViewport=m}},destroy:function(){this.emit(l.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(m){this._x=m,this.updateSystem()}},y:{get:function(){return this._y},set:function(m){this._y=m,this.updateSystem()}},width:{get:function(){return this._width},set:function(m){this._width=m,this.updateSystem()}},height:{get:function(){return this._height},set:function(m){this._height=m,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(m){m!==this._scrollX&&(this._scrollX=m,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(m){m!==this._scrollY&&(this._scrollY=m,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(m){this._zoomX=m,this._zoomY=m,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(m){this._zoomX=m,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(m){this._zoomY=m,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(m){this._rotation=m,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});s.exports=g}),38058:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(71911),v=r(67502),c=r(45319),u=r(83419),l=r(31401),a=r(20052),d=r(19715),p=r(28915),h=r(87841),g=r(26099),m=new u({Extends:o,Mixins:[l.PostPipeline],initialize:function(w,C,E,T){o.call(this,w,C,E,T),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new a.Fade(this),this.flashEffect=new a.Flash(this),this.shakeEffect=new a.Shake(this),this.panEffect=new a.Pan(this),this.rotateToEffect=new a.RotateTo(this),this.zoomEffect=new a.Zoom(this),this.lerp=new g(1,1),this.followOffset=new g,this.deadzone=null,this._follow=null},setDeadzone:function(x,w){if(x===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=x,this.deadzone.height=w):this.deadzone=new h(0,0,x,w),this._follow){var C=this.width/2,E=this.height/2,T=this._follow.x-this.followOffset.x,S=this._follow.y-this.followOffset.y;this.midPoint.set(T,S),this.scrollX=T-C,this.scrollY=S-E}v(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(x,w,C,E,T,S){return this.fadeEffect.start(!1,x,w,C,E,!0,T,S)},fadeOut:function(x,w,C,E,T,S){return this.fadeEffect.start(!0,x,w,C,E,!0,T,S)},fadeFrom:function(x,w,C,E,T,S,A){return this.fadeEffect.start(!1,x,w,C,E,T,S,A)},fade:function(x,w,C,E,T,S,A){return this.fadeEffect.start(!0,x,w,C,E,T,S,A)},flash:function(x,w,C,E,T,S,A){return this.flashEffect.start(x,w,C,E,T,S,A)},shake:function(x,w,C,E,T){return this.shakeEffect.start(x,w,C,E,T)},pan:function(x,w,C,E,T,S,A){return this.panEffect.start(x,w,C,E,T,S,A)},rotateTo:function(x,w,C,E,T,S,A){return this.rotateToEffect.start(x,w,C,E,T,S,A)},zoomTo:function(x,w,C,E,T,S){return this.zoomEffect.start(x,w,C,E,T,S)},preRender:function(){this.renderList.length=0;var x=this.width,w=this.height,C=x*.5,E=w*.5,T=this.zoomX,S=this.zoomY,A=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(T)&&Number.isInteger(S);var P=x*this.originX,R=w*this.originY,L=this._follow,D=this.deadzone,F=this.scrollX,$=this.scrollY;D&&v(D,this.midPoint.x,this.midPoint.y);var N=!1;if(L&&!this.panEffect.isRunning){var k=this.lerp,j=L.x-this.followOffset.x,W=L.y-this.followOffset.y;D?(j<D.x?F=p(F,F-(D.x-j),k.x):j>D.right&&(F=p(F,F+(j-D.right),k.x)),W<D.y?$=p($,$-(D.y-W),k.y):W>D.bottom&&($=p($,$+(W-D.bottom),k.y))):(F=p(F,j-P,k.x),$=p($,W-R,k.y)),N=!0}this.roundPixels&&(F=Math.floor(F),$=Math.floor($)),this.useBounds&&(F=this.clampX(F),$=this.clampY($)),this.scrollX=F,this.scrollY=$;var G=F+C,K=$+E;this.midPoint.set(G,K);var z=Math.floor(x/T+.5),X=Math.floor(w/S+.5),U=Math.floor(G-z/2+.5),Z=Math.floor(K-X/2+.5);this.worldView.setTo(U,Z,z,X),A.applyITRS(Math.floor(this.x+P+.5),Math.floor(this.y+R+.5),this.rotation,T,S),A.translate(-P,-R),this.shakeEffect.preRender(),N&&this.emit(d.FOLLOW_UPDATE,this,L)},setLerp:function(x,w){return x===void 0&&(x=1),w===void 0&&(w=x),this.lerp.set(x,w),this},setFollowOffset:function(x,w){return x===void 0&&(x=0),w===void 0&&(w=0),this.followOffset.set(x,w),this},startFollow:function(x,w,C,E,T,S){w===void 0&&(w=!1),C===void 0&&(C=1),E===void 0&&(E=C),T===void 0&&(T=0),S===void 0&&(S=T),this._follow=x,this.roundPixels=w,C=c(C,0,1),E=c(E,0,1),this.lerp.set(C,E),this.followOffset.set(T,S);var A=this.width/2,P=this.height/2,R=x.x-T,L=x.y-S;return this.midPoint.set(R,L),this.scrollX=R-A,this.scrollY=L-P,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(x,w){this.visible&&(this.rotateToEffect.update(x,w),this.panEffect.update(x,w),this.zoomEffect.update(x,w),this.shakeEffect.update(x,w),this.flashEffect.update(x,w),this.fadeEffect.update(x,w))},destroy:function(){this.resetFX(),o.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});s.exports=m}),32743:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(38058),v=r(83419),c=r(95540),u=r(37277),l=r(37303),a=r(97480),d=r(44594),p=new v({initialize:function(g){this.scene=g,this.systems=g.sys,this.roundPixels=g.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,g.sys.events.once(d.BOOT,this.boot,this),g.sys.events.on(d.START,this.start,this)},boot:function(){var h=this.systems;h.settings.cameras?this.fromJSON(h.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new o(0,0,h.scale.width,h.scale.height).setScene(this.scene),h.game.scale.on(a.RESIZE,this.onResize,this),this.systems.events.once(d.DESTROY,this.destroy,this)},start:function(){if(!this.main){var h=this.systems;h.settings.cameras?this.fromJSON(h.settings.cameras):this.add(),this.main=this.cameras[0]}var g=this.systems.events;g.on(d.UPDATE,this.update,this),g.once(d.SHUTDOWN,this.shutdown,this)},add:function(h,g,m,x,w,C){h===void 0&&(h=0),g===void 0&&(g=0),m===void 0&&(m=this.scene.sys.scale.width),x===void 0&&(x=this.scene.sys.scale.height),w===void 0&&(w=!1),C===void 0&&(C="");var E=new o(h,g,m,x);return E.setName(C),E.setScene(this.scene),E.setRoundPixels(this.roundPixels),E.id=this.getNextID(),this.cameras.push(E),w&&(this.main=E),E},addExisting:function(h,g){g===void 0&&(g=!1);var m=this.cameras.indexOf(h);return m===-1?(h.id=this.getNextID(),h.setRoundPixels(this.roundPixels),this.cameras.push(h),g&&(this.main=h),h):null},getNextID:function(){for(var h=this.cameras,g=1,m=0;m<32;m++){for(var x=!1,w=0;w<h.length;w++){var C=h[w];if(C&&C.id===g){x=!0;continue}}if(x)g=g<<1;else return g}return 0},getTotal:function(h){h===void 0&&(h=!1);for(var g=0,m=this.cameras,x=0;x<m.length;x++){var w=m[x];(!h||h&&w.visible)&&g++}return g},fromJSON:function(h){Array.isArray(h)||(h=[h]);for(var g=this.scene.sys.scale.width,m=this.scene.sys.scale.height,x=0;x<h.length;x++){var w=h[x],C=c(w,"x",0),E=c(w,"y",0),T=c(w,"width",g),S=c(w,"height",m),A=this.add(C,E,T,S);A.name=c(w,"name",""),A.zoom=c(w,"zoom",1),A.rotation=c(w,"rotation",0),A.scrollX=c(w,"scrollX",0),A.scrollY=c(w,"scrollY",0),A.roundPixels=c(w,"roundPixels",!1),A.visible=c(w,"visible",!0);var P=c(w,"backgroundColor",!1);P&&A.setBackgroundColor(P);var R=c(w,"bounds",null);if(R){var L=c(R,"x",0),D=c(R,"y",0),F=c(R,"width",g),$=c(R,"height",m);A.setBounds(L,D,F,$)}}return this},getCamera:function(h){for(var g=this.cameras,m=0;m<g.length;m++)if(g[m].name===h)return g[m];return null},getCamerasBelowPointer:function(h){for(var g=this.cameras,m=h.x,x=h.y,w=[],C=0;C<g.length;C++){var E=g[C];E.visible&&E.inputEnabled&&l(E,m,x)&&w.unshift(E)}return w},remove:function(h,g){g===void 0&&(g=!0),Array.isArray(h)||(h=[h]);for(var m=0,x=this.cameras,w=0;w<h.length;w++){var C=x.indexOf(h[w]);C!==-1&&(g?x[C].destroy():x[C].renderList=[],x.splice(C,1),m++)}return!this.main&&x[0]&&(this.main=x[0]),m},render:function(h,g){for(var m=this.scene,x=this.cameras,w=0;w<x.length;w++){var C=x[w];if(C.visible&&C.alpha>0){C.preRender();var E=this.getVisibleChildren(g.getChildren(),C);h.render(m,E,C)}}},getVisibleChildren:function(h,g){return h.filter(function(m){return m.willRender(g)})},resetAll:function(){for(var h=0;h<this.cameras.length;h++)this.cameras[h].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(h,g){for(var m=0;m<this.cameras.length;m++)this.cameras[m].update(h,g)},onResize:function(h,g,m,x,w){for(var C=0;C<this.cameras.length;C++){var E=this.cameras[C];E._x===0&&E._y===0&&E._width===x&&E._height===w&&E.setSize(g.width,g.height)}},resize:function(h,g){for(var m=0;m<this.cameras.length;m++)this.cameras[m].setSize(h,g)},shutdown:function(){this.main=void 0;for(var h=0;h<this.cameras.length;h++)this.cameras[h].destroy();this.cameras=[];var g=this.systems.events;g.off(d.UPDATE,this.update,this),g.off(d.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(d.START,this.start,this),this.systems.events.off(d.DESTROY,this.destroy,this),this.systems.game.scale.off(a.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});u.register("CameraManager",p,"cameras"),s.exports=p}),5020:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),v=r(83419),c=r(19715),u=new v({initialize:function(a){this.camera=a,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(l,a,d,p,h,g,m,x){if(l===void 0&&(l=!0),a===void 0&&(a=1e3),d===void 0&&(d=0),p===void 0&&(p=0),h===void 0&&(h=0),g===void 0&&(g=!1),m===void 0&&(m=null),x===void 0&&(x=this.camera.scene),!g&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=a,this.direction=l,this.progress=0,this.red=d,this.green=p,this.blue=h,this.alpha=l?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=m,this._onUpdateScope=x;var w=l?c.FADE_OUT_START:c.FADE_IN_START;return this.camera.emit(w,this.camera,this,a,d,p,h),this.camera},update:function(l,a){this.isRunning&&(this._elapsed+=a,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(l){if(!this.isRunning&&!this.isComplete)return!1;var a=this.camera;return l.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",l.fillRect(a.x,a.y,a.width,a.height),!0},postRenderWebGL:function(l,a){if(!this.isRunning&&!this.isComplete)return!1;var d=this.camera,p=this.red/255,h=this.green/255,g=this.blue/255;return l.drawFillRect(d.x,d.y,d.width,d.height,a(g,h,p,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var l=this.direction?c.FADE_OUT_COMPLETE:c.FADE_IN_COMPLETE;this.camera.emit(l,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});s.exports=u}),10662:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),v=r(83419),c=r(19715),u=new v({initialize:function(a){this.camera=a,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(l,a,d,p,h,g,m){return l===void 0&&(l=250),a===void 0&&(a=255),d===void 0&&(d=255),p===void 0&&(p=255),h===void 0&&(h=!1),g===void 0&&(g=null),m===void 0&&(m=this.camera.scene),!h&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=l,this.progress=0,this.red=a,this.green=d,this.blue=p,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=g,this._onUpdateScope=m,this.camera.emit(c.FLASH_START,this.camera,this,l,a,d,p),this.camera)},update:function(l,a){this.isRunning&&(this._elapsed+=a,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(l){if(!this.isRunning)return!1;var a=this.camera;return l.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",l.fillRect(a.x,a.y,a.width,a.height),!0},postRenderWebGL:function(l,a){if(!this.isRunning)return!1;var d=this.camera,p=this.red/255,h=this.green/255,g=this.blue/255;return l.drawFillRect(d.x,d.y,d.width,d.height,a(g,h,p,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(c.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});s.exports=u}),20359:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),v=r(83419),c=r(62640),u=r(19715),l=r(26099),a=new v({initialize:function(p){this.camera=p,this.isRunning=!1,this.duration=0,this.source=new l,this.current=new l,this.destination=new l,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(d,p,h,g,m,x,w){h===void 0&&(h=1e3),g===void 0&&(g=c.Linear),m===void 0&&(m=!1),x===void 0&&(x=null),w===void 0&&(w=this.camera.scene);var C=this.camera;return!m&&this.isRunning||(this.isRunning=!0,this.duration=h,this.progress=0,this.source.set(C.scrollX,C.scrollY),this.destination.set(d,p),C.getScroll(d,p,this.current),typeof g=="string"&&c.hasOwnProperty(g)?this.ease=c[g]:typeof g=="function"&&(this.ease=g),this._elapsed=0,this._onUpdate=x,this._onUpdateScope=w,this.camera.emit(u.PAN_START,this.camera,this,h,d,p)),C},update:function(d,p){if(this.isRunning){this._elapsed+=p;var h=o(this._elapsed/this.duration,0,1);this.progress=h;var g=this.camera;if(this._elapsed<this.duration){var m=this.ease(h);g.getScroll(this.destination.x,this.destination.y,this.current);var x=this.source.x+(this.current.x-this.source.x)*m,w=this.source.y+(this.current.y-this.source.y)*m;g.setScroll(x,w),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,g,h,x,w)}else g.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,g,h,g.scrollX,g.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(u.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});s.exports=a}),34208:((s,y,r)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var o=r(45319),v=r(83419),c=r(19715),u=r(62640),l=new v({initialize:function(d){this.camera=d,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(a,d,p,h,g,m,x){p===void 0&&(p=1e3),h===void 0&&(h=u.Linear),g===void 0&&(g=!1),m===void 0&&(m=null),x===void 0&&(x=this.camera.scene),d===void 0&&(d=!1),this.shortestPath=d;var w=a;a<0?(w=-1*a,this.clockwise=!1):this.clockwise=!0;var C=360*Math.PI/180;w=w-Math.floor(w/C)*C;var E=this.camera;if(!g&&this.isRunning)return E;if(this.isRunning=!0,this.duration=p,this.progress=0,this.source=E.rotation,this.destination=w,typeof h=="string"&&u.hasOwnProperty(h)?this.ease=u[h]:typeof h=="function"&&(this.ease=h),this._elapsed=0,this._onUpdate=m,this._onUpdateScope=x,this.shortestPath){var T=0,S=0;this.destination>this.source?T=Math.abs(this.destination-this.source):T=Math.abs(this.destination+C)-this.source,this.source>this.destination?S=Math.abs(this.source-this.destination):S=Math.abs(this.source+C)-this.destination,T<S?this.clockwise=!0:T>S&&(this.clockwise=!1)}return this.camera.emit(c.ROTATE_START,this.camera,this,p,w),E},update:function(a,d){if(this.isRunning){this._elapsed+=d;var p=o(this._elapsed/this.duration,0,1);this.progress=p;var h=this.camera;if(this._elapsed<this.duration){var g=this.ease(p);this.current=h.rotation;var m=0,x=360*Math.PI/180,w=this.destination,C=this.current;this.clockwise===!1&&(w=this.current,C=this.destination),w>=C?m=Math.abs(w-C):m=Math.abs(w+x)-C;var E=0;this.clockwise?E=h.rotation+m*g:E=h.rotation-m*g,h.rotation=E,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,h,p,E)}else h.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,h,p,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(c.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});s.exports=l}),30330:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),v=r(83419),c=r(19715),u=r(26099),l=new v({initialize:function(d){this.camera=d,this.isRunning=!1,this.duration=0,this.intensity=new u,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(a,d,p,h,g){return a===void 0&&(a=100),d===void 0&&(d=.05),p===void 0&&(p=!1),h===void 0&&(h=null),g===void 0&&(g=this.camera.scene),!p&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=a,this.progress=0,typeof d=="number"?this.intensity.set(d):this.intensity.set(d.x,d.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=h,this._onUpdateScope=g,this.camera.emit(c.SHAKE_START,this.camera,this,a,d),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(a,d){if(this.isRunning)if(this._elapsed+=d,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var p=this.intensity,h=this.camera.width,g=this.camera.height,m=this.camera.zoom;this._offsetX=(Math.random()*p.x*h*2-p.x*h)*m,this._offsetY=(Math.random()*p.y*g*2-p.y*g)*m,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(c.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});s.exports=l}),45641:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),v=r(83419),c=r(62640),u=r(19715),l=new v({initialize:function(d){this.camera=d,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(a,d,p,h,g,m){d===void 0&&(d=1e3),p===void 0&&(p=c.Linear),h===void 0&&(h=!1),g===void 0&&(g=null),m===void 0&&(m=this.camera.scene);var x=this.camera;return!h&&this.isRunning||(this.isRunning=!0,this.duration=d,this.progress=0,this.source=x.zoom,this.destination=a,typeof p=="string"&&c.hasOwnProperty(p)?this.ease=c[p]:typeof p=="function"&&(this.ease=p),this._elapsed=0,this._onUpdate=g,this._onUpdateScope=m,this.camera.emit(u.ZOOM_START,this.camera,this,d,a)),x},update:function(a,d){this.isRunning&&(this._elapsed+=d,this.progress=o(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(u.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});s.exports=l}),20052:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Fade:r(5020),Flash:r(10662),Pan:r(20359),Shake:r(30330),RotateTo:r(34208),Zoom:r(45641)}}),16438:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="cameradestroy"}),32726:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="camerafadeincomplete"}),87807:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="camerafadeinstart"}),45917:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="camerafadeoutcomplete"}),95666:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="camerafadeoutstart"}),47056:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="cameraflashcomplete"}),91261:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="cameraflashstart"}),45047:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="followupdate"}),81927:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="camerapancomplete"}),74264:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="camerapanstart"}),54419:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="postrender"}),79330:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="prerender"}),93183:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="camerarotatecomplete"}),80112:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="camerarotatestart"}),62252:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="camerashakecomplete"}),86017:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="camerashakestart"}),539:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="camerazoomcomplete"}),51892:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="camerazoomstart"}),19715:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={DESTROY:r(16438),FADE_IN_COMPLETE:r(32726),FADE_IN_START:r(87807),FADE_OUT_COMPLETE:r(45917),FADE_OUT_START:r(95666),FLASH_COMPLETE:r(47056),FLASH_START:r(91261),FOLLOW_UPDATE:r(45047),PAN_COMPLETE:r(81927),PAN_START:r(74264),POST_RENDER:r(54419),PRE_RENDER:r(79330),ROTATE_COMPLETE:r(93183),ROTATE_START:r(80112),SHAKE_COMPLETE:r(62252),SHAKE_START:r(86017),ZOOM_COMPLETE:r(539),ZOOM_START:r(51892)}}),87969:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Camera:r(38058),BaseCamera:r(71911),CameraManager:r(32743),Effects:r(20052),Events:r(19715)}}),63091:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(35154),c=new o({initialize:function(l){this.camera=v(l,"camera",null),this.left=v(l,"left",null),this.right=v(l,"right",null),this.up=v(l,"up",null),this.down=v(l,"down",null),this.zoomIn=v(l,"zoomIn",null),this.zoomOut=v(l,"zoomOut",null),this.zoomSpeed=v(l,"zoomSpeed",.01),this.minZoom=v(l,"minZoom",.001),this.maxZoom=v(l,"maxZoom",1e3),this.speedX=0,this.speedY=0;var a=v(l,"speed",null);typeof a=="number"?(this.speedX=a,this.speedY=a):(this.speedX=v(l,"speed.x",0),this.speedY=v(l,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(u){return this.camera=u,this},update:function(u){if(this.active){u===void 0&&(u=1);var l=this.camera;this.up&&this.up.isDown?l.scrollY-=this.speedY*u|0:this.down&&this.down.isDown&&(l.scrollY+=this.speedY*u|0),this.left&&this.left.isDown?l.scrollX-=this.speedX*u|0:this.right&&this.right.isDown&&(l.scrollX+=this.speedX*u|0),this.zoomIn&&this.zoomIn.isDown?(l.zoom-=this.zoomSpeed,l.zoom<this.minZoom&&(l.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(l.zoom+=this.zoomSpeed,l.zoom>this.maxZoom&&(l.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});s.exports=c}),58818:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(35154),c=new o({initialize:function(l){this.camera=v(l,"camera",null),this.left=v(l,"left",null),this.right=v(l,"right",null),this.up=v(l,"up",null),this.down=v(l,"down",null),this.zoomIn=v(l,"zoomIn",null),this.zoomOut=v(l,"zoomOut",null),this.zoomSpeed=v(l,"zoomSpeed",.01),this.minZoom=v(l,"minZoom",.001),this.maxZoom=v(l,"maxZoom",1e3),this.accelX=0,this.accelY=0;var a=v(l,"acceleration",null);typeof a=="number"?(this.accelX=a,this.accelY=a):(this.accelX=v(l,"acceleration.x",0),this.accelY=v(l,"acceleration.y",0)),this.dragX=0,this.dragY=0;var d=v(l,"drag",null);typeof d=="number"?(this.dragX=d,this.dragY=d):(this.dragX=v(l,"drag.x",0),this.dragY=v(l,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var p=v(l,"maxSpeed",null);typeof p=="number"?(this.maxSpeedX=p,this.maxSpeedY=p):(this.maxSpeedX=v(l,"maxSpeed.x",0),this.maxSpeedY=v(l,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(u){return this.camera=u,this},update:function(u){if(this.active){u===void 0&&(u=1);var l=this.camera;this._speedX>0?(this._speedX-=this.dragX*u,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*u,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*u,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*u,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(l.scrollX-=this._speedX*u|0),this._speedY!==0&&(l.scrollY-=this._speedY*u|0),this._zoom!==0&&(l.zoom+=this._zoom,l.zoom<this.minZoom?l.zoom=this.minZoom:l.zoom>this.maxZoom&&(l.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});s.exports=c}),38865:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={FixedKeyControl:r(63091),SmoothedKeyControl:r(58818)}}),26638:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Controls:r(38865),Scene2D:r(87969)}}),8054:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={VERSION:"3.90.0",LOG_VERSION:"v390",BlendModes:r(10312),ScaleModes:r(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};s.exports=o}),69547:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(8054),c=r(42363),u=r(82264),l=r(95540),a=r(35154),d=r(41212),p=r(29747),h=r(75508),g=r(36060),m=r(80333),x=new o({initialize:function(C){C===void 0&&(C={});var E=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],T="#ffffff",S=a(C,"scale",null);this.width=a(S,"width",1024,C),this.height=a(S,"height",768,C),this.zoom=a(S,"zoom",1,C),this.parent=a(S,"parent",void 0,C),this.scaleMode=a(S,S?"mode":"scaleMode",0,C),this.expandParent=a(S,"expandParent",!0,C),this.autoRound=a(S,"autoRound",!1,C),this.autoCenter=a(S,"autoCenter",0,C),this.resizeInterval=a(S,"resizeInterval",500,C),this.fullscreenTarget=a(S,"fullscreenTarget",null,C),this.minWidth=a(S,"min.width",0,C),this.maxWidth=a(S,"max.width",0,C),this.minHeight=a(S,"min.height",0,C),this.maxHeight=a(S,"max.height",0,C),this.snapWidth=a(S,"snap.width",0,C),this.snapHeight=a(S,"snap.height",0,C),this.renderType=a(C,"type",v.AUTO),this.canvas=a(C,"canvas",null),this.context=a(C,"context",null),this.canvasStyle=a(C,"canvasStyle",null),this.customEnvironment=a(C,"customEnvironment",!1),this.sceneConfig=a(C,"scene",null),this.seed=a(C,"seed",[(Date.now()*Math.random()).toString()]),h.RND=new h.RandomDataGenerator(this.seed),this.gameTitle=a(C,"title",""),this.gameURL=a(C,"url","https://phaser.io/"+v.LOG_VERSION),this.gameVersion=a(C,"version",""),this.autoFocus=a(C,"autoFocus",!0),this.stableSort=a(C,"stableSort",-1),this.stableSort===-1&&(this.stableSort=u.browser.es2019?1:0),u.features.stableSort=this.stableSort,this.domCreateContainer=a(C,"dom.createContainer",!1),this.domPointerEvents=a(C,"dom.pointerEvents","none"),this.inputKeyboard=a(C,"input.keyboard",!0),this.inputKeyboardEventTarget=a(C,"input.keyboard.target",window),this.inputKeyboardCapture=a(C,"input.keyboard.capture",[]),this.inputMouse=a(C,"input.mouse",!0),this.inputMouseEventTarget=a(C,"input.mouse.target",null),this.inputMousePreventDefaultDown=a(C,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=a(C,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=a(C,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=a(C,"input.mouse.preventDefaultWheel",!0),this.inputTouch=a(C,"input.touch",u.input.touch),this.inputTouchEventTarget=a(C,"input.touch.target",null),this.inputTouchCapture=a(C,"input.touch.capture",!0),this.inputActivePointers=a(C,"input.activePointers",1),this.inputSmoothFactor=a(C,"input.smoothFactor",0),this.inputWindowEvents=a(C,"input.windowEvents",!0),this.inputGamepad=a(C,"input.gamepad",!1),this.inputGamepadEventTarget=a(C,"input.gamepad.target",window),this.disableContextMenu=a(C,"disableContextMenu",!1),this.audio=a(C,"audio",{}),this.hideBanner=a(C,"banner",null)===!1,this.hidePhaser=a(C,"banner.hidePhaser",!1),this.bannerTextColor=a(C,"banner.text",T),this.bannerBackgroundColor=a(C,"banner.background",E),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=a(C,"fps",null),this.disablePreFX=a(C,"disablePreFX",!1),this.disablePostFX=a(C,"disablePostFX",!1);var A=a(C,"render",null);this.pipeline=a(A,"pipeline",null,C),this.autoMobilePipeline=a(A,"autoMobilePipeline",!0,C),this.defaultPipeline=a(A,"defaultPipeline",g.MULTI_PIPELINE,C),this.antialias=a(A,"antialias",!0,C),this.antialiasGL=a(A,"antialiasGL",!0,C),this.mipmapFilter=a(A,"mipmapFilter","",C),this.desynchronized=a(A,"desynchronized",!1,C),this.roundPixels=a(A,"roundPixels",!1,C),this.pixelArt=a(A,"pixelArt",this.zoom!==1,C),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=a(A,"transparent",!1,C),this.clearBeforeRender=a(A,"clearBeforeRender",!0,C),this.preserveDrawingBuffer=a(A,"preserveDrawingBuffer",!1,C),this.premultipliedAlpha=a(A,"premultipliedAlpha",!0,C),this.failIfMajorPerformanceCaveat=a(A,"failIfMajorPerformanceCaveat",!1,C),this.powerPreference=a(A,"powerPreference","default",C),this.batchSize=a(A,"batchSize",4096,C),this.maxTextures=a(A,"maxTextures",-1,C),this.maxLights=a(A,"maxLights",10,C);var P=a(C,"backgroundColor",0);this.backgroundColor=m(P),this.transparent&&(this.backgroundColor=m(0),this.backgroundColor.alpha=0),this.preBoot=a(C,"callbacks.preBoot",p),this.postBoot=a(C,"callbacks.postBoot",p),this.physics=a(C,"physics",{}),this.defaultPhysicsSystem=a(this.physics,"default",!1),this.loaderBaseURL=a(C,"loader.baseURL",""),this.loaderPath=a(C,"loader.path",""),this.loaderMaxParallelDownloads=a(C,"loader.maxParallelDownloads",u.os.android?6:32),this.loaderCrossOrigin=a(C,"loader.crossOrigin",void 0),this.loaderResponseType=a(C,"loader.responseType",""),this.loaderAsync=a(C,"loader.async",!0),this.loaderUser=a(C,"loader.user",""),this.loaderPassword=a(C,"loader.password",""),this.loaderTimeout=a(C,"loader.timeout",0),this.loaderMaxRetries=a(C,"loader.maxRetries",2),this.loaderWithCredentials=a(C,"loader.withCredentials",!1),this.loaderImageLoadType=a(C,"loader.imageLoadType","XHR"),this.loaderLocalScheme=a(C,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=a(C,"fx.glow.quality",.1),this.glowFXDistance=a(C,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var R=a(C,"plugins",null),L=c.DefaultScene;R&&(Array.isArray(R)?this.defaultPlugins=R:d(R)&&(this.installGlobalPlugins=l(R,"global",[]),this.installScenePlugins=l(R,"scene",[]),Array.isArray(R.default)?L=R.default:Array.isArray(R.defaultMerge)&&(L=L.concat(R.defaultMerge)))),this.defaultPlugins=L;var D="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=a(C,"images.default",D+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=a(C,"images.missing",D+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=a(C,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=v.WEBGL:window.FORCE_CANVAS&&(this.renderType=v.CANVAS))}});s.exports=x}),86054:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20623),v=r(27919),c=r(8054),u=r(89357),l=function(a){var d=a.config;if((d.customEnvironment||d.canvas)&&d.renderType===c.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!d.customEnvironment&&!d.canvas&&d.renderType!==c.HEADLESS)if(d.renderType===c.AUTO&&(d.renderType=u.webGL?c.WEBGL:c.CANVAS),d.renderType===c.WEBGL){if(!u.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(d.renderType===c.CANVAS){if(!u.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+d.renderType);d.antialias||v.disableSmoothing();var p=a.scale.baseSize,h=p.width,g=p.height;if(d.canvas?(a.canvas=d.canvas,a.canvas.width=h,a.canvas.height=g):a.canvas=v.create(a,h,g,d.renderType),d.canvasStyle&&(a.canvas.style=d.canvasStyle),d.antialias||o.setCrisp(a.canvas),d.renderType!==c.HEADLESS){var m,x;m=r(68627),x=r(74797),d.renderType===c.WEBGL?a.renderer=new x(a):(a.renderer=new m(a),a.context=a.renderer.gameContext)}};s.exports=l}),96391:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(8054),v=function(c){var u=c.config;if(!u.hideBanner){var l="WebGL";u.renderType===o.CANVAS?l="Canvas":u.renderType===o.HEADLESS&&(l="Headless");var a=u.audio,d=c.device.audio,p;if(d.webAudio&&!a.disableWebAudio?p="Web Audio":a.noAudio||!d.webAudio&&!d.audioData?p="No Audio":p="HTML5 Audio",c.device.browser.ie)window.console&&console.log("Phaser v"+o.VERSION+" / https://phaser.io");else{var h="",g=[h];if(Array.isArray(u.bannerBackgroundColor)){var m;u.bannerBackgroundColor.forEach(function(w){h=h.concat("%c "),g.push("background: "+w),m=w}),g[g.length-1]="color: "+u.bannerTextColor+"; background: "+m}else h=h.concat("%c "),g.push("color: "+u.bannerTextColor+"; background: "+u.bannerBackgroundColor);g.push("background: transparent"),u.gameTitle&&(h=h.concat(u.gameTitle),u.gameVersion&&(h=h.concat(" v"+u.gameVersion)),u.hidePhaser||(h=h.concat(" / ")));var x="";u.hidePhaser||(h=h.concat("Phaser v"+o.VERSION+x+" ("+l+" | "+p+")")),h=h.concat(" %c "+u.gameURL),g[0]=h,console.log.apply(console,g)}}};s.exports=v}),50127:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(40366),v=r(60848),c=r(24047),u=r(27919),l=r(83419),a=r(69547),d=r(83719),p=r(86054),h=r(45893),g=r(96391),m=r(82264),x=r(57264),w=r(50792),C=r(8443),E=r(7003),T=r(37277),S=r(77332),A=r(76531),P=r(60903),R=r(69442),L=r(17130),D=r(65898),F=r(51085),$=r(14747),N=new l({initialize:function(j){this.config=new a(j),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new w,this.anims=new v(this),this.textures=new L(this),this.cache=new c(this),this.registry=new h(this,new w),this.input=new E(this,this.config),this.scene=new P(this,this.config.sceneConfig),this.device=m,this.scale=new A(this,this.config),this.sound=null,this.sound=$.create(this),this.loop=new D(this,this.config.fps),this.plugins=new S(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,x(this.boot.bind(this))},boot:function(){if(!T.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),p(this),d(this),g(this),o(this.canvas,this.config.parent),this.textures.once(R.READY,this.texturesReady,this),this.events.emit(C.BOOT)},texturesReady:function(){this.events.emit(C.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),F(this);var k=this.events;k.on(C.HIDDEN,this.onHidden,this),k.on(C.VISIBLE,this.onVisible,this),k.on(C.BLUR,this.onBlur,this),k.on(C.FOCUS,this.onFocus,this)},step:function(k,j){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var W=this.events;W.emit(C.PRE_STEP,k,j),W.emit(C.STEP,k,j),this.scene.update(k,j),W.emit(C.POST_STEP,k,j);var G=this.renderer;G.preRender(),W.emit(C.PRE_RENDER,G,k,j),this.scene.render(G),G.postRender(),W.emit(C.POST_RENDER,G,k,j)}},headlessStep:function(k,j){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var W=this.events;W.emit(C.PRE_STEP,k,j),W.emit(C.STEP,k,j),this.scene.update(k,j),W.emit(C.POST_STEP,k,j),this.scene.isProcessing=!1,W.emit(C.PRE_RENDER,null,k,j),W.emit(C.POST_RENDER,null,k,j)}},onHidden:function(){this.loop.pause(),this.events.emit(C.PAUSE)},pause:function(){var k=this.isPaused;this.isPaused=!0,k||this.events.emit(C.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(C.RESUME,this.loop.pauseDuration)},resume:function(){var k=this.isPaused;this.isPaused=!1,k&&this.events.emit(C.RESUME,0)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(k,j){j===void 0&&(j=!1),this.pendingDestroy=!0,this.removeCanvas=k,this.noReturn=j},runDestroy:function(){this.scene.destroy(),this.events.emit(C.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(u.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});s.exports=N}),65898:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(35154),c=r(29747),u=r(43092),l=new o({initialize:function(d,p){this.game=d,this.raf=new u,this.started=!1,this.running=!1,this.minFps=v(p,"min",5),this.targetFps=v(p,"target",60),this.fpsLimit=v(p,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=c,this.forceSetTimeOut=v(p,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=v(p,"deltaHistory",10),this.panicMax=v(p,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=v(p,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},resetDelta:function(){var a=window.performance.now();this.time=a,this.lastTime=a,this.nextFpsUpdate=a+1e3,this.framesThisSecond=0;for(var d=0;d<this.deltaSmoothingMax;d++)this.deltaHistory[d]=Math.min(this._target,this.deltaHistory[d]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(a){if(this.started)return this;this.started=!0,this.running=!0;for(var d=0;d<this.deltaSmoothingMax;d++)this.deltaHistory[d]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=a;var p=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(p,this.forceSetTimeOut,this._target)},smoothDelta:function(a){var d=this.deltaIndex,p=this.deltaHistory,h=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,a=Math.min(a,this._target)),a>this._min&&(a=p[d],a=Math.min(a,this._min)),p[d]=a,this.deltaIndex++,this.deltaIndex>=h&&(this.deltaIndex=0);for(var g=0,m=0;m<h;m++)g+=p[m];return g/=h,g},updateFPS:function(a){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=a+1e3,this.framesThisSecond=0},stepLimitFPS:function(a){this.now=a;var d=Math.max(0,a-this.lastTime);this.rawDelta=d,this.time+=this.rawDelta,this.smoothStep&&(d=this.smoothDelta(d)),this.delta+=d,a>=this.nextFpsUpdate&&this.updateFPS(a),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(a,this.delta),this.delta=0),this.lastTime=a,this.frame++},step:function(a){this.now=a;var d=Math.max(0,a-this.lastTime);this.rawDelta=d,this.time+=this.rawDelta,this.smoothStep&&(d=this.smoothDelta(d)),this.delta=d,a>=this.nextFpsUpdate&&this.updateFPS(a),this.framesThisSecond++,this.callback(a,d),this.lastTime=a,this.frame++},tick:function(){var a=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(a):this.step(a)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(a){a===void 0&&(a=!1);var d=window.performance.now();if(!this.running){a&&(this.startTime+=-this.lastTime+(this.lastTime+d));var p=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(p,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=d+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});s.exports=l}),51085:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(8443),v=function(c){var u,l=c.events;if(document.hidden!==void 0)u="visibilitychange";else{var a=["webkit","moz","ms"];a.forEach(function(p){document[p+"Hidden"]!==void 0&&(document.hidden=function(){return document[p+"Hidden"]},u=p+"visibilitychange")})}var d=function(p){document.hidden||p.type==="pause"?l.emit(o.HIDDEN):l.emit(o.VISIBLE)};u&&document.addEventListener(u,d,!1),window.onblur=function(){l.emit(o.BLUR)},window.onfocus=function(){l.emit(o.FOCUS)},window.focus&&c.config.autoFocus&&window.focus()};s.exports=v}),97217:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="blur"}),47548:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="boot"}),19814:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="contextlost"}),68446:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="destroy"}),41700:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="focus"}),25432:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="hidden"}),65942:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pause"}),59211:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="postrender"}),47789:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="poststep"}),39066:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="prerender"}),460:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="prestep"}),16175:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="ready"}),42331:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="resume"}),11966:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="step"}),32969:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="systemready"}),94830:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="visible"}),8443:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={BLUR:r(97217),BOOT:r(47548),CONTEXT_LOST:r(19814),DESTROY:r(68446),FOCUS:r(41700),HIDDEN:r(25432),PAUSE:r(65942),POST_RENDER:r(59211),POST_STEP:r(47789),PRE_RENDER:r(39066),PRE_STEP:r(460),READY:r(16175),RESUME:r(42331),STEP:r(11966),SYSTEM_READY:r(32969),VISIBLE:r(94830)}}),42857:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Config:r(69547),CreateRenderer:r(86054),DebugHeader:r(96391),Events:r(8443),TimeStep:r(65898),VisibilityHandler:r(51085)}}),99584:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(5290),v=r(27919),c=r(35154),u=function(l){var a=c(l,"data",[]),d=c(l,"canvas",null),p=c(l,"palette",o),h=c(l,"pixelWidth",1),g=c(l,"pixelHeight",h),m=c(l,"resizeCanvas",!0),x=c(l,"clearCanvas",!0),w=c(l,"preRender",null),C=c(l,"postRender",null),E=Math.floor(Math.abs(a[0].length*h)),T=Math.floor(Math.abs(a.length*g));d||(d=v.create2D(this,E,T),m=!1,x=!1),m&&(d.width=E,d.height=T);var S=d.getContext("2d",{willReadFrequently:!0});x&&S.clearRect(0,0,E,T),w&&w(d,S);for(var A=0;A<a.length;A++)for(var P=a[A],R=0;R<P.length;R++){var L=P[R];L!=="."&&L!==" "&&(S.fillStyle=p[L],S.fillRect(R*h,A*g,h,g))}return C&&C(d,S),d};s.exports=u}),15822:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={GenerateTexture:r(99584),Palettes:r(57763)}}),5290:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}}),23816:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}}),9866:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}}),77552:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}}),92259:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}}),57763:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={ARNE16:r(5290),C64:r(23816),CGA:r(9866),JMP:r(77552),MSX:r(92259)}}),46728:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(36316),c=r(80021),u=r(26099),l=new o({Extends:c,initialize:function(d,p,h,g){c.call(this,"CubicBezierCurve"),Array.isArray(d)&&(g=new u(d[6],d[7]),h=new u(d[4],d[5]),p=new u(d[2],d[3]),d=new u(d[0],d[1])),this.p0=d,this.p1=p,this.p2=h,this.p3=g},getStartPoint:function(a){return a===void 0&&(a=new u),a.copy(this.p0)},getResolution:function(a){return a},getPoint:function(a,d){d===void 0&&(d=new u);var p=this.p0,h=this.p1,g=this.p2,m=this.p3;return d.set(v(a,p.x,h.x,g.x,m.x),v(a,p.y,h.y,g.y,m.y))},draw:function(a,d){d===void 0&&(d=32);var p=this.getPoints(d);a.beginPath(),a.moveTo(this.p0.x,this.p0.y);for(var h=1;h<p.length;h++)a.lineTo(p[h].x,p[h].y);return a.strokePath(),a},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});l.fromJSON=function(a){var d=a.points,p=new u(d[0],d[1]),h=new u(d[2],d[3]),g=new u(d[4],d[5]),m=new u(d[6],d[7]);return new l(p,h,g,m)},s.exports=l}),80021:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(19217),c=r(87841),u=r(26099),l=new o({initialize:function(d){this.type=d,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new u,this._tmpVec2B=new u},draw:function(a,d){return d===void 0&&(d=32),a.strokePoints(this.getPoints(d))},getBounds:function(a,d){a||(a=new c),d===void 0&&(d=16);var p=this.getLength();d>p&&(d=p/2);var h=Math.max(1,Math.round(p/d));return v(this.getSpacedPoints(h),a)},getDistancePoints:function(a){var d=this.getLength(),p=Math.max(1,d/a);return this.getSpacedPoints(p)},getEndPoint:function(a){return a===void 0&&(a=new u),this.getPointAt(1,a)},getLength:function(){var a=this.getLengths();return a[a.length-1]},getLengths:function(a){if(a===void 0&&(a=this.arcLengthDivisions),this.cacheArcLengths.length===a+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var d=[],p,h=this.getPoint(0,this._tmpVec2A),g=0;d.push(0);for(var m=1;m<=a;m++)p=this.getPoint(m/a,this._tmpVec2B),g+=p.distance(h),d.push(g),h.copy(p);return this.cacheArcLengths=d,d},getPointAt:function(a,d){var p=this.getUtoTmapping(a);return this.getPoint(p,d)},getPoints:function(a,d,p){p===void 0&&(p=[]),a||(d?a=this.getLength()/d:a=this.defaultDivisions);for(var h=0;h<=a;h++)p.push(this.getPoint(h/a));return p},getRandomPoint:function(a){return a===void 0&&(a=new u),this.getPoint(Math.random(),a)},getSpacedPoints:function(a,d,p){p===void 0&&(p=[]),a||(d?a=this.getLength()/d:a=this.defaultDivisions);for(var h=0;h<=a;h++){var g=this.getUtoTmapping(h/a,null,a);p.push(this.getPoint(g))}return p},getStartPoint:function(a){return a===void 0&&(a=new u),this.getPointAt(0,a)},getTangent:function(a,d){d===void 0&&(d=new u);var p=1e-4,h=a-p,g=a+p;return h<0&&(h=0),g>1&&(g=1),this.getPoint(h,this._tmpVec2A),this.getPoint(g,d),d.subtract(this._tmpVec2A).normalize()},getTangentAt:function(a,d){var p=this.getUtoTmapping(a);return this.getTangent(p,d)},getTFromDistance:function(a,d){return a<=0?0:this.getUtoTmapping(0,a,d)},getUtoTmapping:function(a,d,p){var h=this.getLengths(p),g=0,m=h.length,x;d?x=Math.min(d,h[m-1]):x=a*h[m-1];for(var w=0,C=m-1,E;w<=C;)if(g=Math.floor(w+(C-w)/2),E=h[g]-x,E<0)w=g+1;else if(E>0)C=g-1;else{C=g;break}if(g=C,h[g]===x)return g/(m-1);var T=h[g],S=h[g+1],A=S-T,P=(x-T)/A;return(g+P)/(m-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});s.exports=l}),73825:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(80021),c=r(39506),u=r(35154),l=r(43396),a=r(26099),d=new o({Extends:v,initialize:function(h,g,m,x,w,C,E,T){if(typeof h=="object"){var S=h;h=u(S,"x",0),g=u(S,"y",0),m=u(S,"xRadius",0),x=u(S,"yRadius",m),w=u(S,"startAngle",0),C=u(S,"endAngle",360),E=u(S,"clockwise",!1),T=u(S,"rotation",0)}else x===void 0&&(x=m),w===void 0&&(w=0),C===void 0&&(C=360),E===void 0&&(E=!1),T===void 0&&(T=0);v.call(this,"EllipseCurve"),this.p0=new a(h,g),this._xRadius=m,this._yRadius=x,this._startAngle=c(w),this._endAngle=c(C),this._clockwise=E,this._rotation=c(T)},getStartPoint:function(p){return p===void 0&&(p=new a),this.getPoint(0,p)},getResolution:function(p){return p*2},getPoint:function(p,h){h===void 0&&(h=new a);for(var g=Math.PI*2,m=this._endAngle-this._startAngle,x=Math.abs(m)<Number.EPSILON;m<0;)m+=g;for(;m>g;)m-=g;m<Number.EPSILON&&(x?m=0:m=g),this._clockwise&&!x&&(m===g?m=-g:m=m-g);var w=this._startAngle+p*m,C=this.p0.x+this._xRadius*Math.cos(w),E=this.p0.y+this._yRadius*Math.sin(w);if(this._rotation!==0){var T=Math.cos(this._rotation),S=Math.sin(this._rotation),A=C-this.p0.x,P=E-this.p0.y;C=A*T-P*S+this.p0.x,E=A*S+P*T+this.p0.y}return h.set(C,E)},setXRadius:function(p){return this.xRadius=p,this},setYRadius:function(p){return this.yRadius=p,this},setWidth:function(p){return this.xRadius=p/2,this},setHeight:function(p){return this.yRadius=p/2,this},setStartAngle:function(p){return this.startAngle=p,this},setEndAngle:function(p){return this.endAngle=p,this},setClockwise:function(p){return this.clockwise=p,this},setRotation:function(p){return this.rotation=p,this},x:{get:function(){return this.p0.x},set:function(p){this.p0.x=p}},y:{get:function(){return this.p0.y},set:function(p){this.p0.y=p}},xRadius:{get:function(){return this._xRadius},set:function(p){this._xRadius=p}},yRadius:{get:function(){return this._yRadius},set:function(p){this._yRadius=p}},startAngle:{get:function(){return l(this._startAngle)},set:function(p){this._startAngle=c(p)}},endAngle:{get:function(){return l(this._endAngle)},set:function(p){this._endAngle=c(p)}},clockwise:{get:function(){return this._clockwise},set:function(p){this._clockwise=p}},angle:{get:function(){return l(this._rotation)},set:function(p){this._rotation=c(p)}},rotation:{get:function(){return this._rotation},set:function(p){this._rotation=p}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:l(this._startAngle),endAngle:l(this._endAngle),clockwise:this._clockwise,rotation:l(this._rotation)}}});d.fromJSON=function(p){return new d(p)},s.exports=d}),33951:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(80021),c=r(19217),u=r(87841),l=r(26099),a=new o({Extends:v,initialize:function(p,h){v.call(this,"LineCurve"),Array.isArray(p)&&(h=new l(p[2],p[3]),p=new l(p[0],p[1])),this.p0=p,this.p1=h,this.arcLengthDivisions=1},getBounds:function(d){return d===void 0&&(d=new u),c([this.p0,this.p1],d)},getStartPoint:function(d){return d===void 0&&(d=new l),d.copy(this.p0)},getResolution:function(d){return d===void 0&&(d=1),d},getPoint:function(d,p){return p===void 0&&(p=new l),d===1?p.copy(this.p1):(p.copy(this.p1).subtract(this.p0).scale(d).add(this.p0),p)},getPointAt:function(d,p){return this.getPoint(d,p)},getTangent:function(d,p){return p===void 0&&(p=new l),p.copy(this.p1).subtract(this.p0).normalize(),p},getUtoTmapping:function(d,p,h){var g;if(p){var m=this.getLengths(h),x=m[m.length-1],w=Math.min(p,x);g=w/x}else g=d;return g},draw:function(d){return d.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),d},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});a.fromJSON=function(d){var p=d.points,h=new l(p[0],p[1]),g=new l(p[2],p[3]);return new a(h,g)},s.exports=a}),14744:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(80021),c=r(32112),u=r(26099),l=new o({Extends:v,initialize:function(d,p,h){v.call(this,"QuadraticBezierCurve"),Array.isArray(d)&&(h=new u(d[4],d[5]),p=new u(d[2],d[3]),d=new u(d[0],d[1])),this.p0=d,this.p1=p,this.p2=h},getStartPoint:function(a){return a===void 0&&(a=new u),a.copy(this.p0)},getResolution:function(a){return a},getPoint:function(a,d){d===void 0&&(d=new u);var p=this.p0,h=this.p1,g=this.p2;return d.set(c(a,p.x,h.x,g.x),c(a,p.y,h.y,g.y))},draw:function(a,d){d===void 0&&(d=32);var p=this.getPoints(d);a.beginPath(),a.moveTo(this.p0.x,this.p0.y);for(var h=1;h<p.length;h++)a.lineTo(p[h].x,p[h].y);return a.strokePath(),a},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});l.fromJSON=function(a){var d=a.points,p=new u(d[0],d[1]),h=new u(d[2],d[3]),g=new u(d[4],d[5]);return new l(p,h,g)},s.exports=l}),42534:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87842),v=r(83419),c=r(80021),u=r(26099),l=new v({Extends:c,initialize:function(d){d===void 0&&(d=[]),c.call(this,"SplineCurve"),this.points=[],this.addPoints(d)},addPoints:function(a){for(var d=0;d<a.length;d++){var p=new u;typeof a[d]=="number"?(p.x=a[d],p.y=a[d+1],d++):Array.isArray(a[d])?(p.x=a[d][0],p.y=a[d][1]):(p.x=a[d].x,p.y=a[d].y),this.points.push(p)}return this},addPoint:function(a,d){var p=new u(a,d);return this.points.push(p),p},getStartPoint:function(a){return a===void 0&&(a=new u),a.copy(this.points[0])},getResolution:function(a){return a*this.points.length},getPoint:function(a,d){d===void 0&&(d=new u);var p=this.points,h=(p.length-1)*a,g=Math.floor(h),m=h-g,x=p[g===0?g:g-1],w=p[g],C=p[g>p.length-2?p.length-1:g+1],E=p[g>p.length-3?p.length-1:g+2];return d.set(o(m,x.x,w.x,C.x,E.x),o(m,x.y,w.y,C.y,E.y))},toJSON:function(){for(var a=[],d=0;d<this.points.length;d++)a.push(this.points[d].x),a.push(this.points[d].y);return{type:this.type,points:a}}});l.fromJSON=function(a){return new l(a.points)},s.exports=l}),25410:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Path:r(46669),MoveTo:r(68618),CubicBezier:r(46728),Curve:r(80021),Ellipse:r(73825),Line:r(33951),QuadraticBezier:r(14744),Spline:r(42534)}}),68618:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(26099),c=new o({initialize:function(l,a){this.active=!1,this.p0=new v(l,a)},getPoint:function(u,l){return l===void 0&&(l=new v),l.copy(this.p0)},getPointAt:function(u,l){return this.getPoint(u,l)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});s.exports=c}),46669:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(46728),c=r(73825),u=r(39429),l=r(33951),a=r(68618),d=r(14744),p=r(87841),h=r(42534),g=r(26099),m=r(36383),x=new o({initialize:function(C,E){C===void 0&&(C=0),E===void 0&&(E=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new g,this._tmpVec2A=new g,this._tmpVec2B=new g,typeof C=="object"?this.fromJSON(C):this.startPoint.set(C,E)},add:function(w){return this.curves.push(w),this},circleTo:function(w,C,E){return C===void 0&&(C=!1),this.ellipseTo(w,w,0,360,C,E)},closePath:function(){var w=this.curves[0].getPoint(0),C=this.curves[this.curves.length-1].getPoint(1);return w.equals(C)||this.curves.push(new l(C,w)),this},cubicBezierTo:function(w,C,E,T,S,A){var P=this.getEndPoint(),R,L,D;return w instanceof g?(R=w,L=C,D=E):(R=new g(E,T),L=new g(S,A),D=new g(w,C)),this.add(new v(P,R,L,D))},quadraticBezierTo:function(w,C,E,T){var S=this.getEndPoint(),A,P;return w instanceof g?(A=w,P=C):(A=new g(E,T),P=new g(w,C)),this.add(new d(S,A,P))},draw:function(w,C){for(var E=0;E<this.curves.length;E++){var T=this.curves[E];T.active&&T.draw(w,C)}return w},ellipseTo:function(w,C,E,T,S,A){var P=new c(0,0,w,C,E,T,S,A),R=this.getEndPoint(this._tmpVec2A),L=P.getStartPoint(this._tmpVec2B);return R.subtract(L),P.x=R.x,P.y=R.y,this.add(P)},fromJSON:function(w){this.curves=[],this.cacheLengths=[],this.startPoint.set(w.x,w.y),this.autoClose=w.autoClose;for(var C=0;C<w.curves.length;C++){var E=w.curves[C];switch(E.type){case"LineCurve":this.add(l.fromJSON(E));break;case"EllipseCurve":this.add(c.fromJSON(E));break;case"SplineCurve":this.add(h.fromJSON(E));break;case"CubicBezierCurve":this.add(v.fromJSON(E));break;case"QuadraticBezierCurve":this.add(d.fromJSON(E));break}}return this},getBounds:function(w,C){w===void 0&&(w=new p),C===void 0&&(C=16),w.x=Number.MAX_VALUE,w.y=Number.MAX_VALUE;for(var E=new p,T=m.MIN_SAFE_INTEGER,S=m.MIN_SAFE_INTEGER,A=0;A<this.curves.length;A++){var P=this.curves[A];P.active&&(P.getBounds(E,C),w.x=Math.min(w.x,E.x),w.y=Math.min(w.y,E.y),T=Math.max(T,E.right),S=Math.max(S,E.bottom))}return w.right=T,w.bottom=S,w},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var w=[],C=0,E=0;E<this.curves.length;E++)C+=this.curves[E].getLength(),w.push(C);return this.cacheLengths=w,w},getCurveAt:function(w){for(var C=w*this.getLength(),E=this.getCurveLengths(),T=0;T<E.length;){if(E[T]>=C)return this.curves[T];T++}return null},getEndPoint:function(w){return w===void 0&&(w=new g),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,w):w.copy(this.startPoint),w},getLength:function(){var w=this.getCurveLengths();return w[w.length-1]},getPoint:function(w,C){C===void 0&&(C=new g);for(var E=w*this.getLength(),T=this.getCurveLengths(),S=0;S<T.length;){if(T[S]>=E){var A=T[S]-E,P=this.curves[S],R=P.getLength(),L=R===0?0:1-A/R;return P.getPointAt(L,C)}S++}return null},getPoints:function(w,C){!w&&!C&&(w=this.defaultDivisions);for(var E=[],T,S=0;S<this.curves.length;S++){var A=this.curves[S];if(A.active)for(var P=A.getResolution(w),R=A.getPoints(P,C),L=0;L<R.length;L++){var D=R[L];T&&T.equals(D)||(E.push(D),T=D)}}return this.autoClose&&E.length>1&&!E[E.length-1].equals(E[0])&&E.push(E[0]),E},getRandomPoint:function(w){return w===void 0&&(w=new g),this.getPoint(Math.random(),w)},getSpacedPoints:function(w){w===void 0&&(w=40);for(var C=[],E=0;E<=w;E++)C.push(this.getPoint(E/w));return this.autoClose&&C.push(C[0]),C},getStartPoint:function(w){return w===void 0&&(w=new g),w.copy(this.startPoint)},getTangent:function(w,C){C===void 0&&(C=new g);for(var E=w*this.getLength(),T=this.getCurveLengths(),S=0;S<T.length;){if(T[S]>=E){var A=T[S]-E,P=this.curves[S],R=P.getLength(),L=R===0?0:1-A/R;return P.getTangentAt(L,C)}S++}return null},lineTo:function(w,C){w instanceof g?this._tmpVec2B.copy(w):typeof w=="object"?this._tmpVec2B.setFromObject(w):this._tmpVec2B.set(w,C);var E=this.getEndPoint(this._tmpVec2A);return this.add(new l([E.x,E.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(w){return w.unshift(this.getEndPoint()),this.add(new h(w))},moveTo:function(w,C){return w instanceof g?this.add(new a(w.x,w.y)):this.add(new a(w,C))},toJSON:function(){for(var w=[],C=0;C<this.curves.length;C++)w.push(this.curves[C].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:w}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});u.register("path",function(w,C){return new x(w,C)}),s.exports=x}),45893:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(24882),c=new o({initialize:function(l,a){this.parent=l,this.events=a,a||(this.events=l.events?l.events:l),this.list={},this.values={},this._frozen=!1,!l.hasOwnProperty("sys")&&this.events&&this.events.once(v.DESTROY,this.destroy,this)},get:function(u){var l=this.list;if(Array.isArray(u)){for(var a=[],d=0;d<u.length;d++)a.push(l[u[d]]);return a}else return l[u]},getAll:function(){var u={};for(var l in this.list)this.list.hasOwnProperty(l)&&(u[l]=this.list[l]);return u},query:function(u){var l={};for(var a in this.list)this.list.hasOwnProperty(a)&&a.match(u)&&(l[a]=this.list[a]);return l},set:function(u,l){if(this._frozen)return this;if(typeof u=="string")return this.setValue(u,l);for(var a in u)this.setValue(a,u[a]);return this},inc:function(u,l){if(this._frozen)return this;l===void 0&&(l=1);var a=this.get(u);return a===void 0&&(a=0),this.set(u,a+l),this},toggle:function(u){return this._frozen?this:(this.set(u,!this.get(u)),this)},setValue:function(u,l){if(this._frozen)return this;if(this.has(u))this.values[u]=l;else{var a=this,d=this.list,p=this.events,h=this.parent;Object.defineProperty(this.values,u,{enumerable:!0,configurable:!0,get:function(){return d[u]},set:function(g){if(!a._frozen){var m=d[u];d[u]=g,p.emit(v.CHANGE_DATA,h,u,g,m),p.emit(v.CHANGE_DATA_KEY+u,h,g,m)}}}),d[u]=l,p.emit(v.SET_DATA,h,u,l)}return this},each:function(u,l){for(var a=[this.parent,null,void 0],d=1;d<arguments.length;d++)a.push(arguments[d]);for(var p in this.list)a[1]=p,a[2]=this.list[p],u.apply(l,a);return this},merge:function(u,l){l===void 0&&(l=!0);for(var a in u)u.hasOwnProperty(a)&&(l||!l&&!this.has(a))&&this.setValue(a,u[a]);return this},remove:function(u){if(this._frozen)return this;if(Array.isArray(u))for(var l=0;l<u.length;l++)this.removeValue(u[l]);else return this.removeValue(u);return this},removeValue:function(u){if(this.has(u)){var l=this.list[u];delete this.list[u],delete this.values[u],this.events.emit(v.REMOVE_DATA,this.parent,u,l)}return this},pop:function(u){var l=void 0;return!this._frozen&&this.has(u)&&(l=this.list[u],delete this.list[u],delete this.values[u],this.events.emit(v.REMOVE_DATA,this.parent,u,l)),l},has:function(u){return this.list.hasOwnProperty(u)},setFreeze:function(u){return this._frozen=u,this},reset:function(){for(var u in this.list)delete this.list[u],delete this.values[u];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(v.CHANGE_DATA),this.events.off(v.SET_DATA),this.events.off(v.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(u){this._frozen=!!u}},count:{get:function(){var u=0;for(var l in this.list)this.list[l]!==void 0&&u++;return u}}});s.exports=c}),63646:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(45893),c=r(37277),u=r(44594),l=new o({Extends:v,initialize:function(d){v.call(this,d,d.sys.events),this.scene=d,this.systems=d.sys,d.sys.events.once(u.BOOT,this.boot,this),d.sys.events.on(u.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(u.DESTROY,this.destroy,this)},start:function(){this.events.once(u.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(u.SHUTDOWN,this.shutdown,this)},destroy:function(){v.prototype.destroy.call(this),this.events.off(u.START,this.start,this),this.scene=null,this.systems=null}});c.register("DataManagerPlugin",l,"data"),s.exports=l}),10700:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="changedata"}),93608:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="changedata-"}),60883:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="destroy"}),69780:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="removedata"}),22166:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="setdata"}),24882:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={CHANGE_DATA:r(10700),CHANGE_DATA_KEY:r(93608),DESTROY:r(60883),REMOVE_DATA:r(69780),SET_DATA:r(22166)}}),44965:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={DataManager:r(45893),DataManagerPlugin:r(63646),Events:r(24882)}}),7098:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(84148),v={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function c(){if(typeof importScripts=="function")return v;v.audioData=!!window.Audio,v.webAudio=!!(window.AudioContext||window.webkitAudioContext);var u=document.createElement("audio"),l=!!u.canPlayType;try{if(l){var a=function(h,g){var m=u.canPlayType("audio/"+h).replace(/^no$/,"");return g?!!(m||u.canPlayType("audio/"+g).replace(/^no$/,"")):!!m};if(v.ogg=a('ogg; codecs="vorbis"'),v.opus=a('ogg; codecs="opus"',"opus"),v.mp3=a("mpeg"),v.wav=a("wav"),v.m4a=a("x-m4a"),v.aac=a("aac"),v.flac=a("flac","x-flac"),v.webm=a('webm; codecs="vorbis"'),u.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(o.edge)v.dolby=!0;else if(o.safari&&o.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var d=parseInt(RegExp.$1,10),p=parseInt(RegExp.$2,10);(d===10&&p>=11||d>10)&&(v.dolby=!0)}}}}catch{}return v}s.exports=c()}),84148:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25892),v={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function c(){var u=navigator.userAgent;return/Edg\/\d+/.test(u)?(v.edge=!0,v.es2019=!0):/OPR/.test(u)?(v.opera=!0,v.es2019=!0):/Chrome\/(\d+)/.test(u)&&!o.windowsPhone?(v.chrome=!0,v.chromeVersion=parseInt(RegExp.$1,10),v.es2019=v.chromeVersion>69):/Firefox\D+(\d+)/.test(u)?(v.firefox=!0,v.firefoxVersion=parseInt(RegExp.$1,10),v.es2019=v.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(u)&&o.iOS?(v.mobileSafari=!0,v.es2019=!0):/MSIE (\d+\.\d+);/.test(u)?(v.ie=!0,v.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(u)&&!o.windowsPhone?(v.safari=!0,v.safariVersion=parseInt(RegExp.$1,10),v.es2019=v.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(u)&&(v.ie=!0,v.trident=!0,v.tridentVersion=parseInt(RegExp.$1,10),v.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(u)&&(v.silk=!0),v}s.exports=c()}),89289:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(27919),v={supportInverseAlpha:!1,supportNewBlendModes:!1};function c(){var a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",d="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",p=new Image;return p.onload=function(){var h=new Image;h.onload=function(){var g=o.create2D(h,6),m=g.getContext("2d",{willReadFrequently:!0});if(m.globalCompositeOperation="multiply",m.drawImage(p,0,0),m.drawImage(h,2,0),!m.getImageData(2,0,1,1))return!1;var x=m.getImageData(2,0,1,1).data;o.remove(h),v.supportNewBlendModes=x[0]===255&&x[1]===0&&x[2]===0},h.src=a+"/wCKxvRF"+d},p.src=a+"AP804Oa6"+d,!1}function u(){var a=o.create2D(this,2),d=a.getContext("2d",{willReadFrequently:!0});d.fillStyle="rgba(10, 20, 30, 0.5)",d.fillRect(0,0,1,1);var p=d.getImageData(0,0,1,1);if(p===null)return!1;d.putImageData(p,1,0);var h=d.getImageData(1,0,1,1),g=h.data[0]===p.data[0]&&h.data[1]===p.data[1]&&h.data[2]===p.data[2]&&h.data[3]===p.data[3];return o.remove(this),g}function l(){return typeof importScripts!="function"&&document!==void 0&&(v.supportNewBlendModes=c(),v.supportInverseAlpha=u()),v}s.exports=l()}),89357:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25892),v=r(84148),c=r(27919),u={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function l(){var d=new ArrayBuffer(4),p=new Uint8Array(d),h=new Uint32Array(d);return p[0]=161,p[1]=178,p[2]=195,p[3]=212,h[0]===3569595041?!0:h[0]===2712847316?!1:null}function a(){if(typeof importScripts=="function")return u;u.canvas=!!window.CanvasRenderingContext2D;try{u.localStorage=!!localStorage.getItem}catch{u.localStorage=!1}u.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,u.fileSystem=!!window.requestFileSystem;var d=!1,p=function(){if(window.WebGLRenderingContext)try{var h=c.createWebGL(this),g=h.getContext("webgl")||h.getContext("experimental-webgl"),m=c.create2D(this),x=m.getContext("2d",{willReadFrequently:!0}),w=x.createImageData(1,1);return d=w.data instanceof Uint8ClampedArray,c.remove(h),c.remove(m),!!g}catch{return!1}return!1};return u.webGL=p(),u.worker=!!window.Worker,u.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,u.getUserMedia=u.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,v.firefox&&v.firefoxVersion<21&&(u.getUserMedia=!1),!o.iOS&&(v.ie||v.firefox||v.chrome)&&(u.canvasBitBltShift=!0),(v.safari||v.mobileSafari)&&(u.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(u.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(u.littleEndian=l()),u.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&u.littleEndian!==null&&d,u}s.exports=a()}),91639:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={available:!1,cancel:"",keyboard:!1,request:""};function r(){if(typeof importScripts=="function")return y;var o,v="Fullscreen",c="FullScreen",u=["request"+v,"request"+c,"webkitRequest"+v,"webkitRequest"+c,"msRequest"+v,"msRequest"+c,"mozRequest"+c,"mozRequest"+v];for(o=0;o<u.length;o++)if(document.documentElement[u[o]]){y.available=!0,y.request=u[o];break}var l=["cancel"+c,"exit"+v,"webkitCancel"+c,"webkitExit"+v,"msCancel"+c,"msExit"+v,"mozCancel"+c,"mozExit"+v];if(y.available){for(o=0;o<l.length;o++)if(document[l[o]]){y.cancel=l[o];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(y.keyboard=!0),Object.defineProperty(y,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),y}s.exports=r()}),31784:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(84148),v={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function c(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(v.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(v.mspointer=!0),navigator.getGamepads&&(v.gamepads=!0),"onwheel"in window||o.ie&&"WheelEvent"in window?v.wheelEvent="wheel":"onmousewheel"in window?v.wheelEvent="mousewheel":o.firefox&&"MouseScrollEvent"in window&&(v.wheelEvent="DOMMouseScroll")),v}s.exports=c()}),25892:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function r(){if(typeof importScripts=="function")return y;var o=navigator.userAgent;/Windows/.test(o)?y.windows=!0:/Mac OS/.test(o)&&!/like Mac OS/.test(o)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(y.iOS=!0,y.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),y.iOSVersion=parseInt(RegExp.$1,10)):y.macOS=!0:/Android/.test(o)?y.android=!0:/Linux/.test(o)?y.linux=!0:/iP[ao]d|iPhone/i.test(o)?(y.iOS=!0,navigator.appVersion.match(/OS (\d+)/),y.iOSVersion=parseInt(RegExp.$1,10),y.iPhone=o.toLowerCase().indexOf("iphone")!==-1,y.iPad=o.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(o)||/\bKF[A-Z][A-Z]+/.test(o)||/Silk.*Mobile Safari/.test(o)?y.kindle=!0:/CrOS/.test(o)&&(y.chromeOS=!0),(/Windows Phone/i.test(o)||/IEMobile/i.test(o))&&(y.android=!1,y.iOS=!1,y.macOS=!1,y.windows=!0,y.windowsPhone=!0);var v=/Silk/.test(o);return(y.windows||y.macOS||y.linux&&!v||y.chromeOS)&&(y.desktop=!0),(y.windowsPhone||/Windows NT/i.test(o)&&/Touch/i.test(o))&&(y.desktop=!1),navigator.standalone&&(y.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(y.cordova=!0),window.ejecta!==void 0&&(y.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(y.node=!0),y.node&&typeof process.versions=="object"&&(y.nodeWebkit=!!process.versions["node-webkit"],y.electron=!!process.versions.electron),/Crosswalk/.test(o)&&(y.crosswalk=!0),y.pixelRatio=window.devicePixelRatio||1,y}s.exports=r()}),43267:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95540),v={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function c(){if(typeof importScripts=="function")return v;var u=document.createElement("video"),l=!!u.canPlayType,a=/^no$/;try{l&&(u.canPlayType('video/ogg; codecs="theora"').replace(a,"")&&(v.ogg=!0),u.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(a,"")&&(v.h264=!0,v.mp4=!0),u.canPlayType("video/x-m4v").replace(a,"")&&(v.m4v=!0),u.canPlayType('video/webm; codecs="vp8, vorbis"').replace(a,"")&&(v.webm=!0),u.canPlayType('video/webm; codecs="vp9"').replace(a,"")&&(v.vp9=!0),u.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(a,"")&&(v.hls=!0))}catch{}return u.parentNode&&u.parentNode.removeChild(u),v.getVideoURL=function(d){Array.isArray(d)||(d=[d]);for(var p=0;p<d.length;p++){var h=o(d[p],"url",d[p]);if(h.indexOf("blob:")===0)return{url:h,type:""};var g;if(h.indexOf("data:")===0?g=h.split(",")[0].match(/\/(.*?);/):g=h.match(/\.([a-zA-Z0-9]+)($|\?)/),g=o(d[p],"type",g?g[1]:"").toLowerCase(),v[g])return{url:h,type:g}}return null},v}s.exports=c()}),82264:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={os:r(25892),browser:r(84148),features:r(89357),input:r(31784),audio:r(7098),video:r(43267),fullscreen:r(91639),canvasFeatures:r(89289)}}),89422:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=new Float32Array(20),c=new o({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(u){return this._matrix.set(u),this._dirty=!0,this},reset:function(){var u=this._matrix;return u.fill(0),u[0]=1,u[6]=1,u[12]=1,u[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var u=this._data;return this._dirty&&(u.set(this._matrix),u[4]/=255,u[9]/=255,u[14]/=255,u[19]/=255,this._dirty=!1),u},brightness:function(u,l){u===void 0&&(u=0),l===void 0&&(l=!1);var a=u;return this.multiply([a,0,0,0,0,0,a,0,0,0,0,0,a,0,0,0,0,0,1,0],l)},saturate:function(u,l){u===void 0&&(u=0),l===void 0&&(l=!1);var a=u*2/3+1,d=(a-1)*-.5;return this.multiply([a,d,d,0,0,d,a,d,0,0,d,d,a,0,0,0,0,0,1,0],l)},desaturate:function(u){return u===void 0&&(u=!1),this.saturate(-1,u)},hue:function(u,l){u===void 0&&(u=0),l===void 0&&(l=!1),u=u/180*Math.PI;var a=Math.cos(u),d=Math.sin(u),p=.213,h=.715,g=.072;return this.multiply([p+a*(1-p)+d*-p,h+a*-h+d*-h,g+a*-g+d*(1-g),0,0,p+a*-p+d*.143,h+a*(1-h)+d*.14,g+a*-g+d*-.283,0,0,p+a*-p+d*-.787,h+a*-h+d*h,g+a*(1-g)+d*g,0,0,0,0,0,1,0],l)},grayscale:function(u,l){return u===void 0&&(u=1),l===void 0&&(l=!1),this.saturate(-u,l)},blackWhite:function(u){return u===void 0&&(u=!1),this.multiply(c.BLACK_WHITE,u)},contrast:function(u,l){u===void 0&&(u=0),l===void 0&&(l=!1);var a=u+1,d=-.5*(a-1);return this.multiply([a,0,0,0,d,0,a,0,0,d,0,0,a,0,d,0,0,0,1,0],l)},negative:function(u){return u===void 0&&(u=!1),this.multiply(c.NEGATIVE,u)},desaturateLuminance:function(u){return u===void 0&&(u=!1),this.multiply(c.DESATURATE_LUMINANCE,u)},sepia:function(u){return u===void 0&&(u=!1),this.multiply(c.SEPIA,u)},night:function(u,l){return u===void 0&&(u=.1),l===void 0&&(l=!1),this.multiply([u*-2,-u,0,0,0,-u,0,u,0,0,0,u,u*2,0,0,0,0,0,1,0],l)},lsd:function(u){return u===void 0&&(u=!1),this.multiply(c.LSD,u)},brown:function(u){return u===void 0&&(u=!1),this.multiply(c.BROWN,u)},vintagePinhole:function(u){return u===void 0&&(u=!1),this.multiply(c.VINTAGE,u)},kodachrome:function(u){return u===void 0&&(u=!1),this.multiply(c.KODACHROME,u)},technicolor:function(u){return u===void 0&&(u=!1),this.multiply(c.TECHNICOLOR,u)},polaroid:function(u){return u===void 0&&(u=!1),this.multiply(c.POLAROID,u)},shiftToBGR:function(u){return u===void 0&&(u=!1),this.multiply(c.SHIFT_BGR,u)},multiply:function(u,l){l===void 0&&(l=!1),l||this.reset();var a=this._matrix,d=v;return d.set(a),a.set([d[0]*u[0]+d[1]*u[5]+d[2]*u[10]+d[3]*u[15],d[0]*u[1]+d[1]*u[6]+d[2]*u[11]+d[3]*u[16],d[0]*u[2]+d[1]*u[7]+d[2]*u[12]+d[3]*u[17],d[0]*u[3]+d[1]*u[8]+d[2]*u[13]+d[3]*u[18],d[0]*u[4]+d[1]*u[9]+d[2]*u[14]+d[3]*u[19]+d[4],d[5]*u[0]+d[6]*u[5]+d[7]*u[10]+d[8]*u[15],d[5]*u[1]+d[6]*u[6]+d[7]*u[11]+d[8]*u[16],d[5]*u[2]+d[6]*u[7]+d[7]*u[12]+d[8]*u[17],d[5]*u[3]+d[6]*u[8]+d[7]*u[13]+d[8]*u[18],d[5]*u[4]+d[6]*u[9]+d[7]*u[14]+d[8]*u[19]+d[9],d[10]*u[0]+d[11]*u[5]+d[12]*u[10]+d[13]*u[15],d[10]*u[1]+d[11]*u[6]+d[12]*u[11]+d[13]*u[16],d[10]*u[2]+d[11]*u[7]+d[12]*u[12]+d[13]*u[17],d[10]*u[3]+d[11]*u[8]+d[12]*u[13]+d[13]*u[18],d[10]*u[4]+d[11]*u[9]+d[12]*u[14]+d[13]*u[19]+d[14],d[15]*u[0]+d[16]*u[5]+d[17]*u[10]+d[18]*u[15],d[15]*u[1]+d[16]*u[6]+d[17]*u[11]+d[18]*u[16],d[15]*u[2]+d[16]*u[7]+d[17]*u[12]+d[18]*u[17],d[15]*u[3]+d[16]*u[8]+d[17]*u[13]+d[18]*u[18],d[15]*u[4]+d[16]*u[9]+d[17]*u[14]+d[18]*u[19]+d[19]]),this._dirty=!0,this}});c.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],c.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],c.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],c.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],c.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],c.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],c.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],c.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],c.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],c.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],c.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],s.exports=c}),51767:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(29747),c=new o({initialize:function(l,a,d){this._rgb=[0,0,0],this.onChangeCallback=v,this.dirty=!1,this.set(l,a,d)},set:function(u,l,a){return u===void 0&&(u=0),l===void 0&&(l=0),a===void 0&&(a=0),this._rgb=[u,l,a],this.onChange(),this},equals:function(u,l,a){var d=this._rgb;return d[0]===u&&d[1]===l&&d[2]===a},onChange:function(){this.dirty=!0;var u=this._rgb;this.onChangeCallback.call(this,u[0],u[1],u[2])},r:{get:function(){return this._rgb[0]},set:function(u){this._rgb[0]=u,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(u){this._rgb[1]=u,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(u){this._rgb[2]=u,this.onChange()}},destroy:function(){this.onChangeCallback=null}});s.exports=c}),60461:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};s.exports=y}),54312:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62235),v=r(35893),c=r(86327),u=r(88417),l=function(a,d,p,h){return p===void 0&&(p=0),h===void 0&&(h=0),u(a,v(d)+p),c(a,o(d)+h),a};s.exports=l}),46768:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62235),v=r(26541),c=r(86327),u=r(385),l=function(a,d,p,h){return p===void 0&&(p=0),h===void 0&&(h=0),u(a,v(d)-p),c(a,o(d)+h),a};s.exports=l}),35827:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62235),v=r(54380),c=r(86327),u=r(40136),l=function(a,d,p,h){return p===void 0&&(p=0),h===void 0&&(h=0),u(a,v(d)+p),c(a,o(d)+h),a};s.exports=l}),46871:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66786),v=r(35893),c=r(7702),u=function(l,a,d,p){return d===void 0&&(d=0),p===void 0&&(p=0),o(l,v(a)+d,c(a)+p),l};s.exports=u}),5198:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7702),v=r(26541),c=r(20786),u=r(385),l=function(a,d,p,h){return p===void 0&&(p=0),h===void 0&&(h=0),u(a,v(d)-p),c(a,o(d)+h),a};s.exports=l}),11879:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(60461),v=[];v[o.BOTTOM_CENTER]=r(54312),v[o.BOTTOM_LEFT]=r(46768),v[o.BOTTOM_RIGHT]=r(35827),v[o.CENTER]=r(46871),v[o.LEFT_CENTER]=r(5198),v[o.RIGHT_CENTER]=r(80503),v[o.TOP_CENTER]=r(89698),v[o.TOP_LEFT]=r(922),v[o.TOP_RIGHT]=r(21373),v[o.LEFT_BOTTOM]=v[o.BOTTOM_LEFT],v[o.LEFT_TOP]=v[o.TOP_LEFT],v[o.RIGHT_BOTTOM]=v[o.BOTTOM_RIGHT],v[o.RIGHT_TOP]=v[o.TOP_RIGHT];var c=function(u,l,a,d,p){return v[a](u,l,d,p)};s.exports=c}),80503:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7702),v=r(54380),c=r(20786),u=r(40136),l=function(a,d,p,h){return p===void 0&&(p=0),h===void 0&&(h=0),u(a,v(d)+p),c(a,o(d)+h),a};s.exports=l}),89698:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35893),v=r(17717),c=r(88417),u=r(66737),l=function(a,d,p,h){return p===void 0&&(p=0),h===void 0&&(h=0),c(a,o(d)+p),u(a,v(d)-h),a};s.exports=l}),922:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26541),v=r(17717),c=r(385),u=r(66737),l=function(a,d,p,h){return p===void 0&&(p=0),h===void 0&&(h=0),c(a,o(d)-p),u(a,v(d)-h),a};s.exports=l}),21373:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(54380),v=r(17717),c=r(40136),u=r(66737),l=function(a,d,p,h){return p===void 0&&(p=0),h===void 0&&(h=0),c(a,o(d)+p),u(a,v(d)-h),a};s.exports=l}),91660:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={BottomCenter:r(54312),BottomLeft:r(46768),BottomRight:r(35827),Center:r(46871),LeftCenter:r(5198),QuickSet:r(11879),RightCenter:r(80503),TopCenter:r(89698),TopLeft:r(922),TopRight:r(21373)}}),71926:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(60461),v=r(79291),c={In:r(91660),To:r(16694)};c=v(!1,c,o),s.exports=c}),21578:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62235),v=r(35893),c=r(88417),u=r(66737),l=function(a,d,p,h){return p===void 0&&(p=0),h===void 0&&(h=0),c(a,v(d)+p),u(a,o(d)+h),a};s.exports=l}),10210:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62235),v=r(26541),c=r(385),u=r(66737),l=function(a,d,p,h){return p===void 0&&(p=0),h===void 0&&(h=0),c(a,v(d)-p),u(a,o(d)+h),a};s.exports=l}),82341:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62235),v=r(54380),c=r(40136),u=r(66737),l=function(a,d,p,h){return p===void 0&&(p=0),h===void 0&&(h=0),c(a,v(d)+p),u(a,o(d)+h),a};s.exports=l}),87958:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62235),v=r(26541),c=r(86327),u=r(40136),l=function(a,d,p,h){return p===void 0&&(p=0),h===void 0&&(h=0),u(a,v(d)-p),c(a,o(d)+h),a};s.exports=l}),40080:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7702),v=r(26541),c=r(20786),u=r(40136),l=function(a,d,p,h){return p===void 0&&(p=0),h===void 0&&(h=0),u(a,v(d)-p),c(a,o(d)+h),a};s.exports=l}),88466:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26541),v=r(17717),c=r(40136),u=r(66737),l=function(a,d,p,h){return p===void 0&&(p=0),h===void 0&&(h=0),c(a,o(d)-p),u(a,v(d)-h),a};s.exports=l}),38829:((s,y,r)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(60461),v=[];v[o.BOTTOM_CENTER]=r(21578),v[o.BOTTOM_LEFT]=r(10210),v[o.BOTTOM_RIGHT]=r(82341),v[o.LEFT_BOTTOM]=r(87958),v[o.LEFT_CENTER]=r(40080),v[o.LEFT_TOP]=r(88466),v[o.RIGHT_BOTTOM]=r(19211),v[o.RIGHT_CENTER]=r(34609),v[o.RIGHT_TOP]=r(48741),v[o.TOP_CENTER]=r(49440),v[o.TOP_LEFT]=r(81288),v[o.TOP_RIGHT]=r(61323);var c=function(u,l,a,d,p){return v[a](u,l,d,p)};s.exports=c}),19211:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62235),v=r(54380),c=r(86327),u=r(385),l=function(a,d,p,h){return p===void 0&&(p=0),h===void 0&&(h=0),u(a,v(d)+p),c(a,o(d)+h),a};s.exports=l}),34609:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7702),v=r(54380),c=r(20786),u=r(385),l=function(a,d,p,h){return p===void 0&&(p=0),h===void 0&&(h=0),u(a,v(d)+p),c(a,o(d)+h),a};s.exports=l}),48741:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(54380),v=r(17717),c=r(385),u=r(66737),l=function(a,d,p,h){return p===void 0&&(p=0),h===void 0&&(h=0),c(a,o(d)+p),u(a,v(d)-h),a};s.exports=l}),49440:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35893),v=r(17717),c=r(86327),u=r(88417),l=function(a,d,p,h){return p===void 0&&(p=0),h===void 0&&(h=0),u(a,o(d)+p),c(a,v(d)-h),a};s.exports=l}),81288:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26541),v=r(17717),c=r(86327),u=r(385),l=function(a,d,p,h){return p===void 0&&(p=0),h===void 0&&(h=0),u(a,o(d)-p),c(a,v(d)-h),a};s.exports=l}),61323:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(54380),v=r(17717),c=r(86327),u=r(40136),l=function(a,d,p,h){return p===void 0&&(p=0),h===void 0&&(h=0),u(a,o(d)+p),c(a,v(d)-h),a};s.exports=l}),16694:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={BottomCenter:r(21578),BottomLeft:r(10210),BottomRight:r(82341),LeftBottom:r(87958),LeftCenter:r(40080),LeftTop:r(88466),QuickSet:r(38829),RightBottom:r(19211),RightCenter:r(34609),RightTop:r(48741),TopCenter:r(49440),TopLeft:r(81288),TopRight:r(61323)}}),66786:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(88417),v=r(20786),c=function(u,l,a){return o(u,l),v(u,a)};s.exports=c}),62235:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r.y+r.height-r.height*r.originY};s.exports=y}),72873:((s,y,r)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62235),v=r(26541),c=r(54380),u=r(17717),l=r(87841),a=function(d,p){p===void 0&&(p=new l);var h=v(d),g=u(d);return p.x=h,p.y=g,p.width=c(d)-h,p.height=o(d)-g,p};s.exports=a}),35893:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r.x-r.width*r.originX+r.width*.5};s.exports=y}),7702:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r.y-r.height*r.originY+r.height*.5};s.exports=y}),26541:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r.x-r.width*r.originX};s.exports=y}),87431:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r.width*r.originX};s.exports=y}),46928:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r.height*r.originY};s.exports=y}),54380:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r.x+r.width-r.width*r.originX};s.exports=y}),17717:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r.y-r.height*r.originY};s.exports=y}),86327:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return r.y=o-r.height+r.height*r.originY,r};s.exports=y}),88417:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){var v=r.width*r.originX;return r.x=o+v-r.width*.5,r};s.exports=y}),20786:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){var v=r.height*r.originY;return r.y=o+v-r.height*.5,r};s.exports=y}),385:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return r.x=o+r.width*r.originX,r};s.exports=y}),40136:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return r.x=o-r.width+r.width*r.originX,r};s.exports=y}),66737:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return r.y=o+r.height*r.originY,r};s.exports=y}),58724:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={CenterOn:r(66786),GetBottom:r(62235),GetBounds:r(72873),GetCenterX:r(35893),GetCenterY:r(7702),GetLeft:r(26541),GetOffsetX:r(87431),GetOffsetY:r(46928),GetRight:r(54380),GetTop:r(17717),SetBottom:r(86327),SetCenterX:r(88417),SetCenterY:r(20786),SetLeft:r(385),SetRight:r(40136),SetTop:r(66737)}}),20623:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setCrisp:function(r){var o=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return o.forEach(function(v){r.style["image-rendering"]=v}),r.style.msInterpolationMode="nearest-neighbor",r},setBicubic:function(r){return r.style["image-rendering"]="auto",r.style.msInterpolationMode="bicubic",r}};s.exports=y}),27919:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(8054),v=r(68703),c=[],u=!1,l=function(){var a=function(E,T,S,A,P){T===void 0&&(T=1),S===void 0&&(S=1),A===void 0&&(A=o.CANVAS),P===void 0&&(P=!1);var R,L=h(A);return L===null?(L={parent:E,canvas:document.createElement("canvas"),type:A},A===o.CANVAS&&c.push(L),R=L.canvas):(L.parent=E,R=L.canvas),P&&(L.parent=R),R.width=T,R.height=S,u&&A===o.CANVAS&&v.disable(R.getContext("2d",{willReadFrequently:!1})),R},d=function(E,T,S){return a(E,T,S,o.CANVAS)},p=function(E,T,S){return a(E,T,S,o.WEBGL)},h=function(E){if(E===void 0&&(E=o.CANVAS),E===o.WEBGL)return null;for(var T=0;T<c.length;T++){var S=c[T];if(!S.parent&&S.type===E)return S}return null},g=function(E){var T=E instanceof HTMLCanvasElement;c.forEach(function(S){(T&&S.canvas===E||!T&&S.parent===E)&&(S.parent=null,S.canvas.width=1,S.canvas.height=1)})},m=function(){var E=0;return c.forEach(function(T){T.parent&&E++}),E},x=function(){return c.length-m()},w=function(){u=!0},C=function(){u=!1};return{create2D:d,create:a,createWebGL:p,disableSmoothing:w,enableSmoothing:C,first:h,free:x,pool:c,remove:g,total:m}};s.exports=l()}),68703:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y="",r=function(){var o=function(l){for(var a=["i","webkitI","msI","mozI","oI"],d=0;d<a.length;d++){var p=a[d]+"mageSmoothingEnabled";if(p in l)return p}return null},v=function(l){return y===""&&(y=o(l)),y&&(l[y]=!0),l},c=function(l){return y===""&&(y=o(l)),y&&(l[y]=!1),l},u=function(l){return y!==null?l[y]:null};return{disable:c,enable:v,getPrefix:o,isEnabled:u}};s.exports=r()}),65208:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return o===void 0&&(o="none"),r.style.msTouchAction=o,r.style["ms-touch-action"]=o,r.style["touch-action"]=o,r};s.exports=y}),91610:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){o===void 0&&(o="none");var v=["-webkit-","-khtml-","-moz-","-ms-",""];return v.forEach(function(c){r.style[c+"user-select"]=o}),r.style["-webkit-touch-callout"]=o,r.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",r};s.exports=y}),26253:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={CanvasInterpolation:r(20623),CanvasPool:r(27919),Smoothing:r(68703),TouchAction:r(65208),UserSelect:r(91610)}}),40987:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(37589),c=r(1e3),u=r(7537),l=r(87837),a=new o({initialize:function(p,h,g,m){p===void 0&&(p=0),h===void 0&&(h=0),g===void 0&&(g=0),m===void 0&&(m=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(p,h,g,m)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(d,p,h,g,m){return g===void 0&&(g=255),m===void 0&&(m=!0),this._locked=!0,this.red=d,this.green=p,this.blue=h,this.alpha=g,this._locked=!1,this.update(m)},setGLTo:function(d,p,h,g){return g===void 0&&(g=1),this._locked=!0,this.redGL=d,this.greenGL=p,this.blueGL=h,this.alphaGL=g,this._locked=!1,this.update(!0)},setFromRGB:function(d){return this._locked=!0,this.red=d.r,this.green=d.g,this.blue=d.b,d.hasOwnProperty("a")&&(this.alpha=d.a),this._locked=!1,this.update(!0)},setFromHSV:function(d,p,h){return u(d,p,h,this)},update:function(d){if(d===void 0&&(d=!1),this._locked)return this;var p=this.r,h=this.g,g=this.b,m=this.a;return this._color=v(p,h,g),this._color32=c(p,h,g,m),this._rgba="rgba("+p+","+h+","+g+","+m/255+")",d&&l(p,h,g,this),this},updateHSV:function(){var d=this.r,p=this.g,h=this.b;return l(d,p,h,this),this},clone:function(){return new a(this.r,this.g,this.b,this.a)},gray:function(d){return this.setTo(d,d,d)},random:function(d,p){d===void 0&&(d=0),p===void 0&&(p=255);var h=Math.floor(d+Math.random()*(p-d)),g=Math.floor(d+Math.random()*(p-d)),m=Math.floor(d+Math.random()*(p-d));return this.setTo(h,g,m)},randomGray:function(d,p){d===void 0&&(d=0),p===void 0&&(p=255);var h=Math.floor(d+Math.random()*(p-d));return this.setTo(h,h,h)},saturate:function(d){return this.s+=d/100,this},desaturate:function(d){return this.s-=d/100,this},lighten:function(d){return this.v+=d/100,this},darken:function(d){return this.v-=d/100,this},brighten:function(d){var p=this.r,h=this.g,g=this.b;return p=Math.max(0,Math.min(255,p-Math.round(255*-(d/100)))),h=Math.max(0,Math.min(255,h-Math.round(255*-(d/100)))),g=Math.max(0,Math.min(255,g-Math.round(255*-(d/100)))),this.setTo(p,h,g)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(d){this.gl[0]=Math.min(Math.abs(d),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(d){this.gl[1]=Math.min(Math.abs(d),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(d){this.gl[2]=Math.min(Math.abs(d),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(d){this.gl[3]=Math.min(Math.abs(d),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(d){d=Math.floor(Math.abs(d)),this.r=Math.min(d,255),this.gl[0]=d/255,this.update(!0)}},green:{get:function(){return this.g},set:function(d){d=Math.floor(Math.abs(d)),this.g=Math.min(d,255),this.gl[1]=d/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(d){d=Math.floor(Math.abs(d)),this.b=Math.min(d,255),this.gl[2]=d/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(d){d=Math.floor(Math.abs(d)),this.a=Math.min(d,255),this.gl[3]=d/255,this.update()}},h:{get:function(){return this._h},set:function(d){this._h=d,u(d,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(d){this._s=d,u(this._h,d,this._v,this)}},v:{get:function(){return this._v},set:function(d){this._v=d,u(this._h,this._s,d,this)}}});s.exports=a}),92728:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37589),v=function(c){c===void 0&&(c=1024);var u=[],l=255,a,d=255,p=0,h=0;for(a=0;a<=l;a++)u.push({r:d,g:a,b:h,color:o(d,a,h)});for(p=255,a=l;a>=0;a--)u.push({r:a,g:p,b:h,color:o(a,p,h)});for(d=0,a=0;a<=l;a++,p--)u.push({r:d,g:p,b:a,color:o(d,p,a)});for(p=0,h=255,a=0;a<=l;a++,h--,d++)u.push({r:d,g:p,b:h,color:o(d,p,h)});if(c===1024)return u;var g=[],m=0,x=1024/c;for(a=0;a<c;a++)g.push(u[Math.floor(m)]),m+=x;return g};s.exports=v}),91588:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){var o={r:r>>16&255,g:r>>8&255,b:r&255,a:255};return r>16777215&&(o.a=r>>>24),o};s.exports=y}),62957:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){var o=r.toString(16);return o.length===1?"0"+o:o};s.exports=y}),37589:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){return r<<16|o<<8|v};s.exports=y}),1e3:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c){return c<<24|r<<16|o<<8|v};s.exports=y}),62183:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(40987),v=r(89528),c=function(u,l,a){var d=a,p=a,h=a;if(l!==0){var g=a<.5?a*(1+l):a+l-a*l,m=2*a-g;d=v(m,g,u+1/3),p=v(m,g,u),h=v(m,g,u-1/3)}var x=new o;return x.setGLTo(d,p,h,1)};s.exports=c}),27939:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7537),v=function(c,u){c===void 0&&(c=1),u===void 0&&(u=1);for(var l=[],a=0;a<=359;a++)l.push(o(a/359,c,u));return l};s.exports=v}),7537:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37589);function v(u,l,a,d){var p=(u+l*6)%6,h=Math.min(p,4-p,1);return Math.round(255*(d-d*a*Math.max(0,h)))}var c=function(u,l,a,d){l===void 0&&(l=1),a===void 0&&(a=1);var p=v(5,u,l,a),h=v(3,u,l,a),g=v(1,u,l,a);return d?d.setTo?d.setTo(p,h,g,d.alpha,!0):(d.r=p,d.g=h,d.b=g,d.color=o(p,h,g),d):{r:p,g:h,b:g,color:o(p,h,g)}};s.exports=c}),70238:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(40987),v=function(c){var u=new o;c=c.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(h,g,m,x){return g+g+m+m+x+x});var l=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(c);if(l){var a=parseInt(l[1],16),d=parseInt(l[2],16),p=parseInt(l[3],16);u.setTo(a,d,p)}return u};s.exports=v}),89528:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){return v<0&&(v+=1),v>1&&(v-=1),v<.16666666666666666?r+(o-r)*6*v:v<.5?o:v<.6666666666666666?r+(o-r)*(.6666666666666666-v)*6:r};s.exports=y}),30100:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(40987),v=r(90664),c=function(u){var l=v(u);return new o(l.r,l.g,l.b,l.a)};s.exports=c}),90664:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r>16777215?{a:r>>>24,r:r>>16&255,g:r>>8&255,b:r&255}:{a:255,r:r>>16&255,g:r>>8&255,b:r&255}};s.exports=y}),13699:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(28915),v=r(37589),c=function(a,d,p,h,g,m,x,w){x===void 0&&(x=100),w===void 0&&(w=0);var C=w/x,E=o(a,h,C),T=o(d,g,C),S=o(p,m,C);return{r:E,g:T,b:S,a:255,color:v(E,T,S)}},u=function(a,d,p,h){return p===void 0&&(p=100),h===void 0&&(h=0),c(a.r,a.g,a.b,d.r,d.g,d.b,p,h)},l=function(a,d,p,h,g,m){return g===void 0&&(g=100),m===void 0&&(m=0),c(a.r,a.g,a.b,d,p,h,g,m)};s.exports={RGBWithRGB:c,ColorWithRGB:l,ColorWithColor:u}}),68957:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(40987),v=function(c){return new o(c.r,c.g,c.b,c.a)};s.exports=v}),87388:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(40987),v=function(c){var u=new o,l=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(c.toLowerCase());if(l){var a=parseInt(l[1],10),d=parseInt(l[2],10),p=parseInt(l[3],10),h=l[4]!==void 0?parseFloat(l[4]):1;u.setTo(a,d,p,h*255)}return u};s.exports=v}),87837:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c){c===void 0&&(c={h:0,s:0,v:0}),r/=255,o/=255,v/=255;var u=Math.min(r,o,v),l=Math.max(r,o,v),a=l-u,d=0,p=l===0?0:a/l,h=l;return l!==u&&(l===r?d=(o-v)/a+(o<v?6:0):l===o?d=(v-r)/a+2:l===v&&(d=(r-o)/a+4),d/=6),c.hasOwnProperty("_h")?(c._h=d,c._s=p,c._v=h):(c.h=d,c.s=p,c.v=h),c};s.exports=y}),75723:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62957),v=function(c,u,l,a,d){return a===void 0&&(a=255),d===void 0&&(d="#"),d==="#"?"#"+((1<<24)+(c<<16)+(u<<8)+l).toString(16).slice(1,7):"0x"+o(a)+o(c)+o(u)+o(l)};s.exports=v}),85386:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(30976),v=r(40987),c=function(u,l){return u===void 0&&(u=0),l===void 0&&(l=255),new v(o(u,l),o(u,l),o(u,l))};s.exports=c}),80333:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(70238),v=r(30100),c=r(68957),u=r(87388),l=function(a){var d=typeof a;switch(d){case"string":return a.substr(0,3).toLowerCase()==="rgb"?u(a):o(a);case"number":return v(a);case"object":return c(a)}};s.exports=l}),3956:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(40987);o.ColorSpectrum=r(92728),o.ColorToRGBA=r(91588),o.ComponentToHex=r(62957),o.GetColor=r(37589),o.GetColor32=r(1e3),o.HexStringToColor=r(70238),o.HSLToColor=r(62183),o.HSVColorWheel=r(27939),o.HSVToRGB=r(7537),o.HueToComponent=r(89528),o.IntegerToColor=r(30100),o.IntegerToRGB=r(90664),o.Interpolate=r(13699),o.ObjectToColor=r(68957),o.RandomRGB=r(85386),o.RGBStringToColor=r(87388),o.RGBToHSV=r(87837),o.RGBToString=r(75723),o.ValueToColor=r(80333),s.exports=o}),27460:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Align:r(71926),BaseShader:r(73894),Bounds:r(58724),Canvas:r(26253),Color:r(3956),ColorMatrix:r(89422),Masks:r(69781),RGB:r(51767)}}),6858:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(39429),c=new o({initialize:function(l,a,d,p,h,g){a||(a=l.sys.make.image({x:d,y:p,key:h,frame:g,add:!1})),this.bitmapMask=a,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(u){this.bitmapMask=u},preRenderWebGL:function(u,l,a){u.pipelines.BITMAPMASK_PIPELINE.beginMask(this,l,a)},postRenderWebGL:function(u,l,a){u.pipelines.BITMAPMASK_PIPELINE.endMask(this,l,a)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});v.register("bitmapMask",function(u,l,a,d,p){return new c(this.scene,u,l,a,d,p)}),s.exports=c}),80661:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=new o({initialize:function(u,l){this.geometryMask=l,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(c){return this.geometryMask=c,this},setInvertAlpha:function(c){return c===void 0&&(c=!0),this.invertAlpha=c,this},preRenderWebGL:function(c,u,l){var a=c.gl;c.flush(),c.maskStack.length===0&&(a.enable(a.STENCIL_TEST),a.clear(a.STENCIL_BUFFER_BIT),c.maskCount=0),c.currentCameraMask.mask!==this&&(c.currentMask.mask=this),c.maskStack.push({mask:this,camera:l}),this.applyStencil(c,l,!0),c.maskCount++},applyStencil:function(c,u,l){var a=c.gl,d=this.geometryMask,p=c.maskCount,h=255;a.colorMask(!1,!1,!1,!1),l?(a.stencilFunc(a.EQUAL,p,h),a.stencilOp(a.KEEP,a.KEEP,a.INCR),p++):(a.stencilFunc(a.EQUAL,p+1,h),a.stencilOp(a.KEEP,a.KEEP,a.DECR)),this.level=p,d.renderWebGL(c,d,u),c.flush(),a.colorMask(!0,!0,!0,!0),a.stencilOp(a.KEEP,a.KEEP,a.KEEP),this.invertAlpha?a.stencilFunc(a.NOTEQUAL,p,h):a.stencilFunc(a.EQUAL,p,h)},postRenderWebGL:function(c){var u=c.gl;c.maskStack.pop(),c.maskCount--,c.flush();var l=c.currentMask;if(c.maskStack.length===0)l.mask=null,u.disable(u.STENCIL_TEST);else{var a=c.maskStack[c.maskStack.length-1];a.mask.applyStencil(c,a.camera,!1),c.currentCameraMask.mask!==a.mask?(l.mask=a.mask,l.camera=a.camera):l.mask=null}},preRenderCanvas:function(c,u,l){var a=this.geometryMask;c.currentContext.save(),a.renderCanvas(c,a,l,null,null,!0),c.currentContext.clip()},postRenderCanvas:function(c){c.currentContext.restore()},destroy:function(){this.geometryMask=null}});s.exports=v}),69781:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={BitmapMask:r(6858),GeometryMask:r(80661)}}),73894:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=new o({initialize:function(u,l,a,d){(!l||l==="")&&(l=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!a||a==="")&&(a=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),d===void 0&&(d=null),this.key=u,this.fragmentSrc=l,this.vertexSrc=a,this.uniforms=d}});s.exports=v}),40366:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){var v;if(o)typeof o=="string"?v=document.getElementById(o):typeof o=="object"&&o.nodeType===1&&(v=o);else if(r.parentElement||o===null)return r;return v||(v=document.body),v.appendChild(r),r};s.exports=y}),83719:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(40366),v=function(c){var u=c.config;if(!(!u.parent||!u.domCreateContainer)){var l=document.createElement("div");l.style.cssText=["display: block;","width: "+c.scale.width+"px;","height: "+c.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+u.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),c.domContainer=l,o(l,u.parent)}};s.exports=v}),57264:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25892),v=function(c){if(document.readyState==="complete"||document.readyState==="interactive"){c();return}var u=function(){document.removeEventListener("deviceready",u,!0),document.removeEventListener("DOMContentLoaded",u,!0),window.removeEventListener("load",u,!0),c()};document.body?o.cordova?document.addEventListener("deviceready",u,!1):(document.addEventListener("DOMContentLoaded",u,!0),window.addEventListener("load",u,!0)):window.setTimeout(u,20)};s.exports=v}),57811:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){if(!r)return window.innerHeight;var o=Math.abs(window.orientation),v={w:0,h:0},c=document.createElement("div");return c.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(c),v.w=o===90?c.offsetHeight:window.innerWidth,v.h=o===90?window.innerWidth:c.offsetHeight,document.documentElement.removeChild(c),c=null,Math.abs(window.orientation)!==90?v.h:v.w};s.exports=y}),45818:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(13560),v=function(c,u){var l=window.screen,a=l?l.orientation||l.mozOrientation||l.msOrientation:!1;if(a&&typeof a.type=="string")return a.type;if(typeof a=="string")return a;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?o.ORIENTATION.PORTRAIT:o.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return o.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return o.ORIENTATION.LANDSCAPE}else return u>c?o.ORIENTATION.PORTRAIT:o.ORIENTATION.LANDSCAPE};s.exports=v}),74403:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){var o;return r!==""&&(typeof r=="string"?o=document.getElementById(r):r&&r.nodeType===1&&(o=r)),o||(o=document.body),o};s.exports=y}),56836:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){var o="";try{if(window.DOMParser){var v=new DOMParser;o=v.parseFromString(r,"text/xml")}else o=new ActiveXObject("Microsoft.XMLDOM"),o.loadXML(r)}catch{o=null}return!o||!o.documentElement||o.getElementsByTagName("parsererror").length?null:o};s.exports=y}),35846:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){r.parentNode&&r.parentNode.removeChild(r)};s.exports=y}),43092:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(29747),c=new o({initialize:function(){this.isRunning=!1,this.callback=v,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var l=this;this.step=function a(d){l.callback(d),l.isRunning&&(l.timeOutID=window.requestAnimationFrame(a))},this.stepTimeout=function a(){l.isRunning&&(l.timeOutID=window.setTimeout(a,l.delay)),l.callback(window.performance.now())}},start:function(u,l,a){this.isRunning||(this.callback=u,this.isSetTimeOut=l,this.delay=a,this.isRunning=!0,this.timeOutID=l?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=v}});s.exports=c}),84902:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={AddToDOM:r(40366),DOMContentLoaded:r(57264),GetInnerHeight:r(57811),GetScreenOrientation:r(45818),GetTarget:r(74403),ParseXML:r(56836),RemoveFromDOM:r(35846),RequestAnimationFrame:r(43092)};s.exports=o}),47565:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(50792),c=r(37277),u=new o({Extends:v,initialize:function(){v.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});c.register("EventEmitter",u,"events"),s.exports=u}),93055:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={EventEmitter:r(47565)}}),20122:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(72898),c=r(14811),u=new o({Extends:v,initialize:function(a,d){d===void 0&&(d=1),v.call(this,c.BARREL,a),this.amount=d}});s.exports=u}),32251:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(72898),c=r(14811),u=new o({Extends:v,initialize:function(a,d,p,h,g,m,x){p===void 0&&(p=1),h===void 0&&(h=1),g===void 0&&(g=1),m===void 0&&(m=1),x===void 0&&(x=4),v.call(this,c.BLOOM,a),this.steps=x,this.offsetX=p,this.offsetY=h,this.blurStrength=g,this.strength=m,this.glcolor=[1,1,1],d!=null&&(this.color=d)},color:{get:function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var a=this.glcolor;a[0]=(l>>16&255)/255,a[1]=(l>>8&255)/255,a[2]=(l&255)/255}}});s.exports=u}),9047:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(72898),c=r(14811),u=new o({Extends:v,initialize:function(a,d,p,h,g,m,x){d===void 0&&(d=0),p===void 0&&(p=2),h===void 0&&(h=2),g===void 0&&(g=1),x===void 0&&(x=4),v.call(this,c.BLUR,a),this.quality=d,this.x=p,this.y=h,this.steps=x,this.strength=g,this.glcolor=[1,1,1],m!=null&&(this.color=m)},color:{get:function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var a=this.glcolor;a[0]=(l>>16&255)/255,a[1]=(l>>8&255)/255,a[2]=(l&255)/255}}});s.exports=u}),27885:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(72898),c=r(14811),u=new o({Extends:v,initialize:function(a,d,p,h,g,m,x,w){d===void 0&&(d=.5),p===void 0&&(p=1),h===void 0&&(h=.2),g===void 0&&(g=!1),m===void 0&&(m=1),x===void 0&&(x=1),w===void 0&&(w=1),v.call(this,c.BOKEH,a),this.radius=d,this.amount=p,this.contrast=h,this.isTiltShift=g,this.strength=w,this.blurX=m,this.blurY=x}});s.exports=u}),12578:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(72898),c=r(14811),u=new o({Extends:v,initialize:function(a,d,p,h,g,m){d===void 0&&(d=8),g===void 0&&(g=1),m===void 0&&(m=.005),v.call(this,c.CIRCLE,a),this.scale=g,this.feather=m,this.thickness=d,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],p!=null&&(this.color=p),h!=null&&(this.backgroundColor=h)},color:{get:function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var a=this.glcolor;a[0]=(l>>16&255)/255,a[1]=(l>>8&255)/255,a[2]=(l&255)/255}},backgroundColor:{get:function(){var l=this.glcolor2;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var a=this.glcolor2;a[0]=(l>>16&255)/255,a[1]=(l>>8&255)/255,a[2]=(l&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(l){this.glcolor2[3]=l}}});s.exports=u}),15802:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(89422),c=r(14811),u=new o({Extends:v,initialize:function(a){v.call(this),this.type=c.COLOR_MATRIX,this.gameObject=a,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});s.exports=u}),72898:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=new o({initialize:function(u,l){this.type=u,this.gameObject=l,this.active=!0},setActive:function(c){return this.active=c,this},destroy:function(){this.gameObject=null,this.active=!1}});s.exports=v}),44553:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(72898),c=r(14811),u=new o({Extends:v,initialize:function(a,d,p,h){d===void 0&&(d="__WHITE"),p===void 0&&(p=.005),h===void 0&&(h=.005),v.call(this,c.DISPLACEMENT,a),this.x=p,this.y=h,this.glTexture,this.setTexture(d)},setTexture:function(l){var a=this.gameObject.scene.sys.textures.getFrame(l);return a&&(this.glTexture=a.glTexture),this}});s.exports=u}),68531:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(72898),c=r(14811),u=new o({Extends:v,initialize:function(a,d,p,h,g){p===void 0&&(p=4),h===void 0&&(h=0),g===void 0&&(g=!1),v.call(this,c.GLOW,a),this.outerStrength=p,this.innerStrength=h,this.knockout=g,this.glcolor=[1,1,1,1],d!==void 0&&(this.color=d)},color:{get:function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var a=this.glcolor;a[0]=(l>>16&255)/255,a[1]=(l>>8&255)/255,a[2]=(l&255)/255}}});s.exports=u}),37102:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(72898),c=r(14811),u=new o({Extends:v,initialize:function(a,d,p,h,g,m,x,w,C){h===void 0&&(h=.2),g===void 0&&(g=0),m===void 0&&(m=0),x===void 0&&(x=0),w===void 0&&(w=1),C===void 0&&(C=0),v.call(this,c.GRADIENT,a),this.alpha=h,this.size=C,this.fromX=g,this.fromY=m,this.toX=x,this.toY=w,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],d!=null&&(this.color1=d),p!=null&&(this.color2=p)},color1:{get:function(){var l=this.glcolor1;return(l[0]<<16)+(l[1]<<8)+(l[2]|0)},set:function(l){var a=this.glcolor1;a[0]=l>>16&255,a[1]=l>>8&255,a[2]=l&255}},color2:{get:function(){var l=this.glcolor2;return(l[0]<<16)+(l[1]<<8)+(l[2]|0)},set:function(l){var a=this.glcolor2;a[0]=l>>16&255,a[1]=l>>8&255,a[2]=l&255}}});s.exports=u}),86886:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(72898),c=r(14811),u=new o({Extends:v,initialize:function(a,d){d===void 0&&(d=1),v.call(this,c.PIXELATE,a),this.amount=d}});s.exports=u}),92322:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(72898),c=r(14811),u=new o({Extends:v,initialize:function(a,d,p,h,g,m,x,w){d===void 0&&(d=0),p===void 0&&(p=0),h===void 0&&(h=.1),g===void 0&&(g=1),x===void 0&&(x=6),w===void 0&&(w=1),v.call(this,c.SHADOW,a),this.x=d,this.y=p,this.decay=h,this.power=g,this.glcolor=[0,0,0,1],this.samples=x,this.intensity=w,m!==void 0&&(this.color=m)},color:{get:function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var a=this.glcolor;a[0]=(l>>16&255)/255,a[1]=(l>>8&255)/255,a[2]=(l&255)/255}}});s.exports=u}),39563:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(72898),c=r(14811),u=new o({Extends:v,initialize:function(a,d,p,h,g){d===void 0&&(d=.5),p===void 0&&(p=.5),h===void 0&&(h=3),g===void 0&&(g=!1),v.call(this,c.SHINE,a),this.speed=d,this.lineWidth=p,this.gradient=h,this.reveal=g}});s.exports=u}),56448:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(72898),c=r(14811),u=new o({Extends:v,initialize:function(a,d,p,h,g){d===void 0&&(d=.5),p===void 0&&(p=.5),h===void 0&&(h=.5),g===void 0&&(g=.5),v.call(this,c.VIGNETTE,a),this.x=d,this.y=p,this.radius=h,this.strength=g}});s.exports=u}),38433:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(72898),c=r(14811),u=new o({Extends:v,initialize:function(a,d,p,h,g){d===void 0&&(d=.1),p===void 0&&(p=0),h===void 0&&(h=0),g===void 0&&(g=!1),v.call(this,c.WIPE,a),this.progress=0,this.wipeWidth=d,this.direction=p,this.axis=h,this.reveal=g}});s.exports=u}),14811:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};s.exports=y}),66064:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(79291),v=r(14811),c={Barrel:r(20122),Controller:r(72898),Bloom:r(32251),Blur:r(9047),Bokeh:r(27885),Circle:r(12578),ColorMatrix:r(15802),Displacement:r(44553),Glow:r(68531),Gradient:r(37102),Pixelate:r(86886),Shadow:r(92322),Shine:r(39563),Vignette:r(56448),Wipe:r(38433)};c=o(!1,c,v),s.exports=c}),25305:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10312),v=r(23568),c=function(u,l,a){l.x=v(a,"x",0),l.y=v(a,"y",0),l.depth=v(a,"depth",0),l.flipX=v(a,"flipX",!1),l.flipY=v(a,"flipY",!1);var d=v(a,"scale",null);typeof d=="number"?l.setScale(d):d!==null&&(l.scaleX=v(d,"x",1),l.scaleY=v(d,"y",1));var p=v(a,"scrollFactor",null);typeof p=="number"?l.setScrollFactor(p):p!==null&&(l.scrollFactorX=v(p,"x",1),l.scrollFactorY=v(p,"y",1)),l.rotation=v(a,"rotation",0);var h=v(a,"angle",null);h!==null&&(l.angle=h),l.alpha=v(a,"alpha",1);var g=v(a,"origin",null);if(typeof g=="number")l.setOrigin(g);else if(g!==null){var m=v(g,"x",.5),x=v(g,"y",.5);l.setOrigin(m,x)}l.blendMode=v(a,"blendMode",o.NORMAL),l.visible=v(a,"visible",!0);var w=v(a,"add",!0);return w&&u.sys.displayList.add(l),l.preUpdate&&u.sys.updateList.add(l),l};s.exports=c}),13059:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(23568),v=function(c,u){var l=o(u,"anims",null);if(l===null)return c;if(typeof l=="string")c.anims.play(l);else if(typeof l=="object"){var a=c.anims,d=o(l,"key",void 0);if(d){var p=o(l,"startFrame",void 0),h=o(l,"delay",0),g=o(l,"repeat",0),m=o(l,"repeatDelay",0),x=o(l,"yoyo",!1),w=o(l,"play",!1),C=o(l,"delayedPlay",0),E={key:d,delay:h,repeat:g,repeatDelay:m,yoyo:x,startFrame:p};w?a.play(E):C>0?a.playAfterDelay(E,C):a.load(E)}}return c};s.exports=v}),8050:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(73162),c=r(37277),u=r(51708),l=r(44594),a=r(19186),d=new o({Extends:v,initialize:function(h){v.call(this,h),this.sortChildrenFlag=!1,this.scene=h,this.systems=h.sys,this.events=h.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(l.BOOT,this.boot,this),this.events.on(l.START,this.start,this)},boot:function(){this.events.once(l.DESTROY,this.destroy,this)},addChildCallback:function(p){p.displayList&&p.displayList!==this&&p.removeFromDisplayList(),p.parentContainer&&p.parentContainer.remove(p),p.displayList||(this.queueDepthSort(),p.displayList=this,p.emit(u.ADDED_TO_SCENE,p,this.scene),this.events.emit(l.ADDED_TO_SCENE,p,this.scene))},removeChildCallback:function(p){this.queueDepthSort(),p.displayList=null,p.emit(u.REMOVED_FROM_SCENE,p,this.scene),this.events.emit(l.REMOVED_FROM_SCENE,p,this.scene)},start:function(){this.events.once(l.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(a(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(p,h){return p._depth-h._depth},getChildren:function(){return this.list},shutdown:function(){for(var p=this.list,h=p.length;h--;)p[h]&&p[h].destroy(!0);p.length=0,this.events.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(l.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});c.register("DisplayList",d,"displayList"),s.exports=d}),95643:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(53774),c=r(45893),u=r(50792),l=r(51708),a=r(44594),d=new o({Extends:u,initialize:function(h,g){u.call(this),this.scene=h,this.displayList=null,this.type=g,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(l.ADDED_TO_SCENE,this.addedToScene,this),this.on(l.REMOVED_FROM_SCENE,this.removedFromScene,this),h.sys.queueDepthSort()},setActive:function(p){return this.active=p,this},setName:function(p){return this.name=p,this},setState:function(p){return this.state=p,this},setDataEnabled:function(){return this.data||(this.data=new c(this)),this},setData:function(p,h){return this.data||(this.data=new c(this)),this.data.set(p,h),this},incData:function(p,h){return this.data||(this.data=new c(this)),this.data.inc(p,h),this},toggleData:function(p){return this.data||(this.data=new c(this)),this.data.toggle(p),this},getData:function(p){return this.data||(this.data=new c(this)),this.data.get(p)},setInteractive:function(p,h,g){return this.scene.sys.input.enable(this,p,h,g),this},disableInteractive:function(p){return p===void 0&&(p=!1),this.scene.sys.input.disable(this,p),this},removeInteractive:function(p){return p===void 0&&(p=!1),this.scene.sys.input.clear(this),p&&this.scene.sys.input.resetCursor(),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return v(this)},willRender:function(p){var h=this.displayList&&this.displayList.active?this.displayList.willRender(p):!0;return!(!h||d.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&p.id)},getIndexList:function(){for(var p=this,h=this.parentContainer,g=[];h&&(g.unshift(h.getIndex(p)),p=h,h.parentContainer);)h=h.parentContainer;return this.displayList?g.unshift(this.displayList.getIndex(p)):g.unshift(this.scene.sys.displayList.getIndex(p)),g},addToDisplayList:function(p){return p===void 0&&(p=this.scene.sys.displayList),this.displayList&&this.displayList!==p&&this.removeFromDisplayList(),p.exists(this)||(this.displayList=p,p.add(this,!0),p.queueDepthSort(),this.emit(l.ADDED_TO_SCENE,this,this.scene),p.events.emit(a.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var p=this.displayList||this.scene.sys.displayList;return p&&p.exists(this)&&(p.remove(this,!0),p.queueDepthSort(),this.displayList=null,this.emit(l.REMOVED_FROM_SCENE,this,this.scene),p.events.emit(a.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},getDisplayList:function(){var p=null;return this.parentContainer?p=this.parentContainer.list:this.displayList&&(p=this.displayList.list),p},destroy:function(p){!this.scene||this.ignoreDestroy||(p===void 0&&(p=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(l.DESTROY,this,p),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});d.RENDER_MASK=15,s.exports=d}),44603:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(37277),c=r(44594),u=new o({initialize:function(a){this.scene=a,this.systems=a.sys,this.events=a.sys.events,this.displayList,this.updateList,this.events.once(c.BOOT,this.boot,this),this.events.on(c.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(c.DESTROY,this.destroy,this)},start:function(){this.events.once(c.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(c.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(c.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});u.register=function(l,a){u.prototype.hasOwnProperty(l)||(u.prototype[l]=a)},u.remove=function(l){u.prototype.hasOwnProperty(l)&&delete u.prototype[l]},v.register("GameObjectCreator",u,"make"),s.exports=u}),39429:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(37277),c=r(44594),u=new o({initialize:function(a){this.scene=a,this.systems=a.sys,this.events=a.sys.events,this.displayList,this.updateList,this.events.once(c.BOOT,this.boot,this),this.events.on(c.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(c.DESTROY,this.destroy,this)},start:function(){this.events.once(c.SHUTDOWN,this.shutdown,this)},existing:function(l){return(l.renderCanvas||l.renderWebGL)&&this.displayList.add(l),l.preUpdate&&this.updateList.add(l),l},shutdown:function(){this.events.off(c.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(c.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});u.register=function(l,a){u.prototype.hasOwnProperty(l)||(u.prototype[l]=a)},u.remove=function(l){u.prototype.hasOwnProperty(l)&&delete u.prototype[l]},v.register("GameObjectFactory",u,"add"),s.exports=u}),91296:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(61340),v=new o,c=new o,u=new o,l={camera:v,sprite:c,calc:u},a=function(d,p,h){var g=v,m=c,x=u;return m.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY),g.copyFrom(p.matrix),h?(g.multiplyWithOffset(h,-p.scrollX*d.scrollFactorX,-p.scrollY*d.scrollFactorY),m.e=d.x,m.f=d.y):(m.e-=p.scrollX*d.scrollFactorX,m.f-=p.scrollY*d.scrollFactorY),g.multiply(m,x),l};s.exports=a}),45027:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(25774),c=r(37277),u=r(44594),l=new o({Extends:v,initialize:function(d){v.call(this),this.checkQueue=!0,this.scene=d,this.systems=d.sys,d.sys.events.once(u.BOOT,this.boot,this),d.sys.events.on(u.START,this.start,this)},boot:function(){this.systems.events.once(u.DESTROY,this.destroy,this)},start:function(){var a=this.systems.events;a.on(u.PRE_UPDATE,this.update,this),a.on(u.UPDATE,this.sceneUpdate,this),a.once(u.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(a,d){for(var p=this._active,h=p.length,g=0;g<h;g++){var m=p[g];m.active&&m.preUpdate.call(m,a,d)}},shutdown:function(){for(var a=this._active.length;a--;)this._active[a].destroy(!0);for(a=this._pending.length;a--;)this._pending[a].destroy(!0);for(a=this._destroy.length;a--;)this._destroy[a].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var d=this.systems.events;d.off(u.PRE_UPDATE,this.update,this),d.off(u.UPDATE,this.sceneUpdate,this),d.off(u.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(u.START,this.start,this),this.scene=null,this.systems=null}});c.register("UpdateList",l,"updateList"),s.exports=l}),3217:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c,u,l,a,d,p,h,g,m,x,w,C){var E=v.x-o.displayOriginX+u,T=v.y-o.displayOriginY+l,S=E+v.w,A=T+v.h,P=a.a,R=a.b,L=a.c,D=a.d,F=a.e,$=a.f,N=E*P+T*L+F,k=E*R+T*D+$,j=E*P+A*L+F,W=E*R+A*D+$,G=S*P+A*L+F,K=S*R+A*D+$,z=S*P+T*L+F,X=S*R+T*D+$;d&&(N=Math.round(N),k=Math.round(k),j=Math.round(j),W=Math.round(W),G=Math.round(G),K=Math.round(K),z=Math.round(z),X=Math.round(X)),r.batchQuad(o,N,k,j,W,G,K,z,X,c.u0,c.v0,c.u1,c.v1,p,h,g,m,x,w,C)};s.exports=y}),53048:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c){if(v===void 0&&(v=!1),c===void 0)return c={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},c;var u=r.text,l=u.length,a=r.maxWidth,d=r.wordWrapCharCode,p=Number.MAX_VALUE,h=Number.MAX_VALUE,g=0,m=0,x=r.fontData.chars,w=r.fontData.lineHeight,C=r.letterSpacing,E=r.lineSpacing,T=0,S=0,A=0,P=null,R=r._align,L=0,D=0,F=r.fontSize/r.fontData.size,$=F*r.scaleX,N=F*r.scaleY,k=null,j=0,W=[],G=Number.MAX_VALUE,K=0,z=0,X=0,U,Z,V,J=[],_=[],ee=null,te=function(Et,Je){for(var He=0,Qe=0;Qe<Et.length;Qe++){var dt=Et.charCodeAt(Qe),$t=Je.chars[dt];$t&&(He+=$t.xAdvance)}return He*$};if(a>0){V=u.split(`
`);var ie=[];for(U=0;U<V.length;U++){var le=V[U],he="",fe="",oe="",Ce="";for(Z=0;Z<le.length;Z++)if(A=le.charCodeAt(Z),he+=le[Z],A===d||Z===le.length-1){Ce=oe+he;var ye=te(Ce,r.fontData);ye<=a?oe=Ce:(fe=fe.slice(0,-1),fe+=(fe?`
`:"")+oe,oe=he),he=""}fe=fe.slice(0,-1),fe+=(fe?`
`:"")+oe,ie.push(fe)}u=ie.join(`
`),c.wrappedText=u,l=u.length}var Ee=0;for(U=0;U<l;U++){if(A=u.charCodeAt(U),A===10){ee!==null&&(J.push({word:ee.word,i:ee.i,x:ee.x*$,y:ee.y*N,w:ee.w*$,h:ee.h*N}),ee=null),k=null,W[z]=X,X>K&&(K=X),X<G&&(G=X),z++,X=0,T=0,S=(w+E)*z;continue}if(P=x[A],!!P){if(L=T,D=S,k!==null){var Ie=P.kerning[j];L+=Ie!==void 0?Ie:0}p>L&&(p=L),h>D&&(h=D);var je=L+P.xAdvance,Re=D+w;g<je&&(g=je),m<Re&&(m=Re);var $e=P.xOffset+P.xAdvance+(Ie!==void 0?Ie:0);A===d?ee!==null&&(J.push({word:ee.word,i:ee.i,x:ee.x*$,y:ee.y*N,w:ee.w*$,h:ee.h*N}),ee=null):(ee===null&&(ee={word:"",i:Ee,x:T,y:S,w:0,h:w}),ee.word=ee.word.concat(u[U]),ee.w+=$e),_.push({i:Ee,idx:U,char:u[U],code:A,x:(P.xOffset+L)*F,y:(P.yOffset+S)*F,w:P.width*F,h:P.height*F,t:S*F,r:je*F,b:w*F,line:z,glyph:P}),T+=P.xAdvance+C+(Ie!==void 0?Ie:0),k=P,j=A,X=je*F,Ee++}}if(ee!==null&&J.push({word:ee.word,i:ee.i,x:ee.x*$,y:ee.y*N,w:ee.w*$,h:ee.h*N}),W[z]=X,X>K&&(K=X),X<G&&(G=X),R>0)for(var Ae=0;Ae<_.length;Ae++){var Xe=_[Ae];if(R===1){var st=(K-W[Xe.line])/2;Xe.x+=st,Xe.r+=st}else if(R===2){var vt=K-W[Xe.line];Xe.x+=vt,Xe.r+=vt}}var Ge=c.local,nt=c.global;return V=c.lines,Ge.x=p*F,Ge.y=h*F,Ge.width=g*F,Ge.height=m*F,nt.x=r.x-r._displayOriginX+p*$,nt.y=r.y-r._displayOriginY+h*N,nt.width=g*$,nt.height=m*N,V.shortest=G,V.longest=K,V.lengths=W,o&&(Ge.x=Math.ceil(Ge.x),Ge.y=Math.ceil(Ge.y),Ge.width=Math.ceil(Ge.width),Ge.height=Math.ceil(Ge.height),nt.x=Math.ceil(nt.x),nt.y=Math.ceil(nt.y),nt.width=Math.ceil(nt.width),nt.height=Math.ceil(nt.height),V.shortest=Math.ceil(G),V.longest=Math.ceil(K)),v&&(r._displayOriginX=r.originX*Ge.width,r._displayOriginY=r.originY*Ge.height,nt.x=r.x-r._displayOriginX*r.scaleX,nt.y=r.y-r._displayOriginY*r.scaleY,o&&(nt.x=Math.ceil(nt.x),nt.y=Math.ceil(nt.y))),c.words=J,c.characters=_,c.lines.height=w,c.scale=F,c.scaleX=r.scaleX,c.scaleY=r.scaleY,c};s.exports=y}),61327:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(21859),v=function(c,u,l,a,d,p,h){var g=c.sys.textures.get(l),m=g.get(a),x=c.sys.cache.xml.get(d);if(m&&x){var w=o(x,m,p,h,g);return c.sys.cache.bitmapFont.add(u,{data:w,texture:l,frame:a,fromAtlas:!0}),!0}else return!1};s.exports=v}),6925:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35154),v=function(c,u){var l=u.width,a=u.height,d=Math.floor(l/2),p=Math.floor(a/2),h=o(u,"chars","");if(h!==""){var g=o(u,"image",""),m=c.sys.textures.getFrame(g),x=m.cutX,w=m.cutY,C=m.source.width,E=m.source.height,T=o(u,"offset.x",0),S=o(u,"offset.y",0),A=o(u,"spacing.x",0),P=o(u,"spacing.y",0),R=o(u,"lineSpacing",0),L=o(u,"charsPerRow",null);L===null&&(L=C/l,L>h.length&&(L=h.length));for(var D=T,F=S,$={retroFont:!0,font:g,size:l,lineHeight:a+R,chars:{}},N=0,k=0;k<h.length;k++){var j=h.charCodeAt(k),W=(x+D)/C,G=(w+F)/E,K=(x+D+l)/C,z=(w+F+a)/E;$.chars[j]={x:D,y:F,width:l,height:a,centerX:d,centerY:p,xOffset:0,yOffset:0,xAdvance:l,data:{},kerning:{},u0:W,v0:G,u1:K,v1:z},N++,N===L?(N=0,D=T,F+=a+P):D+=l+A}var X={data:$,frame:null,texture:g};return X}};s.exports=v}),21859:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(o,v){return parseInt(o.getAttribute(v),10)}var r=function(o,v,c,u,l){c===void 0&&(c=0),u===void 0&&(u=0);var a=v.cutX,d=v.cutY,p=v.source.width,h=v.source.height,g=v.sourceIndex,m={},x=o.getElementsByTagName("info")[0],w=o.getElementsByTagName("common")[0];m.font=x.getAttribute("face"),m.size=y(x,"size"),m.lineHeight=y(w,"lineHeight")+u,m.chars={};var C=o.getElementsByTagName("char"),E=v!==void 0&&v.trimmed;if(E)var T=v.height,S=v.width;for(var A=0;A<C.length;A++){var P=C[A],R=y(P,"id"),L=String.fromCharCode(R),D=y(P,"x"),F=y(P,"y"),$=y(P,"width"),N=y(P,"height");E&&(D<S&&(S=D),F<T&&(T=F)),E&&T!==0&&S!==0&&(D-=v.x,F-=v.y);var k=(a+D)/p,j=(d+F)/h,W=(a+D+$)/p,G=(d+F+N)/h;if(m.chars[R]={x:D,y:F,width:$,height:N,centerX:Math.floor($/2),centerY:Math.floor(N/2),xOffset:y(P,"xoffset"),yOffset:y(P,"yoffset"),xAdvance:y(P,"xadvance")+c,data:{},kerning:{},u0:k,v0:j,u1:W,v1:G},l&&$!==0&&N!==0){var K=l.add(L,g,D,F,$,N);K&&K.setUVs($,N,k,j,W,G)}}var z=o.getElementsByTagName("kerning");for(A=0;A<z.length;A++){var X=z[A],U=y(X,"first"),Z=y(X,"second"),V=y(X,"amount");m.chars[Z].kerning[U]=V}return m};s.exports=r}),196:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87662),v=r(79291),c={Parse:r(6925)};c=v(!1,c,o),s.exports=c}),87662:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};s.exports=y}),2638:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(22186),v=r(83419),c=r(12310),u=new v({Extends:o,Mixins:[c],initialize:function(a,d,p,h,g,m,x){o.call(this,a,d,p,h,g,m,x),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(l,a){return this.cropWidth=l,this.cropHeight=a,this},setDisplayCallback:function(l){return this.displayCallback=l,this},setScrollX:function(l){return this.scrollX=l,this},setScrollY:function(l){return this.scrollY=l,this}});s.exports=u}),86741:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20926),v=function(c,u,l,a){var d=u._text,p=d.length,h=c.currentContext;if(!(p===0||!o(c,h,u,l,a))){l.addToRenderList(u);var g=u.fromAtlas?u.frame:u.texture.frames.__BASE,m=u.displayCallback,x=u.callbackData,w=u.fontData.chars,C=u.fontData.lineHeight,E=u._letterSpacing,T=0,S=0,A=0,P=null,R=0,L=0,D=0,F=0,$=0,N=0,k=null,j=0,W=u.frame.source.image,G=g.cutX,K=g.cutY,z=0,X=0,U=u._fontSize/u.fontData.size,Z=u._align,V=0,J=0;u.getTextBounds(!1);var _=u._bounds.lines;Z===1?J=(_.longest-_.lengths[0])/2:Z===2&&(J=_.longest-_.lengths[0]),h.translate(-u.displayOriginX,-u.displayOriginY);var ee=l.roundPixels;u.cropWidth>0&&u.cropHeight>0&&(h.beginPath(),h.rect(0,0,u.cropWidth,u.cropHeight),h.clip());for(var te=0;te<p;te++){if(X=U,z=0,A=d.charCodeAt(te),A===10){V++,Z===1?J=(_.longest-_.lengths[V])/2:Z===2&&(J=_.longest-_.lengths[V]),T=0,S+=C,k=null;continue}if(P=w[A],!!P){if(R=G+P.x,L=K+P.y,D=P.width,F=P.height,$=P.xOffset+T-u.scrollX,N=P.yOffset+S-u.scrollY,k!==null){var ie=P.kerning[j];$+=ie!==void 0?ie:0}if(m){x.index=te,x.charCode=A,x.x=$,x.y=N,x.scale=X,x.rotation=z,x.data=P.data;var le=m(x);$=le.x,N=le.y,X=le.scale,z=le.rotation}$*=X,N*=X,$+=J,T+=P.xAdvance+E+(ie!==void 0?ie:0),k=P,j=A,!(D===0||F===0||A===32)&&(ee&&($=Math.round($),N=Math.round(N)),h.save(),h.translate($,N),h.rotate(z),h.scale(X,X),h.drawImage(W,R,L,D,F,0,0,D,F),h.restore())}}h.restore()}};s.exports=v}),11164:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2638),v=r(25305),c=r(44603),u=r(23568);c.register("dynamicBitmapText",function(l,a){l===void 0&&(l={});var d=u(l,"font",""),p=u(l,"text",""),h=u(l,"size",!1),g=new o(this.scene,0,0,d,p,h);return a!==void 0&&(l.add=a),v(this.scene,g,l),g})}),72566:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2638),v=r(39429);v.register("dynamicBitmapText",function(c,u,l,a,d){return this.displayList.add(new o(this.scene,c,u,l,a,d))})}),12310:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),v=o,c=o;v=r(73482),c=r(86741),s.exports={renderWebGL:v,renderCanvas:c}}),73482:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),v=r(61340),c=r(70554),u=new v,l=function(a,d,p,h){var g=d.text,m=g.length;if(m!==0){p.addToRenderList(d);var x=a.pipelines.set(d.pipeline,d),w=o(d,p,h);a.pipelines.preBatch(d);var C=w.sprite,E=w.calc,T=u,S=d.cropWidth>0||d.cropHeight>0;S&&(x.flush(),a.pushScissor(E.tx,E.ty,d.cropWidth*E.scaleX,d.cropHeight*E.scaleY));var A=d.frame,P=A.glTexture,R=d.tintFill,L=c.getTintAppendFloatAlpha(d.tintTopLeft,p.alpha*d._alphaTL),D=c.getTintAppendFloatAlpha(d.tintTopRight,p.alpha*d._alphaTR),F=c.getTintAppendFloatAlpha(d.tintBottomLeft,p.alpha*d._alphaBL),$=c.getTintAppendFloatAlpha(d.tintBottomRight,p.alpha*d._alphaBR),N=x.setGameObject(d),k=0,j=0,W=0,G=0,K=d.letterSpacing,z,X=0,U=0,Z,V=d.scrollX,J=d.scrollY,_=d.fontData,ee=_.chars,te=_.lineHeight,ie=d.fontSize/_.size,le=0,he=d._align,fe=0,oe=0,Ce=d.getTextBounds(!1);d.maxWidth>0&&(g=Ce.wrappedText,m=g.length);var ye=d._bounds.lines;he===1?oe=(ye.longest-ye.lengths[0])/2:he===2&&(oe=ye.longest-ye.lengths[0]);for(var Ee=p.roundPixels,Ie=d.displayCallback,je=d.callbackData,Re=0;Re<m;Re++){if(W=g.charCodeAt(Re),W===10){fe++,he===1?oe=(ye.longest-ye.lengths[fe])/2:he===2&&(oe=ye.longest-ye.lengths[fe]),k=0,j+=te,Z=null;continue}if(z=ee[W],!!z){X=z.width,U=z.height;var $e=z.xOffset+k-V,Ae=z.yOffset+j-J;if(Z!==null){var Xe=z.kerning[G]||0;$e+=Xe,k+=Xe}if(k+=z.xAdvance+K,Z=z,G=W,!(X===0||U===0||W===32)){if(ie=d.fontSize/d.fontData.size,le=0,Ie){je.color=0,je.tint.topLeft=L,je.tint.topRight=D,je.tint.bottomLeft=F,je.tint.bottomRight=$,je.index=Re,je.charCode=W,je.x=$e,je.y=Ae,je.scale=ie,je.rotation=le,je.data=z.data;var st=Ie(je);$e=st.x,Ae=st.y,ie=st.scale,le=st.rotation,st.color?(L=st.color,D=st.color,F=st.color,$=st.color):(L=st.tint.topLeft,D=st.tint.topRight,F=st.tint.bottomLeft,$=st.tint.bottomRight),L=c.getTintAppendFloatAlpha(L,p.alpha*d._alphaTL),D=c.getTintAppendFloatAlpha(D,p.alpha*d._alphaTR),F=c.getTintAppendFloatAlpha(F,p.alpha*d._alphaBL),$=c.getTintAppendFloatAlpha($,p.alpha*d._alphaBR)}$e*=ie,Ae*=ie,$e-=d.displayOriginX,Ae-=d.displayOriginY,$e+=oe,T.applyITRS($e,Ae,le,ie,ie),E.multiply(T,C);var vt=z.u0,Ge=z.v0,nt=z.u1,Et=z.v1,Je=X,He=U,Qe=C.e,dt=C.f,$t=He*C.c+C.e,ut=He*C.d+C.f,wt=Je*C.a+He*C.c+C.e,tt=Je*C.b+He*C.d+C.f,cn=Je*C.a+C.e,Pn=Je*C.b+C.f;Ee&&(Qe=Math.round(Qe),dt=Math.round(dt),$t=Math.round($t),ut=Math.round(ut),wt=Math.round(wt),tt=Math.round(tt),cn=Math.round(cn),Pn=Math.round(Pn)),x.shouldFlush(6)&&(x.flush(),N=x.setGameObject(d)),x.batchQuad(d,Qe,dt,$t,ut,wt,tt,cn,Pn,vt,Ge,nt,Et,L,D,F,$,R,P,N)}}}S&&(x.flush(),a.popScissor()),a.pipelines.postBatch(d)}};s.exports=l}),22186:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(45319),c=r(31401),u=r(95643),l=r(53048),a=r(61327),d=r(21859),p=r(87841),h=r(18658),g=new o({Extends:u,Mixins:[c.Alpha,c.BlendMode,c.Depth,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Texture,c.Tint,c.Transform,c.Visible,h],initialize:function(x,w,C,E,T,S,A){T===void 0&&(T=""),A===void 0&&(A=0),u.call(this,x,"BitmapText"),this.font=E;var P=this.scene.sys.cache.bitmapFont.get(E);if(!P)throw new Error("Invalid BitmapText key: "+E);this.fontData=P.data,this._text="",this._fontSize=S||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=A,this._bounds=l(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=P.fromAtlas,this.setTexture(P.texture,P.frame),this.setPosition(w,C),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(T)},setLeftAlign:function(){return this._align=g.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=g.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=g.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(m){return this._fontSize=m,this._dirty=!0,this},setLetterSpacing:function(m){return m===void 0&&(m=0),this._letterSpacing=m,this._dirty=!0,this},setLineSpacing:function(m){return m===void 0&&(m=0),this.lineSpacing=m,this},setText:function(m){return!m&&m!==0&&(m=""),Array.isArray(m)&&(m=m.join(`
`)),m!==this.text&&(this._text=m.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(m,x,w,C){return m===void 0&&(m=0),x===void 0&&(x=0),w===void 0&&(w=0),C===void 0&&(C=.5),this.dropShadowX=m,this.dropShadowY=x,this.dropShadowColor=w,this.dropShadowAlpha=C,this},setCharacterTint:function(m,x,w,C,E,T,S){m===void 0&&(m=0),x===void 0&&(x=1),w===void 0&&(w=!1),C===void 0&&(C=-1),E===void 0&&(E=C,T=C,S=C);var A=this.text.length;x===-1&&(x=A),m<0&&(m=A+m),m=v(m,0,A-1);for(var P=v(m+x,m,A),R=this.charColors,L=m;L<P;L++){var D=R[L];if(C===-1)R[L]=null;else{var F=w?1:0;D?(D.tintEffect=F,D.tintTL=C,D.tintTR=E,D.tintBL=T,D.tintBR=S):R[L]={tintEffect:F,tintTL:C,tintTR:E,tintBL:T,tintBR:S}}}return this},setWordTint:function(m,x,w,C,E,T,S){x===void 0&&(x=1);for(var A=this.getTextBounds(),P=A.words,R=typeof m=="number",L=0,D=0;D<P.length;D++){var F=P[D];if((R&&D===m||!R&&F.word===m)&&(this.setCharacterTint(F.i,F.word.length,w,C,E,T,S),L++,L===x))return this}return this},getTextBounds:function(m){var x=this._bounds;return(this._dirty||m||this.scaleX!==x.scaleX||this.scaleY!==x.scaleY)&&(l(this,m,!0,x),this._dirty=!1),x},getCharacterAt:function(m,x,w){for(var C=this.getLocalPoint(m,x,null,w),E=this.getTextBounds(),T=E.characters,S=new p,A=0;A<T.length;A++){var P=T[A];if(S.setTo(P.x,P.t,P.r-P.x,P.b),S.contains(C.x,C.y))return P}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(m,x,w){x===void 0&&(x=this._fontSize),w===void 0&&(w=this._align);var C=this.scene.sys.cache.bitmapFont.get(m);return C&&(this.font=m,this.fontData=C.data,this._fontSize=x,this._align=w,this.fromAtlas=C.fromAtlas===!0,this.setTexture(C.texture,C.frame),l(this,!1,!0,this._bounds)),this},setMaxWidth:function(m,x){return this._maxWidth=m,this._dirty=!0,x!==void 0&&(this.wordWrapCharCode=x),this},setDisplaySize:function(m,x){this.setScale(1,1),this.getTextBounds(!1);var w=m/this.width,C=x/this.height;return this.setScale(w,C),this},align:{set:function(m){this._align=m,this._dirty=!0},get:function(){return this._align}},text:{set:function(m){this.setText(m)},get:function(){return this._text}},fontSize:{set:function(m){this._fontSize=m,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(m){this._letterSpacing=m,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(m){this._lineSpacing=m,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(m){this._maxWidth=m,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{set:function(m){this.setScaleX(1),this.getTextBounds(!1);var x=m/this.width;this.setScaleX(x)},get:function(){return this.width}},displayHeight:{set:function(m){this.setScaleY(1),this.getTextBounds(!1);var x=m/this.height;this.setScaleY(x)},get:function(){return this.height}},toJSON:function(){var m=c.ToJSON(this),x={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return m.data=x,m},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});g.ALIGN_LEFT=0,g.ALIGN_CENTER=1,g.ALIGN_RIGHT=2,g.ParseFromAtlas=a,g.ParseXMLBitmapFont=d,s.exports=g}),37289:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20926),v=function(c,u,l,a){var d=u._text,p=d.length,h=c.currentContext;if(!(p===0||!o(c,h,u,l,a))){l.addToRenderList(u);var g=u.fromAtlas?u.frame:u.texture.frames.__BASE,m=u.fontData.chars,x=u.fontData.lineHeight,w=u._letterSpacing,C=u._lineSpacing,E=0,T=0,S=0,A=null,P=0,R=0,L=0,D=0,F=0,$=0,N=null,k=0,j=g.source.image,W=g.cutX,G=g.cutY,K=u._fontSize/u.fontData.size,z=u._align,X=0,U=0,Z=u.getTextBounds(!1);u.maxWidth>0&&(d=Z.wrappedText,p=d.length);var V=u._bounds.lines;z===1?U=(V.longest-V.lengths[0])/2:z===2&&(U=V.longest-V.lengths[0]),h.translate(-u.displayOriginX,-u.displayOriginY);for(var J=l.roundPixels,_=0;_<p;_++){if(S=d.charCodeAt(_),S===10){X++,z===1?U=(V.longest-V.lengths[X])/2:z===2&&(U=V.longest-V.lengths[X]),E=0,T+=x+C,N=null;continue}if(A=m[S],!!A){if(P=W+A.x,R=G+A.y,L=A.width,D=A.height,F=A.xOffset+E,$=A.yOffset+T,N!==null){var ee=A.kerning[k];F+=ee!==void 0?ee:0}F*=K,$*=K,F+=U,E+=A.xAdvance+w+(ee!==void 0?ee:0),N=A,k=S,!(L===0||D===0||S===32)&&(J&&(F=Math.round(F),$=Math.round($)),h.save(),h.translate(F,$),h.scale(K,K),h.drawImage(j,P,R,L,D,0,0,L,D),h.restore())}}h.restore()}};s.exports=v}),57336:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(22186),v=r(25305),c=r(44603),u=r(23568),l=r(35154);c.register("bitmapText",function(a,d){a===void 0&&(a={});var p=l(a,"font",""),h=u(a,"text",""),g=u(a,"size",!1),m=l(a,"align",0),x=new o(this.scene,0,0,p,h,g,m);return d!==void 0&&(a.add=d),v(this.scene,x,a),x})}),34914:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(22186),v=r(39429);v.register("bitmapText",function(c,u,l,a,d,p){return this.displayList.add(new o(this.scene,c,u,l,a,d,p))})}),18658:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),v=o,c=o;v=r(33590),c=r(37289),s.exports={renderWebGL:v,renderCanvas:c}}),33590:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(3217),v=r(91296),c=r(70554),u=function(l,a,d,p){var h=a._text,g=h.length;if(g!==0){d.addToRenderList(a);var m=l.pipelines.set(a.pipeline,a),x=v(a,d,p).calc;l.pipelines.preBatch(a);var w=d.roundPixels,C=d.alpha,E=a.charColors,T=a.tintFill,S=c.getTintAppendFloatAlpha,A=S(a.tintTopLeft,C*a._alphaTL),P=S(a.tintTopRight,C*a._alphaTR),R=S(a.tintBottomLeft,C*a._alphaBL),L=S(a.tintBottomRight,C*a._alphaBR),D=a.frame.glTexture,F=m.setGameObject(a),$=a.getTextBounds(!1),N,k,j,W=$.characters,G=a.dropShadowX,K=a.dropShadowY,z=G!==0||K!==0;if(z){var X=a.dropShadowColor,U=a.dropShadowAlpha,Z=S(X,C*U*a._alphaTL),V=S(X,C*U*a._alphaTR),J=S(X,C*U*a._alphaBL),_=S(X,C*U*a._alphaBR);for(N=0;N<W.length;N++)k=W[N],j=k.glyph,!(k.code===32||j.width===0||j.height===0)&&o(m,a,k,j,G,K,x,w,Z,V,J,_,1,D,F)}for(N=0;N<W.length;N++)if(k=W[N],j=k.glyph,!(k.code===32||j.width===0||j.height===0))if(m.shouldFlush(6)&&(m.flush(),F=m.setGameObject(a)),E[k.i]){var ee=E[k.i],te=ee.tintEffect,ie=S(ee.tintTL,C*a._alphaTL),le=S(ee.tintTR,C*a._alphaTR),he=S(ee.tintBL,C*a._alphaBL),fe=S(ee.tintBR,C*a._alphaBR);o(m,a,k,j,0,0,x,w,ie,le,he,fe,te,D,F)}else o(m,a,k,j,0,0,x,w,A,P,R,L,T,D,F);l.pipelines.postBatch(a)}};s.exports=u}),6107:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(48011),v=r(46590),c=r(83419),u=r(31401),l=r(4327),a=r(95643),d=r(73162),p=new c({Extends:a,Mixins:[u.Alpha,u.BlendMode,u.Depth,u.Mask,u.Pipeline,u.PostPipeline,u.ScrollFactor,u.Size,u.Texture,u.Transform,u.Visible,o],initialize:function(g,m,x,w,C){a.call(this,g,"Blitter"),this.setTexture(w,C),this.setPosition(m,x),this.initPipeline(),this.initPostPipeline(),this.children=new d,this.renderList=[],this.dirty=!1},create:function(h,g,m,x,w){x===void 0&&(x=!0),w===void 0&&(w=this.children.length),m===void 0?m=this.frame:m instanceof l||(m=this.texture.get(m));var C=new v(this,h,g,m,x);return this.children.addAt(C,w,!1),this.dirty=!0,C},createFromCallback:function(h,g,m,x){for(var w=this.createMultiple(g,m,x),C=0;C<w.length;C++){var E=w[C];h.call(this,E,C)}return w},createMultiple:function(h,g,m){g===void 0&&(g=this.frame.name),m===void 0&&(m=!0),Array.isArray(g)||(g=[g]);var x=[],w=this;return g.forEach(function(C){for(var E=0;E<h;E++)x.push(w.create(0,0,C,m))}),x},childCanRender:function(h){return h.visible&&h.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});s.exports=p}),72396:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c){var u=o.getRenderList();if(u.length!==0){var l=r.currentContext,a=v.alpha*o.alpha;if(a!==0){v.addToRenderList(o),l.globalCompositeOperation=r.blendModes[o.blendMode],l.imageSmoothingEnabled=!o.frame.source.scaleMode;var d=o.x-v.scrollX*o.scrollFactorX,p=o.y-v.scrollY*o.scrollFactorY;l.save(),c&&c.copyToContext(l);for(var h=v.roundPixels,g=0;g<u.length;g++){var m=u[g],x=m.flipX||m.flipY,w=m.frame,C=w.canvasData,E=w.x,T=w.y,S=1,A=1,P=m.alpha*a;P!==0&&(l.globalAlpha=P,x?(m.flipX&&(S=-1,E-=C.width),m.flipY&&(A=-1,T-=C.height),C.width>0&&C.height>0&&(l.save(),l.translate(m.x+d,m.y+p),l.scale(S,A),l.drawImage(w.source.image,C.x,C.y,C.width,C.height,E,T,C.width,C.height),l.restore())):(h&&(E=Math.round(E),T=Math.round(T)),C.width>0&&C.height>0&&l.drawImage(w.source.image,C.x,C.y,C.width,C.height,E+m.x+d,T+m.y+p,C.width,C.height)))}l.restore()}}};s.exports=y}),9403:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(6107),v=r(25305),c=r(44603),u=r(23568);c.register("blitter",function(l,a){l===void 0&&(l={});var d=u(l,"key",null),p=u(l,"frame",null),h=new o(this.scene,0,0,d,p);return a!==void 0&&(l.add=a),v(this.scene,h,l),h})}),12709:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(6107),v=r(39429);v.register("blitter",function(c,u,l,a){return this.displayList.add(new o(this.scene,c,u,l,a))})}),48011:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),v=o,c=o;v=r(99485),c=r(72396),s.exports={renderWebGL:v,renderCanvas:c}}),99485:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(61340),v=r(70554),c=new o,u=function(l,a,d,p){var h=a.getRenderList(),g=d.alpha*a.alpha;if(!(h.length===0||g===0)){d.addToRenderList(a);var m=l.pipelines.set(this.pipeline,a),x=d.scrollX*a.scrollFactorX,w=d.scrollY*a.scrollFactorY,C=c.copyFrom(d.matrix);p&&(C.multiplyWithOffset(p,-x,-w),x=0,w=0);var E=a.x-x,T=a.y-w,S=-1,A=!1,P=d.roundPixels;l.pipelines.preBatch(a);for(var R=0;R<h.length;R++){var L=h[R],D=L.frame,F=L.alpha*g;if(F!==0){var $=D.width,N=D.height,k=E+L.x+D.x,j=T+L.y+D.y;L.flipX&&($*=-1,k+=D.width),L.flipY&&(N*=-1,j+=D.height);var W=C.setQuad(k,j,k+$,j+N,P),G=v.getTintAppendFloatAlpha(L.tint,F);if(D.sourceIndex!==S){var K=m.setGameObject(a,D);S=D.sourceIndex}m.batchQuad(a,W[0],W[1],W[2],W[3],W[4],W[5],W[6],W[7],D.u0,D.v0,D.u1,D.v1,G,G,G,G,A,D.glTexture,K)&&(S=-1)}}l.pipelines.postBatch(a)}};s.exports=u}),46590:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(4327),c=new o({initialize:function(l,a,d,p,h){this.parent=l,this.x=a,this.y=d,this.frame=p,this.data={},this.tint=16777215,this._visible=h,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(u){return u===void 0?this.frame=this.parent.frame:u instanceof v&&u.texture===this.parent.texture?this.frame=u:this.frame=this.parent.texture.get(u),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(u,l,a){return this.x=u,this.y=l,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,a&&this.setFrame(a),this},setPosition:function(u,l){return this.x=u,this.y=l,this},setFlipX:function(u){return this.flipX=u,this},setFlipY:function(u){return this.flipY=u,this},setFlip:function(u,l){return this.flipX=u,this.flipY=l,this},setVisible:function(u){return this.visible=u,this},setAlpha:function(u){return this.alpha=u,this},setTint:function(u){return this.tint=u,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(u){this.parent.dirty|=this._visible!==u,this._visible=u}},alpha:{get:function(){return this._alpha},set:function(u){this.parent.dirty|=this._alpha>0!=u>0,this._alpha=u}}});s.exports=c}),16005:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),v=2,c={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(u,l,a,d){return u===void 0&&(u=1),l===void 0?this.alpha=u:(this._alphaTL=o(u,0,1),this._alphaTR=o(l,0,1),this._alphaBL=o(a,0,1),this._alphaBR=o(d,0,1)),this},alpha:{get:function(){return this._alpha},set:function(u){var l=o(u,0,1);this._alpha=l,this._alphaTL=l,this._alphaTR=l,this._alphaBL=l,this._alphaBR=l,l===0?this.renderFlags&=~v:this.renderFlags|=v}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(u){var l=o(u,0,1);this._alphaTL=l,l!==0&&(this.renderFlags|=v)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(u){var l=o(u,0,1);this._alphaTR=l,l!==0&&(this.renderFlags|=v)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(u){var l=o(u,0,1);this._alphaBL=l,l!==0&&(this.renderFlags|=v)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(u){var l=o(u,0,1);this._alphaBR=l,l!==0&&(this.renderFlags|=v)}}};s.exports=c}),88509:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),v=2,c={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(u){return u===void 0&&(u=1),this.alpha=u,this},alpha:{get:function(){return this._alpha},set:function(u){var l=o(u,0,1);this._alpha=l,l===0?this.renderFlags&=~v:this.renderFlags|=v}}};s.exports=c}),90065:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10312),v={_blendMode:o.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(c){typeof c=="string"&&(c=o[c]),c|=0,c>=-1&&(this._blendMode=c)}},setBlendMode:function(c){return this.blendMode=c,this}};s.exports=v}),94215:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(r){this.scaleX=r/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(r){this.scaleY=r/this.height}},setSize:function(r,o){return this.width=r,this.height=o,this},setDisplaySize:function(r,o){return this.displayWidth=r,this.displayHeight=o,this}};s.exports=y}),61683:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={texture:null,frame:null,isCropped:!1,setCrop:function(r,o,v,c){if(r===void 0)this.isCropped=!1;else if(this.frame){if(typeof r=="number")this.frame.setCropUVs(this._crop,r,o,v,c,this.flipX,this.flipY);else{var u=r;this.frame.setCropUVs(this._crop,u.x,u.y,u.width,u.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};s.exports=y}),89272:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37105),v={_depth:0,depth:{get:function(){return this._depth},set:function(c){this.displayList&&this.displayList.queueDepthSort(),this._depth=c}},setDepth:function(c){return c===void 0&&(c=0),this.depth=c,this},setToTop:function(){var c=this.getDisplayList();return c&&o.BringToTop(c,this),this},setToBack:function(){var c=this.getDisplayList();return c&&o.SendToBack(c,this),this},setAbove:function(c){var u=this.getDisplayList();return u&&c&&o.MoveAbove(u,this,c),this},setBelow:function(c){var u=this.getDisplayList();return u&&c&&o.MoveBelow(u,this,c),this}};s.exports=v}),47059:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(66064),c=r(19133),u=new o({initialize:function(a,d){this.gameObject=a,this.isPost=d,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(l){return l===void 0&&(l=0),this.padding=l,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(l){if(!this.isPost){var a=this.gameObject.scene.sys.renderer;a&&a.pipelines?(this.gameObject.pipeline=a.pipelines.FX_PIPELINE,l!==void 0&&(this.padding=l),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var l=this.list,a=0;a<l.length;a++)l[a].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(l){var a;if(this.isPost){var d=this.gameObject.getPostPipeline(String(l.type));for(Array.isArray(d)||(d=[d]),a=0;a<d.length;a++){var p=d[a];if(p.controller===l){this.gameObject.removePostPipeline(p),l.destroy();break}}}else{var h=this.list;for(a=0;a<h.length;a++)h[a]===l&&(c(h,a),l.destroy())}return this.gameObject},disable:function(l){return l===void 0&&(l=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,l&&this.clear(),this.gameObject},add:function(l,a){if(this.isPost){var d=String(l.type);this.gameObject.setPostPipeline(d,a);var p=this.gameObject.getPostPipeline(d);if(p)return Array.isArray(p)&&(p=p.pop()),p&&(p.controller=l),l}else return this.enabled||this.enable(),this.list.push(l),l},addGlow:function(l,a,d,p,h,g){return this.add(new v.Glow(this.gameObject,l,a,d,p),{quality:h,distance:g})},addShadow:function(l,a,d,p,h,g,m){return this.add(new v.Shadow(this.gameObject,l,a,d,p,h,g,m))},addPixelate:function(l){return this.add(new v.Pixelate(this.gameObject,l))},addVignette:function(l,a,d,p){return this.add(new v.Vignette(this.gameObject,l,a,d,p))},addShine:function(l,a,d,p){return this.add(new v.Shine(this.gameObject,l,a,d,p))},addBlur:function(l,a,d,p,h,g){return this.add(new v.Blur(this.gameObject,l,a,d,p,h,g))},addGradient:function(l,a,d,p,h,g,m,x){return this.add(new v.Gradient(this.gameObject,l,a,d,p,h,g,m,x))},addBloom:function(l,a,d,p,h,g){return this.add(new v.Bloom(this.gameObject,l,a,d,p,h,g))},addColorMatrix:function(){return this.add(new v.ColorMatrix(this.gameObject))},addCircle:function(l,a,d,p,h){return this.add(new v.Circle(this.gameObject,l,a,d,p,h))},addBarrel:function(l){return this.add(new v.Barrel(this.gameObject,l))},addDisplacement:function(l,a,d){return this.add(new v.Displacement(this.gameObject,l,a,d))},addWipe:function(l,a,d){return this.add(new v.Wipe(this.gameObject,l,a,d))},addReveal:function(l,a,d){return this.add(new v.Wipe(this.gameObject,l,a,d,!0))},addBokeh:function(l,a,d){return this.add(new v.Bokeh(this.gameObject,l,a,d))},addTiltShift:function(l,a,d,p,h,g){return this.add(new v.Bokeh(this.gameObject,l,a,d,!0,p,h,g))},destroy:function(){this.clear(),this.gameObject=null}});s.exports=u}),54434:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(r){return this.flipX=r,this},setFlipY:function(r){return this.flipY=r,this},setFlip:function(r,o){return this.flipX=r,this.flipY=o,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};s.exports=y}),8004:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),v=r(11520),c=r(26099),u={prepareBoundsOutput:function(l,a){if(a===void 0&&(a=!1),this.rotation!==0&&v(l,this.x,this.y,this.rotation),a&&this.parentContainer){var d=this.parentContainer.getBoundsTransformMatrix();d.transformPoint(l.x,l.y,l)}return l},getCenter:function(l,a){return l===void 0&&(l=new c),l.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,l.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(l,a)},getTopLeft:function(l,a){return l||(l=new c),l.x=this.x-this.displayWidth*this.originX,l.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(l,a)},getTopCenter:function(l,a){return l||(l=new c),l.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,l.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(l,a)},getTopRight:function(l,a){return l||(l=new c),l.x=this.x-this.displayWidth*this.originX+this.displayWidth,l.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(l,a)},getLeftCenter:function(l,a){return l||(l=new c),l.x=this.x-this.displayWidth*this.originX,l.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(l,a)},getRightCenter:function(l,a){return l||(l=new c),l.x=this.x-this.displayWidth*this.originX+this.displayWidth,l.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(l,a)},getBottomLeft:function(l,a){return l||(l=new c),l.x=this.x-this.displayWidth*this.originX,l.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(l,a)},getBottomCenter:function(l,a){return l||(l=new c),l.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,l.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(l,a)},getBottomRight:function(l,a){return l||(l=new c),l.x=this.x-this.displayWidth*this.originX+this.displayWidth,l.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(l,a)},getBounds:function(l){l===void 0&&(l=new o);var a,d,p,h,g,m,x,w;if(this.parentContainer){var C=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(l),C.transformPoint(l.x,l.y,l),a=l.x,d=l.y,this.getTopRight(l),C.transformPoint(l.x,l.y,l),p=l.x,h=l.y,this.getBottomLeft(l),C.transformPoint(l.x,l.y,l),g=l.x,m=l.y,this.getBottomRight(l),C.transformPoint(l.x,l.y,l),x=l.x,w=l.y}else this.getTopLeft(l),a=l.x,d=l.y,this.getTopRight(l),p=l.x,h=l.y,this.getBottomLeft(l),g=l.x,m=l.y,this.getBottomRight(l),x=l.x,w=l.y;return l.x=Math.min(a,p,g,x),l.y=Math.min(d,h,m,w),l.width=Math.max(a,p,g,x)-l.x,l.height=Math.max(d,h,m,w)-l.y,l}};s.exports=u}),8573:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(6858),v=r(80661),c={mask:null,setMask:function(u){return this.mask=u,this},clearMask:function(u){return u===void 0&&(u=!1),u&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(u,l,a,d,p){return u===void 0&&(this.texture||this.shader||this.geom)&&(u=this),new o(this.scene,u,l,a,d,p)},createGeometryMask:function(u){return u===void 0&&(this.type==="Graphics"||this.geom)&&(u=this),new v(this.scene,u)}};s.exports=c}),27387:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(r){this._displayOriginX=r,this.originX=r/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(r){this._displayOriginY=r,this.originY=r/this.height}},setOrigin:function(r,o){return r===void 0&&(r=.5),o===void 0&&(o=r),this.originX=r,this.originY=o,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(r,o){return r===void 0&&(r=0),o===void 0&&(o=r),this.displayOriginX=r,this.displayOriginY=o,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};s.exports=y}),37640:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39506),v=r(57355),c=r(35154),u=r(86353),l=r(26099),a={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:u.PLAYING_FORWARD,setPath:function(d,p){p===void 0&&(p=this.pathConfig);var h=this.pathTween;return h&&h.isPlaying()&&h.stop(),this.path=d,p&&this.startFollow(p),this},setRotateToPath:function(d,p){return p===void 0&&(p=0),this.rotateToPath=d,this.pathRotationOffset=p,this},isFollowing:function(){var d=this.pathTween;return d&&d.isPlaying()},startFollow:function(d,p){d===void 0&&(d={}),p===void 0&&(p=0);var h=this.pathTween;h&&h.isPlaying()&&h.stop(),typeof d=="number"&&(d={duration:d}),d.from=c(d,"from",0),d.to=c(d,"to",1);var g=v(d,"positionOnPath",!1);this.rotateToPath=v(d,"rotateToPath",!1),this.pathRotationOffset=c(d,"rotationOffset",0);var m=c(d,"startAt",p);if(m&&(d.onStart=function(w){var C=w.data[0];C.progress=m,C.elapsed=C.duration*m;var E=C.ease(C.progress);C.current=C.start+(C.end-C.start)*E,C.setTargetValue()}),this.pathOffset||(this.pathOffset=new l(this.x,this.y)),this.pathVector||(this.pathVector=new l),this.pathDelta||(this.pathDelta=new l),this.pathDelta.reset(),d.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(d),this.path.getStartPoint(this.pathOffset),g&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=u.PLAYING_FORWARD,this.rotateToPath){var x=this.path.getPoint(.1);this.rotation=Math.atan2(x.y-this.y,x.x-this.x)+o(this.pathRotationOffset)}return this.pathConfig=d,this},pauseFollow:function(){var d=this.pathTween;return d&&d.isPlaying()&&d.pause(),this},resumeFollow:function(){var d=this.pathTween;return d&&d.isPaused()&&d.resume(),this},stopFollow:function(){var d=this.pathTween;return d&&d.isPlaying()&&d.stop(),this},pathUpdate:function(){var d=this.pathTween;if(d&&d.data){var p=d.data[0],h=this.pathDelta,g=this.pathVector;if(h.copy(g).negate(),p.state===u.COMPLETE){this.path.getPoint(p.end,g),h.add(g),g.add(this.pathOffset),this.setPosition(g.x,g.y);return}else if(p.state!==u.PLAYING_FORWARD&&p.state!==u.PLAYING_BACKWARD)return;this.path.getPoint(d.getValue(),g),h.add(g),g.add(this.pathOffset);var m=this.x,x=this.y;this.setPosition(g.x,g.y);var w=this.x-m,C=this.y-x;if(w===0&&C===0)return;if(p.state!==this._prevDirection){this._prevDirection=p.state;return}this.rotateToPath&&(this.rotation=Math.atan2(C,w)+o(this.pathRotationOffset))}}};s.exports=a}),72699:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62644),v={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(c){this.pipelineData={};var u=this.scene.sys.renderer;if(!u)return!1;var l=u.pipelines;if(l){c===void 0&&(c=l.default);var a=l.get(c);if(a)return this.defaultPipeline=a,this.pipeline=a,!0}return!1},setPipeline:function(c,u,l){var a=this.scene.sys.renderer;if(!a)return this;var d=a.pipelines;if(d){var p=d.get(c);p&&(this.pipeline=p),u&&(this.pipelineData=l?o(u):u)}return this},setPipelineData:function(c,u){var l=this.pipelineData;return u===void 0?delete l[c]:l[c]=u,this},resetPipeline:function(c){return c===void 0&&(c=!1),this.pipeline=this.defaultPipeline,c&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline===null?null:this.pipeline.name}};s.exports=v}),17581:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62644),v=r(47059),c=r(19133),u={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(l){this.postPipelines=[],this.postPipelineData={},this.postFX=new v(this,!0),l&&(this.preFX=new v(this,!1))},setPostPipeline:function(l,a,d){var p=this.scene.sys.renderer;if(!p)return this;var h=p.pipelines;if(h){Array.isArray(l)||(l=[l]);for(var g=0;g<l.length;g++){var m=h.getPostPipeline(l[g],this,a);m&&this.postPipelines.push(m)}a&&(this.postPipelineData=d?o(a):a)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(l,a){var d=this.postPipelineData;return a===void 0?delete d[l]:d[l]=a,this},getPostPipeline:function(l){for(var a=typeof l=="string",d=this.postPipelines,p=[],h=0;h<d.length;h++){var g=d[h];(a&&g.name===l||!a&&g instanceof l)&&p.push(g)}return p.length===1?p[0]:p},resetPostPipeline:function(l){l===void 0&&(l=!1);for(var a=this.postPipelines,d=0;d<a.length;d++)a[d].destroy();this.postPipelines=[],this.hasPostPipeline=!1,l&&(this.postPipelineData={})},removePostPipeline:function(l){for(var a=typeof l=="string",d=this.postPipelines,p=d.length-1;p>=0;p--){var h=d[p];(a&&h.name===l||!a&&h===l)&&(h.destroy(),c(d,p))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};s.exports=u}),80227:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(r,o){return o===void 0&&(o=r),this.scrollFactorX=r,this.scrollFactorY=o,this}};s.exports=y}),16736:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(r){this.scaleX=r/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(r){this.scaleY=r/this.frame.realHeight}},setSizeToFrame:function(r){r||(r=this.frame),this.width=r.realWidth,this.height=r.realHeight;var o=this.input;return o&&!o.customHitArea&&(o.hitArea.width=this.width,o.hitArea.height=this.height),this},setSize:function(r,o){return this.width=r,this.height=o,this},setDisplaySize:function(r,o){return this.displayWidth=r,this.displayHeight=o,this}};s.exports=y}),37726:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(4327),v=8,c={texture:null,frame:null,isCropped:!1,setTexture:function(u,l,a,d){return this.texture=this.scene.sys.textures.get(u),this.setFrame(l,a,d)},setFrame:function(u,l,a){return l===void 0&&(l=!0),a===void 0&&(a=!0),u instanceof o?(this.texture=this.scene.sys.textures.get(u.texture.key),this.frame=u):this.frame=this.texture.get(u),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~v:this.renderFlags|=v,this._sizeComponent&&l&&this.setSizeToFrame(),this._originComponent&&a&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};s.exports=c}),79812:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(4327),v=8,c={texture:null,frame:null,isCropped:!1,setCrop:function(u,l,a,d){if(u===void 0)this.isCropped=!1;else if(this.frame){if(typeof u=="number")this.frame.setCropUVs(this._crop,u,l,a,d,this.flipX,this.flipY);else{var p=u;this.frame.setCropUVs(this._crop,p.x,p.y,p.width,p.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(u,l){return this.texture=this.scene.sys.textures.get(u),this.setFrame(l)},setFrame:function(u,l,a){return l===void 0&&(l=!0),a===void 0&&(a=!0),u instanceof o?(this.texture=this.scene.sys.textures.get(u.texture.key),this.frame=u):this.frame=this.texture.get(u),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~v:this.renderFlags|=v,this._sizeComponent&&l&&this.setSizeToFrame(),this._originComponent&&a&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};s.exports=c}),27472:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(r,o,v,c){return r===void 0&&(r=16777215),o===void 0&&(o=r,v=r,c=r),this.tintTopLeft=r,this.tintTopRight=o,this.tintBottomLeft=v,this.tintBottomRight=c,this.tintFill=!1,this},setTintFill:function(r,o,v,c){return this.setTint(r,o,v,c),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(r){this.setTint(r,r,r,r)}},isTinted:{get:function(){var r=16777215;return this.tintFill||this.tintTopLeft!==r||this.tintTopRight!==r||this.tintBottomLeft!==r||this.tintBottomRight!==r}}};s.exports=y}),53774:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){var o={name:r.name,type:r.type,x:r.x,y:r.y,depth:r.depth,scale:{x:r.scaleX,y:r.scaleY},origin:{x:r.originX,y:r.originY},flipX:r.flipX,flipY:r.flipY,rotation:r.rotation,alpha:r.alpha,visible:r.visible,blendMode:r.blendMode,textureKey:"",frameKey:"",data:{}};return r.texture&&(o.textureKey=r.texture.key,o.frameKey=r.frame.name),o};s.exports=y}),16901:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36383),v=r(61340),c=r(85955),u=r(86554),l=r(30954),a=r(26099),d=4,p={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(h){this._scaleX=h,this._scaleY=h,h===0?this.renderFlags&=~d:this.renderFlags|=d}},scaleX:{get:function(){return this._scaleX},set:function(h){this._scaleX=h,h===0?this.renderFlags&=~d:this._scaleY!==0&&(this.renderFlags|=d)}},scaleY:{get:function(){return this._scaleY},set:function(h){this._scaleY=h,h===0?this.renderFlags&=~d:this._scaleX!==0&&(this.renderFlags|=d)}},angle:{get:function(){return l(this._rotation*o.RAD_TO_DEG)},set:function(h){this.rotation=l(h)*o.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(h){this._rotation=u(h)}},setPosition:function(h,g,m,x){return h===void 0&&(h=0),g===void 0&&(g=h),m===void 0&&(m=0),x===void 0&&(x=0),this.x=h,this.y=g,this.z=m,this.w=x,this},copyPosition:function(h){return h.x!==void 0&&(this.x=h.x),h.y!==void 0&&(this.y=h.y),h.z!==void 0&&(this.z=h.z),h.w!==void 0&&(this.w=h.w),this},setRandomPosition:function(h,g,m,x){return h===void 0&&(h=0),g===void 0&&(g=0),m===void 0&&(m=this.scene.sys.scale.width),x===void 0&&(x=this.scene.sys.scale.height),this.x=h+Math.random()*m,this.y=g+Math.random()*x,this},setRotation:function(h){return h===void 0&&(h=0),this.rotation=h,this},setAngle:function(h){return h===void 0&&(h=0),this.angle=h,this},setScale:function(h,g){return h===void 0&&(h=1),g===void 0&&(g=h),this.scaleX=h,this.scaleY=g,this},setX:function(h){return h===void 0&&(h=0),this.x=h,this},setY:function(h){return h===void 0&&(h=0),this.y=h,this},setZ:function(h){return h===void 0&&(h=0),this.z=h,this},setW:function(h){return h===void 0&&(h=0),this.w=h,this},getLocalTransformMatrix:function(h){return h===void 0&&(h=new v),h.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(h,g){h===void 0&&(h=new v);var m=this.parentContainer;if(!m)return this.getLocalTransformMatrix(h);var x=!1;for(g||(g=new v,x=!0),h.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);m;)g.applyITRS(m.x,m.y,m._rotation,m._scaleX,m._scaleY),g.multiply(h,h),m=m.parentContainer;return x&&g.destroy(),h},getLocalPoint:function(h,g,m,x){m||(m=new a),x||(x=this.scene.sys.cameras.main);var w=x.scrollX,C=x.scrollY,E=h+w*this.scrollFactorX-w,T=g+C*this.scrollFactorY-C;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(E,T,m):c(E,T,this.x,this.y,this.rotation,this.scaleX,this.scaleY,m),this._originComponent&&(m.x+=this._displayOriginX,m.y+=this._displayOriginY),m},getWorldPoint:function(h,g,m){h===void 0&&(h=new a);var x=this.parentContainer;if(!x)return h.x=this.x,h.y=this.y,h;var w=this.getWorldTransformMatrix(g,m);return h.x=w.tx,h.y=w.ty,h},getParentRotation:function(){for(var h=0,g=this.parentContainer;g;)h+=g.rotation,g=g.parentContainer;return h}};s.exports=p}),61340:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(36383),c=r(26099),u=new o({initialize:function(a,d,p,h,g,m){a===void 0&&(a=1),d===void 0&&(d=0),p===void 0&&(p=0),h===void 0&&(h=1),g===void 0&&(g=0),m===void 0&&(m=0),this.matrix=new Float32Array([a,d,p,h,g,m,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(l){this.matrix[0]=l}},b:{get:function(){return this.matrix[1]},set:function(l){this.matrix[1]=l}},c:{get:function(){return this.matrix[2]},set:function(l){this.matrix[2]=l}},d:{get:function(){return this.matrix[3]},set:function(l){this.matrix[3]=l}},e:{get:function(){return this.matrix[4]},set:function(l){this.matrix[4]=l}},f:{get:function(){return this.matrix[5]},set:function(l){this.matrix[5]=l}},tx:{get:function(){return this.matrix[4]},set:function(l){this.matrix[4]=l}},ty:{get:function(){return this.matrix[5]},set:function(l){this.matrix[5]=l}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var l=this.matrix,a=l[0],d=l[1],p=l[2],h=l[3];return a||d?d>0?Math.acos(a/this.scaleX):-Math.acos(a/this.scaleX):p||h?v.TAU-(h>0?Math.acos(-p/this.scaleY):-Math.acos(p/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var l=this.matrix;return l[0]=1,l[1]=0,l[2]=0,l[3]=1,l[4]=0,l[5]=0,this},translate:function(l,a){var d=this.matrix;return d[4]=d[0]*l+d[2]*a+d[4],d[5]=d[1]*l+d[3]*a+d[5],this},scale:function(l,a){var d=this.matrix;return d[0]*=l,d[1]*=l,d[2]*=a,d[3]*=a,this},rotate:function(l){var a=Math.sin(l),d=Math.cos(l),p=this.matrix,h=p[0],g=p[1],m=p[2],x=p[3];return p[0]=h*d+m*a,p[1]=g*d+x*a,p[2]=h*-a+m*d,p[3]=g*-a+x*d,this},multiply:function(l,a){var d=this.matrix,p=l.matrix,h=d[0],g=d[1],m=d[2],x=d[3],w=d[4],C=d[5],E=p[0],T=p[1],S=p[2],A=p[3],P=p[4],R=p[5],L=a===void 0?d:a.matrix;return L[0]=E*h+T*m,L[1]=E*g+T*x,L[2]=S*h+A*m,L[3]=S*g+A*x,L[4]=P*h+R*m+w,L[5]=P*g+R*x+C,L},multiplyWithOffset:function(l,a,d){var p=this.matrix,h=l.matrix,g=p[0],m=p[1],x=p[2],w=p[3],C=p[4],E=p[5],T=a*g+d*x+C,S=a*m+d*w+E,A=h[0],P=h[1],R=h[2],L=h[3],D=h[4],F=h[5];return p[0]=A*g+P*x,p[1]=A*m+P*w,p[2]=R*g+L*x,p[3]=R*m+L*w,p[4]=D*g+F*x+T,p[5]=D*m+F*w+S,this},transform:function(l,a,d,p,h,g){var m=this.matrix,x=m[0],w=m[1],C=m[2],E=m[3],T=m[4],S=m[5];return m[0]=l*x+a*C,m[1]=l*w+a*E,m[2]=d*x+p*C,m[3]=d*w+p*E,m[4]=h*x+g*C+T,m[5]=h*w+g*E+S,this},transformPoint:function(l,a,d){d===void 0&&(d={x:0,y:0});var p=this.matrix,h=p[0],g=p[1],m=p[2],x=p[3],w=p[4],C=p[5];return d.x=l*h+a*m+w,d.y=l*g+a*x+C,d},invert:function(){var l=this.matrix,a=l[0],d=l[1],p=l[2],h=l[3],g=l[4],m=l[5],x=a*h-d*p;return l[0]=h/x,l[1]=-d/x,l[2]=-p/x,l[3]=a/x,l[4]=(p*m-h*g)/x,l[5]=-(a*m-d*g)/x,this},copyFrom:function(l){var a=this.matrix;return a[0]=l.a,a[1]=l.b,a[2]=l.c,a[3]=l.d,a[4]=l.e,a[5]=l.f,this},copyFromArray:function(l){var a=this.matrix;return a[0]=l[0],a[1]=l[1],a[2]=l[2],a[3]=l[3],a[4]=l[4],a[5]=l[5],this},copyToContext:function(l){var a=this.matrix;return l.transform(a[0],a[1],a[2],a[3],a[4],a[5]),l},setToContext:function(l){return l.setTransform(this.a,this.b,this.c,this.d,this.e,this.f),l},copyToArray:function(l){var a=this.matrix;return l===void 0?l=[a[0],a[1],a[2],a[3],a[4],a[5]]:(l[0]=a[0],l[1]=a[1],l[2]=a[2],l[3]=a[3],l[4]=a[4],l[5]=a[5]),l},setTransform:function(l,a,d,p,h,g){var m=this.matrix;return m[0]=l,m[1]=a,m[2]=d,m[3]=p,m[4]=h,m[5]=g,this},decomposeMatrix:function(){var l=this.decomposedMatrix,a=this.matrix,d=a[0],p=a[1],h=a[2],g=a[3],m=d*g-p*h;if(l.translateX=a[4],l.translateY=a[5],d||p){var x=Math.sqrt(d*d+p*p);l.rotation=p>0?Math.acos(d/x):-Math.acos(d/x),l.scaleX=x,l.scaleY=m/x}else if(h||g){var w=Math.sqrt(h*h+g*g);l.rotation=Math.PI*.5-(g>0?Math.acos(-h/w):-Math.acos(h/w)),l.scaleX=m/w,l.scaleY=w}else l.rotation=0,l.scaleX=0,l.scaleY=0;return l},applyITRS:function(l,a,d,p,h){var g=this.matrix,m=Math.sin(d),x=Math.cos(d);return g[4]=l,g[5]=a,g[0]=x*p,g[1]=m*p,g[2]=-m*h,g[3]=x*h,this},applyInverse:function(l,a,d){d===void 0&&(d=new c);var p=this.matrix,h=p[0],g=p[1],m=p[2],x=p[3],w=p[4],C=p[5],E=1/(h*x+m*-g);return d.x=x*E*l+-m*E*a+(C*m-w*x)*E,d.y=h*E*a+-g*E*l+(-C*h+w*g)*E,d},setQuad:function(l,a,d,p,h,g){h===void 0&&(h=!1),g===void 0&&(g=this.quad);var m=this.matrix,x=m[0],w=m[1],C=m[2],E=m[3],T=m[4],S=m[5],A=l*x+a*C+T,P=l*w+a*E+S,R=l*x+p*C+T,L=l*w+p*E+S,D=d*x+p*C+T,F=d*w+p*E+S,$=d*x+a*C+T,N=d*w+a*E+S;if(h){var k=Math.floor(A+.5),j=Math.floor(P+.5),W=k-A,G=j-P;g[0]=k,g[1]=j,g[2]=R+W,g[3]=L+G,g[4]=D+W,g[5]=F+G,g[6]=$+W,g[7]=N+G}else g[0]=A,g[1]=P,g[2]=R,g[3]=L,g[4]=D,g[5]=F,g[6]=$,g[7]=N;return g},getX:function(l,a){return l*this.a+a*this.c+this.e},getY:function(l,a){return l*this.b+a*this.d+this.f},getXRound:function(l,a,d){var p=this.getX(l,a);return d&&(p=Math.floor(p+.5)),p},getYRound:function(l,a,d){var p=this.getY(l,a);return d&&(p=Math.floor(p+.5)),p},getCSSMatrix:function(){var l=this.matrix;return"matrix("+l[0]+","+l[1]+","+l[2]+","+l[3]+","+l[4]+","+l[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});s.exports=u}),59715:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=1,r={_visible:!0,visible:{get:function(){return this._visible},set:function(o){o?(this._visible=!0,this.renderFlags|=y):(this._visible=!1,this.renderFlags&=~y)}},setVisible:function(o){return this.visible=o,this}};s.exports=r}),31401:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Alpha:r(16005),AlphaSingle:r(88509),BlendMode:r(90065),ComputedSize:r(94215),Crop:r(61683),Depth:r(89272),Flip:r(54434),FX:r(47059),GetBounds:r(8004),Mask:r(8573),Origin:r(27387),PathFollower:r(37640),Pipeline:r(72699),PostPipeline:r(17581),ScrollFactor:r(80227),Size:r(16736),Texture:r(37726),TextureCrop:r(79812),Tint:r(27472),ToJSON:r(53774),Transform:r(16901),TransformMatrix:r(61340),Visible:r(59715)}}),31559:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37105),v=r(10312),c=r(83419),u=r(31401),l=r(51708),a=r(95643),d=r(87841),p=r(29959),h=r(36899),g=r(26099),m=new u.TransformMatrix,x=new c({Extends:a,Mixins:[u.AlphaSingle,u.BlendMode,u.ComputedSize,u.Depth,u.Mask,u.PostPipeline,u.Transform,u.Visible,p],initialize:function(C,E,T,S){a.call(this,C,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new u.TransformMatrix,this._sortKey="",this._sysEvents=C.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(E,T),this.setBlendMode(v.SKIP_CHECK),S&&this.add(S)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(w){return w===void 0&&(w=!0),this.exclusive=w,this},getBounds:function(w){if(w===void 0&&(w=new d),w.setTo(this.x,this.y,0,0),this.parentContainer){var C=this.parentContainer.getBoundsTransformMatrix(),E=C.transformPoint(this.x,this.y);w.setTo(E.x,E.y,0,0)}if(this.list.length>0){var T=this.list,S=new d,A=!1;w.setEmpty();for(var P=0;P<T.length;P++){var R=T[P];R.getBounds&&(R.getBounds(S),A?h(S,w,w):(w.setTo(S.x,S.y,S.width,S.height),A=!0))}}return w},addHandler:function(w){w.once(l.DESTROY,this.onChildDestroyed,this),this.exclusive&&(w.parentContainer&&w.parentContainer.remove(w),w.parentContainer=this,w.removeFromDisplayList(),w.addedToScene())},removeHandler:function(w){w.off(l.DESTROY,this.remove,this),this.exclusive&&(w.parentContainer=null,w.removedFromScene(),w.addToDisplayList())},pointToContainer:function(w,C){C===void 0&&(C=new g),this.parentContainer?this.parentContainer.pointToContainer(w,C):(C.x=w.x,C.y=w.y);var E=m;return E.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),E.invert(),E.transformPoint(w.x,w.y,C),C},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(m,this.localTransform)},add:function(w){return o.Add(this.list,w,this.maxSize,this.addHandler,this),this},addAt:function(w,C){return o.AddAt(this.list,w,C,this.maxSize,this.addHandler,this),this},getAt:function(w){return this.list[w]},getIndex:function(w){return this.list.indexOf(w)},sort:function(w,C){return w?(C===void 0&&(C=function(E,T){return E[w]-T[w]}),o.StableSort(this.list,C),this):this},getByName:function(w){return o.GetFirst(this.list,"name",w)},getRandom:function(w,C){return o.GetRandom(this.list,w,C)},getFirst:function(w,C,E,T){return o.GetFirst(this.list,w,C,E,T)},getAll:function(w,C,E,T){return o.GetAll(this.list,w,C,E,T)},count:function(w,C,E,T){return o.CountAllMatching(this.list,w,C,E,T)},swap:function(w,C){return o.Swap(this.list,w,C),this},moveTo:function(w,C){return o.MoveTo(this.list,w,C),this},moveAbove:function(w,C){return o.MoveAbove(this.list,w,C),this},moveBelow:function(w,C){return o.MoveBelow(this.list,w,C),this},remove:function(w,C){var E=o.Remove(this.list,w,this.removeHandler,this);if(C&&E){Array.isArray(E)||(E=[E]);for(var T=0;T<E.length;T++)E[T].destroy()}return this},removeAt:function(w,C){var E=o.RemoveAt(this.list,w,this.removeHandler,this);return C&&E&&E.destroy(),this},removeBetween:function(w,C,E){var T=o.RemoveBetween(this.list,w,C,this.removeHandler,this);if(E)for(var S=0;S<T.length;S++)T[S].destroy();return this},removeAll:function(w){var C=this.list;if(w){for(var E=0;E<C.length;E++)C[E]&&C[E].scene&&(C[E].off(l.DESTROY,this.onChildDestroyed,this),C[E].destroy());this.list=[]}else o.RemoveBetween(C,0,C.length,this.removeHandler,this);return this},bringToTop:function(w){return o.BringToTop(this.list,w),this},sendToBack:function(w){return o.SendToBack(this.list,w),this},moveUp:function(w){return o.MoveUp(this.list,w),this},moveDown:function(w){return o.MoveDown(this.list,w),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return o.Shuffle(this.list),this},replace:function(w,C,E){var T=o.Replace(this.list,w,C);return T&&(this.addHandler(C),this.removeHandler(w),E&&w.destroy()),this},exists:function(w){return this.list.indexOf(w)>-1},setAll:function(w,C,E,T){return o.SetAll(this.list,w,C,E,T),this},each:function(w,C){var E=[null],T,S=this.list.slice(),A=S.length;for(T=2;T<arguments.length;T++)E.push(arguments[T]);for(T=0;T<A;T++)E[0]=S[T],w.apply(C,E);return this},iterate:function(w,C){var E=[null],T;for(T=2;T<arguments.length;T++)E.push(arguments[T]);for(T=0;T<this.list.length;T++)E[0]=this.list[T],w.apply(C,E);return this},setScrollFactor:function(w,C,E){return C===void 0&&(C=w),E===void 0&&(E=!1),this.scrollFactorX=w,this.scrollFactorY=C,E&&(o.SetAll(this.list,"scrollFactorX",w),o.SetAll(this.list,"scrollFactorY",C)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},onChildDestroyed:function(w){o.Remove(this.list,w),this.exclusive&&(w.parentContainer=null,w.removedFromScene())}});s.exports=x}),53584:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c){v.addToRenderList(o);var u=o.list;if(u.length!==0){var l=o.localTransform;c?(l.loadIdentity(),l.multiply(c),l.translate(o.x,o.y),l.rotate(o.rotation),l.scale(o.scaleX,o.scaleY)):l.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY);var a=o.blendMode!==-1;a||r.setBlendMode(0);var d=o._alpha,p=o.scrollFactorX,h=o.scrollFactorY;o.mask&&o.mask.preRenderCanvas(r,null,v);for(var g=0;g<u.length;g++){var m=u[g];if(m.willRender(v)){var x=m.alpha,w=m.scrollFactorX,C=m.scrollFactorY;!a&&m.blendMode!==r.currentBlendMode&&r.setBlendMode(m.blendMode),m.setScrollFactor(w*p,C*h),m.setAlpha(x*d),m.renderCanvas(r,m,v,l),m.setAlpha(x),m.setScrollFactor(w,C)}}o.mask&&o.mask.postRenderCanvas(r)}};s.exports=y}),77143:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),v=r(31559),c=r(44603),u=r(23568),l=r(95540);c.register("container",function(a,d){a===void 0&&(a={});var p=u(a,"x",0),h=u(a,"y",0),g=l(a,"children",null),m=new v(this.scene,p,h,g);return d!==void 0&&(a.add=d),o(this.scene,m,a),m})}),24961:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(31559),v=r(39429);v.register("container",function(c,u,l){return this.displayList.add(new o(this.scene,c,u,l))})}),29959:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),v=o,c=o;v=r(72249),c=r(53584),s.exports={renderWebGL:v,renderCanvas:c}}),72249:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c){v.addToRenderList(o);var u=o.list,l=u.length;if(l!==0){var a=o.localTransform;c?(a.loadIdentity(),a.multiply(c),a.translate(o.x,o.y),a.rotate(o.rotation),a.scale(o.scaleX,o.scaleY)):a.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY),r.pipelines.preBatch(o);var d=o.blendMode!==-1;d||r.setBlendMode(0);for(var p=o.alpha,h=o.scrollFactorX,g=o.scrollFactorY,m=0;m<l;m++){var x=u[m];if(x.willRender(v)){var w,C,E,T;if(x.alphaTopLeft!==void 0)w=x.alphaTopLeft,C=x.alphaTopRight,E=x.alphaBottomLeft,T=x.alphaBottomRight;else{var S=x.alpha;w=S,C=S,E=S,T=S}var A=x.scrollFactorX,P=x.scrollFactorY;!d&&x.blendMode!==r.currentBlendMode&&r.setBlendMode(x.blendMode);var R=x.mask;R&&R.preRenderWebGL(r,x,v);var L=x.type;L!==r.currentType&&(r.newType=!0,r.currentType=L),r.nextTypeMatch=m<l-1?u[m+1].type===r.currentType:!1,x.setScrollFactor(A*h,P*g),x.setAlpha(w*p,C*p,E*p,T*p),x.renderWebGL(r,x,v,a,o),x.setAlpha(w,C,E,T),x.setScrollFactor(A,P),R&&R.postRenderWebGL(r,v),r.newType=!1}}r.pipelines.postBatch(o)}};s.exports=y}),47407:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}),3069:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(31401),c=r(441),u=r(95643),l=r(41212),a=r(35846),d=r(44594),p=r(61369),h=new o({Extends:u,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Origin,v.ScrollFactor,v.Transform,v.Visible,c],initialize:function(m,x,w,C,E,T){if(u.call(this,m,"DOMElement"),this.parent=m.sys.game.domContainer,!this.parent)throw new Error("No DOM Container set in game config");this.cache=m.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new p,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(x,w),typeof C=="string"?C[0]==="#"?this.setElement(C.substr(1),E,T):this.createElement(C,E,T):C&&this.setElement(C,E,T),m.sys.events.on(d.SLEEP,this.handleSceneEvent,this),m.sys.events.on(d.WAKE,this.handleSceneEvent,this),m.sys.events.on(d.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(g){var m=this.node,x=m.style;m&&(x.display=g.settings.visible?"block":"none")},setSkew:function(g,m){return g===void 0&&(g=0),m===void 0&&(m=g),this.skewX=g,this.skewY=m,this},setPerspective:function(g){return this.parent.style.perspective=g+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(g){this.parent.style.perspective=g+"px"}},addListener:function(g){if(this.node){g=g.split(" ");for(var m=0;m<g.length;m++)this.node.addEventListener(g[m],this.handler,!1)}return this},removeListener:function(g){if(this.node){g=g.split(" ");for(var m=0;m<g.length;m++)this.node.removeEventListener(g[m],this.handler)}return this},dispatchNativeEvent:function(g){this.emit(g.type,g)},createElement:function(g,m,x){return this.setElement(document.createElement(g),m,x)},setElement:function(g,m,x){this.removeElement();var w;if(typeof g=="string"?(g[0]==="#"&&(g=g.substr(1)),w=document.getElementById(g)):typeof g=="object"&&g.nodeType===1&&(w=g),!w)return this;if(this.node=w,m&&l(m))for(var C in m)w.style[C]=m[C];else typeof m=="string"&&(w.style=m);return w.style.zIndex="0",w.style.display="inline",w.style.position="absolute",w.phaser=this,this.parent.appendChild(w),x&&(w.innerText=x),this.updateSize()},createFromCache:function(g,m){var x=this.cache.get(g);return x&&this.createFromHTML(x,m),this},createFromHTML:function(g,m){m===void 0&&(m="div"),this.removeElement();var x=document.createElement(m);return this.node=x,x.style.zIndex="0",x.style.display="inline",x.style.position="absolute",x.phaser=this,this.parent.appendChild(x),x.innerHTML=g,this.updateSize()},removeElement:function(){return this.node&&(a(this.node),this.node=null),this},updateSize:function(){var g=this.node;return this.width=g.clientWidth,this.height=g.clientHeight,this.displayWidth=this.width*this.scaleX,this.displayHeight=this.height*this.scaleY,this},getChildByProperty:function(g,m){if(this.node){for(var x=this.node.querySelectorAll("*"),w=0;w<x.length;w++)if(x[w][g]===m)return x[w]}return null},getChildByID:function(g){return this.getChildByProperty("id",g)},getChildByName:function(g){return this.getChildByProperty("name",g)},setClassName:function(g){return this.node&&(this.node.className=g,this.updateSize()),this},setText:function(g){return this.node&&(this.node.innerText=g,this.updateSize()),this},setHTML:function(g){return this.node&&(this.node.innerHTML=g,this.updateSize()),this},preRender:function(){var g=this.parentContainer,m=this.node;m&&g&&!g.willRender()&&(m.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(d.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(d.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(d.PRE_RENDER,this.preRender,this)}});s.exports=h}),49381:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(47407),v=r(95643),c=r(61340),u=new c,l=new c,a=new c,d=function(p,h,g,m){if(h.node){var x=h.node.style,w=h.scene.sys.settings;if(!x||!w.visible||v.RENDER_MASK!==h.renderFlags||h.cameraFilter!==0&&h.cameraFilter&g.id||h.parentContainer&&!h.parentContainer.willRender()){x.display="none";return}var C=h.parentContainer,E=g.alpha*h.alpha;C&&(E*=C.alpha);var T=u,S=l,A=a,P=0,R=0,L="0%",D="0%";m?(P=h.width*h.scaleX*h.originX,R=h.height*h.scaleY*h.originY,S.applyITRS(h.x-P,h.y-R,h.rotation,h.scaleX,h.scaleY),T.copyFrom(g.matrix),T.multiplyWithOffset(m,-g.scrollX*h.scrollFactorX,-g.scrollY*h.scrollFactorY),S.e=h.x-P,S.f=h.y-R,T.multiply(S,A)):(P=h.width*h.originX,R=h.height*h.originY,S.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY),T.copyFrom(g.matrix),L=100*h.originX+"%",D=100*h.originY+"%",S.e-=g.scrollX*h.scrollFactorX,S.f-=g.scrollY*h.scrollFactorY,T.multiply(S,A),A.e-=P,A.f-=R),h.transformOnly||(x.display="block",x.opacity=E,x.zIndex=h._depth,x.pointerEvents=h.pointerEvents,x.mixBlendMode=o[h._blendMode]),x.transform=A.getCSSMatrix()+" skew("+h.skewX+"rad, "+h.skewY+"rad) rotate3d("+h.rotate3d.x+","+h.rotate3d.y+","+h.rotate3d.z+","+h.rotate3d.w+h.rotate3dAngle+")",x.transformOrigin=L+" "+D}};s.exports=d}),2611:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(3069),v=r(39429);v.register("dom",function(c,u,l,a,d){var p=new o(this.scene,c,u,l,a,d);return this.displayList.add(p),p})}),441:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),v=o,c=o;v=r(49381),c=r(49381),s.exports={renderWebGL:v,renderCanvas:c}}),62980:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="addedtoscene"}),41337:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="destroy"}),44947:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="removedfromscene"}),49358:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="complete"}),35163:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="created"}),97249:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="error"}),19483:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="locked"}),56059:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="loop"}),26772:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="metadata"}),64437:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="playing"}),83411:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="play"}),75780:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="seeked"}),67799:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="seeking"}),63500:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="stalled"}),55541:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="stop"}),53208:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="textureready"}),4992:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="unlocked"}),12:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="unsupported"}),51708:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={ADDED_TO_SCENE:r(62980),DESTROY:r(41337),REMOVED_FROM_SCENE:r(44947),VIDEO_COMPLETE:r(49358),VIDEO_CREATED:r(35163),VIDEO_ERROR:r(97249),VIDEO_LOCKED:r(19483),VIDEO_LOOP:r(56059),VIDEO_METADATA:r(26772),VIDEO_PLAY:r(83411),VIDEO_PLAYING:r(64437),VIDEO_SEEKED:r(75780),VIDEO_SEEKING:r(67799),VIDEO_STALLED:r(63500),VIDEO_STOP:r(55541),VIDEO_TEXTURE:r(53208),VIDEO_UNLOCKED:r(4992),VIDEO_UNSUPPORTED:r(12)}}),42421:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(31401),c=r(95643),u=r(64993),l=new o({Extends:c,Mixins:[v.Alpha,v.BlendMode,v.Depth,v.Flip,v.Origin,v.ScrollFactor,v.Size,v.Texture,v.Tint,v.Transform,v.Visible,u],initialize:function(d){c.call(this,d,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});s.exports=l}),70217:(()=>{}),56315:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(42421),v=r(39429);v.register("extern",function(){var c=new o(this.scene);return this.displayList.add(c),c})}),64993:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),v=o,c=o;v=r(80287),c=r(70217),s.exports={renderWebGL:v,renderCanvas:c}}),80287:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),v=function(c,u,l,a){c.pipelines.clear();var d=o(u,l,a).calc;u.render.call(u,c,l,d),c.pipelines.rebind()};s.exports=v}),85592:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}}),43831:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(71911),v=r(83419),c=r(85592),u=r(31401),l=r(8497),a=r(95643),d=r(95540),p=r(35154),h=r(36383),g=r(84503),m=new v({Extends:a,Mixins:[u.AlphaSingle,u.BlendMode,u.Depth,u.Mask,u.Pipeline,u.PostPipeline,u.Transform,u.Visible,u.ScrollFactor,g],initialize:function(w,C){var E=p(C,"x",0),T=p(C,"y",0);a.call(this,w,"Graphics"),this.setPosition(E,T),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(C)},setDefaultStyles:function(x){return p(x,"lineStyle",null)&&(this.defaultStrokeWidth=p(x,"lineStyle.width",1),this.defaultStrokeColor=p(x,"lineStyle.color",16777215),this.defaultStrokeAlpha=p(x,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),p(x,"fillStyle",null)&&(this.defaultFillColor=p(x,"fillStyle.color",16777215),this.defaultFillAlpha=p(x,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(x,w,C){return C===void 0&&(C=1),this.commandBuffer.push(c.LINE_STYLE,x,w,C),this._lineWidth=x,this},fillStyle:function(x,w){return w===void 0&&(w=1),this.commandBuffer.push(c.FILL_STYLE,x,w),this},fillGradientStyle:function(x,w,C,E,T,S,A,P){return T===void 0&&(T=1),S===void 0&&(S=T),A===void 0&&(A=T),P===void 0&&(P=T),this.commandBuffer.push(c.GRADIENT_FILL_STYLE,T,S,A,P,x,w,C,E),this},lineGradientStyle:function(x,w,C,E,T,S){return S===void 0&&(S=1),this.commandBuffer.push(c.GRADIENT_LINE_STYLE,x,S,w,C,E,T),this},beginPath:function(){return this.commandBuffer.push(c.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(c.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(c.FILL_PATH),this},fill:function(){return this.commandBuffer.push(c.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(c.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(c.STROKE_PATH),this},fillCircleShape:function(x){return this.fillCircle(x.x,x.y,x.radius)},strokeCircleShape:function(x){return this.strokeCircle(x.x,x.y,x.radius)},fillCircle:function(x,w,C){return this.beginPath(),this.arc(x,w,C,0,h.PI2),this.fillPath(),this},strokeCircle:function(x,w,C){return this.beginPath(),this.arc(x,w,C,0,h.PI2),this.strokePath(),this},fillRectShape:function(x){return this.fillRect(x.x,x.y,x.width,x.height)},strokeRectShape:function(x){return this.strokeRect(x.x,x.y,x.width,x.height)},fillRect:function(x,w,C,E){return this.commandBuffer.push(c.FILL_RECT,x,w,C,E),this},strokeRect:function(x,w,C,E){var T=this._lineWidth/2,S=x-T,A=x+T;return this.beginPath(),this.moveTo(x,w),this.lineTo(x,w+E),this.strokePath(),this.beginPath(),this.moveTo(x+C,w),this.lineTo(x+C,w+E),this.strokePath(),this.beginPath(),this.moveTo(S,w),this.lineTo(A+C,w),this.strokePath(),this.beginPath(),this.moveTo(S,w+E),this.lineTo(A+C,w+E),this.strokePath(),this},fillRoundedRect:function(x,w,C,E,T){T===void 0&&(T=20);var S=T,A=T,P=T,R=T;typeof T!="number"&&(S=d(T,"tl",20),A=d(T,"tr",20),P=d(T,"bl",20),R=d(T,"br",20));var L=S>=0,D=A>=0,F=P>=0,$=R>=0;return S=Math.abs(S),A=Math.abs(A),P=Math.abs(P),R=Math.abs(R),this.beginPath(),this.moveTo(x+S,w),this.lineTo(x+C-A,w),D?this.arc(x+C-A,w+A,A,-h.TAU,0):this.arc(x+C,w,A,Math.PI,h.TAU,!0),this.lineTo(x+C,w+E-R),$?this.arc(x+C-R,w+E-R,R,0,h.TAU):this.arc(x+C,w+E,R,-h.TAU,Math.PI,!0),this.lineTo(x+P,w+E),F?this.arc(x+P,w+E-P,P,h.TAU,Math.PI):this.arc(x,w+E,P,0,-h.TAU,!0),this.lineTo(x,w+S),L?this.arc(x+S,w+S,S,-Math.PI,-h.TAU):this.arc(x,w,S,h.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(x,w,C,E,T){T===void 0&&(T=20);var S=T,A=T,P=T,R=T,L=Math.min(C,E)/2;typeof T!="number"&&(S=d(T,"tl",20),A=d(T,"tr",20),P=d(T,"bl",20),R=d(T,"br",20));var D=S>=0,F=A>=0,$=P>=0,N=R>=0;return S=Math.min(Math.abs(S),L),A=Math.min(Math.abs(A),L),P=Math.min(Math.abs(P),L),R=Math.min(Math.abs(R),L),this.beginPath(),this.moveTo(x+S,w),this.lineTo(x+C-A,w),this.moveTo(x+C-A,w),F?this.arc(x+C-A,w+A,A,-h.TAU,0):this.arc(x+C,w,A,Math.PI,h.TAU,!0),this.lineTo(x+C,w+E-R),this.moveTo(x+C,w+E-R),N?this.arc(x+C-R,w+E-R,R,0,h.TAU):this.arc(x+C,w+E,R,-h.TAU,Math.PI,!0),this.lineTo(x+P,w+E),this.moveTo(x+P,w+E),$?this.arc(x+P,w+E-P,P,h.TAU,Math.PI):this.arc(x,w+E,P,0,-h.TAU,!0),this.lineTo(x,w+S),this.moveTo(x,w+S),D?this.arc(x+S,w+S,S,-Math.PI,-h.TAU):this.arc(x,w,S,h.TAU,0,!0),this.strokePath(),this},fillPointShape:function(x,w){return this.fillPoint(x.x,x.y,w)},fillPoint:function(x,w,C){return!C||C<1?C=1:(x-=C/2,w-=C/2),this.commandBuffer.push(c.FILL_RECT,x,w,C,C),this},fillTriangleShape:function(x){return this.fillTriangle(x.x1,x.y1,x.x2,x.y2,x.x3,x.y3)},strokeTriangleShape:function(x){return this.strokeTriangle(x.x1,x.y1,x.x2,x.y2,x.x3,x.y3)},fillTriangle:function(x,w,C,E,T,S){return this.commandBuffer.push(c.FILL_TRIANGLE,x,w,C,E,T,S),this},strokeTriangle:function(x,w,C,E,T,S){return this.commandBuffer.push(c.STROKE_TRIANGLE,x,w,C,E,T,S),this},strokeLineShape:function(x){return this.lineBetween(x.x1,x.y1,x.x2,x.y2)},lineBetween:function(x,w,C,E){return this.beginPath(),this.moveTo(x,w),this.lineTo(C,E),this.strokePath(),this},lineTo:function(x,w){return this.commandBuffer.push(c.LINE_TO,x,w),this},moveTo:function(x,w){return this.commandBuffer.push(c.MOVE_TO,x,w),this},strokePoints:function(x,w,C,E){w===void 0&&(w=!1),C===void 0&&(C=!1),E===void 0&&(E=x.length),this.beginPath(),this.moveTo(x[0].x,x[0].y);for(var T=1;T<E;T++)this.lineTo(x[T].x,x[T].y);return w&&this.lineTo(x[0].x,x[0].y),C&&this.closePath(),this.strokePath(),this},fillPoints:function(x,w,C,E){w===void 0&&(w=!1),C===void 0&&(C=!1),E===void 0&&(E=x.length),this.beginPath(),this.moveTo(x[0].x,x[0].y);for(var T=1;T<E;T++)this.lineTo(x[T].x,x[T].y);return w&&this.lineTo(x[0].x,x[0].y),C&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(x,w){w===void 0&&(w=32);var C=x.getPoints(w);return this.strokePoints(C,!0)},strokeEllipse:function(x,w,C,E,T){T===void 0&&(T=32);var S=new l(x,w,C,E),A=S.getPoints(T);return this.strokePoints(A,!0)},fillEllipseShape:function(x,w){w===void 0&&(w=32);var C=x.getPoints(w);return this.fillPoints(C,!0)},fillEllipse:function(x,w,C,E,T){T===void 0&&(T=32);var S=new l(x,w,C,E),A=S.getPoints(T);return this.fillPoints(A,!0)},arc:function(x,w,C,E,T,S,A){return S===void 0&&(S=!1),A===void 0&&(A=0),this.commandBuffer.push(c.ARC,x,w,C,E,T,S,A),this},slice:function(x,w,C,E,T,S,A){return S===void 0&&(S=!1),A===void 0&&(A=0),this.commandBuffer.push(c.BEGIN_PATH),this.commandBuffer.push(c.MOVE_TO,x,w),this.commandBuffer.push(c.ARC,x,w,C,E,T,S,A),this.commandBuffer.push(c.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(c.SAVE),this},restore:function(){return this.commandBuffer.push(c.RESTORE),this},translateCanvas:function(x,w){return this.commandBuffer.push(c.TRANSLATE,x,w),this},scaleCanvas:function(x,w){return this.commandBuffer.push(c.SCALE,x,w),this},rotateCanvas:function(x){return this.commandBuffer.push(c.ROTATE,x),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(x,w,C){var E=this.scene.sys,T=E.game.renderer;w===void 0&&(w=E.scale.width),C===void 0&&(C=E.scale.height),m.TargetCamera.setScene(this.scene),m.TargetCamera.setViewport(0,0,w,C),m.TargetCamera.scrollX=this.x,m.TargetCamera.scrollY=this.y;var S,A,P={willReadFrequently:!0};if(typeof x=="string")if(E.textures.exists(x)){S=E.textures.get(x);var R=S.getSourceImage();R instanceof HTMLCanvasElement&&(A=R.getContext("2d",P))}else S=E.textures.createCanvas(x,w,C),A=S.getSourceImage().getContext("2d",P);else x instanceof HTMLCanvasElement&&(A=x.getContext("2d",P));return A&&(this.renderCanvas(T,this,m.TargetCamera,null,A,!1),S&&S.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});m.TargetCamera=new o,s.exports=m}),32768:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(85592),v=r(20926),c=function(u,l,a,d,p,h){var g=l.commandBuffer,m=g.length,x=p||u.currentContext;if(!(m===0||!v(u,x,l,a,d))){a.addToRenderList(l);var w=1,C=1,E=0,T=0,S=1,A=0,P=0,R=0;x.beginPath();for(var L=0;L<m;++L){var D=g[L];switch(D){case o.ARC:x.arc(g[L+1],g[L+2],g[L+3],g[L+4],g[L+5],g[L+6]),L+=7;break;case o.LINE_STYLE:S=g[L+1],E=g[L+2],w=g[L+3],A=(E&16711680)>>>16,P=(E&65280)>>>8,R=E&255,x.strokeStyle="rgba("+A+","+P+","+R+","+w+")",x.lineWidth=S,L+=3;break;case o.FILL_STYLE:T=g[L+1],C=g[L+2],A=(T&16711680)>>>16,P=(T&65280)>>>8,R=T&255,x.fillStyle="rgba("+A+","+P+","+R+","+C+")",L+=2;break;case o.BEGIN_PATH:x.beginPath();break;case o.CLOSE_PATH:x.closePath();break;case o.FILL_PATH:h||x.fill();break;case o.STROKE_PATH:h||x.stroke();break;case o.FILL_RECT:h?x.rect(g[L+1],g[L+2],g[L+3],g[L+4]):x.fillRect(g[L+1],g[L+2],g[L+3],g[L+4]),L+=4;break;case o.FILL_TRIANGLE:x.beginPath(),x.moveTo(g[L+1],g[L+2]),x.lineTo(g[L+3],g[L+4]),x.lineTo(g[L+5],g[L+6]),x.closePath(),h||x.fill(),L+=6;break;case o.STROKE_TRIANGLE:x.beginPath(),x.moveTo(g[L+1],g[L+2]),x.lineTo(g[L+3],g[L+4]),x.lineTo(g[L+5],g[L+6]),x.closePath(),h||x.stroke(),L+=6;break;case o.LINE_TO:x.lineTo(g[L+1],g[L+2]),L+=2;break;case o.MOVE_TO:x.moveTo(g[L+1],g[L+2]),L+=2;break;case o.LINE_FX_TO:x.lineTo(g[L+1],g[L+2]),L+=5;break;case o.MOVE_FX_TO:x.moveTo(g[L+1],g[L+2]),L+=5;break;case o.SAVE:x.save();break;case o.RESTORE:x.restore();break;case o.TRANSLATE:x.translate(g[L+1],g[L+2]),L+=2;break;case o.SCALE:x.scale(g[L+1],g[L+2]),L+=2;break;case o.ROTATE:x.rotate(g[L+1]),L+=1;break;case o.GRADIENT_FILL_STYLE:L+=5;break;case o.GRADIENT_LINE_STYLE:L+=6;break}}x.restore()}};s.exports=c}),87079:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(44603),v=r(43831);o.register("graphics",function(c,u){c===void 0&&(c={}),u!==void 0&&(c.add=u);var l=new v(this.scene,c);return c.add&&this.scene.sys.displayList.add(l),l})}),1201:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43831),v=r(39429);v.register("graphics",function(c){return this.displayList.add(new o(this.scene,c))})}),84503:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),v=o,c=o;v=r(77545),c=r(32768),c=r(32768),s.exports={renderWebGL:v,renderCanvas:c}}),77545:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(85592),v=r(91296),c=r(61340),u=r(70554),l=function(g,m,x){this.x=g,this.y=m,this.width=x},a=function(g,m,x){this.points=[],this.pointsLength=1,this.points[0]=new l(g,m,x)},d=[],p=new c,h=function(g,m,x,w){if(m.commandBuffer.length!==0){x.addToRenderList(m);var C=g.pipelines.set(m.pipeline,m);g.pipelines.preBatch(m);for(var E=v(m,x,w).calc,T=p.loadIdentity(),S=m.commandBuffer,A=x.alpha*m.alpha,P=1,R=C.fillTint,L=C.strokeTint,D=0,F=0,$=0,N=.01,k=Math.PI*2,j,W=[],G=0,K=!0,z=null,X=u.getTintAppendFloatAlpha,U=0;U<S.length;U++)switch(j=S[U],j){case o.BEGIN_PATH:{W.length=0,z=null,K=!0;break}case o.CLOSE_PATH:{K=!1,z&&z.points.length&&z.points.push(z.points[0]);break}case o.FILL_PATH:{for(G=0;G<W.length;G++)C.batchFillPath(W[G].points,T,E);break}case o.STROKE_PATH:{for(G=0;G<W.length;G++)C.batchStrokePath(W[G].points,P,K,T,E);break}case o.LINE_STYLE:{P=S[++U];var Z=S[++U],V=S[++U]*A,J=X(Z,V);L.TL=J,L.TR=J,L.BL=J,L.BR=J;break}case o.FILL_STYLE:{var _=S[++U],ee=S[++U]*A,te=X(_,ee);R.TL=te,R.TR=te,R.BL=te,R.BR=te;break}case o.GRADIENT_FILL_STYLE:{var ie=S[++U]*A,le=S[++U]*A,he=S[++U]*A,fe=S[++U]*A;R.TL=X(S[++U],ie),R.TR=X(S[++U],le),R.BL=X(S[++U],he),R.BR=X(S[++U],fe);break}case o.GRADIENT_LINE_STYLE:{P=S[++U];var oe=S[++U]*A;L.TL=X(S[++U],oe),L.TR=X(S[++U],oe),L.BL=X(S[++U],oe),L.BR=X(S[++U],oe);break}case o.ARC:{var Ce=0,ye=S[++U],Ee=S[++U],Ie=S[++U],je=S[++U],Re=S[++U],$e=S[++U],Ae=S[++U];for(Re-=je,$e?Re<-k?Re=-k:Re>0&&(Re=-k+Re%k):Re>k?Re=k:Re<0&&(Re=k+Re%k),z===null&&(z=new a(ye+Math.cos(je)*Ie,Ee+Math.sin(je)*Ie,P),W.push(z),Ce+=N);Ce<1+Ae;)$=Re*Ce+je,D=ye+Math.cos($)*Ie,F=Ee+Math.sin($)*Ie,z.points.push(new l(D,F,P)),Ce+=N;$=Re+je,D=ye+Math.cos($)*Ie,F=Ee+Math.sin($)*Ie,z.points.push(new l(D,F,P));break}case o.FILL_RECT:{C.batchFillRect(S[++U],S[++U],S[++U],S[++U],T,E);break}case o.FILL_TRIANGLE:{C.batchFillTriangle(S[++U],S[++U],S[++U],S[++U],S[++U],S[++U],T,E);break}case o.STROKE_TRIANGLE:{C.batchStrokeTriangle(S[++U],S[++U],S[++U],S[++U],S[++U],S[++U],P,T,E);break}case o.LINE_TO:{z!==null?z.points.push(new l(S[++U],S[++U],P)):(z=new a(S[++U],S[++U],P),W.push(z));break}case o.MOVE_TO:{z=new a(S[++U],S[++U],P),W.push(z);break}case o.SAVE:{d.push(T.copyToArray());break}case o.RESTORE:{T.copyFromArray(d.pop());break}case o.TRANSLATE:{ye=S[++U],Ee=S[++U],T.translate(ye,Ee);break}case o.SCALE:{ye=S[++U],Ee=S[++U],T.scale(ye,Ee);break}case o.ROTATE:{T.rotate(S[++U]);break}}g.pipelines.postBatch(m)}};s.exports=h}),26479:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(61061),v=r(83419),c=r(51708),u=r(50792),l=r(46710),a=r(95540),d=r(35154),p=r(97022),h=r(41212),g=r(88492),m=r(35072),x=r(68287),w=new v({Extends:u,initialize:function(E,T,S){u.call(this),S?T&&!Array.isArray(T)&&(T=[T]):Array.isArray(T)?h(T[0])&&(S=T,T=null):h(T)&&(S=T,T=null),this.scene=E,this.children=new m,this.isParent=!0,this.type="Group",this.classType=a(S,"classType",x),this.name=a(S,"name",""),this.active=a(S,"active",!0),this.maxSize=a(S,"maxSize",-1),this.defaultKey=a(S,"defaultKey",null),this.defaultFrame=a(S,"defaultFrame",null),this.runChildUpdate=a(S,"runChildUpdate",!1),this.createCallback=a(S,"createCallback",null),this.removeCallback=a(S,"removeCallback",null),this.createMultipleCallback=a(S,"createMultipleCallback",null),this.internalCreateCallback=a(S,"internalCreateCallback",null),this.internalRemoveCallback=a(S,"internalRemoveCallback",null),T&&this.addMultiple(T),S&&this.createMultiple(S),this.on(c.ADDED_TO_SCENE,this.addedToScene,this),this.on(c.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(C,E,T,S,A,P){if(C===void 0&&(C=0),E===void 0&&(E=0),T===void 0&&(T=this.defaultKey),S===void 0&&(S=this.defaultFrame),A===void 0&&(A=!0),P===void 0&&(P=!0),this.isFull())return null;var R=new this.classType(this.scene,C,E,T,S);return R.addToDisplayList(this.scene.sys.displayList),R.addToUpdateList(),R.visible=A,R.setActive(P),this.add(R),R},createMultiple:function(C){if(this.isFull())return[];Array.isArray(C)||(C=[C]);var E=[];if(C[0].key)for(var T=0;T<C.length;T++){var S=this.createFromConfig(C[T]);E=E.concat(S)}return E},createFromConfig:function(C){if(this.isFull())return[];this.classType=a(C,"classType",this.classType);var E=a(C,"key",void 0),T=a(C,"frame",null),S=a(C,"visible",!0),A=a(C,"active",!0),P=[];if(E===void 0)return P;Array.isArray(E)||(E=[E]),Array.isArray(T)||(T=[T]);var R=a(C,"repeat",0),L=a(C,"randomKey",!1),D=a(C,"randomFrame",!1),F=a(C,"yoyo",!1),$=a(C,"quantity",!1),N=a(C,"frameQuantity",1),k=a(C,"max",0),j=g(E,T,{max:k,qty:$||N,random:L,randomB:D,repeat:R,yoyo:F});C.createCallback&&(this.createCallback=C.createCallback),C.removeCallback&&(this.removeCallback=C.removeCallback),C.internalCreateCallback&&(this.internalCreateCallback=C.internalCreateCallback),C.internalRemoveCallback&&(this.internalRemoveCallback=C.internalRemoveCallback);for(var W=0;W<j.length;W++){var G=this.create(0,0,j[W].a,j[W].b,S,A);if(!G)break;P.push(G)}if(p(C,"setXY")){var K=d(C,"setXY.x",0),z=d(C,"setXY.y",0),X=d(C,"setXY.stepX",0),U=d(C,"setXY.stepY",0);o.SetXY(P,K,z,X,U)}if(p(C,"setRotation")){var Z=d(C,"setRotation.value",0),V=d(C,"setRotation.step",0);o.SetRotation(P,Z,V)}if(p(C,"setScale")){var J=d(C,"setScale.x",1),_=d(C,"setScale.y",J),ee=d(C,"setScale.stepX",0),te=d(C,"setScale.stepY",0);o.SetScale(P,J,_,ee,te)}if(p(C,"setOrigin")){var ie=d(C,"setOrigin.x",.5),le=d(C,"setOrigin.y",ie),he=d(C,"setOrigin.stepX",0),fe=d(C,"setOrigin.stepY",0);o.SetOrigin(P,ie,le,he,fe)}if(p(C,"setAlpha")){var oe=d(C,"setAlpha.value",1),Ce=d(C,"setAlpha.step",0);o.SetAlpha(P,oe,Ce)}if(p(C,"setDepth")){var ye=d(C,"setDepth.value",0),Ee=d(C,"setDepth.step",0);o.SetDepth(P,ye,Ee)}if(p(C,"setScrollFactor")){var Ie=d(C,"setScrollFactor.x",1),je=d(C,"setScrollFactor.y",Ie),Re=d(C,"setScrollFactor.stepX",0),$e=d(C,"setScrollFactor.stepY",0);o.SetScrollFactor(P,Ie,je,Re,$e)}var Ae=a(C,"hitArea",null),Xe=a(C,"hitAreaCallback",null);Ae&&o.SetHitArea(P,Ae,Xe);var st=a(C,"gridAlign",!1);return st&&o.GridAlign(P,st),this.createMultipleCallback&&this.createMultipleCallback.call(this,P),P},preUpdate:function(C,E){if(!(!this.runChildUpdate||this.children.size===0))for(var T=this.children.entries.slice(),S=0;S<T.length;S++){var A=T[S];A.active&&A.update(C,E)}},add:function(C,E){return E===void 0&&(E=!1),this.isFull()?this:(this.children.set(C),this.internalCreateCallback&&this.internalCreateCallback.call(this,C),this.createCallback&&this.createCallback.call(this,C),E&&(C.addToDisplayList(this.scene.sys.displayList),C.addToUpdateList()),C.on(c.DESTROY,this.remove,this),this)},addMultiple:function(C,E){if(E===void 0&&(E=!1),Array.isArray(C))for(var T=0;T<C.length;T++)this.add(C[T],E);return this},remove:function(C,E,T){return E===void 0&&(E=!1),T===void 0&&(T=!1),this.children.contains(C)?(this.children.delete(C),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,C),this.removeCallback&&this.removeCallback.call(this,C),C.off(c.DESTROY,this.remove,this),T?C.destroy():E&&(C.removeFromDisplayList(),C.removeFromUpdateList()),this):this},clear:function(C,E){C===void 0&&(C=!1),E===void 0&&(E=!1);for(var T=this.children,S=0;S<T.size;S++){var A=T.entries[S];A.off(c.DESTROY,this.remove,this),E?A.destroy():C&&(A.removeFromDisplayList(),A.removeFromUpdateList())}return this.children.clear(),this},contains:function(C){return this.children.contains(C)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(C,E,T,S){return l(this.children.entries,C,E,T,S)},getFirst:function(C,E,T,S,A,P,R){return this.getHandler(!0,1,C,E,T,S,A,P,R)},getFirstNth:function(C,E,T,S,A,P,R,L){return this.getHandler(!0,C,E,T,S,A,P,R,L)},getLast:function(C,E,T,S,A,P,R){return this.getHandler(!1,1,C,E,T,S,A,P,R)},getLastNth:function(C,E,T,S,A,P,R,L){return this.getHandler(!1,C,E,T,S,A,P,R,L)},getHandler:function(C,E,T,S,A,P,R,L,D){T===void 0&&(T=!1),S===void 0&&(S=!1);var F,$,N=0,k=this.children.entries;if(C)for($=0;$<k.length;$++)if(F=k[$],F.active===T){if(N++,N===E)break}else F=null;else for($=k.length-1;$>=0;$--)if(F=k[$],F.active===T){if(N++,N===E)break}else F=null;return F?(typeof A=="number"&&(F.x=A),typeof P=="number"&&(F.y=P),F):S?this.create(A,P,R,L,D):null},get:function(C,E,T,S,A){return this.getFirst(!1,!0,C,E,T,S,A)},getFirstAlive:function(C,E,T,S,A,P){return this.getFirst(!0,C,E,T,S,A,P)},getFirstDead:function(C,E,T,S,A,P){return this.getFirst(!1,C,E,T,S,A,P)},playAnimation:function(C,E){return o.PlayAnimation(this.children.entries,C,E),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(C){C===void 0&&(C=!0);for(var E=0,T=0;T<this.children.size;T++)this.children.entries[T].active===C&&E++;return E},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var C=this.getTotalUsed(),E=this.maxSize===-1?999999999999:this.maxSize;return E-C},setActive:function(C){return this.active=C,this},setName:function(C){return this.name=C,this},propertyValueSet:function(C,E,T,S,A){return o.PropertyValueSet(this.children.entries,C,E,T,S,A),this},propertyValueInc:function(C,E,T,S,A){return o.PropertyValueInc(this.children.entries,C,E,T,S,A),this},setX:function(C,E){return o.SetX(this.children.entries,C,E),this},setY:function(C,E){return o.SetY(this.children.entries,C,E),this},setXY:function(C,E,T,S){return o.SetXY(this.children.entries,C,E,T,S),this},incX:function(C,E){return o.IncX(this.children.entries,C,E),this},incY:function(C,E){return o.IncY(this.children.entries,C,E),this},incXY:function(C,E,T,S){return o.IncXY(this.children.entries,C,E,T,S),this},shiftPosition:function(C,E,T){return o.ShiftPosition(this.children.entries,C,E,T),this},angle:function(C,E){return o.Angle(this.children.entries,C,E),this},rotate:function(C,E){return o.Rotate(this.children.entries,C,E),this},rotateAround:function(C,E){return o.RotateAround(this.children.entries,C,E),this},rotateAroundDistance:function(C,E,T){return o.RotateAroundDistance(this.children.entries,C,E,T),this},setAlpha:function(C,E){return o.SetAlpha(this.children.entries,C,E),this},setTint:function(C,E,T,S){return o.SetTint(this.children.entries,C,E,T,S),this},setOrigin:function(C,E,T,S){return o.SetOrigin(this.children.entries,C,E,T,S),this},scaleX:function(C,E){return o.ScaleX(this.children.entries,C,E),this},scaleY:function(C,E){return o.ScaleY(this.children.entries,C,E),this},scaleXY:function(C,E,T,S){return o.ScaleXY(this.children.entries,C,E,T,S),this},setDepth:function(C,E){return o.SetDepth(this.children.entries,C,E),this},setBlendMode:function(C){return o.SetBlendMode(this.children.entries,C),this},setHitArea:function(C,E){return o.SetHitArea(this.children.entries,C,E),this},shuffle:function(){return o.Shuffle(this.children.entries),this},kill:function(C){this.children.contains(C)&&C.setActive(!1)},killAndHide:function(C){this.children.contains(C)&&(C.setActive(!1),C.setVisible(!1))},setVisible:function(C,E,T){return o.SetVisible(this.children.entries,C,E,T),this},toggleVisible:function(){return o.ToggleVisible(this.children.entries),this},destroy:function(C,E){C===void 0&&(C=!1),E===void 0&&(E=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(c.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(E,C),this.scene=void 0,this.children=void 0)}});s.exports=w}),94975:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(44603),v=r(26479);o.register("group",function(c){return new v(this.scene,null,c)})}),3385:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26479),v=r(39429);v.register("group",function(c,u){return this.updateList.add(new o(this.scene,c,u))})}),88571:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(31401),c=r(95643),u=r(59819),l=new o({Extends:c,Mixins:[v.Alpha,v.BlendMode,v.Depth,v.Flip,v.GetBounds,v.Mask,v.Origin,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Size,v.TextureCrop,v.Tint,v.Transform,v.Visible,u],initialize:function(d,p,h,g,m){c.call(this,d,"Image"),this._crop=this.resetCropObject(),this.setTexture(g,m),this.setPosition(p,h),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});s.exports=l}),40652:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c){v.addToRenderList(o),r.batchSprite(o,o.frame,v,c)};s.exports=y}),82459:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),v=r(44603),c=r(23568),u=r(88571);v.register("image",function(l,a){l===void 0&&(l={});var d=c(l,"key",null),p=c(l,"frame",null),h=new u(this.scene,0,0,d,p);return a!==void 0&&(l.add=a),o(this.scene,h,l),h})}),2117:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(88571),v=r(39429);v.register("image",function(c,u,l,a){return this.displayList.add(new o(this.scene,c,u,l,a))})}),59819:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),v=o,c=o;v=r(99517),c=r(40652),s.exports={renderWebGL:v,renderCanvas:c}}),99517:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c){v.addToRenderList(o),this.pipeline.batchSprite(o,v,c)};s.exports=y}),77856:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={Events:r(51708),DisplayList:r(8050),GameObjectCreator:r(44603),GameObjectFactory:r(39429),UpdateList:r(45027),Components:r(31401),GetCalcMatrix:r(91296),BuildGameObject:r(25305),BuildGameObjectAnimation:r(13059),GameObject:r(95643),BitmapText:r(22186),Blitter:r(6107),Bob:r(46590),Container:r(31559),DOMElement:r(3069),DynamicBitmapText:r(2638),Extern:r(42421),Graphics:r(43831),Group:r(26479),Image:r(88571),Layer:r(93595),Particles:r(18404),PathFollower:r(1159),RenderTexture:r(591),RetroFont:r(196),Rope:r(77757),Sprite:r(68287),Text:r(50171),GetTextSize:r(14220),MeasureText:r(79557),TextStyle:r(35762),TileSprite:r(20839),Zone:r(41481),Video:r(18471),Shape:r(17803),Arc:r(23629),Curve:r(89),Ellipse:r(19921),Grid:r(30479),IsoBox:r(61475),IsoTriangle:r(16933),Line:r(57847),Polygon:r(24949),Rectangle:r(74561),Star:r(55911),Triangle:r(36931),Factories:{Blitter:r(12709),Container:r(24961),DOMElement:r(2611),DynamicBitmapText:r(72566),Extern:r(56315),Graphics:r(1201),Group:r(3385),Image:r(2117),Layer:r(20005),Particles:r(676),PathFollower:r(90145),RenderTexture:r(60505),Rope:r(96819),Sprite:r(46409),StaticBitmapText:r(34914),Text:r(68005),TileSprite:r(91681),Zone:r(84175),Video:r(89025),Arc:r(42563),Curve:r(40511),Ellipse:r(1543),Grid:r(34137),IsoBox:r(3933),IsoTriangle:r(49803),Line:r(2481),Polygon:r(64827),Rectangle:r(87959),Star:r(93697),Triangle:r(45245)},Creators:{Blitter:r(9403),Container:r(77143),DynamicBitmapText:r(11164),Graphics:r(87079),Group:r(94975),Image:r(82459),Layer:r(25179),Particles:r(92730),RenderTexture:r(34495),Rope:r(26209),Sprite:r(15567),StaticBitmapText:r(57336),Text:r(71259),TileSprite:r(14167),Zone:r(95261),Video:r(11511)}};o.Shader=r(20071),o.Mesh=r(4703),o.NineSlice=r(28103),o.PointLight=r(80321),o.Plane=r(33663),o.Factories.Shader=r(74177),o.Factories.Mesh=r(9225),o.Factories.NineSlice=r(47521),o.Factories.PointLight=r(71255),o.Factories.Plane=r(30985),o.Creators.Shader=r(54935),o.Creators.Mesh=r(20527),o.Creators.NineSlice=r(28279),o.Creators.PointLight=r(39829),o.Creators.Plane=r(56015),o.Light=r(41432),o.LightsManager=r(61356),o.LightsPlugin=r(88992),s.exports=o}),93595:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10312),v=r(83419),c=r(31401),u=r(53774),l=r(45893),a=r(50792),d=r(51708),p=r(73162),h=r(33963),g=r(44594),m=r(19186),x=new v({Extends:p,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.Mask,c.PostPipeline,c.Visible,a,h],initialize:function(C,E){p.call(this,C),a.call(this),this.scene=C,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=C.sys,this.events=C.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(o.SKIP_CHECK),E&&this.add(E),C.sys.queueDepthSort()},setActive:function(w){return this.active=w,this},setName:function(w){return this.name=w,this},setState:function(w){return this.state=w,this},setDataEnabled:function(){return this.data||(this.data=new l(this)),this},setData:function(w,C){return this.data||(this.data=new l(this)),this.data.set(w,C),this},incData:function(w,C){return this.data||(this.data=new l(this)),this.data.inc(w,C),this},toggleData:function(w){return this.data||(this.data=new l(this)),this.data.toggle(w),this},getData:function(w){return this.data||(this.data=new l(this)),this.data.get(w)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return u(this)},willRender:function(w){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&w.id)},getIndexList:function(){for(var w=this,C=this.parentContainer,E=[];C&&(E.unshift(C.getIndex(w)),w=C,C.parentContainer);)C=C.parentContainer;return E.unshift(this.displayList.getIndex(w)),E},addChildCallback:function(w){var C=w.displayList;C&&C!==this&&w.removeFromDisplayList(),w.displayList||(this.queueDepthSort(),w.displayList=this,w.emit(d.ADDED_TO_SCENE,w,this.scene),this.events.emit(g.ADDED_TO_SCENE,w,this.scene))},removeChildCallback:function(w){this.queueDepthSort(),w.displayList=null,w.emit(d.REMOVED_FROM_SCENE,w,this.scene),this.events.emit(g.REMOVED_FROM_SCENE,w,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(m(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(w,C){return w._depth-C._depth},getChildren:function(){return this.list},addToDisplayList:function(w){return w===void 0&&(w=this.scene.sys.displayList),this.displayList&&this.displayList!==w&&this.removeFromDisplayList(),w.exists(this)||(this.displayList=w,w.add(this,!0),w.queueDepthSort(),this.emit(d.ADDED_TO_SCENE,this,this.scene),w.events.emit(g.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var w=this.displayList||this.scene.sys.displayList;return w.exists(this)&&(w.remove(this,!0),w.queueDepthSort(),this.displayList=null,this.emit(d.REMOVED_FROM_SCENE,this,this.scene),w.events.emit(g.REMOVED_FROM_SCENE,this,this.scene)),this},getDisplayList:function(){var w=null;return this.parentContainer?w=this.parentContainer.list:this.displayList&&(w=this.displayList.list),w},destroy:function(w){if(!(!this.scene||this.ignoreDestroy)){this.emit(d.DESTROY,this);for(var C=this.list;C.length;)C[0].destroy(w);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});s.exports=x}),2956:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){var c=o.list;if(c.length!==0){o.depthSort();var u=o.blendMode!==-1;u||r.setBlendMode(0);var l=o._alpha;o.mask&&o.mask.preRenderCanvas(r,null,v);for(var a=0;a<c.length;a++){var d=c[a];if(d.willRender(v)){var p=d.alpha;!u&&d.blendMode!==r.currentBlendMode&&r.setBlendMode(d.blendMode),d.setAlpha(p*l),d.renderCanvas(r,d,v),d.setAlpha(p)}}o.mask&&o.mask.postRenderCanvas(r)}};s.exports=y}),25179:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),v=r(93595),c=r(44603),u=r(23568);c.register("layer",function(l,a){l===void 0&&(l={});var d=u(l,"children",null),p=new v(this.scene,d);return a!==void 0&&(l.add=a),o(this.scene,p,l),p})}),20005:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(93595),v=r(39429);v.register("layer",function(c){return this.displayList.add(new o(this.scene,c))})}),33963:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),v=o,c=o;v=r(15869),c=r(2956),s.exports={renderWebGL:v,renderCanvas:c}}),15869:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){var c=o.list,u=c.length;if(u!==0){o.depthSort(),r.pipelines.preBatch(o);var l=o.blendMode!==-1;l||r.setBlendMode(0);for(var a=o.alpha,d=0;d<u;d++){var p=c[d];if(p.willRender(v)){var h,g,m,x;if(p.alphaTopLeft!==void 0)h=p.alphaTopLeft,g=p.alphaTopRight,m=p.alphaBottomLeft,x=p.alphaBottomRight;else{var w=p.alpha;h=w,g=w,m=w,x=w}!l&&p.blendMode!==r.currentBlendMode&&r.setBlendMode(p.blendMode);var C=p.mask;C&&C.preRenderWebGL(r,p,v);var E=p.type;E!==r.currentType&&(r.newType=!0,r.currentType=E),r.nextTypeMatch=d<u-1?c[d+1].type===r.currentType:!1,p.setAlpha(h*a,g*a,m*a,x*a),p.renderWebGL(r,p,v),p.setAlpha(h,g,m,x),C&&C.postRenderWebGL(r,v),r.newType=!1}}r.pipelines.postBatch(o)}};s.exports=y}),41432:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(96503),v=r(83419),c=r(31401),u=r(51767),l=r(70554),a=new v({Extends:o,Mixins:[c.Origin,c.ScrollFactor,c.Visible],initialize:function(p,h,g,m,x,w,C){o.call(this,p,h,g),this.color=new u(m,x,w),this.intensity=C,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(g)},displayWidth:{get:function(){return this.diameter},set:function(d){this.diameter=d}},displayHeight:{get:function(){return this.diameter},set:function(d){this.diameter=d}},width:{get:function(){return this.diameter},set:function(d){this.diameter=d}},height:{get:function(){return this.diameter},set:function(d){this.diameter=d}},willRender:function(d){return!(a.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&d.id)},setColor:function(d){var p=l.getFloatsFromUintRGB(d);return this.color.set(p[0],p[1],p[2]),this},setIntensity:function(d){return this.intensity=d,this},setRadius:function(d){return this.radius=d,this}});a.RENDER_MASK=15,s.exports=a}),61356:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(81491),v=r(83419),c=r(20339),u=r(41432),l=r(80321),a=r(51767),d=r(19133),p=r(19186),h=r(70554),g=new v({initialize:function(){this.lights=[],this.ambientColor=new a(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(m,x,w,C,E,T){return this.systems.displayList.add(new l(this.scene,m,x,w,C,E,T))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(m){for(var x=this.lights,w=m.worldView,C=[],E=0;E<x.length;E++){var T=x[E];T.willRender(m)&&o(T,w)&&C.push({light:T,distance:c(T.x,T.y,w.centerX,w.centerY)})}return C.length>this.maxLights&&(p(C,this.sortByDistance),C=C.slice(0,this.maxLights)),this.visibleLights=C.length,C},sortByDistance:function(m,x){return m.distance>=x.distance},setAmbientColor:function(m){var x=h.getFloatsFromUintRGB(m);return this.ambientColor.set(x[0],x[1],x[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(m,x,w,C,E){m===void 0&&(m=0),x===void 0&&(x=0),w===void 0&&(w=128),C===void 0&&(C=16777215),E===void 0&&(E=1);var T=h.getFloatsFromUintRGB(C),S=new u(m,x,w,T[0],T[1],T[2],E);return this.lights.push(S),S},removeLight:function(m){var x=this.lights.indexOf(m);return x>=0&&d(this.lights,x),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});s.exports=g}),88992:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(61356),c=r(37277),u=r(44594),l=new o({Extends:v,initialize:function(d){this.scene=d,this.systems=d.sys,d.sys.settings.isBooted||d.sys.events.once(u.BOOT,this.boot,this),v.call(this)},boot:function(){var a=this.systems.events;a.on(u.SHUTDOWN,this.shutdown,this),a.on(u.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});c.register("LightsPlugin",l,"lights"),s.exports=l}),4703:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(31401),c=r(39506),u=r(83997),l=r(95643),a=r(34684),d=r(92515),p=r(91296),h=r(37867),g=r(29807),m=r(43396),x=r(19186),w=r(25836),C=r(39318),E=new o({Extends:l,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Mask,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Size,v.Texture,v.Transform,v.Visible,g],initialize:function(S,A,P,R,L,D,F,$,N,k,j,W){A===void 0&&(A=0),P===void 0&&(P=0),R===void 0&&(R="__WHITE"),l.call(this,S,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new w,this.modelScale=new w(1,1,1),this.modelRotation=new w,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new h,this.viewPosition=new w,this.viewMatrix=new h,this.projectionMatrix=new h,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var G=S.sys.renderer;this.setPosition(A,P),this.setTexture(R,L),this.setSize(G.width,G.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(G.width,G.height),D&&this.addVertices(D,F,$,N,k,j,W)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(T){return this.viewPosition.addScale(w.LEFT,T),this.dirtyCache[10]=1,this},panY:function(T){return this.viewPosition.y+=w.DOWN.y*T,this.dirtyCache[10]=1,this},panZ:function(T){return this.viewPosition.z+=T,this.dirtyCache[10]=1,this},setPerspective:function(T,S,A,P,R){return A===void 0&&(A=45),P===void 0&&(P=.01),R===void 0&&(R=1e3),this.fov=A,this.projectionMatrix.perspective(c(A),T/S,P,R),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(T,S,A,P){return T===void 0&&(T=this.scene.sys.renderer.getAspectRatio()),S===void 0&&(S=1),A===void 0&&(A=-1e3),P===void 0&&(P=1e3),this.fov=0,this.projectionMatrix.ortho(-T,T,-S,S,A,P),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(T){T.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(T,S,A,P,R,L,D,F,$){var N=this.scene.sys.cache.obj.get(T),k;return N&&(k=a(N,this,S,A,P,R,L,D,F,$)),(!k||k.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",T),this},sortByDepth:function(T,S){return T.depth-S.depth},depthSort:function(){return x(this.faces,this.sortByDepth),this},addVertex:function(T,S,A,P,R,L,D){var F=new C(T,S,A,P,R,L,D);return this.vertices.push(F),F},addFace:function(T,S,A){var P=new u(T,S,A);return this.faces.push(P),this.dirtyCache[9]=-1,P},addVertices:function(T,S,A,P,R,L,D){var F=d(T,S,A,P,R,L,D);return F?(this.faces=this.faces.concat(F.faces),this.vertices=this.vertices.concat(F.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(T){return this.faces[T]},hasFaceAt:function(T,S,A){A===void 0&&(A=this.scene.sys.cameras.main);for(var P=p(this,A).calc,R=this.faces,L=0;L<R.length;L++){var D=R[L];if(D.contains(T,S,P))return!0}return!1},getFaceAt:function(T,S,A){A===void 0&&(A=this.scene.sys.cameras.main);for(var P=p(this,A).calc,R=this.faces,L=[],D=0;D<R.length;D++){var F=R[D];F.contains(T,S,P)&&L.push(F)}return x(L,this.sortByDepth)},setDebug:function(T,S){return this.debugGraphic=T,!T&&!S?this.debugCallback=null:S?this.debugCallback=S:this.debugCallback=this.renderDebug,this},isDirty:function(){var T=this.modelPosition,S=this.modelRotation,A=this.modelScale,P=this.dirtyCache,R=T.x,L=T.y,D=T.z,F=S.x,$=S.y,N=S.z,k=A.x,j=A.y,W=A.z,G=this.getFaceCount(),K=P[0],z=P[1],X=P[2],U=P[3],Z=P[4],V=P[5],J=P[6],_=P[7],ee=P[8],te=P[9];return P[0]=R,P[1]=L,P[2]=D,P[3]=F,P[4]=$,P[5]=N,P[6]=k,P[7]=j,P[8]=W,P[9]=G,K!==R||z!==L||X!==D||U!==F||Z!==$||V!==N||J!==k||_!==j||ee!==W||te!==G},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var T=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!T[10]&&!this.isDirty())){var S=this.width,A=this.height,P=this.viewMatrix,R=this.viewPosition;T[10]&&(P.identity(),P.translate(R),P.invert(),T[10]=0);var L=this.transformMatrix;L.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var D=R.z,F=this.faces,$=0;$<F.length;$++)F[$].transformCoordinatesLocal(L,S,A,D);this.depthSort()}},renderDebug:function(T,S){for(var A=T.debugGraphic,P=0;P<S.length;P++){var R=S[P],L=R.vertex1.tx,D=R.vertex1.ty,F=R.vertex2.tx,$=R.vertex2.ty,N=R.vertex3.tx,k=R.vertex3.ty;A.strokeTriangle(L,D,F,$,N,k)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(T){T===void 0&&(T={});var S=(function(A,P,R){for(var L=this.faces,D=0;D<L.length;D++){var F=L[D];if(F.contains(P,R))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,T,S),this},setTint:function(T){T===void 0&&(T=16777215);for(var S=this.vertices,A=0;A<S.length;A++)S[A].color=T;return this},uvScroll:function(T,S){for(var A=this.faces,P=0;P<A.length;P++)A[P].scrollUV(T,S);return this},uvScale:function(T,S){for(var A=this.faces,P=0;P<A.length;P++)A[P].scaleUV(T,S);return this},tint:{set:function(T){this.setTint(T)}},rotateX:{get:function(){return m(this.modelRotation.x)},set:function(T){this.modelRotation.x=c(T)}},rotateY:{get:function(){return m(this.modelRotation.y)},set:function(T){this.modelRotation.y=c(T)}},rotateZ:{get:function(){return m(this.modelRotation.z)},set:function(T){this.modelRotation.z=c(T)}}});s.exports=E}),36488:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){};s.exports=y}),20527:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),v=r(44603),c=r(23568),u=r(35154),l=r(4703);v.register("mesh",function(a,d){a===void 0&&(a={});var p=c(a,"key",null),h=c(a,"frame",null),g=u(a,"vertices",[]),m=u(a,"uvs",[]),x=u(a,"indicies",[]),w=u(a,"containsZ",!1),C=u(a,"normals",[]),E=u(a,"colors",16777215),T=u(a,"alphas",1),S=new l(this.scene,0,0,p,h,g,m,x,w,C,E,T);return d!==void 0&&(a.add=d),o(this.scene,S,a),S})}),9225:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(4703),v=r(39429);v.register("mesh",function(c,u,l,a,d,p,h,g,m,x,w){return this.displayList.add(new o(this.scene,c,u,l,a,d,p,h,g,m,x,w))})}),29807:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),v=o,c=o;v=r(48833),c=r(36488),s.exports={renderWebGL:v,renderCanvas:c}}),48833:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),v=function(c,u,l,a){var d=u.faces,p=d.length;if(p!==0){l.addToRenderList(u);var h=c.pipelines.set(u.pipeline,u),g=o(u,l,a).calc;c.pipelines.preBatch(u);for(var m=h.setGameObject(u),x=h.vertexViewF32,w=h.vertexViewU32,C=h.vertexCount*h.currentShader.vertexComponentCount-1,E=u.tintFill,T=[],S=u.debugCallback,A=g.a,P=g.b,R=g.c,L=g.d,D=g.e,F=g.f,$=u.viewPosition.z,N=u.hideCCW,k=l.roundPixels,j=l.alpha*u.alpha,W=0,G=0;G<p;G++){var K=d[G];K.isInView(l,N,$,j,A,P,R,L,D,F,k)&&(h.shouldFlush(3)&&(h.flush(),m=h.setGameObject(u),C=h.vertexCount*h.currentShader.vertexComponentCount-1),C=K.load(x,w,C,m,E),W++,h.vertexCount+=3,h.currentBatch.count=h.vertexCount-h.currentBatch.start,S&&T.push(K))}u.totalFrame+=W,S&&S.call(u,u,T),c.pipelines.postBatch(u)}};s.exports=v}),28103:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(31401),c=r(95643),u=r(78023),l=r(39318),a=new o({Extends:c,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.GetBounds,v.Mask,v.Origin,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Texture,v.Transform,v.Visible,u],initialize:function(p,h,g,m,x,w,C,E,T,S,A){c.call(this,p,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var P=p.textures.getFrame(m,x);this.is3Slice=!S&&!A,P&&P.scale9&&(this.is3Slice=P.is3Slice);for(var R=this.is3Slice?18:54,L=0;L<R;L++)this.vertices.push(new l);this.setPosition(h,g),this.setTexture(m,x),this.setSlices(w,C,E,T,S,A,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(d,p,h,g,m,x,w){h===void 0&&(h=10),g===void 0&&(g=10),m===void 0&&(m=0),x===void 0&&(x=0),w===void 0&&(w=!1);var C=this.frame,E=!1;if(this.is3Slice&&w&&m!==0&&x!==0&&(E=!0),E)console.warn("Cannot change 9 slice to 3 slice");else{if(C&&C.scale9&&!w){var T=C.data.scale9Borders,S=T.x,A=T.y;h=S,g=C.width-T.w-S,m=A,x=C.height-T.h-A,d===void 0&&(d=C.width),p===void 0&&(p=C.height)}else d===void 0&&(d=256),p===void 0&&(p=256);this._width=d,this._height=p,this.leftWidth=h,this.rightWidth=g,this.topHeight=m,this.bottomHeight=x,this.is3Slice&&(p=C.height,this._height=p,this.topHeight=p,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var d=this.leftWidth,p=this.rightWidth,h=this.topHeight,g=this.bottomHeight,m=this.frame.width,x=this.frame.height;this.updateQuadUVs(0,0,0,d/m,h/x),this.updateQuadUVs(6,d/m,0,1-p/m,h/x),this.updateQuadUVs(12,1-p/m,0,1,h/x),this.is3Slice||(this.updateQuadUVs(18,0,h/x,d/m,1-g/x),this.updateQuadUVs(24,d/m,h/x,1-p/m,1-g/x),this.updateQuadUVs(30,1-p/m,h/x,1,1-g/x),this.updateQuadUVs(36,0,1-g/x,d/m,1),this.updateQuadUVs(42,d/m,1-g/x,1-p/m,1),this.updateQuadUVs(48,1-p/m,1-g/x,1,1))},updateVertices:function(){var d=this.leftWidth,p=this.rightWidth,h=this.topHeight,g=this.bottomHeight,m=this.width,x=this.height;this.updateQuad(0,-.5,.5,-.5+d/m,.5-h/x),this.updateQuad(6,-.5+d/m,.5,.5-p/m,.5-h/x),this.updateQuad(12,.5-p/m,.5,.5,.5-h/x),this.is3Slice||(this.updateQuad(18,-.5,.5-h/x,-.5+d/m,-.5+g/x),this.updateQuad(24,-.5+d/m,.5-h/x,.5-p/m,-.5+g/x),this.updateQuad(30,.5-p/m,.5-h/x,.5,-.5+g/x),this.updateQuad(36,-.5,-.5+g/x,-.5+d/m,-.5),this.updateQuad(42,-.5+d/m,-.5+g/x,.5-p/m,-.5),this.updateQuad(48,.5-p/m,-.5+g/x,.5,-.5))},updateQuad:function(d,p,h,g,m){var x=this.width,w=this.height,C=this.originX,E=this.originY,T=this.vertices;T[d+0].resize(p,h,x,w,C,E),T[d+1].resize(p,m,x,w,C,E),T[d+2].resize(g,h,x,w,C,E),T[d+3].resize(p,m,x,w,C,E),T[d+4].resize(g,m,x,w,C,E),T[d+5].resize(g,h,x,w,C,E)},updateQuadUVs:function(d,p,h,g,m){var x=this.vertices,w=this.frame,C=w.u0,E=w.v0,T=w.u1,S=w.v1;if(C!==0||T!==1){var A=T-C;p=C+p*A,g=C+g*A}if(E!==0||S!==1){var P=S-E;h=E+h*P,m=E+m*P}x[d+0].setUVs(p,h),x[d+1].setUVs(p,m),x[d+2].setUVs(g,h),x[d+3].setUVs(p,m),x[d+4].setUVs(g,m),x[d+5].setUVs(g,h)},clearTint:function(){return this.setTint(16777215),this},setTint:function(d){return d===void 0&&(d=16777215),this.tint=d,this.tintFill=!1,this},setTintFill:function(d){return this.setTint(d),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(d){this._width=Math.max(d,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(d){this.is3Slice||(this._height=Math.max(d,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(d){this.scaleX=d/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(d){this.scaleY=d/this.height}},setSize:function(d,p){this.width=d,this.height=p,this.updateDisplayOrigin();var h=this.input;return h&&!h.customHitArea&&(h.hitArea.width=this.width,h.hitArea.height=this.height),this},setDisplaySize:function(d,p){return this.displayWidth=d,this.displayHeight=p,this},originX:{get:function(){return this._originX},set:function(d){this._originX=d,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(d){this._originY=d,this.updateVertices()}},setOrigin:function(d,p){return d===void 0&&(d=.5),p===void 0&&(p=d),this._originX=d,this._originY=p,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var d=this.frame.height;this._height=d,this.topHeight=d,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});s.exports=a}),28279:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),v=r(44603),c=r(23568),u=r(35154),l=r(28103);v.register("nineslice",function(a,d){a===void 0&&(a={});var p=c(a,"key",null),h=c(a,"frame",null),g=u(a,"width",256),m=u(a,"height",256),x=u(a,"leftWidth",10),w=u(a,"rightWidth",10),C=u(a,"topHeight",0),E=u(a,"bottomHeight",0),T=new l(this.scene,0,0,p,h,g,m,x,w,C,E);return d!==void 0&&(a.add=d),o(this.scene,T,a),T})}),47521:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(28103),v=r(39429);v.register("nineslice",function(c,u,l,a,d,p,h,g,m,x){return this.displayList.add(new o(this.scene,c,u,l,a,d,p,h,g,m,x))})}),78023:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),v=o,c=o;v=r(52230),s.exports={renderWebGL:v,renderCanvas:c}}),52230:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),v=r(70554),c=function(u,l,a,d){var p=l.vertices,h=p.length;if(h!==0){a.addToRenderList(l);var g=u.pipelines.set(l.pipeline,l),m=o(l,a,d,!1).calc;u.pipelines.preBatch(l);var x=g.setGameObject(l),w=g.vertexViewF32,C=g.vertexViewU32,E=g.vertexCount*g.currentShader.vertexComponentCount-1,T=a.roundPixels,S=l.tintFill,A=a.alpha*l.alpha,P=v.getTintAppendFloatAlpha(l.tint,A),R=g.vertexAvailable(),L=-1;R<h&&(L=R);for(var D=0;D<h;D++){var F=p[D];D===L&&(g.flush(),x=g.setGameObject(l),E=0),w[++E]=m.getXRound(F.vx,F.vy,T),w[++E]=m.getYRound(F.vx,F.vy,T),w[++E]=F.u,w[++E]=F.v,w[++E]=x,w[++E]=S,C[++E]=P,g.vertexCount++,g.currentBatch.count=g.vertexCount-g.currentBatch.start}u.pipelines.postBatch(l)}};s.exports=c}),76472:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(44777),c=r(37589),u=r(6113),l=r(91389),a=r(90664),d=new o({Extends:v,initialize:function(h){v.call(this,h,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var p=this.propertyValue,h=p,g=this.defaultEmit,m=this.defaultUpdate;if(this.method===9){this.start=p[0],this.ease=u("Linear"),this.interpolation=l("linear"),g=this.easedValueEmit,m=this.easeValueUpdate,h=p[0],this.active=!0,this.r.length=0,this.g.length=0,this.b.length=0;for(var x=0;x<p.length;x++){var w=a(p[x]);this.r.push(w.r),this.g.push(w.g),this.b.push(w.b)}}return this.onEmit=g,this.onUpdate=m,this.current=h,this},setEase:function(p){this.easeName=p,this.ease=u(p)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(p,h,g){var m=this.ease(g),x=this.interpolation(this.r,m),w=this.interpolation(this.g,m),C=this.interpolation(this.b,m),E=c(x,w,C);return this.current=E,E}});s.exports=d}),44777:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(30976),v=r(45319),c=r(83419),u=r(99472),l=r(6113),a=r(95540),d=r(91389),p=r(77720),h=r(15994),g=new c({initialize:function(x,w,C){C===void 0&&(C=!1),this.propertyKey=x,this.propertyValue=w,this.defaultValue=w,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=C,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(m,x){m===void 0&&(m={}),x&&(this.propertyKey=x),this.propertyValue=a(m,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(m){var x;switch(this.method){case 1:case 3:case 8:x=m;break;case 2:this.propertyValue.indexOf(m)>=0&&(x=m);break;case 4:var w=(this.end-this.start)/this.steps;x=p(m,w),this.counter=x;break;case 5:case 6:case 7:x=v(m,this.start,this.end);break;case 9:x=this.start[0];break}return this.current=x,this},getMethod:function(){var m=this.propertyValue;if(m===null)return 0;var x=typeof m;if(x==="number")return 1;if(Array.isArray(m))return 2;if(x==="function")return 3;if(x==="object"){if(this.hasBoth(m,"start","end"))return this.has(m,"steps")?4:5;if(this.hasBoth(m,"min","max"))return 6;if(this.has(m,"random"))return 7;if(this.hasEither(m,"onEmit","onUpdate"))return 8;if(this.hasEither(m,"values","interpolation"))return 9}return 0},setMethods:function(){var m=this.propertyValue,x=m,w=this.defaultEmit,C=this.defaultUpdate;switch(this.method){case 1:w=this.staticValueEmit;break;case 2:w=this.randomStaticValueEmit,x=m[0];break;case 3:this._onEmit=m,w=this.proxyEmit,x=this.defaultValue;break;case 4:this.start=m.start,this.end=m.end,this.steps=m.steps,this.counter=this.start,this.yoyo=this.has(m,"yoyo")?m.yoyo:!1,this.direction=0,w=this.steppedEmit,x=this.start;break;case 5:this.start=m.start,this.end=m.end;var E=this.has(m,"ease")?m.ease:"Linear";this.ease=l(E,m.easeParams),w=this.has(m,"random")&&m.random?this.randomRangedValueEmit:this.easedValueEmit,C=this.easeValueUpdate,x=this.start;break;case 6:this.start=m.min,this.end=m.max,w=this.has(m,"int")&&m.int?this.randomRangedIntEmit:this.randomRangedValueEmit,x=this.start;break;case 7:var T=m.random;Array.isArray(T)&&(this.start=T[0],this.end=T[1]),w=this.randomRangedIntEmit,x=this.start;break;case 8:this._onEmit=this.has(m,"onEmit")?m.onEmit:this.defaultEmit,this._onUpdate=this.has(m,"onUpdate")?m.onUpdate:this.defaultUpdate,w=this.proxyEmit,C=this.proxyUpdate,x=this.defaultValue;break;case 9:this.start=m.values;var S=this.has(m,"ease")?m.ease:"Linear";this.ease=l(S,m.easeParams),this.interpolation=d(m.interpolation),w=this.easedValueEmit,C=this.easeValueUpdate,x=this.start[0];break}return this.onEmit=w,this.onUpdate=C,this.current=x,this},has:function(m,x){return m.hasOwnProperty(x)},hasBoth:function(m,x,w){return m.hasOwnProperty(x)&&m.hasOwnProperty(w)},hasEither:function(m,x,w){return m.hasOwnProperty(x)||m.hasOwnProperty(w)},defaultEmit:function(){return this.defaultValue},defaultUpdate:function(m,x,w,C){return C},proxyEmit:function(m,x,w){var C=this._onEmit(m,x,w);return this.current=C,C},proxyUpdate:function(m,x,w,C){var E=this._onUpdate(m,x,w,C);return this.current=E,E},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var m=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[m],this.current},randomRangedValueEmit:function(m,x){var w=u(this.start,this.end);return m&&m.data[x]&&(m.data[x].min=w,m.data[x].max=this.end),this.current=w,w},randomRangedIntEmit:function(m,x){var w=o(this.start,this.end);return m&&m.data[x]&&(m.data[x].min=w,m.data[x].max=this.end),this.current=w,w},steppedEmit:function(){var m=this.counter,x=m,w=(this.end-this.start)/this.steps;if(this.yoyo){var C;this.direction===0?(x+=w,x>=this.end&&(C=x-this.end,x=this.end-C,this.direction=1)):(x-=w,x<=this.start&&(C=this.start-x,x=this.start+C,this.direction=0)),this.counter=x}else this.counter=h(x+w,this.start,this.end);return this.current=m,m},easedValueEmit:function(m,x){if(m&&m.data[x]){var w=m.data[x];w.min=this.start,w.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(m,x,w){var C=m.data[x],E,T=this.ease(w);return this.interpolation?E=this.interpolation(this.start,T):E=(C.max-C.min)*T+C.min,this.current=E,E},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});s.exports=g}),24502:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(95540),c=r(20286),u=new o({Extends:c,initialize:function(a,d,p,h,g){if(typeof a=="object"){var m=a;a=v(m,"x",0),d=v(m,"y",0),p=v(m,"power",0),h=v(m,"epsilon",100),g=v(m,"gravity",50)}else a===void 0&&(a=0),d===void 0&&(d=0),p===void 0&&(p=0),h===void 0&&(h=100),g===void 0&&(g=50);c.call(this,a,d,!0),this._gravity=g,this._power=p*g,this._epsilon=h*h},update:function(l,a){var d=this.x-l.x,p=this.y-l.y,h=d*d+p*p;if(h!==0){var g=Math.sqrt(h);h<this._epsilon&&(h=this._epsilon);var m=this._power*a/(h*g)*100;l.velocityX+=d*m,l.velocityY+=p*m}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(l){this._epsilon=l*l}},power:{get:function(){return this._power/this._gravity},set:function(l){this._power=l*this._gravity}},gravity:{get:function(){return this._gravity},set:function(l){var a=this.power;this._gravity=l,this.power=a}}});s.exports=u}),56480:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(9674),v=r(45319),c=r(83419),u=r(39506),l=r(87841),a=r(11520),d=r(26099),p=new c({initialize:function(g){this.emitter=g,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new d,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=g.scene,this.anims=null,this.emitter.anims.length>0&&(this.anims=new o(this)),this.bounds=new l},emit:function(h,g,m,x,w,C){return this.emitter.emit(h,g,m,x,w,C)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(h,g){h===void 0&&(h=0),g===void 0&&(g=0),this.x=h,this.y=g},fire:function(h,g){var m=this.emitter,x=m.ops,w=m.getAnim();if(w?this.anims.play(w):(this.frame=m.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(m.getEmitZone(this),h===void 0?this.x+=x.x.onEmit(this,"x"):x.x.steps>0?this.x+=h+x.x.onEmit(this,"x"):this.x+=h,g===void 0?this.y+=x.y.onEmit(this,"y"):x.y.steps>0?this.y+=g+x.y.onEmit(this,"y"):this.y+=g,this.life=x.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=x.delay.onEmit(this,"delay"),this.holdCurrent=x.hold.onEmit(this,"hold"),this.scaleX=x.scaleX.onEmit(this,"scaleX"),this.scaleY=x.scaleY.active?x.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=x.rotate.onEmit(this,"rotate"),this.rotation=u(this.angle),m.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&m.getDeathZone(this))return this.lifeCurrent=0,!1;var C=x.speedX.onEmit(this,"speedX"),E=x.speedY.active?x.speedY.onEmit(this,"speedY"):C;if(m.radial){var T=u(x.angle.onEmit(this,"angle"));this.velocityX=Math.cos(T)*Math.abs(C),this.velocityY=Math.sin(T)*Math.abs(E)}else if(m.moveTo){var S=x.moveToX.onEmit(this,"moveToX"),A=x.moveToY.onEmit(this,"moveToY"),P=this.life/1e3;this.velocityX=(S-this.x)/P,this.velocityY=(A-this.y)/P}else this.velocityX=C,this.velocityY=E;return m.acceleration&&(this.accelerationX=x.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=x.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=x.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=x.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=x.bounce.onEmit(this,"bounce"),this.alpha=x.alpha.onEmit(this,"alpha"),x.color.active?this.tint=x.color.onEmit(this,"tint"):this.tint=x.tint.onEmit(this,"tint"),!0},update:function(h,g,m){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=h,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=h,!1;this.anims&&this.anims.update(0,h);var x=this.emitter,w=x.ops,C=1-this.lifeCurrent/this.life;if(this.lifeT=C,this.x=w.x.onUpdate(this,"x",C,this.x),this.y=w.y.onUpdate(this,"y",C,this.y),x.moveTo){var E=w.moveToX.onUpdate(this,"moveToX",C,x.moveToX),T=w.moveToY.onUpdate(this,"moveToY",C,x.moveToY),S=this.lifeCurrent/1e3;this.velocityX=(E-this.x)/S,this.velocityY=(T-this.y)/S}return this.computeVelocity(x,h,g,m,C),this.scaleX=w.scaleX.onUpdate(this,"scaleX",C,this.scaleX),w.scaleY.active?this.scaleY=w.scaleY.onUpdate(this,"scaleY",C,this.scaleY):this.scaleY=this.scaleX,this.angle=w.rotate.onUpdate(this,"rotate",C,this.angle),this.rotation=u(this.angle),x.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=v(w.alpha.onUpdate(this,"alpha",C,this.alpha),0,1),w.color.active?this.tint=w.color.onUpdate(this,"color",C,this.tint):this.tint=w.tint.onUpdate(this,"tint",C,this.tint),this.lifeCurrent-=h,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(h,g,m,x,w){var C=h.ops,E=this.velocityX,T=this.velocityY,S=C.accelerationX.onUpdate(this,"accelerationX",w,this.accelerationX),A=C.accelerationY.onUpdate(this,"accelerationY",w,this.accelerationY),P=C.maxVelocityX.onUpdate(this,"maxVelocityX",w,this.maxVelocityX),R=C.maxVelocityY.onUpdate(this,"maxVelocityY",w,this.maxVelocityY);this.bounce=C.bounce.onUpdate(this,"bounce",w,this.bounce),E+=h.gravityX*m+S*m,T+=h.gravityY*m+A*m,E=v(E,-P,P),T=v(T,-R,R),this.velocityX=E,this.velocityY=T,this.x+=E*m,this.y+=T*m,h.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var L=0;L<x.length;L++){var D=x[L];D.active&&D.update(this,g,m,w)}},setSizeToFrame:function(){},getBounds:function(h){h===void 0&&(h=this.emitter.getWorldTransformMatrix());var g=Math.abs(h.scaleX)*this.scaleX,m=Math.abs(h.scaleY)*this.scaleY,x=this.x,w=this.y,C=this.rotation,E=this.frame.width*g/2,T=this.frame.height*m/2,S=this.bounds,A=new d(x-E,w-T),P=new d(x+E,w-T),R=new d(x-E,w+T),L=new d(x+E,w+T);return C!==0&&(a(A,x,w,C),a(P,x,w,C),a(R,x,w,C),a(L,x,w,C)),h.transformPoint(A.x,A.y,A),h.transformPoint(P.x,P.y,P),h.transformPoint(R.x,R.y,R),h.transformPoint(L.x,L.y,L),S.x=Math.min(A.x,P.x,R.x,L.x),S.y=Math.min(A.y,P.y,R.y,L.y),S.width=Math.max(A.x,P.x,R.x,L.x)-S.x,S.height=Math.max(A.y,P.y,R.y,L.y)-S.y,S},destroy:function(){this.anims&&this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});s.exports=p}),69601:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(20286),c=r(87841),u=new o({Extends:v,initialize:function(a,d,p,h,g,m,x,w){g===void 0&&(g=!0),m===void 0&&(m=!0),x===void 0&&(x=!0),w===void 0&&(w=!0),v.call(this,a,d,!0),this.bounds=new c(a,d,p,h),this.collideLeft=g,this.collideRight=m,this.collideTop=x,this.collideBottom=w},update:function(l){var a=this.bounds,d=-l.bounce,p=l.worldPosition;p.x<a.x&&this.collideLeft?(l.x+=a.x-p.x,l.velocityX*=d):p.x>a.right&&this.collideRight&&(l.x-=p.x-a.right,l.velocityX*=d),p.y<a.y&&this.collideTop?(l.y+=a.y-p.y,l.velocityY*=d):p.y>a.bottom&&this.collideBottom&&(l.y-=p.y-a.bottom,l.velocityY*=d)}});s.exports=u}),31600:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(31401),c=r(53774),u=r(43459),l=r(26388),a=r(19909),d=r(76472),p=r(44777),h=r(20696),g=r(95643),m=r(95540),x=r(26546),w=r(24502),C=r(69036),E=r(1985),T=r(97022),S=r(86091),A=r(73162),P=r(20074),R=r(269),L=r(56480),D=r(69601),F=r(68875),$=r(87841),N=r(59996),k=r(72905),j=r(90668),W=r(19186),G=r(61340),K=r(26099),z=r(15994),X=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],U=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],Z=new o({Extends:g,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Mask,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Texture,v.Transform,v.Visible,j],initialize:function(J,_,ee,te,ie){g.call(this,J,"ParticleEmitter"),this.particleClass=L,this.config=null,this.ops={accelerationX:new p("accelerationX",0),accelerationY:new p("accelerationY",0),alpha:new p("alpha",1),angle:new p("angle",{min:0,max:360},!0),bounce:new p("bounce",0),color:new d("color"),delay:new p("delay",0,!0),hold:new p("hold",0,!0),lifespan:new p("lifespan",1e3,!0),maxVelocityX:new p("maxVelocityX",1e4),maxVelocityY:new p("maxVelocityY",1e4),moveToX:new p("moveToX",0),moveToY:new p("moveToY",0),quantity:new p("quantity",1,!0),rotate:new p("rotate",0),scaleX:new p("scaleX",1),scaleY:new p("scaleY",1),speedX:new p("speedX",0,!0),speedY:new p("speedY",0,!0),tint:new p("tint",16777215),x:new p("x",0),y:new p("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new K,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new G,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new A(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(_,ee),this.setTexture(te),ie&&this.setConfig(ie)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(V){if(!V)return this;this.config=V;var J=0,_="",ee=this.ops;for(J=0;J<U.length;J++)_=U[J],ee[_].loadConfig(V);for(J=0;J<X.length;J++)_=X[J],T(V,_)&&(this[_]=m(V,_));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=C(V,["moveToX","moveToY"]),T(V,"speed")&&(ee.speedX.loadConfig(V,"speed"),ee.speedY.active=!1),(E(V,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),T(V,"scale")&&(ee.scaleX.loadConfig(V,"scale"),ee.scaleY.active=!1),T(V,"callbackScope")){var te=m(V,"callbackScope",null);this.emitCallbackScope=te,this.deathCallbackScope=te}if(T(V,"emitZone")&&this.addEmitZone(V.emitZone),T(V,"deathZone")&&this.addDeathZone(V.deathZone),T(V,"bounds")){var ie=this.addParticleBounds(V.bounds);ie.collideLeft=m(V,"collideLeft",!0),ie.collideRight=m(V,"collideRight",!0),ie.collideTop=m(V,"collideTop",!0),ie.collideBottom=m(V,"collideBottom",!0)}return T(V,"followOffset")&&this.followOffset.setFromObject(m(V,"followOffset",0)),T(V,"texture")&&this.setTexture(V.texture),T(V,"frame")?this.setEmitterFrame(V.frame):T(V,"anim")&&this.setAnim(V.anim),T(V,"reserve")&&this.reserve(V.reserve),T(V,"advance")&&this.fastForward(V.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(h.START,this),this},updateConfig:function(V){return V&&(this.config?this.setConfig(R(this.config,V)):this.setConfig(V)),this},toJSON:function(){var V=c(this),J=0,_="";for(J=0;J<X.length;J++)_=X[J],V[_]=this[_];var ee=this.ops;for(J=0;J<U.length;J++)_=U[J],ee[_]&&(V[_]=ee[_].toJSON());return ee.speedY.active||(delete V.speedX,V.speed=ee.speedX.toJSON()),this.scaleX===this.scaleY&&(delete V.scaleX,delete V.scaleY,V.scale=ee.scaleX.toJSON()),V},resetCounters:function(V,J){var _=this.counters;_.fill(0),_[0]=V,J&&(_[5]=1)},startFollow:function(V,J,_,ee){return J===void 0&&(J=0),_===void 0&&(_=0),ee===void 0&&(ee=!1),this.follow=V,this.followOffset.set(J,_),this.trackVisible=ee,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var V=this.frames,J=V.length,_;return J===1?_=V[0]:this.randomFrame?_=x(V):(_=V[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===J&&(this.currentFrame=0))),this.texture.get(_)},setEmitterFrame:function(V,J,_){J===void 0&&(J=!0),_===void 0&&(_=1),this.randomFrame=J,this.frameQuantity=_,this.currentFrame=0;var ee=typeof V;if(this.frames.length=0,Array.isArray(V))this.frames=this.frames.concat(V);else if(ee==="string"||ee==="number")this.frames.push(V);else if(ee==="object"){var te=V;V=m(te,"frames",null),V&&(this.frames=this.frames.concat(V));var ie=m(te,"cycle",!1);this.randomFrame=!ie,this.frameQuantity=m(te,"quantity",_)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var V=this.anims,J=V.length;if(J===0)return null;if(J===1)return V[0];if(this.randomAnim)return x(V);var _=V[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=z(this.currentAnim+1,0,J)),_},setAnim:function(V,J,_){J===void 0&&(J=!0),_===void 0&&(_=1),this.randomAnim=J,this.animQuantity=_,this.currentAnim=0;var ee=typeof V;if(this.anims.length=0,Array.isArray(V))this.anims=this.anims.concat(V);else if(ee==="string")this.anims.push(V);else if(ee==="object"){var te=V;V=m(te,"anims",null),V&&(this.anims=this.anims.concat(V));var ie=m(te,"cycle",!1);this.randomAnim=!ie,this.animQuantity=m(te,"quantity",_)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(V){return V===void 0&&(V=!0),this.radial=V,this},addParticleBounds:function(V,J,_,ee,te,ie,le,he){if(typeof V=="object"){var fe=V;V=fe.x,J=fe.y,_=T(fe,"w")?fe.w:fe.width,ee=T(fe,"h")?fe.h:fe.height}return this.addParticleProcessor(new D(V,J,_,ee,te,ie,le,he))},setParticleSpeed:function(V,J){return J===void 0&&(J=V),this.ops.speedX.onChange(V),V===J?this.ops.speedY.active=!1:this.ops.speedY.onChange(J),this.radial=!0,this},setParticleScale:function(V,J){return V===void 0&&(V=1),J===void 0&&(J=V),this.ops.scaleX.onChange(V),this.ops.scaleY.onChange(J),this},setParticleGravity:function(V,J){return this.gravityX=V,this.gravityY=J,this},setParticleAlpha:function(V){return this.ops.alpha.onChange(V),this},setParticleTint:function(V){return this.ops.tint.onChange(V),this},setEmitterAngle:function(V){return this.ops.angle.onChange(V),this},setParticleLifespan:function(V){return this.ops.lifespan.onChange(V),this},setQuantity:function(V){return this.quantity=V,this},setFrequency:function(V,J){return this.frequency=V,this.flowCounter=V>0?V:0,J&&(this.quantity=J),this},addDeathZone:function(V){Array.isArray(V)||(V=[V]);for(var J,_=[],ee=0;ee<V.length;ee++)if(J=V[ee],J instanceof l)_.push(J);else if(typeof J.contains=="function")J=new l(J,!0),_.push(J);else{var te=m(J,"type","onEnter"),ie=m(J,"source",null);if(ie&&typeof ie.contains=="function"){var le=te==="onEnter";J=new l(ie,le),_.push(J)}}return this.deathZones=this.deathZones.concat(_),_},removeDeathZone:function(V){return k(this.deathZones,V),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(V){Array.isArray(V)||(V=[V]);for(var J,_=[],ee=0;ee<V.length;ee++)if(J=V[ee],J instanceof F||J instanceof a)_.push(J);else{var te=m(J,"source",null);if(te){var ie=m(J,"type","random");if(ie==="random"&&typeof te.getRandomPoint=="function")J=new F(te),_.push(J);else if(ie==="edge"&&typeof te.getPoints=="function"){var le=m(J,"quantity",1),he=m(J,"stepRate",0),fe=m(J,"yoyo",!1),oe=m(J,"seamless",!0),Ce=m(J,"total",-1);J=new a(te,le,he,fe,oe,Ce),_.push(J)}}}return this.emitZones=this.emitZones.concat(_),_},removeEmitZone:function(V){return k(this.emitZones,V),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(V){var J=this.emitZones,_=J.length;if(_!==0){var ee=J[this.zoneIndex];ee.getPoint(V),ee.total>-1&&(this.zoneTotal++,this.zoneTotal===ee.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===_&&(this.zoneIndex=0)))}},getDeathZone:function(V){for(var J=this.deathZones,_=0;_<J.length;_++){var ee=J[_];if(ee.willKill(V))return this.emit(h.DEATH_ZONE,this,V,ee),!0}return!1},setEmitZone:function(V){var J;return isFinite(V)?J=V:J=this.emitZones.indexOf(V),J>=0&&(this.zoneIndex=J),this},addParticleProcessor:function(V){return this.processors.exists(V)||(V.emitter&&V.emitter.removeParticleProcessor(V),this.processors.add(V),V.emitter=this),V},removeParticleProcessor:function(V){return this.processors.exists(V)&&(this.processors.remove(V,!0),V.emitter=null),V},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(V){return this.addParticleProcessor(new w(V))},reserve:function(V){var J=this.dead;if(this.maxParticles>0){var _=this.getParticleCount();_+V>this.maxParticles&&(V=this.maxParticles-(_+V))}for(var ee=0;ee<V;ee++)J.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(V,J){return V===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof V=="function"&&(this.emitCallback=V,J&&(this.emitCallbackScope=J)),this},onParticleDeath:function(V,J){return V===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof V=="function"&&(this.deathCallback=V,J&&(this.deathCallbackScope=J)),this},killAll:function(){for(var V=this.dead,J=this.alive;J.length>0;)V.push(J.pop());return this},forEachAlive:function(V,J){for(var _=this.alive,ee=_.length,te=0;te<ee;te++)V.call(J,_[te],this);return this},forEachDead:function(V,J){for(var _=this.dead,ee=_.length,te=0;te<ee;te++)V.call(J,_[te],this);return this},start:function(V,J){return V===void 0&&(V=0),this.emitting||(V>0&&this.fastForward(V),this.emitting=!0,this.resetCounters(this.frequency,!0),J!==void 0&&(this.duration=Math.abs(J)),this.emit(h.START,this)),this},stop:function(V){return V===void 0&&(V=!1),this.emitting&&(this.emitting=!1,V&&this.killAll(),this.emit(h.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(V,J){return V===void 0&&(V=""),J===void 0&&(J=this.true),this.sortProperty=V,this.sortOrderAsc=J,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(V){return this.sortProperty!==""?V=this.depthSortCallback:V=null,this.sortCallback=V,this},depthSort:function(){return W(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(V,J){var _=this.sortProperty;return this.sortOrderAsc?V[_]-J[_]:J[_]-V[_]},flow:function(V,J,_){return J===void 0&&(J=1),this.emitting=!1,this.frequency=V,this.quantity=J,_!==void 0&&(this.stopAfter=_),this.start()},explode:function(V,J,_){this.frequency=-1,this.resetCounters(-1,!0);var ee=this.emitParticle(V,J,_);return this.emit(h.EXPLODE,this,ee),ee},emitParticleAt:function(V,J,_){return this.emitParticle(_,V,J)},emitParticle:function(V,J,_){if(!this.atLimit()){V===void 0&&(V=this.ops.quantity.onEmit());for(var ee=this.dead,te=this.stopAfter,ie=this.follow?this.follow.x+this.followOffset.x:J,le=this.follow?this.follow.y+this.followOffset.y:_,he=0;he<V;he++){var fe=ee.pop();if(fe||(fe=new this.particleClass(this)),fe.fire(ie,le)?(this.particleBringToTop?this.alive.push(fe):this.alive.unshift(fe),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,fe,this)):this.dead.push(fe),te>0&&(this.stopCounter++,this.stopCounter>=te)||this.atLimit())break}return fe}},fastForward:function(V,J){J===void 0&&(J=1e3/60);var _=0;for(this.skipping=!0;_<Math.abs(V);)this.preUpdate(0,J),_+=J;return this.skipping=!1,this},preUpdate:function(V,J){J*=this.timeScale;var _=J/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var ee=this.getProcessors(),te=this.alive,ie=this.dead,le=0,he=[],fe=te.length;for(le=0;le<fe;le++){var oe=te[le];oe.update(J,_,ee)&&he.push({index:le,particle:oe})}if(fe=he.length,fe>0){var Ce=this.deathCallback,ye=this.deathCallbackScope;for(le=fe-1;le>=0;le--){var Ee=he[le];te.splice(Ee.index,1),ie.push(Ee.particle),Ce&&Ce.call(ye,Ee.particle),Ee.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&te.length===0&&(this.completeFlag=0,this.emit(h.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=J;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=J,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(V){for(var J=this.getWorldTransformMatrix(),_=this.alive,ee=_.length,te=[],ie=0;ie<ee;ie++){var le=_[ie];N(V,le.getBounds(J))&&te.push(le)}return te},getBounds:function(V,J,_,ee){V===void 0&&(V=0),J===void 0&&(J=0),_===void 0&&(_=1e3/60),ee===void 0&&(ee=new $);var te=this.getWorldTransformMatrix(),ie,le,he=this.alive,fe=!1;if(ee.setTo(0,0,0,0),J>0){var oe=0;for(this.skipping=!0;oe<Math.abs(J);){for(this.preUpdate(0,_),ie=0;ie<he.length;ie++)le=he[ie].getBounds(te),fe?P(ee,le):(fe=!0,u(le,ee));oe+=_}this.skipping=!1}else for(ie=0;ie<he.length;ie++)le=he[ie].getBounds(te),fe?P(ee,le):(fe=!0,u(le,ee));return V>0&&S(ee,V,V),ee},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(V){this.ops.x.onChange(V)}},particleY:{get:function(){return this.ops.y.current},set:function(V){this.ops.y.onChange(V)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(V){this.ops.accelerationX.onChange(V)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(V){this.ops.accelerationY.onChange(V)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(V){this.ops.maxVelocityX.onChange(V)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(V){this.ops.maxVelocityY.onChange(V)}},speed:{get:function(){return this.ops.speedX.current},set:function(V){this.ops.speedX.onChange(V),this.ops.speedY.onChange(V)}},speedX:{get:function(){return this.ops.speedX.current},set:function(V){this.ops.speedX.onChange(V)}},speedY:{get:function(){return this.ops.speedY.current},set:function(V){this.ops.speedY.onChange(V)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(V){this.ops.moveToX.onChange(V)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(V){this.ops.moveToY.onChange(V)}},bounce:{get:function(){return this.ops.bounce.current},set:function(V){this.ops.bounce.onChange(V)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(V){this.ops.scaleX.onChange(V)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(V){this.ops.scaleY.onChange(V)}},particleColor:{get:function(){return this.ops.color.current},set:function(V){this.ops.color.onChange(V)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(V){this.ops.color.setEase(V)}},particleTint:{get:function(){return this.ops.tint.current},set:function(V){this.ops.tint.onChange(V)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(V){this.ops.alpha.onChange(V)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(V){this.ops.lifespan.onChange(V)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(V){this.ops.angle.onChange(V)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(V){this.ops.rotate.onChange(V)}},quantity:{get:function(){return this.ops.quantity.current},set:function(V){this.ops.quantity.onChange(V)}},delay:{get:function(){return this.ops.delay.current},set:function(V){this.ops.delay.onChange(V)}},hold:{get:function(){return this.ops.hold.current},set:function(V){this.ops.hold.onChange(V)}},flowCounter:{get:function(){return this.counters[0]},set:function(V){this.counters[0]=V}},frameCounter:{get:function(){return this.counters[1]},set:function(V){this.counters[1]=V}},animCounter:{get:function(){return this.counters[2]},set:function(V){this.counters[2]=V}},elapsed:{get:function(){return this.counters[3]},set:function(V){this.counters[3]=V}},stopCounter:{get:function(){return this.counters[4]},set:function(V){this.counters[4]=V}},completeFlag:{get:function(){return this.counters[5]},set:function(V){this.counters[5]=V}},zoneIndex:{get:function(){return this.counters[6]},set:function(V){this.counters[6]=V}},zoneTotal:{get:function(){return this.counters[7]},set:function(V){this.counters[7]=V}},currentFrame:{get:function(){return this.counters[8]},set:function(V){this.counters[8]=V}},currentAnim:{get:function(){return this.counters[9]},set:function(V){this.counters[9]=V}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var V,J=this.ops;for(V=0;V<U.length;V++){var _=U[V];J[_].destroy()}for(V=0;V<this.alive.length;V++)this.alive[V].destroy();for(V=0;V<this.dead.length;V++)this.dead[V].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});s.exports=Z}),9871:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(59996),v=r(61340),c=new v,u=new v,l=new v,a=new v,d=function(p,h,g,m){var x=c,w=u,C=l,E=a;m?(E.loadIdentity(),E.multiply(m),E.translate(h.x,h.y),E.rotate(h.rotation),E.scale(h.scaleX,h.scaleY)):E.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY);var T=p.currentContext,S=g.roundPixels,A=g.alpha,P=h.alpha,R=h.alive,L=R.length,D=h.viewBounds;if(!(!h.visible||L===0||D&&!o(D,g.worldView))){h.sortCallback&&h.depthSort(),g.addToRenderList(h);var F=h.scrollFactorX,$=h.scrollFactorY;T.save(),T.globalCompositeOperation=p.blendModes[h.blendMode];for(var N=0;N<L;N++){var k=R[N],j=k.alpha*P*A;if(!(j<=0||k.scaleX===0||k.scaleY===0)){C.applyITRS(k.x,k.y,k.rotation,k.scaleX,k.scaleY),x.copyFrom(g.matrix),x.multiplyWithOffset(E,-g.scrollX*F,-g.scrollY*$),C.e=k.x,C.f=k.y,x.multiply(C,w);var W=k.frame,G=W.canvasData;if(G.width>0&&G.height>0){var K=-W.halfWidth,z=-W.halfHeight;T.globalAlpha=j,T.save(),w.setToContext(T),S&&(K=Math.round(K),z=Math.round(z)),T.imageSmoothingEnabled=!W.source.scaleMode,T.drawImage(W.source.image,G.x,G.y,G.width,G.height,K,z,G.width,G.height),T.restore()}}}T.restore()}};s.exports=d}),92730:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),v=r(44603),c=r(23568),u=r(95540),l=r(31600);v.register("particles",function(a,d){a===void 0&&(a={});var p=c(a,"key",null),h=u(a,"config",null),g=new l(this.scene,0,0,p);return d!==void 0&&(a.add=d),o(this.scene,g,a),h&&g.setConfig(h),g})}),676:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),v=r(31600);o.register("particles",function(c,u,l,a){return c!==void 0&&typeof c=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new v(this.scene,c,u,l,a))})}),90668:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),v=o,c=o;v=r(21188),c=r(9871),s.exports={renderWebGL:v,renderCanvas:c}}),21188:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(59996),v=r(61340),c=r(70554),u=new v,l=new v,a=new v,d=new v,p=function(h,g,m,x){var w=h.pipelines.set(g.pipeline),C=u,E=l,T=a,S=d;x?(S.loadIdentity(),S.multiply(x),S.translate(g.x,g.y),S.rotate(g.rotation),S.scale(g.scaleX,g.scaleY)):S.applyITRS(g.x,g.y,g.rotation,g.scaleX,g.scaleY);var A=c.getTintAppendFloatAlpha,P=m.alpha,R=g.alpha;h.pipelines.preBatch(g);var L=g.alive,D=L.length,F=g.viewBounds;if(!(D===0||F&&!o(F,m.worldView))){g.sortCallback&&g.depthSort(),m.addToRenderList(g),C.copyFrom(m.matrix),C.multiplyWithOffset(S,-m.scrollX*g.scrollFactorX,-m.scrollY*g.scrollFactorY),h.setBlendMode(g.blendMode),g.mask&&(g.mask.preRenderWebGL(h,g,m),h.pipelines.set(g.pipeline));for(var $=g.tintFill,N,k,j=0;j<D;j++){var W=L[j],G=W.alpha*R*P;if(!(G<=0||W.scaleX===0||W.scaleY===0)){T.applyITRS(W.x,W.y,W.rotation,W.scaleX,W.scaleY),T.e=W.x,T.f=W.y,C.multiply(T,E);var K=W.frame;K.glTexture!==k&&(k=K.glTexture,N=w.setGameObject(g,K));var z=-K.halfWidth,X=-K.halfHeight,U=E.setQuad(z,X,z+K.width,X+K.height),Z=A(W.tint,G);w.shouldFlush(6)&&(w.flush(),N=w.setGameObject(g,K)),w.batchQuad(g,U[0],U[1],U[2],U[3],U[4],U[5],U[6],U[7],K.u0,K.v0,K.u1,K.v1,Z,Z,Z,Z,$,k,N)}}g.mask&&g.mask.postRenderWebGL(h,m),h.pipelines.postBatch(g)}};s.exports=p}),20286:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=new o({initialize:function(u,l,a){u===void 0&&(u=0),l===void 0&&(l=0),a===void 0&&(a=!0),this.emitter,this.x=u,this.y=l,this.active=a},update:function(){},destroy:function(){this.emitter=null}});s.exports=v}),9774:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="complete"}),812:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="deathzone"}),30522:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="explode"}),96695:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="start"}),18677:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="stop"}),20696:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={COMPLETE:r(9774),DEATH_ZONE:r(812),EXPLODE:r(30522),START:r(96695),STOP:r(18677)}}),18404:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={EmitterColorOp:r(76472),EmitterOp:r(44777),Events:r(20696),GravityWell:r(24502),Particle:r(56480),ParticleBounds:r(69601),ParticleEmitter:r(31600),ParticleProcessor:r(20286),Zones:r(21024)}}),26388:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=new o({initialize:function(u,l){this.source=u,this.killOnEnter=l},willKill:function(c){var u=c.worldPosition,l=this.source.contains(u.x,u.y);return l&&this.killOnEnter||!l&&!this.killOnEnter}});s.exports=v}),19909:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=new o({initialize:function(u,l,a,d,p,h){d===void 0&&(d=!1),p===void 0&&(p=!0),h===void 0&&(h=-1),this.source=u,this.points=[],this.quantity=l,this.stepRate=a,this.yoyo=d,this.counter=-1,this.seamless=p,this._length=0,this._direction=0,this.total=h,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var c=this.points[0],u=this.points[this.points.length-1];c.x===u.x&&c.y===u.y&&this.points.pop()}var l=this._length;return this._length=this.points.length,this._length<l&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(c){return this.source=c,this.updateSource()},getPoint:function(c){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var u=this.points[this.counter];u&&(c.x=u.x,c.y=u.y)}});s.exports=v}),68875:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(26099),c=new o({initialize:function(l){this.source=l,this._tempVec=new v,this.total=-1},getPoint:function(u){var l=this._tempVec;this.source.getRandomPoint(l),u.x=l.x,u.y=l.y}});s.exports=c}),21024:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={DeathZone:r(26388),EdgeZone:r(19909),RandomZone:r(68875)}}),1159:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(31401),c=r(68287),u=new o({Extends:c,Mixins:[v.PathFollower],initialize:function(a,d,p,h,g,m){c.call(this,a,p,h,g,m),this.path=d},preUpdate:function(l,a){this.anims.update(l,a),this.pathUpdate(l)}});s.exports=u}),90145:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),v=r(1159);o.register("follower",function(c,u,l,a,d){var p=new v(this.scene,c,u,l,a,d);return this.displayList.add(p),this.updateList.add(p),p})}),33663:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(9674),v=r(83419),c=r(48803),u=r(90664),l=r(4703),a=r(45650),d=new v({Extends:l,initialize:function(h,g,m,x,w,C,E,T){x||(x="__DEFAULT"),l.call(this,h,g,m,x,w),this.type="Plane",this.anims=new o(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(C,E,T),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(p,h,g){p===void 0&&(p=8),h===void 0&&(h=8),g===void 0&&(g=!1);var m=!1;return g&&(m=!0),this.gridWidth=p,this.gridHeight=h,this.isTiled=g,this.clear(),c({mesh:this,widthSegments:p,heightSegments:h,isOrtho:!1,tile:g,flipY:m}),this},setSizeToFrame:function(p){p===void 0&&(p=!0);var h=this.frame;if(this.setPerspective(this.width/h.width,this.height/h.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!p)return this;var g=this.gridWidth,m=this.gridHeight,x=this.vertices,w=h.u0,C=h.u1,E=h.v0,T=h.v1,S,A,P=0;if(this.isTiled)for(E=h.v1,T=h.v0,A=0;A<m;A++)for(S=0;S<g;S++)x[P++].setUVs(w,T),x[P++].setUVs(w,E),x[P++].setUVs(C,T),x[P++].setUVs(w,E),x[P++].setUVs(C,E),x[P++].setUVs(C,T);else{var R=g+1,L=m+1,D=C-w,F=T-E,$=[];for(A=0;A<L;A++)for(S=0;S<R;S++){var N=w+D*(S/g),k=E+F*(A/m);$.push(N,k)}for(A=0;A<m;A++)for(S=0;S<g;S++){var j=(S+R*A)*2,W=(S+R*(A+1))*2,G=(S+1+R*(A+1))*2,K=(S+1+R*A)*2;x[P++].setUVs($[j],$[j+1]),x[P++].setUVs($[W],$[W+1]),x[P++].setUVs($[K],$[K+1]),x[P++].setUVs($[W],$[W+1]),x[P++].setUVs($[G],$[G+1]),x[P++].setUVs($[K],$[K+1])}}return this},setViewHeight:function(p){p===void 0&&(p=this.frame.height);var h=this.fov*(Math.PI/180);this.viewPosition.z=this.height/p/Math.tan(h/2),this.dirtyCache[10]=1},createCheckerboard:function(p,h,g,m,x){p===void 0&&(p=16777215),h===void 0&&(h=255),g===void 0&&(g=255),m===void 0&&(m=255),x===void 0&&(x=128);for(var w=u(p),C=u(h),E=[],T=0;T<16;T++)for(var S=0;S<16;S++)T<8&&S<8||T>7&&S>7?E.push(w.r,w.g,w.b,g):E.push(C.r,C.g,C.b,m);var A=this.scene.sys.textures.addUint8Array(a(),new Uint8Array(E),16,16);return this.removeCheckerboard(),this.setTexture(A),this.setSizeToFrame(),this.setViewHeight(x),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(p,h){return this.anims.play(p,h)},playReverse:function(p,h){return this.anims.playReverse(p,h)},playAfterDelay:function(p,h){return this.anims.playAfterDelay(p,h)},playAfterRepeat:function(p,h){return this.anims.playAfterRepeat(p,h)},stop:function(){return this.anims.stop()},stopAfterDelay:function(p){return this.anims.stopAfterDelay(p)},stopAfterRepeat:function(p){return this.anims.stopAfterRepeat(p)},stopOnFrame:function(p){return this.anims.stopOnFrame(p)},preUpdate:function(p,h){l.prototype.preUpdate.call(this,p,h),this.anims.update(p,h)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});s.exports=d}),56015:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),v=r(13059),c=r(44603),u=r(23568),l=r(35154),a=r(33663);c.register("plane",function(d,p){d===void 0&&(d={});var h=u(d,"key",null),g=u(d,"frame",null),m=l(d,"width",8),x=l(d,"height",8),w=l(d,"tile",!1),C=new a(this.scene,0,0,h,g,m,x,w);p!==void 0&&(d.add=p);var E=l(d,"checkerboard",null);if(E){var T=l(E,"color1",16777215),S=l(E,"color2",255),A=l(E,"alpha1",255),P=l(E,"alpha2",255),R=l(E,"height",128);C.createCheckerboard(T,S,A,P,R)}return o(this.scene,C,d),v(C,d),C})}),30985:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(33663),v=r(39429);v.register("plane",function(c,u,l,a,d,p,h){return this.displayList.add(new o(this.scene,c,u,l,a,d,p,h))})}),80321:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(31401),c=r(95643),u=r(30100),l=r(36060),a=r(67277),d=new o({Extends:c,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.Mask,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Transform,v.Visible,a],initialize:function(h,g,m,x,w,C,E){x===void 0&&(x=16777215),w===void 0&&(w=128),C===void 0&&(C=1),E===void 0&&(E=.1),c.call(this,h,"PointLight"),this.initPipeline(l.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(g,m),this.color=u(x),this.intensity=C,this.attenuation=E,this.width=w*2,this.height=w*2,this._radius=w},radius:{get:function(){return this._radius},set:function(p){this._radius=p,this.width=p*2,this.height=p*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});s.exports=d}),39829:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),v=r(44603),c=r(23568),u=r(80321);v.register("pointlight",function(l,a){l===void 0&&(l={});var d=c(l,"color",16777215),p=c(l,"radius",128),h=c(l,"intensity",1),g=c(l,"attenuation",.1),m=new u(this.scene,0,0,d,p,h,g);return a!==void 0&&(l.add=a),o(this.scene,m,l),m})}),71255:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),v=r(80321);o.register("pointlight",function(c,u,l,a,d,p){return this.displayList.add(new v(this.scene,c,u,l,a,d,p))})}),67277:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),v=o,c=o;v=r(57787),s.exports={renderWebGL:v,renderCanvas:c}}),57787:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),v=function(c,u,l,a){l.addToRenderList(u);var d=c.pipelines.set(u.pipeline),p=o(u,l,a).calc,h=u.width,g=u.height,m=-u._radius,x=-u._radius,w=m+h,C=x+g,E=p.getX(0,0),T=p.getY(0,0),S=p.getX(m,x),A=p.getY(m,x),P=p.getX(m,C),R=p.getY(m,C),L=p.getX(w,C),D=p.getY(w,C),F=p.getX(w,x),$=p.getY(w,x);c.pipelines.preBatch(u),d.batchPointLight(u,l,S,A,P,R,L,D,F,$,E,T),c.pipelines.postBatch(u)};s.exports=v}),591:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(81320),c=r(88571),u=new o({Extends:c,initialize:function(a,d,p,h,g,m){d===void 0&&(d=0),p===void 0&&(p=0),h===void 0&&(h=32),g===void 0&&(g=32),m===void 0&&(m=!0);var x=new v(a.sys.textures,"",h,g,m);c.call(this,a,d,p,x),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(l,a){this.width=l,this.height=a,this.updateDisplayOrigin();var d=this.input;return d&&!d.customHitArea&&(d.hitArea.width=l,d.hitArea.height=a),this},resize:function(l,a,d){return this.texture.setSize(l,a,d),this.setSize(this.texture.width,this.texture.height),this},saveTexture:function(l){var a=this.texture;return a.key=l,a.manager.addDynamicTexture(a)&&(this._saved=!0),a},fill:function(l,a,d,p,h,g){return this.texture.fill(l,a,d,p,h,g),this},clear:function(){return this.texture.clear(),this},stamp:function(l,a,d,p,h){return this.texture.stamp(l,a,d,p,h),this},erase:function(l,a,d){return this.texture.erase(l,a,d),this},draw:function(l,a,d,p,h){return this.texture.draw(l,a,d,p,h),this},drawFrame:function(l,a,d,p,h,g){return this.texture.drawFrame(l,a,d,p,h,g),this},repeat:function(l,a,d,p,h,g,m,x,w){return this.texture.repeat(l,a,d,p,h,g,m,x,w),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(l,a,d,p,h){return this.texture.batchDraw(l,a,d,p,h),this},batchDrawFrame:function(l,a,d,p,h,g){return this.texture.batchDrawFrame(l,a,d,p,h,g),this},endDraw:function(l){return this.texture.endDraw(l),this},snapshotArea:function(l,a,d,p,h,g,m){return this.texture.snapshotArea(l,a,d,p,h,g,m),this},snapshot:function(l,a,d){return this.snapshotArea(0,0,this.width,this.height,l,a,d)},snapshotPixel:function(l,a,d){return this.snapshotArea(l,a,1,1,d,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});s.exports=u}),34495:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),v=r(44603),c=r(23568),u=r(591);v.register("renderTexture",function(l,a){l===void 0&&(l={});var d=c(l,"x",0),p=c(l,"y",0),h=c(l,"width",32),g=c(l,"height",32),m=new u(this.scene,d,p,h,g);return a!==void 0&&(l.add=a),o(this.scene,m,l),m})}),60505:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),v=r(591);o.register("renderTexture",function(c,u,l,a){return this.displayList.add(new v(this.scene,c,u,l,a))})}),77757:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(9674),v=r(83419),c=r(31401),u=r(95643),l=r(36060),a=r(38745),d=r(26099),p=new v({Extends:u,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.Flip,c.Mask,c.Pipeline,c.PostPipeline,c.Size,c.Texture,c.Transform,c.Visible,c.ScrollFactor,a],initialize:function(g,m,x,w,C,E,T,S,A){w===void 0&&(w="__DEFAULT"),E===void 0&&(E=2),T===void 0&&(T=!0),u.call(this,g,"Rope"),this.anims=new o(this),this.points=E,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=w==="__DEFAULT",this.dirty=!1,this.horizontal=T,this._flipX=!1,this._flipY=!1,this._perp=new d,this.debugCallback=null,this.debugGraphic=null,this.setTexture(w,C),this.setPosition(m,x),this.setSizeToFrame(),this.initPipeline(l.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(E)&&this.resizeArrays(E.length),this.setPoints(E,S,A),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(h,g){var m=this.anims.currentFrame;this.anims.update(h,g),this.anims.currentFrame!==m&&(this.updateUVs(),this.updateVertices())},play:function(h,g,m){return this.anims.play(h,g,m),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(h,g,m){return h===void 0&&(h=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(h,g,m))},setVertical:function(h,g,m){return h===void 0&&(h=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(h,g,m)):this},setTintFill:function(h){return h===void 0&&(h=!1),this.tintFill=h,this},setAlphas:function(h,g){var m=this.points.length;if(m<1)return this;var x=this.alphas;h===void 0?h=[1]:!Array.isArray(h)&&g===void 0&&(h=[h]);var w,C=0;if(g!==void 0)for(w=0;w<m;w++)C=w*2,x[C]=h,x[C+1]=g;else if(h.length===m)for(w=0;w<m;w++)C=w*2,x[C]=h[w],x[C+1]=h[w];else{var E=h[0];for(w=0;w<m;w++)C=w*2,h.length>C&&(E=h[C]),x[C]=E,h.length>C+1&&(E=h[C+1]),x[C+1]=E}return this},setColors:function(h){var g=this.points.length;if(g<1)return this;var m=this.colors;h===void 0?h=[16777215]:Array.isArray(h)||(h=[h]);var x,w=0;if(h.length===g)for(x=0;x<g;x++)w=x*2,m[w]=h[x],m[w+1]=h[x];else{var C=h[0];for(x=0;x<g;x++)w=x*2,h.length>w&&(C=h[w]),m[w]=C,h.length>w+1&&(C=h[w+1]),m[w+1]=C}return this},setPoints:function(h,g,m){if(h===void 0&&(h=2),typeof h=="number"){var x=h;x<2&&(x=2),h=[];var w,C,E;if(this.horizontal)for(E=-this.frame.halfWidth,C=this.frame.width/(x-1),w=0;w<x;w++)h.push({x:E+w*C,y:0});else for(E=-this.frame.halfHeight,C=this.frame.height/(x-1),w=0;w<x;w++)h.push({x:0,y:E+w*C})}var T=h.length,S=this.points.length;return T<1?(console.warn("Rope: Not enough points given"),this):(T===1&&(h.unshift({x:0,y:0}),T++),S!==T&&this.resizeArrays(T),this.dirty=!0,this.points=h,this.updateUVs(),g!=null&&this.setColors(g),m!=null&&this.setAlphas(m),this)},updateUVs:function(){for(var h=this.uv,g=this.points.length,m=this.frame.u0,x=this.frame.v0,w=this.frame.u1,C=this.frame.v1,E=(w-m)/(g-1),T=(C-x)/(g-1),S=0;S<g;S++){var A=S*4,P,R,L,D;this.horizontal?(this._flipX?(P=w-S*E,L=w-S*E):(P=m+S*E,L=m+S*E),this._flipY?(R=C,D=x):(R=x,D=C)):(this._flipX?(P=m,L=w):(P=w,L=m),this._flipY?(R=C-S*T,D=C-S*T):(R=x+S*T,D=x+S*T)),h[A+0]=P,h[A+1]=R,h[A+2]=L,h[A+3]=D}return this},resizeArrays:function(h){var g=this.colors,m=this.alphas;this.vertices=new Float32Array(h*4),this.uv=new Float32Array(h*4),g=new Uint32Array(h*2),m=new Float32Array(h*2);for(var x=0;x<h*2;x++)g[x]=16777215,m[x]=1;return this.colors=g,this.alphas=m,this.dirty=!0,this},updateVertices:function(){var h=this._perp,g=this.points,m=this.vertices,x=g.length;if(this.dirty=!1,!(x<1)){for(var w,C=g[0],E=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,T=0;T<x;T++){var S=g[T],A=T*4;T<x-1?w=g[T+1]:w=S,h.x=w.y-C.y,h.y=-(w.x-C.x);var P=h.length();h.x/=P,h.y/=P,h.x*=E,h.y*=E,m[A]=S.x+h.x,m[A+1]=S.y+h.y,m[A+2]=S.x-h.x,m[A+3]=S.y-h.y,C=S}return this}},setDebug:function(h,g){return this.debugGraphic=h,!h&&!g?this.debugCallback=null:g?this.debugCallback=g:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(h,g,m){var x=h.debugGraphic,w=m[0],C=m[1],E=m[2],T=m[3];x.lineBetween(w,C,E,T);for(var S=4;S<g;S+=4){var A=m[S+0],P=m[S+1],R=m[S+2],L=m[S+3];x.lineBetween(w,C,A,P),x.lineBetween(E,T,R,L),x.lineBetween(E,T,A,P),x.lineBetween(A,P,R,L),w=A,C=P,E=R,T=L}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(h){return this._flipX=h,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(h){return this._flipY=h,this.updateUVs()}}});s.exports=p}),95262:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){};s.exports=y}),26209:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),v=r(44603),c=r(23568),u=r(35154),l=r(77757);v.register("rope",function(a,d){a===void 0&&(a={});var p=c(a,"key",null),h=c(a,"frame",null),g=c(a,"horizontal",!0),m=u(a,"points",void 0),x=u(a,"colors",void 0),w=u(a,"alphas",void 0),C=new l(this.scene,0,0,p,h,m,g,x,w);return d!==void 0&&(a.add=d),o(this.scene,C,a),C})}),96819:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(77757),v=r(39429);v.register("rope",function(c,u,l,a,d,p,h,g){return this.displayList.add(new o(this.scene,c,u,l,a,d,p,h,g))})}),38745:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),v=o,c=o;v=r(20439),c=r(95262),s.exports={renderWebGL:v,renderCanvas:c}}),20439:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),v=r(70554),c=function(u,l,a,d){a.addToRenderList(l);var p=u.pipelines.set(l.pipeline,l),h=o(l,a,d).calc,g=l.vertices,m=l.uv,x=l.colors,w=l.alphas,C=l.alpha,E=v.getTintAppendFloatAlpha,T=a.roundPixels,S=g.length,A=Math.floor(S*.5);p.flush(),u.pipelines.preBatch(l);var P=p.setGameObject(l),R=p.vertexViewF32,L=p.vertexViewU32,D=p.vertexCount*p.currentShader.vertexComponentCount-1,F=0,$=l.tintFill;l.dirty&&l.updateVertices();for(var N=l.debugCallback,k=[],j=0;j<S;j+=2){var W=g[j+0],G=g[j+1],K=W*h.a+G*h.c+h.e,z=W*h.b+G*h.d+h.f;T&&(K=Math.round(K),z=Math.round(z)),R[++D]=K,R[++D]=z,R[++D]=m[j+0],R[++D]=m[j+1],R[++D]=P,R[++D]=$,L[++D]=E(x[F],a.alpha*(w[F]*C)),F++,N&&(k[j+0]=K,k[j+1]=z)}N&&N.call(l,l,S,k),p.vertexCount+=A,p.currentBatch.count=p.vertexCount-p.currentBatch.start,u.pipelines.postBatch(l)};s.exports=c}),20071:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(31401),c=r(95643),u=r(95540),l=r(79291),a=r(61622),d=r(25479),p=r(61340),h=r(95428),g=r(92503),m=new o({Extends:c,Mixins:[v.ComputedSize,v.Depth,v.GetBounds,v.Mask,v.Origin,v.ScrollFactor,v.Transform,v.Visible,d],initialize:function(w,C,E,T,S,A,P,R){E===void 0&&(E=0),T===void 0&&(T=0),S===void 0&&(S=128),A===void 0&&(A=128),c.call(this,w,"Shader"),this.blendMode=-1,this.shader;var L=w.sys.renderer;this.renderer=L,this.gl=L.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=L.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new p,this._tempMatrix2=new p,this._tempMatrix3=new p,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=L.width,this._rendererHeight=L.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(E,T),this.setSize(S,A),this.setOrigin(.5,.5),this.setShader(C,P,R),this.renderer.on(g.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(x){return this.renderToTexture?!0:!(c.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&x.id)},setRenderToTexture:function(x,w){if(!this.renderToTexture){var C=this.width,E=this.height,T=this.renderer;this.glTexture=T.createTextureFromSource(null,C,E,0),this.framebuffer=T.createFramebuffer(C,E,this.glTexture,!1),this._rendererWidth=C,this._rendererHeight=E,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),x&&(this.texture=this.scene.sys.textures.addGLTexture(x,this.glTexture))}return this.shader&&(T.pipelines.clear(),this.load(),this.flush(),T.pipelines.rebind()),this},setShader:function(x,w,C){if(this.renderer.contextLost)return this._deferSetShader={key:x,textures:w,textureData:C},this;if(w===void 0&&(w=[]),typeof x=="string"){var E=this.scene.sys.cache.shader;if(!E.has(x))return console.warn("Shader missing: "+x),this;this.shader=E.get(x)}else this.shader=x;var T=this.gl,S=this.renderer;this.program&&S.deleteProgram(this.program);var A=S.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);T.uniformMatrix4fv(T.getUniformLocation(A.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),T.uniformMatrix4fv(T.getUniformLocation(A.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),T.uniform2f(T.getUniformLocation(A.webGLProgram,"uResolution"),this.width,this.height),this.program=A;var P=new Date,R={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[P.getFullYear(),P.getMonth(),P.getDate(),P.getHours()*60*60+P.getMinutes()*60+P.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=l(!0,{},this.shader.uniforms,R):this.uniforms=R;for(var L=0;L<4;L++)w[L]&&this.setSampler2D("iChannel"+L,w[L],L,C);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(x){return this.pointer=x,this},projOrtho:function(x,w,C,E){if(this.renderer.contextLost){this._deferProjOrtho={left:x,right:w,bottom:C,top:E};return}var T=-1e3,S=1e3,A=1/(x-w),P=1/(C-E),R=1/(T-S),L=this.projectionMatrix;L[0]=-2*A,L[5]=-2*P,L[10]=2*R,L[12]=(x+w)*A,L[13]=(E+C)*P,L[14]=(S+T)*R;var D=this.program,F=this.gl,$=this.renderer;$.setProgram(D),F.uniformMatrix4fv(F.getUniformLocation(D.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=w,this._rendererHeight=C},initUniforms:function(){var x=this.renderer.glFuncMap,w=this.program;this._textureCount=0;for(var C in this.uniforms){var E=this.uniforms[C],T=E.type,S=x[T];E.uniformLocation=this.renderer.createUniformLocation(w,C),T!=="sampler2D"&&(E.glMatrix=S.matrix,E.glValueLength=S.length,E.glFunc=S.func)}},setSampler2DBuffer:function(x,w,C,E,T,S){T===void 0&&(T=0),S===void 0&&(S={});var A=this.uniforms[x];return A.value=w,S.width=C,S.height=E,A.textureData=S,this._textureCount=T,this.initSampler2D(A),this},setSampler2D:function(x,w,C,E){C===void 0&&(C=0);var T=this.scene.sys.textures;if(T.exists(w)){var S=T.getFrame(w);if(S.glTexture&&S.glTexture.isRenderTexture)return this.setSampler2DBuffer(x,S.glTexture,S.width,S.height,C,E);var A=this.uniforms[x],P=S.source;A.textureKey=w,A.source=P.image,A.value=S.glTexture,P.isGLTexture&&(E||(E={}),E.width=P.width,E.height=P.height),E&&(A.textureData=E),this._textureCount=C,this.initSampler2D(A)}return this},setUniform:function(x,w){return a(this.uniforms,x,w),this},getUniform:function(x){return u(this.uniforms,x,null)},setChannel0:function(x,w){return this.setSampler2D("iChannel0",x,0,w)},setChannel1:function(x,w){return this.setSampler2D("iChannel1",x,1,w)},setChannel2:function(x,w){return this.setSampler2D("iChannel2",x,2,w)},setChannel3:function(x,w){return this.setSampler2D("iChannel3",x,3,w)},initSampler2D:function(x){if(x.value){var w=x.textureData;if(w&&!x.value.isRenderTexture){var C=this.gl,E=x.value,T=C[u(w,"magFilter","linear").toUpperCase()],S=C[u(w,"minFilter","linear").toUpperCase()],A=C[u(w,"wrapS","repeat").toUpperCase()],P=C[u(w,"wrapT","repeat").toUpperCase()],R=C[u(w,"format","rgba").toUpperCase()],L=u(w,"flipY",!1),D=u(w,"width",E.width),F=u(w,"height",E.height),$=u(w,"source",E.pixels);w.repeat&&(A=C.REPEAT,P=C.REPEAT),w.width&&($=null),E.update($,D,F,L,A,P,S,T,R)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var x=this.gl,w=this.uniforms,C,E,T,S,A,P=0;for(var R in w)C=w[R],T=C.glFunc,E=C.glValueLength,S=C.uniformLocation,A=C.value,A!==null&&(E===1?C.glMatrix?T.call(x,S.webGLUniformLocation,C.transpose,A):T.call(x,S.webGLUniformLocation,A):E===2?T.call(x,S.webGLUniformLocation,A.x,A.y):E===3?T.call(x,S.webGLUniformLocation,A.x,A.y,A.z):E===4?T.call(x,S.webGLUniformLocation,A.x,A.y,A.z,A.w):C.type==="sampler2D"&&(x.activeTexture(x.TEXTURE0+P),x.bindTexture(x.TEXTURE_2D,A.webGLTexture),x.uniform1i(S.webGLUniformLocation,P),P++))},load:function(x){var w=this.gl,C=this.width,E=this.height,T=this.renderer,S=this.program,A=this.viewMatrix;if(!this.renderToTexture){var P=-this._displayOriginX,R=-this._displayOriginY;A[0]=x[0],A[1]=x[1],A[4]=x[2],A[5]=x[3],A[8]=x[4],A[9]=x[5],A[12]=A[0]*P+A[4]*R,A[13]=A[1]*P+A[5]*R}w.useProgram(S.webGLProgram),w.uniformMatrix4fv(w.getUniformLocation(S.webGLProgram,"uViewMatrix"),!1,A),w.uniformMatrix4fv(w.getUniformLocation(S.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),w.uniform2f(w.getUniformLocation(S.webGLProgram,"uResolution"),this.width,this.height);var L=this.uniforms,D=L.resolution;D.value.x=C,D.value.y=E,L.time.value=T.game.loop.getDuration();var F=this.pointer;if(F){var $=L.mouse,N=F.x/C,k=1-F.y/E;$.value.x=N.toFixed(2),$.value.y=k.toFixed(2)}this.syncUniforms()},flush:function(){var x=this.width,w=this.height,C=this.program,E=this.gl,T=this.vertexBuffer,S=this.renderer,A=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(S.setFramebuffer(this.framebuffer),E.clearColor(0,0,0,0),E.clear(E.COLOR_BUFFER_BIT)),E.bindBuffer(E.ARRAY_BUFFER,T.webGLBuffer);var P=E.getAttribLocation(C.webGLProgram,"inPosition");P!==-1&&(E.enableVertexAttribArray(P),E.vertexAttribPointer(P,2,E.FLOAT,!1,A,0));var R=this.vertexViewF32;R[3]=w,R[4]=x,R[5]=w,R[8]=x,R[9]=w,R[10]=x;var L=6;E.bufferSubData(E.ARRAY_BUFFER,0,this.bytes.subarray(0,L*A)),E.drawArrays(E.TRIANGLES,0,L),this.renderToTexture&&S.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var x=this._deferSetShader.key,w=this._deferSetShader.textures,C=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(x,w,C)}if(this._deferProjOrtho!==null){var E=this._deferProjOrtho.left,T=this._deferProjOrtho.right,S=this._deferProjOrtho.bottom,A=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(E,T,S,A)}},preDestroy:function(){var x=this.renderer;x.off(g.RESTORE_WEBGL,this.onContextRestored,this),x.deleteProgram(this.program),x.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(x.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),h(this.uniforms,function(w){x.deleteUniformLocation(w.uniformLocation),w.uniformLocation=null})}});s.exports=m}),80464:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){};s.exports=y}),54935:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),v=r(44603),c=r(23568),u=r(20071);v.register("shader",function(l,a){l===void 0&&(l={});var d=c(l,"key",null),p=c(l,"x",0),h=c(l,"y",0),g=c(l,"width",128),m=c(l,"height",128),x=new u(this.scene,d,p,h,g,m);return a!==void 0&&(l.add=a),o(this.scene,x,l),x})}),74177:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20071),v=r(39429);v.register("shader",function(c,u,l,a,d,p,h){return this.displayList.add(new o(this.scene,c,u,l,a,d,p,h))})}),25479:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),v=o,c=o;v=r(19257),c=r(80464),s.exports={renderWebGL:v,renderCanvas:c}}),19257:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),v=function(c,u,l,a){if(u.shader){if(l.addToRenderList(u),c.pipelines.clear(),u.renderToTexture)u.load(),u.flush();else{var d=o(u,l,a).calc;(c.width!==u._rendererWidth||c.height!==u._rendererHeight)&&u.projOrtho(0,c.width,c.height,0),u.load(d.matrix),u.flush()}c.pipelines.rebind()}};s.exports=v}),10441:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(70554),v=function(c,u,l,a,d,p){for(var h=o.getTintAppendFloatAlpha(l.fillColor,l.fillAlpha*a),g=l.pathData,m=l.pathIndexes,x=0;x<m.length;x+=3){var w=m[x]*2,C=m[x+1]*2,E=m[x+2]*2,T=g[w+0]-d,S=g[w+1]-p,A=g[C+0]-d,P=g[C+1]-p,R=g[E+0]-d,L=g[E+1]-p,D=u.getX(T,S),F=u.getY(T,S),$=u.getX(A,P),N=u.getY(A,P),k=u.getX(R,L),j=u.getY(R,L);c.batchTri(l,D,F,$,N,k,j,0,0,1,1,h,h,h,2)}};s.exports=v}),65960:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c){var u=v||o.fillColor,l=c||o.fillAlpha,a=(u&16711680)>>>16,d=(u&65280)>>>8,p=u&255;r.fillStyle="rgba("+a+","+d+","+p+","+l+")"};s.exports=y}),75177:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c){var u=v||o.strokeColor,l=c||o.strokeAlpha,a=(u&16711680)>>>16,d=(u&65280)>>>8,p=u&255;r.strokeStyle="rgba("+a+","+d+","+p+","+l+")",r.lineWidth=o.lineWidth};s.exports=y}),17803:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(31401),c=r(95643),u=r(23031),l=new o({Extends:c,Mixins:[v.AlphaSingle,v.BlendMode,v.Depth,v.GetBounds,v.Mask,v.Origin,v.Pipeline,v.PostPipeline,v.ScrollFactor,v.Transform,v.Visible],initialize:function(d,p,h){p===void 0&&(p="Shape"),c.call(this,d,p),this.geom=h,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new u,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(a,d){return d===void 0&&(d=1),a===void 0?this.isFilled=!1:(this.fillColor=a,this.fillAlpha=d,this.isFilled=!0),this},setStrokeStyle:function(a,d,p){return p===void 0&&(p=1),a===void 0?this.isStroked=!1:(this.lineWidth=a,this.strokeColor=d,this.strokeAlpha=p,this.isStroked=!0),this},setClosePath:function(a){return this.closePath=a,this},setSize:function(a,d){return this.width=a,this.height=d,this},setDisplaySize:function(a,d){return this.displayWidth=a,this.displayHeight=d,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(a){this.scaleX=a/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(a){this.scaleY=a/this.height}}});s.exports=l}),34682:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(70554),v=function(c,u,l,a,d){var p=c.strokeTint,h=o.getTintAppendFloatAlpha(u.strokeColor,u.strokeAlpha*l);p.TL=h,p.TR=h,p.BL=h,p.BR=h;var g=u.pathData,m=g.length-1,x=u.lineWidth,w=x/2,C=g[0]-a,E=g[1]-d;u.closePath||(m-=2);for(var T=2;T<m;T+=2){var S=g[T]-a,A=g[T+1]-d;c.batchLine(C,E,S,A,w,w,x,T-2,u.closePath?T===m-1:!1),C=S,E=A}};s.exports=v}),23629:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(13609),v=r(83419),c=r(39506),u=r(94811),l=r(96503),a=r(36383),d=r(17803),p=new v({Extends:d,Mixins:[o],initialize:function(g,m,x,w,C,E,T,S,A){m===void 0&&(m=0),x===void 0&&(x=0),w===void 0&&(w=128),C===void 0&&(C=0),E===void 0&&(E=360),T===void 0&&(T=!1),d.call(this,g,"Arc",new l(0,0,w)),this._startAngle=C,this._endAngle=E,this._anticlockwise=T,this._iterations=.01,this.setPosition(m,x);var P=this.geom.radius*2;this.setSize(P,P),S!==void 0&&this.setFillStyle(S,A),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(h){this._iterations=h,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(h){this.geom.radius=h;var g=h*2;this.setSize(g,g),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(h){this._startAngle=h,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(h){this._endAngle=h,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(h){this._anticlockwise=h,this.updateData()}},setRadius:function(h){return this.radius=h,this},setIterations:function(h){return h===void 0&&(h=.01),this.iterations=h,this},setStartAngle:function(h,g){return this._startAngle=h,g!==void 0&&(this._anticlockwise=g),this.updateData()},setEndAngle:function(h,g){return this._endAngle=h,g!==void 0&&(this._anticlockwise=g),this.updateData()},updateData:function(){var h=this._iterations,g=h,m=this.geom.radius,x=c(this._startAngle),w=c(this._endAngle),C=this._anticlockwise,E=m,T=m;w-=x,C?w<-a.PI2?w=-a.PI2:w>0&&(w=-a.PI2+w%a.PI2):w>a.PI2?w=a.PI2:w<0&&(w=a.PI2+w%a.PI2);for(var S=[E+Math.cos(x)*m,T+Math.sin(x)*m],A;g<1;)A=w*g+x,S.push(E+Math.cos(A)*m,T+Math.sin(A)*m),g+=h;return A=w+x,S.push(E+Math.cos(A)*m,T+Math.sin(A)*m),S.push(E+Math.cos(x)*m,T+Math.sin(x)*m),this.pathIndexes=u(S),this.pathData=S,this}});s.exports=p}),42542:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39506),v=r(65960),c=r(75177),u=r(20926),l=function(a,d,p,h){p.addToRenderList(d);var g=a.currentContext;if(u(a,g,d,p,h)){var m=d.radius;g.beginPath(),g.arc(m-d.originX*(m*2),m-d.originY*(m*2),m,o(d._startAngle),o(d._endAngle),d.anticlockwise),d.closePath&&g.closePath(),d.isFilled&&(v(g,d),g.fill()),d.isStroked&&(c(g,d),g.stroke()),g.restore()}};s.exports=l}),42563:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(23629),v=r(39429);v.register("arc",function(c,u,l,a,d,p,h,g){return this.displayList.add(new o(this.scene,c,u,l,a,d,p,h,g))}),v.register("circle",function(c,u,l,a,d){return this.displayList.add(new o(this.scene,c,u,l,0,360,!1,a,d))})}),13609:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),v=o,c=o;v=r(41447),c=r(42542),s.exports={renderWebGL:v,renderCanvas:c}}),41447:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),v=r(10441),c=r(34682),u=function(l,a,d,p){d.addToRenderList(a);var h=l.pipelines.set(a.pipeline),g=o(a,d,p),m=h.calcMatrix.copyFrom(g.calc),x=a._displayOriginX,w=a._displayOriginY,C=d.alpha*a.alpha;l.pipelines.preBatch(a),a.isFilled&&v(h,m,a,C,x,w),a.isStroked&&c(h,a,C,x,w),l.pipelines.postBatch(a)};s.exports=u}),89:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(33141),c=r(94811),u=r(87841),l=r(17803),a=new o({Extends:l,Mixins:[v],initialize:function(p,h,g,m,x,w){h===void 0&&(h=0),g===void 0&&(g=0),l.call(this,p,"Curve",m),this._smoothness=32,this._curveBounds=new u,this.closePath=!1,this.setPosition(h,g),x!==void 0&&this.setFillStyle(x,w),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(d){this._smoothness=d,this.updateData()}},setSmoothness:function(d){return this._smoothness=d,this.updateData()},updateData:function(){var d=this._curveBounds,p=this._smoothness;this.geom.getBounds(d,p),this.setSize(d.width,d.height),this.updateDisplayOrigin();for(var h=[],g=this.geom.getPoints(p),m=0;m<g.length;m++)h.push(g[m].x,g[m].y);return h.push(g[0].x,g[0].y),this.pathIndexes=c(h),this.pathData=h,this}});s.exports=a}),3170:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(65960),v=r(75177),c=r(20926),u=function(l,a,d,p){d.addToRenderList(a);var h=l.currentContext;if(c(l,h,a,d,p)){var g=a._displayOriginX+a._curveBounds.x,m=a._displayOriginY+a._curveBounds.y,x=a.pathData,w=x.length-1,C=x[0]-g,E=x[1]-m;h.beginPath(),h.moveTo(C,E),a.closePath||(w-=2);for(var T=2;T<w;T+=2){var S=x[T]-g,A=x[T+1]-m;h.lineTo(S,A)}a.closePath&&h.closePath(),a.isFilled&&(o(h,a),h.fill()),a.isStroked&&(v(h,a),h.stroke()),h.restore()}};s.exports=u}),40511:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),v=r(89);o.register("curve",function(c,u,l,a,d){return this.displayList.add(new v(this.scene,c,u,l,a,d))})}),33141:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),v=o,c=o;v=r(53987),c=r(3170),s.exports={renderWebGL:v,renderCanvas:c}}),53987:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10441),v=r(91296),c=r(34682),u=function(l,a,d,p){d.addToRenderList(a);var h=l.pipelines.set(a.pipeline),g=v(a,d,p),m=h.calcMatrix.copyFrom(g.calc),x=a._displayOriginX+a._curveBounds.x,w=a._displayOriginY+a._curveBounds.y,C=d.alpha*a.alpha;l.pipelines.preBatch(a),a.isFilled&&o(h,m,a,C,x,w),a.isStroked&&c(h,a,C,x,w),l.pipelines.postBatch(a)};s.exports=u}),19921:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(94811),c=r(54205),u=r(8497),l=r(17803),a=new o({Extends:l,Mixins:[c],initialize:function(p,h,g,m,x,w,C){h===void 0&&(h=0),g===void 0&&(g=0),m===void 0&&(m=128),x===void 0&&(x=128),l.call(this,p,"Ellipse",new u(m/2,x/2,m,x)),this._smoothness=64,this.setPosition(h,g),this.width=m,this.height=x,w!==void 0&&this.setFillStyle(w,C),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(d){this._smoothness=d,this.updateData()}},setSize:function(d,p){return this.width=d,this.height=p,this.geom.setPosition(d/2,p/2),this.geom.setSize(d,p),this.updateDisplayOrigin(),this.updateData()},setSmoothness:function(d){return this._smoothness=d,this.updateData()},updateData:function(){for(var d=[],p=this.geom.getPoints(this._smoothness),h=0;h<p.length;h++)d.push(p[h].x,p[h].y);return d.push(p[0].x,p[0].y),this.pathIndexes=v(d),this.pathData=d,this}});s.exports=a}),7930:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(65960),v=r(75177),c=r(20926),u=function(l,a,d,p){d.addToRenderList(a);var h=l.currentContext;if(c(l,h,a,d,p)){var g=a._displayOriginX,m=a._displayOriginY,x=a.pathData,w=x.length-1,C=x[0]-g,E=x[1]-m;h.beginPath(),h.moveTo(C,E),a.closePath||(w-=2);for(var T=2;T<w;T+=2){var S=x[T]-g,A=x[T+1]-m;h.lineTo(S,A)}h.closePath(),a.isFilled&&(o(h,a),h.fill()),a.isStroked&&(v(h,a),h.stroke()),h.restore()}};s.exports=u}),1543:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(19921),v=r(39429);v.register("ellipse",function(c,u,l,a,d,p){return this.displayList.add(new o(this.scene,c,u,l,a,d,p))})}),54205:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),v=o,c=o;v=r(19467),c=r(7930),s.exports={renderWebGL:v,renderCanvas:c}}),19467:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10441),v=r(91296),c=r(34682),u=function(l,a,d,p){d.addToRenderList(a);var h=l.pipelines.set(a.pipeline),g=v(a,d,p),m=h.calcMatrix.copyFrom(g.calc),x=a._displayOriginX,w=a._displayOriginY,C=d.alpha*a.alpha;l.pipelines.preBatch(a),a.isFilled&&o(h,m,a,C,x,w),a.isStroked&&c(h,a,C,x,w),l.pipelines.postBatch(a)};s.exports=u}),30479:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(17803),c=r(26015),u=new o({Extends:v,Mixins:[c],initialize:function(a,d,p,h,g,m,x,w,C,E,T){d===void 0&&(d=0),p===void 0&&(p=0),h===void 0&&(h=128),g===void 0&&(g=128),m===void 0&&(m=32),x===void 0&&(x=32),v.call(this,a,"Grid",null),this.cellWidth=m,this.cellHeight=x,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(d,p),this.setSize(h,g),this.setFillStyle(w,C),E!==void 0&&this.setOutlineStyle(E,T),this.updateDisplayOrigin()},setFillStyle:function(l,a){return a===void 0&&(a=1),l===void 0?this.showCells=!1:(this.fillColor=l,this.fillAlpha=a,this.showCells=!0),this},setAltFillStyle:function(l,a){return a===void 0&&(a=1),l===void 0?this.showAltCells=!1:(this.altFillColor=l,this.altFillAlpha=a,this.showAltCells=!0),this},setOutlineStyle:function(l,a){return a===void 0&&(a=1),l===void 0?this.showOutline=!1:(this.outlineFillColor=l,this.outlineFillAlpha=a,this.showOutline=!0),this}});s.exports=u}),49912:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(65960),v=r(75177),c=r(20926),u=function(l,a,d,p){d.addToRenderList(a);var h=l.currentContext;if(c(l,h,a,d,p)){var g=-a._displayOriginX,m=-a._displayOriginY,x=d.alpha*a.alpha,w=a.width,C=a.height,E=a.cellWidth,T=a.cellHeight,S=Math.ceil(w/E),A=Math.ceil(C/T),P=E,R=T,L=E-(S*E-w),D=T-(A*T-C),F=a.showCells,$=a.showAltCells,N=a.showOutline,k=0,j=0,W=0,G=0,K=0;if(N&&(P--,R--,L===E&&L--,D===T&&D--),F&&a.fillAlpha>0)for(o(h,a),j=0;j<A;j++)for($&&(W=j%2),k=0;k<S;k++){if($&&W){W=0;continue}W++,G=k<S-1?P:L,K=j<A-1?R:D,h.fillRect(g+k*E,m+j*T,G,K)}if($&&a.altFillAlpha>0)for(o(h,a,a.altFillColor,a.altFillAlpha*x),j=0;j<A;j++)for($&&(W=j%2),k=0;k<S;k++){if($&&!W){W=1;continue}W=0,G=k<S-1?P:L,K=j<A-1?R:D,h.fillRect(g+k*E,m+j*T,G,K)}if(N&&a.outlineFillAlpha>0){for(v(h,a,a.outlineFillColor,a.outlineFillAlpha*x),k=1;k<S;k++){var z=k*E;h.beginPath(),h.moveTo(z+g,m),h.lineTo(z+g,C+m),h.stroke()}for(j=1;j<A;j++){var X=j*T;h.beginPath(),h.moveTo(g,X+m),h.lineTo(g+w,X+m),h.stroke()}}h.restore()}};s.exports=u}),34137:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),v=r(30479);o.register("grid",function(c,u,l,a,d,p,h,g,m,x){return this.displayList.add(new v(this.scene,c,u,l,a,d,p,h,g,m,x))})}),26015:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),v=o,c=o;v=r(46161),c=r(49912),s.exports={renderWebGL:v,renderCanvas:c}}),46161:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),v=r(70554),c=function(u,l,a,d){a.addToRenderList(l);var p=u.pipelines.set(l.pipeline),h=o(l,a,d),g=p.calcMatrix.copyFrom(h.calc);g.translate(-l._displayOriginX,-l._displayOriginY);var m=a.alpha*l.alpha,x=l.width,w=l.height,C=l.cellWidth,E=l.cellHeight,T=Math.ceil(x/C),S=Math.ceil(w/E),A=C,P=E,R=C-(T*C-x),L=E-(S*E-w),D,F,$=l.showCells,N=l.showAltCells,k=l.showOutline,j=0,W=0,G=0,K=0,z=0;if(k&&(A--,P--,R===C&&R--,L===E&&L--),u.pipelines.preBatch(l),$&&l.fillAlpha>0)for(D=p.fillTint,F=v.getTintAppendFloatAlpha(l.fillColor,l.fillAlpha*m),D.TL=F,D.TR=F,D.BL=F,D.BR=F,W=0;W<S;W++)for(N&&(G=W%2),j=0;j<T;j++){if(N&&G){G=0;continue}G++,K=j<T-1?A:R,z=W<S-1?P:L,p.batchFillRect(j*C,W*E,K,z)}if(N&&l.altFillAlpha>0)for(D=p.fillTint,F=v.getTintAppendFloatAlpha(l.altFillColor,l.altFillAlpha*m),D.TL=F,D.TR=F,D.BL=F,D.BR=F,W=0;W<S;W++)for(N&&(G=W%2),j=0;j<T;j++){if(N&&!G){G=1;continue}G=0,K=j<T-1?A:R,z=W<S-1?P:L,p.batchFillRect(j*C,W*E,K,z)}if(k&&l.outlineFillAlpha>0){var X=p.strokeTint,U=v.getTintAppendFloatAlpha(l.outlineFillColor,l.outlineFillAlpha*m);for(X.TL=U,X.TR=U,X.BL=U,X.BR=U,j=1;j<T;j++){var Z=j*C;p.batchLine(Z,0,Z,w,l.lineWidth,l.lineWidth,1,0,!1)}for(W=1;W<S;W++){var V=W*E;p.batchLine(0,V,x,V,l.lineWidth,l.lineWidth,1,0,!1)}}u.pipelines.postBatch(l)};s.exports=c}),61475:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(99651),v=r(83419),c=r(17803),u=new v({Extends:c,Mixins:[o],initialize:function(a,d,p,h,g,m,x,w){d===void 0&&(d=0),p===void 0&&(p=0),h===void 0&&(h=48),g===void 0&&(g=32),m===void 0&&(m=15658734),x===void 0&&(x=10066329),w===void 0&&(w=13421772),c.call(this,a,"IsoBox",null),this.projection=4,this.fillTop=m,this.fillLeft=x,this.fillRight=w,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(d,p),this.setSize(h,g),this.updateDisplayOrigin()},setProjection:function(l){return this.projection=l,this},setFaces:function(l,a,d){return l===void 0&&(l=!0),a===void 0&&(a=!0),d===void 0&&(d=!0),this.showTop=l,this.showLeft=a,this.showRight=d,this},setFillStyle:function(l,a,d){return this.fillTop=l,this.fillLeft=a,this.fillRight=d,this.isFilled=!0,this}});s.exports=u}),11508:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(65960),v=r(20926),c=function(u,l,a,d){a.addToRenderList(l);var p=u.currentContext;if(v(u,p,l,a,d)&&l.isFilled){var h=l.width,g=l.height,m=h/2,x=h/l.projection;l.showTop&&(o(p,l,l.fillTop),p.beginPath(),p.moveTo(-m,-g),p.lineTo(0,-x-g),p.lineTo(m,-g),p.lineTo(m,-1),p.lineTo(0,x-1),p.lineTo(-m,-1),p.lineTo(-m,-g),p.fill()),l.showLeft&&(o(p,l,l.fillLeft),p.beginPath(),p.moveTo(-m,0),p.lineTo(0,x),p.lineTo(0,x-g),p.lineTo(-m,-g),p.lineTo(-m,0),p.fill()),l.showRight&&(o(p,l,l.fillRight),p.beginPath(),p.moveTo(m,0),p.lineTo(0,x),p.lineTo(0,x-g),p.lineTo(m,-g),p.lineTo(m,0),p.fill()),p.restore()}};s.exports=c}),3933:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),v=r(61475);o.register("isobox",function(c,u,l,a,d,p,h){return this.displayList.add(new v(this.scene,c,u,l,a,d,p,h))})}),99651:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),v=o,c=o;v=r(68149),c=r(11508),s.exports={renderWebGL:v,renderCanvas:c}}),68149:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),v=r(70554),c=function(u,l,a,d){a.addToRenderList(l);var p=u.pipelines.set(l.pipeline),h=o(l,a,d),g=p.calcMatrix.copyFrom(h.calc),m=l.width,x=l.height,w=m/2,C=m/l.projection,E=a.alpha*l.alpha;if(l.isFilled){var T,S,A,P,R,L,D,F,$;u.pipelines.preBatch(l),l.showTop&&(T=v.getTintAppendFloatAlpha(l.fillTop,E),S=g.getX(-w,-x),A=g.getY(-w,-x),P=g.getX(0,-C-x),R=g.getY(0,-C-x),L=g.getX(w,-x),D=g.getY(w,-x),F=g.getX(0,C-x),$=g.getY(0,C-x),p.batchQuad(l,S,A,P,R,L,D,F,$,0,0,1,1,T,T,T,T,2)),l.showLeft&&(T=v.getTintAppendFloatAlpha(l.fillLeft,E),S=g.getX(-w,0),A=g.getY(-w,0),P=g.getX(0,C),R=g.getY(0,C),L=g.getX(0,C-x),D=g.getY(0,C-x),F=g.getX(-w,-x),$=g.getY(-w,-x),p.batchQuad(l,S,A,P,R,L,D,F,$,0,0,1,1,T,T,T,T,2)),l.showRight&&(T=v.getTintAppendFloatAlpha(l.fillRight,E),S=g.getX(w,0),A=g.getY(w,0),P=g.getX(0,C),R=g.getY(0,C),L=g.getX(0,C-x),D=g.getY(0,C-x),F=g.getX(w,-x),$=g.getY(w,-x),p.batchQuad(l,S,A,P,R,L,D,F,$,0,0,1,1,T,T,T,T,2)),u.pipelines.postBatch(l)}};s.exports=c}),16933:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(60561),c=r(17803),u=new o({Extends:c,Mixins:[v],initialize:function(a,d,p,h,g,m,x,w,C){d===void 0&&(d=0),p===void 0&&(p=0),h===void 0&&(h=48),g===void 0&&(g=32),m===void 0&&(m=!1),x===void 0&&(x=15658734),w===void 0&&(w=10066329),C===void 0&&(C=13421772),c.call(this,a,"IsoTriangle",null),this.projection=4,this.fillTop=x,this.fillLeft=w,this.fillRight=C,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=m,this.isFilled=!0,this.setPosition(d,p),this.setSize(h,g),this.updateDisplayOrigin()},setProjection:function(l){return this.projection=l,this},setReversed:function(l){return this.isReversed=l,this},setFaces:function(l,a,d){return l===void 0&&(l=!0),a===void 0&&(a=!0),d===void 0&&(d=!0),this.showTop=l,this.showLeft=a,this.showRight=d,this},setFillStyle:function(l,a,d){return this.fillTop=l,this.fillLeft=a,this.fillRight=d,this.isFilled=!0,this}});s.exports=u}),79590:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(65960),v=r(20926),c=function(u,l,a,d){a.addToRenderList(l);var p=u.currentContext;if(v(u,p,l,a,d)&&l.isFilled){var h=l.width,g=l.height,m=h/2,x=h/l.projection,w=l.isReversed;l.showTop&&w&&(o(p,l,l.fillTop),p.beginPath(),p.moveTo(-m,-g),p.lineTo(0,-x-g),p.lineTo(m,-g),p.lineTo(0,x-g),p.fill()),l.showLeft&&(o(p,l,l.fillLeft),p.beginPath(),w?(p.moveTo(-m,-g),p.lineTo(0,x),p.lineTo(0,x-g)):(p.moveTo(-m,0),p.lineTo(0,x),p.lineTo(0,x-g)),p.fill()),l.showRight&&(o(p,l,l.fillRight),p.beginPath(),w?(p.moveTo(m,-g),p.lineTo(0,x),p.lineTo(0,x-g)):(p.moveTo(m,0),p.lineTo(0,x),p.lineTo(0,x-g)),p.fill()),p.restore()}};s.exports=c}),49803:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),v=r(16933);o.register("isotriangle",function(c,u,l,a,d,p,h,g){return this.displayList.add(new v(this.scene,c,u,l,a,d,p,h,g))})}),60561:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),v=o,c=o;v=r(51503),c=r(79590),s.exports={renderWebGL:v,renderCanvas:c}}),51503:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),v=r(70554),c=function(u,l,a,d){a.addToRenderList(l);var p=u.pipelines.set(l.pipeline),h=o(l,a,d),g=p.calcMatrix.copyFrom(h.calc),m=l.width,x=l.height,w=m/2,C=m/l.projection,E=l.isReversed,T=a.alpha*l.alpha;if(l.isFilled){u.pipelines.preBatch(l);var S,A,P,R,L,D,F;if(l.showTop&&E){S=v.getTintAppendFloatAlpha(l.fillTop,T),A=g.getX(-w,-x),P=g.getY(-w,-x),R=g.getX(0,-C-x),L=g.getY(0,-C-x),D=g.getX(w,-x),F=g.getY(w,-x);var $=g.getX(0,C-x),N=g.getY(0,C-x);p.batchQuad(l,A,P,R,L,D,F,$,N,0,0,1,1,S,S,S,S,2)}l.showLeft&&(S=v.getTintAppendFloatAlpha(l.fillLeft,T),E?(A=g.getX(-w,-x),P=g.getY(-w,-x),R=g.getX(0,C),L=g.getY(0,C),D=g.getX(0,C-x),F=g.getY(0,C-x)):(A=g.getX(-w,0),P=g.getY(-w,0),R=g.getX(0,C),L=g.getY(0,C),D=g.getX(0,C-x),F=g.getY(0,C-x)),p.batchTri(l,A,P,R,L,D,F,0,0,1,1,S,S,S,2)),l.showRight&&(S=v.getTintAppendFloatAlpha(l.fillRight,T),E?(A=g.getX(w,-x),P=g.getY(w,-x),R=g.getX(0,C),L=g.getY(0,C),D=g.getX(0,C-x),F=g.getY(0,C-x)):(A=g.getX(w,0),P=g.getY(w,0),R=g.getX(0,C),L=g.getY(0,C),D=g.getX(0,C-x),F=g.getY(0,C-x)),p.batchTri(l,A,P,R,L,D,F,0,0,1,1,S,S,S,2)),u.pipelines.postBatch(l)}};s.exports=c}),57847:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(17803),c=r(23031),u=r(36823),l=new o({Extends:v,Mixins:[u],initialize:function(d,p,h,g,m,x,w,C,E){p===void 0&&(p=0),h===void 0&&(h=0),g===void 0&&(g=0),m===void 0&&(m=0),x===void 0&&(x=128),w===void 0&&(w=0),v.call(this,d,"Line",new c(g,m,x,w));var T=Math.max(1,this.geom.right-this.geom.left),S=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(p,h),this.setSize(T,S),C!==void 0&&this.setStrokeStyle(1,C,E),this.updateDisplayOrigin()},setLineWidth:function(a,d){return d===void 0&&(d=a),this._startWidth=a,this._endWidth=d,this.lineWidth=a,this},setTo:function(a,d,p,h){return this.geom.setTo(a,d,p,h),this}});s.exports=l}),17440:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(75177),v=r(20926),c=function(u,l,a,d){a.addToRenderList(l);var p=u.currentContext;if(v(u,p,l,a,d)){var h=l._displayOriginX,g=l._displayOriginY;l.isStroked&&(o(p,l),p.beginPath(),p.moveTo(l.geom.x1-h,l.geom.y1-g),p.lineTo(l.geom.x2-h,l.geom.y2-g),p.stroke()),p.restore()}};s.exports=c}),2481:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),v=r(57847);o.register("line",function(c,u,l,a,d,p,h,g){return this.displayList.add(new v(this.scene,c,u,l,a,d,p,h,g))})}),36823:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),v=o,c=o;v=r(77385),c=r(17440),s.exports={renderWebGL:v,renderCanvas:c}}),77385:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),v=r(70554),c=function(u,l,a,d){a.addToRenderList(l);var p=u.pipelines.set(l.pipeline),h=o(l,a,d);p.calcMatrix.copyFrom(h.calc);var g=l._displayOriginX,m=l._displayOriginY,x=a.alpha*l.alpha;if(u.pipelines.preBatch(l),l.isStroked){var w=p.strokeTint,C=v.getTintAppendFloatAlpha(l.strokeColor,l.strokeAlpha*x);w.TL=C,w.TR=C,w.BL=C,w.BR=C,p.batchLine(l.geom.x1-g,l.geom.y1-m,l.geom.x2-g,l.geom.y2-m,l._startWidth/2,l._endWidth/2,1,0,!1,h.sprite,h.camera)}u.pipelines.postBatch(l)};s.exports=c}),24949:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(90273),v=r(83419),c=r(94811),u=r(13829),l=r(25717),a=r(17803),d=r(5469),p=new v({Extends:a,Mixins:[o],initialize:function(g,m,x,w,C,E){m===void 0&&(m=0),x===void 0&&(x=0),a.call(this,g,"Polygon",new l(w));var T=u(this.geom);this.setPosition(m,x),this.setSize(T.width,T.height),C!==void 0&&this.setFillStyle(C,E),this.updateDisplayOrigin(),this.updateData()},smooth:function(h){h===void 0&&(h=1);for(var g=0;g<h;g++)d(this.geom);return this.updateData()},setTo:function(h){this.geom.setTo(h);var g=u(this.geom);return this.setSize(g.width,g.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var h=[],g=this.geom.points,m=0;m<g.length;m++)h.push(g[m].x,g[m].y);return h.push(g[0].x,g[0].y),this.pathIndexes=c(h),this.pathData=h,this}});s.exports=p}),38710:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(65960),v=r(75177),c=r(20926),u=function(l,a,d,p){d.addToRenderList(a);var h=l.currentContext;if(c(l,h,a,d,p)){var g=a._displayOriginX,m=a._displayOriginY,x=a.pathData,w=x.length-1,C=x[0]-g,E=x[1]-m;h.beginPath(),h.moveTo(C,E),a.closePath||(w-=2);for(var T=2;T<w;T+=2){var S=x[T]-g,A=x[T+1]-m;h.lineTo(S,A)}a.closePath&&h.closePath(),a.isFilled&&(o(h,a),h.fill()),a.isStroked&&(v(h,a),h.stroke()),h.restore()}};s.exports=u}),64827:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),v=r(24949);o.register("polygon",function(c,u,l,a,d){return this.displayList.add(new v(this.scene,c,u,l,a,d))})}),90273:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),v=o,c=o;v=r(73695),c=r(38710),s.exports={renderWebGL:v,renderCanvas:c}}),73695:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10441),v=r(91296),c=r(34682),u=function(l,a,d,p){d.addToRenderList(a);var h=l.pipelines.set(a.pipeline),g=v(a,d,p),m=h.calcMatrix.copyFrom(g.calc),x=a._displayOriginX,w=a._displayOriginY,C=d.alpha*a.alpha;l.pipelines.preBatch(a),a.isFilled&&o(h,m,a,C,x,w),a.isStroked&&c(h,a,C,x,w),l.pipelines.postBatch(a)};s.exports=u}),74561:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(94811),c=r(87841),u=r(17803),l=r(95597),a=new o({Extends:u,Mixins:[l],initialize:function(p,h,g,m,x,w,C){h===void 0&&(h=0),g===void 0&&(g=0),m===void 0&&(m=128),x===void 0&&(x=128),u.call(this,p,"Rectangle",new c(0,0,m,x)),this.radius=20,this.isRounded=!1,this.setPosition(h,g),this.setSize(m,x),w!==void 0&&this.setFillStyle(w,C),this.updateDisplayOrigin(),this.updateData()},setRounded:function(d){return d===void 0&&(d=16),this.radius=d,this.isRounded=d>0,this.updateRoundedData()},setSize:function(d,p){this.width=d,this.height=p,this.geom.setSize(d,p),this.updateData(),this.updateDisplayOrigin();var h=this.input;return h&&!h.customHitArea&&(h.hitArea.width=d,h.hitArea.height=p),this},updateData:function(){if(this.isRounded)return this.updateRoundedData();var d=[],p=this.geom,h=this._tempLine;return p.getLineA(h),d.push(h.x1,h.y1,h.x2,h.y2),p.getLineB(h),d.push(h.x2,h.y2),p.getLineC(h),d.push(h.x2,h.y2),p.getLineD(h),d.push(h.x2,h.y2),this.pathData=d,this},updateRoundedData:function(){var d=[],p=this.width/2,h=this.height/2,g=Math.min(p,h),m=Math.min(this.radius,g),x=p,w=h,C=Math.max(1,Math.floor(m/5));return this.arcTo(d,x-p+m,w-h+m,m,Math.PI,Math.PI*1.5,C),d.push(x+p-m,w-h),this.arcTo(d,x+p-m,w-h+m,m,Math.PI*1.5,Math.PI*2,C),d.push(x+p,w+h-m),this.arcTo(d,x+p-m,w+h-m,m,0,Math.PI*.5,C),d.push(x-p+m,w+h),this.arcTo(d,x-p+m,w+h-m,m,Math.PI*.5,Math.PI,C),d.push(x-p,w-h+m),this.pathIndexes=v(d),this.pathData=d,this},arcTo:function(d,p,h,g,m,x,w){for(var C=(x-m)/w,E=0;E<=w;E++){var T=m+C*E;d.push(p+Math.cos(T)*g,h+Math.sin(T)*g)}}});s.exports=a}),48682:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(65960),v=r(75177),c=r(20926),u=function(a,d,p,h,g,m){var x=Math.min(h/2,g/2),w=Math.min(m,x);if(w===0){a.rect(d,p,h,g);return}a.moveTo(d+w,p),a.lineTo(d+h-w,p),a.arcTo(d+h,p,d+h,p+w,w),a.lineTo(d+h,p+g-w),a.arcTo(d+h,p+g,d+h-w,p+g,w),a.lineTo(d+w,p+g),a.arcTo(d,p+g,d,p+g-w,w),a.lineTo(d,p+w),a.arcTo(d,p,d+w,p,w),a.closePath()},l=function(a,d,p,h){p.addToRenderList(d);var g=a.currentContext;if(c(a,g,d,p,h)){var m=d._displayOriginX,x=d._displayOriginY;d.isFilled&&(o(g,d),d.isRounded?(g.beginPath(),u(g,-m,-x,d.width,d.height,d.radius),g.fill()):g.fillRect(-m,-x,d.width,d.height)),d.isStroked&&(v(g,d),g.beginPath(),d.isRounded?u(g,-m,-x,d.width,d.height,d.radius):g.rect(-m,-x,d.width,d.height),g.stroke()),g.restore()}};s.exports=l}),87959:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),v=r(74561);o.register("rectangle",function(c,u,l,a,d,p){return this.displayList.add(new v(this.scene,c,u,l,a,d,p))})}),95597:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),v=o,c=o;v=r(52059),c=r(48682),s.exports={renderWebGL:v,renderCanvas:c}}),52059:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10441),v=r(91296),c=r(34682),u=r(70554),l=function(a,d,p,h){p.addToRenderList(d);var g=a.pipelines.set(d.pipeline),m=v(d,p,h);g.calcMatrix.copyFrom(m.calc);var x=d._displayOriginX,w=d._displayOriginY,C=p.alpha*d.alpha;if(a.pipelines.preBatch(d),d.isRounded&&d.isFilled)o(g,m.calc,d,C,x,w);else if(d.isFilled){var E=g.fillTint,T=u.getTintAppendFloatAlpha(d.fillColor,d.fillAlpha*C);E.TL=T,E.TR=T,E.BL=T,E.BR=T,g.batchFillRect(-x,-w,d.width,d.height)}d.isStroked&&c(g,d,C,x,w),a.pipelines.postBatch(d)};s.exports=l}),55911:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(81991),v=r(83419),c=r(94811),u=r(17803),l=new v({Extends:u,Mixins:[o],initialize:function(d,p,h,g,m,x,w,C){p===void 0&&(p=0),h===void 0&&(h=0),g===void 0&&(g=5),m===void 0&&(m=32),x===void 0&&(x=64),u.call(this,d,"Star",null),this._points=g,this._innerRadius=m,this._outerRadius=x,this.setPosition(p,h),this.setSize(x*2,x*2),w!==void 0&&this.setFillStyle(w,C),this.updateDisplayOrigin(),this.updateData()},setPoints:function(a){return this._points=a,this.updateData()},setInnerRadius:function(a){return this._innerRadius=a,this.updateData()},setOuterRadius:function(a){return this._outerRadius=a,this.updateData()},points:{get:function(){return this._points},set:function(a){this._points=a,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(a){this._innerRadius=a,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(a){this._outerRadius=a,this.updateData()}},updateData:function(){var a=[],d=this._points,p=this._innerRadius,h=this._outerRadius,g=Math.PI/2*3,m=Math.PI/d,x=h,w=h;a.push(x,w+-h);for(var C=0;C<d;C++)a.push(x+Math.cos(g)*h,w+Math.sin(g)*h),g+=m,a.push(x+Math.cos(g)*p,w+Math.sin(g)*p),g+=m;return a.push(x,w+-h),this.pathIndexes=c(a),this.pathData=a,this}});s.exports=l}),64272:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(65960),v=r(75177),c=r(20926),u=function(l,a,d,p){d.addToRenderList(a);var h=l.currentContext;if(c(l,h,a,d,p)){var g=a._displayOriginX,m=a._displayOriginY,x=a.pathData,w=x.length-1,C=x[0]-g,E=x[1]-m;h.beginPath(),h.moveTo(C,E),a.closePath||(w-=2);for(var T=2;T<w;T+=2){var S=x[T]-g,A=x[T+1]-m;h.lineTo(S,A)}h.closePath(),a.isFilled&&(o(h,a),h.fill()),a.isStroked&&(v(h,a),h.stroke()),h.restore()}};s.exports=u}),93697:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(55911),v=r(39429);v.register("star",function(c,u,l,a,d,p,h){return this.displayList.add(new o(this.scene,c,u,l,a,d,p,h))})}),81991:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),v=o,c=o;v=r(57017),c=r(64272),s.exports={renderWebGL:v,renderCanvas:c}}),57017:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10441),v=r(91296),c=r(34682),u=function(l,a,d,p){d.addToRenderList(a);var h=l.pipelines.set(a.pipeline),g=v(a,d,p),m=h.calcMatrix.copyFrom(g.calc),x=a._displayOriginX,w=a._displayOriginY,C=d.alpha*a.alpha;l.pipelines.preBatch(a),a.isFilled&&o(h,m,a,C,x,w),a.isStroked&&c(h,a,C,x,w),l.pipelines.postBatch(a)};s.exports=u}),36931:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(17803),c=r(16483),u=r(96195),l=new o({Extends:v,Mixins:[u],initialize:function(d,p,h,g,m,x,w,C,E,T,S){p===void 0&&(p=0),h===void 0&&(h=0),g===void 0&&(g=0),m===void 0&&(m=128),x===void 0&&(x=64),w===void 0&&(w=0),C===void 0&&(C=128),E===void 0&&(E=128),v.call(this,d,"Triangle",new c(g,m,x,w,C,E));var A=this.geom.right-this.geom.left,P=this.geom.bottom-this.geom.top;this.setPosition(p,h),this.setSize(A,P),T!==void 0&&this.setFillStyle(T,S),this.updateDisplayOrigin(),this.updateData()},setTo:function(a,d,p,h,g,m){return this.geom.setTo(a,d,p,h,g,m),this.updateData()},updateData:function(){var a=[],d=this.geom,p=this._tempLine;return d.getLineA(p),a.push(p.x1,p.y1,p.x2,p.y2),d.getLineB(p),a.push(p.x2,p.y2),d.getLineC(p),a.push(p.x2,p.y2),this.pathData=a,this}});s.exports=l}),85172:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(65960),v=r(75177),c=r(20926),u=function(l,a,d,p){d.addToRenderList(a);var h=l.currentContext;if(c(l,h,a,d,p)){var g=a._displayOriginX,m=a._displayOriginY,x=a.geom.x1-g,w=a.geom.y1-m,C=a.geom.x2-g,E=a.geom.y2-m,T=a.geom.x3-g,S=a.geom.y3-m;h.beginPath(),h.moveTo(x,w),h.lineTo(C,E),h.lineTo(T,S),h.closePath(),a.isFilled&&(o(h,a),h.fill()),a.isStroked&&(v(h,a),h.stroke()),h.restore()}};s.exports=u}),45245:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),v=r(36931);o.register("triangle",function(c,u,l,a,d,p,h,g,m,x){return this.displayList.add(new v(this.scene,c,u,l,a,d,p,h,g,m,x))})}),96195:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),v=o,c=o;v=r(83253),c=r(85172),s.exports={renderWebGL:v,renderCanvas:c}}),83253:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),v=r(34682),c=r(70554),u=function(l,a,d,p){d.addToRenderList(a);var h=l.pipelines.set(a.pipeline),g=o(a,d,p);h.calcMatrix.copyFrom(g.calc);var m=a._displayOriginX,x=a._displayOriginY,w=d.alpha*a.alpha;if(l.pipelines.preBatch(a),a.isFilled){var C=h.fillTint,E=c.getTintAppendFloatAlpha(a.fillColor,a.fillAlpha*w);C.TL=E,C.TR=E,C.BL=E,C.BR=E;var T=a.geom.x1-m,S=a.geom.y1-x,A=a.geom.x2-m,P=a.geom.y2-x,R=a.geom.x3-m,L=a.geom.y3-x;h.batchFillTriangle(T,S,A,P,R,L,g.sprite,g.camera)}a.isStroked&&v(h,a,w,m,x),l.pipelines.postBatch(a)};s.exports=u}),68287:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(9674),v=r(83419),c=r(31401),u=r(95643),l=r(92751),a=new v({Extends:u,Mixins:[c.Alpha,c.BlendMode,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Size,c.TextureCrop,c.Tint,c.Transform,c.Visible,l],initialize:function(p,h,g,m,x){u.call(this,p,"Sprite"),this._crop=this.resetCropObject(),this.anims=new o(this),this.setTexture(m,x),this.setPosition(h,g),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(d,p){this.anims.update(d,p)},play:function(d,p){return this.anims.play(d,p)},playReverse:function(d,p){return this.anims.playReverse(d,p)},playAfterDelay:function(d,p){return this.anims.playAfterDelay(d,p)},playAfterRepeat:function(d,p){return this.anims.playAfterRepeat(d,p)},chain:function(d){return this.anims.chain(d)},stop:function(){return this.anims.stop()},stopAfterDelay:function(d){return this.anims.stopAfterDelay(d)},stopAfterRepeat:function(d){return this.anims.stopAfterRepeat(d)},stopOnFrame:function(d){return this.anims.stopOnFrame(d)},toJSON:function(){return c.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});s.exports=a}),76552:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c){v.addToRenderList(o),r.batchSprite(o,o.frame,v,c)};s.exports=y}),15567:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),v=r(13059),c=r(44603),u=r(23568),l=r(68287);c.register("sprite",function(a,d){a===void 0&&(a={});var p=u(a,"key",null),h=u(a,"frame",null),g=new l(this.scene,0,0,p,h);return d!==void 0&&(a.add=d),o(this.scene,g,a),v(g,a),g})}),46409:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),v=r(68287);o.register("sprite",function(c,u,l,a){return this.displayList.add(new v(this.scene,c,u,l,a))})}),92751:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),v=o,c=o;v=r(9409),c=r(76552),s.exports={renderWebGL:v,renderCanvas:c}}),9409:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c){v.addToRenderList(o),o.pipeline.batchSprite(o,v,c)};s.exports=y}),14220:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){var c=r.canvas,u=r.context,l=r.style,a=[],d=0,p=v.length;l.maxLines>0&&l.maxLines<v.length&&(p=l.maxLines),l.syncFont(c,u);for(var h=r.letterSpacing,g=0;g<p;g++){var m=l.strokeThickness;if(h===0)m+=u.measureText(v[g]).width;else{for(var x=v[g],w=0;w<x.length;w++)m+=u.measureText(x[w]).width;x.length>1&&(m+=h*(x.length-1))}l.wordWrap&&(m-=u.measureText(" ").width),a[g]=Math.ceil(m),d=Math.max(d,a[g])}var C=o.fontSize+l.strokeThickness,E=C*p,T=r.lineSpacing;return p>1&&(E+=T*(p-1)),{width:d,height:E,lines:p,lineWidths:a,lineSpacing:T,lineHeight:C}};s.exports=y}),79557:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(27919),v=function(c){var u=o.create(this),l=u.getContext("2d",{willReadFrequently:!0});c.syncFont(u,l);var a=l.measureText(c.testString);if("actualBoundingBoxAscent"in a){var d=a.actualBoundingBoxAscent,p=a.actualBoundingBoxDescent;return o.remove(u),{ascent:d,descent:p,fontSize:d+p}}var h=Math.ceil(a.width*c.baselineX),g=h,m=2*g;g=g*c.baselineY|0,u.width=h,u.height=m,l.fillStyle="#f00",l.fillRect(0,0,h,m),l.font=c._font,l.textBaseline="alphabetic",l.fillStyle="#000",l.fillText(c.testString,0,g);var x={ascent:0,descent:0,fontSize:0},w=l.getImageData(0,0,h,m);if(!w)return x.ascent=g,x.descent=g+6,x.fontSize=x.ascent+x.descent,o.remove(u),x;var C=w.data,E=C.length,T=h*4,S,A,P=0,R=!1;for(S=0;S<g;S++){for(A=0;A<T;A+=4)if(C[P+A]!==255){R=!0;break}if(!R)P+=T;else break}for(x.ascent=g-S,P=E-T,R=!1,S=m;S>g;S--){for(A=0;A<T;A+=4)if(C[P+A]!==255){R=!0;break}if(!R)P-=T;else break}return x.descent=S-g,x.fontSize=x.ascent+x.descent,o.remove(u),x};s.exports=v}),50171:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(40366),v=r(27919),c=r(83419),u=r(31401),l=r(95643),a=r(14220),d=r(35154),p=r(35846),h=r(61771),g=r(35762),m=r(45650),x=new c({Extends:l,Mixins:[u.Alpha,u.BlendMode,u.ComputedSize,u.Crop,u.Depth,u.Flip,u.GetBounds,u.Mask,u.Origin,u.Pipeline,u.PostPipeline,u.ScrollFactor,u.Tint,u.Transform,u.Visible,h],initialize:function(C,E,T,S,A){E===void 0&&(E=0),T===void 0&&(T=0),l.call(this,C,"Text"),this.renderer=C.sys.renderer,this.setPosition(E,T),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=v.create(this),this.context,this.style=new g(this,A),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=m(),this.texture=C.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(S),A&&A.padding&&this.setPadding(A.padding),A&&A.lineSpacing&&this.setLineSpacing(A.lineSpacing),A&&A.letterSpacing&&this.setLetterSpacing(A.letterSpacing)},initRTL:function(){if(!this.style.rtl){this.canvas.dir="ltr",this.context.direction="ltr";return}this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",o(this.canvas,this.scene.sys.canvas),this.originX=1},runWordWrap:function(w){var C=this.style;if(C.wordWrapCallback){var E=C.wordWrapCallback.call(C.wordWrapCallbackScope,w,this);return Array.isArray(E)&&(E=E.join(`
`)),E}else return C.wordWrapWidth?C.wordWrapUseAdvanced?this.advancedWordWrap(w,this.context,this.style.wordWrapWidth):this.basicWordWrap(w,this.context,this.style.wordWrapWidth):w},advancedWordWrap:function(w,C,E){for(var T="",S=w.replace(/ +/gi," ").split(this.splitRegExp),A=S.length,P=0;P<A;P++){var R=S[P],L="";R=R.replace(/^ *|\s*$/gi,"");var D=R.length*this.letterSpacing,F=C.measureText(R).width+D;if(F<E){T+=R+`
`;continue}for(var $=E,N=R.split(" "),k=0;k<N.length;k++){var j=N[k],W=j+" ",G=W.length*this.letterSpacing,K=C.measureText(W).width+G;if(K>$){if(k===0){for(var z=W;z.length;){z=z.slice(0,-1);var X=z.length*this.letterSpacing;if(K=C.measureText(z).width+X,K<=$)break}if(!z.length)throw new Error("wordWrapWidth < a single character");var U=j.substr(z.length);N[k]=U,L+=z}var Z=N[k].length?k:k+1,V=N.slice(Z).join(" ").replace(/[ \n]*$/gi,"");S.splice(P+1,0,V),A=S.length;break}else L+=W,$-=K}T+=L.replace(/[ \n]*$/gi,"")+`
`}return T=T.replace(/[\s|\n]*$/gi,""),T},basicWordWrap:function(w,C,E){for(var T="",S=w.split(this.splitRegExp),A=S.length-1,P=C.measureText(" ").width,R=0;R<=A;R++){for(var L=E,D=S[R].split(" "),F=D.length-1,$=0;$<=F;$++){var N=D[$],k=N.length*this.letterSpacing,j=C.measureText(N).width+k,W=j;$<F&&(W+=P),W>L&&$>0&&(T+=`
`,L=E),T+=N,$<F?(T+=" ",L-=W):L-=j}R<A&&(T+=`
`)}return T},getWrappedText:function(w){w===void 0&&(w=this._text),this.style.syncFont(this.canvas,this.context);var C=this.runWordWrap(w);return C.split(this.splitRegExp)},setText:function(w){return!w&&w!==0&&(w=""),Array.isArray(w)&&(w=w.join(`
`)),w!==this._text&&(this._text=w.toString(),this.updateText()),this},appendText:function(w,C){C===void 0&&(C=!0),!w&&w!==0&&(w=""),Array.isArray(w)&&(w=w.join(`
`)),w=w.toString();var E=this._text.concat(C?`
`+w:w);return E!==this._text&&(this._text=E,this.updateText()),this},setStyle:function(w){return this.style.setStyle(w)},setFont:function(w){return this.style.setFont(w)},setFontFamily:function(w){return this.style.setFontFamily(w)},setFontSize:function(w){return this.style.setFontSize(w)},setFontStyle:function(w){return this.style.setFontStyle(w)},setFixedSize:function(w,C){return this.style.setFixedSize(w,C)},setBackgroundColor:function(w){return this.style.setBackgroundColor(w)},setFill:function(w){return this.style.setFill(w)},setColor:function(w){return this.style.setColor(w)},setStroke:function(w,C){return this.style.setStroke(w,C)},setShadow:function(w,C,E,T,S,A){return this.style.setShadow(w,C,E,T,S,A)},setShadowOffset:function(w,C){return this.style.setShadowOffset(w,C)},setShadowColor:function(w){return this.style.setShadowColor(w)},setShadowBlur:function(w){return this.style.setShadowBlur(w)},setShadowStroke:function(w){return this.style.setShadowStroke(w)},setShadowFill:function(w){return this.style.setShadowFill(w)},setWordWrapWidth:function(w,C){return this.style.setWordWrapWidth(w,C)},setWordWrapCallback:function(w,C){return this.style.setWordWrapCallback(w,C)},setAlign:function(w){return this.style.setAlign(w)},setResolution:function(w){return this.style.setResolution(w)},setLineSpacing:function(w){return this.lineSpacing=w,this.updateText()},setLetterSpacing:function(w){return this.letterSpacing=w,this.updateText()},setPadding:function(w,C,E,T){if(typeof w=="object"){var S=w,A=d(S,"x",null);A!==null?(w=A,E=A):(w=d(S,"left",0),E=d(S,"right",w));var P=d(S,"y",null);P!==null?(C=P,T=P):(C=d(S,"top",0),T=d(S,"bottom",C))}else w===void 0&&(w=0),C===void 0&&(C=w),E===void 0&&(E=w),T===void 0&&(T=C);return this.padding.left=w,this.padding.top=C,this.padding.right=E,this.padding.bottom=T,this.updateText()},setMaxLines:function(w){return this.style.setMaxLines(w)},setRTL:function(w){w===void 0&&(w=!0);var C=this.style;return C.rtl===w?this:(C.rtl=w,w?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",o(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),C.align==="left"?C.align="right":C.align==="right"&&(C.align="left"),this)},updateText:function(){var w=this.canvas,C=this.context,E=this.style,T=E.resolution,S=E.metrics;E.syncFont(w,C);var A=this._text;(E.wordWrapWidth||E.wordWrapCallback)&&(A=this.runWordWrap(this._text));var P=A.split(this.splitRegExp),R=a(this,S,P),L=this.padding,D;E.fixedWidth===0?(this.width=R.width+L.left+L.right,D=R.width):(this.width=E.fixedWidth,D=this.width-L.left-L.right,D<R.width&&(D=R.width)),E.fixedHeight===0?this.height=R.height+L.top+L.bottom:this.height=E.fixedHeight;var F=this.width,$=this.height;this.updateDisplayOrigin(),F*=T,$*=T,F=Math.max(F,1),$=Math.max($,1),w.width!==F||w.height!==$?(w.width=F,w.height=$,this.frame.setSize(F,$),E.syncFont(w,C),E.rtl&&(C.direction="rtl")):C.clearRect(0,0,F,$),C.save(),C.scale(T,T),E.backgroundColor&&(C.fillStyle=E.backgroundColor,C.fillRect(0,0,F,$)),E.syncStyle(w,C),C.translate(L.left,L.top);for(var N,k,j=0;j<R.lines;j++){if(N=E.strokeThickness/2,k=E.strokeThickness/2+j*R.lineHeight+S.ascent,j>0&&(k+=R.lineSpacing*j),E.rtl)N=F-N-L.left-L.right;else if(E.align==="right")N+=D-R.lineWidths[j];else if(E.align==="center")N+=(D-R.lineWidths[j])/2;else if(E.align==="justify"){var W=.85;if(R.lineWidths[j]/R.width>=W){var G=R.width-R.lineWidths[j],K=C.measureText(" ").width,z=P[j].trim(),X=z.split(" ");G+=(P[j].length-z.length)*K;for(var U=Math.floor(G/K),Z=0;U>0;)X[Z]+=" ",Z=(Z+1)%(X.length-1||1),--U;P[j]=X.join(" ")}}this.autoRound&&(N=Math.round(N),k=Math.round(k));var V=this.letterSpacing;if(E.strokeThickness&&V===0&&(E.syncShadow(C,E.shadowStroke),C.strokeText(P[j],N,k)),E.color)if(E.syncShadow(C,E.shadowFill),V!==0)for(var J=0,_=P[j].split(""),ee=0;ee<_.length;ee++)E.strokeThickness&&(E.syncShadow(C,E.shadowStroke),C.strokeText(_[ee],N+J,k),E.syncShadow(C,E.shadowFill)),C.fillText(_[ee],N+J,k),J+=C.measureText(_[ee]).width+V;else C.fillText(P[j],N,k)}C.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(w,this.frame.source.glTexture,!0));var te=this.input;return te&&!te.customHitArea&&(te.hitArea.width=this.width,te.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(w){this.setText(w)}},toJSON:function(){var w=u.ToJSON(this),C={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return w.data=C,w},preDestroy:function(){p(this.canvas),v.remove(this.canvas);var w=this.texture;w&&w.destroy()}});s.exports=x}),79724:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c){o.width===0||o.height===0||(v.addToRenderList(o),r.batchSprite(o,o.frame,v,c))};s.exports=y}),71259:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),v=r(44603),c=r(23568),u=r(50171);v.register("text",function(l,a){l===void 0&&(l={});var d=c(l,"text",""),p=c(l,"style",null),h=c(l,"padding",null);h!==null&&(p.padding=h);var g=new u(this.scene,0,0,d,p);return a!==void 0&&(l.add=a),o(this.scene,g,l),g.autoRound=c(l,"autoRound",!0),g.resolution=c(l,"resolution",1),g})}),68005:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(50171),v=r(39429);v.register("text",function(c,u,l,a){return this.displayList.add(new o(this.scene,c,u,l,a))})}),61771:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),v=o,c=o;v=r(34397),c=r(79724),s.exports={renderWebGL:v,renderCanvas:c}}),35762:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(23568),c=r(35154),u=r(79557),l={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},a=new o({initialize:function(p,h){this.parent=p,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(h,!1,!0)},setStyle:function(d,p,h){p===void 0&&(p=!0),h===void 0&&(h=!1);for(var g in l){var m=h?l[g][1]:this[g];g==="wordWrapCallback"||g==="wordWrapCallbackScope"?this[g]=c(d,l[g][0],m):d&&g==="fontSize"&&typeof d.fontSize=="number"?this[g]=d.fontSize.toString()+"px":this[g]=v(d,l[g][0],m)}var x=c(d,"font",null);x!==null&&this.setFont(x,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var w=c(d,"fill",null);w!==null&&(this.color=w);var C=c(d,"metrics",!1);return C?this.metrics={ascent:c(C,"ascent",0),descent:c(C,"descent",0),fontSize:c(C,"fontSize",0)}:(p||!this.metrics)&&(this.metrics=u(this)),p?this.parent.updateText():this.parent},syncFont:function(d,p){p.font=this._font},syncStyle:function(d,p){p.textBaseline="alphabetic",p.fillStyle=this.color,p.strokeStyle=this.stroke,p.lineWidth=this.strokeThickness,p.lineCap="round",p.lineJoin="round"},syncShadow:function(d,p){p?(d.shadowOffsetX=this.shadowOffsetX,d.shadowOffsetY=this.shadowOffsetY,d.shadowColor=this.shadowColor,d.shadowBlur=this.shadowBlur):(d.shadowOffsetX=0,d.shadowOffsetY=0,d.shadowColor=0,d.shadowBlur=0)},update:function(d){return d&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=u(this)),this.parent.updateText()},setFont:function(d,p){p===void 0&&(p=!0);var h=d,g="",m="";if(typeof d!="string")h=c(d,"fontFamily","Courier"),g=c(d,"fontSize","16px"),m=c(d,"fontStyle","");else{var x=d.split(" "),w=0;m=x.length>2?x[w++]:"",g=x[w++]||"16px",h=x[w++]||"Courier"}return(h!==this.fontFamily||g!==this.fontSize||m!==this.fontStyle)&&(this.fontFamily=h,this.fontSize=g,this.fontStyle=m,p&&this.update(!0)),this.parent},setFontFamily:function(d){return this.fontFamily!==d&&(this.fontFamily=d,this.update(!0)),this.parent},setFontStyle:function(d){return this.fontStyle!==d&&(this.fontStyle=d,this.update(!0)),this.parent},setFontSize:function(d){return typeof d=="number"&&(d=d.toString()+"px"),this.fontSize!==d&&(this.fontSize=d,this.update(!0)),this.parent},setTestString:function(d){return this.testString=d,this.update(!0)},setFixedSize:function(d,p){return this.fixedWidth=d,this.fixedHeight=p,d&&(this.parent.width=d),p&&(this.parent.height=p),this.update(!1)},setBackgroundColor:function(d){return this.backgroundColor=d,this.update(!1)},setFill:function(d){return this.color=d,this.update(!1)},setColor:function(d){return this.color=d,this.update(!1)},setResolution:function(d){return this.resolution=d,this.update(!1)},setStroke:function(d,p){return p===void 0&&(p=this.strokeThickness),d===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==d||this.strokeThickness!==p)&&(this.stroke=d,this.strokeThickness=p,this.update(!0)),this.parent},setShadow:function(d,p,h,g,m,x){return d===void 0&&(d=0),p===void 0&&(p=0),h===void 0&&(h="#000"),g===void 0&&(g=0),m===void 0&&(m=!1),x===void 0&&(x=!0),this.shadowOffsetX=d,this.shadowOffsetY=p,this.shadowColor=h,this.shadowBlur=g,this.shadowStroke=m,this.shadowFill=x,this.update(!1)},setShadowOffset:function(d,p){return d===void 0&&(d=0),p===void 0&&(p=d),this.shadowOffsetX=d,this.shadowOffsetY=p,this.update(!1)},setShadowColor:function(d){return d===void 0&&(d="#000"),this.shadowColor=d,this.update(!1)},setShadowBlur:function(d){return d===void 0&&(d=0),this.shadowBlur=d,this.update(!1)},setShadowStroke:function(d){return this.shadowStroke=d,this.update(!1)},setShadowFill:function(d){return this.shadowFill=d,this.update(!1)},setWordWrapWidth:function(d,p){return p===void 0&&(p=!1),this.wordWrapWidth=d,this.wordWrapUseAdvanced=p,this.update(!1)},setWordWrapCallback:function(d,p){return p===void 0&&(p=null),this.wordWrapCallback=d,this.wordWrapCallbackScope=p,this.update(!1)},setAlign:function(d){return d===void 0&&(d="left"),this.align=d,this.update(!1)},setMaxLines:function(d){return d===void 0&&(d=0),this.maxLines=d,this.update(!1)},getTextMetrics:function(){var d=this.metrics;return{ascent:d.ascent,descent:d.descent,fontSize:d.fontSize}},toJSON:function(){var d={};for(var p in l)d[p]=this[p];return d.metrics=this.getTextMetrics(),d},destroy:function(){this.parent=void 0}});s.exports=a}),34397:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(70554),v=function(c,u,l,a){if(!(u.width===0||u.height===0)){l.addToRenderList(u);var d=u.frame,p=d.width,h=d.height,g=o.getTintAppendFloatAlpha,m=c.pipelines.set(u.pipeline,u),x=m.setTexture2D(d.glTexture,u);m.batchTexture(u,d.glTexture,p,h,u.x,u.y,p/u.style.resolution,h/u.style.resolution,u.scaleX,u.scaleY,u.rotation,u.flipX,u.flipY,u.scrollFactorX,u.scrollFactorY,u.displayOriginX,u.displayOriginY,0,0,p,h,g(u.tintTopLeft,l.alpha*u._alphaTL),g(u.tintTopRight,l.alpha*u._alphaTR),g(u.tintBottomLeft,l.alpha*u._alphaBL),g(u.tintBottomRight,l.alpha*u._alphaBR),u.tintFill,0,0,l,a,!1,x)}};s.exports=v}),20839:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(27919),v=r(83419),c=r(31401),u=r(95643),l=r(98439),a=r(68703),d=r(56295),p=r(45650),h=r(26099),g=8,m=new v({Extends:u,Mixins:[c.Alpha,c.BlendMode,c.ComputedSize,c.Crop,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Tint,c.Transform,c.Visible,d],initialize:function(w,C,E,T,S,A,P){var R=w.sys.renderer;u.call(this,w,"TileSprite");var L=w.sys.textures.get(A),D=L.get(P);D.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),L=w.sys.textures.get("__MISSING"),D=L.get()),L.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),L=w.sys.textures.get("__MISSING"),D=L.get()),!T||!S?(T=T||D.width,S=S||D.height):(T=Math.floor(T),S=Math.floor(S)),this._tilePosition=new h,this._tileScale=new h(1,1),this.dirty=!1,this.renderer=R,this.canvas=o.create(this,T,S),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=L,this.displayFrame=D,this._crop=this.resetCropObject(),this._textureKey=p(),this.texture=w.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=l(D.width),this.potHeight=l(D.height),this.fillCanvas=o.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(C,E),this.setSize(T,S),this.setFrame(P),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(x,w){return this.displayTexture=this.scene.sys.textures.get(x),this.setFrame(w)},setFrame:function(x){var w=this.displayTexture.get(x);return this.potWidth=l(w.width),this.potHeight=l(w.height),this.canvas.width=0,!w.cutWidth||!w.cutHeight?this.renderFlags&=~g:this.renderFlags|=g,this.displayFrame=w,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(x,w){return x!==void 0&&(this.tilePositionX=x),w!==void 0&&(this.tilePositionY=w),this},setTileScale:function(x,w){return x===void 0&&(x=this.tileScaleX),w===void 0&&(w=x),this.tileScaleX=x,this.tileScaleY=w,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var x=this.displayFrame;if(x.source.isRenderTexture||x.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var w=this.fillContext,C=this.fillCanvas,E=this.potWidth,T=this.potHeight;(!this.renderer||!this.renderer.gl)&&(E=x.cutWidth,T=x.cutHeight),w.clearRect(0,0,E,T),C.width=E,C.height=T,w.drawImage(x.source.image,x.cutX,x.cutY,x.cutWidth,x.cutHeight,0,0,E,T),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(C,this.fillPattern):this.fillPattern=w.createPattern(C,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var x=this.canvas;if((x.width!==this.width||x.height!==this.height)&&(x.width=this.width,x.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var w=this.context;this.scene.sys.game.config.antialias||a.disable(w);var C=this._tileScale.x,E=this._tileScale.y,T=this._tilePosition.x,S=this._tilePosition.y;w.clearRect(0,0,this.width,this.height),w.save(),w.scale(C,E),w.translate(-T,-S),w.fillStyle=this.fillPattern,w.fillRect(T,S,this.width/C,this.height/E),w.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),o.remove(this.canvas),o.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var x=this.texture;x&&x.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(x){this._tilePosition.x=x,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(x){this._tilePosition.y=x,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(x){this._tileScale.x=x,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(x){this._tileScale.y=x,this.dirty=!0}}});s.exports=m}),46992:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c){o.updateCanvas(),v.addToRenderList(o),r.batchSprite(o,o.frame,v,c)};s.exports=y}),14167:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),v=r(44603),c=r(23568),u=r(20839);v.register("tileSprite",function(l,a){l===void 0&&(l={});var d=c(l,"x",0),p=c(l,"y",0),h=c(l,"width",512),g=c(l,"height",512),m=c(l,"key",""),x=c(l,"frame",""),w=new u(this.scene,d,p,h,g,m,x);return a!==void 0&&(l.add=a),o(this.scene,w,l),w})}),91681:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20839),v=r(39429);v.register("tileSprite",function(c,u,l,a,d,p){return this.displayList.add(new o(this.scene,c,u,l,a,d,p))})}),56295:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),v=o,c=o;v=r(18553),c=r(46992),s.exports={renderWebGL:v,renderCanvas:c}}),18553:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(70554),v=function(c,u,l,a){u.updateCanvas();var d=u.width,p=u.height;if(!(d===0||p===0)){l.addToRenderList(u);var h=o.getTintAppendFloatAlpha,g=c.pipelines.set(u.pipeline,u),m=g.setTexture2D(u.fillPattern,u);g.batchTexture(u,u.fillPattern,u.displayFrame.width*u.tileScaleX,u.displayFrame.height*u.tileScaleY,u.x,u.y,d,p,u.scaleX,u.scaleY,u.rotation,u.flipX,u.flipY,u.scrollFactorX,u.scrollFactorY,u.originX*d,u.originY*p,0,0,d,p,h(u.tintTopLeft,l.alpha*u._alphaTL),h(u.tintTopRight,l.alpha*u._alphaTR),h(u.tintBottomLeft,l.alpha*u._alphaBL),h(u.tintBottomRight,l.alpha*u._alphaBR),u.tintFill,u.tilePositionX%u.displayFrame.width/u.displayFrame.width,u.tilePositionY%u.displayFrame.height/u.displayFrame.height,l,a,!1,m)}};s.exports=v}),18471:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),v=r(83419),c=r(31401),u=r(51708),l=r(8443),a=r(95643),d=r(36383),p=r(14463),h=r(45650),g=r(10247),m=new v({Extends:a,Mixins:[c.Alpha,c.BlendMode,c.ComputedSize,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.TextureCrop,c.Tint,c.Transform,c.Visible,g],initialize:function(w,C,E,T){a.call(this,w,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=h(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var S=w.sys.game;this._device=S.device.video,this.setPosition(C,E),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),S.events.on(l.PAUSE,this.globalPause,this),S.events.on(l.RESUME,this.globalResume,this);var A=w.sys.sound;A&&A.on(p.GLOBAL_MUTE,this.globalMute,this),T&&this.load(T)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(x){var w=this.scene.sys.cache.video.get(x);return w?(this.cacheKey=x,this.loadHandler(w.url,w.noAudio,w.crossOrigin)):console.warn("No video in cache for key: "+x),this},changeSource:function(x,w,C,E,T){w===void 0&&(w=!0),C===void 0&&(C=!1),this.cacheKey!==x&&(this.load(x),w&&this.play(C,E,T))},getVideoKey:function(){return this.cacheKey},loadURL:function(x,w,C){w===void 0&&(w=!1);var E=this._device.getVideoURL(x);return E?(this.cacheKey="",this.loadHandler(E.url,w,C)):console.warn("No supported video format found for "+x),this},loadMediaStream:function(x,w,C){return this.loadHandler(null,w,C,x)},loadHandler:function(x,w,C,E){w||(w=!1);var T=this.video;if(T?(this.removeLoadEventHandlers(),this.stop()):(T=document.createElement("video"),T.controls=!1,T.setAttribute("playsinline","playsinline"),T.setAttribute("preload","auto"),T.setAttribute("disablePictureInPicture","true")),w?(T.muted=!0,T.defaultMuted=!0,T.setAttribute("autoplay","autoplay")):(T.muted=!1,T.defaultMuted=!1,T.removeAttribute("autoplay")),C?T.setAttribute("crossorigin",C):T.removeAttribute("crossorigin"),E)if("srcObject"in T)try{T.srcObject=E}catch(A){if(A.name!=="TypeError")throw A;T.src=URL.createObjectURL(E)}else T.src=URL.createObjectURL(E);else T.src=x;this.retry=0,this.video=T,this._playCalled=!1,T.load(),this.addLoadEventHandlers();var S=this.scene.sys.textures.get(this._key);return this.setTexture(S),this},requestVideoFrame:function(x,w){var C=this.video;if(C){var E=w.width,T=w.height,S=this.videoTexture,A=this.videoTextureSource,P=!S||A.source!==C;P?(this._codePaused=C.paused,this._codeMuted=C.muted,S?(A.source=C,A.width=E,A.height=T,S.get().setSize(E,T)):(S=this.scene.sys.textures.create(this._key,C,E,T),S.add("__BASE",0,0,0,E,T),this.setTexture(S),this.videoTexture=S,this.videoTextureSource=S.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(u.VIDEO_TEXTURE,this,S)),this.setSizeToFrame(),this.updateDisplayOrigin()):A.update(),this.isStalled=!1,this.metadata=w;var R=w.mediaTime;P&&(this._lastUpdate=R,this.emit(u.VIDEO_CREATED,this,E,T),this.frameReady||(this.frameReady=!0,this.emit(u.VIDEO_PLAY,this))),this._playingMarker?R>=this._markerOut&&(C.loop?(C.currentTime=this._markerIn,this.emit(u.VIDEO_LOOP,this)):(this.stop(!1),this.emit(u.VIDEO_COMPLETE,this))):R<this._lastUpdate&&this.emit(u.VIDEO_LOOP,this),this._lastUpdate=R,this._getFrame?(this.removeEventHandlers(),C.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(x,w,C){w===void 0&&(w=-1),C===void 0&&(C=d.MAX_SAFE_INTEGER);var E=this.video;return!E||this.isPlaying()?(E||console.warn("Video not loaded"),this):(x===void 0&&(x=E.loop),E.loop=x,this._markerIn=w,this._markerOut=C,this._playingMarker=w>-1&&C>w&&C<d.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=E.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},getFirstFrame:function(){var x=this.video;return!x||this.isPlaying()?(x||console.warn("Video not loaded"),this):(this._playCalled||(this._getFrame=!0,this._rfvCallbackId=x.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this)},addLoadEventHandlers:function(){var x=this.video;x&&(x.addEventListener("error",this._loadCallbackHandler),x.addEventListener("abort",this._loadCallbackHandler),x.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var x=this.video;x&&(x.removeEventListener("error",this._loadCallbackHandler),x.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var x=this.video;if(x){var w=this._callbacks;for(var C in w)x.addEventListener(C,w[C])}},removeEventHandlers:function(){var x=this.video;if(x){var w=this._callbacks;for(var C in w)x.removeEventListener(C,w[C])}},createPlayPromise:function(x){x===void 0&&(x=!0);var w=this.video,C=w.play();if(C!==void 0){var E=this.playSuccess.bind(this),T=this.playError.bind(this);if(!x){var S=this;T=function(){S.failedPlayAttempts++}}C.then(E).catch(T)}else w.addEventListener("playing",this._callbacks.legacy),x||this.failedPlayAttempts++},addMarker:function(x,w,C){return!isNaN(w)&&w>=0&&!isNaN(C)&&C>w&&(this.markers[x]=[w,C]),this},playMarker:function(x,w){var C=this.markers[x];return C&&this.play(w,C[0],C[1]),this},removeMarker:function(x){return delete this.markers[x],this},snapshot:function(x,w){return x===void 0&&(x=this.width),w===void 0&&(w=this.height),this.snapshotArea(0,0,this.width,this.height,x,w)},snapshotArea:function(x,w,C,E,T,S){x===void 0&&(x=0),w===void 0&&(w=0),C===void 0&&(C=this.width),E===void 0&&(E=this.height),T===void 0&&(T=C),S===void 0&&(S=E);var A=this.video,P=this.snapshotTexture;return P?(P.setSize(T,S),A&&P.context.drawImage(A,x,w,C,E,0,0,T,S)):(P=this.scene.sys.textures.createCanvas(h(),T,S),this.snapshotTexture=P,A&&P.context.drawImage(A,x,w,C,E,0,0,T,S)),P.update()},saveSnapshotTexture:function(x){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,x):this.snapshotTexture=this.scene.sys.textures.createCanvas(x,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(u.VIDEO_UNLOCKED,this));var x=this.scene.sys.sound;x&&x.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(x){var w=x.name;w==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(u.VIDEO_LOCKED,this)):w==="NotSupportedError"?(this.stop(!1),this.emit(u.VIDEO_UNSUPPORTED,this,x)):(this.stop(!1),this.emit(u.VIDEO_ERROR,this,x))},legacyPlayHandler:function(){var x=this.video;x&&(this.playSuccess(),x.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(u.VIDEO_PLAYING,this)},loadErrorHandler:function(x){this.stop(!1),this.emit(u.VIDEO_ERROR,this,x)},metadataHandler:function(x){this.emit(u.VIDEO_METADATA,this,x)},setSizeToFrame:function(x){x||(x=this.frame),this.width=x.realWidth,this.height=x.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var w=this.input;return w&&!w.customHitArea&&(w.hitArea.width=this.width,w.hitArea.height=this.height),this},stalledHandler:function(x){this.isStalled=!0,this.emit(u.VIDEO_STALLED,this,x)},completeHandler:function(){this._playCalled=!1,this.emit(u.VIDEO_COMPLETE,this)},preUpdate:function(x,w){var C=this.video;!C||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=w,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(x){var w=this.video;if(w){var C=w.duration;if(C!==1/0&&!isNaN(C)){var E=C*x;this.setCurrentTime(E)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(x){var w=this.video;if(w){if(typeof x=="string"){var C=x[0],E=parseFloat(x.substr(1));C==="+"?x=w.currentTime+E:C==="-"&&(x=w.currentTime-E)}w.currentTime=x}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(u.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(u.VIDEO_SEEKED,this)},getProgress:function(){var x=this.video;if(x){var w=x.duration;if(w!==1/0&&!isNaN(w))return x.currentTime/w}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(x){x===void 0&&(x=!0),this._codeMuted=x;var w=this.video;return w&&(w.muted=this._systemMuted?!0:x),this},isMuted:function(){return this._codeMuted},globalMute:function(x,w){this._systemMuted=w;var C=this.video;C&&(C.muted=this._codeMuted?!0:w)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(x){x===void 0&&(x=!0);var w=this.video;return this._codePaused=x,w&&!w.ended&&(x?w.paused||(this.removeEventHandlers(),w.pause()):x||(this._playCalled?w.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(x){return x===void 0&&(x=1),this.video&&(this.video.volume=o(x,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(x){return this.video&&(this.video.playbackRate=x),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(x){return x===void 0&&(x=!0),this.video&&(this.video.loop=x),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(x,w){return w===void 0&&(w=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,x),this.videoTextureSource.setFlipY(w)),this._key=x,this.flipY=w,!!this.videoTexture},stop:function(x){x===void 0&&(x=!0);var w=this.video;return w&&(this.removeEventHandlers(),w.cancelVideoFrameCallback(this._rfvCallbackId),w.pause()),this.retry=0,this._playCalled=!1,x&&this.emit(u.VIDEO_STOP,this),this},removeVideoElement:function(){var x=this.video;if(x){for(x.parentNode&&x.parentNode.removeChild(x);x.hasChildNodes();)x.removeChild(x.firstChild);x.removeAttribute("autoplay"),x.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var x=this.scene.sys.game.events;x.off(l.PAUSE,this.globalPause,this),x.off(l.RESUME,this.globalResume,this);var w=this.scene.sys.sound;w&&w.off(p.GLOBAL_MUTE,this.globalMute,this)}});s.exports=m}),58352:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c){o.videoTexture&&(v.addToRenderList(o),r.batchSprite(o,o.frame,v,c))};s.exports=y}),11511:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),v=r(44603),c=r(23568),u=r(18471);v.register("video",function(l,a){l===void 0&&(l={});var d=c(l,"key",null),p=new u(this.scene,0,0,d);return a!==void 0&&(l.add=a),o(this.scene,p,l),p})}),89025:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(18471),v=r(39429);v.register("video",function(c,u,l){return this.displayList.add(new o(this.scene,c,u,l))})}),10247:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),v=o,c=o;v=r(29849),c=r(58352),s.exports={renderWebGL:v,renderCanvas:c}}),29849:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c){o.videoTexture&&(v.addToRenderList(o),o.pipeline.batchSprite(o,v,c))};s.exports=y}),41481:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10312),v=r(96503),c=r(87902),u=r(83419),l=r(31401),a=r(95643),d=r(87841),p=r(37303),h=new u({Extends:a,Mixins:[l.Depth,l.GetBounds,l.Origin,l.Transform,l.ScrollFactor,l.Visible],initialize:function(m,x,w,C,E){C===void 0&&(C=1),E===void 0&&(E=C),a.call(this,m,"Zone"),this.setPosition(x,w),this.width=C,this.height=E,this.blendMode=o.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(g){this.scaleX=g/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(g){this.scaleY=g/this.height}},setSize:function(g,m,x){x===void 0&&(x=!0),this.width=g,this.height=m,this.updateDisplayOrigin();var w=this.input;return x&&w&&!w.customHitArea&&(w.hitArea.width=g,w.hitArea.height=m),this},setDisplaySize:function(g,m){return this.displayWidth=g,this.displayHeight=m,this},setCircleDropZone:function(g){return this.setDropZone(new v(0,0,g),c)},setRectangleDropZone:function(g,m){return this.setDropZone(new d(0,0,g,m),p)},setDropZone:function(g,m){return this.input||this.setInteractive(g,m,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(g,m,x){x.addToRenderList(m)},renderWebGL:function(g,m,x){x.addToRenderList(m)}});s.exports=h}),95261:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(44603),v=r(23568),c=r(41481);o.register("zone",function(u){var l=v(u,"x",0),a=v(u,"y",0),d=v(u,"width",1),p=v(u,"height",d);return new c(this.scene,l,a,d,p)})}),84175:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(41481),v=r(39429);v.register("zone",function(c,u,l,a){return this.displayList.add(new o(this.scene,c,u,l,a))})}),95166:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r.radius>0?Math.PI*r.radius*r.radius:0};s.exports=y}),96503:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(87902),c=r(26241),u=r(79124),l=r(23777),a=r(28176),d=new o({initialize:function(h,g,m){h===void 0&&(h=0),g===void 0&&(g=0),m===void 0&&(m=0),this.type=l.CIRCLE,this.x=h,this.y=g,this._radius=m,this._diameter=m*2},contains:function(p,h){return v(this,p,h)},getPoint:function(p,h){return c(this,p,h)},getPoints:function(p,h,g){return u(this,p,h,g)},getRandomPoint:function(p){return a(this,p)},setTo:function(p,h,g){return this.x=p,this.y=h,this._radius=g,this._diameter=g*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(p,h){return h===void 0&&(h=p),this.x=p,this.y=h,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(p){this._radius=p,this._diameter=p*2}},diameter:{get:function(){return this._diameter},set:function(p){this._diameter=p,this._radius=p*.5}},left:{get:function(){return this.x-this._radius},set:function(p){this.x=p+this._radius}},right:{get:function(){return this.x+this._radius},set:function(p){this.x=p-this._radius}},top:{get:function(){return this.y-this._radius},set:function(p){this.y=p+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(p){this.y=p-this._radius}}});s.exports=d}),71562:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return 2*(Math.PI*r.radius)};s.exports=y}),92110:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),v=function(c,u,l){return l===void 0&&(l=new o),l.x=c.x+c.radius*Math.cos(u),l.y=c.y+c.radius*Math.sin(u),l};s.exports=v}),42250:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(96503),v=function(c){return new o(c.x,c.y,c.radius)};s.exports=v}),87902:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){if(r.radius>0&&o>=r.left&&o<=r.right&&v>=r.top&&v<=r.bottom){var c=(r.x-o)*(r.x-o),u=(r.y-v)*(r.y-v);return c+u<=r.radius*r.radius}else return!1};s.exports=y}),5698:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87902),v=function(c,u){return o(c,u.x,u.y)};s.exports=v}),70588:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87902),v=function(c,u){return o(c,u.x,u.y)&&o(c,u.right,u.y)&&o(c,u.x,u.bottom)&&o(c,u.right,u.bottom)};s.exports=v}),26394:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return o.setTo(r.x,r.y,r.radius)};s.exports=y}),76278:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return r.x===o.x&&r.y===o.y&&r.radius===o.radius};s.exports=y}),2074:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),v=function(c,u){return u===void 0&&(u=new o),u.x=c.left,u.y=c.top,u.width=c.diameter,u.height=c.diameter,u};s.exports=v}),26241:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(92110),v=r(62945),c=r(36383),u=r(2141),l=function(a,d,p){p===void 0&&(p=new u);var h=v(d,0,c.PI2);return o(a,h,p)};s.exports=l}),79124:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(71562),v=r(92110),c=r(62945),u=r(36383),l=function(a,d,p,h){h===void 0&&(h=[]),!d&&p>0&&(d=o(a)/p);for(var g=0;g<d;g++){var m=c(g/d,0,u.PI2);h.push(v(a,m))}return h};s.exports=l}),50884:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){return r.x+=o,r.y+=v,r};s.exports=y}),39212:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return r.x+=o.x,r.y+=o.y,r};s.exports=y}),28176:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),v=function(c,u){u===void 0&&(u=new o);var l=2*Math.PI*Math.random(),a=Math.random()+Math.random(),d=a>1?2-a:a,p=d*Math.cos(l),h=d*Math.sin(l);return u.x=c.x+p*c.radius,u.y=c.y+h*c.radius,u};s.exports=v}),88911:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(96503);o.Area=r(95166),o.Circumference=r(71562),o.CircumferencePoint=r(92110),o.Clone=r(42250),o.Contains=r(87902),o.ContainsPoint=r(5698),o.ContainsRect=r(70588),o.CopyFrom=r(26394),o.Equals=r(76278),o.GetBounds=r(2074),o.GetPoint=r(26241),o.GetPoints=r(79124),o.Offset=r(50884),o.OffsetPoint=r(39212),o.Random=r(28176),s.exports=o}),23777:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};s.exports=y}),78874:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r.isEmpty()?0:r.getMajorRadius()*r.getMinorRadius()*Math.PI};s.exports=y}),92990:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){var o=r.width/2,v=r.height/2,c=Math.pow(o-v,2)/Math.pow(o+v,2);return Math.PI*(o+v)*(1+3*c/(10+Math.sqrt(4-3*c)))};s.exports=y}),79522:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),v=function(c,u,l){l===void 0&&(l=new o);var a=c.width/2,d=c.height/2;return l.x=c.x+a*Math.cos(u),l.y=c.y+d*Math.sin(u),l};s.exports=v}),58102:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(8497),v=function(c){return new o(c.x,c.y,c.width,c.height)};s.exports=v}),81154:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){if(r.width<=0||r.height<=0)return!1;var c=(o-r.x)/r.width,u=(v-r.y)/r.height;return c*=c,u*=u,c+u<.25};s.exports=y}),46662:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(81154),v=function(c,u){return o(c,u.x,u.y)};s.exports=v}),1632:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(81154),v=function(c,u){return o(c,u.x,u.y)&&o(c,u.right,u.y)&&o(c,u.x,u.bottom)&&o(c,u.right,u.bottom)};s.exports=v}),65534:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return o.setTo(r.x,r.y,r.width,r.height)};s.exports=y}),8497:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(81154),c=r(90549),u=r(48320),l=r(23777),a=r(24820),d=new o({initialize:function(h,g,m,x){h===void 0&&(h=0),g===void 0&&(g=0),m===void 0&&(m=0),x===void 0&&(x=0),this.type=l.ELLIPSE,this.x=h,this.y=g,this.width=m,this.height=x},contains:function(p,h){return v(this,p,h)},getPoint:function(p,h){return c(this,p,h)},getPoints:function(p,h,g){return u(this,p,h,g)},getRandomPoint:function(p){return a(this,p)},setTo:function(p,h,g,m){return this.x=p,this.y=h,this.width=g,this.height=m,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(p,h){return h===void 0&&(h=p),this.x=p,this.y=h,this},setSize:function(p,h){return h===void 0&&(h=p),this.width=p,this.height=h,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(p){this.x=p+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(p){this.x=p-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(p){this.y=p+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(p){this.y=p-this.height/2}}});s.exports=d}),36146:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return r.x===o.x&&r.y===o.y&&r.width===o.width&&r.height===o.height};s.exports=y}),23694:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),v=function(c,u){return u===void 0&&(u=new o),u.x=c.left,u.y=c.top,u.width=c.width,u.height=c.height,u};s.exports=v}),90549:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(79522),v=r(62945),c=r(36383),u=r(2141),l=function(a,d,p){p===void 0&&(p=new u);var h=v(d,0,c.PI2);return o(a,h,p)};s.exports=l}),48320:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(92990),v=r(79522),c=r(62945),u=r(36383),l=function(a,d,p,h){h===void 0&&(h=[]),!d&&p>0&&(d=o(a)/p);for(var g=0;g<d;g++){var m=c(g/d,0,u.PI2);h.push(v(a,m))}return h};s.exports=l}),73424:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){return r.x+=o,r.y+=v,r};s.exports=y}),44808:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return r.x+=o.x,r.y+=o.y,r};s.exports=y}),24820:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),v=function(c,u){u===void 0&&(u=new o);var l=Math.random()*Math.PI*2,a=Math.sqrt(Math.random());return u.x=c.x+a*Math.cos(l)*c.width/2,u.y=c.y+a*Math.sin(l)*c.height/2,u};s.exports=v}),49203:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(8497);o.Area=r(78874),o.Circumference=r(92990),o.CircumferencePoint=r(79522),o.Clone=r(58102),o.Contains=r(81154),o.ContainsPoint=r(46662),o.ContainsRect=r(1632),o.CopyFrom=r(65534),o.Equals=r(36146),o.GetBounds=r(23694),o.GetPoint=r(90549),o.GetPoints=r(48320),o.Offset=r(73424),o.OffsetPoint=r(44808),o.Random=r(24820),s.exports=o}),55738:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(23777),v=r(79291),c={Circle:r(88911),Ellipse:r(49203),Intersects:r(91865),Line:r(2529),Mesh:r(73090),Point:r(43711),Polygon:r(58423),Rectangle:r(93232),Triangle:r(84435)};c=v(!1,c,o),s.exports=c}),2044:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20339),v=function(c,u){return o(c.x,c.y,u.x,u.y)<=c.radius+u.radius};s.exports=v}),81491:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){var v=o.width/2,c=o.height/2,u=Math.abs(r.x-o.x-v),l=Math.abs(r.y-o.y-c),a=v+r.radius,d=c+r.radius;if(u>a||l>d)return!1;if(u<=v||l<=c)return!0;var p=u-v,h=l-c,g=p*p,m=h*h,x=r.radius*r.radius;return g+m<=x};s.exports=y}),63376:((s,y,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),v=r(2044),c=function(u,l,a){if(a===void 0&&(a=[]),v(u,l)){var d=u.x,p=u.y,h=u.radius,g=l.x,m=l.y,x=l.radius,w,C,E,T,S;if(p===m)S=(x*x-h*h-g*g+d*d)/(2*(d-g)),w=1,C=-2*m,E=g*g+S*S-2*g*S+m*m-x*x,T=C*C-4*w*E,T===0?a.push(new o(S,-C/(2*w))):T>0&&(a.push(new o(S,(-C+Math.sqrt(T))/(2*w))),a.push(new o(S,(-C-Math.sqrt(T))/(2*w))));else{var A=(d-g)/(p-m),P=(x*x-h*h-g*g+d*d-m*m+p*p)/(2*(p-m));w=A*A+1,C=2*p*A-2*P*A-2*d,E=d*d+p*p+P*P-h*h-2*p*P,T=C*C-4*w*E,T===0?(S=-C/(2*w),a.push(new o(S,P-S*A))):T>0&&(S=(-C+Math.sqrt(T))/(2*w),a.push(new o(S,P-S*A)),S=(-C-Math.sqrt(T))/(2*w),a.push(new o(S,P-S*A)))}}return a};s.exports=c}),97439:((s,y,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(4042),v=r(81491),c=function(u,l,a){if(a===void 0&&(a=[]),v(u,l)){var d=l.getLineA(),p=l.getLineB(),h=l.getLineC(),g=l.getLineD();o(d,u,a),o(p,u,a),o(h,u,a),o(g,u,a)}return a};s.exports=c}),4042:((s,y,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),v=r(80462),c=function(u,l,a){if(a===void 0&&(a=[]),v(u,l)){var d=u.x1,p=u.y1,h=u.x2,g=u.y2,m=l.x,x=l.y,w=l.radius,C=h-d,E=g-p,T=d-m,S=p-x,A=C*C+E*E,P=2*(C*T+E*S),R=T*T+S*S-w*w,L=P*P-4*A*R,D,F;if(L===0){var $=-P/(2*A);D=d+$*C,F=p+$*E,$>=0&&$<=1&&a.push(new o(D,F))}else if(L>0){var N=(-P-Math.sqrt(L))/(2*A);D=d+N*C,F=p+N*E,N>=0&&N<=1&&a.push(new o(D,F));var k=(-P+Math.sqrt(L))/(2*A);D=d+k*C,F=p+k*E,k>=0&&k<=1&&a.push(new o(D,F))}}return a};s.exports=c}),36100:((s,y,r)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25836),v=function(c,u,l,a){l===void 0&&(l=!1);var d=c.x1,p=c.y1,h=c.x2,g=c.y2,m=u.x1,x=u.y1,w=u.x2,C=u.y2,E=h-d,T=g-p,S=w-m,A=C-x,P=E*A-T*S;if(P===0)return null;var R,L,D;if(l){if(R=(E*(x-p)+T*(d-m))/(S*T-A*E),E!==0)L=(m+S*R-d)/E;else if(T!==0)L=(x+A*R-p)/T;else return null;if(L<0||R<0||R>1)return null;D=L}else{if(R=((m-d)*A-(x-p)*S)/P,L=((p-x)*E-(d-m)*T)/P,R<0||R>1||L<0||L>1)return null;D=R}return a===void 0&&(a=new o),a.set(d+E*D,p+T*D,D)};s.exports=v}),3073:((s,y,r)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36100),v=r(23031),c=r(25836),u=new v,l=new c,a=function(d,p,h,g){h===void 0&&(h=!1),g===void 0&&(g=new c);var m=!1;g.set(),l.set();for(var x=p[p.length-1],w=0;w<p.length;w++){var C=p[w];u.setTo(x.x,x.y,C.x,C.y),x=C,o(d,u,h,l)&&(!m||l.z<g.z)&&(g.copy(l),m=!0)}return m?g:null};s.exports=a}),56362:((s,y,r)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25836),v=r(61369),c=r(3073),u=new o,l=function(a,d,p,h){h===void 0&&(h=new v),Array.isArray(d)||(d=[d]);var g=!1;h.set(),u.set();for(var m=0;m<d.length;m++)c(a,d[m].points,p,u)&&(!g||u.z<h.z)&&(h.set(u.x,u.y,u.z,m),g=!0);return g?h:null};s.exports=l}),60646:((s,y,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),v=r(76112),c=r(92773),u=function(l,a,d){if(d===void 0&&(d=[]),c(l,a))for(var p=a.getLineA(),h=a.getLineB(),g=a.getLineC(),m=a.getLineD(),x=[new o,new o,new o,new o],w=[v(p,l,x[0]),v(h,l,x[1]),v(g,l,x[2]),v(m,l,x[3])],C=0;C<4;C++)w[C]&&d.push(x[C]);return d};s.exports=u}),71147:((s,y,r)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(61369),v=r(56362),c=r(23031),u=new c;function l(p,h,g,m,x){var w=Math.cos(p),C=Math.sin(p);u.setTo(h,g,h+w,g+C);var E=v(u,m,!0);E&&x.push(new o(E.x,E.y,p,E.w))}function a(p,h){return p.z-h.z}var d=function(p,h,g){Array.isArray(g)||(g=[g]);for(var m=[],x=[],w=0;w<g.length;w++)for(var C=g[w].points,E=0;E<C.length;E++){var T=Math.atan2(C[E].y-h,C[E].x-p);x.indexOf(T)===-1&&(l(T,p,h,g,m),l(T-1e-5,p,h,g,m),l(T+1e-5,p,h,g,m),x.push(T))}return m.sort(a)};s.exports=d}),68389:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),v=r(59996),c=function(u,l,a){return a===void 0&&(a=new o),v(u,l)&&(a.x=Math.max(u.x,l.x),a.y=Math.max(u.y,l.y),a.width=Math.min(u.right,l.right)-a.x,a.height=Math.min(u.bottom,l.bottom)-a.y),a};s.exports=c}),52784:((s,y,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(60646),v=r(59996),c=function(u,l,a){if(a===void 0&&(a=[]),v(u,l)){var d=u.getLineA(),p=u.getLineB(),h=u.getLineC(),g=u.getLineD();o(d,l,a),o(p,l,a),o(h,l,a),o(g,l,a)}return a};s.exports=c}),26341:((s,y,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(89265),v=r(60646),c=function(u,l,a){if(a===void 0&&(a=[]),o(u,l)){var d=l.getLineA(),p=l.getLineB(),h=l.getLineC();v(d,u,a),v(p,u,a),v(h,u,a)}return a};s.exports=c}),38720:((s,y,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(4042),v=r(67636),c=function(u,l,a){if(a===void 0&&(a=[]),v(u,l)){var d=u.getLineA(),p=u.getLineB(),h=u.getLineC();o(d,l,a),o(p,l,a),o(h,l,a)}return a};s.exports=c}),13882:((s,y,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),v=r(2822),c=r(76112),u=function(l,a,d){if(d===void 0&&(d=[]),v(l,a))for(var p=l.getLineA(),h=l.getLineB(),g=l.getLineC(),m=[new o,new o,new o],x=[c(p,a,m[0]),c(h,a,m[1]),c(g,a,m[2])],w=0;w<3;w++)x[w]&&d.push(m[w]);return d};s.exports=u}),75636:((s,y,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(82944),v=r(13882),c=function(u,l,a){if(a===void 0&&(a=[]),o(u,l)){var d=l.getLineA(),p=l.getLineB(),h=l.getLineC();v(u,d,a),v(u,p,a),v(u,h,a)}return a};s.exports=c}),80462:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87902),v=r(2141),c=new v,u=function(l,a,d){if(d===void 0&&(d=c),o(a,l.x1,l.y1))return d.x=l.x1,d.y=l.y1,!0;if(o(a,l.x2,l.y2))return d.x=l.x2,d.y=l.y2,!0;var p=l.x2-l.x1,h=l.y2-l.y1,g=a.x-l.x1,m=a.y-l.y1,x=p*p+h*h,w=p,C=h;if(x>0){var E=(g*p+m*h)/x;w*=E,C*=E}d.x=l.x1+w,d.y=l.y1+C;var T=w*w+C*C;return T<=x&&w*p+C*h>=0&&o(a,d.x,d.y)};s.exports=u}),76112:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){var c=r.x1,u=r.y1,l=r.x2,a=r.y2,d=o.x1,p=o.y1,h=o.x2,g=o.y2;if(c===l&&u===a||d===h&&p===g)return!1;var m=(g-p)*(l-c)-(h-d)*(a-u);if(m===0)return!1;var x=((h-d)*(u-p)-(g-p)*(c-d))/m,w=((l-c)*(u-p)-(a-u)*(c-d))/m;return x<0||x>1||w<0||w>1?!1:(v&&(v.x=c+x*(l-c),v.y=u+x*(a-u)),!0)};s.exports=y}),92773:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){var v=r.x1,c=r.y1,u=r.x2,l=r.y2,a=o.x,d=o.y,p=o.right,h=o.bottom,g=0;if(v>=a&&v<=p&&c>=d&&c<=h||u>=a&&u<=p&&l>=d&&l<=h)return!0;if(v<a&&u>=a){if(g=c+(l-c)*(a-v)/(u-v),g>d&&g<=h)return!0}else if(v>p&&u<=p&&(g=c+(l-c)*(p-v)/(u-v),g>=d&&g<=h))return!0;if(c<d&&l>=d){if(g=v+(u-v)*(d-c)/(l-c),g>=a&&g<=p)return!0}else if(c>h&&l<=h&&(g=v+(u-v)*(h-c)/(l-c),g>=a&&g<=p))return!0;return!1};s.exports=y}),16204:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){v===void 0&&(v=1);var c=o.x1,u=o.y1,l=o.x2,a=o.y2,d=r.x,p=r.y,h=(l-c)*(l-c)+(a-u)*(a-u);if(h===0)return!1;var g=((d-c)*(l-c)+(p-u)*(a-u))/h;if(g<0)return Math.sqrt((c-d)*(c-d)+(u-p)*(u-p))<=v;if(g>=0&&g<=1){var m=((u-p)*(l-c)-(c-d)*(a-u))/h;return Math.abs(m)*Math.sqrt(h)<=v}else return Math.sqrt((l-d)*(l-d)+(a-p)*(a-p))<=v};s.exports=y}),14199:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(16204),v=function(c,u){if(!o(c,u))return!1;var l=Math.min(u.x1,u.x2),a=Math.max(u.x1,u.x2),d=Math.min(u.y1,u.y2),p=Math.max(u.y1,u.y2);return c.x>=l&&c.x<=a&&c.y>=d&&c.y<=p};s.exports=v}),59996:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return r.width<=0||r.height<=0||o.width<=0||o.height<=0?!1:!(r.right<o.x||r.bottom<o.y||r.x>o.right||r.y>o.bottom)};s.exports=y}),89265:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(76112),v=r(37303),c=r(48653),u=r(77493),l=function(a,d){if(d.left>a.right||d.right<a.left||d.top>a.bottom||d.bottom<a.top)return!1;var p=d.getLineA(),h=d.getLineB(),g=d.getLineC();if(v(a,p.x1,p.y1)||v(a,p.x2,p.y2)||v(a,h.x1,h.y1)||v(a,h.x2,h.y2)||v(a,g.x1,g.y1)||v(a,g.x2,g.y2))return!0;var m=a.getLineA(),x=a.getLineB(),w=a.getLineC(),C=a.getLineD();if(o(p,m)||o(p,x)||o(p,w)||o(p,C)||o(h,m)||o(h,x)||o(h,w)||o(h,C)||o(g,m)||o(g,x)||o(g,w)||o(g,C))return!0;var E=u(a),T=c(d,E,!0);return T.length>0};s.exports=l}),84411:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c,u,l){return l===void 0&&(l=0),!(o>r.right+l||v<r.left-l||c>r.bottom+l||u<r.top-l)};s.exports=y}),67636:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(80462),v=r(10690),c=function(u,l){return u.left>l.right||u.right<l.left||u.top>l.bottom||u.bottom<l.top?!1:!!(v(u,l.x,l.y)||o(u.getLineA(),l)||o(u.getLineB(),l)||o(u.getLineC(),l))};s.exports=c}),2822:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(76112),v=function(c,u){return!!(c.contains(u.x1,u.y1)||c.contains(u.x2,u.y2)||o(c.getLineA(),u)||o(c.getLineB(),u)||o(c.getLineC(),u))};s.exports=v}),82944:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(48653),v=r(71694),c=r(76112),u=function(l,a){if(l.left>a.right||l.right<a.left||l.top>a.bottom||l.bottom<a.top)return!1;var d=l.getLineA(),p=l.getLineB(),h=l.getLineC(),g=a.getLineA(),m=a.getLineB(),x=a.getLineC();if(c(d,g)||c(d,m)||c(d,x)||c(p,g)||c(p,m)||c(p,x)||c(h,g)||c(h,m)||c(h,x))return!0;var w=v(l),C=o(a,w,!0);return C.length>0||(w=v(a),C=o(l,w,!0),C.length>0)};s.exports=u}),91865:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={CircleToCircle:r(2044),CircleToRectangle:r(81491),GetCircleToCircle:r(63376),GetCircleToRectangle:r(97439),GetLineToCircle:r(4042),GetLineToLine:r(36100),GetLineToPoints:r(3073),GetLineToPolygon:r(56362),GetLineToRectangle:r(60646),GetRaysFromPointToPolygon:r(71147),GetRectangleIntersection:r(68389),GetRectangleToRectangle:r(52784),GetRectangleToTriangle:r(26341),GetTriangleToCircle:r(38720),GetTriangleToLine:r(13882),GetTriangleToTriangle:r(75636),LineToCircle:r(80462),LineToLine:r(76112),LineToRectangle:r(92773),PointToLine:r(16204),PointToLineSegment:r(14199),RectangleToRectangle:r(59996),RectangleToTriangle:r(89265),RectangleToValues:r(84411),TriangleToCircle:r(67636),TriangleToLine:r(2822),TriangleToTriangle:r(82944)}}),91938:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return Math.atan2(r.y2-r.y1,r.x2-r.x1)};s.exports=y}),84993:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){o===void 0&&(o=1),v===void 0&&(v=[]);var c=Math.round(r.x1),u=Math.round(r.y1),l=Math.round(r.x2),a=Math.round(r.y2),d=Math.abs(l-c),p=Math.abs(a-u),h=c<l?1:-1,g=u<a?1:-1,m=d-p;v.push({x:c,y:u});for(var x=1;!(c===l&&u===a);){var w=m<<1;w>-p&&(m-=p,c+=h),w<d&&(m+=d,u+=g),x%o===0&&v.push({x:c,y:u}),x++}return v};s.exports=y}),36469:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){var c=o-(r.x1+r.x2)/2,u=v-(r.y1+r.y2)/2;return r.x1+=c,r.y1+=u,r.x2+=c,r.y2+=u,r};s.exports=y}),31116:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(23031),v=function(c){return new o(c.x1,c.y1,c.x2,c.y2)};s.exports=v}),59944:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return o.setTo(r.x1,r.y1,r.x2,r.y2)};s.exports=y}),59220:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return r.x1===o.x1&&r.y1===o.y1&&r.x2===o.x2&&r.y2===o.y2};s.exports=y}),78177:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35001),v=function(c,u,l){l===void 0&&(l=u);var a=o(c),d=c.x2-c.x1,p=c.y2-c.y1;return u&&(c.x1=c.x1-d/a*u,c.y1=c.y1-p/a*u),l&&(c.x2=c.x2+d/a*l,c.y2=c.y2+p/a*l),c};s.exports=v}),26708:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(52816),v=r(6113),c=r(2141),u=function(l,a,d,p,h){p===void 0&&(p=0),h===void 0&&(h=[]);var g=[],m=l.x1,x=l.y1,w=l.x2-m,C=l.y2-x,E=v(a,h),T,S,A=d-1;for(T=0;T<A;T++)S=E(T/A),g.push(new c(m+w*S,x+C*S));if(S=E(1),g.push(new c(m+w*S,x+C*S)),p>0){var P=g[0],R=[P];for(T=1;T<g.length-1;T++){var L=g[T];o(P,L)>=p&&(R.push(L),P=L)}var D=g[g.length-1];return o(P,D)<p&&R.pop(),R.push(D),R}else return g};s.exports=u}),32125:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),v=function(c,u){return u===void 0&&(u=new o),u.x=(c.x1+c.x2)/2,u.y=(c.y1+c.y2)/2,u};s.exports=v}),99569:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),v=function(c,u,l){l===void 0&&(l=new o);var a=c.x1,d=c.y1,p=c.x2,h=c.y2,g=(p-a)*(p-a)+(h-d)*(h-d);if(g===0)return l;var m=((u.x-a)*(p-a)+(u.y-d)*(h-d))/g;return l.x=a+m*(p-a),l.y=d+m*(h-d),l};s.exports=v}),34638:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36383),v=r(91938),c=r(2141),u=function(l,a){a===void 0&&(a=new c);var d=v(l)-o.TAU;return a.x=Math.cos(d),a.y=Math.sin(d),a};s.exports=u}),13151:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),v=function(c,u,l){return l===void 0&&(l=new o),l.x=c.x1+(c.x2-c.x1)*u,l.y=c.y1+(c.y2-c.y1)*u,l};s.exports=v}),15258:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35001),v=r(2141),c=function(u,l,a,d){d===void 0&&(d=[]),!l&&a>0&&(l=o(u)/a);for(var p=u.x1,h=u.y1,g=u.x2,m=u.y2,x=0;x<l;x++){var w=x/l,C=p+(g-p)*w,E=h+(m-h)*w;d.push(new v(C,E))}return d};s.exports=c}),26408:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){var v=r.x1,c=r.y1,u=r.x2,l=r.y2,a=(u-v)*(u-v)+(l-c)*(l-c);if(a===0)return!1;var d=((c-o.y)*(u-v)-(v-o.x)*(l-c))/a;return Math.abs(d)*Math.sqrt(a)};s.exports=y}),98770:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return Math.abs(r.y1-r.y2)};s.exports=y}),35001:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return Math.sqrt((r.x2-r.x1)*(r.x2-r.x1)+(r.y2-r.y1)*(r.y2-r.y1))};s.exports=y}),23031:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(13151),c=r(15258),u=r(23777),l=r(65822),a=r(26099),d=new o({initialize:function(h,g,m,x){h===void 0&&(h=0),g===void 0&&(g=0),m===void 0&&(m=0),x===void 0&&(x=0),this.type=u.LINE,this.x1=h,this.y1=g,this.x2=m,this.y2=x},getPoint:function(p,h){return v(this,p,h)},getPoints:function(p,h,g){return c(this,p,h,g)},getRandomPoint:function(p){return l(this,p)},setTo:function(p,h,g,m){return p===void 0&&(p=0),h===void 0&&(h=0),g===void 0&&(g=0),m===void 0&&(m=0),this.x1=p,this.y1=h,this.x2=g,this.y2=m,this},setFromObjects:function(p,h){return this.x1=p.x,this.y1=p.y,this.x2=h.x,this.y2=h.y,this},getPointA:function(p){return p===void 0&&(p=new a),p.set(this.x1,this.y1),p},getPointB:function(p){return p===void 0&&(p=new a),p.set(this.x2,this.y2),p},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(p){this.x1<=this.x2?this.x1=p:this.x2=p}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(p){this.x1>this.x2?this.x1=p:this.x2=p}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(p){this.y1<=this.y2?this.y1=p:this.y2=p}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(p){this.y1>this.y2?this.y1=p:this.y2=p}}});s.exports=d}),64795:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36383),v=r(15994),c=r(91938),u=function(l){var a=c(l)-o.TAU;return v(a,-Math.PI,Math.PI)};s.exports=u}),52616:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36383),v=r(91938),c=function(u){return Math.cos(v(u)-o.TAU)};s.exports=c}),87231:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36383),v=r(91938),c=function(u){return Math.sin(v(u)-o.TAU)};s.exports=c}),89662:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){return r.x1+=o,r.y1+=v,r.x2+=o,r.y2+=v,r};s.exports=y}),71165:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return-((r.x2-r.x1)/(r.y2-r.y1))};s.exports=y}),65822:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),v=function(c,u){u===void 0&&(u=new o);var l=Math.random();return u.x=c.x1+l*(c.x2-c.x1),u.y=c.y1+l*(c.y2-c.y1),u};s.exports=v}),69777:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91938),v=r(64795),c=function(u,l){return 2*v(l)-Math.PI-o(u)};s.exports=c}),39706:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(64400),v=function(c,u){var l=(c.x1+c.x2)/2,a=(c.y1+c.y2)/2;return o(c,l,a,u)};s.exports=v}),82585:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(64400),v=function(c,u,l){return o(c,u.x,u.y,l)};s.exports=v}),64400:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c){var u=Math.cos(c),l=Math.sin(c),a=r.x1-o,d=r.y1-v;return r.x1=a*u-d*l+o,r.y1=a*l+d*u+v,a=r.x2-o,d=r.y2-v,r.x2=a*u-d*l+o,r.y2=a*l+d*u+v,r};s.exports=y}),62377:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c,u){return r.x1=o,r.y1=v,r.x2=o+Math.cos(c)*u,r.y2=v+Math.sin(c)*u,r};s.exports=y}),71366:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return(r.y2-r.y1)/(r.x2-r.x1)};s.exports=y}),10809:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return Math.abs(r.x1-r.x2)};s.exports=y}),2529:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(23031);o.Angle=r(91938),o.BresenhamPoints=r(84993),o.CenterOn=r(36469),o.Clone=r(31116),o.CopyFrom=r(59944),o.Equals=r(59220),o.Extend=r(78177),o.GetEasedPoints=r(26708),o.GetMidPoint=r(32125),o.GetNearestPoint=r(99569),o.GetNormal=r(34638),o.GetPoint=r(13151),o.GetPoints=r(15258),o.GetShortestDistance=r(26408),o.Height=r(98770),o.Length=r(35001),o.NormalAngle=r(64795),o.NormalX=r(52616),o.NormalY=r(87231),o.Offset=r(89662),o.PerpSlope=r(71165),o.Random=r(65822),o.ReflectAngle=r(69777),o.Rotate=r(39706),o.RotateAroundPoint=r(82585),o.RotateAroundXY=r(64400),o.SetToAngle=r(62377),o.Slope=r(71366),o.Width=r(10809),s.exports=o}),83997:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(87841),c=r(26099);function u(a,d,p,h){var g=a-p,m=d-h,x=g*g+m*m;return Math.sqrt(x)}var l=new o({initialize:function(d,p,h){this.vertex1=d,this.vertex2=p,this.vertex3=h,this.bounds=new v,this._inCenter=new c},getInCenter:function(a){a===void 0&&(a=!0);var d=this.vertex1,p=this.vertex2,h=this.vertex3,g,m,x,w,C,E;a?(g=d.x,m=d.y,x=p.x,w=p.y,C=h.x,E=h.y):(g=d.vx,m=d.vy,x=p.vx,w=p.vy,C=h.vx,E=h.vy);var T=u(C,E,x,w),S=u(g,m,C,E),A=u(x,w,g,m),P=T+S+A;return this._inCenter.set((g*T+x*S+C*A)/P,(m*T+w*S+E*A)/P)},contains:function(a,d,p){var h=this.vertex1,g=this.vertex2,m=this.vertex3,x=h.vx,w=h.vy,C=g.vx,E=g.vy,T=m.vx,S=m.vy;if(p){var A=p.a,P=p.b,R=p.c,L=p.d,D=p.e,F=p.f;x=h.vx*A+h.vy*R+D,w=h.vx*P+h.vy*L+F,C=g.vx*A+g.vy*R+D,E=g.vx*P+g.vy*L+F,T=m.vx*A+m.vy*R+D,S=m.vx*P+m.vy*L+F}var $=T-x,N=S-w,k=C-x,j=E-w,W=a-x,G=d-w,K=$*$+N*N,z=$*k+N*j,X=$*W+N*G,U=k*k+j*j,Z=k*W+j*G,V=K*U-z*z,J=V===0?0:1/V,_=(U*X-z*Z)*J,ee=(K*Z-z*X)*J;return _>=0&&ee>=0&&_+ee<1},isCounterClockwise:function(a){var d=this.vertex1,p=this.vertex2,h=this.vertex3,g=(p.vx-d.vx)*(h.vy-d.vy)-(p.vy-d.vy)*(h.vx-d.vx);return a<=0?g>=0:g<0},load:function(a,d,p,h,g){return p=this.vertex1.load(a,d,p,h,g),p=this.vertex2.load(a,d,p,h,g),p=this.vertex3.load(a,d,p,h,g),p},transformCoordinatesLocal:function(a,d,p,h){return this.vertex1.transformCoordinatesLocal(a,d,p,h),this.vertex2.transformCoordinatesLocal(a,d,p,h),this.vertex3.transformCoordinatesLocal(a,d,p,h),this},updateBounds:function(){var a=this.vertex1,d=this.vertex2,p=this.vertex3,h=this.bounds;return h.x=Math.min(a.vx,d.vx,p.vx),h.y=Math.min(a.vy,d.vy,p.vy),h.width=Math.max(a.vx,d.vx,p.vx)-h.x,h.height=Math.max(a.vy,d.vy,p.vy)-h.y,this},isInView:function(a,d,p,h,g,m,x,w,C,E,T){this.update(h,g,m,x,w,C,E,T);var S=this.vertex1,A=this.vertex2,P=this.vertex3;if(S.ta<=0&&A.ta<=0&&P.ta<=0||d&&!this.isCounterClockwise(p))return!1;var R=this.bounds;R.x=Math.min(S.tx,A.tx,P.tx),R.y=Math.min(S.ty,A.ty,P.ty),R.width=Math.max(S.tx,A.tx,P.tx)-R.x,R.height=Math.max(S.ty,A.ty,P.ty)-R.y;var L=a.x+a.width,D=a.y+a.height;return R.width<=0||R.height<=0||a.width<=0||a.height<=0?!1:!(R.right<a.x||R.bottom<a.y||R.x>L||R.y>D)},scrollUV:function(a,d){return this.vertex1.scrollUV(a,d),this.vertex2.scrollUV(a,d),this.vertex3.scrollUV(a,d),this},scaleUV:function(a,d){return this.vertex1.scaleUV(a,d),this.vertex2.scaleUV(a,d),this.vertex3.scaleUV(a,d),this},setColor:function(a){return this.vertex1.color=a,this.vertex2.color=a,this.vertex3.color=a,this},update:function(a,d,p,h,g,m,x,w){return this.vertex1.update(d,p,h,g,m,x,w,a),this.vertex2.update(d,p,h,g,m,x,w,a),this.vertex3.update(d,p,h,g,m,x,w,a),this},translate:function(a,d){d===void 0&&(d=0);var p=this.vertex1,h=this.vertex2,g=this.vertex3;return p.x+=a,p.y+=d,h.x+=a,h.y+=d,g.x+=a,g.y+=d,this},x:{get:function(){return this.getInCenter().x},set:function(a){var d=this.getInCenter();this.translate(a-d.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(a){var d=this.getInCenter();this.translate(0,a-d.y)}},alpha:{get:function(){var a=this.vertex1,d=this.vertex2,p=this.vertex3;return(a.alpha+d.alpha+p.alpha)/3},set:function(a){this.vertex1.alpha=a,this.vertex2.alpha=a,this.vertex3.alpha=a}},depth:{get:function(){var a=this.vertex1,d=this.vertex2,p=this.vertex3;return(a.vz+d.vz+p.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});s.exports=l}),48803:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83997),v=r(95540),c=r(37867),u=r(25836),l=r(39318),a=new u,d=new u,p=new c,h=function(g){var m=v(g,"mesh"),x=v(g,"texture",null),w=v(g,"frame"),C=v(g,"width",1),E=v(g,"height",C),T=v(g,"widthSegments",1),S=v(g,"heightSegments",T),A=v(g,"x",0),P=v(g,"y",0),R=v(g,"z",0),L=v(g,"rotateX",0),D=v(g,"rotateY",0),F=v(g,"rotateZ",0),$=v(g,"zIsUp",!0),N=v(g,"isOrtho",m?m.dirtyCache[11]:!1),k=v(g,"colors",[16777215]),j=v(g,"alphas",[1]),W=v(g,"tile",!1),G=v(g,"flipY",!1),K=v(g,"width",null),z={faces:[],verts:[]};a.set(A,P,R),d.set(L,D,F),p.fromRotationXYTranslation(d,a,$);var X;if(!x&&m)x=m.texture,w||(X=m.frame);else if(m&&typeof x=="string")x=m.scene.sys.textures.get(x);else if(!x)return z;X||(X=x.get(w)),!K&&N&&x&&m&&(C=X.width/m.height,E=X.height/m.height);var U=C/2,Z=E/2,V=Math.floor(T),J=Math.floor(S),_=V+1,ee=J+1,te=C/V,ie=E/J,le=[],he=[],fe,oe,Ce=0,ye=1,Ee=0,Ie=1;X&&(Ce=X.u0,ye=X.u1,G?(Ee=X.v1,Ie=X.v0):(Ee=X.v0,Ie=X.v1));var je=ye-Ce,Re=Ie-Ee;for(oe=0;oe<ee;oe++){var $e=oe*ie-Z;for(fe=0;fe<_;fe++){var Ae=fe*te-U;he.push(Ae,-$e);var Xe=Ce+je*(fe/V),st=Ee+Re*(oe/J);le.push(Xe,st)}}Array.isArray(k)||(k=[k]),Array.isArray(j)||(j=[j]);var vt=0,Ge=0;for(oe=0;oe<J;oe++)for(fe=0;fe<V;fe++){var nt=(fe+_*oe)*2,Et=(fe+_*(oe+1))*2,Je=(fe+1+_*(oe+1))*2,He=(fe+1+_*oe)*2,Qe=k[Ge],dt=j[vt],$t=new l(he[nt],he[nt+1],0,le[nt],le[nt+1],Qe,dt).transformMat4(p),ut=new l(he[Et],he[Et+1],0,le[Et],le[Et+1],Qe,dt).transformMat4(p),wt=new l(he[He],he[He+1],0,le[He],le[He+1],Qe,dt).transformMat4(p),tt=new l(he[Et],he[Et+1],0,le[Et],le[Et+1],Qe,dt).transformMat4(p),cn=new l(he[Je],he[Je+1],0,le[Je],le[Je+1],Qe,dt).transformMat4(p),Pn=new l(he[He],he[He+1],0,le[He],le[He+1],Qe,dt).transformMat4(p);W&&($t.setUVs(Ce,Ie),ut.setUVs(Ce,Ee),wt.setUVs(ye,Ie),tt.setUVs(Ce,Ee),cn.setUVs(ye,Ee),Pn.setUVs(ye,Ie)),Ge++,Ge===k.length&&(Ge=0),vt++,vt===j.length&&(vt=0),z.verts.push($t,ut,wt,tt,cn,Pn),z.faces.push(new o($t,ut,wt),new o(tt,cn,Pn))}return m&&(m.faces=m.faces.concat(z.faces),m.vertices=m.vertices.concat(z.verts)),z};s.exports=h}),34684:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83997),v=r(37867),c=r(25836),u=r(39318),l=new c,a=new c,d=new v,p=function(h,g,m,x,w,C,E,T,S,A){m===void 0&&(m=1),x===void 0&&(x=0),w===void 0&&(w=0),C===void 0&&(C=0),E===void 0&&(E=0),T===void 0&&(T=0),S===void 0&&(S=0),A===void 0&&(A=!0);var P={faces:[],verts:[]},R=h.materials;l.set(x,w,C),a.set(E,T,S),d.fromRotationXYTranslation(a,l,A);for(var L=0;L<h.models.length;L++)for(var D=h.models[L],F=D.vertices,$=D.textureCoords,N=D.faces,k=0;k<N.length;k++){var j=N[k],W=j.vertices[0],G=j.vertices[1],K=j.vertices[2],z=F[W.vertexIndex],X=F[G.vertexIndex],U=F[K.vertexIndex],Z=W.textureCoordsIndex,V=G.textureCoordsIndex,J=K.textureCoordsIndex,_=Z===-1?{u:0,v:1}:$[Z],ee=V===-1?{u:0,v:0}:$[V],te=J===-1?{u:1,v:1}:$[J],ie=16777215;j.material!==""&&R[j.material]&&(ie=R[j.material]);var le=new u(z.x*m,z.y*m,z.z*m,_.u,_.v,ie).transformMat4(d),he=new u(X.x*m,X.y*m,X.z*m,ee.u,ee.v,ie).transformMat4(d),fe=new u(U.x*m,U.y*m,U.z*m,te.u,te.v,ie).transformMat4(d);P.verts.push(le,he,fe),P.faces.push(new o(le,he,fe))}return g&&(g.faces=g.faces.concat(P.faces),g.vertices=g.vertices.concat(P.verts)),P};s.exports=p}),92515:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83997),v=r(39318),c=function(u,l,a,d,p,h,g,m){if(d===void 0&&(d=!1),h===void 0&&(h=16777215),g===void 0&&(g=1),m===void 0&&(m=!1),u.length!==l.length&&!d){console.warn("GenerateVerts: vertices and uvs count not equal");return}var x={faces:[],vertices:[]},w,C,E,T,S,A,P,R,L,D,F,$=d?3:2,N=Array.isArray(h),k=Array.isArray(g);if(Array.isArray(a)&&a.length>0)for(w=0;w<a.length;w++){var j=a[w],W=a[w]*2,G=a[w]*$;C=u[G],E=u[G+1],T=d?u[G+2]:0,S=l[W],A=l[W+1],m&&(A=1-A),P=N?h[j]:h,R=k?g[j]:g,L=0,D=0,F=0,p&&(L=p[G],D=p[G+1],F=d?p[G+2]:0),x.vertices.push(new v(C,E,T,S,A,P,R,L,D,F))}else{var K=0,z=0;for(w=0;w<u.length;w+=$)C=u[w],E=u[w+1],T=d?u[w+2]:0,S=l[K],A=l[K+1],P=N?h[z]:h,R=k?g[z]:g,L=0,D=0,F=0,p&&(L=p[w],D=p[w+1],F=d?p[w+2]:0),x.vertices.push(new v(C,E,T,S,A,P,R,L,D,F)),K+=2,z++}for(w=0;w<x.vertices.length;w+=3){var X=x.vertices[w],U=x.vertices[w+1],Z=x.vertices[w+2];x.faces.push(new o(X,U,Z))}return x};s.exports=c}),85048:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=!0,r="untitled",o="",v="";function c(C){var E=C.indexOf("#");return E>-1?C.substring(0,E):C}function u(C){return C.models.length===0&&C.models.push({faces:[],name:r,textureCoords:[],vertexNormals:[],vertices:[]}),o="",C.models[C.models.length-1]}function l(C,E){var T=C.length>=2?C[1]:r;E.models.push({faces:[],name:T,textureCoords:[],vertexNormals:[],vertices:[]}),o=""}function a(C){C.length===2&&(o=C[1])}function d(C,E){var T=C.length,S=T>=2?parseFloat(C[1]):0,A=T>=3?parseFloat(C[2]):0,P=T>=4?parseFloat(C[3]):0;u(E).vertices.push({x:S,y:A,z:P})}function p(C,E){var T=C.length,S=T>=2?parseFloat(C[1]):0,A=T>=3?parseFloat(C[2]):0,P=T>=4?parseFloat(C[3]):0;isNaN(S)&&(S=0),isNaN(A)&&(A=0),isNaN(P)&&(P=0),y&&(A=1-A),u(E).textureCoords.push({u:S,v:A,w:P})}function h(C,E){var T=C.length,S=T>=2?parseFloat(C[1]):0,A=T>=3?parseFloat(C[2]):0,P=T>=4?parseFloat(C[3]):0;u(E).vertexNormals.push({x:S,y:A,z:P})}function g(C,E){var T=C.length-1;if(!(T<3)){for(var S={group:o,material:v,vertices:[]},A=0;A<T;A++){var P=C[A+1],R=P.split("/"),L=R.length;if(!(L<1||L>3)){var D=0,F=0,$=0;D=parseInt(R[0],10),L>1&&R[1]!==""&&(F=parseInt(R[1],10)),L>2&&($=parseInt(R[2],10)),D!==0&&(D<0&&(D=u(E).vertices.length+1+D),F-=1,D-=1,$-=1,S.vertices.push({textureCoordsIndex:F,vertexIndex:D,vertexNormalIndex:$}))}}u(E).faces.push(S)}}function m(C,E){C.length>=2&&E.materialLibraries.push(C[1])}function x(C){C.length>=2&&(v=C[1])}var w=function(C,E){E===void 0&&(E=!0),y=E;var T={materials:{},materialLibraries:[],models:[]};o="",v="";for(var S=C.split(`
`),A=0;A<S.length;A++){var P=c(S[A]),R=P.replace(/\s\s+/g," ").trim().split(" ");switch(R[0].toLowerCase()){case"o":l(R,T);break;case"g":a(R);break;case"v":d(R,T);break;case"vt":p(R,T);break;case"vn":h(R,T);break;case"f":g(R,T);break;case"mtllib":m(R,T);break;case"usemtl":x(R);break}}return T};s.exports=w}),61485:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37589),v=function(c){for(var u={},l=c.split(`
`),a="",d=0;d<l.length;d++){var p=l[d].trim();if(!(p.indexOf("#")===0||p==="")){var h=p.replace(/\s\s+/g," ").trim().split(" ");switch(h[0].toLowerCase()){case"newmtl":{a=h[1];break}case"kd":{var g=Math.floor(h[1]*255),m=h.length>=2?Math.floor(h[2]*255):g,x=h.length>=3?Math.floor(h[3]*255):g;u[a]=o(g,m,x);break}}}}return u};s.exports=v}),92570:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c){var u,l;if(v===void 0&&c===void 0){var a=r.getInCenter();u=a.x,l=a.y}var d=Math.cos(o),p=Math.sin(o),h=r.vertex1,g=r.vertex2,m=r.vertex3,x=h.x-u,w=h.y-l;h.set(x*d-w*p+u,x*p+w*d+l),x=g.x-u,w=g.y-l,g.set(x*d-w*p+u,x*p+w*d+l),x=m.x-u,w=m.y-l,m.set(x*d-w*p+u,x*p+w*d+l)};s.exports=y}),39318:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(70554),c=r(25836),u=new o({Extends:c,initialize:function(a,d,p,h,g,m,x,w,C,E){m===void 0&&(m=16777215),x===void 0&&(x=1),w===void 0&&(w=0),C===void 0&&(C=0),E===void 0&&(E=0),c.call(this,a,d,p),this.vx=0,this.vy=0,this.vz=0,this.nx=w,this.ny=C,this.nz=E,this.u=h,this.v=g,this.color=m,this.alpha=x,this.tx=0,this.ty=0,this.ta=0,this.tu=h,this.tv=g},setUVs:function(l,a){return this.u=l,this.v=a,this.tu=l,this.tv=a,this},scrollUV:function(l,a){return this.tu+=l,this.tv+=a,this},scaleUV:function(l,a){return this.tu=this.u*l,this.tv=this.v*a,this},transformCoordinatesLocal:function(l,a,d,p){var h=this.x,g=this.y,m=this.z,x=l.val,w=h*x[0]+g*x[4]+m*x[8]+x[12],C=h*x[1]+g*x[5]+m*x[9]+x[13],E=h*x[2]+g*x[6]+m*x[10]+x[14],T=h*x[3]+g*x[7]+m*x[11]+x[15];this.vx=w/T*a,this.vy=-(C/T)*d,p<=0?this.vz=E/T:this.vz=-(E/T)},resize:function(l,a,d,p,h,g){return this.x=l,this.y=a,this.vx=this.x*d,this.vy=-this.y*p,this.vz=0,h<.5?this.vx+=d*(.5-h):h>.5&&(this.vx-=d*(h-.5)),g<.5?this.vy+=p*(.5-g):g>.5&&(this.vy-=p*(g-.5)),this},update:function(l,a,d,p,h,g,m,x){var w=this.vx*l+this.vy*d+h,C=this.vx*a+this.vy*p+g;return m&&(w=Math.round(w),C=Math.round(C)),this.tx=w,this.ty=C,this.ta=this.alpha*x,this},load:function(l,a,d,p,h){return l[++d]=this.tx,l[++d]=this.ty,l[++d]=this.tu,l[++d]=this.tv,l[++d]=p,l[++d]=h,a[++d]=v.getTintAppendFloatAlpha(this.color,this.ta),d}});s.exports=u}),73090:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={Face:r(83997),GenerateGridVerts:r(48803),GenerateObjVerts:r(34684),GenerateVerts:r(92515),ParseObj:r(85048),ParseObjMaterial:r(61485),RotateFace:r(92570),Vertex:r(39318)};s.exports=o}),96550:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r.setTo(Math.ceil(r.x),Math.ceil(r.y))};s.exports=y}),99706:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),v=function(c){return new o(c.x,c.y)};s.exports=v}),68010:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return o.setTo(r.x,r.y)};s.exports=y}),27814:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return r.x===o.x&&r.y===o.y};s.exports=y}),73565:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r.setTo(Math.floor(r.x),Math.floor(r.y))};s.exports=y}),87555:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),v=function(c,u){if(u===void 0&&(u=new o),!Array.isArray(c))throw new Error("GetCentroid points argument must be an array");var l=c.length;if(l<1)throw new Error("GetCentroid points array must not be empty");if(l===1)u.x=c[0].x,u.y=c[0].y;else{for(var a=0;a<l;a++)u.x+=c[a].x,u.y+=c[a].y;u.x/=l,u.y/=l}return u};s.exports=v}),28793:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return Math.sqrt(r.x*r.x+r.y*r.y)};s.exports=y}),44405:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r.x*r.x+r.y*r.y};s.exports=y}),20873:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),v=function(c,u){u===void 0&&(u=new o);for(var l=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY,p=Number.POSITIVE_INFINITY,h=0;h<c.length;h++){var g=c[h];g.x>l&&(l=g.x),g.x<a&&(a=g.x),g.y>d&&(d=g.y),g.y<p&&(p=g.y)}return u.x=a,u.y=p,u.width=l-a,u.height=d-p,u};s.exports=v}),26152:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),v=function(c,u,l,a){return l===void 0&&(l=0),a===void 0&&(a=new o),a.x=c.x+(u.x-c.x)*l,a.y=c.y+(u.y-c.y)*l,a};s.exports=v}),55767:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r.setTo(r.y,r.x)};s.exports=y}),79432:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),v=function(c,u){return u===void 0&&(u=new o),u.setTo(-c.x,-c.y)};s.exports=v}),2141:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(23777),c=new o({initialize:function(l,a){l===void 0&&(l=0),a===void 0&&(a=l),this.type=v.POINT,this.x=l,this.y=a},setTo:function(u,l){return u===void 0&&(u=0),l===void 0&&(l=u),this.x=u,this.y=l,this}});s.exports=c}),72930:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),v=r(44405),c=function(u,l,a){a===void 0&&(a=new o);var d=u.x*l.x+u.y*l.y,p=d/v(l);return p!==0&&(a.x=p*l.x,a.y=p*l.y),a};s.exports=c}),62880:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),v=function(c,u,l){l===void 0&&(l=new o);var a=c.x*u.x+c.y*u.y;return a!==0&&(l.x=a*u.x,l.y=a*u.y),l};s.exports=v}),15093:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(28793),v=function(c,u){if(c.x!==0||c.y!==0){var l=o(c);c.x/=l,c.y/=l}return c.x*=u,c.y*=u,c};s.exports=v}),43711:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141);o.Ceil=r(96550),o.Clone=r(99706),o.CopyFrom=r(68010),o.Equals=r(27814),o.Floor=r(73565),o.GetCentroid=r(87555),o.GetMagnitude=r(28793),o.GetMagnitudeSq=r(44405),o.GetRectangleFromPoints=r(20873),o.Interpolate=r(26152),o.Invert=r(55767),o.Negative=r(79432),o.Project=r(72930),o.ProjectUnit=r(62880),o.SetMagnitude=r(15093),s.exports=o}),12306:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25717),v=function(c){return new o(c.points)};s.exports=v}),63814:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){for(var c=!1,u=-1,l=r.points.length-1;++u<r.points.length;l=u){var a=r.points[u].x,d=r.points[u].y,p=r.points[l].x,h=r.points[l].y;(d<=v&&v<h||h<=v&&v<d)&&o<(p-a)*(v-d)/(h-d)+a&&(c=!c)}return c};s.exports=y}),99338:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(63814),v=function(c,u){return o(c,u.x,u.y)};s.exports=v}),94811:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(z,X,U){U=U||2;var Z=X&&X.length,V=Z?X[0]*U:z.length,J=r(z,0,V,U,!0),_=[];if(!J||J.next===J.prev)return _;var ee,te,ie,le,he,fe,oe;if(Z&&(J=d(z,X,J,U)),z.length>80*U){ee=ie=z[0],te=le=z[1];for(var Ce=U;Ce<V;Ce+=U)he=z[Ce],fe=z[Ce+1],he<ee&&(ee=he),fe<te&&(te=fe),he>ie&&(ie=he),fe>le&&(le=fe);oe=Math.max(ie-ee,le-te),oe=oe!==0?32767/oe:0}return v(J,_,U,ee,te,oe,0),_}function r(z,X,U,Z,V){var J,_;if(V===K(z,X,U,Z)>0)for(J=X;J<U;J+=Z)_=j(J,z[J],z[J+1],_);else for(J=U-Z;J>=X;J-=Z)_=j(J,z[J],z[J+1],_);return _&&P(_,_.next)&&(W(_),_=_.next),_}function o(z,X){if(!z)return z;X||(X=z);var U=z,Z;do if(Z=!1,!U.steiner&&(P(U,U.next)||A(U.prev,U,U.next)===0)){if(W(U),U=X=U.prev,U===U.next)break;Z=!0}else U=U.next;while(Z||U!==X);return X}function v(z,X,U,Z,V,J,_){if(z){!_&&J&&x(z,Z,V,J);for(var ee=z,te,ie;z.prev!==z.next;){if(te=z.prev,ie=z.next,J?u(z,Z,V,J):c(z)){X.push(te.i/U|0),X.push(z.i/U|0),X.push(ie.i/U|0),W(z),z=ie.next,ee=ie.next;continue}if(z=ie,z===ee){_?_===1?(z=l(o(z),X,U),v(z,X,U,Z,V,J,2)):_===2&&a(z,X,U,Z,V,J):v(o(z),X,U,Z,V,J,1);break}}}}function c(z){var X=z.prev,U=z,Z=z.next;if(A(X,U,Z)>=0)return!1;for(var V=X.x,J=U.x,_=Z.x,ee=X.y,te=U.y,ie=Z.y,le=V<J?V<_?V:_:J<_?J:_,he=ee<te?ee<ie?ee:ie:te<ie?te:ie,fe=V>J?V>_?V:_:J>_?J:_,oe=ee>te?ee>ie?ee:ie:te>ie?te:ie,Ce=Z.next;Ce!==X;){if(Ce.x>=le&&Ce.x<=fe&&Ce.y>=he&&Ce.y<=oe&&T(V,ee,J,te,_,ie,Ce.x,Ce.y)&&A(Ce.prev,Ce,Ce.next)>=0)return!1;Ce=Ce.next}return!0}function u(z,X,U,Z){var V=z.prev,J=z,_=z.next;if(A(V,J,_)>=0)return!1;for(var ee=V.x,te=J.x,ie=_.x,le=V.y,he=J.y,fe=_.y,oe=ee<te?ee<ie?ee:ie:te<ie?te:ie,Ce=le<he?le<fe?le:fe:he<fe?he:fe,ye=ee>te?ee>ie?ee:ie:te>ie?te:ie,Ee=le>he?le>fe?le:fe:he>fe?he:fe,Ie=C(oe,Ce,X,U,Z),je=C(ye,Ee,X,U,Z),Re=z.prevZ,$e=z.nextZ;Re&&Re.z>=Ie&&$e&&$e.z<=je;){if(Re.x>=oe&&Re.x<=ye&&Re.y>=Ce&&Re.y<=Ee&&Re!==V&&Re!==_&&T(ee,le,te,he,ie,fe,Re.x,Re.y)&&A(Re.prev,Re,Re.next)>=0||(Re=Re.prevZ,$e.x>=oe&&$e.x<=ye&&$e.y>=Ce&&$e.y<=Ee&&$e!==V&&$e!==_&&T(ee,le,te,he,ie,fe,$e.x,$e.y)&&A($e.prev,$e,$e.next)>=0))return!1;$e=$e.nextZ}for(;Re&&Re.z>=Ie;){if(Re.x>=oe&&Re.x<=ye&&Re.y>=Ce&&Re.y<=Ee&&Re!==V&&Re!==_&&T(ee,le,te,he,ie,fe,Re.x,Re.y)&&A(Re.prev,Re,Re.next)>=0)return!1;Re=Re.prevZ}for(;$e&&$e.z<=je;){if($e.x>=oe&&$e.x<=ye&&$e.y>=Ce&&$e.y<=Ee&&$e!==V&&$e!==_&&T(ee,le,te,he,ie,fe,$e.x,$e.y)&&A($e.prev,$e,$e.next)>=0)return!1;$e=$e.nextZ}return!0}function l(z,X,U){var Z=z;do{var V=Z.prev,J=Z.next.next;!P(V,J)&&R(V,Z,Z.next,J)&&$(V,J)&&$(J,V)&&(X.push(V.i/U|0),X.push(Z.i/U|0),X.push(J.i/U|0),W(Z),W(Z.next),Z=z=J),Z=Z.next}while(Z!==z);return o(Z)}function a(z,X,U,Z,V,J){var _=z;do{for(var ee=_.next.next;ee!==_.prev;){if(_.i!==ee.i&&S(_,ee)){var te=k(_,ee);_=o(_,_.next),te=o(te,te.next),v(_,X,U,Z,V,J,0),v(te,X,U,Z,V,J,0);return}ee=ee.next}_=_.next}while(_!==z)}function d(z,X,U,Z){var V=[],J,_,ee,te,ie;for(J=0,_=X.length;J<_;J++)ee=X[J]*Z,te=J<_-1?X[J+1]*Z:z.length,ie=r(z,ee,te,Z,!1),ie===ie.next&&(ie.steiner=!0),V.push(E(ie));for(V.sort(p),J=0;J<V.length;J++)U=h(V[J],U);return U}function p(z,X){return z.x-X.x}function h(z,X){var U=g(z,X);if(!U)return X;var Z=k(U,z);return o(Z,Z.next),o(U,U.next)}function g(z,X){var U=X,Z=z.x,V=z.y,J=-1/0,_;do{if(V<=U.y&&V>=U.next.y&&U.next.y!==U.y){var ee=U.x+(V-U.y)*(U.next.x-U.x)/(U.next.y-U.y);if(ee<=Z&&ee>J&&(J=ee,_=U.x<U.next.x?U:U.next,ee===Z))return _}U=U.next}while(U!==X);if(!_)return null;var te=_,ie=_.x,le=_.y,he=1/0,fe;U=_;do Z>=U.x&&U.x>=ie&&Z!==U.x&&T(V<le?Z:J,V,ie,le,V<le?J:Z,V,U.x,U.y)&&(fe=Math.abs(V-U.y)/(Z-U.x),$(U,z)&&(fe<he||fe===he&&(U.x>_.x||U.x===_.x&&m(_,U)))&&(_=U,he=fe)),U=U.next;while(U!==te);return _}function m(z,X){return A(z.prev,z,X.prev)<0&&A(X.next,z,z.next)<0}function x(z,X,U,Z){var V=z;do V.z===0&&(V.z=C(V.x,V.y,X,U,Z)),V.prevZ=V.prev,V.nextZ=V.next,V=V.next;while(V!==z);V.prevZ.nextZ=null,V.prevZ=null,w(V)}function w(z){var X,U,Z,V,J,_,ee,te,ie=1;do{for(U=z,z=null,J=null,_=0;U;){for(_++,Z=U,ee=0,X=0;X<ie&&(ee++,Z=Z.nextZ,!!Z);X++);for(te=ie;ee>0||te>0&&Z;)ee!==0&&(te===0||!Z||U.z<=Z.z)?(V=U,U=U.nextZ,ee--):(V=Z,Z=Z.nextZ,te--),J?J.nextZ=V:z=V,V.prevZ=J,J=V;U=Z}J.nextZ=null,ie*=2}while(_>1);return z}function C(z,X,U,Z,V){return z=(z-U)*V|0,X=(X-Z)*V|0,z=(z|z<<8)&16711935,z=(z|z<<4)&252645135,z=(z|z<<2)&858993459,z=(z|z<<1)&1431655765,X=(X|X<<8)&16711935,X=(X|X<<4)&252645135,X=(X|X<<2)&858993459,X=(X|X<<1)&1431655765,z|X<<1}function E(z){var X=z,U=z;do(X.x<U.x||X.x===U.x&&X.y<U.y)&&(U=X),X=X.next;while(X!==z);return U}function T(z,X,U,Z,V,J,_,ee){return(V-_)*(X-ee)>=(z-_)*(J-ee)&&(z-_)*(Z-ee)>=(U-_)*(X-ee)&&(U-_)*(J-ee)>=(V-_)*(Z-ee)}function S(z,X){return z.next.i!==X.i&&z.prev.i!==X.i&&!F(z,X)&&($(z,X)&&$(X,z)&&N(z,X)&&(A(z.prev,z,X.prev)||A(z,X.prev,X))||P(z,X)&&A(z.prev,z,z.next)>0&&A(X.prev,X,X.next)>0)}function A(z,X,U){return(X.y-z.y)*(U.x-X.x)-(X.x-z.x)*(U.y-X.y)}function P(z,X){return z.x===X.x&&z.y===X.y}function R(z,X,U,Z){var V=D(A(z,X,U)),J=D(A(z,X,Z)),_=D(A(U,Z,z)),ee=D(A(U,Z,X));return!!(V!==J&&_!==ee||V===0&&L(z,U,X)||J===0&&L(z,Z,X)||_===0&&L(U,z,Z)||ee===0&&L(U,X,Z))}function L(z,X,U){return X.x<=Math.max(z.x,U.x)&&X.x>=Math.min(z.x,U.x)&&X.y<=Math.max(z.y,U.y)&&X.y>=Math.min(z.y,U.y)}function D(z){return z>0?1:z<0?-1:0}function F(z,X){var U=z;do{if(U.i!==z.i&&U.next.i!==z.i&&U.i!==X.i&&U.next.i!==X.i&&R(U,U.next,z,X))return!0;U=U.next}while(U!==z);return!1}function $(z,X){return A(z.prev,z,z.next)<0?A(z,X,z.next)>=0&&A(z,z.prev,X)>=0:A(z,X,z.prev)<0||A(z,z.next,X)<0}function N(z,X){var U=z,Z=!1,V=(z.x+X.x)/2,J=(z.y+X.y)/2;do U.y>J!=U.next.y>J&&U.next.y!==U.y&&V<(U.next.x-U.x)*(J-U.y)/(U.next.y-U.y)+U.x&&(Z=!Z),U=U.next;while(U!==z);return Z}function k(z,X){var U=new G(z.i,z.x,z.y),Z=new G(X.i,X.x,X.y),V=z.next,J=X.prev;return z.next=X,X.prev=z,U.next=V,V.prev=U,Z.next=U,U.prev=Z,J.next=Z,Z.prev=J,Z}function j(z,X,U,Z){var V=new G(z,X,U);return Z?(V.next=Z.next,V.prev=Z,Z.next.prev=V,Z.next=V):(V.prev=V,V.next=V),V}function W(z){z.next.prev=z.prev,z.prev.next=z.next,z.prevZ&&(z.prevZ.nextZ=z.nextZ),z.nextZ&&(z.nextZ.prevZ=z.prevZ)}function G(z,X,U){this.i=z,this.x=X,this.y=U,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}y.deviation=function(z,X,U,Z){var V=X&&X.length,J=V?X[0]*U:z.length,_=Math.abs(K(z,0,J,U));if(V)for(var ee=0,te=X.length;ee<te;ee++){var ie=X[ee]*U,le=ee<te-1?X[ee+1]*U:z.length;_-=Math.abs(K(z,ie,le,U))}var he=0;for(ee=0;ee<Z.length;ee+=3){var fe=Z[ee]*U,oe=Z[ee+1]*U,Ce=Z[ee+2]*U;he+=Math.abs((z[fe]-z[Ce])*(z[oe+1]-z[fe+1])-(z[fe]-z[oe])*(z[Ce+1]-z[fe+1]))}return _===0&&he===0?0:Math.abs((he-_)/_)};function K(z,X,U,Z){for(var V=0,J=X,_=U-Z;J<U;J+=Z)V+=(z[_]-z[J])*(z[J+1]+z[_+1]),_=J;return V}y.flatten=function(z){for(var X=z[0][0].length,U={vertices:[],holes:[],dimensions:X},Z=0,V=0;V<z.length;V++){for(var J=0;J<z[V].length;J++)for(var _=0;_<X;_++)U.vertices.push(z[V][J][_]);V>0&&(Z+=z[V-1].length,U.holes.push(Z))}return U},s.exports=y}),13829:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),v=function(c,u){u===void 0&&(u=new o);for(var l=1/0,a=1/0,d=-l,p=-a,h,g=0;g<c.points.length;g++)h=c.points[g],l=Math.min(l,h.x),a=Math.min(a,h.y),d=Math.max(d,h.x),p=Math.max(p,h.y);return u.x=l,u.y=a,u.width=d-l,u.height=p-a,u};s.exports=v}),26173:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){o===void 0&&(o=[]);for(var v=0;v<r.points.length;v++)o.push(r.points[v].x),o.push(r.points[v].y);return o};s.exports=y}),9564:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35001),v=r(23031),c=r(30052),u=function(l,a,d,p){p===void 0&&(p=[]);var h=l.points,g=c(l);!a&&d>0&&(a=g/d);for(var m=0;m<a;m++)for(var x=g*(m/a),w=0,C=0;C<h.length;C++){var E=h[C],T=h[(C+1)%h.length],S=new v(E.x,E.y,T.x,T.y),A=o(S);if(x<w||x>w+A){w+=A;continue}var P=S.getPoint((x-w)/A);p.push(P);break}return p};s.exports=u}),30052:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35001),v=r(23031),c=function(u){for(var l=u.points,a=0,d=0;d<l.length;d++){var p=l[d],h=l[(d+1)%l.length],g=new v(p.x,p.y,h.x,h.y);a+=o(g)}return a};s.exports=c}),25717:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(63814),c=r(9564),u=r(23777),l=new o({initialize:function(d){this.type=u.POLYGON,this.area=0,this.points=[],d&&this.setTo(d)},contains:function(a,d){return v(this,a,d)},setTo:function(a){if(this.area=0,this.points=[],typeof a=="string"&&(a=a.split(" ")),!Array.isArray(a))return this;for(var d,p=0;p<a.length;p++)d={x:0,y:0},typeof a[p]=="number"||typeof a[p]=="string"?(d.x=parseFloat(a[p]),d.y=parseFloat(a[p+1]),p++):Array.isArray(a[p])?(d.x=a[p][0],d.y=a[p][1]):(d.x=a[p].x,d.y=a[p].y),this.points.push(d);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var a=0,d,p,h=0;h<this.points.length-1;h++)d=this.points[h],p=this.points[h+1],a+=(p.x-d.x)*(d.y+p.y);return d=this.points[0],p=this.points[this.points.length-1],a+=(d.x-p.x)*(p.y+d.y),this.area=-a*.5,this.area},getPoints:function(a,d,p){return c(this,a,d,p)}});s.exports=l}),8133:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r.points.reverse(),r};s.exports=y}),29524:(s=>{function y(l,a){var d=l.x-a.x,p=l.y-a.y;return d*d+p*p}function r(l,a,d){var p=a.x,h=a.y,g=d.x-p,m=d.y-h;if(g!==0||m!==0){var x=((l.x-p)*g+(l.y-h)*m)/(g*g+m*m);x>1?(p=d.x,h=d.y):x>0&&(p+=g*x,h+=m*x)}return g=l.x-p,m=l.y-h,g*g+m*m}function o(l,a){for(var d=l[0],p=[d],h,g=1,m=l.length;g<m;g++)h=l[g],y(h,d)>a&&(p.push(h),d=h);return d!==h&&p.push(h),p}function v(l,a,d,p,h){for(var g=p,m,x=a+1;x<d;x++){var w=r(l[x],l[a],l[d]);w>g&&(m=x,g=w)}g>p&&(m-a>1&&v(l,a,m,p,h),h.push(l[m]),d-m>1&&v(l,m,d,p,h))}function c(l,a){var d=l.length-1,p=[l[0]];return v(l,0,d,a,p),p.push(l[d]),p}var u=function(l,a,d){a===void 0&&(a=1),d===void 0&&(d=!1);var p=l.points;if(p.length>2){var h=a*a;d||(p=o(p,h)),l.setTo(c(p,h))}return l};s.exports=u}),5469:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(o,v){return o[0]=v[0],o[1]=v[1],o},r=function(o){var v,c=[],u=o.points;for(v=0;v<u.length;v++)c.push([u[v].x,u[v].y]);var l=[];for(c.length>0&&l.push(y([0,0],c[0])),v=0;v<c.length-1;v++){var a=c[v],d=c[v+1],p=a[0],h=a[1],g=d[0],m=d[1];l.push([.85*p+.15*g,.85*h+.15*m]),l.push([.15*p+.85*g,.15*h+.85*m])}return c.length>1&&l.push(y([0,0],c[c.length-1])),o.setTo(l)};s.exports=r}),24709:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){for(var c=r.points,u=0;u<c.length;u++)c[u].x+=o,c[u].y+=v;return r};s.exports=y}),58423:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25717);o.Clone=r(12306),o.Contains=r(63814),o.ContainsPoint=r(99338),o.Earcut=r(94811),o.GetAABB=r(13829),o.GetNumberArray=r(26173),o.GetPoints=r(9564),o.Perimeter=r(30052),o.Reverse=r(8133),o.Simplify=r(29524),o.Smooth=r(5469),o.Translate=r(24709),s.exports=o}),62224:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r.width*r.height};s.exports=y}),98615:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r.x=Math.ceil(r.x),r.y=Math.ceil(r.y),r};s.exports=y}),31688:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r.x=Math.ceil(r.x),r.y=Math.ceil(r.y),r.width=Math.ceil(r.width),r.height=Math.ceil(r.height),r};s.exports=y}),67502:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){return r.x=o-r.width/2,r.y=v-r.height/2,r};s.exports=y}),65085:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),v=function(c){return new o(c.x,c.y,c.width,c.height)};s.exports=v}),37303:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){return r.width<=0||r.height<=0?!1:r.x<=o&&r.x+r.width>=o&&r.y<=v&&r.y+r.height>=v};s.exports=y}),96553:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37303),v=function(c,u){return o(c,u.x,u.y)};s.exports=v}),70273:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return o.width*o.height>r.width*r.height?!1:o.x>r.x&&o.x<r.right&&o.right>r.x&&o.right<r.right&&o.y>r.y&&o.y<r.bottom&&o.bottom>r.y&&o.bottom<r.bottom};s.exports=y}),43459:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return o.setTo(r.x,r.y,r.width,r.height)};s.exports=y}),77493:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return o===void 0&&(o=[]),o.push({x:r.x,y:r.y}),o.push({x:r.right,y:r.y}),o.push({x:r.right,y:r.bottom}),o.push({x:r.x,y:r.bottom}),o};s.exports=y}),9219:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return r.x===o.x&&r.y===o.y&&r.width===o.width&&r.height===o.height};s.exports=y}),53751:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(8249),v=function(c,u){var l=o(c);return l<o(u)?c.setSize(u.height*l,u.height):c.setSize(u.width,u.width/l),c.setPosition(u.centerX-c.width/2,u.centerY-c.height/2)};s.exports=v}),16088:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(8249),v=function(c,u){var l=o(c);return l>o(u)?c.setSize(u.height*l,u.height):c.setSize(u.width,u.width/l),c.setPosition(u.centerX-c.width/2,u.centerY-c.height/2)};s.exports=v}),80774:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r.x=Math.floor(r.x),r.y=Math.floor(r.y),r};s.exports=y}),83859:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r.x=Math.floor(r.x),r.y=Math.floor(r.y),r.width=Math.floor(r.width),r.height=Math.floor(r.height),r};s.exports=y}),19217:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),v=r(36383),c=function(u,l){if(l===void 0&&(l=new o),u.length===0)return l;for(var a=Number.MAX_VALUE,d=Number.MAX_VALUE,p=v.MIN_SAFE_INTEGER,h=v.MIN_SAFE_INTEGER,g,m,x,w=0;w<u.length;w++)g=u[w],Array.isArray(g)?(m=g[0],x=g[1]):(m=g.x,x=g.y),a=Math.min(a,m),d=Math.min(d,x),p=Math.max(p,m),h=Math.max(h,x);return l.x=a,l.y=d,l.width=p-a,l.height=h-d,l};s.exports=c}),9477:((s,y,r)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),v=function(c,u,l,a,d){return d===void 0&&(d=new o),d.setTo(Math.min(c,l),Math.min(u,a),Math.abs(c-l),Math.abs(u-a))};s.exports=v}),8249:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r.height===0?NaN:r.width/r.height};s.exports=y}),27165:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),v=function(c,u){return u===void 0&&(u=new o),u.x=c.centerX,u.y=c.centerY,u};s.exports=v}),20812:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(13019),v=r(2141),c=function(u,l,a){if(a===void 0&&(a=new v),l<=0||l>=1)return a.x=u.x,a.y=u.y,a;var d=o(u)*l;return l>.5?(d-=u.width+u.height,d<=u.width?(a.x=u.right-d,a.y=u.bottom):(a.x=u.x,a.y=u.bottom-(d-u.width))):d<=u.width?(a.x=u.x+d,a.y=u.y):(a.x=u.right,a.y=u.y+(d-u.width)),a};s.exports=c}),34819:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20812),v=r(13019),c=function(u,l,a,d){d===void 0&&(d=[]),!l&&a>0&&(l=v(u)/a);for(var p=0;p<l;p++){var h=p/l;d.push(o(u,h))}return d};s.exports=c}),51313:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),v=function(c,u){return u===void 0&&(u=new o),u.x=c.width,u.y=c.height,u};s.exports=v}),86091:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(67502),v=function(c,u,l){var a=c.centerX,d=c.centerY;return c.setSize(c.width+u*2,c.height+l*2),o(c,a,d)};s.exports=v}),53951:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),v=r(59996),c=function(u,l,a){return a===void 0&&(a=new o),v(u,l)?(a.x=Math.max(u.x,l.x),a.y=Math.max(u.y,l.y),a.width=Math.min(u.right,l.right)-a.x,a.height=Math.min(u.bottom,l.bottom)-a.y):a.setEmpty(),a};s.exports=c}),14649:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(13019),v=r(2141),c=function(u,l,a,d){if(d===void 0&&(d=[]),!l&&!a)return d;l?a=Math.round(o(u)/l):l=o(u)/a;for(var p=u.x,h=u.y,g=0,m=0;m<a;m++)switch(d.push(new v(p,h)),g){case 0:p+=l,p>=u.right&&(g=1,h+=p-u.right,p=u.right);break;case 1:h+=l,h>=u.bottom&&(g=2,p-=h-u.bottom,h=u.bottom);break;case 2:p-=l,p<=u.left&&(g=3,h-=u.left-p,p=u.left);break;case 3:h-=l,h<=u.top&&(g=0,h=u.top);break}return d};s.exports=c}),33595:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){for(var v=r.x,c=r.right,u=r.y,l=r.bottom,a=0;a<o.length;a++)v=Math.min(v,o[a].x),c=Math.max(c,o[a].x),u=Math.min(u,o[a].y),l=Math.max(l,o[a].y);return r.x=v,r.y=u,r.width=c-v,r.height=l-u,r};s.exports=y}),20074:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){var v=Math.min(r.x,o.x),c=Math.max(r.right,o.right);r.x=v,r.width=c-v;var u=Math.min(r.y,o.y),l=Math.max(r.bottom,o.bottom);return r.y=u,r.height=l-u,r};s.exports=y}),92171:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){var c=Math.min(r.x,o),u=Math.max(r.right,o);r.x=c,r.width=u-c;var l=Math.min(r.y,v),a=Math.max(r.bottom,v);return r.y=l,r.height=a-l,r};s.exports=y}),42981:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){return r.x+=o,r.y+=v,r};s.exports=y}),46907:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return r.x+=o.x,r.y+=o.y,r};s.exports=y}),60170:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return r.x<o.right&&r.right>o.x&&r.y<o.bottom&&r.bottom>o.y};s.exports=y}),13019:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return 2*(r.width+r.height)};s.exports=y}),85133:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),v=r(39506),c=function(u,l,a){a===void 0&&(a=new o),l=v(l);var d=Math.sin(l),p=Math.cos(l),h=p>0?u.width/2:u.width/-2,g=d>0?u.height/2:u.height/-2;return Math.abs(h*d)<Math.abs(g*p)?g=h*d/p:h=g*p/d,a.x=h+u.centerX,a.y=g+u.centerY,a};s.exports=c}),26597:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),v=function(c,u){return u===void 0&&(u=new o),u.x=c.x+Math.random()*c.width,u.y=c.y+Math.random()*c.height,u};s.exports=v}),86470:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(30976),v=r(70273),c=r(2141),u=function(l,a,d){if(d===void 0&&(d=new c),v(l,a))switch(o(0,3)){case 0:d.x=l.x+Math.random()*(a.right-l.x),d.y=l.y+Math.random()*(a.top-l.y);break;case 1:d.x=a.x+Math.random()*(l.right-a.x),d.y=a.bottom+Math.random()*(l.bottom-a.bottom);break;case 2:d.x=l.x+Math.random()*(a.x-l.x),d.y=a.y+Math.random()*(l.bottom-a.y);break;case 3:d.x=a.right+Math.random()*(l.right-a.right),d.y=l.y+Math.random()*(a.bottom-l.y);break}return d};s.exports=u}),87841:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(37303),c=r(20812),u=r(34819),l=r(23777),a=r(23031),d=r(26597),p=new o({initialize:function(g,m,x,w){g===void 0&&(g=0),m===void 0&&(m=0),x===void 0&&(x=0),w===void 0&&(w=0),this.type=l.RECTANGLE,this.x=g,this.y=m,this.width=x,this.height=w},contains:function(h,g){return v(this,h,g)},getPoint:function(h,g){return c(this,h,g)},getPoints:function(h,g,m){return u(this,h,g,m)},getRandomPoint:function(h){return d(this,h)},setTo:function(h,g,m,x){return this.x=h,this.y=g,this.width=m,this.height=x,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(h,g){return g===void 0&&(g=h),this.x=h,this.y=g,this},setSize:function(h,g){return g===void 0&&(g=h),this.width=h,this.height=g,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(h){return h===void 0&&(h=new a),h.setTo(this.x,this.y,this.right,this.y),h},getLineB:function(h){return h===void 0&&(h=new a),h.setTo(this.right,this.y,this.right,this.bottom),h},getLineC:function(h){return h===void 0&&(h=new a),h.setTo(this.right,this.bottom,this.x,this.bottom),h},getLineD:function(h){return h===void 0&&(h=new a),h.setTo(this.x,this.bottom,this.x,this.y),h},left:{get:function(){return this.x},set:function(h){h>=this.right?this.width=0:this.width=this.right-h,this.x=h}},right:{get:function(){return this.x+this.width},set:function(h){h<=this.x?this.width=0:this.width=h-this.x}},top:{get:function(){return this.y},set:function(h){h>=this.bottom?this.height=0:this.height=this.bottom-h,this.y=h}},bottom:{get:function(){return this.y+this.height},set:function(h){h<=this.y?this.height=0:this.height=h-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(h){this.x=h-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(h){this.y=h-this.height/2}}});s.exports=p}),94845:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return r.width===o.width&&r.height===o.height};s.exports=y}),31730:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){return v===void 0&&(v=o),r.width*=o,r.height*=v,r};s.exports=y}),36899:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),v=function(c,u,l){l===void 0&&(l=new o);var a=Math.min(c.x,u.x),d=Math.min(c.y,u.y),p=Math.max(c.right,u.right)-a,h=Math.max(c.bottom,u.bottom)-d;return l.setTo(a,d,p,h)};s.exports=v}),93232:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841);o.Area=r(62224),o.Ceil=r(98615),o.CeilAll=r(31688),o.CenterOn=r(67502),o.Clone=r(65085),o.Contains=r(37303),o.ContainsPoint=r(96553),o.ContainsRect=r(70273),o.CopyFrom=r(43459),o.Decompose=r(77493),o.Equals=r(9219),o.FitInside=r(53751),o.FitOutside=r(16088),o.Floor=r(80774),o.FloorAll=r(83859),o.FromPoints=r(19217),o.FromXY=r(9477),o.GetAspectRatio=r(8249),o.GetCenter=r(27165),o.GetPoint=r(20812),o.GetPoints=r(34819),o.GetSize=r(51313),o.Inflate=r(86091),o.Intersection=r(53951),o.MarchingAnts=r(14649),o.MergePoints=r(33595),o.MergeRect=r(20074),o.MergeXY=r(92171),o.Offset=r(42981),o.OffsetPoint=r(46907),o.Overlaps=r(60170),o.Perimeter=r(13019),o.PerimeterPoint=r(85133),o.Random=r(26597),o.RandomOutside=r(86470),o.SameDimensions=r(94845),o.Scale=r(31730),o.Union=r(36899),s.exports=o}),41658:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){var o=r.x1,v=r.y1,c=r.x2,u=r.y2,l=r.x3,a=r.y3;return Math.abs(((l-o)*(u-v)-(c-o)*(a-v))/2)};s.exports=y}),39208:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(16483),v=function(c,u,l){var a=l*(Math.sqrt(3)/2),d=c,p=u,h=c+l/2,g=u+a,m=c-l/2,x=u+a;return new o(d,p,h,g,m,x)};s.exports=v}),39545:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(94811),v=r(16483),c=function(u,l,a,d,p){l===void 0&&(l=null),a===void 0&&(a=1),d===void 0&&(d=1),p===void 0&&(p=[]);for(var h=o(u,l),g,m,x,w,C,E,T,S,A,P=0;P<h.length;P+=3)g=h[P],m=h[P+1],x=h[P+2],w=u[g*2]*a,C=u[g*2+1]*d,E=u[m*2]*a,T=u[m*2+1]*d,S=u[x*2]*a,A=u[x*2+1]*d,p.push(new v(w,C,E,T,S,A));return p};s.exports=c}),90301:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(16483),v=function(c,u,l,a){a===void 0&&(a=l);var d=c,p=u,h=c,g=u-a,m=c+l,x=u;return new o(d,p,h,g,m,x)};s.exports=v}),23707:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(97523),v=r(13584),c=function(u,l,a,d){d===void 0&&(d=o);var p=d(u),h=l-p.x,g=a-p.y;return v(u,h,g)};s.exports=c}),97523:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),v=function(c,u){return u===void 0&&(u=new o),u.x=(c.x1+c.x2+c.x3)/3,u.y=(c.y1+c.y2+c.y3)/3,u};s.exports=v}),24951:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099);function v(u,l,a,d){return u*d-l*a}var c=function(u,l){l===void 0&&(l=new o);var a=u.x3,d=u.y3,p=u.x1-a,h=u.y1-d,g=u.x2-a,m=u.y2-d,x=2*v(p,h,g,m),w=v(h,p*p+h*h,m,g*g+m*m),C=v(p,p*p+h*h,g,g*g+m*m);return l.x=a-w/x,l.y=d+C/x,l};s.exports=c}),85614:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(96503),v=function(c,u){u===void 0&&(u=new o);var l=c.x1,a=c.y1,d=c.x2,p=c.y2,h=c.x3,g=c.y3,m=d-l,x=p-a,w=h-l,C=g-a,E=m*(l+d)+x*(a+p),T=w*(l+h)+C*(a+g),S=2*(m*(g-p)-x*(h-d)),A,P;if(Math.abs(S)<1e-6){var R=Math.min(l,d,h),L=Math.min(a,p,g);A=(Math.max(l,d,h)-R)*.5,P=(Math.max(a,p,g)-L)*.5,u.x=R+A,u.y=L+P,u.radius=Math.sqrt(A*A+P*P)}else u.x=(C*E-x*T)/S,u.y=(m*T-w*E)/S,A=u.x-l,P=u.y-a,u.radius=Math.sqrt(A*A+P*P);return u};s.exports=v}),74422:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(16483),v=function(c){return new o(c.x1,c.y1,c.x2,c.y2,c.x3,c.y3)};s.exports=v}),10690:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){var c=r.x3-r.x1,u=r.y3-r.y1,l=r.x2-r.x1,a=r.y2-r.y1,d=o-r.x1,p=v-r.y1,h=c*c+u*u,g=c*l+u*a,m=c*d+u*p,x=l*l+a*a,w=l*d+a*p,C=h*x-g*g,E=C===0?0:1/C,T=(x*m-g*w)*E,S=(h*w-g*m)*E;return T>=0&&S>=0&&T+S<1};s.exports=y}),48653:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c){v===void 0&&(v=!1),c===void 0&&(c=[]);for(var u=r.x3-r.x1,l=r.y3-r.y1,a=r.x2-r.x1,d=r.y2-r.y1,p=u*u+l*l,h=u*a+l*d,g=a*a+d*d,m=p*g-h*h,x=m===0?0:1/m,w,C,E,T,S,A,P=r.x1,R=r.y1,L=0;L<o.length&&(E=o[L].x-P,T=o[L].y-R,S=u*E+l*T,A=a*E+d*T,w=(g*S-h*A)*x,C=(p*A-h*S)*x,!(w>=0&&C>=0&&w+C<1&&(c.push({x:o[L].x,y:o[L].y}),v)));L++);return c};s.exports=y}),96006:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10690),v=function(c,u){return o(c,u.x,u.y)};s.exports=v}),71326:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return o.setTo(r.x1,r.y1,r.x2,r.y2,r.x3,r.y3)};s.exports=y}),71694:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return o===void 0&&(o=[]),o.push({x:r.x1,y:r.y1}),o.push({x:r.x2,y:r.y2}),o.push({x:r.x3,y:r.y3}),o};s.exports=y}),33522:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return r.x1===o.x1&&r.y1===o.y1&&r.x2===o.x2&&r.y2===o.y2&&r.x3===o.x3&&r.y3===o.y3};s.exports=y}),20437:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),v=r(35001),c=function(u,l,a){a===void 0&&(a=new o);var d=u.getLineA(),p=u.getLineB(),h=u.getLineC();if(l<=0||l>=1)return a.x=d.x1,a.y=d.y1,a;var g=v(d),m=v(p),x=v(h),w=g+m+x,C=w*l,E=0;return C<g?(E=C/g,a.x=d.x1+(d.x2-d.x1)*E,a.y=d.y1+(d.y2-d.y1)*E):C>g+m?(C-=g+m,E=C/x,a.x=h.x1+(h.x2-h.x1)*E,a.y=h.y1+(h.y2-h.y1)*E):(C-=g,E=C/m,a.x=p.x1+(p.x2-p.x1)*E,a.y=p.y1+(p.y2-p.y1)*E),a};s.exports=c}),80672:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35001),v=r(2141),c=function(u,l,a,d){d===void 0&&(d=[]);var p=u.getLineA(),h=u.getLineB(),g=u.getLineC(),m=o(p),x=o(h),w=o(g),C=m+x+w;!l&&a>0&&(l=C/a);for(var E=0;E<l;E++){var T=C*(E/l),S=0,A=new v;T<m?(S=T/m,A.x=p.x1+(p.x2-p.x1)*S,A.y=p.y1+(p.y2-p.y1)*S):T>m+x?(T-=m+x,S=T/w,A.x=g.x1+(g.x2-g.x1)*S,A.y=g.y1+(g.y2-g.y1)*S):(T-=m,S=T/x,A.x=h.x1+(h.x2-h.x1)*S,A.y=h.y1+(h.y2-h.y1)*S),d.push(A)}return d};s.exports=c}),39757:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141);function v(u,l,a,d){var p=u-a,h=l-d,g=p*p+h*h;return Math.sqrt(g)}var c=function(u,l){l===void 0&&(l=new o);var a=u.x1,d=u.y1,p=u.x2,h=u.y2,g=u.x3,m=u.y3,x=v(g,m,p,h),w=v(a,d,g,m),C=v(p,h,a,d),E=x+w+C;return l.x=(a*x+p*w+g*C)/E,l.y=(d*x+h*w+m*C)/E,l};s.exports=c}),13584:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){return r.x1+=o,r.y1+=v,r.x2+=o,r.y2+=v,r.x3+=o,r.y3+=v,r};s.exports=y}),1376:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35001),v=function(c){var u=c.getLineA(),l=c.getLineB(),a=c.getLineC();return o(u)+o(l)+o(a)};s.exports=v}),90260:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),v=function(c,u){u===void 0&&(u=new o);var l=c.x2-c.x1,a=c.y2-c.y1,d=c.x3-c.x1,p=c.y3-c.y1,h=Math.random(),g=Math.random();return h+g>=1&&(h=1-h,g=1-g),u.x=c.x1+(l*h+d*g),u.y=c.y1+(a*h+p*g),u};s.exports=v}),52172:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(99614),v=r(39757),c=function(u,l){var a=v(u);return o(u,a.x,a.y,l)};s.exports=c}),49907:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(99614),v=function(c,u,l){return o(c,u.x,u.y,l)};s.exports=v}),99614:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c){var u=Math.cos(c),l=Math.sin(c),a=r.x1-o,d=r.y1-v;return r.x1=a*u-d*l+o,r.y1=a*l+d*u+v,a=r.x2-o,d=r.y2-v,r.x2=a*u-d*l+o,r.y2=a*l+d*u+v,a=r.x3-o,d=r.y3-v,r.x3=a*u-d*l+o,r.y3=a*l+d*u+v,r};s.exports=y}),16483:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(10690),c=r(20437),u=r(80672),l=r(23777),a=r(23031),d=r(90260),p=new o({initialize:function(g,m,x,w,C,E){g===void 0&&(g=0),m===void 0&&(m=0),x===void 0&&(x=0),w===void 0&&(w=0),C===void 0&&(C=0),E===void 0&&(E=0),this.type=l.TRIANGLE,this.x1=g,this.y1=m,this.x2=x,this.y2=w,this.x3=C,this.y3=E},contains:function(h,g){return v(this,h,g)},getPoint:function(h,g){return c(this,h,g)},getPoints:function(h,g,m){return u(this,h,g,m)},getRandomPoint:function(h){return d(this,h)},setTo:function(h,g,m,x,w,C){return h===void 0&&(h=0),g===void 0&&(g=0),m===void 0&&(m=0),x===void 0&&(x=0),w===void 0&&(w=0),C===void 0&&(C=0),this.x1=h,this.y1=g,this.x2=m,this.y2=x,this.x3=w,this.y3=C,this},getLineA:function(h){return h===void 0&&(h=new a),h.setTo(this.x1,this.y1,this.x2,this.y2),h},getLineB:function(h){return h===void 0&&(h=new a),h.setTo(this.x2,this.y2,this.x3,this.y3),h},getLineC:function(h){return h===void 0&&(h=new a),h.setTo(this.x3,this.y3,this.x1,this.y1),h},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(h){var g=0;this.x1<=this.x2&&this.x1<=this.x3?g=this.x1-h:this.x2<=this.x1&&this.x2<=this.x3?g=this.x2-h:g=this.x3-h,this.x1-=g,this.x2-=g,this.x3-=g}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(h){var g=0;this.x1>=this.x2&&this.x1>=this.x3?g=this.x1-h:this.x2>=this.x1&&this.x2>=this.x3?g=this.x2-h:g=this.x3-h,this.x1-=g,this.x2-=g,this.x3-=g}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(h){var g=0;this.y1<=this.y2&&this.y1<=this.y3?g=this.y1-h:this.y2<=this.y1&&this.y2<=this.y3?g=this.y2-h:g=this.y3-h,this.y1-=g,this.y2-=g,this.y3-=g}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(h){var g=0;this.y1>=this.y2&&this.y1>=this.y3?g=this.y1-h:this.y2>=this.y1&&this.y2>=this.y3?g=this.y2-h:g=this.y3-h,this.y1-=g,this.y2-=g,this.y3-=g}}});s.exports=p}),84435:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(16483);o.Area=r(41658),o.BuildEquilateral=r(39208),o.BuildFromPolygon=r(39545),o.BuildRight=r(90301),o.CenterOn=r(23707),o.Centroid=r(97523),o.CircumCenter=r(24951),o.CircumCircle=r(85614),o.Clone=r(74422),o.Contains=r(10690),o.ContainsArray=r(48653),o.ContainsPoint=r(96006),o.CopyFrom=r(71326),o.Decompose=r(71694),o.Equals=r(33522),o.GetPoint=r(20437),o.GetPoints=r(80672),o.InCenter=r(39757),o.Perimeter=r(1376),o.Offset=r(13584),o.Random=r(90260),o.Rotate=r(52172),o.RotateAroundPoint=r(49907),o.RotateAroundXY=r(99614),s.exports=o}),74457:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){return{gameObject:r,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:o,hitAreaCallback:v,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}};s.exports=y}),84409:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return function(v,c,u,l){var a=r.getPixelAlpha(c,u,l.texture.key,l.frame.name);return a&&a>=o}};s.exports=y}),7003:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(93301),c=r(50792),u=r(8214),l=r(8443),a=r(78970),d=r(85098),p=r(42515),h=r(36210),g=r(61340),m=r(85955),x=new o({initialize:function(C,E){this.game=C,this.scaleManager,this.canvas,this.config=E,this.enabled=!0,this.events=new c,this.isOver=!0,this.defaultCursor="",this.keyboard=E.inputKeyboard?new a(this):null,this.mouse=E.inputMouse?new d(this):null,this.touch=E.inputTouch?new h(this):null,this.pointers=[],this.pointersTotal=E.inputActivePointers;for(var T=0;T<=this.pointersTotal;T++){var S=new p(this,T);S.smoothFactor=E.inputSmoothFactor,this.pointers.push(S)}this.mousePointer=E.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new g,this._tempMatrix2=new g,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],C.events.once(l.BOOT,this.boot,this)},boot:function(){var w=this.game,C=w.events;this.canvas=w.canvas,this.scaleManager=w.scale,this.events.emit(u.MANAGER_BOOT),C.on(l.PRE_RENDER,this.preRender,this),C.once(l.DESTROY,this.destroy,this)},setCanvasOver:function(w){this.isOver=!0,this.events.emit(u.GAME_OVER,w)},setCanvasOut:function(w){this.isOver=!1,this.events.emit(u.GAME_OUT,w)},preRender:function(){var w=this.game.loop.now,C=this.game.loop.delta,E=this.game.scene.getScenes(!0,!0);this.time=w,this.events.emit(u.MANAGER_UPDATE);for(var T=0;T<E.length;T++){var S=E[T];if(S.sys.input&&S.sys.input.updatePoll(w,C)&&this.globalTopOnly)return}},setDefaultCursor:function(w){this.defaultCursor=w,this.canvas.style.cursor!==w&&(this.canvas.style.cursor=w)},setCursor:function(w){w.cursor&&(this.canvas.style.cursor=w.cursor)},resetCursor:function(w,C){(C||w&&w.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(w){w===void 0&&(w=1);var C=[];this.pointersTotal+w>10&&(w=10-this.pointersTotal);for(var E=0;E<w;E++){var T=this.pointers.length,S=new p(this,T);S.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(S),this.pointersTotal++,C.push(S)}return C},updateInputPlugins:function(w,C){var E=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var T=0;T<E.length;T++){var S=E[T];if(S.sys.input){var A=S.sys.input.update(w,C);if(A&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(w){for(var C=this.pointers,E=[],T=0;T<w.changedTouches.length;T++)for(var S=w.changedTouches[T],A=1;A<C.length;A++){var P=C[A];if(!P.active){P.touchstart(S,w),this.activePointer=P,E.push(P);break}}this.updateInputPlugins(v.TOUCH_START,E)},onTouchMove:function(w){for(var C=this.pointers,E=[],T=0;T<w.changedTouches.length;T++)for(var S=w.changedTouches[T],A=1;A<C.length;A++){var P=C[A];if(P.active&&P.identifier===S.identifier){var R=document.elementFromPoint(S.clientX,S.clientY),L=R===this.canvas;!this.isOver&&L?this.setCanvasOver(w):this.isOver&&!L&&this.setCanvasOut(w),this.isOver&&(P.touchmove(S,w),this.activePointer=P,E.push(P));break}}this.updateInputPlugins(v.TOUCH_MOVE,E)},onTouchEnd:function(w){for(var C=this.pointers,E=[],T=0;T<w.changedTouches.length;T++)for(var S=w.changedTouches[T],A=1;A<C.length;A++){var P=C[A];if(P.active&&P.identifier===S.identifier){P.touchend(S,w),E.push(P);break}}this.updateInputPlugins(v.TOUCH_END,E)},onTouchCancel:function(w){for(var C=this.pointers,E=[],T=0;T<w.changedTouches.length;T++)for(var S=w.changedTouches[T],A=1;A<C.length;A++){var P=C[A];if(P.active&&P.identifier===S.identifier){P.touchcancel(S,w),E.push(P);break}}this.updateInputPlugins(v.TOUCH_CANCEL,E)},onMouseDown:function(w){var C=this.mousePointer;C.down(w),C.updateMotion(),this.activePointer=C,this.updateInputPlugins(v.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(w){var C=this.mousePointer;C.move(w),C.updateMotion(),this.activePointer=C,this.updateInputPlugins(v.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(w){var C=this.mousePointer;C.up(w),C.updateMotion(),this.activePointer=C,this.updateInputPlugins(v.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(w){var C=this.mousePointer;C.wheel(w),this.activePointer=C,this.updateInputPlugins(v.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(w){var C=this.mouse.locked;this.mousePointer.locked=C,this.events.emit(u.POINTERLOCK_CHANGE,w,C)},inputCandidate:function(w,C){var E=w.input;if(!E||!E.enabled||!w.willRender(C))return!1;var T=!0,S=w.parentContainer;if(S)do{if(!S.willRender(C)){T=!1;break}S=S.parentContainer}while(S);return T},hitTest:function(w,C,E,T){T===void 0&&(T=this._tempHitTest);var S=this._tempPoint,A=E.scrollX,P=E.scrollY;T.length=0;var R=w.x,L=w.y;E.getWorldPoint(R,L,S),w.worldX=S.x,w.worldY=S.y;for(var D={x:0,y:0},F=this._tempMatrix,$=this._tempMatrix2,N=0;N<C.length;N++){var k=C[N];if(this.inputCandidate(k,E)){var j=S.x+A*k.scrollFactorX-A,W=S.y+P*k.scrollFactorY-P;k.parentContainer?(k.getWorldTransformMatrix(F,$),F.applyInverse(j,W,D)):m(j,W,k.x,k.y,k.rotation,k.scaleX,k.scaleY,D),this.pointWithinHitArea(k,D.x,D.y)&&T.push(k)}}return T},pointWithinHitArea:function(w,C,E){C+=w.displayOriginX,E+=w.displayOriginY;var T=w.input;return T&&T.hitAreaCallback(T.hitArea,C,E,w)?(T.localX=C,T.localY=E,!0):!1},pointWithinInteractiveObject:function(w,C,E){return w.hitArea?(C+=w.gameObject.displayOriginX,E+=w.gameObject.displayOriginY,w.localX=C,w.localY=E,w.hitAreaCallback(w.hitArea,C,E,w)):!1},transformPointer:function(w,C,E,T){var S=w.position,A=w.prevPosition;A.x=S.x,A.y=S.y;var P=this.scaleManager.transformX(C),R=this.scaleManager.transformY(E),L=w.smoothFactor;!T||L===0?(S.x=P,S.y=R):(S.x=P*L+A.x*(1-L),S.y=R*L+A.y*(1-L))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(l.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var w=0;w<this.pointers.length;w++)this.pointers[w].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});s.exports=x}),48205:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(96503),v=r(87902),c=r(83419),u=r(93301),l=r(74457),a=r(84409),d=r(20339),p=r(8497),h=r(81154),g=r(8214),m=r(50792),x=r(95540),w=r(23777),C=r(89639),E=r(41212),T=r(37277),S=r(87841),A=r(37303),P=r(44594),R=r(16483),L=r(10690),D=new c({Extends:m,initialize:function($){m.call(this),this.scene=$,this.systems=$.sys,this.settings=$.sys.settings,this.manager=$.sys.game.input,this.pluginEvents=new m,this.enabled=!0,this.displayList,this.cameras,C.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var N={cancelled:!1};this._eventContainer={stopPropagation:function(){N.cancelled=!0}},this._eventData=N,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,$.sys.events.once(P.BOOT,this.boot,this),$.sys.events.on(P.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(P.DESTROY,this.destroy,this),this.pluginEvents.emit(g.BOOT)},start:function(){var F=this.systems.events;F.on(P.TRANSITION_START,this.transitionIn,this),F.on(P.TRANSITION_OUT,this.transitionOut,this),F.on(P.TRANSITION_COMPLETE,this.transitionComplete,this),F.on(P.PRE_UPDATE,this.preUpdate,this),F.once(P.SHUTDOWN,this.shutdown,this),this.manager.events.on(g.GAME_OUT,this.onGameOut,this),this.manager.events.on(g.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(g.START)},onGameOver:function(F){this.isActive()&&this.emit(g.GAME_OVER,F.timeStamp,F)},onGameOut:function(F){this.isActive()&&this.emit(g.GAME_OUT,F.timeStamp,F)},preUpdate:function(){this.pluginEvents.emit(g.PRE_UPDATE);var F=this._pendingRemoval,$=this._pendingInsertion,N=F.length,k=$.length;if(!(N===0&&k===0)){for(var j=this._list,W=0;W<N;W++){var G=F[W],K=j.indexOf(G);K>-1&&(j.splice(K,1),this.clear(G,!0))}this._pendingRemoval.length=0,this._list=j.concat($.splice(0))}},isActive:function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},setCursor:function(F){this.manager&&this.manager.setCursor(F)},resetCursor:function(){this.manager&&this.manager.resetCursor(null,!0)},updatePoll:function(F,$){if(!this.isActive())return!1;if(this.pluginEvents.emit(g.UPDATE,F,$),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var N,k=this.manager,j=k.pointers;for(N=0;N<j.length;N++)j[N].updateMotion();if(this._list.length===0)return!1;var W=this.pollRate;if(W===-1)return!1;if(W>0)if(this._pollTimer-=$,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var G=!1;for(N=0;N<j.length;N++){var K=0,z=j[N];this._tempZones=[],this._temp=this.hitTestPointer(z),this.sortGameObjects(this._temp,z),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),K+=this.processOverOutEvents(z),this.getDragState(z)===2&&this.processDragThresholdEvent(z,F),K>0&&(G=!0)}return G},update:function(F,$){if(!this.isActive())return!1;for(var N=!1,k=0;k<$.length;k++){var j=0,W=$[k];switch(this._tempZones=[],this._temp=this.hitTestPointer(W),this.sortGameObjects(this._temp,W),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),F){case u.MOUSE_DOWN:j+=this.processDragDownEvent(W),j+=this.processDownEvents(W),j+=this.processOverOutEvents(W);break;case u.MOUSE_UP:j+=this.processDragUpEvent(W),j+=this.processUpEvents(W),j+=this.processOverOutEvents(W);break;case u.TOUCH_START:j+=this.processDragDownEvent(W),j+=this.processDownEvents(W),j+=this.processOverEvents(W);break;case u.TOUCH_END:case u.TOUCH_CANCEL:j+=this.processDragUpEvent(W),j+=this.processUpEvents(W),j+=this.processOutEvents(W);break;case u.MOUSE_MOVE:case u.TOUCH_MOVE:j+=this.processDragMoveEvent(W),j+=this.processMoveEvents(W),j+=this.processOverOutEvents(W);break;case u.MOUSE_WHEEL:j+=this.processWheelEvent(W);break}j>0&&(N=!0)}return this._updatedThisFrame=!0,N},clear:function(F,$){$===void 0&&($=!1),this.disable(F);var N=F.input;N&&(this.removeDebug(F),this.manager.resetCursor(N),N.gameObject=void 0,N.target=void 0,N.hitArea=void 0,N.hitAreaCallback=void 0,N.callbackContext=void 0,F.input=null),$||this.queueForRemoval(F);var k=this._draggable.indexOf(F);return k>-1&&this._draggable.splice(k,1),F},disable:function(F,$){$===void 0&&($=!1);var N=F.input;N&&(N.enabled=!1,N.dragState=0);for(var k=this._drag,j=this._over,W=this.manager,G=0,K;G<W.pointers.length;G++)K=k[G].indexOf(F),K>-1&&k[G].splice(K,1),K=j[G].indexOf(F),K>-1&&j[G].splice(K,1);return $&&this.resetCursor(),this},enable:function(F,$,N,k){return k===void 0&&(k=!1),F.input?F.input.enabled=!0:this.setHitArea(F,$,N),F.input&&k&&!F.input.dropZone&&(F.input.dropZone=k),this},hitTestPointer:function(F){for(var $=this.cameras.getCamerasBelowPointer(F),N=0;N<$.length;N++){for(var k=$[N],j=this.manager.hitTest(F,this._list,k),W=0;W<j.length;W++){var G=j[W];G.input.dropZone&&this._tempZones.push(G)}if(j.length>0)return F.camera=k,j}return F.camera=$[0],[]},processDownEvents:function(F){var $=0,N=this._temp,k=this._eventData,j=this._eventContainer;k.cancelled=!1;for(var W=0;W<N.length;W++){var G=N[W];if(!(!G.input||!G.input.enabled)&&($++,G.emit(g.GAMEOBJECT_POINTER_DOWN,F,G.input.localX,G.input.localY,j),k.cancelled||!this.isActive()||G.input&&G.input.enabled&&(this.emit(g.GAMEOBJECT_DOWN,F,G,j),k.cancelled||!this.isActive())))break}return!k.cancelled&&this.isActive()&&(F.downElement===this.manager.game.canvas?this.emit(g.POINTER_DOWN,F,N):this.emit(g.POINTER_DOWN_OUTSIDE,F)),$},getDragState:function(F){return this._dragState[F.id]},setDragState:function(F,$){this._dragState[F.id]=$},processDragThresholdEvent:function(F,$){var N=!1,k=this.dragTimeThreshold,j=this.dragDistanceThreshold;if((j>0&&d(F.x,F.y,F.downX,F.downY)>=j||k>0&&$>=F.downTime+k)&&(N=!0),N)return this.setDragState(F,3),this.processDragStartList(F)},processDragStartList:function(F){if(this.getDragState(F)!==3)return 0;var $=this._drag[F.id];$.length>1&&($=$.slice(0));for(var N=0;N<$.length;N++){var k=$[N],j=k.input;j.dragState=2,j.dragStartX=k.x,j.dragStartY=k.y,j.dragStartXGlobal=F.worldX,j.dragStartYGlobal=F.worldY,j.dragStartCamera=F.camera,j.dragX=j.dragStartXGlobal-j.dragStartX,j.dragY=j.dragStartYGlobal-j.dragStartY,k.emit(g.GAMEOBJECT_DRAG_START,F,j.dragX,j.dragY),this.emit(g.DRAG_START,F,k)}return this.setDragState(F,4),$.length},processDragDownEvent:function(F){var $=this._temp;if(this._draggable.length===0||$.length===0||!F.primaryDown||this.getDragState(F)!==0)return 0;this.setDragState(F,1);for(var N=[],k=0;k<$.length;k++){var j=$[k];j.input.draggable&&j.input.dragState===0&&N.push(j)}return N.length===0?(this.setDragState(F,0),0):(N.length>1&&(this.sortGameObjects(N,F),this.topOnly&&N.splice(1)),this._drag[F.id]=N,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(F,3),this.processDragStartList(F)):(this.setDragState(F,2),0))},processDragMoveEvent:function(F){if(this.getDragState(F)===2&&this.processDragThresholdEvent(F,this.manager.game.loop.now),this.getDragState(F)!==4)return 0;var $=this._tempZones,N=this._drag[F.id];N.length>1&&(N=N.slice(0));for(var k=0;k<N.length;k++){var j=N[k],W=j.input,G=W.target;if(G){var K=$.indexOf(G);K===0?(j.emit(g.GAMEOBJECT_DRAG_OVER,F,G),this.emit(g.DRAG_OVER,F,j,G)):K>0?(j.emit(g.GAMEOBJECT_DRAG_LEAVE,F,G),this.emit(g.DRAG_LEAVE,F,j,G),W.target=$[0],G=W.target,j.emit(g.GAMEOBJECT_DRAG_ENTER,F,G),this.emit(g.DRAG_ENTER,F,j,G)):(j.emit(g.GAMEOBJECT_DRAG_LEAVE,F,G),this.emit(g.DRAG_LEAVE,F,j,G),$[0]?(W.target=$[0],G=W.target,j.emit(g.GAMEOBJECT_DRAG_ENTER,F,G),this.emit(g.DRAG_ENTER,F,j,G)):W.target=null)}else!G&&$[0]&&(W.target=$[0],G=W.target,j.emit(g.GAMEOBJECT_DRAG_ENTER,F,G),this.emit(g.DRAG_ENTER,F,j,G));var z,X,U=F.positionToCamera(W.dragStartCamera);if(!j.parentContainer)z=U.x-W.dragX,X=U.y-W.dragY;else{var Z=U.x-W.dragStartXGlobal,V=U.y-W.dragStartYGlobal,J=j.getParentRotation(),_=Z*Math.cos(J)+V*Math.sin(J),ee=V*Math.cos(J)-Z*Math.sin(J);_*=1/j.parentContainer.scaleX,ee*=1/j.parentContainer.scaleY,z=_+W.dragStartX,X=ee+W.dragStartY}j.emit(g.GAMEOBJECT_DRAG,F,z,X),this.emit(g.DRAG,F,j,z,X)}return N.length},processDragUpEvent:function(F){var $=this._drag[F.id];$.length>1&&($=$.slice(0));for(var N=0;N<$.length;N++){var k=$[N],j=k.input;if(j&&j.dragState===2){j.dragState=0,j.dragX=j.localX-k.displayOriginX,j.dragY=j.localY-k.displayOriginY,j.dragStartCamera=null;var W=!1,G=j.target;G&&(k.emit(g.GAMEOBJECT_DROP,F,G),this.emit(g.DROP,F,k,G),j.target=null,W=!0),k.input&&k.input.enabled&&(k.emit(g.GAMEOBJECT_DRAG_END,F,j.dragX,j.dragY,W),this.emit(g.DRAG_END,F,k,W))}}return this.setDragState(F,0),$.splice(0),0},processMoveEvents:function(F){var $=0,N=this._temp,k=this._eventData,j=this._eventContainer;k.cancelled=!1;for(var W=0;W<N.length;W++){var G=N[W];if(!(!G.input||!G.input.enabled)&&($++,G.emit(g.GAMEOBJECT_POINTER_MOVE,F,G.input.localX,G.input.localY,j),k.cancelled||!this.isActive()||G.input&&G.input.enabled&&(this.emit(g.GAMEOBJECT_MOVE,F,G,j),k.cancelled||!this.isActive()||this.topOnly)))break}return!k.cancelled&&this.isActive()&&this.emit(g.POINTER_MOVE,F,N),$},processWheelEvent:function(F){var $=0,N=this._temp,k=this._eventData,j=this._eventContainer;k.cancelled=!1;for(var W=F.deltaX,G=F.deltaY,K=F.deltaZ,z=0;z<N.length;z++){var X=N[z];if(!(!X.input||!X.input.enabled)&&($++,X.emit(g.GAMEOBJECT_POINTER_WHEEL,F,W,G,K,j),k.cancelled||!this.isActive()||X.input&&X.input.enabled&&(this.emit(g.GAMEOBJECT_WHEEL,F,X,W,G,K,j),k.cancelled||!this.isActive())))break}return!k.cancelled&&this.isActive()&&this.emit(g.POINTER_WHEEL,F,N,W,G,K),$},processOverEvents:function(F){var $=this._temp,N=0,k=$.length,j=[];if(k>0){var W=this.manager,G=this._eventData,K=this._eventContainer;G.cancelled=!1;for(var z=0;z<k;z++){var X=$[z];if(!(!X.input||!X.input.enabled)&&(j.push(X),W.setCursor(X.input),X.emit(g.GAMEOBJECT_POINTER_OVER,F,X.input.localX,X.input.localY,K),N++,G.cancelled||!this.isActive()||X.input&&X.input.enabled&&(this.emit(g.GAMEOBJECT_OVER,F,X,K),G.cancelled||!this.isActive())))break}!G.cancelled&&this.isActive()&&this.emit(g.POINTER_OVER,F,j)}return this._over[F.id]=j,N},processOutEvents:function(F){var $=this._over[F.id],N=0,k=$.length;if(k>0){var j=this.manager,W=this._eventData,G=this._eventContainer;W.cancelled=!1,this.sortGameObjects($,F);for(var K=0;K<k;K++){var z=$[K];if(z=$[K],!(!z.input||!z.input.enabled)&&(j.resetCursor(z.input),z.emit(g.GAMEOBJECT_POINTER_OUT,F,G),N++,W.cancelled||!this.isActive()||z.input&&z.input.enabled&&(this.emit(g.GAMEOBJECT_OUT,F,z,G),W.cancelled||!this.isActive())))break}!W.cancelled&&this.isActive()&&this.emit(g.POINTER_OUT,F,$),this._over[F.id]=[]}return N},processOverOutEvents:function(F){var $=this._temp,N,k,j=[],W=[],G=[],K=this._over[F.id],z=this._drag[F.id],X=this.manager;for(N=0;N<K.length;N++)k=K[N],$.indexOf(k)===-1&&z.indexOf(k)===-1?j.push(k):G.push(k);for(N=0;N<$.length;N++)k=$[N],K.indexOf(k)===-1&&W.push(k);var U=j.length,Z=0,V=this._eventData,J=this._eventContainer;if(V.cancelled=!1,U>0){for(this.sortGameObjects(j,F),N=0;N<U&&(k=j[N],!(!(!k.input||!k.input.enabled)&&(X.resetCursor(k.input),k.emit(g.GAMEOBJECT_POINTER_OUT,F,J),Z++,V.cancelled||!this.isActive()||k.input&&k.input.enabled&&(this.emit(g.GAMEOBJECT_OUT,F,k,J),V.cancelled||!this.isActive()))));N++);(!V.cancelled||this.isActive())&&this.emit(g.POINTER_OUT,F,j)}if(U=W.length,V.cancelled=!1,U>0){for(this.sortGameObjects(W,F),N=0;N<U&&(k=W[N],!(!(!k.input||!k.input.enabled)&&(X.setCursor(k.input),k.emit(g.GAMEOBJECT_POINTER_OVER,F,k.input.localX,k.input.localY,J),Z++,V.cancelled||!this.isActive()||k.input&&k.input.enabled&&(this.emit(g.GAMEOBJECT_OVER,F,k,J),V.cancelled||!this.isActive()))));N++);!V.cancelled&&this.isActive()&&this.emit(g.POINTER_OVER,F,W)}return K=G.concat(W),this._over[F.id]=this.sortGameObjects(K,F),Z},processUpEvents:function(F){var $=this._temp,N=this._eventData,k=this._eventContainer;N.cancelled=!1;for(var j=0;j<$.length;j++){var W=$[j];if(!(!W.input||!W.input.enabled)&&(W.emit(g.GAMEOBJECT_POINTER_UP,F,W.input.localX,W.input.localY,k),N.cancelled||!this.isActive()||W.input&&W.input.enabled&&(this.emit(g.GAMEOBJECT_UP,F,W,k),N.cancelled||!this.isActive())))break}return!N.cancelled&&this.isActive()&&(F.upElement===this.manager.game.canvas?this.emit(g.POINTER_UP,F,$):this.emit(g.POINTER_UP_OUTSIDE,F)),$.length},forceDownState:function(F,$){this.forceState(F,$,g.GAMEOBJECT_POINTER_DOWN,g.GAMEOBJECT_DOWN,!1)},forceUpState:function(F,$){this.forceState(F,$,g.GAMEOBJECT_POINTER_UP,g.GAMEOBJECT_UP,!1)},forceOverState:function(F,$){this.forceState(F,$,g.GAMEOBJECT_POINTER_OVER,g.GAMEOBJECT_OVER,!0)},forceOutState:function(F,$){this.forceState(F,$,g.GAMEOBJECT_POINTER_OUT,g.GAMEOBJECT_OUT,!1)},forceState:function(F,$,N,k,j){var W=this._eventData,G=this._eventContainer;W.cancelled=!1,$.input&&$.input.enabled&&($.emit(N,F,$.input.localX,$.input.localY,G),j&&this.setCursor($.input),!W.cancelled&&this.isActive()&&$.input&&$.input.enabled&&this.emit(k,F,$,G))},queueForInsertion:function(F){return this._pendingInsertion.indexOf(F)===-1&&this._list.indexOf(F)===-1&&this._pendingInsertion.push(F),this},queueForRemoval:function(F){return this._pendingRemoval.push(F),this},setDraggable:function(F,$){$===void 0&&($=!0),Array.isArray(F)||(F=[F]);for(var N=0;N<F.length;N++){var k=F[N];k.input.draggable=$;var j=this._draggable.indexOf(k);$&&j===-1?this._draggable.push(k):!$&&j>-1&&this._draggable.splice(j,1)}return this},makePixelPerfect:function(F){F===void 0&&(F=1);var $=this.systems.textures;return a($,F)},setHitArea:function(F,$,N){if($===void 0)return this.setHitAreaFromTexture(F);Array.isArray(F)||(F=[F]);var k=!1,j=!1,W=!1,G=!1,K=!1,z=!0;if(E($)&&Object.keys($).length){var X=$,U=F.some(function(ee){return ee.hasOwnProperty("faces")});if(!U){$=x(X,"hitArea",null),N=x(X,"hitAreaCallback",null),K=x(X,"pixelPerfect",!1);var Z=x(X,"alphaTolerance",1);K&&($={},N=this.makePixelPerfect(Z))}k=x(X,"draggable",!1),j=x(X,"dropZone",!1),W=x(X,"cursor",!1),G=x(X,"useHandCursor",!1),(!$||!N)&&(this.setHitAreaFromTexture(F),z=!1)}else typeof $=="function"&&!N&&(N=$,$={});for(var V=0;V<F.length;V++){var J=F[V];if(K&&J.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var _=J.input?J.input:l(J,$,N);_.customHitArea=z,_.dropZone=j,_.cursor=G?"pointer":W,J.input=_,k&&this.setDraggable(J),this.queueForInsertion(J)}return this},setHitAreaCircle:function(F,$,N,k,j){j===void 0&&(j=v);var W=new o($,N,k);return this.setHitArea(F,W,j)},setHitAreaEllipse:function(F,$,N,k,j,W){W===void 0&&(W=h);var G=new p($,N,k,j);return this.setHitArea(F,G,W)},setHitAreaFromTexture:function(F,$){$===void 0&&($=A),Array.isArray(F)||(F=[F]);for(var N=0;N<F.length;N++){var k=F[N],j=k.frame,W=0,G=0;if(k.width?(W=k.width,G=k.height):j&&(W=j.realWidth,G=j.realHeight),k.type==="Container"&&(W===0||G===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}W!==0&&G!==0&&(k.input=l(k,new S(0,0,W,G),$),this.queueForInsertion(k))}return this},setHitAreaRectangle:function(F,$,N,k,j,W){W===void 0&&(W=A);var G=new S($,N,k,j);return this.setHitArea(F,G,W)},setHitAreaTriangle:function(F,$,N,k,j,W,G,K){K===void 0&&(K=L);var z=new R($,N,k,j,W,G);return this.setHitArea(F,z,K)},enableDebug:function(F,$){$===void 0&&($=65280);var N=F.input;if(!N||!N.hitArea)return this;var k=N.hitArea,j=k.type,W=N.hitAreaDebug,G=this.systems.add,K=this.systems.updateList;W&&(K.remove(W),W.destroy(),W=null);var z=0,X=0;switch(j){case w.CIRCLE:W=G.arc(0,0,k.radius),z=k.x-k.radius,X=k.y-k.radius;break;case w.ELLIPSE:W=G.ellipse(0,0,k.width,k.height),z=k.x-k.width/2,X=k.y-k.height/2;break;case w.LINE:W=G.line(0,0,k.x1,k.y1,k.x2,k.y2);break;case w.POLYGON:W=G.polygon(0,0,k.points);break;case w.RECTANGLE:W=G.rectangle(0,0,k.width,k.height),z=k.x,X=k.y;break;case w.TRIANGLE:W=G.triangle(0,0,k.x1,k.y1,k.x2,k.y2,k.x3,k.y3);break}return W&&(W.isFilled=!1,W.strokeColor=$,W.preUpdate=function(){W.setVisible(F.visible),W.setStrokeStyle(1/F.scale,W.strokeColor),W.setDisplayOrigin(F.displayOriginX,F.displayOriginY);var U=F.x,Z=F.y,V=F.rotation,J=F.scaleX,_=F.scaleY;if(F.parentContainer){var ee=F.getWorldTransformMatrix();U=ee.tx,Z=ee.ty,V=ee.rotation,J=ee.scaleX,_=ee.scaleY}W.setRotation(V),W.setScale(J,_),W.setPosition(U+z*J,Z+X*_),W.setScrollFactor(F.scrollFactorX,F.scrollFactorY),W.setDepth(F.depth)},K.add(W),N.hitAreaDebug=W),this},removeDebug:function(F){var $=F.input;if($&&$.hitAreaDebug){var N=$.hitAreaDebug;N.destroy(),$.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(F){return this.pollRate=F,this._pollTimer=0,this},setGlobalTopOnly:function(F){return this.manager.globalTopOnly=F,this},setTopOnly:function(F){return this.topOnly=F,this},sortGameObjects:function(F,$){if(F.length<2||!$.camera)return F;var N=$.camera.renderList;return F.sort(function(k,j){var W=Math.max(N.indexOf(k),0),G=Math.max(N.indexOf(j),0);return G-W})},sortDropZones:function(F){return F.length<2?F:(this.scene.sys.depthSort(),F.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(F,$){if(!F.parentContainer&&!$.parentContainer)return this.displayList.getIndex($)-this.displayList.getIndex(F);if(F.parentContainer===$.parentContainer)return $.parentContainer.getIndex($)-F.parentContainer.getIndex(F);if(F.parentContainer===$)return-1;if($.parentContainer===F)return 1;for(var N=F.getIndexList(),k=$.getIndexList(),j=Math.min(N.length,k.length),W=0;W<j;W++){var G=N[W],K=k[W];if(G!==K)return K-G}return k.length-N.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(F){return this.manager.addPointer(F)},setDefaultCursor:function(F){return this.manager.setDefaultCursor(F),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(g.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var F=0;F<10;F++)this._drag[F]=[],this._over[F]=[];this.removeAllListeners();var $=this.manager;$.canvas.style.cursor=$.defaultCursor;var N=this.systems.events;N.off(P.TRANSITION_START,this.transitionIn,this),N.off(P.TRANSITION_OUT,this.transitionOut,this),N.off(P.TRANSITION_COMPLETE,this.transitionComplete,this),N.off(P.PRE_UPDATE,this.preUpdate,this),$.events.off(g.GAME_OUT,this.onGameOut,this),$.events.off(g.GAME_OVER,this.onGameOver,this),N.off(P.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var F=this.manager.pointers,$=0;$<F.length;$++)F[$].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(g.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(P.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});T.register("InputPlugin",D,"input"),s.exports=D}),89639:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35154),v={},c={};c.register=function(u,l,a,d,p){v[u]={plugin:l,mapping:a,settingsKey:d,configKey:p}},c.getPlugin=function(u){return v[u]},c.install=function(u){var l=u.scene.sys,a=l.settings.input,d=l.game.config;for(var p in v){var h=v[p].plugin,g=v[p].mapping,m=v[p].settingsKey,x=v[p].configKey;o(a,m,d[x])&&(u[g]=new h(u))}},c.remove=function(u){v.hasOwnProperty(u)&&delete v[u]},s.exports=c}),42515:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(31040),v=r(83419),c=r(20339),u=r(43855),l=r(47235),a=r(26099),d=r(25892),p=new v({initialize:function(g,m){this.manager=g,this.id=m,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new a,this.prevPosition=new a,this.midPoint=new a(-1,-1),this.velocity=new a,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=m===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(h){var g=h.getWorldPoint(this.x,this.y);return this.worldX=g.x,this.worldY=g.y,this},positionToCamera:function(h,g){return h.getWorldPoint(this.x,this.y,g)},updateMotion:function(){var h=this.position.x,g=this.position.y,m=this.midPoint.x,x=this.midPoint.y;if(!(h===m&&g===x)){var w=l(this.motionFactor,m,h),C=l(this.motionFactor,x,g);u(w,h,.1)&&(w=h),u(C,g,.1)&&(C=g),this.midPoint.set(w,C);var E=h-w,T=g-C;this.velocity.set(E,T),this.angle=o(w,C,h,g),this.distance=Math.sqrt(E*E+T*T)}},up:function(h){"buttons"in h&&(this.buttons=h.buttons),this.event=h,this.button=h.button,this.upElement=h.target,this.manager.transformPointer(this,h.pageX,h.pageY,!1),h.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=h.timeStamp,this.wasTouch=!1)},down:function(h){"buttons"in h&&(this.buttons=h.buttons),this.event=h,this.button=h.button,this.downElement=h.target,this.manager.transformPointer(this,h.pageX,h.pageY,!1),h.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),d.macOS&&h.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=h.timeStamp),this.wasTouch=!1},move:function(h){"buttons"in h&&(this.buttons=h.buttons),this.event=h,this.manager.transformPointer(this,h.pageX,h.pageY,!0),this.locked&&(this.movementX=h.movementX||h.mozMovementX||h.webkitMovementX||0,this.movementY=h.movementY||h.mozMovementY||h.webkitMovementY||0),this.moveTime=h.timeStamp,this.wasTouch=!1},wheel:function(h){"buttons"in h&&(this.buttons=h.buttons),this.event=h,this.manager.transformPointer(this,h.pageX,h.pageY,!1),this.deltaX=h.deltaX,this.deltaY=h.deltaY,this.deltaZ=h.deltaZ,this.wasTouch=!1},touchstart:function(h,g){h.pointerId&&(this.pointerId=h.pointerId),this.identifier=h.identifier,this.target=h.target,this.active=!0,this.buttons=1,this.event=g,this.downElement=h.target,this.manager.transformPointer(this,h.pageX,h.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=g.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(h,g){this.event=g,this.manager.transformPointer(this,h.pageX,h.pageY,!0),this.moveTime=g.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(h,g){this.buttons=0,this.event=g,this.upElement=h.target,this.manager.transformPointer(this,h.pageX,h.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=g.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(h,g){this.buttons=0,this.event=g,this.upElement=h.target,this.manager.transformPointer(this,h.pageX,h.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=g.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.buttons===0?this.button===0&&!this.isDown:this.button===0},rightButtonReleased:function(){return this.buttons===0?this.button===2&&!this.isDown:this.button===2},middleButtonReleased:function(){return this.buttons===0?this.button===1&&!this.isDown:this.button===1},backButtonReleased:function(){return this.buttons===0?this.button===3&&!this.isDown:this.button===3},forwardButtonReleased:function(){return this.buttons===0?this.button===4&&!this.isDown:this.button===4},getDistance:function(){return this.isDown?c(this.downX,this.downY,this.x,this.y):c(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?o(this.downX,this.downY,this.x,this.y):o(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(h,g){h===void 0&&(h=10),g===void 0&&(g=[]);for(var m=this.prevPosition.x,x=this.prevPosition.y,w=this.position.x,C=this.position.y,E=0;E<h;E++){var T=1/h*E;g[E]={x:l(T,m,w),y:l(T,x,C)}}return g},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(h){this.position.x=h}},y:{get:function(){return this.position.y},set:function(h){this.position.y=h}},time:{get:function(){return this.event?this.event.timeStamp:0}}});s.exports=p}),93301:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};s.exports=y}),7179:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="boot"}),85375:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="destroy"}),39843:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="dragend"}),23388:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="dragenter"}),16133:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="drag"}),27829:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="dragleave"}),53904:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="dragover"}),56058:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="dragstart"}),2642:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="drop"}),88171:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="gameobjectdown"}),36147:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="dragend"}),71692:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="dragenter"}),96149:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="drag"}),81285:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="dragleave"}),74048:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="dragover"}),21322:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="dragstart"}),49378:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="drop"}),86754:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="gameobjectmove"}),86433:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="gameobjectout"}),60709:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="gameobjectover"}),24081:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pointerdown"}),11172:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pointermove"}),18907:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pointerout"}),95579:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pointerover"}),35368:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pointerup"}),26972:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="wheel"}),47078:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="gameobjectup"}),73802:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="gameobjectwheel"}),56718:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="gameout"}),25936:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="gameover"}),27503:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="boot"}),50852:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="process"}),96438:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="update"}),59152:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pointerlockchange"}),47777:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pointerdown"}),27957:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pointerdownoutside"}),19444:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pointermove"}),54251:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pointerout"}),18667:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pointerover"}),27192:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pointerup"}),24652:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pointerupoutside"}),45132:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="wheel"}),44512:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="preupdate"}),15757:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="shutdown"}),41637:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="start"}),93802:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="update"}),8214:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={BOOT:r(7179),DESTROY:r(85375),DRAG_END:r(39843),DRAG_ENTER:r(23388),DRAG:r(16133),DRAG_LEAVE:r(27829),DRAG_OVER:r(53904),DRAG_START:r(56058),DROP:r(2642),GAME_OUT:r(56718),GAME_OVER:r(25936),GAMEOBJECT_DOWN:r(88171),GAMEOBJECT_DRAG_END:r(36147),GAMEOBJECT_DRAG_ENTER:r(71692),GAMEOBJECT_DRAG:r(96149),GAMEOBJECT_DRAG_LEAVE:r(81285),GAMEOBJECT_DRAG_OVER:r(74048),GAMEOBJECT_DRAG_START:r(21322),GAMEOBJECT_DROP:r(49378),GAMEOBJECT_MOVE:r(86754),GAMEOBJECT_OUT:r(86433),GAMEOBJECT_OVER:r(60709),GAMEOBJECT_POINTER_DOWN:r(24081),GAMEOBJECT_POINTER_MOVE:r(11172),GAMEOBJECT_POINTER_OUT:r(18907),GAMEOBJECT_POINTER_OVER:r(95579),GAMEOBJECT_POINTER_UP:r(35368),GAMEOBJECT_POINTER_WHEEL:r(26972),GAMEOBJECT_UP:r(47078),GAMEOBJECT_WHEEL:r(73802),MANAGER_BOOT:r(27503),MANAGER_PROCESS:r(50852),MANAGER_UPDATE:r(96438),POINTER_DOWN:r(47777),POINTER_DOWN_OUTSIDE:r(27957),POINTER_MOVE:r(19444),POINTER_OUT:r(54251),POINTER_OVER:r(18667),POINTER_UP:r(27192),POINTER_UP_OUTSIDE:r(24652),POINTER_WHEEL:r(45132),POINTERLOCK_CHANGE:r(59152),PRE_UPDATE:r(44512),SHUTDOWN:r(15757),START:r(41637),UPDATE:r(93802)}}),97421:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=new o({initialize:function(u,l){this.pad=u,this.events=u.events,this.index=l,this.value=0,this.threshold=.1},update:function(c){this.value=c},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});s.exports=v}),28884:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(92734),c=new o({initialize:function(l,a){this.pad=l,this.events=l.manager,this.index=a,this.value=0,this.threshold=1,this.pressed=!1},update:function(u){this.value=u;var l=this.pad,a=this.index;u>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(v.BUTTON_DOWN,l,this,u),this.pad.emit(v.GAMEPAD_BUTTON_DOWN,a,u,this)):this.pressed&&(this.pressed=!1,this.events.emit(v.BUTTON_UP,l,this,u),this.pad.emit(v.GAMEPAD_BUTTON_UP,a,u,this))},destroy:function(){this.pad=null,this.events=null}});s.exports=c}),99125:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(97421),v=r(28884),c=r(83419),u=r(50792),l=r(26099),a=new c({Extends:u,initialize:function(p,h){u.call(this),this.manager=p,this.pad=h,this.id=h.id,this.index=h.index;for(var g=[],m=0;m<h.buttons.length;m++)g.push(new v(this,m));this.buttons=g;var x=[];for(m=0;m<h.axes.length;m++)x.push(new o(this,m));this.axes=x,this.vibration=h.vibrationActuator;var w={value:0,pressed:!1};this._LCLeft=g[14]?g[14]:w,this._LCRight=g[15]?g[15]:w,this._LCTop=g[12]?g[12]:w,this._LCBottom=g[13]?g[13]:w,this._RCLeft=g[2]?g[2]:w,this._RCRight=g[1]?g[1]:w,this._RCTop=g[3]?g[3]:w,this._RCBottom=g[0]?g[0]:w,this._FBLeftTop=g[4]?g[4]:w,this._FBLeftBottom=g[6]?g[6]:w,this._FBRightTop=g[5]?g[5]:w,this._FBRightBottom=g[7]?g[7]:w;var C={value:0};this._HAxisLeft=x[0]?x[0]:C,this._VAxisLeft=x[1]?x[1]:C,this._HAxisRight=x[2]?x[2]:C,this._VAxisRight=x[3]?x[3]:C,this.leftStick=new l,this.rightStick=new l,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(d){return this.axes[d].getValue()},setAxisThreshold:function(d){for(var p=0;p<this.axes.length;p++)this.axes[p].threshold=d},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(d){return this.buttons[d].value},isButtonDown:function(d){return this.buttons[d].pressed},update:function(d){if(!(d.timestamp<this._created)){var p,h=this.buttons,g=d.buttons,m=h.length;for(p=0;p<m;p++)h[p].update(g[p].value);var x=this.axes,w=d.axes;for(m=x.length,p=0;p<m;p++)x[p].update(w[p]);m>=2&&(this.leftStick.set(x[0].getValue(),x[1].getValue()),m>=4&&this.rightStick.set(x[2].getValue(),x[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var d;for(d=0;d<this.buttons.length;d++)this.buttons[d].destroy();for(d=0;d<this.axes.length;d++)this.axes[d].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});s.exports=a}),56654:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(50792),c=r(92734),u=r(99125),l=r(35154),a=r(89639),d=r(8214),p=new o({Extends:v,initialize:function(g){v.call(this),this.scene=g.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=g,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,g.pluginEvents.once(d.BOOT,this.boot,this),g.pluginEvents.on(d.START,this.start,this)},boot:function(){var h=this.scene.sys.game,g=this.settings.input,m=h.config;this.enabled=l(g,"gamepad",m.inputGamepad)&&h.device.input.gamepads,this.target=l(g,"gamepad.target",m.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(d.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(d.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var h=this,g=this.target,m=function(x){x.defaultPrevented||!h.isActive()||(h.refreshPads(),h.queue.push(x))};this.onGamepadHandler=m,g.addEventListener("gamepadconnected",m,!1),g.addEventListener("gamepaddisconnected",m,!1),this.sceneInputPlugin.pluginEvents.on(d.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(d.UPDATE,this.update);for(var h=0;h<this.gamepads.length;h++)this.gamepads[h].removeAllListeners()},disconnectAll:function(){for(var h=0;h<this.gamepads.length;h++)this.gamepads[h].pad.connected=!1},refreshPads:function(){var h=navigator.getGamepads();if(!h)this.disconnectAll();else for(var g=this.gamepads,m=0;m<h.length;m++){var x=h[m];if(x){var w=x.id,C=x.index,E=g[C];if(E)E.id!==w?(E.destroy(),g[C]=new u(this,x)):E.update(x);else{var T=new u(this,x);g[C]=T,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=T):this._pad3=T:this._pad2=T:this._pad1=T}}}},getAll:function(){for(var h=[],g=this.gamepads,m=0;m<g.length;m++)g[m]&&h.push(g[m]);return h},getPad:function(h){for(var g=this.gamepads,m=0;m<g.length;m++)if(g[m]&&g[m].index===h)return g[m]},update:function(){if(this.enabled){this.refreshPads();var h=this.queue.length;if(h!==0)for(var g=this.queue.splice(0,h),m=0;m<h;m++){var x=g[m],w=this.getPad(x.gamepad.index);x.type==="gamepadconnected"?this.emit(c.CONNECTED,w,x):x.type==="gamepaddisconnected"&&this.emit(c.DISCONNECTED,w,x)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var h=0;h<this.gamepads.length;h++)this.gamepads[h]&&this.gamepads[h].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});a.register("GamepadPlugin",p,"gamepad","gamepad","inputGamepad"),s.exports=p}),89651:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}}),65294:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}}),90089:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}}),64894:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={DUALSHOCK_4:r(65294),SNES_USB:r(89651),XBOX_360:r(90089)}}),46008:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="down"}),7629:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="up"}),42206:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="connected"}),86544:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="disconnected"}),94784:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="down"}),14325:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="up"}),92734:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={BUTTON_DOWN:r(46008),BUTTON_UP:r(7629),CONNECTED:r(42206),DISCONNECTED:r(86544),GAMEPAD_BUTTON_DOWN:r(94784),GAMEPAD_BUTTON_UP:r(14325)}}),48646:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Axis:r(97421),Button:r(28884),Events:r(92734),Gamepad:r(99125),GamepadPlugin:r(56654),Configs:r(64894)}}),14350:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(93301),v=r(79291),c={CreatePixelPerfectHandler:r(84409),CreateInteractiveObject:r(74457),Events:r(8214),Gamepad:r(48646),InputManager:r(7003),InputPlugin:r(48205),InputPluginCache:r(89639),Keyboard:r(51442),Mouse:r(87078),Pointer:r(42515),Touch:r(95618)};c=v(!1,c,o),s.exports=c}),78970:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(72905),v=r(83419),c=r(8443),u=r(8214),l=r(46032),a=r(29747),d=new v({initialize:function(h){this.manager=h,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=a,this.onKeyUp=a,h.events.once(u.MANAGER_BOOT,this.boot,this)},boot:function(){var p=this.manager.config;this.enabled=p.inputKeyboard,this.target=p.inputKeyboardEventTarget,this.addCapture(p.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(c.POST_STEP,this.postUpdate,this)},startListeners:function(){var p=this;this.onKeyDown=function(g){if(!(g.defaultPrevented||!p.enabled||!p.manager)){p.queue.push(g),p.manager.events.emit(u.MANAGER_PROCESS);var m=g.altKey||g.ctrlKey||g.shiftKey||g.metaKey;p.preventDefault&&!m&&p.captures.indexOf(g.keyCode)>-1&&g.preventDefault()}},this.onKeyUp=function(g){if(!(g.defaultPrevented||!p.enabled||!p.manager)){p.queue.push(g),p.manager.events.emit(u.MANAGER_PROCESS);var m=g.altKey||g.ctrlKey||g.shiftKey||g.metaKey;p.preventDefault&&!m&&p.captures.indexOf(g.keyCode)>-1&&g.preventDefault()}};var h=this.target;h&&(h.addEventListener("keydown",this.onKeyDown,!1),h.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var p=this.target;p.removeEventListener("keydown",this.onKeyDown,!1),p.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(p){typeof p=="string"&&(p=p.split(",")),Array.isArray(p)||(p=[p]);for(var h=this.captures,g=0;g<p.length;g++){var m=p[g];typeof m=="string"&&(m=l[m.trim().toUpperCase()]),h.indexOf(m)===-1&&h.push(m)}this.preventDefault=h.length>0},removeCapture:function(p){typeof p=="string"&&(p=p.split(",")),Array.isArray(p)||(p=[p]);for(var h=this.captures,g=0;g<p.length;g++){var m=p[g];typeof m=="string"&&(m=l[m.toUpperCase()]),o(h,m)}this.preventDefault=h.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(c.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});s.exports=d}),28846:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(50792),c=r(95922),u=r(8443),l=r(35154),a=r(8214),d=r(89639),p=r(30472),h=r(46032),g=r(87960),m=r(74600),x=r(44594),w=r(56583),C=new o({Extends:v,initialize:function(T){v.call(this),this.game=T.systems.game,this.scene=T.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=T,this.manager=T.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,T.pluginEvents.once(a.BOOT,this.boot,this),T.pluginEvents.on(a.START,this.start,this)},boot:function(){var E=this.settings.input;this.enabled=l(E,"keyboard",!0);var T=l(E,"keyboard.capture",null);T&&this.addCaptures(T),this.sceneInputPlugin.pluginEvents.once(a.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(a.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(a.SHUTDOWN,this.shutdown,this),this.game.events.on(u.BLUR,this.resetKeys,this),this.scene.sys.events.on(x.PAUSE,this.resetKeys,this),this.scene.sys.events.on(x.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(E){return this.manager.addCapture(E),this},removeCapture:function(E){return this.manager.removeCapture(E),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:h.UP,down:h.DOWN,left:h.LEFT,right:h.RIGHT,space:h.SPACE,shift:h.SHIFT})},addKeys:function(E,T,S){T===void 0&&(T=!0),S===void 0&&(S=!1);var A={};if(typeof E=="string"){E=E.split(",");for(var P=0;P<E.length;P++){var R=E[P].trim();R&&(A[R]=this.addKey(R,T,S))}}else for(var L in E)A[L]=this.addKey(E[L],T,S);return A},addKey:function(E,T,S){T===void 0&&(T=!0),S===void 0&&(S=!1);var A=this.keys;if(E instanceof p){var P=A.indexOf(E);return P>-1?A[P]=E:A[E.keyCode]=E,T&&this.addCapture(E.keyCode),E.setEmitOnRepeat(S),E}return typeof E=="string"&&(E=h[E.toUpperCase()]),A[E]||(A[E]=new p(this,E),T&&this.addCapture(E),A[E].setEmitOnRepeat(S)),A[E]},removeKey:function(E,T,S){T===void 0&&(T=!1),S===void 0&&(S=!1);var A=this.keys,P;if(E instanceof p){var R=A.indexOf(E);R>-1&&(P=this.keys[R],this.keys[R]=void 0)}else typeof E=="string"&&(E=h[E.toUpperCase()]);return A[E]&&(P=A[E],A[E]=void 0),P&&(P.plugin=null,S&&this.removeCapture(P.keyCode),T&&P.destroy()),this},removeAllKeys:function(E,T){E===void 0&&(E=!1),T===void 0&&(T=!1);for(var S=this.keys,A=0;A<S.length;A++){var P=S[A];P&&(S[A]=void 0,T&&this.removeCapture(P.keyCode),E&&P.destroy())}return this},createCombo:function(E,T){return new g(this,E,T)},checkDown:function(E,T){if(T===void 0&&(T=0),this.enabled&&E.isDown){var S=w(this.time-E.timeDown,T);if(S>E._tick)return E._tick=S,!0}return!1},update:function(){var E=this.manager.queue,T=E.length;if(!(!this.isActive()||T===0))for(var S=this.keys,A=0;A<T;A++){var P=E[A],R=P.keyCode,L=S[R],D=!1;P.cancelled===void 0&&(P.cancelled=0,P.stopImmediatePropagation=function(){P.cancelled=1},P.stopPropagation=function(){P.cancelled=-1}),P.cancelled!==-1&&(R===this.prevCode&&P.timeStamp===this.prevTime&&P.type===this.prevType||(this.prevCode=R,this.prevTime=P.timeStamp,this.prevType=P.type,P.type==="keydown"?(L&&(D=L.isDown,L.onDown(P)),!P.cancelled&&(!L||!D)&&(m[R]&&this.emit(c.KEY_DOWN+m[R],P),P.cancelled||this.emit(c.ANY_KEY_DOWN,P))):(L&&L.onUp(P),P.cancelled||(m[R]&&this.emit(c.KEY_UP+m[R],P),P.cancelled||this.emit(c.ANY_KEY_UP,P))),P.cancelled===1&&(P.cancelled=0)))}},resetKeys:function(){for(var E=this.keys,T=0;T<E.length;T++)E[T]&&E[T].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(a.MANAGER_PROCESS,this.update,this),this.game.events.off(u.BLUR,this.resetKeys),this.scene.sys.events.off(x.PAUSE,this.resetKeys,this),this.scene.sys.events.off(x.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var E=this.keys,T=0;T<E.length;T++)E[T]&&E[T].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});d.register("KeyboardPlugin",C,"keyboard","keyboard","inputKeyboard"),s.exports=C}),66970:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return o.timeLastMatched=r.timeStamp,o.index++,o.index===o.size?!0:(o.current=o.keyCodes[o.index],!1)};s.exports=y}),87960:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(95922),c=r(95540),u=r(68769),l=r(92803),a=new o({initialize:function(p,h,g){if(g===void 0&&(g={}),h.length<2)return!1;this.manager=p,this.enabled=!0,this.keyCodes=[];for(var m=0;m<h.length;m++){var x=h[m];typeof x=="string"?this.keyCodes.push(x.toUpperCase().charCodeAt(0)):typeof x=="number"?this.keyCodes.push(x):x.hasOwnProperty("keyCode")&&this.keyCodes.push(x.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=c(g,"resetOnWrongKey",!0),this.maxKeyDelay=c(g,"maxKeyDelay",0),this.resetOnMatch=c(g,"resetOnMatch",!1),this.deleteOnMatch=c(g,"deleteOnMatch",!1);var w=this,C=function(E){if(!(w.matched||!w.enabled)){var T=u(E,w);T&&(w.manager.emit(v.COMBO_MATCH,w,E),w.resetOnMatch?l(w):w.deleteOnMatch&&w.destroy())}};this.onKeyDown=C,this.manager.on(v.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(v.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});s.exports=a}),68769:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66970),v=function(c,u){if(u.matched)return!0;var l=!1,a=!1;if(c.keyCode===u.current)if(u.index>0&&u.maxKeyDelay>0){var d=u.timeLastMatched+u.maxKeyDelay;c.timeStamp<=d&&(a=!0,l=o(c,u))}else a=!0,l=o(c,u);return!a&&u.resetOnWrongKey&&(u.index=0,u.current=u.keyCodes[0]),l&&(u.timeLastMatched=c.timeStamp,u.matched=!0,u.timeMatched=c.timeStamp),l};s.exports=v}),92803:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r.current=r.keyCodes[0],r.index=0,r.timeLastMatched=0,r.matched=!1,r.timeMatched=0,r};s.exports=y}),92612:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="keydown"}),23345:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="keyup"}),21957:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="keycombomatch"}),44743:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="down"}),3771:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="keydown-"}),46358:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="keyup-"}),75674:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="up"}),95922:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={ANY_KEY_DOWN:r(92612),ANY_KEY_UP:r(23345),COMBO_MATCH:r(21957),DOWN:r(44743),KEY_DOWN:r(3771),KEY_UP:r(46358),UP:r(75674)}}),51442:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Events:r(95922),KeyboardManager:r(78970),KeyboardPlugin:r(28846),Key:r(30472),KeyCodes:r(46032),KeyCombo:r(87960),AdvanceKeyCombo:r(66970),ProcessKeyCombo:r(68769),ResetKeyCombo:r(92803),JustDown:r(90229),JustUp:r(38796),DownDuration:r(37015),UpDuration:r(41170)}}),37015:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){o===void 0&&(o=50);var v=r.plugin.game.loop.time-r.timeDown;return r.isDown&&v<o};s.exports=y}),90229:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r._justDown?(r._justDown=!1,!0):!1};s.exports=y}),38796:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r._justUp?(r._justUp=!1,!0):!1};s.exports=y}),30472:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(50792),c=r(95922),u=new o({Extends:v,initialize:function(a,d){v.call(this),this.plugin=a,this.keyCode=d,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(l){return this.emitOnRepeat=l,this},onDown:function(l){this.originalEvent=l,this.enabled&&(this.altKey=l.altKey,this.ctrlKey=l.ctrlKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.location=l.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(c.DOWN,this,l):(this.isDown=!0,this.isUp=!1,this.timeDown=l.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(c.DOWN,this,l)))},onUp:function(l){this.originalEvent=l,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=l.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(c.UP,this,l))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});s.exports=u}),46032:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};s.exports=y}),74600:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(46032),v={};for(var c in o)v[o[c]]=c;s.exports=v}),41170:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){o===void 0&&(o=50);var v=r.plugin.game.loop.time-r.timeUp;return r.isUp&&v<o};s.exports=y}),85098:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(89357),c=r(8214),u=r(29747),l=new o({initialize:function(d){this.manager=d,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=u,this.onMouseDown=u,this.onMouseUp=u,this.onMouseDownWindow=u,this.onMouseUpWindow=u,this.onMouseOver=u,this.onMouseOut=u,this.onMouseWheel=u,this.pointerLockChange=u,this.isTop=!0,d.events.once(c.MANAGER_BOOT,this.boot,this)},boot:function(){var a=this.manager.config;this.enabled=a.inputMouse,this.target=a.inputMouseEventTarget,this.passive=a.inputMousePassive,this.preventDefaultDown=a.inputMousePreventDefaultDown,this.preventDefaultUp=a.inputMousePreventDefaultUp,this.preventDefaultMove=a.inputMousePreventDefaultMove,this.preventDefaultWheel=a.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,a.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(a){return a.preventDefault(),!1}),this},requestPointerLock:function(){if(v.pointerLock){var a=this.target;a.requestPointerLock=a.requestPointerLock||a.mozRequestPointerLock||a.webkitRequestPointerLock,a.requestPointerLock()}},releasePointerLock:function(){v.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var a=this.target;if(a){var d=this,p=this.manager,h=p.canvas,g=window&&window.focus&&p.game.config.autoFocus;this.onMouseMove=function(x){!x.defaultPrevented&&d.enabled&&p&&p.enabled&&(p.onMouseMove(x),d.preventDefaultMove&&x.preventDefault())},this.onMouseDown=function(x){g&&window.focus(),!x.defaultPrevented&&d.enabled&&p&&p.enabled&&(p.onMouseDown(x),d.preventDefaultDown&&x.target===h&&x.preventDefault())},this.onMouseDownWindow=function(x){x.sourceCapabilities&&x.sourceCapabilities.firesTouchEvents||!x.defaultPrevented&&d.enabled&&p&&p.enabled&&x.target!==h&&p.onMouseDown(x)},this.onMouseUp=function(x){!x.defaultPrevented&&d.enabled&&p&&p.enabled&&(p.onMouseUp(x),d.preventDefaultUp&&x.target===h&&x.preventDefault())},this.onMouseUpWindow=function(x){x.sourceCapabilities&&x.sourceCapabilities.firesTouchEvents||!x.defaultPrevented&&d.enabled&&p&&p.enabled&&x.target!==h&&p.onMouseUp(x)},this.onMouseOver=function(x){!x.defaultPrevented&&d.enabled&&p&&p.enabled&&p.setCanvasOver(x)},this.onMouseOut=function(x){!x.defaultPrevented&&d.enabled&&p&&p.enabled&&p.setCanvasOut(x)},this.onMouseWheel=function(x){!x.defaultPrevented&&d.enabled&&p&&p.enabled&&p.onMouseWheel(x),d.preventDefaultWheel&&x.target===h&&x.preventDefault()};var m={passive:!0};if(a.addEventListener("mousemove",this.onMouseMove),a.addEventListener("mousedown",this.onMouseDown),a.addEventListener("mouseup",this.onMouseUp),a.addEventListener("mouseover",this.onMouseOver,m),a.addEventListener("mouseout",this.onMouseOut,m),this.preventDefaultWheel?a.addEventListener("wheel",this.onMouseWheel,{passive:!1}):a.addEventListener("wheel",this.onMouseWheel,m),window&&p.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,m),window.top.addEventListener("mouseup",this.onMouseUpWindow,m)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,m),window.addEventListener("mouseup",this.onMouseUpWindow,m),this.isTop=!1}v.pointerLock&&(this.pointerLockChange=function(x){var w=d.target;d.locked=document.pointerLockElement===w||document.mozPointerLockElement===w||document.webkitPointerLockElement===w,p.onPointerLockChange(x)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var a=this.target;a.removeEventListener("mousemove",this.onMouseMove),a.removeEventListener("mousedown",this.onMouseDown),a.removeEventListener("mouseup",this.onMouseUp),a.removeEventListener("mouseover",this.onMouseOver),a.removeEventListener("mouseout",this.onMouseOut),window&&(a=this.isTop?window.top:window,a.removeEventListener("mousedown",this.onMouseDownWindow),a.removeEventListener("mouseup",this.onMouseUpWindow)),v.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});s.exports=l}),87078:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={MouseManager:r(85098)}}),36210:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(8214),c=r(29747),u=new o({initialize:function(a){this.manager=a,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=c,this.onTouchStartWindow=c,this.onTouchMove=c,this.onTouchEnd=c,this.onTouchEndWindow=c,this.onTouchCancel=c,this.onTouchCancelWindow=c,this.isTop=!0,a.events.once(v.MANAGER_BOOT,this.boot,this)},boot:function(){var l=this.manager.config;this.enabled=l.inputTouch,this.target=l.inputTouchEventTarget,this.capture=l.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,l.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(l){return l.preventDefault(),!1}),this},startListeners:function(){var l=this.target;if(l){var a=this,d=this.manager,p=d.canvas,h=window&&window.focus&&d.game.config.autoFocus;this.onTouchMove=function(w){!w.defaultPrevented&&a.enabled&&d&&d.enabled&&(d.onTouchMove(w),a.capture&&w.cancelable&&w.preventDefault())},this.onTouchStart=function(w){h&&window.focus(),!w.defaultPrevented&&a.enabled&&d&&d.enabled&&(d.onTouchStart(w),a.capture&&w.cancelable&&w.target===p&&w.preventDefault())},this.onTouchStartWindow=function(w){!w.defaultPrevented&&a.enabled&&d&&d.enabled&&w.target!==p&&d.onTouchStart(w)},this.onTouchEnd=function(w){!w.defaultPrevented&&a.enabled&&d&&d.enabled&&(d.onTouchEnd(w),a.capture&&w.cancelable&&w.target===p&&w.preventDefault())},this.onTouchEndWindow=function(w){!w.defaultPrevented&&a.enabled&&d&&d.enabled&&w.target!==p&&d.onTouchEnd(w)},this.onTouchCancel=function(w){!w.defaultPrevented&&a.enabled&&d&&d.enabled&&(d.onTouchCancel(w),a.capture&&w.preventDefault())},this.onTouchCancelWindow=function(w){!w.defaultPrevented&&a.enabled&&d&&d.enabled&&d.onTouchCancel(w)};var g=this.capture,m={passive:!0},x={passive:!1};if(l.addEventListener("touchstart",this.onTouchStart,g?x:m),l.addEventListener("touchmove",this.onTouchMove,g?x:m),l.addEventListener("touchend",this.onTouchEnd,g?x:m),l.addEventListener("touchcancel",this.onTouchCancel,g?x:m),window&&d.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,x),window.top.addEventListener("touchend",this.onTouchEndWindow,x),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,x)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,x),window.addEventListener("touchend",this.onTouchEndWindow,x),window.addEventListener("touchcancel",this.onTouchCancelWindow,x),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var l=this.target;l.removeEventListener("touchstart",this.onTouchStart),l.removeEventListener("touchmove",this.onTouchMove),l.removeEventListener("touchend",this.onTouchEnd),l.removeEventListener("touchcancel",this.onTouchCancel),window&&(l=this.isTop?window.top:window,l.removeEventListener("touchstart",this.onTouchStartWindow),l.removeEventListener("touchend",this.onTouchEndWindow),l.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});s.exports=u}),95618:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={TouchManager:r(36210)}}),41299:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(23906),c=r(54899),u=r(95540),l=r(98356),a=r(3374),d=r(84376),p=r(92638),h=new o({initialize:function(m,x){if(this.loader=m,this.cache=u(x,"cache",!1),this.type=u(x,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=u(x,"key",!1);var w=this.key;if(m.prefix&&m.prefix!==""&&(this.key=m.prefix+w),!this.key)throw new Error("Invalid File key: "+this.key);var C=u(x,"url");C===void 0?C=m.path+w+"."+u(x,"extension",""):typeof C=="string"&&!C.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(C=m.path+C),this.url=C,this.src="",this.xhrSettings=p(u(x,"responseType",void 0)),u(x,"xhrSettings",!1)&&(this.xhrSettings=a(this.xhrSettings,u(x,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?v.FILE_POPULATED:v.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=u(x,"config",{}),this.multiFile,this.linkFile,this.base64=typeof C=="string"&&C.indexOf("data:")===0,this.retryAttempts=u(x,"maxRetries",m.maxRetries)},setLink:function(g){this.linkFile=g,g.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){if(this.state===v.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=v.FILE_LOADING,this.src=l(this,this.loader.baseURL),!this.src)throw new Error("URL Error in File: "+this.key+" from: "+this.url);this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=d(this,this.loader.xhr)}},onLoad:function(g,m){var x=g.responseURL&&this.loader.localSchemes.some(function(E){return g.responseURL.indexOf(E)===0}),w=x&&m.target.status===0,C=!(m.target&&m.target.status!==200)||w;g.readyState===4&&g.status>=400&&g.status<=599&&(C=!1),this.state=v.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,C)},onBase64Load:function(g){this.xhrLoader=g,this.state=v.FILE_LOADED,this.percentComplete=1,this.loader.emit(c.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},onProgress:function(g){g.lengthComputable&&(this.bytesLoaded=g.loaded,this.bytesTotal=g.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(c.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=v.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=v.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=v.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(g){if(this.state!==v.FILE_PENDING_DESTROY){g===void 0&&(g=this.data);var m=this.key,x=this.type;this.loader.emit(c.FILE_COMPLETE,m,x,g),this.loader.emit(c.FILE_KEY_COMPLETE+x+"-"+m,m,x,g),this.loader.flagForRemoval(this),this.state=v.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});h.createObjectURL=function(g,m,x){if(typeof URL=="function")g.src=URL.createObjectURL(m);else{var w=new FileReader;w.onload=function(){g.removeAttribute("crossOrigin"),g.src="data:"+(m.type||x)+";base64,"+w.result.split(",")[1]},w.onerror=g.onerror,w.readAsDataURL(m)}},h.revokeObjectURL=function(g){typeof URL=="function"&&URL.revokeObjectURL(g.src)},s.exports=h}),74099:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={},r={install:function(o){for(var v in y)o[v]=y[v]},register:function(o,v){y[o]=v},destroy:function(){y={}}};s.exports=r}),98356:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return r.url?r.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?r.url:o+r.url:!1};s.exports=y}),74261:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(23906),c=r(35072),u=r(50792),l=r(54899),a=r(74099),d=r(95540),p=r(35154),h=r(41212),g=r(37277),m=r(44594),x=r(92638),w=new o({Extends:u,initialize:function(E){u.call(this);var T=E.sys.game.config,S=E.sys.settings.loader;this.scene=E,this.systems=E.sys,this.cacheManager=E.sys.cache,this.textureManager=E.sys.textures,this.sceneManager=E.sys.game.scene,a.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(d(S,"baseURL",T.loaderBaseURL)),this.setPath(d(S,"path",T.loaderPath)),this.setPrefix(d(S,"prefix",T.loaderPrefix)),this.maxParallelDownloads=d(S,"maxParallelDownloads",T.loaderMaxParallelDownloads),this.xhr=x(d(S,"responseType",T.loaderResponseType),d(S,"async",T.loaderAsync),d(S,"user",T.loaderUser),d(S,"password",T.loaderPassword),d(S,"timeout",T.loaderTimeout),d(S,"withCredentials",T.loaderWithCredentials)),this.crossOrigin=d(S,"crossOrigin",T.loaderCrossOrigin),this.imageLoadType=d(S,"imageLoadType",T.loaderImageLoadType),this.localSchemes=d(S,"localScheme",T.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new c,this.inflight=new c,this.queue=new c,this._deleteQueue=new c,this.totalFailed=0,this.totalComplete=0,this.state=v.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=d(S,"maxRetries",T.loaderMaxRetries),E.sys.events.once(m.BOOT,this.boot,this),E.sys.events.on(m.START,this.pluginStart,this)},boot:function(){this.systems.events.once(m.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(m.SHUTDOWN,this.shutdown,this)},setBaseURL:function(C){return C===void 0&&(C=""),C!==""&&C.substr(-1)!=="/"&&(C=C.concat("/")),this.baseURL=C,this},setPath:function(C){return C===void 0&&(C=""),C!==""&&C.substr(-1)!=="/"&&(C=C.concat("/")),this.path=C,this},setPrefix:function(C){return C===void 0&&(C=""),this.prefix=C,this},setCORS:function(C){return this.crossOrigin=C,this},addFile:function(C){Array.isArray(C)||(C=[C]);for(var E=0;E<C.length;E++){var T=C[E];this.keyExists(T)||(this.list.set(T),this.emit(l.ADD,T.key,T.type,this,T),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(C){var E=C.hasCacheConflict();return E||this.list.iterate(function(T){if(T.type===C.type&&T.key===C.key)return E=!0,!1}),!E&&this.isLoading()&&(this.inflight.iterate(function(T){if(T.type===C.type&&T.key===C.key)return E=!0,!1}),this.queue.iterate(function(T){if(T.type===C.type&&T.key===C.key)return E=!0,!1})),E},addPack:function(C,E){if(typeof E=="string"){var T=p(C,E);T&&(C={packKey:T})}var S=0,A=this.baseURL,P=this.path,R=this.prefix;for(var L in C)if(Object.prototype.hasOwnProperty.call(C,L)){var D=C[L],F=d(D,"baseURL",A),$=d(D,"path",P),N=d(D,"prefix",R),k=d(D,"files",null),j=d(D,"defaultType","void");if(Array.isArray(k)){this.setBaseURL(F),this.setPath($),this.setPrefix(N);for(var W=0;W<k.length;W++){var G=k[W],K=G.hasOwnProperty("type")?G.type:j;this[K]&&(this[K](G),S++)}}}return this.setBaseURL(A),this.setPath(P),this.setPrefix(R),S>0},removePack:function(C,E){var T=this.systems.anims,S=this.cacheManager,A=this.textureManager,P={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"},R;if(h(C))R=C;else if(R=S.json.get(C),!R){console.warn("Asset Pack not found in JSON cache:",C);return}E&&(R={_:R[E]});for(var L in R){var D=R[L],F=d(D,"prefix",""),$=d(D,"files"),N=d(D,"defaultType");if(Array.isArray($))for(var k=0;k<$.length;k++){var j=$[k],W=j.hasOwnProperty("type")?j.type:N;if(!W){console.warn("No type:",j);continue}var G=F+j.key;if(W==="animation"&&T.remove(G),!((W==="aseprite"||W==="atlas"||W==="atlasXML"||W==="htmlTexture"||W==="image"||W==="multiatlas"||W==="spritesheet"||W==="svg"||W==="texture"||W==="unityAtlas")&&(A.remove(G),!P[W]))){if(W==="pack"){this.removePack(G,j.dataKey);continue}if(W==="spine"){var K=S.custom.spine.get(G);if(!K)continue;var z=K.prefix===void 0?"":K.prefix;S.custom.spine.remove(G);var X=S.custom.spineTextures.get(G);if(!X)continue;S.custom.spineTextures.remove(G);for(var U=0;U<X.pages.length;U++){var Z=X.pages[U],V=z+Z.name,J=G+":"+V;A.exists(J)?A.remove(J):A.remove(V)}}var _=P[W];if(_!==null){if(!_){console.warn("Unknown type:",W);continue}var ee=S[_];ee.remove(G)}}}}},isLoading:function(){return this.state===v.LOADER_LOADING||this.state===v.LOADER_PROCESSING},isReady:function(){return this.state===v.LOADER_IDLE||this.state===v.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(l.START,this),this.list.size===0?this.loadComplete():(this.state=v.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(m.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(l.PROGRESS,this.progress)},update:function(){this.state===v.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(C){if((C.state===v.FILE_POPULATED||C.state===v.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(C),this.list.delete(C),C.crossOrigin||(C.crossOrigin=this.crossOrigin),C.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(C,E){this.inflight&&(this.inflight.delete(C),this.updateProgress(),E?(this.totalComplete++,this.queue.set(C),this.emit(l.FILE_LOAD,C),C.onProcess()):(this.totalFailed++,this._deleteQueue.set(C),this.emit(l.FILE_LOAD_ERROR,C),this.fileProcessComplete(C)))},fileProcessComplete:function(C){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(C.state===v.FILE_ERRORED?C.multiFile&&C.multiFile.onFileFailed(C):C.state===v.FILE_COMPLETE&&(C.multiFile?C.multiFile.isReadyToProcess()&&(C.multiFile.addToCache(),C.multiFile.pendingDestroy()):(C.addToCache(),C.pendingDestroy())),this.queue.delete(C),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(l.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=v.LOADER_COMPLETE,this.systems.events.off(m.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(l.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(C){this._deleteQueue.set(C)},saveJSON:function(C,E){return this.save(JSON.stringify(C),E)},save:function(C,E,T){E===void 0&&(E="file.json"),T===void 0&&(T="application/json");var S=new Blob([C],{type:T}),A=URL.createObjectURL(S),P=document.createElement("a");return P.download=E,P.textContent="Download "+E,P.href=A,P.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var C=this.systems.game.config,E=this.systems.settings.loader;this.setBaseURL(d(E,"baseURL",C.loaderBaseURL)),this.setPath(d(E,"path",C.loaderPath)),this.setPrefix(d(E,"prefix",C.loaderPrefix)),this.state=v.LOADER_IDLE},shutdown:function(){this.reset(),this.state=v.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(m.UPDATE,this.update,this),this.systems.events.off(m.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=v.LOADER_DESTROYED,this.systems.events.off(m.UPDATE,this.update,this),this.systems.events.off(m.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});g.register("Loader",w,"load"),s.exports=w}),3374:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(79291),v=r(92638),c=function(u,l){var a=u===void 0?v():o({},u);if(l)for(var d in l)l[d]!==void 0&&(a[d]=l[d]);return a};s.exports=c}),26430:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(23906),c=r(54899),u=new o({initialize:function(a,d,p,h){var g=[];h.forEach(function(w){w&&g.push(w)}),this.loader=a,this.type=d,this.key=p;var m=this.key;a.prefix&&a.prefix!==""&&(this.key=a.prefix+m),this.multiKeyIndex=a.multiKeyIndex++,this.files=g,this.state=v.FILE_PENDING,this.complete=!1,this.pending=g.length,this.failed=0,this.config={},this.baseURL=a.baseURL,this.path=a.path,this.prefix=a.prefix;for(var x=0;x<g.length;x++)g[x].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(l){return this.files.push(l),l.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(l){var a=this.files.indexOf(l);a!==-1&&this.pending--},onFileFailed:function(l){var a=this.files.indexOf(l);a!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,l.type,l.key))},pendingDestroy:function(){if(this.state!==v.FILE_PENDING_DESTROY){var l=this.key,a=this.type;this.loader.emit(c.FILE_COMPLETE,l,a),this.loader.emit(c.FILE_KEY_COMPLETE+a+"-"+l,l,a),this.loader.flagForRemoval(this);for(var d=0;d<this.files.length;d++)this.files[d].pendingDestroy();this.state=v.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});s.exports=u}),84376:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(3374),v=function(c,u){var l=o(u,c.xhrSettings);if(c.base64){var a=c.url.split(";base64,").pop()||c.url.split(",").pop(),d;c.xhrSettings.responseType==="arraybuffer"?d={response:Uint8Array.from(atob(a),function(g){return g.charCodeAt(0)}).buffer}:d={responseText:atob(a)},c.onBase64Load(d);return}var p=new XMLHttpRequest;if(p.open("GET",c.src,l.async,l.user,l.password),p.responseType=c.xhrSettings.responseType,p.timeout=l.timeout,l.headers)for(var h in l.headers)p.setRequestHeader(h,l.headers[h]);return l.header&&l.headerValue&&p.setRequestHeader(l.header,l.headerValue),l.requestedWith&&p.setRequestHeader("X-Requested-With",l.requestedWith),l.overrideMimeType&&p.overrideMimeType(l.overrideMimeType),l.withCredentials&&(p.withCredentials=!0),p.onload=c.onLoad.bind(c,p),p.onerror=c.onError.bind(c,p),p.onprogress=c.onProgress.bind(c),p.ontimeout=c.onError.bind(c,p),p.send(),p};s.exports=v}),92638:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c,u,l){return r===void 0&&(r=""),o===void 0&&(o=!0),v===void 0&&(v=""),c===void 0&&(c=""),u===void 0&&(u=0),l===void 0&&(l=!1),{responseType:r,async:o,user:v,password:c,timeout:u,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:l}};s.exports=y}),23906:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};s.exports=y}),42155:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="addfile"}),38991:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="complete"}),27540:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="filecomplete"}),87464:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="filecomplete-"}),94486:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="loaderror"}),13035:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="load"}),38144:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="fileprogress"}),97520:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="postprocess"}),85595:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="progress"}),55680:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="start"}),54899:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={ADD:r(42155),COMPLETE:r(38991),FILE_COMPLETE:r(27540),FILE_KEY_COMPLETE:r(87464),FILE_LOAD_ERROR:r(94486),FILE_LOAD:r(13035),FILE_PROGRESS:r(38144),POST_PROCESS:r(97520),PROGRESS:r(85595),START:r(55680)}}),14135:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(74099),c=r(518),u=r(54899),l=new o({Extends:c,initialize:function(d,p,h,g,m){c.call(this,d,p,h,g,m),this.type="animationJSON"},onProcess:function(){this.loader.once(u.POST_PROCESS,this.onLoadComplete,this),c.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});v.register("animation",function(a,d,p,h){if(Array.isArray(a))for(var g=0;g<a.length;g++)this.addFile(new l(this,a[g]));else this.addFile(new l(this,a,d,h,p));return this}),s.exports=l}),76272:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(74099),c=r(95540),u=r(19550),l=r(41212),a=r(518),d=r(26430),p=new o({Extends:d,initialize:function(g,m,x,w,C,E){var T,S;if(l(m)){var A=m;m=c(A,"key"),T=new u(g,{key:m,url:c(A,"textureURL"),extension:c(A,"textureExtension","png"),normalMap:c(A,"normalMap"),xhrSettings:c(A,"textureXhrSettings")}),S=new a(g,{key:m,url:c(A,"atlasURL"),extension:c(A,"atlasExtension","json"),xhrSettings:c(A,"atlasXhrSettings")})}else T=new u(g,m,x,C),S=new a(g,m,w,E);T.linkFile?d.call(this,g,"atlasjson",m,[T,S,T.linkFile]):d.call(this,g,"atlasjson",m,[T,S])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],g=this.files[1],m=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(h.key,h.data,g.data,m),g.addToCache(),this.complete=!0}}});v.register("aseprite",function(h,g,m,x,w){var C;if(Array.isArray(h))for(var E=0;E<h.length;E++)C=new p(this,h[E]),this.addFile(C.files);else C=new p(this,h,g,m,x,w),this.addFile(C.files);return this}),s.exports=p}),38734:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(74099),c=r(95540),u=r(19550),l=r(41212),a=r(518),d=r(26430),p=new o({Extends:d,initialize:function(g,m,x,w,C,E){var T,S;if(l(m)){var A=m;m=c(A,"key"),T=new u(g,{key:m,url:c(A,"textureURL"),extension:c(A,"textureExtension","png"),normalMap:c(A,"normalMap"),xhrSettings:c(A,"textureXhrSettings")}),S=new a(g,{key:m,url:c(A,"atlasURL"),extension:c(A,"atlasExtension","json"),xhrSettings:c(A,"atlasXhrSettings")})}else T=new u(g,m,x,C),S=new a(g,m,w,E);T.linkFile?d.call(this,g,"atlasjson",m,[T,S,T.linkFile]):d.call(this,g,"atlasjson",m,[T,S])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],g=this.files[1],m=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(h.key,h.data,g.data,m),this.complete=!0}}});v.register("atlas",function(h,g,m,x,w){var C;if(Array.isArray(h))for(var E=0;E<h.length;E++)C=new p(this,h[E]),this.addFile(C.files);else C=new p(this,h,g,m,x,w),this.addFile(C.files);return this}),s.exports=p}),74599:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(74099),c=r(95540),u=r(19550),l=r(41212),a=r(26430),d=r(57318),p=new o({Extends:a,initialize:function(g,m,x,w,C,E){var T,S;if(l(m)){var A=m;m=c(A,"key"),T=new u(g,{key:m,url:c(A,"textureURL"),extension:c(A,"textureExtension","png"),normalMap:c(A,"normalMap"),xhrSettings:c(A,"textureXhrSettings")}),S=new d(g,{key:m,url:c(A,"atlasURL"),extension:c(A,"atlasExtension","xml"),xhrSettings:c(A,"atlasXhrSettings")})}else T=new u(g,m,x,C),S=new d(g,m,w,E);T.linkFile?a.call(this,g,"atlasxml",m,[T,S,T.linkFile]):a.call(this,g,"atlasxml",m,[T,S])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],g=this.files[1],m=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(h.key,h.data,g.data,m),this.complete=!0}}});v.register("atlasXML",function(h,g,m,x,w){var C;if(Array.isArray(h))for(var E=0;E<h.length;E++)C=new p(this,h[E]),this.addFile(C.files);else C=new p(this,h,g,m,x,w),this.addFile(C.files);return this}),s.exports=p}),21097:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(23906),c=r(41299),u=r(74099),l=r(95540),a=r(89749),d=r(41212),p=new o({Extends:c,initialize:function(g,m,x,w,C){if(d(m)){var E=m;m=l(E,"key"),w=l(E,"xhrSettings"),C=l(E,"context",C)}var T={type:"audio",cache:g.cacheManager.audio,extension:x.type,responseType:"arraybuffer",key:m,url:x.url,xhrSettings:w,config:{context:C}};c.call(this,g,T)},onProcess:function(){this.state=v.FILE_PROCESSING;var h=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(g){h.data=g,h.onProcessComplete()},function(g){console.error("Error decoding audio: "+h.key+" - ",g?g.message:null),h.onProcessError()}),this.config.context=null}});p.create=function(h,g,m,x,w){var C=h.systems.game,E=C.config.audio,T=C.device.audio;d(g)&&(m=l(g,"url",[]),x=l(g,"config",{}));var S=p.getAudioURL(C,m);return S?T.webAudio&&!E.disableWebAudio?new p(h,g,S,w,C.sound.context):new a(h,g,S,x):(console.warn('No audio URLs for "%s" can play on this device',g),null)},p.getAudioURL=function(h,g){Array.isArray(g)||(g=[g]);for(var m=0;m<g.length;m++){var x=l(g[m],"url",g[m]);if(x.indexOf("blob:")===0||x.indexOf("data:")===0)return{url:x,type:""};var w=x.match(/\.([a-zA-Z0-9]+)($|\?)/);if(w=l(g[m],"type",w?w[1]:"").toLowerCase(),h.device.audio[w])return{url:x,type:w}}return null},u.register("audio",function(h,g,m,x){var w=this.systems.game,C=w.config.audio,E=w.device.audio;if(C.noAudio||!E.webAudio&&!E.audioData)return this;var T;if(Array.isArray(h))for(var S=0;S<h.length;S++)T=p.create(this,h[S]),T&&this.addFile(T);else T=p.create(this,h,g,m,x),T&&this.addFile(T);return this}),s.exports=p}),89524:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(21097),v=r(83419),c=r(74099),u=r(95540),l=r(41212),a=r(518),d=r(26430),p=new v({Extends:d,initialize:function(g,m,x,w,C,E,T){if(l(m)){var S=m;m=u(S,"key"),x=u(S,"jsonURL"),w=u(S,"audioURL"),C=u(S,"audioConfig"),E=u(S,"audioXhrSettings"),T=u(S,"jsonXhrSettings")}var A;if(!w)A=new a(g,m,x,T),d.call(this,g,"audiosprite",m,[A]),this.config.resourceLoad=!0,this.config.audioConfig=C,this.config.audioXhrSettings=E;else{var P=o.create(g,m,w,C,E);P&&(A=new a(g,m,x,T),d.call(this,g,"audiosprite",m,[P,A]),this.config.resourceLoad=!1)}},onFileComplete:function(h){var g=this.files.indexOf(h);if(g!==-1&&(this.pending--,this.config.resourceLoad&&h.type==="json"&&h.data.hasOwnProperty("resources"))){var m=h.data.resources,x=u(this.config,"audioConfig"),w=u(this.config,"audioXhrSettings"),C=o.create(this.loader,h.key,m,x,w);C&&(this.addToMultiFile(C),this.loader.addFile(C))}},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],g=this.files[1];h.addToCache(),g.addToCache(),this.complete=!0}}});c.register("audioSprite",function(h,g,m,x,w,C){var E=this.systems.game,T=E.config.audio,S=E.device.audio;if(T&&T.noAudio||!S.webAudio&&!S.audioData)return this;var A;if(Array.isArray(h))for(var P=0;P<h.length;P++)A=new p(this,h[P]),A.files&&this.addFile(A.files);else A=new p(this,h,g,m,x,w,C),A.files&&this.addFile(A.files);return this})}),85722:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(23906),c=r(41299),u=r(74099),l=r(95540),a=r(41212),d=new o({Extends:c,initialize:function(h,g,m,x,w){var C="bin";if(a(g)){var E=g;g=l(E,"key"),m=l(E,"url"),x=l(E,"xhrSettings"),C=l(E,"extension",C),w=l(E,"dataType",w)}var T={type:"binary",cache:h.cacheManager.binary,extension:C,responseType:"arraybuffer",key:g,url:m,xhrSettings:x,config:{dataType:w}};c.call(this,h,T)},onProcess:function(){this.state=v.FILE_PROCESSING;var p=this.config.dataType;this.data=p?new p(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});u.register("binary",function(p,h,g,m){if(Array.isArray(p))for(var x=0;x<p.length;x++)this.addFile(new d(this,p[x]));else this.addFile(new d(this,p,h,m,g));return this}),s.exports=d}),97025:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(74099),c=r(95540),u=r(19550),l=r(41212),a=r(26430),d=r(21859),p=r(57318),h=new o({Extends:a,initialize:function(m,x,w,C,E,T){var S,A;if(l(x)){var P=x;x=c(P,"key"),S=new u(m,{key:x,url:c(P,"textureURL"),extension:c(P,"textureExtension","png"),normalMap:c(P,"normalMap"),xhrSettings:c(P,"textureXhrSettings")}),A=new p(m,{key:x,url:c(P,"fontDataURL"),extension:c(P,"fontDataExtension","xml"),xhrSettings:c(P,"fontDataXhrSettings")})}else S=new u(m,x,w,E),A=new p(m,x,C,T);S.linkFile?a.call(this,m,"bitmapfont",x,[S,A,S.linkFile]):a.call(this,m,"bitmapfont",x,[S,A])},addToCache:function(){if(this.isReadyToProcess()){var g=this.files[0],m=this.files[1];g.addToCache();var x=g.cache.get(g.key),w=d(m.data,g.cache.getFrame(g.key),0,0,x);this.loader.cacheManager.bitmapFont.add(g.key,{data:w,texture:g.key,frame:null}),this.complete=!0}}});v.register("bitmapFont",function(g,m,x,w,C){var E;if(Array.isArray(g))for(var T=0;T<g.length;T++)E=new h(this,g[T]),this.addFile(E.files);else E=new h(this,g,m,x,w,C),this.addFile(E.files);return this}),s.exports=h}),16024:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(23906),c=r(41299),u=r(74099),l=r(95540),a=r(41212),d=new o({Extends:c,initialize:function(h,g,m,x){var w="css";if(a(g)){var C=g;g=l(C,"key"),m=l(C,"url"),x=l(C,"xhrSettings"),w=l(C,"extension",w)}var E={type:"script",cache:!1,extension:w,responseType:"text",key:g,url:m,xhrSettings:x};c.call(this,h,E)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});u.register("css",function(p,h,g){if(Array.isArray(p))for(var m=0;m<p.length;m++)this.addFile(new d(this,p[m]));else this.addFile(new d(this,p,h,g));return this}),s.exports=d}),69559:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(38734),v=r(85722),c=r(83419),u=r(74099),l=r(95540),a=r(19550),d=r(41212),p=r(518),h=r(31403),g=r(46975),m=r(59327),x=r(26430),w=r(82038),C=r(55222),E=new c({Extends:x,initialize:function(S,A,P,R){if(P.multiAtlasURL){var L=new p(S,{key:A,url:P.multiAtlasURL,xhrSettings:R,config:P});x.call(this,S,"texture",A,[L])}else{var D=P.textureURL.substr(P.textureURL.length-3);P.type||(P.type=D.toLowerCase()==="ktx"?"KTX":"PVR");var F=new v(S,{key:A,url:P.textureURL,extension:D,xhrSettings:R,config:P});if(P.atlasURL){var $=new p(S,{key:A,url:P.atlasURL,xhrSettings:R,config:P});x.call(this,S,"texture",A,[F,$])}else x.call(this,S,"texture",A,[F])}this.config=P},onFileComplete:function(T){var S=this.files.indexOf(T);if(S!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(T.type==="json"&&T.data.hasOwnProperty("textures")){var A=T.data.textures,P=this.config,R=this.loader,L=R.baseURL,D=R.path,F=R.prefix,$=l(P,"multiBaseURL",this.baseURL),N=l(P,"multiPath",this.path),k=l(P,"prefix",this.prefix),j=l(P,"textureXhrSettings");$&&R.setBaseURL($),N&&R.setPath(N),k&&R.setPrefix(k);for(var W=0;W<A.length;W++){var G=A[W].image,K="CMA"+this.multiKeyIndex+"_"+G,z=new v(R,K,G,j);if(this.addToMultiFile(z),R.addFile(z),A[W].normalMap){var X=new v(R,K,A[W].normalMap,j);X.type="normalMap",z.setLink(X),this.addToMultiFile(X),R.addFile(X)}}R.setBaseURL(L),R.setPath(D),R.setPrefix(F)}}},addToCache:function(){function T($){console.warn('Compressed Texture Invalid: "'+L.key+'". '+$)}if(this.isReadyToProcess()){var S=this.config;if(S.multiAtlasURL)this.addMultiToCache();else{var A=this.loader.systems.renderer,P=this.loader.textureManager,R,L=this.files[0],D=this.files[1];if(S.type==="PVR"?R=w(L.data):S.type==="KTX"&&(R=h(L.data),R||T("KTX file contains unsupported format.")),R&&!C(R)&&(T("Texture dimensions failed verification. Check the texture format specifications for "+S.format+" 0x"+R.internalFormat.toString(16)+"."),R=null),R&&!A.supportsCompressedTexture(S.format,R.internalFormat)&&(T("Texture format "+S.format+" with internal format "+R.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),R=null),R){R.format=A.getCompressedTextureName(S.format,R.internalFormat);var F=D&&D.data?D.data:null;P.addCompressedTexture(L.key,R,F)}}this.complete=!0}},addMultiToCache:function(){for(var T=this.config,S=this.files[0],A=[],P=[],R=[],L=this.loader.systems.renderer,D=this.loader.textureManager,F,$=1;$<this.files.length;$++){var N=this.files[$];if(N.type!=="normalMap")for(var k=N.key.indexOf("_"),j=N.key.substr(k+1),W=N.data,G=0;G<S.data.textures.length;G++){var K=S.data.textures[G];if(K.image===j){T.type==="PVR"?F=w(W):T.type==="KTX"&&(F=h(W)),F&&L.supportsCompressedTexture(T.format,F.internalFormat)&&(F.format=L.getCompressedTextureName(T.format,F.internalFormat),P.push(F),A.push(K),N.linkFile&&R.push(N.linkFile.data));break}}}R.length===0&&(R=void 0),D.addAtlasJSONArray(this.key,P,A,R),this.complete=!0}});u.register("texture",function(T,S,A){var P=this.systems.renderer,R=function(D,F,$,N){var k={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(d(F)){var j=F;F=l(j,"key"),$=l(j,"url"),N=l(j,"xhrSettings")}var W=!1;for(var G in $)if(P.supportsCompressedTexture(G)){var K=$[G];typeof K=="string"?k.textureURL=K:k=g(K,k),k.format=G.toUpperCase(),W=!0;break}if(!W)console.warn("No supported compressed texture format or IMG fallback",F);else if(k.format==="IMG"){var z,X;k.multiAtlasURL?(X=new m(D,F,k.multiAtlasURL,k.multiPath,k.multiBaseURL,N),z=X.files):k.atlasURL?(X=new o(D,F,k.textureURL,k.atlasURL,N),z=X.files):z=new a(D,F,k.textureURL,N),D.addFile(z)}else{var U=new E(D,F,k,N);D.addFile(U.files)}};if(Array.isArray(T))for(var L=0;L<T.length;L++)R(this,T[L]);else R(this,T,S,A);return this}),s.exports=E}),87674:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(23906),c=r(41299),u=r(74099),l=r(95540),a=r(98356),d=r(41212),p=new o({Extends:c,initialize:function(g,m,x,w,C,E){var T="ttf";if(d(m)){var S=m;m=l(S,"key"),x=l(S,"url"),w=l(S,"format","truetype"),C=l(S,"descriptors",null),E=l(S,"xhrSettings"),T=l(S,"extension",T)}else w===void 0&&(w="truetype");var A={type:"font",cache:!1,extension:T,responseType:"text",key:m,url:x,xhrSettings:E};c.call(this,g,A),this.data={format:w,descriptors:C},this.state=v.FILE_POPULATED},onProcess:function(){this.state=v.FILE_PROCESSING,this.src=a(this,this.loader.baseURL);var h,g=this.key,m="url("+this.src+') format("'+this.data.format+'")';this.data.descriptors?h=new FontFace(g,m,this.data.descriptors):h=new FontFace(g,m);var x=this;h.load().then(function(){document.fonts.add(h),document.body.classList.add("fonts-loaded"),x.onProcessComplete()}).catch(function(){console.warn("Font failed to load",m),x.onProcessComplete()})}});u.register("font",function(h,g,m,x,w){if(Array.isArray(h))for(var C=0;C<h.length;C++)this.addFile(new p(this,h[C]));else this.addFile(new p(this,h,g,m,x,w));return this}),s.exports=p}),47931:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(23906),c=r(41299),u=r(74099),l=r(95540),a=r(41212),d=r(73894),p=new o({Extends:c,initialize:function(g,m,x,w,C){var E="glsl";if(a(m)){var T=m;m=l(T,"key"),x=l(T,"url"),w=l(T,"shaderType","fragment"),C=l(T,"xhrSettings"),E=l(T,"extension",E)}else w===void 0&&(w="fragment");var S={type:"glsl",cache:g.cacheManager.shader,extension:E,responseType:"text",key:m,url:x,config:{shaderType:w},xhrSettings:C};c.call(this,g,S)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var h=this.data.split(`
`),g=this.extractBlock(h,0);if(g)for(;g;){var m=this.getShaderName(g.header),x=this.getShaderType(g.header),w=this.getShaderUniforms(g.header),C=g.shader;if(this.cache.has(m)){var E=this.cache.get(m);x==="fragment"?E.fragmentSrc=C:E.vertexSrc=C,E.uniforms||(E.uniforms=w)}else x==="fragment"?this.cache.add(m,new d(m,C,"",w)):this.cache.add(m,new d(m,"",C,w));g=this.extractBlock(h,g.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new d(this.key,this.data)):this.cache.add(this.key,new d(this.key,"",this.data))},getShaderName:function(h){for(var g=0;g<h.length;g++){var m=h[g].trim();if(m.substring(0,5)==="name:")return m.substring(5).trim()}return this.key},getShaderType:function(h){for(var g=0;g<h.length;g++){var m=h[g].trim();if(m.substring(0,5)==="type:")return m.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(h){for(var g={},m=0;m<h.length;m++){var x=h[m].trim();if(x.substring(0,8)==="uniform."){var w=x.indexOf(":");if(w){var C=x.substring(8,w);try{g[C]=JSON.parse(x.substring(w+1))}catch{console.warn("Invalid uniform JSON: "+C)}}}}return g},extractBlock:function(h,g){for(var m=-1,x=-1,w=-1,C=!1,E=!1,T=[],S=[],A=g;A<h.length;A++){var P=h[A].trim();if(P==="---")if(m===-1)m=A,C=!0;else if(C)x=A,C=!1,E=!0;else{E=!1;break}else C?T.push(P):E&&(S.push(P),w=A)}return!C&&x!==-1?{header:T,shader:S.join(`
`),offset:w}:null}});u.register("glsl",function(h,g,m,x){if(Array.isArray(h))for(var w=0;w<h.length;w++)this.addFile(new p(this,h[w]));else this.addFile(new p(this,h,g,m,x));return this}),s.exports=p}),89749:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(54899),c=r(41299),u=r(95540),l=r(98356),a=r(41212),d=new o({Extends:c,initialize:function(h,g,m,x){if(a(g)){var w=g;g=u(w,"key"),x=u(w,"config",x)}var C={type:"audio",cache:h.cacheManager.audio,extension:m.type,key:g,url:m.url,config:x};c.call(this,h,C),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var p=0;p<this.data.length;p++){var h=this.data[p];h.oncanplaythrough=null,h.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(p){var h=p.target;h.oncanplaythrough=null,h.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(v.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var p=this.config&&this.config.instances||1;this.filesTotal=p,this.filesLoaded=0,this.percentComplete=0;for(var h=0;h<p;h++){var g=new Audio;g.dataset||(g.dataset={}),g.dataset.name=this.key+("0"+h).slice(-2),g.dataset.used="false",this.locked?g.dataset.locked="true":(g.dataset.locked="false",g.preload="auto",g.oncanplaythrough=this.onProgress.bind(this),g.onerror=this.onError.bind(this)),this.data.push(g)}for(h=0;h<this.data.length;h++)g=this.data[h],g.src=l(this,this.loader.baseURL),this.locked||g.load();this.locked&&setTimeout(this.onLoad.bind(this))}});s.exports=d}),88470:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(23906),c=r(41299),u=r(74099),l=r(95540),a=r(41212),d=new o({Extends:c,initialize:function(h,g,m,x){var w="html";if(a(g)){var C=g;g=l(C,"key"),m=l(C,"url"),x=l(C,"xhrSettings"),w=l(C,"extension",w)}var E={type:"text",cache:h.cacheManager.html,extension:w,responseType:"text",key:g,url:m,xhrSettings:x};c.call(this,h,E)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});u.register("html",function(p,h,g){if(Array.isArray(p))for(var m=0;m<p.length;m++)this.addFile(new d(this,p[m]));else this.addFile(new d(this,p,h,g));return this}),s.exports=d}),14643:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(23906),c=r(41299),u=r(74099),l=r(95540),a=r(41212),d=new o({Extends:c,initialize:function(h,g,m,x,w,C){x===void 0&&(x=512),w===void 0&&(w=512);var E="html";if(a(g)){var T=g;g=l(T,"key"),m=l(T,"url"),C=l(T,"xhrSettings"),E=l(T,"extension",E),x=l(T,"width",x),w=l(T,"height",w)}var S={type:"html",cache:h.textureManager,extension:E,responseType:"text",key:g,url:m,xhrSettings:C,config:{width:x,height:w}};c.call(this,h,S)},onProcess:function(){this.state=v.FILE_PROCESSING;var p=this.config.width,h=this.config.height,g=[];g.push('<svg width="'+p+'px" height="'+h+'px" viewBox="0 0 '+p+" "+h+'" xmlns="http://www.w3.org/2000/svg">'),g.push('<foreignObject width="100%" height="100%">'),g.push('<body xmlns="http://www.w3.org/1999/xhtml">'),g.push(this.xhrLoader.responseText),g.push("</body>"),g.push("</foreignObject>"),g.push("</svg>");var m=[g.join(`
`)],x=this;try{var w=new window.Blob(m,{type:"image/svg+xml;charset=utf-8"})}catch{x.state=v.FILE_ERRORED,x.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){c.revokeObjectURL(x.data),x.onProcessComplete()},this.data.onerror=function(){c.revokeObjectURL(x.data),x.onProcessError()},c.createObjectURL(this.data,w,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});u.register("htmlTexture",function(p,h,g,m,x){if(Array.isArray(p))for(var w=0;w<p.length;w++)this.addFile(new d(this,p[w]));else this.addFile(new d(this,p,h,g,m,x));return this}),s.exports=d}),19550:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(23906),c=r(41299),u=r(74099),l=r(95540),a=r(41212),d=r(98356),p=new o({Extends:c,initialize:function h(g,m,x,w,C){var E="png",T;if(a(m)){var S=m;m=l(S,"key"),x=l(S,"url"),T=l(S,"normalMap"),w=l(S,"xhrSettings"),E=l(S,"extension",E),C=l(S,"frameConfig")}Array.isArray(x)&&(T=x[1],x=x[0]);var A={type:"image",cache:g.textureManager,extension:E,responseType:"blob",key:m,url:x,xhrSettings:w,config:C};if(c.call(this,g,A),T){var P=new h(g,this.key,T,w,C);P.type="normalMap",this.setLink(P),g.addFile(P)}this.useImageElementLoad=g.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var h=this;this.data.onload=function(){c.revokeObjectURL(h.data),h.onProcessComplete()},this.data.onerror=function(){c.revokeObjectURL(h.data),h.onProcessError()},c.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var h=this.state;this.state=v.FILE_PROCESSING,h===v.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=v.FILE_LOADING,this.src=d(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var h=this;this.data.onload=function(){h.state=v.FILE_LOADED,h.loader.nextFile(h,!0)},this.data.onerror=function(){h.loader.nextFile(h,!1)},this.data.src=this.src},addToCache:function(){var h=this.linkFile;h?h.state>=v.FILE_COMPLETE&&(h.type==="spritesheet"?h.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,h.data,this.data):this.cache.addImage(this.key,this.data,h.data)):this.cache.addImage(this.key,this.data)}});u.register("image",function(h,g,m){if(Array.isArray(h))for(var x=0;x<h.length;x++)this.addFile(new p(this,h[x]));else this.addFile(new p(this,h,g,m));return this}),s.exports=p}),518:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(23906),c=r(41299),u=r(74099),l=r(95540),a=r(35154),d=r(41212),p=new o({Extends:c,initialize:function(g,m,x,w,C){var E="json";if(d(m)){var T=m;m=l(T,"key"),x=l(T,"url"),w=l(T,"xhrSettings"),E=l(T,"extension",E),C=l(T,"dataKey",C)}var S={type:"json",cache:g.cacheManager.json,extension:E,responseType:"text",key:m,url:x,xhrSettings:w,config:C};c.call(this,g,S),d(x)&&(C?this.data=a(x,C):this.data=x,this.state=v.FILE_POPULATED)},onProcess:function(){if(this.state!==v.FILE_POPULATED){this.state=v.FILE_PROCESSING;try{var h=JSON.parse(this.xhrLoader.responseText)}catch(m){throw this.onProcessError(),m}var g=this.config;typeof g=="string"?this.data=a(h,g,h):this.data=h}this.onProcessComplete()}});u.register("json",function(h,g,m,x){if(Array.isArray(h))for(var w=0;w<h.length;w++)this.addFile(new p(this,h[w]));else this.addFile(new p(this,h,g,x,m));return this}),s.exports=p}),59327:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(74099),c=r(95540),u=r(19550),l=r(41212),a=r(518),d=r(26430),p=new o({Extends:d,initialize:function(g,m,x,w,C,E,T){if(l(m)){var S=m;m=c(S,"key"),c(S,"url",!1)?x=c(S,"url"):x=c(S,"atlasURL"),E=c(S,"xhrSettings"),w=c(S,"path"),C=c(S,"baseURL"),T=c(S,"textureXhrSettings")}var A=new a(g,m,x,E);d.call(this,g,"multiatlas",m,[A]),this.config.path=w,this.config.baseURL=C,this.config.textureXhrSettings=T},onFileComplete:function(h){var g=this.files.indexOf(h);if(g!==-1&&(this.pending--,h.type==="json"&&h.data.hasOwnProperty("textures"))){var m=h.data.textures,x=this.config,w=this.loader,C=w.baseURL,E=w.path,T=w.prefix,S=c(x,"baseURL",this.baseURL),A=c(x,"path",this.path),P=c(x,"prefix",this.prefix),R=c(x,"textureXhrSettings");w.setBaseURL(S),w.setPath(A),w.setPrefix(P);for(var L=0;L<m.length;L++){var D=m[L].image,F="MA"+this.multiKeyIndex+"_"+D,$=new u(w,F,D,R);if(this.addToMultiFile($),w.addFile($),m[L].normalMap){var N=new u(w,F,m[L].normalMap,R);N.type="normalMap",$.setLink(N),this.addToMultiFile(N),w.addFile(N)}}w.setBaseURL(C),w.setPath(E),w.setPrefix(T)}},addToCache:function(){if(this.isReadyToProcess()){for(var h=this.files[0],g=[],m=[],x=[],w=1;w<this.files.length;w++){var C=this.files[w];if(C.type!=="normalMap")for(var E=C.key.indexOf("_"),T=C.key.substr(E+1),S=C.data,A=0;A<h.data.textures.length;A++){var P=h.data.textures[A];if(P.image===T){m.push(S),g.push(P),C.linkFile&&x.push(C.linkFile.data);break}}}x.length===0&&(x=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,m,g,x),this.complete=!0}}});v.register("multiatlas",function(h,g,m,x,w){var C;if(Array.isArray(h))for(var E=0;E<h.length;E++)C=new p(this,h[E]),this.addFile(C.files);else C=new p(this,h,g,m,x,w),this.addFile(C.files);return this}),s.exports=p}),99297:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(74099),c=r(95540),u=r(41212),l=r(26430),a=r(34328),d=new o({Extends:l,initialize:function(h,g,m,x){var w="js",C=[];if(u(g)){var E=g;g=c(E,"key"),m=c(E,"url"),x=c(E,"xhrSettings"),w=c(E,"extension",w)}Array.isArray(m)||(m=[m]);for(var T=0;T<m.length;T++){var S=new a(h,{key:g+"_"+T.toString(),url:m[T],extension:w,xhrSettings:x});S.onProcess=function(){this.onProcessComplete()},C.push(S)}l.call(this,h,"scripts",g,C)},addToCache:function(){if(this.isReadyToProcess()){for(var p=0;p<this.files.length;p++){var h=this.files[p];h.data=document.createElement("script"),h.data.language="javascript",h.data.type="text/javascript",h.data.defer=!1,h.data.text=h.xhrLoader.responseText,document.head.appendChild(h.data)}this.complete=!0}}});v.register("scripts",function(p,h,g){var m;if(Array.isArray(p))for(var x=0;x<p.length;x++)m=new d(this,p[x]),this.addFile(m.files);else m=new d(this,p,h,g),this.addFile(m.files);return this}),s.exports=d}),41846:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(74099),c=r(95540),u=r(41212),l=r(26430),a=r(85048),d=r(61485),p=r(78776),h=new o({Extends:l,initialize:function(m,x,w,C,E,T){var S,A,P=m.cacheManager.obj;if(u(x)){var R=x;x=c(R,"key"),S=new p(m,{key:x,type:"obj",cache:P,url:c(R,"url"),extension:c(R,"extension","obj"),xhrSettings:c(R,"xhrSettings"),config:{flipUV:c(R,"flipUV",E)}}),C=c(R,"matURL"),C&&(A=new p(m,{key:x,type:"mat",cache:P,url:C,extension:c(R,"matExtension","mat"),xhrSettings:c(R,"xhrSettings")}))}else S=new p(m,{key:x,url:w,type:"obj",cache:P,extension:"obj",xhrSettings:T,config:{flipUV:E}}),C&&(A=new p(m,{key:x,url:C,type:"mat",cache:P,extension:"mat",xhrSettings:T}));l.call(this,m,"obj",x,[S,A])},addToCache:function(){if(this.isReadyToProcess()){var g=this.files[0],m=this.files[1],x=a(g.data,g.config.flipUV);m&&(x.materials=d(m.data)),g.cache.add(g.key,x),this.complete=!0}}});v.register("obj",function(g,m,x,w,C){var E;if(Array.isArray(g))for(var T=0;T<g.length;T++)E=new h(this,g[T]),this.addFile(E.files);else E=new h(this,g,m,x,w,C),this.addFile(E.files);return this}),s.exports=h}),58610:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(23906),c=r(74099),u=r(518),l=new o({Extends:u,initialize:function(d,p,h,g,m){u.call(this,d,p,h,g,m),this.type="packfile"},onProcess:function(){if(this.state!==v.FILE_POPULATED&&(this.state=v.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var a={};a[this.config]=this.data,this.data=a}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});c.register("pack",function(a,d,p,h){if(Array.isArray(a))for(var g=0;g<a.length;g++)this.addFile(new l(this,a[g]));else this.addFile(new l(this,a,d,h,p));return this}),s.exports=l}),48988:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(23906),c=r(41299),u=r(74099),l=r(95540),a=r(41212),d=new o({Extends:c,initialize:function(h,g,m,x,w,C){var E="js";if(a(g)){var T=g;g=l(T,"key"),m=l(T,"url"),C=l(T,"xhrSettings"),E=l(T,"extension",E),x=l(T,"start"),w=l(T,"mapping")}var S={type:"plugin",cache:!1,extension:E,responseType:"text",key:g,url:m,xhrSettings:C,config:{start:x,mapping:w}};c.call(this,h,S),typeof m=="function"&&(this.data=m,this.state=v.FILE_POPULATED)},onProcess:function(){var p=this.loader.systems.plugins,h=this.config,g=l(h,"start",!1),m=l(h,"mapping",null);if(this.state===v.FILE_POPULATED)p.install(this.key,this.data,g,m);else{this.state=v.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var x=p.install(this.key,window[this.key],g,m);(g||m)&&(this.loader.systems[m]=x,this.loader.scene[m]=x)}this.onProcessComplete()}});u.register("plugin",function(p,h,g,m,x){if(Array.isArray(p))for(var w=0;w<p.length;w++)this.addFile(new d(this,p[w]));else this.addFile(new d(this,p,h,g,m,x));return this}),s.exports=d}),67397:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(23906),c=r(41299),u=r(74099),l=r(95540),a=r(41212),d=new o({Extends:c,initialize:function(h,g,m,x,w){var C="svg";if(a(g)){var E=g;g=l(E,"key"),m=l(E,"url"),x=l(E,"svgConfig",{}),w=l(E,"xhrSettings"),C=l(E,"extension",C)}var T={type:"svg",cache:h.textureManager,extension:C,responseType:"text",key:g,url:m,xhrSettings:w,config:{width:l(x,"width"),height:l(x,"height"),scale:l(x,"scale")}};c.call(this,h,T)},onProcess:function(){this.state=v.FILE_PROCESSING;var p=this.xhrLoader.responseText,h=[p],g=this.config.width,m=this.config.height,x=this.config.scale;e:if(g&&m||x){var w=null,C=new DOMParser;w=C.parseFromString(p,"text/xml");var E=w.getElementsByTagName("svg")[0],T=E.hasAttribute("viewBox"),S=parseFloat(E.getAttribute("width")),A=parseFloat(E.getAttribute("height"));if(!T&&S&&A)E.setAttribute("viewBox","0  0 "+S+" "+A);else if(T&&!S&&!A){var P=E.getAttribute("viewBox").split(/\s+|,/);S=P[2],A=P[3]}if(x)if(S&&A)g=S*x,m=A*x;else break e;E.setAttribute("width",g.toString()+"px"),E.setAttribute("height",m.toString()+"px"),h=[new XMLSerializer().serializeToString(E)]}try{var R=new window.Blob(h,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var L=this,D=!1;this.data.onload=function(){D||c.revokeObjectURL(L.data),L.onProcessComplete()},this.data.onerror=function(){D?L.onProcessError():(D=!0,c.revokeObjectURL(L.data),L.data.src="data:image/svg+xml,"+encodeURIComponent(h.join("")))},c.createObjectURL(this.data,R,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});u.register("svg",function(p,h,g,m){if(Array.isArray(p))for(var x=0;x<p.length;x++)this.addFile(new d(this,p[x]));else this.addFile(new d(this,p,h,g,m));return this}),s.exports=d}),88423:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(23906),c=r(41299),u=r(74099),l=r(95540),a=r(41212),d=new o({Extends:c,initialize:function(h,g,m,x){var w="js";if(a(g)){var C=g;g=l(C,"key"),m=l(C,"url"),x=l(C,"xhrSettings"),w=l(C,"extension",w)}var E={type:"text",extension:w,responseType:"text",key:g,url:m,xhrSettings:x};c.call(this,h,E)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var p=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),h=eval;this.loader.sceneManager.add(this.key,h(p)),this.complete=!0}});u.register("sceneFile",function(p,h,g){if(Array.isArray(p))for(var m=0;m<p.length;m++)this.addFile(new d(this,p[m]));else this.addFile(new d(this,p,h,g));return this}),s.exports=d}),56812:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(23906),c=r(41299),u=r(74099),l=r(95540),a=r(41212),d=new o({Extends:c,initialize:function(h,g,m,x,w,C){var E="js";if(a(g)){var T=g;g=l(T,"key"),m=l(T,"url"),C=l(T,"xhrSettings"),E=l(T,"extension",E),x=l(T,"systemKey"),w=l(T,"sceneKey")}var S={type:"scenePlugin",cache:!1,extension:E,responseType:"text",key:g,url:m,xhrSettings:C,config:{systemKey:x,sceneKey:w}};c.call(this,h,S),typeof m=="function"&&(this.data=m,this.state=v.FILE_POPULATED)},onProcess:function(){var p=this.loader.systems.plugins,h=this.config,g=this.key,m=l(h,"systemKey",g),x=l(h,"sceneKey",g);this.state===v.FILE_POPULATED?p.installScenePlugin(m,this.data,x,this.loader.scene,!0):(this.state=v.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),p.installScenePlugin(m,window[this.key],x,this.loader.scene,!0)),this.onProcessComplete()}});u.register("scenePlugin",function(p,h,g,m,x){if(Array.isArray(p))for(var w=0;w<p.length;w++)this.addFile(new d(this,p[w]));else this.addFile(new d(this,p,h,g,m,x));return this}),s.exports=d}),34328:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(23906),c=r(41299),u=r(74099),l=r(95540),a=r(41212),d=new o({Extends:c,initialize:function(h,g,m,x,w){var C="js";if(a(g)){var E=g;g=l(E,"key"),m=l(E,"url"),x=l(E,"type","script"),w=l(E,"xhrSettings"),C=l(E,"extension",C)}else x===void 0&&(x="script");var T={type:x,cache:!1,extension:C,responseType:"text",key:g,url:m,xhrSettings:w};c.call(this,h,T)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});u.register("script",function(p,h,g,m){if(Array.isArray(p))for(var x=0;x<p.length;x++)this.addFile(new d(this,p[x]));else this.addFile(new d(this,p,h,g,m));return this}),s.exports=d}),85035:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(23906),c=r(74099),u=r(19550),l=new o({Extends:u,initialize:function(d,p,h,g,m){u.call(this,d,p,h,m,g),this.type="spritesheet"},addToCache:function(){var a=this.linkFile;a?a.state>=v.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,a.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,a.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});c.register("spritesheet",function(a,d,p,h){if(Array.isArray(a))for(var g=0;g<a.length;g++)this.addFile(new l(this,a[g]));else this.addFile(new l(this,a,d,p,h));return this}),s.exports=l}),78776:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(23906),c=r(41299),u=r(74099),l=r(95540),a=r(41212),d=new o({Extends:c,initialize:function(h,g,m,x){var w="text",C="txt",E=h.cacheManager.text;if(a(g)){var T=g;g=l(T,"key"),m=l(T,"url"),x=l(T,"xhrSettings"),C=l(T,"extension",C),w=l(T,"type",w),E=l(T,"cache",E)}var S={type:w,cache:E,extension:C,responseType:"text",key:g,url:m,xhrSettings:x};c.call(this,h,S)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});u.register("text",function(p,h,g){if(Array.isArray(p))for(var m=0;m<p.length;m++)this.addFile(new d(this,p[m]));else this.addFile(new d(this,p,h,g));return this}),s.exports=d}),49477:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(23906),c=r(41299),u=r(74099),l=r(95540),a=r(41212),d=r(80341),p=new o({Extends:c,initialize:function(g,m,x,w){var C="csv";if(a(m)){var E=m;m=l(E,"key"),x=l(E,"url"),w=l(E,"xhrSettings"),C=l(E,"extension",C)}var T={type:"tilemapCSV",cache:g.cacheManager.tilemap,extension:C,responseType:"text",key:m,url:x,xhrSettings:w};c.call(this,g,T),this.tilemapFormat=d.CSV},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var h={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,h)}});u.register("tilemapCSV",function(h,g,m){if(Array.isArray(h))for(var x=0;x<h.length;x++)this.addFile(new p(this,h[x]));else this.addFile(new p(this,h,g,m));return this}),s.exports=p}),40807:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(74099),c=r(518),u=r(80341),l=new o({Extends:c,initialize:function(d,p,h,g){c.call(this,d,p,h,g),this.type="tilemapJSON",this.cache=d.cacheManager.tilemap},addToCache:function(){var a={format:u.WELTMEISTER,data:this.data};this.cache.add(this.key,a)}});v.register("tilemapImpact",function(a,d,p){if(Array.isArray(a))for(var h=0;h<a.length;h++)this.addFile(new l(this,a[h]));else this.addFile(new l(this,a,d,p));return this}),s.exports=l}),56775:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(74099),c=r(518),u=r(80341),l=new o({Extends:c,initialize:function(d,p,h,g){c.call(this,d,p,h,g),this.type="tilemapJSON",this.cache=d.cacheManager.tilemap},addToCache:function(){var a={format:u.TILED_JSON,data:this.data};this.cache.add(this.key,a)}});v.register("tilemapTiledJSON",function(a,d,p){if(Array.isArray(a))for(var h=0;h<a.length;h++)this.addFile(new l(this,a[h]));else this.addFile(new l(this,a,d,p));return this}),s.exports=l}),25771:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(74099),c=r(95540),u=r(19550),l=r(41212),a=r(26430),d=r(78776),p=new o({Extends:a,initialize:function(g,m,x,w,C,E){var T,S;if(l(m)){var A=m;m=c(A,"key"),T=new u(g,{key:m,url:c(A,"textureURL"),extension:c(A,"textureExtension","png"),normalMap:c(A,"normalMap"),xhrSettings:c(A,"textureXhrSettings")}),S=new d(g,{key:m,url:c(A,"atlasURL"),extension:c(A,"atlasExtension","txt"),xhrSettings:c(A,"atlasXhrSettings")})}else T=new u(g,m,x,C),S=new d(g,m,w,E);T.linkFile?a.call(this,g,"unityatlas",m,[T,S,T.linkFile]):a.call(this,g,"unityatlas",m,[T,S])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],g=this.files[1],m=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(h.key,h.data,g.data,m),this.complete=!0}}});v.register("unityAtlas",function(h,g,m,x,w){var C;if(Array.isArray(h))for(var E=0;E<h.length;E++)C=new p(this,h[E]),this.addFile(C.files);else C=new p(this,h,g,m,x,w),this.addFile(C.files);return this}),s.exports=p}),33720:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(23906),c=r(41299),u=r(74099),l=r(98356),a=r(95540),d=r(41212),p=new o({Extends:c,initialize:function(g,m,x,w){if(w===void 0&&(w=!1),d(m)){var C=m;m=a(C,"key"),x=a(C,"url",[]),w=a(C,"noAudio",!1)}var E=g.systems.game.device.video.getVideoURL(x);E||console.warn("VideoFile: No supported format for "+m);var T={type:"video",cache:g.cacheManager.video,extension:E.type,key:m,url:E.url,config:{noAudio:w}};c.call(this,g,T)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=l(this,this.loader.baseURL),this.state=v.FILE_LOADED,this.loader.nextFile(this,!0)}});u.register("video",function(h,g,m){if(Array.isArray(h))for(var x=0;x<h.length;x++)this.addFile(new p(this,h[x]));else this.addFile(new p(this,h,g,m));return this}),s.exports=p}),57318:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(23906),c=r(41299),u=r(74099),l=r(95540),a=r(41212),d=r(56836),p=new o({Extends:c,initialize:function(g,m,x,w){var C="xml";if(a(m)){var E=m;m=l(E,"key"),x=l(E,"url"),w=l(E,"xhrSettings"),C=l(E,"extension",C)}var T={type:"xml",cache:g.cacheManager.xml,extension:C,responseType:"text",key:m,url:x,xhrSettings:w};c.call(this,g,T)},onProcess:function(){this.state=v.FILE_PROCESSING,this.data=d(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});u.register("xml",function(h,g,m){if(Array.isArray(h))for(var x=0;x<h.length;x++)this.addFile(new p(this,h[x]));else this.addFile(new p(this,h,g,m));return this}),s.exports=p}),64589:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={AnimationJSONFile:r(14135),AsepriteFile:r(76272),AtlasJSONFile:r(38734),AtlasXMLFile:r(74599),AudioFile:r(21097),AudioSpriteFile:r(89524),BinaryFile:r(85722),BitmapFontFile:r(97025),CompressedTextureFile:r(69559),CSSFile:r(16024),FontFile:r(87674),GLSLFile:r(47931),HTML5AudioFile:r(89749),HTMLFile:r(88470),HTMLTextureFile:r(14643),ImageFile:r(19550),JSONFile:r(518),MultiAtlasFile:r(59327),MultiScriptFile:r(99297),OBJFile:r(41846),PackFile:r(58610),PluginFile:r(48988),SceneFile:r(88423),ScenePluginFile:r(56812),ScriptFile:r(34328),SpriteSheetFile:r(85035),SVGFile:r(67397),TextFile:r(78776),TilemapCSVFile:r(49477),TilemapImpactFile:r(40807),TilemapJSONFile:r(56775),UnityAtlasFile:r(25771),VideoFile:r(33720),XMLFile:r(57318)}}),57777:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(23906),v=r(79291),c={Events:r(54899),FileTypes:r(64589),File:r(41299),FileTypesManager:r(74099),GetURL:r(98356),LoaderPlugin:r(74261),MergeXHRSettings:r(3374),MultiFile:r(26430),XHRLoader:r(84376),XHRSettings:r(92638)};c=v(!1,c,o),s.exports=c}),53307:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){for(var o=0,v=0;v<r.length;v++)o+=+r[v];return o/r.length};s.exports=y}),85710:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(6411),v=function(c,u){return o(c)/o(u)/o(c-u)};s.exports=v}),30976:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return Math.floor(Math.random()*(o-r+1)+r)};s.exports=y}),87842:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c,u){var l=(c-o)*.5,a=(u-v)*.5,d=r*r,p=r*d;return(2*v-2*c+l+a)*p+(-3*v+3*c-2*l-a)*d+l*r+v};s.exports=y}),26302:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){o===void 0&&(o=0),v===void 0&&(v=10);var c=Math.pow(v,-o);return Math.ceil(r*c)/c};s.exports=y}),45319:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){return Math.max(o,Math.min(v,r))};s.exports=y}),39506:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36383),v=function(c){return c*o.DEG_TO_RAD};s.exports=v}),61241:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return Math.abs(r-o)};s.exports=y}),38857:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),v=r(83419),c=r(37867),u=r(29747),l=new c,a=new v({initialize:function d(p,h,g,m){p===void 0&&(p=0),h===void 0&&(h=0),g===void 0&&(g=0),m===void 0&&(m=d.DefaultOrder),this._x=p,this._y=h,this._z=g,this._order=m,this.onChangeCallback=u},x:{get:function(){return this._x},set:function(d){this._x=d,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(d){this._y=d,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(d){this._z=d,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(d){this._order=d,this.onChangeCallback(this)}},set:function(d,p,h,g){return g===void 0&&(g=this._order),this._x=d,this._y=p,this._z=h,this._order=g,this.onChangeCallback(this),this},copy:function(d){return this.set(d.x,d.y,d.z,d.order)},setFromQuaternion:function(d,p,h){return p===void 0&&(p=this._order),h===void 0&&(h=!1),l.fromQuat(d),this.setFromRotationMatrix(l,p,h)},setFromRotationMatrix:function(d,p,h){p===void 0&&(p=this._order),h===void 0&&(h=!1);var g=d.val,m=g[0],x=g[4],w=g[8],C=g[1],E=g[5],T=g[9],S=g[2],A=g[6],P=g[10],R=0,L=0,D=0,F=.99999;switch(p){case"XYZ":{L=Math.asin(o(w,-1,1)),Math.abs(w)<F?(R=Math.atan2(-T,P),D=Math.atan2(-x,m)):R=Math.atan2(A,E);break}case"YXZ":{R=Math.asin(-o(T,-1,1)),Math.abs(T)<F?(L=Math.atan2(w,P),D=Math.atan2(C,E)):L=Math.atan2(-S,m);break}case"ZXY":{R=Math.asin(o(A,-1,1)),Math.abs(A)<F?(L=Math.atan2(-S,P),D=Math.atan2(-x,E)):D=Math.atan2(C,m);break}case"ZYX":{L=Math.asin(-o(S,-1,1)),Math.abs(S)<F?(R=Math.atan2(A,P),D=Math.atan2(C,m)):D=Math.atan2(-x,E);break}case"YZX":{D=Math.asin(o(C,-1,1)),Math.abs(C)<F?(R=Math.atan2(-T,E),L=Math.atan2(-S,m)):L=Math.atan2(w,P);break}case"XZY":{D=Math.asin(-o(x,-1,1)),Math.abs(x)<F?(R=Math.atan2(A,E),L=Math.atan2(w,m)):R=Math.atan2(-T,P);break}}return this._x=R,this._y=L,this._z=D,this._order=p,h&&this.onChangeCallback(this),this}});a.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],a.DefaultOrder="XYZ",s.exports=a}),6411:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){if(r===0)return 1;for(var o=r;--r;)o*=r;return o};s.exports=y}),99472:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return Math.random()*(o-r)+r};s.exports=y}),77623:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){o===void 0&&(o=0),v===void 0&&(v=10);var c=Math.pow(v,-o);return Math.floor(r*c)/c};s.exports=y}),62945:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),v=function(c,u,l){return c=o(c,0,1),(l-u)*c+u};s.exports=v}),38265:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return r/o/1e3};s.exports=y}),78702:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r==parseFloat(r)?!(r%2):void 0};s.exports=y}),94883:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r===parseFloat(r)?!(r%2):void 0};s.exports=y}),28915:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){return(o-r)*v+r};s.exports=y}),94908:(s=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){return v===void 0&&(v=0),r.clone().lerp(o,v)};s.exports=y}),94434:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=new o({initialize:function(u){this.val=new Float32Array(9),u?this.copy(u):this.identity()},clone:function(){return new v(this)},set:function(c){return this.copy(c)},copy:function(c){var u=this.val,l=c.val;return u[0]=l[0],u[1]=l[1],u[2]=l[2],u[3]=l[3],u[4]=l[4],u[5]=l[5],u[6]=l[6],u[7]=l[7],u[8]=l[8],this},fromMat4:function(c){var u=c.val,l=this.val;return l[0]=u[0],l[1]=u[1],l[2]=u[2],l[3]=u[4],l[4]=u[5],l[5]=u[6],l[6]=u[8],l[7]=u[9],l[8]=u[10],this},fromArray:function(c){var u=this.val;return u[0]=c[0],u[1]=c[1],u[2]=c[2],u[3]=c[3],u[4]=c[4],u[5]=c[5],u[6]=c[6],u[7]=c[7],u[8]=c[8],this},identity:function(){var c=this.val;return c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=1,c[5]=0,c[6]=0,c[7]=0,c[8]=1,this},transpose:function(){var c=this.val,u=c[1],l=c[2],a=c[5];return c[1]=c[3],c[2]=c[6],c[3]=u,c[5]=c[7],c[6]=l,c[7]=a,this},invert:function(){var c=this.val,u=c[0],l=c[1],a=c[2],d=c[3],p=c[4],h=c[5],g=c[6],m=c[7],x=c[8],w=x*p-h*m,C=-x*d+h*g,E=m*d-p*g,T=u*w+l*C+a*E;return T?(T=1/T,c[0]=w*T,c[1]=(-x*l+a*m)*T,c[2]=(h*l-a*p)*T,c[3]=C*T,c[4]=(x*u-a*g)*T,c[5]=(-h*u+a*d)*T,c[6]=E*T,c[7]=(-m*u+l*g)*T,c[8]=(p*u-l*d)*T,this):null},adjoint:function(){var c=this.val,u=c[0],l=c[1],a=c[2],d=c[3],p=c[4],h=c[5],g=c[6],m=c[7],x=c[8];return c[0]=p*x-h*m,c[1]=a*m-l*x,c[2]=l*h-a*p,c[3]=h*g-d*x,c[4]=u*x-a*g,c[5]=a*d-u*h,c[6]=d*m-p*g,c[7]=l*g-u*m,c[8]=u*p-l*d,this},determinant:function(){var c=this.val,u=c[0],l=c[1],a=c[2],d=c[3],p=c[4],h=c[5],g=c[6],m=c[7],x=c[8];return u*(x*p-h*m)+l*(-x*d+h*g)+a*(m*d-p*g)},multiply:function(c){var u=this.val,l=u[0],a=u[1],d=u[2],p=u[3],h=u[4],g=u[5],m=u[6],x=u[7],w=u[8],C=c.val,E=C[0],T=C[1],S=C[2],A=C[3],P=C[4],R=C[5],L=C[6],D=C[7],F=C[8];return u[0]=E*l+T*p+S*m,u[1]=E*a+T*h+S*x,u[2]=E*d+T*g+S*w,u[3]=A*l+P*p+R*m,u[4]=A*a+P*h+R*x,u[5]=A*d+P*g+R*w,u[6]=L*l+D*p+F*m,u[7]=L*a+D*h+F*x,u[8]=L*d+D*g+F*w,this},translate:function(c){var u=this.val,l=c.x,a=c.y;return u[6]=l*u[0]+a*u[3]+u[6],u[7]=l*u[1]+a*u[4]+u[7],u[8]=l*u[2]+a*u[5]+u[8],this},rotate:function(c){var u=this.val,l=u[0],a=u[1],d=u[2],p=u[3],h=u[4],g=u[5],m=Math.sin(c),x=Math.cos(c);return u[0]=x*l+m*p,u[1]=x*a+m*h,u[2]=x*d+m*g,u[3]=x*p-m*l,u[4]=x*h-m*a,u[5]=x*g-m*d,this},scale:function(c){var u=this.val,l=c.x,a=c.y;return u[0]=l*u[0],u[1]=l*u[1],u[2]=l*u[2],u[3]=a*u[3],u[4]=a*u[4],u[5]=a*u[5],this},fromQuat:function(c){var u=c.x,l=c.y,a=c.z,d=c.w,p=u+u,h=l+l,g=a+a,m=u*p,x=u*h,w=u*g,C=l*h,E=l*g,T=a*g,S=d*p,A=d*h,P=d*g,R=this.val;return R[0]=1-(C+T),R[3]=x+P,R[6]=w-A,R[1]=x-P,R[4]=1-(m+T),R[7]=E+S,R[2]=w+A,R[5]=E-S,R[8]=1-(m+C),this},normalFromMat4:function(c){var u=c.val,l=this.val,a=u[0],d=u[1],p=u[2],h=u[3],g=u[4],m=u[5],x=u[6],w=u[7],C=u[8],E=u[9],T=u[10],S=u[11],A=u[12],P=u[13],R=u[14],L=u[15],D=a*m-d*g,F=a*x-p*g,$=a*w-h*g,N=d*x-p*m,k=d*w-h*m,j=p*w-h*x,W=C*P-E*A,G=C*R-T*A,K=C*L-S*A,z=E*R-T*P,X=E*L-S*P,U=T*L-S*R,Z=D*U-F*X+$*z+N*K-k*G+j*W;return Z?(Z=1/Z,l[0]=(m*U-x*X+w*z)*Z,l[1]=(x*K-g*U-w*G)*Z,l[2]=(g*X-m*K+w*W)*Z,l[3]=(p*X-d*U-h*z)*Z,l[4]=(a*U-p*K+h*G)*Z,l[5]=(d*K-a*X-h*W)*Z,l[6]=(P*j-R*k+L*N)*Z,l[7]=(R*$-A*j-L*F)*Z,l[8]=(A*k-P*$+L*D)*Z,this):null}});s.exports=v}),37867:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(25836),c=1e-6,u=new o({initialize:function(m){this.val=new Float32Array(16),m?this.copy(m):this.identity()},clone:function(){return new u(this)},set:function(g){return this.copy(g)},setValues:function(g,m,x,w,C,E,T,S,A,P,R,L,D,F,$,N){var k=this.val;return k[0]=g,k[1]=m,k[2]=x,k[3]=w,k[4]=C,k[5]=E,k[6]=T,k[7]=S,k[8]=A,k[9]=P,k[10]=R,k[11]=L,k[12]=D,k[13]=F,k[14]=$,k[15]=N,this},copy:function(g){var m=g.val;return this.setValues(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15])},fromArray:function(g){return this.setValues(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(g,m,x){var w=l.fromQuat(x),C=w.val,E=m.x,T=m.y,S=m.z;return this.setValues(C[0]*E,C[1]*E,C[2]*E,0,C[4]*T,C[5]*T,C[6]*T,0,C[8]*S,C[9]*S,C[10]*S,0,g.x,g.y,g.z,1)},xyz:function(g,m,x){this.identity();var w=this.val;return w[12]=g,w[13]=m,w[14]=x,this},scaling:function(g,m,x){this.zero();var w=this.val;return w[0]=g,w[5]=m,w[10]=x,w[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var g=this.val,m=g[1],x=g[2],w=g[3],C=g[6],E=g[7],T=g[11];return g[1]=g[4],g[2]=g[8],g[3]=g[12],g[4]=m,g[6]=g[9],g[7]=g[13],g[8]=x,g[9]=C,g[11]=g[14],g[12]=w,g[13]=E,g[14]=T,this},getInverse:function(g){return this.copy(g),this.invert()},invert:function(){var g=this.val,m=g[0],x=g[1],w=g[2],C=g[3],E=g[4],T=g[5],S=g[6],A=g[7],P=g[8],R=g[9],L=g[10],D=g[11],F=g[12],$=g[13],N=g[14],k=g[15],j=m*T-x*E,W=m*S-w*E,G=m*A-C*E,K=x*S-w*T,z=x*A-C*T,X=w*A-C*S,U=P*$-R*F,Z=P*N-L*F,V=P*k-D*F,J=R*N-L*$,_=R*k-D*$,ee=L*k-D*N,te=j*ee-W*_+G*J+K*V-z*Z+X*U;return te?(te=1/te,this.setValues((T*ee-S*_+A*J)*te,(w*_-x*ee-C*J)*te,($*X-N*z+k*K)*te,(L*z-R*X-D*K)*te,(S*V-E*ee-A*Z)*te,(m*ee-w*V+C*Z)*te,(N*G-F*X-k*W)*te,(P*X-L*G+D*W)*te,(E*_-T*V+A*U)*te,(x*V-m*_-C*U)*te,(F*z-$*G+k*j)*te,(R*G-P*z-D*j)*te,(T*Z-E*J-S*U)*te,(m*J-x*Z+w*U)*te,($*W-F*K-N*j)*te,(P*K-R*W+L*j)*te)):this},adjoint:function(){var g=this.val,m=g[0],x=g[1],w=g[2],C=g[3],E=g[4],T=g[5],S=g[6],A=g[7],P=g[8],R=g[9],L=g[10],D=g[11],F=g[12],$=g[13],N=g[14],k=g[15];return this.setValues(T*(L*k-D*N)-R*(S*k-A*N)+$*(S*D-A*L),-(x*(L*k-D*N)-R*(w*k-C*N)+$*(w*D-C*L)),x*(S*k-A*N)-T*(w*k-C*N)+$*(w*A-C*S),-(x*(S*D-A*L)-T*(w*D-C*L)+R*(w*A-C*S)),-(E*(L*k-D*N)-P*(S*k-A*N)+F*(S*D-A*L)),m*(L*k-D*N)-P*(w*k-C*N)+F*(w*D-C*L),-(m*(S*k-A*N)-E*(w*k-C*N)+F*(w*A-C*S)),m*(S*D-A*L)-E*(w*D-C*L)+P*(w*A-C*S),E*(R*k-D*$)-P*(T*k-A*$)+F*(T*D-A*R),-(m*(R*k-D*$)-P*(x*k-C*$)+F*(x*D-C*R)),m*(T*k-A*$)-E*(x*k-C*$)+F*(x*A-C*T),-(m*(T*D-A*R)-E*(x*D-C*R)+P*(x*A-C*T)),-(E*(R*N-L*$)-P*(T*N-S*$)+F*(T*L-S*R)),m*(R*N-L*$)-P*(x*N-w*$)+F*(x*L-w*R),-(m*(T*N-S*$)-E*(x*N-w*$)+F*(x*S-w*T)),m*(T*L-S*R)-E*(x*L-w*R)+P*(x*S-w*T))},determinant:function(){var g=this.val,m=g[0],x=g[1],w=g[2],C=g[3],E=g[4],T=g[5],S=g[6],A=g[7],P=g[8],R=g[9],L=g[10],D=g[11],F=g[12],$=g[13],N=g[14],k=g[15],j=m*T-x*E,W=m*S-w*E,G=m*A-C*E,K=x*S-w*T,z=x*A-C*T,X=w*A-C*S,U=P*$-R*F,Z=P*N-L*F,V=P*k-D*F,J=R*N-L*$,_=R*k-D*$,ee=L*k-D*N;return j*ee-W*_+G*J+K*V-z*Z+X*U},multiply:function(g){var m=this.val,x=m[0],w=m[1],C=m[2],E=m[3],T=m[4],S=m[5],A=m[6],P=m[7],R=m[8],L=m[9],D=m[10],F=m[11],$=m[12],N=m[13],k=m[14],j=m[15],W=g.val,G=W[0],K=W[1],z=W[2],X=W[3];return m[0]=G*x+K*T+z*R+X*$,m[1]=G*w+K*S+z*L+X*N,m[2]=G*C+K*A+z*D+X*k,m[3]=G*E+K*P+z*F+X*j,G=W[4],K=W[5],z=W[6],X=W[7],m[4]=G*x+K*T+z*R+X*$,m[5]=G*w+K*S+z*L+X*N,m[6]=G*C+K*A+z*D+X*k,m[7]=G*E+K*P+z*F+X*j,G=W[8],K=W[9],z=W[10],X=W[11],m[8]=G*x+K*T+z*R+X*$,m[9]=G*w+K*S+z*L+X*N,m[10]=G*C+K*A+z*D+X*k,m[11]=G*E+K*P+z*F+X*j,G=W[12],K=W[13],z=W[14],X=W[15],m[12]=G*x+K*T+z*R+X*$,m[13]=G*w+K*S+z*L+X*N,m[14]=G*C+K*A+z*D+X*k,m[15]=G*E+K*P+z*F+X*j,this},multiplyLocal:function(g){var m=this.val,x=g.val;return this.setValues(m[0]*x[0]+m[1]*x[4]+m[2]*x[8]+m[3]*x[12],m[0]*x[1]+m[1]*x[5]+m[2]*x[9]+m[3]*x[13],m[0]*x[2]+m[1]*x[6]+m[2]*x[10]+m[3]*x[14],m[0]*x[3]+m[1]*x[7]+m[2]*x[11]+m[3]*x[15],m[4]*x[0]+m[5]*x[4]+m[6]*x[8]+m[7]*x[12],m[4]*x[1]+m[5]*x[5]+m[6]*x[9]+m[7]*x[13],m[4]*x[2]+m[5]*x[6]+m[6]*x[10]+m[7]*x[14],m[4]*x[3]+m[5]*x[7]+m[6]*x[11]+m[7]*x[15],m[8]*x[0]+m[9]*x[4]+m[10]*x[8]+m[11]*x[12],m[8]*x[1]+m[9]*x[5]+m[10]*x[9]+m[11]*x[13],m[8]*x[2]+m[9]*x[6]+m[10]*x[10]+m[11]*x[14],m[8]*x[3]+m[9]*x[7]+m[10]*x[11]+m[11]*x[15],m[12]*x[0]+m[13]*x[4]+m[14]*x[8]+m[15]*x[12],m[12]*x[1]+m[13]*x[5]+m[14]*x[9]+m[15]*x[13],m[12]*x[2]+m[13]*x[6]+m[14]*x[10]+m[15]*x[14],m[12]*x[3]+m[13]*x[7]+m[14]*x[11]+m[15]*x[15])},premultiply:function(g){return this.multiplyMatrices(g,this)},multiplyMatrices:function(g,m){var x=g.val,w=m.val,C=x[0],E=x[4],T=x[8],S=x[12],A=x[1],P=x[5],R=x[9],L=x[13],D=x[2],F=x[6],$=x[10],N=x[14],k=x[3],j=x[7],W=x[11],G=x[15],K=w[0],z=w[4],X=w[8],U=w[12],Z=w[1],V=w[5],J=w[9],_=w[13],ee=w[2],te=w[6],ie=w[10],le=w[14],he=w[3],fe=w[7],oe=w[11],Ce=w[15];return this.setValues(C*K+E*Z+T*ee+S*he,A*K+P*Z+R*ee+L*he,D*K+F*Z+$*ee+N*he,k*K+j*Z+W*ee+G*he,C*z+E*V+T*te+S*fe,A*z+P*V+R*te+L*fe,D*z+F*V+$*te+N*fe,k*z+j*V+W*te+G*fe,C*X+E*J+T*ie+S*oe,A*X+P*J+R*ie+L*oe,D*X+F*J+$*ie+N*oe,k*X+j*J+W*ie+G*oe,C*U+E*_+T*le+S*Ce,A*U+P*_+R*le+L*Ce,D*U+F*_+$*le+N*Ce,k*U+j*_+W*le+G*Ce)},translate:function(g){return this.translateXYZ(g.x,g.y,g.z)},translateXYZ:function(g,m,x){var w=this.val;return w[12]=w[0]*g+w[4]*m+w[8]*x+w[12],w[13]=w[1]*g+w[5]*m+w[9]*x+w[13],w[14]=w[2]*g+w[6]*m+w[10]*x+w[14],w[15]=w[3]*g+w[7]*m+w[11]*x+w[15],this},scale:function(g){return this.scaleXYZ(g.x,g.y,g.z)},scaleXYZ:function(g,m,x){var w=this.val;return w[0]=w[0]*g,w[1]=w[1]*g,w[2]=w[2]*g,w[3]=w[3]*g,w[4]=w[4]*m,w[5]=w[5]*m,w[6]=w[6]*m,w[7]=w[7]*m,w[8]=w[8]*x,w[9]=w[9]*x,w[10]=w[10]*x,w[11]=w[11]*x,this},makeRotationAxis:function(g,m){var x=Math.cos(m),w=Math.sin(m),C=1-x,E=g.x,T=g.y,S=g.z,A=C*E,P=C*T;return this.setValues(A*E+x,A*T-w*S,A*S+w*T,0,A*T+w*S,P*T+x,P*S-w*E,0,A*S-w*T,P*S+w*E,C*S*S+x,0,0,0,0,1)},rotate:function(g,m){var x=this.val,w=m.x,C=m.y,E=m.z,T=Math.sqrt(w*w+C*C+E*E);if(Math.abs(T)<c)return this;T=1/T,w*=T,C*=T,E*=T;var S=Math.sin(g),A=Math.cos(g),P=1-A,R=x[0],L=x[1],D=x[2],F=x[3],$=x[4],N=x[5],k=x[6],j=x[7],W=x[8],G=x[9],K=x[10],z=x[11],X=x[12],U=x[13],Z=x[14],V=x[15],J=w*w*P+A,_=C*w*P+E*S,ee=E*w*P-C*S,te=w*C*P-E*S,ie=C*C*P+A,le=E*C*P+w*S,he=w*E*P+C*S,fe=C*E*P-w*S,oe=E*E*P+A;return this.setValues(R*J+$*_+W*ee,L*J+N*_+G*ee,D*J+k*_+K*ee,F*J+j*_+z*ee,R*te+$*ie+W*le,L*te+N*ie+G*le,D*te+k*ie+K*le,F*te+j*ie+z*le,R*he+$*fe+W*oe,L*he+N*fe+G*oe,D*he+k*fe+K*oe,F*he+j*fe+z*oe,X,U,Z,V)},rotateX:function(g){var m=this.val,x=Math.sin(g),w=Math.cos(g),C=m[4],E=m[5],T=m[6],S=m[7],A=m[8],P=m[9],R=m[10],L=m[11];return m[4]=C*w+A*x,m[5]=E*w+P*x,m[6]=T*w+R*x,m[7]=S*w+L*x,m[8]=A*w-C*x,m[9]=P*w-E*x,m[10]=R*w-T*x,m[11]=L*w-S*x,this},rotateY:function(g){var m=this.val,x=Math.sin(g),w=Math.cos(g),C=m[0],E=m[1],T=m[2],S=m[3],A=m[8],P=m[9],R=m[10],L=m[11];return m[0]=C*w-A*x,m[1]=E*w-P*x,m[2]=T*w-R*x,m[3]=S*w-L*x,m[8]=C*x+A*w,m[9]=E*x+P*w,m[10]=T*x+R*w,m[11]=S*x+L*w,this},rotateZ:function(g){var m=this.val,x=Math.sin(g),w=Math.cos(g),C=m[0],E=m[1],T=m[2],S=m[3],A=m[4],P=m[5],R=m[6],L=m[7];return m[0]=C*w+A*x,m[1]=E*w+P*x,m[2]=T*w+R*x,m[3]=S*w+L*x,m[4]=A*w-C*x,m[5]=P*w-E*x,m[6]=R*w-T*x,m[7]=L*w-S*x,this},fromRotationTranslation:function(g,m){var x=g.x,w=g.y,C=g.z,E=g.w,T=x+x,S=w+w,A=C+C,P=x*T,R=x*S,L=x*A,D=w*S,F=w*A,$=C*A,N=E*T,k=E*S,j=E*A;return this.setValues(1-(D+$),R+j,L-k,0,R-j,1-(P+$),F+N,0,L+k,F-N,1-(P+D),0,m.x,m.y,m.z,1)},fromQuat:function(g){var m=g.x,x=g.y,w=g.z,C=g.w,E=m+m,T=x+x,S=w+w,A=m*E,P=m*T,R=m*S,L=x*T,D=x*S,F=w*S,$=C*E,N=C*T,k=C*S;return this.setValues(1-(L+F),P+k,R-N,0,P-k,1-(A+F),D+$,0,R+N,D-$,1-(A+L),0,0,0,0,1)},frustum:function(g,m,x,w,C,E){var T=1/(m-g),S=1/(w-x),A=1/(C-E);return this.setValues(C*2*T,0,0,0,0,C*2*S,0,0,(m+g)*T,(w+x)*S,(E+C)*A,-1,0,0,E*C*2*A,0)},perspective:function(g,m,x,w){var C=1/Math.tan(g/2),E=1/(x-w);return this.setValues(C/m,0,0,0,0,C,0,0,0,0,(w+x)*E,-1,0,0,2*w*x*E,0)},perspectiveLH:function(g,m,x,w){return this.setValues(2*x/g,0,0,0,0,2*x/m,0,0,0,0,-w/(x-w),1,0,0,x*w/(x-w),0)},ortho:function(g,m,x,w,C,E){var T=g-m,S=x-w,A=C-E;return T=T===0?T:1/T,S=S===0?S:1/S,A=A===0?A:1/A,this.setValues(-2*T,0,0,0,0,-2*S,0,0,0,0,2*A,0,(g+m)*T,(w+x)*S,(E+C)*A,1)},lookAtRH:function(g,m,x){var w=this.val;return h.subVectors(g,m),h.lengthSq()===0&&(h.z=1),h.normalize(),d.crossVectors(x,h),d.lengthSq()===0&&(Math.abs(x.z)===1?h.x+=1e-4:h.z+=1e-4,h.normalize(),d.crossVectors(x,h)),d.normalize(),p.crossVectors(h,d),w[0]=d.x,w[1]=d.y,w[2]=d.z,w[4]=p.x,w[5]=p.y,w[6]=p.z,w[8]=h.x,w[9]=h.y,w[10]=h.z,this},lookAt:function(g,m,x){var w=g.x,C=g.y,E=g.z,T=x.x,S=x.y,A=x.z,P=m.x,R=m.y,L=m.z;if(Math.abs(w-P)<c&&Math.abs(C-R)<c&&Math.abs(E-L)<c)return this.identity();var D=w-P,F=C-R,$=E-L,N=1/Math.sqrt(D*D+F*F+$*$);D*=N,F*=N,$*=N;var k=S*$-A*F,j=A*D-T*$,W=T*F-S*D;N=Math.sqrt(k*k+j*j+W*W),N?(N=1/N,k*=N,j*=N,W*=N):(k=0,j=0,W=0);var G=F*W-$*j,K=$*k-D*W,z=D*j-F*k;return N=Math.sqrt(G*G+K*K+z*z),N?(N=1/N,G*=N,K*=N,z*=N):(G=0,K=0,z=0),this.setValues(k,G,D,0,j,K,F,0,W,z,$,0,-(k*w+j*C+W*E),-(G*w+K*C+z*E),-(D*w+F*C+$*E),1)},yawPitchRoll:function(g,m,x){this.zero(),l.zero(),a.zero();var w=this.val,C=l.val,E=a.val,T=Math.sin(x),S=Math.cos(x);return w[10]=1,w[15]=1,w[0]=S,w[1]=T,w[4]=-T,w[5]=S,T=Math.sin(m),S=Math.cos(m),C[0]=1,C[15]=1,C[5]=S,C[10]=S,C[9]=-T,C[6]=T,T=Math.sin(g),S=Math.cos(g),E[5]=1,E[15]=1,E[0]=S,E[2]=-T,E[8]=T,E[10]=S,this.multiplyLocal(l),this.multiplyLocal(a),this},setWorldMatrix:function(g,m,x,w,C){return this.yawPitchRoll(g.y,g.x,g.z),l.scaling(x.x,x.y,x.z),a.xyz(m.x,m.y,m.z),this.multiplyLocal(l),this.multiplyLocal(a),w&&this.multiplyLocal(w),C&&this.multiplyLocal(C),this},multiplyToMat4:function(g,m){var x=this.val,w=g.val,C=x[0],E=x[1],T=x[2],S=x[3],A=x[4],P=x[5],R=x[6],L=x[7],D=x[8],F=x[9],$=x[10],N=x[11],k=x[12],j=x[13],W=x[14],G=x[15],K=w[0],z=w[1],X=w[2],U=w[3],Z=w[4],V=w[5],J=w[6],_=w[7],ee=w[8],te=w[9],ie=w[10],le=w[11],he=w[12],fe=w[13],oe=w[14],Ce=w[15];return m.setValues(K*C+z*A+X*D+U*k,z*E+z*P+X*F+U*j,X*T+z*R+X*$+U*W,U*S+z*L+X*N+U*G,Z*C+V*A+J*D+_*k,Z*E+V*P+J*F+_*j,Z*T+V*R+J*$+_*W,Z*S+V*L+J*N+_*G,ee*C+te*A+ie*D+le*k,ee*E+te*P+ie*F+le*j,ee*T+te*R+ie*$+le*W,ee*S+te*L+ie*N+le*G,he*C+fe*A+oe*D+Ce*k,he*E+fe*P+oe*F+Ce*j,he*T+fe*R+oe*$+Ce*W,he*S+fe*L+oe*N+Ce*G)},fromRotationXYTranslation:function(g,m,x){var w=m.x,C=m.y,E=m.z,T=Math.sin(g.x),S=Math.cos(g.x),A=Math.sin(g.y),P=Math.cos(g.y),R=w,L=C,D=E,F=-T,$=0-F*A,N=0-S*A,k=F*P,j=S*P;return x||(R=P*w+A*E,L=$*w+S*C+k*E,D=N*w+T*C+j*E),this.setValues(P,$,N,0,0,S,T,0,A,k,j,0,R,L,D,1)},getMaxScaleOnAxis:function(){var g=this.val,m=g[0]*g[0]+g[1]*g[1]+g[2]*g[2],x=g[4]*g[4]+g[5]*g[5]+g[6]*g[6],w=g[8]*g[8]+g[9]*g[9]+g[10]*g[10];return Math.sqrt(Math.max(m,x,w))}}),l=new u,a=new u,d=new v,p=new v,h=new v;s.exports=u}),86883:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){return Math.min(r+o,v)};s.exports=y}),50040:(s=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){var o=r.length;if(o===0)return 0;r.sort(function(c,u){return c-u});var v=Math.floor(o/2);return o%2===0?(r[v]+r[v-1])/2:r[v]};s.exports=y}),37204:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){return Math.max(r-o,v)};s.exports=y}),65201:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c){v===void 0&&(v=o+1);var u=(r-o)/(v-o);return u>1?c!==void 0?(u=(c-r)/(c-v),u<0&&(u=0)):u=1:u<0&&(u=0),u};s.exports=y}),15746:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(94434),c=r(29747),u=r(25836),l=1e-6,a=new Int8Array([1,2,0]),d=new Float32Array([0,0,0]),p=new u(1,0,0),h=new u(0,1,0),g=new u,m=new v,x=new o({initialize:function(C,E,T,S){this.onChangeCallback=c,this.set(C,E,T,S)},x:{get:function(){return this._x},set:function(w){this._x=w,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(w){this._y=w,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(w){this._z=w,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(w){this._w=w,this.onChangeCallback(this)}},copy:function(w){return this.set(w)},set:function(w,C,E,T,S){return S===void 0&&(S=!0),typeof w=="object"?(this._x=w.x||0,this._y=w.y||0,this._z=w.z||0,this._w=w.w||0):(this._x=w||0,this._y=C||0,this._z=E||0,this._w=T||0),S&&this.onChangeCallback(this),this},add:function(w){return this._x+=w.x,this._y+=w.y,this._z+=w.z,this._w+=w.w,this.onChangeCallback(this),this},subtract:function(w){return this._x-=w.x,this._y-=w.y,this._z-=w.z,this._w-=w.w,this.onChangeCallback(this),this},scale:function(w){return this._x*=w,this._y*=w,this._z*=w,this._w*=w,this.onChangeCallback(this),this},length:function(){var w=this.x,C=this.y,E=this.z,T=this.w;return Math.sqrt(w*w+C*C+E*E+T*T)},lengthSq:function(){var w=this.x,C=this.y,E=this.z,T=this.w;return w*w+C*C+E*E+T*T},normalize:function(){var w=this.x,C=this.y,E=this.z,T=this.w,S=w*w+C*C+E*E+T*T;return S>0&&(S=1/Math.sqrt(S),this._x=w*S,this._y=C*S,this._z=E*S,this._w=T*S),this.onChangeCallback(this),this},dot:function(w){return this.x*w.x+this.y*w.y+this.z*w.z+this.w*w.w},lerp:function(w,C){C===void 0&&(C=0);var E=this.x,T=this.y,S=this.z,A=this.w;return this.set(E+C*(w.x-E),T+C*(w.y-T),S+C*(w.z-S),A+C*(w.w-A))},rotationTo:function(w,C){var E=w.x*C.x+w.y*C.y+w.z*C.z;return E<-.999999?(g.copy(p).cross(w).length()<l&&g.copy(h).cross(w),g.normalize(),this.setAxisAngle(g,Math.PI)):E>.999999?this.set(0,0,0,1):(g.copy(w).cross(C),this._x=g.x,this._y=g.y,this._z=g.z,this._w=1+E,this.normalize())},setAxes:function(w,C,E){var T=m.val;return T[0]=C.x,T[3]=C.y,T[6]=C.z,T[1]=E.x,T[4]=E.y,T[7]=E.z,T[2]=-w.x,T[5]=-w.y,T[8]=-w.z,this.fromMat3(m).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(w,C){C=C*.5;var E=Math.sin(C);return this.set(E*w.x,E*w.y,E*w.z,Math.cos(C))},multiply:function(w){var C=this.x,E=this.y,T=this.z,S=this.w,A=w.x,P=w.y,R=w.z,L=w.w;return this.set(C*L+S*A+E*R-T*P,E*L+S*P+T*A-C*R,T*L+S*R+C*P-E*A,S*L-C*A-E*P-T*R)},slerp:function(w,C){var E=this.x,T=this.y,S=this.z,A=this.w,P=w.x,R=w.y,L=w.z,D=w.w,F=E*P+T*R+S*L+A*D;F<0&&(F=-F,P=-P,R=-R,L=-L,D=-D);var $=1-C,N=C;if(1-F>l){var k=Math.acos(F),j=Math.sin(k);$=Math.sin((1-C)*k)/j,N=Math.sin(C*k)/j}return this.set($*E+N*P,$*T+N*R,$*S+N*L,$*A+N*D)},invert:function(){var w=this.x,C=this.y,E=this.z,T=this.w,S=w*w+C*C+E*E+T*T,A=S?1/S:0;return this.set(-w*A,-C*A,-E*A,T*A)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(w){w*=.5;var C=this.x,E=this.y,T=this.z,S=this.w,A=Math.sin(w),P=Math.cos(w);return this.set(C*P+S*A,E*P+T*A,T*P-E*A,S*P-C*A)},rotateY:function(w){w*=.5;var C=this.x,E=this.y,T=this.z,S=this.w,A=Math.sin(w),P=Math.cos(w);return this.set(C*P-T*A,E*P+S*A,T*P+C*A,S*P-E*A)},rotateZ:function(w){w*=.5;var C=this.x,E=this.y,T=this.z,S=this.w,A=Math.sin(w),P=Math.cos(w);return this.set(C*P+E*A,E*P-C*A,T*P+S*A,S*P-T*A)},calculateW:function(){var w=this.x,C=this.y,E=this.z;return this.w=-Math.sqrt(1-w*w-C*C-E*E),this},setFromEuler:function(w,C){var E=w.x/2,T=w.y/2,S=w.z/2,A=Math.cos(E),P=Math.cos(T),R=Math.cos(S),L=Math.sin(E),D=Math.sin(T),F=Math.sin(S);switch(w.order){case"XYZ":{this.set(L*P*R+A*D*F,A*D*R-L*P*F,A*P*F+L*D*R,A*P*R-L*D*F,C);break}case"YXZ":{this.set(L*P*R+A*D*F,A*D*R-L*P*F,A*P*F-L*D*R,A*P*R+L*D*F,C);break}case"ZXY":{this.set(L*P*R-A*D*F,A*D*R+L*P*F,A*P*F+L*D*R,A*P*R-L*D*F,C);break}case"ZYX":{this.set(L*P*R-A*D*F,A*D*R+L*P*F,A*P*F-L*D*R,A*P*R+L*D*F,C);break}case"YZX":{this.set(L*P*R+A*D*F,A*D*R+L*P*F,A*P*F-L*D*R,A*P*R-L*D*F,C);break}case"XZY":{this.set(L*P*R-A*D*F,A*D*R-L*P*F,A*P*F+L*D*R,A*P*R+L*D*F,C);break}}return this},setFromRotationMatrix:function(w){var C=w.val,E=C[0],T=C[4],S=C[8],A=C[1],P=C[5],R=C[9],L=C[2],D=C[6],F=C[10],$=E+P+F,N;return $>0?(N=.5/Math.sqrt($+1),this.set((D-R)*N,(S-L)*N,(A-T)*N,.25/N)):E>P&&E>F?(N=2*Math.sqrt(1+E-P-F),this.set(.25*N,(T+A)/N,(S+L)/N,(D-R)/N)):P>F?(N=2*Math.sqrt(1+P-E-F),this.set((T+A)/N,.25*N,(R+D)/N,(S-L)/N)):(N=2*Math.sqrt(1+F-E-P),this.set((S+L)/N,(R+D)/N,.25*N,(A-T)/N)),this},fromMat3:function(w){var C=w.val,E=C[0]+C[4]+C[8],T;if(E>0)T=Math.sqrt(E+1),this.w=.5*T,T=.5/T,this._x=(C[7]-C[5])*T,this._y=(C[2]-C[6])*T,this._z=(C[3]-C[1])*T;else{var S=0;C[4]>C[0]&&(S=1),C[8]>C[S*3+S]&&(S=2);var A=a[S],P=a[A];T=Math.sqrt(C[S*3+S]-C[A*3+A]-C[P*3+P]+1),d[S]=.5*T,T=.5/T,d[A]=(C[A*3+S]+C[S*3+A])*T,d[P]=(C[P*3+S]+C[S*3+P])*T,this._x=d[0],this._y=d[1],this._z=d[2],this._w=(C[P*3+A]-C[A*3+P])*T}return this.onChangeCallback(this),this}});s.exports=x}),43396:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36383),v=function(c){return c*o.RAD_TO_DEG};s.exports=v}),74362:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){o===void 0&&(o=1);var v=Math.random()*2*Math.PI;return r.x=Math.cos(v)*o,r.y=Math.sin(v)*o,r};s.exports=y}),60706:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){o===void 0&&(o=1);var v=Math.random()*2*Math.PI,c=Math.random()*2-1,u=Math.sqrt(1-c*c)*o;return r.x=Math.cos(v)*u,r.y=Math.sin(v)*u,r.z=c*o,r};s.exports=y}),67421:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return o===void 0&&(o=1),r.x=(Math.random()*2-1)*o,r.y=(Math.random()*2-1)*o,r.z=(Math.random()*2-1)*o,r.w=(Math.random()*2-1)*o,r};s.exports=y}),36305:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){var v=r.x,c=r.y;return r.x=v*Math.cos(o)-c*Math.sin(o),r.y=v*Math.sin(o)+c*Math.cos(o),r};s.exports=y}),11520:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c){var u=Math.cos(c),l=Math.sin(c),a=r.x-o,d=r.y-v;return r.x=a*u-d*l+o,r.y=a*l+d*u+v,r};s.exports=y}),1163:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c,u){var l=c+Math.atan2(r.y-v,r.x-o);return r.x=o+u*Math.cos(l),r.y=v+u*Math.sin(l),r};s.exports=y}),70336:(s=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c,u){return r.x=o+u*Math.cos(c),r.y=v+u*Math.sin(c),r};s.exports=y}),72678:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25836),v=r(37867),c=r(15746),u=new v,l=new c,a=new o,d=function(p,h,g){return l.setAxisAngle(h,g),u.fromRotationTranslation(l,a.set(0,0,0)),p.transformMat4(u)};s.exports=d}),2284:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r>0?Math.ceil(r):Math.floor(r)};s.exports=y}),41013:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){o===void 0&&(o=0),v===void 0&&(v=10);var c=Math.pow(v,-o);return Math.round(r*c)/c};s.exports=y}),16922:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c){o===void 0&&(o=1),v===void 0&&(v=1),c===void 0&&(c=1),c*=Math.PI/r;for(var u=[],l=[],a=0;a<r;a++)v-=o*c,o+=v*c,u[a]=v,l[a]=o;return{sin:l,cos:u,length:r}};s.exports=y}),7602:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){return r<=o?0:r>=v?1:(r=(r-o)/(v-o),r*r*(3-2*r))};s.exports=y}),54261:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){return r=Math.max(0,Math.min(1,(r-o)/(v-o))),r*r*r*(r*(r*6-15)+10)};s.exports=y}),44408:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),v=function(c,u,l,a){a===void 0&&(a=new o);var d=0,p=0,h=u*l;return c>0&&c<=h&&(c>u-1?(p=Math.floor(c/u),d=c-p*u):d=c),a.set(d,p)};s.exports=v}),85955:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),v=function(c,u,l,a,d,p,h,g){g===void 0&&(g=new o);var m=Math.sin(d),x=Math.cos(d),w=x*p,C=m*p,E=-m*h,T=x*h,S=1/(w*T+E*-C);return g.x=T*S*c+-E*S*u+(a*E-l*T)*S,g.y=w*S*u+-C*S*c+(-a*w+l*C)*S,g};s.exports=v}),26099:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(43855),c=new o({initialize:function(l,a){this.x=0,this.y=0,typeof l=="object"?(this.x=l.x||0,this.y=l.y||0):(a===void 0&&(a=l),this.x=l||0,this.y=a||0)},clone:function(){return new c(this.x,this.y)},copy:function(u){return this.x=u.x||0,this.y=u.y||0,this},setFromObject:function(u){return this.x=u.x||0,this.y=u.y||0,this},set:function(u,l){return l===void 0&&(l=u),this.x=u,this.y=l,this},setTo:function(u,l){return this.set(u,l)},setToPolar:function(u,l){return l==null&&(l=1),this.x=Math.cos(u)*l,this.y=Math.sin(u)*l,this},equals:function(u){return this.x===u.x&&this.y===u.y},fuzzyEquals:function(u,l){return v(this.x,u.x,l)&&v(this.y,u.y,l)},angle:function(){var u=Math.atan2(this.y,this.x);return u<0&&(u+=2*Math.PI),u},setAngle:function(u){return this.setToPolar(u,this.length())},add:function(u){return this.x+=u.x,this.y+=u.y,this},subtract:function(u){return this.x-=u.x,this.y-=u.y,this},multiply:function(u){return this.x*=u.x,this.y*=u.y,this},scale:function(u){return isFinite(u)?(this.x*=u,this.y*=u):(this.x=0,this.y=0),this},divide:function(u){return this.x/=u.x,this.y/=u.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(u){var l=u.x-this.x,a=u.y-this.y;return Math.sqrt(l*l+a*a)},distanceSq:function(u){var l=u.x-this.x,a=u.y-this.y;return l*l+a*a},length:function(){var u=this.x,l=this.y;return Math.sqrt(u*u+l*l)},setLength:function(u){return this.normalize().scale(u)},lengthSq:function(){var u=this.x,l=this.y;return u*u+l*l},normalize:function(){var u=this.x,l=this.y,a=u*u+l*l;return a>0&&(a=1/Math.sqrt(a),this.x=u*a,this.y=l*a),this},normalizeRightHand:function(){var u=this.x;return this.x=this.y*-1,this.y=u,this},normalizeLeftHand:function(){var u=this.x;return this.x=this.y,this.y=u*-1,this},dot:function(u){return this.x*u.x+this.y*u.y},cross:function(u){return this.x*u.y-this.y*u.x},lerp:function(u,l){l===void 0&&(l=0);var a=this.x,d=this.y;return this.x=a+l*(u.x-a),this.y=d+l*(u.y-d),this},transformMat3:function(u){var l=this.x,a=this.y,d=u.val;return this.x=d[0]*l+d[3]*a+d[6],this.y=d[1]*l+d[4]*a+d[7],this},transformMat4:function(u){var l=this.x,a=this.y,d=u.val;return this.x=d[0]*l+d[4]*a+d[12],this.y=d[1]*l+d[5]*a+d[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(u){var l=this.length();return l&&l>u&&this.scale(u/l),this},reflect:function(u){return u=u.clone().normalize(),this.subtract(u.scale(2*this.dot(u)))},mirror:function(u){return this.reflect(u).negate()},rotate:function(u){var l=Math.cos(u),a=Math.sin(u);return this.set(l*this.x-a*this.y,a*this.x+l*this.y)},project:function(u){var l=this.dot(u)/u.dot(u);return this.copy(u).scale(l)}});c.ZERO=new c,c.RIGHT=new c(1,0),c.LEFT=new c(-1,0),c.UP=new c(0,-1),c.DOWN=new c(0,1),c.ONE=new c(1,1),s.exports=c}),25836:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=new o({initialize:function(u,l,a){this.x=0,this.y=0,this.z=0,typeof u=="object"?(this.x=u.x||0,this.y=u.y||0,this.z=u.z||0):(this.x=u||0,this.y=l||0,this.z=a||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(c){return this.x=Math.min(this.x,c.x),this.y=Math.min(this.y,c.y),this.z=Math.min(this.z,c.z),this},max:function(c){return this.x=Math.max(this.x,c.x),this.y=Math.max(this.y,c.y),this.z=Math.max(this.z,c.z),this},clone:function(){return new v(this.x,this.y,this.z)},addVectors:function(c,u){return this.x=c.x+u.x,this.y=c.y+u.y,this.z=c.z+u.z,this},subVectors:function(c,u){return this.x=c.x-u.x,this.y=c.y-u.y,this.z=c.z-u.z,this},crossVectors:function(c,u){var l=c.x,a=c.y,d=c.z,p=u.x,h=u.y,g=u.z;return this.x=a*g-d*h,this.y=d*p-l*g,this.z=l*h-a*p,this},equals:function(c){return this.x===c.x&&this.y===c.y&&this.z===c.z},copy:function(c){return this.x=c.x,this.y=c.y,this.z=c.z||0,this},set:function(c,u,l){return typeof c=="object"?(this.x=c.x||0,this.y=c.y||0,this.z=c.z||0):(this.x=c||0,this.y=u||0,this.z=l||0),this},setFromMatrixPosition:function(c){return this.fromArray(c.val,12)},setFromMatrixColumn:function(c,u){return this.fromArray(c.val,u*4)},fromArray:function(c,u){return u===void 0&&(u=0),this.x=c[u],this.y=c[u+1],this.z=c[u+2],this},add:function(c){return this.x+=c.x,this.y+=c.y,this.z+=c.z||0,this},addScalar:function(c){return this.x+=c,this.y+=c,this.z+=c,this},addScale:function(c,u){return this.x+=c.x*u,this.y+=c.y*u,this.z+=c.z*u||0,this},subtract:function(c){return this.x-=c.x,this.y-=c.y,this.z-=c.z||0,this},multiply:function(c){return this.x*=c.x,this.y*=c.y,this.z*=c.z||1,this},scale:function(c){return isFinite(c)?(this.x*=c,this.y*=c,this.z*=c):(this.x=0,this.y=0,this.z=0),this},divide:function(c){return this.x/=c.x,this.y/=c.y,this.z/=c.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(c){var u=c.x-this.x,l=c.y-this.y,a=c.z-this.z||0;return Math.sqrt(u*u+l*l+a*a)},distanceSq:function(c){var u=c.x-this.x,l=c.y-this.y,a=c.z-this.z||0;return u*u+l*l+a*a},length:function(){var c=this.x,u=this.y,l=this.z;return Math.sqrt(c*c+u*u+l*l)},lengthSq:function(){var c=this.x,u=this.y,l=this.z;return c*c+u*u+l*l},normalize:function(){var c=this.x,u=this.y,l=this.z,a=c*c+u*u+l*l;return a>0&&(a=1/Math.sqrt(a),this.x=c*a,this.y=u*a,this.z=l*a),this},dot:function(c){return this.x*c.x+this.y*c.y+this.z*c.z},cross:function(c){var u=this.x,l=this.y,a=this.z,d=c.x,p=c.y,h=c.z;return this.x=l*h-a*p,this.y=a*d-u*h,this.z=u*p-l*d,this},lerp:function(c,u){u===void 0&&(u=0);var l=this.x,a=this.y,d=this.z;return this.x=l+u*(c.x-l),this.y=a+u*(c.y-a),this.z=d+u*(c.z-d),this},applyMatrix3:function(c){var u=this.x,l=this.y,a=this.z,d=c.val;return this.x=d[0]*u+d[3]*l+d[6]*a,this.y=d[1]*u+d[4]*l+d[7]*a,this.z=d[2]*u+d[5]*l+d[8]*a,this},applyMatrix4:function(c){var u=this.x,l=this.y,a=this.z,d=c.val,p=1/(d[3]*u+d[7]*l+d[11]*a+d[15]);return this.x=(d[0]*u+d[4]*l+d[8]*a+d[12])*p,this.y=(d[1]*u+d[5]*l+d[9]*a+d[13])*p,this.z=(d[2]*u+d[6]*l+d[10]*a+d[14])*p,this},transformMat3:function(c){var u=this.x,l=this.y,a=this.z,d=c.val;return this.x=u*d[0]+l*d[3]+a*d[6],this.y=u*d[1]+l*d[4]+a*d[7],this.z=u*d[2]+l*d[5]+a*d[8],this},transformMat4:function(c){var u=this.x,l=this.y,a=this.z,d=c.val;return this.x=d[0]*u+d[4]*l+d[8]*a+d[12],this.y=d[1]*u+d[5]*l+d[9]*a+d[13],this.z=d[2]*u+d[6]*l+d[10]*a+d[14],this},transformCoordinates:function(c){var u=this.x,l=this.y,a=this.z,d=c.val,p=u*d[0]+l*d[4]+a*d[8]+d[12],h=u*d[1]+l*d[5]+a*d[9]+d[13],g=u*d[2]+l*d[6]+a*d[10]+d[14],m=u*d[3]+l*d[7]+a*d[11]+d[15];return this.x=p/m,this.y=h/m,this.z=g/m,this},transformQuat:function(c){var u=this.x,l=this.y,a=this.z,d=c.x,p=c.y,h=c.z,g=c.w,m=g*u+p*a-h*l,x=g*l+h*u-d*a,w=g*a+d*l-p*u,C=-d*u-p*l-h*a;return this.x=m*g+C*-d+x*-h-w*-p,this.y=x*g+C*-p+w*-d-m*-h,this.z=w*g+C*-h+m*-p-x*-d,this},project:function(c){var u=this.x,l=this.y,a=this.z,d=c.val,p=d[0],h=d[1],g=d[2],m=d[3],x=d[4],w=d[5],C=d[6],E=d[7],T=d[8],S=d[9],A=d[10],P=d[11],R=d[12],L=d[13],D=d[14],F=d[15],$=1/(u*m+l*E+a*P+F);return this.x=(u*p+l*x+a*T+R)*$,this.y=(u*h+l*w+a*S+L)*$,this.z=(u*g+l*C+a*A+D)*$,this},projectViewMatrix:function(c,u){return this.applyMatrix4(c).applyMatrix4(u)},unprojectViewMatrix:function(c,u){return this.applyMatrix4(c).applyMatrix4(u)},unproject:function(c,u){var l=c.x,a=c.y,d=c.z,p=c.w,h=this.x-l,g=p-this.y-1-a,m=this.z;return this.x=2*h/d-1,this.y=2*g/p-1,this.z=2*m-1,this.project(u)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});v.ZERO=new v,v.RIGHT=new v(1,0,0),v.LEFT=new v(-1,0,0),v.UP=new v(0,-1,0),v.DOWN=new v(0,1,0),v.FORWARD=new v(0,0,1),v.BACK=new v(0,0,-1),v.ONE=new v(1,1,1),s.exports=v}),61369:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=new o({initialize:function(u,l,a,d){this.x=0,this.y=0,this.z=0,this.w=0,typeof u=="object"?(this.x=u.x||0,this.y=u.y||0,this.z=u.z||0,this.w=u.w||0):(this.x=u||0,this.y=l||0,this.z=a||0,this.w=d||0)},clone:function(){return new v(this.x,this.y,this.z,this.w)},copy:function(c){return this.x=c.x,this.y=c.y,this.z=c.z||0,this.w=c.w||0,this},equals:function(c){return this.x===c.x&&this.y===c.y&&this.z===c.z&&this.w===c.w},set:function(c,u,l,a){return typeof c=="object"?(this.x=c.x||0,this.y=c.y||0,this.z=c.z||0,this.w=c.w||0):(this.x=c||0,this.y=u||0,this.z=l||0,this.w=a||0),this},add:function(c){return this.x+=c.x,this.y+=c.y,this.z+=c.z||0,this.w+=c.w||0,this},subtract:function(c){return this.x-=c.x,this.y-=c.y,this.z-=c.z||0,this.w-=c.w||0,this},scale:function(c){return this.x*=c,this.y*=c,this.z*=c,this.w*=c,this},length:function(){var c=this.x,u=this.y,l=this.z,a=this.w;return Math.sqrt(c*c+u*u+l*l+a*a)},lengthSq:function(){var c=this.x,u=this.y,l=this.z,a=this.w;return c*c+u*u+l*l+a*a},normalize:function(){var c=this.x,u=this.y,l=this.z,a=this.w,d=c*c+u*u+l*l+a*a;return d>0&&(d=1/Math.sqrt(d),this.x=c*d,this.y=u*d,this.z=l*d,this.w=a*d),this},dot:function(c){return this.x*c.x+this.y*c.y+this.z*c.z+this.w*c.w},lerp:function(c,u){u===void 0&&(u=0);var l=this.x,a=this.y,d=this.z,p=this.w;return this.x=l+u*(c.x-l),this.y=a+u*(c.y-a),this.z=d+u*(c.z-d),this.w=p+u*(c.w-p),this},multiply:function(c){return this.x*=c.x,this.y*=c.y,this.z*=c.z||1,this.w*=c.w||1,this},divide:function(c){return this.x/=c.x,this.y/=c.y,this.z/=c.z||1,this.w/=c.w||1,this},distance:function(c){var u=c.x-this.x,l=c.y-this.y,a=c.z-this.z||0,d=c.w-this.w||0;return Math.sqrt(u*u+l*l+a*a+d*d)},distanceSq:function(c){var u=c.x-this.x,l=c.y-this.y,a=c.z-this.z||0,d=c.w-this.w||0;return u*u+l*l+a*a+d*d},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(c){var u=this.x,l=this.y,a=this.z,d=this.w,p=c.val;return this.x=p[0]*u+p[4]*l+p[8]*a+p[12]*d,this.y=p[1]*u+p[5]*l+p[9]*a+p[13]*d,this.z=p[2]*u+p[6]*l+p[10]*a+p[14]*d,this.w=p[3]*u+p[7]*l+p[11]*a+p[15]*d,this},transformQuat:function(c){var u=this.x,l=this.y,a=this.z,d=c.x,p=c.y,h=c.z,g=c.w,m=g*u+p*a-h*l,x=g*l+h*u-d*a,w=g*a+d*l-p*u,C=-d*u-p*l-h*a;return this.x=m*g+C*-d+x*-h-w*-p,this.y=x*g+C*-p+w*-d-m*-h,this.z=w*g+C*-h+m*-p-x*-d,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});v.prototype.sub=v.prototype.subtract,v.prototype.mul=v.prototype.multiply,v.prototype.div=v.prototype.divide,v.prototype.dist=v.prototype.distance,v.prototype.distSq=v.prototype.distanceSq,v.prototype.len=v.prototype.length,v.prototype.lenSq=v.prototype.lengthSq,s.exports=v}),60417:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){return Math.abs(r-o)<=v};s.exports=y}),15994:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){var c=v-o;return o+((r-o)%c+c)%c};s.exports=y}),31040:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c){return Math.atan2(c-o,v-r)};s.exports=y}),55495:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return Math.atan2(o.y-r.y,o.x-r.x)};s.exports=y}),128:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return Math.atan2(o.x-r.x,o.y-r.y)};s.exports=y}),41273:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c){return Math.atan2(v-r,c-o)};s.exports=y}),1432:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36383),v=function(c){return c>Math.PI&&(c-=o.PI2),Math.abs(((c+o.TAU)%o.PI2-o.PI2)%o.PI2)};s.exports=v}),49127:((s,y,r)=>{/**
 * @author       samme
 * @copyright    2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(12407),v=function(c,u){return o(u-c)};s.exports=v}),52285:((s,y,r)=>{/**
 * @author       samme
 * @copyright    2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(12407),v=2*Math.PI,c=function(u,l){var a=o(l-u);return a>0&&(a-=v),a};s.exports=c}),67317:((s,y,r)=>{/**
 * @author       samme
 * @copyright    2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(86554),v=function(c,u){return o(u-c)};s.exports=v}),12407:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r=r%(2*Math.PI),r>=0?r:r+2*Math.PI};s.exports=y}),53993:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(99472),v=function(){return o(-Math.PI,Math.PI)};s.exports=v}),86564:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(99472),v=function(){return o(-180,180)};s.exports=v}),90154:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(12407),v=function(c){return o(c+Math.PI)};s.exports=v}),48736:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36383),v=function(c,u,l){return l===void 0&&(l=.05),c===u||(Math.abs(u-c)<=l||Math.abs(u-c)>=o.PI2-l?c=u:(Math.abs(u-c)>Math.PI&&(u<c?u+=o.PI2:u-=o.PI2),u>c?c+=l:u<c&&(c-=l))),c};s.exports=v}),61430:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){var v=o-r;if(v===0)return 0;var c=Math.floor((v- -180)/360);return v-c*360};s.exports=y}),86554:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(15994),v=function(c){return o(c,-Math.PI,Math.PI)};s.exports=v}),30954:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(15994),v=function(c){return o(c,-180,180)};s.exports=v}),25588:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Between:r(31040),BetweenPoints:r(55495),BetweenPointsY:r(128),BetweenY:r(41273),CounterClockwise:r(1432),GetClockwiseDistance:r(49127),GetCounterClockwiseDistance:r(52285),GetShortestDistance:r(67317),Normalize:r(12407),Random:r(53993),RandomDegrees:r(86564),Reverse:r(90154),RotateTo:r(48736),ShortestBetween:r(61430),Wrap:r(86554),WrapDegrees:r(30954)}}),36383:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};s.exports=y}),20339:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c){var u=r-v,l=o-c;return Math.sqrt(u*u+l*l)};s.exports=y}),52816:(s=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){var v=r.x-o.x,c=r.y-o.y;return Math.sqrt(v*v+c*c)};s.exports=y}),64559:(s=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){var v=r.x-o.x,c=r.y-o.y;return v*v+c*c};s.exports=y}),82340:(s=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c){return Math.max(Math.abs(r-v),Math.abs(o-c))};s.exports=y}),14390:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c,u){return u===void 0&&(u=2),Math.sqrt(Math.pow(v-r,u)+Math.pow(c-o,u))};s.exports=y}),2243:(s=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c){return Math.abs(r-v)+Math.abs(o-c)};s.exports=y}),89774:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c){var u=r-v,l=o-c;return u*u+l*l};s.exports=y}),50994:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Between:r(20339),BetweenPoints:r(52816),BetweenPointsSquared:r(64559),Chebyshev:r(82340),Power:r(14390),Snake:r(2243),Squared:r(89774)}}),62640:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(54178),v=r(41521),c=r(79980),u=r(85433),l=r(99140),a=r(48857),d=r(81596),p=r(59133),h=r(98516),g=r(35248),m=r(82500),x=r(49752);s.exports={Power0:d,Power1:p.Out,Power2:u.Out,Power3:h.Out,Power4:g.Out,Linear:d,Quad:p.Out,Cubic:u.Out,Quart:h.Out,Quint:g.Out,Sine:m.Out,Expo:a.Out,Circ:c.Out,Elastic:l.Out,Back:o.Out,Bounce:v.Out,Stepped:x,"Quad.easeIn":p.In,"Cubic.easeIn":u.In,"Quart.easeIn":h.In,"Quint.easeIn":g.In,"Sine.easeIn":m.In,"Expo.easeIn":a.In,"Circ.easeIn":c.In,"Elastic.easeIn":l.In,"Back.easeIn":o.In,"Bounce.easeIn":v.In,"Quad.easeOut":p.Out,"Cubic.easeOut":u.Out,"Quart.easeOut":h.Out,"Quint.easeOut":g.Out,"Sine.easeOut":m.Out,"Expo.easeOut":a.Out,"Circ.easeOut":c.Out,"Elastic.easeOut":l.Out,"Back.easeOut":o.Out,"Bounce.easeOut":v.Out,"Quad.easeInOut":p.InOut,"Cubic.easeInOut":u.InOut,"Quart.easeInOut":h.InOut,"Quint.easeInOut":g.InOut,"Sine.easeInOut":m.InOut,"Expo.easeInOut":a.InOut,"Circ.easeInOut":c.InOut,"Elastic.easeInOut":l.InOut,"Back.easeInOut":o.InOut,"Bounce.easeInOut":v.InOut}}),1639:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return o===void 0&&(o=1.70158),r*r*((o+1)*r-o)};s.exports=y}),50099:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){o===void 0&&(o=1.70158);var v=o*1.525;return(r*=2)<1?.5*(r*r*((v+1)*r-v)):.5*((r-=2)*r*((v+1)*r+v)+2)};s.exports=y}),41286:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return o===void 0&&(o=1.70158),--r*r*((o+1)*r+o)+1};s.exports=y}),54178:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={In:r(1639),Out:r(41286),InOut:r(50099)}}),59590:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r=1-r,r<.36363636363636365?1-7.5625*r*r:r<.7272727272727273?1-(7.5625*(r-=.5454545454545454)*r+.75):r<.9090909090909091?1-(7.5625*(r-=.8181818181818182)*r+.9375):1-(7.5625*(r-=.9545454545454546)*r+.984375)};s.exports=y}),41788:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){var o=!1;return r<.5?(r=1-r*2,o=!0):r=r*2-1,r<.36363636363636365?r=7.5625*r*r:r<.7272727272727273?r=7.5625*(r-=.5454545454545454)*r+.75:r<.9090909090909091?r=7.5625*(r-=.8181818181818182)*r+.9375:r=7.5625*(r-=.9545454545454546)*r+.984375,o?(1-r)*.5:r*.5+.5};s.exports=y}),69905:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r<.36363636363636365?7.5625*r*r:r<.7272727272727273?7.5625*(r-=.5454545454545454)*r+.75:r<.9090909090909091?7.5625*(r-=.8181818181818182)*r+.9375:7.5625*(r-=.9545454545454546)*r+.984375};s.exports=y}),41521:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={In:r(59590),Out:r(69905),InOut:r(41788)}}),91861:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return 1-Math.sqrt(1-r*r)};s.exports=y}),4177:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return(r*=2)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1)};s.exports=y}),57512:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return Math.sqrt(1- --r*r)};s.exports=y}),79980:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={In:r(91861),Out:r(57512),InOut:r(4177)}}),51150:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r*r*r};s.exports=y}),82820:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return(r*=2)<1?.5*r*r*r:.5*((r-=2)*r*r+2)};s.exports=y}),35033:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return--r*r*r+1};s.exports=y}),85433:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={In:r(51150),Out:r(35033),InOut:r(82820)}}),69965:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){if(o===void 0&&(o=.1),v===void 0&&(v=.1),r===0)return 0;if(r===1)return 1;var c=v/4;return o<1?o=1:c=v*Math.asin(1/o)/(2*Math.PI),-(o*Math.pow(2,10*(r-=1))*Math.sin((r-c)*(2*Math.PI)/v))};s.exports=y}),50665:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){if(o===void 0&&(o=.1),v===void 0&&(v=.1),r===0)return 0;if(r===1)return 1;var c=v/4;return o<1?o=1:c=v*Math.asin(1/o)/(2*Math.PI),(r*=2)<1?-.5*(o*Math.pow(2,10*(r-=1))*Math.sin((r-c)*(2*Math.PI)/v)):o*Math.pow(2,-10*(r-=1))*Math.sin((r-c)*(2*Math.PI)/v)*.5+1};s.exports=y}),7744:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){if(o===void 0&&(o=.1),v===void 0&&(v=.1),r===0)return 0;if(r===1)return 1;var c=v/4;return o<1?o=1:c=v*Math.asin(1/o)/(2*Math.PI),o*Math.pow(2,-10*r)*Math.sin((r-c)*(2*Math.PI)/v)+1};s.exports=y}),99140:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={In:r(69965),Out:r(7744),InOut:r(50665)}}),24590:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return Math.pow(2,10*(r-1))-.001};s.exports=y}),87844:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return(r*=2)<1?.5*Math.pow(2,10*(r-1)):.5*(2-Math.pow(2,-10*(r-1)))};s.exports=y}),89433:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return 1-Math.pow(2,-10*r)};s.exports=y}),48857:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={In:r(24590),Out:r(89433),InOut:r(87844)}}),48820:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Back:r(54178),Bounce:r(41521),Circular:r(79980),Cubic:r(85433),Elastic:r(99140),Expo:r(48857),Linear:r(81596),Quadratic:r(59133),Quartic:r(98516),Quintic:r(35248),Sine:r(82500),Stepped:r(49752)}}),7147:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r};s.exports=y}),81596:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports=r(7147)}),34826:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r*r};s.exports=y}),20544:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return(r*=2)<1?.5*r*r:-.5*(--r*(r-2)-1)};s.exports=y}),92029:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r*(2-r)};s.exports=y}),59133:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={In:r(34826),Out:r(92029),InOut:r(20544)}}),64413:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r*r*r*r};s.exports=y}),78137:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return(r*=2)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2)};s.exports=y}),45840:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return 1- --r*r*r*r};s.exports=y}),98516:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={In:r(64413),Out:r(45840),InOut:r(78137)}}),87745:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r*r*r*r*r};s.exports=y}),16509:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return(r*=2)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2)};s.exports=y}),17868:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return--r*r*r*r*r+1};s.exports=y}),35248:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={In:r(87745),Out:r(17868),InOut:r(16509)}}),80461:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r===0?0:r===1?1:1-Math.cos(r*Math.PI/2)};s.exports=y}),34025:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r===0?0:r===1?1:.5*(1-Math.cos(Math.PI*r))};s.exports=y}),52768:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r===0?0:r===1?1:Math.sin(r*Math.PI/2)};s.exports=y}),82500:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={In:r(80461),Out:r(52768),InOut:r(34025)}}),72251:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return o===void 0&&(o=1),r<=0?0:r>=1?1:((o*r|0)+1)*(1/o)};s.exports=y}),49752:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports=r(72251)}),75698:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return o===void 0&&(o=1e-4),Math.ceil(r-o)};s.exports=y}),43855:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){return v===void 0&&(v=1e-4),Math.abs(r-o)<v};s.exports=y}),25777:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return o===void 0&&(o=1e-4),Math.floor(r+o)};s.exports=y}),5470:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){return v===void 0&&(v=1e-4),r>o-v};s.exports=y}),94977:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){return v===void 0&&(v=1e-4),r<o+v};s.exports=y}),48379:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Ceil:r(75698),Equal:r(43855),Floor:r(25777),GreaterThan:r(5470),LessThan:r(94977)}}),75508:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36383),v=r(79291),c={Angle:r(25588),Distance:r(50994),Easing:r(48820),Fuzzy:r(48379),Interpolation:r(38289),Pow2:r(49001),Snap:r(73697),RandomDataGenerator:r(28453),Average:r(53307),Bernstein:r(85710),Between:r(30976),CatmullRom:r(87842),CeilTo:r(26302),Clamp:r(45319),DegToRad:r(39506),Difference:r(61241),Euler:r(38857),Factorial:r(6411),FloatBetween:r(99472),FloorTo:r(77623),FromPercent:r(62945),GetSpeed:r(38265),IsEven:r(78702),IsEvenStrict:r(94883),Linear:r(28915),LinearXY:r(94908),MaxAdd:r(86883),Median:r(50040),MinSub:r(37204),Percent:r(65201),RadToDeg:r(43396),RandomXY:r(74362),RandomXYZ:r(60706),RandomXYZW:r(67421),Rotate:r(36305),RotateAround:r(11520),RotateAroundDistance:r(1163),RotateTo:r(70336),RoundAwayFromZero:r(2284),RoundTo:r(41013),SinCosTableGenerator:r(16922),SmootherStep:r(54261),SmoothStep:r(7602),ToXY:r(44408),TransformXY:r(85955),Within:r(60417),Wrap:r(15994),Vector2:r(26099),Vector3:r(25836),Vector4:r(61369),Matrix3:r(94434),Matrix4:r(37867),Quaternion:r(15746),RotateVec3:r(72678)};c=v(!1,c,o),s.exports=c}),89318:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(85710),v=function(c,u){for(var l=0,a=c.length-1,d=0;d<=a;d++)l+=Math.pow(1-u,a-d)*Math.pow(u,d)*c[d]*o(a,d);return l};s.exports=v}),77259:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87842),v=function(c,u){var l=c.length-1,a=l*u,d=Math.floor(a);return c[0]===c[l]?(u<0&&(d=Math.floor(a=l*(1+u))),o(a-d,c[(d-1+l)%l],c[d],c[(d+1)%l],c[(d+2)%l])):u<0?c[0]-(o(-a,c[0],c[0],c[1],c[1])-c[0]):u>1?c[l]-(o(a-l,c[l],c[l],c[l-1],c[l-1])-c[l]):o(a-d,c[d?d-1:0],c[d],c[l<d+1?l:d+1],c[l<d+2?l:d+2])};s.exports=v}),36316:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(u,l){var a=1-u;return a*a*a*l}function r(u,l){var a=1-u;return 3*a*a*u*l}function o(u,l){return 3*(1-u)*u*u*l}function v(u,l){return u*u*u*l}var c=function(u,l,a,d,p){return y(u,l)+r(u,a)+o(u,d)+v(u,p)};s.exports=c}),28392:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(28915),v=function(c,u){var l=c.length-1,a=l*u,d=Math.floor(a);return u<0?o(c[0],c[1],a):u>1?o(c[l],c[l-1],l-a):o(c[d],c[d+1>l?l:d+1],a-d)};s.exports=v}),32112:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(c,u){var l=1-c;return l*l*u}function r(c,u){return 2*(1-c)*c*u}function o(c,u){return c*c*u}var v=function(c,u,l,a){return y(c,u)+r(c,l)+o(c,a)};s.exports=v}),47235:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7602),v=function(c,u,l){return u+(l-u)*o(c,0,1)};s.exports=v}),50178:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(54261),v=function(c,u,l){return u+(l-u)*o(c,0,1)};s.exports=v}),38289:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Bezier:r(89318),CatmullRom:r(77259),CubicBezier:r(36316),Linear:r(28392),QuadraticBezier:r(32112),SmoothStep:r(47235),SmootherStep:r(50178)}}),98439:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){var o=Math.log(r)/.6931471805599453;return 1<<Math.ceil(o)};s.exports=y}),50030:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return r>0&&(r&r-1)===0&&o>0&&(o&o-1)===0};s.exports=y}),81230:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r>0&&(r&r-1)===0};s.exports=y}),49001:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={GetNext:r(98439),IsSize:r(50030),IsValue:r(81230)}}),28453:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=new o({initialize:function(u){u===void 0&&(u=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],u&&this.init(u)},rnd:function(){var c=2091639*this.s0+this.c*23283064365386963e-26;return this.c=c|0,this.s0=this.s1,this.s1=this.s2,this.s2=c-this.c,this.s2},hash:function(c){var u,l=this.n;c=c.toString();for(var a=0;a<c.length;a++)l+=c.charCodeAt(a),u=.02519603282416938*l,l=u>>>0,u-=l,u*=l,l=u>>>0,u-=l,l+=u*4294967296;return this.n=l,(l>>>0)*23283064365386963e-26},init:function(c){typeof c=="string"?this.state(c):this.sow(c)},sow:function(c){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!c)for(var u=0;u<c.length&&c[u]!=null;u++){var l=c[u];this.s0-=this.hash(l),this.s0+=~~(this.s0<0),this.s1-=this.hash(l),this.s1+=~~(this.s1<0),this.s2-=this.hash(l),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(c,u){return Math.floor(this.realInRange(0,u-c+1)+c)},between:function(c,u){return Math.floor(this.realInRange(0,u-c+1)+c)},realInRange:function(c,u){return this.frac()*(u-c)+c},normal:function(){return 1-2*this.frac()},uuid:function(){var c="",u="";for(u=c="";c++<36;u+=~c%5|c*3&4?(c^15?8^this.frac()*(c^20?16:4):4).toString(16):"-");return u},pick:function(c){return c[this.integerInRange(0,c.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(c){return c[~~(Math.pow(this.frac(),2)*(c.length-.5)+.5)]},timestamp:function(c,u){return this.realInRange(c||9466848e5,u||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(c){return typeof c=="string"&&c.match(/^!rnd/)&&(c=c.split(","),this.c=parseFloat(c[1]),this.s0=parseFloat(c[2]),this.s1=parseFloat(c[3]),this.s2=parseFloat(c[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(c){for(var u=c.length-1,l=u;l>0;l--){var a=Math.floor(this.frac()*(l+1)),d=c[a];c[a]=c[l],c[l]=d}return c}});s.exports=v}),63448:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c){return v===void 0&&(v=0),o===0?r:(r-=v,r=o*Math.ceil(r/o),c?(v+r)/o:v+r)};s.exports=y}),56583:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c){return v===void 0&&(v=0),o===0?r:(r-=v,r=o*Math.floor(r/o),c?(v+r)/o:v+r)};s.exports=y}),77720:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c){return v===void 0&&(v=0),o===0?r:(r-=v,r=o*Math.round(r/o),c?(v+r)/o:v+r)};s.exports=y}),73697:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Ceil:r(63448),Floor:r(56583),To:r(77720)}}),85454:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r(63595);var o=r(8054),v=r(79291),c={Actions:r(61061),Animations:r(60421),BlendModes:r(10312),Cache:r(83388),Cameras:r(26638),Core:r(42857),Class:r(83419),Create:r(15822),Curves:r(25410),Data:r(44965),Display:r(27460),DOM:r(84902),Events:r(93055),FX:r(66064),Game:r(50127),GameObjects:r(77856),Geom:r(55738),Input:r(14350),Loader:r(57777),Math:r(75508),Physics:r(44563),Plugins:r(18922),Renderer:r(36909),Scale:r(93364),ScaleModes:r(29795),Scene:r(97482),Scenes:r(62194),Structs:r(41392),Textures:r(27458),Tilemaps:r(62501),Time:r(90291),Tweens:r(43066),Utils:r(91799)};c.Sound=r(23717),c=v(!1,c,o),s.exports=c,r.g.Phaser=c}),71289:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(92209),c=r(88571),u=new o({Extends:c,Mixins:[v.Acceleration,v.Angular,v.Bounce,v.Collision,v.Debug,v.Drag,v.Enable,v.Friction,v.Gravity,v.Immovable,v.Mass,v.Pushable,v.Size,v.Velocity],initialize:function(a,d,p,h,g){c.call(this,a,d,p,h,g),this.body=null}});s.exports=u}),86689:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(39506),c=r(20339),u=r(89774),l=r(66022),a=r(95540),d=r(46975),p=r(72441),h=r(47956),g=r(37277),m=r(44594),x=r(26099),w=r(82248),C=new o({initialize:function(T){this.scene=T,this.systems=T.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,T.sys.events.once(m.BOOT,this.boot,this),T.sys.events.on(m.START,this.start,this)},boot:function(){this.world=new w(this.scene,this.config),this.add=new l(this.world),this.systems.events.once(m.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new w(this.scene,this.config),this.add=new l(this.world));var E=this.systems.events;a(this.config,"customUpdate",!1)||E.on(m.UPDATE,this.world.update,this.world),E.on(m.POST_UPDATE,this.world.postUpdate,this.world),E.once(m.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(m.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(m.UPDATE,this.world.update,this.world)},getConfig:function(){var E=this.systems.game.config.physics,T=this.systems.settings.physics,S=d(a(T,"arcade",{}),a(E,"arcade",{}));return S},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(E,T,S,A,P){return S===void 0&&(S=null),A===void 0&&(A=null),P===void 0&&(P=S),this.world.collideObjects(E,T,S,A,P,!0)},collide:function(E,T,S,A,P){return S===void 0&&(S=null),A===void 0&&(A=null),P===void 0&&(P=S),this.world.collideObjects(E,T,S,A,P,!1)},collideTiles:function(E,T,S,A,P){return this.world.collideTiles(E,T,S,A,P)},overlapTiles:function(E,T,S,A,P){return this.world.overlapTiles(E,T,S,A,P)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(E,T,S,A,P,R){A===void 0&&(A=60);var L=Math.atan2(S-E.y,T-E.x);return E.body.acceleration.setToPolar(L,A),P!==void 0&&R!==void 0&&E.body.maxVelocity.set(P,R),L},accelerateToObject:function(E,T,S,A,P){return this.accelerateTo(E,T.x,T.y,S,A,P)},closest:function(E,T){T||(T=this.world.bodies.entries);for(var S=Number.MAX_VALUE,A=null,P=E.x,R=E.y,L=T.length,D=0;D<L;D++){var F=T[D],$=F.body||F;if(!(E===F||E===$||E===$.gameObject||E===$.center)){var N=u(P,R,$.center.x,$.center.y);N<S&&(A=F,S=N)}}return A},furthest:function(E,T){T||(T=this.world.bodies.entries);for(var S=-1,A=null,P=E.x,R=E.y,L=T.length,D=0;D<L;D++){var F=T[D],$=F.body||F;if(!(E===F||E===$||E===$.gameObject||E===$.center)){var N=u(P,R,$.center.x,$.center.y);N>S&&(A=F,S=N)}}return A},moveTo:function(E,T,S,A,P){A===void 0&&(A=60),P===void 0&&(P=0);var R=Math.atan2(S-E.y,T-E.x);return P>0&&(A=c(E.x,E.y,T,S)/(P/1e3)),E.body.velocity.setToPolar(R,A),R},moveToObject:function(E,T,S,A){return this.moveTo(E,T.x,T.y,S,A)},velocityFromAngle:function(E,T,S){return T===void 0&&(T=60),S===void 0&&(S=new x),S.setToPolar(v(E),T)},velocityFromRotation:function(E,T,S){return T===void 0&&(T=60),S===void 0&&(S=new x),S.setToPolar(E,T)},overlapRect:function(E,T,S,A,P,R){return h(this.world,E,T,S,A,P,R)},overlapCirc:function(E,T,S,A,P){return p(this.world,E,T,S,A,P)},shutdown:function(){if(this.world){var E=this.systems.events;E.off(m.UPDATE,this.world.update,this.world),E.off(m.POST_UPDATE,this.world.postUpdate,this.world),E.off(m.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(m.START,this.start,this),this.scene=null,this.systems=null}});g.register("ArcadePhysics",C,"arcadePhysics"),s.exports=C}),13759:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(92209),c=r(68287),u=new o({Extends:c,Mixins:[v.Acceleration,v.Angular,v.Bounce,v.Collision,v.Debug,v.Drag,v.Enable,v.Friction,v.Gravity,v.Immovable,v.Mass,v.Pushable,v.Size,v.Velocity],initialize:function(a,d,p,h,g){c.call(this,a,d,p,h,g),this.body=null}});s.exports=u}),37742:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(78389),c=r(37747),u=r(63012),l=r(43396),a=r(87841),d=r(37303),p=r(95829),h=r(26099),g=new o({Mixins:[v],initialize:function(x,w){var C=64,E=64,T={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},S=w!==void 0;S&&w.displayWidth&&(C=w.displayWidth,E=w.displayHeight),S||(w=T),this.world=x,this.gameObject=S?w:void 0,this.isBody=!0,this.transform={x:w.x,y:w.y,rotation:w.angle,scaleX:w.scaleX,scaleY:w.scaleY,displayOriginX:w.displayOriginX,displayOriginY:w.displayOriginY},this.debugShowBody=x.defaults.debugShowBody,this.debugShowVelocity=x.defaults.debugShowVelocity,this.debugBodyColor=x.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new h,this.position=new h(w.x-w.scaleX*w.displayOriginX,w.y-w.scaleY*w.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=w.angle,this.preRotation=w.angle,this.width=C,this.height=E,this.sourceWidth=C,this.sourceHeight=E,w.frame&&(this.sourceWidth=w.frame.realWidth,this.sourceHeight=w.frame.realHeight),this.halfWidth=Math.abs(C/2),this.halfHeight=Math.abs(E/2),this.center=new h(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new h,this.newVelocity=new h,this.deltaMax=new h,this.acceleration=new h,this.allowDrag=!0,this.drag=new h,this.allowGravity=!0,this.gravity=new h,this.bounce=new h,this.worldBounce=null,this.customBoundsRectangle=x.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new h(1e4,1e4),this.maxSpeed=-1,this.friction=new h(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=c.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new h(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=p(!1),this.touching=p(!0),this.wasTouching=p(!0),this.blocked=p(!0),this.syncBounds=!1,this.physicsType=c.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=w.scaleX,this._sy=w.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new a,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var m=this.gameObject,x=this.transform;if(m.parentContainer){var w=m.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);x.x=w.tx,x.y=w.ty,x.rotation=l(w.rotation),x.scaleX=w.scaleX,x.scaleY=w.scaleY,x.displayOriginX=m.displayOriginX,x.displayOriginY=m.displayOriginY}else x.x=m.x,x.y=m.y,x.rotation=m.angle,x.scaleX=m.scaleX,x.scaleY=m.scaleY,x.displayOriginX=m.displayOriginX,x.displayOriginY=m.displayOriginY;var C=!1;if(this.syncBounds){var E=m.getBounds(this._bounds);this.width=E.width,this.height=E.height,C=!0}else{var T=Math.abs(x.scaleX),S=Math.abs(x.scaleY);(this._sx!==T||this._sy!==S)&&(this.width=this.sourceWidth*T,this.height=this.sourceHeight*S,this._sx=T,this._sy=S,C=!0)}C&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var m=this.transform;this.position.x=m.x+m.scaleX*(this.offset.x-m.displayOriginX),this.position.y=m.y+m.scaleY*(this.offset.y-m.displayOriginY),this.updateCenter()},resetFlags:function(m){m===void 0&&(m=!1);var x=this.wasTouching,w=this.touching,C=this.blocked;m?p(!0,x):(x.none=w.none,x.up=w.up,x.down=w.down,x.left=w.left,x.right=w.right),p(!0,w),p(!0,C),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(m,x){if(m&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var w=this.position;this.prev.x=w.x,this.prev.y=w.y,this.prevFrame.x=w.x,this.prevFrame.y=w.y}m&&this.update(x)},update:function(m){var x=this.prev,w=this.position,C=this.velocity;if(x.set(w.x,w.y),!this.moves){this._dx=w.x-x.x,this._dy=w.y-x.y;return}if(this.directControl){var E=this.autoFrame;C.set((w.x-E.x)/m,(w.y-E.y)/m),this.world.updateMotion(this,m),this._dx=w.x-E.x,this._dy=w.y-E.y}else this.world.updateMotion(this,m),this.newVelocity.set(C.x*m,C.y*m),w.add(this.newVelocity),this._dx=w.x-x.x,this._dy=w.y-x.y;var T=C.x,S=C.y;if(this.updateCenter(),this.angle=Math.atan2(S,T),this.speed=Math.sqrt(T*T+S*S),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var A=this.blocked;this.world.emit(u.WORLD_BOUNDS,this,A.up,A.down,A.left,A.right)}},postUpdate:function(){var m=this.position,x=m.x-this.prevFrame.x,w=m.y-this.prevFrame.y,C=this.gameObject;if(this.moves){var E=this.deltaMax.x,T=this.deltaMax.y;E!==0&&x!==0&&(x<0&&x<-E?x=-E:x>0&&x>E&&(x=E)),T!==0&&w!==0&&(w<0&&w<-T?w=-T:w>0&&w>T&&(w=T)),C&&(C.x+=x,C.y+=w)}x<0?this.facing=c.FACING_LEFT:x>0&&(this.facing=c.FACING_RIGHT),w<0?this.facing=c.FACING_UP:w>0&&(this.facing=c.FACING_DOWN),this.allowRotation&&C&&(C.angle+=this.deltaZ()),this._tx=x,this._ty=w,this.autoFrame.set(m.x,m.y)},setBoundsRectangle:function(m){return this.customBoundsRectangle=m||this.world.bounds,this},checkWorldBounds:function(){var m=this.position,x=this.velocity,w=this.blocked,C=this.customBoundsRectangle,E=this.world.checkCollision,T=this.worldBounce?-this.worldBounce.x:-this.bounce.x,S=this.worldBounce?-this.worldBounce.y:-this.bounce.y,A=!1;return m.x<C.x&&E.left?(m.x=C.x,x.x*=T,w.left=!0,A=!0):this.right>C.right&&E.right&&(m.x=C.right-this.width,x.x*=T,w.right=!0,A=!0),m.y<C.y&&E.up?(m.y=C.y,x.y*=S,w.up=!0,A=!0):this.bottom>C.bottom&&E.down&&(m.y=C.bottom-this.height,x.y*=S,w.down=!0,A=!0),A&&(this.blocked.none=!1,this.updateCenter()),A},setOffset:function(m,x){return x===void 0&&(x=m),this.offset.set(m,x),this},setGameObject:function(m,x){if(x===void 0&&(x=!0),!m||!m.hasTransformComponent)return this;var w=this.world;return this.gameObject&&this.gameObject.body&&(w.disable(this.gameObject),this.gameObject.body=null),m.body&&w.disable(m),this.gameObject=m,m.body=this,this.setSize(),this.enable=x,this},setSize:function(m,x,w){w===void 0&&(w=!0);var C=this.gameObject;if(C&&(!m&&C.frame&&(m=C.frame.realWidth),!x&&C.frame&&(x=C.frame.realHeight)),this.sourceWidth=m,this.sourceHeight=x,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),w&&C&&C.getCenter){var E=(C.width-m)/2,T=(C.height-x)/2;this.offset.set(E,T)}return this.isCircle=!1,this.radius=0,this},setCircle:function(m,x,w){return x===void 0&&(x=this.offset.x),w===void 0&&(w=this.offset.y),m>0?(this.isCircle=!0,this.radius=m,this.sourceWidth=m*2,this.sourceHeight=m*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(x,w),this.updateCenter()):this.isCircle=!1,this},reset:function(m,x){this.stop();var w=this.gameObject;w&&(w.setPosition(m,x),this.rotation=w.angle,this.preRotation=w.angle);var C=this.position;w&&w.getTopLeft?w.getTopLeft(C):C.set(m,x),this.prev.copy(C),this.prevFrame.copy(C),this.autoFrame.copy(C),w&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(m){return m.x=this.x,m.y=this.y,m.right=this.right,m.bottom=this.bottom,m},hitTest:function(m,x){if(!this.isCircle)return d(this,m,x);if(this.radius>0&&m>=this.left&&m<=this.right&&x>=this.top&&x<=this.bottom){var w=(this.center.x-m)*(this.center.x-m),C=(this.center.y-x)*(this.center.y-x);return w+C<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(m){var x=this.position,w=x.x+this.halfWidth,C=x.y+this.halfHeight;this.debugShowBody&&(m.lineStyle(m.defaultStrokeWidth,this.debugBodyColor),this.isCircle?m.strokeCircle(w,C,this.width/2):(this.checkCollision.up&&m.lineBetween(x.x,x.y,x.x+this.width,x.y),this.checkCollision.right&&m.lineBetween(x.x+this.width,x.y,x.x+this.width,x.y+this.height),this.checkCollision.down&&m.lineBetween(x.x,x.y+this.height,x.x+this.width,x.y+this.height),this.checkCollision.left&&m.lineBetween(x.x,x.y,x.x,x.y+this.height))),this.debugShowVelocity&&(m.lineStyle(m.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),m.lineBetween(w,C,w+this.velocity.x/2,C+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(m){return m===void 0&&(m=!0),this.directControl=m,this},setCollideWorldBounds:function(m,x,w,C){m===void 0&&(m=!0),this.collideWorldBounds=m;var E=x!==void 0,T=w!==void 0;return(E||T)&&(this.worldBounce||(this.worldBounce=new h),E&&(this.worldBounce.x=x),T&&(this.worldBounce.y=w)),C!==void 0&&(this.onWorldBounds=C),this},setVelocity:function(m,x){return this.velocity.set(m,x),m=this.velocity.x,x=this.velocity.y,this.speed=Math.sqrt(m*m+x*x),this},setVelocityX:function(m){return this.setVelocity(m,this.velocity.y)},setVelocityY:function(m){return this.setVelocity(this.velocity.x,m)},setMaxVelocity:function(m,x){return this.maxVelocity.set(m,x),this},setMaxVelocityX:function(m){return this.maxVelocity.x=m,this},setMaxVelocityY:function(m){return this.maxVelocity.y=m,this},setMaxSpeed:function(m){return this.maxSpeed=m,this},setSlideFactor:function(m,x){return this.slideFactor.set(m,x),this},setBounce:function(m,x){return this.bounce.set(m,x),this},setBounceX:function(m){return this.bounce.x=m,this},setBounceY:function(m){return this.bounce.y=m,this},setAcceleration:function(m,x){return this.acceleration.set(m,x),this},setAccelerationX:function(m){return this.acceleration.x=m,this},setAccelerationY:function(m){return this.acceleration.y=m,this},setAllowDrag:function(m){return m===void 0&&(m=!0),this.allowDrag=m,this},setAllowGravity:function(m){return m===void 0&&(m=!0),this.allowGravity=m,this},setAllowRotation:function(m){return m===void 0&&(m=!0),this.allowRotation=m,this},setDrag:function(m,x){return this.drag.set(m,x),this},setDamping:function(m){return this.useDamping=m,this},setDragX:function(m){return this.drag.x=m,this},setDragY:function(m){return this.drag.y=m,this},setGravity:function(m,x){return this.gravity.set(m,x),this},setGravityX:function(m){return this.gravity.x=m,this},setGravityY:function(m){return this.gravity.y=m,this},setFriction:function(m,x){return this.friction.set(m,x),this},setFrictionX:function(m){return this.friction.x=m,this},setFrictionY:function(m){return this.friction.y=m,this},setAngularVelocity:function(m){return this.angularVelocity=m,this},setAngularAcceleration:function(m){return this.angularAcceleration=m,this},setAngularDrag:function(m){return this.angularDrag=m,this},setMass:function(m){return this.mass=m,this},setImmovable:function(m){return m===void 0&&(m=!0),this.immovable=m,this},setEnable:function(m){return m===void 0&&(m=!0),this.enable=m,this},processX:function(m,x,w,C){this.x+=m,this.updateCenter(),x!==null&&(this.velocity.x=x*this.slideFactor.x);var E=this.blocked;w&&(E.left=!0,E.none=!1),C&&(E.right=!0,E.none=!1)},processY:function(m,x,w,C){this.y+=m,this.updateCenter(),x!==null&&(this.velocity.y=x*this.slideFactor.y);var E=this.blocked;w&&(E.up=!0,E.none=!1),C&&(E.down=!0,E.none=!1)},x:{get:function(){return this.position.x},set:function(m){this.position.x=m}},y:{get:function(){return this.position.y},set:function(m){this.position.y=m}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});s.exports=g}),79342:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=new o({initialize:function(u,l,a,d,p,h,g){this.world=u,this.name="",this.active=!0,this.overlapOnly=l,this.object1=a,this.object2=d,this.collideCallback=p,this.processCallback=h,this.callbackContext=g},setName:function(c){return this.name=c,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});s.exports=v}),66022:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(71289),v=r(13759),c=r(37742),u=r(83419),l=r(37747),a=r(60758),d=r(72624),p=r(71464),h=new u({initialize:function(m){this.world=m,this.scene=m.scene,this.sys=m.scene.sys},collider:function(g,m,x,w,C){return this.world.addCollider(g,m,x,w,C)},overlap:function(g,m,x,w,C){return this.world.addOverlap(g,m,x,w,C)},existing:function(g,m){var x=m?l.STATIC_BODY:l.DYNAMIC_BODY;return this.world.enableBody(g,x),g},staticImage:function(g,m,x,w){var C=new o(this.scene,g,m,x,w);return this.sys.displayList.add(C),this.world.enableBody(C,l.STATIC_BODY),C},image:function(g,m,x,w){var C=new o(this.scene,g,m,x,w);return this.sys.displayList.add(C),this.world.enableBody(C,l.DYNAMIC_BODY),C},staticSprite:function(g,m,x,w){var C=new v(this.scene,g,m,x,w);return this.sys.displayList.add(C),this.sys.updateList.add(C),this.world.enableBody(C,l.STATIC_BODY),C},sprite:function(g,m,x,w){var C=new v(this.scene,g,m,x,w);return this.sys.displayList.add(C),this.sys.updateList.add(C),this.world.enableBody(C,l.DYNAMIC_BODY),C},staticGroup:function(g,m){return this.sys.updateList.add(new p(this.world,this.world.scene,g,m))},group:function(g,m){return this.sys.updateList.add(new a(this.world,this.world.scene,g,m))},body:function(g,m,x,w){var C=new c(this.world);return C.position.set(g,m),x&&w&&C.setSize(x,w),this.world.add(C,l.DYNAMIC_BODY),C},staticBody:function(g,m,x,w){var C=new d(this.world);return C.position.set(g,m),x&&w&&C.setSize(x,w),this.world.add(C,l.STATIC_BODY),C},destroy:function(){this.world=null,this.scene=null,this.sys=null}});s.exports=h}),79599:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){var o=0;if(!Array.isArray(r))o=r;else for(var v=0;v<r.length;v++)o|=r[v];return o};s.exports=y}),64897:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37747),v=function(c,u,l,a){var d=0,p=c.deltaAbsX()+u.deltaAbsX()+a;return c._dx===0&&u._dx===0?(c.embedded=!0,u.embedded=!0):c._dx>u._dx?(d=c.right-u.x,d>p&&!l||c.checkCollision.right===!1||u.checkCollision.left===!1?d=0:(c.touching.none=!1,c.touching.right=!0,u.touching.none=!1,u.touching.left=!0,u.physicsType===o.STATIC_BODY&&!l&&(c.blocked.none=!1,c.blocked.right=!0),c.physicsType===o.STATIC_BODY&&!l&&(u.blocked.none=!1,u.blocked.left=!0))):c._dx<u._dx&&(d=c.x-u.width-u.x,-d>p&&!l||c.checkCollision.left===!1||u.checkCollision.right===!1?d=0:(c.touching.none=!1,c.touching.left=!0,u.touching.none=!1,u.touching.right=!0,u.physicsType===o.STATIC_BODY&&!l&&(c.blocked.none=!1,c.blocked.left=!0),c.physicsType===o.STATIC_BODY&&!l&&(u.blocked.none=!1,u.blocked.right=!0))),c.overlapX=d,u.overlapX=d,d};s.exports=v}),45170:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37747),v=function(c,u,l,a){var d=0,p=c.deltaAbsY()+u.deltaAbsY()+a;return c._dy===0&&u._dy===0?(c.embedded=!0,u.embedded=!0):c._dy>u._dy?(d=c.bottom-u.y,d>p&&!l||c.checkCollision.down===!1||u.checkCollision.up===!1?d=0:(c.touching.none=!1,c.touching.down=!0,u.touching.none=!1,u.touching.up=!0,u.physicsType===o.STATIC_BODY&&!l&&(c.blocked.none=!1,c.blocked.down=!0),c.physicsType===o.STATIC_BODY&&!l&&(u.blocked.none=!1,u.blocked.up=!0))):c._dy<u._dy&&(d=c.y-u.bottom,-d>p&&!l||c.checkCollision.up===!1||u.checkCollision.down===!1?d=0:(c.touching.none=!1,c.touching.up=!0,u.touching.none=!1,u.touching.down=!0,u.physicsType===o.STATIC_BODY&&!l&&(c.blocked.none=!1,c.blocked.up=!0),c.physicsType===o.STATIC_BODY&&!l&&(u.blocked.none=!1,u.blocked.down=!0))),c.overlapY=d,u.overlapY=d,d};s.exports=v}),60758:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(13759),v=r(83419),c=r(78389),u=r(37747),l=r(95540),a=r(26479),d=r(41212),p=new v({Extends:a,Mixins:[c],initialize:function(g,m,x,w){if(!x&&!w)w={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(d(x))w=x,x=null,w.internalCreateCallback=this.createCallbackHandler,w.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(x)&&d(x[0])){var C=this;x.forEach(function(E){E.internalCreateCallback=C.createCallbackHandler,E.internalRemoveCallback=C.removeCallbackHandler,E.classType=l(E,"classType",o)}),w=null}else w={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=g,w&&(w.classType=l(w,"classType",o)),this.physicsType=u.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=2147483647,this.defaults={setCollideWorldBounds:l(w,"collideWorldBounds",!1),setBoundsRectangle:l(w,"customBoundsRectangle",null),setAccelerationX:l(w,"accelerationX",0),setAccelerationY:l(w,"accelerationY",0),setAllowDrag:l(w,"allowDrag",!0),setAllowGravity:l(w,"allowGravity",!0),setAllowRotation:l(w,"allowRotation",!0),setDamping:l(w,"useDamping",!1),setBounceX:l(w,"bounceX",0),setBounceY:l(w,"bounceY",0),setDragX:l(w,"dragX",0),setDragY:l(w,"dragY",0),setEnable:l(w,"enable",!0),setGravityX:l(w,"gravityX",0),setGravityY:l(w,"gravityY",0),setFrictionX:l(w,"frictionX",0),setFrictionY:l(w,"frictionY",0),setMaxSpeed:l(w,"maxSpeed",-1),setMaxVelocityX:l(w,"maxVelocityX",1e4),setMaxVelocityY:l(w,"maxVelocityY",1e4),setVelocityX:l(w,"velocityX",0),setVelocityY:l(w,"velocityY",0),setAngularVelocity:l(w,"angularVelocity",0),setAngularAcceleration:l(w,"angularAcceleration",0),setAngularDrag:l(w,"angularDrag",0),setMass:l(w,"mass",1),setImmovable:l(w,"immovable",!1)},a.call(this,m,x,w),this.type="PhysicsGroup"},createCallbackHandler:function(h){h.body||this.world.enableBody(h,u.DYNAMIC_BODY);var g=h.body;for(var m in this.defaults)g[m](this.defaults[m])},removeCallbackHandler:function(h){h.body&&this.world.disableBody(h)},setVelocity:function(h,g,m){m===void 0&&(m=0);for(var x=this.getChildren(),w=0;w<x.length;w++)x[w].body.velocity.set(h+w*m,g+w*m);return this},setVelocityX:function(h,g){g===void 0&&(g=0);for(var m=this.getChildren(),x=0;x<m.length;x++)m[x].body.velocity.x=h+x*g;return this},setVelocityY:function(h,g){g===void 0&&(g=0);for(var m=this.getChildren(),x=0;x<m.length;x++)m[x].body.velocity.y=h+x*g;return this}});s.exports=p}),3017:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y,r,o,v,c,u,l,a,d,p,h,g,m,x,w,C,E,T=function(D,F,$){y=D,r=F;var N=y.velocity.x,k=r.velocity.x;return o=y.pushable,d=y._dx<0,p=y._dx>0,h=y._dx===0,w=Math.abs(y.right-r.x)<=Math.abs(r.right-y.x),l=k-N*y.bounce.x,v=r.pushable,g=r._dx<0,m=r._dx>0,x=r._dx===0,C=!w,a=N-k*r.bounce.x,E=Math.abs($),S()},S=function(){return p&&w&&r.blocked.right?(y.processX(-E,l,!1,!0),1):d&&C&&r.blocked.left?(y.processX(E,l,!0),1):m&&C&&y.blocked.right?(r.processX(-E,a,!1,!0),2):g&&w&&y.blocked.left?(r.processX(E,a,!0),2):0},A=function(){var D=y.velocity.x,F=r.velocity.x,$=Math.sqrt(F*F*r.mass/y.mass)*(F>0?1:-1),N=Math.sqrt(D*D*y.mass/r.mass)*(D>0?1:-1),k=($+N)*.5;return $-=k,N-=k,c=k+$*y.bounce.x,u=k+N*r.bounce.x,d&&C?P(0):g&&w?P(1):p&&w?P(2):m&&C?P(3):!1},P=function(D){if(o&&v)E*=.5,D===0||D===3?(y.processX(E,c),r.processX(-E,u)):(y.processX(-E,c),r.processX(E,u));else if(o&&!v)D===0||D===3?y.processX(E,l,!0):y.processX(-E,l,!1,!0);else if(!o&&v)D===0||D===3?r.processX(-E,a,!1,!0):r.processX(E,a,!0);else{var F=E*.5;D===0?x?(y.processX(E,0,!0),r.processX(0,null,!1,!0)):m?(y.processX(F,0,!0),r.processX(-F,0,!1,!0)):(y.processX(F,r.velocity.x,!0),r.processX(-F,null,!1,!0)):D===1?h?(y.processX(0,null,!1,!0),r.processX(E,0,!0)):p?(y.processX(-F,0,!1,!0),r.processX(F,0,!0)):(y.processX(-F,null,!1,!0),r.processX(F,y.velocity.x,!0)):D===2?x?(y.processX(-E,0,!1,!0),r.processX(0,null,!0)):g?(y.processX(-F,0,!1,!0),r.processX(F,0,!0)):(y.processX(-F,r.velocity.x,!1,!0),r.processX(F,null,!0)):D===3&&(h?(y.processX(0,null,!0),r.processX(-E,0,!1,!0)):d?(y.processX(F,0,!0),r.processX(-F,0,!1,!0)):(y.processX(F,r.velocity.y,!0),r.processX(-F,null,!1,!0)))}return!0},R=function(D){if(D===1?r.velocity.x=0:w?r.processX(E,a,!0):r.processX(-E,a,!1,!0),y.moves){var F=y.directControl?y.y-y.autoFrame.y:y.y-y.prev.y;r.y+=F*y.friction.y,r._dy=r.y-r.prev.y}},L=function(D){if(D===2?y.velocity.x=0:C?y.processX(E,l,!0):y.processX(-E,l,!1,!0),r.moves){var F=r.directControl?r.y-r.autoFrame.y:r.y-r.prev.y;y.y+=F*r.friction.y,y._dy=y.y-y.prev.y}};s.exports={BlockCheck:S,Check:A,Set:T,Run:P,RunImmovableBody1:R,RunImmovableBody2:L}}),47962:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y,r,o,v,c,u,l,a,d,p,h,g,m,x,w,C,E,T=function(D,F,$){y=D,r=F;var N=y.velocity.y,k=r.velocity.y;return o=y.pushable,d=y._dy<0,p=y._dy>0,h=y._dy===0,w=Math.abs(y.bottom-r.y)<=Math.abs(r.bottom-y.y),l=k-N*y.bounce.y,v=r.pushable,g=r._dy<0,m=r._dy>0,x=r._dy===0,C=!w,a=N-k*r.bounce.y,E=Math.abs($),S()},S=function(){return p&&w&&r.blocked.down?(y.processY(-E,l,!1,!0),1):d&&C&&r.blocked.up?(y.processY(E,l,!0),1):m&&C&&y.blocked.down?(r.processY(-E,a,!1,!0),2):g&&w&&y.blocked.up?(r.processY(E,a,!0),2):0},A=function(){var D=y.velocity.y,F=r.velocity.y,$=Math.sqrt(F*F*r.mass/y.mass)*(F>0?1:-1),N=Math.sqrt(D*D*y.mass/r.mass)*(D>0?1:-1),k=($+N)*.5;return $-=k,N-=k,c=k+$*y.bounce.y,u=k+N*r.bounce.y,d&&C?P(0):g&&w?P(1):p&&w?P(2):m&&C?P(3):!1},P=function(D){if(o&&v)E*=.5,D===0||D===3?(y.processY(E,c),r.processY(-E,u)):(y.processY(-E,c),r.processY(E,u));else if(o&&!v)D===0||D===3?y.processY(E,l,!0):y.processY(-E,l,!1,!0);else if(!o&&v)D===0||D===3?r.processY(-E,a,!1,!0):r.processY(E,a,!0);else{var F=E*.5;D===0?x?(y.processY(E,0,!0),r.processY(0,null,!1,!0)):m?(y.processY(F,0,!0),r.processY(-F,0,!1,!0)):(y.processY(F,r.velocity.y,!0),r.processY(-F,null,!1,!0)):D===1?h?(y.processY(0,null,!1,!0),r.processY(E,0,!0)):p?(y.processY(-F,0,!1,!0),r.processY(F,0,!0)):(y.processY(-F,null,!1,!0),r.processY(F,y.velocity.y,!0)):D===2?x?(y.processY(-E,0,!1,!0),r.processY(0,null,!0)):g?(y.processY(-F,0,!1,!0),r.processY(F,0,!0)):(y.processY(-F,r.velocity.y,!1,!0),r.processY(F,null,!0)):D===3&&(h?(y.processY(0,null,!0),r.processY(-E,0,!1,!0)):d?(y.processY(F,0,!0),r.processY(-F,0,!1,!0)):(y.processY(F,r.velocity.y,!0),r.processY(-F,null,!1,!0)))}return!0},R=function(D){if(D===1?r.velocity.y=0:w?r.processY(E,a,!0):r.processY(-E,a,!1,!0),y.moves){var F=y.directControl?y.x-y.autoFrame.x:y.x-y.prev.x;r.x+=F*y.friction.x,r._dx=r.x-r.prev.x}},L=function(D){if(D===2?y.velocity.y=0:C?y.processY(E,l,!0):y.processY(-E,l,!1,!0),r.moves){var F=r.directControl?r.x-r.autoFrame.x:r.x-r.prev.x;y.x+=F*r.friction.x,y._dx=y.x-y.prev.x}};s.exports={BlockCheck:S,Check:A,Set:T,Run:P,RunImmovableBody1:R,RunImmovableBody2:L}}),14087:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(64897),v=r(3017),c=function(u,l,a,d,p){p===void 0&&(p=o(u,l,a,d));var h=u.immovable,g=l.immovable;if(a||p===0||h&&g||u.customSeparateX||l.customSeparateX)return p!==0||u.embedded&&l.embedded;var m=v.Set(u,l,p);return!h&&!g?m>0?!0:v.Check():(h?v.RunImmovableBody1(m):g&&v.RunImmovableBody2(m),!0)};s.exports=c}),89936:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45170),v=r(47962),c=function(u,l,a,d,p){p===void 0&&(p=o(u,l,a,d));var h=u.immovable,g=l.immovable;if(a||p===0||h&&g||u.customSeparateY||l.customSeparateY)return p!==0||u.embedded&&l.embedded;var m=v.Set(u,l,p);return!h&&!g?m>0?!0:v.Check():(h?v.RunImmovableBody1(m):g&&v.RunImmovableBody2(m),!0)};s.exports=c}),95829:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return o===void 0&&(o={}),o.none=r,o.up=!1,o.down=!1,o.left=!1,o.right=!1,r||(o.up=!0,o.down=!0,o.left=!0,o.right=!0),o};s.exports=y}),72624:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87902),v=r(83419),c=r(78389),u=r(37747),l=r(37303),a=r(95829),d=r(26099),p=new v({Mixins:[c],initialize:function(g,m){var x=64,w=64,C={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},E=m!==void 0;E&&m.displayWidth&&(x=m.displayWidth,w=m.displayHeight),E||(m=C),this.world=g,this.gameObject=E?m:void 0,this.isBody=!0,this.debugShowBody=g.defaults.debugShowStaticBody,this.debugBodyColor=g.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new d,this.position=new d(m.x-x*m.originX,m.y-w*m.originY),this.width=x,this.height=w,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new d(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=d.ZERO,this.allowGravity=!1,this.gravity=d.ZERO,this.bounce=d.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=a(!1),this.touching=a(!0),this.wasTouching=a(!0),this.blocked=a(!0),this.physicsType=u.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(h,g,m){if(g===void 0&&(g=!0),m===void 0&&(m=!0),!h||!h.hasTransformComponent)return this;var x=this.world;return this.gameObject&&this.gameObject.body&&(x.disable(this.gameObject),this.gameObject.body=null),h.body&&x.disable(h),this.gameObject=h,h.body=this,this.setSize(),g&&this.updateFromGameObject(),this.enable=m,this},updateFromGameObject:function(){this.world.staticTree.remove(this);var h=this.gameObject;return h.getTopLeft(this.position),this.width=h.displayWidth,this.height=h.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(h,g){return g===void 0&&(g=h),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(h,g),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(h,g,m){m===void 0&&(m=!0);var x=this.gameObject;if(x&&x.frame&&(h||(h=x.frame.realWidth),g||(g=x.frame.realHeight)),this.world.staticTree.remove(this),this.width=h,this.height=g,this.halfWidth=Math.floor(h/2),this.halfHeight=Math.floor(g/2),m&&x&&x.getCenter){var w=x.displayWidth/2,C=x.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(w-this.halfWidth,C-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(h,g,m){return g===void 0&&(g=this.offset.x),m===void 0&&(m=this.offset.y),h>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=h,this.width=h*2,this.height=h*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(g,m),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(h,g){var m=this.gameObject;h===void 0&&(h=m.x),g===void 0&&(g=m.y),this.world.staticTree.remove(this),m.setPosition(h,g),m.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(h){return h.x=this.x,h.y=this.y,h.right=this.right,h.bottom=this.bottom,h},hitTest:function(h,g){return this.isCircle?o(this,h,g):l(this,h,g)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(h){var g=this.position,m=g.x+this.halfWidth,x=g.y+this.halfHeight;this.debugShowBody&&(h.lineStyle(h.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?h.strokeCircle(m,x,this.width/2):h.strokeRect(g.x,g.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(h){return h<=0&&(h=.1),this.mass=h,this},x:{get:function(){return this.position.x},set:function(h){this.world.staticTree.remove(this),this.position.x=h,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(h){this.world.staticTree.remove(this),this.position.y=h,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});s.exports=p}),71464:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(13759),v=r(83419),c=r(78389),u=r(37747),l=r(95540),a=r(26479),d=r(41212),p=new v({Extends:a,Mixins:[c],initialize:function(g,m,x,w){!x&&!w?w={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:o}:d(x)?(w=x,x=null,w.internalCreateCallback=this.createCallbackHandler,w.internalRemoveCallback=this.removeCallbackHandler,w.createMultipleCallback=this.createMultipleCallbackHandler,w.classType=l(w,"classType",o)):Array.isArray(x)&&d(x[0])?(w=x,x=null,w.forEach(function(C){C.internalCreateCallback=this.createCallbackHandler,C.internalRemoveCallback=this.removeCallbackHandler,C.createMultipleCallback=this.createMultipleCallbackHandler,C.classType=l(C,"classType",o)})):w={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=g,this.physicsType=u.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,a.call(this,m,x,w),this.type="StaticPhysicsGroup"},createCallbackHandler:function(h){h.body||this.world.enableBody(h,u.STATIC_BODY)},removeCallbackHandler:function(h){h.body&&this.world.disableBody(h)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var h=this.children.entries,g=0;g<h.length;g++)h[g].body.reset();return this}});s.exports=p}),82248:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(55495),v=r(37742),c=r(45319),u=r(83419),l=r(79342),a=r(37747),d=r(20339),p=r(52816),h=r(50792),g=r(63012),m=r(43855),x=r(5470),w=r(94977),C=r(64897),E=r(45170),T=r(96523),S=r(35154),A=r(36383),P=r(25774),R=r(96602),L=r(87841),D=r(59542),F=r(40012),$=r(14087),N=r(89936),k=r(35072),j=r(72624),W=r(2483),G=r(61340),K=r(26099),z=r(15994),X=new u({Extends:h,initialize:function(Z,V){h.call(this),this.scene=Z,this.bodies=new k,this.staticBodies=new k,this.pendingDestroy=new k,this.colliders=new P,this.gravity=new K(S(V,"gravity.x",0),S(V,"gravity.y",0)),this.bounds=new L(S(V,"x",0),S(V,"y",0),S(V,"width",Z.sys.scale.width),S(V,"height",Z.sys.scale.height)),this.checkCollision={up:S(V,"checkCollision.up",!0),down:S(V,"checkCollision.down",!0),left:S(V,"checkCollision.left",!0),right:S(V,"checkCollision.right",!0)},this.fps=S(V,"fps",60),this.fixedStep=S(V,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=S(V,"timeScale",1),this.OVERLAP_BIAS=S(V,"overlapBias",4),this.TILE_BIAS=S(V,"tileBias",16),this.forceX=S(V,"forceX",!1),this.isPaused=S(V,"isPaused",!1),this._total=0,this.drawDebug=S(V,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:S(V,"debugShowBody",!0),debugShowStaticBody:S(V,"debugShowStaticBody",!0),debugShowVelocity:S(V,"debugShowVelocity",!0),bodyDebugColor:S(V,"debugBodyColor",16711935),staticBodyDebugColor:S(V,"debugStaticBodyColor",255),velocityDebugColor:S(V,"debugVelocityColor",65280)},this.maxEntries=S(V,"maxEntries",16),this.useTree=S(V,"useTree",!0),this.tree=new D(this.maxEntries),this.staticTree=new D(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new G,this._tempMatrix2=new G,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(U,Z){Z===void 0&&(Z=a.DYNAMIC_BODY),Array.isArray(U)||(U=[U]);for(var V=0;V<U.length;V++){var J=U[V];if(J.isParent)for(var _=J.getChildren(),ee=0;ee<_.length;ee++){var te=_[ee];te.isParent?this.enable(te,Z):this.enableBody(te,Z)}else this.enableBody(J,Z)}},enableBody:function(U,Z){return Z===void 0&&(Z=a.DYNAMIC_BODY),U.hasTransformComponent&&(U.body||(Z===a.DYNAMIC_BODY?U.body=new v(this,U):Z===a.STATIC_BODY&&(U.body=new j(this,U))),this.add(U.body)),U},add:function(U){return U.physicsType===a.DYNAMIC_BODY?this.bodies.set(U):U.physicsType===a.STATIC_BODY&&(this.staticBodies.set(U),this.staticTree.insert(U)),U.enable=!0,U},disable:function(U){Array.isArray(U)||(U=[U]);for(var Z=0;Z<U.length;Z++){var V=U[Z];if(V.isParent)for(var J=V.getChildren(),_=0;_<J.length;_++){var ee=J[_];ee.isParent?this.disable(ee):this.disableBody(ee.body)}else this.disableBody(V.body)}},disableBody:function(U){this.remove(U),U.enable=!1},remove:function(U){U.physicsType===a.DYNAMIC_BODY?(this.tree.remove(U),this.bodies.delete(U)):U.physicsType===a.STATIC_BODY&&(this.staticBodies.delete(U),this.staticTree.remove(U))},createDebugGraphic:function(){var U=this.scene.sys.add.graphics({x:0,y:0});return U.setDepth(Number.MAX_VALUE),this.debugGraphic=U,this.drawDebug=!0,U},setBounds:function(U,Z,V,J,_,ee,te,ie){return this.bounds.setTo(U,Z,V,J),_!==void 0&&this.setBoundsCollision(_,ee,te,ie),this},setBoundsCollision:function(U,Z,V,J){return U===void 0&&(U=!0),Z===void 0&&(Z=!0),V===void 0&&(V=!0),J===void 0&&(J=!0),this.checkCollision.left=U,this.checkCollision.right=Z,this.checkCollision.up=V,this.checkCollision.down=J,this},pause:function(){return this.isPaused=!0,this.emit(g.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(g.RESUME),this},addCollider:function(U,Z,V,J,_){V===void 0&&(V=null),J===void 0&&(J=null),_===void 0&&(_=V);var ee=new l(this,!1,U,Z,V,J,_);return this.colliders.add(ee),ee},addOverlap:function(U,Z,V,J,_){V===void 0&&(V=null),J===void 0&&(J=null),_===void 0&&(_=V);var ee=new l(this,!0,U,Z,V,J,_);return this.colliders.add(ee),ee},removeCollider:function(U){return this.colliders.remove(U),this},setFPS:function(U){return this.fps=U,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(U,Z){if(!(this.isPaused||this.bodies.size===0)){var V,J=this._frameTime,_=this._frameTimeMS*this.timeScale;this._elapsed+=Z;var ee,te=this.bodies.entries,ie=this._elapsed>=_;for(this.fixedStep||(J=Z*.001,ie=!0,this._elapsed=0),V=0;V<te.length;V++)ee=te[V],ee.enable&&ee.preUpdate(ie,J);if(ie){this._elapsed-=_,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(te));var le=this.colliders.update();for(V=0;V<le.length;V++){var he=le[V];he.active&&he.update()}this.emit(g.WORLD_STEP,J)}for(;this._elapsed>=_;)this._elapsed-=_,this.step(J)}},step:function(U){var Z,V,J=this.bodies.entries,_=J.length;for(Z=0;Z<_;Z++)V=J[Z],V.enable&&V.update(U);this.useTree&&(this.tree.clear(),this.tree.load(J));var ee=this.colliders.update();for(Z=0;Z<ee.length;Z++){var te=ee[Z];te.active&&te.update()}this.emit(g.WORLD_STEP,U),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var U,Z,V=this.bodies.entries,J=V.length,_=this.bodies,ee=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,U=0;U<J;U++)Z=V[U],Z.enable&&Z.postUpdate();if(this.drawDebug){var te=this.debugGraphic;for(te.clear(),U=0;U<J;U++)Z=V[U],Z.willDrawDebug()&&Z.drawDebug(te);for(V=ee.entries,J=V.length,U=0;U<J;U++)Z=V[U],Z.willDrawDebug()&&Z.drawDebug(te)}var ie=this.pendingDestroy;if(ie.size>0){var le=this.tree,he=this.staticTree;for(V=ie.entries,J=V.length,U=0;U<J;U++)Z=V[U],Z.physicsType===a.DYNAMIC_BODY?(le.remove(Z),_.delete(Z)):Z.physicsType===a.STATIC_BODY&&(he.remove(Z),ee.delete(Z)),Z.world=void 0,Z.gameObject=void 0;ie.clear()}},updateMotion:function(U,Z){U.allowRotation&&this.computeAngularVelocity(U,Z),this.computeVelocity(U,Z)},computeAngularVelocity:function(U,Z){var V=U.angularVelocity,J=U.angularAcceleration,_=U.angularDrag,ee=U.maxAngular;J?V+=J*Z:U.allowDrag&&_&&(_*=Z,x(V-_,0,.1)?V-=_:w(V+_,0,.1)?V+=_:V=0),V=c(V,-ee,ee);var te=V-U.angularVelocity;U.angularVelocity+=te,U.rotation+=U.angularVelocity*Z},computeVelocity:function(U,Z){var V=U.velocity.x,J=U.acceleration.x,_=U.drag.x,ee=U.maxVelocity.x,te=U.velocity.y,ie=U.acceleration.y,le=U.drag.y,he=U.maxVelocity.y,fe=U.speed,oe=U.maxSpeed,Ce=U.allowDrag,ye=U.useDamping;U.allowGravity&&(V+=(this.gravity.x+U.gravity.x)*Z,te+=(this.gravity.y+U.gravity.y)*Z),J?V+=J*Z:Ce&&_&&(ye?(_=Math.pow(_,Z),V*=_,fe=Math.sqrt(V*V+te*te),m(fe,0,.001)&&(V=0)):(_*=Z,x(V-_,0,.01)?V-=_:w(V+_,0,.01)?V+=_:V=0)),ie?te+=ie*Z:Ce&&le&&(ye?(le=Math.pow(le,Z),te*=le,fe=Math.sqrt(V*V+te*te),m(fe,0,.001)&&(te=0)):(le*=Z,x(te-le,0,.01)?te-=le:w(te+le,0,.01)?te+=le:te=0)),V=c(V,-ee,ee),te=c(te,-he,he),U.velocity.set(V,te),oe>-1&&U.velocity.length()>oe&&(U.velocity.normalize().scale(oe),fe=oe),U.speed=fe},separate:function(U,Z,V,J,_){var ee,te,ie=!1,le=!0;if(!U.enable||!Z.enable||U.checkCollision.none||Z.checkCollision.none||!this.intersects(U,Z)||(U.collisionMask&Z.collisionCategory)===0||(Z.collisionMask&U.collisionCategory)===0||V&&V.call(J,U.gameObject||U,Z.gameObject||Z)===!1)return ie;if(U.isCircle||Z.isCircle){var he=this.separateCircle(U,Z,_);he.result?(ie=!0,le=!1):(ee=he.x,te=he.y,le=!0)}if(le){var fe=!1,oe=!1,Ce=this.OVERLAP_BIAS;_?(fe=$(U,Z,_,Ce,ee),oe=N(U,Z,_,Ce,te)):this.forceX||Math.abs(this.gravity.y+U.gravity.y)<Math.abs(this.gravity.x+U.gravity.x)?(fe=$(U,Z,_,Ce,ee),this.intersects(U,Z)&&(oe=N(U,Z,_,Ce,te))):(oe=N(U,Z,_,Ce,te),this.intersects(U,Z)&&(fe=$(U,Z,_,Ce,ee))),ie=fe||oe}return ie&&(_?(U.onOverlap||Z.onOverlap)&&this.emit(g.OVERLAP,U.gameObject,Z.gameObject,U,Z):(U.onCollide||Z.onCollide)&&this.emit(g.COLLIDE,U.gameObject,Z.gameObject,U,Z)),ie},separateCircle:function(U,Z,V){C(U,Z,!1,0),E(U,Z,!1,0);var J=U.isCircle,_=Z.isCircle,ee=U.center,te=Z.center,ie=U.immovable,le=Z.immovable,he=U.velocity,fe=Z.velocity,oe=0,Ce=!0;if(J!==_){Ce=!1;var ye=ee.x,Ee=ee.y,Ie=U.halfWidth,je=Z.position.x,Re=Z.position.y,$e=Z.right,Ae=Z.bottom;_&&(ye=te.x,Ee=te.y,Ie=Z.halfWidth,je=U.position.x,Re=U.position.y,$e=U.right,Ae=U.bottom),Ee<Re?ye<je?oe=d(ye,Ee,je,Re)-Ie:ye>$e&&(oe=d(ye,Ee,$e,Re)-Ie):Ee>Ae&&(ye<je?oe=d(ye,Ee,je,Ae)-Ie:ye>$e&&(oe=d(ye,Ee,$e,Ae)-Ie)),oe*=-1}else oe=U.halfWidth+Z.halfWidth-p(ee,te);U.overlapR=oe,Z.overlapR=oe;var Xe=o(ee,te),st=(oe+A.EPSILON)*Math.cos(Xe),vt=(oe+A.EPSILON)*Math.sin(Xe),Ge={overlap:oe,result:!1,x:st,y:vt};if(V&&(!Ce||Ce&&oe!==0))return Ge.result=!0,Ge;if(!Ce&&oe===0||ie&&le||U.customSeparateX||Z.customSeparateX)return Ge.x=void 0,Ge.y=void 0,Ge;var nt=!U.pushable&&!Z.pushable;if(Ce){var Et=ee.x-te.x,Je=ee.y-te.y,He=Math.sqrt(Math.pow(Et,2)+Math.pow(Je,2)),Qe=(te.x-ee.x)/He||0,dt=(te.y-ee.y)/He||0,$t=2*(he.x*Qe+he.y*dt-fe.x*Qe-fe.y*dt)/(U.mass+Z.mass);(ie||le||!U.pushable||!Z.pushable)&&($t*=2),!ie&&U.pushable&&(he.x=he.x-$t/U.mass*Qe,he.y=he.y-$t/U.mass*dt,he.multiply(U.bounce)),!le&&Z.pushable&&(fe.x=fe.x+$t/Z.mass*Qe,fe.y=fe.y+$t/Z.mass*dt,fe.multiply(Z.bounce)),!ie&&!le&&(st*=.5,vt*=.5),(!ie||U.pushable||nt)&&(U.x-=st,U.y-=vt,U.updateCenter()),(!le||Z.pushable||nt)&&(Z.x+=st,Z.y+=vt,Z.updateCenter()),Ge.result=!0}else!ie&&(U.pushable||nt)&&(U.x-=st,U.y-=vt,U.updateCenter()),!le&&(Z.pushable||nt)&&(Z.x+=st,Z.y+=vt,Z.updateCenter()),Ge.x=void 0,Ge.y=void 0;return Ge},intersects:function(U,Z){return U===Z?!1:!U.isCircle&&!Z.isCircle?!(U.right<=Z.left||U.bottom<=Z.top||U.left>=Z.right||U.top>=Z.bottom):U.isCircle?Z.isCircle?p(U.center,Z.center)<=U.halfWidth+Z.halfWidth:this.circleBodyIntersects(U,Z):this.circleBodyIntersects(Z,U)},circleBodyIntersects:function(U,Z){var V=c(U.center.x,Z.left,Z.right),J=c(U.center.y,Z.top,Z.bottom),_=(U.center.x-V)*(U.center.x-V),ee=(U.center.y-J)*(U.center.y-J);return _+ee<=U.halfWidth*U.halfWidth},overlap:function(U,Z,V,J,_){return V===void 0&&(V=null),J===void 0&&(J=null),_===void 0&&(_=V),this.collideObjects(U,Z,V,J,_,!0)},collide:function(U,Z,V,J,_){return V===void 0&&(V=null),J===void 0&&(J=null),_===void 0&&(_=V),this.collideObjects(U,Z,V,J,_,!1)},collideObjects:function(U,Z,V,J,_,ee){var te,ie;U.isParent&&(U.physicsType===void 0||Z===void 0||U===Z)&&(U=U.children.entries),Z&&Z.isParent&&Z.physicsType===void 0&&(Z=Z.children.entries);var le=Array.isArray(U),he=Array.isArray(Z);if(this._total=0,!le&&!he)this.collideHandler(U,Z,V,J,_,ee);else if(!le&&he)for(te=0;te<Z.length;te++)this.collideHandler(U,Z[te],V,J,_,ee);else if(le&&!he)if(Z)for(te=0;te<U.length;te++)this.collideHandler(U[te],Z,V,J,_,ee);else for(te=0;te<U.length;te++){var fe=U[te];for(ie=te+1;ie<U.length;ie++)te!==ie&&this.collideHandler(fe,U[ie],V,J,_,ee)}else for(te=0;te<U.length;te++)for(ie=0;ie<Z.length;ie++)this.collideHandler(U[te],Z[ie],V,J,_,ee);return this._total>0},collideHandler:function(U,Z,V,J,_,ee){if(Z===void 0&&U.isParent)return this.collideGroupVsGroup(U,U,V,J,_,ee);if(!U||!Z)return!1;if(U.body||U.isBody){if(Z.body||Z.isBody)return this.collideSpriteVsSprite(U,Z,V,J,_,ee);if(Z.isParent)return this.collideSpriteVsGroup(U,Z,V,J,_,ee);if(Z.isTilemap)return this.collideSpriteVsTilemapLayer(U,Z,V,J,_,ee)}else if(U.isParent){if(Z.body||Z.isBody)return this.collideSpriteVsGroup(Z,U,V,J,_,ee);if(Z.isParent)return this.collideGroupVsGroup(U,Z,V,J,_,ee);if(Z.isTilemap)return this.collideGroupVsTilemapLayer(U,Z,V,J,_,ee)}else if(U.isTilemap){if(Z.body||Z.isBody)return this.collideSpriteVsTilemapLayer(Z,U,V,J,_,ee);if(Z.isParent)return this.collideGroupVsTilemapLayer(Z,U,V,J,_,ee)}},canCollide:function(U,Z){return U&&Z&&(U.collisionMask&Z.collisionCategory)!==0&&(Z.collisionMask&U.collisionCategory)!==0},collideSpriteVsSprite:function(U,Z,V,J,_,ee){var te=U.isBody?U:U.body,ie=Z.isBody?Z:Z.body;return this.canCollide(te,ie)?(this.separate(te,ie,J,_,ee)&&(V&&V.call(_,U,Z),this._total++),!0):!1},collideSpriteVsGroup:function(U,Z,V,J,_,ee){var te=U.isBody?U:U.body;if(!(Z.getLength()===0||!te||!te.enable||te.checkCollision.none||!this.canCollide(te,Z))){var ie,le,he;if(this.useTree||Z.physicsType===a.STATIC_BODY){var fe=this.treeMinMax;fe.minX=te.left,fe.minY=te.top,fe.maxX=te.right,fe.maxY=te.bottom;var oe=Z.physicsType===a.DYNAMIC_BODY?this.tree.search(fe):this.staticTree.search(fe);for(le=oe.length,ie=0;ie<le;ie++)he=oe[ie],!(te===he||!he.enable||he.checkCollision.none||!Z.contains(he.gameObject))&&this.separate(te,he,J,_,ee)&&(V&&V.call(_,te.gameObject,he.gameObject),this._total++)}else{var Ce=Z.getChildren(),ye=Z.children.entries.indexOf(U);for(le=Ce.length,ie=0;ie<le;ie++)he=Ce[ie].body,!(!he||ie===ye||!he.enable)&&this.separate(te,he,J,_,ee)&&(V&&V.call(_,te.gameObject,he.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(U,Z,V,J,_,ee){if(!this.canCollide(U,Z))return!1;var te=U.getChildren();if(te.length===0)return!1;for(var ie=!1,le=0;le<te.length;le++)(te[le].body||te[le].isBody)&&this.collideSpriteVsTilemapLayer(te[le],Z,V,J,_,ee)&&(ie=!0);return ie},collideTiles:function(U,Z,V,J,_){return Z.length===0||U.body&&!U.body.enable||U.isBody&&!U.enable?!1:this.collideSpriteVsTilesHandler(U,Z,V,J,_,!1,!1)},overlapTiles:function(U,Z,V,J,_){return Z.length===0||U.body&&!U.body.enable||U.isBody&&!U.enable?!1:this.collideSpriteVsTilesHandler(U,Z,V,J,_,!0,!1)},collideSpriteVsTilemapLayer:function(U,Z,V,J,_,ee){var te=U.isBody?U:U.body;if(!te.enable||te.checkCollision.none||!this.canCollide(te,Z))return!1;var ie=Z.layer,le=te.x-ie.tileWidth*Z.scaleX,he=te.y-ie.tileHeight*Z.scaleY,fe=te.width+ie.tileWidth*Z.scaleX,oe=te.height+ie.tileHeight*Z.scaleY,Ce=ee?null:this.tileFilterOptions,ye=T(le,he,fe,oe,Ce,Z.scene.cameras.main,Z.layer);return ye.length===0?!1:this.collideSpriteVsTilesHandler(U,ye,V,J,_,ee,!0)},collideSpriteVsTilesHandler:function(U,Z,V,J,_,ee,te){for(var ie=U.isBody?U:U.body,le,he={left:0,right:0,top:0,bottom:0},fe,oe=!1,Ce=0;Ce<Z.length;Ce++){le=Z[Ce],fe=le.tilemapLayer;var ye=fe.tileToWorldXY(le.x,le.y);he.left=ye.x,he.top=ye.y,he.right=he.left+le.width*fe.scaleX,he.bottom=he.top+le.height*fe.scaleY,W(he,ie)&&(!J||J.call(_,U,le))&&R(le,U)&&(ee||F(Ce,ie,le,he,fe,this.TILE_BIAS,te))&&(this._total++,oe=!0,V&&V.call(_,U,le),ee&&ie.onOverlap?this.emit(g.TILE_OVERLAP,U,le,ie):ie.onCollide&&this.emit(g.TILE_COLLIDE,U,le,ie))}return oe},collideGroupVsGroup:function(U,Z,V,J,_,ee){if(!(U.getLength()===0||Z.getLength()===0||!this.canCollide(U,Z)))for(var te=U.getChildren(),ie=0;ie<te.length;ie++)this.collideSpriteVsGroup(te[ie],Z,V,J,_,ee)},wrap:function(U,Z){U.body?this.wrapObject(U,Z):U.getChildren?this.wrapArray(U.getChildren(),Z):Array.isArray(U)?this.wrapArray(U,Z):this.wrapObject(U,Z)},wrapArray:function(U,Z){for(var V=0;V<U.length;V++)this.wrapObject(U[V],Z)},wrapObject:function(U,Z){Z===void 0&&(Z=0),U.x=z(U.x,this.bounds.left-Z,this.bounds.right+Z),U.y=z(U.y,this.bounds.top-Z,this.bounds.bottom+Z)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});s.exports=X}),1093:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setAcceleration:function(r,o){return this.body.acceleration.set(r,o),this},setAccelerationX:function(r){return this.body.acceleration.x=r,this},setAccelerationY:function(r){return this.body.acceleration.y=r,this}};s.exports=y}),59023:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setAngularVelocity:function(r){return this.body.angularVelocity=r,this},setAngularAcceleration:function(r){return this.body.angularAcceleration=r,this},setAngularDrag:function(r){return this.body.angularDrag=r,this}};s.exports=y}),62069:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setBounce:function(r,o){return this.body.bounce.set(r,o),this},setBounceX:function(r){return this.body.bounce.x=r,this},setBounceY:function(r){return this.body.bounce.y=r,this},setCollideWorldBounds:function(r,o,v,c){return this.body.setCollideWorldBounds(r,o,v,c),this}};s.exports=y}),78389:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(79599),v={setCollisionCategory:function(c){var u=this.body?this.body:this;return u.collisionCategory=c,this},willCollideWith:function(c){var u=this.body?this.body:this;return(u.collisionMask&c)!==0},addCollidesWith:function(c){var u=this.body?this.body:this;return u.collisionMask=u.collisionMask|c,this},removeCollidesWith:function(c){var u=this.body?this.body:this;return u.collisionMask=u.collisionMask&~c,this},setCollidesWith:function(c){var u=this.body?this.body:this;return u.collisionMask=o(c),this},resetCollisionCategory:function(){var c=this.body?this.body:this;return c.collisionCategory=1,c.collisionMask=2147483647,this}};s.exports=v}),87118:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setDebug:function(r,o,v){return this.debugShowBody=r,this.debugShowVelocity=o,this.debugBodyColor=v,this},setDebugBodyColor:function(r){return this.body.debugBodyColor=r,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(r){this.body.debugShowBody=r}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(r){this.body.debugShowVelocity=r}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(r){this.body.debugBodyColor=r}}};s.exports=y}),52819:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setDrag:function(r,o){return this.body.drag.set(r,o),this},setDragX:function(r){return this.body.drag.x=r,this},setDragY:function(r){return this.body.drag.y=r,this},setDamping:function(r){return this.body.useDamping=r,this}};s.exports=y}),4074:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setDirectControl:function(r){return this.body.setDirectControl(r),this},enableBody:function(r,o,v,c,u){return r&&this.body.reset(o,v),c&&(this.body.gameObject.active=!0),u&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(r,o){return r===void 0&&(r=!1),o===void 0&&(o=!1),this.body.stop(),this.body.enable=!1,r&&(this.body.gameObject.active=!1),o&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};s.exports=y}),40831:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setFriction:function(r,o){return this.body.friction.set(r,o),this},setFrictionX:function(r){return this.body.friction.x=r,this},setFrictionY:function(r){return this.body.friction.y=r,this}};s.exports=y}),26775:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setGravity:function(r,o){return this.body.gravity.set(r,o),this},setGravityX:function(r){return this.body.gravity.x=r,this},setGravityY:function(r){return this.body.gravity.y=r,this}};s.exports=y}),9437:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setImmovable:function(r){return r===void 0&&(r=!0),this.body.immovable=r,this}};s.exports=y}),30621:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setMass:function(r){return this.body.mass=r,this}};s.exports=y}),72441:((s,y,r)=>{var o=r(47956),v=r(96503),c=r(2044),u=r(81491),l=function(a,d,p,h,g,m){var x=o(a,d-h,p-h,2*h,2*h,g,m);if(x.length===0)return x;for(var w=new v(d,p,h),C=new v,E=[],T=0;T<x.length;T++){var S=x[T];S.isCircle?(C.setTo(S.center.x,S.center.y,S.halfWidth),c(w,C)&&E.push(S)):u(w,S)&&E.push(S)}return E};s.exports=l}),47956:(s=>{var y=function(r,o,v,c,u,l,a){l===void 0&&(l=!0),a===void 0&&(a=!1);var d=[],p=[],h=r.treeMinMax;if(h.minX=o,h.minY=v,h.maxX=o+c,h.maxY=v+u,a&&(p=r.staticTree.search(h)),l&&r.useTree)d=r.tree.search(h);else if(l){var g=r.bodies,m={position:{x:o,y:v},left:o,top:v,right:o+c,bottom:v+u,isCircle:!1},x=r.intersects;g.iterate(function(w){x(w,m)&&d.push(w)})}return p.concat(d)};s.exports=y}),62121:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setPushable:function(r){return r===void 0&&(r=!0),this.body.pushable=r,this}};s.exports=y}),29384:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setOffset:function(r,o){return this.body.setOffset(r,o),this},setSize:function(r,o,v){return this.body.setSize(r,o,v),this},setBodySize:function(r,o,v){return this.body.setSize(r,o,v),this},setCircle:function(r,o,v){return this.body.setCircle(r,o,v),this}};s.exports=y}),15098:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setVelocity:function(r,o){return this.body.setVelocity(r,o),this},setVelocityX:function(r){return this.body.setVelocityX(r),this},setVelocityY:function(r){return this.body.setVelocityY(r),this},setMaxVelocity:function(r,o){return this.body.maxVelocity.set(r,o),this}};s.exports=y}),92209:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Acceleration:r(1093),Angular:r(59023),Bounce:r(62069),Collision:r(78389),Debug:r(87118),Drag:r(52819),Enable:r(4074),Friction:r(40831),Gravity:r(26775),Immovable:r(9437),Mass:r(30621),OverlapCirc:r(72441),OverlapRect:r(47956),Pushable:r(62121),Size:r(29384),Velocity:r(15098)}}),37747:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};s.exports=y}),20009:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="collide"}),36768:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="overlap"}),60473:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pause"}),89954:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="resume"}),61804:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="tilecollide"}),7161:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="tileoverlap"}),34689:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="worldbounds"}),16006:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="worldstep"}),63012:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={COLLIDE:r(20009),OVERLAP:r(36768),PAUSE:r(60473),RESUME:r(89954),TILE_COLLIDE:r(61804),TILE_OVERLAP:r(7161),WORLD_BOUNDS:r(34689),WORLD_STEP:r(16006)}}),27064:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37747),v=r(79291),c={ArcadePhysics:r(86689),Body:r(37742),Collider:r(79342),Components:r(92209),Events:r(63012),Factory:r(66022),GetCollidesWith:r(79599),GetOverlapX:r(64897),GetOverlapY:r(45170),SeparateX:r(14087),SeparateY:r(89936),Group:r(60758),Image:r(71289),Sprite:r(13759),StaticBody:r(72624),StaticGroup:r(71464),Tilemap:r(55173),World:r(82248)};c=v(!1,c,o),s.exports=c}),96602:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return r.collisionCallback?!r.collisionCallback.call(r.collisionCallbackContext,o,r):r.layer.callbacks[r.index]?!r.layer.callbacks[r.index].callback.call(r.layer.callbacks[r.index].callbackContext,o,r):!0};s.exports=y}),36294:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){o<0?(r.blocked.none=!1,r.blocked.left=!0):o>0&&(r.blocked.none=!1,r.blocked.right=!0),r.position.x-=o,r.updateCenter(),r.bounce.x===0?r.velocity.x=0:r.velocity.x=-r.velocity.x*r.bounce.x};s.exports=y}),67013:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){o<0?(r.blocked.none=!1,r.blocked.up=!0):o>0&&(r.blocked.none=!1,r.blocked.down=!0),r.position.y-=o,r.updateCenter(),r.bounce.y===0?r.velocity.y=0:r.velocity.y=-r.velocity.y*r.bounce.y};s.exports=y}),40012:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(21329),v=r(53442),c=r(2483),u=function(l,a,d,p,h,g,m){var x=p.left,w=p.top,C=p.right,E=p.bottom,T=d.faceLeft||d.faceRight,S=d.faceTop||d.faceBottom;if(m||(T=!0,S=!0),!T&&!S)return!1;var A=0,P=0,R=0,L=1;if(a.deltaAbsX()>a.deltaAbsY()?R=-1:a.deltaAbsX()<a.deltaAbsY()&&(L=-1),a.deltaX()!==0&&a.deltaY()!==0&&T&&S&&(R=Math.min(Math.abs(a.position.x-C),Math.abs(a.right-x)),L=Math.min(Math.abs(a.position.y-E),Math.abs(a.bottom-w))),R<L){if(T&&(A=o(a,d,x,C,g,m),A!==0&&!c(p,a)))return!0;S&&(P=v(a,d,w,E,g,m))}else{if(S&&(P=v(a,d,w,E,g,m),P!==0&&!c(p,a)))return!0;T&&(A=o(a,d,x,C,g,m))}return A!==0||P!==0};s.exports=u}),21329:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36294),v=function(c,u,l,a,d,p){var h=0,g=u.faceLeft,m=u.faceRight,x=u.collideLeft,w=u.collideRight;return p||(g=!0,m=!0,x=!0,w=!0),c.deltaX()<0&&w&&c.checkCollision.left?m&&c.x<a&&(h=c.x-a,h<-d&&(h=0)):c.deltaX()>0&&x&&c.checkCollision.right&&g&&c.right>l&&(h=c.right-l,h>d&&(h=0)),h!==0&&(c.customSeparateX?c.overlapX=h:o(c,h)),h};s.exports=v}),53442:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(67013),v=function(c,u,l,a,d,p){var h=0,g=u.faceTop,m=u.faceBottom,x=u.collideUp,w=u.collideDown;return p||(g=!0,m=!0,x=!0,w=!0),c.deltaY()<0&&w&&c.checkCollision.up?m&&c.y<a&&(h=c.y-a,h<-d&&(h=0)):c.deltaY()>0&&x&&c.checkCollision.down&&g&&c.bottom>l&&(h=c.bottom-l,h>d&&(h=0)),h!==0&&(c.customSeparateY?c.overlapY=h:o(c,h)),h};s.exports=v}),2483:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return!(o.right<=r.left||o.bottom<=r.top||o.position.x>=r.right||o.position.y>=r.bottom)};s.exports=y}),55173:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={ProcessTileCallbacks:r(96602),ProcessTileSeparationX:r(36294),ProcessTileSeparationY:r(67013),SeparateTile:r(40012),TileCheckX:r(21329),TileCheckY:r(53442),TileIntersectsBody:r(2483)};s.exports=o}),44563:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Arcade:r(27064),Matter:r(3875)}}),68174:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(26099),c=new o({initialize:function(){this.boundsCenter=new v,this.centerDiff=new v},parseBody:function(u){if(u=u.hasOwnProperty("body")?u.body:u,!u.hasOwnProperty("bounds")||!u.hasOwnProperty("centerOfMass"))return!1;var l=this.boundsCenter,a=this.centerDiff,d=u.bounds.max.x-u.bounds.min.x,p=u.bounds.max.y-u.bounds.min.y,h=d*u.centerOfMass.x,g=p*u.centerOfMass.y;return l.set(d/2,p/2),a.set(h-l.x,g-l.y),!0},getTopLeft:function(u,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(u)){var d=this.boundsCenter,p=this.centerDiff;return new v(l+d.x+p.x,a+d.y+p.y)}return!1},getTopCenter:function(u,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(u)){var d=this.boundsCenter,p=this.centerDiff;return new v(l+p.x,a+d.y+p.y)}return!1},getTopRight:function(u,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(u)){var d=this.boundsCenter,p=this.centerDiff;return new v(l-(d.x-p.x),a+d.y+p.y)}return!1},getLeftCenter:function(u,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(u)){var d=this.boundsCenter,p=this.centerDiff;return new v(l+d.x+p.x,a+p.y)}return!1},getCenter:function(u,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(u)){var d=this.centerDiff;return new v(l+d.x,a+d.y)}return!1},getRightCenter:function(u,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(u)){var d=this.boundsCenter,p=this.centerDiff;return new v(l-(d.x-p.x),a+p.y)}return!1},getBottomLeft:function(u,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(u)){var d=this.boundsCenter,p=this.centerDiff;return new v(l+d.x+p.x,a-(d.y-p.y))}return!1},getBottomCenter:function(u,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(u)){var d=this.boundsCenter,p=this.centerDiff;return new v(l+p.x,a-(d.y-p.y))}return!1},getBottomRight:function(u,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(u)){var d=this.boundsCenter,p=this.centerDiff;return new v(l-(d.x-p.x),a-(d.y-p.y))}return!1}});s.exports=c}),19933:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(6790);o.Body=r(22562),o.Composite=r(69351),o.World=r(4372),o.Collision=r(52284),o.Detector=r(81388),o.Pairs=r(99561),o.Pair=r(4506),o.Query=r(73296),o.Resolver=r(66272),o.Constraint=r(48140),o.Common=r(53402),o.Engine=r(48413),o.Events=r(35810),o.Sleeping=r(53614),o.Plugin=r(73832),o.Bodies=r(66280),o.Composites=r(74116),o.Axes=r(66615),o.Bounds=r(15647),o.Svg=r(74058),o.Vector=r(31725),o.Vertices=r(41598),o.World.add=o.Composite.add,o.World.remove=o.Composite.remove,o.World.addComposite=o.Composite.addComposite,o.World.addBody=o.Composite.addBody,o.World.addConstraint=o.Composite.addConstraint,o.World.clear=o.Composite.clear,s.exports=o}),28137:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66280),v=r(83419),c=r(74116),u=r(48140),l=r(74058),a=r(75803),d=r(23181),p=r(34803),h=r(73834),g=r(19496),m=r(85791),x=r(98713),w=r(41598),C=new v({initialize:function(T){this.world=T,this.scene=T.scene,this.sys=T.scene.sys},rectangle:function(E,T,S,A,P){var R=o.rectangle(E,T,S,A,P);return this.world.add(R),R},trapezoid:function(E,T,S,A,P,R){var L=o.trapezoid(E,T,S,A,P,R);return this.world.add(L),L},circle:function(E,T,S,A,P){var R=o.circle(E,T,S,A,P);return this.world.add(R),R},polygon:function(E,T,S,A,P){var R=o.polygon(E,T,S,A,P);return this.world.add(R),R},fromVertices:function(E,T,S,A,P,R,L){typeof S=="string"&&(S=w.fromPath(S));var D=o.fromVertices(E,T,S,A,P,R,L);return this.world.add(D),D},fromPhysicsEditor:function(E,T,S,A,P){P===void 0&&(P=!0);var R=g.parseBody(E,T,S,A);return P&&!this.world.has(R)&&this.world.add(R),R},fromSVG:function(E,T,S,A,P,R){A===void 0&&(A=1),P===void 0&&(P={}),R===void 0&&(R=!0);for(var L=S.getElementsByTagName("path"),D=[],F=0;F<L.length;F++){var $=l.pathToVertices(L[F],30);A!==1&&w.scale($,A,A),D.push($)}var N=o.fromVertices(E,T,D,P);return R&&this.world.add(N),N},fromJSON:function(E,T,S,A,P){A===void 0&&(A={}),P===void 0&&(P=!0);var R=m.parseBody(E,T,S,A);return R&&P&&this.world.add(R),R},imageStack:function(E,T,S,A,P,R,L,D,F){L===void 0&&(L=0),D===void 0&&(D=0),F===void 0&&(F={});var $=this.world,N=this.sys.displayList;F.addToWorld=!1;var k=c.stack(S,A,P,R,L,D,function(j,W){var G=new d($,j,W,E,T,F);return N.add(G),G.body});return $.add(k),k},stack:function(E,T,S,A,P,R,L){var D=c.stack(E,T,S,A,P,R,L);return this.world.add(D),D},pyramid:function(E,T,S,A,P,R,L){var D=c.pyramid(E,T,S,A,P,R,L);return this.world.add(D),D},chain:function(E,T,S,A,P,R){return c.chain(E,T,S,A,P,R)},mesh:function(E,T,S,A,P){return c.mesh(E,T,S,A,P)},newtonsCradle:function(E,T,S,A,P){var R=c.newtonsCradle(E,T,S,A,P);return this.world.add(R),R},car:function(E,T,S,A,P){var R=c.car(E,T,S,A,P);return this.world.add(R),R},softBody:function(E,T,S,A,P,R,L,D,F,$){var N=c.softBody(E,T,S,A,P,R,L,D,F,$);return this.world.add(N),N},joint:function(E,T,S,A,P){return this.constraint(E,T,S,A,P)},spring:function(E,T,S,A,P){return this.constraint(E,T,S,A,P)},constraint:function(E,T,S,A,P){A===void 0&&(A=1),P===void 0&&(P={}),P.bodyA=E.type==="body"?E:E.body,P.bodyB=T.type==="body"?T:T.body,isNaN(S)||(P.length=S),P.stiffness=A;var R=u.create(P);return this.world.add(R),R},worldConstraint:function(E,T,S,A){S===void 0&&(S=1),A===void 0&&(A={}),A.bodyB=E.type==="body"?E:E.body,isNaN(T)||(A.length=T),A.stiffness=S;var P=u.create(A);return this.world.add(P),P},mouseSpring:function(E){return this.pointerConstraint(E)},pointerConstraint:function(E){E===void 0&&(E={}),E.hasOwnProperty("render")||(E.render={visible:!1});var T=new x(this.scene,this.world,E);return this.world.add(T.constraint),T},image:function(E,T,S,A,P){var R=new d(this.world,E,T,S,A,P);return this.sys.displayList.add(R),R},tileBody:function(E,T){return new h(this.world,E,T)},sprite:function(E,T,S,A,P){var R=new p(this.world,E,T,S,A,P);return this.sys.displayList.add(R),this.sys.updateList.add(R),R},gameObject:function(E,T,S){return a(this.world,E,T,S)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});s.exports=C}),75803:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(31884),v=r(95540),c=r(26099);function u(a){return!!a.get&&typeof a.get=="function"||!!a.set&&typeof a.set=="function"}var l=function(a,d,p,h){p===void 0&&(p={}),h===void 0&&(h=!0);var g=d.x,m=d.y;d.body={temp:!0,position:{x:g,y:m}};var x=[o.Bounce,o.Collision,o.Force,o.Friction,o.Gravity,o.Mass,o.Sensor,o.SetBody,o.Sleep,o.Static,o.Transform,o.Velocity];if(x.forEach(function(C){for(var E in C)u(C[E])?Object.defineProperty(d,E,{get:C[E].get,set:C[E].set}):Object.defineProperty(d,E,{value:C[E]})}),d.world=a,d._tempVec2=new c(g,m),p.hasOwnProperty("type")&&p.type==="body")d.setExistingBody(p,h);else{var w=v(p,"shape",null);w||(w="rectangle"),p.addToWorld=h,d.setBody(w,p)}return d};s.exports=l}),23181:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(31884),c=r(95643),u=r(95540),l=r(88571),a=r(72699),d=r(26099),p=new o({Extends:l,Mixins:[v.Bounce,v.Collision,v.Force,v.Friction,v.Gravity,v.Mass,v.Sensor,v.SetBody,v.Sleep,v.Static,v.Transform,v.Velocity,a],initialize:function(g,m,x,w,C,E){c.call(this,g.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(w,C),this.setSizeToFrame(),this.setOrigin(),this.world=g,this._tempVec2=new d(m,x);var T=u(E,"shape",null);T?this.setBody(T,E):this.setRectangle(this.width,this.height,E),this.setPosition(m,x),this.initPipeline(),this.initPostPipeline(!0)}});s.exports=p}),42045:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(60461),v=r(66615),c=r(66280),u=r(22562),l=r(68174),a=r(15647),d=r(83419),p=r(52284),h=r(53402),g=r(69351),m=r(74116),x=r(48140),w=r(81388),C=r(20339),E=r(28137),T=r(95540),S=r(35154),A=r(46975),P=r(4506),R=r(99561),L=r(37277),D=r(73296),F=r(66272),$=r(44594),N=r(74058),k=r(31725),j=r(41598),W=r(68243);h.setDecomp(r(55973));var G=new d({initialize:function(z){this.scene=z,this.systems=z.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=u,this.composite=g,this.collision=p,this.detector=w,this.pair=P,this.pairs=R,this.query=D,this.resolver=F,this.constraint=x,this.bodies=c,this.composites=m,this.axes=v,this.bounds=a,this.svg=N,this.vector=k,this.vertices=j,this.verts=j,this._tempVec2=k.create(),F._restingThresh=S(this.config,"restingThresh",4),F._restingThreshTangent=S(this.config,"restingThreshTangent",6),F._positionDampen=S(this.config,"positionDampen",.9),F._positionWarming=S(this.config,"positionWarming",.8),F._frictionNormalMultiplier=S(this.config,"frictionNormalMultiplier",5),z.sys.events.once($.BOOT,this.boot,this),z.sys.events.on($.START,this.start,this)},boot:function(){this.world=new W(this.scene,this.config),this.add=new E(this.world),this.bodyBounds=new l,this.systems.events.once($.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new W(this.scene,this.config),this.add=new E(this.world));var K=this.systems.events;K.on($.UPDATE,this.world.update,this.world),K.on($.POST_UPDATE,this.world.postUpdate,this.world),K.once($.SHUTDOWN,this.shutdown,this)},getConfig:function(){var K=this.systems.game.config.physics,z=this.systems.settings.physics,X=A(T(z,"matter",{}),T(K,"matter",{}));return X},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(K,z){this.world.step(K,z)},containsPoint:function(K,z,X){K=this.getMatterBodies(K);var U=k.create(z,X),Z=D.point(K,U);return Z.length>0},intersectPoint:function(K,z,X){X=this.getMatterBodies(X);var U=k.create(K,z),Z=[],V=D.point(X,U);return V.forEach(function(J){Z.indexOf(J)===-1&&Z.push(J)}),Z},intersectRect:function(K,z,X,U,Z,V){Z===void 0&&(Z=!1),V=this.getMatterBodies(V);var J={min:{x:K,y:z},max:{x:K+X,y:z+U}},_=[],ee=D.region(V,J,Z);return ee.forEach(function(te){_.indexOf(te)===-1&&_.push(te)}),_},intersectRay:function(K,z,X,U,Z,V){Z===void 0&&(Z=1),V=this.getMatterBodies(V);for(var J=[],_=D.ray(V,k.create(K,z),k.create(X,U),Z),ee=0;ee<_.length;ee++)J.push(_[ee].body);return J},intersectBody:function(K,z){z=this.getMatterBodies(z);for(var X=[],U=D.collides(K,z),Z=0;Z<U.length;Z++){var V=U[Z];V.bodyA===K?X.push(V.bodyB):X.push(V.bodyA)}return X},overlap:function(K,z,X,U,Z){X===void 0&&(X=null),U===void 0&&(U=null),Z===void 0&&(Z=X),Array.isArray(K)||(K=[K]),K=this.getMatterBodies(K),z=this.getMatterBodies(z);for(var V=!1,J=0;J<K.length;J++)for(var _=K[J],ee=D.collides(_,z),te=0;te<ee.length;te++){var ie=ee[te],le=ie.bodyA.id===_.id?ie.bodyB:ie.bodyA;if(!U||U.call(Z,_,le,ie)){if(V=!0,X)X.call(Z,_,le,ie);else if(!U)return!0}}return V},setCollisionCategory:function(K,z){return K=this.getMatterBodies(K),K.forEach(function(X){X.collisionFilter.category=z}),this},setCollisionGroup:function(K,z){return K=this.getMatterBodies(K),K.forEach(function(X){X.collisionFilter.group=z}),this},setCollidesWith:function(K,z){K=this.getMatterBodies(K);var X=0;if(!Array.isArray(z))X=z;else for(var U=0;U<z.length;U++)X|=z[U];return K.forEach(function(Z){Z.collisionFilter.mask=X}),this},getMatterBodies:function(K){if(!K)return this.world.getAllBodies();Array.isArray(K)||(K=[K]);for(var z=[],X=0;X<K.length;X++){var U=K[X].hasOwnProperty("body")?K[X].body:K[X];z.push(U)}return z},setVelocity:function(K,z,X){K=this.getMatterBodies(K);var U=this._tempVec2;return U.x=z,U.y=X,K.forEach(function(Z){u.setVelocity(Z,U)}),this},setVelocityX:function(K,z){K=this.getMatterBodies(K);var X=this._tempVec2;return X.x=z,K.forEach(function(U){X.y=U.velocity.y,u.setVelocity(U,X)}),this},setVelocityY:function(K,z){K=this.getMatterBodies(K);var X=this._tempVec2;return X.y=z,K.forEach(function(U){X.x=U.velocity.x,u.setVelocity(U,X)}),this},setAngularVelocity:function(K,z){return K=this.getMatterBodies(K),K.forEach(function(X){u.setAngularVelocity(X,z)}),this},applyForce:function(K,z){K=this.getMatterBodies(K);var X=this._tempVec2;return K.forEach(function(U){X.x=U.position.x,X.y=U.position.y,u.applyForce(U,X,z)}),this},applyForceFromPosition:function(K,z,X,U){K=this.getMatterBodies(K);var Z=this._tempVec2;return K.forEach(function(V){U===void 0&&(U=V.angle),Z.x=X*Math.cos(U),Z.y=X*Math.sin(U),u.applyForce(V,z,Z)}),this},applyForceFromAngle:function(K,z,X){K=this.getMatterBodies(K);var U=this._tempVec2;return K.forEach(function(Z){X===void 0&&(X=Z.angle),U.x=z*Math.cos(X),U.y=z*Math.sin(X),u.applyForce(Z,{x:Z.position.x,y:Z.position.y},U)}),this},getConstraintLength:function(K){var z=K.pointA.x,X=K.pointA.y,U=K.pointB.x,Z=K.pointB.y;return K.bodyA&&(z+=K.bodyA.position.x,X+=K.bodyA.position.y),K.bodyB&&(U+=K.bodyB.position.x,Z+=K.bodyB.position.y),C(z,X,U,Z)},alignBody:function(K,z,X,U){K=K.hasOwnProperty("body")?K.body:K;var Z;switch(U){case o.TOP_LEFT:case o.LEFT_TOP:Z=this.bodyBounds.getTopLeft(K,z,X);break;case o.TOP_CENTER:Z=this.bodyBounds.getTopCenter(K,z,X);break;case o.TOP_RIGHT:case o.RIGHT_TOP:Z=this.bodyBounds.getTopRight(K,z,X);break;case o.LEFT_CENTER:Z=this.bodyBounds.getLeftCenter(K,z,X);break;case o.CENTER:Z=this.bodyBounds.getCenter(K,z,X);break;case o.RIGHT_CENTER:Z=this.bodyBounds.getRightCenter(K,z,X);break;case o.LEFT_BOTTOM:case o.BOTTOM_LEFT:Z=this.bodyBounds.getBottomLeft(K,z,X);break;case o.BOTTOM_CENTER:Z=this.bodyBounds.getBottomCenter(K,z,X);break;case o.BOTTOM_RIGHT:case o.RIGHT_BOTTOM:Z=this.bodyBounds.getBottomRight(K,z,X);break}return Z&&u.setPosition(K,Z),this},shutdown:function(){var K=this.systems.events;this.world&&(K.off($.UPDATE,this.world.update,this.world),K.off($.POST_UPDATE,this.world.postUpdate,this.world)),K.off($.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off($.START,this.start,this),this.scene=null,this.systems=null}});L.register("MatterPhysics",G,"matterPhysics"),s.exports=G}),34803:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(9674),v=r(83419),c=r(31884),u=r(95643),l=r(95540),a=r(72699),d=r(68287),p=r(26099),h=new v({Extends:d,Mixins:[c.Bounce,c.Collision,c.Force,c.Friction,c.Gravity,c.Mass,c.Sensor,c.SetBody,c.Sleep,c.Static,c.Transform,c.Velocity,a],initialize:function(m,x,w,C,E,T){u.call(this,m.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new o(this),this.setTexture(C,E),this.setSizeToFrame(),this.setOrigin(),this.world=m,this._tempVec2=new p(x,w);var S=l(T,"shape",null);S?this.setBody(S,T):this.setRectangle(this.width,this.height,T),this.setPosition(x,w),this.initPipeline(),this.initPostPipeline(!0)}});s.exports=h}),73834:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66280),v=r(22562),c=r(83419),u=r(31884),l=r(62644),a=r(50792),d=r(95540),p=r(97022),h=r(41598),g=new c({Extends:a,Mixins:[u.Bounce,u.Collision,u.Friction,u.Gravity,u.Mass,u.Sensor,u.Sleep,u.Static],initialize:function(x,w,C){a.call(this),this.tile=w,this.world=x,w.physics.matterBody&&w.physics.matterBody.destroy(),w.physics.matterBody=this;var E=d(C,"body",null),T=d(C,"addToWorld",!0);if(E)this.setBody(E,T);else{var S=w.getCollisionGroup(),A=d(S,"objects",[]);A.length>0?this.setFromTileCollision(C):this.setFromTileRectangle(C)}if(w.flipX||w.flipY){var P={x:w.getCenterX(),y:w.getCenterY()},R=w.flipX?-1:1,L=w.flipY?-1:1;v.scale(E,R,L,P)}},setFromTileRectangle:function(m){m===void 0&&(m={}),p(m,"isStatic")||(m.isStatic=!0),p(m,"addToWorld")||(m.addToWorld=!0);var x=this.tile.getBounds(),w=x.x+x.width/2,C=x.y+x.height/2,E=o.rectangle(w,C,x.width,x.height,m);return this.setBody(E,m.addToWorld),this},setFromTileCollision:function(m){m===void 0&&(m={}),p(m,"isStatic")||(m.isStatic=!0),p(m,"addToWorld")||(m.addToWorld=!0);for(var x=this.tile.tilemapLayer.scaleX,w=this.tile.tilemapLayer.scaleY,C=this.tile.getLeft(),E=this.tile.getTop(),T=this.tile.getCollisionGroup(),S=d(T,"objects",[]),A=[],P=0;P<S.length;P++){var R=S[P],L=C+R.x*x,D=E+R.y*w,F=R.width*x,$=R.height*w,N=null;if(R.rectangle)N=o.rectangle(L+F/2,D+$/2,F,$,m);else if(R.ellipse)N=o.circle(L+F/2,D+$/2,F/2,m);else if(R.polygon||R.polyline){var k=R.polygon?R.polygon:R.polyline,j=k.map(function(z){return{x:z.x*x,y:z.y*w}}),W=h.create(j),G=h.centre(W);L+=G.x,D+=G.y,N=o.fromVertices(L,D,W,m)}N&&A.push(N)}if(A.length===1)this.setBody(A[0],m.addToWorld);else if(A.length>1){var K=l(m);K.parts=A,this.setBody(v.create(K),K.addToWorld)}return this},setBody:function(m,x){return x===void 0&&(x=!0),this.body&&this.removeBody(),this.body=m,this.body.gameObject=this,x&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});s.exports=g}),19496:((s,y,r)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66280),v=r(22562),c=r(53402),u=r(95540),l=r(41598),a={parseBody:function(d,p,h,g){g===void 0&&(g={});for(var m=u(h,"fixtures",[]),x=[],w=0;w<m.length;w++)for(var C=this.parseFixture(m[w]),E=0;E<C.length;E++)x.push(C[E]);var T=c.clone(h,!0);c.extend(T,g,!0),delete T.fixtures,delete T.type;var S=v.create(T);return v.setParts(S,x),v.setPosition(S,{x:d,y:p}),S},parseFixture:function(d){var p=c.extend({},!1,d);delete p.circle,delete p.vertices;var h;if(d.circle){var g=u(d.circle,"x"),m=u(d.circle,"y"),x=u(d.circle,"radius");h=[o.circle(g,m,x,p)]}else d.vertices&&(h=this.parseVertices(d.vertices,p));return h},parseVertices:function(d,p){p===void 0&&(p={});for(var h=[],g=0;g<d.length;g++)l.clockwiseSort(d[g]),h.push(v.create(c.extend({position:l.centre(d[g]),vertices:d[g]},p)));return o.flagCoincidentParts(h)}};s.exports=a}),85791:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66280),v=r(22562),c={parseBody:function(u,l,a,d){d===void 0&&(d={});var p,h=a.vertices;if(h.length===1)d.vertices=h[0],p=v.create(d),o.flagCoincidentParts(p.parts);else{for(var g=[],m=0;m<h.length;m++){var x=v.create({vertices:h[m]});g.push(x)}o.flagCoincidentParts(g),d.parts=g,p=v.create(d)}return p.label=a.label,v.setPosition(p,{x:u,y:l}),p}};s.exports=c}),98713:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(15647),v=r(83419),c=r(69351),u=r(48140),l=r(81388),a=r(1121),d=r(8214),p=r(46975),h=r(53614),g=r(26099),m=r(41598),x=new v({initialize:function(C,E,T){T===void 0&&(T={});var S={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=C,this.world=E,this.camera=null,this.pointer=null,this.active=!0,this.position=new g,this.body=null,this.part=null,this.constraint=u.create(p(T,S)),this.world.on(a.BEFORE_UPDATE,this.update,this),C.sys.input.on(d.POINTER_DOWN,this.onDown,this),C.sys.input.on(d.POINTER_UP,this.onUp,this)},onDown:function(w){this.pointer||(this.pointer=w,this.camera=w.camera)},onUp:function(w){w===this.pointer&&(this.pointer=null)},getBody:function(w){var C=this.position,E=this.constraint;this.camera.getWorldPoint(w.x,w.y,C);for(var T=c.allBodies(this.world.localWorld),S=0;S<T.length;S++){var A=T[S];if(!A.ignorePointer&&o.contains(A.bounds,C)&&l.canCollide(A.collisionFilter,E.collisionFilter)&&this.hitTestBody(A,C))return this.world.emit(a.DRAG_START,A,this.part,this),!0}return!1},hitTestBody:function(w,C){for(var E=this.constraint,T=w.parts.length,S=T>1?1:0,A=S;A<T;A++){var P=w.parts[A];if(m.contains(P.vertices,C))return E.pointA=C,E.pointB={x:C.x-w.position.x,y:C.y-w.position.y},E.bodyB=w,E.angleB=w.angle,h.set(w,!1),this.part=P,this.body=w,!0}return!1},update:function(){var w=this.pointer,C=this.body;if(!this.active||!w){C&&this.stopDrag();return}if(!w.isDown&&C){this.stopDrag();return}else if(w.isDown){if(!this.camera||!C&&!this.getBody(w))return;C=this.body;var E=this.position,T=this.constraint;this.camera.getWorldPoint(w.x,w.y,E),T.pointA.x=E.x,T.pointA.y=E.y,h.set(C,!1),this.world.emit(a.DRAG,C,this)}},stopDrag:function(){var w=this.body,C=this.constraint;C.bodyB=null,C.pointB=null,this.pointer=null,this.body=null,this.part=null,w&&this.world.emit(a.DRAG_END,w,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(a.BEFORE_UPDATE,this.update),this.scene.sys.input.off(d.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(d.POINTER_UP,this.onUp,this)}});s.exports=x}),68243:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66280),v=r(22562),c=r(83419),u=r(53402),l=r(69351),a=r(48413),d=r(50792),p=r(1121),h=r(95540),g=r(35154),m=r(22562),x=r(35810),w=r(73834),C=r(4372),E=r(13037),T=r(31725),S=new c({Extends:d,initialize:function(P,R){d.call(this),this.scene=P,this.engine=a.create(R),this.localWorld=this.engine.world;var L=g(R,"gravity",null);L?this.setGravity(L.x,L.y,L.scale):L===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=g(R,"enabled",!0),this.getDelta=g(R,"getDelta",this.update60Hz);var D=h(R,"runner",{}),F=h(D,"fps",!1);F&&(D.delta=1e3/h(D,"fps",60)),this.runner=E.create(D),this.autoUpdate=g(R,"autoUpdate",!0);var $=g(R,"debug",!1);if(this.drawDebug=typeof $=="object"?!0:$,this.debugGraphic,this.debugConfig={showAxes:h($,"showAxes",!1),showAngleIndicator:h($,"showAngleIndicator",!1),angleColor:h($,"angleColor",15208787),showBroadphase:h($,"showBroadphase",!1),broadphaseColor:h($,"broadphaseColor",16757760),showBounds:h($,"showBounds",!1),boundsColor:h($,"boundsColor",16777215),showVelocity:h($,"showVelocity",!1),velocityColor:h($,"velocityColor",44783),showCollisions:h($,"showCollisions",!1),collisionColor:h($,"collisionColor",16094476),showSeparations:h($,"showSeparations",!1),separationColor:h($,"separationColor",16753920),showBody:h($,"showBody",!0),showStaticBody:h($,"showStaticBody",!0),showInternalEdges:h($,"showInternalEdges",!1),renderFill:h($,"renderFill",!1),renderLine:h($,"renderLine",!0),fillColor:h($,"fillColor",1075465),fillOpacity:h($,"fillOpacity",1),lineColor:h($,"lineColor",2678297),lineOpacity:h($,"lineOpacity",1),lineThickness:h($,"lineThickness",1),staticFillColor:h($,"staticFillColor",857979),staticLineColor:h($,"staticLineColor",1255396),showSleeping:h($,"showSleeping",!1),staticBodySleepOpacity:h($,"staticBodySleepOpacity",.7),sleepFillColor:h($,"sleepFillColor",4605510),sleepLineColor:h($,"sleepLineColor",10066585),showSensors:h($,"showSensors",!0),sensorFillColor:h($,"sensorFillColor",857979),sensorLineColor:h($,"sensorLineColor",1255396),showPositions:h($,"showPositions",!0),positionSize:h($,"positionSize",4),positionColor:h($,"positionColor",14697178),showJoint:h($,"showJoint",!0),jointColor:h($,"jointColor",14737474),jointLineOpacity:h($,"jointLineOpacity",1),jointLineThickness:h($,"jointLineThickness",2),pinSize:h($,"pinSize",4),pinColor:h($,"pinColor",4382944),springColor:h($,"springColor",14697184),anchorColor:h($,"anchorColor",15724527),anchorSize:h($,"anchorSize",4),showConvexHulls:h($,"showConvexHulls",!1),hullColor:h($,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),h(R,"setBounds",!1)){var N=R.setBounds;if(typeof N=="boolean")this.setBounds();else{var k=h(N,"x",0),j=h(N,"y",0),W=h(N,"width",P.sys.scale.width),G=h(N,"height",P.sys.scale.height),K=h(N,"thickness",64),z=h(N,"left",!0),X=h(N,"right",!0),U=h(N,"top",!0),Z=h(N,"bottom",!0);this.setBounds(k,j,W,G,K,z,X,U,Z)}}},setCompositeRenderStyle:function(A){var P=A.bodies,R=A.constraints,L=A.composites,D,F,$;for(D=0;D<P.length;D++)F=P[D],$=F.render,this.setBodyRenderStyle(F,$.lineColor,$.lineOpacity,$.lineThickness,$.fillColor,$.fillOpacity);for(D=0;D<R.length;D++)F=R[D],$=F.render,this.setConstraintRenderStyle(F,$.lineColor,$.lineOpacity,$.lineThickness,$.pinSize,$.anchorColor,$.anchorSize);for(D=0;D<L.length;D++)F=L[D],this.setCompositeRenderStyle(F);return this},setBodyRenderStyle:function(A,P,R,L,D,F){var $=A.render,N=this.debugConfig;return $?(P==null&&(P=A.isStatic?N.staticLineColor:N.lineColor),R==null&&(R=N.lineOpacity),L==null&&(L=N.lineThickness),D==null&&(D=A.isStatic?N.staticFillColor:N.fillColor),F==null&&(F=N.fillOpacity),P!==!1&&($.lineColor=P),R!==!1&&($.lineOpacity=R),L!==!1&&($.lineThickness=L),D!==!1&&($.fillColor=D),F!==!1&&($.fillOpacity=F),this):this},setConstraintRenderStyle:function(A,P,R,L,D,F,$){var N=A.render,k=this.debugConfig;if(!N)return this;if(P==null){var j=N.type;j==="line"?P=k.jointColor:j==="pin"?P=k.pinColor:j==="spring"&&(P=k.springColor)}return R==null&&(R=k.jointLineOpacity),L==null&&(L=k.jointLineThickness),D==null&&(D=k.pinSize),F==null&&(F=k.anchorColor),$==null&&($=k.anchorSize),P!==!1&&(N.lineColor=P),R!==!1&&(N.lineOpacity=R),L!==!1&&(N.lineThickness=L),D!==!1&&(N.pinSize=D),F!==!1&&(N.anchorColor=F),$!==!1&&(N.anchorSize=$),this},setEventsProxy:function(){var A=this,P=this.engine,R=this.localWorld;this.drawDebug&&(x.on(R,"compositeModified",function(L){A.setCompositeRenderStyle(L)}),x.on(R,"beforeAdd",function(L){for(var D=[].concat(L.object),F=0;F<D.length;F++){var $=D[F],N=$.render;$.type==="body"?A.setBodyRenderStyle($,N.lineColor,N.lineOpacity,N.lineThickness,N.fillColor,N.fillOpacity):$.type==="composite"?A.setCompositeRenderStyle($):$.type==="constraint"&&A.setConstraintRenderStyle($,N.lineColor,N.lineOpacity,N.lineThickness,N.pinSize,N.anchorColor,N.anchorSize)}})),x.on(R,"beforeAdd",function(L){A.emit(p.BEFORE_ADD,L)}),x.on(R,"afterAdd",function(L){A.emit(p.AFTER_ADD,L)}),x.on(R,"beforeRemove",function(L){A.emit(p.BEFORE_REMOVE,L)}),x.on(R,"afterRemove",function(L){A.emit(p.AFTER_REMOVE,L)}),x.on(P,"beforeUpdate",function(L){A.emit(p.BEFORE_UPDATE,L)}),x.on(P,"afterUpdate",function(L){A.emit(p.AFTER_UPDATE,L)}),x.on(P,"collisionStart",function(L){var D=L.pairs,F,$;D.length>0&&D.map(function(N){F=N.bodyA,$=N.bodyB,F.gameObject&&F.gameObject.emit("collide",F,$,N),$.gameObject&&$.gameObject.emit("collide",$,F,N),x.trigger(F,"onCollide",{pair:N}),x.trigger($,"onCollide",{pair:N}),F.onCollideCallback&&F.onCollideCallback(N),$.onCollideCallback&&$.onCollideCallback(N),F.onCollideWith[$.id]&&F.onCollideWith[$.id]($,N),$.onCollideWith[F.id]&&$.onCollideWith[F.id](F,N)}),A.emit(p.COLLISION_START,L,F,$)}),x.on(P,"collisionActive",function(L){var D=L.pairs,F,$;D.length>0&&D.map(function(N){F=N.bodyA,$=N.bodyB,F.gameObject&&F.gameObject.emit("collideActive",F,$,N),$.gameObject&&$.gameObject.emit("collideActive",$,F,N),x.trigger(F,"onCollideActive",{pair:N}),x.trigger($,"onCollideActive",{pair:N}),F.onCollideActiveCallback&&F.onCollideActiveCallback(N),$.onCollideActiveCallback&&$.onCollideActiveCallback(N)}),A.emit(p.COLLISION_ACTIVE,L,F,$)}),x.on(P,"collisionEnd",function(L){var D=L.pairs,F,$;D.length>0&&D.map(function(N){F=N.bodyA,$=N.bodyB,F.gameObject&&F.gameObject.emit("collideEnd",F,$,N),$.gameObject&&$.gameObject.emit("collideEnd",$,F,N),x.trigger(F,"onCollideEnd",{pair:N}),x.trigger($,"onCollideEnd",{pair:N}),F.onCollideEndCallback&&F.onCollideEndCallback(N),$.onCollideEndCallback&&$.onCollideEndCallback(N)}),A.emit(p.COLLISION_END,L,F,$)})},setBounds:function(A,P,R,L,D,F,$,N,k){return A===void 0&&(A=0),P===void 0&&(P=0),R===void 0&&(R=this.scene.sys.scale.width),L===void 0&&(L=this.scene.sys.scale.height),D===void 0&&(D=64),F===void 0&&(F=!0),$===void 0&&($=!0),N===void 0&&(N=!0),k===void 0&&(k=!0),this.updateWall(F,"left",A-D,P-D,D,L+D*2),this.updateWall($,"right",A+R,P-D,D,L+D*2),this.updateWall(N,"top",A,P-D,R,D),this.updateWall(k,"bottom",A,P+L,R,D),this},updateWall:function(A,P,R,L,D,F){var $=this.walls[P];A?($&&C.remove(this.localWorld,$),R+=D/2,L+=F/2,this.walls[P]=this.create(R,L,D,F,{isStatic:!0,friction:0,frictionStatic:0})):($&&C.remove(this.localWorld,$),this.walls[P]=null)},createDebugGraphic:function(){var A=this.scene.sys.add.graphics({x:0,y:0});return A.setDepth(Number.MAX_VALUE),this.debugGraphic=A,this.drawDebug=!0,A},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(A,P,R){return A===void 0&&(A=0),P===void 0&&(P=1),R===void 0&&(R=.001),this.localWorld.gravity.x=A,this.localWorld.gravity.y=P,this.localWorld.gravity.scale=R,this},create:function(A,P,R,L,D){var F=o.rectangle(A,P,R,L,D);return C.add(this.localWorld,F),F},add:function(A){return C.add(this.localWorld,A),this},remove:function(A,P){Array.isArray(A)||(A=[A]);for(var R=0;R<A.length;R++){var L=A[R],D=L.body?L.body:L;l.remove(this.localWorld,D,P)}return this},removeConstraint:function(A,P){return l.remove(this.localWorld,A,P),this},convertTilemapLayer:function(A,P){var R=A.layer,L=A.getTilesWithin(0,0,R.width,R.height,{isColliding:!0});return this.convertTiles(L,P),this},convertTiles:function(A,P){if(A.length===0)return this;for(var R=0;R<A.length;R++)new w(this,A[R],P);return this},nextGroup:function(A){return m.nextGroup(A)},nextCategory:function(){return m.nextCategory()},pause:function(){return this.enabled=!1,this.emit(p.PAUSE),this},resume:function(){return this.enabled=!0,this.runner.timeLastTick=u.now(),this.emit(p.RESUME),this},update:function(A){if(!(!this.enabled||!this.autoUpdate)){var P=this.engine,R=this.runner,L=u.now(),D=R.delta,F=0,$=A-R.timeLastTick;if((!$||!R.timeLastTick||$>Math.max(E._maxFrameDelta,R.maxFrameTime))&&($=R.frameDelta||E._frameDeltaFallback),R.frameDeltaSmoothing){R.frameDeltaHistory.push($),R.frameDeltaHistory=R.frameDeltaHistory.slice(-R.frameDeltaHistorySize);var N=R.frameDeltaHistory.slice(0).sort(),k=R.frameDeltaHistory.slice(N.length*E._smoothingLowerBound,N.length*E._smoothingUpperBound),j=E._mean(k);$=j||$}R.frameDeltaSnapping&&($=1e3/Math.round(1e3/$)),R.frameDelta=$,R.timeLastTick=A,R.timeBuffer+=R.frameDelta,R.timeBuffer=u.clamp(R.timeBuffer,0,R.frameDelta+D*E._timeBufferMargin),R.lastUpdatesDeferred=0;for(var W=R.maxUpdates||Math.ceil(R.maxFrameTime/D),G=u.now();D>0&&R.timeBuffer>=D*E._timeBufferMargin;){a.update(P,D),R.timeBuffer-=D,F+=1;var K=u.now()-L,z=u.now()-G,X=K+E._elapsedNextEstimate*z/F;if(F>=W||X>R.maxFrameTime){R.lastUpdatesDeferred=Math.round(Math.max(0,R.timeBuffer/D-E._timeBufferMargin));break}}}},step:function(A){a.update(this.engine,A)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(A){var P=A.hasOwnProperty("body")?A.body:A;return l.get(this.localWorld,P.id,P.type)!==null},getAllBodies:function(){return l.allBodies(this.localWorld)},getAllConstraints:function(){return l.allConstraints(this.localWorld)},getAllComposites:function(){return l.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var A=this.debugConfig,P=this.engine,R=this.debugGraphic,L=l.allBodies(this.localWorld);this.debugGraphic.clear(),A.showBroadphase&&P.broadphase.controller&&this.renderGrid(P.broadphase,R,A.broadphaseColor,.5),A.showBounds&&this.renderBodyBounds(L,R,A.boundsColor,.5),(A.showBody||A.showStaticBody)&&this.renderBodies(L),A.showJoint&&this.renderJoints(),(A.showAxes||A.showAngleIndicator)&&this.renderBodyAxes(L,R,A.showAxes,A.angleColor,.5),A.showVelocity&&this.renderBodyVelocity(L,R,A.velocityColor,1,2),A.showSeparations&&this.renderSeparations(P.pairs.list,R,A.separationColor),A.showCollisions&&this.renderCollisions(P.pairs.list,R,A.collisionColor)}},renderGrid:function(A,P,R,L){P.lineStyle(1,R,L);for(var D=u.keys(A.buckets),F=0;F<D.length;F++){var $=D[F];if(!(A.buckets[$].length<2)){var N=$.split(/C|R/);P.strokeRect(parseInt(N[1],10)*A.bucketWidth,parseInt(N[2],10)*A.bucketHeight,A.bucketWidth,A.bucketHeight)}}return this},renderSeparations:function(A,P,R){P.lineStyle(1,R,1);for(var L=0;L<A.length;L++){var D=A[L];if(D.isActive){var F=D.collision,$=F.bodyA,N=F.bodyB,k=$.position,j=N.position,W=F.penetration,G=!$.isStatic&&!N.isStatic?4:1;N.isStatic&&(G=0),P.lineBetween(j.x,j.y,j.x-W.x*G,j.y-W.y*G),G=!$.isStatic&&!N.isStatic?4:1,$.isStatic&&(G=0),P.lineBetween(k.x,k.y,k.x-W.x*G,k.y-W.y*G)}}return this},renderCollisions:function(A,P,R){P.lineStyle(1,R,.5),P.fillStyle(R,1);var L,D;for(L=0;L<A.length;L++)if(D=A[L],!!D.isActive)for(var F=0;F<D.contactCount;F++){var $=D.contacts[F],N=$.vertex;N&&P.fillRect(N.x-2,N.y-2,5,5)}for(L=0;L<A.length;L++)if(D=A[L],!!D.isActive){var k=D.collision,j=D.contacts;if(D.contactCount>0){var W=j[0].vertex.x,G=j[0].vertex.y;D.contactCount===2&&(W=(j[0].vertex.x+j[1].vertex.x)/2,G=(j[0].vertex.y+j[1].vertex.y)/2),k.bodyB===k.supports[0].body||k.bodyA.isStatic?P.lineBetween(W-k.normal.x*8,G-k.normal.y*8,W,G):P.lineBetween(W+k.normal.x*8,G+k.normal.y*8,W,G)}}return this},renderBodyBounds:function(A,P,R,L){P.lineStyle(1,R,L);for(var D=0;D<A.length;D++){var F=A[D];if(F.render.visible){var $=F.bounds;if($)P.strokeRect($.min.x,$.min.y,$.max.x-$.min.x,$.max.y-$.min.y);else for(var N=F.parts,k=N.length>1?1:0;k<N.length;k++){var j=N[k];P.strokeRect(j.bounds.min.x,j.bounds.min.y,j.bounds.max.x-j.bounds.min.x,j.bounds.max.y-j.bounds.min.y)}}}return this},renderBodyAxes:function(A,P,R,L,D){P.lineStyle(1,L,D);for(var F=0;F<A.length;F++){var $=A[F],N=$.parts;if($.render.visible){var k,j,W;if(R)for(j=N.length>1?1:0;j<N.length;j++)for(k=N[j],W=0;W<k.axes.length;W++){var G=k.axes[W];P.lineBetween(k.position.x,k.position.y,k.position.x+G.x*20,k.position.y+G.y*20)}else for(j=N.length>1?1:0;j<N.length;j++)for(k=N[j],W=0;W<k.axes.length;W++)P.lineBetween(k.position.x,k.position.y,(k.vertices[0].x+k.vertices[k.vertices.length-1].x)/2,(k.vertices[0].y+k.vertices[k.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(A,P,R,L,D){P.lineStyle(D,R,L);for(var F=0;F<A.length;F++){var $=A[F];$.render.visible&&P.lineBetween($.position.x,$.position.y,$.position.x+($.position.x-$.positionPrev.x)*2,$.position.y+($.position.y-$.positionPrev.y)*2)}return this},renderBodies:function(A){for(var P=this.debugGraphic,R=this.debugConfig,L=R.showBody,D=R.showStaticBody,F=R.showSleeping,$=R.showInternalEdges,N=R.showConvexHulls,k=R.renderFill,j=R.renderLine,W=R.staticBodySleepOpacity,G=R.sleepFillColor,K=R.sleepLineColor,z=R.hullColor,X=0;X<A.length;X++){var U=A[X];if(U.render.visible&&!(!D&&U.isStatic||!L&&!U.isStatic)){var Z=U.render.lineColor,V=U.render.lineOpacity,J=U.render.lineThickness,_=U.render.fillColor,ee=U.render.fillOpacity;F&&U.isSleeping&&(U.isStatic?(V*=W,ee*=W):(Z=K,_=G)),k||(_=null),j||(Z=null),this.renderBody(U,P,$,Z,V,J,_,ee);var te=U.parts.length;N&&te>1&&this.renderConvexHull(U,P,z,J)}}},renderBody:function(A,P,R,L,D,F,$,N){L===void 0&&(L=null),D===void 0&&(D=null),F===void 0&&(F=1),$===void 0&&($=null),N===void 0&&(N=null);for(var k=this.debugConfig,j=k.sensorFillColor,W=k.sensorLineColor,G=A.parts,K=G.length,z=K>1?1:0;z<K;z++){var X=G[z],U=X.render,Z=U.opacity;if(!(!U.visible||Z===0||X.isSensor&&!k.showSensors)){var V=X.circleRadius;if(P.beginPath(),X.isSensor?($!==null&&P.fillStyle(j,N*Z),L!==null&&P.lineStyle(F,W,D*Z)):($!==null&&P.fillStyle($,N*Z),L!==null&&P.lineStyle(F,L,D*Z)),V)P.arc(X.position.x,X.position.y,V,0,2*Math.PI);else{var J=X.vertices,_=J.length;P.moveTo(J[0].x,J[0].y);for(var ee=1;ee<_;ee++){var te=J[ee];if(!J[ee-1].isInternal||R?P.lineTo(te.x,te.y):P.moveTo(te.x,te.y),ee<_&&te.isInternal&&!R){var ie=(ee+1)%_;P.moveTo(J[ie].x,J[ie].y)}}P.closePath()}$!==null&&P.fillPath(),L!==null&&P.strokePath()}}if(k.showPositions&&!A.isStatic){var le=A.position.x,he=A.position.y,fe=Math.ceil(k.positionSize/2);P.fillStyle(k.positionColor,1),P.fillRect(le-fe,he-fe,k.positionSize,k.positionSize)}return this},renderConvexHull:function(A,P,R,L){L===void 0&&(L=1);var D=A.parts,F=D.length;if(F>1){var $=A.vertices;P.lineStyle(L,R),P.beginPath(),P.moveTo($[0].x,$[0].y);for(var N=1;N<$.length;N++)P.lineTo($[N].x,$[N].y);P.lineTo($[0].x,$[0].y),P.strokePath()}return this},renderJoints:function(){for(var A=this.debugGraphic,P=l.allConstraints(this.localWorld),R=0;R<P.length;R++){var L=P[R].render,D=L.lineColor,F=L.lineOpacity,$=L.lineThickness,N=L.pinSize,k=L.anchorColor,j=L.anchorSize;this.renderConstraint(P[R],A,D,F,$,N,k,j)}},renderConstraint:function(A,P,R,L,D,F,$,N){var k=A.render;if(!k.visible||!A.pointA||!A.pointB)return this;P.lineStyle(D,R,L);var j=A.bodyA,W=A.bodyB,G,K;if(j?G=T.add(j.position,A.pointA):G=A.pointA,k.type==="pin")P.strokeCircle(G.x,G.y,F);else{if(W?K=T.add(W.position,A.pointB):K=A.pointB,P.beginPath(),P.moveTo(G.x,G.y),k.type==="spring")for(var z=T.sub(K,G),X=T.perp(T.normalise(z)),U=Math.ceil(u.clamp(A.length/5,12,20)),Z,V=1;V<U;V+=1)Z=V%2===0?1:-1,P.lineTo(G.x+z.x*(V/U)+X.x*Z*4,G.y+z.y*(V/U)+X.y*Z*4);P.lineTo(K.x,K.y)}return P.strokePath(),k.anchors&&N>0&&(P.fillStyle($),P.fillCircle(G.x,G.y,N),P.fillCircle(K.x,K.y,N)),this},resetCollisionIDs:function(){return v._nextCollidingGroupId=1,v._nextNonCollidingGroupId=-1,v._nextCategory=1,this},shutdown:function(){x.off(this.engine),this.removeAllListeners(),C.clear(this.localWorld,!1),a.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});s.exports=S}),70410:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setBounce:function(r){return this.body.restitution=r,this}};s.exports=y}),66968:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setCollisionCategory:function(r){return this.body.collisionFilter.category=r,this},setCollisionGroup:function(r){return this.body.collisionFilter.group=r,this},setCollidesWith:function(r){var o=0;if(!Array.isArray(r))o=r;else for(var v=0;v<r.length;v++)o|=r[v];return this.body.collisionFilter.mask=o,this},setOnCollide:function(r){return this.body.onCollideCallback=r,this},setOnCollideEnd:function(r){return this.body.onCollideEndCallback=r,this},setOnCollideActive:function(r){return this.body.onCollideActiveCallback=r,this},setOnCollideWith:function(r,o){Array.isArray(r)||(r=[r]);for(var v=0;v<r.length;v++){var c=r[v].hasOwnProperty("body")?r[v].body:r[v];this.body.setOnCollideWith(c,o)}return this}};s.exports=y}),51607:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(22562),v={applyForce:function(c){return this._tempVec2.set(this.body.position.x,this.body.position.y),o.applyForce(this.body,this._tempVec2,c),this},applyForceFrom:function(c,u){return o.applyForce(this.body,c,u),this},thrust:function(c){var u=this.body.angle;return this._tempVec2.set(c*Math.cos(u),c*Math.sin(u)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(c){var u=this.body.angle-Math.PI/2;return this._tempVec2.set(c*Math.cos(u),c*Math.sin(u)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(c){var u=this.body.angle+Math.PI/2;return this._tempVec2.set(c*Math.cos(u),c*Math.sin(u)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(c){var u=this.body.angle-Math.PI;return this._tempVec2.set(c*Math.cos(u),c*Math.sin(u)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};s.exports=v}),5436:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setFriction:function(r,o,v){return this.body.friction=r,o!==void 0&&(this.body.frictionAir=o),v!==void 0&&(this.body.frictionStatic=v),this},setFrictionAir:function(r){return this.body.frictionAir=r,this},setFrictionStatic:function(r){return this.body.frictionStatic=r,this}};s.exports=y}),39858:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setIgnoreGravity:function(r){return this.body.ignoreGravity=r,this}};s.exports=y}),37302:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(22562),v=r(26099),c={setMass:function(u){return o.setMass(this.body,u),this},setDensity:function(u){return o.setDensity(this.body,u),this},centerOfMass:{get:function(){return new v(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};s.exports=c}),39132:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={setSensor:function(r){return this.body.isSensor=r,this},isSensor:function(){return this.body.isSensor}};s.exports=y}),57772:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66280),v=r(22562),c=r(43855),u=r(95540),l=r(19496),a=r(85791),d=r(41598),p={setRectangle:function(h,g,m){return this.setBody({type:"rectangle",width:h,height:g},m)},setCircle:function(h,g){return this.setBody({type:"circle",radius:h},g)},setPolygon:function(h,g,m){return this.setBody({type:"polygon",sides:g,radius:h},m)},setTrapezoid:function(h,g,m,x){return this.setBody({type:"trapezoid",width:h,height:g,slope:m},x)},setExistingBody:function(h,g){g===void 0&&(g=!0),this.body&&this.world.remove(this.body,!0),this.body=h;for(var m=0;m<h.parts.length;m++)h.parts[m].gameObject=this;var x=this;if(h.destroy=function(){x.world.remove(x.body,!0),x.body.gameObject=null},g&&(this.world.has(h)&&this.world.remove(h,!0),this.world.add(h)),this._originComponent){var w=h.render.sprite.xOffset,C=h.render.sprite.yOffset,E=h.centerOfMass.x,T=h.centerOfMass.y;if(c(E,.5)&&c(T,.5))this.setOrigin(w+.5,C+.5);else{var S=h.centerOffset.x,A=h.centerOffset.y;this.setOrigin(w+S/this.displayWidth,C+A/this.displayHeight)}}return this},setBody:function(h,g){if(!h)return this;var m;typeof h=="string"&&(h={type:h});var x=u(h,"type","rectangle"),w=u(h,"x",this._tempVec2.x),C=u(h,"y",this._tempVec2.y),E=u(h,"width",this.width),T=u(h,"height",this.height);switch(x){case"rectangle":m=o.rectangle(w,C,E,T,g);break;case"circle":var S=u(h,"radius",Math.max(E,T)/2),A=u(h,"maxSides",25);m=o.circle(w,C,S,g,A);break;case"trapezoid":var P=u(h,"slope",.5);m=o.trapezoid(w,C,E,T,P,g);break;case"polygon":var R=u(h,"sides",5),L=u(h,"radius",Math.max(E,T)/2);m=o.polygon(w,C,R,L,g);break;case"fromVertices":case"fromVerts":var D=u(h,"verts",null);if(D)if(typeof D=="string"&&(D=d.fromPath(D)),this.body&&!this.body.hasOwnProperty("temp"))v.setVertices(this.body,D),m=this.body;else{var F=u(h,"flagInternal",!1),$=u(h,"removeCollinear",.01),N=u(h,"minimumArea",10);m=o.fromVertices(w,C,D,g,F,$,N)}break;case"fromPhysicsEditor":m=l.parseBody(w,C,h,g);break;case"fromPhysicsTracer":m=a.parseBody(w,C,h,g);break}return m&&this.setExistingBody(m,h.addToWorld),this}};s.exports=p}),38083:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(1121),v=r(53614),c=r(35810),u={setToSleep:function(){return v.set(this.body,!0),this},setAwake:function(){return v.set(this.body,!1),this},setSleepThreshold:function(l){return l===void 0&&(l=60),this.body.sleepThreshold=l,this},setSleepEvents:function(l,a){return this.setSleepStartEvent(l),this.setSleepEndEvent(a),this},setSleepStartEvent:function(l){if(l){var a=this.world;c.on(this.body,"sleepStart",function(d){a.emit(o.SLEEP_START,d,this)})}else c.off(this.body,"sleepStart");return this},setSleepEndEvent:function(l){if(l){var a=this.world;c.on(this.body,"sleepEnd",function(d){a.emit(o.SLEEP_END,d,this)})}else c.off(this.body,"sleepEnd");return this}};s.exports=u}),90556:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(22562),v={setStatic:function(c){return o.setStatic(this.body,c),this},isStatic:function(){return this.body.isStatic}};s.exports=v}),85436:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(22562),v=r(36383),c=r(86554),u=r(30954),l=4,a={x:{get:function(){return this.body.position.x},set:function(d){this._tempVec2.set(d,this.y),o.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(d){this._tempVec2.set(this.x,d),o.setPosition(this.body,this._tempVec2)}},scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(d){this.setScale(d,d)}},scaleX:{get:function(){return this._scaleX},set:function(d){var p=1/this._scaleX,h=1/this._scaleY;this._scaleX=d,this._scaleX===0?this.renderFlags&=~l:this.renderFlags|=l,o.scale(this.body,p,h),o.scale(this.body,d,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(d){var p=1/this._scaleX,h=1/this._scaleY;this._scaleY=d,this._scaleY===0?this.renderFlags&=~l:this.renderFlags|=l,o.scale(this.body,p,h),o.scale(this.body,this._scaleX,d)}},angle:{get:function(){return u(this.body.angle*v.RAD_TO_DEG)},set:function(d){this.rotation=u(d)*v.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(d){this._rotation=c(d),o.setAngle(this.body,this._rotation)}},setPosition:function(d,p){return d===void 0&&(d=0),p===void 0&&(p=d),this._tempVec2.set(d,p),o.setPosition(this.body,this._tempVec2),this},setRotation:function(d){return d===void 0&&(d=0),this._rotation=c(d),o.setAngle(this.body,d),this},setFixedRotation:function(){return o.setInertia(this.body,1/0),this},setAngle:function(d){return d===void 0&&(d=0),this.angle=d,o.setAngle(this.body,this.rotation),this},setScale:function(d,p,h){d===void 0&&(d=1),p===void 0&&(p=d);var g=1/this._scaleX,m=1/this._scaleY;return this._scaleX=d,this._scaleY=p,o.scale(this.body,g,m,h),o.scale(this.body,d,p,h),this}};s.exports=a}),42081:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(22562),v={setVelocityX:function(c){return this._tempVec2.set(c,this.body.velocity.y),o.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(c){return this._tempVec2.set(this.body.velocity.x,c),o.setVelocity(this.body,this._tempVec2),this},setVelocity:function(c,u){return this._tempVec2.set(c,u),o.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return o.getVelocity(this.body)},setAngularVelocity:function(c){return o.setAngularVelocity(this.body,c),this},getAngularVelocity:function(){return o.getAngularVelocity(this.body)},setAngularSpeed:function(c){return o.setAngularSpeed(this.body,c),this},getAngularSpeed:function(){return o.getAngularSpeed(this.body)}};s.exports=v}),31884:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Bounce:r(70410),Collision:r(66968),Force:r(51607),Friction:r(5436),Gravity:r(39858),Mass:r(37302),Sensor:r(39132),SetBody:r(57772),Sleep:r(38083),Static:r(90556),Transform:r(85436),Velocity:r(42081)}}),85608:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="afteradd"}),1213:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="afterremove"}),25968:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="afterupdate"}),67205:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="beforeadd"}),39438:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="beforeremove"}),44823:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="beforeupdate"}),92593:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="collisionactive"}),60128:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="collisionend"}),76861:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="collisionstart"}),92362:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="dragend"}),76408:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="drag"}),93971:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="dragstart"}),5656:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pause"}),47861:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="resume"}),79099:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="sleepend"}),35906:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="sleepstart"}),1121:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={AFTER_ADD:r(85608),AFTER_REMOVE:r(1213),AFTER_UPDATE:r(25968),BEFORE_ADD:r(67205),BEFORE_REMOVE:r(39438),BEFORE_UPDATE:r(44823),COLLISION_ACTIVE:r(92593),COLLISION_END:r(60128),COLLISION_START:r(76861),DRAG_END:r(92362),DRAG:r(76408),DRAG_START:r(93971),PAUSE:r(5656),RESUME:r(47861),SLEEP_END:r(79099),SLEEP_START:r(35906)}}),3875:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={BodyBounds:r(68174),Components:r(31884),Events:r(1121),Factory:r(28137),MatterGameObject:r(75803),Image:r(23181),Matter:r(19933),MatterPhysics:r(42045),PolyDecomp:r(55973),Sprite:r(34803),TileBody:r(73834),PhysicsEditorParser:r(19496),PhysicsJSONParser:r(85791),PointerConstraint:r(98713),World:r(68243)}}),22562:((s,y,r)=>{var o={};s.exports=o;var v=r(41598),c=r(31725),u=r(53614),l=r(53402),a=r(15647),d=r(66615);(function(){o._timeCorrection=!0,o._inertiaScale=4,o._nextCollidingGroupId=1,o._nextNonCollidingGroupId=-1,o._nextCategory=1,o._baseDelta=16.666666666666668,o.create=function(h){var g={id:l.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:h.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!h.hasOwnProperty("position")&&h.hasOwnProperty("vertices")?h.position=v.centre(h.vertices):h.hasOwnProperty("vertices")||(g.vertices=v.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var m=l.extend(g,h);return p(m,h),m.setOnCollideWith=function(x,w){return w?this.onCollideWith[x.id]=w:delete this.onCollideWith[x.id],this},m},o.nextGroup=function(h){return h?o._nextNonCollidingGroupId--:o._nextCollidingGroupId++},o.nextCategory=function(){return o._nextCategory=o._nextCategory<<1,o._nextCategory};var p=function(h,g){if(g=g||{},o.set(h,{bounds:h.bounds||a.create(h.vertices),positionPrev:h.positionPrev||c.clone(h.position),anglePrev:h.anglePrev||h.angle,vertices:h.vertices,parts:h.parts||[h],isStatic:h.isStatic,isSleeping:h.isSleeping,parent:h.parent||h}),v.rotate(h.vertices,h.angle,h.position),d.rotate(h.axes,h.angle),a.update(h.bounds,h.vertices,h.velocity),o.set(h,{axes:g.axes||h.axes,area:g.area||h.area,mass:g.mass||h.mass,inertia:g.inertia||h.inertia}),h.parts.length===1){var m=h.bounds,x=h.centerOfMass,w=h.centerOffset,C=m.max.x-m.min.x,E=m.max.y-m.min.y;x.x=-(m.min.x-h.position.x)/C,x.y=-(m.min.y-h.position.y)/E,w.x=C*x.x,w.y=E*x.y}};o.set=function(h,g,m){var x;typeof g=="string"&&(x=g,g={},g[x]=m);for(x in g)if(Object.prototype.hasOwnProperty.call(g,x))switch(m=g[x],x){case"isStatic":o.setStatic(h,m);break;case"isSleeping":u.set(h,m);break;case"mass":o.setMass(h,m);break;case"density":o.setDensity(h,m);break;case"inertia":o.setInertia(h,m);break;case"vertices":o.setVertices(h,m);break;case"position":o.setPosition(h,m);break;case"angle":o.setAngle(h,m);break;case"velocity":o.setVelocity(h,m);break;case"angularVelocity":o.setAngularVelocity(h,m);break;case"speed":o.setSpeed(h,m);break;case"angularSpeed":o.setAngularSpeed(h,m);break;case"parts":o.setParts(h,m);break;case"centre":o.setCentre(h,m);break;default:h[x]=m}},o.setStatic=function(h,g){for(var m=0;m<h.parts.length;m++){var x=h.parts[m];g?(x.isStatic||(x._original={restitution:x.restitution,friction:x.friction,mass:x.mass,inertia:x.inertia,density:x.density,inverseMass:x.inverseMass,inverseInertia:x.inverseInertia}),x.restitution=0,x.friction=1,x.mass=x.inertia=x.density=1/0,x.inverseMass=x.inverseInertia=0,x.positionPrev.x=x.position.x,x.positionPrev.y=x.position.y,x.anglePrev=x.angle,x.angularVelocity=0,x.speed=0,x.angularSpeed=0,x.motion=0):x._original&&(x.restitution=x._original.restitution,x.friction=x._original.friction,x.mass=x._original.mass,x.inertia=x._original.inertia,x.density=x._original.density,x.inverseMass=x._original.inverseMass,x.inverseInertia=x._original.inverseInertia,x._original=null),x.isStatic=g}},o.setMass=function(h,g){var m=h.inertia/(h.mass/6);h.inertia=m*(g/6),h.inverseInertia=1/h.inertia,h.mass=g,h.inverseMass=1/h.mass,h.density=h.mass/h.area},o.setDensity=function(h,g){o.setMass(h,g*h.area),h.density=g},o.setInertia=function(h,g){h.inertia=g,h.inverseInertia=1/h.inertia},o.setVertices=function(h,g){g[0].body===h?h.vertices=g:h.vertices=v.create(g,h),h.axes=d.fromVertices(h.vertices),h.area=v.area(h.vertices),o.setMass(h,h.density*h.area);var m=v.centre(h.vertices);v.translate(h.vertices,m,-1),o.setInertia(h,o._inertiaScale*v.inertia(h.vertices,h.mass)),v.translate(h.vertices,h.position),a.update(h.bounds,h.vertices,h.velocity)},o.setParts=function(h,g,m){var x;for(g=g.slice(0),h.parts.length=0,h.parts.push(h),h.parent=h,x=0;x<g.length;x++){var w=g[x];w!==h&&(w.parent=h,h.parts.push(w))}if(h.parts.length!==1){if(m=typeof m<"u"?m:!0,m){var C=[];for(x=0;x<g.length;x++)C=C.concat(g[x].vertices);v.clockwiseSort(C);var E=v.hull(C),T=v.centre(E);o.setVertices(h,E),v.translate(h.vertices,T)}var S=o._totalProperties(h),A=S.centre.x,P=S.centre.y,R=h.bounds,L=h.centerOfMass,D=h.centerOffset;a.update(R,h.vertices,h.velocity),L.x=-(R.min.x-A)/(R.max.x-R.min.x),L.y=-(R.min.y-P)/(R.max.y-R.min.y),D.x=A,D.y=P,h.area=S.area,h.parent=h,h.position.x=A,h.position.y=P,h.positionPrev.x=A,h.positionPrev.y=P,o.setMass(h,S.mass),o.setInertia(h,S.inertia),o.setPosition(h,S.centre)}},o.setCentre=function(h,g,m){m?(h.positionPrev.x+=g.x,h.positionPrev.y+=g.y,h.position.x+=g.x,h.position.y+=g.y):(h.positionPrev.x=g.x-(h.position.x-h.positionPrev.x),h.positionPrev.y=g.y-(h.position.y-h.positionPrev.y),h.position.x=g.x,h.position.y=g.y)},o.setPosition=function(h,g,m){var x=c.sub(g,h.position);m?(h.positionPrev.x=h.position.x,h.positionPrev.y=h.position.y,h.velocity.x=x.x,h.velocity.y=x.y,h.speed=c.magnitude(x)):(h.positionPrev.x+=x.x,h.positionPrev.y+=x.y);for(var w=0;w<h.parts.length;w++){var C=h.parts[w];C.position.x+=x.x,C.position.y+=x.y,v.translate(C.vertices,x),a.update(C.bounds,C.vertices,h.velocity)}},o.setAngle=function(h,g,m){var x=g-h.angle;m?(h.anglePrev=h.angle,h.angularVelocity=x,h.angularSpeed=Math.abs(x)):h.anglePrev+=x;for(var w=0;w<h.parts.length;w++){var C=h.parts[w];C.angle+=x,v.rotate(C.vertices,x,h.position),d.rotate(C.axes,x),a.update(C.bounds,C.vertices,h.velocity),w>0&&c.rotateAbout(C.position,x,h.position,C.position)}},o.setVelocity=function(h,g){var m=h.deltaTime/o._baseDelta;h.positionPrev.x=h.position.x-g.x*m,h.positionPrev.y=h.position.y-g.y*m,h.velocity.x=(h.position.x-h.positionPrev.x)/m,h.velocity.y=(h.position.y-h.positionPrev.y)/m,h.speed=c.magnitude(h.velocity)},o.getVelocity=function(h){var g=o._baseDelta/h.deltaTime;return{x:(h.position.x-h.positionPrev.x)*g,y:(h.position.y-h.positionPrev.y)*g}},o.getSpeed=function(h){return c.magnitude(o.getVelocity(h))},o.setSpeed=function(h,g){o.setVelocity(h,c.mult(c.normalise(o.getVelocity(h)),g))},o.setAngularVelocity=function(h,g){var m=h.deltaTime/o._baseDelta;h.anglePrev=h.angle-g*m,h.angularVelocity=(h.angle-h.anglePrev)/m,h.angularSpeed=Math.abs(h.angularVelocity)},o.getAngularVelocity=function(h){return(h.angle-h.anglePrev)*o._baseDelta/h.deltaTime},o.getAngularSpeed=function(h){return Math.abs(o.getAngularVelocity(h))},o.setAngularSpeed=function(h,g){o.setAngularVelocity(h,l.sign(o.getAngularVelocity(h))*g)},o.translate=function(h,g,m){o.setPosition(h,c.add(h.position,g),m)},o.rotate=function(h,g,m,x){if(!m)o.setAngle(h,h.angle+g,x);else{var w=Math.cos(g),C=Math.sin(g),E=h.position.x-m.x,T=h.position.y-m.y;o.setPosition(h,{x:m.x+(E*w-T*C),y:m.y+(E*C+T*w)},x),o.setAngle(h,h.angle+g,x)}},o.scale=function(h,g,m,x){var w=0,C=0;x=x||h.position;for(var E=h.inertia===1/0,T=0;T<h.parts.length;T++){var S=h.parts[T];S.scale.x=g,S.scale.y=m,v.scale(S.vertices,g,m,x),S.axes=d.fromVertices(S.vertices),S.area=v.area(S.vertices),o.setMass(S,h.density*S.area),v.translate(S.vertices,{x:-S.position.x,y:-S.position.y}),o.setInertia(S,o._inertiaScale*v.inertia(S.vertices,S.mass)),v.translate(S.vertices,{x:S.position.x,y:S.position.y}),T>0&&(w+=S.area,C+=S.inertia),S.position.x=x.x+(S.position.x-x.x)*g,S.position.y=x.y+(S.position.y-x.y)*m,a.update(S.bounds,S.vertices,h.velocity)}h.parts.length>1&&(h.area=w,h.isStatic||(o.setMass(h,h.density*w),o.setInertia(h,C))),h.circleRadius&&(g===m?h.circleRadius*=g:h.circleRadius=null),E&&o.setInertia(h,1/0)},o.update=function(h,g){g=(typeof g<"u"?g:16.666666666666668)*h.timeScale;var m=g*g,x=o._timeCorrection?g/(h.deltaTime||g):1,w=1-h.frictionAir*(g/l._baseDelta),C=(h.position.x-h.positionPrev.x)*x,E=(h.position.y-h.positionPrev.y)*x;h.velocity.x=C*w+h.force.x/h.mass*m,h.velocity.y=E*w+h.force.y/h.mass*m,h.positionPrev.x=h.position.x,h.positionPrev.y=h.position.y,h.position.x+=h.velocity.x,h.position.y+=h.velocity.y,h.deltaTime=g,h.angularVelocity=(h.angle-h.anglePrev)*w*x+h.torque/h.inertia*m,h.anglePrev=h.angle,h.angle+=h.angularVelocity,h.speed=c.magnitude(h.velocity),h.angularSpeed=Math.abs(h.angularVelocity);for(var T=0;T<h.parts.length;T++){var S=h.parts[T];v.translate(S.vertices,h.velocity),T>0&&(S.position.x+=h.velocity.x,S.position.y+=h.velocity.y),h.angularVelocity!==0&&(v.rotate(S.vertices,h.angularVelocity,h.position),d.rotate(S.axes,h.angularVelocity),T>0&&c.rotateAbout(S.position,h.angularVelocity,h.position,S.position)),a.update(S.bounds,S.vertices,h.velocity)}},o.updateVelocities=function(h){var g=o._baseDelta/h.deltaTime,m=h.velocity;m.x=(h.position.x-h.positionPrev.x)*g,m.y=(h.position.y-h.positionPrev.y)*g,h.speed=Math.sqrt(m.x*m.x+m.y*m.y),h.angularVelocity=(h.angle-h.anglePrev)*g,h.angularSpeed=Math.abs(h.angularVelocity)},o.applyForce=function(h,g,m){var x={x:g.x-h.position.x,y:g.y-h.position.y};h.force.x+=m.x,h.force.y+=m.y,h.torque+=x.x*m.y-x.y*m.x},o._totalProperties=function(h){for(var g={mass:0,area:0,inertia:0,centre:{x:0,y:0}},m=h.parts.length===1?0:1;m<h.parts.length;m++){var x=h.parts[m],w=x.mass!==1/0?x.mass:1;g.mass+=w,g.area+=x.area,g.inertia+=x.inertia,g.centre=c.add(g.centre,c.mult(x.position,w))}return g.centre=c.div(g.centre,g.mass),g},o.wrap=function(h,g){var m=a.wrap(h.bounds,g);return m&&o.translate(h,m),m}})()}),69351:((s,y,r)=>{var o={};s.exports=o;var v=r(35810),c=r(53402),u=r(15647),l=r(22562);(function(){o.create=function(a){return c.extend({id:c.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},a)},o.setModified=function(a,d,p,h){if(v.trigger(a,"compositeModified",a),a.isModified=d,d&&a.cache&&(a.cache.allBodies=null,a.cache.allConstraints=null,a.cache.allComposites=null),p&&a.parent&&o.setModified(a.parent,d,p,h),h)for(var g=0;g<a.composites.length;g++){var m=a.composites[g];o.setModified(m,d,p,h)}},o.add=function(a,d){var p=[].concat(d);v.trigger(a,"beforeAdd",{object:d});for(var h=0;h<p.length;h++){var g=p[h];switch(g.type){case"body":if(g.parent!==g){c.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}o.addBody(a,g);break;case"constraint":o.addConstraint(a,g);break;case"composite":o.addComposite(a,g);break;case"mouseConstraint":o.addConstraint(a,g.constraint);break}}return v.trigger(a,"afterAdd",{object:d}),a},o.remove=function(a,d,p){var h=[].concat(d);v.trigger(a,"beforeRemove",{object:d});for(var g=0;g<h.length;g++){var m=h[g];switch(m.type){case"body":o.removeBody(a,m,p);break;case"constraint":o.removeConstraint(a,m,p);break;case"composite":o.removeComposite(a,m,p);break;case"mouseConstraint":o.removeConstraint(a,m.constraint);break}}return v.trigger(a,"afterRemove",{object:d}),a},o.addComposite=function(a,d){return a.composites.push(d),d.parent=a,o.setModified(a,!0,!0,!1),a},o.removeComposite=function(a,d,p){var h=c.indexOf(a.composites,d);if(h!==-1){var g=o.allBodies(d);o.removeCompositeAt(a,h);for(var m=0;m<g.length;m++)g[m].sleepCounter=0}if(p)for(var m=0;m<a.composites.length;m++)o.removeComposite(a.composites[m],d,!0);return a},o.removeCompositeAt=function(a,d){return a.composites.splice(d,1),o.setModified(a,!0,!0,!1),a},o.addBody=function(a,d){return a.bodies.push(d),o.setModified(a,!0,!0,!1),a},o.removeBody=function(a,d,p){var h=c.indexOf(a.bodies,d);if(h!==-1&&(o.removeBodyAt(a,h),d.sleepCounter=0),p)for(var g=0;g<a.composites.length;g++)o.removeBody(a.composites[g],d,!0);return a},o.removeBodyAt=function(a,d){return a.bodies.splice(d,1),o.setModified(a,!0,!0,!1),a},o.addConstraint=function(a,d){return a.constraints.push(d),o.setModified(a,!0,!0,!1),a},o.removeConstraint=function(a,d,p){var h=c.indexOf(a.constraints,d);if(h!==-1&&o.removeConstraintAt(a,h),p)for(var g=0;g<a.composites.length;g++)o.removeConstraint(a.composites[g],d,!0);return a},o.removeConstraintAt=function(a,d){return a.constraints.splice(d,1),o.setModified(a,!0,!0,!1),a},o.clear=function(a,d,p){if(p)for(var h=0;h<a.composites.length;h++)o.clear(a.composites[h],d,!0);return d?a.bodies=a.bodies.filter(function(g){return g.isStatic}):a.bodies.length=0,a.constraints.length=0,a.composites.length=0,o.setModified(a,!0,!0,!1),a},o.allBodies=function(a){if(a.cache&&a.cache.allBodies)return a.cache.allBodies;for(var d=[].concat(a.bodies),p=0;p<a.composites.length;p++)d=d.concat(o.allBodies(a.composites[p]));return a.cache&&(a.cache.allBodies=d),d},o.allConstraints=function(a){if(a.cache&&a.cache.allConstraints)return a.cache.allConstraints;for(var d=[].concat(a.constraints),p=0;p<a.composites.length;p++)d=d.concat(o.allConstraints(a.composites[p]));return a.cache&&(a.cache.allConstraints=d),d},o.allComposites=function(a){if(a.cache&&a.cache.allComposites)return a.cache.allComposites;for(var d=[].concat(a.composites),p=0;p<a.composites.length;p++)d=d.concat(o.allComposites(a.composites[p]));return a.cache&&(a.cache.allComposites=d),d},o.get=function(a,d,p){var h,g;switch(p){case"body":h=o.allBodies(a);break;case"constraint":h=o.allConstraints(a);break;case"composite":h=o.allComposites(a).concat(a);break}return h?(g=h.filter(function(m){return m.id.toString()===d.toString()}),g.length===0?null:g[0]):null},o.move=function(a,d,p){return o.remove(a,d),o.add(p,d),a},o.rebase=function(a){for(var d=o.allBodies(a).concat(o.allConstraints(a)).concat(o.allComposites(a)),p=0;p<d.length;p++)d[p].id=c.nextId();return a},o.translate=function(a,d,p){for(var h=p?o.allBodies(a):a.bodies,g=0;g<h.length;g++)l.translate(h[g],d);return a},o.rotate=function(a,d,p,h){for(var g=Math.cos(d),m=Math.sin(d),x=h?o.allBodies(a):a.bodies,w=0;w<x.length;w++){var C=x[w],E=C.position.x-p.x,T=C.position.y-p.y;l.setPosition(C,{x:p.x+(E*g-T*m),y:p.y+(E*m+T*g)}),l.rotate(C,d)}return a},o.scale=function(a,d,p,h,g){for(var m=g?o.allBodies(a):a.bodies,x=0;x<m.length;x++){var w=m[x],C=w.position.x-h.x,E=w.position.y-h.y;l.setPosition(w,{x:h.x+C*d,y:h.y+E*p}),l.scale(w,d,p)}return a},o.bounds=function(a){for(var d=o.allBodies(a),p=[],h=0;h<d.length;h+=1){var g=d[h];p.push(g.bounds.min,g.bounds.max)}return u.create(p)},o.wrap=function(a,d){var p=u.wrap(o.bounds(a),d);return p&&o.translate(a,p),p}})()}),4372:((s,y,r)=>{var o={};s.exports=o;var v=r(69351);(function(){o.create=v.create,o.add=v.add,o.remove=v.remove,o.clear=v.clear,o.addComposite=v.addComposite,o.addBody=v.addBody,o.addConstraint=v.addConstraint})()}),52284:((s,y,r)=>{var o={};s.exports=o;var v=r(41598),c=r(4506);(function(){var u=[],l={overlap:0,axis:null},a={overlap:0,axis:null};o.create=function(d,p){return{pair:null,collided:!1,bodyA:d,bodyB:p,parentA:d.parent,parentB:p.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},o.collides=function(d,p,h){if(o._overlapAxes(l,d.vertices,p.vertices,d.axes),l.overlap<=0||(o._overlapAxes(a,p.vertices,d.vertices,p.axes),a.overlap<=0))return null;var g=h&&h.table[c.id(d,p)],m;g?m=g.collision:(m=o.create(d,p),m.collided=!0,m.bodyA=d.id<p.id?d:p,m.bodyB=d.id<p.id?p:d,m.parentA=m.bodyA.parent,m.parentB=m.bodyB.parent),d=m.bodyA,p=m.bodyB;var x;l.overlap<a.overlap?x=l:x=a;var w=m.normal,C=m.tangent,E=m.penetration,T=m.supports,S=x.overlap,A=x.axis,P=A.x,R=A.y,L=p.position.x-d.position.x,D=p.position.y-d.position.y;P*L+R*D>=0&&(P=-P,R=-R),w.x=P,w.y=R,C.x=-R,C.y=P,E.x=P*S,E.y=R*S,m.depth=S;var F=o._findSupports(d,p,w,1),$=0;if(v.contains(d.vertices,F[0])&&(T[$++]=F[0]),v.contains(d.vertices,F[1])&&(T[$++]=F[1]),$<2){var N=o._findSupports(p,d,w,-1);v.contains(p.vertices,N[0])&&(T[$++]=N[0]),$<2&&v.contains(p.vertices,N[1])&&(T[$++]=N[1])}return $===0&&(T[$++]=F[0]),m.supportCount=$,m},o._overlapAxes=function(d,p,h,g){var m=p.length,x=h.length,w=p[0].x,C=p[0].y,E=h[0].x,T=h[0].y,S=g.length,A=Number.MAX_VALUE,P=0,R,L,D,F,$,N;for($=0;$<S;$++){var k=g[$],j=k.x,W=k.y,G=w*j+C*W,K=E*j+T*W,z=G,X=K;for(N=1;N<m;N+=1)F=p[N].x*j+p[N].y*W,F>z?z=F:F<G&&(G=F);for(N=1;N<x;N+=1)F=h[N].x*j+h[N].y*W,F>X?X=F:F<K&&(K=F);if(L=z-K,D=X-G,R=L<D?L:D,R<A&&(A=R,P=$,R<=0))break}d.axis=g[P],d.overlap=A},o._findSupports=function(d,p,h,g){var m=p.vertices,x=m.length,w=d.position.x,C=d.position.y,E=h.x*g,T=h.y*g,S=m[0],A=S,P=E*(w-A.x)+T*(C-A.y),R,L,D;for(D=1;D<x;D+=1)A=m[D],L=E*(w-A.x)+T*(C-A.y),L<P&&(P=L,S=A);return R=m[(x+S.index-1)%x],P=E*(w-R.x)+T*(C-R.y),A=m[(S.index+1)%x],E*(w-A.x)+T*(C-A.y)<P?(u[0]=S,u[1]=A,u):(u[0]=S,u[1]=R,u)}})()}),43424:(s=>{var y={};s.exports=y,(function(){y.create=function(r){return{vertex:r,normalImpulse:0,tangentImpulse:0}}})()}),81388:((s,y,r)=>{var o={};s.exports=o;var v=r(53402),c=r(52284);(function(){o.create=function(u){var l={bodies:[],collisions:[],pairs:null};return v.extend(l,u)},o.setBodies=function(u,l){u.bodies=l.slice(0)},o.clear=function(u){u.bodies=[],u.collisions=[]},o.collisions=function(u){var l=u.pairs,a=u.bodies,d=a.length,p=o.canCollide,h=c.collides,g=u.collisions,m=0,x,w;for(a.sort(o._compareBoundsX),x=0;x<d;x++){var C=a[x],E=C.bounds,T=C.bounds.max.x,S=C.bounds.max.y,A=C.bounds.min.y,P=C.isStatic||C.isSleeping,R=C.parts.length,L=R===1;for(w=x+1;w<d;w++){var D=a[w],F=D.bounds;if(F.min.x>T)break;if(!(S<F.min.y||A>F.max.y)&&!(P&&(D.isStatic||D.isSleeping))&&p(C.collisionFilter,D.collisionFilter)){var $=D.parts.length;if(L&&$===1){var N=h(C,D,l);N&&(g[m++]=N)}else for(var k=R>1?1:0,j=$>1?1:0,W=k;W<R;W++)for(var G=C.parts[W],E=G.bounds,K=j;K<$;K++){var z=D.parts[K],F=z.bounds;if(!(E.min.x>F.max.x||E.max.x<F.min.x||E.max.y<F.min.y||E.min.y>F.max.y)){var N=h(G,z,l);N&&(g[m++]=N)}}}}}return g.length!==m&&(g.length=m),g},o.canCollide=function(u,l){return u.group===l.group&&u.group!==0?u.group>0:(u.mask&l.category)!==0&&(l.mask&u.category)!==0},o._compareBoundsX=function(u,l){return u.bounds.min.x-l.bounds.min.x}})()}),4506:((s,y,r)=>{var o={};s.exports=o;var v=r(43424);(function(){o.create=function(c,u){var l=c.bodyA,a=c.bodyB,d={id:o.id(l,a),bodyA:l,bodyB:a,collision:c,contacts:[v.create(),v.create()],contactCount:0,separation:0,isActive:!0,isSensor:l.isSensor||a.isSensor,timeCreated:u,timeUpdated:u,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return o.update(d,c,u),d},o.update=function(c,u,l){var a=u.supports,d=u.supportCount,p=c.contacts,h=u.parentA,g=u.parentB;c.isActive=!0,c.timeUpdated=l,c.collision=u,c.separation=u.depth,c.inverseMass=h.inverseMass+g.inverseMass,c.friction=h.friction<g.friction?h.friction:g.friction,c.frictionStatic=h.frictionStatic>g.frictionStatic?h.frictionStatic:g.frictionStatic,c.restitution=h.restitution>g.restitution?h.restitution:g.restitution,c.slop=h.slop>g.slop?h.slop:g.slop,c.contactCount=d,u.pair=c;var m=a[0],x=p[0],w=a[1],C=p[1];(C.vertex===m||x.vertex===w)&&(p[1]=x,p[0]=x=C,C=p[1]),x.vertex=m,C.vertex=w},o.setActive=function(c,u,l){u?(c.isActive=!0,c.timeUpdated=l):(c.isActive=!1,c.contactCount=0)},o.id=function(c,u){return c.id<u.id?c.id.toString(36)+":"+u.id.toString(36):u.id.toString(36)+":"+c.id.toString(36)}})()}),99561:((s,y,r)=>{var o={};s.exports=o;var v=r(4506),c=r(53402);(function(){o.create=function(u){return c.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},u)},o.update=function(u,l,a){var d=v.update,p=v.create,h=v.setActive,g=u.table,m=u.list,x=m.length,w=x,C=u.collisionStart,E=u.collisionEnd,T=u.collisionActive,S=l.length,A=0,P=0,R=0,L,D,F;for(F=0;F<S;F++)L=l[F],D=L.pair,D?(D.isActive&&(T[R++]=D),d(D,L,a)):(D=p(L,a),g[D.id]=D,C[A++]=D,m[w++]=D);for(w=0,x=m.length,F=0;F<x;F++)D=m[F],D.timeUpdated>=a?m[w++]=D:(h(D,!1,a),D.collision.bodyA.sleepCounter>0&&D.collision.bodyB.sleepCounter>0?m[w++]=D:(E[P++]=D,delete g[D.id]));m.length!==w&&(m.length=w),C.length!==A&&(C.length=A),E.length!==P&&(E.length=P),T.length!==R&&(T.length=R)},o.clear=function(u){return u.table={},u.list.length=0,u.collisionStart.length=0,u.collisionActive.length=0,u.collisionEnd.length=0,u}})()}),73296:((s,y,r)=>{var o={};s.exports=o;var v=r(31725),c=r(52284),u=r(15647),l=r(66280),a=r(41598);(function(){o.collides=function(d,p){for(var h=[],g=p.length,m=d.bounds,x=c.collides,w=u.overlaps,C=0;C<g;C++){var E=p[C],T=E.parts.length,S=T===1?0:1;if(d!==E&&w(E.bounds,m))for(var A=S;A<T;A++){var P=E.parts[A];if(w(P.bounds,m)){var R=x(P,d);if(R){h.push(R);break}}}}return h},o.ray=function(d,p,h,g){g=g||1e-100;for(var m=v.angle(p,h),x=v.magnitude(v.sub(p,h)),w=(h.x+p.x)*.5,C=(h.y+p.y)*.5,E=l.rectangle(w,C,x,g,{angle:m}),T=o.collides(E,d),S=0;S<T.length;S+=1){var A=T[S];A.body=A.bodyB=A.bodyA}return T},o.region=function(d,p,h){for(var g=[],m=0;m<d.length;m++){var x=d[m],w=u.overlaps(x.bounds,p);(w&&!h||!w&&h)&&g.push(x)}return g},o.point=function(d,p){for(var h=[],g=0;g<d.length;g++){var m=d[g];if(u.contains(m.bounds,p))for(var x=m.parts.length===1?0:1;x<m.parts.length;x++){var w=m.parts[x];if(u.contains(w.bounds,p)&&a.contains(w.vertices,p)){h.push(m);break}}}return h}})()}),66272:((s,y,r)=>{var o={};s.exports=o;var v=r(41598),c=r(53402),u=r(15647);(function(){o._restingThresh=2,o._restingThreshTangent=Math.sqrt(6),o._positionDampen=.9,o._positionWarming=.8,o._frictionNormalMultiplier=5,o._frictionMaxStatic=Number.MAX_VALUE,o.preSolvePosition=function(l){var a,d,p,h=l.length;for(a=0;a<h;a++)d=l[a],d.isActive&&(p=d.contactCount,d.collision.parentA.totalContacts+=p,d.collision.parentB.totalContacts+=p)},o.solvePosition=function(l,a,d){var p,h,g,m,x,w,C,E,T=o._positionDampen*(d||1),S=c.clamp(a/c._baseDelta,0,1),A=l.length;for(p=0;p<A;p++)h=l[p],!(!h.isActive||h.isSensor)&&(g=h.collision,m=g.parentA,x=g.parentB,w=g.normal,h.separation=g.depth+w.x*(x.positionImpulse.x-m.positionImpulse.x)+w.y*(x.positionImpulse.y-m.positionImpulse.y));for(p=0;p<A;p++)h=l[p],!(!h.isActive||h.isSensor)&&(g=h.collision,m=g.parentA,x=g.parentB,w=g.normal,E=h.separation-h.slop*S,(m.isStatic||x.isStatic)&&(E*=2),m.isStatic||m.isSleeping||(C=T/m.totalContacts,m.positionImpulse.x+=w.x*E*C,m.positionImpulse.y+=w.y*E*C),x.isStatic||x.isSleeping||(C=T/x.totalContacts,x.positionImpulse.x-=w.x*E*C,x.positionImpulse.y-=w.y*E*C))},o.postSolvePosition=function(l){for(var a=o._positionWarming,d=l.length,p=v.translate,h=u.update,g=0;g<d;g++){var m=l[g],x=m.positionImpulse,w=x.x,C=x.y,E=m.velocity;if(m.totalContacts=0,w!==0||C!==0){for(var T=0;T<m.parts.length;T++){var S=m.parts[T];p(S.vertices,x),h(S.bounds,S.vertices,E),S.position.x+=w,S.position.y+=C}m.positionPrev.x+=w,m.positionPrev.y+=C,w*E.x+C*E.y<0?(x.x=0,x.y=0):(x.x*=a,x.y*=a)}}},o.preSolveVelocity=function(l){var a=l.length,d,p;for(d=0;d<a;d++){var h=l[d];if(!(!h.isActive||h.isSensor)){var g=h.contacts,m=h.contactCount,x=h.collision,w=x.parentA,C=x.parentB,E=x.normal,T=x.tangent;for(p=0;p<m;p++){var S=g[p],A=S.vertex,P=S.normalImpulse,R=S.tangentImpulse;if(P!==0||R!==0){var L=E.x*P+T.x*R,D=E.y*P+T.y*R;w.isStatic||w.isSleeping||(w.positionPrev.x+=L*w.inverseMass,w.positionPrev.y+=D*w.inverseMass,w.anglePrev+=w.inverseInertia*((A.x-w.position.x)*D-(A.y-w.position.y)*L)),C.isStatic||C.isSleeping||(C.positionPrev.x-=L*C.inverseMass,C.positionPrev.y-=D*C.inverseMass,C.anglePrev-=C.inverseInertia*((A.x-C.position.x)*D-(A.y-C.position.y)*L))}}}}},o.solveVelocity=function(l,a){var d=a/c._baseDelta,p=d*d,h=p*d,g=-o._restingThresh*d,m=o._restingThreshTangent,x=o._frictionNormalMultiplier*d,w=o._frictionMaxStatic,C=l.length,E,T,S,A;for(S=0;S<C;S++){var P=l[S];if(!(!P.isActive||P.isSensor)){var R=P.collision,L=R.parentA,D=R.parentB,F=R.normal.x,$=R.normal.y,N=R.tangent.x,k=R.tangent.y,j=P.inverseMass,W=P.friction*P.frictionStatic*x,G=P.contacts,K=P.contactCount,z=1/K,X=L.position.x-L.positionPrev.x,U=L.position.y-L.positionPrev.y,Z=L.angle-L.anglePrev,V=D.position.x-D.positionPrev.x,J=D.position.y-D.positionPrev.y,_=D.angle-D.anglePrev;for(A=0;A<K;A++){var ee=G[A],te=ee.vertex,ie=te.x-L.position.x,le=te.y-L.position.y,he=te.x-D.position.x,fe=te.y-D.position.y,oe=X-le*Z,Ce=U+ie*Z,ye=V-fe*_,Ee=J+he*_,Ie=oe-ye,je=Ce-Ee,Re=F*Ie+$*je,$e=N*Ie+k*je,Ae=P.separation+Re,Xe=Math.min(Ae,1);Xe=Ae<0?0:Xe;var st=Xe*W;$e<-st||$e>st?(T=$e>0?$e:-$e,E=P.friction*($e>0?1:-1)*h,E<-T?E=-T:E>T&&(E=T)):(E=$e,T=w);var vt=ie*$-le*F,Ge=he*$-fe*F,nt=z/(j+L.inverseInertia*vt*vt+D.inverseInertia*Ge*Ge),Et=(1+P.restitution)*Re*nt;if(E*=nt,Re<g)ee.normalImpulse=0;else{var Je=ee.normalImpulse;ee.normalImpulse+=Et,ee.normalImpulse>0&&(ee.normalImpulse=0),Et=ee.normalImpulse-Je}if($e<-m||$e>m)ee.tangentImpulse=0;else{var He=ee.tangentImpulse;ee.tangentImpulse+=E,ee.tangentImpulse<-T&&(ee.tangentImpulse=-T),ee.tangentImpulse>T&&(ee.tangentImpulse=T),E=ee.tangentImpulse-He}var Qe=F*Et+N*E,dt=$*Et+k*E;L.isStatic||L.isSleeping||(L.positionPrev.x+=Qe*L.inverseMass,L.positionPrev.y+=dt*L.inverseMass,L.anglePrev+=(ie*dt-le*Qe)*L.inverseInertia),D.isStatic||D.isSleeping||(D.positionPrev.x-=Qe*D.inverseMass,D.positionPrev.y-=dt*D.inverseMass,D.anglePrev-=(he*dt-fe*Qe)*D.inverseInertia)}}}}})()}),48140:((s,y,r)=>{var o={};s.exports=o;var v=r(41598),c=r(31725),u=r(53614),l=r(15647),a=r(66615),d=r(53402);(function(){o._warming=.4,o._torqueDampen=1,o._minLength=1e-6,o.create=function(p){var h=p;h.bodyA&&!h.pointA&&(h.pointA={x:0,y:0}),h.bodyB&&!h.pointB&&(h.pointB={x:0,y:0});var g=h.bodyA?c.add(h.bodyA.position,h.pointA):h.pointA,m=h.bodyB?c.add(h.bodyB.position,h.pointB):h.pointB,x=c.magnitude(c.sub(g,m));h.length=typeof h.length<"u"?h.length:x,h.id=h.id||d.nextId(),h.label=h.label||"Constraint",h.type="constraint",h.stiffness=h.stiffness||(h.length>0?1:.7),h.damping=h.damping||0,h.angularStiffness=h.angularStiffness||0,h.angleA=h.bodyA?h.bodyA.angle:h.angleA,h.angleB=h.bodyB?h.bodyB.angle:h.angleB,h.plugin={};var w={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return h.length===0&&h.stiffness>.1?(w.type="pin",w.anchors=!1):h.stiffness<.9&&(w.type="spring"),h.render=d.extend(w,h.render),h},o.preSolveAll=function(p){for(var h=0;h<p.length;h+=1){var g=p[h],m=g.constraintImpulse;g.isStatic||m.x===0&&m.y===0&&m.angle===0||(g.position.x+=m.x,g.position.y+=m.y,g.angle+=m.angle)}},o.solveAll=function(p,h){for(var g=d.clamp(h/d._baseDelta,0,1),m=0;m<p.length;m+=1){var x=p[m],w=!x.bodyA||x.bodyA&&x.bodyA.isStatic,C=!x.bodyB||x.bodyB&&x.bodyB.isStatic;(w||C)&&o.solve(p[m],g)}for(m=0;m<p.length;m+=1)x=p[m],w=!x.bodyA||x.bodyA&&x.bodyA.isStatic,C=!x.bodyB||x.bodyB&&x.bodyB.isStatic,!w&&!C&&o.solve(p[m],g)},o.solve=function(p,h){var g=p.bodyA,m=p.bodyB,x=p.pointA,w=p.pointB;if(!(!g&&!m)){g&&!g.isStatic&&(c.rotate(x,g.angle-p.angleA,x),p.angleA=g.angle),m&&!m.isStatic&&(c.rotate(w,m.angle-p.angleB,w),p.angleB=m.angle);var C=x,E=w;if(g&&(C=c.add(g.position,x)),m&&(E=c.add(m.position,w)),!(!C||!E)){var T=c.sub(C,E),S=c.magnitude(T);S<o._minLength&&(S=o._minLength);var A=(S-p.length)/S,P=p.stiffness>=1||p.length===0,R=P?p.stiffness*h:p.stiffness*h*h,L=p.damping*h,D=c.mult(T,A*R),F=(g?g.inverseMass:0)+(m?m.inverseMass:0),$=(g?g.inverseInertia:0)+(m?m.inverseInertia:0),N=F+$,k,j,W,G,K;if(L>0){var z=c.create();W=c.div(T,S),K=c.sub(m&&c.sub(m.position,m.positionPrev)||z,g&&c.sub(g.position,g.positionPrev)||z),G=c.dot(W,K)}g&&!g.isStatic&&(j=g.inverseMass/F,g.constraintImpulse.x-=D.x*j,g.constraintImpulse.y-=D.y*j,g.position.x-=D.x*j,g.position.y-=D.y*j,L>0&&(g.positionPrev.x-=L*W.x*G*j,g.positionPrev.y-=L*W.y*G*j),k=c.cross(x,D)/N*o._torqueDampen*g.inverseInertia*(1-p.angularStiffness),g.constraintImpulse.angle-=k,g.angle-=k),m&&!m.isStatic&&(j=m.inverseMass/F,m.constraintImpulse.x+=D.x*j,m.constraintImpulse.y+=D.y*j,m.position.x+=D.x*j,m.position.y+=D.y*j,L>0&&(m.positionPrev.x+=L*W.x*G*j,m.positionPrev.y+=L*W.y*G*j),k=c.cross(w,D)/N*o._torqueDampen*m.inverseInertia*(1-p.angularStiffness),m.constraintImpulse.angle+=k,m.angle+=k)}}},o.postSolveAll=function(p){for(var h=0;h<p.length;h++){var g=p[h],m=g.constraintImpulse;if(!(g.isStatic||m.x===0&&m.y===0&&m.angle===0)){u.set(g,!1);for(var x=0;x<g.parts.length;x++){var w=g.parts[x];v.translate(w.vertices,m),x>0&&(w.position.x+=m.x,w.position.y+=m.y),m.angle!==0&&(v.rotate(w.vertices,m.angle,g.position),a.rotate(w.axes,m.angle),x>0&&c.rotateAbout(w.position,m.angle,g.position,w.position)),l.update(w.bounds,w.vertices,g.velocity)}m.angle*=o._warming,m.x*=o._warming,m.y*=o._warming}}},o.pointAWorld=function(p){return{x:(p.bodyA?p.bodyA.position.x:0)+(p.pointA?p.pointA.x:0),y:(p.bodyA?p.bodyA.position.y:0)+(p.pointA?p.pointA.y:0)}},o.pointBWorld=function(p){return{x:(p.bodyB?p.bodyB.position.x:0)+(p.pointB?p.pointB.x:0),y:(p.bodyB?p.bodyB.position.y:0)+(p.pointB?p.pointB.y:0)}},o.currentLength=function(p){var h=(p.bodyA?p.bodyA.position.x:0)+(p.pointA?p.pointA.x:0),g=(p.bodyA?p.bodyA.position.y:0)+(p.pointA?p.pointA.y:0),m=(p.bodyB?p.bodyB.position.x:0)+(p.pointB?p.pointB.x:0),x=(p.bodyB?p.bodyB.position.y:0)+(p.pointB?p.pointB.y:0),w=h-m,C=g-x;return Math.sqrt(w*w+C*C)}})()}),53402:((s,y,r)=>{var o={};s.exports=o,(function(){o._baseDelta=16.666666666666668,o._nextId=0,o._seed=0,o._nowStartTime=+new Date,o._warnedOnce={},o._decomp=null,o.extend=function(c,u){var l,a;typeof u=="boolean"?(l=2,a=u):(l=1,a=!0);for(var d=l;d<arguments.length;d++){var p=arguments[d];if(p)for(var h in p)a&&p[h]&&p[h].constructor===Object&&(!c[h]||c[h].constructor===Object)?(c[h]=c[h]||{},o.extend(c[h],a,p[h])):c[h]=p[h]}return c},o.clone=function(c,u){return o.extend({},u,c)},o.keys=function(c){if(Object.keys)return Object.keys(c);var u=[];for(var l in c)u.push(l);return u},o.values=function(c){var u=[];if(Object.keys){for(var l=Object.keys(c),a=0;a<l.length;a++)u.push(c[l[a]]);return u}for(var d in c)u.push(c[d]);return u},o.get=function(c,u,l,a){u=u.split(".").slice(l,a);for(var d=0;d<u.length;d+=1)c=c[u[d]];return c},o.set=function(c,u,l,a,d){var p=u.split(".").slice(a,d);return o.get(c,u,0,-1)[p[p.length-1]]=l,l},o.shuffle=function(c){for(var u=c.length-1;u>0;u--){var l=Math.floor(o.random()*(u+1)),a=c[u];c[u]=c[l],c[l]=a}return c},o.choose=function(c){return c[Math.floor(o.random()*c.length)]},o.isElement=function(c){return typeof HTMLElement<"u"?c instanceof HTMLElement:!!(c&&c.nodeType&&c.nodeName)},o.isArray=function(c){return Object.prototype.toString.call(c)==="[object Array]"},o.isFunction=function(c){return typeof c=="function"},o.isPlainObject=function(c){return typeof c=="object"&&c.constructor===Object},o.isString=function(c){return toString.call(c)==="[object String]"},o.clamp=function(c,u,l){return c<u?u:c>l?l:c},o.sign=function(c){return c<0?-1:1},o.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-o._nowStartTime},o.random=function(c,u){return c=typeof c<"u"?c:0,u=typeof u<"u"?u:1,c+v()*(u-c)};var v=function(){return o._seed=(o._seed*9301+49297)%233280,o._seed/233280};o.colorToNumber=function(c){return c=c.replace("#",""),c.length==3&&(c=c.charAt(0)+c.charAt(0)+c.charAt(1)+c.charAt(1)+c.charAt(2)+c.charAt(2)),parseInt(c,16)},o.logLevel=1,o.log=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.info=function(){console&&o.logLevel>0&&o.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.warn=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.warnOnce=function(){var c=Array.prototype.slice.call(arguments).join(" ");o._warnedOnce[c]||(o.warn(c),o._warnedOnce[c]=!0)},o.deprecated=function(c,u,l){c[u]=o.chain(function(){o.warnOnce(" deprecated ",l)},c[u])},o.nextId=function(){return o._nextId++},o.indexOf=function(c,u){if(c.indexOf)return c.indexOf(u);for(var l=0;l<c.length;l++)if(c[l]===u)return l;return-1},o.map=function(c,u){if(c.map)return c.map(u);for(var l=[],a=0;a<c.length;a+=1)l.push(u(c[a]));return l},o.topologicalSort=function(c){var u=[],l=[],a=[];for(var d in c)!l[d]&&!a[d]&&o._topologicalSort(d,l,a,c,u);return u},o._topologicalSort=function(c,u,l,a,d){var p=a[c]||[];l[c]=!0;for(var h=0;h<p.length;h+=1){var g=p[h];l[g]||u[g]||o._topologicalSort(g,u,l,a,d)}l[c]=!1,u[c]=!0,d.push(c)},o.chain=function(){for(var c=[],u=0;u<arguments.length;u+=1){var l=arguments[u];l._chained?c.push.apply(c,l._chained):c.push(l)}var a=function(){for(var d,p=new Array(arguments.length),h=0,g=arguments.length;h<g;h++)p[h]=arguments[h];for(h=0;h<c.length;h+=1){var m=c[h].apply(d,p);typeof m<"u"&&(d=m)}return d};return a._chained=c,a},o.chainPathBefore=function(c,u,l){return o.set(c,u,o.chain(l,o.get(c,u)))},o.chainPathAfter=function(c,u,l){return o.set(c,u,o.chain(o.get(c,u),l))},o.setDecomp=function(c){o._decomp=c},o.getDecomp=function(){var c=o._decomp;try{!c&&typeof window<"u"&&(c=window.decomp),!c&&typeof r.g<"u"&&(c=r.g.decomp)}catch{c=null}return c}})()}),48413:((s,y,r)=>{var o={};s.exports=o;var v=r(53614),c=r(66272),u=r(81388),l=r(99561),a=r(35810),d=r(69351),p=r(48140),h=r(53402),g=r(22562);(function(){o._deltaMax=16.666666666666668,o.create=function(m){m=m||{};var x={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},w=h.extend(x,m);return w.world=m.world||d.create({label:"World"}),w.pairs=m.pairs||l.create(),w.detector=m.detector||u.create(),w.detector.pairs=w.pairs,w.grid={buckets:[]},w.world.gravity=w.gravity,w.broadphase=w.grid,w.metrics={},w},o.update=function(m,x){var w=h.now(),C=m.world,E=m.detector,T=m.pairs,S=m.timing,A=S.timestamp,P;x>o._deltaMax&&h.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",o._deltaMax.toFixed(3),"ms."),x=typeof x<"u"?x:h._baseDelta,x*=S.timeScale,S.timestamp+=x,S.lastDelta=x;var R={timestamp:S.timestamp,delta:x};a.trigger(m,"beforeUpdate",R);var L=d.allBodies(C),D=d.allConstraints(C),F=d.allComposites(C);for(C.isModified&&(u.setBodies(E,L),d.setModified(C,!1,!1,!0)),m.enableSleeping&&v.update(L,x),o._bodiesApplyGravity(L,m.gravity),o.wrap(L,F),o.attractors(L),x>0&&o._bodiesUpdate(L,x),a.trigger(m,"beforeSolve",R),p.preSolveAll(L),P=0;P<m.constraintIterations;P++)p.solveAll(D,x);p.postSolveAll(L);var $=u.collisions(E);l.update(T,$,A),m.enableSleeping&&v.afterCollisions(T.list),T.collisionStart.length>0&&a.trigger(m,"collisionStart",{pairs:T.collisionStart,timestamp:S.timestamp,delta:x});var N=h.clamp(20/m.positionIterations,0,1);for(c.preSolvePosition(T.list),P=0;P<m.positionIterations;P++)c.solvePosition(T.list,x,N);for(c.postSolvePosition(L),p.preSolveAll(L),P=0;P<m.constraintIterations;P++)p.solveAll(D,x);for(p.postSolveAll(L),c.preSolveVelocity(T.list),P=0;P<m.velocityIterations;P++)c.solveVelocity(T.list,x);return o._bodiesUpdateVelocities(L),T.collisionActive.length>0&&a.trigger(m,"collisionActive",{pairs:T.collisionActive,timestamp:S.timestamp,delta:x}),T.collisionEnd.length>0&&a.trigger(m,"collisionEnd",{pairs:T.collisionEnd,timestamp:S.timestamp,delta:x}),o._bodiesClearForces(L),a.trigger(m,"afterUpdate",R),m.timing.lastElapsed=h.now()-w,m},o.merge=function(m,x){if(h.extend(m,x),x.world){m.world=x.world,o.clear(m);for(var w=d.allBodies(m.world),C=0;C<w.length;C++){var E=w[C];v.set(E,!1),E.id=h.nextId()}}},o.clear=function(m){l.clear(m.pairs),u.clear(m.detector)},o._bodiesClearForces=function(m){for(var x=m.length,w=0;w<x;w++){var C=m[w];C.force.x=0,C.force.y=0,C.torque=0}},o._bodiesApplyGravity=function(m,x){var w=typeof x.scale<"u"?x.scale:.001,C=m.length;if(!(x.x===0&&x.y===0||w===0))for(var E=0;E<C;E++){var T=m[E];T.ignoreGravity||T.isStatic||T.isSleeping||(T.force.y+=T.mass*x.y*w,T.force.x+=T.mass*x.x*w)}},o._bodiesUpdate=function(m,x){for(var w=m.length,C=0;C<w;C++){var E=m[C];E.isStatic||E.isSleeping||g.update(E,x)}},o._bodiesUpdateVelocities=function(m){for(var x=m.length,w=0;w<x;w++)g.updateVelocities(m[w])},o.wrap=function(m,x){for(var w=0;w<m.length;w+=1){var C=m[w];C.wrapBounds!==null&&g.wrap(C,C.wrapBounds)}for(w=0;w<x.length;w+=1){var E=x[w];E.wrapBounds!==null&&d.wrap(E,E.wrapBounds)}},o.attractors=function(m){for(var x=0;x<m.length;x++){var w=m[x],C=w.attractors;if(C&&C.length>0)for(var E=0;E<m.length;E++){var T=m[E];if(x!==E)for(var S=0;S<C.length;S++){var A=C[S],P=A;h.isFunction(A)&&(P=A(w,T)),P&&g.applyForce(T,T.position,P)}}}}})()}),35810:((s,y,r)=>{var o={};s.exports=o;var v=r(53402);(function(){o.on=function(c,u,l){for(var a=u.split(" "),d,p=0;p<a.length;p++)d=a[p],c.events=c.events||{},c.events[d]=c.events[d]||[],c.events[d].push(l);return l},o.off=function(c,u,l){if(!u){c.events={};return}typeof u=="function"&&(l=u,u=v.keys(c.events).join(" "));for(var a=u.split(" "),d=0;d<a.length;d++){var p=c.events[a[d]],h=[];if(l&&p)for(var g=0;g<p.length;g++)p[g]!==l&&h.push(p[g]);c.events[a[d]]=h}},o.trigger=function(c,u,l){var a,d,p,h,g=c.events;if(g&&v.keys(g).length>0){l||(l={}),a=u.split(" ");for(var m=0;m<a.length;m++)if(d=a[m],p=g[d],p){h=v.clone(l,!1),h.name=d,h.source=c;for(var x=0;x<p.length;x++)p[x].apply(c,[h])}}}})()}),6790:((s,y,r)=>{var o={};s.exports=o;var v=r(73832),c=r(53402);(function(){o.name="matter-js",o.version="0.20.0",o.uses=[],o.used=[],o.use=function(){v.use(o,Array.prototype.slice.call(arguments))},o.before=function(u,l){return u=u.replace(/^Matter./,""),c.chainPathBefore(o,u,l)},o.after=function(u,l){return u=u.replace(/^Matter./,""),c.chainPathAfter(o,u,l)}})()}),73832:((s,y,r)=>{var o={};s.exports=o;var v=r(53402);(function(){o._registry={},o.register=function(c){if(o.isPlugin(c)||v.warn("Plugin.register:",o.toString(c),"does not implement all required fields."),c.name in o._registry){var u=o._registry[c.name],l=o.versionParse(c.version).number,a=o.versionParse(u.version).number;l>a?(v.warn("Plugin.register:",o.toString(u),"was upgraded to",o.toString(c)),o._registry[c.name]=c):l<a?v.warn("Plugin.register:",o.toString(u),"can not be downgraded to",o.toString(c)):c!==u&&v.warn("Plugin.register:",o.toString(c),"is already registered to different plugin object")}else o._registry[c.name]=c;return c},o.resolve=function(c){return o._registry[o.dependencyParse(c).name]},o.toString=function(c){return typeof c=="string"?c:(c.name||"anonymous")+"@"+(c.version||c.range||"0.0.0")},o.isPlugin=function(c){return c&&c.name&&c.version&&c.install},o.isUsed=function(c,u){return c.used.indexOf(u)>-1},o.isFor=function(c,u){var l=c.for&&o.dependencyParse(c.for);return!c.for||u.name===l.name&&o.versionSatisfies(u.version,l.range)},o.use=function(c,u){if(c.uses=(c.uses||[]).concat(u||[]),c.uses.length===0){v.warn("Plugin.use:",o.toString(c),"does not specify any dependencies to install.");return}for(var l=o.dependencies(c),a=v.topologicalSort(l),d=[],p=0;p<a.length;p+=1)if(a[p]!==c.name){var h=o.resolve(a[p]);if(!h){d.push(" "+a[p]);continue}o.isUsed(c,h.name)||(o.isFor(h,c)||(v.warn("Plugin.use:",o.toString(h),"is for",h.for,"but installed on",o.toString(c)+"."),h._warned=!0),h.install?h.install(c):(v.warn("Plugin.use:",o.toString(h),"does not specify an install function."),h._warned=!0),h._warned?(d.push(" "+o.toString(h)),delete h._warned):d.push(" "+o.toString(h)),c.used.push(h.name))}d.length>0&&!h.silent&&v.info(d.join("  "))},o.dependencies=function(c,u){var l=o.dependencyParse(c),a=l.name;if(u=u||{},!(a in u)){c=o.resolve(c)||c,u[a]=v.map(c.uses||[],function(p){o.isPlugin(p)&&o.register(p);var h=o.dependencyParse(p),g=o.resolve(p);return g&&!o.versionSatisfies(g.version,h.range)?(v.warn("Plugin.dependencies:",o.toString(g),"does not satisfy",o.toString(h),"used by",o.toString(l)+"."),g._warned=!0,c._warned=!0):g||(v.warn("Plugin.dependencies:",o.toString(p),"used by",o.toString(l),"could not be resolved."),c._warned=!0),h.name});for(var d=0;d<u[a].length;d+=1)o.dependencies(u[a][d],u);return u}},o.dependencyParse=function(c){if(v.isString(c)){var u=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return u.test(c)||v.warn("Plugin.dependencyParse:",c,"is not a valid dependency string."),{name:c.split("@")[0],range:c.split("@")[1]||"*"}}return{name:c.name,range:c.range||c.version}},o.versionParse=function(c){var u=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;u.test(c)||v.warn("Plugin.versionParse:",c,"is not a valid version or range.");var l=u.exec(c),a=Number(l[4]),d=Number(l[5]),p=Number(l[6]);return{isRange:!!(l[1]||l[2]),version:l[3],range:c,operator:l[1]||l[2]||"",major:a,minor:d,patch:p,parts:[a,d,p],prerelease:l[7],number:a*1e8+d*1e4+p}},o.versionSatisfies=function(c,u){u=u||"*";var l=o.versionParse(u),a=o.versionParse(c);if(l.isRange){if(l.operator==="*"||c==="*")return!0;if(l.operator===">")return a.number>l.number;if(l.operator===">=")return a.number>=l.number;if(l.operator==="~")return a.major===l.major&&a.minor===l.minor&&a.patch>=l.patch;if(l.operator==="^")return l.major>0?a.major===l.major&&a.number>=l.number:l.minor>0?a.minor===l.minor&&a.patch>=l.patch:a.patch===l.patch}return c===u||c==="*"}})()}),13037:((s,y,r)=>{var o={};s.exports=o;var v=r(35810),c=r(48413),u=r(53402);(function(){o._maxFrameDelta=66.66666666666667,o._frameDeltaFallback=16.666666666666668,o._timeBufferMargin=1.5,o._elapsedNextEstimate=1,o._smoothingLowerBound=.1,o._smoothingUpperBound=.9,o.create=function(a){var d={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},p=u.extend(d,a);return p.fps=0,p},o.run=function(a,d){return a.timeBuffer=o._frameDeltaFallback,(function p(h){a.frameRequestId=o._onNextFrame(a,p),h&&a.enabled&&o.tick(a,d,h)})(),a},o.tick=function(a,d,p){var h=u.now(),g=a.delta,m=0,x=p-a.timeLastTick;if((!x||!a.timeLastTick||x>Math.max(o._maxFrameDelta,a.maxFrameTime))&&(x=a.frameDelta||o._frameDeltaFallback),a.frameDeltaSmoothing){a.frameDeltaHistory.push(x),a.frameDeltaHistory=a.frameDeltaHistory.slice(-a.frameDeltaHistorySize);var w=a.frameDeltaHistory.slice(0).sort(),C=a.frameDeltaHistory.slice(w.length*o._smoothingLowerBound,w.length*o._smoothingUpperBound),E=l(C);x=E||x}a.frameDeltaSnapping&&(x=1e3/Math.round(1e3/x)),a.frameDelta=x,a.timeLastTick=p,a.timeBuffer+=a.frameDelta,a.timeBuffer=u.clamp(a.timeBuffer,0,a.frameDelta+g*o._timeBufferMargin),a.lastUpdatesDeferred=0;var T=a.maxUpdates||Math.ceil(a.maxFrameTime/g),S={timestamp:d.timing.timestamp};v.trigger(a,"beforeTick",S),v.trigger(a,"tick",S);for(var A=u.now();g>0&&a.timeBuffer>=g*o._timeBufferMargin;){v.trigger(a,"beforeUpdate",S),c.update(d,g),v.trigger(a,"afterUpdate",S),a.timeBuffer-=g,m+=1;var P=u.now()-h,R=u.now()-A,L=P+o._elapsedNextEstimate*R/m;if(m>=T||L>a.maxFrameTime){a.lastUpdatesDeferred=Math.round(Math.max(0,a.timeBuffer/g-o._timeBufferMargin));break}}d.timing.lastUpdatesPerFrame=m,v.trigger(a,"afterTick",S),a.frameDeltaHistory.length>=100&&(a.lastUpdatesDeferred&&Math.round(a.frameDelta/g)>T?u.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):a.lastUpdatesDeferred&&u.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof a.isFixed<"u"&&u.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(a.deltaMin||a.deltaMax)&&u.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),a.fps!==0&&u.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},o.stop=function(a){o._cancelNextFrame(a)},o._onNextFrame=function(a,d){if(typeof window<"u"&&window.requestAnimationFrame)a.frameRequestId=window.requestAnimationFrame(d);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return a.frameRequestId},o._cancelNextFrame=function(a){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(a.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var l=function(a){for(var d=0,p=a.length,h=0;h<p;h+=1)d+=a[h];return d/p||0};o._mean=l})()}),53614:((s,y,r)=>{var o={};s.exports=o;var v=r(22562),c=r(35810),u=r(53402);(function(){o._motionWakeThreshold=.18,o._motionSleepThreshold=.08,o._minBias=.9,o.update=function(l,a){for(var d=a/u._baseDelta,p=o._motionSleepThreshold,h=0;h<l.length;h++){var g=l[h],m=v.getSpeed(g),x=v.getAngularSpeed(g),w=m*m+x*x;if(g.force.x!==0||g.force.y!==0){o.set(g,!1);continue}var C=Math.min(g.motion,w),E=Math.max(g.motion,w);g.motion=o._minBias*C+(1-o._minBias)*E,g.sleepThreshold>0&&g.motion<p?(g.sleepCounter+=1,g.sleepCounter>=g.sleepThreshold/d&&o.set(g,!0)):g.sleepCounter>0&&(g.sleepCounter-=1)}},o.afterCollisions=function(l){for(var a=o._motionSleepThreshold,d=0;d<l.length;d++){var p=l[d];if(p.isActive){var h=p.collision,g=h.bodyA.parent,m=h.bodyB.parent;if(!(g.isSleeping&&m.isSleeping||g.isStatic||m.isStatic)&&(g.isSleeping||m.isSleeping)){var x=g.isSleeping&&!g.isStatic?g:m,w=x===g?m:g;!x.isStatic&&w.motion>a&&o.set(x,!1)}}}},o.set=function(l,a){var d=l.isSleeping;a?(l.isSleeping=!0,l.sleepCounter=l.sleepThreshold,l.positionImpulse.x=0,l.positionImpulse.y=0,l.positionPrev.x=l.position.x,l.positionPrev.y=l.position.y,l.anglePrev=l.angle,l.speed=0,l.angularSpeed=0,l.motion=0,d||c.trigger(l,"sleepStart")):(l.isSleeping=!1,l.sleepCounter=0,d&&c.trigger(l,"sleepEnd"))}})()}),66280:((s,y,r)=>{var o={};s.exports=o;var v=r(41598),c=r(53402),u=r(22562),l=r(15647),a=r(31725);(function(){o.rectangle=function(d,p,h,g,m){m=m||{};var x={label:"Rectangle Body",position:{x:d,y:p},vertices:v.fromPath("L 0 0 L "+h+" 0 L "+h+" "+g+" L 0 "+g)};if(m.chamfer){var w=m.chamfer;x.vertices=v.chamfer(x.vertices,w.radius,w.quality,w.qualityMin,w.qualityMax),delete m.chamfer}return u.create(c.extend({},x,m))},o.trapezoid=function(d,p,h,g,m,x){x=x||{},m>=1&&c.warn("Bodies.trapezoid: slope parameter must be < 1."),m*=.5;var w=(1-m*2)*h,C=h*m,E=C+w,T=E+C,S;m<.5?S="L 0 0 L "+C+" "+-g+" L "+E+" "+-g+" L "+T+" 0":S="L 0 0 L "+E+" "+-g+" L "+T+" 0";var A={label:"Trapezoid Body",position:{x:d,y:p},vertices:v.fromPath(S)};if(x.chamfer){var P=x.chamfer;A.vertices=v.chamfer(A.vertices,P.radius,P.quality,P.qualityMin,P.qualityMax),delete x.chamfer}return u.create(c.extend({},A,x))},o.circle=function(d,p,h,g,m){g=g||{};var x={label:"Circle Body",circleRadius:h};m=m||25;var w=Math.ceil(Math.max(10,Math.min(m,h)));return w%2===1&&(w+=1),o.polygon(d,p,w,h,c.extend({},x,g))},o.polygon=function(d,p,h,g,m){if(m=m||{},h<3)return o.circle(d,p,g,m);for(var x=2*Math.PI/h,w="",C=x*.5,E=0;E<h;E+=1){var T=C+E*x,S=Math.cos(T)*g,A=Math.sin(T)*g;w+="L "+S.toFixed(3)+" "+A.toFixed(3)+" "}var P={label:"Polygon Body",position:{x:d,y:p},vertices:v.fromPath(w)};if(m.chamfer){var R=m.chamfer;P.vertices=v.chamfer(P.vertices,R.radius,R.quality,R.qualityMin,R.qualityMax),delete m.chamfer}return u.create(c.extend({},P,m))},o.fromVertices=function(d,p,h,g,m,x,w,C){var E=c.getDecomp(),T,S,A,P,R,L,D,F,$,N,k;for(T=!!(E&&E.quickDecomp),g=g||{},A=[],m=typeof m<"u"?m:!1,x=typeof x<"u"?x:.01,w=typeof w<"u"?w:10,C=typeof C<"u"?C:.01,c.isArray(h[0])||(h=[h]),N=0;N<h.length;N+=1)if(L=h[N],P=v.isConvex(L),R=!P,R&&!T&&c.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),P||!T)P?L=v.clockwiseSort(L):L=v.hull(L),A.push({position:{x:d,y:p},vertices:L});else{var j=L.map(function(ee){return[ee.x,ee.y]});E.makeCCW(j),x!==!1&&E.removeCollinearPoints(j,x),C!==!1&&E.removeDuplicatePoints&&E.removeDuplicatePoints(j,C);var W=E.quickDecomp(j);for(D=0;D<W.length;D++){var G=W[D],K=G.map(function(ee){return{x:ee[0],y:ee[1]}});w>0&&v.area(K)<w||A.push({position:v.centre(K),vertices:K})}}for(D=0;D<A.length;D++)A[D]=u.create(c.extend(A[D],g));if(m){var z=5;for(D=0;D<A.length;D++){var X=A[D];for(F=D+1;F<A.length;F++){var U=A[F];if(l.overlaps(X.bounds,U.bounds)){var Z=X.vertices,V=U.vertices;for($=0;$<X.vertices.length;$++)for(k=0;k<U.vertices.length;k++){var J=a.magnitudeSquared(a.sub(Z[($+1)%Z.length],V[k])),_=a.magnitudeSquared(a.sub(Z[$],V[(k+1)%V.length]));J<z&&_<z&&(Z[$].isInternal=!0,V[k].isInternal=!0)}}}}}return A.length>1?(S=u.create(c.extend({parts:A.slice(0)},g)),u.setPosition(S,{x:d,y:p}),S):A[0]},o.flagCoincidentParts=function(d,p){p===void 0&&(p=5);for(var h=0;h<d.length;h++)for(var g=d[h],m=h+1;m<d.length;m++){var x=d[m];if(l.overlaps(g.bounds,x.bounds))for(var w=g.vertices,C=x.vertices,E=0;E<g.vertices.length;E++)for(var T=0;T<x.vertices.length;T++){var S=a.magnitudeSquared(a.sub(w[(E+1)%w.length],C[T])),A=a.magnitudeSquared(a.sub(w[E],C[(T+1)%C.length]));S<p&&A<p&&(w[E].isInternal=!0,C[T].isInternal=!0)}}return d}})()}),74116:((s,y,r)=>{var o={};s.exports=o;var v=r(69351),c=r(48140),u=r(53402),l=r(22562),a=r(66280);(function(){o.stack=function(d,p,h,g,m,x,w){for(var C=v.create({label:"Stack"}),E=d,T=p,S,A=0,P=0;P<g;P++){for(var R=0,L=0;L<h;L++){var D=w(E,T,L,P,S,A);if(D){var F=D.bounds.max.y-D.bounds.min.y,$=D.bounds.max.x-D.bounds.min.x;F>R&&(R=F),l.translate(D,{x:$*.5,y:F*.5}),E=D.bounds.max.x+m,v.addBody(C,D),S=D,A+=1}else E+=m}T+=R+x,E=d}return C},o.chain=function(d,p,h,g,m,x){for(var w=d.bodies,C=1;C<w.length;C++){var E=w[C-1],T=w[C],S=E.bounds.max.y-E.bounds.min.y,A=E.bounds.max.x-E.bounds.min.x,P=T.bounds.max.y-T.bounds.min.y,R=T.bounds.max.x-T.bounds.min.x,L={bodyA:E,pointA:{x:A*p,y:S*h},bodyB:T,pointB:{x:R*g,y:P*m}},D=u.extend(L,x);v.addConstraint(d,c.create(D))}return d.label+=" Chain",d},o.mesh=function(d,p,h,g,m){var x=d.bodies,w,C,E,T,S;for(w=0;w<h;w++){for(C=1;C<p;C++)E=x[C-1+w*p],T=x[C+w*p],v.addConstraint(d,c.create(u.extend({bodyA:E,bodyB:T},m)));if(w>0)for(C=0;C<p;C++)E=x[C+(w-1)*p],T=x[C+w*p],v.addConstraint(d,c.create(u.extend({bodyA:E,bodyB:T},m))),g&&C>0&&(S=x[C-1+(w-1)*p],v.addConstraint(d,c.create(u.extend({bodyA:S,bodyB:T},m)))),g&&C<p-1&&(S=x[C+1+(w-1)*p],v.addConstraint(d,c.create(u.extend({bodyA:S,bodyB:T},m))))}return d.label+=" Mesh",d},o.pyramid=function(d,p,h,g,m,x,w){return o.stack(d,p,h,g,m,x,function(C,E,T,S,A,P){var R=Math.min(g,Math.ceil(h/2)),L=A?A.bounds.max.x-A.bounds.min.x:0;if(!(S>R)){S=R-S;var D=S,F=h-1-S;if(!(T<D||T>F)){P===1&&l.translate(A,{x:(T+(h%2===1?1:-1))*L,y:0});var $=A?T*L:0;return w(d+$+T*m,E,T,S,A,P)}}})},o.newtonsCradle=function(d,p,h,g,m){for(var x=v.create({label:"Newtons Cradle"}),w=0;w<h;w++){var C=1.9,E=a.circle(d+w*(g*C),p+m,g,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),T=c.create({pointA:{x:d+w*(g*C),y:p},bodyB:E});v.addBody(x,E),v.addConstraint(x,T)}return x},o.car=function(d,p,h,g,m){var x=l.nextGroup(!0),w=20,C=-h*.5+w,E=h*.5-w,T=0,S=v.create({label:"Car"}),A=a.rectangle(d,p,h,g,{collisionFilter:{group:x},chamfer:{radius:g*.5},density:2e-4}),P=a.circle(d+C,p+T,m,{collisionFilter:{group:x},friction:.8}),R=a.circle(d+E,p+T,m,{collisionFilter:{group:x},friction:.8}),L=c.create({bodyB:A,pointB:{x:C,y:T},bodyA:P,stiffness:1,length:0}),D=c.create({bodyB:A,pointB:{x:E,y:T},bodyA:R,stiffness:1,length:0});return v.addBody(S,A),v.addBody(S,P),v.addBody(S,R),v.addConstraint(S,L),v.addConstraint(S,D),S},o.softBody=function(d,p,h,g,m,x,w,C,E,T){E=u.extend({inertia:1/0},E),T=u.extend({stiffness:.2,render:{type:"line",anchors:!1}},T);var S=o.stack(d,p,h,g,m,x,function(A,P){return a.circle(A,P,C,E)});return o.mesh(S,h,g,w,T),S.label="Soft Body",S}})()}),66615:((s,y,r)=>{var o={};s.exports=o;var v=r(31725),c=r(53402);(function(){o.fromVertices=function(u){for(var l={},a=0;a<u.length;a++){var d=(a+1)%u.length,p=v.normalise({x:u[d].y-u[a].y,y:u[a].x-u[d].x}),h=p.y===0?1/0:p.x/p.y;h=h.toFixed(3).toString(),l[h]=p}return c.values(l)},o.rotate=function(u,l){if(l!==0)for(var a=Math.cos(l),d=Math.sin(l),p=0;p<u.length;p++){var h=u[p],g;g=h.x*a-h.y*d,h.y=h.x*d+h.y*a,h.x=g}}})()}),15647:(s=>{var y={};s.exports=y,(function(){y.create=function(r){var o={min:{x:0,y:0},max:{x:0,y:0}};return r&&y.update(o,r),o},y.update=function(r,o,v){r.min.x=1/0,r.max.x=-1/0,r.min.y=1/0,r.max.y=-1/0;for(var c=0;c<o.length;c++){var u=o[c];u.x>r.max.x&&(r.max.x=u.x),u.x<r.min.x&&(r.min.x=u.x),u.y>r.max.y&&(r.max.y=u.y),u.y<r.min.y&&(r.min.y=u.y)}v&&(v.x>0?r.max.x+=v.x:r.min.x+=v.x,v.y>0?r.max.y+=v.y:r.min.y+=v.y)},y.contains=function(r,o){return o.x>=r.min.x&&o.x<=r.max.x&&o.y>=r.min.y&&o.y<=r.max.y},y.overlaps=function(r,o){return r.min.x<=o.max.x&&r.max.x>=o.min.x&&r.max.y>=o.min.y&&r.min.y<=o.max.y},y.translate=function(r,o){r.min.x+=o.x,r.max.x+=o.x,r.min.y+=o.y,r.max.y+=o.y},y.shift=function(r,o){var v=r.max.x-r.min.x,c=r.max.y-r.min.y;r.min.x=o.x,r.max.x=o.x+v,r.min.y=o.y,r.max.y=o.y+c},y.wrap=function(r,o,v){var c=null,u=null;if(typeof o.min.x<"u"&&typeof o.max.x<"u"&&(r.min.x>o.max.x?c=o.min.x-r.max.x:r.max.x<o.min.x&&(c=o.max.x-r.min.x)),typeof o.min.y<"u"&&typeof o.max.y<"u"&&(r.min.y>o.max.y?u=o.min.y-r.max.y:r.max.y<o.min.y&&(u=o.max.y-r.min.y)),c!==null||u!==null)return{x:c||0,y:u||0}}})()}),74058:((s,y,r)=>{var o={};s.exports=o,r(15647);var v=r(53402);(function(){o.pathToVertices=function(c,u){typeof window<"u"&&!("SVGPathSeg"in window)&&v.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var l,a,d,p,h,g,m,x,w,C,E=[],T,S,A=0,P=0,R=0;u=u||15;var L=function(F,$,N){var k=N%2===1&&N>1;if(!w||F!=w.x||$!=w.y){w&&k?(T=w.x,S=w.y):(T=0,S=0);var j={x:T+F,y:S+$};(k||!w)&&(w=j),E.push(j),P=T+F,R=S+$}},D=function(F){var $=F.pathSegTypeAsLetter.toUpperCase();if($!=="Z"){switch($){case"M":case"L":case"T":case"C":case"S":case"Q":P=F.x,R=F.y;break;case"H":P=F.x;break;case"V":R=F.y;break}L(P,R,F.pathSegType)}};for(o._svgPathToAbsolute(c),d=c.getTotalLength(),g=[],l=0;l<c.pathSegList.numberOfItems;l+=1)g.push(c.pathSegList.getItem(l));for(m=g.concat();A<d;){if(C=c.getPathSegAtLength(A),h=g[C],h!=x){for(;m.length&&m[0]!=h;)D(m.shift());x=h}switch(h.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":p=c.getPointAtLength(A),L(p.x,p.y,0);break}A+=u}for(l=0,a=m.length;l<a;++l)D(m[l]);return E},o._svgPathToAbsolute=function(c){for(var u,l,a,d,p,h,g=c.pathSegList,m=0,x=0,w=g.numberOfItems,C=0;C<w;++C){var E=g.getItem(C),T=E.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(T))"x"in E&&(m=E.x),"y"in E&&(x=E.y);else switch("x1"in E&&(a=m+E.x1),"x2"in E&&(p=m+E.x2),"y1"in E&&(d=x+E.y1),"y2"in E&&(h=x+E.y2),"x"in E&&(m+=E.x),"y"in E&&(x+=E.y),T){case"m":g.replaceItem(c.createSVGPathSegMovetoAbs(m,x),C);break;case"l":g.replaceItem(c.createSVGPathSegLinetoAbs(m,x),C);break;case"h":g.replaceItem(c.createSVGPathSegLinetoHorizontalAbs(m),C);break;case"v":g.replaceItem(c.createSVGPathSegLinetoVerticalAbs(x),C);break;case"c":g.replaceItem(c.createSVGPathSegCurvetoCubicAbs(m,x,a,d,p,h),C);break;case"s":g.replaceItem(c.createSVGPathSegCurvetoCubicSmoothAbs(m,x,p,h),C);break;case"q":g.replaceItem(c.createSVGPathSegCurvetoQuadraticAbs(m,x,a,d),C);break;case"t":g.replaceItem(c.createSVGPathSegCurvetoQuadraticSmoothAbs(m,x),C);break;case"a":g.replaceItem(c.createSVGPathSegArcAbs(m,x,E.r1,E.r2,E.angle,E.largeArcFlag,E.sweepFlag),C);break;case"z":case"Z":m=u,x=l;break}(T=="M"||T=="m")&&(u=m,l=x)}}})()}),31725:(s=>{var y={};s.exports=y,(function(){y.create=function(r,o){return{x:r||0,y:o||0}},y.clone=function(r){return{x:r.x,y:r.y}},y.magnitude=function(r){return Math.sqrt(r.x*r.x+r.y*r.y)},y.magnitudeSquared=function(r){return r.x*r.x+r.y*r.y},y.rotate=function(r,o,v){var c=Math.cos(o),u=Math.sin(o);v||(v={});var l=r.x*c-r.y*u;return v.y=r.x*u+r.y*c,v.x=l,v},y.rotateAbout=function(r,o,v,c){var u=Math.cos(o),l=Math.sin(o);c||(c={});var a=v.x+((r.x-v.x)*u-(r.y-v.y)*l);return c.y=v.y+((r.x-v.x)*l+(r.y-v.y)*u),c.x=a,c},y.normalise=function(r){var o=y.magnitude(r);return o===0?{x:0,y:0}:{x:r.x/o,y:r.y/o}},y.dot=function(r,o){return r.x*o.x+r.y*o.y},y.cross=function(r,o){return r.x*o.y-r.y*o.x},y.cross3=function(r,o,v){return(o.x-r.x)*(v.y-r.y)-(o.y-r.y)*(v.x-r.x)},y.add=function(r,o,v){return v||(v={}),v.x=r.x+o.x,v.y=r.y+o.y,v},y.sub=function(r,o,v){return v||(v={}),v.x=r.x-o.x,v.y=r.y-o.y,v},y.mult=function(r,o){return{x:r.x*o,y:r.y*o}},y.div=function(r,o){return{x:r.x/o,y:r.y/o}},y.perp=function(r,o){return o=o===!0?-1:1,{x:o*-r.y,y:o*r.x}},y.neg=function(r){return{x:-r.x,y:-r.y}},y.angle=function(r,o){return Math.atan2(o.y-r.y,o.x-r.x)},y._temp=[y.create(),y.create(),y.create(),y.create(),y.create(),y.create()]})()}),41598:((s,y,r)=>{var o={};s.exports=o;var v=r(31725),c=r(53402);(function(){o.create=function(u,l){for(var a=[],d=0;d<u.length;d++){var p=u[d],h={x:p.x,y:p.y,index:d,body:l,isInternal:!1};a.push(h)}return a},o.fromPath=function(u,l){var a=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,d=[];return u.replace(a,function(p,h,g){d.push({x:parseFloat(h),y:parseFloat(g)})}),o.create(d,l)},o.centre=function(u){for(var l=o.area(u,!0),a={x:0,y:0},d,p,h,g=0;g<u.length;g++)h=(g+1)%u.length,d=v.cross(u[g],u[h]),p=v.mult(v.add(u[g],u[h]),d),a=v.add(a,p);return v.div(a,6*l)},o.mean=function(u){for(var l={x:0,y:0},a=0;a<u.length;a++)l.x+=u[a].x,l.y+=u[a].y;return v.div(l,u.length)},o.area=function(u,l){for(var a=0,d=u.length-1,p=0;p<u.length;p++)a+=(u[d].x-u[p].x)*(u[d].y+u[p].y),d=p;return l?a/2:Math.abs(a)/2},o.inertia=function(u,l){for(var a=0,d=0,p=u,h,g,m=0;m<p.length;m++)g=(m+1)%p.length,h=Math.abs(v.cross(p[g],p[m])),a+=h*(v.dot(p[g],p[g])+v.dot(p[g],p[m])+v.dot(p[m],p[m])),d+=h;return l/6*(a/d)},o.translate=function(u,l,a){a=typeof a<"u"?a:1;var d=u.length,p=l.x*a,h=l.y*a,g;for(g=0;g<d;g++)u[g].x+=p,u[g].y+=h;return u},o.rotate=function(u,l,a){if(l!==0){var d=Math.cos(l),p=Math.sin(l),h=a.x,g=a.y,m=u.length,x,w,C,E;for(E=0;E<m;E++)x=u[E],w=x.x-h,C=x.y-g,x.x=h+(w*d-C*p),x.y=g+(w*p+C*d);return u}},o.contains=function(u,l){for(var a=l.x,d=l.y,p=u.length,h=u[p-1],g,m=0;m<p;m++){if(g=u[m],(a-h.x)*(g.y-h.y)+(d-h.y)*(h.x-g.x)>0)return!1;h=g}return!0},o.scale=function(u,l,a,d){if(l===1&&a===1)return u;d=d||o.centre(u);for(var p,h,g=0;g<u.length;g++)p=u[g],h=v.sub(p,d),u[g].x=d.x+h.x*l,u[g].y=d.y+h.y*a;return u},o.chamfer=function(u,l,a,d,p){typeof l=="number"?l=[l]:l=l||[8],a=typeof a<"u"?a:-1,d=d||2,p=p||14;for(var h=[],g=0;g<u.length;g++){var m=u[g-1>=0?g-1:u.length-1],x=u[g],w=u[(g+1)%u.length],C=l[g<l.length?g:l.length-1];if(C===0){h.push(x);continue}var E=v.normalise({x:x.y-m.y,y:m.x-x.x}),T=v.normalise({x:w.y-x.y,y:x.x-w.x}),S=Math.sqrt(2*Math.pow(C,2)),A=v.mult(c.clone(E),C),P=v.normalise(v.mult(v.add(E,T),.5)),R=v.sub(x,v.mult(P,S)),L=a;a===-1&&(L=Math.pow(C,.32)*1.75),L=c.clamp(L,d,p),L%2===1&&(L+=1);for(var D=Math.acos(v.dot(E,T)),F=D/L,$=0;$<L;$++)h.push(v.add(v.rotate(A,F*$),R))}return h},o.clockwiseSort=function(u){var l=o.mean(u);return u.sort(function(a,d){return v.angle(l,a)-v.angle(l,d)}),u},o.isConvex=function(u){var l=0,a=u.length,d,p,h,g;if(a<3)return null;for(d=0;d<a;d++)if(p=(d+1)%a,h=(d+2)%a,g=(u[p].x-u[d].x)*(u[h].y-u[p].y),g-=(u[p].y-u[d].y)*(u[h].x-u[p].x),g<0?l|=1:g>0&&(l|=2),l===3)return!1;return l!==0?!0:null},o.hull=function(u){var l=[],a=[],d,p;for(u=u.slice(0),u.sort(function(h,g){var m=h.x-g.x;return m!==0?m:h.y-g.y}),p=0;p<u.length;p+=1){for(d=u[p];a.length>=2&&v.cross3(a[a.length-2],a[a.length-1],d)<=0;)a.pop();a.push(d)}for(p=u.length-1;p>=0;p-=1){for(d=u[p];l.length>=2&&v.cross3(l[l.length-2],l[l.length-1],d)<=0;)l.pop();l.push(d)}return l.pop(),a.pop(),l.concat(a)}})()}),55973:(s=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={decomp:D,quickDecomp:k,isSimple:$,removeCollinearPoints:j,removeDuplicatePoints:W,makeCCW:w};function y(z,X,U){U=U||0;var Z=[0,0],V,J,_,ee,te,ie,le;return V=z[1][1]-z[0][1],J=z[0][0]-z[1][0],_=V*z[0][0]+J*z[0][1],ee=X[1][1]-X[0][1],te=X[0][0]-X[1][0],ie=ee*X[0][0]+te*X[0][1],le=V*te-ee*J,G(le,0,U)||(Z[0]=(te*_-J*ie)/le,Z[1]=(V*ie-ee*_)/le),Z}function r(z,X,U,Z){var V=X[0]-z[0],J=X[1]-z[1],_=Z[0]-U[0],ee=Z[1]-U[1];if(_*J-ee*V===0)return!1;var te=(V*(U[1]-z[1])+J*(z[0]-U[0]))/(_*J-ee*V),ie=(_*(z[1]-U[1])+ee*(U[0]-z[0]))/(ee*V-_*J);return te>=0&&te<=1&&ie>=0&&ie<=1}function o(z,X,U){return(X[0]-z[0])*(U[1]-z[1])-(U[0]-z[0])*(X[1]-z[1])}function v(z,X,U){return o(z,X,U)>0}function c(z,X,U){return o(z,X,U)>=0}function u(z,X,U){return o(z,X,U)<0}function l(z,X,U){return o(z,X,U)<=0}var a=[],d=[];function p(z,X,U,Z){if(Z){var V=a,J=d;V[0]=X[0]-z[0],V[1]=X[1]-z[1],J[0]=U[0]-X[0],J[1]=U[1]-X[1];var _=V[0]*J[0]+V[1]*J[1],ee=Math.sqrt(V[0]*V[0]+V[1]*V[1]),te=Math.sqrt(J[0]*J[0]+J[1]*J[1]),ie=Math.acos(_/(ee*te));return ie<Z}else return o(z,X,U)===0}function h(z,X){var U=X[0]-z[0],Z=X[1]-z[1];return U*U+Z*Z}function g(z,X){var U=z.length;return z[X<0?X%U+U:X%U]}function m(z){z.length=0}function x(z,X,U,Z){for(var V=U;V<Z;V++)z.push(X[V])}function w(z){for(var X=0,U=z,Z=1;Z<z.length;++Z)(U[Z][1]<U[X][1]||U[Z][1]===U[X][1]&&U[Z][0]>U[X][0])&&(X=Z);return v(g(z,X-1),g(z,X),g(z,X+1))?!1:(C(z),!0)}function C(z){for(var X=[],U=z.length,Z=0;Z!==U;Z++)X.push(z.pop());for(var Z=0;Z!==U;Z++)z[Z]=X[Z]}function E(z,X){return u(g(z,X-1),g(z,X),g(z,X+1))}var T=[],S=[];function A(z,X,U){var Z,V,J=T,_=S;if(c(g(z,X+1),g(z,X),g(z,U))&&l(g(z,X-1),g(z,X),g(z,U)))return!1;V=h(g(z,X),g(z,U));for(var ee=0;ee!==z.length;++ee)if(!((ee+1)%z.length===X||ee===X)&&c(g(z,X),g(z,U),g(z,ee+1))&&l(g(z,X),g(z,U),g(z,ee))&&(J[0]=g(z,X),J[1]=g(z,U),_[0]=g(z,ee),_[1]=g(z,ee+1),Z=y(J,_),h(g(z,X),Z)<V))return!1;return!0}function P(z,X,U){for(var Z=0;Z!==z.length;++Z)if(!(Z===X||Z===U||(Z+1)%z.length===X||(Z+1)%z.length===U)&&r(g(z,X),g(z,U),g(z,Z),g(z,Z+1)))return!1;return!0}function R(z,X,U,Z){var V=Z||[];if(m(V),X<U)for(var J=X;J<=U;J++)V.push(z[J]);else{for(var J=0;J<=U;J++)V.push(z[J]);for(var J=X;J<z.length;J++)V.push(z[J])}return V}function L(z){for(var X=[],U=[],Z=[],V=[],J=Number.MAX_VALUE,_=0;_<z.length;++_)if(E(z,_)){for(var ee=0;ee<z.length;++ee)if(A(z,_,ee)){U=L(R(z,_,ee,V)),Z=L(R(z,ee,_,V));for(var te=0;te<Z.length;te++)U.push(Z[te]);U.length<J&&(X=U,J=U.length,X.push([g(z,_),g(z,ee)]))}}return X}function D(z){var X=L(z);return X.length>0?F(z,X):[z]}function F(z,X){if(X.length===0)return[z];if(X instanceof Array&&X.length&&X[0]instanceof Array&&X[0].length===2&&X[0][0]instanceof Array){for(var U=[z],Z=0;Z<X.length;Z++)for(var V=X[Z],J=0;J<U.length;J++){var _=U[J],ee=F(_,V);if(ee){U.splice(J,1),U.push(ee[0],ee[1]);break}}return U}else{var V=X,Z=z.indexOf(V[0]),J=z.indexOf(V[1]);return Z!==-1&&J!==-1?[R(z,Z,J),R(z,J,Z)]:!1}}function $(z){var X=z,U;for(U=0;U<X.length-1;U++)for(var Z=0;Z<U-1;Z++)if(r(X[U],X[U+1],X[Z],X[Z+1]))return!1;for(U=1;U<X.length-2;U++)if(r(X[0],X[X.length-1],X[U],X[U+1]))return!1;return!0}function N(z,X,U,Z,V){V=V||0;var J=X[1]-z[1],_=z[0]-X[0],ee=J*z[0]+_*z[1],te=Z[1]-U[1],ie=U[0]-Z[0],le=te*U[0]+ie*U[1],he=J*ie-te*_;return G(he,0,V)?[0,0]:[(ie*ee-_*le)/he,(J*le-te*ee)/he]}function k(z,X,U,Z,V,J,_){J=J||100,_=_||0,V=V||25,X=typeof X<"u"?X:[],U=U||[],Z=Z||[];var ee=[0,0],te=[0,0],ie=[0,0],le=0,he=0,fe=0,oe=0,Ce=0,ye=0,Ee=0,Ie=[],je=[],Re=z,$e=z;if($e.length<3)return X;if(_++,_>J)return console.warn("quickDecomp: max level ("+J+") reached."),X;for(var Ae=0;Ae<z.length;++Ae)if(E(Re,Ae)){U.push(Re[Ae]),le=he=Number.MAX_VALUE;for(var Xe=0;Xe<z.length;++Xe)v(g(Re,Ae-1),g(Re,Ae),g(Re,Xe))&&l(g(Re,Ae-1),g(Re,Ae),g(Re,Xe-1))&&(ie=N(g(Re,Ae-1),g(Re,Ae),g(Re,Xe),g(Re,Xe-1)),u(g(Re,Ae+1),g(Re,Ae),ie)&&(fe=h(Re[Ae],ie),fe<he&&(he=fe,te=ie,ye=Xe))),v(g(Re,Ae+1),g(Re,Ae),g(Re,Xe+1))&&l(g(Re,Ae+1),g(Re,Ae),g(Re,Xe))&&(ie=N(g(Re,Ae+1),g(Re,Ae),g(Re,Xe),g(Re,Xe+1)),v(g(Re,Ae-1),g(Re,Ae),ie)&&(fe=h(Re[Ae],ie),fe<le&&(le=fe,ee=ie,Ce=Xe)));if(ye===(Ce+1)%z.length)ie[0]=(te[0]+ee[0])/2,ie[1]=(te[1]+ee[1])/2,Z.push(ie),Ae<Ce?(x(Ie,Re,Ae,Ce+1),Ie.push(ie),je.push(ie),ye!==0&&x(je,Re,ye,Re.length),x(je,Re,0,Ae+1)):(Ae!==0&&x(Ie,Re,Ae,Re.length),x(Ie,Re,0,Ce+1),Ie.push(ie),je.push(ie),x(je,Re,ye,Ae+1));else{if(ye>Ce&&(Ce+=z.length),oe=Number.MAX_VALUE,Ce<ye)return X;for(var Xe=ye;Xe<=Ce;++Xe)c(g(Re,Ae-1),g(Re,Ae),g(Re,Xe))&&l(g(Re,Ae+1),g(Re,Ae),g(Re,Xe))&&(fe=h(g(Re,Ae),g(Re,Xe)),fe<oe&&P(Re,Ae,Xe)&&(oe=fe,Ee=Xe%z.length));Ae<Ee?(x(Ie,Re,Ae,Ee+1),Ee!==0&&x(je,Re,Ee,$e.length),x(je,Re,0,Ae+1)):(Ae!==0&&x(Ie,Re,Ae,$e.length),x(Ie,Re,0,Ee+1),x(je,Re,Ee,Ae+1))}return Ie.length<je.length?(k(Ie,X,U,Z,V,J,_),k(je,X,U,Z,V,J,_)):(k(je,X,U,Z,V,J,_),k(Ie,X,U,Z,V,J,_)),X}return X.push(z),X}function j(z,X){for(var U=0,Z=z.length-1;z.length>3&&Z>=0;--Z)p(g(z,Z-1),g(z,Z),g(z,Z+1),X)&&(z.splice(Z%z.length,1),U++);return U}function W(z,X){for(var U=z.length-1;U>=1;--U)for(var Z=z[U],V=U-1;V>=0;--V)if(K(Z,z[V],X)){z.splice(U,1);continue}}function G(z,X,U){return U=U||0,Math.abs(z-X)<=U}function K(z,X,U){return G(z[0],X[0],U)&&G(z[1],X[1],U)}}),52018:((s,y,r)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var o=r(83419),v=new o({initialize:function(u){this.pluginManager=u,this.game=u.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});s.exports=v}),42363:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};s.exports=y}),37277:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={},r={},o={};o.register=function(v,c,u,l){l===void 0&&(l=!1),y[v]={plugin:c,mapping:u,custom:l}},o.registerCustom=function(v,c,u,l){r[v]={plugin:c,mapping:u,data:l}},o.hasCore=function(v){return y.hasOwnProperty(v)},o.hasCustom=function(v){return r.hasOwnProperty(v)},o.getCore=function(v){return y[v]},o.getCustom=function(v){return r[v]},o.getCustomClass=function(v){return r.hasOwnProperty(v)?r[v].plugin:null},o.remove=function(v){y.hasOwnProperty(v)&&delete y[v]},o.removeCustom=function(v){r.hasOwnProperty(v)&&delete r[v]},o.destroyCorePlugins=function(){for(var v in y)y.hasOwnProperty(v)&&delete y[v]},o.destroyCustomPlugins=function(){for(var v in r)r.hasOwnProperty(v)&&delete r[v]},s.exports=o}),77332:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(8443),c=r(50792),u=r(74099),l=r(44603),a=r(39429),d=r(95540),p=r(37277),h=r(72905),g=r(8054),m=new o({Extends:c,initialize:function(w){c.call(this),this.game=w,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],w.isBooted||w.config.renderType===g.HEADLESS?this.boot():w.events.once(v.BOOT,this.boot,this)},boot:function(){var x,w,C,E,T,S,A,P=this.game.config,R=P.installGlobalPlugins;for(R=R.concat(this._pendingGlobal),x=0;x<R.length;x++)w=R[x],C=d(w,"key",null),E=d(w,"plugin",null),T=d(w,"start",!1),S=d(w,"mapping",null),A=d(w,"data",null),C&&(E?this.install(C,E,T,S,A):console.warn("Missing `plugin` for key: "+C));for(R=P.installScenePlugins,R=R.concat(this._pendingScene),x=0;x<R.length;x++)w=R[x],C=d(w,"key",null),E=d(w,"plugin",null),S=d(w,"mapping",null),C&&(E?this.installScenePlugin(C,E,S):console.warn("Missing `plugin` for key: "+C));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(v.DESTROY,this.destroy,this)},addToScene:function(x,w,C){var E,T,S,A=this.game,P=x.scene,R=x.settings.map,L=x.settings.isBooted;for(E=0;E<w.length;E++)T=w[E],A[T]?(x[T]=A[T],R.hasOwnProperty(T)&&(P[R[T]]=x[T])):T==="game"&&R.hasOwnProperty(T)&&(P[R[T]]=A);for(var D=0;D<C.length;D++)for(S=C[D],E=0;E<S.length;E++)if(T=S[E],!!p.hasCore(T)){var F=p.getCore(T),$=F.mapping,N=new F.plugin(P,this,$);x[$]=N,F.custom?P[$]=N:R.hasOwnProperty($)&&(P[R[$]]=N),L&&N.boot()}for(S=this.plugins,E=0;E<S.length;E++){var k=S[E];k.mapping&&(P[k.mapping]=k.plugin)}},getDefaultScenePlugins:function(){var x=this.game.config.defaultPlugins;return x=x.concat(this.scenePlugins),x},installScenePlugin:function(x,w,C,E,T){if(T===void 0&&(T=!1),typeof w!="function"){console.warn("Invalid Scene Plugin: "+x);return}if(p.hasCore(x)||p.register(x,w,C,!0),this.scenePlugins.indexOf(x)===-1)this.scenePlugins.push(x);else if(!T&&p.hasCore(x)){console.warn("Scene Plugin key in use: "+x);return}if(E){var S=new w(E,this,x);E.sys[x]=S,C&&C!==""&&(E[C]=S),S.boot()}},install:function(x,w,C,E,T){if(C===void 0&&(C=!1),E===void 0&&(E=null),T===void 0&&(T=null),typeof w!="function")return console.warn("Invalid Plugin: "+x),null;if(p.hasCustom(x))return console.warn("Plugin key in use: "+x),null;if(E!==null&&(C=!0),!this.game.isBooted)this._pendingGlobal.push({key:x,plugin:w,start:C,mapping:E,data:T});else if(p.registerCustom(x,w,E,T),C)return this.start(x);return null},getIndex:function(x){for(var w=this.plugins,C=0;C<w.length;C++){var E=w[C];if(E.key===x)return C}return-1},getEntry:function(x){var w=this.getIndex(x);if(w!==-1)return this.plugins[w]},isActive:function(x){var w=this.getEntry(x);return w&&w.active},start:function(x,w){w===void 0&&(w=x);var C=this.getEntry(w);return C&&!C.active?(C.active=!0,C.plugin.start()):C||(C=this.createEntry(x,w)),C?C.plugin:null},createEntry:function(x,w){var C=p.getCustom(x);if(C){var E=new C.plugin(this);C={key:w,plugin:E,active:!0,mapping:C.mapping,data:C.data},this.plugins.push(C),E.init(C.data),E.start()}return C},stop:function(x){var w=this.getEntry(x);return w&&w.active&&(w.active=!1,w.plugin.stop()),this},get:function(x,w){w===void 0&&(w=!0);var C=this.getEntry(x);if(C)return C.plugin;var E=this.getClass(x);return E&&w?(C=this.createEntry(x,x),C?C.plugin:null):E||null},getClass:function(x){return p.getCustomClass(x)},removeGlobalPlugin:function(x){var w=this.getEntry(x);w&&h(this.plugins,w),p.removeCustom(x)},removeScenePlugin:function(x){h(this.scenePlugins,x),p.remove(x)},registerGameObject:function(x,w,C){return w&&a.register(x,w),C&&l.register(x,C),this},removeGameObject:function(x,w,C){return w===void 0&&(w=!0),C===void 0&&(C=!0),w&&a.remove(x),C&&l.remove(x),this},registerFileType:function(x,w,C){u.register(x,w),C&&C.sys.load&&(C.sys.load[x]=w)},destroy:function(){for(var x=0;x<this.plugins.length;x++)this.plugins[x].plugin.destroy();p.destroyCustomPlugins(),this.game.noReturn&&p.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});s.exports=m}),45145:((s,y,r)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var o=r(52018),v=r(83419),c=r(44594),u=new v({Extends:o,initialize:function(a,d,p){o.call(this,d),this.scene=a,this.systems=a.sys,this.pluginKey=p,a.sys.events.once(c.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});s.exports=u}),18922:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={BasePlugin:r(52018),DefaultPlugins:r(42363),PluginCache:r(37277),PluginManager:r(77332),ScenePlugin:r(45145)}}),63595:(()=>{typeof HTMLVideoElement<"u"&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(s){const y=performance.now(),r=this.getVideoPlaybackQuality(),o=this.mozPresentedFrames||this.mozPaintedFrames||r.totalVideoFrames-r.droppedVideoFrames,v=(c,u)=>{const l=this.getVideoPlaybackQuality(),a=this.mozPresentedFrames||this.mozPaintedFrames||l.totalVideoFrames-l.droppedVideoFrames;if(a>o){const d=this.mozFrameDelay||l.totalFrameDelay-r.totalFrameDelay||0,p=u-c;s(u,{presentationTime:u+d*1e3,expectedDisplayTime:u+p,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+p/1e3,presentedFrames:a,processingDuration:d}),delete this._rvfcpolyfillmap[y]}else this._rvfcpolyfillmap[y]=requestAnimationFrame(d=>v(u,d))};return this._rvfcpolyfillmap[y]=requestAnimationFrame(c=>v(y,c)),y},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(s){cancelAnimationFrame(this._rvfcpolyfillmap[s]),delete this._rvfcpolyfillmap[s]})}),10312:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}}),29795:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={DEFAULT:0,LINEAR:0,NEAREST:1};s.exports=y}),68627:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(19715),v=r(32880),c=r(83419),u=r(8054),l=r(50792),a=r(92503),d=r(56373),p=r(97480),h=r(69442),g=r(8443),m=r(61340),x=new c({Extends:l,initialize:function(C){l.call(this);var E=C.config;this.config={clearBeforeRender:E.clearBeforeRender,backgroundColor:E.backgroundColor,antialias:E.antialias,roundPixels:E.roundPixels,transparent:E.transparent},this.game=C,this.type=u.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=C.canvas;var T={alpha:E.transparent,desynchronized:E.desynchronized,willReadFrequently:!1};this.gameContext=E.context?E.context:this.gameCanvas.getContext("2d",T),this.currentContext=this.gameContext,this.antialias=E.antialias,this.blendModes=d(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new m,this._tempMatrix2=new m,this._tempMatrix3=new m,this.isBooted=!1,this.init()},init:function(){var w=this.game;w.events.once(g.BOOT,function(){var C=this.config;if(!C.transparent){var E=this.gameContext,T=this.gameCanvas;E.fillStyle=C.backgroundColor.rgba,E.fillRect(0,0,T.width,T.height)}},this),w.textures.once(h.READY,this.boot,this)},boot:function(){var w=this.game,C=w.scale.baseSize;this.width=C.width,this.height=C.height,this.isBooted=!0,w.scale.on(p.RESIZE,this.onResize,this),this.resize(C.width,C.height)},onResize:function(w,C){(C.width!==this.width||C.height!==this.height)&&this.resize(C.width,C.height)},resize:function(w,C){this.width=w,this.height=C,this.emit(a.RESIZE,w,C)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(w){return this.currentContext.globalCompositeOperation=w,this},setContext:function(w){return this.currentContext=w||this.gameContext,this},setAlpha:function(w){return this.currentContext.globalAlpha=w,this},preRender:function(){var w=this.gameContext,C=this.config,E=this.width,T=this.height;w.globalAlpha=1,w.globalCompositeOperation="source-over",w.setTransform(1,0,0,1,0,0),this.emit(a.PRE_RENDER_CLEAR),C.clearBeforeRender&&(w.clearRect(0,0,E,T),C.transparent||(w.fillStyle=C.backgroundColor.rgba,w.fillRect(0,0,E,T))),w.save(),this.drawCount=0,this.emit(a.PRE_RENDER)},render:function(w,C,E){var T=C.length;this.emit(a.RENDER,w,E);var S=E.x,A=E.y,P=E.width,R=E.height,L=E.renderToTexture?E.context:w.sys.context;L.save(),this.game.scene.customViewports&&(L.beginPath(),L.rect(S,A,P,R),L.clip()),E.emit(o.PRE_RENDER,E),this.currentContext=L;var D=E.mask;D&&D.preRenderCanvas(this,null,E._maskCamera),E.transparent||(L.fillStyle=E.backgroundColor.rgba,L.fillRect(S,A,P,R)),L.globalAlpha=E.alpha,L.globalCompositeOperation="source-over",this.drawCount+=T,E.renderToTexture&&E.emit(o.PRE_RENDER,E),E.matrix.copyToContext(L);for(var F=0;F<T;F++){var $=C[F];$.mask&&$.mask.preRenderCanvas(this,$,E),$.renderCanvas(this,$,E),$.mask&&$.mask.postRenderCanvas(this,$,E)}L.setTransform(1,0,0,1,0,0),L.globalCompositeOperation="source-over",L.globalAlpha=1,E.flashEffect.postRenderCanvas(L),E.fadeEffect.postRenderCanvas(L),E.dirty=!1,D&&D.postRenderCanvas(this),L.restore(),E.renderToTexture&&(E.emit(o.POST_RENDER,E),E.renderToGame&&w.sys.context.drawImage(E.canvas,S,A)),E.emit(o.POST_RENDER,E)},postRender:function(){var w=this.gameContext;w.restore(),this.emit(a.POST_RENDER);var C=this.snapshotState;C.callback&&(v(this.gameCanvas,C),C.callback=null)},snapshotCanvas:function(w,C,E,T,S,A,P,R,L){E===void 0&&(E=!1),this.snapshotArea(T,S,A,P,C,R,L);var D=this.snapshotState;return D.getPixel=E,v(w,D),D.callback=null,this},snapshot:function(w,C,E){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,w,C,E)},snapshotArea:function(w,C,E,T,S,A,P){var R=this.snapshotState;return R.callback=S,R.type=A,R.encoder=P,R.getPixel=!1,R.x=w,R.y=C,R.width=Math.min(E,this.gameCanvas.width),R.height=Math.min(T,this.gameCanvas.height),this},snapshotPixel:function(w,C,E){return this.snapshotArea(w,C,1,1,E),this.snapshotState.getPixel=!0,this},batchSprite:function(w,C,E,T){var S=E.alpha*w.alpha;if(S!==0){var A=this.currentContext,P=this._tempMatrix1,R=this._tempMatrix2,L=C.canvasData,D=L.x,F=L.y,$=C.cutWidth,N=C.cutHeight,k=C.customPivot,j=C.source.resolution,W=w.displayOriginX,G=w.displayOriginY,K=-W+C.x,z=-G+C.y;if(w.isCropped){var X=w._crop;(X.flipX!==w.flipX||X.flipY!==w.flipY)&&C.updateCropUVs(X,w.flipX,w.flipY),$=X.cw,N=X.ch,D=X.cx,F=X.cy,K=-W+X.x,z=-G+X.y,w.flipX&&(K>=0?K=-(K+$):K<0&&(K=Math.abs(K)-$)),w.flipY&&(z>=0?z=-(z+N):z<0&&(z=Math.abs(z)-N))}var U=1,Z=1;w.flipX&&(k||(K+=-C.realWidth+W*2),U=-1),w.flipY&&(k||(z+=-C.realHeight+G*2),Z=-1);var V=w.x,J=w.y;if(E.roundPixels&&(V=Math.floor(V),J=Math.floor(J)),R.applyITRS(V,J,w.rotation,w.scaleX*U,w.scaleY*Z),P.copyFrom(E.matrix),T?(P.multiplyWithOffset(T,-E.scrollX*w.scrollFactorX,-E.scrollY*w.scrollFactorY),R.e=V,R.f=J):(R.e-=E.scrollX*w.scrollFactorX,R.f-=E.scrollY*w.scrollFactorY),P.multiply(R),E.renderRoundPixels&&(P.e=Math.floor(P.e+.5),P.f=Math.floor(P.f+.5)),A.save(),P.setToContext(A),A.globalCompositeOperation=this.blendModes[w.blendMode],A.globalAlpha=S,A.imageSmoothingEnabled=!C.source.scaleMode,w.mask&&w.mask.preRenderCanvas(this,w,E),$>0&&N>0){var _=$/j,ee=N/j;E.roundPixels&&(K=Math.floor(K+.5),z=Math.floor(z+.5),_+=.5,ee+=.5),A.drawImage(C.source.image,D,F,$,N,K,z,_,ee)}w.mask&&w.mask.postRenderCanvas(this,w,E),A.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});s.exports=x}),55830:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={CanvasRenderer:r(68627),GetBlendModes:r(56373),SetTransform:r(20926)}}),56373:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10312),v=r(89289),c=function(){var u=[],l=v.supportNewBlendModes,a="source-over";return u[o.NORMAL]=a,u[o.ADD]="lighter",u[o.MULTIPLY]=l?"multiply":a,u[o.SCREEN]=l?"screen":a,u[o.OVERLAY]=l?"overlay":a,u[o.DARKEN]=l?"darken":a,u[o.LIGHTEN]=l?"lighten":a,u[o.COLOR_DODGE]=l?"color-dodge":a,u[o.COLOR_BURN]=l?"color-burn":a,u[o.HARD_LIGHT]=l?"hard-light":a,u[o.SOFT_LIGHT]=l?"soft-light":a,u[o.DIFFERENCE]=l?"difference":a,u[o.EXCLUSION]=l?"exclusion":a,u[o.HUE]=l?"hue":a,u[o.SATURATION]=l?"saturation":a,u[o.COLOR]=l?"color":a,u[o.LUMINOSITY]=l?"luminosity":a,u[o.ERASE]="destination-out",u[o.SOURCE_IN]="source-in",u[o.SOURCE_OUT]="source-out",u[o.SOURCE_ATOP]="source-atop",u[o.DESTINATION_OVER]="destination-over",u[o.DESTINATION_IN]="destination-in",u[o.DESTINATION_OUT]="destination-out",u[o.DESTINATION_ATOP]="destination-atop",u[o.LIGHTER]="lighter",u[o.COPY]="copy",u[o.XOR]="xor",u};s.exports=c}),20926:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),v=function(c,u,l,a,d){var p=a.alpha*l.alpha;if(p<=0)return!1;var h=o(l,a,d).calc;return u.globalCompositeOperation=c.blendModes[l.blendMode],u.globalAlpha=p,u.save(),h.setToContext(u),u.imageSmoothingEnabled=l.frame?!l.frame.source.scaleMode:c.antialias,!0};s.exports=v}),63899:(s=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="losewebgl"}),6119:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="postrender"}),48070:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="prerender"}),15640:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="render"}),8912:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="resize"}),87124:(s=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="restorewebgl"}),92503:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={LOSE_WEBGL:r(63899),POST_RENDER:r(6119),PRE_RENDER:r(48070),RENDER:r(15640),RESIZE:r(8912),RESTORE_WEBGL:r(87124)}}),36909:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Events:r(92503),Snapshot:r(89966)},s.exports.Canvas=r(55830),s.exports.WebGL=r(4159)}),32880:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(27919),v=r(40987),c=r(95540),u=function(l,a){var d=c(a,"callback"),p=c(a,"type","image/png"),h=c(a,"encoder",.92),g=Math.abs(Math.round(c(a,"x",0))),m=Math.abs(Math.round(c(a,"y",0))),x=Math.floor(c(a,"width",l.width)),w=Math.floor(c(a,"height",l.height)),C=c(a,"getPixel",!1);if(C){var E=l.getContext("2d",{willReadFrequently:!1}),T=E.getImageData(g,m,1,1),S=T.data;d.call(null,new v(S[0],S[1],S[2],S[3]))}else if(g!==0||m!==0||x!==l.width||w!==l.height){var A=o.createWebGL(this,x,w),P=A.getContext("2d",{willReadFrequently:!0});x>0&&w>0&&P.drawImage(l,g,m,x,w,0,0,x,w);var R=new Image;R.onerror=function(){d.call(null),o.remove(A)},R.onload=function(){d.call(null,R),o.remove(A)},R.src=A.toDataURL(p,h)}else{var L=new Image;L.onerror=function(){d.call(null)},L.onload=function(){d.call(null,L)},L.src=l.toDataURL(p,h)}};s.exports=u}),88815:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(27919),v=r(40987),c=r(95540),u=function(l,a){var d=l,p=c(a,"callback"),h=c(a,"type","image/png"),g=c(a,"encoder",.92),m=Math.abs(Math.round(c(a,"x",0))),x=Math.abs(Math.round(c(a,"y",0))),w=c(a,"getPixel",!1),C=c(a,"isFramebuffer",!1),E=C?c(a,"bufferWidth",1):d.drawingBufferWidth,T=C?c(a,"bufferHeight",1):d.drawingBufferHeight;if(w){var S=new Uint8Array(4),A=C?x:T-x;d.readPixels(m,A,1,1,d.RGBA,d.UNSIGNED_BYTE,S),p.call(null,new v(S[0],S[1],S[2],S[3]))}else{var P=Math.floor(c(a,"width",E)),R=Math.floor(c(a,"height",T)),L=P*R*4,D=new Uint8Array(L);d.readPixels(m,T-x-R,P,R,d.RGBA,d.UNSIGNED_BYTE,D);for(var F=o.createWebGL(this,P,R),$=F.getContext("2d",{willReadFrequently:!0}),N=$.getImageData(0,0,P,R),k=N.data,j=0;j<R;j++)for(var W=0;W<P;W++){var G=((R-j-1)*P+W)*4,K=C?L-(j*P+(P-W))*4:(j*P+W)*4;k[K+0]=D[G+0],k[K+1]=D[G+1],k[K+2]=D[G+2],k[K+3]=D[G+3]}$.putImageData(N,0,0);var z=new Image;z.onerror=function(){p.call(null),o.remove(F)},z.onload=function(){p.call(null,z),o.remove(F)},z.src=F.toDataURL(h,g)}};s.exports=u}),89966:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Canvas:r(32880),WebGL:r(88815)}}),7530:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(36060),c=r(90330),u=r(82264),l=r(95540),a=r(32302),d=r(63448),p=r(31302),h=r(58918),g=r(14811),m=r(92651),x=r(96569),w=r(56527),C=r(57516),E=r(43439),T=r(81041),S=r(12385),A=r(7589),P=r(95428),R=r(72905),L=new o({initialize:function(F){this.game=F.game,this.renderer=F,this.classes=new c([[v.UTILITY_PIPELINE,A],[v.MULTI_PIPELINE,C],[v.BITMAPMASK_PIPELINE,p],[v.SINGLE_PIPELINE,S],[v.ROPE_PIPELINE,T],[v.LIGHT_PIPELINE,x],[v.POINTLIGHT_PIPELINE,E],[v.MOBILE_PIPELINE,w]]),this.postPipelineClasses=new c,this.pipelines=new c,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(D,F,$){var N=this.renderer,k=this.renderTargets;this.frameInc=Math.floor(l(D,"frameInc",32));var j=N.width,W=N.height,G=this.game.config.disablePreFX,K=this.game.config.disablePostFX;if(K||this.postPipelineClasses.setAll([[String(g.BARREL),h.Barrel],[String(g.BLOOM),h.Bloom],[String(g.BLUR),h.Blur],[String(g.BOKEH),h.Bokeh],[String(g.CIRCLE),h.Circle],[String(g.COLOR_MATRIX),h.ColorMatrix],[String(g.DISPLACEMENT),h.Displacement],[String(g.GLOW),h.Glow],[String(g.GRADIENT),h.Gradient],[String(g.PIXELATE),h.Pixelate],[String(g.SHADOW),h.Shadow],[String(g.SHINE),h.Shine],[String(g.VIGNETTE),h.Vignette],[String(g.WIPE),h.Wipe]]),!G){this.classes.set(v.FX_PIPELINE,m);for(var z=Math.min(j,W),X=Math.ceil(z/this.frameInc),U=1;U<X;U++){var Z=U*this.frameInc;k.push(new a(N,Z,Z)),k.push(new a(N,Z,Z)),k.push(new a(N,Z,Z)),this.maxDimension=Z}k.push(new a(N,j,W,1,0,!0,!0)),k.push(new a(N,j,W,1,0,!0,!0)),k.push(new a(N,j,W,1,0,!0,!0))}var V,J,_=this,ee=this.game;if(this.classes.each(function(ie,le){V=_.add(ie,new le({game:ee})),ie===v.UTILITY_PIPELINE&&(_.UTILITY_PIPELINE=V,_.fullFrame1=V.fullFrame1,_.fullFrame2=V.fullFrame2,_.halfFrame1=V.halfFrame1,_.halfFrame2=V.halfFrame2)}),this.MULTI_PIPELINE=this.get(v.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(v.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(v.MOBILE_PIPELINE),G||(this.FX_PIPELINE=this.get(v.FX_PIPELINE)),D)for(J in D){var te=D[J];V=new te(ee),V.name=J,V.isPostFX?this.postPipelineClasses.set(J,te):this.has(J)||(this.classes.set(J,te),this.add(J,V))}this.default=this.get(F),$&&!u.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(D){var F=this.get(D);return F&&(this.default=F),F},add:function(D,F){if(F.isPostFX){console.warn(D+" is a Post Pipeline. Use `addPostPipeline` instead");return}var $=this.pipelines,N=this.renderer;return $.has(D)?console.warn("Pipeline exists: "+D):(F.name=D,F.manager=this,$.set(D,F)),F.hasBooted||F.boot(),N.width!==0&&N.height!==0&&!F.isPreFX&&F.resize(N.width,N.height),F},addPostPipeline:function(D,F){this.postPipelineClasses.has(D)||this.postPipelineClasses.set(D,F)},flush:function(){this.current&&this.current.flush()},has:function(D){var F=this.pipelines;return typeof D=="string"?F.has(D):!!F.contains(D)},get:function(D){var F=this.pipelines;if(typeof D=="string")return F.get(D);if(F.contains(D))return D},getPostPipeline:function(D,F,$){var N=this.postPipelineClasses,k,j="",W=typeof D;if(W==="string"||W==="number"?(k=N.get(D),j=D):W==="function"?(N.contains(D)&&(k=D),j=D.name):W==="object"&&(k=N.get(D.name),j=D.name),k){var G=new k(this.game,$);return G.name=j,F&&(G.gameObject=F),this.postPipelineInstances.push(G),G}},removePostPipeline:function(D){R(this.postPipelineInstances,D)},remove:function(D,F,$){F===void 0&&(F=!0),$===void 0&&($=!0),this.pipelines.delete(D),F&&this.classes.delete(D),$&&this.postPipelineClasses.delete(D)},set:function(D,F,$){if(!D.isPostFX)return this.isCurrent(D,$)||(this.flush(),this.current&&this.current.unbind(),this.current=D,D.bind($)),D.updateProjectionMatrix(),D.onBind(F),D},preBatch:function(D){if(D.hasPostPipeline){this.flush();for(var F=D.postPipelines,$=F.length-1;$>=0;$--){var N=F[$];N.active&&N.preBatch(D)}}},postBatch:function(D){if(D.hasPostPipeline){this.flush();for(var F=D.postPipelines,$=0;$<F.length;$++){var N=F[$];N.active&&N.postBatch(D)}}},preBatchCamera:function(D){if(D.hasPostPipeline){this.flush();for(var F=D.postPipelines,$=F.length-1;$>=0;$--){var N=F[$];N.active&&N.preBatch(D)}}},postBatchCamera:function(D){if(D.hasPostPipeline){this.flush();for(var F=D.postPipelines,$=0;$<F.length;$++){var N=F[$];N.active&&N.postBatch(D)}}},isCurrent:function(D,F){var $=this.renderer,N=this.current;return N&&!F&&(F=N.currentShader),!(N!==D||F.program!==$.currentProgram)},copyFrame:function(D,F,$,N,k){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(D,F,$,N,k),this},copyToGame:function(D){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(D),this},drawFrame:function(D,F,$,N){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(D,F,$,N),this},blendFrames:function(D,F,$,N,k){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(D,F,$,N,k),this},blendFramesAdditive:function(D,F,$,N,k){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(D,F,$,N,k),this},clearFrame:function(D,F){return this.UTILITY_PIPELINE.clearFrame(D,F),this},blitFrame:function(D,F,$,N,k,j){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(D,F,$,N,k,j),this},copyFrameRect:function(D,F,$,N,k,j,W,G){return this.UTILITY_PIPELINE.copyFrameRect(D,F,$,N,k,j,W,G),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(D){return this.UTILITY_PIPELINE.bind(D)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(D,F){F.restoreContext()}),P(this.postPipelineInstances,function(D){D.restoreContext()})},rebind:function(D){D===void 0&&this.previous&&(D=this.previous);var F=this.renderer,$=F.gl;$.disable($.DEPTH_TEST),$.disable($.CULL_FACE),F.hasActiveStencilMask()?$.clear($.DEPTH_BUFFER_BIT):($.disable($.STENCIL_TEST),$.clear($.DEPTH_BUFFER_BIT|$.STENCIL_BUFFER_BIT)),$.viewport(0,0,F.width,F.height),F.currentProgram=null,F.setBlendMode(0,!0);var N=F.vaoExtension;N&&N.bindVertexArrayOES(null);var k=this.pipelines.entries;for(var j in k)k[j].glReset=!0;D&&(this.current=D,D.rebind())},clear:function(){var D=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,D.currentProgram=null,D.setBlendMode(0,!0);var F=D.vaoExtension;F&&F.bindVertexArrayOES(null)},getRenderTarget:function(D){var F=this.renderTargets,$=3;if(D>this.maxDimension)return this.targetIndex=F.length-$,F[this.targetIndex];var N=(d(D,this.frameInc,0,!0)-1)*$;return this.targetIndex=N,F[N]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});s.exports=L}),32302:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(92503),c=new o({initialize:function(l,a,d,p,h,g,m,x,w){p===void 0&&(p=1),h===void 0&&(h=0),g===void 0&&(g=!0),m===void 0&&(m=!1),x===void 0&&(x=!0),w===void 0&&(w=!0),this.renderer=l,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=p,this.minFilter=h,this.autoClear=g,this.autoResize=!0,this.hasDepthBuffer=x,this.forceClamp=w,this.init(a,d),m?this.renderer.on(v.RESIZE,this.resize,this):this.autoResize=!1},init:function(u,l){var a=this.renderer;this.texture=a.createTextureFromSource(null,u,l,this.minFilter,this.forceClamp),this.framebuffer=a.createFramebuffer(u,l,this.texture,this.hasDepthBuffer),this.width=u,this.height=l},setAutoResize:function(u){return u&&!this.autoResize?(this.renderer.on(v.RESIZE,this.resize,this),this.autoResize=!0):!u&&this.autoResize&&(this.renderer.off(v.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(u,l){if(this.autoResize&&this.willResize(u,l)){var a=this.renderer;a.deleteFramebuffer(this.framebuffer),a.deleteTexture(this.texture),this.texture=a.createTextureFromSource(null,u,l,this.minFilter,this.forceClamp),this.framebuffer=a.createFramebuffer(u,l,this.texture,this.hasDepthBuffer),this.width=u,this.height=l}return this},willResize:function(u,l){return typeof u!="number"||typeof l!="number"?!1:(u=Math.round(u*this.scale),l=Math.round(l*this.scale),u=Math.max(u,1),l=Math.max(l,1),u!==this.width||l!==this.height)},bind:function(u,l,a){u===void 0&&(u=!1);var d=this.renderer;if(u&&d.flush(),l&&a&&this.resize(l,a),d.pushFramebuffer(this.framebuffer,!1,!1),u&&this.adjustViewport(),this.autoClear){var p=this.renderer.gl;p.clearColor(0,0,0,0),p.clear(p.COLOR_BUFFER_BIT)}d.clearStencilMask()},adjustViewport:function(){var u=this.renderer.gl;u.viewport(0,0,this.width,this.height),u.disable(u.SCISSOR_TEST)},clear:function(u,l,a,d){var p=this.renderer,h=p.gl;p.pushFramebuffer(this.framebuffer),u!==void 0&&l!==void 0&&a!==void 0&&d!==void 0?(h.enable(h.SCISSOR_TEST),h.scissor(u,l,a,d)):h.disable(h.SCISSOR_TEST),h.clearColor(0,0,0,0),h.clear(h.COLOR_BUFFER_BIT),p.popFramebuffer(),p.resetScissor()},unbind:function(u){u===void 0&&(u=!1);var l=this.renderer;return u&&l.flush(),l.popFramebuffer()},destroy:function(){var u=this.renderer;u.off(v.RESIZE,this.resize,this),u.deleteFramebuffer(this.framebuffer),u.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});s.exports=c}),70554:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={getTintFromFloats:function(y,r,o,v){var c=(y*255|0)&255,u=(r*255|0)&255,l=(o*255|0)&255,a=(v*255|0)&255;return(a<<24|c<<16|u<<8|l)>>>0},getTintAppendFloatAlpha:function(y,r){var o=(r*255|0)&255;return(o<<24|y)>>>0},getTintAppendFloatAlphaAndSwap:function(y,r){var o=(y>>16|0)&255,v=(y>>8|0)&255,c=(y|0)&255,u=(r*255|0)&255;return(u<<24|c<<16|v<<8|o)>>>0},getFloatsFromUintRGB:function(y){var r=(y>>16|0)&255,o=(y>>8|0)&255,v=(y|0)&255;return[r/255,o/255,v/255]},checkShaderMax:function(y,r){var o=Math.min(16,y.getParameter(y.MAX_TEXTURE_IMAGE_UNITS));return!r||r===-1?o:Math.min(o,r)},parseFragmentShaderMaxTextures:function(y,r){if(!y)return"";for(var o="",v=0;v<r;v++)v>0&&(o+=`
	else `),v<r-1&&(o+="if (outTexId < "+v+".5)"),o+=`
	{`,o+=`
		texture = texture2D(uMainSampler[`+v+"], outTexCoord);",o+=`
	}`;return y=y.replace(/%count%/gi,r.toString()),y.replace(/%forloop%/gi,o)},setGlowQuality:function(y,r,o,v){return o===void 0&&(o=r.config.glowFXQuality),v===void 0&&(v=r.config.glowFXDistance),y=y.replace(/__SIZE__/gi,(1/o/v).toFixed(7)),y=y.replace(/__DIST__/gi,v.toFixed(0)+".0"),y}}}),29100:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(62644),c=r(50792),u=r(77085),l=r(95540),a=r(37867),d=r(92503),p=r(32302),h=r(70554),g=r(38683),m=new o({Extends:c,initialize:function(w){c.call(this);var C=w.game,E=C.renderer,T=E.gl;this.name=l(w,"name","WebGLPipeline"),this.game=C,this.renderer=E,this.manager,this.gl=T,this.view=C.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=l(w,"topology",T.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=l(w,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=w,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=l(w,"resizeUniform","")},boot:function(){var x,w=this.gl,C=this.config,E=this.renderer;this.isPostFX||(this.projectionMatrix=new a().identity());var T=this.renderTargets,S=l(C,"renderTarget",!1);typeof S=="boolean"&&S&&(S=1);var A=E.width,P=E.height;if(typeof S=="number")for(x=0;x<S;x++)T.push(new p(E,A,P,1,0,!0));else if(Array.isArray(S))for(x=0;x<S.length;x++){var R=l(S[x],"scale",1),L=l(S[x],"minFilter",0),D=l(S[x],"autoClear",1),F=l(S[x],"autoResize",!1),$=l(S[x],"width",null),N=l(S[x],"height",$);$?T.push(new p(E,$,N,1,L,D,F)):T.push(new p(E,A,P,R,L,D,F))}T.length&&(this.currentRenderTarget=T[0]),this.setShadersFromConfig(C);var k=this.shaders,j=0;for(x=0;x<k.length;x++)k[x].vertexSize>j&&(j=k[x].vertexSize);var W=l(C,"batchSize",E.config.batchSize);this.vertexCapacity=W*6;var G=new ArrayBuffer(this.vertexCapacity*j);this.vertexData=G,this.bytes=new Uint8Array(G),this.vertexViewF32=new Float32Array(G),this.vertexViewU32=new Uint32Array(G);var K=l(C,"vertices",null);for(K?(this.vertexViewF32.set(K),this.vertexBuffer=E.createVertexBuffer(G,w.STATIC_DRAW)):this.vertexBuffer=E.createVertexBuffer(G.byteLength,w.DYNAMIC_DRAW),this.setVertexBuffer(),x=k.length-1;x>=0;x--)k[x].rebind();this.hasBooted=!0,E.on(d.RESIZE,this.resize,this),E.on(d.PRE_RENDER,this.onPreRender,this),E.on(d.RENDER,this.onRender,this),E.on(d.POST_RENDER,this.onPostRender,this),this.emit(u.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(x,w,C){var E=this.renderer;if(x!==this.currentShader||E.currentProgram!==this.currentShader.program){this.flush();var T=this.setVertexBuffer(C);T&&!w&&(w=!0),x.bind(w,!1),this.currentShader=x}return this},getShaderByName:function(x){for(var w=this.shaders,C=0;C<w.length;C++)if(w[C].name===x)return w[C]},setShadersFromConfig:function(x){var w,C=this.shaders,E=this.renderer;for(w=0;w<C.length;w++)C[w].destroy();var T="vertShader",S="fragShader",A="attributes",P=l(x,T,null),R=h.parseFragmentShaderMaxTextures(l(x,S,null),E.maxTextures),L=l(x,A,null),D=l(x,"shaders",[]),F=D.length;if(F===0)P&&R&&(this.shaders=[new g(this,"default",P,R,v(L))]);else{var $=[];for(w=0;w<F;w++){var N=D[w],k,j,W,G;if(typeof N=="string"?(k="default",j=P,W=h.parseFragmentShaderMaxTextures(N,E.maxTextures),G=L):(k=l(N,"name","default"),j=l(N,T,P),W=h.parseFragmentShaderMaxTextures(l(N,S,R),E.maxTextures),G=l(N,A,L)),k==="default"){var K=W.split(`
`),z=K[0].trim();z.indexOf("#define SHADER_NAME")>-1&&(k=z.substring(20))}j&&W&&$.push(new g(this,k,j,W,v(G)))}this.shaders=$}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(x){return this.currentBatch={start:this.vertexCount,count:0,texture:[x],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=x,this.batch.push(this.currentBatch),0},addTextureToBatch:function(x){var w=this.currentBatch;w&&(w.texture.push(x),w.unit++,w.maxUnit++)},pushBatch:function(x){if(!this.currentBatch||this.forceZero&&x!==this.currentTexture)return this.createBatch(x);if(x===this.currentTexture)return this.currentUnit;var w=this.currentBatch,C=w.texture.indexOf(x);return C===-1?w.texture.length===this.renderer.maxTextures?this.createBatch(x):(w.unit++,w.maxUnit++,w.texture.push(x),this.currentUnit=w.unit,this.currentTexture=x,w.unit):(this.currentUnit=C,this.currentTexture=x,C)},setGameObject:function(x,w){return w===void 0&&(w=x.frame),this.pushBatch(w.source.glTexture)},shouldFlush:function(x){return x===void 0&&(x=0),this.vertexCount+x>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(x,w){(x!==this.width||w!==this.height)&&this.flush(),this.width=x,this.height=w;for(var C=this.renderTargets,E=0;E<C.length;E++)C[E].resize(x,w);return this.setProjectionMatrix(x,w),this.resizeUniform&&this.set2f(this.resizeUniform,x,w),this.emit(u.RESIZE,x,w,this),this.onResize(x,w),this},setProjectionMatrix:function(x,w){var C=this.projectionMatrix;if(!C)return this;this.projectionWidth=x,this.projectionHeight=w,C.ortho(0,x,w,0,-1e3,1e3);for(var E=this.shaders,T="uProjectionMatrix",S=0;S<E.length;S++){var A=E[S];A.hasUniform(T)&&(A.resetUniform(T),A.setMatrix4fv(T,!1,C.val,A))}return this},flipProjectionMatrix:function(x){x===void 0&&(x=!0);var w=this.projectionMatrix;if(!w)return this;var C=this.projectionWidth,E=this.projectionHeight;x?w.ortho(0,C,0,E,-1e3,1e3):w.ortho(0,C,E,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,w.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var x=this.renderer.projectionWidth,w=this.renderer.projectionHeight;(this.projectionWidth!==x||this.projectionHeight!==w)&&this.setProjectionMatrix(x,w)}},bind:function(x){if(x===void 0&&(x=this.currentShader),this.glReset)return this.rebind(x);var w=!1,C=this.gl;return C.getParameter(C.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(C.bindBuffer(C.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,w=!0),x.bind(w),this.currentShader=x,this.activeTextures.length=0,this.emit(u.BIND,this,x),this.onActive(x),this},rebind:function(x){this.activeBuffer=null,this.setVertexBuffer();for(var w=this.shaders,C=w.length-1;C>=0;C--){var E=w[C].rebind();(!x||E===x)&&(this.currentShader=E)}return this.activeTextures.length=0,this.emit(u.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var x=this.shaders,w=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,w&&this.setVertexBuffer();for(var C=0;C<x.length;C++){var E=x[C];E.syncUniforms(),w&&E.rebind()}},setVertexBuffer:function(x){if(x===void 0&&(x=this.vertexBuffer),x!==this.activeBuffer){var w=this.gl;return this.gl.bindBuffer(w.ARRAY_BUFFER,x.webGLBuffer),this.activeBuffer=x,!0}return!1},preBatch:function(x){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(x),this},postBatch:function(x){return this.onDraw(this.currentRenderTarget),this.onPostBatch(x),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(x){if(x===void 0&&(x=!1),this.vertexCount>0){this.emit(u.BEFORE_FLUSH,this,x),this.onBeforeFlush(x);var w=this.gl,C=this.vertexCount,E=this.currentShader.vertexSize,T=this.topology;if(this.active){this.setVertexBuffer(),C===this.vertexCapacity?w.bufferData(w.ARRAY_BUFFER,this.vertexData,w.DYNAMIC_DRAW):w.bufferSubData(w.ARRAY_BUFFER,0,this.bytes.subarray(0,C*E));var S,A,P,R=this.batch,L=this.activeTextures;if(this.forceZero)for(L[0]||w.activeTexture(w.TEXTURE0),S=0;S<R.length;S++)A=R[S],P=A.texture[0],L[0]!==P&&(w.bindTexture(w.TEXTURE_2D,P.webGLTexture),L[0]=P),w.drawArrays(T,A.start,A.count);else for(S=0;S<R.length;S++){A=R[S];for(var D=0;D<=A.maxUnit;D++)P=A.texture[D],L[D]!==P&&(w.activeTexture(w.TEXTURE0+D),w.bindTexture(w.TEXTURE_2D,P.webGLTexture),L[D]=P);w.drawArrays(T,A.start,A.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(u.AFTER_FLUSH,this,x),this.onAfterFlush(x)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(x,w,C,E,T,S,A){var P=this.vertexViewF32,R=this.vertexViewU32,L=this.vertexCount*this.currentShader.vertexComponentCount-1;P[++L]=x,P[++L]=w,P[++L]=C,P[++L]=E,P[++L]=T,P[++L]=S,R[++L]=A,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(x,w,C,E,T,S,A,P,R,L,D,F,$,N,k,j,W,G,K,z){z===void 0&&(z=this.currentUnit);var X=!1;this.shouldFlush(6)&&(this.flush(),X=!0),this.currentBatch||(z=this.setTexture2D(K));var U=this.vertexViewF32,Z=this.vertexViewU32,V=this.vertexCount*this.currentShader.vertexComponentCount-1;return U[++V]=w,U[++V]=C,U[++V]=L,U[++V]=D,U[++V]=z,U[++V]=G,Z[++V]=N,U[++V]=E,U[++V]=T,U[++V]=L,U[++V]=$,U[++V]=z,U[++V]=G,Z[++V]=j,U[++V]=S,U[++V]=A,U[++V]=F,U[++V]=$,U[++V]=z,U[++V]=G,Z[++V]=W,U[++V]=w,U[++V]=C,U[++V]=L,U[++V]=D,U[++V]=z,U[++V]=G,Z[++V]=N,U[++V]=S,U[++V]=A,U[++V]=F,U[++V]=$,U[++V]=z,U[++V]=G,Z[++V]=W,U[++V]=P,U[++V]=R,U[++V]=F,U[++V]=D,U[++V]=z,U[++V]=G,Z[++V]=k,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(x),X},batchTri:function(x,w,C,E,T,S,A,P,R,L,D,F,$,N,k,j,W){W===void 0&&(W=this.currentUnit);var G=!1;this.shouldFlush(3)&&(this.flush(),G=!0),this.currentBatch||(W=this.setTexture2D(j));var K=this.vertexViewF32,z=this.vertexViewU32,X=this.vertexCount*this.currentShader.vertexComponentCount-1;return K[++X]=w,K[++X]=C,K[++X]=P,K[++X]=R,K[++X]=W,K[++X]=k,z[++X]=F,K[++X]=E,K[++X]=T,K[++X]=P,K[++X]=D,K[++X]=W,K[++X]=k,z[++X]=$,K[++X]=S,K[++X]=A,K[++X]=L,K[++X]=D,K[++X]=W,K[++X]=k,z[++X]=N,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(x),G},drawFillRect:function(x,w,C,E,T,S,A,P){A===void 0&&(A=this.renderer.whiteTexture),P===void 0&&(P=!0),x=Math.floor(x),w=Math.floor(w);var R=Math.floor(x+C),L=Math.floor(w+E),D=this.setTexture2D(A),F=h.getTintAppendFloatAlphaAndSwap(T,S),$=0,N=0,k=1,j=1;P&&(N=1,j=0),this.batchQuad(null,x,w,x,L,R,L,R,w,$,N,k,j,F,F,F,F,0,A,D)},setTexture2D:function(x){return x===void 0&&(x=this.renderer.whiteTexture),this.pushBatch(x)},bindTexture:function(x,w){w===void 0&&(w=0);var C=this.gl;return C.activeTexture(C.TEXTURE0+w),C.bindTexture(C.TEXTURE_2D,x.webGLTexture),this},bindRenderTarget:function(x,w){return this.bindTexture(x.texture,w)},setTime:function(x,w){return this.set1f(x,this.game.loop.getDuration(),w),this},setBoolean:function(x,w,C){return C===void 0&&(C=this.currentShader),C.setBoolean(x,w),this},set1f:function(x,w,C){return C===void 0&&(C=this.currentShader),C.set1f(x,w),this},set2f:function(x,w,C,E){return E===void 0&&(E=this.currentShader),E.set2f(x,w,C),this},set3f:function(x,w,C,E,T){return T===void 0&&(T=this.currentShader),T.set3f(x,w,C,E),this},set4f:function(x,w,C,E,T,S){return S===void 0&&(S=this.currentShader),S.set4f(x,w,C,E,T),this},set1fv:function(x,w,C){return C===void 0&&(C=this.currentShader),C.set1fv(x,w),this},set2fv:function(x,w,C){return C===void 0&&(C=this.currentShader),C.set2fv(x,w),this},set3fv:function(x,w,C){return C===void 0&&(C=this.currentShader),C.set3fv(x,w),this},set4fv:function(x,w,C){return C===void 0&&(C=this.currentShader),C.set4fv(x,w),this},set1iv:function(x,w,C){return C===void 0&&(C=this.currentShader),C.set1iv(x,w),this},set2iv:function(x,w,C){return C===void 0&&(C=this.currentShader),C.set2iv(x,w),this},set3iv:function(x,w,C){return C===void 0&&(C=this.currentShader),C.set3iv(x,w),this},set4iv:function(x,w,C){return C===void 0&&(C=this.currentShader),C.set4iv(x,w),this},set1i:function(x,w,C){return C===void 0&&(C=this.currentShader),C.set1i(x,w),this},set2i:function(x,w,C,E){return E===void 0&&(E=this.currentShader),E.set2i(x,w,C),this},set3i:function(x,w,C,E,T){return T===void 0&&(T=this.currentShader),T.set3i(x,w,C,E),this},set4i:function(x,w,C,E,T,S){return S===void 0&&(S=this.currentShader),S.set4i(x,w,C,E,T),this},setMatrix2fv:function(x,w,C,E){return E===void 0&&(E=this.currentShader),E.setMatrix2fv(x,w,C),this},setMatrix3fv:function(x,w,C,E){return E===void 0&&(E=this.currentShader),E.setMatrix3fv(x,w,C),this},setMatrix4fv:function(x,w,C,E){return E===void 0&&(E=this.currentShader),E.setMatrix4fv(x,w,C),this},destroy:function(){this.emit(u.DESTROY,this);var x,w=this.shaders;for(x=0;x<w.length;x++)w[x].destroy();var C=this.renderTargets;for(x=0;x<C.length;x++)C[x].destroy();var E=this.renderer;return E.deleteBuffer(this.vertexBuffer),E.off(d.RESIZE,this.resize,this),E.off(d.PRE_RENDER,this.onPreRender,this),E.off(d.RENDER,this.onRender,this),E.off(d.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});s.exports=m}),74797:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95428),v=r(72905),c=r(19715),u=r(83419),l=r(8054),a=r(50792),d=r(92503),p=r(50030),h=r(37867),g=r(29747),m=r(7530),x=r(32302),w=r(97480),C=r(69442),E=r(70554),T=r(88815),S=r(26128),A=r(1482),P=r(82751),R=r(84387),L=r(93567),D=r(57183),F=new u({Extends:a,initialize:function(N){a.call(this);var k=N.config,j={alpha:k.transparent,desynchronized:k.desynchronized,depth:!0,antialias:k.antialiasGL,premultipliedAlpha:k.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:k.failIfMajorPerformanceCaveat,powerPreference:k.powerPreference,preserveDrawingBuffer:k.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:k.clearBeforeRender,antialias:k.antialias,backgroundColor:k.backgroundColor,contextCreation:j,roundPixels:k.roundPixels,maxTextures:k.maxTextures,maxTextureSize:k.maxTextureSize,batchSize:k.batchSize,maxLights:k.maxLights,mipmapFilter:k.mipmapFilter},this.game=N,this.type=l.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=N.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=g,this.contextRestoredHandler=g,this.previousContextLostHandler=g,this.previousContextRestoredHandler=g,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function($){var N,k=this.game,j=this.canvas,W=$.backgroundColor;if(k.config.context?N=k.config.context:N=j.getContext("webgl",$.contextCreation)||j.getContext("experimental-webgl",$.contextCreation),!N||N.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=N,this.setExtensions(),this.setContextHandlers(),k.context=N;for(var G=0;G<=27;G++)this.blendModes.push({func:[N.ONE,N.ONE_MINUS_SRC_ALPHA],equation:N.FUNC_ADD});this.blendModes[1].func=[N.ONE,N.DST_ALPHA],this.blendModes[2].func=[N.DST_COLOR,N.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[N.ONE,N.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[N.ZERO,N.ONE_MINUS_SRC_ALPHA],equation:N.FUNC_REVERSE_SUBTRACT},this.glFormats=[N.BYTE,N.SHORT,N.UNSIGNED_BYTE,N.UNSIGNED_SHORT,N.FLOAT],this.glFuncMap={mat2:{func:N.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:N.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:N.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:N.uniform1f,length:1},"1fv":{func:N.uniform1fv,length:1},"1i":{func:N.uniform1i,length:1},"1iv":{func:N.uniform1iv,length:1},"2f":{func:N.uniform2f,length:2},"2fv":{func:N.uniform2fv,length:1},"2i":{func:N.uniform2i,length:2},"2iv":{func:N.uniform2iv,length:1},"3f":{func:N.uniform3f,length:3},"3fv":{func:N.uniform3fv,length:1},"3i":{func:N.uniform3i,length:3},"3iv":{func:N.uniform3iv,length:1},"4f":{func:N.uniform4f,length:4},"4fv":{func:N.uniform4fv,length:1},"4i":{func:N.uniform4i,length:4},"4iv":{func:N.uniform4iv,length:1}},(!$.maxTextures||$.maxTextures===-1)&&($.maxTextures=N.getParameter(N.MAX_TEXTURE_IMAGE_UNITS)),$.maxTextureSize||($.maxTextureSize=N.getParameter(N.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),N.disable(N.DEPTH_TEST),N.disable(N.CULL_FACE),N.enable(N.BLEND),N.clearColor(W.redGL,W.greenGL,W.blueGL,W.alphaGL),N.clear(N.COLOR_BUFFER_BIT);var K=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return K.indexOf($.mipmapFilter)!==-1&&(this.mipmapFilter=N[$.mipmapFilter]),this.maxTextures=E.checkShaderMax(N,$.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new m(this),this.setBlendMode(l.BlendModes.NORMAL),this.projectionMatrix=new h().identity(),k.textures.once(C.READY,this.boot,this),this},boot:function(){var $=this.game,N=this.pipelines,k=$.scale.baseSize,j=k.width,W=k.height;this.width=j,this.height=W,this.isBooted=!0,this.renderTarget=new x(this,j,W,1,0,!0,!0),this.maskTarget=new x(this,j,W,1,0,!0,!0),this.maskSource=new x(this,j,W,1,0,!0,!0);var G=$.config;N.boot(G.pipeline,G.defaultPipeline,G.autoMobilePipeline),this.blankTexture=$.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=$.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=$.textures.getFrame("__WHITE").glTexture;var K=this.gl;K.bindFramebuffer(K.FRAMEBUFFER,null),K.enable(K.SCISSOR_TEST),$.scale.on(w.RESIZE,this.onResize,this),this.resize(j,W)},setExtensions:function(){var $=this.gl,N=$.getSupportedExtensions();this.supportedExtensions=N;var k="ANGLE_instanced_arrays";this.instancedArraysExtension=N.indexOf(k)>-1?$.getExtension(k):null;var j="OES_vertex_array_object";this.vaoExtension=N.indexOf(j)>-1?$.getExtension(j):null},setContextHandlers:function($,N){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),typeof $=="function"?this.contextLostHandler=$.bind(this):this.contextLostHandler=this.dispatchContextLost.bind(this),typeof N=="function"?this.contextRestoredHandler=N.bind(this):this.contextRestoredHandler=this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},dispatchContextLost:function($){this.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),this.emit(d.LOSE_WEBGL,this),$.preventDefault()},dispatchContextRestored:function($){var N=this.gl;if(N.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(l.BlendModes.NORMAL),N.disable(N.BLEND),N.disable(N.DEPTH_TEST),N.enable(N.CULL_FACE),this.compression=this.getCompressedTextures();var k=function(j){j.createResource()};o(this.glTextureWrappers,k),o(this.glBufferWrappers,k),o(this.glFramebufferWrappers,k),o(this.glProgramWrappers,k),o(this.glAttribLocationWrappers,k),o(this.glUniformLocationWrappers,k),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),this.emit(d.RESTORE_WEBGL,this),$.preventDefault()},createTemporaryTextures:function(){for(var $=this.gl,N=0;N<this.maxTextures;N++){var k=$.createTexture();$.activeTexture($.TEXTURE0+N),$.bindTexture($.TEXTURE_2D,k),$.texImage2D($.TEXTURE_2D,0,$.RGBA,1,1,0,$.RGBA,$.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(N)}},captureFrame:function($,N){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function($,N,k){},stopCapture:function(){},onCapture:function($){},onResize:function($,N){(N.width!==this.width||N.height!==this.height)&&this.resize(N.width,N.height)},beginCapture:function($,N){$===void 0&&($=this.width),N===void 0&&(N=this.height),this.renderTarget.bind(!0,$,N),this.setProjectionMatrix($,N)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function($,N){var k=this.gl;return this.width=$,this.height=N,this.setProjectionMatrix($,N),k.viewport(0,0,$,N),this.drawingBufferHeight=k.drawingBufferHeight,k.scissor(0,k.drawingBufferHeight-N,$,N),this.defaultScissor[2]=$,this.defaultScissor[3]=N,this.emit(d.RESIZE,$,N),this},getCompressedTextures:function(){var $="WEBGL_compressed_texture_",N="WEBKIT_"+$,k="EXT_texture_compression_",j=function(G,K){var z=G.getExtension($+K)||G.getExtension(N+K)||G.getExtension(k+K);if(z){var X={};for(var U in z)X[z[U]]=U;return X}},W=this.gl;return{ETC:j(W,"etc"),ETC1:j(W,"etc1"),ATC:j(W,"atc"),ASTC:j(W,"astc"),BPTC:j(W,"bptc"),RGTC:j(W,"rgtc"),PVRTC:j(W,"pvrtc"),S3TC:j(W,"s3tc"),S3TCSRGB:j(W,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function($,N){var k=this.compression[$.toUpperCase()];if(N in k)return k[N]},supportsCompressedTexture:function($,N){var k=this.compression[$.toUpperCase()];return k?N?N in k:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function($,N){return($!==this.projectionWidth||N!==this.projectionHeight)&&(this.projectionWidth=$,this.projectionHeight=N,this.projectionMatrix.ortho(0,$,N,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function($){return this.supportedExtensions?this.supportedExtensions.indexOf($):!1},getExtension:function($){return this.hasExtension($)?($ in this.extensions||(this.extensions[$]=this.gl.getExtension($)),this.extensions[$]):null},flush:function(){this.pipelines.flush()},pushScissor:function($,N,k,j,W){W===void 0&&(W=this.drawingBufferHeight);var G=this.scissorStack,K=[$,N,k,j];return G.push(K),this.setScissor($,N,k,j,W),this.currentScissor=K,K},setScissor:function($,N,k,j,W){W===void 0&&(W=this.drawingBufferHeight);var G=this.gl,K=this.currentScissor,z=k>0&&j>0;if(K&&z){var X=K[0],U=K[1],Z=K[2],V=K[3];z=X!==$||U!==N||Z!==k||V!==j}z&&(this.flush(),G.scissor($,W-N-j,k,j))},resetScissor:function(){var $=this.gl;$.enable($.SCISSOR_TEST);var N=this.currentScissor;if(N){var k=N[0],j=N[1],W=N[2],G=N[3];W>0&&G>0&&$.scissor(k,this.drawingBufferHeight-j-G,W,G)}},popScissor:function(){var $=this.scissorStack;$.pop();var N=$[$.length-1];N&&this.setScissor(N[0],N[1],N[2],N[3]),this.currentScissor=N},hasActiveStencilMask:function(){var $=this.currentMask.mask,N=this.currentCameraMask.mask;return $&&$.isStencil||N&&N.isStencil},resetViewport:function(){var $=this.gl;$.viewport(0,0,this.width,this.height),this.drawingBufferHeight=$.drawingBufferHeight},setBlendMode:function($,N){N===void 0&&(N=!1);var k=this.gl,j=this.blendModes[$];return N||$!==l.BlendModes.SKIP_CHECK&&this.currentBlendMode!==$?(this.flush(),k.enable(k.BLEND),k.blendEquation(j.equation),j.func.length>2?k.blendFuncSeparate(j.func[0],j.func[1],j.func[2],j.func[3]):k.blendFunc(j.func[0],j.func[1]),this.currentBlendMode=$,!0):!1},addBlendMode:function($,N){var k=this.blendModes.push({func:$,equation:N});return k-1},updateBlendMode:function($,N,k){return this.blendModes[$]&&(this.blendModes[$].func=N,k&&(this.blendModes[$].equation=k)),this},removeBlendMode:function($){return $>17&&this.blendModes[$]&&this.blendModes.splice($,1),this},pushFramebuffer:function($,N,k,j,W){return $===this.currentFramebuffer?this:(this.fboStack.push($),this.setFramebuffer($,N,k,j,W))},setFramebuffer:function($,N,k,j,W){if(N===void 0&&(N=!1),k===void 0&&(k=!0),j===void 0&&(j=null),W===void 0&&(W=!1),$===this.currentFramebuffer)return this;var G=this.gl,K=this.width,z=this.height;return $&&$.renderTexture&&k?(K=$.renderTexture.width,z=$.renderTexture.height):this.flush(),$?G.bindFramebuffer(G.FRAMEBUFFER,$.webGLFramebuffer):G.bindFramebuffer(G.FRAMEBUFFER,null),k&&G.viewport(0,0,K,z),j&&G.framebufferTexture2D(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,G.TEXTURE_2D,j.webGLTexture,0),W&&(G.clearColor(0,0,0,0),G.clear(G.COLOR_BUFFER_BIT)),N&&($?(this.drawingBufferHeight=z,this.pushScissor(0,0,K,z)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=$,this},popFramebuffer:function($,N){$===void 0&&($=!1),N===void 0&&(N=!0);var k=this.fboStack;k.pop();var j=k[k.length-1];return j||(j=null),this.setFramebuffer(j,$,N),j},restoreFramebuffer:function($,N){$===void 0&&($=!1),N===void 0&&(N=!0);var k=this.fboStack,j=k[k.length-1];j||(j=null),this.currentFramebuffer=null,this.setFramebuffer(j,$,N)},setProgram:function($){return $!==this.currentProgram?(this.flush(),this.gl.useProgram($.webGLProgram),this.currentProgram=$,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function($,N,k,j,W){W===void 0&&(W=!1);var G=this.gl,K=G.NEAREST,z=G.NEAREST,X=G.CLAMP_TO_EDGE,U=null;N=$?$.width:N,k=$?$.height:k;var Z=p(N,k);if(Z&&!W&&(X=G.REPEAT),j===l.ScaleModes.LINEAR&&this.config.antialias){var V=$&&$.compressed,J=!V&&Z||V&&$.mipmaps.length>1;K=this.mipmapFilter&&J?this.mipmapFilter:G.LINEAR,z=G.LINEAR}return!$&&typeof N=="number"&&typeof k=="number"?U=this.createTexture2D(0,K,z,X,X,G.RGBA,null,N,k):U=this.createTexture2D(0,K,z,X,X,G.RGBA,$),U},createTexture2D:function($,N,k,j,W,G,K,z,X,U,Z,V){typeof z!="number"&&(z=K?K.width:1),typeof X!="number"&&(X=K?K.height:1);var J=new P(this.gl,$,N,k,j,W,G,K,z,X,U,Z,V);return this.glTextureWrappers.push(J),J},createFramebuffer:function($,N,k,j){this.currentFramebuffer=null;var W=new R(this.gl,$,N,k,j);return this.glFramebufferWrappers.push(W),W},beginBitmapMask:function($,N){var k=this.gl;k&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==$&&(this.currentMask.mask=$,this.currentMask.camera=N))},drawBitmapMask:function($,N,k){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),$.renderWebGL(this,$,N),this.maskSource.unbind(!0),this.maskTarget.unbind();var j=this.gl,W=this.getCurrentStencilMask();W?(j.enable(j.STENCIL_TEST),W.mask.applyStencil(this,W.camera,!0)):this.currentMask.mask=null,this.pipelines.set(k),j.activeTexture(j.TEXTURE0),j.bindTexture(j.TEXTURE_2D,this.maskTarget.texture.webGLTexture),j.activeTexture(j.TEXTURE1),j.bindTexture(j.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function($,N){var k=new A(this.gl,$,N);return this.glProgramWrappers.push(k),k},createVertexBuffer:function($,N){var k=this.gl,j=new S(k,$,k.ARRAY_BUFFER,N);return this.glBufferWrappers.push(j),j},createAttribLocation:function($,N){var k=new L(this.gl,$,N);return this.glAttribLocationWrappers.push(k),k},createUniformLocation:function($,N){var k=new D(this.gl,$,N);return this.glUniformLocationWrappers.push(k),k},createIndexBuffer:function($,N){var k=this.gl,j=new S(k,$,k.ELEMENT_ARRAY_BUFFER,N);return this.glBufferWrappers.push(j),j},deleteTexture:function($){if($)return v(this.glTextureWrappers,$),$.destroy(),this},deleteFramebuffer:function($){return $?(v(this.fboStack,$),v(this.glFramebufferWrappers,$),$.destroy(),this):this},deleteProgram:function($){return $&&(v(this.glProgramWrappers,$),$.destroy()),this},deleteAttribLocation:function($){return $&&(v(this.glAttribLocationWrappers,$),$.destroy()),this},deleteUniformLocation:function($){return $&&(v(this.glUniformLocationWrappers,$),$.destroy()),this},deleteBuffer:function($){return $?(v(this.glBufferWrappers,$),$.destroy(),this):this},preRenderCamera:function($){var N=$.x,k=$.y,j=$.width,W=$.height,G=$.backgroundColor;if($.emit(c.PRE_RENDER,$),this.pipelines.preBatchCamera($),this.pushScissor(N,k,j,W),$.mask&&(this.currentCameraMask.mask=$.mask,this.currentCameraMask.camera=$._maskCamera,$.mask.preRenderWebGL(this,$,$._maskCamera)),G.alphaGL>0){var K=this.pipelines.setMulti();K.drawFillRect(N,k,j,W,E.getTintFromFloats(G.blueGL,G.greenGL,G.redGL,1),G.alphaGL)}},getCurrentStencilMask:function(){var $=null,N=this.maskStack,k=this.currentCameraMask;return N.length>0?$=N[N.length-1]:k.mask&&k.mask.isStencil&&($=k),$},postRenderCamera:function($){var N=$.flashEffect,k=$.fadeEffect;if(N.isRunning||k.isRunning||k.isComplete){var j=this.pipelines.setMulti();N.postRenderWebGL(j,E.getTintFromFloats),k.postRenderWebGL(j,E.getTintFromFloats)}$.dirty=!1,this.popScissor(),$.mask&&(this.currentCameraMask.mask=null,$.mask.postRenderWebGL(this,$._maskCamera)),this.pipelines.postBatchCamera($),$.emit(c.POST_RENDER,$)},preRender:function(){if(!this.contextLost){var $=this.gl;if($.bindFramebuffer($.FRAMEBUFFER,null),this.emit(d.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var N=this.config.backgroundColor;$.clearColor(N.redGL,N.greenGL,N.blueGL,N.alphaGL),$.clear($.COLOR_BUFFER_BIT|$.DEPTH_BUFFER_BIT|$.STENCIL_BUFFER_BIT)}$.enable($.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&$.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(d.PRE_RENDER)}},render:function($,N,k){if(!this.contextLost){var j=N.length;if(this.emit(d.RENDER,$,k),this.preRenderCamera(k),j===0){this.setBlendMode(l.BlendModes.NORMAL),this.postRenderCamera(k);return}this.currentType="";for(var W=this.currentMask,G=0;G<j;G++){this.finalType=G===j-1;var K=N[G],z=K.mask;W=this.currentMask,W.mask&&W.mask!==z&&W.mask.postRenderWebGL(this,W.camera),z&&W.mask!==z&&z.preRenderWebGL(this,K,k),K.blendMode!==this.currentBlendMode&&this.setBlendMode(K.blendMode);var X=K.type;X!==this.currentType&&(this.newType=!0,this.currentType=X),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=N[G+1].type===this.currentType,K.renderWebGL(this,K,k),this.newType=!1}W=this.currentMask,W.mask&&W.mask.postRenderWebGL(this,W.camera),this.setBlendMode(l.BlendModes.NORMAL),this.postRenderCamera(k)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(d.POST_RENDER);var $=this.snapshotState;$.callback&&(T(this.gl,$),$.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var $=this.gl,N=this.getCurrentStencilMask();if(N){var k=N.mask;$.enable($.STENCIL_TEST),k.invertAlpha?$.stencilFunc($.NOTEQUAL,k.level,255):$.stencilFunc($.EQUAL,k.level,255)}},snapshot:function($,N,k){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,$,N,k)},snapshotArea:function($,N,k,j,W,G,K){var z=this.snapshotState;return z.callback=W,z.type=G,z.encoder=K,z.getPixel=!1,z.x=$,z.y=N,z.width=k,z.height=j,this},snapshotPixel:function($,N,k){return this.snapshotArea($,N,1,1,k),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function($,N,k,j,W,G,K,z,X,U,Z){W===void 0&&(W=!1),G===void 0&&(G=0),K===void 0&&(K=0),z===void 0&&(z=N),X===void 0&&(X=k),U==="pixel"&&(W=!0,U="image/png");var V=this.currentFramebuffer;this.snapshotArea(G,K,z,X,j,U,Z);var J=this.snapshotState;return J.getPixel=W,J.isFramebuffer=!0,J.bufferWidth=N,J.bufferHeight=k,J.width=Math.min(J.width,N),J.height=Math.min(J.height,k),this.setFramebuffer($),T(this.gl,J),this.setFramebuffer(V),J.callback=null,J.isFramebuffer=!1,this},canvasToTexture:function($,N,k,j){k===void 0&&(k=!1),j===void 0&&(j=!1);var W=this.gl,G=W.NEAREST,K=W.NEAREST,z=$.width,X=$.height,U=W.CLAMP_TO_EDGE,Z=p(z,X);return!k&&Z&&(U=W.REPEAT),this.config.antialias&&(G=Z&&this.mipmapFilter?this.mipmapFilter:W.LINEAR,K=W.LINEAR),N?(N.update($,z,X,j,U,U,G,K,N.format),N):this.createTexture2D(0,G,K,U,U,W.RGBA,$,z,X,!0,!1,j)},createCanvasTexture:function($,N,k){return N===void 0&&(N=!1),k===void 0&&(k=!1),this.canvasToTexture($,null,N,k)},updateCanvasTexture:function($,N,k,j){return k===void 0&&(k=!1),j===void 0&&(j=!1),this.canvasToTexture($,N,j,k)},videoToTexture:function($,N,k,j){k===void 0&&(k=!1),j===void 0&&(j=!1);var W=this.gl,G=W.NEAREST,K=W.NEAREST,z=$.videoWidth,X=$.videoHeight,U=W.CLAMP_TO_EDGE,Z=p(z,X);return!k&&Z&&(U=W.REPEAT),this.config.antialias&&(G=Z&&this.mipmapFilter?this.mipmapFilter:W.LINEAR,K=W.LINEAR),N?(N.update($,z,X,j,U,U,G,K,N.format),N):this.createTexture2D(0,G,K,U,U,W.RGBA,$,z,X,!0,!0,j)},createVideoTexture:function($,N,k){return N===void 0&&(N=!1),k===void 0&&(k=!1),this.videoToTexture($,null,N,k)},updateVideoTexture:function($,N,k,j){return k===void 0&&(k=!1),j===void 0&&(j=!1),this.videoToTexture($,N,j,k)},createUint8ArrayTexture:function($,N,k){var j=this.gl,W=j.NEAREST,G=j.NEAREST,K=j.CLAMP_TO_EDGE,z=p(N,k);return z&&(K=j.REPEAT),this.createTexture2D(0,W,G,K,K,j.RGBA,$,N,k)},setTextureFilter:function($,N){var k=this.gl,j=N===0?k.LINEAR:k.NEAREST;k.activeTexture(k.TEXTURE0);var W=k.getParameter(k.TEXTURE_BINDING_2D);return k.bindTexture(k.TEXTURE_2D,$.webGLTexture),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,j),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,j),$.minFilter=j,$.magFilter=j,W&&k.bindTexture(k.TEXTURE_2D,W),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var $=function(N){N.destroy()};o(this.glAttribLocationWrappers,$),o(this.glBufferWrappers,$),o(this.glFramebufferWrappers,$),o(this.glProgramWrappers,$),o(this.glTextureWrappers,$),o(this.glUniformLocationWrappers,$),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});s.exports=F}),38683:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(95428),c=r(95540),u=r(14500),l=new o({initialize:function(d,p,h,g,m){this.pipeline=d,this.name=p,this.renderer=d.renderer,this.gl=this.renderer.gl,this.fragSrc=g,this.vertSrc=h,this.program=this.renderer.createProgram(h,g),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(m),this.createUniforms()},createAttributes:function(a){var d=0,p=0,h=[];this.vertexComponentCount=0;for(var g=0;g<a.length;g++){var m=a[g],x=m.name,w=c(m,"size",1),C=c(m,"type",u.FLOAT),E=C.enum,T=C.size,S=!!m.normalized;h.push({name:x,size:w,type:E,normalized:S,offset:p,enabled:!1,location:-1}),T===4?d+=w:d++,p+=w*T}this.vertexSize=p,this.vertexComponentCount=d,this.attributes=h},bind:function(a,d){return a===void 0&&(a=!1),d===void 0&&(d=!1),d&&this.pipeline.flush(),this.renderer.setProgram(this.program),a&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(a){a===void 0&&(a=!1);for(var d=this.gl,p=this.renderer,h=this.vertexSize,g=this.attributes,m=this.program,x=0;x<g.length;x++){var w=g[x],C=w.size,E=w.type,T=w.offset,S=w.enabled,A=w.location,P=!!w.normalized;if(a){A!==-1&&p.deleteAttribLocation(A);var R=this.renderer.createAttribLocation(m,w.name);R.webGLAttribLocation>=0?(d.enableVertexAttribArray(R.webGLAttribLocation),d.vertexAttribPointer(R.webGLAttribLocation,C,E,P,h,T),w.enabled=!0,w.location=R):R.webGLAttribLocation!==-1&&d.disableVertexAttribArray(R.webGLAttribLocation)}else S?d.vertexAttribPointer(A.webGLAttribLocation,C,E,P,h,T):!S&&A!==-1&&A.webGLAttribLocation>-1&&(d.disableVertexAttribArray(A.webGLAttribLocation),w.location=-1)}return this},createUniforms:function(){var a=this.gl,d=this.program,p=this.uniforms,h,g,m,x=a.getProgramParameter(d.webGLProgram,a.ACTIVE_UNIFORMS);for(h=0;h<x;h++){var w=a.getActiveUniform(d.webGLProgram,h);if(w){g=w.name,m=this.renderer.createUniformLocation(d,g),m!==null&&(p[g]={name:g,location:m,setter:null,value1:null,value2:null,value3:null,value4:null});var C=g.indexOf("[");C>0&&(g=g.substr(0,C),p.hasOwnProperty(g)||(m=this.renderer.createUniformLocation(d,g),m!==null&&(p[g]={name:g,location:m,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var a=this.gl;this.renderer.setProgram(this.program);for(var d in this.uniforms){var p=this.uniforms[d];p.setter&&p.setter.call(a,p.location.webGLUniformLocation,p.value1,p.value2,p.value3,p.value4)}},hasUniform:function(a){return this.uniforms.hasOwnProperty(a)},resetUniform:function(a){var d=this.uniforms[a];return d&&(d.value1=null,d.value2=null,d.value3=null,d.value4=null),this},setUniform1:function(a,d,p,h){var g=this.uniforms[d];return g?((h||g.value1!==p)&&(g.setter||(g.setter=a),g.value1=p,this.renderer.setProgram(this.program),a.call(this.gl,g.location.webGLUniformLocation,p),this.pipeline.currentShader=this),this):this},setUniform2:function(a,d,p,h,g){var m=this.uniforms[d];return m?((g||m.value1!==p||m.value2!==h)&&(m.setter||(m.setter=a),m.value1=p,m.value2=h,this.renderer.setProgram(this.program),a.call(this.gl,m.location.webGLUniformLocation,p,h),this.pipeline.currentShader=this),this):this},setUniform3:function(a,d,p,h,g,m){var x=this.uniforms[d];return x?((m||x.value1!==p||x.value2!==h||x.value3!==g)&&(x.setter||(x.setter=a),x.value1=p,x.value2=h,x.value3=g,this.renderer.setProgram(this.program),a.call(this.gl,x.location.webGLUniformLocation,p,h,g),this.pipeline.currentShader=this),this):this},setUniform4:function(a,d,p,h,g,m,x){var w=this.uniforms[d];return w?((x||w.value1!==p||w.value2!==h||w.value3!==g||w.value4!==m)&&(w.setter||(w.setter=a),w.value1=p,w.value2=h,w.value3=g,w.value4=m,this.renderer.setProgram(this.program),a.call(this.gl,w.location.webGLUniformLocation,p,h,g,m),this.pipeline.currentShader=this),this):this},setBoolean:function(a,d){return this.setUniform1(this.gl.uniform1i,a,Number(d))},set1f:function(a,d){return this.setUniform1(this.gl.uniform1f,a,d)},set2f:function(a,d,p){return this.setUniform2(this.gl.uniform2f,a,d,p)},set3f:function(a,d,p,h){return this.setUniform3(this.gl.uniform3f,a,d,p,h)},set4f:function(a,d,p,h,g){return this.setUniform4(this.gl.uniform4f,a,d,p,h,g)},set1fv:function(a,d){return this.setUniform1(this.gl.uniform1fv,a,d,!0)},set2fv:function(a,d){return this.setUniform1(this.gl.uniform2fv,a,d,!0)},set3fv:function(a,d){return this.setUniform1(this.gl.uniform3fv,a,d,!0)},set4fv:function(a,d){return this.setUniform1(this.gl.uniform4fv,a,d,!0)},set1iv:function(a,d){return this.setUniform1(this.gl.uniform1iv,a,d,!0)},set2iv:function(a,d){return this.setUniform1(this.gl.uniform2iv,a,d,!0)},set3iv:function(a,d){return this.setUniform1(this.gl.uniform3iv,a,d,!0)},set4iv:function(a,d){return this.setUniform1(this.gl.uniform4iv,a,d,!0)},set1i:function(a,d){return this.setUniform1(this.gl.uniform1i,a,d)},set2i:function(a,d,p){return this.setUniform2(this.gl.uniform2i,a,d,p)},set3i:function(a,d,p,h){return this.setUniform3(this.gl.uniform3i,a,d,p,h)},set4i:function(a,d,p,h,g){return this.setUniform4(this.gl.uniform4i,a,d,p,h,g)},setMatrix2fv:function(a,d,p){return this.setUniform2(this.gl.uniformMatrix2fv,a,d,p,!0)},setMatrix3fv:function(a,d,p){return this.setUniform2(this.gl.uniformMatrix3fv,a,d,p,!0)},setMatrix4fv:function(a,d,p){return this.setUniform2(this.gl.uniformMatrix4fv,a,d,p,!0)},createProgram:function(a,d){return a===void 0&&(a=this.vertSrc),d===void 0&&(d=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=a,this.fragSrc=d,this.program=this.renderer.createProgram(a,d),this.createUniforms(),this.rebind()},destroy:function(){var a=this.renderer;v(this.uniforms,function(d){a.deleteUniformLocation(d.location)}),this.uniforms=null,v(this.attributes,function(d){a.deleteAttribLocation(d.location)}),this.attributes=null,a.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});s.exports=l}),14500:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};s.exports=y}),4159:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(14500),v=r(79291),c={PipelineManager:r(7530),Pipelines:r(96615),RenderTarget:r(32302),Utils:r(70554),WebGLPipeline:r(29100),WebGLRenderer:r(74797),WebGLShader:r(38683),Wrappers:r(9503)};c=v(!1,c,o),s.exports=c}),31302:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(95540),c=r(78908),u=r(85191),l=r(14500),a=r(29100),d=new o({Extends:a,initialize:function(h){h.fragShader=v(h,"fragShader",c),h.vertShader=v(h,"vertShader",u),h.batchSize=v(h,"batchSize",1),h.vertices=v(h,"vertices",[-1,1,-1,-7,7,1]),h.attributes=v(h,"attributes",[{name:"inPosition",size:2,type:l.FLOAT}]),a.call(this,h)},boot:function(){a.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(p,h){a.prototype.resize.call(this,p,h),this.set2f("uResolution",p,h)},beginMask:function(p,h,g){this.renderer.beginBitmapMask(p,g)},endMask:function(p,h,g){var m=this.gl,x=this.renderer,w=p.bitmapMask;w&&m&&(x.drawBitmapMask(w,h,this),g&&this.set2f("uResolution",g.width,g.height),this.set1i("uInvertMaskAlpha",p.invertAlpha),m.drawArrays(this.topology,0,3),g&&this.set2f("uResolution",this.width,this.height),m.bindTexture(m.TEXTURE_2D,null))}});s.exports=d}),92651:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(58918),c=r(14811),u=r(95540),l=r(43558),a=r(89350),d=r(70554),p=new o({Extends:l,initialize:function(g){g.shaders=[d.setGlowQuality(a.FXGlowFrag,g.game),a.FXShadowFrag,a.FXPixelateFrag,a.FXVignetteFrag,a.FXShineFrag,a.FXBlurLowFrag,a.FXBlurMedFrag,a.FXBlurHighFrag,a.FXGradientFrag,a.FXBloomFrag,a.ColorMatrixFrag,a.FXCircleFrag,a.FXBarrelFrag,a.FXDisplacementFrag,a.FXWipeFrag,a.FXBokehFrag],l.call(this,g);var m=this.game;this.glow=new v.Glow(m),this.shadow=new v.Shadow(m),this.pixelate=new v.Pixelate(m),this.vignette=new v.Vignette(m),this.shine=new v.Shine(m),this.gradient=new v.Gradient(m),this.circle=new v.Circle(m),this.barrel=new v.Barrel(m),this.wipe=new v.Wipe(m),this.bokeh=new v.Bokeh(m);var x=[];x[c.GLOW]=this.onGlow,x[c.SHADOW]=this.onShadow,x[c.PIXELATE]=this.onPixelate,x[c.VIGNETTE]=this.onVignette,x[c.SHINE]=this.onShine,x[c.BLUR]=this.onBlur,x[c.GRADIENT]=this.onGradient,x[c.BLOOM]=this.onBloom,x[c.COLOR_MATRIX]=this.onColorMatrix,x[c.CIRCLE]=this.onCircle,x[c.BARREL]=this.onBarrel,x[c.DISPLACEMENT]=this.onDisplacement,x[c.WIPE]=this.onWipe,x[c.BOKEH]=this.onBokeh,this.fxHandlers=x,this.source,this.target,this.swap},onDraw:function(h,g,m){this.source=h,this.target=g,this.swap=m;var x=h.width,w=h.height,C=this.tempSprite,E=this.fxHandlers;if(C&&C.preFX)for(var T=C.preFX.list,S=0;S<T.length;S++){var A=T[S];A.active&&E[A.type].call(this,A,x,w)}this.drawToGame(this.source)},runDraw:function(){var h=this.source,g=this.target;this.copy(h,g),this.source=g,this.target=h},onGlow:function(h,g,m){var x=this.shaders[c.GLOW];this.setShader(x),this.glow.onPreRender(h,x,g,m),this.runDraw()},onShadow:function(h){var g=this.shaders[c.SHADOW];this.setShader(g),this.shadow.onPreRender(h,g),this.runDraw()},onPixelate:function(h,g,m){var x=this.shaders[c.PIXELATE];this.setShader(x),this.pixelate.onPreRender(h,x,g,m),this.runDraw()},onVignette:function(h){var g=this.shaders[c.VIGNETTE];this.setShader(g),this.vignette.onPreRender(h,g),this.runDraw()},onShine:function(h,g,m){var x=this.shaders[c.SHINE];this.setShader(x),this.shine.onPreRender(h,x,g,m),this.runDraw()},onBlur:function(h,g,m){var x=u(h,"quality"),w=this.shaders[c.BLUR+x];this.setShader(w),this.set1i("uMainSampler",0),this.set2f("resolution",g,m),this.set1f("strength",u(h,"strength")),this.set3fv("color",u(h,"glcolor"));for(var C=u(h,"x"),E=u(h,"y"),T=u(h,"steps"),S=0;S<T;S++)this.set2f("offset",C,0),this.runDraw(),this.set2f("offset",0,E),this.runDraw()},onGradient:function(h){var g=this.shaders[c.GRADIENT];this.setShader(g),this.gradient.onPreRender(h,g),this.runDraw()},onBloom:function(h,g,m){var x=this.shaders[c.BLOOM];this.copySprite(this.source,this.swap),this.setShader(x),this.set1i("uMainSampler",0),this.set1f("strength",u(h,"blurStrength")),this.set3fv("color",u(h,"glcolor"));for(var w=2/g*u(h,"offsetX"),C=2/m*u(h,"offsetY"),E=u(h,"steps"),T=0;T<E;T++)this.set2f("offset",w,0),this.runDraw(),this.set2f("offset",0,C),this.runDraw();this.blendFrames(this.swap,this.source,this.target,u(h,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(h){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",h.getData()),this.set1f("uAlpha",h.alpha),this.runDraw()},onCircle:function(h,g,m){var x=this.shaders[c.CIRCLE];this.setShader(x),this.circle.onPreRender(h,x,g,m),this.runDraw()},onBarrel:function(h){var g=this.shaders[c.BARREL];this.setShader(g),this.barrel.onPreRender(h,g),this.runDraw()},onDisplacement:function(h){this.setShader(this.shaders[c.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",h.x,h.y),this.bindTexture(h.glTexture,1),this.runDraw()},onWipe:function(h){var g=this.shaders[c.WIPE];this.setShader(g),this.wipe.onPreRender(h,g),this.runDraw()},onBokeh:function(h,g,m){var x=this.shaders[c.BOKEH];this.setShader(x),this.bokeh.onPreRender(h,x,g,m),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,l.prototype.destroy.call(this),this}});s.exports=p}),96569:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(95540),c=r(31063),u=r(57516),l=r(61340),a=r(26099),d=r(29100),p=new o({Extends:u,initialize:function(g){var m=v(g,"fragShader",c);g.fragShader=m.replace("%LIGHT_COUNT%",g.game.renderer.config.maxLights),u.call(this,g),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new a,this._tempMatrix=new l,this._tempMatrix2=new l},boot:function(){d.prototype.boot.call(this)},onRender:function(h,g){var m=h.sys.lights;if(this.lightsActive=!1,!(!m||!m.active)){var x=m.getLights(g),w=x.length;this.lightsActive=!0;var C,E=this.renderer,T=E.height,S=g.matrix,A=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",g.x,g.y,g.rotation,g.zoom),this.set3f("uAmbientLightColor",m.ambientColor.r,m.ambientColor.g,m.ambientColor.b),this.set1i("uLightCount",w),C=0;C<w;C++){var P=x[C].light,R=P.color,L="uLights["+C+"].";S.transformPoint(P.x,P.y,A),this.set2f(L+"position",A.x-g.scrollX*P.scrollFactorX*g.zoom,T-(A.y-g.scrollY*P.scrollFactorY*g.zoom)),this.set3f(L+"color",R.r,R.g,R.b),this.set1f(L+"intensity",P.intensity),this.set1f(L+"radius",P.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(h){if(h!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var g=this.inverseRotationMatrix;if(h){var m=-h,x=Math.cos(m),w=Math.sin(m);g[1]=w,g[3]=-w,g[0]=g[4]=x}else g[0]=g[4]=1,g[1]=g[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,g),this.currentNormalMapRotation=h}},setTexture2D:function(h,g){var m=this.renderer;h===void 0&&(h=m.whiteTexture);var x=this.getNormalMap(g);this.isNewNormalMap(h,x)&&(this.flush(),this.createBatch(h),this.addTextureToBatch(x),this.currentNormalMap=x);var w=0;if(g&&g.parentContainer){var C=g.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);w=C.rotationNormalized}else g&&(w=g.rotation);return this.currentBatch===null&&(this.createBatch(h),this.addTextureToBatch(x)),this.setNormalMapRotation(w),0},setGameObject:function(h,g){g===void 0&&(g=h.frame);var m=g.glTexture,x=this.getNormalMap(h);if(this.isNewNormalMap(m,x)&&(this.flush(),this.createBatch(m),this.addTextureToBatch(x),this.currentNormalMap=x),h.parentContainer){var w=h.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(w.rotationNormalized)}else this.setNormalMapRotation(h.rotation);return this.currentBatch===null&&(this.createBatch(m),this.addTextureToBatch(x)),0},isNewNormalMap:function(h,g){return this.currentTexture!==h||this.currentNormalMap!==g},getNormalMap:function(h){var g;if(h)h.displayTexture?g=h.displayTexture.dataSource[h.displayFrame.sourceIndex]:h.texture?g=h.texture.dataSource[h.frame.sourceIndex]:h.tileset&&(Array.isArray(h.tileset)?g=h.tileset[0].image.dataSource[0]:g=h.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return g?g.glTexture:this.renderer.normalTexture},batchSprite:function(h,g,m){this.lightsActive&&u.prototype.batchSprite.call(this,h,g,m)},batchTexture:function(h,g,m,x,w,C,E,T,S,A,P,R,L,D,F,$,N,k,j,W,G,K,z,X,U,Z,V,J,_,ee,te,ie){this.lightsActive&&u.prototype.batchTexture.call(this,h,g,m,x,w,C,E,T,S,A,P,R,L,D,F,$,N,k,j,W,G,K,z,X,U,Z,V,J,_,ee,te,ie)},batchTextureFrame:function(h,g,m,x,w,C,E){this.lightsActive&&u.prototype.batchTextureFrame.call(this,h,g,m,x,w,C,E)}});s.exports=p}),56527:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(95540),c=r(57516),u=r(45561),l=r(60722),a=r(14500),d=r(29100),p=new o({Extends:c,initialize:function(g){g.fragShader=v(g,"fragShader",u),g.vertShader=v(g,"vertShader",l),g.attributes=v(g,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:a.UNSIGNED_BYTE,normalized:!0}]),g.forceZero=!0,g.resizeUniform="uResolution",c.call(this,g)},boot:function(){d.prototype.boot.call(this);var h=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",h.width,h.height)}});s.exports=p}),57516:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(94811),c=r(95540),u=r(98840),l=r(44667),a=r(61340),d=r(70554),p=r(14500),h=r(29100),g=new o({Extends:h,initialize:function(x){var w=x.game.renderer,C=c(x,"fragShader",u);x.fragShader=d.parseFragmentShaderMaxTextures(C,w.maxTextures),x.vertShader=c(x,"vertShader",l),x.attributes=c(x,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:p.UNSIGNED_BYTE,normalized:!0}]),x.resizeUniform="uResolution",h.call(this,x),this._tempMatrix1=new a,this._tempMatrix2=new a,this._tempMatrix3=new a,this.calcMatrix=new a,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){h.prototype.boot.call(this);var m=this.renderer;this.set1iv("uMainSampler",m.textureIndexes),this.set2f("uResolution",m.width,m.height)},batchSprite:function(m,x,w){this.manager.set(this,m);var C=this._tempMatrix1,E=this._tempMatrix2,T=this._tempMatrix3,S=m.frame,A=S.glTexture,P=S.u0,R=S.v0,L=S.u1,D=S.v1,F=S.x,$=S.y,N=S.cutWidth,k=S.cutHeight,j=S.customPivot,W=m.displayOriginX,G=m.displayOriginY,K=-W+F,z=-G+$;if(m.isCropped){var X=m._crop;(X.flipX!==m.flipX||X.flipY!==m.flipY)&&S.updateCropUVs(X,m.flipX,m.flipY),P=X.u0,R=X.v0,L=X.u1,D=X.v1,N=X.width,k=X.height,F=X.x,$=X.y,K=-W+F,z=-G+$}var U=1,Z=1;m.flipX&&(j||(K+=-S.realWidth+W*2),U=-1),m.flipY&&(j||(z+=-S.realHeight+G*2),Z=-1);var V=m.x,J=m.y;x.roundPixels&&(V=Math.floor(V),J=Math.floor(J)),E.applyITRS(V,J,m.rotation,m.scaleX*U,m.scaleY*Z),C.copyFrom(x.matrix),w?(C.multiplyWithOffset(w,-x.scrollX*m.scrollFactorX,-x.scrollY*m.scrollFactorY),E.e=V,E.f=J):(E.e-=x.scrollX*m.scrollFactorX,E.f-=x.scrollY*m.scrollFactorY),C.multiply(E,T);var _=T.setQuad(K,z,K+N,z+k,x.renderRoundPixels),ee=d.getTintAppendFloatAlpha,te=x.alpha,ie=ee(m.tintTopLeft,te*m._alphaTL),le=ee(m.tintTopRight,te*m._alphaTR),he=ee(m.tintBottomLeft,te*m._alphaBL),fe=ee(m.tintBottomRight,te*m._alphaBR);this.shouldFlush(6)&&this.flush();var oe=this.setGameObject(m,S);this.manager.preBatch(m),this.batchQuad(m,_[0],_[1],_[2],_[3],_[4],_[5],_[6],_[7],P,R,L,D,ie,le,he,fe,m.tintFill,A,oe),this.manager.postBatch(m)},batchTexture:function(m,x,w,C,E,T,S,A,P,R,L,D,F,$,N,k,j,W,G,K,z,X,U,Z,V,J,_,ee,te,ie,le,he,fe){fe===void 0&&(fe=!1),this.manager.set(this,m);var oe=this._tempMatrix1,Ce=this._tempMatrix2,ye=this._tempMatrix3,Ee=W/w+_,Ie=G/C+ee,je=(W+K)/w+_,Re=(G+z)/C+ee,$e=S,Ae=A,Xe=-k,st=-j;if(m.isCropped){var vt=m._crop,Ge=vt.width,nt=vt.height;$e=Ge,Ae=nt,S=Ge,A=nt,W=vt.x,G=vt.y;var Et=W,Je=G;D&&(Et=K-vt.x-Ge),F&&(Je=z-vt.y-nt),Ee=Et/w+_,Ie=Je/C+ee,je=(Et+Ge)/w+_,Re=(Je+nt)/C+ee,Xe=-k+W,st=-j+G}F=F^(!le&&x.isRenderTexture?1:0),D&&($e*=-1,Xe+=S),F&&(Ae*=-1,st+=A),te.roundPixels&&(E=Math.floor(E),T=Math.floor(T)),Ce.applyITRS(E,T,L,P,R),oe.copyFrom(te.matrix),ie?(oe.multiplyWithOffset(ie,-te.scrollX*$,-te.scrollY*N),Ce.e=E,Ce.f=T):(Ce.e-=te.scrollX*$,Ce.f-=te.scrollY*N),oe.multiply(Ce,ye);var He=ye.setQuad(Xe,st,Xe+$e,st+Ae,te.renderRoundPixels);he==null&&(he=this.setTexture2D(x)),m&&!fe&&this.manager.preBatch(m),this.batchQuad(m,He[0],He[1],He[2],He[3],He[4],He[5],He[6],He[7],Ee,Ie,je,Re,X,U,Z,V,J,x,he),m&&!fe&&this.manager.postBatch(m)},batchTextureFrame:function(m,x,w,C,E,T,S){this.manager.set(this);var A=this._tempMatrix1.copyFrom(T),P=this._tempMatrix2;S?A.multiply(S,P):P=A;var R=P.setQuad(x,w,x+m.width,w+m.height),L=this.setTexture2D(m.source.glTexture);C=d.getTintAppendFloatAlpha(C,E),this.batchQuad(null,R[0],R[1],R[2],R[3],R[4],R[5],R[6],R[7],m.u0,m.v0,m.u1,m.v1,C,C,C,C,0,m.glTexture,L)},batchFillRect:function(m,x,w,C,E,T){this.renderer.pipelines.set(this);var S=this.calcMatrix;T&&T.multiply(E,S);var A=S.setQuad(m,x,m+w,x+C),P=this.fillTint;this.batchQuad(null,A[0],A[1],A[2],A[3],A[4],A[5],A[6],A[7],0,0,1,1,P.TL,P.TR,P.BL,P.BR,2)},batchFillTriangle:function(m,x,w,C,E,T,S,A){this.renderer.pipelines.set(this);var P=this.calcMatrix;A&&A.multiply(S,P);var R=P.getX(m,x),L=P.getY(m,x),D=P.getX(w,C),F=P.getY(w,C),$=P.getX(E,T),N=P.getY(E,T),k=this.fillTint;this.batchTri(null,R,L,D,F,$,N,0,0,1,1,k.TL,k.TR,k.BL,2)},batchStrokeTriangle:function(m,x,w,C,E,T,S,A,P){var R=this.tempTriangle;R[0].x=m,R[0].y=x,R[0].width=S,R[1].x=w,R[1].y=C,R[1].width=S,R[2].x=E,R[2].y=T,R[2].width=S,R[3].x=m,R[3].y=x,R[3].width=S,this.batchStrokePath(R,S,!1,A,P)},batchFillPath:function(m,x,w){this.renderer.pipelines.set(this);var C=this.calcMatrix;w&&w.multiply(x,C);for(var E=m.length,T=this.polygonCache,S,A,P=this.fillTint.TL,R=this.fillTint.TR,L=this.fillTint.BL,D=0;D<E;++D)A=m[D],T.push(A.x,A.y);S=v(T),E=S.length;for(var F=0;F<E;F+=3){var $=S[F+0]*2,N=S[F+1]*2,k=S[F+2]*2,j=T[$+0],W=T[$+1],G=T[N+0],K=T[N+1],z=T[k+0],X=T[k+1],U=C.getX(j,W),Z=C.getY(j,W),V=C.getX(G,K),J=C.getY(G,K),_=C.getX(z,X),ee=C.getY(z,X);this.batchTri(null,U,Z,V,J,_,ee,0,0,1,1,P,R,L,2)}T.length=0},batchStrokePath:function(m,x,w,C,E){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var T=m.length-1,S=0;S<T;S++){var A=m[S],P=m[S+1];this.batchLine(A.x,A.y,P.x,P.y,A.width/2,P.width/2,x,S,!w&&S===T-1,C,E)}},batchLine:function(m,x,w,C,E,T,S,A,P,R,L){this.renderer.pipelines.set(this);var D=this.calcMatrix;L&&L.multiply(R,D);var F=w-m,$=C-x,N=Math.sqrt(F*F+$*$);if(N!==0){var k=E*(C-x)/N,j=E*(m-w)/N,W=T*(C-x)/N,G=T*(m-w)/N,K=w-W,z=C-G,X=m-k,U=x-j,Z=w+W,V=C+G,J=m+k,_=x+j,ee=D.getX(K,z),te=D.getY(K,z),ie=D.getX(X,U),le=D.getY(X,U),he=D.getX(Z,V),fe=D.getY(Z,V),oe=D.getX(J,_),Ce=D.getY(J,_),ye=this.strokeTint,Ee=ye.TL,Ie=ye.TR,je=ye.BL,Re=ye.BR;if(this.batchQuad(null,oe,Ce,ie,le,ee,te,he,fe,0,0,1,1,Ee,Ie,je,Re,2),!(S<=2)){var $e=this.prevQuad,Ae=this.firstQuad;A>0&&$e[4]?this.batchQuad(null,oe,Ce,ie,le,$e[0],$e[1],$e[2],$e[3],0,0,1,1,Ee,Ie,je,Re,2):(Ae[0]=oe,Ae[1]=Ce,Ae[2]=ie,Ae[3]=le,Ae[4]=1),P&&Ae[4]?this.batchQuad(null,ee,te,he,fe,Ae[0],Ae[1],Ae[2],Ae[3],0,0,1,1,Ee,Ie,je,Re,2):($e[0]=ee,$e[1]=te,$e[2]=he,$e[3]=fe,$e[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,h.prototype.destroy.call(this),this}});s.exports=g}),43439:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(95540),c=r(4127),u=r(89924),l=r(29100),a=new o({Extends:l,initialize:function(p){p.vertShader=v(p,"vertShader",u),p.fragShader=v(p,"fragShader",c),p.attributes=v(p,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),l.call(this,p)},onRender:function(d,p){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",p.zoom)},batchPointLight:function(d,p,h,g,m,x,w,C,E,T,S,A){var P=d.color,R=d.intensity,L=d.radius,D=d.attenuation,F=P.r*R,$=P.g*R,N=P.b*R,k=p.alpha*d.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(h,g,S,A,L,D,F,$,N,k),this.batchLightVert(m,x,S,A,L,D,F,$,N,k),this.batchLightVert(w,C,S,A,L,D,F,$,N,k),this.batchLightVert(h,g,S,A,L,D,F,$,N,k),this.batchLightVert(w,C,S,A,L,D,F,$,N,k),this.batchLightVert(E,T,S,A,L,D,F,$,N,k),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(d,p,h,g,m,x,w,C,E,T){var S=this.vertexViewF32,A=this.vertexCount*this.currentShader.vertexComponentCount-1;S[++A]=d,S[++A]=p,S[++A]=h,S[++A]=g,S[++A]=m,S[++A]=x,S[++A]=w,S[++A]=C,S[++A]=E,S[++A]=T,this.vertexCount++}});s.exports=a}),84057:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(89422),c=r(95540),u=r(27681),l=r(49627),a=r(29100),d=new o({Extends:a,initialize:function(h){h.renderTarget=c(h,"renderTarget",1),h.fragShader=c(h,"fragShader",u),h.vertShader=c(h,"vertShader",l),h.attributes=c(h,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),h.batchSize=1,h.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],a.call(this,h),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new v,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){a.prototype.boot.call(this);var p=this.manager.UTILITY_PIPELINE;this.fullFrame1=p.fullFrame1,this.fullFrame2=p.fullFrame2,this.halfFrame1=p.halfFrame1,this.halfFrame2=p.halfFrame2;var h=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",h.width,h.height);for(var g=this.renderTargets,m=0;m<g.length;m++)g[m].autoResize=!0},postBatch:function(p){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(p),this},onDraw:function(p){this.bindAndDraw(p)},getController:function(p){return p!==void 0?p:this.controller?this.controller:this},copySprite:function(p,h,g){g===void 0&&(g=!1);var m=this.gl;m.activeTexture(m.TEXTURE0),m.bindTexture(m.TEXTURE_2D,p.texture.webGLTexture);var x=m.getParameter(m.FRAMEBUFFER_BINDING);m.bindFramebuffer(m.FRAMEBUFFER,h.framebuffer.webGLFramebuffer),m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,h.texture.webGLTexture,0),m.clearColor(0,0,0,0),m.clear(m.COLOR_BUFFER_BIT),m.bufferData(m.ARRAY_BUFFER,this.vertexData,m.STATIC_DRAW),m.drawArrays(m.TRIANGLES,0,6),g&&(m.bindTexture(m.TEXTURE_2D,null),m.bindFramebuffer(m.FRAMEBUFFER,x))},copyFrame:function(p,h,g,m,x){this.manager.copyFrame(p,h,g,m,x)},copyToGame:function(p){this.manager.copyToGame(p)},drawFrame:function(p,h,g){this.manager.drawFrame(p,h,g,this.colorMatrix)},blendFrames:function(p,h,g,m,x){this.manager.blendFrames(p,h,g,m,x)},blendFramesAdditive:function(p,h,g,m,x){this.manager.blendFramesAdditive(p,h,g,m,x)},clearFrame:function(p,h){this.manager.clearFrame(p,h)},blitFrame:function(p,h,g,m,x,w){this.manager.blitFrame(p,h,g,m,x,w)},copyFrameRect:function(p,h,g,m,x,w,C,E){this.manager.copyFrameRect(p,h,g,m,x,w,C,E)},bindAndDraw:function(p,h,g,m,x){g===void 0&&(g=!0),m===void 0&&(m=!0);var w=this.gl,C=this.renderer;this.bind(x),this.set1i("uMainSampler",0),h?(w.viewport(0,0,h.width,h.height),w.bindFramebuffer(w.FRAMEBUFFER,h.framebuffer.webGLFramebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,h.texture.webGLTexture,0),g&&(m?w.clearColor(0,0,0,0):w.clearColor(0,0,0,1),w.clear(w.COLOR_BUFFER_BIT))):(C.popFramebuffer(!1,!1),C.currentFramebuffer||w.viewport(0,0,C.width,C.height)),C.restoreStencilMask(),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,p.texture.webGLTexture),w.bufferData(w.ARRAY_BUFFER,this.vertexData,w.STATIC_DRAW),w.drawArrays(w.TRIANGLES,0,6),h&&(w.bindTexture(w.TEXTURE_2D,null),w.bindFramebuffer(w.FRAMEBUFFER,C.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),a.prototype.destroy.call(this),this}});s.exports=d}),43558:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10312),v=r(67502),c=r(83419),u=r(96293),l=r(95540),a=r(57516),d=r(27681),p=r(87841),h=r(32302),g=r(45561),m=r(60722),x=r(29100),w=new c({Extends:a,initialize:function(E){var T=l(E,"fragShader",d),S=l(E,"vertShader",m),A=l(E,"drawShader",d),P=[{name:"DrawSprite",fragShader:g,vertShader:m},{name:"CopySprite",fragShader:T,vertShader:S},{name:"DrawGame",fragShader:A,vertShader:m},{name:"ColorMatrix",fragShader:u}],R=l(E,"shaders",[]);E.shaders=P.concat(R),E.vertShader||(E.vertShader=S),E.batchSize=1,a.call(this,E),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new p,this.targetBounds=new p,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){x.prototype.boot.call(this);var C=this.shaders,E=this.renderer;this.drawSpriteShader=C[0],this.copyShader=C[1],this.gameShader=C[2],this.colorMatrixShader=C[3],this.fsTarget=new h(E,E.width,E.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var T=new ArrayBuffer(168);this.quadVertexData=T,this.quadVertexViewF32=new Float32Array(T),this.quadVertexBuffer=E.createVertexBuffer(T,this.gl.STATIC_DRAW),this.onResize(E.width,E.height),this.currentShader=this.copyShader,this.set2f("uResolution",E.width,E.height)},onResize:function(C,E){var T=this.quadVertexViewF32;T[1]=E,T[22]=E,T[14]=C,T[28]=C,T[35]=C,T[36]=E},batchQuad:function(C,E,T,S,A,P,R,L,D,F,$,N,k,j,W,G,K,z,X){var U=Math.min(E,S,P,L),Z=Math.min(T,A,R,D),V=Math.max(E,S,P,L),J=Math.max(T,A,R,D),_=V-U,ee=J-Z,te=this.spriteBounds.setTo(U,Z,_,ee),ie=C?C.preFX.padding:0,le=_+ie*2,he=ee+ie*2,fe=Math.abs(Math.max(le,he)),oe=this.manager.getRenderTarget(fe),Ce=this.targetBounds.setTo(0,0,oe.width,oe.height);v(Ce,Math.round(te.centerX),Math.round(te.centerY)),this.tempSprite=C;var ye=this.gl,Ee=this.renderer;Ee.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",Ee.width,Ee.height),this.flipProjectionMatrix(!0),C&&(this.onDrawSprite(C,oe),C.preFX.onFX(this));var Ie=this.fsTarget;return this.flush(),ye.viewport(0,0,Ee.width,Ee.height),ye.bindFramebuffer(ye.FRAMEBUFFER,Ie.framebuffer.webGLFramebuffer),ye.framebufferTexture2D(ye.FRAMEBUFFER,ye.COLOR_ATTACHMENT0,ye.TEXTURE_2D,Ie.texture.webGLTexture,0),ye.clearColor(0,0,0,0),ye.clear(ye.COLOR_BUFFER_BIT),this.setTexture2D(X),this.batchVert(E,T,F,$,0,z,j),this.batchVert(S,A,F,k,0,z,G),this.batchVert(P,R,N,k,0,z,K),this.batchVert(E,T,F,$,0,z,j),this.batchVert(P,R,N,k,0,z,K),this.batchVert(L,D,N,$,0,z,W),this.flush(),this.flipProjectionMatrix(!1),ye.activeTexture(ye.TEXTURE0),ye.bindTexture(ye.TEXTURE_2D,oe.texture.webGLTexture),ye.copyTexSubImage2D(ye.TEXTURE_2D,0,0,0,Ce.x,Ce.y,Ce.width,Ce.height),ye.bindFramebuffer(ye.FRAMEBUFFER,null),ye.bindTexture(ye.TEXTURE_2D,null),this.onBatch(C),this.currentShader=this.copyShader,this.onDraw(oe,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(C,E,T,S,A,P,R){T===void 0&&(T=!0),S===void 0&&(S=!0),A===void 0&&(A=!1),R===void 0&&(R=this.copyShader);var L=this.gl,D=this.tempSprite;P&&(R=this.colorMatrixShader),this.currentShader=R;var F=this.setVertexBuffer(this.quadVertexBuffer);R.bind(F,!1);var $=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",$.width,$.height),D.preFX.onFXCopy(this),this.onCopySprite(C,E,D),P&&(this.set1fv("uColorMatrix",P.getData()),this.set1f("uAlpha",P.alpha)),L.activeTexture(L.TEXTURE0),L.bindTexture(L.TEXTURE_2D,C.texture.webGLTexture),C.height>E.height)L.viewport(0,0,C.width,C.height),this.setTargetUVs(C,E);else{var N=E.height-C.height;L.viewport(0,N,C.width,C.height),this.resetUVs()}if(L.bindFramebuffer(L.FRAMEBUFFER,E.framebuffer.webGLFramebuffer),L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0,L.TEXTURE_2D,E.texture.webGLTexture,0),T&&(L.clearColor(0,0,0,+!S),L.clear(L.COLOR_BUFFER_BIT)),A){var k=this.renderer.currentBlendMode;this.renderer.setBlendMode(o.ERASE)}L.bufferData(L.ARRAY_BUFFER,this.quadVertexData,L.STATIC_DRAW),L.drawArrays(L.TRIANGLES,0,6),A&&this.renderer.setBlendMode(k),L.bindFramebuffer(L.FRAMEBUFFER,null)},copy:function(C,E){var T=this.gl;this.set1i("uMainSampler",0),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,C.texture.webGLTexture),T.viewport(0,0,C.width,C.height),this.setUVs(0,0,0,1,1,1,1,0),T.bindFramebuffer(T.FRAMEBUFFER,E.framebuffer.webGLFramebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,E.texture.webGLTexture,0),T.clearColor(0,0,0,0),T.clear(T.COLOR_BUFFER_BIT),T.bufferData(T.ARRAY_BUFFER,this.quadVertexData,T.STATIC_DRAW),T.drawArrays(T.TRIANGLES,0,6),T.bindFramebuffer(T.FRAMEBUFFER,null)},blendFrames:function(C,E,T,S,A){this.manager.blendFrames(C,E,T,S,A)},blendFramesAdditive:function(C,E,T,S,A){this.manager.blendFramesAdditive(C,E,T,S,A)},drawToGame:function(C){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(C)},copyToGame:function(C){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(C)},bindAndDraw:function(C){var E=this.gl,T=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(C.texture);var S=this._tempMatrix1.loadIdentity(),A=this.targetBounds.x,P=this.targetBounds.y,R=A+C.width,L=P+C.height,D=S.getX(A,P),F=S.getX(A,L),$=S.getX(R,L),N=S.getX(R,P),k=S.getY(A,P),j=S.getY(A,L),W=S.getY(R,L),G=S.getY(R,P),K=16777215;this.batchVert(D,k,0,0,0,0,K),this.batchVert(F,j,0,1,0,0,K),this.batchVert($,W,1,1,0,0,K),this.batchVert(D,k,0,0,0,0,K),this.batchVert($,W,1,1,0,0,K),this.batchVert(N,G,1,0,0,0,K),T.restoreFramebuffer(!1,!0),T.currentFramebuffer||E.viewport(0,0,T.width,T.height),T.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(C){this.drawToGame(C)},setUVs:function(C,E,T,S,A,P,R,L){var D=this.quadVertexViewF32;D[2]=C,D[3]=E,D[9]=T,D[10]=S,D[16]=A,D[17]=P,D[23]=C,D[24]=E,D[30]=A,D[31]=P,D[37]=R,D[38]=L},setTargetUVs:function(C,E){var T=E.height/C.height;T>.5?T=.5-(T-.5):T=.5+(.5-T),this.setUVs(0,T,0,1+T,1,1+T,1,T)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,a.prototype.destroy.call(this),this}});s.exports=w}),81041:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(95540),c=r(57516),u=new o({Extends:c,initialize:function(a){a.topology=5,a.batchSize=v(a,"batchSize",256),c.call(this,a)}});s.exports=u}),12385:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(95540),c=r(57516),u=r(45561),l=r(60722),a=r(29100),d=new o({Extends:c,initialize:function(h){h.fragShader=v(h,"fragShader",u),h.vertShader=v(h,"vertShader",l),h.forceZero=!0,c.call(this,h)},boot:function(){a.prototype.boot.call(this);var p=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",p.width,p.height)}});s.exports=d}),7589:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35407),v=r(10312),c=r(83419),u=r(89422),l=r(96293),a=r(36682),d=r(95540),p=r(48247),h=r(49627),g=r(29100),m=new c({Extends:g,initialize:function(w){w.renderTarget=d(w,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),w.vertShader=d(w,"vertShader",h),w.shaders=d(w,"shaders",[{name:"Copy",fragShader:a},{name:"AddBlend",fragShader:o},{name:"LinearBlend",fragShader:p},{name:"ColorMatrix",fragShader:l}]),w.attributes=d(w,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),w.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],w.batchSize=1,g.call(this,w),this.colorMatrix=new u,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){g.prototype.boot.call(this);var x=this.shaders,w=this.renderTargets;this.copyShader=x[0],this.addShader=x[1],this.linearShader=x[2],this.colorMatrixShader=x[3],this.fullFrame1=w[0],this.fullFrame2=w[1],this.halfFrame1=w[2],this.halfFrame2=w[3]},copyFrame:function(x,w,C,E,T){C===void 0&&(C=1),E===void 0&&(E=!0),T===void 0&&(T=!0);var S=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",C),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,x.texture.webGLTexture),w?(S.viewport(0,0,w.width,w.height),S.bindFramebuffer(S.FRAMEBUFFER,w.framebuffer.webGLFramebuffer),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,w.texture.webGLTexture,0)):S.viewport(0,0,x.width,x.height),E&&(T?S.clearColor(0,0,0,0):S.clearColor(0,0,0,1),S.clear(S.COLOR_BUFFER_BIT)),S.bufferData(S.ARRAY_BUFFER,this.vertexData,S.STATIC_DRAW),S.drawArrays(S.TRIANGLES,0,6),S.bindFramebuffer(S.FRAMEBUFFER,null),S.bindTexture(S.TEXTURE_2D,null)},blitFrame:function(x,w,C,E,T,S,A){C===void 0&&(C=1),E===void 0&&(E=!0),T===void 0&&(T=!0),S===void 0&&(S=!1),A===void 0&&(A=!1);var P=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",C),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,x.texture.webGLTexture),x.height>w.height)P.viewport(0,0,x.width,x.height),this.setTargetUVs(x,w);else{var R=w.height-x.height;P.viewport(0,R,x.width,x.height)}if(P.bindFramebuffer(P.FRAMEBUFFER,w.framebuffer.webGLFramebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,w.texture.webGLTexture,0),E&&(T?P.clearColor(0,0,0,0):P.clearColor(0,0,0,1),P.clear(P.COLOR_BUFFER_BIT)),S){var L=this.renderer.currentBlendMode;this.renderer.setBlendMode(v.ERASE)}A&&this.flipY(),P.bufferData(P.ARRAY_BUFFER,this.vertexData,P.STATIC_DRAW),P.drawArrays(P.TRIANGLES,0,6),S&&this.renderer.setBlendMode(L),P.bindFramebuffer(P.FRAMEBUFFER,null),P.bindTexture(P.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(x,w,C,E,T,S,A,P){A===void 0&&(A=!0),P===void 0&&(P=!0);var R=this.gl;R.bindFramebuffer(R.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,x.texture.webGLTexture,0),A&&(P?R.clearColor(0,0,0,0):R.clearColor(0,0,0,1),R.clear(R.COLOR_BUFFER_BIT)),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,w.texture.webGLTexture),R.copyTexSubImage2D(R.TEXTURE_2D,0,0,0,C,E,T,S),R.bindFramebuffer(R.FRAMEBUFFER,null),R.bindTexture(R.TEXTURE_2D,null)},copyToGame:function(x){var w=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,x.texture.webGLTexture),w.bufferData(w.ARRAY_BUFFER,this.vertexData,w.STATIC_DRAW),w.drawArrays(w.TRIANGLES,0,6)},drawFrame:function(x,w,C,E){C===void 0&&(C=!0),E===void 0&&(E=this.colorMatrix);var T=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",E.getData()),this.set1f("uAlpha",E.alpha),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,x.texture.webGLTexture),w?(T.viewport(0,0,w.width,w.height),T.bindFramebuffer(T.FRAMEBUFFER,w.framebuffer.webGLFramebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,w.texture.webGLTexture,0)):T.viewport(0,0,x.width,x.height),C?T.clearColor(0,0,0,0):T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT),T.bufferData(T.ARRAY_BUFFER,this.vertexData,T.STATIC_DRAW),T.drawArrays(T.TRIANGLES,0,6),T.bindFramebuffer(T.FRAMEBUFFER,null),T.bindTexture(T.TEXTURE_2D,null)},blendFrames:function(x,w,C,E,T,S){E===void 0&&(E=1),T===void 0&&(T=!0),S===void 0&&(S=this.linearShader);var A=this.gl;this.setShader(S),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",E),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,x.texture.webGLTexture),A.activeTexture(A.TEXTURE1),A.bindTexture(A.TEXTURE_2D,w.texture.webGLTexture),C?(A.bindFramebuffer(A.FRAMEBUFFER,C.framebuffer.webGLFramebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,C.texture.webGLTexture,0),A.viewport(0,0,C.width,C.height)):A.viewport(0,0,x.width,x.height),T?A.clearColor(0,0,0,0):A.clearColor(0,0,0,1),A.clear(A.COLOR_BUFFER_BIT),A.bufferData(A.ARRAY_BUFFER,this.vertexData,A.STATIC_DRAW),A.drawArrays(A.TRIANGLES,0,6),A.bindFramebuffer(A.FRAMEBUFFER,null),A.bindTexture(A.TEXTURE_2D,null)},blendFramesAdditive:function(x,w,C,E,T){this.blendFrames(x,w,C,E,T,this.addShader)},clearFrame:function(x,w){w===void 0&&(w=!0);var C=this.gl;C.viewport(0,0,x.width,x.height),C.bindFramebuffer(C.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),w?C.clearColor(0,0,0,0):C.clearColor(0,0,0,1),C.clear(C.COLOR_BUFFER_BIT);var E=this.renderer.currentFramebuffer;C.bindFramebuffer(C.FRAMEBUFFER,E.webGLFramebuffer)},setUVs:function(x,w,C,E,T,S,A,P){var R=this.vertexViewF32;R[2]=x,R[3]=w,R[6]=C,R[7]=E,R[10]=T,R[11]=S,R[14]=x,R[15]=w,R[18]=T,R[19]=S,R[22]=A,R[23]=P},setTargetUVs:function(x,w){var C=w.height/x.height;C>.5?C=.5-(C-.5):C=.5+(.5-C),this.setUVs(0,C,0,1+C,1,1+C,1,C)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});s.exports=m}),36060:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};s.exports=y}),84817:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pipelineafterflush"}),36712:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pipelinebeforeflush"}),40285:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pipelinebind"}),65918:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pipelineboot"}),92852:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pipelinedestroy"}),56072:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pipelinerebind"}),57566:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pipelineresize"}),77085:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={AFTER_FLUSH:r(84817),BEFORE_FLUSH:r(36712),BIND:r(40285),BOOT:r(65918),DESTROY:r(92852),REBIND:r(56072),RESIZE:r(57566)}}),54812:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(99155),c=r(84057),u=new o({Extends:c,initialize:function(a){c.call(this,{game:a,fragShader:v}),this.amount=1},onPreRender:function(l,a){l=this.getController(l),this.set1f("amount",l.amount,a)}});s.exports=u}),67329:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(24400),c=r(84057),u=new o({Extends:c,initialize:function(a){c.call(this,{game:a,fragShader:v}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(l){l=this.getController(l),this.set1f("strength",l.blurStrength),this.set3fv("color",l.glcolor)},onDraw:function(l){var a=this.getController(),d=this.fullFrame1,p=this.fullFrame2;this.copyFrame(l,p);for(var h=2/l.width*a.offsetX,g=2/l.height*a.offsetY,m=0;m<a.steps;m++)this.set2f("offset",h,0),this.copySprite(l,d),this.set2f("offset",0,g),this.copySprite(d,l);this.blendFrames(p,l,d,a.strength),this.copyToGame(d)}});s.exports=u}),8861:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(41514),c=r(51078),u=r(94328),l=r(84057),a=new o({Extends:l,initialize:function(p){l.call(this,{game:p,shaders:[{name:"Gaussian5",fragShader:v},{name:"Gaussian9",fragShader:c},{name:"Gaussian13",fragShader:u}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(d){var p=this.getController(),h=this.gl,g=this.fullFrame1,m=h.getParameter(h.FRAMEBUFFER_BINDING);this.bind(this.shaders[p.quality]),h.activeTexture(h.TEXTURE0),h.viewport(0,0,d.width,d.height),this.set1i("uMainSampler",0),this.set2f("resolution",d.width,d.height),this.set1f("strength",p.strength),this.set3fv("color",p.glcolor);for(var x=0;x<p.steps;x++)this.set2f("offset",p.x,0),this.copySprite(d,g),this.set2f("offset",0,p.y),this.copySprite(g,d);h.bindFramebuffer(h.FRAMEBUFFER,m),h.bindTexture(h.TEXTURE_2D,null),this.copyToGame(d)}});s.exports=a}),51051:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(90610),c=r(84057),u=new o({Extends:c,initialize:function(a){c.call(this,{game:a,fragShader:v}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(l,a,d,p){l=this.getController(l),this.set1f("radius",l.radius,a),this.set1f("amount",l.amount,a),this.set1f("contrast",l.contrast,a),this.set1f("strength",l.strength,a),this.set2f("blur",l.blurX,l.blurY,a),this.setBoolean("isTiltShift",l.isTiltShift,a),d&&p&&this.set2f("resolution",d,p,a)},onDraw:function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)}});s.exports=u}),89428:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(91899),c=r(84057),u=new o({Extends:c,initialize:function(a){c.call(this,{game:a,fragShader:v}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(l,a,d,p){l=this.getController(l),this.set1f("scale",l.scale,a),this.set1f("feather",l.feather,a),this.set1f("thickness",l.thickness,a),this.set3fv("color",l.glcolor,a),this.set4fv("backgroundColor",l.glcolor2,a),d&&p&&this.set2f("resolution",d,p,a)},onDraw:function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)}});s.exports=u}),88904:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(84057),c=new o({Extends:v,initialize:function(l){v.call(this,{game:l})},onDraw:function(u){var l=this.fullFrame1;this.controller?this.manager.drawFrame(u,l,!0,this.controller):this.drawFrame(u,l),this.copyToGame(l)}});s.exports=c}),63563:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(47838),c=r(84057),u=new o({Extends:c,initialize:function(a){c.call(this,{game:a,fragShader:v}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(l){var a=this.game.textures.getFrame(l);a&&(this.glTexture=a.glTexture)},onDraw:function(l){var a=this.getController(),d=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",a.x,a.y),this.bindTexture(a.glTexture,1),this.copySprite(l,d),this.copyToGame(d)}});s.exports=u}),94045:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(95540),c=r(98656),u=r(84057),l=r(70554),a=new o({Extends:u,initialize:function(p,h){var g=v(h,"quality",.1),m=v(h,"distance",10);u.call(this,{game:p,fragShader:l.setGlowQuality(c,p,g,m)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(d,p,h,g){d=this.getController(d),this.set1f("outerStrength",d.outerStrength,p),this.set1f("innerStrength",d.innerStrength,p),this.set4fv("glowColor",d.glcolor,p),this.setBoolean("knockout",d.knockout,p),h&&g&&this.set2f("resolution",h,g,p)},onDraw:function(d){this.set2f("resolution",d.width,d.height),this.bindAndDraw(d)}});s.exports=a}),74088:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(70463),c=r(84057),u=new o({Extends:c,initialize:function(a){c.call(this,{game:a,fragShader:v}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(l,a){l=this.getController(l),this.set1f("alpha",l.alpha,a),this.set1i("size",l.size,a),this.set3fv("color1",l.glcolor1,a),this.set3fv("color2",l.glcolor2,a),this.set2f("positionFrom",l.fromX,l.fromY,a),this.set2f("positionTo",l.toX,l.toY,a)}});s.exports=u}),99636:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(50831),c=r(84057),u=new o({Extends:c,initialize:function(a){c.call(this,{game:a,fragShader:v}),this.amount=1},onPreRender:function(l,a,d,p){l=this.getController(l),this.set1f("amount",l.amount,a),d&&p&&this.set2f("resolution",d,p,a)},onDraw:function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)}});s.exports=u}),34700:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(92595),c=r(84057),u=new o({Extends:c,initialize:function(a){c.call(this,{game:a,fragShader:v}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(l,a){l=this.getController(l);var d=l.samples;this.set1i("samples",d,a),this.set1f("intensity",l.intensity,a),this.set1f("decay",l.decay,a),this.set1f("power",l.power/d,a),this.set2f("lightPosition",l.x,l.y,a),this.set4fv("color",l.glcolor,a)}});s.exports=u}),91157:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(72464),c=r(84057),u=new o({Extends:c,initialize:function(a){c.call(this,{game:a,fragShader:v}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(l,a,d,p){l=this.getController(l),this.setTime("time",a),this.set1f("speed",l.speed,a),this.set1f("lineWidth",l.lineWidth,a),this.set1f("gradient",l.gradient,a),this.setBoolean("reveal",l.reveal,a),d&&p&&this.set2f("resolution",d,p,a)},onDraw:function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)}});s.exports=u}),27797:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(39249),c=r(84057),u=new o({Extends:c,initialize:function(a){c.call(this,{game:a,fragShader:v}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(l,a){l=this.getController(l),this.set1f("radius",l.radius,a),this.set1f("strength",l.strength,a),this.set2f("position",l.x,l.y,a)}});s.exports=u}),67603:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(2878),c=r(84057),u=new o({Extends:c,initialize:function(a){c.call(this,{game:a,fragShader:v}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(l,a){l=this.getController(l);var d=l.progress,p=l.wipeWidth,h=l.direction,g=l.axis;this.set4f("config",d,p,h,g,a),this.setBoolean("reveal",l.reveal,a)}});s.exports=u}),58918:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={Barrel:r(54812),Bloom:r(67329),Blur:r(8861),Bokeh:r(51051),Circle:r(89428),ColorMatrix:r(88904),Displacement:r(63563),Glow:r(94045),Gradient:r(74088),Pixelate:r(99636),Shadow:r(34700),Shine:r(91157),Vignette:r(27797),Wipe:r(67603)};s.exports=o}),96615:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36060),v=r(79291),c={FX:r(58918),BitmapMaskPipeline:r(31302),Events:r(77085),FXPipeline:r(92651),LightPipeline:r(96569),MobilePipeline:r(56527),MultiPipeline:r(57516),PointLightPipeline:r(43439),PostFXPipeline:r(84057),PreFXPipeline:r(43558),RopePipeline:r(81041),SinglePipeline:r(12385),UtilityPipeline:r(7589)};c=v(!1,c,o),s.exports=c}),35407:(s=>{s.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)}),78908:(s=>{s.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)}),85191:(s=>{s.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)}),96293:(s=>{s.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)}),36682:(s=>{s.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)}),99155:(s=>{s.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)}),24400:(s=>{s.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)}),94328:(s=>{s.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)}),41514:(s=>{s.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)}),51078:(s=>{s.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)}),90610:(s=>{s.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)}),91899:(s=>{s.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)}),47838:(s=>{s.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)}),98656:(s=>{s.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)}),70463:(s=>{s.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)}),50831:(s=>{s.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)}),92595:(s=>{s.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)}),72464:(s=>{s.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)}),39249:(s=>{s.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)}),2878:(s=>{s.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)}),31063:(s=>{s.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)}),48247:(s=>{s.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)}),41214:(s=>{s.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)}),39653:(s=>{s.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)}),62143:(s=>{s.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)}),47940:(s=>{s.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)}),98840:(s=>{s.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)}),44667:(s=>{s.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)}),4127:(s=>{s.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)}),89924:(s=>{s.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)}),27681:(s=>{s.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)}),49627:(s=>{s.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)}),45561:(s=>{s.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)}),60722:(s=>{s.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)}),89350:((s,y,r)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={AddBlendFrag:r(35407),BitmapMaskFrag:r(78908),BitmapMaskVert:r(85191),ColorMatrixFrag:r(96293),CopyFrag:r(36682),FXBarrelFrag:r(99155),FXBloomFrag:r(24400),FXBlurHighFrag:r(94328),FXBlurLowFrag:r(41514),FXBlurMedFrag:r(51078),FXBokehFrag:r(90610),FXCircleFrag:r(91899),FXDisplacementFrag:r(47838),FXGlowFrag:r(98656),FXGradientFrag:r(70463),FXPixelateFrag:r(50831),FXShadowFrag:r(92595),FXShineFrag:r(72464),FXVignetteFrag:r(39249),FXWipeFrag:r(2878),LightFrag:r(31063),LinearBlendFrag:r(48247),MeshFrag:r(41214),MeshVert:r(39653),MobileFrag:r(62143),MobileVert:r(47940),MultiFrag:r(98840),MultiVert:r(44667),PointLightFrag:r(4127),PointLightVert:r(89924),PostFXFrag:r(27681),QuadVert:r(49627),SingleFrag:r(45561),SingleVert:r(60722)}}),93567:((s,y,r)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=new o({initialize:function(u,l,a){this.webGLAttribLocation=-1,this.gl=u,this.program=l,this.name=a,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var c=this.gl;c.isContextLost()||(this.webGLAttribLocation=c.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});s.exports=v}),26128:((s,y,r)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=new o({initialize:function(u,l,a,d){this.webGLBuffer=null,this.gl=u,this.initialDataOrSize=l,this.bufferType=a,this.bufferUsage=d,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var c=this.gl;if(!c.isContextLost()){var u=this.bufferType,l=c.createBuffer();this.webGLBuffer=l,c.bindBuffer(u,this.webGLBuffer),c.bufferData(u,this.initialDataOrSize,this.bufferUsage),c.bindBuffer(u,null)}}},destroy:function(){var c=this.gl;c.isContextLost()||c.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});s.exports=v}),84387:((s,y,r)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},c=new o({initialize:function(l,a,d,p,h){this.webGLFramebuffer=null,this.gl=l,this.width=a,this.height=d,this.renderTexture=p,this.addDepthStencilBuffer=!!h,this.createResource()},createResource:function(){var u=this.gl;if(!u.isContextLost()){var l=this.renderTexture,a=0,d=u.createFramebuffer();if(this.webGLFramebuffer=d,u.bindFramebuffer(u.FRAMEBUFFER,d),l.isRenderTexture=!0,l.isAlphaPremultiplied=!1,u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,l.webGLTexture,0),a=u.checkFramebufferStatus(u.FRAMEBUFFER),a!==u.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(v[a]||a));if(this.addDepthStencilBuffer){var p=u.createRenderbuffer();u.bindRenderbuffer(u.RENDERBUFFER,p),u.renderbufferStorage(u.RENDERBUFFER,u.DEPTH_STENCIL,this.width,this.height),u.framebufferRenderbuffer(u.FRAMEBUFFER,u.DEPTH_STENCIL_ATTACHMENT,u.RENDERBUFFER,p)}u.bindFramebuffer(u.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var u=this.gl;if(!u.isContextLost()){u.bindFramebuffer(u.FRAMEBUFFER,this.webGLFramebuffer);var l=u.getFramebufferAttachmentParameter(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);l!==null&&(u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,null,0),u.deleteTexture(l));var a=u.getFramebufferAttachmentParameter(u.FRAMEBUFFER,u.DEPTH_STENCIL_ATTACHMENT,u.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);a!==null&&u.deleteRenderbuffer(a),u.bindFramebuffer(u.FRAMEBUFFER,null),u.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});s.exports=c}),1482:((s,y,r)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=new o({initialize:function(u,l,a){this.webGLProgram=null,this.gl=u,this.vertexSource=l,this.fragmentSource=a,this.createResource()},createResource:function(){var c=this.gl;if(!c.isContextLost()){var u=c.createProgram(),l=c.createShader(c.VERTEX_SHADER),a=c.createShader(c.FRAGMENT_SHADER);c.shaderSource(l,this.vertexSource),c.shaderSource(a,this.fragmentSource),c.compileShader(l),c.compileShader(a);var d=`Shader failed:
`;if(!c.getShaderParameter(l,c.COMPILE_STATUS))throw new Error("Vertex "+d+c.getShaderInfoLog(l));if(!c.getShaderParameter(a,c.COMPILE_STATUS))throw new Error("Fragment "+d+c.getShaderInfoLog(a));if(c.attachShader(u,l),c.attachShader(u,a),c.linkProgram(u),!c.getProgramParameter(u,c.LINK_STATUS))throw new Error("Link "+d+c.getProgramInfoLog(u));c.useProgram(u),this.webGLProgram=u}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});s.exports=v}),82751:((s,y,r)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(50030),c=new o({initialize:function(l,a,d,p,h,g,m,x,w,C,E,T,S){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=l,this.mipLevel=a,this.minFilter=d,this.magFilter=p,this.wrapT=h,this.wrapS=g,this.format=m,this.pixels=x,this.width=w,this.height=C,this.pma=E??!0,this.forceSize=!!T,this.flipY=!!S,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var u=this.gl;if(!u.isContextLost()){if(this.pixels instanceof c){this.webGLTexture=this.pixels.webGLTexture;return}var l=u.createTexture();l.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=l,this._processTexture()}},update:function(u,l,a,d,p,h,g,m,x){if(!(l===0||a===0)){this.pixels=u,this.width=l,this.height=a,this.flipY=d,this.wrapS=p,this.wrapT=h,this.minFilter=g,this.magFilter=m,this.format=x;var w=this.gl;w.isContextLost()||this._processTexture()}},_processTexture:function(){var u=this.gl;u.activeTexture(u.TEXTURE0);var l=u.getParameter(u.TEXTURE_BINDING_2D);u.bindTexture(u.TEXTURE_2D,this.webGLTexture),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,this.minFilter),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,this.magFilter),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,this.wrapS),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,this.wrapT),u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,this.flipY);var a=this.pixels,d=this.mipLevel,p=this.width,h=this.height,g=this.format,m=!1;if(a==null)u.texImage2D(u.TEXTURE_2D,d,g,p,h,0,g,u.UNSIGNED_BYTE,null),m=v(p,h);else if(a.compressed){p=a.width,h=a.height,m=a.generateMipmap;for(var x=0;x<a.mipmaps.length;x++)u.compressedTexImage2D(u.TEXTURE_2D,x,a.internalFormat,a.mipmaps[x].width,a.mipmaps[x].height,0,a.mipmaps[x].data)}else a instanceof Uint8Array?(u.texImage2D(u.TEXTURE_2D,d,g,p,h,0,g,u.UNSIGNED_BYTE,a),m=v(p,h)):(this.forceSize||(p=a.width,h=a.height),u.texImage2D(u.TEXTURE_2D,d,g,g,u.UNSIGNED_BYTE,a),m=v(p,h));m&&u.generateMipmap(u.TEXTURE_2D),l?u.bindTexture(u.TEXTURE_2D,l):u.bindTexture(u.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(u){this.__SPECTOR_Metadata=u,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=u)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof c||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});s.exports=c}),57183:((s,y,r)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=new o({initialize:function(u,l,a){this.webGLUniformLocation=null,this.gl=u,this.program=l,this.name=a,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var c=this.gl;c.isContextLost()||(this.webGLUniformLocation=c.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});s.exports=v}),9503:((s,y,r)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={WebGLAttribLocationWrapper:r(93567),WebGLBufferWrapper:r(26128),WebGLProgramWrapper:r(1482),WebGLTextureWrapper:r(82751),WebGLFramebufferWrapper:r(84387),WebGLUniformLocationWrapper:r(57183)};s.exports=o}),76531:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(13560),v=r(83419),c=r(45319),u=r(50792),l=r(97480),a=r(8443),d=r(57811),p=r(74403),h=r(45818),g=r(29747),m=r(87841),x=r(86555),w=r(56583),C=r(26099),E=r(38058),T=new v({Extends:u,initialize:function(A){u.call(this),this.game=A,this.canvas,this.canvasBounds=new m,this.parent=null,this.parentIsWindow=!1,this.parentSize=new x,this.gameSize=new x,this.baseSize=new x,this.displaySize=new x,this.scaleMode=o.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new C(1,1),this.autoRound=!1,this.autoCenter=o.CENTER.NO_CENTER,this.orientation=o.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:g,windowResize:g,fullScreenChange:g,fullScreenError:g}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(a.BOOT,this.boot,this)},boot:function(){var S=this.game;this.canvas=S.canvas,this.fullscreen=S.device.fullscreen;var A=this.scaleMode;A!==o.SCALE_MODE.RESIZE&&A!==o.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(A),A===o.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),S.events.on(a.PRE_STEP,this.step,this),S.events.once(a.READY,this.refresh,this),S.events.once(a.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(S){this.getParent(S),this.getParentBounds();var A=S.width,P=S.height,R=S.scaleMode,L=S.zoom,D=S.autoRound;if(typeof A=="string")if(A.substr(-1)!=="%")A=parseInt(A,10);else{var F=this.parentSize.width;F===0&&(F=window.innerWidth);var $=parseInt(A,10)/100;A=Math.floor(F*$)}if(typeof P=="string")if(P.substr(-1)!=="%")P=parseInt(P,10);else{var N=this.parentSize.height;N===0&&(N=window.innerHeight);var k=parseInt(P,10)/100;P=Math.floor(N*k)}this.scaleMode=R,this.autoRound=D,this.autoCenter=S.autoCenter,this.resizeInterval=S.resizeInterval,D&&(A=Math.floor(A),P=Math.floor(P)),this.gameSize.setSize(A,P),L===o.ZOOM.MAX_ZOOM&&(L=this.getMaxZoom()),this.zoom=L,L!==1&&(this._resetZoom=!0),this.baseSize.setSize(A,P),D&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),S.minWidth>0&&this.displaySize.setMin(S.minWidth*L,S.minHeight*L),S.maxWidth>0&&this.displaySize.setMax(S.maxWidth*L,S.maxHeight*L),this.displaySize.setSize(A,P),(S.snapWidth>0||S.snapHeight>0)&&this.displaySize.setSnap(S.snapWidth,S.snapHeight),this.orientation=h(A,P)},getParent:function(S){var A=S.parent;if(A!==null){if(this.parent=p(A),this.parentIsWindow=this.parent===document.body,S.expandParent&&S.scaleMode!==o.SCALE_MODE.NONE){var P=this.parent.getBoundingClientRect();(this.parentIsWindow||P.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",P=this.parent.getBoundingClientRect(),!this.parentIsWindow&&P.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}S.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=p(S.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var S=this.parentSize,A=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(A.height=d(!0));var P=A.width,R=A.height;if(S.width!==P||S.height!==R)return S.setSize(P,R),!0;if(this.canvas){var L=this.canvasBounds,D=this.canvas.getBoundingClientRect();if(D.x!==L.x||D.y!==L.y)return!0}return!1},lockOrientation:function(S){var A=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return A?A.call(screen,S):!1},setParentSize:function(S,A){return this.parentSize.setSize(S,A),this.refresh()},setGameSize:function(S,A){var P=this.autoRound;P&&(S=Math.floor(S),A=Math.floor(A));var R=this.width,L=this.height;return this.gameSize.resize(S,A),this.baseSize.resize(S,A),P&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(S/A),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(R,L)},resize:function(S,A){var P=this.zoom,R=this.autoRound;R&&(S=Math.floor(S),A=Math.floor(A));var L=this.width,D=this.height;this.gameSize.resize(S,A),this.baseSize.resize(S,A),R&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(S*P,A*P),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var F=this.canvas.style,$=S*P,N=A*P;return R&&($=Math.floor($),N=Math.floor(N)),($!==S||N!==A)&&(F.width=$+"px",F.height=N+"px"),this.refresh(L,D)},setZoom:function(S){return this.zoom=S,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(S,A){return S===void 0&&(S=0),A===void 0&&(A=S),this.displaySize.setSnap(S,A),this.refresh()},refresh:function(S,A){S===void 0&&(S=this.width),A===void 0&&(A=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var P=this.game.domContainer;if(P){this.baseSize.setCSS(P);var R=this.canvas.style,L=P.style;L.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",L.marginLeft=R.marginLeft,L.marginTop=R.marginTop}return this.emit(l.RESIZE,this.gameSize,this.baseSize,this.displaySize,S,A),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var S=h(this.width,this.height);S!==this.orientation&&(this.orientation=S,this.emit(l.ORIENTATION_CHANGE,S))}},updateScale:function(){var S=this.canvas.style,A=this.gameSize.width,P=this.gameSize.height,R,L,D=this.zoom,F=this.autoRound;if(this.scaleMode===o.SCALE_MODE.NONE)this.displaySize.setSize(A*D,P*D),R=this.displaySize.width,L=this.displaySize.height,F&&(R=Math.floor(R),L=Math.floor(L)),this._resetZoom&&(S.width=R+"px",S.height=L+"px",this._resetZoom=!1);else if(this.scaleMode===o.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),R=this.displaySize.width,L=this.displaySize.height,F&&(R=Math.floor(R),L=Math.floor(L)),this.canvas.width=R,this.canvas.height=L;else if(this.scaleMode===o.SCALE_MODE.EXPAND){var $=this.game.config.width,N=this.game.config.height,k=this.parentSize.width,j=this.parentSize.height,W=k/$,G=j/N,K,z;W<G?(K=$,z=W!==0?j/W:N):(K=G!==0?k/G:$,z=N);var X=c(K,this.displaySize.minWidth,this.displaySize.maxWidth),U=c(z,this.displaySize.minHeight,this.displaySize.maxHeight);this.baseSize.setSize(X,U),this.gameSize.setSize(X,U),F&&(X=Math.floor(X),U=Math.floor(U)),this.canvas.width=X,this.canvas.height=U;var Z=k*(X/K),V=j*(U/z);this.displaySize.setSize(Z,V),R=this.displaySize.width,L=this.displaySize.height,F&&(R=Math.floor(R),L=Math.floor(L)),S.width=R+"px",S.height=L+"px"}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),R=this.displaySize.width,L=this.displaySize.height,F&&(R=Math.floor(R),L=Math.floor(L)),S.width=R+"px",S.height=L+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var S=w(this.parentSize.width,this.gameSize.width,0,!0),A=w(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(S,A),1)},updateCenter:function(){var S=this.autoCenter;if(S!==o.CENTER.NO_CENTER){var A=this.canvas,P=A.style,R=A.getBoundingClientRect(),L=R.width,D=R.height,F=Math.floor((this.parentSize.width-L)/2),$=Math.floor((this.parentSize.height-D)/2);S===o.CENTER.CENTER_HORIZONTALLY?$=0:S===o.CENTER.CENTER_VERTICALLY&&(F=0),P.marginLeft=F+"px",P.marginTop=$+"px"}},updateBounds:function(){var S=this.canvasBounds,A=this.canvas.getBoundingClientRect();S.x=A.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),S.y=A.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),S.width=A.width,S.height=A.height},transformX:function(S){return(S-this.canvasBounds.left)*this.displayScale.x},transformY:function(S){return(S-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(S){S===void 0&&(S={navigationUI:"hide"});var A=this.fullscreen;if(!A.available){this.emit(l.FULLSCREEN_UNSUPPORTED);return}if(!A.active){var P=this.getFullscreenTarget();A.keyboard?P[A.request](Element.ALLOW_KEYBOARD_INPUT):P[A.request](S)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(l.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(S){this.removeFullscreenTarget(),this.emit(l.FULLSCREEN_FAILED,S)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var S=document.createElement("div");S.style.margin="0",S.style.padding="0",S.style.width="100%",S.style.height="100%",this.fullscreenTarget=S,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var A=this.canvas.parentNode;A.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var S=this.fullscreenTarget;if(S&&S.parentNode){var A=S.parentNode;A.insertBefore(this.canvas,S),A.removeChild(S)}}},stopFullscreen:function(){var S=this.fullscreen;if(!S.available)return this.emit(l.FULLSCREEN_UNSUPPORTED),!1;S.active&&document[S.cancel](),this.removeFullscreenTarget()},leaveFullScreenSuccessHandler:function(){this.getParentBounds(),this.emit(l.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(S){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(S)},startListeners:function(){var S=this,A=this.domlisteners;if(A.orientationChange=function(){S.updateBounds(),S._checkOrientation=!0,S.dirty=!0,S.refresh()},A.windowResize=function(){S.updateBounds(),S.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",A.orientationChange,!1):window.addEventListener("orientationchange",A.orientationChange,!1),window.addEventListener("resize",A.windowResize,!1),this.fullscreen.available){A.fullScreenChange=function(R){return S.onFullScreenChange(R)},A.fullScreenError=function(R){return S.onFullScreenError(R)};var P=["webkit","moz",""];P.forEach(function(R){document.addEventListener(R+"fullscreenchange",A.fullScreenChange,!1),document.addEventListener(R+"fullscreenerror",A.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",A.fullScreenChange,!1),document.addEventListener("MSFullscreenError",A.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(S,A){S instanceof E||(A=S,S=void 0),A===void 0&&(A=new m);var P=this.baseSize,R=this.parentSize,L=this.canvasBounds,D=this.displayScale,F=L.x>=0?0:-(L.x*D.x),$=L.y>=0?0:-(L.y*D.y),N;R.width>=L.width?N=P.width:N=P.width-(L.width-R.width)*D.x;var k;return R.height>=L.height?k=P.height:k=P.height-(L.height-R.height)*D.y,A.setTo(F,$,N,k),S&&(A.width/=S.zoomX,A.height/=S.zoomY,A.centerX=S.centerX+S.scrollX,A.centerY=S.centerY+S.scrollY),A},step:function(S,A){this.parent&&(this._lastCheck+=A,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var S=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",S.orientationChange,!1):window.removeEventListener("orientationchange",S.orientationChange,!1),window.removeEventListener("resize",S.windowResize,!1);var A=["webkit","moz",""];A.forEach(function(P){document.removeEventListener(P+"fullscreenchange",S.fullScreenChange,!1),document.removeEventListener(P+"fullscreenerror",S.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",S.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",S.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===o.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===o.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});s.exports=T}),64743:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}}),39218:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}}),81050:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}}),80805:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}}),13560:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={CENTER:r(64743),ORIENTATION:r(39218),SCALE_MODE:r(81050),ZOOM:r(80805)};s.exports=o}),56139:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="enterfullscreen"}),2336:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="fullscreenfailed"}),47412:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="fullscreenunsupported"}),51452:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="leavefullscreen"}),20666:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="orientationchange"}),47945:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="resize"}),97480:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={ENTER_FULLSCREEN:r(56139),FULLSCREEN_FAILED:r(2336),FULLSCREEN_UNSUPPORTED:r(47412),LEAVE_FULLSCREEN:r(51452),ORIENTATION_CHANGE:r(20666),RESIZE:r(47945)}}),93364:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(79291),v=r(13560),c={Center:r(64743),Events:r(97480),Orientation:r(39218),ScaleManager:r(76531),ScaleModes:r(81050),Zoom:r(80805)};c=o(!1,c,v.CENTER),c=o(!1,c,v.ORIENTATION),c=o(!1,c,v.SCALE_MODE),c=o(!1,c,v.ZOOM),s.exports=c}),27397:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95540),v=r(35355),c=function(u){var l=u.game.config.defaultPhysicsSystem,a=o(u.settings,"physics",!1);if(!(!l&&!a)){var d=[];if(l&&d.push(v(l+"Physics")),a)for(var p in a)p=v(p.concat("Physics")),d.indexOf(p)===-1&&d.push(p);return d}};s.exports=c}),52106:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95540),v=function(c){var u=c.plugins.getDefaultScenePlugins(),l=o(c.settings,"plugins",!1);return Array.isArray(l)?l:u||[]};s.exports=v}),87033:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};s.exports=y}),97482:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(2368),c=new o({initialize:function(l){this.sys=new v(this,l),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});s.exports=c}),60903:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(89993),c=r(44594),u=r(8443),l=r(35154),a=r(54899),d=r(29747),p=r(97482),h=r(2368),g=new o({initialize:function(x,w){if(this.game=x,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,w){Array.isArray(w)||(w=[w]);for(var C=0;C<w.length;C++)this._pending.push({key:"default",scene:w[C],autoStart:C===0,data:{}})}x.events.once(u.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new p),this.game.events.emit(u.SYSTEM_READY,this.systemScene,this);var m,x,w,C;for(m=0;m<this._pending.length;m++){x=this._pending[m],w=x.key,C=x.scene;var E;C instanceof p?E=this.createSceneFromInstance(w,C):typeof C=="object"?E=this.createSceneFromObject(w,C):typeof C=="function"&&(E=this.createSceneFromFunction(w,C)),w=E.sys.settings.key,this.keys[w]=E,this.scenes.push(E),this._data[w]&&(E.sys.settings.data=this._data[w].data,this._data[w].autoStart&&(x.autoStart=!0)),(x.autoStart||E.sys.settings.active)&&this._start.push(w)}for(this._pending.length=0,this._data={},this.isBooted=!0,m=0;m<this._start.length;m++)x=this._start[m],this.start(x);this._start.length=0}},processQueue:function(){var m=this._pending.length,x=this._queue.length;if(!(m===0&&x===0)){var w,C;if(m){for(w=0;w<m;w++)C=this._pending[w],this.add(C.key,C.scene,C.autoStart,C.data);for(w=0;w<this._start.length;w++)C=this._start[w],this.start(C);this._start.length=0,this._pending.length=0}for(w=0;w<this._queue.length;w++)C=this._queue[w],this[C.op](C.keyA,C.keyB,C.data);this._queue.length=0}},add:function(m,x,w,C){if(w===void 0&&(w=!1),C===void 0&&(C={}),this.isProcessing||!this.isBooted)return this._pending.push({key:m,scene:x,autoStart:w,data:C}),this.isBooted||(this._data[m]={data:C}),null;m=this.getKey(m,x);var E;return x instanceof p?E=this.createSceneFromInstance(m,x):typeof x=="object"?(x.key=m,E=this.createSceneFromObject(m,x)):typeof x=="function"&&(E=this.createSceneFromFunction(m,x)),E.sys.settings.data=C,m=E.sys.settings.key,this.keys[m]=E,this.scenes.push(E),(w||E.sys.settings.active)&&(this._pending.length?this._start.push(m):this.start(m)),E},remove:function(m){if(this.isProcessing)return this.queueOp("remove",m);var x=this.getScene(m);if(!x||x.sys.isTransitioning())return this;var w=this.scenes.indexOf(x),C=x.sys.settings.key;return w>-1&&(delete this.keys[C],this.scenes.splice(w,1),this._start.indexOf(C)>-1&&(w=this._start.indexOf(C),this._start.splice(w,1)),x.sys.destroy()),this},bootScene:function(m){var x=m.sys,w=x.settings;x.sceneUpdate=d,m.init&&(m.init.call(m,w.data),w.status=v.INIT,w.isTransition&&x.events.emit(c.TRANSITION_INIT,w.transitionFrom,w.transitionDuration));var C;x.load&&(C=x.load,C.reset()),C&&m.preload?(m.preload.call(m),w.status=v.LOADING,C.once(a.COMPLETE,this.loadComplete,this),C.start()):this.create(m)},loadComplete:function(m){this.create(m.scene)},payloadComplete:function(m){this.bootScene(m.scene)},update:function(m,x){this.processQueue(),this.isProcessing=!0;for(var w=this.scenes.length-1;w>=0;w--){var C=this.scenes[w].sys;C.settings.status>v.START&&C.settings.status<=v.RUNNING&&C.step(m,x),C.scenePlugin&&C.scenePlugin._target&&C.scenePlugin.step(m,x)}},render:function(m){for(var x=0;x<this.scenes.length;x++){var w=this.scenes[x].sys;w.settings.visible&&w.settings.status>=v.LOADING&&w.settings.status<v.SLEEPING&&w.render(m)}this.isProcessing=!1},create:function(m){var x=m.sys,w=x.settings;m.create&&(w.status=v.CREATING,m.create.call(m,w.data),w.status===v.DESTROYED)||(w.isTransition&&x.events.emit(c.TRANSITION_START,w.transitionFrom,w.transitionDuration),m.update&&(x.sceneUpdate=m.update),w.status=v.RUNNING,x.events.emit(c.CREATE,m))},createSceneFromFunction:function(m,x){var w=new x;if(w instanceof p){var C=w.sys.settings.key;if(C!==""&&(m=C),this.keys.hasOwnProperty(m))throw new Error("Cannot add Scene with duplicate key: "+m);return this.createSceneFromInstance(m,w)}else return w.sys=new h(w),w.sys.settings.key=m,w.sys.init(this.game),w},createSceneFromInstance:function(m,x){var w=x.sys.settings.key;return w===""&&(x.sys.settings.key=m),x.sys.init(this.game),x},createSceneFromObject:function(m,x){var w=new p(x),C=w.sys.settings.key;C!==""?m=C:w.sys.settings.key=m,w.sys.init(this.game);for(var E=["init","preload","create","update","render"],T=0;T<E.length;T++){var S=l(x,E[T],null);S&&(w[E[T]]=S)}if(x.hasOwnProperty("extend")){for(var A in x.extend)if(x.extend.hasOwnProperty(A)){var P=x.extend[A];A==="data"&&w.hasOwnProperty("data")&&typeof P=="object"?w.data.merge(P):A!=="sys"&&(w[A]=P)}}return w},getKey:function(m,x){if(m||(m="default"),typeof x=="function")return m;if(x instanceof p?m=x.sys.settings.key:typeof x=="object"&&x.hasOwnProperty("key")&&(m=x.key),this.keys.hasOwnProperty(m))throw new Error("Cannot add Scene with duplicate key: "+m);return m},getScenes:function(m,x){m===void 0&&(m=!0),x===void 0&&(x=!1);for(var w=[],C=this.scenes,E=0;E<C.length;E++){var T=C[E];T&&(!m||m&&T.sys.isActive())&&w.push(T)}return x?w.reverse():w},getScene:function(m){if(typeof m=="string"){if(this.keys[m])return this.keys[m]}else for(var x=0;x<this.scenes.length;x++)if(m===this.scenes[x])return m;return null},isActive:function(m){var x=this.getScene(m);return x?x.sys.isActive():null},isPaused:function(m){var x=this.getScene(m);return x?x.sys.isPaused():null},isVisible:function(m){var x=this.getScene(m);return x?x.sys.isVisible():null},isSleeping:function(m){var x=this.getScene(m);return x?x.sys.isSleeping():null},pause:function(m,x){var w=this.getScene(m);return w&&w.sys.pause(x),this},resume:function(m,x){var w=this.getScene(m);return w&&w.sys.resume(x),this},sleep:function(m,x){var w=this.getScene(m);return w&&!w.sys.isTransitioning()&&w.sys.sleep(x),this},wake:function(m,x){var w=this.getScene(m);return w&&w.sys.wake(x),this},run:function(m,x){var w=this.getScene(m);if(!w){for(var C=0;C<this._pending.length;C++)if(this._pending[C].key===m){this.queueOp("start",m,x);break}return this}w.sys.isSleeping()?w.sys.wake(x):w.sys.isPaused()?w.sys.resume(x):this.start(m,x)},start:function(m,x){if(!this.isBooted)return this._data[m]={autoStart:!0,data:x},this;var w=this.getScene(m);if(!w)return console.warn("Scene key not found: "+m),this;var C=w.sys,E=C.settings.status;if(E>=v.START&&E<=v.CREATING)return this;if(E>=v.RUNNING&&E<=v.SLEEPING)C.shutdown(),C.sceneUpdate=d,C.start(x);else{C.sceneUpdate=d,C.start(x);var T;if(C.load&&(T=C.load),T&&C.settings.hasOwnProperty("pack")&&(T.reset(),T.addPack({payload:C.settings.pack})))return C.settings.status=v.LOADING,T.once(a.COMPLETE,this.payloadComplete,this),T.start(),this}return this.bootScene(w),this},stop:function(m,x){var w=this.getScene(m);if(w&&!w.sys.isTransitioning()&&w.sys.settings.status!==v.SHUTDOWN){var C=w.sys.load;C&&(C.off(a.COMPLETE,this.loadComplete,this),C.off(a.COMPLETE,this.payloadComplete,this)),w.sys.shutdown(x)}return this},switch:function(m,x,w){var C=this.getScene(m),E=this.getScene(x);return C&&E&&C!==E&&(this.sleep(m),this.isSleeping(x)?this.wake(x,w):this.start(x,w)),this},getAt:function(m){return this.scenes[m]},getIndex:function(m){var x=this.getScene(m);return this.scenes.indexOf(x)},bringToTop:function(m){if(this.isProcessing)return this.queueOp("bringToTop",m);var x=this.getIndex(m),w=this.scenes;if(x!==-1&&x<w.length){var C=this.getScene(m);w.splice(x,1),w.push(C)}return this},sendToBack:function(m){if(this.isProcessing)return this.queueOp("sendToBack",m);var x=this.getIndex(m);if(x!==-1&&x>0){var w=this.getScene(m);this.scenes.splice(x,1),this.scenes.unshift(w)}return this},moveDown:function(m){if(this.isProcessing)return this.queueOp("moveDown",m);var x=this.getIndex(m);if(x>0){var w=x-1,C=this.getScene(m),E=this.getAt(w);this.scenes[x]=E,this.scenes[w]=C}return this},moveUp:function(m){if(this.isProcessing)return this.queueOp("moveUp",m);var x=this.getIndex(m);if(x<this.scenes.length-1){var w=x+1,C=this.getScene(m),E=this.getAt(w);this.scenes[x]=E,this.scenes[w]=C}return this},moveAbove:function(m,x){if(m===x)return this;if(this.isProcessing)return this.queueOp("moveAbove",m,x);var w=this.getIndex(m),C=this.getIndex(x);if(w!==-1&&C!==-1&&C<w){var E=this.getAt(C);this.scenes.splice(C,1),this.scenes.splice(w+(C>w),0,E)}return this},moveBelow:function(m,x){if(m===x)return this;if(this.isProcessing)return this.queueOp("moveBelow",m,x);var w=this.getIndex(m),C=this.getIndex(x);if(w!==-1&&C!==-1&&C>w){var E=this.getAt(C);this.scenes.splice(C,1),w===0?this.scenes.unshift(E):this.scenes.splice(w-(C<w),0,E)}return this},queueOp:function(m,x,w,C){return this._queue.push({op:m,keyA:x,keyB:w,data:C}),this},swapPosition:function(m,x){if(m===x)return this;if(this.isProcessing)return this.queueOp("swapPosition",m,x);var w=this.getIndex(m),C=this.getIndex(x);if(w!==C&&w!==-1&&C!==-1){var E=this.getAt(w);this.scenes[w]=this.scenes[C],this.scenes[C]=E}return this},dump:function(){for(var m=[],x=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],w=0;w<this.scenes.length;w++){var C=this.scenes[w].sys,E=C.settings.visible&&(C.settings.status===v.RUNNING||C.settings.status===v.PAUSED)?"[*] ":"[-] ";E+=C.settings.key+" ("+x[C.settings.status]+")",m.push(E)}console.log(m.join(`
`))},destroy:function(){for(var m=0;m<this.scenes.length;m++){var x=this.scenes[m].sys;x.destroy()}this.systemScene.sys.destroy(),this.update=d,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});s.exports=g}),52209:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),v=r(83419),c=r(44594),u=r(95540),l=r(37277),a=new v({initialize:function(p){this.scene=p,this.systems=p.sys,this.settings=p.sys.settings,this.key=p.sys.settings.key,this.manager=p.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,p.sys.events.once(c.BOOT,this.boot,this),p.sys.events.on(c.START,this.pluginStart,this)},boot:function(){this.systems.events.once(c.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(c.SHUTDOWN,this.shutdown,this)},start:function(d,p){return d===void 0&&(d=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",d,p),this},restart:function(d){var p=this.key;return this.manager.queueOp("stop",p),this.manager.queueOp("start",p,d),this},transition:function(d){d===void 0&&(d={});var p=u(d,"target",!1),h=this.manager.getScene(p);if(!p||!this.checkValidTransition(h))return!1;var g=u(d,"duration",1e3);this._elapsed=0,this._target=h,this._duration=g,this._willSleep=u(d,"sleep",!1),this._willRemove=u(d,"remove",!1);var m=u(d,"onUpdate",null);m&&(this._onUpdate=m,this._onUpdateScope=u(d,"onUpdateScope",this.scene));var x=u(d,"allowInput",!1);this.settings.transitionAllowInput=x;var w=h.sys.settings;w.isTransition=!0,w.transitionFrom=this.scene,w.transitionDuration=g,w.transitionAllowInput=x,u(d,"moveAbove",!1)?this.manager.moveAbove(this.key,p):u(d,"moveBelow",!1)&&this.manager.moveBelow(this.key,p),h.sys.isSleeping()?h.sys.wake(u(d,"data")):this.manager.start(p,u(d,"data"));var C=u(d,"onStart",null),E=u(d,"onStartScope",this.scene);return C&&C.call(E,this.scene,h,g),this.systems.events.emit(c.TRANSITION_OUT,h,g),!0},checkValidTransition:function(d){return!(!d||d.sys.isActive()||d.sys.isTransitioning()||d===this.scene||this.systems.isTransitioning())},step:function(d,p){this._elapsed+=p,this.transitionProgress=o(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var d=this._target.sys,p=this._target.sys.settings;d.events.emit(c.TRANSITION_COMPLETE,this.scene),p.isTransition=!1,p.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(d,p,h,g){return this.manager.add(d,p,h,g)},launch:function(d,p){return d&&d!==this.key&&this.manager.queueOp("start",d,p),this},run:function(d,p){return d&&d!==this.key&&this.manager.queueOp("run",d,p),this},pause:function(d,p){return d===void 0&&(d=this.key),this.manager.queueOp("pause",d,p),this},resume:function(d,p){return d===void 0&&(d=this.key),this.manager.queueOp("resume",d,p),this},sleep:function(d,p){return d===void 0&&(d=this.key),this.manager.queueOp("sleep",d,p),this},wake:function(d,p){return d===void 0&&(d=this.key),this.manager.queueOp("wake",d,p),this},switch:function(d,p){return d!==this.key&&this.manager.queueOp("switch",this.key,d,p),this},stop:function(d,p){return d===void 0&&(d=this.key),this.manager.queueOp("stop",d,p),this},setActive:function(d,p,h){p===void 0&&(p=this.key);var g=this.manager.getScene(p);return g&&g.sys.setActive(d,h),this},setVisible:function(d,p){p===void 0&&(p=this.key);var h=this.manager.getScene(p);return h&&h.sys.setVisible(d),this},isSleeping:function(d){return d===void 0&&(d=this.key),this.manager.isSleeping(d)},isActive:function(d){return d===void 0&&(d=this.key),this.manager.isActive(d)},isPaused:function(d){return d===void 0&&(d=this.key),this.manager.isPaused(d)},isVisible:function(d){return d===void 0&&(d=this.key),this.manager.isVisible(d)},swapPosition:function(d,p){return p===void 0&&(p=this.key),d!==p&&this.manager.swapPosition(d,p),this},moveAbove:function(d,p){return p===void 0&&(p=this.key),d!==p&&this.manager.moveAbove(d,p),this},moveBelow:function(d,p){return p===void 0&&(p=this.key),d!==p&&this.manager.moveBelow(d,p),this},remove:function(d){return d===void 0&&(d=this.key),this.manager.remove(d),this},moveUp:function(d){return d===void 0&&(d=this.key),this.manager.moveUp(d),this},moveDown:function(d){return d===void 0&&(d=this.key),this.manager.moveDown(d),this},bringToTop:function(d){return d===void 0&&(d=this.key),this.manager.bringToTop(d),this},sendToBack:function(d){return d===void 0&&(d=this.key),this.manager.sendToBack(d),this},get:function(d){return this.manager.getScene(d)},getStatus:function(d){var p=this.manager.getScene(d);if(p)return p.sys.getStatus()},getIndex:function(d){return d===void 0&&(d=this.key),this.manager.getIndex(d)},shutdown:function(){var d=this.systems.events;d.off(c.SHUTDOWN,this.shutdown,this),d.off(c.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(c.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});l.register("ScenePlugin",a,"scenePlugin"),s.exports=a}),55681:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(89993),v=r(35154),c=r(46975),u=r(87033),l={create:function(a){return typeof a=="string"?a={key:a}:a===void 0&&(a={}),{status:o.PENDING,key:v(a,"key",""),active:v(a,"active",!1),visible:v(a,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:v(a,"pack",!1),cameras:v(a,"cameras",null),map:v(a,"map",c(u,v(a,"mapAdd",{}))),physics:v(a,"physics",{}),loader:v(a,"loader",{}),plugins:v(a,"plugins",!1),input:v(a,"input",{})}}};s.exports=l}),2368:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(89993),c=r(42363),u=r(44594),l=r(27397),a=r(52106),d=r(29747),p=r(55681),h=new o({initialize:function(m,x){this.scene=m,this.game,this.renderer,this.config=x,this.settings=p.create(x),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=d},init:function(g){this.settings.status=v.INIT,this.sceneUpdate=d,this.game=g,this.renderer=g.renderer,this.canvas=g.canvas,this.context=g.context;var m=g.plugins;this.plugins=m,m.addToScene(this,c.Global,[c.CoreScene,a(this),l(this)]),this.events.emit(u.BOOT,this),this.settings.isBooted=!0},step:function(g,m){var x=this.events;x.emit(u.PRE_UPDATE,g,m),x.emit(u.UPDATE,g,m),this.sceneUpdate.call(this.scene,g,m),x.emit(u.POST_UPDATE,g,m)},render:function(g){var m=this.displayList;m.depthSort(),this.events.emit(u.PRE_RENDER,g),this.cameras.render(g,m),this.events.emit(u.RENDER,g)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(g){var m=this.settings,x=this.getStatus();return x!==v.CREATING&&x!==v.RUNNING?console.warn("Cannot pause non-running Scene",m.key):this.settings.active&&(m.status=v.PAUSED,m.active=!1,this.events.emit(u.PAUSE,this,g)),this},resume:function(g){var m=this.events,x=this.settings;return this.settings.active||(x.status=v.RUNNING,x.active=!0,m.emit(u.RESUME,this,g)),this},sleep:function(g){var m=this.settings,x=this.getStatus();return x!==v.CREATING&&x!==v.RUNNING?console.warn("Cannot sleep non-running Scene",m.key):(m.status=v.SLEEPING,m.active=!1,m.visible=!1,this.events.emit(u.SLEEP,this,g)),this},wake:function(g){var m=this.events,x=this.settings;return x.status=v.RUNNING,x.active=!0,x.visible=!0,m.emit(u.WAKE,this,g),x.isTransition&&m.emit(u.TRANSITION_WAKE,x.transitionFrom,x.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var g=this.settings.status;return g>v.PENDING&&g<=v.RUNNING},isSleeping:function(){return this.settings.status===v.SLEEPING},isActive:function(){return this.settings.status===v.RUNNING},isPaused:function(){return this.settings.status===v.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(g){return this.settings.visible=g,this},setActive:function(g,m){return g?this.resume(m):this.pause(m)},start:function(g){var m=this.events,x=this.settings;g&&(x.data=g),x.status=v.START,x.active=!0,x.visible=!0,m.emit(u.START,this),m.emit(u.READY,this,g)},shutdown:function(g){var m=this.events,x=this.settings;m.off(u.TRANSITION_INIT),m.off(u.TRANSITION_START),m.off(u.TRANSITION_COMPLETE),m.off(u.TRANSITION_OUT),x.status=v.SHUTDOWN,x.active=!1,x.visible=!1,m.emit(u.SHUTDOWN,this,g)},destroy:function(){var g=this.events,m=this.settings;m.status=v.DESTROYED,m.active=!1,m.visible=!1,g.emit(u.DESTROY,this),g.removeAllListeners();for(var x=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],w=0;w<x.length;w++)this[x[w]]=null}});s.exports=h}),89993:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};s.exports=y}),69830:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="addedtoscene"}),7919:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="boot"}),46763:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="create"}),11763:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="destroy"}),71555:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pause"}),36735:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="postupdate"}),3809:(s=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="prerender"}),90716:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="preupdate"}),58262:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="ready"}),91633:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="removedfromscene"}),10319:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="render"}),87132:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="resume"}),81961:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="shutdown"}),90194:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="sleep"}),6265:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="start"}),33178:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="transitioncomplete"}),43063:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="transitioninit"}),11259:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="transitionout"}),61611:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="transitionstart"}),45209:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="transitionwake"}),22966:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="update"}),21747:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="wake"}),44594:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={ADDED_TO_SCENE:r(69830),BOOT:r(7919),CREATE:r(46763),DESTROY:r(11763),PAUSE:r(71555),POST_UPDATE:r(36735),PRE_RENDER:r(3809),PRE_UPDATE:r(90716),READY:r(58262),REMOVED_FROM_SCENE:r(91633),RENDER:r(10319),RESUME:r(87132),SHUTDOWN:r(81961),SLEEP:r(90194),START:r(6265),TRANSITION_COMPLETE:r(33178),TRANSITION_INIT:r(43063),TRANSITION_OUT:r(11259),TRANSITION_START:r(61611),TRANSITION_WAKE:r(45209),UPDATE:r(22966),WAKE:r(21747)}}),62194:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(89993),v=r(79291),c={Events:r(44594),GetPhysicsPlugins:r(27397),GetScenePlugins:r(52106),SceneManager:r(60903),ScenePlugin:r(52209),Settings:r(55681),Systems:r(2368)};c=v(!1,c,o),s.exports=c}),30341:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(50792),c=r(14463),u=r(79291),l=r(29747),a=new o({Extends:v,initialize:function(p,h,g){v.call(this),this.manager=p,this.key=h,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=u(this.config,g),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(d){return!d||!d.name||typeof d.name!="string"?!1:this.markers[d.name]?(console.error("addMarker "+d.name+" already exists in Sound"),!1):(d=u(!0,{name:"",start:0,duration:this.totalDuration-(d.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},d),this.markers[d.name]=d,!0)},updateMarker:function(d){return!d||!d.name||typeof d.name!="string"?!1:this.markers[d.name]?(this.markers[d.name]=u(!0,this.markers[d.name],d),!0):(console.warn("Audio Marker: "+d.name+" missing in Sound: "+this.key),!1)},removeMarker:function(d){var p=this.markers[d];return p?(this.markers[d]=null,p):null},play:function(d,p){if(d===void 0&&(d=""),typeof d=="object"&&(p=d,d=""),typeof d!="string")return!1;if(!d)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[d])return console.warn("Marker: "+d+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[d],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=u(this.currentConfig,p),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:l,calculateRate:function(){var d=1.0005777895065548,p=this.currentConfig.detune+this.manager.detune,h=Math.pow(d,p);this.totalRate=this.currentConfig.rate*this.manager.rate*h},destroy:function(){this.pendingRemove||(this.stop(),this.emit(c.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});s.exports=a}),85034:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(41786),c=r(50792),u=r(14463),l=r(8443),a=r(46710),d=r(58731),p=r(29747),h=r(26099),g=new o({Extends:c,initialize:function(x){c.call(this),this.game=x,this.jsonCache=x.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new h;var w=x.events;w.on(l.BLUR,this.onGameBlur,this),w.on(l.FOCUS,this.onGameFocus,this),w.on(l.PRE_STEP,this.update,this),w.once(l.DESTROY,this.destroy,this)},add:p,addAudioSprite:function(m,x){x===void 0&&(x={});var w=this.add(m,x);w.spritemap=this.jsonCache.get(m).spritemap;for(var C in w.spritemap)if(w.spritemap.hasOwnProperty(C)){var E=v(x),T=w.spritemap[C];E.loop=T.hasOwnProperty("loop")?T.loop:!1,w.addMarker({name:C,start:T.start,duration:T.end-T.start,config:E})}return w},get:function(m){return d(this.sounds,"key",m)},getAll:function(m){return m?a(this.sounds,"key",m):a(this.sounds)},getAllPlaying:function(){return a(this.sounds,"isPlaying",!0)},play:function(m,x){var w=this.add(m);return w.once(u.COMPLETE,w.destroy,w),x?x.name?(w.addMarker(x),w.play(x.name)):w.play(x):w.play()},playAudioSprite:function(m,x,w){var C=this.addAudioSprite(m);return C.once(u.COMPLETE,C.destroy,C),C.play(x,w)},remove:function(m){var x=this.sounds.indexOf(m);return x!==-1?(m.destroy(),this.sounds.splice(x,1),!0):!1},removeAll:function(){this.sounds.forEach(function(m){m.destroy()}),this.sounds.length=0},removeByKey:function(m){for(var x=0,w=this.sounds.length-1;w>=0;w--){var C=this.sounds[w];C.key===m&&(C.destroy(),this.sounds.splice(w,1),x++)}return x},pauseAll:function(){this.forEachActiveSound(function(m){m.pause()}),this.emit(u.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(m){m.resume()}),this.emit(u.RESUME_ALL,this)},setListenerPosition:p,stopAll:function(){this.forEachActiveSound(function(m){m.stop()}),this.emit(u.STOP_ALL,this)},stopByKey:function(m){var x=0;return this.getAll(m).forEach(function(w){w.stop()&&x++}),x},isPlaying:function(m){var x=this.sounds,w=x.length-1,C;if(m===void 0){for(;w>=0;w--)if(C=this.sounds[w],C.isPlaying)return!0}else for(;w>=0;w--)if(C=this.sounds[w],C.key===m&&C.isPlaying)return!0;return!1},unlock:p,onBlur:p,onFocus:p,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(m,x){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(u.UNLOCKED,this));for(var w=this.sounds.length-1;w>=0;w--)this.sounds[w].pendingRemove&&this.sounds.splice(w,1);this.sounds.forEach(function(C){C.update(m,x)})},destroy:function(){this.game.events.off(l.BLUR,this.onGameBlur,this),this.game.events.off(l.FOCUS,this.onGameFocus,this),this.game.events.off(l.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(m,x){var w=this;this.sounds.forEach(function(C,E){C&&!C.pendingRemove&&m.call(x||w,C,E,w.sounds)})},setRate:function(m){return this.rate=m,this},rate:{get:function(){return this._rate},set:function(m){this._rate=m,this.forEachActiveSound(function(x){x.calculateRate()}),this.emit(u.GLOBAL_RATE,this,m)}},setDetune:function(m){return this.detune=m,this},detune:{get:function(){return this._detune},set:function(m){this._detune=m,this.forEachActiveSound(function(x){x.calculateRate()}),this.emit(u.GLOBAL_DETUNE,this,m)}}});s.exports=g}),14747:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(33684),v=r(25960),c=r(57490),u={create:function(l){var a=l.config.audio,d=l.device.audio;return a.noAudio||!d.webAudio&&!d.audioData?new v(l):d.webAudio&&!a.disableWebAudio?new c(l):new o(l)}};s.exports=u}),19723:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="complete"}),98882:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="decodedall"}),57506:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="decoded"}),73146:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="destroy"}),11305:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="detune"}),40577:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="detune"}),30333:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="mute"}),20394:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="rate"}),21802:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="volume"}),1299:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="looped"}),99190:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="loop"}),97125:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="mute"}),89259:(s=>{/**
 * @author       pi-kei
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pan"}),79986:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pauseall"}),17586:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pause"}),19618:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="play"}),42306:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="rate"}),10387:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="resumeall"}),48959:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="resume"}),9960:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="seek"}),19180:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="stopall"}),98328:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="stop"}),50401:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="unlocked"}),52498:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="volume"}),14463:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={COMPLETE:r(19723),DECODED:r(57506),DECODED_ALL:r(98882),DESTROY:r(73146),DETUNE:r(11305),GLOBAL_DETUNE:r(40577),GLOBAL_MUTE:r(30333),GLOBAL_RATE:r(20394),GLOBAL_VOLUME:r(21802),LOOP:r(99190),LOOPED:r(1299),MUTE:r(97125),PAN:r(89259),PAUSE_ALL:r(79986),PAUSE:r(17586),PLAY:r(19618),RATE:r(42306),RESUME_ALL:r(10387),RESUME:r(48959),SEEK:r(9960),STOP_ALL:r(19180),STOP:r(98328),UNLOCKED:r(50401),VOLUME:r(52498)}}),64895:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(30341),v=r(83419),c=r(14463),u=r(45319),l=new v({Extends:o,initialize:function(d,p,h){if(h===void 0&&(h={}),this.tags=d.game.cache.audio.get(p),!this.tags)throw new Error('No cached audio asset with key "'+p);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,o.call(this,d,p,h)},play:function(a,d){return this.manager.isLocked(this,"play",[a,d])||!o.prototype.play.call(this,a,d)||!this.pickAndPlayAudioTag()?!1:(this.emit(c.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!o.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(c.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!o.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(c.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!o.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(c.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var a=this.currentConfig.seek,d=this.currentConfig.delay,p=(this.currentMarker?this.currentMarker.start:0)+a;return this.previousTime=p,this.audio.currentTime=p,this.applyConfig(),d===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+d*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var a=0;a<this.tags.length;a++){var d=this.tags[a];if(d.dataset.used==="false")return d.dataset.used="true",this.audio=d,!0}if(!this.manager.override)return!1;var p=[];this.manager.forEachActiveSound(function(g){g.key===this.key&&g.audio&&p.push(g)},this),p.sort(function(g,m){return g.loop===m.loop?m.seek/m.duration-g.seek/g.duration:g.loop?1:-1});var h=p[0];return this.audio=h.audio,h.reset(),h.audio=null,h.startTime=0,h.previousTime=0,!0},playCatchPromise:function(){var a=this.audio.play();a&&a.catch(function(d){console.warn(d)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){o.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(a){if(this.isPlaying){if(this.startTime>0){this.startTime<a-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,a-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var d=this.currentMarker?this.currentMarker.start:0,p=d+this.duration,h=this.audio.currentTime;if(this.currentConfig.loop)h>=p-this.manager.loopEndOffset?(this.audio.currentTime=d+Math.max(0,h-p),h=this.audio.currentTime):h<d&&(this.audio.currentTime+=d,h=this.audio.currentTime),h<this.previousTime&&this.emit(c.LOOPED,this);else if(h>=p){this.reset(),this.stopAndReleaseAudioTag(),this.emit(c.COMPLETE,this);return}this.previousTime=h}},destroy:function(){o.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=u(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){o.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(a){this.currentConfig.mute=a,!this.manager.isLocked(this,"mute",a)&&(this.updateMute(),this.emit(c.MUTE,this,a))}},setMute:function(a){return this.mute=a,this},volume:{get:function(){return this.currentConfig.volume},set:function(a){this.currentConfig.volume=a,!this.manager.isLocked(this,"volume",a)&&(this.updateVolume(),this.emit(c.VOLUME,this,a))}},setVolume:function(a){return this.volume=a,this},rate:{get:function(){return this.currentConfig.rate},set:function(a){this.currentConfig.rate=a,!this.manager.isLocked(this,c.RATE,a)&&(this.calculateRate(),this.emit(c.RATE,this,a))}},setRate:function(a){return this.rate=a,this},detune:{get:function(){return this.currentConfig.detune},set:function(a){this.currentConfig.detune=a,!this.manager.isLocked(this,c.DETUNE,a)&&(this.calculateRate(),this.emit(c.DETUNE,this,a))}},setDetune:function(a){return this.detune=a,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(a){this.manager.isLocked(this,"seek",a)||this.startTime>0||(this.isPlaying||this.isPaused)&&(a=Math.min(Math.max(0,a),this.duration),this.isPlaying?(this.previousTime=a,this.audio.currentTime=a):this.isPaused&&(this.currentConfig.seek=a),this.emit(c.SEEK,this,a))}},setSeek:function(a){return this.seek=a,this},loop:{get:function(){return this.currentConfig.loop},set:function(a){this.currentConfig.loop=a,!this.manager.isLocked(this,"loop",a)&&(this.audio&&(this.audio.loop=a),this.emit(c.LOOP,this,a))}},setLoop:function(a){return this.loop=a,this},pan:{get:function(){return this.currentConfig.pan},set:function(a){this.currentConfig.pan=a,this.emit(c.PAN,this,a)}},setPan:function(a){return this.pan=a,this}});s.exports=l}),33684:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(85034),v=r(83419),c=r(14463),u=r(64895),l=new v({Extends:o,initialize:function(d){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,o.call(this,d)},add:function(a,d){var p=new u(this,a,d);return this.sounds.push(p),p},unlock:function(){this.locked=!1;var a=this;if(this.game.cache.audio.entries.each(function(g,m){for(var x=0;x<m.length;x++)if(m[x].dataset.locked==="true")return a.locked=!0,!1;return!0}),!!this.locked){var d=!1,p=function(){d=!0},h=function(){if(d){d=!1;return}document.body.removeEventListener("touchmove",p),document.body.removeEventListener("touchend",h);var g=[];if(a.game.cache.audio.entries.each(function(x,w){for(var C=0;C<w.length;C++){var E=w[C];E.dataset.locked==="true"&&g.push(E)}return!0}),g.length!==0){var m=g[g.length-1];m.oncanplaythrough=function(){m.oncanplaythrough=null,g.forEach(function(x){x.dataset.locked="false"}),a.unlocked=!0},g.forEach(function(x){x.load()})}};this.once(c.UNLOCKED,function(){for(this.forEachActiveSound(function(m){m.currentMarker===null&&m.duration===0&&(m.duration=m.tags[0].duration),m.totalDuration=m.tags[0].duration});this.lockedActionsQueue.length;){var g=this.lockedActionsQueue.shift();g.sound[g.prop].apply?g.sound[g.prop].apply(g.sound,g.value||[]):g.sound[g.prop]=g.value}},this),document.body.addEventListener("touchmove",p,!1),document.body.addEventListener("touchend",h,!1)}},onBlur:function(){this.forEachActiveSound(function(a){a.isPlaying&&(this.onBlurPausedSounds.push(a),a.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(a){a.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){o.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(a,d,p){return a.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:a,prop:d,value:p}),!0):!1},setMute:function(a){return this.mute=a,this},mute:{get:function(){return this._mute},set:function(a){this._mute=a,this.forEachActiveSound(function(d){d.updateMute()}),this.emit(c.GLOBAL_MUTE,this,a)}},setVolume:function(a){return this.volume=a,this},volume:{get:function(){return this._volume},set:function(a){this._volume=a,this.forEachActiveSound(function(d){d.updateVolume()}),this.emit(c.GLOBAL_VOLUME,this,a)}}});s.exports=l}),23717:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={SoundManagerCreator:r(14747),Events:r(14463),BaseSound:r(30341),BaseSoundManager:r(85034),WebAudioSound:r(71741),WebAudioSoundManager:r(57490),HTML5AudioSound:r(64895),HTML5AudioSoundManager:r(33684),NoAudioSound:r(4603),NoAudioSoundManager:r(25960)}}),4603:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(30341),v=r(83419),c=r(50792),u=r(79291),l=r(29747),a=function(){return!1},d=function(){return null},p=function(){return this},h=new v({Extends:c,initialize:function(m,x,w){w===void 0&&(w={}),c.call(this),this.manager=m,this.key=x,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=u({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},w),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:a,updateMarker:a,removeMarker:d,play:a,pause:a,resume:a,stop:a,setMute:p,setVolume:p,setRate:p,setDetune:p,setSeek:p,setLoop:p,setPan:p,applyConfig:d,resetConfig:d,update:l,calculateRate:d,destroy:function(){o.prototype.destroy.call(this)}});s.exports=h}),25960:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(85034),v=r(83419),c=r(50792),u=r(4603),l=r(29747),a=new v({Extends:c,initialize:function(p){c.call(this),this.game=p,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(d,p){var h=new u(this,d,p);return this.sounds.push(h),h},addAudioSprite:function(d,p){var h=this.add(d,p);return h.spritemap={},h},get:function(d){return o.prototype.get.call(this,d)},getAll:function(d){return o.prototype.getAll.call(this,d)},play:function(d,p){return!1},playAudioSprite:function(d,p,h){return!1},remove:function(d){return o.prototype.remove.call(this,d)},removeAll:function(){return o.prototype.removeAll.call(this)},removeByKey:function(d){return o.prototype.removeByKey.call(this,d)},stopByKey:function(d){return o.prototype.stopByKey.call(this,d)},onBlur:l,onFocus:l,onGameBlur:l,onGameFocus:l,pauseAll:l,resumeAll:l,stopAll:l,update:l,setRate:l,setDetune:l,setMute:l,setVolume:l,unlock:l,forEachActiveSound:function(d,p){o.prototype.forEachActiveSound.call(this,d,p)},destroy:function(){o.prototype.destroy.call(this)}});s.exports=a}),71741:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(30341),v=r(83419),c=r(14463),u=r(95540),l=new v({Extends:o,initialize:function(d,p,h){if(h===void 0&&(h={}),this.audioBuffer=d.game.cache.audio.get(p),!this.audioBuffer)throw new Error('Audio key "'+p+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=d.context.createGain(),this.volumeNode=d.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),d.context.createPanner&&(this.spatialNode=d.context.createPanner(),this.volumeNode.connect(this.spatialNode)),d.context.createStereoPanner?(this.pannerNode=d.context.createStereoPanner(),d.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(d.destination)):d.context.createPanner?this.spatialNode.connect(d.destination):this.volumeNode.connect(d.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,o.call(this,d,p,h)},play:function(a,d){return o.prototype.play.call(this,a,d)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(c.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!o.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(c.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!o.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(c.RESUME,this),!0)},stop:function(){return o.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(c.STOP,this),!0):!1},createAndStartBufferSource:function(){var a=this.currentConfig.seek,d=this.currentConfig.delay,p=this.manager.context.currentTime+d,h=(this.currentMarker?this.currentMarker.start:0)+a,g=this.duration-a;this.playTime=p-a,this.startTime=p,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,p),Math.max(0,h),Math.max(0,g)),this.resetConfig()},createAndStartLoopBufferSource:function(){var a=this.getLoopTime(),d=this.currentMarker?this.currentMarker.start:0,p=this.duration;this.loopTime=a,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,a),Math.max(0,d),Math.max(0,p))},createBufferSource:function(){var a=this,d=this.manager.context.createBufferSource();return d.buffer=this.audioBuffer,d.connect(this.muteNode),d.onended=function(p){var h=p.target;(h===a.source||h===a.loopSource)&&(a.currentConfig.loop?a.hasLooped=!0:a.hasEnded=!0)},d},stopAndRemoveBufferSource:function(){if(this.source){var a=this.source;this.source=null,a.stop(),a.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var a=this.currentConfig.source;if(a&&this.manager.context.createPanner){var d=this.spatialNode;d.panningModel=u(a,"panningModel","equalpower"),d.distanceModel=u(a,"distanceModel","inverse"),d.orientationX.value=u(a,"orientationX",0),d.orientationY.value=u(a,"orientationY",0),d.orientationZ.value=u(a,"orientationZ",-1),d.refDistance=u(a,"refDistance",1),d.maxDistance=u(a,"maxDistance",1e4),d.rolloffFactor=u(a,"rolloffFactor",1),d.coneInnerAngle=u(a,"coneInnerAngle",360),d.coneOuterAngle=u(a,"coneOuterAngle",0),d.coneOuterGain=u(a,"coneOuterGain",0),this.spatialSource=u(a,"follow",null),this.spatialSource||(d.positionX.value=u(a,"x",0),d.positionY.value=u(a,"y",0),d.positionZ.value=u(a,"z",0))}o.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(a){this.spatialNode&&(this.spatialNode.positionX.value=a)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(a){this.spatialNode&&(this.spatialNode.positionY.value=a)}},update:function(){if(this.isPlaying&&this.spatialSource){var a=u(this.spatialSource,"x",null),d=u(this.spatialSource,"y",null);a&&a!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=a),d&&d!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=d)}this.hasEnded?(o.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(c.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(c.LOOPED,this))},destroy:function(){this.pendingRemove||(o.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){o.prototype.calculateRate.call(this);var a=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,a),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,a)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var a=0,d=0;d<this.rateUpdates.length;d++){var p=0;d<this.rateUpdates.length-1?p=this.rateUpdates[d+1].time:p=this.manager.context.currentTime-this.playTime,a+=(p-this.rateUpdates[d].time)*this.rateUpdates[d].rate}return a},getLoopTime:function(){for(var a=0,d=0;d<this.rateUpdates.length-1;d++)a+=(this.rateUpdates[d+1].time-this.rateUpdates[d].time)*this.rateUpdates[d].rate;var p=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+p.time+(this.duration-a)/p.rate},rate:{get:function(){return this.currentConfig.rate},set:function(a){this.currentConfig.rate=a,this.calculateRate(),this.emit(c.RATE,this,a)}},setRate:function(a){return this.rate=a,this},detune:{get:function(){return this.currentConfig.detune},set:function(a){this.currentConfig.detune=a,this.calculateRate(),this.emit(c.DETUNE,this,a)}},setDetune:function(a){return this.detune=a,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(a){this.currentConfig.mute=a,this.muteNode.gain.setValueAtTime(a?0:1,0),this.emit(c.MUTE,this,a)}},setMute:function(a){return this.mute=a,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(a){this.currentConfig.volume=a,this.volumeNode.gain.setValueAtTime(a,0),this.emit(c.VOLUME,this,a)}},setVolume:function(a){return this.volume=a,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(a){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(a=Math.min(Math.max(0,a),this.duration),this.currentConfig.seek=a,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(c.SEEK,this,a))}},setSeek:function(a){return this.seek=a,this},loop:{get:function(){return this.currentConfig.loop},set:function(a){this.currentConfig.loop=a,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),a&&this.createAndStartLoopBufferSource()),this.emit(c.LOOP,this,a)}},setLoop:function(a){return this.loop=a,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(a){this.currentConfig.pan=a,this.pannerNode&&this.pannerNode.pan.setValueAtTime(a,this.manager.context.currentTime),this.emit(c.PAN,this,a)}},setPan:function(a){return this.pan=a,this}});s.exports=l}),57490:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(53134),v=r(85034),c=r(83419),u=r(14463),l=r(8443),a=r(71741),d=r(95540),p=new c({Extends:v,initialize:function(g){this.context=this.createAudioContext(g),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended",v.call(this,g),this.locked&&(g.isBooted?this.unlock():g.events.once(l.BOOT,this.unlock,this)),g.events.on(l.VISIBLE,this.onGameVisible,this)},onGameVisible:function(){var h=this.context;window.setTimeout(function(){h&&(h.suspend(),h.resume())},100)},createAudioContext:function(h){var g=h.config.audio;if(g.context)return g.context.resume(),g.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(h){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=h,this.masterMuteNode=h.createGain(),this.masterVolumeNode=h.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(h.destination),this.destination=this.masterMuteNode,this},add:function(h,g){var m=new a(this,h,g);return this.sounds.push(m),m},decodeAudio:function(h,g){var m;Array.isArray(h)?m=h:m=[{key:h,data:g}];for(var x=this.game.cache.audio,w=m.length,C=0;C<m.length;C++){var E=m[C],T=E.key,S=E.data;typeof S=="string"&&(S=o(S));var A=(function(R,L){x.add(R,L),this.emit(u.DECODED,R),w--,w===0&&this.emit(u.DECODED_ALL)}).bind(this,T),P=(function(R,L){console.error("Error decoding audio: "+R+" - ",L?L.message:""),w--,w===0&&this.emit(u.DECODED_ALL)}).bind(this,T);this.context.decodeAudioData(S,A,P)}},setListenerPosition:function(h,g){return h===void 0&&(h=this.game.scale.width/2),g===void 0&&(g=this.game.scale.height/2),this.listenerPosition.set(h,g),this},unlock:function(){var h=this,g=document.body,m=function x(){if(h.context&&g){var w=g.removeEventListener.bind(g);h.context.resume().then(function(){w("touchstart",x),w("touchend",x),w("mousedown",x),w("mouseup",x),w("keydown",x),h.unlocked=!0},function(){w("touchstart",x),w("touchend",x),w("mousedown",x),w("mouseup",x),w("keydown",x)})}};g&&(g.addEventListener("touchstart",m,!1),g.addEventListener("touchend",m,!1),g.addEventListener("mousedown",m,!1),g.addEventListener("mouseup",m,!1),g.addEventListener("keydown",m,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var h=this.context;h&&!this.locked&&(h.state==="suspended"||h.state==="interrupted")&&h.resume()},update:function(h,g){var m=this.context.listener,x=d(this.listenerPosition,"x",null),w=d(this.listenerPosition,"y",null);if(m&&m.positionX!==void 0)x&&x!==this._spatialx&&(this._spatialx=m.positionX.value=x),w&&w!==this._spatialy&&(this._spatialy=m.positionY.value=w);else if(m){x&&x!==this._spatialx&&(this._spatialx=x),w&&w!==this._spatialy&&(this._spatialy=w);var C=d(m,"z",0);m.setPosition(this._spatialx||0,this._spatialy||0,C)}v.prototype.update.call(this,h,g),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var h=this;this.context.close().then(function(){h.context=null})}this.game.events.off(l.VISIBLE,this.onGameVisible,this),v.prototype.destroy.call(this)},setMute:function(h){return this.mute=h,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(h){this.masterMuteNode.gain.setValueAtTime(h?0:1,0),this.emit(u.GLOBAL_MUTE,this,h)}},setVolume:function(h){return this.volume=h,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(h){this.masterVolumeNode.gain.setValueAtTime(h,0),this.emit(u.GLOBAL_VOLUME,this,h)}}});s.exports=p}),73162:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37105),v=r(83419),c=r(29747),u=r(19186),l=new v({initialize:function(d){this.parent=d,this.list=[],this.position=0,this.addCallback=c,this.removeCallback=c,this._sortKey=""},add:function(a,d){return d?o.Add(this.list,a):o.Add(this.list,a,0,this.addCallback,this)},addAt:function(a,d,p){return p?o.AddAt(this.list,a,d):o.AddAt(this.list,a,d,0,this.addCallback,this)},getAt:function(a){return this.list[a]},getIndex:function(a){return this.list.indexOf(a)},sort:function(a,d){return a?(d===void 0&&(d=function(p,h){return p[a]-h[a]}),u(this.list,d),this):this},getByName:function(a){return o.GetFirst(this.list,"name",a)},getRandom:function(a,d){return o.GetRandom(this.list,a,d)},getFirst:function(a,d,p,h){return o.GetFirst(this.list,a,d,p,h)},getAll:function(a,d,p,h){return o.GetAll(this.list,a,d,p,h)},count:function(a,d){return o.CountAllMatching(this.list,a,d)},swap:function(a,d){o.Swap(this.list,a,d)},moveTo:function(a,d){return o.MoveTo(this.list,a,d)},moveAbove:function(a,d){return o.MoveAbove(this.list,a,d)},moveBelow:function(a,d){return o.MoveBelow(this.list,a,d)},remove:function(a,d){return d?o.Remove(this.list,a):o.Remove(this.list,a,this.removeCallback,this)},removeAt:function(a,d){return d?o.RemoveAt(this.list,a):o.RemoveAt(this.list,a,this.removeCallback,this)},removeBetween:function(a,d,p){return p?o.RemoveBetween(this.list,a,d):o.RemoveBetween(this.list,a,d,this.removeCallback,this)},removeAll:function(a){for(var d=this.list.length;d--;)this.remove(this.list[d],a);return this},bringToTop:function(a){return o.BringToTop(this.list,a)},sendToBack:function(a){return o.SendToBack(this.list,a)},moveUp:function(a){return o.MoveUp(this.list,a),a},moveDown:function(a){return o.MoveDown(this.list,a),a},reverse:function(){return this.list.reverse(),this},shuffle:function(){return o.Shuffle(this.list),this},replace:function(a,d){return o.Replace(this.list,a,d)},exists:function(a){return this.list.indexOf(a)>-1},setAll:function(a,d,p,h){return o.SetAll(this.list,a,d,p,h),this},each:function(a,d){for(var p=[null],h=2;h<arguments.length;h++)p.push(arguments[h]);for(h=0;h<this.list.length;h++)p[0]=this.list[h],a.apply(d,p)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});s.exports=l}),90330:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=new o({initialize:function(u){this.entries={},this.size=0,this.setAll(u)},setAll:function(c){if(Array.isArray(c))for(var u=0;u<c.length;u++)this.set(c[u][0],c[u][1]);return this},set:function(c,u){return this.has(c)||this.size++,this.entries[c]=u,this},get:function(c){if(this.has(c))return this.entries[c]},getArray:function(){var c=[],u=this.entries;for(var l in u)c.push(u[l]);return c},has:function(c){return this.entries.hasOwnProperty(c)},delete:function(c){return this.has(c)&&(delete this.entries[c],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(c){delete this.entries[c]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var c=[],u=this.entries;for(var l in u)c.push(u[l]);return c},dump:function(){var c=this.entries;console.group("Map");for(var u in c)console.log(u,c[u]);console.groupEnd()},each:function(c){var u=this.entries;for(var l in u)if(c(l,u[l])===!1)break;return this},contains:function(c){var u=this.entries;for(var l in u)if(u[l]===c)return!0;return!1},merge:function(c,u){u===void 0&&(u=!1);var l=this.entries,a=c.entries;for(var d in a)l.hasOwnProperty(d)&&u?l[d]=a[d]:this.set(d,a[d]);return this}});s.exports=v}),25774:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(50792),c=r(82348),u=new o({Extends:v,initialize:function(){v.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(l){return this._active.indexOf(l)>-1},isPending:function(l){return this._toProcess>0&&this._pending.indexOf(l)>-1},isDestroying:function(l){return this._destroy.indexOf(l)>-1},add:function(l){return this.checkQueue&&this.isActive(l)&&!this.isDestroying(l)||this.isPending(l)||(this._pending.push(l),this._toProcess++),l},remove:function(l){if(this.isPending(l)){var a=this._pending,d=a.indexOf(l);d!==-1&&a.splice(d,1)}else this.isActive(l)&&(this._destroy.push(l),this._toProcess++);return l},removeAll:function(){for(var l=this._active,a=this._destroy,d=l.length;d--;)a.push(l[d]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var l=this._destroy,a=this._active,d,p;for(d=0;d<l.length;d++){p=l[d];var h=a.indexOf(p);h!==-1&&(a.splice(h,1),this.emit(c.PROCESS_QUEUE_REMOVE,p))}for(l.length=0,l=this._pending,d=0;d<l.length;d++)p=l[d],(!this.checkQueue||this.checkQueue&&a.indexOf(p)===-1)&&(a.push(p),this.emit(c.PROCESS_QUEUE_ADD,p));return l.length=0,this._toProcess=0,a},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});s.exports=u}),59542:((s,y,r)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43886);function v(S){if(!(this instanceof v))return new v(S);this._maxEntries=Math.max(4,S||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}v.prototype={all:function(){return this._all(this.data,[])},search:function(S){var A=this.data,P=[],R=this.toBBox;if(!C(S,A))return P;for(var L=[],D,F,$,N;A;){for(D=0,F=A.children.length;D<F;D++)$=A.children[D],N=A.leaf?R($):$,C(S,N)&&(A.leaf?P.push($):w(S,N)?this._all($,P):L.push($));A=L.pop()}return P},collides:function(S){var A=this.data,P=this.toBBox;if(!C(S,A))return!1;for(var R=[],L,D,F,$;A;){for(L=0,D=A.children.length;L<D;L++)if(F=A.children[L],$=A.leaf?P(F):F,C(S,$)){if(A.leaf||w(S,$))return!0;R.push(F)}A=R.pop()}return!1},load:function(S){if(!(S&&S.length))return this;if(S.length<this._minEntries){for(var A=0,P=S.length;A<P;A++)this.insert(S[A]);return this}var R=this._build(S.slice(),0,S.length-1,0);if(!this.data.children.length)this.data=R;else if(this.data.height===R.height)this._splitRoot(this.data,R);else{if(this.data.height<R.height){var L=this.data;this.data=R,R=L}this._insert(R,this.data.height-R.height-1,!0)}return this},insert:function(S){return S&&this._insert(S,this.data.height-1),this},clear:function(){return this.data=E([]),this},remove:function(S,A){if(!S)return this;for(var P=this.data,R=this.toBBox(S),L=[],D=[],F,$,N,k;P||L.length;){if(P||(P=L.pop(),$=L[L.length-1],F=D.pop(),k=!0),P.leaf&&(N=c(S,P.children,A),N!==-1))return P.children.splice(N,1),L.push(P),this._condense(L),this;!k&&!P.leaf&&w(P,R)?(L.push(P),D.push(F),F=0,$=P,P=P.children[0]):$?(F++,P=$.children[F],k=!1):P=null}return this},toBBox:function(S){return S},compareMinX:d,compareMinY:p,toJSON:function(){return this.data},fromJSON:function(S){return this.data=S,this},_all:function(S,A){for(var P=[];S;)S.leaf?A.push.apply(A,S.children):P.push.apply(P,S.children),S=P.pop();return A},_build:function(S,A,P,R){var L=P-A+1,D=this._maxEntries,F;if(L<=D)return F=E(S.slice(A,P+1)),u(F,this.toBBox),F;R||(R=Math.ceil(Math.log(L)/Math.log(D)),D=Math.ceil(L/Math.pow(D,R-1))),F=E([]),F.leaf=!1,F.height=R;var $=Math.ceil(L/D),N=$*Math.ceil(Math.sqrt(D)),k,j,W,G;for(T(S,A,P,N,this.compareMinX),k=A;k<=P;k+=N)for(W=Math.min(k+N-1,P),T(S,k,W,$,this.compareMinY),j=k;j<=W;j+=$)G=Math.min(j+$-1,W),F.children.push(this._build(S,j,G,R-1));return u(F,this.toBBox),F},_chooseSubtree:function(S,A,P,R){for(var L,D,F,$,N,k,j,W;R.push(A),!(A.leaf||R.length-1===P);){for(j=W=1/0,L=0,D=A.children.length;L<D;L++)F=A.children[L],N=h(F),k=m(S,F)-N,k<W?(W=k,j=N<j?N:j,$=F):k===W&&N<j&&(j=N,$=F);A=$||A.children[0]}return A},_insert:function(S,A,P){var R=this.toBBox,L=P?S:R(S),D=[],F=this._chooseSubtree(L,this.data,A,D);for(F.children.push(S),a(F,L);A>=0&&D[A].children.length>this._maxEntries;)this._split(D,A),A--;this._adjustParentBBoxes(L,D,A)},_split:function(S,A){var P=S[A],R=P.children.length,L=this._minEntries;this._chooseSplitAxis(P,L,R);var D=this._chooseSplitIndex(P,L,R),F=E(P.children.splice(D,P.children.length-D));F.height=P.height,F.leaf=P.leaf,u(P,this.toBBox),u(F,this.toBBox),A?S[A-1].children.push(F):this._splitRoot(P,F)},_splitRoot:function(S,A){this.data=E([S,A]),this.data.height=S.height+1,this.data.leaf=!1,u(this.data,this.toBBox)},_chooseSplitIndex:function(S,A,P){var R,L,D,F,$,N,k,j;for(N=k=1/0,R=A;R<=P-A;R++)L=l(S,0,R,this.toBBox),D=l(S,R,P,this.toBBox),F=x(L,D),$=h(L)+h(D),F<N?(N=F,j=R,k=$<k?$:k):F===N&&$<k&&(k=$,j=R);return j},_chooseSplitAxis:function(S,A,P){var R=S.leaf?this.compareMinX:d,L=S.leaf?this.compareMinY:p,D=this._allDistMargin(S,A,P,R),F=this._allDistMargin(S,A,P,L);D<F&&S.children.sort(R)},_allDistMargin:function(S,A,P,R){S.children.sort(R);var L=this.toBBox,D=l(S,0,A,L),F=l(S,P-A,P,L),$=g(D)+g(F),N,k;for(N=A;N<P-A;N++)k=S.children[N],a(D,S.leaf?L(k):k),$+=g(D);for(N=P-A-1;N>=A;N--)k=S.children[N],a(F,S.leaf?L(k):k),$+=g(F);return $},_adjustParentBBoxes:function(S,A,P){for(var R=P;R>=0;R--)a(A[R],S)},_condense:function(S){for(var A=S.length-1,P;A>=0;A--)S[A].children.length===0?A>0?(P=S[A-1].children,P.splice(P.indexOf(S[A]),1)):this.clear():u(S[A],this.toBBox)},compareMinX:function(S,A){return S.left-A.left},compareMinY:function(S,A){return S.top-A.top},toBBox:function(S){return{minX:S.left,minY:S.top,maxX:S.right,maxY:S.bottom}}};function c(S,A,P){if(!P)return A.indexOf(S);for(var R=0;R<A.length;R++)if(P(S,A[R]))return R;return-1}function u(S,A){l(S,0,S.children.length,A,S)}function l(S,A,P,R,L){L||(L=E(null)),L.minX=1/0,L.minY=1/0,L.maxX=-1/0,L.maxY=-1/0;for(var D=A,F;D<P;D++)F=S.children[D],a(L,S.leaf?R(F):F);return L}function a(S,A){return S.minX=Math.min(S.minX,A.minX),S.minY=Math.min(S.minY,A.minY),S.maxX=Math.max(S.maxX,A.maxX),S.maxY=Math.max(S.maxY,A.maxY),S}function d(S,A){return S.minX-A.minX}function p(S,A){return S.minY-A.minY}function h(S){return(S.maxX-S.minX)*(S.maxY-S.minY)}function g(S){return S.maxX-S.minX+(S.maxY-S.minY)}function m(S,A){return(Math.max(A.maxX,S.maxX)-Math.min(A.minX,S.minX))*(Math.max(A.maxY,S.maxY)-Math.min(A.minY,S.minY))}function x(S,A){var P=Math.max(S.minX,A.minX),R=Math.max(S.minY,A.minY),L=Math.min(S.maxX,A.maxX),D=Math.min(S.maxY,A.maxY);return Math.max(0,L-P)*Math.max(0,D-R)}function w(S,A){return S.minX<=A.minX&&S.minY<=A.minY&&A.maxX<=S.maxX&&A.maxY<=S.maxY}function C(S,A){return A.minX<=S.maxX&&A.minY<=S.maxY&&A.maxX>=S.minX&&A.maxY>=S.minY}function E(S){return{children:S,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function T(S,A,P,R,L){for(var D=[A,P],F;D.length;)P=D.pop(),A=D.pop(),!(P-A<=R)&&(F=A+Math.ceil((P-A)/R/2)*R,o(S,F,A,P,L),D.push(A,F,F,P))}s.exports=v}),35072:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=new o({initialize:function(u){if(this.entries=[],Array.isArray(u))for(var l=0;l<u.length;l++)this.set(u[l])},set:function(c){return this.entries.indexOf(c)===-1&&this.entries.push(c),this},get:function(c,u){for(var l=0;l<this.entries.length;l++){var a=this.entries[l];if(a[c]===u)return a}},getArray:function(){return this.entries.slice(0)},delete:function(c){var u=this.entries.indexOf(c);return u>-1&&this.entries.splice(u,1),this},dump:function(){console.group("Set");for(var c=0;c<this.entries.length;c++){var u=this.entries[c];console.log(u)}console.groupEnd()},each:function(c,u){var l,a=this.entries.slice(),d=a.length;if(u)for(l=0;l<d&&c.call(u,a[l],l)!==!1;l++);else for(l=0;l<d&&c(a[l],l)!==!1;l++);return this},iterate:function(c,u){var l,a=this.entries.length;if(u)for(l=0;l<a&&c.call(u,this.entries[l],l)!==!1;l++);else for(l=0;l<a&&c(this.entries[l],l)!==!1;l++);return this},iterateLocal:function(c){var u,l=[];for(u=1;u<arguments.length;u++)l.push(arguments[u]);var a=this.entries.length;for(u=0;u<a;u++){var d=this.entries[u];d[c].apply(d,l)}return this},clear:function(){return this.entries.length=0,this},contains:function(c){return this.entries.indexOf(c)>-1},union:function(c){var u=new v;return c.entries.forEach(function(l){u.set(l)}),this.entries.forEach(function(l){u.set(l)}),u},intersect:function(c){var u=new v;return this.entries.forEach(function(l){c.contains(l)&&u.set(l)}),u},difference:function(c){var u=new v;return this.entries.forEach(function(l){c.contains(l)||u.set(l)}),u},size:{get:function(){return this.entries.length},set:function(c){return c<this.entries.length?this.entries.length=c:this.entries.length}}});s.exports=v}),86555:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),v=r(83419),c=r(56583),u=r(26099),l=new v({initialize:function(d,p,h,g){d===void 0&&(d=0),p===void 0&&(p=d),h===void 0&&(h=0),g===void 0&&(g=null),this._width=d,this._height=p,this._parent=g,this.aspectMode=h,this.aspectRatio=p===0?1:d/p,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new u},setAspectMode:function(a){return a===void 0&&(a=0),this.aspectMode=a,this.setSize(this._width,this._height)},setSnap:function(a,d){return a===void 0&&(a=0),d===void 0&&(d=a),this.snapTo.set(a,d),this.setSize(this._width,this._height)},setParent:function(a){return this._parent=a,this.setSize(this._width,this._height)},setMin:function(a,d){return a===void 0&&(a=0),d===void 0&&(d=a),this.minWidth=o(a,0,this.maxWidth),this.minHeight=o(d,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(a,d){return a===void 0&&(a=Number.MAX_VALUE),d===void 0&&(d=a),this.maxWidth=o(a,this.minWidth,Number.MAX_VALUE),this.maxHeight=o(d,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(a,d){switch(a===void 0&&(a=0),d===void 0&&(d=a),this.aspectMode){case l.NONE:this._width=this.getNewWidth(c(a,this.snapTo.x)),this._height=this.getNewHeight(c(d,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case l.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(c(a,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case l.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(c(d,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case l.FIT:this.constrain(a,d,!0);break;case l.ENVELOP:this.constrain(a,d,!1);break}return this},setAspectRatio:function(a){return this.aspectRatio=a,this.setSize(this._width,this._height)},resize:function(a,d){return this._width=this.getNewWidth(c(a,this.snapTo.x)),this._height=this.getNewHeight(c(d,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(a,d){return d===void 0&&(d=!0),a=o(a,this.minWidth,this.maxWidth),d&&this._parent&&a>this._parent.width&&(a=Math.max(this.minWidth,this._parent.width)),a},getNewHeight:function(a,d){return d===void 0&&(d=!0),a=o(a,this.minHeight,this.maxHeight),d&&this._parent&&a>this._parent.height&&(a=Math.max(this.minHeight,this._parent.height)),a},constrain:function(a,d,p){a===void 0&&(a=0),d===void 0&&(d=a),p===void 0&&(p=!0),a=this.getNewWidth(a),d=this.getNewHeight(d);var h=this.snapTo,g=d===0?1:a/d;return p&&this.aspectRatio>g||!p&&this.aspectRatio<g?(a=c(a,h.x),d=a/this.aspectRatio,h.y>0&&(d=c(d,h.y),a=d*this.aspectRatio)):(p&&this.aspectRatio<g||!p&&this.aspectRatio>g)&&(d=c(d,h.y),a=d*this.aspectRatio,h.x>0&&(a=c(a,h.x),d=a*(1/this.aspectRatio))),this._width=a,this._height=d,this},fitTo:function(a,d){return this.constrain(a,d,!0)},envelop:function(a,d){return this.constrain(a,d,!1)},setWidth:function(a){return this.setSize(a,this._height)},setHeight:function(a){return this.setSize(this._width,a)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(a){a&&a.style&&(a.style.width=this._width+"px",a.style.height=this._height+"px")},copy:function(a){return a.setAspectMode(this.aspectMode),a.aspectRatio=this.aspectRatio,a.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(a){this.setSize(a,this._height)}},height:{get:function(){return this._height},set:function(a){this.setSize(this._width,a)}}});l.NONE=0,l.WIDTH_CONTROLS_HEIGHT=1,l.HEIGHT_CONTROLS_WIDTH=2,l.FIT=3,l.ENVELOP=4,s.exports=l}),15238:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="add"}),56187:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="remove"}),82348:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={PROCESS_QUEUE_ADD:r(15238),PROCESS_QUEUE_REMOVE:r(56187)}}),41392:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Events:r(82348),List:r(73162),Map:r(90330),ProcessQueue:r(25774),RTree:r(59542),Set:r(35072),Size:r(86555)}}),57382:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(45319),c=r(40987),u=r(8054),l=r(50030),a=r(79237),d=new o({Extends:a,initialize:function(h,g,m,x,w){a.call(this,h,g,m,x,w),this.add("__BASE",0,0,0,x,w),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=x,this.height=w,this.imageData=this.context.getImageData(0,0,x,w),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===u.WEBGL&&this.refresh(),this},draw:function(p,h,g,m){return m===void 0&&(m=!0),this.context.drawImage(g,p,h),m&&this.update(),this},drawFrame:function(p,h,g,m,x){g===void 0&&(g=0),m===void 0&&(m=0),x===void 0&&(x=!0);var w=this.manager.getFrame(p,h);if(w){var C=w.canvasData,E=w.cutWidth,T=w.cutHeight,S=w.source.resolution;this.context.drawImage(w.source.image,C.x,C.y,E,T,g,m,E/S,T/S),x&&this.update()}return this},setPixel:function(p,h,g,m,x,w){w===void 0&&(w=255),p=Math.abs(Math.floor(p)),h=Math.abs(Math.floor(h));var C=this.getIndex(p,h);if(C>-1){var E=this.context.getImageData(p,h,1,1);E.data[0]=g,E.data[1]=m,E.data[2]=x,E.data[3]=w,this.context.putImageData(E,p,h)}return this},putData:function(p,h,g,m,x,w,C){return m===void 0&&(m=0),x===void 0&&(x=0),w===void 0&&(w=p.width),C===void 0&&(C=p.height),this.context.putImageData(p,h,g,m,x,w,C),this},getData:function(p,h,g,m){p=v(Math.floor(p),0,this.width-1),h=v(Math.floor(h),0,this.height-1),g=v(g,1,this.width-p),m=v(m,1,this.height-h);var x=this.context.getImageData(p,h,g,m);return x},getPixel:function(p,h,g){g||(g=new c);var m=this.getIndex(p,h);if(m>-1){var x=this.data,w=x[m+0],C=x[m+1],E=x[m+2],T=x[m+3];g.setTo(w,C,E,T)}return g},getPixels:function(p,h,g,m){p===void 0&&(p=0),h===void 0&&(h=0),g===void 0&&(g=this.width),m===void 0&&(m=g),p=Math.abs(Math.round(p)),h=Math.abs(Math.round(h));for(var x=v(p,0,this.width),w=v(p+g,0,this.width),C=v(h,0,this.height),E=v(h+m,0,this.height),T=new c,S=[],A=C;A<E;A++){for(var P=[],R=x;R<w;R++)T=this.getPixel(R,A,T),P.push({x:R,y:A,color:T.color,alpha:T.alphaGL});S.push(P)}return S},getIndex:function(p,h){return p=Math.abs(Math.round(p)),h=Math.abs(Math.round(h)),p<this.width&&h<this.height?(p+h*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(p,h,g,m,x){return p===void 0&&(p=0),h===void 0&&(h=0),g===void 0&&(g=this.width),m===void 0&&(m=this.height),x===void 0&&(x=!0),this.context.clearRect(p,h,g,m),x&&this.update(),this},setSize:function(p,h){return h===void 0&&(h=p),(p!==this.width||h!==this.height)&&(this.canvas.width=p,this.canvas.height=h,this._source.width=p,this._source.height=h,this._source.isPowerOf2=l(p,h),this.frames.__BASE.setSize(p,h,0,0),this.width=p,this.height=h,this.refresh()),this},destroy:function(){a.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});s.exports=d}),81320:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10312),v=r(38058),c=r(27919),u=r(83419),l=r(8054),a=r(4327),d=r(95540),p=r(36060),h=r(32302),g=r(79237),m=r(70554),x=new u({Extends:g,initialize:function(C,E,T,S,A){T===void 0&&(T=256),S===void 0&&(S=256),A===void 0&&(A=!0),this.type="DynamicTexture";var P=C.game.renderer,R=P&&P.type===l.CANVAS,L=R?c.create2D(this,T,S):[this];g.call(this,C,E,L,T,S),this.add("__BASE",0,0,0,T,S),this.renderer=P,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=R?L:null,this.context=R?L.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new v(0,0,T,S).setScene(C.game.scene.systemScene,!1),this.renderTarget=R?null:new h(P,T,S,1,0,!1,!1,!0,!1),this.pipeline=R?null:P.pipelines.get(p.SINGLE_PIPELINE),this.setSize(T,S,A)},setSize:function(w,C,E){C===void 0&&(C=w),E===void 0&&(E=!0),E&&(w=Math.floor(w),C=Math.floor(C),w%2!==0&&w++,C%2!==0&&C++);var T=this.get(),S=T.source;if(w!==this.width||C!==this.height){this.canvas&&(this.canvas.width=w,this.canvas.height=C);var A=this.renderTarget;A&&(A.willResize(w,C)&&A.resize(w,C),A.texture!==S.glTexture&&this.renderer.deleteTexture(S.glTexture),this.setFromRenderTarget()),this.camera.setSize(w,C),S.width=w,S.height=C,T.setSize(w,C),this.width=w,this.height=C}else{var P=this.getSourceImage();T.cutX+w>P.width&&(w=P.width-T.cutX),T.cutY+C>P.height&&(C=P.height-T.cutY),T.setSize(w,C,T.cutX,T.cutY)}return this},setFromRenderTarget:function(){var w=this.get(),C=w.source,E=this.renderTarget;return C.isRenderTexture=!0,C.isGLTexture=!0,C.glTexture=E.texture,this},setIsSpriteTexture:function(w){return this.isSpriteTexture=w,this},fill:function(w,C,E,T,S,A){var P=this.camera,R=this.renderer;C===void 0&&(C=1),E===void 0&&(E=0),T===void 0&&(T=0),S===void 0&&(S=this.width),A===void 0&&(A=this.height);var L=w>>16&255,D=w>>8&255,F=w&255,$=this.renderTarget;if(P.preRender(),$){$.bind(!0);var N=this.pipeline.manager.set(this.pipeline),k=R.width/$.width,j=R.height/$.height,W=$.height-(T+A);N.drawFillRect(E*k,W*j,S*k,A*j,m.getTintFromFloats(F/255,D/255,L/255,1),C),$.unbind(!0)}else{var G=this.context;R.setContext(G),G.globalCompositeOperation="source-over",G.fillStyle="rgba("+L+","+D+","+F+","+C+")",G.fillRect(E,T,S,A),R.setContext()}return this.dirty=!0,this},clear:function(w,C,E,T){if(this.dirty){var S=this.context,A=this.renderTarget;A?A.clear(w,C,E,T):S&&(w!==void 0&&C!==void 0&&E!==void 0&&T!==void 0?S.clearRect(w,C,E,T):(S.save(),S.setTransform(1,0,0,1,0,0),S.clearRect(0,0,this.width,this.height),S.restore())),this.dirty=!1}return this},stamp:function(w,C,E,T,S){E===void 0&&(E=0),T===void 0&&(T=0);var A=d(S,"alpha",1),P=d(S,"tint",16777215),R=d(S,"angle",0),L=d(S,"rotation",0),D=d(S,"scale",1),F=d(S,"scaleX",D),$=d(S,"scaleY",D),N=d(S,"originX",.5),k=d(S,"originY",.5),j=d(S,"blendMode",0),W=d(S,"erase",!1),G=d(S,"skipBatch",!1),K=this.manager.resetStamp(A,P);return K.setAngle(0),R!==0?K.setAngle(R):L!==0&&K.setRotation(L),K.setScale(F,$),K.setTexture(w,C),K.setOrigin(N,k),K.setBlendMode(j),W&&(this._eraseMode=!0),G?this.batchGameObject(K,E,T):this.draw(K,E,T),W&&(this._eraseMode=!1),this},erase:function(w,C,E){return this._eraseMode=!0,this.draw(w,C,E),this._eraseMode=!1,this},draw:function(w,C,E,T,S){return this.beginDraw(),this.batchDraw(w,C,E,T,S),this.endDraw(),this},drawFrame:function(w,C,E,T,S,A){return this.beginDraw(),this.batchDrawFrame(w,C,E,T,S,A),this.endDraw(),this},repeat:function(w,C,E,T,S,A,P,R,L){if(E===void 0&&(E=0),T===void 0&&(T=0),S===void 0&&(S=this.width),A===void 0&&(A=this.height),P===void 0&&(P=1),R===void 0&&(R=16777215),L===void 0&&(L=!1),w instanceof a?C=w:C=this.manager.getFrame(w,C),!C)return this;var D=this.manager.resetStamp(P,R);D.setFrame(C),D.setOrigin(0);var F=C.width,$=C.height;S=Math.floor(S),A=Math.floor(A);var N=Math.ceil(S/F),k=Math.ceil(A/$),j=N*F-S,W=k*$-A;j>0&&(j=F-j),W>0&&(W=$-W),E<0&&(N+=Math.ceil(Math.abs(E)/F)),T<0&&(k+=Math.ceil(Math.abs(T)/$));var G=E,K=T,z=!1,X=this.manager.stampCrop.setTo(0,0,F,$);L||this.beginDraw();for(var U=0;U<k;U++){if(K+$<0){K+=$;continue}for(var Z=0;Z<N;Z++){if(z=!1,G+F<0){G+=F;continue}else G<0&&(z=!0,X.width=F+G,X.x=F-X.width);K<0&&(z=!0,X.height=$+K,X.y=$-X.height),j>0&&Z===N-1&&(z=!0,X.width=j),W>0&&U===k-1&&(z=!0,X.height=W),z&&D.setCrop(X),this.batchGameObject(D,G,K),D.isCropped=!1,X.setTo(0,0,F,$),G+=F}G=E,K+=$}return L||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var w=this.camera,C=this.renderer,E=this.renderTarget;w.preRender(),E?C.beginCapture(E.width,E.height):C.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(w,C,E,T,S){return Array.isArray(w)||(w=[w]),this.batchList(w,C,E,T,S),this},batchDrawFrame:function(w,C,E,T,S,A){E===void 0&&(E=0),T===void 0&&(T=0),S===void 0&&(S=1),A===void 0&&(A=16777215);var P=this.manager.getFrame(w,C);return P&&(this.renderTarget?this.pipeline.batchTextureFrame(P,E,T,A,S,this.camera.matrix,null):this.batchTextureFrame(P,E,T,S,A)),this},endDraw:function(w){if(w===void 0&&(w=this._eraseMode),this.isDrawing){var C=this.renderer,E=this.renderTarget;if(E){var T=C.endCapture(),S=C.pipelines.setUtility();S.blitFrame(T,E,1,!1,!1,w,this.isSpriteTexture),C.resetScissor(),C.resetViewport()}else C.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(w,C,E,T,S){var A=w.length;if(A!==0)for(var P=0;P<A;P++){var R=w[P];!R||R===this||(R.renderWebGL||R.renderCanvas?this.batchGameObject(R,C,E):R.isParent||R.list?this.batchGroup(R.getChildren(),C,E):typeof R=="string"?this.batchTextureFrameKey(R,null,C,E,T,S):R instanceof a?this.batchTextureFrame(R,C,E,T,S):Array.isArray(R)&&this.batchList(R,C,E,T,S))}},batchGroup:function(w,C,E){C===void 0&&(C=0),E===void 0&&(E=0);for(var T=0;T<w.length;T++){var S=w[T];S.willRender(this.camera)&&this.batchGameObject(S,S.x+C,S.y+E)}},batchGameObject:function(w,C,E){C===void 0&&(C=w.x),E===void 0&&(E=w.y);var T=w.x,S=w.y,A=this.camera,P=this.renderer,R=this._eraseMode,L=w.mask;if(w.setPosition(C,E),this.canvas){if(R){var D=w.blendMode;w.blendMode=o.ERASE}L&&L.preRenderCanvas(P,w,A),w.renderCanvas(P,w,A,null),L&&L.postRenderCanvas(P,w,A),R&&(w.blendMode=D)}else P&&(L&&L.preRenderWebGL(P,w,A),R||P.setBlendMode(w.blendMode),w.renderWebGL(P,w,A),L&&L.postRenderWebGL(P,A,this.renderTarget));w.setPosition(T,S)},batchTextureFrameKey:function(w,C,E,T,S,A){var P=this.manager.getFrame(w,C);P&&this.batchTextureFrame(P,E,T,S,A)},batchTextureFrame:function(w,C,E,T,S){C===void 0&&(C=0),E===void 0&&(E=0),T===void 0&&(T=1),S===void 0&&(S=16777215);var A=this.camera.matrix,P=this.renderTarget;if(P)this.pipeline.batchTextureFrame(w,C,E,S,T,A,null);else{var R=this.context,L=w.canvasData,D=w.source.image;R.save(),R.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",R.globalAlpha=T,A.setToContext(R),L.width>0&&L.height>0&&R.drawImage(D,L.x,L.y,L.width,L.height,C,E,L.width,L.height),R.restore()}},snapshotArea:function(w,C,E,T,S,A,P){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,S,!1,w,C,E,T,A,P):this.renderer.snapshotCanvas(this.canvas,S,!1,w,C,E,T,A,P),this},snapshot:function(w,C,E){return this.snapshotArea(0,0,this.width,this.height,w,C,E)},snapshotPixel:function(w,C,E){return this.snapshotArea(w,C,1,1,E,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(w,C,E,T){var S=this.manager.resetStamp();S.setTexture(this),S.setOrigin(0),S.renderWebGL(w,S,E,T)},renderCanvas:function(){},destroy:function(){var w=this.manager.stamp;w&&w.texture===this&&this.manager.resetStamp(),g.prototype.destroy.call(this),c.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});s.exports=x}),4327:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(45319),c=r(79291),u=new o({initialize:function(a,d,p,h,g,m,x){this.texture=a,this.name=d,this.source=a.source[p],this.sourceIndex=p,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(m,x,h,g)},setCutPosition:function(l,a){return l===void 0&&(l=0),a===void 0&&(a=0),this.cutX=l,this.cutY=a,this.updateUVs()},setCutSize:function(l,a){return this.cutWidth=l,this.cutHeight=a,this.updateUVs()},setSize:function(l,a,d,p){d===void 0&&(d=0),p===void 0&&(p=0),this.setCutPosition(d,p),this.setCutSize(l,a),this.width=l,this.height=a,this.halfWidth=Math.floor(l*.5),this.halfHeight=Math.floor(a*.5),this.centerX=Math.floor(l/2),this.centerY=Math.floor(a/2);var h=this.data,g=h.cut;g.x=d,g.y=p,g.w=l,g.h=a,g.r=d+l,g.b=p+a,h.sourceSize.w=l,h.sourceSize.h=a,h.spriteSourceSize.w=l,h.spriteSourceSize.h=a,h.radius=.5*Math.sqrt(l*l+a*a);var m=h.drawImage;return m.x=d,m.y=p,m.width=l,m.height=a,this.updateUVs()},setTrim:function(l,a,d,p,h,g){var m=this.data,x=m.spriteSourceSize;return m.trim=!0,m.sourceSize.w=l,m.sourceSize.h=a,x.x=d,x.y=p,x.w=h,x.h=g,x.r=d+h,x.b=p+g,this.x=d,this.y=p,this.width=h,this.height=g,this.halfWidth=h*.5,this.halfHeight=g*.5,this.centerX=Math.floor(h/2),this.centerY=Math.floor(g/2),this.updateUVs()},setScale9:function(l,a,d,p){var h=this.data;return h.scale9=!0,h.is3Slice=a===0&&p===this.height,h.scale9Borders.x=l,h.scale9Borders.y=a,h.scale9Borders.w=d,h.scale9Borders.h=p,this},setCropUVs:function(l,a,d,p,h,g,m){var x=this.cutX,w=this.cutY,C=this.cutWidth,E=this.cutHeight,T=this.realWidth,S=this.realHeight;a=v(a,0,T),d=v(d,0,S),p=v(p,0,T-a),h=v(h,0,S-d);var A=x+a,P=w+d,R=p,L=h,D=this.data;if(D.trim){var F=D.spriteSourceSize;p=v(p,0,F.x+C-a),h=v(h,0,F.y+E-d);var $=a+p,N=d+h,k=!(F.r<a||F.b<d||F.x>$||F.y>N);if(k){var j=Math.max(F.x,a),W=Math.max(F.y,d),G=Math.min(F.r,$)-j,K=Math.min(F.b,N)-W;R=G,L=K,g?A=x+(C-(j-F.x)-G):A=x+(j-F.x),m?P=w+(E-(W-F.y)-K):P=w+(W-F.y),a=j,d=W,p=G,h=K}else A=0,P=0,R=0,L=0}else g&&(A=x+(C-a-p)),m&&(P=w+(E-d-h));var z=this.source.width,X=this.source.height;return l.u0=Math.max(0,A/z),l.v0=Math.max(0,P/X),l.u1=Math.min(1,(A+R)/z),l.v1=Math.min(1,(P+L)/X),l.x=a,l.y=d,l.cx=A,l.cy=P,l.cw=R,l.ch=L,l.width=p,l.height=h,l.flipX=g,l.flipY=m,l},updateCropUVs:function(l,a,d){return this.setCropUVs(l,l.x,l.y,l.width,l.height,a,d)},setUVs:function(l,a,d,p,h,g){var m=this.data.drawImage;return m.width=l,m.height=a,this.u0=d,this.v0=p,this.u1=h,this.v1=g,this},updateUVs:function(){var l=this.cutX,a=this.cutY,d=this.cutWidth,p=this.cutHeight,h=this.data.drawImage;h.width=d,h.height=p;var g=this.source.width,m=this.source.height;return this.u0=l/g,this.v0=a/m,this.u1=(l+d)/g,this.v1=(a+p)/m,this},updateUVsInverted:function(){var l=this.source.width,a=this.source.height;return this.u0=(this.cutX+this.cutHeight)/l,this.v0=this.cutY/a,this.u1=this.cutX/l,this.v1=(this.cutY+this.cutWidth)/a,this},clone:function(){var l=new u(this.texture,this.name,this.sourceIndex);return l.cutX=this.cutX,l.cutY=this.cutY,l.cutWidth=this.cutWidth,l.cutHeight=this.cutHeight,l.x=this.x,l.y=this.y,l.width=this.width,l.height=this.height,l.halfWidth=this.halfWidth,l.halfHeight=this.halfHeight,l.centerX=this.centerX,l.centerY=this.centerY,l.rotated=this.rotated,l.data=c(!0,l.data,this.data),l.updateUVs(),l},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});s.exports=u}),79237:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(4327),c=r(11876),u='Texture "%s" has no frame "%s"',l=new o({initialize:function(d,p,h,g,m){Array.isArray(h)||(h=[h]),this.manager=d,this.key=p,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var x=0;x<h.length;x++)this.source.push(new c(this,h[x],g,m))},add:function(a,d,p,h,g,m){if(this.has(a))return null;var x=new v(this,a,d,p,h,g,m);return this.frames[a]=x,this.firstFrame==="__BASE"&&(this.firstFrame=a),this.frameTotal++,x},remove:function(a){if(this.has(a)){var d=this.get(a);return d.destroy(),delete this.frames[a],!0}return!1},has:function(a){return this.frames.hasOwnProperty(a)},get:function(a){a||(a=this.firstFrame);var d=this.frames[a];return d||(console.warn(u,this.key,a),d=this.frames[this.firstFrame]),d},getTextureSourceIndex:function(a){for(var d=0;d<this.source.length;d++)if(this.source[d]===a)return d;return-1},getFramesFromTextureSource:function(a,d){d===void 0&&(d=!1);var p=[];for(var h in this.frames)if(!(h==="__BASE"&&!d)){var g=this.frames[h];g.sourceIndex===a&&p.push(g)}return p},getFrameBounds:function(a){a===void 0&&(a=0);for(var d=this.getFramesFromTextureSource(a,!0),p=d[0],h=p.cutX,g=p.cutY,m=p.cutX+p.cutWidth,x=p.cutY+p.cutHeight,w=1;w<d.length;w++){var C=d[w];C.cutX<h&&(h=C.cutX),C.cutY<g&&(g=C.cutY),C.cutX+C.cutWidth>m&&(m=C.cutX+C.cutWidth),C.cutY+C.cutHeight>x&&(x=C.cutY+C.cutHeight)}return{x:h,y:g,width:m-h,height:x-g}},getFrameNames:function(a){a===void 0&&(a=!1);var d=Object.keys(this.frames);if(!a){var p=d.indexOf("__BASE");p!==-1&&d.splice(p,1)}return d},getSourceImage:function(a){(a==null||this.frameTotal===1)&&(a="__BASE");var d=this.frames[a];return d?d.source.image:(console.warn(u,this.key,a),this.frames.__BASE.source.image)},getDataSourceImage:function(a){(a==null||this.frameTotal===1)&&(a="__BASE");var d=this.frames[a],p;return d?p=d.sourceIndex:(console.warn(u,this.key,a),p=this.frames.__BASE.sourceIndex),this.dataSource[p].image},setDataSource:function(a){Array.isArray(a)||(a=[a]);for(var d=0;d<a.length;d++){var p=this.source[d];this.dataSource.push(new c(this,a[d],p.width,p.height))}},setFilter:function(a){var d;for(d=0;d<this.source.length;d++)this.source[d].setFilter(a);for(d=0;d<this.dataSource.length;d++)this.dataSource[d].setFilter(a)},destroy:function(){var a,d=this.source,p=this.dataSource;for(a=0;a<d.length;a++)d[a]&&d[a].destroy();for(a=0;a<p.length;a++)p[a]&&p[a].destroy();for(var h in this.frames){var g=this.frames[h];g&&g.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});s.exports=l}),17130:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(27919),v=r(57382),c=r(83419),u=r(40987),l=r(8054),a=r(81320),d=r(50792),p=r(69442),h=r(4327),g=r(8443),m=r(99584),x=r(35154),w=r(88571),C=r(41212),E=r(61309),T=r(87841),S=r(79237),A=new c({Extends:d,initialize:function(R){d.call(this),this.game=R,this.name="TextureManager",this.list={},this._tempCanvas=o.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new T,this.silentWarnings=!1,R.events.once(g.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(p.LOAD,this.updatePending,this),this.on(p.ERROR,this.updatePending,this);var P=this.game.config;P.defaultImage!==null&&this.addBase64("__DEFAULT",P.defaultImage),P.missingImage!==null&&this.addBase64("__MISSING",P.missingImage),P.whiteImage!==null&&this.addBase64("__WHITE",P.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(g.DESTROY,this.destroy,this),this.game.events.once(g.SYSTEM_READY,function(R){this.stamp=new w(R).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(p.LOAD),this.off(p.ERROR),this.emit(p.READY))},checkKey:function(P){return!P||typeof P!="string"||this.exists(P)?(this.silentWarnings||console.error("Texture key already in use: "+P),!1):!0},remove:function(P){if(typeof P=="string")if(this.exists(P))P=this.get(P);else return this.silentWarnings||console.warn("No texture found matching key: "+P),this;var R=P.key;return this.list.hasOwnProperty(R)&&(P.destroy(),this.emit(p.REMOVE,R),this.emit(p.REMOVE_KEY+R)),this},removeKey:function(P){return this.list.hasOwnProperty(P)&&delete this.list[P],this},addBase64:function(P,R){if(this.checkKey(P)){var L=this,D=new Image;D.onerror=function(){L.emit(p.ERROR,P)},D.onload=function(){var F=L.create(P,D);F&&(E.Image(F,0),L.emit(p.ADD,P,F),L.emit(p.ADD_KEY+P,F),L.emit(p.LOAD,P,F))},D.src=R}return this},getBase64:function(P,R,L,D){L===void 0&&(L="image/png"),D===void 0&&(D=.92);var F="",$=this.getFrame(P,R);if($&&($.source.isRenderTexture||$.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if($){var N=$.canvasData,k=o.create2D(this,N.width,N.height),j=k.getContext("2d",{willReadFrequently:!0});N.width>0&&N.height>0&&j.drawImage($.source.image,N.x,N.y,N.width,N.height,0,0,N.width,N.height),F=k.toDataURL(L,D),o.remove(k)}return F},addImage:function(P,R,L){var D=null;return this.checkKey(P)&&(D=this.create(P,R),E.Image(D,0),L&&D.setDataSource(L),this.emit(p.ADD,P,D),this.emit(p.ADD_KEY+P,D)),D},addGLTexture:function(P,R){var L=null;if(this.checkKey(P)){var D=R.width,F=R.height;L=this.create(P,R,D,F),L.add("__BASE",0,0,0,D,F),this.emit(p.ADD,P,L),this.emit(p.ADD_KEY+P,L)}return L},addCompressedTexture:function(P,R,L){var D=null;if(this.checkKey(P)){if(D=this.create(P,R),D.add("__BASE",0,0,0,R.width,R.height),L){var F=function(N,k,j){Array.isArray(j.textures)||Array.isArray(j.frames)?E.JSONArray(N,k,j):E.JSONHash(N,k,j)};if(Array.isArray(L))for(var $=0;$<L.length;$++)F(D,$,L[$]);else F(D,0,L)}this.emit(p.ADD,P,D),this.emit(p.ADD_KEY+P,D)}return D},addRenderTexture:function(P,R){var L=null;return this.checkKey(P)&&(L=this.create(P,R),L.add("__BASE",0,0,0,R.width,R.height),this.emit(p.ADD,P,L),this.emit(p.ADD_KEY+P,L)),L},generate:function(P,R){if(this.checkKey(P)){var L=o.create(this,1,1);return R.canvas=L,m(R),this.addCanvas(P,L)}else return null},createCanvas:function(P,R,L){if(R===void 0&&(R=256),L===void 0&&(L=256),this.checkKey(P)){var D=o.create(this,R,L,l.CANVAS,!0);return this.addCanvas(P,D)}return null},addCanvas:function(P,R,L){L===void 0&&(L=!1);var D=null;return L?D=new v(this,P,R,R.width,R.height):this.checkKey(P)&&(D=new v(this,P,R,R.width,R.height),this.list[P]=D,this.emit(p.ADD,P,D),this.emit(p.ADD_KEY+P,D)),D},addDynamicTexture:function(P,R,L){var D=null;return typeof P=="string"&&!this.exists(P)?D=new a(this,P,R,L):(D=P,P=D.key),this.checkKey(P)?(this.list[P]=D,this.emit(p.ADD,P,D),this.emit(p.ADD_KEY+P,D)):D=null,D},addAtlas:function(P,R,L,D){return Array.isArray(L.textures)||Array.isArray(L.frames)?this.addAtlasJSONArray(P,R,L,D):this.addAtlasJSONHash(P,R,L,D)},addAtlasJSONArray:function(P,R,L,D){var F=null;if(R instanceof S?(P=R.key,F=R):this.checkKey(P)&&(F=this.create(P,R)),F){if(Array.isArray(L))for(var $=L.length===1,N=0;N<F.source.length;N++){var k=$?L[0]:L[N];E.JSONArray(F,N,k)}else E.JSONArray(F,0,L);D&&F.setDataSource(D),this.emit(p.ADD,P,F),this.emit(p.ADD_KEY+P,F)}return F},addAtlasJSONHash:function(P,R,L,D){var F=null;if(R instanceof S?(P=R.key,F=R):this.checkKey(P)&&(F=this.create(P,R)),F){if(Array.isArray(L))for(var $=0;$<L.length;$++)E.JSONHash(F,$,L[$]);else E.JSONHash(F,0,L);D&&F.setDataSource(D),this.emit(p.ADD,P,F),this.emit(p.ADD_KEY+P,F)}return F},addAtlasXML:function(P,R,L,D){var F=null;return R instanceof S?(P=R.key,F=R):this.checkKey(P)&&(F=this.create(P,R)),F&&(E.AtlasXML(F,0,L),D&&F.setDataSource(D),this.emit(p.ADD,P,F),this.emit(p.ADD_KEY+P,F)),F},addUnityAtlas:function(P,R,L,D){var F=null;return R instanceof S?(P=R.key,F=R):this.checkKey(P)&&(F=this.create(P,R)),F&&(E.UnityYAML(F,0,L),D&&F.setDataSource(D),this.emit(p.ADD,P,F),this.emit(p.ADD_KEY+P,F)),F},addSpriteSheet:function(P,R,L,D){var F=null;if(R instanceof S?(P=R.key,F=R):this.checkKey(P)&&(F=this.create(P,R)),F){var $=F.source[0].width,N=F.source[0].height;E.SpriteSheet(F,0,0,0,$,N,L),D&&F.setDataSource(D),this.emit(p.ADD,P,F),this.emit(p.ADD_KEY+P,F)}return F},addSpriteSheetFromAtlas:function(P,R){if(!this.checkKey(P))return null;var L=x(R,"atlas",null),D=x(R,"frame",null);if(!(!L||!D)){var F=this.get(L),$=F.get(D);if($){var N=$.source.image;N||(N=$.source.glTexture);var k=this.create(P,N);return $.trimmed?E.SpriteSheetFromAtlas(k,$,R):E.SpriteSheet(k,0,$.cutX,$.cutY,$.cutWidth,$.cutHeight,R),this.emit(p.ADD,P,k),this.emit(p.ADD_KEY+P,k),k}}},addUint8Array:function(P,R,L,D){if(!this.checkKey(P)||R.length/4!==L*D)return null;var F=this.create(P,R,L,D);return F.add("__BASE",0,0,0,L,D),this.emit(p.ADD,P,F),this.emit(p.ADD_KEY+P,F),F},create:function(P,R,L,D){var F=null;return this.checkKey(P)&&(F=new S(this,P,R,L,D),this.list[P]=F),F},exists:function(P){return this.list.hasOwnProperty(P)},get:function(P){return P===void 0&&(P="__DEFAULT"),this.list[P]?this.list[P]:P instanceof S?P:P instanceof h?P.texture:this.list.__MISSING},cloneFrame:function(P,R){if(this.list[P])return this.list[P].get(R).clone()},getFrame:function(P,R){if(this.list[P])return this.list[P].get(R)},parseFrame:function(P){if(P){if(typeof P=="string")return this.getFrame(P);if(Array.isArray(P)&&P.length===2)return this.getFrame(P[0],P[1]);if(C(P))return this.getFrame(P.key,P.frame);if(P instanceof S)return P.get();if(P instanceof h)return P}else return},getTextureKeys:function(){var P=[];for(var R in this.list)R!=="__DEFAULT"&&R!=="__MISSING"&&R!=="__WHITE"&&R!=="__NORMAL"&&P.push(R);return P},getPixel:function(P,R,L,D){var F=this.getFrame(L,D);if(F){P-=F.x,R-=F.y;var $=F.data.cut;if(P+=$.x,R+=$.y,P>=$.x&&P<$.r&&R>=$.y&&R<$.b){var N=this._tempContext;N.clearRect(0,0,1,1),N.drawImage(F.source.image,P,R,1,1,0,0,1,1);var k=N.getImageData(0,0,1,1);return new u(k.data[0],k.data[1],k.data[2],k.data[3])}}return null},getPixelAlpha:function(P,R,L,D){var F=this.getFrame(L,D);if(F){P-=F.x,R-=F.y;var $=F.data.cut;if(P+=$.x,R+=$.y,P>=$.x&&P<$.r&&R>=$.y&&R<$.b){var N=this._tempContext;N.clearRect(0,0,1,1),N.drawImage(F.source.image,P,R,1,1,0,0,1,1);var k=N.getImageData(0,0,1,1);return k.data[3]}}return null},setTexture:function(P,R,L){return this.list[R]&&(P.texture=this.list[R],P.frame=P.texture.get(L)),P},renameTexture:function(P,R){var L=this.get(P);return L&&P!==R?(L.key=R,this.list[R]=L,delete this.list[P],!0):!1},each:function(P,R){for(var L=[null],D=1;D<arguments.length;D++)L.push(arguments[D]);for(var F in this.list)L[0]=this.list[F],P.apply(R,L)},resetStamp:function(P,R){P===void 0&&(P=1),R===void 0&&(R=16777215);var L=this.stamp;return L.setCrop(),L.setPosition(0),L.setAngle(0),L.setScale(1),L.setAlpha(P),L.setTint(R),L.setTexture("__WHITE"),L},destroy:function(){for(var P in this.list)this.list[P].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,o.remove(this._tempCanvas)}});s.exports=A}),11876:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(27919),v=r(83419),c=r(50030),u=r(29795),l=r(82751),a=new v({initialize:function(p,h,g,m,x){x===void 0&&(x=!1);var w=p.manager.game;this.renderer=w.renderer,this.texture=p,this.source=h,this.image=h.compressed?null:h,this.compressionAlgorithm=h.compressed?h.format:null,this.resolution=1,this.width=g||h.naturalWidth||h.videoWidth||h.width||0,this.height=m||h.naturalHeight||h.videoHeight||h.height||0,this.scaleMode=u.DEFAULT,this.isCanvas=h instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&h instanceof HTMLVideoElement,this.isRenderTexture=h.type==="RenderTexture"||h.type==="DynamicTexture",this.isGLTexture=h instanceof l,this.isPowerOf2=c(this.width,this.height),this.glTexture=null,this.flipY=x,this.init(w)},init:function(d){var p=this.renderer;if(p){var h=this.source;if(p.gl){var g=this.image,m=this.flipY,x=this.width,w=this.height,C=this.scaleMode;this.isCanvas?this.glTexture=p.createCanvasTexture(g,!1,m):this.isVideo?this.glTexture=p.createVideoTexture(g,!1,m):this.isRenderTexture?this.glTexture=p.createTextureFromSource(null,x,w,C):this.isGLTexture?this.glTexture=h:this.compressionAlgorithm?this.glTexture=p.createTextureFromSource(h,void 0,void 0,C):h instanceof Uint8Array?this.glTexture=p.createUint8ArrayTexture(h,x,w,C):this.glTexture=p.createTextureFromSource(g,x,w,C)}else this.isRenderTexture&&(this.image=h.canvas)}d.config.antialias||this.setFilter(1)},setFilter:function(d){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,d),this.scaleMode=d},setFlipY:function(d){return d===void 0&&(d=!0),d===this.flipY?this:(this.flipY=d,this.update(),this)},update:function(){var d=this.renderer,p=this.image,h=this.flipY,g=d.gl;g&&this.isCanvas?d.updateCanvasTexture(p,this.glTexture,h):g&&this.isVideo&&d.updateVideoTexture(p,this.glTexture,h)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&o.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});s.exports=a}),19673:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={LINEAR:0,NEAREST:1};s.exports=y}),44538:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="addtexture"}),63486:(s=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="addtexture-"}),94851:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="onerror"}),29099:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="onload"}),8678:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="ready"}),86415:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="removetexture"}),30879:(s=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="removetexture-"}),69442:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={ADD:r(44538),ADD_KEY:r(63486),ERROR:r(94851),LOAD:r(29099),READY:r(8678),REMOVE:r(86415),REMOVE_KEY:r(30879)}}),27458:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(79291),v=r(19673),c={CanvasTexture:r(57382),DynamicTexture:r(81320),Events:r(69442),FilterMode:v,Frame:r(4327),Parsers:r(61309),Texture:r(79237),TextureManager:r(17130),TextureSource:r(11876)};c=o(!1,c,v),s.exports=c}),89905:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){if(!v.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var c=r.source[o];r.add("__BASE",o,0,0,c.width,c.height);for(var u=v.getElementsByTagName("SubTexture"),l,a=0;a<u.length;a++){var d=u[a].attributes,p=d.name.value,h=parseInt(d.x.value,10),g=parseInt(d.y.value,10),m=parseInt(d.width.value,10),x=parseInt(d.height.value,10);if(l=r.add(p,o,h,g,m,x),d.frameX){var w=Math.abs(parseInt(d.frameX.value,10)),C=Math.abs(parseInt(d.frameY.value,10)),E=parseInt(d.frameWidth.value,10),T=parseInt(d.frameHeight.value,10);l.setTrim(m,x,w,C,E,T)}}return r};s.exports=y}),72893:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){var v=r.source[o];return r.add("__BASE",o,0,0,v.width,v.height),r};s.exports=y}),4832:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){var v=r.source[o];return r.add("__BASE",o,0,0,v.width,v.height),r};s.exports=y}),78566:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(41786),v=function(c,u,l){if(!l.frames&&!l.textures){console.warn("Invalid Texture Atlas JSON Array");return}var a=c.source[u];c.add("__BASE",u,0,0,a.width,a.height);for(var d=Array.isArray(l.textures)?l.textures[u].frames:l.frames,p,h=0;h<d.length;h++){var g=d[h];if(p=c.add(g.filename,u,g.frame.x,g.frame.y,g.frame.w,g.frame.h),!p){console.warn("Invalid atlas json, frame already exists: "+g.filename);continue}g.trimmed&&p.setTrim(g.sourceSize.w,g.sourceSize.h,g.spriteSourceSize.x,g.spriteSourceSize.y,g.spriteSourceSize.w,g.spriteSourceSize.h),g.rotated&&(p.rotated=!0,p.updateUVsInverted());var m=g.anchor||g.pivot;m&&(p.customPivot=!0,p.pivotX=m.x,p.pivotY=m.y),g.scale9Borders&&p.setScale9(g.scale9Borders.x,g.scale9Borders.y,g.scale9Borders.w,g.scale9Borders.h),p.customData=o(g)}for(var x in l)x!=="frames"&&(Array.isArray(l[x])?c.customData[x]=l[x].slice(0):c.customData[x]=l[x]);return c};s.exports=v}),39711:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(41786),v=function(c,u,l){if(!l.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var a=c.source[u];c.add("__BASE",u,0,0,a.width,a.height);var d=l.frames,p;for(var h in d)if(d.hasOwnProperty(h)){var g=d[h];if(p=c.add(h,u,g.frame.x,g.frame.y,g.frame.w,g.frame.h),!p){console.warn("Invalid atlas json, frame already exists: "+h);continue}g.trimmed&&p.setTrim(g.sourceSize.w,g.sourceSize.h,g.spriteSourceSize.x,g.spriteSourceSize.y,g.spriteSourceSize.w,g.spriteSourceSize.h),g.rotated&&(p.rotated=!0,p.updateUVsInverted());var m=g.anchor||g.pivot;m&&(p.customPivot=!0,p.pivotX=m.x,p.pivotY=m.y),g.scale9Borders&&p.setScale9(g.scale9Borders.x,g.scale9Borders.y,g.scale9Borders.w,g.scale9Borders.h),p.customData=o(g)}for(var x in l)x!=="frames"&&(Array.isArray(l[x])?c.customData[x]=l[x].slice(0):c.customData[x]=l[x]);return c};s.exports=v}),31403:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){var o=[171,75,84,88,32,49,49,187,13,10,26,10],v,c=new Uint8Array(r,0,12);for(v=0;v<c.length;v++)if(c[v]!==o[v]){console.warn("KTXParser - Invalid file format");return}var u=Uint32Array.BYTES_PER_ELEMENT,l=new DataView(r,12,13*u),a=l.getUint32(0,!0)===67305985,d=l.getUint32(1*u,a);if(d!==0){console.warn("KTXParser - Only compressed formats supported");return}var p=l.getUint32(4*u,a),h=l.getUint32(6*u,a),g=l.getUint32(7*u,a),m=Math.max(1,l.getUint32(11*u,a)),x=l.getUint32(12*u,a),w=new Array(m),C=64+x,E=h,T=g;for(v=0;v<m;v++){var S=new Int32Array(r,C,1)[0];C+=4,w[v]={data:new Uint8Array(r,C,S),width:E,height:T},E=Math.max(1,E>>1),T=Math.max(1,T>>1),C+=S}return{mipmaps:w,width:h,height:g,internalFormat:p,compressed:!0,generateMipmap:!1}};s.exports=y}),82038:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(R,L,D,F,$,N,k){return k===void 0&&(k=16),Math.floor((R+D)/$)*Math.floor((L+F)/N)*k}function r(R,L){return R=Math.max(R,16),L=Math.max(L,8),R*L/4}function o(R,L){return R=Math.max(R,8),L=Math.max(L,8),R*L/2}function v(R,L){return Math.ceil(R/4)*Math.ceil(L/4)*16}function c(R,L){return y(R,L,3,3,4,4,8)}function u(R,L){return y(R,L,3,3,4,4)}function l(R,L){return y(R,L,4,3,5,4)}function a(R,L){return y(R,L,4,4,5,5)}function d(R,L){return y(R,L,5,4,6,5)}function p(R,L){return y(R,L,5,5,6,6)}function h(R,L){return y(R,L,7,4,8,5)}function g(R,L){return y(R,L,7,5,8,6)}function m(R,L){return y(R,L,7,7,8,8)}function x(R,L){return y(R,L,9,4,10,5)}function w(R,L){return y(R,L,9,5,10,6)}function C(R,L){return y(R,L,9,7,10,8)}function E(R,L){return y(R,L,9,9,10,10)}function T(R,L){return y(R,L,11,9,12,10)}function S(R,L){return y(R,L,11,11,12,12)}var A={0:{sizeFunc:r,glFormat:[35841]},1:{sizeFunc:r,glFormat:[35843]},2:{sizeFunc:o,glFormat:[35840]},3:{sizeFunc:o,glFormat:[35842]},6:{sizeFunc:c,glFormat:[36196]},7:{sizeFunc:c,glFormat:[33776,35916]},8:{sizeFunc:u,glFormat:[33777,35917]},9:{sizeFunc:u,glFormat:[33778,35918]},11:{sizeFunc:u,glFormat:[33779,35919]},14:{sizeFunc:v,glFormat:[36494,36495]},15:{sizeFunc:v,glFormat:[36492,36493]},22:{sizeFunc:c,glFormat:[37492,37493]},23:{sizeFunc:u,glFormat:[37496,37497]},24:{sizeFunc:c,glFormat:[37494,37495]},25:{sizeFunc:c,glFormat:[37488]},26:{sizeFunc:u,glFormat:[37490]},27:{sizeFunc:u,glFormat:[37808,37840]},28:{sizeFunc:l,glFormat:[37809,37841]},29:{sizeFunc:a,glFormat:[37810,37842]},30:{sizeFunc:d,glFormat:[37811,37843]},31:{sizeFunc:p,glFormat:[37812,37844]},32:{sizeFunc:h,glFormat:[37813,37845]},33:{sizeFunc:g,glFormat:[37814,37846]},34:{sizeFunc:m,glFormat:[37815,37847]},35:{sizeFunc:x,glFormat:[37816,37848]},36:{sizeFunc:w,glFormat:[37817,37849]},37:{sizeFunc:C,glFormat:[37818,37850]},38:{sizeFunc:E,glFormat:[37819,37851]},39:{sizeFunc:T,glFormat:[37820,37852]},40:{sizeFunc:S,glFormat:[37821,37853]}},P=function(R){for(var L=new Uint32Array(R,0,13),D=L[0],F=D===55727696,$=F?L[2]:L[3],N=L[4],k=A[$].glFormat[N],j=A[$].sizeFunc,W=L[11],G=L[7],K=L[6],z=52+L[12],X=new Uint8Array(R,z),U=new Array(W),Z=0,V=G,J=K,_=0;_<W;_++){var ee=j(V,J);U[_]={data:new Uint8Array(X.buffer,X.byteOffset+Z,ee),width:V,height:J},V=Math.max(1,V>>1),J=Math.max(1,J>>1),Z+=ee}return{mipmaps:U,width:G,height:K,internalFormat:k,compressed:!0,generateMipmap:!1}};s.exports=P}),75549:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95540),v=function(c,u,l,a,d,p,h){var g=o(h,"frameWidth",null),m=o(h,"frameHeight",g);if(g===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var x=c.source[u];c.add("__BASE",u,0,0,x.width,x.height);var w=o(h,"startFrame",0),C=o(h,"endFrame",-1),E=o(h,"margin",0),T=o(h,"spacing",0),S=Math.floor((d-E+T)/(g+T)),A=Math.floor((p-E+T)/(m+T)),P=S*A;P===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",c.key),(w>P||w<-P)&&(w=0),w<0&&(w=P+w),(C===-1||C>P||C<w)&&(C=P);for(var R=E,L=E,D=0,F=0,$=0,N=0;N<P;N++){D=0,F=0;var k=R+g,j=L+m;k>d&&(D=k-d),j>p&&(F=j-p),N>=w&&N<=C&&(c.add($,u,l+R,a+L,g-D,m-F),$++),R+=g+T,R+g>d&&(R=E,L+=m+T)}return c};s.exports=v}),47534:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95540),v=function(c,u,l){var a=o(l,"frameWidth",null),d=o(l,"frameHeight",a);if(!a)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var p=c.source[0];c.add("__BASE",0,0,0,p.width,p.height),o(l,"startFrame",0),o(l,"endFrame",-1);for(var h=o(l,"margin",0),g=o(l,"spacing",0),m=u.cutX,x=u.cutY,w=u.cutWidth,C=u.cutHeight,E=u.realWidth,T=u.realHeight,S=Math.floor((E-h+g)/(a+g)),A=Math.floor((T-h+g)/(d+g)),P=u.x,R=a-P,L=a-(E-w-P),D=u.y,F=d-D,$=d-(T-C-D),N,k=h,j=h,W=0,G=0,K=0;K<A;K++){for(var z=K===0,X=K===A-1,U=0;U<S;U++){var Z=U===0,V=U===S-1;if(N=c.add(W,G,m+k,x+j,a,d),Z||z||V||X){var J=Z?P:0,_=z?D:0,ee=0,te=0;Z&&(ee+=a-R),V&&(ee+=a-L),z&&(te+=d-F),X&&(te+=d-$);var ie=a-ee,le=d-te;N.cutWidth=ie,N.cutHeight=le,N.setTrim(a,d,J,_,ie,le)}k+=g,Z?k+=R:V?k+=L:k+=a,W++}k=h,j+=g,z?j+=F:X?j+=$:j+=d}return c};s.exports=v}),86147:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=0,r=function(v,c,u,l){var a=y-l.y-l.height;v.add(u,c,l.x,a,l.width,l.height)},o=function(v,c,u){var l=v.source[c];v.add("__BASE",c,0,0,l.width,l.height),y=l.height;for(var a=u.split(`
`),d=/^[ ]*(- )*(\w+)+[: ]+(.*)/,p="",h="",g={x:0,y:0,width:0,height:0},m=0;m<a.length;m++){var x=a[m].match(d);if(x){var w=x[1]==="- ",C=x[2],E=x[3];if(w&&(h!==p&&(r(v,c,h,g),p=h),g={x:0,y:0,width:0,height:0}),C==="name"){h=E;continue}switch(C){case"x":case"y":case"width":case"height":g[C]=parseInt(E,10);break}}}return h!==p&&r(v,c,h,g),v};s.exports=o}),55222:((s,y,r)=>{/**
 * @author       Ben Richards <benjamindrichards@gmail.com>
 * @copyright    2024 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(50030),v=function(p){for(var h=p.mipmaps,g=1;g<h.length;g++){var m=h[g].width,x=h[g].height;if(!o(m,x))return console.warn("Mip level "+g+" is not a power-of-two size: "+m+"x"+x),!1}var w=d[p.internalFormat];return w?w(p):(console.warn("No format checker found for internal format "+p.internalFormat+". Assuming valid."),!0)};function c(p){for(var h=p.mipmaps,g=0;g<h.length;g++){var m=h[g].width,x=h[g].height;if((m<<g)%4!==0||(x<<g)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+g+" is "+m+"x"+x),!1}return!0}function u(){return!0}function l(p){var h=p.mipmaps,g=h[0];return o(g.width,g.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+g.width+"x"+g.height),!1)}function a(p){var h=p.mipmaps,g=h[0];return g.width%4!==0||g.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+g.width+"x"+g.height+" pixels"),!1):!0}var d={37488:u,37489:u,37490:u,37491:u,37492:u,37493:u,37494:u,37495:u,37496:u,37497:u,36196:u,37808:u,37809:u,37810:u,37811:u,37812:u,37813:u,37814:u,37815:u,37816:u,37817:u,37818:u,37819:u,37820:u,37821:u,37840:u,37841:u,37842:u,37843:u,37844:u,37845:u,37846:u,37847:u,37848:u,37849:u,37850:u,37851:u,37852:u,37853:u,36492:c,36493:c,36494:c,36495:c,36283:c,36284:c,36285:c,36286:c,35840:l,35841:l,35842:l,35843:l,33776:c,33777:c,33778:c,33779:c,35916:a,35917:a,35918:a,35919:a};s.exports=v}),61309:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={AtlasXML:r(89905),Canvas:r(72893),Image:r(4832),JSONArray:r(78566),JSONHash:r(39711),KTXParser:r(31403),PVRParser:r(82038),SpriteSheet:r(75549),SpriteSheetFromAtlas:r(47534),UnityYAML:r(86147)}}),80341:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}}),16536:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=new o({initialize:function(u,l,a,d,p,h,g){(a===void 0||a<=0)&&(a=32),(d===void 0||d<=0)&&(d=32),p===void 0&&(p=0),h===void 0&&(h=0),this.name=u,this.firstgid=l|0,this.imageWidth=a|0,this.imageHeight=d|0,this.imageMargin=p|0,this.imageSpacing=h|0,this.properties=g||{},this.images=[],this.total=0},containsImageIndex:function(c){return c>=this.firstgid&&c<this.firstgid+this.total},addImage:function(c,u,l,a){return this.images.push({gid:c,image:u,width:l,height:a}),this.total++,this}});s.exports=v}),27462:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=new o({initialize:function(u){if(this.gids=[],u!==void 0)for(var l=0;l<u.length;++l)for(var a=u[l],d=0;d<a.total;++d)this.gids[a.firstgid+d]=a;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(c){this.gids=c?this._gids:void 0}},getTypeIncludingTile:function(c){if(c.type!==void 0&&c.type!=="")return c.type;if(!(!this.gids||c.gid===void 0)){var u=this.gids[c.gid];if(u){var l=u.getTileData(c.gid);if(l)return l.type}}},setTextureAndFrame:function(c,u,l,a){if(u===null&&this.gids&&a.gid!==void 0){var d=this.gids[a.gid];d&&(u===null&&d.image!==void 0&&(u=d.image.key),l===null&&(l=a.gid-d.firstgid),c.scene.textures.getFrame(u,l)||(u=null,l=null))}c.setTexture(u,l)},setPropertiesFromTiledObject:function(c,u){if(this.gids!==void 0&&u.gid!==void 0){var l=this.gids[u.gid];l!==void 0&&this.setFromJSON(c,l.getTileProperties(u.gid))}this.setFromJSON(c,u.properties)},setFromJSON:function(c,u){if(u){if(Array.isArray(u)){for(var l=0;l<u.length;l++){var a=u[l];c[a.name]!==void 0?c[a.name]=a.value:c.setData(a.name,a.value)}return}for(var d in u)c[d]!==void 0?c[d]=u[d]:c.setData(d,u[d])}}});s.exports=v}),31989:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(80341),v=r(87010),c=r(46177),u=r(49075),l=function(a,d,p,h,g,m,x,w){p===void 0&&(p=32),h===void 0&&(h=32),g===void 0&&(g=10),m===void 0&&(m=10),w===void 0&&(w=!1);var C=null;if(Array.isArray(x)){var E=d!==void 0?d:"map";C=c(E,o.ARRAY_2D,x,p,h,w)}else if(d!==void 0){var T=a.cache.tilemap.get(d);T?C=c(d,T.format,T.data,p,h,w):console.warn("No map data found for key "+d)}return C===null&&(C=new v({tileWidth:p,tileHeight:h,width:g,height:m})),new u(a,C)};s.exports=l}),23029:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(31401),c=r(91907),u=r(62644),l=r(93232),a=new o({Mixins:[v.AlphaSingle,v.Flip,v.Visible],initialize:function(p,h,g,m,x,w,C,E){this.layer=p,this.index=h,this.x=g,this.y=m,this.width=x,this.height=w,this.right,this.bottom,this.baseWidth=C!==void 0?C:x,this.baseHeight=E!==void 0?E:w,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(d,p){return!(d<this.pixelX||p<this.pixelY||d>this.right||p>this.bottom)},copy:function(d){return this.index=d.index,this.alpha=d.alpha,this.properties=u(d.properties),this.visible=d.visible,this.setFlip(d.flipX,d.flipY),this.tint=d.tint,this.rotation=d.rotation,this.collideUp=d.collideUp,this.collideDown=d.collideDown,this.collideLeft=d.collideLeft,this.collideRight=d.collideRight,this.collisionCallback=d.collisionCallback,this.collisionCallbackContext=d.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(d){var p=this.tilemapLayer;if(p){var h=p.tileToWorldXY(this.x,this.y,void 0,d);return h.x}return this.x*this.baseWidth},getRight:function(d){var p=this.tilemapLayer;return p?this.getLeft(d)+this.width*p.scaleX:this.getLeft(d)+this.width},getTop:function(d){var p=this.tilemapLayer;if(p){var h=p.tileToWorldXY(this.x,this.y,void 0,d);return h.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(d){var p=this.tilemapLayer;return p?this.getTop(d)+this.height*p.scaleY:this.getTop(d)+this.height},getBounds:function(d,p){return p===void 0&&(p=new l),p.x=this.getLeft(d),p.y=this.getTop(d),p.width=this.getRight(d)-p.x,p.height=this.getBottom(d)-p.y,p},getCenterX:function(d){return(this.getLeft(d)+this.getRight(d))/2},getCenterY:function(d){return(this.getTop(d)+this.getBottom(d))/2},intersects:function(d,p,h,g){return!(h<=this.pixelX||g<=this.pixelY||d>=this.right||p>=this.bottom)},isInteresting:function(d,p){return d&&p?this.canCollide||this.hasInterestingFace:d?this.collides:p?this.hasInterestingFace:!1},resetCollision:function(d){if(d===void 0&&(d=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,d){var p=this.tilemapLayer;p&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(d,p,h,g,m){if(p===void 0&&(p=d),h===void 0&&(h=d),g===void 0&&(g=d),m===void 0&&(m=!0),this.collideLeft=d,this.collideRight=p,this.collideUp=h,this.collideDown=g,this.faceLeft=d,this.faceRight=p,this.faceTop=h,this.faceBottom=g,m){var x=this.tilemapLayer;x&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(d,p){return d===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=d,this.collisionCallbackContext=p),this},setSize:function(d,p,h,g){return d!==void 0&&(this.width=d),p!==void 0&&(this.height=p),h!==void 0&&(this.baseWidth=h),g!==void 0&&(this.baseHeight=g),this.updatePixelXY(),this},updatePixelXY:function(){var d=this.layer.orientation;if(d===c.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(d===c.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(d===c.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(d===c.HEXAGONAL){var p=this.layer.staggerAxis,h=this.layer.staggerIndex,g=this.layer.hexSideLength,m,x;p==="y"?(x=(this.baseHeight-g)/2+g,h==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*x):p==="x"&&(m=(this.baseWidth-g)/2+g,this.pixelX=this.x*m,h==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var d=this.layer.tilemapLayer;if(d){var p=d.gidMap[this.index];if(p)return p}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var d=this.tilemapLayer;return d?d.tilemap:null}}});s.exports=a}),49075:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(84101),v=r(83419),c=r(39506),u=r(80341),l=r(95540),a=r(14977),d=r(27462),p=r(91907),h=r(36305),g=r(19133),m=r(68287),x=r(23029),w=r(81086),C=r(20442),E=r(33629),T=new v({initialize:function(A,P){this.scene=A,this.tileWidth=P.tileWidth,this.tileHeight=P.tileHeight,this.width=P.width,this.height=P.height,this.orientation=P.orientation,this.renderOrder=P.renderOrder,this.format=P.format,this.version=P.version,this.properties=P.properties,this.widthInPixels=P.widthInPixels,this.heightInPixels=P.heightInPixels,this.imageCollections=P.imageCollections,this.images=P.images,this.layers=P.layers,this.tiles=P.tiles,this.tilesets=P.tilesets,this.objects=P.objects,this.currentLayerIndex=0,this.hexSideLength=P.hexSideLength;var R=this.orientation;this._convert={WorldToTileXY:w.GetWorldToTileXYFunction(R),WorldToTileX:w.GetWorldToTileXFunction(R),WorldToTileY:w.GetWorldToTileYFunction(R),TileToWorldXY:w.GetTileToWorldXYFunction(R),TileToWorldX:w.GetTileToWorldXFunction(R),TileToWorldY:w.GetTileToWorldYFunction(R),GetTileCorners:w.GetTileCornersFunction(R)}},setRenderOrder:function(S){var A=["right-down","left-down","right-up","left-up"];return typeof S=="number"&&(S=A[S]),A.indexOf(S)>-1&&(this.renderOrder=S),this},addTilesetImage:function(S,A,P,R,L,D,F,$){if(S===void 0)return null;A==null&&(A=S);var N=this.scene.sys.textures;if(!N.exists(A))return console.warn('Texture key "%s" not found',A),null;var k=N.get(A),j=this.getTilesetIndex(S);if(j===null&&this.format===u.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',S,this.tilesets),null;var W=this.tilesets[j];return W?((P||R)&&W.setTileSize(P,R),(L||D)&&W.setSpacing(L,D),W.setImage(k),W):(P===void 0&&(P=this.tileWidth),R===void 0&&(R=this.tileHeight),L===void 0&&(L=0),D===void 0&&(D=0),F===void 0&&(F=0),$===void 0&&($={x:0,y:0}),W=new E(S,F,P,R,L,D,void 0,void 0,$),W.setImage(k),this.tilesets.push(W),this.tiles=o(this),W)},copy:function(S,A,P,R,L,D,F,$){return $=this.getLayer($),$!==null?(w.Copy(S,A,P,R,L,D,F,$),this):null},createBlankLayer:function(S,A,P,R,L,D,F,$){P===void 0&&(P=0),R===void 0&&(R=0),L===void 0&&(L=this.width),D===void 0&&(D=this.height),F===void 0&&(F=this.tileWidth),$===void 0&&($=this.tileHeight);var N=this.getLayerIndex(S);if(N!==null)return console.warn("Invalid Tilemap Layer ID: "+S),null;for(var k=new a({name:S,tileWidth:F,tileHeight:$,width:L,height:D,orientation:this.orientation,hexSideLength:this.hexSideLength}),j,W=0;W<D;W++){j=[];for(var G=0;G<L;G++)j.push(new x(k,-1,G,W,F,$,this.tileWidth,this.tileHeight));k.data.push(j)}this.layers.push(k),this.currentLayerIndex=this.layers.length-1;var K=new C(this.scene,this,this.currentLayerIndex,A,P,R);return K.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(K),K},createLayer:function(S,A,P,R){var L=this.getLayerIndex(S);if(L===null)return console.warn("Invalid Tilemap Layer ID: "+S),typeof S=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var D=this.layers[L];if(D.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+S),null;this.currentLayerIndex=L,P===void 0&&(P=D.x),R===void 0&&(R=D.y);var F=new C(this.scene,this,L,A,P,R);return F.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(F),F},createFromObjects:function(S,A,P){P===void 0&&(P=!0);var R=[],L=this.getObjectLayer(S);if(!L)return console.warn("createFromObjects: Invalid objectLayerName given: "+S),R;var D=new d(P?this.tilesets:void 0);Array.isArray(A)||(A=[A]);for(var F=L.objects,$=0;$<A.length;$++){var N=A[$],k=l(N,"id",null),j=l(N,"gid",null),W=l(N,"name",null),G=l(N,"type",null);D.enabled=!l(N,"ignoreTileset",null);for(var K,z=[],X=0;X<F.length;X++)K=F[X],(k===null&&j===null&&W===null&&G===null||k!==null&&K.id===k||j!==null&&K.gid===j||W!==null&&K.name===W||G!==null&&D.getTypeIncludingTile(K)===G)&&z.push(K);for(var U=l(N,"classType",m),Z=l(N,"scene",this.scene),V=l(N,"container",null),J=l(N,"key",null),_=l(N,"frame",null),ee=0;ee<z.length;ee++){K=z[ee];var te=new U(Z);if(te.setName(K.name),te.setPosition(K.x,K.y),D.setTextureAndFrame(te,J,_,K),K.width&&(te.displayWidth=K.width),K.height&&(te.displayHeight=K.height),this.orientation===p.ISOMETRIC){var ie=this.tileWidth/this.tileHeight,le={x:te.x-te.y,y:(te.x+te.y)/ie};te.x=le.x,te.y=le.y}var he={x:te.originX*K.width,y:(te.originY-(K.gid?1:0))*K.height};if(K.rotation){var fe=c(K.rotation);h(he,fe),te.rotation=fe}te.x+=he.x,te.y+=he.y,(K.flippedHorizontal!==void 0||K.flippedVertical!==void 0)&&te.setFlip(K.flippedHorizontal,K.flippedVertical),K.visible||(te.visible=!1),D.setPropertiesFromTiledObject(te,K),V?V.add(te):Z.add.existing(te),R.push(te)}}return R},createFromTiles:function(S,A,P,R,L,D){return D=this.getLayer(D),D===null?null:w.CreateFromTiles(S,A,P,R,L,D)},fill:function(S,A,P,R,L,D,F){return D===void 0&&(D=!0),F=this.getLayer(F),F===null?null:(w.Fill(S,A,P,R,L,D,F),this)},filterObjects:function(S,A,P){if(typeof S=="string"){var R=S;if(S=this.getObjectLayer(S),!S)return console.warn("No object layer found with the name: "+R),null}return S.objects.filter(A,P)},filterTiles:function(S,A,P,R,L,D,F,$){return $=this.getLayer($),$===null?null:w.FilterTiles(S,A,P,R,L,D,F,$)},findByIndex:function(S,A,P,R){return R=this.getLayer(R),R===null?null:w.FindByIndex(S,A,P,R)},findObject:function(S,A,P){if(typeof S=="string"){var R=S;if(S=this.getObjectLayer(S),!S)return console.warn("No object layer found with the name: "+R),null}return S.objects.find(A,P)||null},findTile:function(S,A,P,R,L,D,F,$){return $=this.getLayer($),$===null?null:w.FindTile(S,A,P,R,L,D,F,$)},forEachTile:function(S,A,P,R,L,D,F,$){return $=this.getLayer($),$===null?null:(w.ForEachTile(S,A,P,R,L,D,F,$),this)},getImageIndex:function(S){return this.getIndex(this.images,S)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(S){return S.name})},getIndex:function(S,A){for(var P=0;P<S.length;P++)if(S[P].name===A)return P;return null},getLayer:function(S){var A=this.getLayerIndex(S);return A!==null?this.layers[A]:null},getObjectLayer:function(S){var A=this.getIndex(this.objects,S);return A!==null?this.objects[A]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(S){return S.name})},getLayerIndex:function(S){return S===void 0?this.currentLayerIndex:typeof S=="string"?this.getLayerIndexByName(S):typeof S=="number"&&S<this.layers.length?S:S instanceof C&&S.tilemap===this?S.layerIndex:null},getLayerIndexByName:function(S){return this.getIndex(this.layers,S)},getTileAt:function(S,A,P,R){return R=this.getLayer(R),R===null?null:w.GetTileAt(S,A,P,R)},getTileAtWorldXY:function(S,A,P,R,L){return L=this.getLayer(L),L===null?null:w.GetTileAtWorldXY(S,A,P,R,L)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(S){return S.name})},getTilesWithin:function(S,A,P,R,L,D){return D=this.getLayer(D),D===null?null:w.GetTilesWithin(S,A,P,R,L,D)},getTilesWithinShape:function(S,A,P,R){return R=this.getLayer(R),R===null?null:w.GetTilesWithinShape(S,A,P,R)},getTilesWithinWorldXY:function(S,A,P,R,L,D,F){return F=this.getLayer(F),F===null?null:w.GetTilesWithinWorldXY(S,A,P,R,L,D,F)},getTileset:function(S){var A=this.getIndex(this.tilesets,S);return A!==null?this.tilesets[A]:null},getTilesetIndex:function(S){return this.getIndex(this.tilesets,S)},hasTileAt:function(S,A,P){return P=this.getLayer(P),P===null?null:w.HasTileAt(S,A,P)},hasTileAtWorldXY:function(S,A,P,R){return R=this.getLayer(R),R===null?null:w.HasTileAtWorldXY(S,A,P,R)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(S){this.setLayer(S)}},putTileAt:function(S,A,P,R,L){return R===void 0&&(R=!0),L=this.getLayer(L),L===null?null:w.PutTileAt(S,A,P,R,L)},putTileAtWorldXY:function(S,A,P,R,L,D){return R===void 0&&(R=!0),D=this.getLayer(D),D===null?null:w.PutTileAtWorldXY(S,A,P,R,L,D)},putTilesAt:function(S,A,P,R,L){return R===void 0&&(R=!0),L=this.getLayer(L),L===null?null:(w.PutTilesAt(S,A,P,R,L),this)},randomize:function(S,A,P,R,L,D){return D=this.getLayer(D),D===null?null:(w.Randomize(S,A,P,R,L,D),this)},calculateFacesAt:function(S,A,P){return P=this.getLayer(P),P===null?null:(w.CalculateFacesAt(S,A,P),this)},calculateFacesWithin:function(S,A,P,R,L){return L=this.getLayer(L),L===null?null:(w.CalculateFacesWithin(S,A,P,R,L),this)},removeLayer:function(S){var A=this.getLayerIndex(S);if(A!==null){g(this.layers,A);for(var P=A;P<this.layers.length;P++)this.layers[P].tilemapLayer&&this.layers[P].tilemapLayer.layerIndex--;return this.currentLayerIndex===A&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(S){var A=this.getLayerIndex(S);return A!==null?(S=this.layers[A],S.tilemapLayer.destroy(),g(this.layers,A),this.currentLayerIndex===A&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var S=this.layers,A=0;A<S.length;A++)S[A].tilemapLayer&&S[A].tilemapLayer.destroy(!1);return S.length=0,this.currentLayerIndex=0,this},removeTile:function(S,A,P){A===void 0&&(A=-1),P===void 0&&(P=!0);var R=[];Array.isArray(S)||(S=[S]);for(var L=0;L<S.length;L++){var D=S[L];R.push(this.removeTileAt(D.x,D.y,!0,P,D.tilemapLayer)),A>-1&&this.putTileAt(A,D.x,D.y,P,D.tilemapLayer)}return R},removeTileAt:function(S,A,P,R,L){return P===void 0&&(P=!0),R===void 0&&(R=!0),L=this.getLayer(L),L===null?null:w.RemoveTileAt(S,A,P,R,L)},removeTileAtWorldXY:function(S,A,P,R,L,D){return P===void 0&&(P=!0),R===void 0&&(R=!0),D=this.getLayer(D),D===null?null:w.RemoveTileAtWorldXY(S,A,P,R,L,D)},renderDebug:function(S,A,P){return P=this.getLayer(P),P===null?null:(this.orientation===p.ORTHOGONAL&&w.RenderDebug(S,A,P),this)},renderDebugFull:function(S,A){for(var P=this.layers,R=0;R<P.length;R++)w.RenderDebug(S,A,P[R]);return this},replaceByIndex:function(S,A,P,R,L,D,F){return F=this.getLayer(F),F===null?null:(w.ReplaceByIndex(S,A,P,R,L,D,F),this)},setCollision:function(S,A,P,R,L){return A===void 0&&(A=!0),P===void 0&&(P=!0),L===void 0&&(L=!0),R=this.getLayer(R),R===null?null:(w.SetCollision(S,A,P,R,L),this)},setCollisionBetween:function(S,A,P,R,L){return P===void 0&&(P=!0),R===void 0&&(R=!0),L=this.getLayer(L),L===null?null:(w.SetCollisionBetween(S,A,P,R,L),this)},setCollisionByProperty:function(S,A,P,R){return A===void 0&&(A=!0),P===void 0&&(P=!0),R=this.getLayer(R),R===null?null:(w.SetCollisionByProperty(S,A,P,R),this)},setCollisionByExclusion:function(S,A,P,R){return A===void 0&&(A=!0),P===void 0&&(P=!0),R=this.getLayer(R),R===null?null:(w.SetCollisionByExclusion(S,A,P,R),this)},setCollisionFromCollisionGroup:function(S,A,P){return S===void 0&&(S=!0),A===void 0&&(A=!0),P=this.getLayer(P),P===null?null:(w.SetCollisionFromCollisionGroup(S,A,P),this)},setTileIndexCallback:function(S,A,P,R){return R=this.getLayer(R),R===null?null:(w.SetTileIndexCallback(S,A,P,R),this)},setTileLocationCallback:function(S,A,P,R,L,D,F){return F=this.getLayer(F),F===null?null:(w.SetTileLocationCallback(S,A,P,R,L,D,F),this)},setLayer:function(S){var A=this.getLayerIndex(S);return A!==null&&(this.currentLayerIndex=A),this},setBaseTileSize:function(S,A){this.tileWidth=S,this.tileHeight=A,this.widthInPixels=this.width*S,this.heightInPixels=this.height*A;for(var P=0;P<this.layers.length;P++){this.layers[P].baseTileWidth=S,this.layers[P].baseTileHeight=A;for(var R=this.layers[P].data,L=this.layers[P].width,D=this.layers[P].height,F=0;F<D;F++)for(var $=0;$<L;$++){var N=R[F][$];N!==null&&N.setSize(void 0,void 0,S,A)}}return this},setLayerTileSize:function(S,A,P){if(P=this.getLayer(P),P===null)return this;P.tileWidth=S,P.tileHeight=A;for(var R=P.data,L=P.width,D=P.height,F=0;F<D;F++)for(var $=0;$<L;$++){var N=R[F][$];N!==null&&N.setSize(S,A)}return this},shuffle:function(S,A,P,R,L){return L=this.getLayer(L),L===null?null:(w.Shuffle(S,A,P,R,L),this)},swapByIndex:function(S,A,P,R,L,D,F){return F=this.getLayer(F),F===null?null:(w.SwapByIndex(S,A,P,R,L,D,F),this)},tileToWorldX:function(S,A,P){return P=this.getLayer(P),P===null?null:this._convert.TileToWorldX(S,A,P)},tileToWorldY:function(S,A,P){return P=this.getLayer(P),P===null?null:this._convert.TileToWorldY(S,A,P)},tileToWorldXY:function(S,A,P,R,L){return L=this.getLayer(L),L===null?null:this._convert.TileToWorldXY(S,A,P,R,L)},getTileCorners:function(S,A,P,R){return R=this.getLayer(R),R===null?null:this._convert.GetTileCorners(S,A,P,R)},weightedRandomize:function(S,A,P,R,L,D){return D=this.getLayer(D),D===null?null:(w.WeightedRandomize(A,P,R,L,S,D),this)},worldToTileX:function(S,A,P,R){return R=this.getLayer(R),R===null?null:this._convert.WorldToTileX(S,A,P,R)},worldToTileY:function(S,A,P,R){return R=this.getLayer(R),R===null?null:this._convert.WorldToTileY(S,A,P,R)},worldToTileXY:function(S,A,P,R,L,D){return D=this.getLayer(D),D===null?null:this._convert.WorldToTileXY(S,A,P,R,L,D)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});s.exports=T}),45939:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(44603),v=r(31989);o.register("tilemap",function(c){var u=c!==void 0?c:{};return v(this.scene,u.key,u.tileWidth,u.tileHeight,u.width,u.height,u.data,u.insertNull)})}),46029:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),v=r(31989);o.register("tilemap",function(c,u,l,a,d,p,h){return c===null&&(c=void 0),u===null&&(u=void 0),l===null&&(l=void 0),a===null&&(a=void 0),d===null&&(d=void 0),v(this.scene,c,u,l,a,d,p,h)})}),20442:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(78389),c=r(31401),u=r(95643),l=r(81086),a=r(19218),d=r(26099),p=new o({Extends:u,Mixins:[c.Alpha,c.BlendMode,c.ComputedSize,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.Transform,c.Visible,c.ScrollFactor,v,a],initialize:function(g,m,x,w,C,E){u.call(this,g,"TilemapLayer"),this.isTilemap=!0,this.tilemap=m,this.layerIndex=x,this.layer=m.layers[x],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=l.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new d,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(w),this.setAlpha(this.layer.alpha),this.setPosition(C,E),this.setOrigin(0,0),this.setSize(m.tileWidth*this.layer.width,m.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(h){var g=[],m=[],x=this.tilemap;Array.isArray(h)||(h=[h]);for(var w=0;w<h.length;w++){var C=h[w];if(typeof C=="string"&&(C=x.getTileset(C)),C){m.push(C);for(var E=C.firstgid,T=0;T<C.total;T++)g[E+T]=C}}this.gidMap=g,this.tileset=m},setRenderOrder:function(h){var g=["right-down","left-down","right-up","left-up"];return typeof h=="string"&&(h=g.indexOf(h)),h>=0&&h<4&&(this._renderOrder=h),this},calculateFacesAt:function(h,g){return l.CalculateFacesAt(h,g,this.layer),this},calculateFacesWithin:function(h,g,m,x){return l.CalculateFacesWithin(h,g,m,x,this.layer),this},createFromTiles:function(h,g,m,x,w){return l.CreateFromTiles(h,g,m,x,w,this.layer)},cull:function(h){return this.cullCallback(this.layer,h,this.culledTiles,this._renderOrder)},copy:function(h,g,m,x,w,C,E){return l.Copy(h,g,m,x,w,C,E,this.layer),this},fill:function(h,g,m,x,w,C){return l.Fill(h,g,m,x,w,C,this.layer),this},filterTiles:function(h,g,m,x,w,C,E){return l.FilterTiles(h,g,m,x,w,C,E,this.layer)},findByIndex:function(h,g,m){return l.FindByIndex(h,g,m,this.layer)},findTile:function(h,g,m,x,w,C,E){return l.FindTile(h,g,m,x,w,C,E,this.layer)},forEachTile:function(h,g,m,x,w,C,E){return l.ForEachTile(h,g,m,x,w,C,E,this.layer),this},setTint:function(h,g,m,x,w,C){h===void 0&&(h=16777215);var E=function(T){T.tint=h,T.tintFill=!1};return this.forEachTile(E,this,g,m,x,w,C)},setTintFill:function(h,g,m,x,w,C){h===void 0&&(h=16777215);var E=function(T){T.tint=h,T.tintFill=!0};return this.forEachTile(E,this,g,m,x,w,C)},getTileAt:function(h,g,m){return l.GetTileAt(h,g,m,this.layer)},getTileAtWorldXY:function(h,g,m,x){return l.GetTileAtWorldXY(h,g,m,x,this.layer)},getIsoTileAtWorldXY:function(h,g,m,x,w){m===void 0&&(m=!0);var C=this.tempVec;return l.IsometricWorldToTileXY(h,g,!0,C,w,this.layer,m),this.getTileAt(C.x,C.y,x)},getTilesWithin:function(h,g,m,x,w){return l.GetTilesWithin(h,g,m,x,w,this.layer)},getTilesWithinShape:function(h,g,m){return l.GetTilesWithinShape(h,g,m,this.layer)},getTilesWithinWorldXY:function(h,g,m,x,w,C){return l.GetTilesWithinWorldXY(h,g,m,x,w,C,this.layer)},hasTileAt:function(h,g){return l.HasTileAt(h,g,this.layer)},hasTileAtWorldXY:function(h,g,m){return l.HasTileAtWorldXY(h,g,m,this.layer)},putTileAt:function(h,g,m,x){return l.PutTileAt(h,g,m,x,this.layer)},putTileAtWorldXY:function(h,g,m,x,w){return l.PutTileAtWorldXY(h,g,m,x,w,this.layer)},putTilesAt:function(h,g,m,x){return l.PutTilesAt(h,g,m,x,this.layer),this},randomize:function(h,g,m,x,w){return l.Randomize(h,g,m,x,w,this.layer),this},removeTileAt:function(h,g,m,x){return l.RemoveTileAt(h,g,m,x,this.layer)},removeTileAtWorldXY:function(h,g,m,x,w){return l.RemoveTileAtWorldXY(h,g,m,x,w,this.layer)},renderDebug:function(h,g){return l.RenderDebug(h,g,this.layer),this},replaceByIndex:function(h,g,m,x,w,C){return l.ReplaceByIndex(h,g,m,x,w,C,this.layer),this},setSkipCull:function(h){return h===void 0&&(h=!0),this.skipCull=h,this},setCullPadding:function(h,g){return h===void 0&&(h=1),g===void 0&&(g=1),this.cullPaddingX=h,this.cullPaddingY=g,this},setCollision:function(h,g,m,x){return l.SetCollision(h,g,m,this.layer,x),this},setCollisionBetween:function(h,g,m,x){return l.SetCollisionBetween(h,g,m,x,this.layer),this},setCollisionByProperty:function(h,g,m){return l.SetCollisionByProperty(h,g,m,this.layer),this},setCollisionByExclusion:function(h,g,m){return l.SetCollisionByExclusion(h,g,m,this.layer),this},setCollisionFromCollisionGroup:function(h,g){return l.SetCollisionFromCollisionGroup(h,g,this.layer),this},setTileIndexCallback:function(h,g,m){return l.SetTileIndexCallback(h,g,m,this.layer),this},setTileLocationCallback:function(h,g,m,x,w,C){return l.SetTileLocationCallback(h,g,m,x,w,C,this.layer),this},shuffle:function(h,g,m,x){return l.Shuffle(h,g,m,x,this.layer),this},swapByIndex:function(h,g,m,x,w,C){return l.SwapByIndex(h,g,m,x,w,C,this.layer),this},tileToWorldX:function(h,g){return this.tilemap.tileToWorldX(h,g,this)},tileToWorldY:function(h,g){return this.tilemap.tileToWorldY(h,g,this)},tileToWorldXY:function(h,g,m,x){return this.tilemap.tileToWorldXY(h,g,m,x,this)},getTileCorners:function(h,g,m){return this.tilemap.getTileCorners(h,g,m,this)},weightedRandomize:function(h,g,m,x,w){return l.WeightedRandomize(g,m,x,w,h,this.layer),this},worldToTileX:function(h,g,m){return this.tilemap.worldToTileX(h,g,m,this)},worldToTileY:function(h,g,m){return this.tilemap.worldToTileY(h,g,m,this)},worldToTileXY:function(h,g,m,x,w){return this.tilemap.worldToTileXY(h,g,m,x,w,this)},destroy:function(h){h===void 0&&(h=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),h&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],u.prototype.destroy.call(this))}});s.exports=p}),16153:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(61340),v=new o,c=new o,u=new o,l=function(a,d,p,h){var g=d.cull(p),m=g.length,x=p.alpha*d.alpha;if(!(m===0||x<=0)){var w=v,C=c,E=u;C.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY),w.copyFrom(p.matrix);var T=a.currentContext,S=d.gidMap;T.save(),h?(w.multiplyWithOffset(h,-p.scrollX*d.scrollFactorX,-p.scrollY*d.scrollFactorY),C.e=d.x,C.f=d.y,w.multiply(C,E),E.copyToContext(T)):(C.e-=p.scrollX*d.scrollFactorX,C.f-=p.scrollY*d.scrollFactorY,C.copyToContext(T)),(!a.antialias||d.scaleX>1||d.scaleY>1)&&(T.imageSmoothingEnabled=!1);for(var A=0;A<m;A++){var P=g[A],R=S[P.index];if(R){var L=R.image.getSourceImage(),D=R.getTileTextureCoordinates(P.index),F=R.tileWidth,$=R.tileHeight;if(!(D===null||F===0||$===0)){var N=F*.5,k=$*.5;D.x+=R.tileOffset.x,D.y+=R.tileOffset.y,T.save(),T.translate(P.pixelX+N,P.pixelY+k),P.rotation!==0&&T.rotate(P.rotation),(P.flipX||P.flipY)&&T.scale(P.flipX?-1:1,P.flipY?-1:1),T.globalAlpha=x*P.alpha,T.drawImage(L,D.x,D.y,F,$,-N,-k,F,$),T.restore()}}}T.restore()}};s.exports=l}),19218:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),v=o,c=o;v=r(99558),c=r(16153),s.exports={renderWebGL:v,renderCanvas:c}}),99558:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(70554),v=function(c,u,l){var a=u.cull(l),d=a.length,p=l.alpha*u.alpha;if(!(d===0||p<=0)){var h=u.gidMap,g=c.pipelines.set(u.pipeline,u),m=o.getTintAppendFloatAlpha,x=u.scrollFactorX,w=u.scrollFactorY,C=u.x,E=u.y,T=u.scaleX,S=u.scaleY;c.pipelines.preBatch(u);for(var A=0;A<d;A++){var P=a[A],R=h[P.index];if(R){var L=R.getTileTextureCoordinates(P.index),D=R.tileWidth,F=R.tileHeight;if(!(!L||D===0||F===0)){var $=D*.5,N=F*.5,k=R.glTexture,j=g.setTexture2D(k,u),W=D,G=F,K=L.x,z=L.y,X=R.tileOffset.x,U=R.tileOffset.y,Z=m(P.tint,p*P.alpha);g.batchTexture(u,k,k.width,k.height,C+P.pixelX*T+($*T-X),E+P.pixelY*S+(N*S-U),D,F,T,S,P.rotation,P.flipX,P.flipY,x,w,$,N,K,z,W,G,Z,Z,Z,Z,P.tintFill,0,0,l,null,!0,j,!0)}}}c.pipelines.postBatch(u)}};s.exports=v}),33629:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(26099),c=new o({initialize:function(l,a,d,p,h,g,m,x,w){(d===void 0||d<=0)&&(d=32),(p===void 0||p<=0)&&(p=32),h===void 0&&(h=0),g===void 0&&(g=0),m===void 0&&(m={}),x===void 0&&(x={}),this.name=l,this.firstgid=a,this.tileWidth=d,this.tileHeight=p,this.tileMargin=h,this.tileSpacing=g,this.tileProperties=m,this.tileData=x,this.tileOffset=new v,w!==void 0&&this.tileOffset.set(w.x,w.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(u){return this.containsTileIndex(u)?this.tileProperties[u-this.firstgid]:null},getTileData:function(u){return this.containsTileIndex(u)?this.tileData[u-this.firstgid]:null},getTileCollisionGroup:function(u){var l=this.getTileData(u);return l&&l.objectgroup?l.objectgroup:null},containsTileIndex:function(u){return u>=this.firstgid&&u<this.firstgid+this.total},getTileTextureCoordinates:function(u){return this.containsTileIndex(u)?this.texCoordinates[u-this.firstgid]:null},setImage:function(u){this.image=u;var l=u.get(),a=u.getFrameBounds();return this.glTexture=l.source.glTexture,l.width>a.width||l.height>a.height?this.updateTileData(l.width,l.height):this.updateTileData(a.width,a.height,a.x,a.y),this},setTileSize:function(u,l){return u!==void 0&&(this.tileWidth=u),l!==void 0&&(this.tileHeight=l),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(u,l){return u!==void 0&&(this.tileMargin=u),l!==void 0&&(this.tileSpacing=l),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(u,l,a,d){a===void 0&&(a=0),d===void 0&&(d=0);var p=(l-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),h=(u-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(p%1!==0||h%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),p=Math.floor(p),h=Math.floor(h),this.rows=p,this.columns=h,this.total=p*h,this.texCoordinates.length=0;for(var g=this.tileMargin+a,m=this.tileMargin+d,x=0;x<this.rows;x++){for(var w=0;w<this.columns;w++)this.texCoordinates.push({x:g,y:m}),g+=this.tileWidth+this.tileSpacing;g=this.tileMargin+a,m+=this.tileHeight+this.tileSpacing}return this}});s.exports=c}),72023:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7423),v=function(c,u,l){var a=o(c,u,!0,l),d=o(c,u-1,!0,l),p=o(c,u+1,!0,l),h=o(c-1,u,!0,l),g=o(c+1,u,!0,l),m=a&&a.collides;return m&&(a.faceTop=!0,a.faceBottom=!0,a.faceLeft=!0,a.faceRight=!0),d&&d.collides&&(m&&(a.faceTop=!1),d.faceBottom=!m),p&&p.collides&&(m&&(a.faceBottom=!1),p.faceTop=!m),h&&h.collides&&(m&&(a.faceLeft=!1),h.faceRight=!m),g&&g.collides&&(m&&(a.faceRight=!1),g.faceLeft=!m),a&&!a.collides&&a.resetFaces(),a};s.exports=v}),42573:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7423),v=r(7386),c=function(u,l,a,d,p){for(var h=null,g=null,m=null,x=null,w=v(u,l,a,d,null,p),C=0;C<w.length;C++){var E=w[C];E&&(E.collides?(h=o(E.x,E.y-1,!0,p),g=o(E.x,E.y+1,!0,p),m=o(E.x-1,E.y,!0,p),x=o(E.x+1,E.y,!0,p),E.faceTop=!(h&&h.collides),E.faceBottom=!(g&&g.collides),E.faceLeft=!(m&&m.collides),E.faceRight=!(x&&x.collides)):E.resetFaces())}};s.exports=c}),33528:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),v=new o,c=function(u,l,a,d){var p=a.tilemapLayer,h=p.cullPaddingX,g=p.cullPaddingY,m=p.tilemap.tileToWorldXY(u,l,v,d,p);return m.x>d.worldView.x+p.scaleX*a.tileWidth*(-h-.5)&&m.x<d.worldView.right+p.scaleX*a.tileWidth*(h-.5)&&m.y>d.worldView.y+p.scaleY*a.tileHeight*(-g-1)&&m.y<d.worldView.bottom+p.scaleY*a.tileHeight*(g-.5)};s.exports=c}),1785:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(42573),v=r(7386),c=r(62991),u=r(23029),l=function(a,d,p,h,g,m,x,w){x===void 0&&(x=!0);var C=v(a,d,p,h,null,w),E=[];C.forEach(function(D){var F=new u(D.layer,D.index,D.x,D.y,D.width,D.height,D.baseWidth,D.baseHeight);F.copy(D),E.push(F)});for(var T=g-a,S=m-d,A=0;A<E.length;A++){var P=E[A],R=P.x+T,L=P.y+S;c(R,L,w)&&w.data[L][R]&&(P.x=R,P.y=L,P.updatePixelXY(),w.data[L][R]=P)}x&&o(g-1,m-1,p+2,h+2,w),C.length=0,E.length=0};s.exports=l}),78419:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62644),v=r(7386),c=r(27987),u=function(l,a,d,p,h,g){d||(d={}),Array.isArray(l)||(l=[l]);var m=g.tilemapLayer;p||(p=m.scene),h||(h=p.cameras.main);var x=g.width,w=g.height,C=v(0,0,x,w,null,g),E=[],T,S=function(L,D,F){for(var $=0;$<F.length;$++){var N=F[$];L.hasOwnProperty(N)||(L[N]=D[N])}};for(T=0;T<C.length;T++){var A=C[T],P=o(d);if(l.indexOf(A.index)!==-1){var R=m.tileToWorldXY(A.x,A.y,void 0,h,g);P.x=R.x,P.y=R.y,S(P,A,["rotation","flipX","flipY","alpha","visible","tint"]),P.hasOwnProperty("origin")||(P.x+=A.width*.5,P.y+=A.height*.5),P.hasOwnProperty("useSpriteSheet")&&(P.key=A.tileset.image,P.frame=A.index-A.tileset.firstgid),E.push(p.make.sprite(P))}}if(Array.isArray(a))for(T=0;T<l.length;T++)c(l[T],a[T],0,0,x,w,g);else if(a!==null)for(T=0;T<l.length;T++)c(l[T],a,0,0,x,w,g);return E};s.exports=u}),19545:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),v=r(63448),c=r(56583),u=new o,l=function(a,d){var p=a.tilemapLayer.tilemap,h=a.tilemapLayer,g=Math.floor(p.tileWidth*h.scaleX),m=Math.floor(p.tileHeight*h.scaleY),x=c(d.worldView.x-h.x,g,0,!0)-h.cullPaddingX,w=v(d.worldView.right-h.x,g,0,!0)+h.cullPaddingX,C=c(d.worldView.y-h.y,m,0,!0)-h.cullPaddingY,E=v(d.worldView.bottom-h.y,m,0,!0)+h.cullPaddingY;return u.setTo(x,C,w-x,E-C)};s.exports=l}),30003:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(19545),v=r(32483),c=function(u,l,a,d){a===void 0&&(a=[]),d===void 0&&(d=0),a.length=0;var p=u.tilemapLayer,h=o(u,l);return(p.skipCull||p.scrollFactorX!==1||p.scrollFactorY!==1)&&(h.left=0,h.right=u.width,h.top=0,h.bottom=u.height),v(u,h,d,a),a};s.exports=c}),35137:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),v=r(42573),c=r(20576),u=function(l,a,d,p,h,g,m){for(var x=m.collideIndexes.indexOf(l)!==-1,w=o(a,d,p,h,null,m),C=0;C<w.length;C++)w[C].index=l,c(w[C],x);g&&v(a-1,d-1,p+2,h+2,m)};s.exports=u}),40253:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),v=function(c,u,l,a,d,p,h,g){var m=o(l,a,d,p,h,g);return m.filter(c,u)};s.exports=v}),52692:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c){o===void 0&&(o=0),v===void 0&&(v=!1);var u=0,l,a,d;if(v){for(a=c.height-1;a>=0;a--)for(l=c.width-1;l>=0;l--)if(d=c.data[a][l],d&&d.index===r){if(u===o)return d;u+=1}}else for(a=0;a<c.height;a++)for(l=0;l<c.width;l++)if(d=c.data[a][l],d&&d.index===r){if(u===o)return d;u+=1}return null};s.exports=y}),66151:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),v=function(c,u,l,a,d,p,h,g){var m=o(l,a,d,p,h,g);return m.find(c,u)||null};s.exports=v}),97560:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),v=function(c,u,l,a,d,p,h,g){var m=o(l,a,d,p,h,g);m.forEach(c,u)};s.exports=v}),43305:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91907),v=r(30003),c=r(9474),u=r(14018),l=r(29747),a=r(54503),d=function(p){return p===o.ORTHOGONAL?v:p===o.HEXAGONAL?c:p===o.STAGGERED?a:p===o.ISOMETRIC?u:l};s.exports=d}),7423:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62991),v=function(c,u,l,a){if(o(c,u,a)){var d=a.data[u][c]||null;return d?d.index===-1?l?d:null:d:null}else return null};s.exports=v}),60540:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7423),v=r(26099),c=new v,u=function(l,a,d,p,h){return h.tilemapLayer.worldToTileXY(l,a,!0,c,p),o(c.x,c.y,d,h)};s.exports=u}),55826:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),v=function(c,u,l,a){var d=a.baseTileWidth,p=a.baseTileHeight,h=a.tilemapLayer,g=0,m=0;h&&(l||(l=h.scene.cameras.main),g=h.x+l.scrollX*(1-h.scrollFactorX),m=h.y+l.scrollY*(1-h.scrollFactorY),d*=h.scaleX,p*=h.scaleY);var x=g+c*d,w=m+u*p;return[new o(x,w),new o(x+d,w),new o(x+d,w+p),new o(x,w+p)]};s.exports=v}),11758:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91907),v=r(27229),c=r(29747),u=r(55826),l=function(a){return a===o.ORTHOGONAL?u:a===o.ISOMETRIC?c:a===o.HEXAGONAL?v:(a===o.STAGGERED,c)};s.exports=l}),39167:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91907),v=r(29747),c=r(97281),u=function(l){return l===o.ORTHOGONAL?c:v};s.exports=u}),62e3:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91907),v=r(19951),c=r(14127),u=r(29747),l=r(97202),a=r(70326),d=function(p){return p===o.ORTHOGONAL?a:p===o.ISOMETRIC?c:p===o.HEXAGONAL?v:p===o.STAGGERED?l:u};s.exports=d}),5984:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91907),v=r(29747),c=r(28054),u=r(29650),l=function(a){return a===o.ORTHOGONAL?u:a===o.STAGGERED?c:v};s.exports=l}),7386:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95540),v=function(c,u,l,a,d,p){c===void 0&&(c=0),u===void 0&&(u=0),l===void 0&&(l=p.width),a===void 0&&(a=p.height),d||(d={});var h=o(d,"isNotEmpty",!1),g=o(d,"isColliding",!1),m=o(d,"hasInterestingFace",!1);c<0&&(l+=c,c=0),u<0&&(a+=u,u=0),c+l>p.width&&(l=Math.max(p.width-c,0)),u+a>p.height&&(a=Math.max(p.height-u,0));for(var x=[],w=u;w<u+a;w++)for(var C=c;C<c+l;C++){var E=p.data[w][C];if(E!==null){if(h&&E.index===-1||g&&!E.collides||m&&!E.hasInterestingFace)continue;x.push(E)}}return x};s.exports=v}),91141:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(55738),v=r(7386),c=r(91865),u=r(29747),l=r(26099),a=r(91907),d=function(x,w){return c.RectangleToTriangle(w,x)},p=new l,h=new l,g=new l,m=function(x,w,C,E){if(E.orientation!==a.ORTHOGONAL)return console.warn("GetTilesWithinShape only works with orthogonal tilemaps"),[];if(x===void 0)return[];var T=u;x instanceof o.Circle?T=c.CircleToRectangle:x instanceof o.Rectangle?T=c.RectangleToRectangle:x instanceof o.Triangle?T=d:x instanceof o.Line&&(T=c.LineToRectangle),E.tilemapLayer.worldToTileXY(x.left,x.top,!0,h,C);var S=h.x,A=h.y;E.tilemapLayer.worldToTileXY(x.right,x.bottom,!1,g,C);var P=Math.ceil(g.x),R=Math.ceil(g.y),L=Math.max(P-S,1),D=Math.max(R-A,1),F=v(S,A,L,D,w,E),$=E.tileWidth,N=E.tileHeight;E.tilemapLayer&&($*=E.tilemapLayer.scaleX,N*=E.tilemapLayer.scaleY);for(var k=[],j=new o.Rectangle(0,0,$,N),W=0;W<F.length;W++){var G=F[W];E.tilemapLayer.tileToWorldXY(G.x,G.y,p,C),j.x=p.x,j.y=p.y,T(x,j)&&k.push(G)}return k};s.exports=m}),96523:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),v=r(26099),c=new v,u=new v,l=function(a,d,p,h,g,m,x){var w=x.tilemapLayer.tilemap._convert.WorldToTileXY;w(a,d,!0,c,m,x);var C=c.x,E=c.y;w(a+p,d+h,!1,u,m,x);var T=Math.ceil(u.x),S=Math.ceil(u.y);return o(C,E,T-C,S-E,g,x)};s.exports=l}),96113:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91907),v=r(20242),c=r(10095),u=function(l){return l===o.ORTHOGONAL?c:v};s.exports=u}),16926:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91907),v=r(86625),c=r(96897),u=r(29747),l=r(15108),a=r(85896),d=function(p){return p===o.ORTHOGONAL?a:p===o.ISOMETRIC?c:p===o.HEXAGONAL?v:p===o.STAGGERED?l:u};s.exports=d}),55762:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91907),v=r(20242),c=r(51900),u=r(63288),l=function(a){return a===o.ORTHOGONAL?u:a===o.STAGGERED?c:v};s.exports=l}),45091:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62991),v=function(c,u,l){if(o(c,u,l)){var a=l.data[u][c];return a!==null&&a.index>-1}else return!1};s.exports=v}),24152:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45091),v=r(26099),c=new v,u=function(l,a,d,p){p.tilemapLayer.worldToTileXY(l,a,!0,c,d);var h=c.x,g=c.y;return o(h,g,p)};s.exports=u}),90454:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(63448),v=r(56583),c=function(u,l){var a=u.tilemapLayer.tilemap,d=u.tilemapLayer,p=Math.floor(a.tileWidth*d.scaleX),h=Math.floor(a.tileHeight*d.scaleY),g=u.hexSideLength,m,x,w,C;if(u.staggerAxis==="y"){var E=(h-g)/2+g;m=v(l.worldView.x-d.x,p,0,!0)-d.cullPaddingX,x=o(l.worldView.right-d.x,p,0,!0)+d.cullPaddingX,w=v(l.worldView.y-d.y,E,0,!0)-d.cullPaddingY,C=o(l.worldView.bottom-d.y,E,0,!0)+d.cullPaddingY}else{var T=(p-g)/2+g;m=v(l.worldView.x-d.x,T,0,!0)-d.cullPaddingX,x=o(l.worldView.right-d.x,T,0,!0)+d.cullPaddingX,w=v(l.worldView.y-d.y,h,0,!0)-d.cullPaddingY,C=o(l.worldView.bottom-d.y,h,0,!0)+d.cullPaddingY}return{left:m,right:x,top:w,bottom:C}};s.exports=c}),9474:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(90454),v=r(32483),c=function(u,l,a,d){a===void 0&&(a=[]),d===void 0&&(d=0),a.length=0;var p=u.tilemapLayer,h=o(u,l);return p.skipCull&&p.scrollFactorX===1&&p.scrollFactorY===1&&(h.left=0,h.right=u.width,h.top=0,h.bottom=u.height),v(u,h,d,a),a};s.exports=c}),27229:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(19951),v=r(26099),c=new v,u=function(l,a,d,p){var h=p.baseTileWidth,g=p.baseTileHeight,m=p.tilemapLayer;m&&(h*=m.scaleX,g*=m.scaleY);var x=o(l,a,c,d,p),w=[],C=.5773502691896257,E,T;p.staggerAxis==="y"?(E=C*h,T=g/2):(E=h/2,T=C*g);for(var S=0;S<6;S++){var A=2*Math.PI*(.5-S)/6;w.push(new v(x.x+E*Math.cos(A),x.y+T*Math.sin(A)))}return w};s.exports=u}),19951:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),v=function(c,u,l,a,d){l||(l=new o);var p=d.baseTileWidth,h=d.baseTileHeight,g=d.tilemapLayer,m=0,x=0;g&&(a||(a=g.scene.cameras.main),m=g.x+a.scrollX*(1-g.scrollFactorX),x=g.y+a.scrollY*(1-g.scrollFactorY),p*=g.scaleX,h*=g.scaleY);var w=p/2,C=h/2,E,T,S=d.staggerAxis,A=d.staggerIndex;return S==="y"?(E=m+p*c+p,T=x+1.5*u*C+C,u%2===0&&(A==="odd"?E-=w:E+=w)):S==="x"&&A==="odd"&&(E=m+1.5*c*w+w,T=x+h*c+h,c%2===0&&(A==="odd"?T-=C:T+=C)),l.set(E,T)};s.exports=v}),86625:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),v=function(c,u,l,a,d,p){a||(a=new o);var h=p.baseTileWidth,g=p.baseTileHeight,m=p.tilemapLayer;m&&(d||(d=m.scene.cameras.main),c=c-(m.x+d.scrollX*(1-m.scrollFactorX)),u=u-(m.y+d.scrollY*(1-m.scrollFactorY)),h*=m.scaleX,g*=m.scaleY);var x=.5773502691896257,w=-.3333333333333333,C=0,E=.6666666666666666,T=h/2,S=g/2,A,P,R,L,D;p.staggerAxis==="y"?(A=(c-T)/(x*h),P=(u-S)/S,R=x*A+w*P,L=C*A+E*P):(A=(c-T)/T,P=(u-S)/(x*g),R=w*A+x*P,L=E*A+C*P),D=-R-L;var F=Math.round(R),$=Math.round(L),N=Math.round(D),k=Math.abs(F-R),j=Math.abs($-L),W=Math.abs(N-D);k>j&&k>W?F=-$-N:j>W&&($=-F-N);var G,K=$;return p.staggerIndex==="odd"?G=K%2===0?$/2+F:$/2+F-.5:G=K%2===0?$/2+F:$/2+F+.5,a.set(G,K)};s.exports=v}),62991:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){return r>=0&&r<v.width&&o>=0&&o<v.height};s.exports=y}),14018:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(33528),v=function(c,u,l,a){l===void 0&&(l=[]),a===void 0&&(a=0),l.length=0;var d=c.tilemapLayer,p=c.data,h=c.width,g=c.height,m=d.skipCull,x=0,w=h,C=0,E=g,T,S,A;if(a===0)for(S=C;S<E;S++)for(T=x;T<w;T++)A=p[S][T],!(!A||A.index===-1||!A.visible||A.alpha===0)&&(!m&&!o(T,S,c,u)||l.push(A));else if(a===1)for(S=C;S<E;S++)for(T=w;T>=x;T--)A=p[S][T],!(!A||A.index===-1||!A.visible||A.alpha===0)&&(!m&&!o(T,S,c,u)||l.push(A));else if(a===2)for(S=E;S>=C;S--)for(T=x;T<w;T++)A=p[S][T],!(!A||A.index===-1||!A.visible||A.alpha===0)&&(!m&&!o(T,S,c,u)||l.push(A));else if(a===3)for(S=E;S>=C;S--)for(T=w;T>=x;T--)A=p[S][T],!(!A||A.index===-1||!A.visible||A.alpha===0)&&(!m&&!o(T,S,c,u)||l.push(A));return d.tilesDrawn=l.length,d.tilesTotal=h*g,l};s.exports=v}),14127:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),v=function(c,u,l,a,d){l||(l=new o);var p=d.baseTileWidth,h=d.baseTileHeight,g=d.tilemapLayer,m=0,x=0;g&&(a||(a=g.scene.cameras.main),m=g.x+a.scrollX*(1-g.scrollFactorX),p*=g.scaleX,x=g.y+a.scrollY*(1-g.scrollFactorY),h*=g.scaleY);var w=m+(c-u)*(p/2),C=x+(c+u)*(h/2);return l.set(w,C)};s.exports=v}),96897:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),v=function(c,u,l,a,d,p,h){a||(a=new o);var g=p.baseTileWidth,m=p.baseTileHeight,x=p.tilemapLayer;x&&(d||(d=x.scene.cameras.main),u=u-(x.y+d.scrollY*(1-x.scrollFactorY)),m*=x.scaleY,c=c-(x.x+d.scrollX*(1-x.scrollFactorX)),g*=x.scaleX);var w=g/2,C=m/2;c=c-w,h||(u=u-m);var E=.5*(c/w+u/C),T=.5*(-c/w+u/C);return l&&(E=Math.floor(E),T=Math.floor(T)),a.set(E,T)};s.exports=v}),71558:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(23029),v=r(62991),c=r(72023),u=r(20576),l=function(a,d,p,h,g){if(h===void 0&&(h=!0),!v(d,p,g))return null;var m,x=g.data[p][d],w=x&&x.collides;a instanceof o?(g.data[p][d]===null&&(g.data[p][d]=new o(g,a.index,d,p,g.tileWidth,g.tileHeight)),g.data[p][d].copy(a)):(m=a,g.data[p][d]===null?g.data[p][d]=new o(g,m,d,p,g.tileWidth,g.tileHeight):g.data[p][d].index=m);var C=g.data[p][d],E=g.collideIndexes.indexOf(C.index)!==-1;if(m=a instanceof o?a.index:a,m===-1)C.width=g.tileWidth,C.height=g.tileHeight;else{var T=g.tilemapLayer.tilemap,S=T.tiles,A=S[m][2],P=T.tilesets[A];C.width=P.tileWidth,C.height=P.tileHeight}return u(C,E),h&&w!==C.collides&&c(d,p,g),C};s.exports=l}),26303:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(71558),v=r(26099),c=new v,u=function(l,a,d,p,h,g){return g.tilemapLayer.worldToTileXY(a,d,!0,c,h,g),o(l,c.x,c.y,p,g)};s.exports=u}),14051:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(42573),v=r(71558),c=function(u,l,a,d,p){if(d===void 0&&(d=!0),!Array.isArray(u))return null;Array.isArray(u[0])||(u=[u]);for(var h=u.length,g=u[0].length,m=0;m<h;m++)for(var x=0;x<g;x++){var w=u[m][x];v(w,l+x,a+m,!1,p)}d&&o(l-1,a-1,g+2,h+2,p)};s.exports=c}),77389:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),v=r(26546),c=function(u,l,a,d,p,h){var g,m=o(u,l,a,d,{},h);if(!p)for(p=[],g=0;g<m.length;g++)p.indexOf(m[g].index)===-1&&p.push(m[g].index);for(g=0;g<m.length;g++)m[g].index=v(p)};s.exports=c}),63557:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(23029),v=r(62991),c=r(72023),u=function(l,a,d,p,h){if(d===void 0&&(d=!0),p===void 0&&(p=!0),!v(l,a,h))return null;var g=h.data[a][l];if(g)h.data[a][l]=d?null:new o(h,-1,l,a,h.tileWidth,h.tileHeight);else return null;return p&&g&&g.collides&&c(l,a,h),g};s.exports=u}),94178:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(63557),v=r(26099),c=new v,u=function(l,a,d,p,h,g){return g.tilemapLayer.worldToTileXY(l,a,!0,c,h,g),o(c.x,c.y,d,p,g)};s.exports=u}),15533:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),v=r(3956),c=new v(105,210,231,150),u=new v(243,134,48,200),l=new v(40,39,37,150),a=function(d,p,h){p===void 0&&(p={});var g=p.tileColor!==void 0?p.tileColor:c,m=p.collidingTileColor!==void 0?p.collidingTileColor:u,x=p.faceColor!==void 0?p.faceColor:l,w=o(0,0,h.width,h.height,null,h);d.translateCanvas(h.tilemapLayer.x,h.tilemapLayer.y),d.scaleCanvas(h.tilemapLayer.scaleX,h.tilemapLayer.scaleY);for(var C=0;C<w.length;C++){var E=w[C],T=E.tileset?E.tileset.tileOffset:{x:0,y:0},S=E.width,A=E.height,P=E.pixelX-T.x,R=E.pixelY-T.y,L=E.collides?m:g;L!==null&&(d.fillStyle(L.color,L.alpha/255),d.fillRect(P,R,S,A)),P+=1,R+=1,S-=2,A-=2,x!==null&&(d.lineStyle(1,x.color,x.alpha/255),E.faceTop&&d.lineBetween(P,R,P+S,R),E.faceRight&&d.lineBetween(P+S,R,P+S,R+A),E.faceBottom&&d.lineBetween(P,R+A,P+S,R+A),E.faceLeft&&d.lineBetween(P,R,P,R+A))}};s.exports=a}),27987:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),v=function(c,u,l,a,d,p,h){for(var g=o(l,a,d,p,null,h),m=0;m<g.length;m++)g[m]&&g[m].index===c&&(g[m].index=u)};s.exports=v}),32483:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c){var u=r.data,l=r.width,a=r.height,d=r.tilemapLayer,p=Math.max(0,o.left),h=Math.min(l,o.right),g=Math.max(0,o.top),m=Math.min(a,o.bottom),x,w,C;if(v===0)for(w=g;w<m;w++)for(x=p;u[w]&&x<h;x++)C=u[w][x],!(!C||C.index===-1||!C.visible||C.alpha===0)&&c.push(C);else if(v===1)for(w=g;w<m;w++)for(x=h;u[w]&&x>=p;x--)C=u[w][x],!(!C||C.index===-1||!C.visible||C.alpha===0)&&c.push(C);else if(v===2)for(w=m;w>=g;w--)for(x=p;u[w]&&x<h;x++)C=u[w][x],!(!C||C.index===-1||!C.visible||C.alpha===0)&&c.push(C);else if(v===3)for(w=m;w>=g;w--)for(x=h;u[w]&&x>=p;x--)C=u[w][x],!(!C||C.index===-1||!C.visible||C.alpha===0)&&c.push(C);return d.tilesDrawn=c.length,d.tilesTotal=l*a,c};s.exports=y}),57068:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20576),v=r(42573),c=r(9589),u=function(l,a,d,p,h){a===void 0&&(a=!0),d===void 0&&(d=!0),h===void 0&&(h=!0),Array.isArray(l)||(l=[l]);for(var g=0;g<l.length;g++)c(l[g],a,p);if(h)for(var m=0;m<p.height;m++)for(var x=0;x<p.width;x++){var w=p.data[m][x];w&&l.indexOf(w.index)!==-1&&o(w,a)}d&&v(0,0,p.width,p.height,p)};s.exports=u}),37266:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20576),v=r(42573),c=r(9589),u=function(l,a,d,p,h,g){if(d===void 0&&(d=!0),p===void 0&&(p=!0),g===void 0&&(g=!0),!(l>a)){for(var m=l;m<=a;m++)c(m,d,h);if(g)for(var x=0;x<h.height;x++)for(var w=0;w<h.width;w++){var C=h.data[x][w];C&&C.index>=l&&C.index<=a&&o(C,d)}p&&v(0,0,h.width,h.height,h)}};s.exports=u}),75661:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20576),v=r(42573),c=r(9589),u=function(l,a,d,p){a===void 0&&(a=!0),d===void 0&&(d=!0),Array.isArray(l)||(l=[l]);for(var h=0;h<p.height;h++)for(var g=0;g<p.width;g++){var m=p.data[h][g];m&&l.indexOf(m.index)===-1&&(o(m,a),c(m.index,a,p))}d&&v(0,0,p.width,p.height,p)};s.exports=u}),64740:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20576),v=r(42573),c=r(97022),u=function(l,a,d,p){a===void 0&&(a=!0),d===void 0&&(d=!0);for(var h=0;h<p.height;h++)for(var g=0;g<p.width;g++){var m=p.data[h][g];if(m){for(var x in l)if(c(m.properties,x)){var w=l[x];Array.isArray(w)||(w=[w]);for(var C=0;C<w.length;C++)m.properties[x]===w[C]&&o(m,a)}}}d&&v(0,0,p.width,p.height,p)};s.exports=u}),63307:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20576),v=r(42573),c=function(u,l,a){u===void 0&&(u=!0),l===void 0&&(l=!0);for(var d=0;d<a.height;d++)for(var p=0;p<a.width;p++){var h=a.data[d][p];if(h){var g=h.getCollisionGroup();g&&g.objects&&g.objects.length>0&&o(h,u)}}l&&v(0,0,a.width,a.height,a)};s.exports=c}),9589:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){var c=v.collideIndexes.indexOf(r);o&&c===-1?v.collideIndexes.push(r):!o&&c!==-1&&v.collideIndexes.splice(c,1)};s.exports=y}),20576:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){o?r.setCollision(!0,!0,!0,!0,!1):r.resetCollision(!1)};s.exports=y}),79583:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c){if(typeof r=="number")c.callbacks[r]=o!==null?{callback:o,callbackContext:v}:void 0;else for(var u=0,l=r.length;u<l;u++)c.callbacks[r[u]]=o!==null?{callback:o,callbackContext:v}:void 0};s.exports=y}),93254:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),v=function(c,u,l,a,d,p,h){for(var g=o(c,u,l,a,null,h),m=0;m<g.length;m++)g[m].setCollisionCallback(d,p)};s.exports=v}),32903:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),v=r(33680),c=function(u,l,a,d,p){var h=o(u,l,a,d,null,p),g=h.map(function(x){return x.index});v(g);for(var m=0;m<h.length;m++)h[m].index=g[m]};s.exports=c}),61325:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(63448),v=r(56583),c=function(u,l){var a=u.tilemapLayer.tilemap,d=u.tilemapLayer,p=Math.floor(a.tileWidth*d.scaleX),h=Math.floor(a.tileHeight*d.scaleY),g=v(l.worldView.x-d.x,p,0,!0)-d.cullPaddingX,m=o(l.worldView.right-d.x,p,0,!0)+d.cullPaddingX,x=v(l.worldView.y-d.y,h/2,0,!0)-d.cullPaddingY,w=o(l.worldView.bottom-d.y,h/2,0,!0)+d.cullPaddingY;return{left:g,right:m,top:x,bottom:w}};s.exports=c}),54503:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(61325),v=r(32483),c=function(u,l,a,d){a===void 0&&(a=[]),d===void 0&&(d=0),a.length=0;var p=u.tilemapLayer,h=o(u,l);return p.skipCull&&p.scrollFactorX===1&&p.scrollFactorY===1&&(h.left=0,h.right=u.width,h.top=0,h.bottom=u.height),v(u,h,d,a),a};s.exports=c}),97202:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),v=function(c,u,l,a,d){l||(l=new o);var p=d.baseTileWidth,h=d.baseTileHeight,g=d.tilemapLayer,m=0,x=0;g&&(a||(a=g.scene.cameras.main),m=g.x+a.scrollX*(1-g.scrollFactorX),p*=g.scaleX,x=g.y+a.scrollY*(1-g.scrollFactorY),h*=g.scaleY);var w=m+c*p+u%2*(p/2),C=x+u*(h/2);return l.set(w,C)};s.exports=v}),28054:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){var c=v.baseTileHeight,u=v.tilemapLayer,l=0;return u&&(o===void 0&&(o=u.scene.cameras.main),l=u.y+o.scrollY*(1-u.scrollFactorY),c*=u.scaleY),l+r*(c/2)+c};s.exports=y}),15108:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),v=function(c,u,l,a,d,p){a||(a=new o);var h=p.baseTileWidth,g=p.baseTileHeight,m=p.tilemapLayer;m&&(d||(d=m.scene.cameras.main),u=u-(m.y+d.scrollY*(1-m.scrollFactorY)),g*=m.scaleY,c=c-(m.x+d.scrollX*(1-m.scrollFactorX)),h*=m.scaleX);var x=l?Math.floor(u/(g/2)):u/(g/2),w=l?Math.floor((c+x%2*.5*h)/h):(c+x%2*.5*h)/h;return a.set(w,x)};s.exports=v}),51900:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c){var u=c.baseTileHeight,l=c.tilemapLayer;return l&&(v||(v=l.scene.cameras.main),r=r-(l.y+v.scrollY*(1-l.scrollFactorY)),u*=l.scaleY),o?Math.floor(r/(u/2)):r/(u/2)};s.exports=y}),86560:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),v=function(c,u,l,a,d,p,h){for(var g=o(l,a,d,p,null,h),m=0;m<g.length;m++)g[m]&&(g[m].index===c?g[m].index=u:g[m].index===u&&(g[m].index=c))};s.exports=v}),97281:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){var c=v.baseTileWidth,u=v.tilemapLayer,l=0;return u&&(o||(o=u.scene.cameras.main),l=u.x+o.scrollX*(1-u.scrollFactorX),c*=u.scaleX),l+r*c};s.exports=y}),70326:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(97281),v=r(29650),c=r(26099),u=function(l,a,d,p,h){return d||(d=new c(0,0)),d.x=o(l,p,h),d.y=v(a,p,h),d};s.exports=u}),29650:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){var c=v.baseTileHeight,u=v.tilemapLayer,l=0;return u&&(o||(o=u.scene.cameras.main),l=u.y+o.scrollY*(1-u.scrollFactorY),c*=u.scaleY),l+r*c};s.exports=y}),77366:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),v=r(75508),c=function(u,l,a,d,p,h){if(p){var g,m=o(u,l,a,d,null,h),x=0;for(g=0;g<p.length;g++)x+=p[g].weight;if(!(x<=0))for(g=0;g<m.length;g++){for(var w=v.RND.frac()*x,C=0,E=-1,T=0;T<p.length;T++)if(C+=p[T].weight,w<=C){var S=p[T].index;E=Array.isArray(S)?S[Math.floor(v.RND.frac()*S.length)]:S;break}m[g].index=E}}};s.exports=c}),10095:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(85896),v=r(26099),c=new v,u=function(l,a,d,p){return o(l,0,a,c,d,p),c.x};s.exports=u}),85896:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),v=function(c,u,l,a,d,p){l===void 0&&(l=!0),a||(a=new o);var h=p.baseTileWidth,g=p.baseTileHeight,m=p.tilemapLayer;m&&(d||(d=m.scene.cameras.main),c=c-(m.x+d.scrollX*(1-m.scrollFactorX)),u=u-(m.y+d.scrollY*(1-m.scrollFactorY)),h*=m.scaleX,g*=m.scaleY);var x=c/h,w=u/g;return l&&(x=Math.floor(x),w=Math.floor(w)),a.set(x,w)};s.exports=v}),63288:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(85896),v=r(26099),c=new v,u=function(l,a,d,p){return o(0,l,a,c,d,p),c.y};s.exports=u}),81086:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={CalculateFacesAt:r(72023),CalculateFacesWithin:r(42573),CheckIsoBounds:r(33528),Copy:r(1785),CreateFromTiles:r(78419),CullBounds:r(19545),CullTiles:r(30003),Fill:r(35137),FilterTiles:r(40253),FindByIndex:r(52692),FindTile:r(66151),ForEachTile:r(97560),GetCullTilesFunction:r(43305),GetTileAt:r(7423),GetTileAtWorldXY:r(60540),GetTileCorners:r(55826),GetTileCornersFunction:r(11758),GetTilesWithin:r(7386),GetTilesWithinShape:r(91141),GetTilesWithinWorldXY:r(96523),GetTileToWorldXFunction:r(39167),GetTileToWorldXYFunction:r(62e3),GetTileToWorldYFunction:r(5984),GetWorldToTileXFunction:r(96113),GetWorldToTileXYFunction:r(16926),GetWorldToTileYFunction:r(55762),HasTileAt:r(45091),HasTileAtWorldXY:r(24152),HexagonalCullBounds:r(90454),HexagonalCullTiles:r(9474),HexagonalGetTileCorners:r(27229),HexagonalTileToWorldXY:r(19951),HexagonalWorldToTileXY:r(86625),IsInLayerBounds:r(62991),IsometricCullTiles:r(14018),IsometricTileToWorldXY:r(14127),IsometricWorldToTileXY:r(96897),PutTileAt:r(71558),PutTileAtWorldXY:r(26303),PutTilesAt:r(14051),Randomize:r(77389),RemoveTileAt:r(63557),RemoveTileAtWorldXY:r(94178),RenderDebug:r(15533),ReplaceByIndex:r(27987),RunCull:r(32483),SetCollision:r(57068),SetCollisionBetween:r(37266),SetCollisionByExclusion:r(75661),SetCollisionByProperty:r(64740),SetCollisionFromCollisionGroup:r(63307),SetLayerCollisionIndex:r(9589),SetTileCollision:r(20576),SetTileIndexCallback:r(79583),SetTileLocationCallback:r(93254),Shuffle:r(32903),StaggeredCullBounds:r(61325),StaggeredCullTiles:r(54503),StaggeredTileToWorldXY:r(97202),StaggeredTileToWorldY:r(28054),StaggeredWorldToTileXY:r(15108),StaggeredWorldToTileY:r(51900),SwapByIndex:r(86560),TileToWorldX:r(97281),TileToWorldXY:r(70326),TileToWorldY:r(29650),WeightedRandomize:r(77366),WorldToTileX:r(10095),WorldToTileXY:r(85896),WorldToTileY:r(63288)}}),91907:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}}),21829:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={ORIENTATION:r(91907)};s.exports=o}),62501:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(79291),v=r(21829),c={Components:r(81086),Parsers:r(57442),Formats:r(80341),ImageCollection:r(16536),ParseToTilemap:r(31989),Tile:r(23029),Tilemap:r(49075),TilemapCreator:r(45939),TilemapFactory:r(46029),Tileset:r(33629),TilemapLayer:r(20442),Orientation:r(91907),LayerData:r(14977),MapData:r(87010),ObjectLayer:r(48700)};c=o(!1,c,v.ORIENTATION),s.exports=c}),14977:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(91907),c=r(95540),u=new o({initialize:function(a){a===void 0&&(a={}),this.name=c(a,"name","layer"),this.id=c(a,"id",0),this.x=c(a,"x",0),this.y=c(a,"y",0),this.width=c(a,"width",0),this.height=c(a,"height",0),this.tileWidth=c(a,"tileWidth",0),this.tileHeight=c(a,"tileHeight",0),this.baseTileWidth=c(a,"baseTileWidth",this.tileWidth),this.baseTileHeight=c(a,"baseTileHeight",this.tileHeight),this.orientation=c(a,"orientation",v.ORTHOGONAL),this.widthInPixels=c(a,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=c(a,"heightInPixels",this.height*this.baseTileHeight),this.alpha=c(a,"alpha",1),this.visible=c(a,"visible",!0),this.properties=c(a,"properties",[]),this.indexes=c(a,"indexes",[]),this.collideIndexes=c(a,"collideIndexes",[]),this.callbacks=c(a,"callbacks",[]),this.bodies=c(a,"bodies",[]),this.data=c(a,"data",[]),this.tilemapLayer=c(a,"tilemapLayer",null),this.hexSideLength=c(a,"hexSideLength",0),this.staggerAxis=c(a,"staggerAxis","y"),this.staggerIndex=c(a,"staggerIndex","odd")}});s.exports=u}),87010:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(91907),c=r(95540),u=new o({initialize:function(a){a===void 0&&(a={}),this.name=c(a,"name","map"),this.width=c(a,"width",0),this.height=c(a,"height",0),this.infinite=c(a,"infinite",!1),this.tileWidth=c(a,"tileWidth",0),this.tileHeight=c(a,"tileHeight",0),this.widthInPixels=c(a,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=c(a,"heightInPixels",this.height*this.tileHeight),this.format=c(a,"format",null),this.orientation=c(a,"orientation",v.ORTHOGONAL),this.renderOrder=c(a,"renderOrder","right-down"),this.version=c(a,"version","1"),this.properties=c(a,"properties",{}),this.layers=c(a,"layers",[]),this.images=c(a,"images",[]),this.objects=c(a,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=c(a,"collision",{}),this.tilesets=c(a,"tilesets",[]),this.imageCollections=c(a,"imageCollections",[]),this.tiles=c(a,"tiles",[]),this.hexSideLength=c(a,"hexSideLength",0),this.staggerAxis=c(a,"staggerAxis","y"),this.staggerIndex=c(a,"staggerIndex","odd")}});s.exports=u}),48700:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(95540),c=new o({initialize:function(l){l===void 0&&(l={}),this.name=v(l,"name","object layer"),this.id=v(l,"id",0),this.opacity=v(l,"opacity",1),this.properties=v(l,"properties",{}),this.propertyTypes=v(l,"propertytypes",{}),this.type=v(l,"type","objectgroup"),this.visible=v(l,"visible",!0),this.objects=v(l,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});s.exports=c}),6641:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91907),v=function(c){return c=c.toLowerCase(),c==="isometric"?o.ISOMETRIC:c==="staggered"?o.STAGGERED:c==="hexagonal"?o.HEXAGONAL:o.ORTHOGONAL};s.exports=v}),46177:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(80341),v=r(2342),c=r(82593),u=r(46594),l=r(87021),a=function(d,p,h,g,m,x){var w;switch(p){case o.ARRAY_2D:w=v(d,h,g,m,x);break;case o.CSV:w=c(d,h,g,m,x);break;case o.TILED_JSON:w=u(d,h,x);break;case o.WELTMEISTER:w=l(d,h,x);break;default:console.warn("Unrecognized tilemap data format: "+p),w=null}return w};s.exports=a}),2342:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(80341),v=r(14977),c=r(87010),u=r(23029),l=function(a,d,p,h,g){for(var m=new v({tileWidth:p,tileHeight:h}),x=new c({name:a,tileWidth:p,tileHeight:h,format:o.ARRAY_2D,layers:[m]}),w=[],C=d.length,E=0,T=0;T<d.length;T++){w[T]=[];for(var S=d[T],A=0;A<S.length;A++){var P=parseInt(S[A],10);isNaN(P)||P===-1?w[T][A]=g?null:new u(m,-1,A,T,p,h):w[T][A]=new u(m,P,A,T,p,h)}E===0&&(E=S.length)}return x.width=m.width=E,x.height=m.height=C,x.widthInPixels=m.widthInPixels=E*p,x.heightInPixels=m.heightInPixels=C*h,m.data=w,x};s.exports=l}),82593:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(80341),v=r(2342),c=function(u,l,a,d,p){var h=l.trim().split(`
`).map(function(m){return m.split(",")}),g=v(u,h,a,d,p);return g.format=o.CSV,g};s.exports=c}),6656:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(14977),v=r(23029),c=function(u,l){for(var a=[],d=0;d<u.layer.length;d++){for(var p=u.layer[d],h=new o({name:p.name,width:p.width,height:p.height,tileWidth:p.tilesize,tileHeight:p.tilesize,visible:p.visible===1}),g=[],m=[],x=0;x<p.data.length;x++){for(var w=0;w<p.data[x].length;w++){var C=p.data[x][w]-1,E;C>-1?E=new v(h,C,w,x,p.tilesize,p.tilesize):E=l?null:new v(h,-1,w,x,p.tilesize,p.tilesize),g.push(E)}m.push(g),g=[]}h.data=m,a.push(h)}return a};s.exports=c}),96483:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(33629),v=function(c){for(var u=[],l=[],a=0;a<c.layer.length;a++){var d=c.layer[a],p=d.tilesetName;p!==""&&l.indexOf(p)===-1&&(l.push(p),u.push(new o(p,0,d.tilesize,d.tilesize,0,0)))}return u};s.exports=v}),87021:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(80341),v=r(87010),c=r(6656),u=r(96483),l=function(a,d,p){if(d.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+a),null;for(var h=0,g=0,m=0;m<d.layer.length;m++)d.layer[m].width>h&&(h=d.layer[m].width),d.layer[m].height>g&&(g=d.layer[m].height);var x=new v({width:h,height:g,name:a,tileWidth:d.layer[0].tilesize,tileHeight:d.layer[0].tilesize,format:o.WELTMEISTER});return x.layers=c(d,p),x.tilesets=u(d),x};s.exports=l}),52833:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={ParseTileLayers:r(6656),ParseTilesets:r(96483),ParseWeltmeister:r(87021)}}),57442:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={FromOrientationString:r(6641),Parse:r(46177),Parse2DArray:r(2342),ParseCSV:r(82593),Impact:r(52833),Tiled:r(96761)}}),51233:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(79291),v=function(c){for(var u,l,a,d,p,h=0;h<c.layers.length;h++){u=c.layers[h],d=null;for(var g=0;g<u.data.length;g++){p=u.data[g];for(var m=0;m<p.length;m++)l=p[m],!(l===null||l.index<0)&&(a=c.tiles[l.index][2],d=c.tilesets[a],l.width=d.tileWidth,l.height=d.tileHeight,d.tileProperties&&d.tileProperties[l.index-d.firstgid]&&(l.properties=o(l.properties,d.tileProperties[l.index-d.firstgid])))}}};s.exports=v}),41868:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){for(var o=window.atob(r),v=o.length,c=new Array(v/4),u=0;u<v;u+=4)c[u/4]=(o.charCodeAt(u)|o.charCodeAt(u+1)<<8|o.charCodeAt(u+2)<<16|o.charCodeAt(u+3)<<24)>>>0;return c};s.exports=y}),84101:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(33629),v=function(c){var u,l,a=[];for(u=0;u<c.imageCollections.length;u++)for(var d=c.imageCollections[u],p=d.images,h=0;h<p.length;h++){var g=p[h],m={x:0,y:g.height-c.tileHeight};l=new o(g.image,g.gid,g.width,g.height,0,0,void 0,void 0,m),l.updateTileData(g.width,g.height),c.tilesets.push(l)}for(u=0;u<c.tilesets.length;u++){l=c.tilesets[u];for(var x=l.tileMargin,w=l.tileMargin,C=0,E=0,T=0,S=l.firstgid;S<l.firstgid+l.total&&(a[S]=[x,w,u],x+=l.tileWidth+l.tileSpacing,C++,!(C===l.total||(E++,E===l.columns&&(x=l.tileMargin,w+=l.tileHeight+l.tileSpacing,E=0,T++,T===l.rows))));S++);}return a};s.exports=v}),79677:((s,y,r)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95540),v=function(c,u,l){if(!u)return{i:0,layers:c.layers,name:"",opacity:1,visible:!0,x:0,y:0};var a=u.x+o(u,"startx",0)*c.tilewidth+o(u,"offsetx",0),d=u.y+o(u,"starty",0)*c.tileheight+o(u,"offsety",0);return{i:0,layers:u.layers,name:l.name+u.name+"/",opacity:l.opacity*u.opacity,visible:l.visible&&u.visible,x:l.x+a,y:l.y+d}};s.exports=v}),29920:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=2147483648,r=1073741824,o=536870912,v=function(c){var u=!!(c&y),l=!!(c&r),a=!!(c&o);c=c&536870911;var d=0,p=!1;return u&&l&&a?(d=Math.PI/2,p=!0):u&&l&&!a?(d=Math.PI,p=!1):u&&!l&&a?(d=Math.PI/2,p=!1):u&&!l&&!a?(d=0,p=!0):!u&&l&&a?(d=3*Math.PI/2,p=!1):!u&&l&&!a?(d=Math.PI,p=!0):!u&&!l&&a?(d=3*Math.PI/2,p=!0):!u&&!l&&!a&&(d=0,p=!1),{gid:c,flippedHorizontal:u,flippedVertical:l,flippedAntiDiagonal:a,rotation:d,flipped:p}};s.exports=v}),12635:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95540),v=r(79677),c=function(u){for(var l=[],a=[],d=v(u);d.i<d.layers.length||a.length>0;){if(d.i>=d.layers.length){if(a.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}d=a.pop();continue}var p=d.layers[d.i];if(d.i++,p.type!=="imagelayer"){if(p.type==="group"){var h=v(u,p,d);a.push(d),d=h}continue}var g=o(p,"offsetx",0)+o(p,"startx",0),m=o(p,"offsety",0)+o(p,"starty",0);l.push({name:d.name+p.name,image:p.image,x:d.x+g+p.x,y:d.y+m+p.y,alpha:d.opacity*p.opacity,visible:d.visible&&p.visible,properties:o(p,"properties",{})})}return l};s.exports=c}),46594:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(51233),v=r(84101),c=r(91907),u=r(62644),l=r(80341),a=r(6641),d=r(87010),p=r(12635),h=r(22611),g=r(28200),m=r(24619),x=function(w,C,E){var T=u(C),S=new d({width:T.width,height:T.height,name:w,tileWidth:T.tilewidth,tileHeight:T.tileheight,orientation:a(T.orientation),format:l.TILED_JSON,version:T.version,properties:T.properties,renderOrder:T.renderorder,infinite:T.infinite});if(S.orientation===c.HEXAGONAL)if(S.hexSideLength=T.hexsidelength,S.staggerAxis=T.staggeraxis,S.staggerIndex=T.staggerindex,S.staggerAxis==="y"){var A=(S.tileHeight-S.hexSideLength)/2;S.widthInPixels=S.tileWidth*(S.width+.5),S.heightInPixels=S.height*(S.hexSideLength+A)+A}else{var P=(S.tileWidth-S.hexSideLength)/2;S.widthInPixels=S.width*(S.hexSideLength+P)+P,S.heightInPixels=S.tileHeight*(S.height+.5)}S.layers=g(T,E),S.images=p(T);var R=m(T);return S.tilesets=R.tilesets,S.imageCollections=R.imageCollections,S.objects=h(T),S.tiles=v(S),o(S),S};s.exports=x}),52205:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(18254),v=r(29920),c=function(a){return{x:a.x,y:a.y}},u=["id","name","type","rotation","properties","visible","x","y","width","height"],l=function(a,d,p){d===void 0&&(d=0),p===void 0&&(p=0);var h=o(a,u);if(h.x+=d,h.y+=p,a.gid){var g=v(a.gid);h.gid=g.gid,h.flippedHorizontal=g.flippedHorizontal,h.flippedVertical=g.flippedVertical,h.flippedAntiDiagonal=g.flippedAntiDiagonal}else a.polyline?h.polyline=a.polyline.map(c):a.polygon?h.polygon=a.polygon.map(c):a.ellipse?h.ellipse=a.ellipse:a.text?h.text=a.text:a.point?h.point=!0:h.rectangle=!0;return h};s.exports=l}),22611:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95540),v=r(52205),c=r(48700),u=r(79677),l=function(a){for(var d=[],p=[],h=u(a);h.i<h.layers.length||p.length>0;){if(h.i>=h.layers.length){if(p.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}h=p.pop();continue}var g=h.layers[h.i];if(h.i++,g.opacity*=h.opacity,g.visible=h.visible&&g.visible,g.type!=="objectgroup"){if(g.type==="group"){var m=u(a,g,h);p.push(h),h=m}continue}g.name=h.name+g.name;for(var x=h.x+o(g,"startx",0)+o(g,"offsetx",0),w=h.y+o(g,"starty",0)+o(g,"offsety",0),C=[],E=0;E<g.objects.length;E++){var T=v(g.objects[E],x,w);C.push(T)}var S=new c(g);S.objects=C,d.push(S)}return d};s.exports=l}),28200:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(41868),v=r(91907),c=r(79677),u=r(6641),l=r(95540),a=r(14977),d=r(29920),p=r(23029),h=function(g,m){for(var x=l(g,"infinite",!1),w=[],C=[],E=c(g);E.i<E.layers.length||C.length>0;){if(E.i>=E.layers.length){if(C.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}E=C.pop();continue}var T=E.layers[E.i];if(E.i++,T.type!=="tilelayer"){if(T.type==="group"){var S=c(g,T,E);C.push(E),E=S}continue}if(T.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+T.name+"'");continue}else if(T.encoding&&T.encoding==="base64"){if(T.chunks)for(var A=0;A<T.chunks.length;A++)T.chunks[A].data=o(T.chunks[A].data);T.data&&(T.data=o(T.data)),delete T.encoding}var P,R,L,D,F,$,N=[],k=0;if(x){var j=l(T,"startx",0)+T.x,W=l(T,"starty",0)+T.y;P=new a({name:E.name+T.name,id:T.id,x:E.x+l(T,"offsetx",0)+j*g.tilewidth,y:E.y+l(T,"offsety",0)+W*g.tileheight,width:T.width,height:T.height,tileWidth:g.tilewidth,tileHeight:g.tileheight,alpha:E.opacity*T.opacity,visible:E.visible&&T.visible,properties:l(T,"properties",[]),orientation:u(g.orientation)}),P.orientation===v.HEXAGONAL&&(P.hexSideLength=g.hexsidelength,P.staggerAxis=g.staggeraxis,P.staggerIndex=g.staggerindex,P.staggerAxis==="y"?(F=(P.tileHeight-P.hexSideLength)/2,P.widthInPixels=P.tileWidth*(P.width+.5),P.heightInPixels=P.height*(P.hexSideLength+F)+F):($=(P.tileWidth-P.hexSideLength)/2,P.widthInPixels=P.width*(P.hexSideLength+$)+$,P.heightInPixels=P.tileHeight*(P.height+.5)));for(var G=0;G<T.height;G++){N[G]=[null];for(var K=0;K<T.width;K++)N[G][K]=null}for(G=0,le=T.chunks.length;G<le;G++)for(var z=T.chunks[G],X=z.x-j,U=z.y-W,Z=0,V=0,J=z.data.length;V<J;V++){var _=k+X,ee=Z+U;R=d(z.data[V]),R.gid>0?(L=new p(P,R.gid,_,ee,g.tilewidth,g.tileheight),L.rotation=R.rotation,L.flipX=R.flipped,N[ee][_]=L):(D=m?null:new p(P,-1,_,ee,g.tilewidth,g.tileheight),N[ee][_]=D),k++,k===z.width&&(Z++,k=0)}}else{P=new a({name:E.name+T.name,id:T.id,x:E.x+l(T,"offsetx",0)+T.x,y:E.y+l(T,"offsety",0)+T.y,width:T.width,height:T.height,tileWidth:g.tilewidth,tileHeight:g.tileheight,alpha:E.opacity*T.opacity,visible:E.visible&&T.visible,properties:l(T,"properties",[]),orientation:u(g.orientation)}),P.orientation===v.HEXAGONAL&&(P.hexSideLength=g.hexsidelength,P.staggerAxis=g.staggeraxis,P.staggerIndex=g.staggerindex,P.staggerAxis==="y"?(F=(P.tileHeight-P.hexSideLength)/2,P.widthInPixels=P.tileWidth*(P.width+.5),P.heightInPixels=P.height*(P.hexSideLength+F)+F):($=(P.tileWidth-P.hexSideLength)/2,P.widthInPixels=P.width*(P.hexSideLength+$)+$,P.heightInPixels=P.tileHeight*(P.height+.5)));for(var te=[],ie=0,le=T.data.length;ie<le;ie++)R=d(T.data[ie]),R.gid>0?(L=new p(P,R.gid,k,N.length,g.tilewidth,g.tileheight),L.rotation=R.rotation,L.flipX=R.flipped,te.push(L)):(D=m?null:new p(P,-1,k,N.length,g.tilewidth,g.tileheight),te.push(D)),k++,k===T.width&&(N.push(te),k=0,te=[])}P.data=N,w.push(P)}return w};s.exports=h}),24619:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(33629),v=r(16536),c=r(52205),u=r(57880),l=function(a){for(var d=[],p=[],h=null,g,m=0;m<a.tilesets.length;m++){var x=a.tilesets[m];if(x.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(x.image){var w=new o(x.name,x.firstgid,x.tilewidth,x.tileheight,x.margin,x.spacing,void 0,void 0,x.tileoffset);if(a.version>1){var C=void 0,E=void 0;if(Array.isArray(x.tiles)){C=C||{},E=E||{};for(var T=0;T<x.tiles.length;T++){var S=x.tiles[T];if(S.properties){var A={};S.properties.forEach(function(G){A[G.name]=G.value}),E[S.id]=A}if(S.objectgroup&&((C[S.id]||(C[S.id]={})).objectgroup=S.objectgroup,S.objectgroup.objects)){var P=S.objectgroup.objects.map(function(G){return c(G)});C[S.id].objectgroup.objects=P}S.animation&&((C[S.id]||(C[S.id]={})).animation=S.animation),S.type&&((C[S.id]||(C[S.id]={})).type=S.type)}}Array.isArray(x.wangsets)&&(C=C||{},E=E||{},u(x.wangsets,C)),C&&(w.tileData=C,w.tileProperties=E)}else if(x.tileproperties&&(w.tileProperties=x.tileproperties),x.tiles){w.tileData=x.tiles;for(g in w.tileData){var R=w.tileData[g].objectgroup;if(R&&R.objects){var L=R.objects.map(function(G){return c(G)});w.tileData[g].objectgroup.objects=L}}}w.updateTileData(x.imagewidth,x.imageheight),d.push(w)}else{var D=new v(x.name,x.firstgid,x.tilewidth,x.tileheight,x.margin,x.spacing,x.properties),F=0;for(T=0;T<x.tiles.length;T++){S=x.tiles[T];var $=S.image,N=parseInt(S.id,10),k=x.firstgid+N,j=S.imagewidth,W=S.imageheight;D.addImage(k,$,j,W),F=Math.max(N,F)}D.maxId=F,p.push(D)}h&&(h.lastgid=x.firstgid-1),h=x}return{tilesets:d,imageCollections:p}};s.exports=l}),57880:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){for(var v=0;v<r.length;v++){var c=r[v],u=v;if(c.name&&c.name!==""&&(u=c.name),Array.isArray(c.wangtiles)&&c.wangtiles.length>0){var l={},a={},d,p,h;if(Array.isArray(c.edgecolors))for(d=0;d<c.edgecolors.length;d++)h=1+d,p=c.edgecolors[d],p.name!==""&&(l[h]=p.name);if(Array.isArray(c.cornercolors))for(d=0;d<c.cornercolors.length;d++)h=1+d,p=c.cornercolors[d],p.name!==""&&(a[h]=p.name);if(Array.isArray(c.colors))for(d=0;d<c.colors.length;d++)p=c.colors[d],h=1+d,p.name!==""&&(l[h]=a[h]=p.name);for(var g=[l,a,l,a,l,a,l,a],m=0;m<c.wangtiles.length;m++){var x=c.wangtiles[m],w=o[x.tileid]||(o[x.tileid]={});w=w.wangid||(w.wangid={});for(var C=[],E=0;E<Math.min(g.length,x.wangid.length);E++){if(p=x.wangid[E],p===0){C.push(void 0);continue}var T=g[E][p];if(T!==void 0){C.push(T);continue}C.push(p)}w[u]=C}}}};s.exports=y}),96761:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={AssignTileProperties:r(51233),Base64Decode:r(41868),BuildTilesetIndex:r(84101),CreateGroupLayer:r(79677),ParseGID:r(29920),ParseImageLayers:r(12635),ParseJSONTiled:r(46594),ParseObject:r(52205),ParseObjectLayers:r(22611),ParseTileLayers:r(28200),ParseTilesets:r(24619)}}),33385:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(37277),c=r(44594),u=r(94880),l=r(72905),a=new o({initialize:function(p){this.scene=p,this.systems=p.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],p.sys.events.once(c.BOOT,this.boot,this),p.sys.events.on(c.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(c.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var d=this.systems.events;d.on(c.PRE_UPDATE,this.preUpdate,this),d.on(c.UPDATE,this.update,this),d.once(c.SHUTDOWN,this.shutdown,this)},addEvent:function(d){var p;if(d instanceof u){if(p=d,this.removeEvent(p),p.elapsed=p.startAt,p.hasDispatched=!1,p.repeatCount=p.repeat===-1||p.loop?999999999999:p.repeat,p.delay<=0&&p.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay")}else p=new u(d);return this._pendingInsertion.push(p),p},delayedCall:function(d,p,h,g){return this.addEvent({delay:d,callback:p,args:h,callbackScope:g})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(d){Array.isArray(d)||(d=[d]);for(var p=0;p<d.length;p++){var h=d[p];l(this._pendingRemoval,h),l(this._pendingInsertion,h),l(this._active,h)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var d=this._pendingRemoval.length,p=this._pendingInsertion.length;if(!(d===0&&p===0)){var h,g;for(h=0;h<d;h++){g=this._pendingRemoval[h];var m=this._active.indexOf(g);m>-1&&this._active.splice(m,1),g.destroy()}for(h=0;h<p;h++)g=this._pendingInsertion[h],this._active.push(g);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(d,p){if(this.now=d,!this.paused){p*=this.timeScale;for(var h=0;h<this._active.length;h++){var g=this._active[h];if(!g.paused&&(g.elapsed+=p*g.timeScale,g.elapsed>=g.delay)){var m=g.elapsed-g.delay;if(g.elapsed=g.delay,!g.hasDispatched&&g.callback&&(g.hasDispatched=!0,g.callback.apply(g.callbackScope,g.args)),g.repeatCount>0){if(g.repeatCount--,m>=g.delay)for(;m>=g.delay&&g.repeatCount>0;)g.callback&&g.callback.apply(g.callbackScope,g.args),m-=g.delay,g.repeatCount--;g.elapsed=m,g.hasDispatched=!1}else g.hasDispatched&&this._pendingRemoval.push(g)}}}},shutdown:function(){var d;for(d=0;d<this._pendingInsertion.length;d++)this._pendingInsertion[d].destroy();for(d=0;d<this._active.length;d++)this._active[d].destroy();for(d=0;d<this._pendingRemoval.length;d++)this._pendingRemoval[d].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var p=this.systems.events;p.off(c.PRE_UPDATE,this.preUpdate,this),p.off(c.UPDATE,this.update,this),p.off(c.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(c.START,this.start,this),this.scene=null,this.systems=null}});v.register("Clock",a,"time"),s.exports=a}),96120:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(50792),c=r(39429),u=r(95540),l=r(44594),a=r(89809),d=new o({Extends:v,initialize:function(h,g){v.call(this),this.scene=h,this.systems=h.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var m=this.systems.events;m.on(l.PRE_UPDATE,this.preUpdate,this),m.on(l.UPDATE,this.update,this),m.once(l.SHUTDOWN,this.destroy,this),g&&this.add(g)},preUpdate:function(p,h){this.paused||(this.elapsed+=h*this.timeScale)},update:function(){if(!(this.paused||this.complete)){var p,h=this.events,g=!1,m=this.systems,x;for(p=0;p<h.length;p++){var w=h[p];if(!w.complete&&w.time<=this.elapsed){if(w.complete=!0,this.totalComplete++,x=w.target?w.target:this,w.if&&!w.if.call(x,w))continue;if(w.once&&(g=!0),w.set&&w.target)for(var C in w.set)w.target[C]=w.set[C];this.iteration&&w.repeat++,w.loop&&w.repeat&&w.loop.call(x),w.tween&&(w.tweenInstance=m.tweens.add(w.tween)),w.sound&&(typeof w.sound=="string"?m.sound.play(w.sound):m.sound.play(w.sound.key,w.sound.config)),w.event&&this.emit(w.event,x),w.run&&w.run.call(x),w.stop&&this.stop()}}if(g)for(p=0;p<h.length;p++)h[p].complete&&h[p].once&&(h.splice(p,1),p--);this.totalComplete>=h.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(a.COMPLETE,this)}},play:function(p){return p===void 0&&(p=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,p&&this.reset(),this},pause:function(){this.paused=!0;for(var p=this.events,h=0;h<p.length;h++){var g=p[h];g.tweenInstance&&(g.tweenInstance.paused=!0)}return this},repeat:function(p){return(p===void 0||p===!0)&&(p=-1),p===!1&&(p=0),this.loop=p,this},resume:function(){this.paused=!1;for(var p=this.events,h=0;h<p.length;h++){var g=p[h];g.tweenInstance&&(g.tweenInstance.paused=!1)}return this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(p){p===void 0&&(p=!1),this.elapsed=0,p||(this.iteration=0);for(var h=this.events,g=0;g<h.length;g++){var m=h[g];m.complete=!1,p||(m.repeat=0),m.tweenInstance&&m.tweenInstance.stop()}return this.play(!1)},add:function(p){Array.isArray(p)||(p=[p]);var h=this.events,g=0;h.length>0&&(g=h[h.length-1].time);for(var m=0;m<p.length;m++){var x=p[m],w=u(x,"at",0),C=u(x,"in",null);C!==null&&(w=this.elapsed+C);var E=u(x,"from",null);E!==null&&(w=g+E),h.push({complete:!1,time:w,repeat:0,if:u(x,"if",null),run:u(x,"run",null),loop:u(x,"loop",null),event:u(x,"event",null),target:u(x,"target",null),set:u(x,"set",null),tween:u(x,"tween",null),sound:u(x,"sound",null),once:u(x,"once",!1),stop:u(x,"stop",!1)}),g=w}return this.complete=!1,this},clear:function(){for(var p=this.events,h=0;h<p.length;h++){var g=p[h];g.tweenInstance&&g.tweenInstance.stop()}return p=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var p=Math.min(this.totalComplete,this.events.length);return p/this.events.length},destroy:function(){var p=this.systems.events;p.off(l.PRE_UPDATE,this.preUpdate,this),p.off(l.UPDATE,this.update,this),p.off(l.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null}});c.register("timeline",function(p){return new d(this.scene,p)}),s.exports=d}),94880:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(95540),c=new o({initialize:function(l){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(l)},reset:function(u){if(this.delay=v(u,"delay",0),this.repeat=v(u,"repeat",0),this.loop=v(u,"loop",!1),this.callback=v(u,"callback",void 0),this.callbackScope=v(u,"callbackScope",this),this.args=v(u,"args",[]),this.timeScale=v(u,"timeScale",1),this.startAt=v(u,"startAt",0),this.paused=v(u,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay<=0&&this.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var u=this.delay+this.delay*this.repeat,l=this.elapsed+this.delay*(this.repeat-this.repeatCount);return l/u}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(u){u===void 0&&(u=!1),this.elapsed=this.delay,this.hasDispatched=!u,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});s.exports=c}),35945:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="complete"}),89809:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={COMPLETE:r(35945)}}),90291:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Clock:r(33385),Events:r(89809),Timeline:r(96120),TimerEvent:r(94880)}}),40382:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(72905),v=r(83419),c=r(43491),u=r(88032),l=r(37277),a=r(44594),d=r(93109),p=r(86081),h=r(8357),g=r(43960),m=r(26012),x=new v({initialize:function(C){this.scene=C,this.events=C.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(a.UPDATE,this.update,this),this.events.once(a.SHUTDOWN,this.shutdown,this)},create:function(w){Array.isArray(w)||(w=[w]);for(var C=[],E=0;E<w.length;E++){var T=w[E];T instanceof p||T instanceof g?C.push(T):Array.isArray(T.tweens)?C.push(m(this,T)):C.push(h(this,T))}return C.length===1?C[0]:C},add:function(w){var C=w,E=this.tweens;return C instanceof p||C instanceof g||(Array.isArray(C.tweens)?C=m(this,C):C=h(this,C)),E.push(C.reset()),C},addMultiple:function(w){for(var C,E=[],T=this.tweens,S=0;S<w.length;S++)C=w[S],C instanceof p||C instanceof g||(Array.isArray(C.tweens)?C=m(this,C):C=h(this,C)),T.push(C.reset()),E.push(C);return E},chain:function(w){var C=m(this,w);return this.tweens.push(C.init()),C},getChainedTweens:function(w){return w.getChainedTweens()},has:function(w){return this.tweens.indexOf(w)>-1},existing:function(w){return this.has(w)||this.tweens.push(w.reset()),this},addCounter:function(w){var C=u(this,w);return this.tweens.push(C.reset()),C},stagger:function(w,C){return d(w,C)},setLagSmooth:function(w,C){return w===void 0&&(w=1/1e-8),C===void 0&&(C=0),this.maxLag=w,this.lagSkip=Math.min(C,this.maxLag),this},setFps:function(w){return w===void 0&&(w=240),this.gap=1e3/w,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(w){var C=Date.now()-this.prevTime;C>this.maxLag&&(this.startTime+=C-this.lagSkip),this.prevTime+=C;var E=this.prevTime-this.startTime,T=E-this.nextTime,S=E-this.time*1e3;return T>0||w?(E/=1e3,this.time=E,this.nextTime+=T+(T>=this.gap?4:this.gap-T)):S=0,S},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(w){w===void 0&&(w=!1);var C=this.getDelta(w);if(!(C<=0)){this.processing=!0;var E,T,S=[],A=this.tweens;for(E=0;E<A.length;E++)T=A[E],T.update(C)&&S.push(T);var P=S.length;if(P&&A.length>0){for(E=0;E<P;E++){T=S[E];var R=A.indexOf(T);R>-1&&(T.isPendingRemove()||T.isDestroyed())&&(A.splice(R,1),T.destroy())}S.length=0}this.processing=!1}},remove:function(w){return this.processing?w.setPendingRemoveState():(o(this.tweens,w),w.setRemovedState()),this},reset:function(w){return this.existing(w),w.seek(),w.setActiveState(),this},makeActive:function(w){return this.existing(w),w.setActiveState(),this},each:function(w,C){var E,T=[null];for(E=1;E<arguments.length;E++)T.push(arguments[E]);return this.tweens.forEach(function(S){T[0]=S,w.apply(C,T)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(w){var C=[],E=this.tweens;Array.isArray(w)?w=c(w):w=[w];for(var T=w.length,S=0;S<E.length;S++)for(var A=E[S],P=0;P<T;P++)!A.isDestroyed()&&A.hasTarget(w[P])&&C.push(A);return C},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(w){return this.timeScale=w,this},isTweening:function(w){for(var C=this.tweens,E,T=0;T<C.length;T++)if(E=C[T],E.isPlaying()&&E.hasTarget(w))return!0;return!1},killAll:function(){for(var w=this.processing?this.getTweens():this.tweens,C=0;C<w.length;C++)w[C].destroy();return this.processing||(w.length=0),this},killTweensOf:function(w){for(var C=this.getTweensOf(w),E=0;E<C.length;E++)C[E].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(a.UPDATE,this.update,this),this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.events=null}});l.register("TweenManager",x,"tweens"),s.exports=x}),57355:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){return r&&r.hasOwnProperty(o)?r[o]:v};s.exports=y}),6113:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62640),v=r(35355),c=function(u,l){var a=o.Power0;if(typeof u=="string")if(o.hasOwnProperty(u))a=o[u];else{var d="";if(u.indexOf(".")){d=u.substring(u.indexOf(".")+1);var p=d.toLowerCase();p==="in"?d="easeIn":p==="out"?d="easeOut":p==="inout"&&(d="easeInOut")}u=v(u.substring(0,u.indexOf(".")+1)+d),o.hasOwnProperty(u)&&(a=o[u])}else typeof u=="function"&&(a=u);if(!l)return a;var h=l.slice(0);return h.unshift(0),function(g){return h[0]=g,a.apply(this,h)}};s.exports=c}),91389:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(89318),v=r(77259),c=r(28392),u={bezier:o,catmull:v,catmullrom:v,linear:c},l=function(a){if(a===null)return null;var d=u.linear;return typeof a=="string"?u.hasOwnProperty(a)&&(d=u[a]):typeof a=="function"&&(d=a),d};s.exports=l}),55292:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){var c;if(r.hasOwnProperty(o)){var u=typeof r[o];u==="function"?c=function(l,a,d,p,h,g){return r[o](l,a,d,p,h,g)}:c=function(){return r[o]}}else typeof v=="function"?c=v:c=function(){return v};return c};s.exports=y}),82985:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(81076),v=function(c){var u,l=[];if(c.hasOwnProperty("props"))for(u in c.props)u.substring(0,1)!=="_"&&l.push({key:u,value:c.props[u]});else for(u in c)o.indexOf(u)===-1&&u.substring(0,1)!=="_"&&l.push({key:u,value:c[u]});return l};s.exports=v}),62329:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35154),v=function(c){var u=o(c,"targets",null);return u===null||(typeof u=="function"&&(u=u.call()),Array.isArray(u)||(u=[u])),u};s.exports=v}),17777:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(30976),v=r(99472);function c(p){return!!p.getActive&&typeof p.getActive=="function"}function u(p){return!!p.getStart&&typeof p.getStart=="function"}function l(p){return!!p.getEnd&&typeof p.getEnd=="function"}function a(p){return u(p)||l(p)||c(p)}var d=function(p,h){var g,m=function(G,K,z){return z},x=function(G,K,z){return z},w=null,C=typeof h;if(C==="number")m=function(){return h};else if(Array.isArray(h))x=function(){return h[0]},m=function(){return h[h.length-1]};else if(C==="string"){var E=h.toLowerCase(),T=E.substring(0,6)==="random",S=E.substring(0,3)==="int";if(T||S){var A=E.indexOf("("),P=E.indexOf(")"),R=E.indexOf(",");if(A&&P&&R){var L=parseFloat(E.substring(A+1,R)),D=parseFloat(E.substring(R+1,P));T?m=function(){return v(L,D)}:m=function(){return o(L,D)}}else throw new Error("invalid random() format")}else{E=E[0];var F=parseFloat(h.substr(2));switch(E){case"+":m=function(G,K,z){return z+F};break;case"-":m=function(G,K,z){return z-F};break;case"*":m=function(G,K,z){return z*F};break;case"/":m=function(G,K,z){return z/F};break;default:m=function(){return parseFloat(h)}}}}else if(C==="function")m=h;else if(C==="object")if(a(h))c(h)&&(w=h.getActive),l(h)&&(m=h.getEnd),u(h)&&(x=h.getStart);else if(h.hasOwnProperty("value"))g=d(p,h.value);else{var $=h.hasOwnProperty("to"),N=h.hasOwnProperty("from"),k=h.hasOwnProperty("start");if($&&(N||k)){if(g=d(p,h.to),k){var j=d(p,h.start);g.getActive=j.getEnd}if(N){var W=d(p,h.from);g.getStart=W.getEnd}}}return g||(g={getActive:w,getEnd:m,getStart:x}),g};s.exports=d}),88032:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(70402),v=r(69902),c=r(23568),u=r(57355),l=r(6113),a=r(95540),d=r(55292),p=r(35154),h=r(17777),g=r(269),m=r(86081),x=function(w,C,E){if(C instanceof m)return C.parent=w,C;E===void 0?E=v:E=g(v,E);var T=a(C,"from",0),S=a(C,"to",1),A=[{value:T}],P=a(C,"delay",E.delay),R=a(C,"easeParams",E.easeParams),L=a(C,"ease",E.ease),D=h("value",S),F=new m(w,A),$=F.add(0,"value",D.getEnd,D.getStart,D.getActive,l(a(C,"ease",L),a(C,"easeParams",R)),d(C,"delay",P),a(C,"duration",E.duration),u(C,"yoyo",E.yoyo),a(C,"hold",E.hold),a(C,"repeat",E.repeat),a(C,"repeatDelay",E.repeatDelay),!1,!1);$.start=T,$.current=T,F.completeDelay=c(C,"completeDelay",0),F.loop=Math.round(c(C,"loop",0)),F.loopDelay=Math.round(c(C,"loopDelay",0)),F.paused=u(C,"paused",!1),F.persist=u(C,"persist",!1),F.isNumberTween=!0,F.callbackScope=p(C,"callbackScope",F);for(var N=o.TYPES,k=0;k<N.length;k++){var j=N[k],W=p(C,j,!1);if(W){var G=p(C,j+"Params",[]);F.setCallback(j,W,G)}}return F};s.exports=x}),93109:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(6113),v=r(35154),c=r(36383),u=function(l,a){a===void 0&&(a={});var d,p=v(a,"start",0),h=v(a,"ease",null),g=v(a,"grid",null),m=v(a,"from",0),x=m==="first",w=m==="center",C=m==="last",E=typeof m=="number",T=Array.isArray(l),S=parseFloat(T?l[0]:l),A=T?parseFloat(l[1]):0,P=Math.max(S,A);if(T&&(p+=S),g){var R=g[0],L=g[1],D=0,F=0,$=0,N=0,k=[];C?(D=R-1,F=L-1):E?(D=m%R,F=Math.floor(m/R)):w&&(D=(R-1)/2,F=(L-1)/2);for(var j=c.MIN_SAFE_INTEGER,W=0;W<L;W++){k[W]=[];for(var G=0;G<R;G++){$=D-G,N=F-W;var K=Math.sqrt($*$+N*N);K>j&&(j=K),k[W][G]=K}}}var z=h?o(h):null;return g?d=function(X,U,Z,V){var J=0,_=V%R,ee=Math.floor(V/R);_>=0&&_<R&&ee>=0&&ee<L&&(J=k[ee][_]);var te;if(T){var ie=A-S;z?te=J/j*ie*z(J/j):te=J/j*ie}else z?te=J*S*z(J/j):te=J*S;return te+p}:d=function(X,U,Z,V,J){J--;var _;x?_=V:w?_=Math.abs(J/2-V):C?_=J-V:E&&(_=Math.abs(m-V));var ee;if(T){var te;w?te=(A-S)/J*(_*2):te=(A-S)/J*_,z?ee=te*z(_/J):ee=te}else z?ee=J*P*z(_/J):ee=_*S;return ee+p},d};s.exports=u}),8357:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(70402),v=r(69902),c=r(23568),u=r(57355),l=r(6113),a=r(95540),d=r(91389),p=r(55292),h=r(82985),g=r(62329),m=r(35154),x=r(17777),w=r(269),C=r(86081),E=function(T,S,A){if(S instanceof C)return S.parent=T,S;A===void 0?A=v:A=w(v,A);var P=g(S);!P&&A.targets&&(P=A.targets);for(var R=h(S),L=a(S,"delay",A.delay),D=a(S,"duration",A.duration),F=a(S,"easeParams",A.easeParams),$=a(S,"ease",A.ease),N=a(S,"hold",A.hold),k=a(S,"repeat",A.repeat),j=a(S,"repeatDelay",A.repeatDelay),W=u(S,"yoyo",A.yoyo),G=u(S,"flipX",A.flipX),K=u(S,"flipY",A.flipY),z=a(S,"interpolation",A.interpolation),X=function(fe,oe,Ce,ye){if(Ce==="texture"){var Ee=ye,Ie=void 0;Array.isArray(ye)?(Ee=ye[0],Ie=ye[1]):ye.hasOwnProperty("value")?(Ee=ye.value,Array.isArray(ye.value)?(Ee=ye.value[0],Ie=ye.value[1]):typeof ye.value=="string"&&(Ee=ye.value)):typeof ye=="string"&&(Ee=ye),fe.addFrame(oe,Ee,Ie,p(ye,"delay",L),a(ye,"duration",D),a(ye,"hold",N),a(ye,"repeat",k),a(ye,"repeatDelay",j),u(ye,"flipX",G),u(ye,"flipY",K))}else{var je=x(Ce,ye),Re=d(a(ye,"interpolation",z));fe.add(oe,Ce,je.getEnd,je.getStart,je.getActive,l(a(ye,"ease",$),a(ye,"easeParams",F)),p(ye,"delay",L),a(ye,"duration",D),u(ye,"yoyo",W),a(ye,"hold",N),a(ye,"repeat",k),a(ye,"repeatDelay",j),u(ye,"flipX",G),u(ye,"flipY",K),Re,Re?ye:null)}},U=new C(T,P),Z=0;Z<R.length;Z++)for(var V=R[Z].key,J=R[Z].value,_=0;_<P.length;_++)V==="scale"&&!P[_].hasOwnProperty("scale")?(X(U,_,"scaleX",J),X(U,_,"scaleY",J)):X(U,_,V,J);U.completeDelay=c(S,"completeDelay",0),U.loop=Math.round(c(S,"loop",0)),U.loopDelay=Math.round(c(S,"loopDelay",0)),U.paused=u(S,"paused",!1),U.persist=u(S,"persist",!1),U.callbackScope=a(S,"callbackScope",U);for(var ee=o.TYPES,te=0;te<ee.length;te++){var ie=ee[te],le=m(S,ie,!1);if(le){var he=m(S,ie+"Params",[]);U.setCallback(ie,le,he)}}return U};s.exports=E}),26012:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(70402),v=r(23568),c=r(57355),u=r(62329),l=r(35154),a=r(8357),d=r(43960),p=function(h,g){if(g instanceof d)return g.parent=h,g;var m=new d(h);m.startDelay=l(g,"delay",0),m.completeDelay=v(g,"completeDelay",0),m.loop=Math.round(v(g,"loop",l(g,"repeat",0))),m.loopDelay=Math.round(v(g,"loopDelay",l(g,"repeatDelay",0))),m.paused=c(g,"paused",!1),m.persist=c(g,"persist",!1),m.callbackScope=l(g,"callbackScope",m);var x,w=o.TYPES;for(x=0;x<w.length;x++){var C=w[x],E=l(g,C,!1);if(E){var T=l(g,C+"Params",[]);m.setCallback(C,E,T)}}var S=l(g,"tweens",null);if(Array.isArray(S)){var A=[],P=u(g),R=void 0;for(P&&(R={targets:P}),x=0;x<S.length;x++)A.push(a(m,S[x],R));m.add(A)}return m};s.exports=p}),30231:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={GetBoolean:r(57355),GetEaseFunction:r(6113),GetInterpolationFunction:r(91389),GetNewValue:r(55292),GetProps:r(82985),GetTargets:r(62329),GetValueOp:r(17777),NumberTweenBuilder:r(88032),StaggerBuilder:r(93109),TweenBuilder:r(8357)}}),73685:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="active"}),98540:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="complete"}),67233:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="loop"}),2859:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="pause"}),98336:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="repeat"}),25764:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="resume"}),32193:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="start"}),84371:(s=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="stop"}),70766:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="update"}),55659:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports="yoyo"}),842:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={TWEEN_ACTIVE:r(73685),TWEEN_COMPLETE:r(98540),TWEEN_LOOP:r(67233),TWEEN_PAUSE:r(2859),TWEEN_RESUME:r(25764),TWEEN_REPEAT:r(98336),TWEEN_START:r(32193),TWEEN_STOP:r(84371),TWEEN_UPDATE:r(70766),TWEEN_YOYO:r(55659)}}),43066:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={States:r(86353),Builders:r(30231),Events:r(842),TweenManager:r(40382),Tween:r(86081),TweenData:r(48177),TweenFrameData:r(42220),BaseTween:r(70402),TweenChain:r(43960)};s.exports=o}),70402:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(50792),c=r(842),u=r(86353),l=new o({Extends:v,initialize:function(d){v.call(this),this.parent=d,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=u.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(a){return this.timeScale=a,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(c.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(c.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(c.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(c.TWEEN_COMPLETE,"onComplete")},complete:function(a){return a===void 0&&(a=0),a?(this.setCompleteDelayState(),this.countdown=a):this.onCompleteHandler(),this},completeAfterLoop:function(a){return a===void 0&&(a=0),this.loopCounter>a&&(this.loopCounter=a),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(c.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(a){this.countdown-=a,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(c.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(a){return this.countdown-=a,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(c.TWEEN_START,"onStart"),a=0),a},updateCompleteDelay:function(a){this.countdown-=a,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(a,d,p){return p===void 0&&(p=[]),this.callbacks.hasOwnProperty(a)&&(this.callbacks[a]={func:d,params:p}),this},setPendingState:function(){this.state=u.PENDING},setActiveState:function(){this.state=u.ACTIVE,this.hasStarted=!1},setLoopDelayState:function(){this.state=u.LOOP_DELAY},setCompleteDelayState:function(){this.state=u.COMPLETE_DELAY},setStartDelayState:function(){this.state=u.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=u.PENDING_REMOVE},setRemovedState:function(){this.state=u.REMOVED},setFinishedState:function(){this.state=u.FINISHED},setDestroyedState:function(){this.state=u.DESTROYED},isPending:function(){return this.state===u.PENDING},isActive:function(){return this.state===u.ACTIVE},isLoopDelayed:function(){return this.state===u.LOOP_DELAY},isCompleteDelayed:function(){return this.state===u.COMPLETE_DELAY},isStartDelayed:function(){return this.state===u.START_DELAY},isPendingRemove:function(){return this.state===u.PENDING_REMOVE},isRemoved:function(){return this.state===u.REMOVED},isFinished:function(){return this.state===u.FINISHED},isDestroyed:function(){return this.state===u.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(a){a.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});l.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],s.exports=l}),95042:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),v=r(842),c=r(86353),u=new o({initialize:function(a,d,p,h,g,m,x,w,C,E){this.tween=a,this.targetIndex=d,this.duration=h<=0?.01:h,this.totalDuration=0,this.delay=0,this.getDelay=p,this.yoyo=g,this.hold=m,this.repeat=x,this.repeatDelay=w,this.repeatCounter=0,this.flipX=C,this.flipY=E,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(l){l===void 0&&(l=this.current),this.tween.targets[this.targetIndex][this.key]=l},setCreatedState:function(){this.state=c.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=c.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=c.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=c.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=c.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=c.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=c.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=c.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===c.CREATED},isDelayed:function(){return this.state===c.DELAY},isPendingRender:function(){return this.state===c.PENDING_RENDER},isPlayingForward:function(){return this.state===c.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===c.PLAYING_BACKWARD},isHolding:function(){return this.state===c.HOLD_DELAY},isRepeating:function(){return this.state===c.REPEAT_DELAY},isComplete:function(){return this.state===c.COMPLETE},setStateFromEnd:function(l){this.yoyo?this.onRepeat(l,!0,!0):this.repeatCounter>0?this.onRepeat(l,!0,!1):this.setCompleteState()},setStateFromStart:function(l){this.repeatCounter>0?this.onRepeat(l,!1):this.setCompleteState()},reset:function(){var l=this.tween,a=l.totalTargets,d=this.targetIndex,p=l.targets[d],h=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(p,h,0,d,a,l),this.repeatCounter=this.repeat===-1?c.MAX:this.repeat,this.setPendingRenderState();var g=this.duration+this.hold;this.yoyo&&(g+=this.duration);var m=g+this.repeatDelay;this.totalDuration=this.delay+g,this.repeat===-1?(this.totalDuration+=m*c.MAX,l.isInfinite=!0):this.repeat>0&&(this.totalDuration+=m*this.repeat),this.totalDuration>l.duration&&(l.duration=this.totalDuration),this.delay<l.startDelay&&(l.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(l,a,d){var p=this.tween,h=p.totalTargets,g=this.targetIndex,m=p.targets[g],x=this.key,w=x!=="texture";if(this.elapsed=l,this.progress=l/this.duration,this.flipX&&m.toggleFlipX(),this.flipY&&m.toggleFlipY(),w&&(a||d)&&(this.start=this.getStartValue(m,x,this.start,g,h,p)),d){this.setPlayingBackwardState(),this.dispatchEvent(v.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,w&&(this.end=this.getEndValue(m,x,this.start,g,h,p)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-l,w&&(this.current=this.start,m[x]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(v.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});s.exports=u}),69902:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};s.exports=y}),81076:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]}),86081:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(70402),v=r(83419),c=r(842),u=r(44603),l=r(39429),a=r(36383),d=r(86353),p=r(48177),h=r(42220),g=new v({Extends:o,initialize:function(x,w){o.call(this,x),this.targets=w,this.totalTargets=w.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.isNumberTween=!1},add:function(m,x,w,C,E,T,S,A,P,R,L,D,F,$,N,k){var j=new p(this,m,x,w,C,E,T,S,A,P,R,L,D,F,$,N,k);return this.totalData=this.data.push(j),j},addFrame:function(m,x,w,C,E,T,S,A,P,R){var L=new h(this,m,x,w,C,E,T,S,A,P,R);return this.totalData=this.data.push(L),L},getValue:function(m){m===void 0&&(m=0);var x=null;return this.data&&(x=this.data[m].current),x},hasTarget:function(m){return this.targets&&this.targets.indexOf(m)!==-1},updateTo:function(m,x,w){if(w===void 0&&(w=!1),m!=="texture")for(var C=0;C<this.totalData;C++){var E=this.data[C];E.key===m&&(E.isPlayingForward()||E.isPlayingBackward())&&(E.end=x,w&&(E.start=E.current))}return this},restart:function(){switch(this.state){case d.REMOVED:case d.FINISHED:this.seek(),this.parent.makeActive(this);break;case d.PENDING:case d.PENDING_REMOVE:this.parent.reset(this);break;case d.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(c.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,o.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(m,x,w){if(m===void 0&&(m=0),x===void 0&&(x=16.6),w===void 0&&(w=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;w||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(c.TWEEN_ACTIVE,"onActive");var C=this.paused;if(this.paused=!1,m>0){for(var E=Math.floor(m/x),T=m-E*x,S=0;S<E;S++)this.update(x);T>0&&this.update(T)}return this.paused=C,this.isSeeking=!1,this},initTweenData:function(m){m===void 0&&(m=!1),this.duration=0,this.startDelay=a.MAX_SAFE_INTEGER;for(var x=this.data,w=0;w<this.totalData;w++)x[w].reset(m);this.duration=Math.max(this.duration,.01);var C=this.duration,E=this.completeDelay,T=this.loopCounter,S=this.loopDelay;T>0?this.totalDuration=C+E+(C+S)*T:this.totalDuration=C+E},reset:function(m){return m===void 0&&(m=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=d.MAX),m||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(c.TWEEN_ACTIVE,"onActive")),this},update:function(m){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.paused||this.isFinished())return!1;if(m*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(m),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(m),!1;this.hasStarted||(this.startDelay-=m,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(c.TWEEN_START,"onStart"),m=0));var x=!1;if(this.isActive())for(var w=this.data,C=0;C<this.totalData;C++)w[C].update(m)&&(x=!0);this.elapsed+=m,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=m,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),x||this.nextState();var E=this.isPendingRemove();return E&&this.persist&&(this.setFinishedState(),E=!1),E},forward:function(m){return this.update(m),this},rewind:function(m){return this.update(-m),this},dispatchEvent:function(m,x){if(!this.isSeeking){if(this.emit(m,this,this.targets),!this.callbacks)return;var w=this.callbacks[x];w&&w.func.apply(this.callbackScope,[this,this.targets].concat(w.params))}},destroy:function(){o.prototype.destroy.call(this),this.targets=null}});l.register("tween",function(m){return this.scene.sys.tweens.add(m)}),u.register("tween",function(m){return this.scene.sys.tweens.create(m)}),s.exports=g}),43960:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(72905),v=r(70402),c=r(83419),u=r(842),l=r(44603),a=r(39429),d=r(86353),p=new c({Extends:v,initialize:function(g){v.call(this,g),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?d.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},add:function(h){var g=this.parent.create(h);Array.isArray(g)||(g=[g]);for(var m=this.data,x=0;x<g.length;x++){var w=g[x];w.parent=this,m.push(w.reset())}return this.totalData=m.length,this},remove:function(h){return o(this.data,h),h.setRemovedState(),h===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(h){for(var g=this.data,m=0;m<this.totalData;m++)if(g[m].hasTarget(h))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(h){return h.seek(),h.setActiveState(),this},makeActive:function(h){return h.reset(),h.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(u.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var h=this.data,g=this.totalData,m=0;m<g;m++)h[m].reset(!1);this.setCurrentTween(0)},update:function(h){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.isFinished()||this.paused)return!1;if(h*=this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(h),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(h),!1;this.hasStarted||(this.startDelay-=h,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(u.TWEEN_START,"onStart"),h=0));var g=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(h)&&this.nextTween()&&this.nextState(),g=this.isPendingRemove(),g&&this.persist&&(this.setFinishedState(),g=!1)),g},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(h){this.currentIndex=h,this.currentTween=this.data[h],this.currentTween.setActiveState()},dispatchEvent:function(h,g){this.emit(h,this);var m=this.callbacks[g];m&&m.func.apply(this.callbackScope,[this].concat(m.params))},destroy:function(){v.prototype.destroy.call(this),this.currentTween=null}});a.register("tweenchain",function(h){return this.scene.sys.tweens.chain(h)}),l.register("tweenchain",function(h){return this.scene.sys.tweens.create(h)}),s.exports=p}),48177:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95042),v=r(45319),c=r(83419),u=r(842),l=new c({Extends:o,initialize:function(d,p,h,g,m,x,w,C,E,T,S,A,P,R,L,D,F){o.call(this,d,p,C,E,T,S,A,P,R,L),this.key=h,this.getActiveValue=x,this.getEndValue=g,this.getStartValue=m,this.ease=w,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=D,this.interpolationData=F},reset:function(a){o.prototype.reset.call(this);var d=this.tween.targets[this.targetIndex],p=this.key;a&&(d[p]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(d[p]=this.getActiveValue(d,p,0))},update:function(a){var d=this.tween,p=d.totalTargets,h=this.targetIndex,g=d.targets[h],m=this.key;if(!g)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=a,this.elapsed<=0&&(this.elapsed=0,a=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(u.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(g,m,g[m],h,p,d),this.end=this.getEndValue(g,m,this.start,h,p,d),this.current=this.start,g[m]=this.start,this.setPlayingForwardState(),!0;var x=this.isPlayingForward(),w=this.isPlayingBackward();if(x||w){var C=this.elapsed,E=this.duration,T=0,S=!1;C+=a,C>=E?(T=C-E,C=E,S=!0):C<0&&(C=0);var A=v(C/E,0,1);this.elapsed=C,this.progress=A,this.previous=this.current,x||(A=1-A);var P=this.ease(A);this.interpolation?this.current=this.interpolation(this.interpolationData,P):this.current=this.start+(this.end-this.start)*P,g[m]=this.current,S&&(x?(d.isNumberTween&&(this.current=this.end,g[m]=this.current),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(T)):(d.isNumberTween&&(this.current=this.start,g[m]=this.current),this.setStateFromStart(T))),this.dispatchEvent(u.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(a,d){var p=this.tween;if(!p.isSeeking){var h=p.targets[this.targetIndex],g=this.key,m=this.current,x=this.previous;p.emit(a,p,g,h,m,x);var w=p.callbacks[d];w&&w.func.apply(p.callbackScope,[p,h,g,m,x].concat(w.params))}},destroy:function(){o.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});s.exports=l}),42220:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95042),v=r(45319),c=r(83419),u=r(842),l=new c({Extends:o,initialize:function(d,p,h,g,m,x,w,C,E,T,S){o.call(this,d,p,m,x,!1,w,C,E,T,S),this.key="texture",this.startTexture=null,this.endTexture=h,this.startFrame=null,this.endFrame=g,this.yoyo=C!==0},reset:function(a){o.prototype.reset.call(this);var d=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=d.texture.key,this.startFrame=d.frame.name),a&&d.setTexture(this.startTexture,this.startFrame)},update:function(a){var d=this.tween,p=this.targetIndex,h=d.targets[p];if(!h)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=a,this.elapsed<=0&&(this.elapsed=0,a=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(u.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&h.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var g=this.isPlayingForward(),m=this.isPlayingBackward();if(g||m){var x=this.elapsed,w=this.duration,C=0,E=!1;x+=a,x>=w?(C=x-w,x=w,E=!0):x<0&&(x=0);var T=v(x/w,0,1);this.elapsed=x,this.progress=T,E&&(g?(h.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(C)):(h.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(C))),this.dispatchEvent(u.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(a,d){var p=this.tween;if(!p.isSeeking){var h=p.targets[this.targetIndex],g=this.key;p.emit(a,p,g,h);var m=p.callbacks[d];m&&m.func.apply(p.callbackScope,[p,h,g].concat(m.params))}},destroy:function(){o.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});s.exports=l}),86353:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};s.exports=y}),83419:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(l){return!!l.get&&typeof l.get=="function"||!!l.set&&typeof l.set=="function"}function r(l,a,d){var p=d?l[a]:Object.getOwnPropertyDescriptor(l,a);return!d&&p.value&&typeof p.value=="object"&&(p=p.value),p&&y(p)?(typeof p.enumerable>"u"&&(p.enumerable=!0),typeof p.configurable>"u"&&(p.configurable=!0),p):!1}function o(l,a){var d=Object.getOwnPropertyDescriptor(l,a);return d?(d.value&&typeof d.value=="object"&&(d=d.value),d.configurable===!1):!1}function v(l,a,d,p){for(var h in a)if(a.hasOwnProperty(h)){var g=r(a,h,d);if(g!==!1){var m=p||l;if(o(m.prototype,h)){if(u.ignoreFinals)continue;throw new Error("cannot override final property '"+h+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(l.prototype,h,g)}else l.prototype[h]=a[h]}}function c(l,a){if(a){Array.isArray(a)||(a=[a]);for(var d=0;d<a.length;d++)v(l,a[d].prototype||a[d])}}function u(l){l||(l={});var a,d;if(l.initialize){if(typeof l.initialize!="function")throw new Error("initialize must be a function");a=l.initialize,delete l.initialize}else if(l.Extends){var p=l.Extends;a=function(){p.apply(this,arguments)}}else a=function(){};l.Extends?(a.prototype=Object.create(l.Extends.prototype),a.prototype.constructor=a,d=l.Extends,delete l.Extends):a.prototype.constructor=a;var h=null;return l.Mixins&&(h=l.Mixins,delete l.Mixins),c(a,h),v(a,l,!0,d),a}u.extend=v,u.mixin=c,u.ignoreFinals=!1,s.exports=u}),29747:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){};s.exports=y}),20242:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){return null};s.exports=y}),71146:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c,u){if(u===void 0&&(u=r),v>0){var l=v-r.length;if(l<=0)return null}if(!Array.isArray(o))return r.indexOf(o)===-1?(r.push(o),c&&c.call(u,o),o):null;for(var a=o.length-1;a>=0;)r.indexOf(o[a])!==-1&&o.splice(a,1),a--;if(a=o.length,a===0)return null;v>0&&a>l&&(o.splice(l),a=l);for(var d=0;d<a;d++){var p=o[d];r.push(p),c&&c.call(u,p)}return o};s.exports=y}),51067:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c,u,l){if(v===void 0&&(v=0),l===void 0&&(l=r),c>0){var a=c-r.length;if(a<=0)return null}if(!Array.isArray(o))return r.indexOf(o)===-1?(r.splice(v,0,o),u&&u.call(l,o),o):null;for(var d=o.length-1;d>=0;)r.indexOf(o[d])!==-1&&o.pop(),d--;if(d=o.length,d===0)return null;c>0&&d>a&&(o.splice(a),d=a);for(var p=d-1;p>=0;p--){var h=o[p];r.splice(v,0,h),u&&u.call(l,h)}return o};s.exports=y}),66905:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){var v=r.indexOf(o);return v!==-1&&v<r.length&&(r.splice(v,1),r.push(o)),o};s.exports=y}),21612:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(82011),v=function(c,u,l,a,d){a===void 0&&(a=0),d===void 0&&(d=c.length);var p=0;if(o(c,a,d))for(var h=a;h<d;h++){var g=c[h];g[u]===l&&p++}return p};s.exports=v}),95428:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){var c,u=[null];for(c=3;c<arguments.length;c++)u.push(arguments[c]);for(c=0;c<r.length;c++)u[0]=r[c],o.apply(v,u);return r};s.exports=y}),36914:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(82011),v=function(c,u,l,a,d){if(a===void 0&&(a=0),d===void 0&&(d=c.length),o(c,a,d)){var p,h=[null];for(p=5;p<arguments.length;p++)h.push(arguments[p]);for(p=a;p<d;p++)h[0]=c[p],u.apply(l,h)}return c};s.exports=v}),81957:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){if(o.length){if(o.length===1)return o[0]}else return NaN;var c=1,u,l;if(v){if(r<o[0][v])return o[0];for(;o[c][v]<r;)c++}else for(;o[c]<r;)c++;return c>o.length&&(c=o.length),v?(u=o[c-1][v],l=o[c][v],l-r<=r-u?o[c]:o[c-1]):(u=o[c-1],l=o[c],l-r<=r-u?l:u)};s.exports=y}),43491:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){o===void 0&&(o=[]);for(var v=0;v<r.length;v++)Array.isArray(r[v])?y(r[v],o):o.push(r[v]);return o};s.exports=y}),46710:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(82011),v=function(c,u,l,a,d){a===void 0&&(a=0),d===void 0&&(d=c.length);var p=[];if(o(c,a,d))for(var h=a;h<d;h++){var g=c[h];(!u||u&&l===void 0&&g.hasOwnProperty(u)||u&&l!==void 0&&g[u]===l)&&p.push(g)}return p};s.exports=v}),58731:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(82011),v=function(c,u,l,a,d){if(a===void 0&&(a=0),d===void 0&&(d=c.length),a!==-1){if(o(c,a,d))for(var p=a;p<d;p++){var h=c[p];if(!u||u&&l===void 0&&h.hasOwnProperty(u)||u&&l!==void 0&&h[u]===l)return h}}else if(o(c,0,d))for(var p=d;p>=0;p--){var h=c[p];if(!u||u&&l===void 0&&h.hasOwnProperty(u)||u&&l!==void 0&&h[u]===l)return h}return null};s.exports=v}),26546:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){o===void 0&&(o=0),v===void 0&&(v=r.length);var c=o+Math.floor(Math.random()*v);return r[c]===void 0?null:r[c]};s.exports=y}),85835:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){if(o===v)return r;var c=r.indexOf(o),u=r.indexOf(v);if(c<0||u<0)throw new Error("Supplied items must be elements of the same array");return c>u||(r.splice(c,1),u=r.indexOf(v),r.splice(u+1,0,o)),r};s.exports=y}),83371:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){if(o===v)return r;var c=r.indexOf(o),u=r.indexOf(v);if(c<0||u<0)throw new Error("Supplied items must be elements of the same array");return c<u||(r.splice(c,1),u===0?r.unshift(o):r.splice(u,0,o)),r};s.exports=y}),70864:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){var v=r.indexOf(o);if(v>0){var c=r[v-1],u=r.indexOf(c);r[v]=c,r[u]=o}return r};s.exports=y}),69693:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){var c=r.indexOf(o);if(c===-1||v<0||v>=r.length)throw new Error("Supplied index out of bounds");return c!==v&&(r.splice(c,1),r.splice(v,0,o)),o};s.exports=y}),40853:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){var v=r.indexOf(o);if(v!==-1&&v<r.length-1){var c=r[v+1],u=r.indexOf(c);r[v]=c,r[u]=o}return r};s.exports=y}),20283:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c){var u=[],l,a=!1;if((v||c)&&(a=!0,v||(v=""),c||(c="")),o<r)for(l=r;l>=o;l--)a?u.push(v+l.toString()+c):u.push(l);else for(l=r;l<=o;l++)a?u.push(v+l.toString()+c):u.push(l);return u};s.exports=y}),593:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2284),v=function(c,u,l){c===void 0&&(c=0),u===void 0&&(u=null),l===void 0&&(l=1),u===null&&(u=c,c=0);for(var a=[],d=Math.max(o((u-c)/(l||1)),0),p=0;p<d;p++)a.push(c),c+=l;return a};s.exports=v}),43886:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function y(v,c,u){var l=v[c];v[c]=v[u],v[u]=l}function r(v,c){return v<c?-1:v>c?1:0}var o=function(v,c,u,l,a){for(u===void 0&&(u=0),l===void 0&&(l=v.length-1),a===void 0&&(a=r);l>u;){if(l-u>600){var d=l-u+1,p=c-u+1,h=Math.log(d),g=.5*Math.exp(2*h/3),m=.5*Math.sqrt(h*g*(d-g)/d)*(p-d/2<0?-1:1),x=Math.max(u,Math.floor(c-p*g/d+m)),w=Math.min(l,Math.floor(c+(d-p)*g/d+m));o(v,c,x,w,a)}var C=v[c],E=u,T=l;for(y(v,u,c),a(v[l],C)>0&&y(v,u,l);E<T;){for(y(v,E,T),E++,T--;a(v[E],C)<0;)E++;for(;a(v[T],C)>0;)T--}a(v[u],C)===0?y(v,u,T):(T++,y(v,T,l)),T<=c&&(u=T+1),c<=T&&(l=T-1)}};s.exports=o}),88492:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35154),v=r(33680),c=function(l,a,d){for(var p=[],h=0;h<l.length;h++)for(var g=0;g<a.length;g++)for(var m=0;m<d;m++)p.push({a:l[h],b:a[g]});return p},u=function(l,a,d){var p=o(d,"max",0),h=o(d,"qty",1),g=o(d,"random",!1),m=o(d,"randomB",!1),x=o(d,"repeat",0),w=o(d,"yoyo",!1),C=[];if(m&&v(a),x===-1)if(p===0)x=0;else{var E=l.length*a.length*h;w&&(E*=2),x=Math.ceil(p/E)}for(var T=0;T<=x;T++){var S=c(l,a,h);g&&v(S),C=C.concat(S),w&&(S.reverse(),C=C.concat(S))}return p&&C.splice(p),C};s.exports=u}),72905:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(19133),v=function(c,u,l,a){a===void 0&&(a=c);var d;if(!Array.isArray(u))return d=c.indexOf(u),d!==-1?(o(c,d),l&&l.call(a,u),u):null;for(var p=u.length-1,h=[];p>=0;){var g=u[p];d=c.indexOf(g),d!==-1&&(o(c,d),h.push(g),l&&l.call(a,g)),p--}return h};s.exports=v}),60248:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(19133),v=function(c,u,l,a){if(a===void 0&&(a=c),u<0||u>c.length-1)throw new Error("Index out of bounds");var d=o(c,u);return l&&l.call(a,d),d};s.exports=v}),81409:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(82011),v=function(c,u,l,a,d){if(u===void 0&&(u=0),l===void 0&&(l=c.length),d===void 0&&(d=c),o(c,u,l)){var p=l-u,h=c.splice(u,p);if(a)for(var g=0;g<h.length;g++){var m=h[g];a.call(d,m)}return h}else return[]};s.exports=v}),31856:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(19133),v=function(c,u,l){u===void 0&&(u=0),l===void 0&&(l=c.length);var a=u+Math.floor(Math.random()*l);return o(c,a)};s.exports=v}),42169:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){var c=r.indexOf(o),u=r.indexOf(v);return c!==-1&&u===-1?(r[c]=v,!0):!1};s.exports=y}),86003:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){o===void 0&&(o=1);for(var v=null,c=0;c<o;c++)v=r.shift(),r.push(v);return v};s.exports=y}),49498:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){o===void 0&&(o=1);for(var v=null,c=0;c<o;c++)v=r.pop(),r.unshift(v);return v};s.exports=y}),82011:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c){var u=r.length;if(o<0||o>=u||o>=v||v>u){if(c)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};s.exports=y}),89545:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){var v=r.indexOf(o);return v!==-1&&v>0&&(r.splice(v,1),r.unshift(o)),o};s.exports=y}),17810:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(82011),v=function(c,u,l,a,d){if(a===void 0&&(a=0),d===void 0&&(d=c.length),o(c,a,d))for(var p=a;p<d;p++){var h=c[p];h.hasOwnProperty(u)&&(h[u]=l)}return c};s.exports=v}),33680:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){for(var o=r.length-1;o>0;o--){var v=Math.floor(Math.random()*(o+1)),c=r[o];r[o]=r[v],r[v]=c}return r};s.exports=y}),90126:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){var o=/\D/g;return r.sort(function(v,c){return parseInt(v.replace(o,""),10)-parseInt(c.replace(o,""),10)}),r};s.exports=y}),19133:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){if(!(o>=r.length)){for(var v=r.length-1,c=r[o],u=o;u<v;u++)r[u]=r[u+1];return r.length=v,c}};s.exports=y}),19186:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(82264);function v(a,d){return String(a).localeCompare(d)}function c(a,d){var p=a.length;if(p<=1)return a;for(var h=new Array(p),g=1;g<p;g*=2){u(a,d,g,h);var m=a;a=h,h=m}return a}function u(a,d,p,h){var g=a.length,m=0,x=p*2,w,C,E,T,S;for(w=0;w<g;w+=x)for(C=w+p,E=C+p,C>g&&(C=g),E>g&&(E=g),T=w,S=C;;)if(T<C&&S<E)d(a[T],a[S])<=0?h[m++]=a[T++]:h[m++]=a[S++];else if(T<C)h[m++]=a[T++];else if(S<E)h[m++]=a[S++];else break}var l=function(a,d){if(d===void 0&&(d=v),!a||a.length<2)return a;if(o.features.stableSort)return a.sort(d);var p=c(a,d);return p!==a&&u(p,null,a.length,a),a};s.exports=l}),25630:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){if(o===v)return r;var c=r.indexOf(o),u=r.indexOf(v);if(c<0||u<0)throw new Error("Supplied items must be elements of the same array");return r[c]=v,r[u]=o,r};s.exports=y}),37105:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Matrix:r(54915),Add:r(71146),AddAt:r(51067),BringToTop:r(66905),CountAllMatching:r(21612),Each:r(95428),EachInRange:r(36914),FindClosestInSorted:r(81957),Flatten:r(43491),GetAll:r(46710),GetFirst:r(58731),GetRandom:r(26546),MoveDown:r(70864),MoveTo:r(69693),MoveUp:r(40853),MoveAbove:r(85835),MoveBelow:r(83371),NumberArray:r(20283),NumberArrayStep:r(593),QuickSelect:r(43886),Range:r(88492),Remove:r(72905),RemoveAt:r(60248),RemoveBetween:r(81409),RemoveRandomElement:r(31856),Replace:r(42169),RotateLeft:r(86003),RotateRight:r(49498),SafeRange:r(82011),SendToBack:r(89545),SetAll:r(17810),Shuffle:r(33680),SortByDigits:r(90126),SpliceOne:r(19133),StableSort:r(19186),Swap:r(25630)}}),86922:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){if(!Array.isArray(r)||!Array.isArray(r[0]))return!1;for(var o=r[0].length,v=1;v<r.length;v++)if(r[v].length!==o)return!1;return!0};s.exports=y}),63362:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(41836),v=r(86922),c=function(u){var l="";if(!v(u))return l;for(var a=0;a<u.length;a++){for(var d=0;d<u[a].length;d++){var p=u[a][d].toString();p!=="undefined"?l+=o(p,2):l+="?",d<u[a].length-1&&(l+=" |")}if(a<u.length-1){l+=`
`;for(var h=0;h<u[a].length;h++)l+="---",h<u[a].length-1&&(l+="+");l+=`
`}}return l};s.exports=c}),92598:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r.reverse()};s.exports=y}),21224:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){for(var o=0;o<r.length;o++)r[o].reverse();return r};s.exports=y}),98717:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37829),v=function(c){return o(c,180)};s.exports=v}),44657:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37829),v=function(c,u){u===void 0&&(u=1);for(var l=0;l<u;l++)c=o(c,90);return c};s.exports=v}),37829:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(86922),v=r(2429),c=function(u,l){if(l===void 0&&(l=90),!o(u))return null;if(typeof l!="string"&&(l=(l%360+360)%360),l===90||l===-270||l==="rotateLeft")u=v(u),u.reverse();else if(l===-90||l===270||l==="rotateRight")u.reverse(),u=v(u);else if(Math.abs(l)===180||l==="rotate180"){for(var a=0;a<u.length;a++)u[a].reverse();u.reverse()}return u};s.exports=c}),92632:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37829),v=function(c,u){u===void 0&&(u=1);for(var l=0;l<u;l++)c=o(c,-90);return c};s.exports=v}),69512:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(86003),v=r(49498),c=function(u,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),a!==0&&(a<0?o(u,Math.abs(a)):v(u,a)),l!==0)for(var d=0;d<u.length;d++){var p=u[d];l<0?o(p,Math.abs(l)):v(p,l)}return u};s.exports=c}),2429:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){for(var o=r.length,v=r[0].length,c=new Array(v),u=0;u<v;u++){c[u]=new Array(o);for(var l=o-1;l>-1;l--)c[u][l]=r[l][u]}return c};s.exports=y}),54915:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={CheckMatrix:r(86922),MatrixToString:r(63362),ReverseColumns:r(92598),ReverseRows:r(21224),Rotate180:r(98717),RotateLeft:r(44657),RotateMatrix:r(37829),RotateRight:r(92632),Translate:r(69512),TransposeMatrix:r(2429)}}),71334:(s=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=function(o,v){for(var c=new Uint8Array(o),u=c.length,l=v?"data:"+v+";base64,":"",a=0;a<u;a+=3)l+=y[c[a]>>2],l+=y[(c[a]&3)<<4|c[a+1]>>4],l+=y[(c[a+1]&15)<<2|c[a+2]>>6],l+=y[c[a+2]&63];return u%3===2?l=l.substring(0,l.length-1)+"=":u%3===1&&(l=l.substring(0,l.length-2)+"=="),l};s.exports=r}),53134:(s=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Uint8Array(256),o=0;o<y.length;o++)r[y.charCodeAt(o)]=o;var v=function(c){c=c.substr(c.indexOf(",")+1);var u=c.length,l=u*.75,a=0,d,p,h,g;c[u-1]==="="&&(l--,c[u-2]==="="&&l--);for(var m=new ArrayBuffer(l),x=new Uint8Array(m),w=0;w<u;w+=4)d=r[c.charCodeAt(w)],p=r[c.charCodeAt(w+1)],h=r[c.charCodeAt(w+2)],g=r[c.charCodeAt(w+3)],x[a++]=d<<2|p>>4,x[a++]=(p&15)<<4|h>>2,x[a++]=(h&3)<<6|g&63;return m};s.exports=v}),65839:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={ArrayBufferToBase64:r(71334),Base64ToArrayBuffer:r(53134)}}),91799:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Array:r(37105),Base64:r(65839),Objects:r(1183),String:r(31749),NOOP:r(29747),NULL:r(20242)}}),41786:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){var o={};for(var v in r)Array.isArray(r[v])?o[v]=r[v].slice(0):o[v]=r[v];return o};s.exports=y}),62644:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){var o,v,c;if(typeof r!="object"||r===null)return r;o=Array.isArray(r)?[]:{};for(c in r)v=r[c],o[c]=y(v);return o};s.exports=y}),79291:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(41212),v=function(){var c,u,l,a,d,p,h=arguments[0]||{},g=1,m=arguments.length,x=!1;for(typeof h=="boolean"&&(x=h,h=arguments[1]||{},g=2),m===g&&(h=this,--g);g<m;g++)if((c=arguments[g])!=null)for(u in c)l=h[u],a=c[u],h!==a&&(x&&a&&(o(a)||(d=Array.isArray(a)))?(d?(d=!1,p=l&&Array.isArray(l)?l:[]):p=l&&o(l)?l:{},h[u]=v(x,p,a)):a!==void 0&&(h[u]=a));return h};s.exports=v}),23568:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(75508),v=r(35154),c=function(u,l,a){var d=v(u,l,null);if(d===null)return a;if(Array.isArray(d))return o.RND.pick(d);if(typeof d=="object"){if(d.hasOwnProperty("randInt"))return o.RND.integerInRange(d.randInt[0],d.randInt[1]);if(d.hasOwnProperty("randFloat"))return o.RND.realInRange(d.randFloat[0],d.randFloat[1])}else if(typeof d=="function")return d(l);return d};s.exports=c}),95540:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){var c=typeof r;return!r||c==="number"||c==="string"?v:r.hasOwnProperty(o)&&r[o]!==void 0?r[o]:v};s.exports=y}),82840:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35154),v=r(45319),c=function(u,l,a,d,p){p===void 0&&(p=a);var h=o(u,l,p);return v(h,a,d)};s.exports=c}),35154:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c){if(!r&&!c||typeof r=="number")return v;if(r&&r.hasOwnProperty(o))return r[o];if(c&&c.hasOwnProperty(o))return c[o];if(o.indexOf(".")!==-1){for(var u=o.split("."),l=r,a=c,d=v,p=v,h=!0,g=!0,m=0;m<u.length;m++)l&&l.hasOwnProperty(u[m])?(d=l[u[m]],l=l[u[m]]):h=!1,a&&a.hasOwnProperty(u[m])?(p=a[u[m]],a=a[u[m]]):g=!1;return h?d:g?p:v}else return v};s.exports=y}),69036:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){for(var v=0;v<o.length;v++)if(!r.hasOwnProperty(o[v]))return!1;return!0};s.exports=y}),1985:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){for(var v=0;v<o.length;v++)if(r.hasOwnProperty(o[v]))return!0;return!1};s.exports=y}),97022:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return r.hasOwnProperty(o)};s.exports=y}),41212:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){if(!r||typeof r!="object"||r.nodeType||r===r.window)return!1;try{if(r.constructor&&!{}.hasOwnProperty.call(r.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};s.exports=y}),46975:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(41786),v=function(c,u){var l=o(c);for(var a in u)l.hasOwnProperty(a)||(l[a]=u[a]);return l};s.exports=v}),269:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(41786),v=function(c,u){var l=o(c);for(var a in u)l.hasOwnProperty(a)&&(l[a]=u[a]);return l};s.exports=v}),18254:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(97022),v=function(c,u){for(var l={},a=0;a<u.length;a++){var d=u[a];o(c,d)&&(l[d]=c[d])}return l};s.exports=v}),61622:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v){if(!r||typeof r=="number")return!1;if(r.hasOwnProperty(o))return r[o]=v,!0;if(o.indexOf(".")!==-1){for(var c=o.split("."),u=r,l=r,a=0;a<c.length;a++)if(u.hasOwnProperty(c[a]))l=u,u=u[c[a]];else return!1;return l[c[c.length-1]]=v,!0}return!1};s.exports=y}),1183:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Clone:r(41786),DeepCopy:r(62644),Extend:r(79291),GetAdvancedValue:r(23568),GetFastValue:r(95540),GetMinMaxValue:r(82840),GetValue:r(35154),HasAll:r(69036),HasAny:r(1985),HasValue:r(97022),IsPlainObject:r(41212),Merge:r(46975),MergeRight:r(269),Pick:r(18254),SetValue:r(61622)}}),27902:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return r.replace(/%([0-9]+)/g,function(v,c){return o[Number(c)-1]})};s.exports=y}),41836:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o,v,c){o===void 0&&(o=0),v===void 0&&(v=" "),c===void 0&&(c=3),r=r.toString();var u=0;if(o+1>=r.length)switch(c){case 1:r=new Array(o+1-r.length).join(v)+r;break;case 3:var l=Math.ceil((u=o-r.length)/2),a=u-l;r=new Array(a+1).join(v)+r+new Array(l+1).join(v);break;default:r=r+new Array(o+1-r.length).join(v);break}return r};s.exports=y}),33628:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r,o){return o===0?r.slice(1):r.slice(0,o)+r.slice(o+1)};s.exports=y}),27671:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r.split("").reverse().join("")};s.exports=y}),45650:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){var o=Math.random()*16|0,v=r==="x"?o:o&3|8;return v.toString(16)})};s.exports=y}),35355:(s=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var y=function(r){return r&&r[0].toUpperCase()+r.slice(1)};s.exports=y}),31749:((s,y,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s.exports={Format:r(27902),Pad:r(41836),RemoveAt:r(33628),Reverse:r(27671),UppercaseFirst:r(35355),UUID:r(45650)}})},i={};function f(s){var y=i[s];if(y!==void 0)return y.exports;var r=i[s]={exports:{}};return n[s](r,r.exports,f),r.exports}f.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})();var b=f(85454);return b})())})(v2)),v2.exports}var BWe=kWe();const ky=co(BWe);class UWe extends Phaser.Scene{constructor(){super("MenuScene")}create(){const e=this.scale.width,n=this.scale.height,i=Xo.getCurrentUser();if(!i){window.location.reload();return}this.add.rectangle(e/2,n/2,e,n,1048619),this.add.text(e/2,n*.2,"DEGEN MILITIA",{fontSize:"48px",fill:"#9D4EDD",fontStyle:"bold",stroke:"#7B2CBF",strokeThickness:5}).setOrigin(.5),this.add.text(e/2,n*.32,"Mobile Multiplayer Shooter",{fontSize:"18px",fill:"#00F5FF"}).setOrigin(.5);const f=n*.5,b=200,s=180,y=55;this.createButton(e/2-b,f,s,y,"CREATE GAME",10309341,()=>{this.scene.start("CreateRoomScene")}),this.createButton(e/2,f,s,y,"JOIN GAME",62975,()=>{this.scene.start("JoinRoomScene")}),this.createButton(e/2+b,f,s,y," PROFILE",16766720,()=>{this.scene.start("ProfileScene")});const r=60,o=80,v=this.add.graphics();v.fillStyle(10309341,.1),v.fillRoundedRect(e-250-o,r,230,50,8),v.lineStyle(1.5,10309341,.3),v.strokeRoundedRect(e-250-o,r,230,50,8),this.add.text(e-240-o,r+10,i.username,{fontSize:"18px",fill:"#9D4EDD",fontStyle:"bold"});const c=i.wallet_address?`${i.wallet_address.slice(0,6)}...${i.wallet_address.slice(-4)}`:"Guest";this.add.text(e-240-o,r+28,c,{fontSize:"12px",fill:"#888888"}),this.add.text(e-40-o,r+25,"",{fontSize:"20px"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerup",()=>{Xo.logout(),window.location.reload()}),this.add.text(e/2,n-30,"v1.0.0",{fontSize:"14px",fill:"#666666"}).setOrigin(.5)}createButton(e,n,i,f,b,s,y){const r=this.add.graphics();r.fillStyle(s,.1),r.fillRoundedRect(e-i/2,n-f/2,i,f,12),r.lineStyle(2,s,.3),r.strokeRoundedRect(e-i/2,n-f/2,i,f,12);const o=this.add.rectangle(e,n,i-4,f-4,657930,.5);o.setInteractive({useHandCursor:!0});const v=this.add.rectangle(e,n,i-16,f-16,s,.08),c=this.add.text(e,n,b,{fontSize:"22px",fill:"#FFFFFF",fontStyle:"bold"}).setOrigin(.5);o.on("pointerover",()=>{o.setFillStyle(s,.3),v.setAlpha(.15),c.setScale(1.05)}),o.on("pointerout",()=>{o.setFillStyle(657930,.5),v.setAlpha(.08),c.setScale(1)}),o.on("pointerdown",()=>{o.setFillStyle(s,.5),v.setAlpha(.2),c.setScale(.95)}),o.on("pointerup",()=>{o.setFillStyle(657930,.5),v.setAlpha(.08),c.setScale(1),y()})}}const Is=LZ();class jWe{async getUserStats(e){try{const{data:n,error:i}=await Is.from("player_stats").select("*").eq("player_id",e).single();if(i&&i.code==="PGRST116")return await this.createDefaultStats(e);if(i)throw i;return n}catch(n){return console.error("Get stats error:",n),null}}async createDefaultStats(e){const n={player_id:e,total_kills:0,total_deaths:0,games_played:0,games_won:0,total_playtime_seconds:0,highest_killstreak:0,level:1,experience:0};try{const{data:i,error:f}=await Is.from("player_stats").insert([n]).select().single();if(f)throw f;return i}catch(i){return console.error("Create stats error:",i),n}}async recordKill(e,n=1){if(e)try{const i=await this.getUserStats(e),{error:f}=await Is.from("player_stats").update({total_kills:(i.total_kills||0)+n,highest_killstreak:Math.max(i.highest_killstreak||0,n),experience:(i.experience||0)+n*10}).eq("player_id",e);if(f)throw f;await this.checkLevelUp(e)}catch(i){console.error("Record kill error:",i)}}async recordDeath(e){if(e)try{const{error:n}=await Is.from("player_stats").update({total_deaths:Is.raw("total_deaths + 1")}).eq("player_id",e);if(n)throw n}catch(n){console.error("Record death error:",n)}}async recordGameCompleted(e,n=!1,i=0){if(e)try{const f={games_played:Is.raw("games_played + 1"),total_playtime_seconds:Is.raw(`total_playtime_seconds + ${i}`)};n&&(f.games_won=Is.raw("games_won + 1"),f.experience=Is.raw("experience + 50"));const{error:b}=await Is.from("player_stats").update(f).eq("player_id",e);if(b)throw b;await this.checkLevelUp(e)}catch(f){console.error("Record game error:",f)}}async checkLevelUp(e){try{const n=await this.getUserStats(e),i=n.level||1,f=n.experience||0,b=i*100;if(f>=b){const s=Math.floor(f/100)+1;return await Is.from("player_stats").update({level:s}).eq("player_id",e),{leveledUp:!0,newLevel:s}}return{leveledUp:!1}}catch(n){return console.error("Level check error:",n),{leveledUp:!1}}}async getLeaderboard(e=10,n="total_kills"){try{const{data:i,error:f}=await Is.from("player_stats").select(`
          *,
          players:player_id (username, wallet_address)
        `).order(n,{ascending:!1}).limit(e);if(f)throw f;return i}catch(i){return console.error("Get leaderboard error:",i),[]}}async getUserRank(e,n="total_kills"){try{const{data:i,error:f}=await Is.from("player_stats").select("player_id, "+n).order(n,{ascending:!1});if(f)throw f;return i.findIndex(s=>s.player_id===e)+1||null}catch(i){return console.error("Get rank error:",i),null}}}const DZ=new jWe;class zWe extends Phaser.Scene{constructor(){super("ProfileScene")}async create(){const e=this.scale.width,n=this.scale.height;this.add.rectangle(e/2,n/2,e,n,1048619);const i=50;this.add.text(e/2,i,"PLAYER PROFILE",{fontSize:"32px",fill:"#9D4EDD",fontStyle:"bold",stroke:"#7B2CBF",strokeThickness:3}).setOrigin(.5);const f=Xo.getCurrentUser();if(!f){this.add.text(e/2,n/2,"No user logged in",{fontSize:"20px",fill:"#FF4444"}).setOrigin(.5),this.createBackButton(e,n);return}const b=e*.27,s=n*.38,y=340,r=190,o=this.add.graphics();o.fillStyle(10309341,.1),o.fillRoundedRect(b-y/2,s-r/2,y,r,16),o.lineStyle(2,10309341,.4),o.strokeRoundedRect(b-y/2,s-r/2,y,r,16),this.add.text(b-150,s-50,"",{fontSize:"60px"});const v=this.add.text(b-80,s-50,f.username,{fontSize:"24px",fill:"#9D4EDD",fontStyle:"bold"}),c=this.add.text(b+130,s-50,"",{fontSize:"20px"}).setInteractive({useHandCursor:!0});c.on("pointerdown",()=>{this.editUsername(f,v)}),c.on("pointerover",()=>{c.setScale(1.2)}),c.on("pointerout",()=>{c.setScale(1)});const u=f.wallet_address?`${f.wallet_address.slice(0,8)}...${f.wallet_address.slice(-6)}`:"No wallet connected";this.add.text(b-80,s-20,u,{fontSize:"14px",fill:"#888888"}),(!f.wallet_address||f.is_local)&&this.createSmallButton(b,s+30,200,35," Connect Wallet",62975,()=>{this.connectWallet(f)});const l=f.is_local?"LOCAL":f.is_guest?"GUEST":"VERIFIED",a=f.is_local?16766720:f.is_guest?8947848:65280,d=f.wallet_address&&!f.is_local?s+30:s+70,p=this.add.graphics();p.fillStyle(a,.2),p.fillRoundedRect(b-80,d,90,25,8),p.lineStyle(1.5,a,.5),p.strokeRoundedRect(b-80,d,90,25,8),this.add.text(b-35,d+12,l,{fontSize:"12px",fill:a===16766720?"#FFD700":a===8947848?"#888888":"#00FF00",fontStyle:"bold"}).setOrigin(.5);const h=e*.7,g=i+60;this.add.text(h,g,"STATISTICS",{fontSize:"22px",fill:"#00F5FF",fontStyle:"bold"}).setOrigin(.5);const m=this.add.text(h,g+40,"Loading stats...",{fontSize:"14px",fill:"#888888"}).setOrigin(.5);if(!f.is_local&&!f.is_guest)try{const E=await DZ.getUserStats(f.id);m.destroy(),E?this.displayStats(h,g+40,E):m.setText("No stats yet - Play some games!")}catch(E){console.error("Error loading stats:",E),m.setText("Stats unavailable")}else m.setText(`Stats not saved (local account)
Connect with X to track your progress!`);const w=n-60,C=250;this.createButton(e/2-C,w,180,45,"BACK",62975,()=>{this.scene.start("MenuScene")}),this.createButton(e/2+C,w,150,45,"LOGOUT",16729156,()=>{Xo.logout(),window.location.reload()})}editUsername(e,n){const i=prompt("Enter new username:",e.username);i&&i.trim()&&i!==e.username&&Xo.updateProfile({username:i.trim()}).then(f=>{n.setText(f.username),alert("Username updated!")}).catch(f=>{console.error("Error updating username:",f),alert("Failed to update username")})}async connectWallet(e){try{const n=window.ethereum;if(!n){alert(`No Web3 wallet found!

Please install MetaMask or use Privy login instead.`);return}const i=await n.request({method:"eth_requestAccounts"});if(!i||i.length===0){alert("No accounts found. Please unlock your wallet.");return}const f=i[0];await Xo.updateProfile({wallet_address:f}),alert("Wallet connected successfully!"),this.scene.restart()}catch(n){console.error("Error connecting wallet:",n),n.code===4001?alert("Connection rejected. Please approve the connection request."):n.code===-32002?alert("A connection request is already pending. Please check your wallet."):alert("Failed to connect wallet. Please try using Privy login instead.")}}createSmallButton(e,n,i,f,b,s,y){const r=this.add.graphics();r.fillStyle(s,.2),r.fillRoundedRect(e-i/2,n-f/2,i,f,8),r.lineStyle(1.5,s,.4),r.strokeRoundedRect(e-i/2,n-f/2,i,f,8),r.setInteractive(new Phaser.Geom.Rectangle(e-i/2,n-f/2,i,f),Phaser.Geom.Rectangle.Contains);const o=this.add.text(e,n,b,{fontSize:"14px",fill:"#FFFFFF",fontStyle:"bold"}).setOrigin(.5);r.on("pointerdown",y),r.on("pointerover",()=>{r.clear(),r.fillStyle(s,.4),r.fillRoundedRect(e-i/2,n-f/2,i,f,8),r.lineStyle(1.5,s,.6),r.strokeRoundedRect(e-i/2,n-f/2,i,f,8),o.setScale(1.05)}),r.on("pointerout",()=>{r.clear(),r.fillStyle(s,.2),r.fillRoundedRect(e-i/2,n-f/2,i,f,8),r.lineStyle(1.5,s,.4),r.strokeRoundedRect(e-i/2,n-f/2,i,f,8),o.setScale(1)})}displayStats(e,n,i){const f=[{label:" Total Kills",value:i.total_kills||0},{label:" Total Deaths",value:i.total_deaths||0},{label:" Games Played",value:i.games_played||0},{label:" Games Won",value:i.games_won||0},{label:" Best Streak",value:i.highest_killstreak||0},{label:" Level",value:i.level||1},{label:" Experience",value:i.experience||0}],b=i.total_deaths>0?(i.total_kills/i.total_deaths).toFixed(2):i.total_kills,s=i.games_played>0?(i.games_won/i.games_played*100).toFixed(1):0;f.push({label:" K/D Ratio",value:b},{label:" Win Rate",value:`${s}%`});const y=3,r=135,o=60,v=18,c=18,u=r*y+v*(y-1),l=e-u/2;f.forEach((a,d)=>{const p=d%y,h=Math.floor(d/y),g=l+p*(r+v),m=n+h*(o+c),x=this.add.graphics();x.fillStyle(1710618,.6),x.fillRoundedRect(g,m,r,o,10),x.lineStyle(1.5,62975,.3),x.strokeRoundedRect(g,m,r,o,10),this.add.text(g+r/2,m+16,a.label,{fontSize:"11px",fill:"#888888"}).setOrigin(.5),this.add.text(g+r/2,m+38,a.value.toString(),{fontSize:"18px",fill:"#00F5FF",fontStyle:"bold"}).setOrigin(.5)})}createButton(e,n,i,f,b,s,y){const r=this.add.graphics();r.fillStyle(s,.1),r.fillRoundedRect(e-i/2,n-f/2,i,f,12),r.lineStyle(2,s,.3),r.strokeRoundedRect(e-i/2,n-f/2,i,f,12);const o=this.add.rectangle(e,n,i-4,f-4,657930,.5);o.setInteractive({useHandCursor:!0});const v=this.add.rectangle(e,n,i-16,f-16,s,.08),c=this.add.text(e,n,b,{fontSize:"20px",fill:"#FFFFFF",fontStyle:"bold"}).setOrigin(.5);o.on("pointerover",()=>{o.setFillStyle(s,.3),v.setAlpha(.15),c.setScale(1.05)}),o.on("pointerout",()=>{o.setFillStyle(657930,.5),v.setAlpha(.08),c.setScale(1)}),o.on("pointerdown",()=>{o.setFillStyle(s,.5),c.setScale(.95)}),o.on("pointerup",()=>{o.setFillStyle(657930,.5),c.setScale(1),y()})}}class WWe extends Phaser.Scene{constructor(){super("CreateRoomScene")}create(){const e=this.scale.width,n=this.scale.height;this.add.rectangle(e/2,n/2,e,n,1048619),this.add.text(e/2,n*.15,"CREATE GAME",{fontSize:"48px",fill:"#9D4EDD",fontStyle:"bold"}).setOrigin(.5);const i=this.generateRoomCode();this.registry.set("roomCode",i);const f=this.add.graphics();f.fillStyle(10309341,.1),f.fillRoundedRect(e/2-200,n*.35-60,400,120,16),f.lineStyle(2,10309341,.4),f.strokeRoundedRect(e/2-200,n*.35-60,400,120,16),this.add.rectangle(e/2,n*.35,390,110,657930,.5),this.add.text(e/2,n*.3,"ROOM CODE",{fontSize:"16px",fill:"#9D4EDD",fontStyle:"bold",alpha:.7}).setOrigin(.5),this.add.text(e/2,n*.38,i,{fontSize:"52px",fill:"#00F5FF",fontStyle:"bold",letterSpacing:10,stroke:"#240046",strokeThickness:3}).setOrigin(.5),this.add.text(e/2,n*.5,"Share this code with friends!",{fontSize:"20px",fill:"#FFFFFF"}).setOrigin(.5),this.playersText=this.add.text(e/2,n*.6,"Waiting for players... (1/8)",{fontSize:"18px",fill:"#00F5FF"}).setOrigin(.5);const b=this.add.graphics();b.fillStyle(4473924,.1),b.fillRoundedRect(e/2-150,n*.75-30,300,60,12),b.lineStyle(2,4473924,.3),b.strokeRoundedRect(e/2-150,n*.75-30,300,60,12),this.startButton=this.add.rectangle(e/2,n*.75,290,50,657930,.5),this.startButton.setInteractive({useHandCursor:!0}),this.startButtonLabel=this.add.text(e/2,n*.75,"START GAME",{fontSize:"22px",fill:"#666666",fontStyle:"bold"}).setOrigin(.5),this.startBtnGlass=b,this.startButton.on("pointerup",()=>{this.canStart&&this.scene.start("GameScene",{roomCode:i,isHost:!0})}),this.createBackButton(e,n),this.canStart=!1,this.playerCount=1,this.time.delayedCall(2e3,()=>{this.enableStartButton()})}generateRoomCode(){const e="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let n="";for(let i=0;i<6;i++)n+=e.charAt(Math.floor(Math.random()*e.length));return n}enableStartButton(){this.canStart=!0,this.startButton.setFillStyle(10309341,.4),this.startButtonLabel.setColor("#FFFFFF");const e=this.scale.width,n=this.scale.height;this.startBtnGlass.clear(),this.startBtnGlass.fillStyle(10309341,.15),this.startBtnGlass.fillRoundedRect(e/2-150,n*.75-30,300,60,12),this.startBtnGlass.lineStyle(2,10309341,.5),this.startBtnGlass.strokeRoundedRect(e/2-150,n*.75-30,300,60,12),this.tweens.add({targets:this.startButton,scaleX:1.03,scaleY:1.03,duration:700,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"})}createBackButton(e,n){const b=this.add.text(60,60," BACK",{fontSize:"20px",fill:"#888888"}).setInteractive({useHandCursor:!0});b.on("pointerover",()=>b.setColor("#FFFFFF")),b.on("pointerout",()=>b.setColor("#888888")),b.on("pointerup",()=>this.scene.start("MenuScene"))}}class GWe extends Phaser.Scene{constructor(){super("JoinRoomScene"),this.enteredCode=""}create(){const e=this.scale.width,n=this.scale.height;this.add.rectangle(e/2,n/2,e,n,1048619),this.add.text(e/2,n*.15,"JOIN GAME",{fontSize:"48px",fill:"#00F5FF",fontStyle:"bold"}).setOrigin(.5),this.add.text(e/2,n*.3,"Enter Room Code",{fontSize:"20px",fill:"#FFFFFF"}).setOrigin(.5);const i=this.add.graphics();i.fillStyle(62975,.1),i.fillRoundedRect(e/2-225,n*.45-50,450,100,16),i.lineStyle(2,62975,.4),i.strokeRoundedRect(e/2-225,n*.45-50,450,100,16),this.codeBox=this.add.rectangle(e/2,n*.45,440,90,657930,.5),this.codeText=this.add.text(e/2,n*.45,"______",{fontSize:"48px",fill:"#00F5FF",fontStyle:"bold",letterSpacing:18,stroke:"#240046",strokeThickness:2}).setOrigin(.5),this.errorText=this.add.text(e/2,n*.55,"",{fontSize:"16px",fill:"#FF4444"}).setOrigin(.5),this.createKeyboard(e,n),this.joinBtnGlass=this.add.graphics(),this.joinBtnGlass.fillStyle(4473924,.1),this.joinBtnGlass.fillRoundedRect(e/2-150,n*.85-30,300,60,12),this.joinBtnGlass.lineStyle(2,4473924,.3),this.joinBtnGlass.strokeRoundedRect(e/2-150,n*.85-30,300,60,12),this.joinButton=this.add.rectangle(e/2,n*.85,290,50,657930,.5),this.joinButton.setInteractive({useHandCursor:!0}),this.joinButtonLabel=this.add.text(e/2,n*.85,"JOIN GAME",{fontSize:"22px",fill:"#666666",fontStyle:"bold"}).setOrigin(.5),this.joinButton.on("pointerup",()=>{this.enteredCode.length===6&&this.joinGame()}),this.createBackButton(),this.input.keyboard.on("keydown",f=>{this.handleKeyPress(f.key.toUpperCase())})}createKeyboard(e,n){const i=[["Q","W","E","R","T","Y","U","P"],["A","S","D","F","G","H","J","K"],["Z","X","C","V","B","N","M",""]],f=n*.62,b=45,s=8;i.forEach((y,r)=>{const o=y.length*(b+s),v=(e-o)/2;y.forEach((c,u)=>{const l=v+u*(b+s)+b/2,a=f+r*(b+s),d=this.add.graphics();d.fillStyle(6710886,.1),d.fillRoundedRect(l-b/2,a-b/2,b,b,6),d.lineStyle(1,6710886,.2),d.strokeRoundedRect(l-b/2,a-b/2,b,b,6);const p=this.add.rectangle(l,a,b-2,b-2,657930,.5);p.setInteractive({useHandCursor:!0});const h=this.add.text(l,a,c,{fontSize:c===""?"24px":"18px",fill:"#FFFFFF",fontStyle:"bold"}).setOrigin(.5);p.on("pointerdown",()=>{p.setFillStyle(6710886,.6),h.setScale(.9),this.handleKeyPress(c)}),p.on("pointerup",()=>{p.setFillStyle(657930,.5),h.setScale(1)}),p.on("pointerover",()=>{p.setFillStyle(4473924,.5)}),p.on("pointerout",()=>{p.setFillStyle(657930,.5)})})})}handleKeyPress(e){e===""||e==="BACKSPACE"?this.enteredCode=this.enteredCode.slice(0,-1):this.enteredCode.length<6&&/^[A-Z0-9]$/.test(e)&&(this.enteredCode+=e);const n=this.enteredCode.padEnd(6,"_");this.codeText.setText(n.split("").join(" "));const i=this.scale.width,f=this.scale.height;this.enteredCode.length===6?(this.joinButton.setFillStyle(62975,.4),this.joinButtonLabel.setColor("#FFFFFF"),this.joinBtnGlass.clear(),this.joinBtnGlass.fillStyle(62975,.15),this.joinBtnGlass.fillRoundedRect(i/2-150,f*.85-30,300,60,12),this.joinBtnGlass.lineStyle(2,62975,.5),this.joinBtnGlass.strokeRoundedRect(i/2-150,f*.85-30,300,60,12)):(this.joinButton.setFillStyle(657930,.5),this.joinButtonLabel.setColor("#666666"),this.joinBtnGlass.clear(),this.joinBtnGlass.fillStyle(4473924,.1),this.joinBtnGlass.fillRoundedRect(i/2-150,f*.85-30,300,60,12),this.joinBtnGlass.lineStyle(2,4473924,.3),this.joinBtnGlass.strokeRoundedRect(i/2-150,f*.85-30,300,60,12)),this.errorText.setText("")}joinGame(){const e=this.enteredCode;this.errorText.setText("Joining room..."),this.errorText.setColor("#00F5FF"),this.time.delayedCall(1e3,()=>{this.scene.start("GameScene",{roomCode:e,isHost:!1})})}createBackButton(){const i=this.add.text(60,60," BACK",{fontSize:"20px",fill:"#888888"}).setInteractive({useHandCursor:!0});i.on("pointerover",()=>i.setColor("#FFFFFF")),i.on("pointerout",()=>i.setColor("#888888")),i.on("pointerup",()=>this.scene.start("MenuScene"))}}class VWe{constructor(e){this.scene=e,this.leftJoystick=null,this.rightJoystick=null,this.jetpackButton=null,this.input={moveX:0,moveY:0,moving:!1,shootAngle:0,shooting:!1,aimX:0,aimY:0,jetpack:!1},this.createControls()}createControls(){const e=this.scene.width||this.scene.scale.width,n=this.scene.height||this.scene.scale.height;this.createMovementJoystick(70,n-70),this.createShootingJoystick(e-70,n-70)}createMovementJoystick(e,n){const b=this.scene.add.graphics();b.setScrollFactor(0),b.setDepth(998),b.fillStyle(62975,.05),b.fillCircle(e,n,56),b.lineStyle(1,62975,.2),b.strokeCircle(e,n,56);const s=this.scene.add.circle(e,n,50,657930,.25);s.setScrollFactor(0),s.setDepth(999);const y=this.scene.add.circle(e,n,50,0,0);y.setStrokeStyle(1.5,62975,.3),y.setScrollFactor(0),y.setDepth(999);const r=this.scene.add.circle(e,n,44,62975,.03);r.setScrollFactor(0),r.setDepth(999);const o=this.scene.add.circle(e,n,2,62975,.25);o.setScrollFactor(0),o.setDepth(1e3);const v=this.scene.add.circle(e+1,n+1,20,0,.2);v.setScrollFactor(0),v.setDepth(1e3);const c=this.scene.add.circle(e,n,20,62975,.75);c.setScrollFactor(0),c.setDepth(1001);const u=this.scene.add.circle(e-5,n-5,7,16777215,.2);u.setScrollFactor(0),u.setDepth(1002);const l=this.scene.add.graphics();l.lineStyle(.5,62975,.1),l.setScrollFactor(0),l.setDepth(999),l.lineBetween(e-6,n,e+6,n),l.lineBetween(e,n-6,e,n+6);let a=null,d=!1;const p=(h,g)=>Phaser.Math.Distance.Between(h,g,e,n)<70;this.scene.input.on("pointerdown",h=>{!d&&p(h.x,h.y)&&(a=h,d=!0,c.setFillStyle(65535,1),c.setScale(1.1))}),this.scene.input.on("pointermove",h=>{if(!d||h.id!==a?.id)return;const g=Phaser.Math.Angle.Between(e,n,h.x,h.y),m=Math.min(Phaser.Math.Distance.Between(h.x,h.y,e,n),25);c.x=e+Math.cos(g)*m,c.y=n+Math.sin(g)*m,v.x=c.x+1,v.y=c.y+1,u.x=c.x-5,u.y=c.y-5;const x=m/25;this.input.moveX=Math.cos(g)*x,this.input.moveY=Math.sin(g)*x,this.input.moving=x>.12;const w=Phaser.Math.RadToDeg(g),C=w<-45&&w>-135;this.input.jetpack=C&&x>.3}),this.scene.input.on("pointerup",h=>{h.id===a?.id&&(d=!1,a=null,c.x=e,c.y=n,v.x=e+1,v.y=n+1,u.x=e-5,u.y=n-5,c.setFillStyle(62975,.75),c.setScale(1),this.input.moveX=0,this.input.moveY=0,this.input.moving=!1,this.input.jetpack=!1)}),this.leftJoystick={glassContainer:b,innerGlass:s,border:y,innerGlow:r,centerDot:o,stick:c,stickShadow:v,stickHighlight:u,dirIndicators:l,x:e,y:n}}createShootingJoystick(e,n){const b=this.scene.add.graphics();b.setScrollFactor(0),b.setDepth(998),b.fillStyle(16729156,.05),b.fillCircle(e,n,56),b.lineStyle(1,16729156,.2),b.strokeCircle(e,n,56);const s=this.scene.add.circle(e,n,50,657930,.25);s.setScrollFactor(0),s.setDepth(999);const y=this.scene.add.circle(e,n,50,0,0);y.setStrokeStyle(1.5,16729156,.3),y.setScrollFactor(0),y.setDepth(999);const r=this.scene.add.circle(e,n,44,16729156,.03);r.setScrollFactor(0),r.setDepth(999);const o=this.scene.add.graphics();o.lineStyle(.5,16729156,.2),o.setScrollFactor(0),o.setDepth(999),o.lineBetween(e-6,n,e+6,n),o.lineBetween(e,n-6,e,n+6),o.strokeCircle(e,n,2);const v=this.scene.add.circle(e+1,n+1,20,0,.2);v.setScrollFactor(0),v.setDepth(1e3);const c=this.scene.add.circle(e,n,20,16729156,.75);c.setScrollFactor(0),c.setDepth(1001);const u=this.scene.add.circle(e-5,n-5,7,16777215,.2);u.setScrollFactor(0),u.setDepth(1002);const l=this.scene.add.text(e,n,"",{fontSize:"14px"}).setOrigin(.5).setScrollFactor(0).setDepth(1003);let a=null,d=!1;const p=(h,g)=>Phaser.Math.Distance.Between(h,g,e,n)<70;this.scene.input.on("pointerdown",h=>{!d&&p(h.x,h.y)&&(a=h,d=!0,c.setFillStyle(16711680,1),c.setScale(1.1),this.input.shooting=!0)}),this.scene.input.on("pointermove",h=>{if(!d||h.id!==a?.id)return;const g=Phaser.Math.Angle.Between(e,n,h.x,h.y),m=Math.min(Phaser.Math.Distance.Between(h.x,h.y,e,n),25);c.x=e+Math.cos(g)*m,c.y=n+Math.sin(g)*m,v.x=c.x+1,v.y=c.y+1,u.x=c.x-5,u.y=c.y-5,l.x=c.x,l.y=c.y,l.rotation=g,this.input.shootAngle=g,this.input.aimX=Math.cos(g),this.input.aimY=Math.sin(g);const x=m/25;this.input.shooting=x>.15}),this.scene.input.on("pointerup",h=>{h.id===a?.id&&(d=!1,a=null,c.x=e,c.y=n,v.x=e+1,v.y=n+1,u.x=e-5,u.y=n-5,l.x=e,l.y=n,l.rotation=0,c.setFillStyle(16729156,.75),c.setScale(1),this.input.shooting=!1)}),this.rightJoystick={glassContainer:b,innerGlass:s,border:y,innerGlow:r,crosshair:o,stick:c,stickShadow:v,stickHighlight:u,gunIcon:l,x:e,y:n}}getInput(){return this.input}destroy(){this.leftJoystick&&Object.values(this.leftJoystick).forEach(e=>{e&&e.destroy&&e.destroy()}),this.rightJoystick&&Object.values(this.rightJoystick).forEach(e=>{e&&e.destroy&&e.destroy()}),this.jetpackButton&&Object.values(this.jetpackButton).forEach(e=>{e&&e.destroy&&e.destroy()})}}class HWe extends Phaser.Scene{constructor(){super("GameScene")}init(e){this.roomCode=e.roomCode,this.isHost=e.isHost,this.currentUser=Xo.getCurrentUser(),this.gameStartTime=Date.now()}create(){const e=this.scale.width,n=this.scale.height,i=this.add.graphics();i.fillStyle(62975,.05),i.fillRoundedRect(10,10,110,28,6),i.lineStyle(1,62975,.25),i.strokeRoundedRect(10,10,110,28,6),i.setScrollFactor(0).setDepth(999),this.add.text(16,14,"ROOM",{fontSize:"8px",fill:"#00F5FF",fontStyle:"bold",alpha:.5}).setScrollFactor(0).setDepth(1e3),this.add.text(16,22,this.roomCode,{fontSize:"12px",fill:"#00F5FF",fontStyle:"bold",letterSpacing:.5}).setScrollFactor(0).setDepth(1e3);const f=60;this.add.text(e/2,f,"DEGEN MILITIA",{fontSize:"20px",fill:"#9D4EDD",fontStyle:"bold",stroke:"#240046",strokeThickness:3}).setOrigin(.5).setScrollFactor(0).setDepth(999),this.jetpackFuel=100,this.health=100,this.kills=0,this.lastShot=0,this.createPlatforms(e,n),this.createPlayer(e,n),this.bullets=this.physics.add.group({maxSize:50});const b=/Android|webOS|iPhone|iPad|iPod/i.test(navigator.userAgent);b&&(this.controls=new VWe(this)),this.cursors=this.input.keyboard.createCursorKeys(),this.wasd={up:this.input.keyboard.addKey("W"),left:this.input.keyboard.addKey("A"),right:this.input.keyboard.addKey("D"),space:this.input.keyboard.addKey("SPACE")},b||this.input.on("pointerdown",s=>{if(s.leftButtonDown()){const y=Phaser.Math.Angle.Between(this.player.x,this.player.y,s.x+this.cameras.main.scrollX,s.y+this.cameras.main.scrollY);this.shootBullet(y)}}),this.createHUD(e,n,f)}createPlatforms(e,n){this.platforms=this.physics.add.staticGroup();const i=this.add.rectangle(e/2,n-40,e,80,6710886);this.physics.add.existing(i,!0),this.platforms.add(i),[{x:e*.2,y:n*.65,w:200},{x:e*.5,y:n*.5,w:220},{x:e*.8,y:n*.65,w:200}].forEach(b=>{const s=this.add.rectangle(b.x,b.y,b.w,20,8947848);this.physics.add.existing(s,!0),this.platforms.add(s)})}createPlayer(e,n){this.player=this.add.rectangle(e/2,n/2,30,50,10309341),this.physics.add.existing(this.player),this.player.body.setCollideWorldBounds(!0),this.player.body.setBounce(.1),this.physics.add.collider(this.player,this.platforms)}createHUD(e,n,i){const f=this.add.graphics();f.fillStyle(65280,.05),f.fillRoundedRect(10,45,85,40,6),f.lineStyle(1,65280,.2),f.strokeRoundedRect(10,45,85,40,6),f.setScrollFactor(0).setDepth(999),this.statusText=this.add.text(16,50,"",{fontSize:"11px",fill:"#00FF00",fontStyle:"bold",lineSpacing:3}).setScrollFactor(0).setDepth(1e3);const b=80,s=i+30,y=this.add.graphics();y.fillStyle(16766720,.05),y.fillRoundedRect(e-95-b,s-7,85,26,6),y.lineStyle(1,16766720,.25),y.strokeRoundedRect(e-95-b,s-7,85,26,6),y.setScrollFactor(0).setDepth(999),this.killsText=this.add.text(e-88-b,s,"Kills: 0",{fontSize:"12px",fill:"#FFD700",fontStyle:"bold"}).setScrollFactor(0).setDepth(1e3),this.statusBg=f,this.killsBg=y}update(){if(!this.player)return;let e=0,n=!1,i=!1,f=0;if(this.controls){const s=this.controls.getInput();e=s.moveX,n=s.jetpack,i=s.shooting,f=s.shootAngle}else(this.cursors.left.isDown||this.wasd.left.isDown)&&(e=-1),(this.cursors.right.isDown||this.wasd.right.isDown)&&(e=1),n=this.cursors.up.isDown||this.wasd.space.isDown||this.wasd.up.isDown;if(this.player.body.setVelocityX(e*300),n&&this.jetpackFuel>0){if(this.player.body.setVelocityY(-400),this.jetpackFuel-=1.5,Math.random()>.6){const s=this.add.circle(this.player.x+Phaser.Math.Between(-10,10),this.player.y+25,4,16737792);this.tweens.add({targets:s,y:s.y+30,alpha:0,duration:400,onComplete:()=>s.destroy()})}}else!n&&this.jetpackFuel<100&&(this.jetpackFuel+=.8);i&&this.shootBullet(f),this.bullets.children.entries.forEach(s=>{(s.x<-100||s.x>this.scale.width+100||s.y<-100||s.y>this.scale.height+100)&&s.destroy()});const b=this.jetpackFuel>30?"#00FF00":"#FF4444";if(this.statusText.setText([`HP:   ${Math.floor(this.health)}`,`Fuel: ${Math.floor(this.jetpackFuel)}`]),this.statusText.setColor(b),this.statusBg){const s=this.jetpackFuel>30?65280:16729156,y=this.jetpackFuel>30?65280:16729156;this.statusBg.clear(),this.statusBg.fillStyle(s,.05),this.statusBg.fillRoundedRect(10,45,85,40,6),this.statusBg.lineStyle(1,y,.2),this.statusBg.strokeRoundedRect(10,45,85,40,6)}}async recordKill(){this.kills++,this.killsText.setText(`Kills: ${this.kills}`),this.currentUser&&!this.currentUser.is_guest&&await DZ.recordKill(this.currentUser.id,1)}shootBullet(e){const n=Date.now();if(n-this.lastShot<200)return;this.lastShot=n;const i=this.add.circle(this.player.x,this.player.y,6,16776960);this.physics.add.existing(i),this.bullets.add(i);const f=900;i.body.setVelocity(Math.cos(e)*f,Math.sin(e)*f),this.time.delayedCall(2500,()=>{i&&i.active&&i.destroy()})}}function YWe(){const[t,e]=H.useState(!1),[n,i]=H.useState(!0);H.useEffect(()=>{const s=document.getElementById("loading");s&&(s.style.display="none"),(async()=>{await Xo.initPrivy()&&(e(!0),b()),i(!1)})()},[]);const f=async s=>{console.log(" User authenticated:",s);const y=s.wallet?.address||s.twitter?.username;s.twitter?.username||`${Math.floor(Math.random()*1e4)}`;try{const r=await Xo.loginWithWallet(y);s.twitter?.username&&await Xo.updateProfile({username:s.twitter.username}),console.log(" User saved to database:",r),e(!0),b()}catch(r){console.error(" Authentication error:",r)}},b=()=>{const s=document.getElementById("loading");s&&(s.style.display="none"),setTimeout(()=>{const y=document.getElementById("auth-container");y&&(y.style.display="none");const r={type:ky.AUTO,parent:"game-container",width:window.innerWidth,height:window.innerHeight,backgroundColor:"#10002B",physics:{default:"arcade",arcade:{gravity:{y:500},debug:!1}},scene:[UWe,zWe,WWe,GWe,HWe],scale:{mode:ky.Scale.RESIZE,autoCenter:ky.Scale.CENTER_BOTH},render:{pixelArt:!1,antialias:!0}};new ky.Game(r)},100)};return n?O.jsxs("div",{style:l8.container,children:[O.jsx("h1",{style:l8.title,children:" DEGEN MILITIA"}),O.jsx("p",{style:l8.subtitle,children:"Loading..."})]}):t?null:O.jsx($We,{onAuthenticated:f})}const l8={container:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",background:"linear-gradient(135deg, #10002B 0%, #240046 50%, #3C096C 100%)"},title:{fontSize:"56px",fontWeight:"bold",color:"#9D4EDD",textShadow:"0 0 20px rgba(157, 78, 221, 0.5)",marginBottom:"20px"},subtitle:{fontSize:"22px",color:"#00F5FF"}},XWe=document.getElementById("auth-container"),KWe=mQ.createRoot(XWe);KWe.render(O.jsx(YWe,{}));export{tl as $,eq as A,sq as B,us as C,kq as D,Zd as E,ute as F,O8 as G,gB as H,oc as I,Us as J,pc as K,Zg as L,nr as M,fs as N,$oe as O,GU as P,Kd as Q,D9 as R,Ql as S,lYe as T,sGe as U,SB as V,Fr as W,ql as X,Rp as Y,RU as Z,wn as _,Mk as a,P9 as a$,nl as a0,Ti as a1,RG as a2,n6e as a3,r6e as a4,jF as a5,TB as a6,rp as a7,er as a8,PU as a9,Vs as aA,Cx as aB,L6e as aC,Ui as aD,W4e as aE,m6e as aF,vs as aG,Go as aH,eh as aI,Cm as aJ,Ta as aK,V8e as aL,cT as aM,Sx as aN,Dg as aO,kS as aP,DO as aQ,SW as aR,Swe as aS,nu as aT,$d as aU,qu as aV,Ex as aW,Uo as aX,la as aY,Bo as aZ,vo as a_,fd as aa,Vl as ab,$k as ac,tr as ad,m_ as ae,Pp as af,mGe as ag,Qa as ah,em as ai,S9 as aj,as as ak,nre as al,YU as am,Yv as an,jf as ao,Af as ap,P8 as aq,qd as ar,Ko as as,NO as at,sme as au,qe as av,tu as aw,bxe as ax,Ege as ay,$C as az,hk as b,Dw as b0,yte as b1,Lw as b2,pv as b3,Fme as b4,yVe as b5,dO as b6,Bz as b7,Rg as b8,Ame as b9,kz as ba,$me as bb,wVe as bc,mVe as bd,j2 as be,CVe as bf,xVe as bg,rge as bh,co as bi,Ap as c,vq as d,uGe as e,Gd as f,_B as g,_a as h,ds as i,c9 as j,fN as k,jn as l,Dv as m,xt as n,ga as o,Sp as p,Lte as q,oi as r,qf as s,mt as t,J8 as u,no as v,ak as w,Ne as x,cUe as y,tm as z};
